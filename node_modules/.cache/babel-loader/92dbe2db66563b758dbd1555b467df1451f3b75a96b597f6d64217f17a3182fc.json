{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __reflectGet = Reflect.get;\nvar __knownSymbol = (name, symbol) => {\n  return (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\n};\nvar __pow = Math.pow;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n};\nvar __export = (target, all) => {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--) if (decorator = decorators[i]) result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\nvar __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar __await = function (promise, isYieldStar) {\n  this[0] = promise;\n  this[1] = isYieldStar;\n};\nvar __yieldStar = value => {\n  var obj = value[__knownSymbol(\"asyncIterator\")];\n  var isAwait = false;\n  var method;\n  var it = {};\n  if (obj == null) {\n    obj = value[__knownSymbol(\"iterator\")]();\n    method = k => it[k] = x => obj[k](x);\n  } else {\n    obj = obj.call(value);\n    method = k => it[k] = v => {\n      if (isAwait) {\n        isAwait = false;\n        if (k === \"throw\") throw v;\n        return v;\n      }\n      isAwait = true;\n      return {\n        done: false,\n        value: new __await(new Promise(resolve => {\n          var x = obj[k](v);\n          if (!(x instanceof Object)) throw TypeError(\"Object expected\");\n          resolve(x);\n        }), 1)\n      };\n    };\n  }\n  return it[__knownSymbol(\"iterator\")] = () => it, method(\"next\"), \"throw\" in obj ? method(\"throw\") : it.throw = x => {\n    throw x;\n  }, \"return\" in obj && method(\"return\"), it;\n};\n\n// packages/ag-charts-community/src/options/chart/errorBarOptions.ts\nvar AgErrorBarSupportedSeriesTypes = [\"bar\", \"line\", \"scatter\"];\n\n// packages/ag-charts-community/src/options/chart/navigatorOptions.ts\nvar __MINI_CHART_SERIES_OPTIONS = {};\nvar __VERIFY_MINI_CHART_SERIES_OPTIONS = void 0;\n__VERIFY_MINI_CHART_SERIES_OPTIONS = __MINI_CHART_SERIES_OPTIONS;\n\n// packages/ag-charts-community/src/options/chart/tooltipOptions.ts\nvar AgTooltipPositionType = /* @__PURE__ */(AgTooltipPositionType2 => {\n  AgTooltipPositionType2[\"POINTER\"] = \"pointer\";\n  AgTooltipPositionType2[\"NODE\"] = \"node\";\n  AgTooltipPositionType2[\"TOP\"] = \"top\";\n  AgTooltipPositionType2[\"RIGHT\"] = \"right\";\n  AgTooltipPositionType2[\"BOTTOM\"] = \"bottom\";\n  AgTooltipPositionType2[\"LEFT\"] = \"left\";\n  AgTooltipPositionType2[\"TOP_LEFT\"] = \"top-left\";\n  AgTooltipPositionType2[\"TOP_RIGHT\"] = \"top-right\";\n  AgTooltipPositionType2[\"BOTTOM_RIGHT\"] = \"bottom-right\";\n  AgTooltipPositionType2[\"BOTTOM_LEFT\"] = \"bottom-left\";\n  return AgTooltipPositionType2;\n})(AgTooltipPositionType || {});\n\n// packages/ag-charts-community/src/options/chart/themeOptions.ts\nvar __THEME_OVERRIDES = {};\nvar __VERIFY_THEME_OVERRIDES = void 0;\n__VERIFY_THEME_OVERRIDES = __THEME_OVERRIDES;\n\n// packages/ag-charts-community/src/options/agChartOptions.ts\nvar __FORCE_MODULE_DETECTION = 0;\n\n// packages/ag-charts-community/src/util/time/index.ts\nvar time_exports = {};\n__export(time_exports, {\n  day: () => day,\n  friday: () => friday,\n  hour: () => hour,\n  millisecond: () => millisecond,\n  minute: () => minute,\n  monday: () => monday,\n  month: () => month,\n  saturday: () => saturday,\n  second: () => second,\n  sunday: () => sunday,\n  thursday: () => thursday,\n  tuesday: () => tuesday,\n  utcDay: () => utcDay,\n  utcHour: () => utcHour,\n  utcMinute: () => utcMinute,\n  utcMonth: () => utcMonth,\n  utcYear: () => utcYear,\n  wednesday: () => wednesday,\n  year: () => year\n});\n\n// packages/ag-charts-community/src/util/function.ts\nvar doOnceState = /* @__PURE__ */new Map();\nfunction doOnce(func, key) {\n  if (doOnceState.has(key)) return;\n  doOnceState.set(key, true);\n  func();\n}\ndoOnce.clear = () => doOnceState.clear();\nfunction identity(x) {\n  return x;\n}\nfunction* iterate(...iterators) {\n  for (const iterator of iterators) {\n    yield* __yieldStar(iterator);\n  }\n}\nfunction* iterateReverseArray(array) {\n  for (let j = array.length - 1; j >= 0; j--) {\n    yield array[j];\n  }\n}\nfunction throttle(callback, waitMs = 0, options) {\n  const {\n    leading = true,\n    trailing = true\n  } = options != null ? options : {};\n  let timerId;\n  let lastArgs;\n  let shouldWait = false;\n  function timeoutHandler() {\n    if (trailing && lastArgs) {\n      timerId = setTimeout(timeoutHandler, waitMs);\n      callback(...lastArgs);\n    } else {\n      shouldWait = false;\n    }\n    lastArgs = null;\n  }\n  function throttleCallback(...args) {\n    if (shouldWait) {\n      lastArgs = args;\n    } else {\n      shouldWait = true;\n      timerId = setTimeout(timeoutHandler, waitMs);\n      if (leading) {\n        callback(...args);\n      } else {\n        lastArgs = args;\n      }\n    }\n  }\n  return Object.assign(throttleCallback, {\n    cancel() {\n      clearTimeout(timerId);\n      shouldWait = false;\n      lastArgs = null;\n    }\n  });\n}\nfunction joinFunctions(...fns) {\n  return () => {\n    for (const fn of fns) {\n      fn();\n    }\n  };\n}\n\n// packages/ag-charts-community/src/util/logger.ts\nvar Logger = {\n  log(...logContent) {\n    console.log(...logContent);\n  },\n  warn(message, ...logContent) {\n    console.warn(`AG Charts - ${message}`, ...logContent);\n  },\n  error(message, ...logContent) {\n    if (typeof message === \"object\") {\n      console.error(`AG Charts error`, message, ...logContent);\n    } else {\n      console.error(`AG Charts - ${message}`, ...logContent);\n    }\n  },\n  table(...logContent) {\n    console.table(...logContent);\n  },\n  warnOnce(message, ...logContent) {\n    doOnce(() => Logger.warn(message, ...logContent), `Logger.warn: ${message}`);\n  },\n  errorOnce(message, ...logContent) {\n    doOnce(() => Logger.error(message, ...logContent), `Logger.error: ${message}`);\n  }\n};\n\n// packages/ag-charts-community/src/util/time/interval.ts\nvar TimeInterval = class {\n  constructor(_encode, _decode, _rangeCallback) {\n    this._encode = _encode;\n    this._decode = _decode;\n    this._rangeCallback = _rangeCallback;\n  }\n  /**\n   * Returns a new date representing the latest interval boundary date before or equal to date.\n   * For example, `day.floor(date)` typically returns 12:00 AM local time on the given date.\n   * @param date\n   */\n  floor(date) {\n    const d = new Date(date);\n    const e = this._encode(d);\n    return this._decode(e);\n  }\n  /**\n   * Returns a new date representing the earliest interval boundary date after or equal to date.\n   * @param date\n   */\n  ceil(date) {\n    const d = new Date(Number(date) - 1);\n    const e = this._encode(d);\n    return this._decode(e + 1);\n  }\n  /**\n   * Returns an array of dates representing every interval boundary after or equal to start (inclusive) and before stop (exclusive).\n   * @param start Range start.\n   * @param stop Range end.\n   * @param extend If specified, the requested range will be extended to the closest \"nice\" values.\n   */\n  range(start, stop, extend) {\n    var _a;\n    const rangeCallback = (_a = this._rangeCallback) == null ? void 0 : _a.call(this, start, stop);\n    const e0 = this._encode(extend ? this.floor(start) : this.ceil(start));\n    const e1 = this._encode(extend ? this.ceil(stop) : this.floor(stop));\n    if (e1 < e0) {\n      return [];\n    }\n    const range3 = [];\n    for (let e = e0; e <= e1; e++) {\n      const d = this._decode(e);\n      range3.push(d);\n    }\n    rangeCallback == null ? void 0 : rangeCallback();\n    return range3;\n  }\n};\nvar CountableTimeInterval = class extends TimeInterval {\n  getOffset(snapTo, step) {\n    const s = typeof snapTo === \"number\" || snapTo instanceof Date ? this._encode(new Date(snapTo)) : 0;\n    return Math.floor(s) % step;\n  }\n  /**\n   * Returns a filtered view of this interval representing every step'th date.\n   * It can be a number of minutes, hours, days etc.\n   * Must be a positive integer.\n   * @param step\n   */\n  every(step, options) {\n    let offset4 = 0;\n    let rangeCallback;\n    const unsafeStep = step;\n    step = Math.max(1, Math.round(step));\n    if (unsafeStep !== step) {\n      Logger.warnOnce(`interval step of [${unsafeStep}] rounded to [${step}].`);\n    }\n    const {\n      snapTo = \"start\"\n    } = options != null ? options : {};\n    if (typeof snapTo === \"string\") {\n      const initialOffset = offset4;\n      rangeCallback = (start, stop) => {\n        const s = snapTo === \"start\" ? start : stop;\n        offset4 = this.getOffset(s, step);\n        return () => offset4 = initialOffset;\n      };\n    } else if (typeof snapTo === \"number\") {\n      offset4 = this.getOffset(new Date(snapTo), step);\n    } else if (snapTo instanceof Date) {\n      offset4 = this.getOffset(snapTo, step);\n    }\n    const encode13 = date => {\n      const e = this._encode(date);\n      return Math.floor((e - offset4) / step);\n    };\n    const decode13 = encoded => {\n      return this._decode(encoded * step + offset4);\n    };\n    return new TimeInterval(encode13, decode13, rangeCallback);\n  }\n};\n\n// packages/ag-charts-community/src/util/time/millisecond.ts\nfunction encode(date) {\n  return date.getTime();\n}\nfunction decode(encoded) {\n  return new Date(encoded);\n}\nvar millisecond = new CountableTimeInterval(encode, decode);\nvar millisecond_default = millisecond;\n\n// packages/ag-charts-community/src/util/time/duration.ts\nvar epochYear = ( /* @__PURE__ */new Date(0)).getFullYear();\nvar durationSecond = 1e3;\nvar durationMinute = durationSecond * 60;\nvar durationHour = durationMinute * 60;\nvar durationDay = durationHour * 24;\nvar durationWeek = durationDay * 7;\nvar durationMonth = durationDay * 30;\nvar durationYear = durationDay * 365;\n\n// packages/ag-charts-community/src/util/time/second.ts\nvar offset = ( /* @__PURE__ */new Date()).getTimezoneOffset() * durationMinute;\nfunction encode2(date) {\n  return Math.floor((date.getTime() - offset) / durationSecond);\n}\nfunction decode2(encoded) {\n  return new Date(offset + encoded * durationSecond);\n}\nvar second = new CountableTimeInterval(encode2, decode2);\nvar second_default = second;\n\n// packages/ag-charts-community/src/util/time/minute.ts\nvar offset2 = ( /* @__PURE__ */new Date()).getTimezoneOffset() * durationMinute;\nfunction encode3(date) {\n  return Math.floor((date.getTime() - offset2) / durationMinute);\n}\nfunction decode3(encoded) {\n  return new Date(offset2 + encoded * durationMinute);\n}\nvar minute = new CountableTimeInterval(encode3, decode3);\nvar minute_default = minute;\n\n// packages/ag-charts-community/src/util/time/hour.ts\nvar offset3 = ( /* @__PURE__ */new Date()).getTimezoneOffset() * durationMinute;\nfunction encode4(date) {\n  return Math.floor((date.getTime() - offset3) / durationHour);\n}\nfunction decode4(encoded) {\n  return new Date(offset3 + encoded * durationHour);\n}\nvar hour = new CountableTimeInterval(encode4, decode4);\nvar hour_default = hour;\n\n// packages/ag-charts-community/src/util/time/day.ts\nfunction encode5(date) {\n  const tzOffsetMs = date.getTimezoneOffset() * durationMinute;\n  return Math.floor((date.getTime() - tzOffsetMs) / durationDay);\n}\nfunction decode5(encoded) {\n  const d = new Date(1970, 0, 1);\n  d.setDate(d.getDate() + encoded);\n  return d;\n}\nvar day = new CountableTimeInterval(encode5, decode5);\nvar day_default = day;\n\n// packages/ag-charts-community/src/util/time/week.ts\nfunction weekday(weekStart) {\n  const thursday2 = 4;\n  const dayShift = (7 + weekStart - thursday2) % 7;\n  function encode13(date) {\n    const tzOffsetMs = date.getTimezoneOffset() * durationMinute;\n    return Math.floor((date.getTime() - tzOffsetMs) / durationWeek - dayShift / 7);\n  }\n  function decode13(encoded) {\n    const d = new Date(1970, 0, 1);\n    d.setDate(d.getDate() + encoded * 7 + dayShift);\n    return d;\n  }\n  return new CountableTimeInterval(encode13, decode13);\n}\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar week_default = sunday;\n\n// packages/ag-charts-community/src/util/time/month.ts\nfunction encode6(date) {\n  return date.getFullYear() * 12 + date.getMonth();\n}\nfunction decode6(encoded) {\n  const year2 = Math.floor(encoded / 12);\n  const month2 = encoded - year2 * 12;\n  return new Date(year2, month2, 1);\n}\nvar month = new CountableTimeInterval(encode6, decode6);\nvar month_default = month;\n\n// packages/ag-charts-community/src/util/time/year.ts\nfunction encode7(date) {\n  return date.getFullYear();\n}\nfunction decode7(encoded) {\n  const d = /* @__PURE__ */new Date();\n  d.setFullYear(encoded);\n  d.setMonth(0, 1);\n  d.setHours(0, 0, 0, 0);\n  return d;\n}\nvar year = new CountableTimeInterval(encode7, decode7);\nvar year_default = year;\n\n// packages/ag-charts-community/src/util/time/utcMinute.ts\nfunction encode8(date) {\n  return Math.floor(date.getTime() / durationMinute);\n}\nfunction decode8(encoded) {\n  return new Date(encoded * durationMinute);\n}\nvar utcMinute = new CountableTimeInterval(encode8, decode8);\n\n// packages/ag-charts-community/src/util/time/utcHour.ts\nfunction encode9(date) {\n  return Math.floor(date.getTime() / durationHour);\n}\nfunction decode9(encoded) {\n  return new Date(encoded * durationHour);\n}\nvar utcHour = new CountableTimeInterval(encode9, decode9);\n\n// packages/ag-charts-community/src/util/time/utcDay.ts\nfunction encode10(date) {\n  return Math.floor(date.getTime() / durationDay);\n}\nfunction decode10(encoded) {\n  const d = /* @__PURE__ */new Date(0);\n  d.setUTCDate(d.getUTCDate() + encoded);\n  d.setUTCHours(0, 0, 0, 0);\n  return d;\n}\nvar utcDay = new CountableTimeInterval(encode10, decode10);\n\n// packages/ag-charts-community/src/util/time/utcMonth.ts\nfunction encode11(date) {\n  return date.getUTCFullYear() * 12 + date.getUTCMonth();\n}\nfunction decode11(encoded) {\n  const year2 = Math.floor(encoded / 12);\n  const month2 = encoded - year2 * 12;\n  return new Date(Date.UTC(year2, month2, 1));\n}\nvar utcMonth = new CountableTimeInterval(encode11, decode11);\n\n// packages/ag-charts-community/src/util/time/utcYear.ts\nfunction encode12(date) {\n  return date.getUTCFullYear();\n}\nfunction decode12(encoded) {\n  const d = /* @__PURE__ */new Date();\n  d.setUTCFullYear(encoded);\n  d.setUTCMonth(0, 1);\n  d.setUTCHours(0, 0, 0, 0);\n  return d;\n}\nvar utcYear = new CountableTimeInterval(encode12, decode12);\n\n// packages/ag-charts-community/src/module/enterpriseModule.ts\nvar enterpriseModule = {\n  isEnterprise: false\n};\n\n// packages/ag-charts-community/src/module/module.ts\nvar BaseModuleInstance = class {\n  constructor() {\n    this.destroyFns = [];\n  }\n  destroy() {\n    for (const destroyFn of this.destroyFns) {\n      destroyFn();\n    }\n  }\n};\nvar ModuleRegistry = class {\n  constructor() {\n    this.modules = [];\n    this.dependencies = /* @__PURE__ */new Set();\n    this.dependents = /* @__PURE__ */new Set();\n  }\n  register(...modules) {\n    for (const module of modules) {\n      this.registerDependencies(module);\n      const otherModule = this.modules.find(other => module.type === other.type && module.optionsKey === other.optionsKey && module.identifier === other.identifier);\n      if (otherModule) {\n        if (module.packageType === \"enterprise\" && otherModule.packageType === \"community\") {\n          const index = this.modules.indexOf(otherModule);\n          this.modules.splice(index, 1, module);\n        }\n      } else {\n        this.modules.push(module);\n      }\n    }\n  }\n  hasEnterpriseModules() {\n    return this.modules.some(m => m.packageType === \"enterprise\");\n  }\n  *byType(...types) {\n    for (const module of this.modules) {\n      if (types.includes(module.type) && this.dependencies.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && !this.dependencies.has(module.optionsKey) && !this.dependents.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && this.dependents.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n  }\n  registerDependencies(module) {\n    if (module.dependencies == null || module.dependencies.length === 0) return;\n    if (this.dependencies.has(module.optionsKey)) {\n      throw new Error(`Module [${module.optionsKey}] can not both be depended upon by any module and have dependencies of [${module.dependencies}].`);\n    }\n    for (const dep of module.dependencies) {\n      if (this.dependents.has(dep)) {\n        throw new Error(`Module [${dep}] can not both be depended upon by any module and have dependencies of [${module.optionsKey}].`);\n      }\n      this.dependencies.add(dep);\n    }\n    this.dependents.add(module.optionsKey);\n  }\n};\nvar moduleRegistry = new ModuleRegistry();\n\n// packages/ag-charts-community/src/chart/factory/axisRegistry.ts\nvar AxisRegistry = class {\n  constructor() {\n    this.axesMap = /* @__PURE__ */new Map();\n    this.hidden = /* @__PURE__ */new Set();\n    this.themeTemplates = /* @__PURE__ */new Map();\n  }\n  register(axisType, module) {\n    this.axesMap.set(axisType, module.instanceConstructor);\n    if (module.themeTemplate) {\n      this.setThemeTemplate(axisType, module.themeTemplate);\n    }\n    if (module.hidden) {\n      this.hidden.add(axisType);\n    }\n  }\n  create(axisType, moduleContext) {\n    const AxisConstructor = this.axesMap.get(axisType);\n    if (AxisConstructor) {\n      return new AxisConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown axis type: ${axisType}`);\n  }\n  has(axisType) {\n    return this.axesMap.has(axisType);\n  }\n  keys() {\n    return this.axesMap.keys();\n  }\n  publicKeys() {\n    return [...this.keys()].filter(k => !this.hidden.has(k));\n  }\n  setThemeTemplate(axisType, themeTemplate) {\n    this.themeTemplates.set(axisType, themeTemplate);\n    return this;\n  }\n  getThemeTemplate(axisType) {\n    return this.themeTemplates.get(axisType);\n  }\n};\nvar axisRegistry = new AxisRegistry();\n\n// packages/ag-charts-community/src/util/decorator.ts\nvar BREAK_TRANSFORM_CHAIN = Symbol(\"BREAK\");\nvar CONFIG_KEY = \"__decorator_config\";\nfunction initialiseConfig(target, propertyKeyOrSymbol) {\n  if (Object.getOwnPropertyDescriptor(target, CONFIG_KEY) == null) {\n    Object.defineProperty(target, CONFIG_KEY, {\n      value: {}\n    });\n  }\n  const config = target[CONFIG_KEY];\n  const propertyKey = propertyKeyOrSymbol.toString();\n  if (typeof config[propertyKey] !== \"undefined\") {\n    return config[propertyKey];\n  }\n  const valuesMap = /* @__PURE__ */new WeakMap();\n  config[propertyKey] = {\n    setters: [],\n    getters: [],\n    observers: [],\n    valuesMap\n  };\n  const descriptor = Object.getOwnPropertyDescriptor(target, propertyKeyOrSymbol);\n  const prevSet = descriptor == null ? void 0 : descriptor.set;\n  const prevGet = descriptor == null ? void 0 : descriptor.get;\n  const getter = function () {\n    let value = prevGet ? prevGet.call(this) : valuesMap.get(this);\n    for (const transformFn of config[propertyKey].getters) {\n      value = transformFn(this, propertyKeyOrSymbol, value);\n      if (value === BREAK_TRANSFORM_CHAIN) {\n        return;\n      }\n    }\n    return value;\n  };\n  const setter = function (value) {\n    const {\n      setters,\n      observers\n    } = config[propertyKey];\n    let oldValue;\n    if (setters.some(f => f.length > 2)) {\n      oldValue = prevGet ? prevGet.call(this) : valuesMap.get(this);\n    }\n    for (const transformFn of setters) {\n      value = transformFn(this, propertyKeyOrSymbol, value, oldValue);\n      if (value === BREAK_TRANSFORM_CHAIN) {\n        return;\n      }\n    }\n    if (prevSet) {\n      prevSet.call(this, value);\n    } else {\n      valuesMap.set(this, value);\n    }\n    for (const observerFn of observers) {\n      observerFn(this, value, oldValue);\n    }\n  };\n  Object.defineProperty(target, propertyKeyOrSymbol, {\n    set: setter,\n    get: getter,\n    enumerable: true,\n    configurable: false\n  });\n  return config[propertyKey];\n}\nfunction addTransformToInstanceProperty(setTransform, getTransform, configMetadata) {\n  return (target, propertyKeyOrSymbol) => {\n    const config = initialiseConfig(target, propertyKeyOrSymbol);\n    config.setters.push(setTransform);\n    if (getTransform) {\n      config.getters.unshift(getTransform);\n    }\n    if (configMetadata) {\n      Object.assign(config, configMetadata);\n    }\n  };\n}\nfunction addObserverToInstanceProperty(setObserver) {\n  return (target, propertyKeyOrSymbol) => {\n    initialiseConfig(target, propertyKeyOrSymbol).observers.push(setObserver);\n  };\n}\nfunction isDecoratedObject(target) {\n  return typeof target !== \"undefined\" && CONFIG_KEY in target;\n}\nfunction listDecoratedProperties(target) {\n  const targets = /* @__PURE__ */new Set();\n  while (isDecoratedObject(target)) {\n    targets.add(target == null ? void 0 : target[CONFIG_KEY]);\n    target = Object.getPrototypeOf(target);\n  }\n  return Array.from(targets).flatMap(configMap => Object.keys(configMap));\n}\nfunction extractDecoratedProperties(target) {\n  return listDecoratedProperties(target).reduce((result, key) => {\n    var _a;\n    result[key] = (_a = target[key]) != null ? _a : null;\n    return result;\n  }, {});\n}\nfunction extractDecoratedPropertyMetadata(target, propertyKeyOrSymbol) {\n  const propertyKey = propertyKeyOrSymbol.toString();\n  while (isDecoratedObject(target)) {\n    const config = target[CONFIG_KEY];\n    if (Object.hasOwn(config, propertyKey)) {\n      return config[propertyKey];\n    }\n    target = Object.getPrototypeOf(target);\n  }\n}\n\n// packages/ag-charts-community/src/util/type-guards.ts\nfunction isDefined(val) {\n  return val != null;\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\nfunction isDate(value) {\n  return value instanceof Date;\n}\nfunction isValidDate(value) {\n  return isDate(value) && !isNaN(Number(value));\n}\nfunction isRegExp(value) {\n  return value instanceof RegExp;\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null && !isArray(value);\n}\nfunction isObjectLike(value) {\n  return isArray(value) || isPlainObject(value);\n}\nfunction isPlainObject(value) {\n  return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nfunction isString(value) {\n  return typeof value === \"string\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isFiniteNumber(value) {\n  return isNumber(value) && Number.isFinite(value);\n}\nfunction isHtmlElement(value) {\n  return typeof window !== \"undefined\" && value instanceof HTMLElement;\n}\nfunction isEnumKey(enumObject, enumKey) {\n  return isString(enumKey) && Object.keys(enumObject).includes(enumKey);\n}\nfunction isEnumValue(enumObject, enumValue) {\n  return Object.values(enumObject).includes(enumValue);\n}\nfunction isSymbol(value) {\n  return typeof value === \"symbol\";\n}\n\n// packages/ag-charts-community/src/util/object.ts\nfunction deepMerge(...sources) {\n  return mergeDefaults(...sources.reverse());\n}\nfunction mergeDefaults(...sources) {\n  var _a;\n  const target = {};\n  for (const source of sources) {\n    if (!isObject(source)) continue;\n    const keys = isDecoratedObject(source) ? listDecoratedProperties(source) : Object.keys(source);\n    for (const key of keys) {\n      if (isPlainObject(target[key]) && isPlainObject(source[key])) {\n        target[key] = mergeDefaults(target[key], source[key]);\n      } else {\n        (_a = target[key]) != null ? _a : target[key] = source[key];\n      }\n    }\n  }\n  return target;\n}\nfunction mergeArrayDefaults(dataArray, ...itemDefaults) {\n  if (itemDefaults && isArray(dataArray)) {\n    return dataArray.map(item => mergeDefaults(item, ...itemDefaults));\n  }\n  return dataArray;\n}\nfunction mapValues(object, mapper) {\n  return Object.entries(object).reduce((result, [key, value]) => {\n    result[key] = mapper(value, key, object);\n    return result;\n  }, {});\n}\nfunction without(object, keys) {\n  const clone = __spreadValues({}, object);\n  for (const key of keys) {\n    delete clone[key];\n  }\n  return clone;\n}\nfunction getPath(object, path) {\n  const pathArray = isArray(path) ? path : path.split(\".\");\n  return pathArray.reduce((value, pathKey) => value[pathKey], object);\n}\nfunction setPath(object, path, newValue) {\n  const pathArray = isArray(path) ? path.slice() : path.split(\".\");\n  const lastKey = pathArray.pop();\n  const lastObject = pathArray.reduce((value, pathKey) => value[pathKey], object);\n  lastObject[lastKey] = newValue;\n}\nfunction partialAssign(keysToCopy, target, source) {\n  if (source === void 0) {\n    return target;\n  }\n  for (const key of keysToCopy) {\n    const value = source[key];\n    if (value !== void 0) {\n      target[key] = value;\n    }\n  }\n  return target;\n}\n\n// packages/ag-charts-community/src/chart/factory/chartTypes.ts\nvar ChartTypes = class extends Map {\n  get(seriesType) {\n    var _a;\n    return (_a = super.get(seriesType)) != null ? _a : \"unknown\";\n  }\n  isCartesian(seriesType) {\n    return this.get(seriesType) === \"cartesian\";\n  }\n  isPolar(seriesType) {\n    return this.get(seriesType) === \"polar\";\n  }\n  isHierarchy(seriesType) {\n    return this.get(seriesType) === \"hierarchy\";\n  }\n  isTopology(seriesType) {\n    return this.get(seriesType) === \"topology\";\n  }\n  get seriesTypes() {\n    return Array.from(this.keys());\n  }\n  get cartesianTypes() {\n    return this.seriesTypes.filter(t => this.isCartesian(t));\n  }\n  get polarTypes() {\n    return this.seriesTypes.filter(t => this.isPolar(t));\n  }\n  get hierarchyTypes() {\n    return this.seriesTypes.filter(t => this.isHierarchy(t));\n  }\n  get topologyTypes() {\n    return this.seriesTypes.filter(t => this.isTopology(t));\n  }\n};\nvar ChartDefaults = class extends Map {\n  set(chartType2, defaults) {\n    return super.set(chartType2, mergeDefaults(defaults, this.get(chartType2)));\n  }\n};\nvar chartTypes = new ChartTypes();\nvar publicChartTypes = new ChartTypes();\nvar chartDefaults = new ChartDefaults();\n\n// packages/ag-charts-community/src/chart/factory/expectedEnterpriseModules.ts\nvar EXPECTED_ENTERPRISE_MODULES = [{\n  type: \"root\",\n  optionsKey: \"animation\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"]\n}, {\n  type: \"root\",\n  optionsKey: \"annotations\",\n  chartTypes: [\"cartesian\"]\n}, {\n  type: \"root\",\n  optionsKey: \"background\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  optionsInnerKey: \"image\"\n}, {\n  type: \"root\",\n  optionsKey: \"contextMenu\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"]\n}, {\n  type: \"root\",\n  optionsKey: \"dataSource\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"]\n}, {\n  type: \"root\",\n  optionsKey: \"sync\",\n  chartTypes: [\"cartesian\"]\n}, {\n  type: \"root\",\n  optionsKey: \"zoom\",\n  chartTypes: [\"cartesian\", \"topology\"]\n}, {\n  type: \"legend\",\n  optionsKey: \"gradientLegend\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  identifier: \"gradient\"\n}, {\n  type: \"root\",\n  optionsKey: \"navigator\",\n  chartTypes: [\"cartesian\"],\n  optionsInnerKey: \"miniChart\"\n}, {\n  type: \"axis\",\n  optionsKey: \"axes[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"angle-category\"\n}, {\n  type: \"axis\",\n  optionsKey: \"axes[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"angle-number\"\n}, {\n  type: \"axis\",\n  optionsKey: \"axes[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radius-category\"\n}, {\n  type: \"axis\",\n  optionsKey: \"axes[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radius-number\"\n}, {\n  type: \"axis\",\n  optionsKey: \"axes[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"ordinal-time\"\n}, {\n  type: \"axis-option\",\n  optionsKey: \"crosshair\",\n  chartTypes: [\"cartesian\"]\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"box-plot\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"candlestick\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"ohlc\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bullet\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"heatmap\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"range-area\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"range-bar\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"waterfall\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"nightingale\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radar-area\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radar-line\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radial-bar\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radial-column\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"hierarchy\"],\n  identifier: \"sunburst\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"hierarchy\"],\n  identifier: \"treemap\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"topology\"],\n  identifier: \"map-shape\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"topology\"],\n  identifier: \"map-line\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"topology\"],\n  identifier: \"map-marker\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"topology\"],\n  identifier: \"map-shape-background\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"topology\"],\n  identifier: \"map-line-background\"\n}, {\n  type: \"series-option\",\n  optionsKey: \"errorBar\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"error-bars\"\n}];\nfunction isEnterpriseSeriesType(type) {\n  return EXPECTED_ENTERPRISE_MODULES.some(s => s.type === \"series\" && s.identifier === type);\n}\nfunction getEnterpriseSeriesChartTypes(type) {\n  var _a;\n  return (_a = EXPECTED_ENTERPRISE_MODULES.find(s => s.type === \"series\" && s.identifier === type)) == null ? void 0 : _a.chartTypes;\n}\nfunction isEnterpriseCartesian(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find(v => v === \"cartesian\");\n  return type === \"cartesian\";\n}\nfunction isEnterprisePolar(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find(v => v === \"polar\");\n  return type === \"polar\";\n}\nfunction isEnterpriseHierarchy(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find(v => v === \"hierarchy\");\n  return type === \"hierarchy\";\n}\nfunction isEnterpriseTopology(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find(v => v === \"topology\");\n  return type === \"topology\";\n}\nfunction isEnterpriseModule(module) {\n  return module.packageType === \"enterprise\";\n}\nfunction verifyIfModuleExpected(module) {\n  var _a;\n  if (!isEnterpriseModule(module)) {\n    throw new Error(\"AG Charts - internal configuration error, only enterprise modules need verification.\");\n  }\n  const stub = EXPECTED_ENTERPRISE_MODULES.find(s => {\n    return s.type === module.type && s.optionsKey === module.optionsKey && s.identifier === module.identifier && module.chartTypes.every(t => s.chartTypes.includes(t));\n  });\n  if (stub) {\n    (_a = stub.useCount) != null ? _a : stub.useCount = 0;\n    stub.useCount++;\n  }\n  return stub != null;\n}\nfunction getUnusedExpectedModules() {\n  return EXPECTED_ENTERPRISE_MODULES.filter(({\n    useCount\n  }) => useCount == null || useCount === 0);\n}\n\n// packages/ag-charts-community/src/chart/mapping/types.ts\nfunction optionsType(input) {\n  var _a, _b, _c;\n  return (_c = (_b = (_a = input.series) == null ? void 0 : _a[0]) == null ? void 0 : _b.type) != null ? _c : \"line\";\n}\nfunction isAgCartesianChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return true;\n  }\n  if (specifiedType === \"cartesian\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isCartesian(specifiedType) || isEnterpriseCartesian(specifiedType);\n}\nfunction isAgPolarChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"polar\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isPolar(specifiedType) || isEnterprisePolar(specifiedType);\n}\nfunction isAgHierarchyChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"hierarchy\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isHierarchy(specifiedType) || isEnterpriseHierarchy(specifiedType);\n}\nfunction isAgTopologyChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"topology\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isTopology(specifiedType) || isEnterpriseTopology(specifiedType);\n}\nfunction isAgPolarChartOptionsWithSeriesBasedLegend(input) {\n  const specifiedType = optionsType(input);\n  return isAgPolarChartOptions(input) && specifiedType !== \"pie\" && specifiedType !== \"donut\";\n}\nfunction isSeriesOptionType(input) {\n  if (input == null) {\n    return false;\n  }\n  return chartTypes.has(input);\n}\nfunction isAxisOptionType(input) {\n  if (input == null) {\n    return false;\n  }\n  return axisRegistry.has(input);\n}\n\n// packages/ag-charts-community/src/chart/factory/processEnterpriseOptions.ts\nfunction removeUsedEnterpriseOptions(options) {\n  var _a, _b, _c, _d;\n  const usedOptions = [];\n  const optionsChartType = chartTypes.get(optionsType(options));\n  for (const {\n    type,\n    chartTypes: moduleChartTypes,\n    optionsKey,\n    optionsInnerKey,\n    identifier\n  } of EXPECTED_ENTERPRISE_MODULES) {\n    if (optionsChartType !== \"unknown\" && !moduleChartTypes.includes(optionsChartType)) continue;\n    if (type === \"root\" || type === \"legend\") {\n      const optionValue = options[optionsKey];\n      if (optionValue == null) continue;\n      if (!optionsInnerKey) {\n        usedOptions.push(optionsKey);\n        delete options[optionsKey];\n      } else if (optionValue[optionsInnerKey]) {\n        usedOptions.push(`${optionsKey}.${optionsInnerKey}`);\n        delete optionValue[optionsInnerKey];\n      }\n    } else if (type === \"axis\") {\n      if (!(\"axes\" in options) || !((_a = options.axes) == null ? void 0 : _a.some(axis => axis.type === identifier))) continue;\n      usedOptions.push(`axis[type=${identifier}]`);\n      options.axes = options.axes.filter(axis => axis.type !== identifier);\n    } else if (type === \"axis-option\") {\n      if (!(\"axes\" in options) || !((_b = options.axes) == null ? void 0 : _b.some(axis => axis[optionsKey]))) continue;\n      usedOptions.push(`axis.${optionsKey}`);\n      options.axes.forEach(axis => {\n        if (axis[optionsKey]) {\n          delete axis[optionsKey];\n        }\n      });\n    } else if (type === \"series\") {\n      if (!((_c = options.series) == null ? void 0 : _c.some(series => series.type === identifier))) continue;\n      usedOptions.push(`series[type=${identifier}]`);\n      options.series = options.series.filter(series => series.type !== identifier);\n    } else if (type === \"series-option\") {\n      if (!((_d = options.series) == null ? void 0 : _d.some(series => series[optionsKey]))) continue;\n      usedOptions.push(`series.${optionsKey}`);\n      options.series.forEach(series => {\n        if (series[optionsKey]) {\n          delete series[optionsKey];\n        }\n      });\n    }\n  }\n  if (usedOptions.length) {\n    let enterprisePackageName = \"ag-charts-enterprise\";\n    let enterpriseReferenceUrl = \"https://charts.ag-grid.com/javascript/installation/\";\n    if (options.mode === \"integrated\") {\n      enterprisePackageName = \"ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise\";\n      enterpriseReferenceUrl = \"https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/\";\n    }\n    Logger.warnOnce([`unable to use these enterprise features as '${enterprisePackageName}' has not been loaded:`, \"\", ...usedOptions, \"\", `See: ${enterpriseReferenceUrl}`].join(\"\\n\"));\n  }\n}\n\n// packages/ag-charts-community/src/util/properties.ts\nvar BaseProperties = class {\n  set(properties) {\n    const {\n      className = this.constructor.name\n    } = this.constructor;\n    if (typeof properties !== \"object\") {\n      Logger.warn(`unable to set ${className} - expecting a properties object`);\n      return this;\n    }\n    const keys = new Set(Object.keys(properties));\n    for (const propertyKey of listDecoratedProperties(this)) {\n      if (keys.has(propertyKey)) {\n        const value = properties[propertyKey];\n        const self = this;\n        if (isProperties(self[propertyKey])) {\n          self[propertyKey] = self[propertyKey] instanceof PropertiesArray ? self[propertyKey].reset(value) : self[propertyKey].set(value);\n        } else {\n          self[propertyKey] = value;\n        }\n        keys.delete(propertyKey);\n      }\n    }\n    for (const unknownKey of keys) {\n      Logger.warn(`unable to set [${unknownKey}] in ${className} - property is unknown`);\n    }\n    return this;\n  }\n  isValid() {\n    return listDecoratedProperties(this).every(propertyKey => {\n      const {\n        optional\n      } = extractDecoratedPropertyMetadata(this, propertyKey);\n      const valid = optional || typeof this[propertyKey] !== \"undefined\";\n      if (!valid) {\n        Logger.warnOnce(`[${propertyKey}] is required.`);\n      }\n      return valid;\n    });\n  }\n  toJson() {\n    return listDecoratedProperties(this).reduce((object, propertyKey) => {\n      const propertyValue = this[propertyKey];\n      object[propertyKey] = isProperties(propertyValue) ? propertyValue.toJson() : propertyValue;\n      return object;\n    }, {});\n  }\n};\nvar PropertiesArray = class _PropertiesArray extends Array {\n  constructor(itemFactory, ...properties) {\n    super(properties.length);\n    Object.defineProperty(this, \"itemFactory\", {\n      value: itemFactory,\n      enumerable: false,\n      configurable: false\n    });\n    this.set(properties);\n  }\n  set(properties) {\n    if (isArray(properties)) {\n      this.length = properties.length;\n      for (let i = 0; i < properties.length; i++) {\n        this[i] = new this.itemFactory().set(properties[i]);\n      }\n    }\n    return this;\n  }\n  reset(properties) {\n    return new _PropertiesArray(this.itemFactory, ...properties);\n  }\n  toJson() {\n    return this.map(value => {\n      var _a, _b;\n      return (_b = (_a = value == null ? void 0 : value.toJson) == null ? void 0 : _a.call(value)) != null ? _b : value;\n    });\n  }\n};\nfunction isProperties(value) {\n  return value instanceof BaseProperties || value instanceof PropertiesArray;\n}\n\n// packages/ag-charts-community/src/util/json.ts\nvar CLASS_INSTANCE_TYPE = \"class-instance\";\nfunction jsonDiff(source, target, skip) {\n  if (isArray(target)) {\n    if (!isArray(source) || source.length !== target.length || target.some((v, i) => jsonDiff(source[i], v) != null)) {\n      return target;\n    }\n  } else if (isPlainObject(target)) {\n    if (!isPlainObject(source)) {\n      return target;\n    }\n    const result = {};\n    const allKeys = /* @__PURE__ */new Set([...Object.keys(source), ...Object.keys(target)]);\n    for (const key of allKeys) {\n      if (source[key] === target[key] || (skip == null ? void 0 : skip.includes(key))) {\n        continue;\n      }\n      if (typeof source[key] === typeof target[key]) {\n        const diff2 = jsonDiff(source[key], target[key]);\n        if (diff2 !== null) {\n          result[key] = diff2;\n        }\n      } else {\n        result[key] = target[key];\n      }\n    }\n    return Object.keys(result).length ? result : null;\n  } else if (source !== target) {\n    return target;\n  }\n  return null;\n}\nfunction deepClone(source, options) {\n  if (isArray(source)) {\n    return source.map(item => deepClone(item, options));\n  }\n  if (isPlainObject(source)) {\n    return mapValues(source, (value, key) => {\n      var _a;\n      return ((_a = options == null ? void 0 : options.shallow) == null ? void 0 : _a.includes(key)) ? shallowClone(value) : deepClone(value, options);\n    });\n  }\n  return shallowClone(source);\n}\nfunction shallowClone(source) {\n  if (isArray(source)) {\n    return [...source];\n  }\n  if (isPlainObject(source)) {\n    return __spreadValues({}, source);\n  }\n  if (isDate(source)) {\n    return new Date(source);\n  }\n  if (isRegExp(source)) {\n    return new RegExp(source.source, source.flags);\n  }\n  return source;\n}\nfunction jsonWalk(json, visit, opts, ...jsons) {\n  var _a;\n  if (isArray(json)) {\n    visit(json, ...jsons);\n    json.forEach((node, index) => {\n      jsonWalk(node, visit, opts, ...keyMapper(jsons, index));\n    });\n  } else if (isPlainObject(json)) {\n    visit(json, ...jsons);\n    for (const key of Object.keys(json)) {\n      if ((_a = opts == null ? void 0 : opts.skip) == null ? void 0 : _a.includes(key)) {\n        continue;\n      }\n      const value = json[key];\n      if (isArray(value) || isPlainObject(value)) {\n        jsonWalk(value, visit, opts, ...keyMapper(jsons, key));\n      }\n    }\n  }\n}\nfunction jsonApply(target, source, params = {}) {\n  const {\n    path,\n    constructedArrays,\n    matcherPath = path == null ? void 0 : path.replace(/(\\[[0-9+]+])/i, \"[]\"),\n    skip = []\n  } = params;\n  if (target == null) {\n    throw new Error(`AG Charts - target is uninitialised: ${path != null ? path : \"<root>\"}`);\n  }\n  if (source == null) {\n    return target;\n  }\n  if (isProperties(target)) {\n    return target.set(source);\n  }\n  const targetAny = target;\n  const targetType = classify(target);\n  for (const property in source) {\n    const propertyMatcherPath = `${matcherPath ? matcherPath + \".\" : \"\"}${property}`;\n    if (skip.includes(propertyMatcherPath)) continue;\n    const newValue = source[property];\n    const propertyPath = `${path ? path + \".\" : \"\"}${property}`;\n    const targetClass = targetAny.constructor;\n    const currentValue = targetAny[property];\n    let ctr;\n    try {\n      const currentValueType = classify(currentValue);\n      const newValueType = classify(newValue);\n      if (targetType === CLASS_INSTANCE_TYPE && !(property in target)) {\n        Logger.warn(`unable to set [${propertyPath}] in ${targetClass == null ? void 0 : targetClass.name} - property is unknown`);\n        continue;\n      }\n      if (currentValueType != null && newValueType != null && newValueType !== currentValueType && (currentValueType !== CLASS_INSTANCE_TYPE || newValueType !== \"object\")) {\n        Logger.warn(`unable to set [${propertyPath}] in ${targetClass == null ? void 0 : targetClass.name} - can't apply type of [${newValueType}], allowed types are: [${currentValueType}]`);\n        continue;\n      }\n      if (isProperties(currentValue)) {\n        targetAny[property].set(newValue);\n      } else if (newValueType === \"array\") {\n        ctr != null ? ctr : ctr = constructedArrays == null ? void 0 : constructedArrays.get(currentValue);\n        if (ctr == null) {\n          targetAny[property] = newValue;\n        } else {\n          const newValueArray = newValue;\n          targetAny[property] = newValueArray.map(v => jsonApply(new ctr(), v, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath + \"[]\"\n          })));\n        }\n      } else if (newValueType === CLASS_INSTANCE_TYPE) {\n        targetAny[property] = newValue;\n      } else if (newValueType === \"object\") {\n        if (currentValue != null) {\n          jsonApply(currentValue, newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        } else if (ctr == null) {\n          targetAny[property] = {};\n          jsonApply(targetAny[property], newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        } else {\n          targetAny[property] = jsonApply(new ctr(), newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        }\n      } else {\n        targetAny[property] = newValue;\n      }\n    } catch (error) {\n      Logger.warn(`unable to set [${propertyPath}] in [${targetClass == null ? void 0 : targetClass.name}]; nested error is: ${error.message}`);\n    }\n  }\n  return target;\n}\nfunction keyMapper(data, key) {\n  return data.map(dataObject => dataObject == null ? void 0 : dataObject[key]);\n}\nfunction classify(value) {\n  if (value == null) {\n    return null;\n  }\n  if (isHtmlElement(value) || isDate(value)) {\n    return \"primitive\";\n  }\n  if (isArray(value)) {\n    return \"array\";\n  }\n  if (isObject(value)) {\n    return isPlainObject(value) ? \"object\" : CLASS_INSTANCE_TYPE;\n  }\n  if (isFunction(value)) {\n    return \"function\";\n  }\n  return \"primitive\";\n}\n\n// packages/ag-charts-community/src/chart/factory/seriesRegistry.ts\nvar SeriesRegistry = class {\n  constructor() {\n    this.seriesMap = /* @__PURE__ */new Map();\n    this.themeTemplates = /* @__PURE__ */new Map();\n  }\n  register(seriesType, {\n    chartTypes: [chartType2],\n    instanceConstructor,\n    defaultAxes,\n    themeTemplate,\n    enterpriseThemeTemplate,\n    paletteFactory,\n    solo,\n    stackable,\n    groupable,\n    stackedByDefault,\n    swapDefaultAxesCondition,\n    hidden\n  }) {\n    this.setThemeTemplate(seriesType, themeTemplate, enterpriseThemeTemplate);\n    this.seriesMap.set(seriesType, {\n      instanceConstructor,\n      defaultAxes,\n      paletteFactory,\n      solo,\n      stackable,\n      groupable,\n      stackedByDefault,\n      swapDefaultAxesCondition\n    });\n    chartTypes.set(seriesType, chartType2);\n    if (!hidden) {\n      publicChartTypes.set(seriesType, chartType2);\n    }\n  }\n  create(seriesType, moduleContext) {\n    var _a;\n    const SeriesConstructor = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.instanceConstructor;\n    if (SeriesConstructor) {\n      return new SeriesConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown series type: ${seriesType}`);\n  }\n  cloneDefaultAxes(seriesType) {\n    var _a;\n    const defaultAxes = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.defaultAxes;\n    return defaultAxes ? {\n      axes: deepClone(defaultAxes)\n    } : null;\n  }\n  setThemeTemplate(seriesType, themeTemplate, enterpriseThemeTemplate = {}) {\n    const currentTemplate = this.themeTemplates.get(seriesType);\n    this.themeTemplates.set(seriesType, {\n      community: mergeDefaults(themeTemplate, currentTemplate == null ? void 0 : currentTemplate.community),\n      enterprise: mergeDefaults(enterpriseThemeTemplate, themeTemplate, currentTemplate == null ? void 0 : currentTemplate.community)\n    });\n  }\n  getThemeTemplate(seriesType) {\n    const themeTemplate = this.themeTemplates.get(seriesType);\n    return enterpriseModule.isEnterprise ? themeTemplate == null ? void 0 : themeTemplate.enterprise : themeTemplate == null ? void 0 : themeTemplate.community;\n  }\n  getPaletteFactory(seriesType) {\n    var _a;\n    return (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.paletteFactory;\n  }\n  isSolo(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.solo) != null ? _b : false;\n  }\n  isGroupable(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.groupable) != null ? _b : false;\n  }\n  isStackable(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.stackable) != null ? _b : false;\n  }\n  isStackedByDefault(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.stackedByDefault) != null ? _b : false;\n  }\n  isDefaultAxisSwapNeeded(options) {\n    var _a, _b, _c;\n    let result;\n    for (const series of (_a = options.series) != null ? _a : []) {\n      const {\n        type = \"line\"\n      } = series;\n      const isDefaultAxisSwapped = (_c = (_b = this.seriesMap.get(type)) == null ? void 0 : _b.swapDefaultAxesCondition) == null ? void 0 : _c.call(_b, series);\n      if (isDefaultAxisSwapped != null) {\n        if (result != null && result != isDefaultAxisSwapped) {\n          throw new Error(\"AG Charts - The provided series have incompatible directions\");\n        }\n        result = isDefaultAxisSwapped;\n      }\n    }\n    return result;\n  }\n};\nvar seriesRegistry = new SeriesRegistry();\n\n// packages/ag-charts-community/src/chart/factory/legendRegistry.ts\nvar LegendRegistry = class {\n  constructor() {\n    this.legendMap = /* @__PURE__ */new Map();\n    this.themeTemplates = /* @__PURE__ */new Map();\n  }\n  register(legendType, {\n    optionsKey,\n    instanceConstructor,\n    themeTemplate\n  }) {\n    this.legendMap.set(legendType, {\n      optionsKey,\n      instanceConstructor\n    });\n    this.themeTemplates.set(optionsKey, themeTemplate);\n  }\n  create(legendType, moduleContext) {\n    var _a;\n    const LegendConstructor = (_a = this.legendMap.get(legendType)) == null ? void 0 : _a.instanceConstructor;\n    if (LegendConstructor) {\n      return new LegendConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown legend type: ${legendType}`);\n  }\n  getThemeTemplates() {\n    return Object.fromEntries(this.themeTemplates);\n  }\n  getKeys() {\n    return Array.from(this.legendMap.entries()).reduce((result, [legendType, record]) => {\n      result[legendType] = record.optionsKey;\n      return result;\n    }, {});\n  }\n};\nvar legendRegistry = new LegendRegistry();\n\n// packages/ag-charts-community/src/chart/themes/constants.ts\nvar FONT_SIZE = /* @__PURE__ */(FONT_SIZE2 => {\n  FONT_SIZE2[FONT_SIZE2[\"SMALL\"] = 12] = \"SMALL\";\n  FONT_SIZE2[FONT_SIZE2[\"MEDIUM\"] = 13] = \"MEDIUM\";\n  FONT_SIZE2[FONT_SIZE2[\"LARGE\"] = 17] = \"LARGE\";\n  return FONT_SIZE2;\n})(FONT_SIZE || {});\nvar FONT_WEIGHT = /* @__PURE__ */(FONT_WEIGHT3 => {\n  FONT_WEIGHT3[\"NORMAL\"] = \"normal\";\n  FONT_WEIGHT3[\"BOLD\"] = \"bold\";\n  FONT_WEIGHT3[\"BOLDER\"] = \"bolder\";\n  FONT_WEIGHT3[\"LIGHTER\"] = \"lighter\";\n  return FONT_WEIGHT3;\n})(FONT_WEIGHT || {});\nvar POSITION = /* @__PURE__ */(POSITION3 => {\n  POSITION3[\"TOP\"] = \"top\";\n  POSITION3[\"RIGHT\"] = \"right\";\n  POSITION3[\"BOTTOM\"] = \"bottom\";\n  POSITION3[\"LEFT\"] = \"left\";\n  return POSITION3;\n})(POSITION || {});\nvar CARTESIAN_AXIS_TYPE = /* @__PURE__ */(CARTESIAN_AXIS_TYPE2 => {\n  CARTESIAN_AXIS_TYPE2[\"CATEGORY\"] = \"category\";\n  CARTESIAN_AXIS_TYPE2[\"ORDINAL_TIME\"] = \"ordinal-time\";\n  CARTESIAN_AXIS_TYPE2[\"NUMBER\"] = \"number\";\n  CARTESIAN_AXIS_TYPE2[\"TIME\"] = \"time\";\n  CARTESIAN_AXIS_TYPE2[\"LOG\"] = \"log\";\n  return CARTESIAN_AXIS_TYPE2;\n})(CARTESIAN_AXIS_TYPE || {});\nvar POLAR_AXIS_TYPE = /* @__PURE__ */(POLAR_AXIS_TYPE2 => {\n  POLAR_AXIS_TYPE2[\"ANGLE_CATEGORY\"] = \"angle-category\";\n  POLAR_AXIS_TYPE2[\"ANGLE_NUMBER\"] = \"angle-number\";\n  POLAR_AXIS_TYPE2[\"RADIUS_CATEGORY\"] = \"radius-category\";\n  POLAR_AXIS_TYPE2[\"RADIUS_NUMBER\"] = \"radius-number\";\n  return POLAR_AXIS_TYPE2;\n})(POLAR_AXIS_TYPE || {});\nvar POLAR_AXIS_SHAPE = /* @__PURE__ */(POLAR_AXIS_SHAPE2 => {\n  POLAR_AXIS_SHAPE2[\"CIRCLE\"] = \"circle\";\n  POLAR_AXIS_SHAPE2[\"POLYGON\"] = \"polygon\";\n  return POLAR_AXIS_SHAPE2;\n})(POLAR_AXIS_SHAPE || {});\n\n// packages/ag-charts-community/src/chart/themes/defaultColors.ts\nvar DEFAULT_FILLS = {\n  BLUE: \"#5090dc\",\n  ORANGE: \"#ffa03a\",\n  GREEN: \"#459d55\",\n  CYAN: \"#34bfe1\",\n  YELLOW: \"#e1cc00\",\n  VIOLET: \"#9669cb\",\n  GRAY: \"#b5b5b5\",\n  MAGENTA: \"#bd5aa7\",\n  BROWN: \"#8a6224\",\n  RED: \"#ef5452\"\n};\nvar DEFAULT_STROKES = {\n  BLUE: \"#2b5c95\",\n  ORANGE: \"#cc6f10\",\n  GREEN: \"#1e652e\",\n  CYAN: \"#18859e\",\n  YELLOW: \"#a69400\",\n  VIOLET: \"#603c88\",\n  GRAY: \"#575757\",\n  MAGENTA: \"#7d2f6d\",\n  BROWN: \"#4f3508\",\n  RED: \"#a82529\"\n};\n\n// packages/ag-charts-community/src/chart/themes/symbols.ts\nvar IS_DARK_THEME = Symbol(\"is-dark-theme\");\nvar EXTENDS_AXES_DEFAULTS = Symbol(\"extends-axes-defaults\");\nvar EXTENDS_AXES_LINE_DEFAULTS = Symbol(\"extends-axes-line-defaults\");\nvar EXTENDS_AXES_TICK_DEFAULTS = Symbol(\"extends-axes-tick-defaults\");\nvar EXTENDS_AXES_GRID_LINE_DEFAULTS = Symbol(\"extends-axes-grid-line-defaults\");\nvar EXTENDS_SERIES_DEFAULTS = Symbol(\"extends-series-defaults\");\nvar EXTENDS_CARTESIAN_MARKER_DEFAULTS = Symbol(\"extends-cartesian-marker-defaults\");\nvar DEFAULT_FONT_FAMILY = Symbol(\"default-font\");\nvar DEFAULT_LABEL_COLOUR = Symbol(\"default-label-colour\");\nvar DEFAULT_INVERTED_LABEL_COLOUR = Symbol(\"default-inverted-label-colour\");\nvar DEFAULT_INSIDE_SERIES_LABEL_COLOUR = Symbol(\"default-inside-series-label-colour\");\nvar DEFAULT_MUTED_LABEL_COLOUR = Symbol(\"default-muted-label-colour\");\nvar DEFAULT_AXIS_GRID_COLOUR = Symbol(\"default-axis-grid-colour\");\nvar DEFAULT_AXIS_LINE_COLOUR = Symbol(\"default-axis-line-colour\");\nvar DEFAULT_CROSS_LINES_COLOUR = Symbol(\"default-cross-lines-colour\");\nvar DEFAULT_BACKGROUND_COLOUR = Symbol(\"default-background-colour\");\nvar DEFAULT_SHADOW_COLOUR = Symbol(\"default-shadow-colour\");\nvar DEFAULT_COLOURS = Symbol(\"default-colours\");\nvar DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS = Symbol(\"default-waterfall-series-positive-colors\");\nvar DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS = Symbol(\"default-waterfall-series-negative-colors\");\nvar DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS = Symbol(\"default-waterfall-series-total-colors\");\nvar DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE = Symbol(\"default-waterfall-series-connector-line-stroke\");\nvar DEFAULT_POLAR_SERIES_STROKE = Symbol(\"default-polar-series-stroke\");\nvar DEFAULT_DIVERGING_SERIES_COLOUR_RANGE = Symbol(\"default-diverging-series-colour-range\");\nvar DEFAULT_HIERARCHY_FILLS = Symbol(\"default-hierarchy-fills\");\nvar DEFAULT_HIERARCHY_STROKES = Symbol(\"default-hierarchy-strokes\");\nvar DEFAULT_ANNOTATION_STROKE = Symbol(\"default-annotation-stroke\");\nvar DEFAULT_ANNOTATION_BACKGROUND_FILL = Symbol(\"default-annotation-background-fill\");\nvar DEFAULT_ANNOTATION_HANDLE_FILL = Symbol(\"default-annotation-handle-fill\");\n\n// packages/ag-charts-community/src/chart/themes/chartTheme.ts\nvar DEFAULT_BACKGROUND_FILL = \"white\";\nvar DEFAULT_PALETTE = {\n  fills: Object.values(DEFAULT_FILLS),\n  strokes: Object.values(DEFAULT_STROKES)\n};\nvar CHART_TYPE_CONFIG = {\n  get cartesian() {\n    return {\n      seriesTypes: chartTypes.cartesianTypes,\n      commonOptions: [\"zoom\", \"navigator\"]\n    };\n  },\n  get polar() {\n    return {\n      seriesTypes: chartTypes.polarTypes,\n      commonOptions: []\n    };\n  },\n  get hierarchy() {\n    return {\n      seriesTypes: chartTypes.hierarchyTypes,\n      commonOptions: []\n    };\n  },\n  get topology() {\n    return {\n      seriesTypes: chartTypes.topologyTypes,\n      commonOptions: []\n    };\n  }\n};\nvar CHART_TYPE_SPECIFIC_COMMON_OPTIONS = Object.values(CHART_TYPE_CONFIG).reduce((r, {\n  commonOptions\n}) => r.concat(commonOptions), []);\nvar _ChartTheme = class _ChartTheme {\n  getPalette() {\n    return DEFAULT_PALETTE;\n  }\n  static getAxisDefaults(overrideDefaults) {\n    return mergeDefaults(overrideDefaults, {\n      title: {\n        enabled: false,\n        text: \"Axis Title\",\n        spacing: 25,\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      },\n      label: {\n        fontSize: 12 /* SMALL */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        padding: 5,\n        color: DEFAULT_LABEL_COLOUR,\n        avoidCollisions: true\n      },\n      line: {\n        enabled: true,\n        width: 1,\n        color: DEFAULT_AXIS_LINE_COLOUR\n      },\n      tick: {\n        enabled: false,\n        width: 1,\n        color: DEFAULT_AXIS_LINE_COLOUR\n      },\n      gridLine: {\n        enabled: true,\n        style: [{\n          stroke: DEFAULT_AXIS_GRID_COLOUR,\n          lineDash: []\n        }]\n      },\n      crossLines: {\n        enabled: false,\n        fill: DEFAULT_CROSS_LINES_COLOUR,\n        stroke: DEFAULT_CROSS_LINES_COLOUR,\n        fillOpacity: 0.1,\n        strokeWidth: 1,\n        label: {\n          enabled: false,\n          fontSize: 12 /* SMALL */,\n          fontFamily: DEFAULT_FONT_FAMILY,\n          padding: 5,\n          color: DEFAULT_LABEL_COLOUR\n        }\n      }\n    });\n  }\n  static getSeriesDefaults() {\n    return {\n      visible: true,\n      showInLegend: true,\n      highlightStyle: {\n        item: {\n          fill: \"#ffffff54\",\n          stroke: `#0006`,\n          strokeWidth: 2\n        },\n        series: {\n          dimOpacity: 1\n        }\n      },\n      nodeClickRange: \"exact\",\n      tooltip: {\n        enabled: true\n      }\n    };\n  }\n  static getCartesianSeriesMarkerDefaults() {\n    return {\n      enabled: true,\n      shape: \"circle\",\n      size: 7,\n      strokeWidth: 1\n    };\n  }\n  static getChartDefaults() {\n    return {\n      background: {\n        visible: true,\n        fill: DEFAULT_BACKGROUND_COLOUR\n      },\n      padding: {\n        top: 20,\n        right: 20,\n        bottom: 20,\n        left: 20\n      },\n      keyboard: {\n        enabled: true\n      },\n      title: {\n        enabled: false,\n        text: \"Title\",\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 17 /* LARGE */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR,\n        wrapping: \"hyphenate\"\n      },\n      subtitle: {\n        enabled: false,\n        text: \"Subtitle\",\n        spacing: 20,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_MUTED_LABEL_COLOUR,\n        wrapping: \"hyphenate\"\n      },\n      footnote: {\n        enabled: false,\n        text: \"Footnote\",\n        spacing: 20,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: \"rgb(140, 140, 140)\",\n        wrapping: \"hyphenate\"\n      },\n      legend: {\n        position: \"bottom\" /* BOTTOM */,\n        spacing: 30,\n        listeners: {},\n        item: {\n          paddingX: 16,\n          paddingY: 8,\n          marker: {\n            size: 15,\n            padding: 8\n          },\n          toggleSeriesVisible: true,\n          label: {\n            color: DEFAULT_LABEL_COLOUR,\n            fontSize: 12 /* SMALL */,\n            fontFamily: DEFAULT_FONT_FAMILY\n          }\n        },\n        reverseOrder: false,\n        pagination: {\n          marker: {\n            size: 12\n          },\n          activeStyle: {\n            fill: DEFAULT_LABEL_COLOUR\n          },\n          inactiveStyle: {\n            fill: DEFAULT_MUTED_LABEL_COLOUR\n          },\n          highlightStyle: {\n            fill: DEFAULT_LABEL_COLOUR\n          },\n          label: {\n            color: DEFAULT_LABEL_COLOUR\n          }\n        }\n      },\n      tooltip: {\n        enabled: true,\n        darkTheme: IS_DARK_THEME,\n        range: \"nearest\",\n        delay: 0\n      },\n      overlays: {\n        loading: {\n          darkTheme: IS_DARK_THEME\n        },\n        noData: {\n          darkTheme: IS_DARK_THEME\n        },\n        noVisibleSeries: {\n          darkTheme: IS_DARK_THEME\n        }\n      },\n      listeners: {}\n    };\n  }\n  constructor(options = {}) {\n    const {\n      overrides,\n      palette: palette10\n    } = deepClone(options);\n    const defaults = this.createChartConfigPerChartType(this.getDefaults());\n    if (overrides) {\n      this.mergeOverrides(defaults, overrides);\n    }\n    this.config = Object.freeze(this.templateTheme(defaults));\n    this.palette = mergeDefaults(palette10, this.getPalette());\n  }\n  mergeOverrides(defaults, overrides) {\n    for (const {\n      seriesTypes,\n      commonOptions\n    } of Object.values(CHART_TYPE_CONFIG)) {\n      const cleanedCommon = __spreadValues({}, overrides.common);\n      for (const commonKey of CHART_TYPE_SPECIFIC_COMMON_OPTIONS) {\n        if (!commonOptions.includes(commonKey)) {\n          delete cleanedCommon[commonKey];\n        }\n      }\n      if (!cleanedCommon) continue;\n      for (const s of seriesTypes) {\n        const seriesType = s;\n        defaults[seriesType] = mergeDefaults(cleanedCommon, defaults[seriesType]);\n      }\n    }\n    chartTypes.seriesTypes.forEach(s => {\n      const seriesType = s;\n      if (overrides[seriesType]) {\n        defaults[seriesType] = mergeDefaults(overrides[seriesType], defaults[seriesType]);\n      }\n    });\n  }\n  createChartConfigPerChartType(config) {\n    for (const [nextType, {\n      seriesTypes\n    }] of Object.entries(CHART_TYPE_CONFIG)) {\n      const typeDefaults = chartDefaults.get(nextType);\n      for (const seriesType of seriesTypes) {\n        config[seriesType] || (config[seriesType] = deepClone(typeDefaults));\n      }\n    }\n    return config;\n  }\n  getDefaults() {\n    const getOverridesByType = (chartType2, seriesTypes) => {\n      var _a;\n      const result = {};\n      const chartTypeDefaults = __spreadValues(__spreadValues(__spreadValues({\n        axes: {}\n      }, legendRegistry.getThemeTemplates()), _ChartTheme.getChartDefaults()), chartDefaults.get(chartType2));\n      for (const seriesType of seriesTypes) {\n        result[seriesType] = mergeDefaults(seriesRegistry.getThemeTemplate(seriesType), (_a = result[seriesType]) != null ? _a : deepClone(chartTypeDefaults));\n        const {\n          axes\n        } = result[seriesType];\n        for (const axisType of axisRegistry.keys()) {\n          axes[axisType] = mergeDefaults(axes[axisType], axisRegistry.getThemeTemplate(axisType), chartType2 === \"cartesian\" && _ChartTheme.cartesianAxisDefault[axisType]);\n        }\n      }\n      return result;\n    };\n    return mergeDefaults(getOverridesByType(\"cartesian\", chartTypes.cartesianTypes), getOverridesByType(\"polar\", chartTypes.polarTypes), getOverridesByType(\"hierarchy\", chartTypes.hierarchyTypes), getOverridesByType(\"topology\", chartTypes.topologyTypes));\n  }\n  templateTheme(themeTemplate) {\n    const themeInstance = deepClone(themeTemplate);\n    const {\n      extensions,\n      properties\n    } = this.getTemplateParameters();\n    jsonWalk(themeInstance, node => {\n      if (node[\"__extends__\"]) {\n        const extendsValue = node[\"__extends__\"];\n        const source = extensions.get(extendsValue);\n        if (source == null) {\n          throw new Error(`AG Charts - no template variable provided for: ${extendsValue}`);\n        }\n        Object.keys(source).forEach(key => {\n          if (!(key in node)) {\n            node[key] = source[key];\n          } else if (isObject(node[key])) {\n            node[key] = mergeDefaults(node[key], source[key]);\n          }\n        });\n        delete node[\"__extends__\"];\n      }\n      if (isArray(node)) {\n        for (let i = 0; i < node.length; i++) {\n          const symbol = node[i];\n          if (properties.has(symbol)) {\n            node[i] = properties.get(symbol);\n          }\n        }\n      } else {\n        for (const [name, value] of Object.entries(node)) {\n          if (properties.has(value)) {\n            node[name] = properties.get(value);\n          }\n        }\n      }\n    });\n    return deepClone(themeInstance);\n  }\n  static getDefaultColors() {\n    return {\n      fills: DEFAULT_FILLS,\n      strokes: DEFAULT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: DEFAULT_FILLS.BLUE,\n      stroke: DEFAULT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: DEFAULT_FILLS.ORANGE,\n      stroke: DEFAULT_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: DEFAULT_FILLS.GRAY,\n      stroke: DEFAULT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const extensions = /* @__PURE__ */new Map();\n    extensions.set(EXTENDS_AXES_DEFAULTS, _ChartTheme.getAxisDefaults());\n    extensions.set(EXTENDS_AXES_LINE_DEFAULTS, _ChartTheme.getAxisDefaults().line);\n    extensions.set(EXTENDS_AXES_TICK_DEFAULTS, _ChartTheme.getAxisDefaults().tick);\n    extensions.set(EXTENDS_AXES_GRID_LINE_DEFAULTS, _ChartTheme.getAxisDefaults().gridLine);\n    extensions.set(EXTENDS_SERIES_DEFAULTS, _ChartTheme.getSeriesDefaults());\n    extensions.set(EXTENDS_CARTESIAN_MARKER_DEFAULTS, _ChartTheme.getCartesianSeriesMarkerDefaults());\n    const properties = /* @__PURE__ */new Map();\n    properties.set(IS_DARK_THEME, false);\n    properties.set(DEFAULT_FONT_FAMILY, \"Verdana, sans-serif\");\n    properties.set(DEFAULT_LABEL_COLOUR, \"rgb(70, 70, 70)\");\n    properties.set(DEFAULT_INVERTED_LABEL_COLOUR, \"white\");\n    properties.set(DEFAULT_MUTED_LABEL_COLOUR, \"rgb(140, 140, 140)\");\n    properties.set(DEFAULT_AXIS_GRID_COLOUR, \"rgb(224,234,241)\");\n    properties.set(DEFAULT_AXIS_LINE_COLOUR, \"rgb(195, 195, 195)\");\n    properties.set(DEFAULT_CROSS_LINES_COLOUR, \"rgb(70, 70, 70)\");\n    properties.set(DEFAULT_INSIDE_SERIES_LABEL_COLOUR, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_BACKGROUND_COLOUR, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_SHADOW_COLOUR, \"rgba(0, 0, 0, 0.5)\");\n    properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [DEFAULT_FILLS.ORANGE, DEFAULT_FILLS.YELLOW, DEFAULT_FILLS.GREEN]);\n    properties.set(DEFAULT_HIERARCHY_FILLS, [\"#ffffff\", \"#e0e5ea\", \"#c1ccd5\", \"#a3b4c1\", \"#859cad\"]);\n    properties.set(DEFAULT_HIERARCHY_STROKES, [\"#ffffff\", \"#c5cbd1\", \"#a4b1bd\", \"#8498a9\", \"#648096\"]);\n    properties.set(DEFAULT_POLAR_SERIES_STROKE, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_COLOURS, _ChartTheme.getDefaultColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _ChartTheme.getWaterfallSeriesDefaultPositiveColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _ChartTheme.getWaterfallSeriesDefaultNegativeColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _ChartTheme.getWaterfallSeriesDefaultTotalColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _ChartTheme.getWaterfallSeriesDefaultTotalColors().stroke);\n    properties.set(DEFAULT_ANNOTATION_STROKE, DEFAULT_STROKES.BLUE);\n    properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, DEFAULT_FILLS.BLUE);\n    properties.set(DEFAULT_ANNOTATION_HANDLE_FILL, DEFAULT_BACKGROUND_FILL);\n    return {\n      extensions,\n      properties\n    };\n  }\n};\n_ChartTheme.cartesianAxisDefault = {\n  [\"number\" /* NUMBER */]: _ChartTheme.getAxisDefaults({\n    line: {\n      enabled: false\n    }\n  }),\n  [\"log\" /* LOG */]: _ChartTheme.getAxisDefaults({\n    base: 10,\n    line: {\n      enabled: false\n    }\n  }),\n  [\"category\" /* CATEGORY */]: _ChartTheme.getAxisDefaults({\n    groupPaddingInner: 0.1,\n    label: {\n      autoRotate: true\n    },\n    gridLine: {\n      enabled: false\n    }\n  }),\n  [\"time\" /* TIME */]: _ChartTheme.getAxisDefaults({\n    gridLine: {\n      enabled: false\n    }\n  }),\n  \"grouped-category\": _ChartTheme.getAxisDefaults()\n};\nvar ChartTheme = _ChartTheme;\n\n// packages/ag-charts-community/src/chart/themes/darkTheme.ts\nvar DEFAULT_DARK_BACKGROUND_FILL = \"#192232\";\nvar DEFAULT_DARK_FILLS = {\n  BLUE: \"#5090dc\",\n  ORANGE: \"#ffa03a\",\n  GREEN: \"#459d55\",\n  CYAN: \"#34bfe1\",\n  YELLOW: \"#e1cc00\",\n  VIOLET: \"#9669cb\",\n  GRAY: \"#b5b5b5\",\n  MAGENTA: \"#bd5aa7\",\n  BROWN: \"#8a6224\",\n  RED: \"#ef5452\"\n};\nvar DEFAULT_DARK_STROKES = {\n  BLUE: \"#74a8e6\",\n  ORANGE: \"#ffbe70\",\n  GREEN: \"#6cb176\",\n  CYAN: \"#75d4ef\",\n  YELLOW: \"#f6e559\",\n  VIOLET: \"#aa86d8\",\n  GRAY: \"#a1a1a1\",\n  MAGENTA: \"#ce7ab9\",\n  BROWN: \"#997b52\",\n  RED: \"#ff7872\"\n};\nvar palette = {\n  fills: Object.values(DEFAULT_DARK_FILLS),\n  strokes: Object.values(DEFAULT_DARK_STROKES)\n};\nvar DarkTheme = class _DarkTheme extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: DEFAULT_DARK_FILLS,\n      strokes: DEFAULT_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.BLUE,\n      stroke: DEFAULT_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.ORANGE,\n      stroke: DEFAULT_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.GRAY,\n      stroke: DEFAULT_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(IS_DARK_THEME, true);\n    result.properties.set(DEFAULT_COLOURS, _DarkTheme.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _DarkTheme.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _DarkTheme.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _DarkTheme.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _DarkTheme.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_POLAR_SERIES_STROKE, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_LABEL_COLOUR, \"white\");\n    result.properties.set(DEFAULT_MUTED_LABEL_COLOUR, \"#7D91A0\");\n    result.properties.set(DEFAULT_AXIS_GRID_COLOUR, \"#545A6E\");\n    result.properties.set(DEFAULT_CROSS_LINES_COLOUR, \"white\");\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [DEFAULT_DARK_FILLS.ORANGE, DEFAULT_DARK_FILLS.YELLOW, DEFAULT_DARK_FILLS.GREEN]);\n    result.properties.set(DEFAULT_HIERARCHY_FILLS, [\"#192834\", \"#253746\", \"#324859\", \"#3f596c\", \"#4d6a80\"]);\n    result.properties.set(DEFAULT_HIERARCHY_STROKES, [\"#192834\", \"#3b5164\", \"#496275\", \"#577287\", \"#668399\"]);\n    result.properties.set(DEFAULT_BACKGROUND_COLOUR, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_INSIDE_SERIES_LABEL_COLOUR, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, DEFAULT_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, DEFAULT_DARK_FILLS.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_HANDLE_FILL, DEFAULT_DARK_BACKGROUND_FILL);\n    return result;\n  }\n  getPalette() {\n    return palette;\n  }\n  constructor(options) {\n    super(options);\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/materialDark.ts\nvar MATERIAL_DARK_FILLS = {\n  BLUE: \"#2196F3\",\n  ORANGE: \"#FF9800\",\n  GREEN: \"#4CAF50\",\n  CYAN: \"#00BCD4\",\n  YELLOW: \"#FFEB3B\",\n  VIOLET: \"#7E57C2\",\n  GRAY: \"#9E9E9E\",\n  MAGENTA: \"#F06292\",\n  BROWN: \"#795548\",\n  RED: \"#F44336\"\n};\nvar MATERIAL_DARK_STROKES = {\n  BLUE: \"#90CAF9\",\n  ORANGE: \"#FFCC80\",\n  GREEN: \"#A5D6A7\",\n  CYAN: \"#80DEEA\",\n  YELLOW: \"#FFF9C4\",\n  VIOLET: \"#B39DDB\",\n  GRAY: \"#E0E0E0\",\n  MAGENTA: \"#F48FB1\",\n  BROWN: \"#A1887F\",\n  RED: \"#EF9A9A\"\n};\nvar palette2 = {\n  fills: Object.values(MATERIAL_DARK_FILLS),\n  strokes: Object.values(MATERIAL_DARK_STROKES)\n};\nvar MaterialDark = class _MaterialDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: MATERIAL_DARK_FILLS,\n      strokes: MATERIAL_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.BLUE,\n      stroke: MATERIAL_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.RED,\n      stroke: MATERIAL_DARK_STROKES.RED,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.GRAY,\n      stroke: MATERIAL_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _MaterialDark.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _MaterialDark.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _MaterialDark.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _MaterialDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [MATERIAL_DARK_FILLS.ORANGE, MATERIAL_DARK_FILLS.YELLOW, MATERIAL_DARK_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _MaterialDark.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, MATERIAL_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, MATERIAL_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette2;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/materialLight.ts\nvar MATERIAL_LIGHT_FILLS = {\n  BLUE: \"#2196F3\",\n  ORANGE: \"#FF9800\",\n  GREEN: \"#4CAF50\",\n  CYAN: \"#00BCD4\",\n  YELLOW: \"#FFEB3B\",\n  VIOLET: \"#7E57C2\",\n  GRAY: \"#9E9E9E\",\n  MAGENTA: \"#F06292\",\n  BROWN: \"#795548\",\n  RED: \"#F44336\"\n};\nvar MATERIAL_LIGHT_STROKES = {\n  BLUE: \"#1565C0\",\n  ORANGE: \"#E65100\",\n  GREEN: \"#2E7D32\",\n  CYAN: \"#00838F\",\n  YELLOW: \"#F9A825\",\n  VIOLET: \"#4527A0\",\n  GRAY: \"#616161\",\n  MAGENTA: \"#C2185B\",\n  BROWN: \"#4E342E\",\n  RED: \"#B71C1C\"\n};\nvar palette3 = {\n  fills: Object.values(MATERIAL_LIGHT_FILLS),\n  strokes: Object.values(MATERIAL_LIGHT_STROKES)\n};\nvar MaterialLight = class _MaterialLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: MATERIAL_LIGHT_FILLS,\n      strokes: MATERIAL_LIGHT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.BLUE,\n      stroke: MATERIAL_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.RED,\n      stroke: MATERIAL_LIGHT_STROKES.RED,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.GRAY,\n      stroke: MATERIAL_LIGHT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _MaterialLight.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _MaterialLight.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _MaterialLight.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _MaterialLight.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [MATERIAL_LIGHT_FILLS.ORANGE, MATERIAL_LIGHT_FILLS.YELLOW, MATERIAL_LIGHT_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _MaterialLight.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, MATERIAL_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, MATERIAL_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette3;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/polychromaDark.ts\nvar POLYCHROMA_DARK_FILLS = {\n  BLUE: \"#436ff4\",\n  PURPLE: \"#9a7bff\",\n  MAGENTA: \"#d165d2\",\n  PINK: \"#f0598b\",\n  RED: \"#f47348\",\n  ORANGE: \"#f2a602\",\n  YELLOW: \"#e9e201\",\n  GREEN: \"#21b448\",\n  CYAN: \"#00b9a2\",\n  MODERATE_BLUE: \"#00aee4\"\n};\nvar POLYCHROMA_DARK_STROKES = {\n  BLUE: \"#6698ff\",\n  PURPLE: \"#c0a3ff\",\n  MAGENTA: \"#fc8dfc\",\n  PINK: \"#ff82b1\",\n  RED: \"#ff9b70\",\n  ORANGE: \"#ffcf4e\",\n  YELLOW: \"#ffff58\",\n  GREEN: \"#58dd70\",\n  CYAN: \"#51e2c9\",\n  MODERATE_BLUE: \"#4fd7ff\"\n};\nvar POLYCHROMA_DARK_FILL_GRAY = \"#bbbbbb\";\nvar POLYCHROMA_DARK_STROKE_GRAY = \"#eeeeee\";\nvar palette4 = {\n  fills: Object.values(POLYCHROMA_DARK_FILLS),\n  strokes: Object.values(POLYCHROMA_DARK_STROKES)\n};\nvar PolychromaDark = class _PolychromaDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: POLYCHROMA_DARK_FILLS,\n      strokes: POLYCHROMA_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILLS.BLUE,\n      stroke: POLYCHROMA_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILLS.RED,\n      stroke: POLYCHROMA_DARK_STROKES.RED,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILL_GRAY,\n      stroke: POLYCHROMA_DARK_STROKE_GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _PolychromaDark.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _PolychromaDark.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _PolychromaDark.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _PolychromaDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [POLYCHROMA_DARK_FILLS.BLUE, POLYCHROMA_DARK_FILLS.RED]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _PolychromaDark.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, POLYCHROMA_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, POLYCHROMA_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette4;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/polychromaLight.ts\nvar POLYCHROMA_LIGHT_FILLS = {\n  BLUE: \"#436ff4\",\n  PURPLE: \"#9a7bff\",\n  MAGENTA: \"#d165d2\",\n  PINK: \"#f0598b\",\n  RED: \"#f47348\",\n  ORANGE: \"#f2a602\",\n  YELLOW: \"#e9e201\",\n  GREEN: \"#21b448\",\n  CYAN: \"#00b9a2\",\n  MODERATE_BLUE: \"#00aee4\"\n};\nvar POLYCHROMA_LIGHT_STROKES = {\n  BLUE: \"#2346c9\",\n  PURPLE: \"#7653d4\",\n  MAGENTA: \"#a73da9\",\n  PINK: \"#c32d66\",\n  RED: \"#c84b1c\",\n  ORANGE: \"#c87f00\",\n  YELLOW: \"#c1b900\",\n  GREEN: \"#008c1c\",\n  CYAN: \"#00927c\",\n  MODERATE_BLUE: \"#0087bb\"\n};\nvar POLYCHROMA_LIGHT_FILL_GRAY = \"#bbbbbb\";\nvar POLYCHROMA_LIGHT_STROKE_GRAY = \"#888888\";\nvar palette5 = {\n  fills: Object.values(POLYCHROMA_LIGHT_FILLS),\n  strokes: Object.values(POLYCHROMA_LIGHT_STROKES)\n};\nvar PolychromaLight = class _PolychromaLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: POLYCHROMA_LIGHT_FILLS,\n      strokes: POLYCHROMA_LIGHT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILLS.BLUE,\n      stroke: POLYCHROMA_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILLS.RED,\n      stroke: POLYCHROMA_LIGHT_STROKES.RED,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILL_GRAY,\n      stroke: POLYCHROMA_LIGHT_STROKE_GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _PolychromaLight.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _PolychromaLight.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _PolychromaLight.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _PolychromaLight.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [POLYCHROMA_LIGHT_FILLS.BLUE, POLYCHROMA_LIGHT_FILLS.RED]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _PolychromaLight.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, POLYCHROMA_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, POLYCHROMA_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette5;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/sheetsDark.ts\nvar SHEETS_DARK_FILLS = {\n  BLUE: \"#4472C4\",\n  ORANGE: \"#ED7D31\",\n  GRAY: \"#A5A5A5\",\n  YELLOW: \"#FFC000\",\n  MODERATE_BLUE: \"#5B9BD5\",\n  GREEN: \"#70AD47\",\n  DARK_GRAY: \"#7B7B7B\",\n  DARK_BLUE: \"#264478\",\n  VERY_DARK_GRAY: \"#636363\",\n  DARK_YELLOW: \"#997300\"\n};\nvar SHEETS_DARK_STROKES = {\n  BLUE: \"#6899ee\",\n  ORANGE: \"#ffa55d\",\n  GRAY: \"#cdcdcd\",\n  YELLOW: \"#ffea53\",\n  MODERATE_BLUE: \"#82c3ff\",\n  GREEN: \"#96d56f\",\n  DARK_GRAY: \"#a1a1a1\",\n  DARK_BLUE: \"#47689f\",\n  VERY_DARK_GRAY: \"#878787\",\n  DARK_YELLOW: \"#c0993d\"\n};\nvar palette6 = {\n  fills: Object.values(SHEETS_DARK_FILLS),\n  strokes: Object.values(SHEETS_DARK_STROKES)\n};\nvar SheetsDark = class _SheetsDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: __spreadProps(__spreadValues({}, SHEETS_DARK_FILLS), {\n        RED: SHEETS_DARK_FILLS.ORANGE\n      }),\n      strokes: __spreadProps(__spreadValues({}, SHEETS_DARK_STROKES), {\n        RED: SHEETS_DARK_STROKES.ORANGE\n      })\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.BLUE,\n      stroke: SHEETS_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.ORANGE,\n      stroke: SHEETS_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.GRAY,\n      stroke: SHEETS_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _SheetsDark.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _SheetsDark.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _SheetsDark.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _SheetsDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [SHEETS_DARK_FILLS.ORANGE, SHEETS_DARK_FILLS.YELLOW, SHEETS_DARK_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _SheetsDark.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, SHEETS_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, SHEETS_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette6;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/sheetsLight.ts\nvar SHEETS_LIGHT_FILLS = {\n  BLUE: \"#5281d5\",\n  ORANGE: \"#ff8d44\",\n  GRAY: \"#b5b5b5\",\n  YELLOW: \"#ffd02f\",\n  MODERATE_BLUE: \"#6aabe6\",\n  GREEN: \"#7fbd57\",\n  DARK_GRAY: \"#8a8a8a\",\n  DARK_BLUE: \"#335287\",\n  VERY_DARK_GRAY: \"#717171\",\n  DARK_YELLOW: \"#a98220\"\n};\nvar SHEETS_LIGHT_STROKES = {\n  BLUE: \"#214d9b\",\n  ORANGE: \"#c25600\",\n  GRAY: \"#7f7f7f\",\n  YELLOW: \"#d59800\",\n  MODERATE_BLUE: \"#3575ac\",\n  GREEN: \"#4b861a\",\n  DARK_GRAY: \"#575757\",\n  DARK_BLUE: \"#062253\",\n  VERY_DARK_GRAY: \"#414141\",\n  DARK_YELLOW: \"#734f00\"\n};\nvar palette7 = {\n  fills: Object.values(SHEETS_LIGHT_FILLS),\n  strokes: Object.values(SHEETS_LIGHT_STROKES)\n};\nvar SheetsLight = class _SheetsLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: __spreadProps(__spreadValues({}, SHEETS_LIGHT_FILLS), {\n        RED: SHEETS_LIGHT_FILLS.ORANGE\n      }),\n      strokes: __spreadProps(__spreadValues({}, SHEETS_LIGHT_STROKES), {\n        RED: SHEETS_LIGHT_STROKES.ORANGE\n      })\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.BLUE,\n      stroke: SHEETS_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.ORANGE,\n      stroke: SHEETS_LIGHT_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.GRAY,\n      stroke: SHEETS_LIGHT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _SheetsLight.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _SheetsLight.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _SheetsLight.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _SheetsLight.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [SHEETS_LIGHT_FILLS.ORANGE, SHEETS_LIGHT_FILLS.YELLOW, SHEETS_LIGHT_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _SheetsLight.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, SHEETS_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, SHEETS_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette7;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/vividDark.ts\nvar VIVID_DARK_FILLS = {\n  BLUE: \"#0083ff\",\n  ORANGE: \"#ff6600\",\n  GREEN: \"#00af00\",\n  CYAN: \"#00ccff\",\n  YELLOW: \"#f7c700\",\n  VIOLET: \"#ac26ff\",\n  GRAY: \"#a7a7b7\",\n  MAGENTA: \"#e800c5\",\n  BROWN: \"#b54300\",\n  RED: \"#ff0000\"\n};\nvar VIVID_DARK_STROKES = {\n  BLUE: \"#67b7ff\",\n  ORANGE: \"#ffc24d\",\n  GREEN: \"#5cc86f\",\n  CYAN: \"#54ebff\",\n  VIOLET: \"#c18aff\",\n  YELLOW: \"#fff653\",\n  GRAY: \"#aeaeae\",\n  MAGENTA: \"#f078d4\",\n  BROWN: \"#ba8438\",\n  RED: \"#ff726e\"\n};\nvar palette8 = {\n  fills: Object.values(VIVID_DARK_FILLS),\n  strokes: Object.values(VIVID_DARK_STROKES)\n};\nvar VividDark = class _VividDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: VIVID_DARK_FILLS,\n      strokes: VIVID_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: VIVID_DARK_FILLS.BLUE,\n      stroke: VIVID_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: VIVID_DARK_FILLS.ORANGE,\n      stroke: VIVID_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: VIVID_DARK_FILLS.GRAY,\n      stroke: VIVID_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _VividDark.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _VividDark.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _VividDark.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _VividDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [VIVID_DARK_FILLS.ORANGE, VIVID_DARK_FILLS.YELLOW, VIVID_DARK_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _VividDark.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, VIVID_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, VIVID_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette8;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/vividLight.ts\nvar VIVID_FILLS = {\n  BLUE: \"#0083ff\",\n  ORANGE: \"#ff6600\",\n  GREEN: \"#00af00\",\n  CYAN: \"#00ccff\",\n  YELLOW: \"#f7c700\",\n  VIOLET: \"#ac26ff\",\n  GRAY: \"#a7a7b7\",\n  MAGENTA: \"#e800c5\",\n  BROWN: \"#b54300\",\n  RED: \"#ff0000\"\n};\nvar VIVID_STROKES = {\n  BLUE: \"#0f68c0\",\n  ORANGE: \"#d47100\",\n  GREEN: \"#007922\",\n  CYAN: \"#009ac2\",\n  VIOLET: \"#bca400\",\n  YELLOW: \"#753cac\",\n  GRAY: \"#646464\",\n  MAGENTA: \"#9b2685\",\n  BROWN: \"#6c3b00\",\n  RED: \"#cb0021\"\n};\nvar palette9 = {\n  fills: Object.values(VIVID_FILLS),\n  strokes: Object.values(VIVID_STROKES)\n};\nvar VividLight = class _VividLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: VIVID_FILLS,\n      strokes: VIVID_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: VIVID_FILLS.BLUE,\n      stroke: VIVID_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: VIVID_FILLS.ORANGE,\n      stroke: VIVID_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: VIVID_FILLS.GRAY,\n      stroke: VIVID_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _VividLight.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _VividLight.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _VividLight.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _VividLight.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [VIVID_FILLS.ORANGE, VIVID_FILLS.YELLOW, VIVID_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _VividLight.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, VIVID_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, VIVID_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette9;\n  }\n};\n\n// packages/ag-charts-community/src/chart/mapping/themes.ts\nvar lightTheme = () => new ChartTheme();\nvar darkTheme = () => new DarkTheme();\nvar lightThemes = {\n  undefined: lightTheme,\n  null: lightTheme,\n  \"ag-default\": lightTheme,\n  \"ag-sheets\": () => new SheetsLight(),\n  \"ag-polychroma\": () => new PolychromaLight(),\n  \"ag-vivid\": () => new VividLight(),\n  \"ag-material\": () => new MaterialLight()\n};\nvar darkThemes = {\n  undefined: darkTheme,\n  null: darkTheme,\n  \"ag-default-dark\": darkTheme,\n  \"ag-sheets-dark\": () => new SheetsDark(),\n  \"ag-polychroma-dark\": () => new PolychromaDark(),\n  \"ag-vivid-dark\": () => new VividDark(),\n  \"ag-material-dark\": () => new MaterialDark()\n};\nvar themes = __spreadValues(__spreadValues({}, darkThemes), lightThemes);\nfunction validateChartThemeObject(unknownObject) {\n  if (unknownObject === null) {\n    return;\n  }\n  let valid = true;\n  const {\n    baseTheme,\n    palette: palette10,\n    overrides\n  } = unknownObject;\n  if (baseTheme !== void 0 && typeof baseTheme !== \"string\" && typeof baseTheme !== \"object\") {\n    Logger.warn(`invalid theme.baseTheme type ${typeof baseTheme}, expected (string | object).`);\n    valid = false;\n  }\n  if (overrides !== void 0 && typeof overrides !== \"object\") {\n    Logger.warn(`invalid theme.overrides type ${typeof overrides}, expected object.`);\n    valid = false;\n  }\n  if (typeof palette10 === \"object\") {\n    if (palette10 !== null) {\n      const {\n        fills,\n        strokes\n      } = palette10;\n      if (fills !== void 0 && !Array.isArray(fills)) {\n        Logger.warn(`theme.overrides.fills must be undefined or an array`);\n        valid = false;\n      }\n      if (strokes !== void 0 && !Array.isArray(strokes)) {\n        Logger.warn(`theme.overrides.strokes must be undefined or an array`);\n        valid = false;\n      }\n    }\n  } else if (palette10 !== void 0) {\n    Logger.warn(`invalid theme.palette type ${typeof palette10}, expected object.`);\n    valid = false;\n  }\n  if (valid) {\n    return unknownObject;\n  }\n}\nfunction validateChartTheme(value) {\n  if (value === void 0 || typeof value === \"string\" || value instanceof ChartTheme) {\n    return value;\n  }\n  if (typeof value === \"object\") {\n    return validateChartThemeObject(value);\n  }\n  Logger.warn(`invalid theme value type ${typeof value}, expected object or string.`);\n}\nfunction getChartTheme(unvalidatedValue) {\n  let value = validateChartTheme(unvalidatedValue);\n  if (value instanceof ChartTheme) {\n    return value;\n  }\n  if (value == null || typeof value === \"string\") {\n    const stockTheme = themes[value];\n    if (stockTheme) {\n      return stockTheme();\n    }\n    Logger.warnOnce(`the theme [${value}] is invalid, using [ag-default] instead.`);\n    return lightTheme();\n  }\n  const overrides = [];\n  let palette10;\n  while (typeof value === \"object\") {\n    overrides.push(value.overrides);\n    palette10 != null ? palette10 : palette10 = value.palette;\n    value = value.baseTheme;\n  }\n  const flattenedTheme = {\n    baseTheme: value,\n    overrides: mergeDefaults(...overrides),\n    palette: palette10\n  };\n  const baseTheme = flattenedTheme.baseTheme ? getChartTheme(flattenedTheme.baseTheme) : lightTheme();\n  return new baseTheme.constructor(flattenedTheme);\n}\n\n// packages/ag-charts-community/src/util/array.ts\nfunction extent(values) {\n  if (values.length === 0) {\n    return;\n  }\n  let min = Infinity;\n  let max = -Infinity;\n  for (let n of values) {\n    if (n instanceof Date) {\n      n = n.getTime();\n    }\n    if (typeof n !== \"number\") {\n      continue;\n    }\n    if (n < min) {\n      min = n;\n    }\n    if (n > max) {\n      max = n;\n    }\n  }\n  const result = [min, max];\n  if (result.every(isFinite)) {\n    return result;\n  }\n}\nfunction normalisedExtent(d, min, max) {\n  return normalisedExtentWithMetadata(d, min, max).extent;\n}\nfunction normalisedExtentWithMetadata(d, min, max) {\n  var _a;\n  let clipped = false;\n  if (d.length > 2) {\n    d = (_a = extent(d)) != null ? _a : [NaN, NaN];\n  }\n  if (!isNaN(min)) {\n    clipped || (clipped = min > d[0]);\n    d = [min, d[1]];\n  }\n  if (!isNaN(max)) {\n    clipped || (clipped = max < d[1]);\n    d = [d[0], max];\n  }\n  if (d[0] > d[1]) {\n    d = [];\n  }\n  return {\n    extent: d,\n    clipped\n  };\n}\nfunction arraysEqual(a, b) {\n  if (a == null || b == null || a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (Array.isArray(a[i]) && Array.isArray(b[i])) {\n      if (!arraysEqual(a[i], b[i])) {\n        return false;\n      }\n    } else if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction toArray(value) {\n  if (typeof value === \"undefined\") {\n    return [];\n  }\n  return Array.isArray(value) ? value : [value];\n}\nfunction unique(array) {\n  return Array.from(new Set(array));\n}\nfunction groupBy(array, iteratee) {\n  return array.reduce((result, item) => {\n    var _a;\n    const groupKey = iteratee(item);\n    (_a = result[groupKey]) != null ? _a : result[groupKey] = [];\n    result[groupKey].push(item);\n    return result;\n  }, {});\n}\nfunction circularSliceArray(data, size, offset4 = 0) {\n  if (data.length === 0) {\n    return [];\n  }\n  const result = [];\n  for (let i = 0; i < size; i++) {\n    result.push(data.at((i + offset4) % data.length));\n  }\n  return result;\n}\nfunction bifurcate(isLeft, array) {\n  return array.reduce(([left, right], value) => isLeft(value) ? [[...left, value], right] : [left, [...right, value]], [[], []]);\n}\nfunction* mapIterable(src, predicate) {\n  for (const e of src) {\n    yield predicate(e);\n  }\n}\nfunction constStringsIncludes(array, value) {\n  const casting = array;\n  return casting.includes(value);\n}\nfunction isInStringUnion(unionValues, value) {\n  return constStringsIncludes(unionValues, value);\n}\nfunction allInStringUnion(unionValues, values) {\n  return !values.some(v => !isInStringUnion(unionValues, v));\n}\n\n// packages/ag-charts-community/src/util/dom.ts\nvar verifiedGlobals = {};\nvar injectCache = /* @__PURE__ */new WeakMap();\nif (typeof window !== \"undefined\") {\n  verifiedGlobals.window = window;\n} else if (typeof global !== \"undefined\") {\n  verifiedGlobals.window = global.window;\n}\nif (typeof document !== \"undefined\") {\n  verifiedGlobals.document = document;\n} else if (typeof global !== \"undefined\") {\n  verifiedGlobals.document = global.document;\n}\nfunction getDocument(propertyName) {\n  var _a;\n  return propertyName ? (_a = verifiedGlobals.document) == null ? void 0 : _a[propertyName] : verifiedGlobals.document;\n}\nfunction getWindow(propertyName) {\n  var _a;\n  return propertyName ? (_a = verifiedGlobals.window) == null ? void 0 : _a[propertyName] : verifiedGlobals.window;\n}\nfunction createElement(tagName, className, style) {\n  const element2 = getDocument().createElement(tagName);\n  if (typeof className === \"object\") {\n    style = className;\n    className = void 0;\n  }\n  if (className) {\n    element2.classList.add(className);\n  }\n  if (style) {\n    Object.assign(element2.style, style);\n  }\n  return element2;\n}\nfunction downloadUrl(dataUrl, fileName) {\n  const {\n    body\n  } = getDocument();\n  const element2 = createElement(\"a\", {\n    display: \"none\"\n  });\n  element2.href = dataUrl;\n  element2.download = fileName;\n  body.appendChild(element2);\n  element2.click();\n  setTimeout(() => body.removeChild(element2));\n}\nfunction injectStyle(cssStyle, uniqueId) {\n  var _a, _b;\n  const document2 = getDocument();\n  if (uniqueId && ((_a = injectCache.get(document2)) == null ? void 0 : _a.has(uniqueId))) return;\n  const styleElement = createElement(\"style\");\n  styleElement.innerHTML = cssStyle;\n  document2.head.insertBefore(styleElement, document2.head.querySelector(\"style\"));\n  if (uniqueId && !injectCache.has(document2)) {\n    injectCache.set(document2, /* @__PURE__ */new Set([uniqueId]));\n  } else if (uniqueId) {\n    (_b = injectCache.get(document2)) == null ? void 0 : _b.add(uniqueId);\n  }\n}\nfunction setDocument(document2) {\n  verifiedGlobals.document = document2;\n}\nfunction setWindow(window2) {\n  verifiedGlobals.window = window2;\n}\n\n// packages/ag-charts-community/src/util/debug.ts\nvar LONG_TIME_PERIOD_THRESHOLD = 2e3;\nvar timeOfLastLog = Date.now();\nvar logTimeGap = () => {\n  const timeSinceLastLog = Date.now() - timeOfLastLog;\n  if (timeSinceLastLog > LONG_TIME_PERIOD_THRESHOLD) {\n    const prettyDuration = (Math.floor(timeSinceLastLog / 100) / 10).toFixed(1);\n    Logger.log(`**** ${prettyDuration}s since last log message ****`);\n  }\n  timeOfLastLog = Date.now();\n};\nvar Debug = {\n  create(...debugSelectors) {\n    const resultFn = (...logContent) => {\n      if (Debug.check(...debugSelectors)) {\n        if (typeof logContent[0] === \"function\") {\n          logContent = toArray(logContent[0]());\n        }\n        logTimeGap();\n        Logger.log(...logContent);\n      }\n    };\n    return Object.assign(resultFn, {\n      check: () => Debug.check(...debugSelectors)\n    });\n  },\n  check(...debugSelectors) {\n    if (debugSelectors.length === 0) {\n      debugSelectors.push(true);\n    }\n    const chartDebug = toArray(getWindow(\"agChartsDebug\"));\n    return chartDebug.some(selector => debugSelectors.includes(selector));\n  }\n};\n\n// packages/ag-charts-community/src/module/optionsModule.ts\nvar unthemedSeries = /* @__PURE__ */new Set([\"map-shape-background\", \"map-line-background\"]);\nvar ChartOptions = class {\n  constructor(userOptions, specialOverrides) {\n    var _b, _c, _d;\n    const cloneOptions = {\n      shallow: [\"data\"]\n    };\n    const options = deepClone(userOptions, cloneOptions);\n    const chartType2 = this.optionsType(options);\n    this.sanityCheckAndCleanup(options);\n    this.userOptions = options;\n    this.activeTheme = getChartTheme(options.theme);\n    this.defaultAxes = this.getDefaultAxes(options);\n    this.specialOverrides = this.specialOverridesDefaults(__spreadValues({}, specialOverrides));\n    const _a = this.getSeriesThemeConfig(chartType2),\n      {\n        axes: axesThemes = {},\n        annotations: annotationsThemes = {},\n        series: _\n      } = _a,\n      themeDefaults = __objRest(_a, [\"axes\", \"annotations\", \"series\"]);\n    this.processedOptions = deepClone(mergeDefaults(this.userOptions, themeDefaults, this.defaultAxes), cloneOptions);\n    this.processAxesOptions(this.processedOptions, axesThemes);\n    this.processSeriesOptions(this.processedOptions);\n    this.processMiniChartSeriesOptions(this.processedOptions);\n    this.processAnnotationsOptions(this.processedOptions, annotationsThemes);\n    if ((isAgCartesianChartOptions(this.processedOptions) || isAgPolarChartOptionsWithSeriesBasedLegend(this.processedOptions)) && ((_b = this.processedOptions.legend) == null ? void 0 : _b.enabled) == null) {\n      (_d = (_c = this.processedOptions).legend) != null ? _d : _c.legend = {};\n      this.processedOptions.legend.enabled = this.processedOptions.series.length > 1;\n    }\n    this.enableConfiguredOptions(this.processedOptions);\n    if (!enterpriseModule.isEnterprise) {\n      removeUsedEnterpriseOptions(this.processedOptions);\n    }\n  }\n  getOptions() {\n    var _a;\n    return (_a = this.processedOptions) != null ? _a : {};\n  }\n  diffOptions(options) {\n    return jsonDiff(options, this.processedOptions);\n  }\n  getSeriesThemeConfig(seriesType) {\n    var _a, _b;\n    return deepClone((_b = (_a = this.activeTheme) == null ? void 0 : _a.config[seriesType]) != null ? _b : {});\n  }\n  getDefaultAxes(options) {\n    const optionsType2 = this.optionsType(options);\n    const axesDefaults = seriesRegistry.cloneDefaultAxes(optionsType2);\n    if (seriesRegistry.isDefaultAxisSwapNeeded(options)) {\n      this.swapAxesPosition(axesDefaults);\n    }\n    return axesDefaults;\n  }\n  optionsType(options) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = options.series) == null ? void 0 : _a[0]) == null ? void 0 : _b.type) != null ? _c : \"line\";\n  }\n  sanityCheckAndCleanup(options) {\n    var _a;\n    this.deprecationWarnings(options);\n    this.axesTypeIntegrity(options);\n    this.seriesTypeIntegrity(options);\n    this.soloSeriesIntegrity(options);\n    this.removeDisabledOptions(options);\n    this.removeLeftoverSymbols(options);\n    if (((_a = options.series) == null ? void 0 : _a.some(s => s.type === \"bullet\")) && options.sync != null && options.sync.enabled !== false) {\n      Logger.warnOnce(\"bullet series cannot be synced, disabling synchronization.\");\n      delete options.sync;\n    }\n  }\n  swapAxesPosition(options) {\n    var _a;\n    if (isAgCartesianChartOptions(options)) {\n      const [axis0, axis1] = (_a = options.axes) != null ? _a : [];\n      options.axes = [__spreadProps(__spreadValues({}, axis0), {\n        position: axis1.position\n      }), __spreadProps(__spreadValues({}, axis1), {\n        position: axis0.position\n      })];\n    }\n  }\n  processAxesOptions(options, axesThemes) {\n    if (!(\"axes\" in options)) return;\n    options.axes = options.axes.map(axis => {\n      var _a, _c, _d;\n      const _b = mergeDefaults((_a = axesThemes[axis.type]) == null ? void 0 : _a[axis.position], axesThemes[axis.type]),\n        {\n          crossLines: crossLinesTheme\n        } = _b,\n        axisTheme = __objRest(_b, [\"crossLines\"]);\n      if (axis.crossLines) {\n        axis.crossLines = mergeArrayDefaults(axis.crossLines, crossLinesTheme);\n      }\n      const gridLineStyle = (_c = axisTheme.gridLine) == null ? void 0 : _c.style;\n      if (((_d = axis.gridLine) == null ? void 0 : _d.style) && (gridLineStyle == null ? void 0 : gridLineStyle.length)) {\n        axis.gridLine.style = axis.gridLine.style.map((style, index) => style.stroke != null || style.lineDash != null ? mergeDefaults(style, gridLineStyle.at(index % gridLineStyle.length)) : style);\n      }\n      const _e = mergeDefaults(axis, axisTheme),\n        {\n          top: _1,\n          right: _2,\n          bottom: _3,\n          left: _4\n        } = _e,\n        axisOptions = __objRest(_e, [\"top\", \"right\", \"bottom\", \"left\"]);\n      return axisOptions;\n    });\n  }\n  processSeriesOptions(options) {\n    const defaultSeriesType = this.getDefaultSeriesType(options);\n    const defaultTooltipPosition = this.getTooltipPositionDefaults(options);\n    const userPalette = Boolean(isObject(options.theme) && options.theme.palette);\n    const paletteOptions = {\n      colourIndex: 0,\n      userPalette\n    };\n    const processedSeries = options.series.map(series => {\n      var _a, _b;\n      (_a = series.type) != null ? _a : series.type = defaultSeriesType;\n      const _c = (_b = this.getSeriesThemeConfig(series.type).series) != null ? _b : {},\n        {\n          innerLabels: innerLabelsTheme\n        } = _c,\n        seriesTheme = __objRest(_c, [\"innerLabels\"]);\n      const seriesPaletteOptions = unthemedSeries.has(series.type) ? {\n        colourIndex: 0,\n        userPalette\n      } : paletteOptions;\n      const palette10 = this.getSeriesPalette(series.type, seriesPaletteOptions);\n      const seriesOptions = mergeDefaults(this.getSeriesGroupingOptions(series), series, defaultTooltipPosition, seriesTheme, palette10);\n      if (seriesOptions.innerLabels) {\n        seriesOptions.innerLabels = mergeArrayDefaults(seriesOptions.innerLabels, innerLabelsTheme);\n      }\n      return this.activeTheme.templateTheme(seriesOptions);\n    });\n    options.series = this.setSeriesGroupingOptions(processedSeries);\n  }\n  processMiniChartSeriesOptions(options) {\n    var _a, _b;\n    let miniChartSeries = (_b = (_a = options.navigator) == null ? void 0 : _a.miniChart) == null ? void 0 : _b.series;\n    if (miniChartSeries == null) return;\n    const paletteOptions = {\n      colourIndex: 0,\n      userPalette: Boolean(isObject(options.theme) && options.theme.palette)\n    };\n    miniChartSeries = miniChartSeries.map(series => {\n      var _a2, _b2;\n      (_a2 = series.type) != null ? _a2 : series.type = \"line\";\n      const _c = (_b2 = this.getSeriesThemeConfig(series.type).series) != null ? _b2 : {},\n        {\n          innerLabels: _\n        } = _c,\n        seriesTheme = __objRest(_c, [\"innerLabels\"]);\n      const seriesOptions = mergeDefaults(this.getSeriesGroupingOptions(series), series, seriesTheme, this.getSeriesPalette(series.type, paletteOptions));\n      return this.activeTheme.templateTheme(seriesOptions);\n    });\n    options.navigator.miniChart.series = this.setSeriesGroupingOptions(miniChartSeries);\n  }\n  processAnnotationsOptions(options, _annotationsThemes) {\n    if (!isAgCartesianChartOptions(options)) return;\n  }\n  getSeriesPalette(seriesType, options) {\n    const paletteFactory = seriesRegistry.getPaletteFactory(seriesType);\n    const {\n      colourIndex: colourOffset,\n      userPalette\n    } = options;\n    const {\n      fills = [],\n      strokes = []\n    } = this.activeTheme.palette;\n    return paletteFactory == null ? void 0 : paletteFactory({\n      userPalette,\n      colorsCount: Math.max(fills.length, strokes.length),\n      themeTemplateParameters: this.activeTheme.getTemplateParameters(),\n      takeColors(count) {\n        options.colourIndex += count;\n        return {\n          fills: circularSliceArray(fills, count, colourOffset),\n          strokes: circularSliceArray(strokes, count, colourOffset)\n        };\n      }\n    });\n  }\n  getSeriesGroupingOptions(series) {\n    const groupable = seriesRegistry.isGroupable(series.type);\n    const stackable = seriesRegistry.isStackable(series.type);\n    const stackedByDefault = seriesRegistry.isStackedByDefault(series.type);\n    if (series.grouped && !groupable) {\n      Logger.warnOnce(`unsupported grouping of series type \"${series.type}\".`);\n    }\n    if ((series.stacked || series.stackGroup) && !stackable) {\n      Logger.warnOnce(`unsupported stacking of series type \"${series.type}\".`);\n    }\n    let {\n      grouped,\n      stacked\n    } = series;\n    stacked != null ? stacked : stacked = (stackedByDefault || series.stackGroup != null) && !(groupable && grouped);\n    grouped != null ? grouped : grouped = true;\n    return {\n      stacked: stackable && stacked,\n      grouped: groupable && grouped && !(stackable && stacked)\n    };\n  }\n  setSeriesGroupingOptions(allSeries) {\n    const seriesGroups = this.getSeriesGrouping(allSeries);\n    Debug.create(true, \"opts\")(\"setSeriesGroupingOptions() - series grouping: \", seriesGroups);\n    const groupIdx = {};\n    const groupCount2 = seriesGroups.reduce((countMap, seriesGroup) => {\n      var _a, _b;\n      if (seriesGroup.groupType === \"default\" /* DEFAULT */) {\n        return countMap;\n      }\n      (_b = countMap[_a = seriesGroup.seriesType]) != null ? _b : countMap[_a] = 0;\n      countMap[seriesGroup.seriesType] += seriesGroup.groupType === \"stack\" /* STACK */ ? 1 : seriesGroup.series.length;\n      return countMap;\n    }, {});\n    return seriesGroups.flatMap(seriesGroup => {\n      var _a, _b;\n      (_b = groupIdx[_a = seriesGroup.seriesType]) != null ? _b : groupIdx[_a] = 0;\n      switch (seriesGroup.groupType) {\n        case \"stack\" /* STACK */:\n          const groupIndex = groupIdx[seriesGroup.seriesType]++;\n          return seriesGroup.series.map((series, stackIndex) => Object.assign(series, {\n            seriesGrouping: {\n              groupIndex,\n              groupCount: groupCount2[seriesGroup.seriesType],\n              stackIndex,\n              stackCount: seriesGroup.series.length\n            }\n          }));\n        case \"group\" /* GROUP */:\n          return seriesGroup.series.map(series => Object.assign(series, {\n            seriesGrouping: {\n              groupIndex: groupIdx[seriesGroup.seriesType]++,\n              groupCount: groupCount2[seriesGroup.seriesType],\n              stackIndex: 0,\n              stackCount: 0\n            }\n          }));\n      }\n      return seriesGroup.series;\n    }).map(_a => {\n      var _b = _a,\n        {\n          stacked: _,\n          grouped: __\n        } = _b,\n        seriesOptions = __objRest(_b, [\"stacked\", \"grouped\"]);\n      return seriesOptions;\n    });\n  }\n  getSeriesGroupId(series) {\n    var _a;\n    return [series.type, series.xKey, series.stacked ? (_a = series.stackGroup) != null ? _a : \"stacked\" : \"grouped\"].filter(Boolean).join(\"-\");\n  }\n  getSeriesGrouping(allSeries) {\n    const groupMap = /* @__PURE__ */new Map();\n    return allSeries.reduce((result, series) => {\n      const seriesType = series.type;\n      if (!series.stacked && !series.grouped) {\n        result.push({\n          groupType: \"default\" /* DEFAULT */,\n          seriesType,\n          series: [series]\n        });\n      } else {\n        const groupId = this.getSeriesGroupId(series);\n        if (!groupMap.has(groupId)) {\n          const groupType = series.stacked ? \"stack\" /* STACK */ : \"group\" /* GROUP */;\n          const record = {\n            groupType,\n            seriesType,\n            series: []\n          };\n          groupMap.set(groupId, record);\n          result.push(record);\n        }\n        groupMap.get(groupId).series.push(series);\n      }\n      return result;\n    }, []);\n  }\n  getDefaultSeriesType(options) {\n    if (isAgCartesianChartOptions(options)) {\n      return \"line\";\n    } else if (isAgPolarChartOptions(options)) {\n      return \"pie\";\n    } else if (isAgHierarchyChartOptions(options)) {\n      return \"treemap\";\n    } else if (isAgTopologyChartOptions(options)) {\n      return \"map-shape\";\n    }\n    throw new Error(\"Invalid chart options type detected.\");\n  }\n  getTooltipPositionDefaults(options) {\n    var _a;\n    const position = (_a = options.tooltip) == null ? void 0 : _a.position;\n    if (!isPlainObject(position)) {\n      return;\n    }\n    const {\n      type,\n      xOffset,\n      yOffset\n    } = position;\n    const result = {};\n    if (isString(type) && isEnumValue(AgTooltipPositionType, type)) {\n      result.type = type;\n    }\n    if (isFiniteNumber(xOffset)) {\n      result.xOffset = xOffset;\n    }\n    if (isFiniteNumber(yOffset)) {\n      result.yOffset = yOffset;\n    }\n    return {\n      tooltip: {\n        position: result\n      }\n    };\n  }\n  deprecationWarnings(options) {\n    const deprecatedArrayProps = {\n      yKeys: \"yKey\",\n      yNames: \"yName\"\n    };\n    Object.entries(deprecatedArrayProps).forEach(([oldProp, newProp]) => {\n      var _a;\n      if ((_a = options.series) == null ? void 0 : _a.some(s => s[oldProp] != null)) {\n        Logger.warnOnce(`Property [series.${oldProp}] is deprecated, please use [series.${newProp}] and multiple series instead.`);\n      }\n    });\n  }\n  axesTypeIntegrity(options) {\n    var _a;\n    if (\"axes\" in options) {\n      const axes = (_a = options.axes) != null ? _a : [];\n      for (const {\n        type\n      } of axes) {\n        if (!isAxisOptionType(type)) {\n          delete options.axes;\n          const expectedTypes = Array.from(axisRegistry.publicKeys()).join(\", \");\n          Logger.warnOnce(`unknown axis type: ${type}; expected one of: ${expectedTypes}`);\n        }\n      }\n    }\n  }\n  seriesTypeIntegrity(options) {\n    var _a;\n    const series = (_a = options.series) != null ? _a : [];\n    options.series = series.filter(({\n      type\n    }) => {\n      if (type == null || isSeriesOptionType(type) || isEnterpriseSeriesType(type)) {\n        return true;\n      }\n      Logger.warnOnce(`unknown series type: ${type}; expected one of: ${publicChartTypes.seriesTypes.join(\", \")}`);\n    });\n  }\n  soloSeriesIntegrity(options) {\n    const allSeries = options.series;\n    if (allSeries && allSeries.length > 1 && allSeries.some(series => seriesRegistry.isSolo(series.type))) {\n      const mainSeriesType = this.optionsType(options);\n      if (seriesRegistry.isSolo(mainSeriesType)) {\n        Logger.warn(`series[0] of type '${mainSeriesType}' is incompatible with other series types. Only processing series[0]`);\n        options.series = allSeries.slice(0, 1);\n      } else {\n        const {\n          solo,\n          nonSolo\n        } = groupBy(allSeries, s => seriesRegistry.isSolo(s.type) ? \"solo\" : \"nonSolo\");\n        const rejects = unique(solo.map(s => s.type)).join(\", \");\n        Logger.warn(`Unable to mix these series types with the lead series type: ${rejects}`);\n        options.series = nonSolo;\n      }\n    }\n  }\n  enableConfiguredOptions(options) {\n    jsonWalk(this.userOptions, (visitingUserOpts, visitingMergedOpts) => {\n      if (visitingMergedOpts && \"enabled\" in visitingMergedOpts && !visitingMergedOpts._enabledFromTheme && visitingUserOpts.enabled == null) {\n        visitingMergedOpts.enabled = true;\n      }\n    }, {\n      skip: [\"data\", \"theme\"]\n    }, options);\n    jsonWalk(options, visitingMergedOpts => {\n      if (visitingMergedOpts._enabledFromTheme != null) {\n        delete visitingMergedOpts._enabledFromTheme;\n      }\n    }, {\n      skip: [\"data\", \"theme\"]\n    });\n  }\n  removeDisabledOptions(options) {\n    jsonWalk(options, optionsNode => {\n      if (\"enabled\" in optionsNode && optionsNode.enabled === false) {\n        Object.keys(optionsNode).forEach(key => {\n          if (key === \"enabled\") return;\n          delete optionsNode[key];\n        });\n      }\n    }, {\n      skip: [\"data\", \"theme\"]\n    });\n  }\n  removeLeftoverSymbols(options) {\n    jsonWalk(options, optionsNode => {\n      if (!optionsNode || !isObject(optionsNode)) return;\n      for (const [key, value] of Object.entries(optionsNode)) {\n        if (isSymbol(value)) {\n          delete optionsNode[key];\n        }\n      }\n    }, {\n      skip: [\"data\"]\n    });\n  }\n  specialOverridesDefaults(options) {\n    if (options.window != null) {\n      setWindow(options.window);\n    } else if (typeof window !== \"undefined\") {\n      options.window = window;\n    } else if (typeof global !== \"undefined\") {\n      options.window = global.window;\n    }\n    if (options.document != null) {\n      setDocument(options.document);\n    } else if (typeof document !== \"undefined\") {\n      options.document = document;\n    } else if (typeof global !== \"undefined\") {\n      options.document = global.document;\n    }\n    if (options.window == null) {\n      throw new Error(\"AG Charts - unable to resolve global window\");\n    }\n    if (options.document == null) {\n      throw new Error(\"AG Charts - unable to resolve global document\");\n    }\n    return options;\n  }\n};\n\n// packages/ag-charts-community/src/util/deprecation.ts\nfunction createDeprecationWarning() {\n  return (key, message) => {\n    const msg = [`Property [${key}] is deprecated.`, message].filter(Boolean).join(\" \");\n    Logger.warnOnce(msg);\n  };\n}\nfunction Deprecated(message, opts) {\n  const warnDeprecated = createDeprecationWarning();\n  const def = opts == null ? void 0 : opts.default;\n  return addTransformToInstanceProperty((_, key, value) => {\n    if (value !== def) {\n      warnDeprecated(key.toString(), message);\n    }\n    return value;\n  });\n}\nfunction DeprecatedAndRenamedTo(newPropName, mapValue) {\n  const warnDeprecated = createDeprecationWarning();\n  return addTransformToInstanceProperty((target, key, value) => {\n    if (value !== target[newPropName]) {\n      warnDeprecated(key.toString(), `Use [${newPropName}] instead.`);\n      setPath(target, newPropName, mapValue ? mapValue(value) : value);\n    }\n    return BREAK_TRANSFORM_CHAIN;\n  }, (target, key) => {\n    warnDeprecated(key.toString(), `Use [${newPropName}] instead.`);\n    return getPath(target, newPropName);\n  });\n}\n\n// packages/ag-charts-community/src/motion/fromToMotion.ts\nvar fromToMotion_exports = {};\n__export(fromToMotion_exports, {\n  NODE_UPDATE_STATE_TO_PHASE_MAPPING: () => NODE_UPDATE_STATE_TO_PHASE_MAPPING,\n  fromToMotion: () => fromToMotion,\n  staticFromToMotion: () => staticFromToMotion\n});\n\n// packages/ag-charts-community/src/util/id.ts\nvar ID_MAP = /* @__PURE__ */new Map();\nfunction resetIds() {\n  ID_MAP.clear();\n}\nfunction createId(instance) {\n  var _a;\n  const constructor = instance.constructor;\n  const className = Object.hasOwn(constructor, \"className\") ? constructor.className : constructor.name;\n  if (!className) {\n    throw new Error(`The ${constructor} is missing the 'className' property.`);\n  }\n  const nextId = ((_a = ID_MAP.get(className)) != null ? _a : 0) + 1;\n  ID_MAP.set(className, nextId);\n  return `${className}-${nextId}`;\n}\n\n// packages/ag-charts-community/src/util/interpolating.ts\nvar interpolate = \"$interpolate\";\nvar isInterpolating = x => x[interpolate] != null;\n\n// packages/ag-charts-community/src/util/number.ts\nfunction clamp(min, value, max) {\n  return Math.min(max, Math.max(min, value));\n}\nfunction clampArray(value, array) {\n  const [min, max] = findMinMax(array);\n  return clamp(min, value, max);\n}\nfunction findMinMax(array) {\n  return array.length ? [Math.min(...array), Math.max(...array)] : [];\n}\nfunction findRangeExtent(array) {\n  const [min, max] = findMinMax(array);\n  return max - min;\n}\nfunction isEqual(a, b, epsilon2 = 1e-10) {\n  return Math.abs(a - b) < epsilon2;\n}\nfunction isNegative(value) {\n  return Math.sign(value) === -1 || Object.is(value, -0);\n}\nfunction round(value, decimals = 2) {\n  const base = __pow(10, decimals);\n  return Math.round(value * base) / base;\n}\nfunction toFixed(value, fractionOrSignificantDigits = 2) {\n  const power = Math.floor(Math.log(Math.abs(value)) / Math.LN10);\n  if (power >= 0 || !isFinite(power)) {\n    return value.toFixed(fractionOrSignificantDigits);\n  }\n  return value.toFixed(Math.abs(power) - 1 + fractionOrSignificantDigits);\n}\nfunction mod(n, m) {\n  return Math.floor(n % m + (n < 0 ? m : 0));\n}\nfunction countFractionDigits(value, maximumFractionDigits = 10) {\n  const [, decimal = \"\"] = (Math.abs(value) % 1).toLocaleString(\"en-GB\", {\n    minimumFractionDigits: 0,\n    maximumFractionDigits\n  }).split(\".\");\n  return decimal.length;\n}\n\n// packages/ag-charts-community/src/scene/nearest.ts\nfunction nearestSquared(x, y, objects, maxDistanceSquared = Infinity) {\n  const result = {\n    nearest: void 0,\n    distanceSquared: maxDistanceSquared\n  };\n  for (const obj of objects) {\n    const thisDistance = obj.distanceSquared(x, y);\n    if (thisDistance === 0) {\n      return {\n        nearest: obj,\n        distanceSquared: 0\n      };\n    } else if (thisDistance < result.distanceSquared) {\n      result.nearest = obj;\n      result.distanceSquared = thisDistance;\n    }\n  }\n  return result;\n}\nfunction nearestSquaredInContainer(x, y, container, maxDistanceSquared = Infinity) {\n  const {\n    x: tx,\n    y: ty\n  } = container.transformPoint(x, y);\n  const result = {\n    nearest: void 0,\n    distanceSquared: maxDistanceSquared\n  };\n  for (const child of container.children) {\n    const {\n      nearest,\n      distanceSquared: distanceSquared2\n    } = child.nearestSquared(tx, ty, result.distanceSquared);\n    if (distanceSquared2 === 0) {\n      return {\n        nearest,\n        distanceSquared: distanceSquared2\n      };\n    } else if (distanceSquared2 < result.distanceSquared) {\n      result.nearest = nearest;\n      result.distanceSquared = distanceSquared2;\n    }\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/scene/bbox.ts\nvar _BBox = class _BBox {\n  constructor(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n  clone() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    return new _BBox(x, y, width, height);\n  }\n  equals(other) {\n    return this.x === other.x && this.y === other.y && this.width === other.width && this.height === other.height;\n  }\n  containsPoint(x, y) {\n    return x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height;\n  }\n  collidesBBox(other) {\n    return this.x < other.x + other.width && this.x + this.width > other.x && this.y < other.y + other.height && this.y + this.height > other.y;\n  }\n  computeCenter() {\n    return {\n      x: this.x + this.width / 2,\n      y: this.y + this.height / 2\n    };\n  }\n  isFinite() {\n    return Number.isFinite(this.x) && Number.isFinite(this.y) && Number.isFinite(this.width) && Number.isFinite(this.height);\n  }\n  distanceSquared(x, y) {\n    if (this.containsPoint(x, y)) {\n      return 0;\n    }\n    const dx = x - clamp(this.x, x, this.x + this.width);\n    const dy = y - clamp(this.y, y, this.y + this.height);\n    return dx * dx + dy * dy;\n  }\n  static nearestBox(x, y, boxes) {\n    return nearestSquared(x, y, boxes);\n  }\n  clip(clipRect) {\n    if (clipRect === void 0) return this;\n    const x1 = Math.max(this.x, clipRect.x);\n    const y1 = Math.max(this.y, clipRect.y);\n    const x2 = Math.min(this.x + this.width, clipRect.x + clipRect.width);\n    const y2 = Math.min(this.y + this.height, clipRect.y + clipRect.height);\n    this.x = x1;\n    this.y = y1;\n    this.width = Math.max(0, x2 - x1);\n    this.height = Math.max(0, y2 - y1);\n    return this;\n  }\n  shrink(amount, position) {\n    const apply = (pos, amt) => {\n      switch (pos) {\n        case \"top\":\n          this.y += amt;\n        case \"bottom\":\n          this.height -= amt;\n          break;\n        case \"left\":\n          this.x += amt;\n        case \"right\":\n          this.width -= amt;\n          break;\n        case \"vertical\":\n          this.y += amt;\n          this.height -= amt * 2;\n          break;\n        case \"horizontal\":\n          this.x += amt;\n          this.width -= amt * 2;\n          break;\n        case void 0:\n          this.x += amt;\n          this.width -= amt * 2;\n          this.y += amt;\n          this.height -= amt * 2;\n          break;\n        default:\n      }\n    };\n    if (typeof amount === \"number\") {\n      apply(position, amount);\n    } else if (typeof amount === \"object\") {\n      Object.entries(amount).forEach(([pos, amt]) => apply(pos, amt));\n    }\n    return this;\n  }\n  grow(amount, position) {\n    if (typeof amount === \"number\") {\n      this.shrink(-amount, position);\n    } else {\n      const paddingCopy = __spreadValues({}, amount);\n      for (const key in paddingCopy) {\n        paddingCopy[key] *= -1;\n      }\n      this.shrink(paddingCopy);\n    }\n    return this;\n  }\n  combine(other) {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    this.x = Math.min(x, other.x);\n    this.y = Math.min(y, other.y);\n    this.width = Math.max(x + width, other.x + other.width) - this.x;\n    this.height = Math.max(y + height, other.y + other.height) - this.y;\n  }\n  static merge(boxes) {\n    let left = Infinity;\n    let top = Infinity;\n    let right = -Infinity;\n    let bottom = -Infinity;\n    for (const box of boxes) {\n      if (box.x < left) {\n        left = box.x;\n      }\n      if (box.y < top) {\n        top = box.y;\n      }\n      if (box.x + box.width > right) {\n        right = box.x + box.width;\n      }\n      if (box.y + box.height > bottom) {\n        bottom = box.y + box.height;\n      }\n    }\n    return new _BBox(left, top, right - left, bottom - top);\n  }\n  [interpolate](other, d) {\n    return new _BBox(this.x * (1 - d) + other.x * d, this.y * (1 - d) + other.y * d, this.width * (1 - d) + other.width * d, this.height * (1 - d) + other.height * d);\n  }\n};\n_BBox.zero = new _BBox(0, 0, 0, 0);\n_BBox.NaN = new _BBox(NaN, NaN, NaN, NaN);\nvar BBox = _BBox;\n\n// packages/ag-charts-community/src/scene/changeDetectable.ts\nvar RedrawType = /* @__PURE__ */(RedrawType2 => {\n  RedrawType2[RedrawType2[\"NONE\"] = 0] = \"NONE\";\n  RedrawType2[RedrawType2[\"TRIVIAL\"] = 1] = \"TRIVIAL\";\n  RedrawType2[RedrawType2[\"MINOR\"] = 2] = \"MINOR\";\n  RedrawType2[RedrawType2[\"MAJOR\"] = 3] = \"MAJOR\";\n  return RedrawType2;\n})(RedrawType || {});\nfunction functionConstructorAvailable() {\n  try {\n    new Function(\"return true\");\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar STRING_FUNCTION_USEABLE = functionConstructorAvailable();\nfunction SceneChangeDetection(opts) {\n  const {\n    changeCb,\n    convertor\n  } = opts != null ? opts : {};\n  return function (target, key) {\n    const privateKey = `__${key}`;\n    if (target[key]) {\n      return;\n    }\n    if (STRING_FUNCTION_USEABLE && changeCb == null && convertor == null) {\n      prepareFastGetSet(target, key, privateKey, opts);\n    } else {\n      prepareSlowGetSet(target, key, privateKey, opts);\n    }\n  };\n}\nfunction prepareFastGetSet(target, key, privateKey, opts) {\n  const {\n    redraw = 1 /* TRIVIAL */,\n    type = \"normal\",\n    checkDirtyOnAssignment = false\n  } = opts != null ? opts : {};\n  const setterJs = new Function(\"value\", `\n        const oldValue = this.${privateKey};\n        if (value !== oldValue) {\n            this.${privateKey} = value;\n            ${type === \"normal\" ? `this.markDirty(this, ${redraw});` : \"\"}\n            ${type === \"transform\" ? `this.markDirtyTransform(${redraw});` : \"\"}\n            ${type === \"path\" ? `if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${redraw}); }` : \"\"}\n            ${type === \"font\" ? `if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${redraw}); }` : \"\"}\n        }\n        ${checkDirtyOnAssignment ? `if (value != null && value._dirty > ${0 /* NONE */}) { this.markDirty(value, value._dirty); }` : \"\"}\n`);\n  const getterJs = new Function(`return this.${privateKey};`);\n  Object.defineProperty(target, key, {\n    set: setterJs,\n    get: getterJs,\n    enumerable: true,\n    configurable: true\n  });\n}\nfunction prepareSlowGetSet(target, key, privateKey, opts) {\n  const {\n    redraw = 1 /* TRIVIAL */,\n    type = \"normal\",\n    changeCb,\n    convertor,\n    checkDirtyOnAssignment = false\n  } = opts != null ? opts : {};\n  const setter = function (value) {\n    const oldValue = this[privateKey];\n    value = convertor ? convertor(value) : value;\n    if (value !== oldValue) {\n      this[privateKey] = value;\n      if (type === \"normal\") this.markDirty(this, redraw);\n      if (type === \"transform\") this.markDirtyTransform(redraw);\n      if (type === \"path\" && !this._dirtyPath) {\n        this._dirtyPath = true;\n        this.markDirty(this, redraw);\n      }\n      if (type === \"font\" && !this._dirtyFont) {\n        this._dirtyFont = true;\n        this.markDirty(this, redraw);\n      }\n      changeCb == null ? void 0 : changeCb(this);\n    }\n    if (checkDirtyOnAssignment && value != null && value._dirty > 0 /* NONE */) this.markDirty(value, value._dirty);\n  };\n  const getter = function () {\n    return this[privateKey];\n  };\n  Object.defineProperty(target, key, {\n    set: setter,\n    get: getter,\n    enumerable: true,\n    configurable: true\n  });\n}\nvar ChangeDetectable = class {\n  constructor() {\n    this._dirty = 3 /* MAJOR */;\n  }\n  markDirty(_source, type = 1 /* TRIVIAL */) {\n    if (this._dirty < type) {\n      this._dirty = type;\n    }\n  }\n  markClean(_opts) {\n    this._dirty = 0 /* NONE */;\n  }\n  isDirty() {\n    return this._dirty > 0 /* NONE */;\n  }\n};\n\n// packages/ag-charts-community/src/scene/matrix.ts\nvar _Matrix = class _Matrix {\n  get e() {\n    return [...this.elements];\n  }\n  constructor(elements3 = [1, 0, 0, 1, 0, 0]) {\n    this.elements = elements3;\n  }\n  setElements(elements3) {\n    const e = this.elements;\n    e[0] = elements3[0];\n    e[1] = elements3[1];\n    e[2] = elements3[2];\n    e[3] = elements3[3];\n    e[4] = elements3[4];\n    e[5] = elements3[5];\n    return this;\n  }\n  get identity() {\n    const e = this.elements;\n    return e[0] === 1 && e[1] === 0 && e[2] === 0 && e[3] === 1 && e[4] === 0 && e[5] === 0;\n  }\n  /**\n   * Performs the AxB matrix multiplication and saves the result\n   * to `C`, if given, or to `A` otherwise.\n   */\n  AxB(A, B, C) {\n    const a = A[0] * B[0] + A[2] * B[1],\n      b = A[1] * B[0] + A[3] * B[1],\n      c = A[0] * B[2] + A[2] * B[3],\n      d = A[1] * B[2] + A[3] * B[3],\n      e = A[0] * B[4] + A[2] * B[5] + A[4],\n      f = A[1] * B[4] + A[3] * B[5] + A[5];\n    C = C != null ? C : A;\n    C[0] = a;\n    C[1] = b;\n    C[2] = c;\n    C[3] = d;\n    C[4] = e;\n    C[5] = f;\n  }\n  /**\n   * The `other` matrix gets post-multiplied to the current matrix.\n   * Returns the current matrix.\n   * @param other\n   */\n  multiplySelf(other) {\n    this.AxB(this.elements, other.elements);\n    return this;\n  }\n  /**\n   * The `other` matrix gets post-multiplied to the current matrix.\n   * Returns a new matrix.\n   * @param other\n   */\n  multiply(other) {\n    const elements3 = new Array(6);\n    this.AxB(this.elements, other.elements, elements3);\n    return new _Matrix(elements3);\n  }\n  preMultiplySelf(other) {\n    this.AxB(other.elements, this.elements, this.elements);\n    return this;\n  }\n  /**\n   * Returns the inverse of this matrix as a new matrix.\n   */\n  inverse() {\n    const el = this.elements;\n    let a = el[0],\n      b = el[1],\n      c = el[2],\n      d = el[3];\n    const e = el[4],\n      f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    return new _Matrix([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n  }\n  /**\n   * Save the inverse of this matrix to the given matrix.\n   */\n  inverseTo(other) {\n    const el = this.elements;\n    let a = el[0],\n      b = el[1],\n      c = el[2],\n      d = el[3];\n    const e = el[4],\n      f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    other.setElements([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n    return this;\n  }\n  invertSelf() {\n    const el = this.elements;\n    let a = el[0],\n      b = el[1],\n      c = el[2],\n      d = el[3];\n    const e = el[4],\n      f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    el[0] = d;\n    el[1] = -b;\n    el[2] = -c;\n    el[3] = a;\n    el[4] = c * f - d * e;\n    el[5] = b * e - a * f;\n    return this;\n  }\n  transformPoint(x, y) {\n    const e = this.elements;\n    return {\n      x: x * e[0] + y * e[2] + e[4],\n      y: x * e[1] + y * e[3] + e[5]\n    };\n  }\n  transformBBox(bbox, target) {\n    const elements3 = this.elements;\n    const xx = elements3[0];\n    const xy = elements3[1];\n    const yx = elements3[2];\n    const yy = elements3[3];\n    const h_w = bbox.width * 0.5;\n    const h_h = bbox.height * 0.5;\n    const cx = bbox.x + h_w;\n    const cy = bbox.y + h_h;\n    const w = Math.abs(h_w * xx) + Math.abs(h_h * yx);\n    const h = Math.abs(h_w * xy) + Math.abs(h_h * yy);\n    if (!target) {\n      target = new BBox(0, 0, 0, 0);\n    }\n    target.x = cx * xx + cy * yx + elements3[4] - w;\n    target.y = cx * xy + cy * yy + elements3[5] - h;\n    target.width = w + w;\n    target.height = h + h;\n    return target;\n  }\n  toContext(ctx) {\n    if (this.identity) {\n      return;\n    }\n    const e = this.elements;\n    ctx.transform(e[0], e[1], e[2], e[3], e[4], e[5]);\n  }\n  static flyweight(sourceMatrix) {\n    return _Matrix.instance.setElements(sourceMatrix.elements);\n  }\n  static updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, opts) {\n    const [bbcx, bbcy] = [0, 0];\n    const sx = scalingX;\n    const sy = scalingY;\n    let scx;\n    let scy;\n    if (sx === 1 && sy === 1) {\n      scx = 0;\n      scy = 0;\n    } else {\n      scx = (opts == null ? void 0 : opts.scalingCenterX) == null ? bbcx : opts == null ? void 0 : opts.scalingCenterX;\n      scy = (opts == null ? void 0 : opts.scalingCenterY) == null ? bbcy : opts == null ? void 0 : opts.scalingCenterY;\n    }\n    const r = rotation;\n    const cos = Math.cos(r);\n    const sin = Math.sin(r);\n    let rcx;\n    let rcy;\n    if (r === 0) {\n      rcx = 0;\n      rcy = 0;\n    } else {\n      rcx = (opts == null ? void 0 : opts.rotationCenterX) == null ? bbcx : opts == null ? void 0 : opts.rotationCenterX;\n      rcy = (opts == null ? void 0 : opts.rotationCenterY) == null ? bbcy : opts == null ? void 0 : opts.rotationCenterY;\n    }\n    const tx = translationX;\n    const ty = translationY;\n    const tx4 = scx * (1 - sx) - rcx;\n    const ty4 = scy * (1 - sy) - rcy;\n    matrix.setElements([cos * sx, sin * sx, -sin * sy, cos * sy, cos * tx4 - sin * ty4 + rcx + tx, sin * tx4 + cos * ty4 + rcy + ty]);\n    return matrix;\n  }\n  static fromContext(ctx) {\n    const domMatrix = ctx.getTransform();\n    return new _Matrix([domMatrix.a, domMatrix.b, domMatrix.c, domMatrix.d, domMatrix.e, domMatrix.f]);\n  }\n};\n_Matrix.instance = new _Matrix();\nvar Matrix = _Matrix;\n\n// packages/ag-charts-community/src/scene/node.ts\nvar PointerEvents = /* @__PURE__ */(PointerEvents2 => {\n  PointerEvents2[PointerEvents2[\"All\"] = 0] = \"All\";\n  PointerEvents2[PointerEvents2[\"None\"] = 1] = \"None\";\n  return PointerEvents2;\n})(PointerEvents || {});\nvar _Node = class _Node extends ChangeDetectable {\n  constructor({\n    isVirtual,\n    tag,\n    zIndex\n  } = {}) {\n    super();\n    /** Unique number to allow creation order to be easily determined. */\n    this.serialNumber = _Node._nextSerialNumber++;\n    /**\n     * Unique node ID in the form `ClassName-NaturalNumber`.\n     */\n    this.id = createId(this);\n    /**\n     * To simplify the type system (especially in Selections) we don't have the `Parent` node\n     * (one that has children). Instead, we mimic HTML DOM, where any node can have children.\n     * But we still need to distinguish regular leaf nodes from container leafs somehow.\n     */\n    this.isContainerNode = false;\n    this._virtualChildren = [];\n    this._children = [];\n    // Used to check for duplicate nodes.\n    this.childSet = {};\n    // These matrices may need to have package level visibility\n    // for performance optimization purposes.\n    this.matrix = new Matrix();\n    this.dirtyTransform = false;\n    this.scalingX = 1;\n    this.scalingY = 1;\n    this.scalingCenterX = null;\n    this.scalingCenterY = null;\n    this.rotationCenterX = null;\n    this.rotationCenterY = null;\n    this.rotation = 0;\n    this.translationX = 0;\n    this.translationY = 0;\n    this._childNodeCounts = {\n      groups: 0,\n      nonGroups: 0\n    };\n    this.visible = true;\n    this.dirtyZIndex = false;\n    this.zIndex = 0;\n    /** Discriminators for render order within a zIndex. */\n    this.zIndexSubOrder = void 0;\n    this.pointerEvents = 0 /* All */;\n    this.isVirtual = isVirtual != null ? isVirtual : false;\n    this.tag = tag != null ? tag : NaN;\n    this.zIndex = zIndex != null ? zIndex : 0;\n  }\n  /**\n   * Some arbitrary data bound to the node.\n   */\n  get datum() {\n    var _a, _b;\n    return (_b = this._datum) != null ? _b : (_a = this._parent) == null ? void 0 : _a.datum;\n  }\n  get previousDatum() {\n    return this._previousDatum;\n  }\n  set datum(datum) {\n    if (this._datum !== datum) {\n      this._previousDatum = this._datum;\n    }\n    this._datum = datum;\n  }\n  _setLayerManager(value) {\n    this._layerManager = value;\n    this._debug = value == null ? void 0 : value.debug;\n    for (const child of this._children) {\n      child._setLayerManager(value);\n    }\n    for (const child of this._virtualChildren) {\n      child._setLayerManager(value);\n    }\n  }\n  get layerManager() {\n    return this._layerManager;\n  }\n  *ancestors() {\n    let node = this;\n    while (node = node.parent) {\n      yield node;\n    }\n  }\n  *traverseUp() {\n    yield this;\n    yield* __yieldStar(this.ancestors());\n  }\n  get parent() {\n    return this._parent;\n  }\n  get children() {\n    return this._virtualChildren.length ? this._children.concat(this._virtualChildren.flatMap(next => next.children)) : this._children;\n  }\n  get virtualChildren() {\n    return this._virtualChildren;\n  }\n  hasVirtualChildren() {\n    return this._virtualChildren.length > 0;\n  }\n  // new Set<Node>()\n  setProperties(styles, pickKeys) {\n    const keys = pickKeys != null ? pickKeys : Object.keys(styles);\n    for (const key of keys) {\n      this[key] = styles[key];\n    }\n    return this;\n  }\n  /**\n   * Appends one or more new node instances to this parent.\n   * If one needs to:\n   * - move a child to the end of the list of children\n   * - move a child from one parent to another (including parents in other scenes)\n   * one should use the {@link insertBefore} method instead.\n   * @param nodes A node or nodes to append.\n   */\n  append(nodes) {\n    if (!Array.isArray(nodes)) {\n      nodes = [nodes];\n    }\n    for (const node of nodes) {\n      if (node.parent) {\n        throw new Error(`${node} already belongs to another parent: ${node.parent}.`);\n      }\n      if (node.layerManager) {\n        throw new Error(`${node} already belongs to a scene: ${node.layerManager}.`);\n      }\n      if (this.childSet[node.id]) {\n        throw new Error(`Duplicate ${node.constructor.name} node: ${node}`);\n      }\n      if (node.isVirtual) {\n        this._virtualChildren.push(node);\n      } else {\n        this._children.push(node);\n      }\n      this.childSet[node.id] = true;\n      node._parent = this;\n      node._setLayerManager(this.layerManager);\n    }\n    this.dirtyZIndex = true;\n    this.markDirty(this, 3 /* MAJOR */);\n  }\n  appendChild(node) {\n    this.append(node);\n    return node;\n  }\n  removeChild(node) {\n    const error = () => {\n      throw new Error(`The node to be removed is not a child of this node.`);\n    };\n    if (node.parent !== this) {\n      error();\n    }\n    if (node.isVirtual) {\n      const i = this._virtualChildren.indexOf(node);\n      if (i < 0) error();\n      this._virtualChildren.splice(i, 1);\n    } else {\n      const i = this._children.indexOf(node);\n      if (i < 0) error();\n      this._children.splice(i, 1);\n    }\n    delete this.childSet[node.id];\n    node._parent = void 0;\n    node._setLayerManager();\n    this.dirtyZIndex = true;\n    this.markDirty(node, 3 /* MAJOR */);\n    return node;\n  }\n  calculateCumulativeMatrix() {\n    this.computeTransformMatrix();\n    const matrix = Matrix.flyweight(this.matrix);\n    for (const parent of this.ancestors()) {\n      parent.computeTransformMatrix();\n      matrix.preMultiplySelf(parent.matrix);\n    }\n    return matrix;\n  }\n  transformPoint(x, y) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.invertSelf().transformPoint(x, y);\n  }\n  inverseTransformPoint(x, y) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.transformPoint(x, y);\n  }\n  transformBBox(bbox) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.invertSelf().transformBBox(bbox);\n  }\n  inverseTransformBBox(bbox) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.transformBBox(bbox);\n  }\n  markDirtyTransform() {\n    this.dirtyTransform = true;\n    this.markDirty(this, 3 /* MAJOR */);\n  }\n  containsPoint(_x, _y) {\n    return false;\n  }\n  /**\n   * Hit testing method.\n   * Recursively checks if the given point is inside this node or any of its children.\n   * Returns the first matching node or `undefined`.\n   * Nodes that render later (show on top) are hit tested first.\n   */\n  pickNode(x, y) {\n    var _a;\n    if (!this.visible || this.pointerEvents === 1 /* None */ || !this.containsPoint(x, y)) {\n      return;\n    }\n    const {\n      children\n    } = this;\n    if (children.length > 1e3) {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n        const containsPoint = (_a = child.computeTransformedBBox()) == null ? void 0 : _a.containsPoint(x, y);\n        const hit = containsPoint ? child.pickNode(x, y) : void 0;\n        if (hit) {\n          return hit;\n        }\n      }\n    } else if (children.length) {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const hit = children[i].pickNode(x, y);\n        if (hit) {\n          return hit;\n        }\n      }\n    } else if (!this.isContainerNode) {\n      return this;\n    }\n  }\n  getCachedBBox() {\n    var _a;\n    return (_a = this.cachedBBox) != null ? _a : BBox.zero;\n  }\n  computeBBox() {\n    return;\n  }\n  computeTransformedBBox() {\n    const bbox = this.computeBBox();\n    if (!bbox) {\n      return;\n    }\n    this.computeTransformMatrix();\n    const matrix = Matrix.flyweight(this.matrix);\n    for (const parent of this.ancestors()) {\n      parent.computeTransformMatrix();\n      matrix.preMultiplySelf(parent.matrix);\n    }\n    matrix.transformBBox(bbox, bbox);\n    return bbox;\n  }\n  computeTransformMatrix() {\n    if (!this.dirtyTransform) {\n      return;\n    }\n    const {\n      matrix,\n      scalingX,\n      scalingY,\n      rotation,\n      translationX,\n      translationY,\n      scalingCenterX,\n      scalingCenterY,\n      rotationCenterX,\n      rotationCenterY\n    } = this;\n    Matrix.updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, {\n      scalingCenterX,\n      scalingCenterY,\n      rotationCenterX,\n      rotationCenterY\n    });\n    this.dirtyTransform = false;\n  }\n  /** Perform any pre-rendering initialization. */\n  preRender() {\n    this._childNodeCounts.groups = 0;\n    this._childNodeCounts.nonGroups = 1;\n    for (const child of this.children) {\n      const childCounts = child.preRender();\n      this._childNodeCounts.groups += childCounts.groups;\n      this._childNodeCounts.nonGroups += childCounts.nonGroups;\n    }\n    return this._childNodeCounts;\n  }\n  render(renderCtx) {\n    const {\n      stats\n    } = renderCtx;\n    this._dirty = 0 /* NONE */;\n    this.cachedBBox = this.computeBBox();\n    if (stats) {\n      stats.nodesRendered++;\n    }\n  }\n  markDirty(_source, type = 1 /* TRIVIAL */, parentType = type) {\n    if (this._dirty > type || this._dirty === type && type === parentType) {\n      return;\n    }\n    this._dirty = type;\n    if (this.parent) {\n      this.parent.markDirty(this, parentType);\n    } else if (this.layerManager) {\n      this.layerManager.markDirty();\n    }\n  }\n  get dirty() {\n    return this._dirty;\n  }\n  markClean(opts) {\n    const {\n      force = false,\n      recursive = true\n    } = opts != null ? opts : {};\n    if (this._dirty === 0 /* NONE */ && !force) {\n      return;\n    }\n    this._dirty = 0 /* NONE */;\n    if (recursive !== false) {\n      for (const child of this._virtualChildren) {\n        child.markClean({\n          force\n        });\n      }\n    }\n    if (recursive === true) {\n      for (const child of this._children) {\n        child.markClean({\n          force\n        });\n      }\n    }\n  }\n  onVisibleChange() {}\n  get nodeCount() {\n    let count = 1;\n    let dirtyCount = this._dirty >= 0 /* NONE */ || this.dirtyTransform ? 1 : 0;\n    let visibleCount = this.visible ? 1 : 0;\n    const countChild = child => {\n      const {\n        count: childCount,\n        visibleCount: childVisibleCount,\n        dirtyCount: childDirtyCount\n      } = child.nodeCount;\n      count += childCount;\n      visibleCount += childVisibleCount;\n      dirtyCount += childDirtyCount;\n    };\n    for (const child of this._children) {\n      countChild(child);\n    }\n    for (const child of this._virtualChildren) {\n      countChild(child);\n    }\n    return {\n      count,\n      visibleCount,\n      dirtyCount\n    };\n  }\n  onZIndexChange() {\n    if (this.parent) {\n      this.parent.dirtyZIndex = true;\n    }\n  }\n};\n_Node._nextSerialNumber = 0;\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"scalingX\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"scalingY\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"scalingCenterX\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"scalingCenterY\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"rotationCenterX\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"rotationCenterY\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"rotation\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"translationX\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"translationY\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */,\n  changeCb: target => target.onVisibleChange()\n})], _Node.prototype, \"visible\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 1 /* TRIVIAL */,\n  changeCb: target => target.onZIndexChange()\n})], _Node.prototype, \"zIndex\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 1 /* TRIVIAL */,\n  changeCb: target => target.onZIndexChange()\n})], _Node.prototype, \"zIndexSubOrder\", 2);\nvar Node = _Node;\n\n// packages/ag-charts-community/src/util/color.ts\nvar srgbToLinear = value => {\n  const sign = value < 0 ? -1 : 1;\n  const abs = Math.abs(value);\n  if (abs <= 0.04045) return value / 12.92;\n  return sign * __pow((abs + 0.055) / 1.055, 2.4);\n};\nvar srgbFromLinear = value => {\n  const sign = value < 0 ? -1 : 1;\n  const abs = Math.abs(value);\n  if (abs > 31308e-7) {\n    return sign * (1.055 * __pow(abs, 1 / 2.4) - 0.055);\n  }\n  return 12.92 * value;\n};\nvar _Color = class _Color {\n  /**\n   * Every color component should be in the [0, 1] range.\n   * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n   * So, when animating colors, if the source or target color components are already near\n   * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n   * component value to end up outside of that range mid-animation. For this reason the constructor\n   * performs range checking/constraining.\n   * @param r Red component.\n   * @param g Green component.\n   * @param b Blue component.\n   * @param a Alpha (opacity) component.\n   */\n  constructor(r, g, b, a = 1) {\n    this.r = clamp(0, r || 0, 1);\n    this.g = clamp(0, g || 0, 1);\n    this.b = clamp(0, b || 0, 1);\n    this.a = clamp(0, a || 0, 1);\n  }\n  /**\n   * A color string can be in one of the following formats to be valid:\n   * - #rgb\n   * - #rrggbb\n   * - rgb(r, g, b)\n   * - rgba(r, g, b, a)\n   * - CSS color name such as 'white', 'orange', 'cyan', etc.\n   */\n  static validColorString(str) {\n    if (str.indexOf(\"#\") >= 0) {\n      return !!_Color.parseHex(str);\n    }\n    if (str.indexOf(\"rgb\") >= 0) {\n      return !!_Color.stringToRgba(str);\n    }\n    return !!_Color.nameToHex[str.toLowerCase()];\n  }\n  /**\n   * The given string can be in one of the following formats:\n   * - #rgb\n   * - #rrggbb\n   * - rgb(r, g, b)\n   * - rgba(r, g, b, a)\n   * - CSS color name such as 'white', 'orange', 'cyan', etc.\n   * @param str\n   */\n  static fromString(str) {\n    if (str.indexOf(\"#\") >= 0) {\n      return _Color.fromHexString(str);\n    }\n    const hex = _Color.nameToHex[str.toLowerCase()];\n    if (hex) {\n      return _Color.fromHexString(hex);\n    }\n    if (str.indexOf(\"rgb\") >= 0) {\n      return _Color.fromRgbaString(str);\n    }\n    throw new Error(`Invalid color string: '${str}'`);\n  }\n  static tryParseFromString(str) {\n    try {\n      return _Color.fromString(str);\n    } catch (e) {\n      Logger.warnOnce(`invalid color string: '${str}'.`);\n      return _Color.fromArray([0, 0, 0]);\n    }\n  }\n  // See https://drafts.csswg.org/css-color/#hex-notation\n  static parseHex(input) {\n    input = input.replace(/ /g, \"\").slice(1);\n    let parts;\n    switch (input.length) {\n      case 6:\n      case 8:\n        parts = [];\n        for (let i = 0; i < input.length; i += 2) {\n          parts.push(parseInt(`${input[i]}${input[i + 1]}`, 16));\n        }\n        break;\n      case 3:\n      case 4:\n        parts = input.split(\"\").map(p => parseInt(p, 16)).map(p => p + p * 16);\n        break;\n    }\n    if ((parts == null ? void 0 : parts.length) >= 3 && parts.every(p => p >= 0)) {\n      if (parts.length === 3) {\n        parts.push(255);\n      }\n      return parts;\n    }\n  }\n  static fromHexString(str) {\n    const values = _Color.parseHex(str);\n    if (values) {\n      const [r, g, b, a] = values;\n      return new _Color(r / 255, g / 255, b / 255, a / 255);\n    }\n    throw new Error(`Malformed hexadecimal color string: '${str}'`);\n  }\n  static stringToRgba(str) {\n    let [po, pc] = [NaN, NaN];\n    for (let i = 0; i < str.length; i++) {\n      const c = str[i];\n      if (!po && c === \"(\") {\n        po = i;\n      } else if (c === \")\") {\n        pc = i;\n        break;\n      }\n    }\n    const contents = po && pc && str.substring(po + 1, pc);\n    if (!contents) {\n      return;\n    }\n    const parts = contents.split(\",\");\n    const rgba = [];\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n      let value = parseFloat(part);\n      if (isNaN(value)) {\n        return;\n      }\n      if (part.indexOf(\"%\") >= 0) {\n        value = clamp(0, value, 100);\n        value /= 100;\n      } else if (i === 3) {\n        value = clamp(0, value, 1);\n      } else {\n        value = clamp(0, value, 255);\n        value /= 255;\n      }\n      rgba.push(value);\n    }\n    return rgba;\n  }\n  static fromRgbaString(str) {\n    const rgba = _Color.stringToRgba(str);\n    if (rgba) {\n      if (rgba.length === 3) {\n        return new _Color(rgba[0], rgba[1], rgba[2]);\n      } else if (rgba.length === 4) {\n        return new _Color(rgba[0], rgba[1], rgba[2], rgba[3]);\n      }\n    }\n    throw new Error(`Malformed rgb/rgba color string: '${str}'`);\n  }\n  static fromArray(arr) {\n    if (arr.length === 4) {\n      return new _Color(arr[0], arr[1], arr[2], arr[3]);\n    }\n    if (arr.length === 3) {\n      return new _Color(arr[0], arr[1], arr[2]);\n    }\n    throw new Error(\"The given array should contain 3 or 4 color components (numbers).\");\n  }\n  static fromHSB(h, s, b, alpha = 1) {\n    const rgb = _Color.HSBtoRGB(h, s, b);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static fromHSL(h, s, l, alpha = 1) {\n    const rgb = _Color.HSLtoRGB(h, s, l);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static fromOKLCH(l, c, h, alpha = 1) {\n    const rgb = _Color.OKLCHtoRGB(l, c, h);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static padHex(str) {\n    return str.length === 1 ? \"0\" + str : str;\n  }\n  toHexString() {\n    let hex = \"#\" + _Color.padHex(Math.round(this.r * 255).toString(16)) + _Color.padHex(Math.round(this.g * 255).toString(16)) + _Color.padHex(Math.round(this.b * 255).toString(16));\n    if (this.a < 1) {\n      hex += _Color.padHex(Math.round(this.a * 255).toString(16));\n    }\n    return hex;\n  }\n  toRgbaString(fractionDigits = 3) {\n    const components = [Math.round(this.r * 255), Math.round(this.g * 255), Math.round(this.b * 255)];\n    const k = Math.pow(10, fractionDigits);\n    if (this.a !== 1) {\n      components.push(Math.round(this.a * k) / k);\n      return `rgba(${components.join(\", \")})`;\n    }\n    return `rgb(${components.join(\", \")})`;\n  }\n  toString() {\n    if (this.a === 1) {\n      return this.toHexString();\n    }\n    return this.toRgbaString();\n  }\n  toHSB() {\n    return _Color.RGBtoHSB(this.r, this.g, this.b);\n  }\n  static RGBtoOKLCH(r, g, b) {\n    const LSRGB0 = srgbToLinear(r);\n    const LSRGB1 = srgbToLinear(g);\n    const LSRGB2 = srgbToLinear(b);\n    const LMS0 = Math.cbrt(0.4122214708 * LSRGB0 + 0.5363325363 * LSRGB1 + 0.0514459929 * LSRGB2);\n    const LMS1 = Math.cbrt(0.2119034982 * LSRGB0 + 0.6806995451 * LSRGB1 + 0.1073969566 * LSRGB2);\n    const LMS2 = Math.cbrt(0.0883024619 * LSRGB0 + 0.2817188376 * LSRGB1 + 0.6299787005 * LSRGB2);\n    const OKLAB0 = 0.2104542553 * LMS0 + 0.793617785 * LMS1 - 0.0040720468 * LMS2;\n    const OKLAB1 = 1.9779984951 * LMS0 - 2.428592205 * LMS1 + 0.4505937099 * LMS2;\n    const OKLAB2 = 0.0259040371 * LMS0 + 0.7827717662 * LMS1 - 0.808675766 * LMS2;\n    const hue = Math.atan2(OKLAB2, OKLAB1) * 180 / Math.PI;\n    const OKLCH0 = OKLAB0;\n    const OKLCH1 = Math.hypot(OKLAB1, OKLAB2);\n    const OKLCH2 = hue >= 0 ? hue : hue + 360;\n    return [OKLCH0, OKLCH1, OKLCH2];\n  }\n  static OKLCHtoRGB(l, c, h) {\n    const OKLAB0 = l;\n    const OKLAB1 = c * Math.cos(h * Math.PI / 180);\n    const OKLAB2 = c * Math.sin(h * Math.PI / 180);\n    const LMS0 = __pow(OKLAB0 + 0.3963377774 * OKLAB1 + 0.2158037573 * OKLAB2, 3);\n    const LMS1 = __pow(OKLAB0 - 0.1055613458 * OKLAB1 - 0.0638541728 * OKLAB2, 3);\n    const LMS2 = __pow(OKLAB0 - 0.0894841775 * OKLAB1 - 1.291485548 * OKLAB2, 3);\n    const LSRGB0 = 4.0767416621 * LMS0 - 3.3077115913 * LMS1 + 0.2309699292 * LMS2;\n    const LSRGB1 = -1.2684380046 * LMS0 + 2.6097574011 * LMS1 - 0.3413193965 * LMS2;\n    const LSRGB2 = -0.0041960863 * LMS0 - 0.7034186147 * LMS1 + 1.707614701 * LMS2;\n    const SRGB0 = srgbFromLinear(LSRGB0);\n    const SRGB1 = srgbFromLinear(LSRGB1);\n    const SRGB2 = srgbFromLinear(LSRGB2);\n    return [SRGB0, SRGB1, SRGB2];\n  }\n  static RGBtoHSL(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const l = (max + min) / 2;\n    let h;\n    let s;\n    if (max === min) {\n      h = NaN;\n      s = 0;\n    } else {\n      const delta2 = max - min;\n      s = l > 0.5 ? delta2 / (2 - max - min) : delta2 / (max + min);\n      if (max === r) {\n        h = (g - b) / delta2 + (g < b ? 6 : 0);\n      } else if (max === g) {\n        h = (b - r) / delta2 + 2;\n      } else {\n        h = (r - g) / delta2 + 4;\n      }\n      h *= 360 / 6;\n    }\n    return [h, s, l];\n  }\n  static HSLtoRGB(h, s, l) {\n    if (s === 0) {\n      return [l, l, l];\n    }\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    function hueToRgb(t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n    const r = hueToRgb(h / 360 + 1 / 3);\n    const g = hueToRgb(h / 360);\n    const b = hueToRgb(h / 360 - 1 / 3);\n    return [r, g, b];\n  }\n  /**\n   * Converts the given RGB triple to an array of HSB (HSV) components.\n   * The hue component will be `NaN` for achromatic colors.\n   */\n  static RGBtoHSB(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const S = max === 0 ? 0 : (max - min) / max;\n    let H = NaN;\n    if (min !== max) {\n      const delta2 = max - min;\n      const rc = (max - r) / delta2;\n      const gc = (max - g) / delta2;\n      const bc = (max - b) / delta2;\n      if (r === max) {\n        H = bc - gc;\n      } else if (g === max) {\n        H = 2 + rc - bc;\n      } else {\n        H = 4 + gc - rc;\n      }\n      H /= 6;\n      if (H < 0) {\n        H = H + 1;\n      }\n    }\n    return [H * 360, S, max];\n  }\n  /**\n   * Converts the given HSB (HSV) triple to an array of RGB components.\n   */\n  static HSBtoRGB(H, S, B) {\n    if (isNaN(H)) {\n      H = 0;\n    }\n    H = (H % 360 + 360) % 360 / 360;\n    let r = 0;\n    let g = 0;\n    let b = 0;\n    if (S === 0) {\n      r = g = b = B;\n    } else {\n      const h = (H - Math.floor(H)) * 6;\n      const f = h - Math.floor(h);\n      const p = B * (1 - S);\n      const q = B * (1 - S * f);\n      const t = B * (1 - S * (1 - f));\n      switch (h >> 0) {\n        case 0:\n          r = B;\n          g = t;\n          b = p;\n          break;\n        case 1:\n          r = q;\n          g = B;\n          b = p;\n          break;\n        case 2:\n          r = p;\n          g = B;\n          b = t;\n          break;\n        case 3:\n          r = p;\n          g = q;\n          b = B;\n          break;\n        case 4:\n          r = t;\n          g = p;\n          b = B;\n          break;\n        case 5:\n          r = B;\n          g = p;\n          b = q;\n          break;\n      }\n    }\n    return [r, g, b];\n  }\n  derive(hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n    const hsb = _Color.RGBtoHSB(this.r, this.g, this.b);\n    let b = hsb[2];\n    if (b == 0 && brightnessFactor > 1) {\n      b = 0.05;\n    }\n    const h = ((hsb[0] + hueShift) % 360 + 360) % 360;\n    const s = clamp(0, hsb[1] * saturationFactor, 1);\n    b = clamp(0, b * brightnessFactor, 1);\n    const a = clamp(0, this.a * opacityFactor, 1);\n    const rgba = _Color.HSBtoRGB(h, s, b);\n    rgba.push(a);\n    return _Color.fromArray(rgba);\n  }\n  brighter() {\n    return this.derive(0, 1, 1 / 0.7, 1);\n  }\n  darker() {\n    return this.derive(0, 1, 0.7, 1);\n  }\n  static interpolate(color, other) {\n    const c0 = _Color.tryParseFromString(color);\n    const c1 = _Color.tryParseFromString(other);\n    return t => {\n      const i = (x, y) => x * (1 - t) + y * t;\n      const c = new _Color(i(c0.r, c1.r), i(c0.g, c1.g), i(c0.b, c1.b), i(c0.a, c1.a));\n      return c.toString();\n    };\n  }\n};\n_Color.didDebug = false;\n/**\n * CSS Color Module Level 4:\n * https://drafts.csswg.org/css-color/#named-colors\n */\n_Color.nameToHex = Object.freeze({\n  aliceblue: \"#F0F8FF\",\n  antiquewhite: \"#FAEBD7\",\n  aqua: \"#00FFFF\",\n  aquamarine: \"#7FFFD4\",\n  azure: \"#F0FFFF\",\n  beige: \"#F5F5DC\",\n  bisque: \"#FFE4C4\",\n  black: \"#000000\",\n  blanchedalmond: \"#FFEBCD\",\n  blue: \"#0000FF\",\n  blueviolet: \"#8A2BE2\",\n  brown: \"#A52A2A\",\n  burlywood: \"#DEB887\",\n  cadetblue: \"#5F9EA0\",\n  chartreuse: \"#7FFF00\",\n  chocolate: \"#D2691E\",\n  coral: \"#FF7F50\",\n  cornflowerblue: \"#6495ED\",\n  cornsilk: \"#FFF8DC\",\n  crimson: \"#DC143C\",\n  cyan: \"#00FFFF\",\n  darkblue: \"#00008B\",\n  darkcyan: \"#008B8B\",\n  darkgoldenrod: \"#B8860B\",\n  darkgray: \"#A9A9A9\",\n  darkgreen: \"#006400\",\n  darkgrey: \"#A9A9A9\",\n  darkkhaki: \"#BDB76B\",\n  darkmagenta: \"#8B008B\",\n  darkolivegreen: \"#556B2F\",\n  darkorange: \"#FF8C00\",\n  darkorchid: \"#9932CC\",\n  darkred: \"#8B0000\",\n  darksalmon: \"#E9967A\",\n  darkseagreen: \"#8FBC8F\",\n  darkslateblue: \"#483D8B\",\n  darkslategray: \"#2F4F4F\",\n  darkslategrey: \"#2F4F4F\",\n  darkturquoise: \"#00CED1\",\n  darkviolet: \"#9400D3\",\n  deeppink: \"#FF1493\",\n  deepskyblue: \"#00BFFF\",\n  dimgray: \"#696969\",\n  dimgrey: \"#696969\",\n  dodgerblue: \"#1E90FF\",\n  firebrick: \"#B22222\",\n  floralwhite: \"#FFFAF0\",\n  forestgreen: \"#228B22\",\n  fuchsia: \"#FF00FF\",\n  gainsboro: \"#DCDCDC\",\n  ghostwhite: \"#F8F8FF\",\n  gold: \"#FFD700\",\n  goldenrod: \"#DAA520\",\n  gray: \"#808080\",\n  green: \"#008000\",\n  greenyellow: \"#ADFF2F\",\n  grey: \"#808080\",\n  honeydew: \"#F0FFF0\",\n  hotpink: \"#FF69B4\",\n  indianred: \"#CD5C5C\",\n  indigo: \"#4B0082\",\n  ivory: \"#FFFFF0\",\n  khaki: \"#F0E68C\",\n  lavender: \"#E6E6FA\",\n  lavenderblush: \"#FFF0F5\",\n  lawngreen: \"#7CFC00\",\n  lemonchiffon: \"#FFFACD\",\n  lightblue: \"#ADD8E6\",\n  lightcoral: \"#F08080\",\n  lightcyan: \"#E0FFFF\",\n  lightgoldenrodyellow: \"#FAFAD2\",\n  lightgray: \"#D3D3D3\",\n  lightgreen: \"#90EE90\",\n  lightgrey: \"#D3D3D3\",\n  lightpink: \"#FFB6C1\",\n  lightsalmon: \"#FFA07A\",\n  lightseagreen: \"#20B2AA\",\n  lightskyblue: \"#87CEFA\",\n  lightslategray: \"#778899\",\n  lightslategrey: \"#778899\",\n  lightsteelblue: \"#B0C4DE\",\n  lightyellow: \"#FFFFE0\",\n  lime: \"#00FF00\",\n  limegreen: \"#32CD32\",\n  linen: \"#FAF0E6\",\n  magenta: \"#FF00FF\",\n  maroon: \"#800000\",\n  mediumaquamarine: \"#66CDAA\",\n  mediumblue: \"#0000CD\",\n  mediumorchid: \"#BA55D3\",\n  mediumpurple: \"#9370DB\",\n  mediumseagreen: \"#3CB371\",\n  mediumslateblue: \"#7B68EE\",\n  mediumspringgreen: \"#00FA9A\",\n  mediumturquoise: \"#48D1CC\",\n  mediumvioletred: \"#C71585\",\n  midnightblue: \"#191970\",\n  mintcream: \"#F5FFFA\",\n  mistyrose: \"#FFE4E1\",\n  moccasin: \"#FFE4B5\",\n  navajowhite: \"#FFDEAD\",\n  navy: \"#000080\",\n  oldlace: \"#FDF5E6\",\n  olive: \"#808000\",\n  olivedrab: \"#6B8E23\",\n  orange: \"#FFA500\",\n  orangered: \"#FF4500\",\n  orchid: \"#DA70D6\",\n  palegoldenrod: \"#EEE8AA\",\n  palegreen: \"#98FB98\",\n  paleturquoise: \"#AFEEEE\",\n  palevioletred: \"#DB7093\",\n  papayawhip: \"#FFEFD5\",\n  peachpuff: \"#FFDAB9\",\n  peru: \"#CD853F\",\n  pink: \"#FFC0CB\",\n  plum: \"#DDA0DD\",\n  powderblue: \"#B0E0E6\",\n  purple: \"#800080\",\n  rebeccapurple: \"#663399\",\n  red: \"#FF0000\",\n  rosybrown: \"#BC8F8F\",\n  royalblue: \"#4169E1\",\n  saddlebrown: \"#8B4513\",\n  salmon: \"#FA8072\",\n  sandybrown: \"#F4A460\",\n  seagreen: \"#2E8B57\",\n  seashell: \"#FFF5EE\",\n  sienna: \"#A0522D\",\n  silver: \"#C0C0C0\",\n  skyblue: \"#87CEEB\",\n  slateblue: \"#6A5ACD\",\n  slategray: \"#708090\",\n  slategrey: \"#708090\",\n  snow: \"#FFFAFA\",\n  springgreen: \"#00FF7F\",\n  steelblue: \"#4682B4\",\n  tan: \"#D2B48C\",\n  teal: \"#008080\",\n  thistle: \"#D8BFD8\",\n  tomato: \"#FF6347\",\n  transparent: \"#00000000\",\n  turquoise: \"#40E0D0\",\n  violet: \"#EE82EE\",\n  wheat: \"#F5DEB3\",\n  white: \"#FFFFFF\",\n  whitesmoke: \"#F5F5F5\",\n  yellow: \"#FFFF00\",\n  yellowgreen: \"#9ACD32\"\n});\nvar Color = _Color;\n\n// packages/ag-charts-community/src/util/interpolate.ts\nfunction interpolateNumber(a, b) {\n  return d => Number(a) * (1 - d) + Number(b) * d;\n}\nfunction interpolateColor(a, b) {\n  if (typeof a === \"string\") {\n    try {\n      a = Color.fromString(a);\n    } catch (e) {\n      a = Color.fromArray([0, 0, 0]);\n    }\n  }\n  if (typeof b === \"string\") {\n    try {\n      b = Color.fromString(b);\n    } catch (e) {\n      b = Color.fromArray([0, 0, 0]);\n    }\n  }\n  const red = interpolateNumber(a.r, b.r);\n  const green = interpolateNumber(a.g, b.g);\n  const blue = interpolateNumber(a.b, b.b);\n  const alpha = interpolateNumber(a.a, b.a);\n  return d => Color.fromArray([red(d), green(d), blue(d), alpha(d)]).toRgbaString();\n}\n\n// packages/ag-charts-community/src/motion/easing.ts\nvar easing_exports = {};\n__export(easing_exports, {\n  easeIn: () => easeIn,\n  easeInOut: () => easeInOut,\n  easeInOutQuad: () => easeInOutQuad,\n  easeInQuad: () => easeInQuad,\n  easeOut: () => easeOut,\n  easeOutQuad: () => easeOutQuad,\n  inverseEaseOut: () => inverseEaseOut,\n  linear: () => linear\n});\nvar linear = n => n;\nvar easeIn = n => 1 - Math.cos(n * Math.PI / 2);\nvar easeOut = n => Math.sin(n * Math.PI / 2);\nvar easeInOut = n => -(Math.cos(n * Math.PI) - 1) / 2;\nvar easeInQuad = n => n * n;\nvar easeOutQuad = n => 1 - __pow(1 - n, 2);\nvar easeInOutQuad = n => n < 0.5 ? 2 * n * n : 1 - __pow(-2 * n + 2, 2) / 2;\nvar inverseEaseOut = x => 2 * Math.asin(x) / Math.PI;\n\n// packages/ag-charts-community/src/motion/animation.ts\nvar QUICK_TRANSITION = 0.2;\nvar PHASE_ORDER = [\"initial\", \"remove\", \"update\", \"add\", \"trailing\", \"end\", \"none\"];\nvar PHASE_METADATA = {\n  initial: {\n    animationDuration: 1,\n    animationDelay: 0\n  },\n  add: {\n    animationDuration: 0.25,\n    animationDelay: 0.75\n  },\n  remove: {\n    animationDuration: 0.25,\n    animationDelay: 0\n  },\n  update: {\n    animationDuration: 0.5,\n    animationDelay: 0.25\n  },\n  trailing: {\n    animationDuration: QUICK_TRANSITION,\n    animationDelay: 1,\n    skipIfNoEarlierAnimations: true\n  },\n  end: {\n    animationDelay: 1 + QUICK_TRANSITION,\n    animationDuration: 0,\n    skipIfNoEarlierAnimations: true\n  },\n  none: {\n    animationDuration: 0,\n    animationDelay: 0\n  }\n};\nvar RepeatType = /* @__PURE__ */(RepeatType2 => {\n  RepeatType2[\"Loop\"] = \"loop\";\n  RepeatType2[\"Reverse\"] = \"reverse\";\n  return RepeatType2;\n})(RepeatType || {});\nfunction isNodeArray(array) {\n  return array.every(n => n instanceof Node);\n}\nfunction deconstructSelectionsOrNodes(selectionsOrNodes) {\n  return isNodeArray(selectionsOrNodes) ? {\n    nodes: selectionsOrNodes,\n    selections: []\n  } : {\n    nodes: [],\n    selections: selectionsOrNodes\n  };\n}\nvar Animation = class {\n  constructor(opts) {\n    this.isComplete = false;\n    this.elapsed = 0;\n    this.iteration = 0;\n    this.isPlaying = false;\n    this.isReverse = false;\n    var _a, _b, _c, _d, _e, _f, _g;\n    this.id = opts.id;\n    this.groupId = opts.groupId;\n    this.autoplay = (_a = opts.autoplay) != null ? _a : true;\n    this.ease = (_b = opts.ease) != null ? _b : linear;\n    this.phase = opts.phase;\n    const durationProportion = (_c = opts.duration) != null ? _c : PHASE_METADATA[this.phase].animationDuration;\n    this.duration = durationProportion * opts.defaultDuration;\n    this.delay = ((_d = opts.delay) != null ? _d : 0) * opts.defaultDuration;\n    this.onComplete = opts.onComplete;\n    this.onPlay = opts.onPlay;\n    this.onStop = opts.onStop;\n    this.onUpdate = opts.onUpdate;\n    this.interpolate = this.createInterpolator(opts.from, opts.to);\n    this.from = opts.from;\n    if (opts.skip === true) {\n      (_e = this.onUpdate) == null ? void 0 : _e.call(this, opts.to, false, this);\n      (_f = this.onStop) == null ? void 0 : _f.call(this, this);\n      (_g = this.onComplete) == null ? void 0 : _g.call(this, this);\n      this.isComplete = true;\n    }\n    if (opts.collapsable !== false) {\n      this.duration = this.checkCollapse(opts, this.duration);\n    }\n  }\n  checkCollapse(opts, calculatedDuration) {\n    if (opts.from === opts.to) return 0;\n    const diff2 = typeof opts.from === \"object\" ? jsonDiff(opts.from, opts.to) : null;\n    if (diff2) {\n      return calculatedDuration;\n    }\n    return 0;\n  }\n  play(initialUpdate = false) {\n    var _a, _b;\n    if (this.isPlaying || this.isComplete) return;\n    this.isPlaying = true;\n    (_a = this.onPlay) == null ? void 0 : _a.call(this, this);\n    if (!this.autoplay) return;\n    this.autoplay = false;\n    if (!initialUpdate) return;\n    (_b = this.onUpdate) == null ? void 0 : _b.call(this, this.from, true, this);\n  }\n  pause() {\n    this.isPlaying = false;\n  }\n  stop() {\n    var _a;\n    this.isPlaying = false;\n    if (!this.isComplete) {\n      this.isComplete = true;\n      (_a = this.onStop) == null ? void 0 : _a.call(this, this);\n    }\n  }\n  update(time2) {\n    var _a, _b;\n    if (this.isComplete) return time2;\n    if (!this.isPlaying && this.autoplay) {\n      this.play(true);\n    }\n    const previousElapsed = this.elapsed;\n    this.elapsed += time2;\n    if (this.delay > this.elapsed) return 0;\n    const value = this.interpolate(this.isReverse ? 1 - this.delta : this.delta);\n    (_a = this.onUpdate) == null ? void 0 : _a.call(this, value, false, this);\n    const totalDuration = this.delay + this.duration;\n    if (this.elapsed >= totalDuration) {\n      this.stop();\n      this.isComplete = true;\n      (_b = this.onComplete) == null ? void 0 : _b.call(this, this);\n      return time2 - (totalDuration - previousElapsed);\n    }\n    return 0;\n  }\n  get delta() {\n    return this.ease(clamp(0, (this.elapsed - this.delay) / this.duration, 1));\n  }\n  createInterpolator(from, to) {\n    if (typeof to !== \"object\" || isInterpolating(to)) {\n      return this.interpolateValue(from, to);\n    }\n    const interpolatorEntries = [];\n    for (const key in to) {\n      const interpolator = this.interpolateValue(from[key], to[key]);\n      if (interpolator != null) {\n        interpolatorEntries.push([key, interpolator]);\n      }\n    }\n    return d => {\n      const result = {};\n      for (const [key, interpolator] of interpolatorEntries) {\n        result[key] = interpolator(d);\n      }\n      return result;\n    };\n  }\n  interpolateValue(a, b) {\n    if (a === void 0 || b === void 0) {\n      return;\n    } else if (isInterpolating(a)) {\n      return d => a[interpolate](b, d);\n    }\n    try {\n      switch (typeof a) {\n        case \"number\":\n          return interpolateNumber(a, b);\n        case \"string\":\n          return interpolateColor(a, b);\n        case \"boolean\":\n          if (a === b) return () => a;\n          break;\n      }\n    } catch (e) {}\n    throw new Error(`Unable to interpolate values: ${a}, ${b}`);\n  }\n};\n\n// packages/ag-charts-community/src/motion/fromToMotion.ts\nvar NODE_UPDATE_STATE_TO_PHASE_MAPPING = {\n  added: \"add\",\n  updated: \"update\",\n  removed: \"remove\",\n  unknown: \"initial\",\n  \"no-op\": \"none\"\n};\nfunction fromToMotion(groupId, subId, animationManager, selectionsOrNodes, fns, getDatumId, diff2) {\n  const {\n    fromFn,\n    toFn,\n    intermediateFn\n  } = fns;\n  const {\n    nodes,\n    selections\n  } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  const processNodes = (liveNodes, subNodes) => {\n    var _c;\n    let prevFromProps;\n    let liveNodeIndex = 0;\n    let nodeIndex = 0;\n    for (const node of subNodes) {\n      const isLive = liveNodes[liveNodeIndex] === node;\n      const ctx = {\n        last: nodeIndex >= subNodes.length - 1,\n        lastLive: liveNodeIndex >= liveNodes.length - 1,\n        prev: subNodes[nodeIndex - 1],\n        prevFromProps,\n        prevLive: liveNodes[liveNodeIndex - 1],\n        next: subNodes[nodeIndex + 1],\n        nextLive: liveNodes[liveNodeIndex + (isLive ? 1 : 0)]\n      };\n      const animationId = `${groupId}_${subId}_${node.id}`;\n      animationManager.stopByAnimationId(animationId);\n      let status = \"unknown\";\n      if (!isLive) {\n        status = \"removed\";\n      } else if (getDatumId && diff2) {\n        status = calculateStatus(node, node.datum, getDatumId, diff2);\n      }\n      const _a = fromFn(node, node.datum, status, ctx),\n        {\n          phase,\n          start,\n          finish,\n          delay,\n          duration\n        } = _a,\n        from = __objRest(_a, [\"phase\", \"start\", \"finish\", \"delay\", \"duration\"]);\n      const _b = toFn(node, node.datum, status, ctx),\n        {\n          phase: toPhase,\n          start: toStart,\n          finish: toFinish,\n          delay: toDelay,\n          duration: toDuration\n        } = _b,\n        to = __objRest(_b, [\"phase\", \"start\", \"finish\", \"delay\", \"duration\"]);\n      const collapsable = finish == null && toFinish == null;\n      animationManager.animate({\n        id: animationId,\n        groupId,\n        phase: (_c = phase != null ? phase : toPhase) != null ? _c : \"update\",\n        duration: duration != null ? duration : toDuration,\n        delay: delay != null ? delay : toDelay,\n        from,\n        to,\n        ease: easeOut,\n        collapsable,\n        onPlay: () => {\n          node.setProperties(__spreadValues(__spreadValues({}, start), toStart));\n        },\n        onUpdate(props) {\n          node.setProperties(props);\n          if (intermediateFn) {\n            node.setProperties(intermediateFn(node, node.datum, status, ctx));\n          }\n        },\n        onStop: () => {\n          node.setProperties(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, start), toStart), from), to), finish), toFinish));\n        }\n      });\n      if (isLive) {\n        liveNodeIndex++;\n      }\n      nodeIndex++;\n      prevFromProps = from;\n    }\n  };\n  let selectionIndex = 0;\n  for (const selection of selections) {\n    const selectionNodes = selection.nodes();\n    const liveNodes = selectionNodes.filter(n => !selection.isGarbage(n));\n    processNodes(liveNodes, selectionNodes);\n    animationManager.animate({\n      id: `${groupId}_${subId}_selection_${selectionIndex}`,\n      groupId,\n      phase: \"end\",\n      from: 0,\n      to: 1,\n      ease: easeOut,\n      onStop() {\n        selection.cleanup();\n      }\n    });\n    selectionIndex++;\n  }\n  processNodes(nodes, nodes);\n}\nfunction staticFromToMotion(groupId, subId, animationManager, selectionsOrNodes, from, to, extraOpts) {\n  const {\n    nodes,\n    selections\n  } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  const {\n    start,\n    finish,\n    phase\n  } = extraOpts;\n  const collapsable = finish == null;\n  animationManager.animate({\n    id: `${groupId}_${subId}`,\n    groupId,\n    phase: phase != null ? phase : \"update\",\n    from,\n    to,\n    ease: easeOut,\n    collapsable,\n    onPlay: () => {\n      if (!start) return;\n      for (const node of nodes) {\n        node.setProperties(start);\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(start);\n        }\n      }\n    },\n    onUpdate(props) {\n      for (const node of nodes) {\n        node.setProperties(props);\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(props);\n        }\n      }\n    },\n    onStop: () => {\n      for (const node of nodes) {\n        node.setProperties(__spreadValues(__spreadValues({}, to), finish));\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(__spreadValues(__spreadValues({}, to), finish));\n        }\n      }\n    }\n  });\n}\nfunction calculateStatus(node, datum, getDatumId, diff2) {\n  const id = getDatumId(node, datum);\n  if (diff2.added.has(id)) {\n    return \"added\";\n  }\n  if (diff2.removed.has(id)) {\n    return \"removed\";\n  }\n  return \"updated\";\n}\n\n// packages/ag-charts-community/src/util/angle.ts\nvar twoPi = Math.PI * 2;\nfunction normalizeAngle360(radians) {\n  radians %= twoPi;\n  radians += twoPi;\n  radians %= twoPi;\n  return radians;\n}\nfunction normalizeAngle360Inclusive(radians) {\n  radians %= twoPi;\n  radians += twoPi;\n  if (radians !== twoPi) {\n    radians %= twoPi;\n  }\n  return radians;\n}\nfunction normalizeAngle180(radians) {\n  radians %= twoPi;\n  if (radians < -Math.PI) {\n    radians += twoPi;\n  } else if (radians >= Math.PI) {\n    radians -= twoPi;\n  }\n  return radians;\n}\nfunction isBetweenAngles(targetAngle, startAngle, endAngle) {\n  const t = normalizeAngle360(targetAngle);\n  const a0 = normalizeAngle360(startAngle);\n  const a1 = normalizeAngle360Inclusive(endAngle);\n  if (a0 <= a1) {\n    return a0 <= t && t <= a1;\n  } else {\n    return a0 <= t || t <= a1;\n  }\n}\nfunction toRadians(degrees) {\n  return degrees / 180 * Math.PI;\n}\nfunction toDegrees(radians) {\n  return radians / Math.PI * 180;\n}\nfunction angleBetween(angle0, angle1) {\n  angle0 = normalizeAngle360(angle0);\n  angle1 = normalizeAngle360(angle1);\n  return angle1 - angle0 + (angle0 > angle1 ? 2 * Math.PI : 0);\n}\nfunction displacePointFromVector(centerX, centerY, radius, angle) {\n  const x = centerX + radius * Math.cos(angle);\n  const y = centerY + radius * Math.sin(angle);\n  return {\n    x,\n    y\n  };\n}\n\n// packages/ag-charts-community/src/scale/invalidating.ts\nvar Invalidating = (target, propertyKey) => {\n  const mappedProperty = Symbol(String(propertyKey));\n  target[mappedProperty] = void 0;\n  Object.defineProperty(target, propertyKey, {\n    get() {\n      return this[mappedProperty];\n    },\n    set(newValue) {\n      const oldValue = this[mappedProperty];\n      if (oldValue !== newValue) {\n        this[mappedProperty] = newValue;\n        this.invalid = true;\n      }\n    },\n    enumerable: true,\n    configurable: false\n  });\n};\n\n// packages/ag-charts-community/src/scale/bandScale.ts\nvar _BandScale = class _BandScale {\n  constructor() {\n    this.type = \"band\";\n    this.invalid = true;\n    this.interval = void 0;\n    /**\n     * Maps datum to its index in the {@link domain} array.\n     * Used to check for duplicate datums (not allowed).\n     */\n    this.index = /* @__PURE__ */new Map();\n    /**\n     * The output range values for datum at each index.\n     */\n    this.ordinalRange = [];\n    /**\n     * Contains unique datums only. Since `{}` is used in place of `Map`\n     * for IE11 compatibility, the datums are converted `toString` before\n     * the uniqueness check.\n     */\n    this._domain = [];\n    this.range = [0, 1];\n    this._bandwidth = 1;\n    this._step = 1;\n    this._rawBandwidth = 1;\n    /**\n     * The ratio of the range that is reserved for space between bands.\n     */\n    this._paddingInner = 0;\n    /**\n     * The ratio of the range that is reserved for space before the first\n     * and after the last band.\n     */\n    this._paddingOuter = 0;\n    this.round = false;\n  }\n  static is(value) {\n    return value instanceof _BandScale;\n  }\n  refresh() {\n    if (!this.invalid) return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n  set domain(values) {\n    this.invalid = true;\n    const domain = [];\n    this.index = /* @__PURE__ */new Map();\n    const index = this.index;\n    values.forEach(value => {\n      if (this.getIndex(value) === void 0) {\n        index.set(value, domain.push(value) - 1);\n      }\n    });\n    this._domain = domain;\n  }\n  get domain() {\n    return this._domain;\n  }\n  ticks() {\n    this.refresh();\n    let {\n      interval = 1\n    } = this;\n    if (typeof interval !== \"number\") {\n      interval = Number(interval);\n    }\n    const step = Math.abs(Math.round(interval));\n    return this._domain.filter((_, i) => i % step === 0);\n  }\n  convert(d) {\n    this.refresh();\n    const i = this.getIndex(d);\n    if (i === void 0) {\n      return NaN;\n    }\n    const r = this.ordinalRange[i];\n    if (r === void 0) {\n      return NaN;\n    }\n    return r;\n  }\n  invert(position) {\n    this.refresh();\n    const index = this.ordinalRange.findIndex(p => p === position);\n    return this.domain[index];\n  }\n  invertNearest(position) {\n    var _a;\n    this.refresh();\n    let nearest = -1;\n    let minDistance = Infinity;\n    const index = this.ordinalRange.findIndex((p, i) => {\n      if (p === position) return true;\n      const distance2 = Math.abs(position - p);\n      if (distance2 < minDistance) {\n        minDistance = distance2;\n        nearest = i;\n      }\n      return false;\n    });\n    return (_a = this.domain[index]) != null ? _a : this.domain[nearest];\n  }\n  get bandwidth() {\n    this.refresh();\n    return this._bandwidth;\n  }\n  get step() {\n    this.refresh();\n    return this._step;\n  }\n  get rawBandwidth() {\n    this.refresh();\n    return this._rawBandwidth;\n  }\n  set padding(value) {\n    value = clamp(0, value, 1);\n    this._paddingInner = value;\n    this._paddingOuter = value;\n  }\n  get padding() {\n    return this._paddingInner;\n  }\n  set paddingInner(value) {\n    this._paddingInner = clamp(0, value, 1);\n  }\n  get paddingInner() {\n    return this._paddingInner;\n  }\n  set paddingOuter(value) {\n    this._paddingOuter = clamp(0, value, 1);\n  }\n  get paddingOuter() {\n    return this._paddingOuter;\n  }\n  update() {\n    const count = this._domain.length;\n    if (count === 0) {\n      return;\n    }\n    const round3 = this.round;\n    const paddingInner = this._paddingInner;\n    const paddingOuter = this._paddingOuter;\n    const [r0, r1] = this.range;\n    const width = r1 - r0;\n    const rawStep = width / Math.max(1, count + 2 * paddingOuter - paddingInner);\n    const step = round3 ? Math.floor(rawStep) : rawStep;\n    const fullBandWidth = step * (count - paddingInner);\n    const x0 = r0 + (width - fullBandWidth) / 2;\n    const start = round3 ? Math.round(x0) : x0;\n    const bw = step * (1 - paddingInner);\n    const bandwidth = round3 ? Math.round(bw) : bw;\n    const rawBandwidth = rawStep * (1 - paddingInner);\n    const values = [];\n    for (let i = 0; i < count; i++) {\n      values.push(start + step * i);\n    }\n    this._bandwidth = bandwidth;\n    this._rawBandwidth = rawBandwidth;\n    this._step = step;\n    this.ordinalRange = values;\n  }\n  getIndex(value) {\n    if (!(value instanceof Date)) {\n      return this.index.get(value);\n    }\n    const valueOf = value.valueOf();\n    let index = 0;\n    for (const key of this.index.keys()) {\n      if (key instanceof Date && key.valueOf() === valueOf) {\n        return index;\n      }\n      index++;\n    }\n  }\n};\n__decorateClass([Invalidating], _BandScale.prototype, \"interval\", 2);\n__decorateClass([Invalidating], _BandScale.prototype, \"range\", 2);\n__decorateClass([Invalidating], _BandScale.prototype, \"round\", 2);\nvar BandScale = _BandScale;\n\n// packages/ag-charts-community/src/util/default.ts\nfunction Default(defaultValue, replaces = [void 0]) {\n  return addTransformToInstanceProperty((_, __, v) => {\n    if (replaces.includes(v)) {\n      return isFunction(defaultValue) ? defaultValue(v) : defaultValue;\n    }\n    return v;\n  });\n}\n\n// packages/ag-charts-community/src/util/validation.ts\nfunction Validate(predicate, options = {}) {\n  const {\n    optional = false,\n    property: overrideProperty\n  } = options;\n  return addTransformToInstanceProperty((target, property, value) => {\n    var _a;\n    const context = __spreadProps(__spreadValues({}, options), {\n      target,\n      property\n    });\n    if (optional && typeof value === \"undefined\" || predicate(value, context)) {\n      if (isProperties(target[property]) && !isProperties(value)) {\n        target[property].set(value);\n        return target[property];\n      }\n      return value;\n    }\n    const cleanKey = overrideProperty != null ? overrideProperty : String(property).replace(/^_*/, \"\");\n    const targetName = (_a = target.constructor.className) != null ? _a : target.constructor.name.replace(/Properties$/, \"\");\n    let valueString = stringify(value);\n    const maxLength = 50;\n    if (valueString != null && valueString.length > maxLength) {\n      const excessCharacters = valueString.length - maxLength;\n      valueString = valueString.slice(0, maxLength) + `... (+${excessCharacters} characters)`;\n    }\n    Logger.warn(`Property [${cleanKey}] of [${targetName}] cannot be set to [${valueString}]${predicate.message ? `; expecting ${getPredicateMessage(predicate, context)}` : \"\"}, ignoring.`);\n    return BREAK_TRANSFORM_CHAIN;\n  }, void 0, {\n    optional\n  });\n}\nvar AND = (...predicates) => {\n  const messages = [];\n  return predicateWithMessage((value, ctx) => {\n    messages.length = 0;\n    return predicates.every(predicate => {\n      const isValid = predicate(value, ctx);\n      if (!isValid) {\n        messages.push(getPredicateMessage(predicate, ctx));\n      }\n      return isValid;\n    });\n  }, () => messages.filter(Boolean).join(\" AND \"));\n};\nvar OR = (...predicates) => predicateWithMessage((value, ctx) => predicates.some(predicate => predicate(value, ctx)), ctx => predicates.map(getPredicateMessageMapper(ctx)).filter(Boolean).join(\" OR \"));\nvar OBJECT = attachObjectRestrictions(predicateWithMessage((value, ctx) => isProperties(value) || isObject(value) && isProperties(ctx.target[ctx.property]), \"a properties object\"));\nvar PLAIN_OBJECT = attachObjectRestrictions(predicateWithMessage(value => isObject(value), \"an object\"));\nvar BOOLEAN = predicateWithMessage(isBoolean, \"a boolean\");\nvar FUNCTION = predicateWithMessage(isFunction, \"a function\");\nvar STRING = predicateWithMessage(isString, \"a string\");\nvar NUMBER = attachNumberRestrictions(predicateWithMessage(isFiniteNumber, \"a number\"));\nvar NAN = predicateWithMessage(value => isNumber(value) && isNaN(value), \"NaN\");\nvar POSITIVE_NUMBER = NUMBER.restrict({\n  min: 0\n});\nvar RATIO = NUMBER.restrict({\n  min: 0,\n  max: 1\n});\nvar DEGREE = NUMBER.restrict({\n  min: -360,\n  max: 360\n});\nvar NUMBER_OR_NAN = OR(NUMBER, NAN);\nvar ARRAY = attachArrayRestrictions(predicateWithMessage(isArray, \"an array\"));\nvar ARRAY_OF = (predicate, message) => predicateWithMessage((value, ctx) => isArray(value) && value.every(item => predicate(item, ctx)), ctx => {\n  var _a;\n  const arrayMessage = (_a = getPredicateMessage(ARRAY, ctx)) != null ? _a : \"\";\n  return message ? `${arrayMessage} of ${message}` : arrayMessage;\n});\nvar isComparable = value => isFiniteNumber(value) || isValidDate(value);\nvar LESS_THAN = otherField => predicateWithMessage((v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v < ctx.target[otherField], `to be less than ${otherField}`);\nvar GREATER_THAN = otherField => predicateWithMessage((v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v > ctx.target[otherField], `to be greater than ${otherField}`);\nvar DATE = predicateWithMessage(isValidDate, \"Date object\");\nvar DATE_OR_DATETIME_MS = OR(DATE, POSITIVE_NUMBER);\nvar colorMessage = `A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc`;\nvar COLOR_STRING = predicateWithMessage(v => isString(v) && Color.validColorString(v), `color String. ${colorMessage}`);\nvar COLOR_STRING_ARRAY = predicateWithMessage(ARRAY_OF(COLOR_STRING), `color strings. ${colorMessage}`);\nvar BOOLEAN_ARRAY = ARRAY_OF(BOOLEAN, \"boolean values\");\nvar NUMBER_ARRAY = ARRAY_OF(NUMBER, \"numbers\");\nvar STRING_ARRAY = ARRAY_OF(STRING, \"strings\");\nvar DATE_ARRAY = predicateWithMessage(ARRAY_OF(DATE), \"Date objects\");\nvar OBJECT_ARRAY = predicateWithMessage(ARRAY_OF(OBJECT), \"objects\");\nvar LINE_CAP = UNION([\"butt\", \"round\", \"square\"], \"a line cap\");\nvar LINE_JOIN = UNION([\"round\", \"bevel\", \"miter\"], \"a line join\");\nvar LINE_DASH = predicateWithMessage(ARRAY_OF(POSITIVE_NUMBER), \"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels.\");\nvar POSITION2 = UNION([\"top\", \"right\", \"bottom\", \"left\"], \"a position\");\nvar FONT_STYLE = UNION([\"normal\", \"italic\", \"oblique\"], \"a font style\");\nvar FONT_WEIGHT2 = OR(UNION([\"normal\", \"bold\", \"bolder\", \"lighter\"], \"a font weight\"), NUMBER.restrict({\n  min: 1,\n  max: 1e3\n}));\nvar TEXT_WRAP = UNION([\"never\", \"always\", \"hyphenate\", \"on-space\"], \"a text wrap strategy\");\nvar TEXT_ALIGN = UNION([\"left\", \"center\", \"right\"], \"a text align\");\nvar VERTICAL_ALIGN = UNION([\"top\", \"middle\", \"bottom\"], \"a vertical align\");\nvar OVERFLOW_STRATEGY = UNION([\"ellipsis\", \"hide\"], \"an overflow strategy\");\nvar DIRECTION = UNION([\"horizontal\", \"vertical\"], \"a direction\");\nvar PLACEMENT = UNION([\"inside\", \"outside\"], \"a placement\");\nvar INTERACTION_RANGE = OR(UNION([\"exact\", \"nearest\"], \"interaction range\"), NUMBER);\nvar LABEL_PLACEMENT = UNION([\"top\", \"bottom\", \"left\", \"right\"]);\nfunction UNION(options, message = \"a\") {\n  return predicateWithMessage(v => options.includes(v), `${message} keyword such as ${joinUnionOptions(options)}`);\n}\nvar MIN_SPACING = OR(AND(NUMBER.restrict({\n  min: 1\n}), LESS_THAN(\"maxSpacing\")), NAN);\nvar MAX_SPACING = OR(AND(NUMBER.restrict({\n  min: 1\n}), GREATER_THAN(\"minSpacing\")), NAN);\nfunction predicateWithMessage(predicate, message) {\n  predicate.message = message;\n  return predicate;\n}\nfunction joinUnionOptions(options) {\n  const values = options.map(option => `'${option}'`);\n  if (values.length === 1) {\n    return values[0];\n  }\n  const lastValue = values.pop();\n  return `${values.join(\", \")} or ${lastValue}`;\n}\nfunction getPredicateMessage(predicate, ctx) {\n  return isFunction(predicate.message) ? predicate.message(ctx) : predicate.message;\n}\nfunction getPredicateMessageMapper(ctx) {\n  return predicate => getPredicateMessage(predicate, ctx);\n}\nfunction attachArrayRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict({\n      length,\n      minLength\n    } = {}) {\n      let message = \"an array\";\n      if (isNumber(minLength) && minLength > 0) {\n        message = \"a non-empty array\";\n      } else if (isNumber(length)) {\n        message = `an array of length ${length}`;\n      }\n      return predicateWithMessage(value => isArray(value) && (isNumber(length) ? value.length === length : true) && (isNumber(minLength) ? value.length >= minLength : true), message);\n    }\n  });\n}\nfunction attachNumberRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict({\n      min,\n      max\n    } = {}) {\n      const message = [\"a number\"];\n      const hasMin = isNumber(min);\n      const hasMax = isNumber(max);\n      if (hasMin && hasMax) {\n        message.push(`between ${min} and ${max} inclusive`);\n      } else if (hasMin) {\n        message.push(`greater than or equal to ${min}`);\n      } else if (hasMax) {\n        message.push(`less than or equal to ${max}`);\n      }\n      return predicateWithMessage(value => isFiniteNumber(value) && (hasMin ? value >= min : true) && (hasMax ? value <= max : true), message.join(\" \"));\n    }\n  });\n}\nfunction attachObjectRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict(objectType) {\n      return predicateWithMessage(value => value instanceof objectType, ctx => {\n        var _a;\n        return (_a = getPredicateMessage(predicate, ctx)) != null ? _a : `an instance of ${objectType.name}`;\n      });\n    }\n  });\n}\nfunction stringify(value) {\n  if (typeof value === \"number\") {\n    if (isNaN(value)) return \"NaN\";\n    if (value === Infinity) return \"Infinity\";\n    if (value === -Infinity) return \"-Infinity\";\n  }\n  return JSON.stringify(value);\n}\n\n// packages/ag-charts-community/src/chart/axis/axisTick.ts\nvar TICK_INTERVAL = predicateWithMessage(value => isFiniteNumber(value) && value > 0 || value instanceof TimeInterval, `a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'`);\nvar AxisTick = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.width = 1;\n    this.size = 6;\n    this.color = void 0;\n    this.interval = void 0;\n    this.values = void 0;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], AxisTick.prototype, \"enabled\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisTick.prototype, \"width\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisTick.prototype, \"size\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], AxisTick.prototype, \"color\", 2);\n__decorateClass([Validate(TICK_INTERVAL, {\n  optional: true\n})], AxisTick.prototype, \"interval\", 2);\n__decorateClass([Validate(ARRAY, {\n  optional: true\n})], AxisTick.prototype, \"values\", 2);\n\n// packages/ag-charts-community/src/chart/chartAxisDirection.ts\nvar ChartAxisDirection = /* @__PURE__ */(ChartAxisDirection2 => {\n  ChartAxisDirection2[\"X\"] = \"x\";\n  ChartAxisDirection2[\"Y\"] = \"y\";\n  return ChartAxisDirection2;\n})(ChartAxisDirection || {});\n\n// packages/ag-charts-community/src/chart/chartOptions.ts\nvar JSON_APPLY_PLUGINS = {\n  constructedArrays: /* @__PURE__ */new WeakMap()\n};\nfunction assignJsonApplyConstructedArray(array, ctor) {\n  var _a;\n  (_a = JSON_APPLY_PLUGINS.constructedArrays) == null ? void 0 : _a.set(array, ctor);\n}\n\n// packages/ag-charts-community/src/scale/continuousScale.ts\nvar _ContinuousScale = class _ContinuousScale {\n  constructor(domain, range3) {\n    this.invalid = true;\n    this.nice = false;\n    this.interval = void 0;\n    this.tickCount = _ContinuousScale.defaultTickCount;\n    this.minTickCount = 0;\n    this.maxTickCount = Infinity;\n    this.niceDomain = [];\n    this.defaultClampMode = \"raw\";\n    this.domain = domain;\n    this.range = range3;\n  }\n  static is(value) {\n    return value instanceof _ContinuousScale;\n  }\n  transform(x) {\n    return x;\n  }\n  transformInvert(x) {\n    return x;\n  }\n  calcBandwidth(smallestInterval = 1) {\n    const {\n      range: range3\n    } = this;\n    const domain = this.getDomain();\n    const rangeDistance = Math.abs(range3[1] - range3[0]);\n    const intervals = Math.abs(domain[1] - domain[0]) / smallestInterval + 1;\n    const maxBands = Math.floor(rangeDistance);\n    const bands = Math.min(intervals, maxBands);\n    return rangeDistance / Math.max(1, bands);\n  }\n  getDomain() {\n    if (this.nice) {\n      this.refresh();\n      if (this.niceDomain.length) {\n        return this.niceDomain;\n      }\n    }\n    return this.domain;\n  }\n  convert(x, opts) {\n    var _a;\n    const clampMode = (_a = opts == null ? void 0 : opts.clampMode) != null ? _a : this.defaultClampMode;\n    if (!this.domain || this.domain.length < 2) {\n      return NaN;\n    }\n    this.refresh();\n    const domain = this.getDomain().map(d => this.transform(d));\n    const [d0, d1] = domain;\n    const {\n      range: range3\n    } = this;\n    const [r0, r1] = range3;\n    x = this.transform(x);\n    if (clampMode === \"clamped\") {\n      const [start, stop] = findMinMax(domain.map(Number));\n      if (Number(x) < start) {\n        return r0;\n      } else if (Number(x) > stop) {\n        return r1;\n      }\n    }\n    if (d0 === d1) {\n      return (r0 + r1) / 2;\n    } else if (x === d0) {\n      return r0;\n    } else if (x === d1) {\n      return r1;\n    }\n    return r0 + (Number(x) - Number(d0)) / (Number(d1) - Number(d0)) * (r1 - r0);\n  }\n  invert(x) {\n    this.refresh();\n    const domain = this.getDomain().map(d2 => this.transform(d2));\n    const [d0, d1] = domain;\n    const {\n      range: range3\n    } = this;\n    const [r0, r1] = range3;\n    const isReversed = r0 > r1;\n    const rMin = isReversed ? r1 : r0;\n    const rMax = isReversed ? r0 : r1;\n    let d;\n    if (x < rMin) {\n      return isReversed ? d1 : d0;\n    } else if (x > rMax) {\n      return isReversed ? d0 : d1;\n    } else if (r0 === r1) {\n      d = this.toDomain((Number(d0) + Number(d1)) / 2);\n    } else {\n      d = this.toDomain(Number(d0) + (x - r0) / (r1 - r0) * (Number(d1) - Number(d0)));\n    }\n    return this.transformInvert(d);\n  }\n  refresh() {\n    if (!this.invalid) return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n  getPixelRange() {\n    const [a, b] = this.range;\n    return Math.abs(b - a);\n  }\n};\n_ContinuousScale.defaultTickCount = 5;\n_ContinuousScale.defaultMaxTickCount = 6;\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"domain\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"range\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"nice\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"interval\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"tickCount\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"minTickCount\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"maxTickCount\", 2);\nvar ContinuousScale = _ContinuousScale;\n\n// packages/ag-charts-community/src/util/timeFormat.ts\nvar CONSTANTS = {\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n};\nfunction dayOfYear(date, startOfYear = new Date(date.getFullYear(), 0, 1)) {\n  const startOffset = date.getTimezoneOffset() - startOfYear.getTimezoneOffset();\n  const timeDiff = date.getTime() - startOfYear.getTime() + startOffset * 6e4;\n  const timeOneDay = 36e5 * 24;\n  return Math.floor(timeDiff / timeOneDay);\n}\nfunction weekOfYear(date, startDay) {\n  const startOfYear = new Date(date.getFullYear(), 0, 1);\n  const startOfYearDay = startOfYear.getDay();\n  const firstWeekStartOffset = (startDay - startOfYearDay + 7) % 7;\n  const startOffset = new Date(date.getFullYear(), 0, firstWeekStartOffset + 1);\n  if (startOffset <= date) {\n    return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n  }\n  return 0;\n}\nvar SUNDAY = 0;\nvar MONDAY = 1;\nvar THURSDAY = 4;\nfunction isoWeekOfYear(date, year2 = date.getFullYear()) {\n  const firstOfYear = new Date(year2, 0, 1);\n  const firstOfYearDay = firstOfYear.getDay();\n  const firstThursdayOffset = (THURSDAY - firstOfYearDay + 7) % 7;\n  const startOffset = new Date(year2, 0, firstThursdayOffset - (THURSDAY - MONDAY) + 1);\n  if (startOffset <= date) {\n    return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n  }\n  return isoWeekOfYear(date, year2 - 1);\n}\nfunction timezone(date) {\n  const offset4 = date.getTimezoneOffset();\n  const unsignedOffset = Math.abs(offset4);\n  const sign = offset4 > 0 ? \"-\" : \"+\";\n  return `${sign}${pad(Math.floor(unsignedOffset / 60), 2, \"0\")}${pad(Math.floor(unsignedOffset % 60), 2, \"0\")}`;\n}\nvar FORMATTERS = {\n  a: d => CONSTANTS.shortDays[d.getDay()],\n  A: d => CONSTANTS.days[d.getDay()],\n  b: d => CONSTANTS.shortMonths[d.getMonth()],\n  B: d => CONSTANTS.months[d.getMonth()],\n  c: \"%x, %X\",\n  d: (d, p) => pad(d.getDate(), 2, p != null ? p : \"0\"),\n  e: \"%_d\",\n  f: (d, p) => pad(d.getMilliseconds() * 1e3, 6, p != null ? p : \"0\"),\n  H: (d, p) => pad(d.getHours(), 2, p != null ? p : \"0\"),\n  I: (d, p) => {\n    const hours = d.getHours() % 12;\n    return hours === 0 ? \"12\" : pad(hours, 2, p != null ? p : \"0\");\n  },\n  j: (d, p) => pad(dayOfYear(d) + 1, 3, p != null ? p : \"0\"),\n  m: (d, p) => pad(d.getMonth() + 1, 2, p != null ? p : \"0\"),\n  M: (d, p) => pad(d.getMinutes(), 2, p != null ? p : \"0\"),\n  L: (d, p) => pad(d.getMilliseconds(), 3, p != null ? p : \"0\"),\n  p: d => d.getHours() < 12 ? \"AM\" : \"PM\",\n  Q: d => String(d.getTime()),\n  s: d => String(Math.floor(d.getTime() / 1e3)),\n  S: (d, p) => pad(d.getSeconds(), 2, p != null ? p : \"0\"),\n  u: d => {\n    let day2 = d.getDay();\n    if (day2 < 1) day2 += 7;\n    return String(day2 % 7);\n  },\n  U: (d, p) => pad(weekOfYear(d, SUNDAY), 2, p != null ? p : \"0\"),\n  V: (d, p) => pad(isoWeekOfYear(d), 2, p != null ? p : \"0\"),\n  w: (d, p) => pad(d.getDay(), 2, p != null ? p : \"0\"),\n  W: (d, p) => pad(weekOfYear(d, MONDAY), 2, p != null ? p : \"0\"),\n  x: \"%-m/%-d/%Y\",\n  X: \"%-I:%M:%S %p\",\n  y: (d, p) => pad(d.getFullYear() % 100, 2, p != null ? p : \"0\"),\n  Y: (d, p) => pad(d.getFullYear(), 4, p != null ? p : \"0\"),\n  Z: d => timezone(d),\n  \"%\": () => \"%\"\n};\nvar PADS = {\n  _: \" \",\n  \"0\": \"0\",\n  \"-\": \"\"\n};\nfunction pad(value, size, padChar) {\n  const output = String(Math.floor(value));\n  if (output.length >= size) {\n    return output;\n  }\n  return `${padChar.repeat(size - output.length)}${output}`;\n}\nfunction buildFormatter(formatString) {\n  const formatParts = [];\n  while (formatString.length > 0) {\n    let nextEscapeIdx = formatString.indexOf(\"%\");\n    if (nextEscapeIdx !== 0) {\n      const literalPart = nextEscapeIdx > 0 ? formatString.substring(0, nextEscapeIdx) : formatString;\n      formatParts.push(literalPart);\n    }\n    if (nextEscapeIdx < 0) break;\n    const maybePadSpecifier = formatString[nextEscapeIdx + 1];\n    const maybePad = PADS[maybePadSpecifier];\n    if (maybePad != null) {\n      nextEscapeIdx++;\n    }\n    const maybeFormatterSpecifier = formatString[nextEscapeIdx + 1];\n    const maybeFormatter = FORMATTERS[maybeFormatterSpecifier];\n    if (typeof maybeFormatter === \"function\") {\n      formatParts.push([maybeFormatter, maybePad]);\n    } else if (typeof maybeFormatter === \"string\") {\n      const formatter = buildFormatter(maybeFormatter);\n      formatParts.push([formatter, maybePad]);\n    } else {\n      formatParts.push(`${maybePad != null ? maybePad : \"\"}${maybeFormatterSpecifier}`);\n    }\n    formatString = formatString.substring(nextEscapeIdx + 2);\n  }\n  return dateTime => {\n    const dateTimeAsDate = typeof dateTime === \"number\" ? new Date(dateTime) : dateTime;\n    return formatParts.map(c => typeof c === \"string\" ? c : c[0](dateTimeAsDate, c[1])).join(\"\");\n  };\n}\n\n// packages/ag-charts-community/src/util/timeFormatDefaults.ts\nfunction dateToNumber(x) {\n  return x instanceof Date ? x.getTime() : x;\n}\nfunction defaultTimeTickFormat(ticks, domain) {\n  const formatString = calculateDefaultTimeTickFormat(ticks, domain);\n  return date => buildFormatter(formatString)(date);\n}\nfunction calculateDefaultTimeTickFormat(ticks = [], domain = ticks) {\n  let defaultTimeFormat = 8 /* YEAR */;\n  const updateFormat = format2 => {\n    if (format2 < defaultTimeFormat) {\n      defaultTimeFormat = format2;\n    }\n  };\n  for (const value of ticks) {\n    const format2 = getLowestGranularityFormat(value);\n    updateFormat(format2);\n  }\n  const startDomain = dateToNumber(domain[0]);\n  const endDomain = dateToNumber(domain.at(-1));\n  const startYear = new Date(startDomain).getFullYear();\n  const stopYear = new Date(endDomain).getFullYear();\n  const yearChange = stopYear - startYear > 0;\n  return formatStringBuilder(defaultTimeFormat, yearChange, ticks);\n}\nfunction getLowestGranularityFormat(value) {\n  if (second_default.floor(value) < value) {\n    return 0 /* MILLISECOND */;\n  } else if (minute_default.floor(value) < value) {\n    return 1 /* SECOND */;\n  } else if (hour_default.floor(value) < value) {\n    return 2 /* MINUTE */;\n  } else if (day_default.floor(value) < value) {\n    return 3 /* HOUR */;\n  } else if (month_default.floor(value) < value) {\n    if (week_default.floor(value) < value) {\n      return 4 /* WEEK_DAY */;\n    }\n    return 5 /* SHORT_MONTH */;\n  } else if (year_default.floor(value) < value) {\n    return 6 /* MONTH */;\n  }\n  return 8 /* YEAR */;\n}\nfunction formatStringBuilder(defaultTimeFormat, yearChange, ticks) {\n  const firstTick = dateToNumber(ticks[0]);\n  const lastTick = dateToNumber(ticks.at(-1));\n  const extent2 = Math.abs(lastTick - firstTick);\n  const activeYear = yearChange || defaultTimeFormat === 8 /* YEAR */;\n  const activeDate = extent2 === 0;\n  const parts = [[\"hour\", 6 * durationHour, 14 * durationDay, 3 /* HOUR */, \"%I %p\"], [\"hour\", durationMinute, 6 * durationHour, 3 /* HOUR */, \"%I:%M\"], [\"second\", 1e3, 6 * durationHour, 1 /* SECOND */, \":%S\"], [\"ms\", 0, 6 * durationHour, 0 /* MILLISECOND */, \".%L\"], [\"am/pm\", durationMinute, 6 * durationHour, 3 /* HOUR */, \"%p\"], \" \", [\"day\", durationDay, 1 * durationWeek, 4 /* WEEK_DAY */, \"%a\"], [\"month\", activeDate ? 0 : durationWeek, 52 * durationWeek, 5 /* SHORT_MONTH */, \"%b %d\"], [\"month\", 5 * durationWeek, 10 * durationYear, 6 /* MONTH */, \"%B\"], \" \", [\"year\", activeYear ? 0 : durationYear, Infinity, 8 /* YEAR */, \"%Y\"]];\n  const formatParts = parts.filter(v => {\n    if (typeof v === \"string\") return true;\n    const [_, min, max, format2] = v;\n    return format2 >= defaultTimeFormat && min <= extent2 && extent2 < max;\n  }).reduce((r, next) => {\n    if (typeof next === \"string\") {\n      r.result.push(next);\n    } else if (!r.used.has(next[0])) {\n      r.result.push(next);\n      r.used.add(next[0]);\n    }\n    return r;\n  }, {\n    result: [],\n    used: /* @__PURE__ */new Set()\n  }).result;\n  const firstFormat = formatParts.findIndex(v => typeof v !== \"string\");\n  const lastFormat = formatParts.length - [...formatParts].reverse().findIndex(v => typeof v !== \"string\");\n  return formatParts.slice(firstFormat, lastFormat).map(v => typeof v === \"string\" ? v : v[4]).join(\"\").replaceAll(/\\s+/g, \" \").trim();\n}\n\n// packages/ag-charts-community/src/util/ticks.ts\nvar createNumericTicks = (fractionDigits, takingValues = []) => Object.assign(takingValues, {\n  fractionDigits\n});\nfunction ticks_default(start, stop, count, minCount, maxCount) {\n  if (count < 2) {\n    return range(start, stop, stop - start);\n  }\n  const step = tickStep(start, stop, count, minCount, maxCount);\n  if (isNaN(step)) {\n    return createNumericTicks(0);\n  }\n  start = Math.ceil(start / step) * step;\n  stop = Math.floor(stop / step) * step;\n  return range(start, stop, step);\n}\nvar tickMultipliers = [1, 2, 5, 10];\nfunction tickStep(a, b, count, minCount = 0, maxCount = Infinity) {\n  const extent2 = Math.abs(b - a);\n  const rawStep = extent2 / count;\n  const power = Math.floor(Math.log10(rawStep));\n  const step = Math.pow(10, power);\n  const m = tickMultipliers.map(multiplier => {\n    const s = multiplier * step;\n    const c = Math.ceil(extent2 / s);\n    const isWithinBounds = c >= minCount && c <= maxCount;\n    const diffCount = Math.abs(c - count);\n    return {\n      multiplier,\n      isWithinBounds,\n      diffCount\n    };\n  }).sort((a2, b2) => {\n    if (a2.isWithinBounds !== b2.isWithinBounds) {\n      return a2.isWithinBounds ? -1 : 1;\n    }\n    return a2.diffCount - b2.diffCount;\n  })[0].multiplier;\n  if (!m || isNaN(m)) {\n    return NaN;\n  }\n  return m * step;\n}\nfunction singleTickDomain(a, b) {\n  const extent2 = Math.abs(b - a);\n  const power = Math.floor(Math.log10(extent2));\n  const step = Math.pow(10, power);\n  const roundStart = a > b ? Math.ceil : Math.floor;\n  const roundStop = b < a ? Math.floor : Math.ceil;\n  return tickMultipliers.map(multiplier => {\n    const s = multiplier * step;\n    const start = roundStart(a / s) * s;\n    const end = roundStop(b / s) * s;\n    const error = 1 - extent2 / Math.abs(end - start);\n    const domain = [start, end];\n    return {\n      error,\n      domain\n    };\n  }).sort((a2, b2) => a2.error - b2.error)[0].domain;\n}\nfunction range(start, stop, step) {\n  const d0 = Math.min(start, stop);\n  const d1 = Math.max(start, stop);\n  const fractionalDigits = countFractionDigits(step);\n  const f = Math.pow(10, fractionalDigits);\n  const n = Math.ceil((d1 - d0) / step);\n  const values = createNumericTicks(fractionalDigits);\n  for (let i = 0; i <= n; i++) {\n    const value = d0 + step * i;\n    values.push(Math.round(value * f) / f);\n  }\n  return values;\n}\nfunction isDenseInterval({\n  start,\n  stop,\n  interval,\n  count,\n  availableRange\n}) {\n  const domain = stop - start;\n  const step = typeof interval === \"number\" ? interval : 1;\n  count != null ? count : count = domain / step;\n  if (count >= availableRange) {\n    Logger.warnOnce(`the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration`);\n    return true;\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/scale/timeScale.ts\nvar _TimeScale = class _TimeScale extends ContinuousScale {\n  constructor() {\n    super([], [0, 1]);\n    this.type = \"time\";\n  }\n  toDomain(d) {\n    return new Date(d);\n  }\n  /**\n   * @param options Tick interval options.\n   * @param options.start The start time (timestamp).\n   * @param options.stop The end time (timestamp).\n   * @param options.count Number of intervals between ticks.\n   */\n  static getTickInterval({\n    start,\n    stop,\n    count,\n    minCount,\n    maxCount,\n    target\n  }) {\n    let countableTimeInterval;\n    let step;\n    const tickCount = count != null ? count : ContinuousScale.defaultTickCount;\n    const targetInterval = target != null ? target : Math.abs(stop - start) / Math.max(tickCount, 1);\n    const i = _TimeScale.getIntervalIndex(targetInterval);\n    if (i === 0) {\n      step = Math.max(tickStep(start, stop, tickCount, minCount, maxCount), 1);\n      countableTimeInterval = millisecond_default;\n    } else if (i === _TimeScale.tickIntervals.length) {\n      const y0 = start / durationYear;\n      const y1 = stop / durationYear;\n      step = target === void 0 ? tickStep(y0, y1, tickCount, minCount, maxCount) : 1;\n      countableTimeInterval = year_default;\n    } else {\n      const diff0 = targetInterval - _TimeScale.tickIntervals[i - 1][2];\n      const diff1 = _TimeScale.tickIntervals[i][2] - targetInterval;\n      const index = diff0 < diff1 ? i - 1 : i;\n      [countableTimeInterval, step] = _TimeScale.tickIntervals[index];\n    }\n    return countableTimeInterval.every(step);\n  }\n  static getIntervalIndex(target) {\n    let i = 0;\n    while (i < _TimeScale.tickIntervals.length && target > _TimeScale.tickIntervals[i][2]) {\n      i++;\n    }\n    return i;\n  }\n  invert(y) {\n    return new Date(super.invert(y));\n  }\n  /**\n   * Returns uniformly-spaced dates that represent the scale's domain.\n   */\n  ticks() {\n    if (!this.domain || this.domain.length < 2) {\n      return [];\n    }\n    this.refresh();\n    const [t0, t1] = this.getDomain().map(dateToNumber);\n    const start = Math.min(t0, t1);\n    const stop = Math.max(t0, t1);\n    const {\n      interval,\n      nice,\n      tickCount,\n      minTickCount,\n      maxTickCount\n    } = this;\n    if (interval !== void 0) {\n      const availableRange = this.getPixelRange();\n      const ticks = _TimeScale.getTicksForInterval({\n        start,\n        stop,\n        interval,\n        availableRange\n      });\n      return ticks != null ? ticks : _TimeScale.getDefaultTicks({\n        start,\n        stop,\n        tickCount,\n        minTickCount,\n        maxTickCount\n      });\n    }\n    if (nice) {\n      if (tickCount === 2) {\n        return this.niceDomain;\n      }\n      if (tickCount === 1) {\n        return this.niceDomain.slice(0, 1);\n      }\n    }\n    return _TimeScale.getDefaultTicks({\n      start,\n      stop,\n      tickCount,\n      minTickCount,\n      maxTickCount\n    });\n  }\n  static getDefaultTicks({\n    start,\n    stop,\n    tickCount,\n    minTickCount,\n    maxTickCount\n  }) {\n    const t = _TimeScale.getTickInterval({\n      start,\n      stop,\n      count: tickCount,\n      minCount: minTickCount,\n      maxCount: maxTickCount\n    });\n    return t ? t.range(new Date(start), new Date(stop)) : [];\n  }\n  static getTicksForInterval({\n    start,\n    stop,\n    interval,\n    availableRange\n  }) {\n    if (!interval) {\n      return [];\n    }\n    if (interval instanceof TimeInterval) {\n      const ticks2 = interval.range(new Date(start), new Date(stop));\n      if (isDenseInterval({\n        start,\n        stop,\n        interval,\n        count: ticks2.length,\n        availableRange\n      })) {\n        return;\n      }\n      return ticks2;\n    }\n    const absInterval = Math.abs(interval);\n    if (isDenseInterval({\n      start,\n      stop,\n      interval: absInterval,\n      availableRange\n    })) {\n      return;\n    }\n    const reversedInterval = [..._TimeScale.tickIntervals];\n    reversedInterval.reverse();\n    const timeInterval = reversedInterval.find(tickInterval => absInterval % tickInterval[2] === 0);\n    if (timeInterval) {\n      const i = timeInterval[0].every(absInterval / (timeInterval[2] / timeInterval[1]));\n      return i.range(new Date(start), new Date(stop));\n    }\n    let date = new Date(start);\n    const stopDate = new Date(stop);\n    const ticks = [];\n    while (date <= stopDate) {\n      ticks.push(date);\n      date = new Date(date);\n      date.setMilliseconds(date.getMilliseconds() + absInterval);\n    }\n    return ticks;\n  }\n  /**\n   * Returns a time format function suitable for displaying tick values.\n   * @param specifier If the specifier string is provided, this method is equivalent to\n   * the {@link TimeLocaleObject.format} method.\n   * If no specifier is provided, this method returns the default time format function.\n   */\n  tickFormat({\n    ticks,\n    domain,\n    specifier\n  }) {\n    return specifier == null ? defaultTimeTickFormat(ticks, domain) : buildFormatter(specifier);\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  /**\n   * Extends the domain so that it starts and ends on nice round values.\n   * This method typically modifies the scales domain, and may only extend the bounds to the nearest round value.\n   */\n  updateNiceDomain() {\n    const maxAttempts = 4;\n    let [d0, d1] = this.domain;\n    for (let i = 0; i < maxAttempts; i++) {\n      this.updateNiceDomainIteration(d0, d1);\n      const [n0, n1] = this.niceDomain;\n      if (dateToNumber(d0) === dateToNumber(n0) && dateToNumber(d1) === dateToNumber(n1)) {\n        break;\n      }\n      d0 = n0;\n      d1 = n1;\n    }\n  }\n  updateNiceDomainIteration(d0, d1) {\n    const start = Math.min(dateToNumber(d0), dateToNumber(d1));\n    const stop = Math.max(dateToNumber(d0), dateToNumber(d1));\n    const isReversed = d0 > d1;\n    const {\n      interval\n    } = this;\n    let i;\n    if (interval instanceof TimeInterval) {\n      i = interval;\n    } else {\n      const tickCount = typeof interval === \"number\" ? (stop - start) / Math.max(interval, 1) : this.tickCount;\n      i = _TimeScale.getTickInterval({\n        start,\n        stop,\n        count: tickCount,\n        minCount: this.minTickCount,\n        maxCount: this.maxTickCount\n      });\n    }\n    if (i) {\n      const intervalRange = i.range(new Date(start), new Date(stop), true);\n      const domain = isReversed ? [...intervalRange].reverse() : intervalRange;\n      const n0 = domain[0];\n      const n1 = domain.at(-1);\n      this.niceDomain = [n0, n1];\n    }\n  }\n};\n/**\n * Array of default tick intervals in the following format:\n *\n *     [\n *         interval (unit of time),\n *         number of units (step),\n *         the length of that number of units in milliseconds\n *     ]\n */\n_TimeScale.tickIntervals = [[second_default, 1, durationSecond], [second_default, 5, 5 * durationSecond], [second_default, 15, 15 * durationSecond], [second_default, 30, 30 * durationSecond], [minute_default, 1, durationMinute], [minute_default, 5, 5 * durationMinute], [minute_default, 15, 15 * durationMinute], [minute_default, 30, 30 * durationMinute], [hour_default, 1, durationHour], [hour_default, 3, 3 * durationHour], [hour_default, 6, 6 * durationHour], [hour_default, 12, 12 * durationHour], [day_default, 1, durationDay], [day_default, 2, 2 * durationDay], [week_default, 1, durationWeek], [week_default, 2, 2 * durationWeek], [week_default, 3, 3 * durationWeek], [month_default, 1, durationMonth], [month_default, 2, 2 * durationMonth], [month_default, 3, 3 * durationMonth], [month_default, 4, 4 * durationMonth], [month_default, 6, 6 * durationMonth], [year_default, 1, durationYear]];\nvar TimeScale = _TimeScale;\n\n// packages/ag-charts-community/src/scale/ordinalTimeScale.ts\nvar _OrdinalTimeScale = class _OrdinalTimeScale extends BandScale {\n  constructor() {\n    super(...arguments);\n    this.type = \"ordinal-time\";\n    this.tickCount = ContinuousScale.defaultTickCount;\n    this.minTickCount = 0;\n    this.maxTickCount = Infinity;\n    this.interval = void 0;\n    this.index = /* @__PURE__ */new Map();\n    /**\n     * Contains unique datums only. Since `{}` is used in place of `Map`\n     * for IE11 compatibility, the datums are converted `toString` before\n     * the uniqueness check.\n     */\n    this._domain = [];\n  }\n  static is(value) {\n    return value instanceof _OrdinalTimeScale;\n  }\n  toDomain(d) {\n    return new Date(d);\n  }\n  set domain(values) {\n    this.invalid = true;\n    if (values.length === 0) {\n      this._domain = [];\n      return;\n    }\n    const domain = this.updateIndex(values);\n    this._domain = domain;\n  }\n  get domain() {\n    return this._domain;\n  }\n  updateIndex(values) {\n    this.index = /* @__PURE__ */new Map();\n    const {\n      index\n    } = this;\n    const domain = [];\n    const extents = [];\n    const isReversed = values[0] > values.at(-1);\n    const indexShift = isReversed ? 0 : 1;\n    values.forEach((value, i2) => {\n      const nextValue = values[i2 + 1];\n      const e02 = isReversed ? value : this.toDomain(dateToNumber(value) + 1);\n      const e12 = isReversed ? this.toDomain(dateToNumber(nextValue) + 1) : nextValue;\n      const dateRange2 = isReversed ? [e12, e02] : [e02, e12];\n      domain.push(value);\n      if (nextValue !== void 0 && index.get(dateRange2) === void 0) {\n        extents.push(Math.abs(dateToNumber(e12) - dateToNumber(e02)));\n        index.set(dateRange2, i2 + indexShift);\n      }\n    });\n    extents.sort((a, b) => a - b);\n    const bands = extents.length;\n    const middleIndex = Math.floor(bands / 2);\n    this.medianInterval = bands > 2 && bands % 2 === 0 ? (extents[middleIndex - 1] + extents[middleIndex + 1]) / 2 : extents[middleIndex];\n    const intervalIndex = Math.max(0, TimeScale.getIntervalIndex(this.medianInterval) - 1);\n    const [countableTimeInterval, step] = TimeScale.tickIntervals[intervalIndex];\n    const interval = countableTimeInterval.every(step);\n    const i = isReversed ? values.length - 1 : 0;\n    const e1 = values[i];\n    const e0 = interval.floor(values[i]);\n    const dateRange = [e0, e1];\n    index.set(dateRange, i);\n    return domain;\n  }\n  ticks() {\n    if (!this.domain) {\n      return [];\n    }\n    this.refresh();\n    const [t0, t1] = [dateToNumber(this.domain[0]), dateToNumber(this.domain.at(-1))];\n    const start = Math.min(t0, t1);\n    const stop = Math.max(t0, t1);\n    const isReversed = t0 > t1;\n    let ticks;\n    if (this.interval !== void 0) {\n      ticks = this.getTicksForInterval({\n        start,\n        stop,\n        interval: this.interval\n      });\n    }\n    const n = this.domain.length;\n    const {\n      maxTickCount,\n      tickCount\n    } = this;\n    let {\n      minTickCount\n    } = this;\n    let medianInterval;\n    if (isFinite(maxTickCount) && n <= maxTickCount) {\n      minTickCount = Math.max(1, n);\n      medianInterval = this.medianInterval;\n    }\n    ticks != null ? ticks : ticks = this.getDefaultTicks({\n      start,\n      stop,\n      tickCount,\n      minTickCount,\n      maxTickCount,\n      isReversed,\n      interval: medianInterval\n    });\n    const tickPositions = /* @__PURE__ */new Set();\n    return ticks.filter(tick => {\n      const position = this.convert(tick);\n      if (isNaN(position) || tickPositions.has(position)) {\n        return false;\n      }\n      tickPositions.add(position);\n      return true;\n    });\n  }\n  getDefaultTicks({\n    start,\n    stop,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    isReversed,\n    interval\n  }) {\n    const tickInterval = TimeScale.getTickInterval({\n      start,\n      stop,\n      count: tickCount,\n      minCount: minTickCount,\n      maxCount: maxTickCount,\n      target: interval\n    });\n    if (!tickInterval) {\n      return [];\n    }\n    const tickEvery = Math.ceil(this.domain.length / maxTickCount);\n    const ticks = [];\n    for (const [dateRange, index] of this.index.entries()) {\n      if (index % tickEvery > 0) {\n        continue;\n      }\n      const tick = isReversed ? tickInterval.ceil(dateRange[0]) : tickInterval.floor(dateRange[1]);\n      ticks.splice(index, 0, tick);\n    }\n    return ticks;\n  }\n  getTicksForInterval({\n    start,\n    stop,\n    interval\n  }) {\n    var _a;\n    const [r0, r1] = this.range;\n    const availableRange = Math.abs(r1 - r0);\n    return (_a = TimeScale.getTicksForInterval({\n      start,\n      stop,\n      interval,\n      availableRange\n    })) != null ? _a : [];\n  }\n  convert(d) {\n    if (typeof d === \"number\") {\n      d = new Date(d);\n    }\n    if (!(d instanceof Date)) {\n      return NaN;\n    }\n    this.refresh();\n    let i;\n    for (const [dateRange, index] of this.index.entries()) {\n      if (d >= dateRange[0] && d <= dateRange[1]) {\n        i = index;\n        break;\n      }\n    }\n    if (i === void 0) {\n      return NaN;\n    }\n    const r = this.ordinalRange[i];\n    if (r === void 0) {\n      return NaN;\n    }\n    return r;\n  }\n  /**\n   * Returns a time format function suitable for displaying tick values.\n   * @param specifier If the specifier string is provided, this method is equivalent to\n   * the {@link TimeLocaleObject.format} method.\n   * If no specifier is provided, this method returns the default time format function.\n   */\n  tickFormat({\n    ticks,\n    domain,\n    specifier\n  }) {\n    return specifier == null ? defaultTimeTickFormat(ticks, domain) : buildFormatter(specifier);\n  }\n  invert(y) {\n    return new Date(super.invert(y));\n  }\n  invertNearest(y) {\n    return new Date(super.invertNearest(y));\n  }\n};\n__decorateClass([Invalidating], _OrdinalTimeScale.prototype, \"tickCount\", 2);\n__decorateClass([Invalidating], _OrdinalTimeScale.prototype, \"minTickCount\", 2);\n__decorateClass([Invalidating], _OrdinalTimeScale.prototype, \"maxTickCount\", 2);\n__decorateClass([Invalidating], _OrdinalTimeScale.prototype, \"interval\", 2);\nvar OrdinalTimeScale = _OrdinalTimeScale;\n\n// packages/ag-charts-community/src/util/compare.ts\nfunction ascendingStringNumberUndefined(a, b) {\n  if (typeof a === \"number\" && typeof b === \"number\") {\n    return a - b;\n  } else if (typeof a === \"string\" && typeof b === \"string\") {\n    return a.localeCompare(b);\n  } else if (a == null && b == null) {\n    return 0;\n  } else if (a == null) {\n    return -1;\n  } else if (b == null) {\n    return 1;\n  }\n  return String(a).localeCompare(String(b));\n}\nfunction toLiteral(v) {\n  return typeof v === \"function\" ? v() : v;\n}\nfunction compoundAscending(a, b, comparator) {\n  for (const idx in a) {\n    const diff2 = comparator(toLiteral(a[idx]), toLiteral(b[idx]));\n    if (diff2 !== 0) {\n      return diff2;\n    }\n  }\n  return 0;\n}\n\n// packages/ag-charts-community/src/scene/group.ts\nvar _Group = class _Group extends Node {\n  constructor(opts) {\n    var _a;\n    super({\n      isVirtual: opts == null ? void 0 : opts.isVirtual\n    });\n    this.opts = opts;\n    this.opacity = 1;\n    this.lastBBox = void 0;\n    const {\n      zIndex,\n      zIndexSubOrder\n    } = opts != null ? opts : {};\n    this.isContainerNode = true;\n    if (zIndex !== void 0) {\n      this.zIndex = zIndex;\n    }\n    if (zIndexSubOrder !== void 0) {\n      this.zIndexSubOrder = zIndexSubOrder;\n    }\n    this.name = (_a = this.opts) == null ? void 0 : _a.name;\n  }\n  static is(value) {\n    return value instanceof _Group;\n  }\n  onZIndexChange() {\n    var _a;\n    super.onZIndexChange();\n    if (this.layer) {\n      (_a = this._layerManager) == null ? void 0 : _a.moveLayer(this.layer, this.zIndex, this.zIndexSubOrder);\n    }\n  }\n  isLayer() {\n    return this.layer != null;\n  }\n  _setLayerManager(layersManager) {\n    if (this._layerManager && this.layer) {\n      this._layerManager.removeLayer(this.layer);\n      this.layer = void 0;\n    }\n    if (this.layer) {\n      throw new Error(\"AG Charts - unable to deregister scene rendering layer!\");\n    }\n    super._setLayerManager(layersManager);\n  }\n  initialiseLayer() {\n    var _a;\n    if (this.layer) return;\n    if (!this._layerManager || ((_a = this.opts) == null ? void 0 : _a.layer) !== true) return;\n    this.layer = this._layerManager.addLayer({\n      name: this.name,\n      zIndex: this.zIndex,\n      zIndexSubOrder: this.zIndexSubOrder,\n      getComputedOpacity: () => this.getComputedOpacity(),\n      getVisibility: () => this.getVisibility()\n    });\n  }\n  getComputedOpacity() {\n    let opacity = 1;\n    for (const node of this.traverseUp()) {\n      if (node instanceof _Group) {\n        opacity *= node.opacity;\n      }\n    }\n    return opacity;\n  }\n  getVisibility() {\n    for (const node of this.traverseUp()) {\n      if (!node.visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n  onVisibleChange() {\n    if (this.layer) {\n      this.layer.enabled = this.visible;\n    }\n  }\n  markDirty(source, type = 1 /* TRIVIAL */) {\n    if (this.isVirtual) {\n      super.markDirty(source, type);\n      return;\n    }\n    let parentType = type;\n    if (type < 2 /* MINOR */ || this.layer != null) {\n      parentType = 1 /* TRIVIAL */;\n    }\n    super.markDirty(source, type, parentType);\n  }\n  // We consider a group to be boundless, thus any point belongs to it.\n  containsPoint(_x, _y) {\n    return true;\n  }\n  computeBBox() {\n    this.computeTransformMatrix();\n    return _Group.computeBBox(this.children);\n  }\n  computeTransformedBBox() {\n    return this.computeBBox();\n  }\n  preRender() {\n    var _a, _b;\n    const counts = super.preRender();\n    counts.groups += 1;\n    counts.nonGroups -= 1;\n    if (((_a = this.opts) == null ? void 0 : _a.layer) !== true || this.layer != null) return counts;\n    if (counts.nonGroups > 0) {\n      this.initialiseLayer();\n    }\n    if (((_b = this.opts) == null ? void 0 : _b.nonEmptyChildDerivedZIndex) && counts.nonGroups > 0) {\n      this.deriveZIndexFromChildren();\n    }\n    return counts;\n  }\n  deriveZIndexFromChildren() {\n    var _a;\n    const children = this.children.filter(c => c._childNodeCounts.nonGroups > 0);\n    this.sortChildren(children);\n    const lastChild = children.at(-1);\n    this.zIndex = (_a = lastChild == null ? void 0 : lastChild.zIndex) != null ? _a : -Infinity;\n    this.zIndexSubOrder = lastChild == null ? void 0 : lastChild.zIndexSubOrder;\n  }\n  render(renderCtx) {\n    var _a, _b;\n    const {\n      opts: {\n        name = void 0\n      } = {},\n      _debug: debug3\n    } = this;\n    const {\n      dirty,\n      dirtyZIndex,\n      layer,\n      children,\n      clipRect,\n      dirtyTransform\n    } = this;\n    let {\n      ctx,\n      forceRender,\n      clipBBox\n    } = renderCtx;\n    const {\n      resized,\n      stats\n    } = renderCtx;\n    const canvasCtxTransform = ctx.getTransform();\n    const isDirty = dirty >= 2 /* MINOR */ || dirtyZIndex || resized;\n    let isChildDirty = isDirty;\n    let isChildLayerDirty = false;\n    for (const child of children) {\n      isChildDirty || (isChildDirty = child.layerManager == null && child.dirty >= 1 /* TRIVIAL */);\n      isChildLayerDirty || (isChildLayerDirty = child.layerManager != null && child.dirty >= 1 /* TRIVIAL */);\n      if (isChildDirty) {\n        break;\n      }\n    }\n    if (name) {\n      debug3 == null ? void 0 : debug3({\n        name,\n        group: this,\n        isDirty,\n        isChildDirty,\n        dirtyTransform,\n        renderCtx,\n        forceRender\n      });\n    }\n    if (dirtyTransform) {\n      forceRender = \"dirtyTransform\";\n    } else if (layer) {\n      const currentBBox = this.computeBBox();\n      if (this.lastBBox === void 0 || !this.lastBBox.equals(currentBBox)) {\n        forceRender = \"dirtyTransform\";\n        this.lastBBox = currentBBox;\n      }\n    }\n    if (!isDirty && !isChildDirty && !isChildLayerDirty && !forceRender) {\n      if (name && stats) {\n        debug3 == null ? void 0 : debug3({\n          name,\n          result: \"skipping\",\n          renderCtx,\n          counts: this.nodeCount,\n          group: this\n        });\n      }\n      if (layer && stats) {\n        stats.layersSkipped++;\n        stats.nodesSkipped += this.nodeCount.count;\n      }\n      this.markClean({\n        recursive: false\n      });\n      return;\n    }\n    const groupVisible = this.visible;\n    if (layer) {\n      ctx = layer.context;\n      ctx.save();\n      ctx.setTransform(layer.pixelRatio, 0, 0, layer.pixelRatio, 0, 0);\n      if (forceRender !== \"dirtyTransform\") {\n        forceRender = isChildDirty || dirtyZIndex;\n      }\n      if (forceRender) layer.clear();\n      if (clipBBox) {\n        const {\n          width,\n          height,\n          x,\n          y\n        } = clipBBox;\n        debug3 == null ? void 0 : debug3(() => ({\n          name,\n          clipBBox,\n          ctxTransform: ctx.getTransform(),\n          renderCtx,\n          group: this\n        }));\n        ctx.beginPath();\n        ctx.rect(x, y, width, height);\n        ctx.clip();\n      }\n      ctx.setTransform(canvasCtxTransform);\n    } else {\n      ctx.globalAlpha *= this.opacity;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    if (clipRect) {\n      const {\n        x,\n        y,\n        width,\n        height\n      } = clipRect;\n      ctx.save();\n      debug3 == null ? void 0 : debug3(() => ({\n        name,\n        clipRect,\n        ctxTransform: ctx.getTransform(),\n        renderCtx,\n        group: this\n      }));\n      ctx.beginPath();\n      ctx.rect(x, y, width, height);\n      ctx.clip();\n      clipBBox = this.matrix.transformBBox(clipRect);\n    }\n    const hasVirtualChildren = this.hasVirtualChildren();\n    if (dirtyZIndex) {\n      this.sortChildren(children);\n      if (forceRender !== \"dirtyTransform\") forceRender = true;\n    } else if (hasVirtualChildren) {\n      this.sortChildren(children);\n    }\n    const renderContextChanged = forceRender !== renderCtx.forceRender || clipBBox !== renderCtx.clipBBox || ctx !== renderCtx.ctx;\n    const childRenderContext = renderContextChanged ? __spreadProps(__spreadValues({}, renderCtx), {\n      ctx,\n      forceRender,\n      clipBBox\n    }) : renderCtx;\n    let skipped = 0;\n    for (const child of children) {\n      if (!child.visible || !groupVisible) {\n        child.markClean();\n        if (stats) skipped += child.nodeCount.count;\n        continue;\n      }\n      if (!forceRender && child.dirty === 0 /* NONE */) {\n        if (stats) skipped += child.nodeCount.count;\n        continue;\n      }\n      ctx.save();\n      child.render(childRenderContext);\n      ctx.restore();\n    }\n    if (stats) stats.nodesSkipped += skipped;\n    super.render(renderCtx);\n    if (clipRect) {\n      ctx.restore();\n    }\n    if (hasVirtualChildren) {\n      for (const child of this.virtualChildren) {\n        child.markClean({\n          recursive: \"virtual\"\n        });\n      }\n    }\n    if (layer) {\n      if (stats) stats.layersRendered++;\n      ctx.restore();\n      if (forceRender) layer.snapshot();\n      (_b = (_a = layer.context).verifyDepthZero) == null ? void 0 : _b.call(_a);\n    }\n    if (name && stats) {\n      debug3 == null ? void 0 : debug3({\n        name,\n        result: \"rendered\",\n        skipped,\n        renderCtx,\n        counts: this.nodeCount,\n        group: this\n      });\n    }\n  }\n  sortChildren(children) {\n    this.dirtyZIndex = false;\n    children.sort((a, b) => {\n      var _a, _b;\n      return compoundAscending([a.zIndex, ...((_a = a.zIndexSubOrder) != null ? _a : [void 0, void 0]), a.serialNumber], [b.zIndex, ...((_b = b.zIndexSubOrder) != null ? _b : [void 0, void 0]), b.serialNumber], ascendingStringNumberUndefined);\n    });\n  }\n  static computeBBox(nodes) {\n    let left = Infinity;\n    let right = -Infinity;\n    let top = Infinity;\n    let bottom = -Infinity;\n    for (const n of nodes) {\n      if (!n.visible) continue;\n      const bbox = n.computeTransformedBBox();\n      if (!bbox) continue;\n      const {\n        x,\n        y,\n        width,\n        height\n      } = bbox;\n      if (x < left) {\n        left = x;\n      }\n      if (y < top) {\n        top = y;\n      }\n      if (x + width > right) {\n        right = x + width;\n      }\n      if (y + height > bottom) {\n        bottom = y + height;\n      }\n    }\n    return new BBox(left, top, right - left, bottom - top);\n  }\n  /**\n   * Transforms bbox given in the canvas coordinate space to bbox in this group's coordinate space and\n   * sets this group's clipRect to the transformed bbox.\n   * @param bbox clipRect bbox in the canvas coordinate space.\n   */\n  setClipRectInGroupCoordinateSpace(bbox) {\n    this.clipRect = bbox ? this.transformBBox(bbox) : void 0;\n  }\n};\n_Group.className = \"Group\";\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */,\n  convertor: v => clamp(0, v, 1)\n})], _Group.prototype, \"opacity\", 2);\nvar Group = _Group;\n\n// packages/ag-charts-community/src/scene/gradient/gradient.ts\nvar Gradient = class {\n  constructor(stops = []) {\n    this.stops = stops;\n  }\n};\n\n// packages/ag-charts-community/src/scene/gradient/linearGradient.ts\nvar LinearGradient = class extends Gradient {\n  constructor(stops, angle = 0) {\n    super(stops);\n    this.angle = angle;\n  }\n  createGradient(ctx, bbox) {\n    const angleOffset = 90;\n    const {\n      stops,\n      angle\n    } = this;\n    const radians = normalizeAngle360(toRadians(angle + angleOffset));\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    const w = bbox.width;\n    const h = bbox.height;\n    const cx = bbox.x + w * 0.5;\n    const cy = bbox.y + h * 0.5;\n    if (w > 0 && h > 0) {\n      const diagonal = Math.sqrt(h * h + w * w) / 2;\n      const diagonalAngle = Math.atan2(h, w);\n      let quarteredAngle;\n      if (radians < Math.PI / 2) {\n        quarteredAngle = radians;\n      } else if (radians < Math.PI) {\n        quarteredAngle = Math.PI - radians;\n      } else if (radians < 1.5 * Math.PI) {\n        quarteredAngle = radians - Math.PI;\n      } else {\n        quarteredAngle = 2 * Math.PI - radians;\n      }\n      const l = diagonal * Math.abs(Math.cos(quarteredAngle - diagonalAngle));\n      const gradient = ctx.createLinearGradient(cx + cos * l, cy + sin * l, cx - cos * l, cy - sin * l);\n      for (const stop of stops) {\n        gradient.addColorStop(stop.offset, stop.color);\n      }\n      return gradient;\n    }\n    return \"black\";\n  }\n};\n\n// packages/ag-charts-community/src/scene/shape/shape.ts\nvar LINEAR_GRADIENT_REGEXP = /^linear-gradient\\((.*?)deg,\\s*(.*?)\\s*\\)$/i;\nvar _Shape = class _Shape extends Node {\n  constructor() {\n    super(...arguments);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.fill = _Shape.defaultStyles.fill;\n    this.stroke = _Shape.defaultStyles.stroke;\n    this.strokeWidth = _Shape.defaultStyles.strokeWidth;\n    this.lineDash = _Shape.defaultStyles.lineDash;\n    this.lineDashOffset = _Shape.defaultStyles.lineDashOffset;\n    this.lineCap = _Shape.defaultStyles.lineCap;\n    this.lineJoin = _Shape.defaultStyles.lineJoin;\n    this.opacity = _Shape.defaultStyles.opacity;\n    this.fillShadow = _Shape.defaultStyles.fillShadow;\n  }\n  /**\n   * Restores the default styles introduced by this subclass.\n   */\n  restoreOwnStyles() {\n    const {\n      defaultStyles\n    } = this.constructor;\n    Object.assign(this, defaultStyles);\n  }\n  onFillChange() {\n    const {\n      fill\n    } = this;\n    let linearGradientMatch;\n    if ((fill == null ? void 0 : fill.startsWith(\"linear-gradient\")) && (linearGradientMatch = LINEAR_GRADIENT_REGEXP.exec(fill))) {\n      const angle = parseFloat(linearGradientMatch[1]);\n      const colors = [];\n      const colorsPart = linearGradientMatch[2];\n      const colorRegex = /(#[0-9a-f]+)|(rgba?\\(.+?\\))|([a-z]+)/gi;\n      let c;\n      while (c = colorRegex.exec(colorsPart)) {\n        colors.push(c[0]);\n      }\n      this.gradient = new LinearGradient(colors.map((color, index) => ({\n        color,\n        offset: index / (colors.length - 1)\n      })), angle);\n    } else {\n      this.gradient = void 0;\n    }\n  }\n  /**\n   * Returns a device-pixel aligned coordinate (or length if length is supplied).\n   *\n   * NOTE: Not suitable for strokes, since the stroke needs to be offset to the middle\n   * of a device pixel.\n   */\n  align(start, length) {\n    var _a, _b, _c;\n    const pixelRatio = (_c = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas) == null ? void 0 : _b.pixelRatio) != null ? _c : 1;\n    const alignedStart = Math.round(start * pixelRatio) / pixelRatio;\n    if (length == null) {\n      return alignedStart;\n    } else if (length === 0) {\n      return 0;\n    } else if (length < 1) {\n      return Math.ceil(length * pixelRatio) / pixelRatio;\n    }\n    return Math.round((length + start) * pixelRatio) / pixelRatio - alignedStart;\n  }\n  fillStroke(ctx, path) {\n    this.renderFill(ctx, path);\n    this.renderStroke(ctx, path);\n  }\n  renderFill(ctx, path) {\n    if (this.fill) {\n      const {\n        globalAlpha\n      } = ctx;\n      this.applyFill(ctx);\n      this.applyFillAlpha(ctx);\n      this.applyShadow(ctx);\n      this.executeFill(ctx, path);\n      ctx.globalAlpha = globalAlpha;\n    }\n    ctx.shadowColor = \"rgba(0, 0, 0, 0)\";\n  }\n  executeFill(ctx, path) {\n    path ? ctx.fill(path) : ctx.fill();\n  }\n  applyFill(ctx) {\n    var _a, _b;\n    ctx.fillStyle = (_b = (_a = this.gradient) == null ? void 0 : _a.createGradient(ctx, this.computeBBox())) != null ? _b : this.fill;\n  }\n  applyFillAlpha(ctx) {\n    ctx.globalAlpha *= this.opacity * this.fillOpacity;\n  }\n  applyShadow(ctx) {\n    var _a, _b;\n    const pixelRatio = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas.pixelRatio) != null ? _b : 1;\n    const fillShadow = this.fillShadow;\n    if (fillShadow == null ? void 0 : fillShadow.enabled) {\n      ctx.shadowColor = fillShadow.color;\n      ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n      ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n      ctx.shadowBlur = fillShadow.blur * pixelRatio;\n    }\n  }\n  renderStroke(ctx, path) {\n    if (this.stroke && this.strokeWidth) {\n      const {\n        globalAlpha\n      } = ctx;\n      ctx.strokeStyle = this.stroke;\n      ctx.globalAlpha *= this.opacity * this.strokeOpacity;\n      ctx.lineWidth = this.strokeWidth;\n      if (this.lineDash) {\n        ctx.setLineDash(this.lineDash);\n      }\n      if (this.lineDashOffset) {\n        ctx.lineDashOffset = this.lineDashOffset;\n      }\n      if (this.lineCap) {\n        ctx.lineCap = this.lineCap;\n      }\n      if (this.lineJoin) {\n        ctx.lineJoin = this.lineJoin;\n      }\n      this.executeStroke(ctx, path);\n      ctx.globalAlpha = globalAlpha;\n    }\n  }\n  executeStroke(ctx, path) {\n    path ? ctx.stroke(path) : ctx.stroke();\n  }\n  containsPoint(x, y) {\n    return this.isPointInPath(x, y);\n  }\n};\n/**\n * Defaults for style properties. Note that properties that affect the position\n * and shape of the node are not considered style properties, for example:\n * `x`, `y`, `width`, `height`, `radius`, `rotation`, etc.\n * Can be used to reset to the original styling after some custom styling\n * has been applied (using the `restoreOwnStyles` method).\n * These static defaults are meant to be inherited by subclasses.\n */\n_Shape.defaultStyles = {\n  fill: \"black\",\n  stroke: void 0,\n  strokeWidth: 0,\n  lineDash: void 0,\n  lineDashOffset: 0,\n  lineCap: void 0,\n  lineJoin: void 0,\n  opacity: 1,\n  fillShadow: void 0\n};\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"fillOpacity\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"strokeOpacity\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */,\n  changeCb: s => s.onFillChange()\n})], _Shape.prototype, \"fill\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"stroke\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"strokeWidth\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"lineDash\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"lineDashOffset\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"lineCap\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"lineJoin\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */,\n  convertor: v => clamp(0, v, 1)\n})], _Shape.prototype, \"opacity\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */,\n  checkDirtyOnAssignment: true\n})], _Shape.prototype, \"fillShadow\", 2);\nvar Shape = _Shape;\n\n// packages/ag-charts-community/src/scene/shape/range.ts\nvar Range = class extends Shape {\n  constructor(opts = {}) {\n    super(opts);\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.startLine = false;\n    this.endLine = false;\n    this.isRange = false;\n    this.restoreOwnStyles();\n  }\n  computeBBox() {\n    return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n  }\n  isPointInPath(_x, _y) {\n    return false;\n  }\n  render(renderCtx) {\n    var _a;\n    const {\n      ctx,\n      forceRender,\n      stats\n    } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats) stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    let {\n      x1,\n      y1,\n      x2,\n      y2\n    } = this;\n    x1 = this.align(x1);\n    y1 = this.align(y1);\n    x2 = this.align(x2);\n    y2 = this.align(y2);\n    const {\n      fill,\n      opacity,\n      isRange\n    } = this;\n    const fillActive = !!(isRange && fill);\n    if (fillActive) {\n      const {\n        fillOpacity\n      } = this;\n      ctx.fillStyle = fill;\n      ctx.globalAlpha = opacity * fillOpacity;\n      ctx.beginPath();\n      ctx.moveTo(x1, y1);\n      ctx.lineTo(x2, y1);\n      ctx.lineTo(x2, y2);\n      ctx.lineTo(x1, y2);\n      ctx.closePath();\n      ctx.fill();\n    }\n    const {\n      stroke,\n      strokeWidth,\n      startLine,\n      endLine\n    } = this;\n    const strokeActive = !!((startLine || endLine) && stroke && strokeWidth);\n    if (strokeActive) {\n      const {\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        lineCap,\n        lineJoin\n      } = this;\n      ctx.strokeStyle = stroke;\n      ctx.globalAlpha = opacity * strokeOpacity;\n      ctx.lineWidth = strokeWidth;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      ctx.beginPath();\n      if (startLine) {\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y1);\n      }\n      if (endLine) {\n        ctx.moveTo(x2, y2);\n        ctx.lineTo(x1, y2);\n      }\n      ctx.stroke();\n    }\n    (_a = this.fillShadow) == null ? void 0 : _a.markClean();\n    super.render(renderCtx);\n  }\n};\nRange.className = \"Range\";\nRange.defaultStyles = __spreadProps(__spreadValues({}, Shape.defaultStyles), {\n  strokeWidth: 1\n});\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"x1\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"y1\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"x2\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"y2\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"startLine\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"endLine\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"isRange\", 2);\n\n// packages/ag-charts-community/src/util/memo.ts\nvar memorizedFns = /* @__PURE__ */new WeakMap();\nvar memorizedMap = /* @__PURE__ */new WeakMap();\nfunction memo(params, fnGenerator) {\n  var _a, _b, _c;\n  const serialisedParams = JSON.stringify(params, null, 0);\n  if (!memorizedFns.has(fnGenerator)) {\n    memorizedFns.set(fnGenerator, /* @__PURE__ */new Map());\n  }\n  if (!((_a = memorizedFns.get(fnGenerator)) == null ? void 0 : _a.has(serialisedParams))) {\n    (_b = memorizedFns.get(fnGenerator)) == null ? void 0 : _b.set(serialisedParams, fnGenerator(params));\n  }\n  return (_c = memorizedFns.get(fnGenerator)) == null ? void 0 : _c.get(serialisedParams);\n}\nfunction memoizeFunction(baseFn) {\n  return (params, ...rest) => {\n    var _a, _b, _c;\n    const serialisedParams = JSON.stringify(params, null, 0);\n    if (!memorizedMap.has(baseFn)) {\n      memorizedMap.set(baseFn, /* @__PURE__ */new Map());\n    }\n    if (!((_a = memorizedMap.get(baseFn)) == null ? void 0 : _a.has(serialisedParams))) {\n      (_b = memorizedMap.get(baseFn)) == null ? void 0 : _b.set(serialisedParams, baseFn(params, ...rest));\n    }\n    return (_c = memorizedMap.get(baseFn)) == null ? void 0 : _c.get(serialisedParams);\n  };\n}\n\n// packages/ag-charts-community/src/scene/shape/text.ts\nvar ellipsis = \"\\u2026\";\nfunction SceneFontChangeDetection(opts) {\n  const {\n    redraw = 3 /* MAJOR */,\n    changeCb\n  } = opts != null ? opts : {};\n  return SceneChangeDetection({\n    redraw,\n    type: \"font\",\n    changeCb\n  });\n}\nvar _Text = class _Text extends Shape {\n  constructor() {\n    super(...arguments);\n    this.x = 0;\n    this.y = 0;\n    this.lines = [];\n    this.text = void 0;\n    this._dirtyFont = true;\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.textAlign = _Text.defaultStyles.textAlign;\n    this.textBaseline = _Text.defaultStyles.textBaseline;\n  }\n  onTextChange() {\n    var _a, _b;\n    this.lines = (_b = (_a = this.text) == null ? void 0 : _a.split(\"\\n\").map(s => s.trim())) != null ? _b : [];\n  }\n  get font() {\n    if (this._font == null || this._dirtyFont) {\n      this._dirtyFont = false;\n      this._font = getFont(this);\n    }\n    return this._font;\n  }\n  computeBBox() {\n    const {\n      x,\n      y,\n      lines,\n      lineHeight,\n      textBaseline,\n      textAlign\n    } = this;\n    const {\n      top,\n      left,\n      width,\n      height\n    } = _Text.getTextSizeMultiline(lines, getFont(this), textBaseline, textAlign, lineHeight);\n    return new BBox(x - left, y - top, width, height);\n  }\n  getLineHeight(line) {\n    var _a, _b;\n    if (this.lineHeight) {\n      return this.lineHeight;\n    }\n    const metrics = _Text.measureText(line, this.font, this.textBaseline, this.textAlign);\n    return (\n      // Fallback to emHeightAscent + emHeightDescent is needed for server-side rendering.\n      ((_a = metrics.fontBoundingBoxAscent) != null ? _a : metrics.emHeightAscent) + ((_b = metrics.fontBoundingBoxDescent) != null ? _b : metrics.emHeightDescent)\n    );\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return bbox ? bbox.containsPoint(point.x, point.y) : false;\n  }\n  render(renderCtx) {\n    const {\n      ctx,\n      forceRender,\n      stats\n    } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats) stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    if (!this.lines.length || !this.layerManager) {\n      if (stats) stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    const {\n      fill,\n      stroke,\n      strokeWidth\n    } = this;\n    ctx.font = this.font;\n    ctx.textAlign = this.textAlign;\n    ctx.textBaseline = this.textBaseline;\n    const pixelRatio = this.layerManager.canvas.pixelRatio || 1;\n    const {\n      globalAlpha\n    } = ctx;\n    if (fill) {\n      ctx.fillStyle = fill;\n      ctx.globalAlpha = globalAlpha * this.opacity * this.fillOpacity;\n      const {\n        fillShadow\n      } = this;\n      if (fillShadow == null ? void 0 : fillShadow.enabled) {\n        ctx.shadowColor = fillShadow.color;\n        ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n        ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n        ctx.shadowBlur = fillShadow.blur * pixelRatio;\n      }\n      this.renderLines((line, x, y) => ctx.fillText(line, x, y));\n    }\n    if (stroke && strokeWidth) {\n      ctx.strokeStyle = stroke;\n      ctx.lineWidth = strokeWidth;\n      ctx.globalAlpha = globalAlpha * this.opacity * this.strokeOpacity;\n      const {\n        lineDash,\n        lineDashOffset,\n        lineCap,\n        lineJoin\n      } = this;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      this.renderLines((line, x, y) => ctx.strokeText(line, x, y));\n    }\n    super.render(renderCtx);\n  }\n  renderLines(renderCallback) {\n    const {\n      lines,\n      x,\n      y\n    } = this;\n    const lineHeights = lines.map(line => this.getLineHeight(line));\n    const totalHeight = lineHeights.reduce((a, b) => a + b, 0);\n    let offsetY = (lineHeights[0] - totalHeight) * _Text.getVerticalModifier(this.textBaseline);\n    for (let i = 0; i < lines.length; i++) {\n      renderCallback(lines[i], x, y + offsetY);\n      offsetY += lineHeights[i];\n    }\n  }\n  static wrapLines(text, maxWidth, maxHeight, textProps, wrapping, overflow) {\n    const canOverflow = overflow !== \"hide\";\n    const measurer = new TextMeasurer(textProps);\n    const lines = text.split(/\\r?\\n/g);\n    if (lines.length === 0) {\n      return {\n        lines: void 0,\n        truncated: false\n      };\n    }\n    if (wrapping === \"never\") {\n      const {\n        text: truncText,\n        truncated: truncated2\n      } = _Text.truncateLine(lines[0], maxWidth, measurer, canOverflow ? \"auto\" : \"never\");\n      return {\n        lines: truncText != null ? [truncText] : void 0,\n        truncated: truncated2\n      };\n    }\n    const wrappedLines = [];\n    let cumulativeHeight = 0;\n    let truncated = false;\n    for (const line of lines) {\n      const wrappedLine = _Text.wrapLine(line, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow);\n      if (wrappedLine == null) {\n        return {\n          lines: void 0,\n          truncated: false\n        };\n      }\n      wrappedLines.push(...wrappedLine.result);\n      cumulativeHeight = wrappedLine.cumulativeHeight;\n      if (wrappedLine.truncated) {\n        truncated = true;\n        break;\n      }\n    }\n    return {\n      lines: wrappedLines,\n      truncated\n    };\n  }\n  static wrap(text, maxWidth, maxHeight, textProps, wrapping, overflow = \"ellipsis\") {\n    var _a;\n    const {\n      lines,\n      truncated\n    } = _Text.wrapLines(text, maxWidth, maxHeight, textProps, wrapping, overflow);\n    return {\n      text: (_a = lines == null ? void 0 : lines.join(\"\\n\").trim()) != null ? _a : \"\",\n      truncated\n    };\n  }\n  static wrapLine(text, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow) {\n    text = text.trim();\n    if (!text) {\n      return {\n        result: [],\n        truncated: false,\n        cumulativeHeight\n      };\n    }\n    const initialSize = measurer.size(text);\n    if (initialSize.width <= maxWidth) {\n      return {\n        result: [text],\n        truncated: false,\n        cumulativeHeight: cumulativeHeight + initialSize.height\n      };\n    }\n    if (initialSize.height > maxHeight || measurer.width(\"W\") > maxWidth) {\n      return canOverflow ? {\n        result: [],\n        truncated: true,\n        cumulativeHeight\n      } : void 0;\n    }\n    const words = text.split(/\\s+/g);\n    const wrapResult = _Text.wrapLineSequentially(words, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow);\n    if (wrapResult == null) {\n      return;\n    }\n    cumulativeHeight = wrapResult.cumulativeHeight;\n    let {\n      lines\n    } = wrapResult;\n    if (!(wrapResult.wordsBrokenOrTruncated || wrapResult.linesTruncated)) {\n      const linesCount = wrapResult.lines.length;\n      const balanced = _Text.wrapLineBalanced(words, maxWidth, measurer, linesCount);\n      if (balanced.length === lines.length) {\n        lines = balanced;\n      }\n    }\n    const wrappedText = lines.map(ln => ln.join(\" \"));\n    return {\n      result: wrappedText,\n      truncated: wrapResult.linesTruncated,\n      cumulativeHeight\n    };\n  }\n  static breakWord(word, firstLineWidth, maxWidth, hyphens, measurer) {\n    const isPunctuationAt = index => _Text.punctuationMarks.includes(word[index]);\n    const h = hyphens ? measurer.width(\"-\") : 0;\n    const breaks = [];\n    let partWidth = 0;\n    let p = 0;\n    for (let i = 0; i < word.length; i++) {\n      const c = word[i];\n      const w = measurer.width(c);\n      const limit = p === 0 ? firstLineWidth : maxWidth;\n      if (partWidth + w + h > limit) {\n        breaks.push(i);\n        partWidth = 0;\n        p++;\n      }\n      partWidth += w;\n    }\n    const parts = [];\n    let start = 0;\n    for (const index of breaks) {\n      let part = word.substring(start, index);\n      if (hyphens && part.length > 0 && !isPunctuationAt(index - 1) && !isPunctuationAt(index)) {\n        part += \"-\";\n      }\n      parts.push(part);\n      start = index;\n    }\n    parts.push(word.substring(start));\n    return parts;\n  }\n  static truncateLine(text, maxWidth, measurer, ellipsisMode) {\n    text = text.trimEnd();\n    const lineWidth = measurer.width(text);\n    if (lineWidth > maxWidth && ellipsisMode === \"never\") {\n      return {\n        text: void 0,\n        truncated: false\n      };\n    } else if (lineWidth <= maxWidth && ellipsisMode !== \"force\") {\n      return {\n        text,\n        truncated: false\n      };\n    }\n    const ellipsisWidth = measurer.width(ellipsis);\n    let trunc = text;\n    let truncWidth = lineWidth;\n    while (trunc.length > 0 && truncWidth + ellipsisWidth > maxWidth) {\n      trunc = trunc.slice(0, -1).trimEnd();\n      truncWidth = measurer.width(trunc);\n    }\n    if (truncWidth + ellipsisWidth <= maxWidth) {\n      return {\n        text: `${trunc}${ellipsis}`,\n        truncated: true\n      };\n    } else {\n      return {\n        text: void 0,\n        truncated: false\n      };\n    }\n  }\n  static wrapLineSequentially(words, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow) {\n    const {\n      fontSize = 0,\n      lineHeight = fontSize * _Text.defaultLineHeightRatio\n    } = textProps;\n    const breakWord = wrapping === \"always\" || wrapping === \"hyphenate\";\n    const hyphenate = wrapping === \"hyphenate\";\n    const spaceWidth = measurer.width(\" \");\n    let wordsBrokenOrTruncated = false;\n    let linesTruncated = false;\n    const lines = [];\n    let currentLine = [];\n    let lineWidth = 0;\n    const getReturnValue = () => ({\n      lines,\n      linesTruncated,\n      wordsBrokenOrTruncated,\n      cumulativeHeight\n    });\n    const truncateLastLine = () => {\n      if (!canOverflow) {\n        return;\n      }\n      const lastLine = currentLine.join(\" \");\n      const {\n        text\n      } = _Text.truncateLine(lastLine, maxWidth, measurer, \"force\");\n      if (text == null) {\n        return;\n      }\n      currentLine.splice(0, currentLine.length, text);\n      linesTruncated = true;\n      return getReturnValue();\n    };\n    const addNewLine = () => {\n      const expectedHeight = cumulativeHeight + lineHeight;\n      if (expectedHeight >= maxHeight) {\n        return false;\n      }\n      currentLine = [];\n      lineWidth = 0;\n      cumulativeHeight = expectedHeight;\n      lines.push(currentLine);\n      return true;\n    };\n    if (!addNewLine()) {\n      return truncateLastLine();\n    }\n    for (let i = 0; i < words.length; i++) {\n      const word = words[i];\n      const wordWidth = measurer.width(word);\n      const expectedSpaceWidth = currentLine.length === 0 ? 0 : spaceWidth;\n      const expectedLineWidth = lineWidth + expectedSpaceWidth + wordWidth;\n      if (expectedLineWidth <= maxWidth) {\n        currentLine.push(word);\n        lineWidth = expectedLineWidth;\n        continue;\n      }\n      if (wordWidth <= maxWidth) {\n        if (!addNewLine()) {\n          return truncateLastLine();\n        }\n        currentLine.push(word);\n        lineWidth = wordWidth;\n        continue;\n      }\n      wordsBrokenOrTruncated = true;\n      if (breakWord) {\n        const availWidth = maxWidth - lineWidth - expectedSpaceWidth;\n        const parts = _Text.breakWord(word, availWidth, maxWidth, hyphenate, measurer);\n        for (let p = 0; p < parts.length; p++) {\n          const part = parts[p];\n          part && currentLine.push(part);\n          if (p === parts.length - 1) {\n            lineWidth = measurer.width(part);\n          } else if (!addNewLine()) {\n            return truncateLastLine();\n          }\n        }\n      } else if (canOverflow) {\n        if (!addNewLine()) {\n          return truncateLastLine();\n        }\n        const {\n          text\n        } = _Text.truncateLine(word, maxWidth, measurer, \"force\");\n        if (text == null) {\n          return;\n        }\n        currentLine.push(text);\n        if (i < words.length - 1) {\n          linesTruncated = true;\n        }\n        break;\n      } else {\n        return;\n      }\n    }\n    return getReturnValue();\n  }\n  static wrapLineBalanced(words, maxWidth, measurer, linesCount) {\n    const totalWordsWidth = words.reduce((sum2, w) => sum2 + measurer.width(w), 0);\n    const spaceWidth = measurer.width(\" \");\n    const totalSpaceWidth = spaceWidth * (words.length - linesCount - 2);\n    const averageLineWidth = (totalWordsWidth + totalSpaceWidth) / linesCount;\n    const lines = [];\n    let currentLine = [];\n    let lineWidth = measurer.width(words[0]);\n    let newLine = true;\n    for (const word of words) {\n      const width = measurer.width(word);\n      if (newLine) {\n        currentLine = [];\n        currentLine.push(word);\n        lineWidth = width;\n        newLine = false;\n        lines.push(currentLine);\n        continue;\n      }\n      const expectedLineWidth = lineWidth + spaceWidth + width;\n      if (expectedLineWidth <= averageLineWidth) {\n        currentLine.push(word);\n        lineWidth = expectedLineWidth;\n      } else if (expectedLineWidth <= maxWidth) {\n        currentLine.push(word);\n        newLine = true;\n      } else {\n        currentLine = [word];\n        lineWidth = width;\n        lines.push(currentLine);\n      }\n    }\n    return lines;\n  }\n  setFont(props) {\n    this.fontFamily = props.fontFamily;\n    this.fontSize = props.fontSize;\n    this.fontStyle = props.fontStyle;\n    this.fontWeight = props.fontWeight;\n  }\n  setAlign(props) {\n    this.textAlign = props.textAlign;\n    this.textBaseline = props.textBaseline;\n  }\n  static getVerticalModifier(textBaseline) {\n    switch (textBaseline) {\n      case \"top\":\n      case \"hanging\":\n        return 0;\n      case \"bottom\":\n      case \"alphabetic\":\n      case \"ideographic\":\n        return 1;\n      case \"middle\":\n        return 0.5;\n    }\n  }\n  static get textContext() {\n    if (!this._textContext) {\n      const canvasElement = createElement(\"canvas\");\n      canvasElement.width = 0;\n      canvasElement.height = 0;\n      this._textContext = canvasElement.getContext(\"2d\");\n    }\n    return this._textContext;\n  }\n  static measureText(text, font, textBaseline, textAlign) {\n    return this._measureText({\n      text,\n      font,\n      textBaseline,\n      textAlign\n    });\n  }\n  /**\n   * Returns the width and height of the measured text.\n   * @param text The single-line text to measure.\n   * @param font The font shorthand string.\n   */\n  static getTextSize(text, font) {\n    return this._getTextSize({\n      text,\n      font\n    });\n  }\n  static getTextSizeMultiline(lines, font, textBaseline = _Text.defaultStyles.textBaseline, textAlign = _Text.defaultStyles.textAlign, lineHeight) {\n    var _a, _b;\n    let top = 0;\n    let left = 0;\n    let width = 0;\n    let height = 0;\n    let baselineDistance = 0;\n    for (const [i, text] of lines.entries()) {\n      const metrics = this._measureText({\n        text,\n        font,\n        textBaseline,\n        textAlign\n      });\n      left = Math.max(left, metrics.actualBoundingBoxLeft);\n      width = Math.max(width, metrics.width);\n      if (i == 0) {\n        top += metrics.actualBoundingBoxAscent;\n        height += metrics.actualBoundingBoxAscent;\n      } else {\n        baselineDistance += (_a = metrics.fontBoundingBoxAscent) != null ? _a : metrics.emHeightAscent;\n      }\n      if (i == lines.length - 1) {\n        height += metrics.actualBoundingBoxDescent;\n      } else {\n        baselineDistance += (_b = metrics.fontBoundingBoxDescent) != null ? _b : metrics.emHeightDescent;\n      }\n    }\n    if (lineHeight != null) {\n      baselineDistance = (lines.length - 1) * lineHeight;\n    }\n    height += baselineDistance;\n    top += baselineDistance * _Text.getVerticalModifier(textBaseline);\n    return {\n      top,\n      left,\n      width,\n      height\n    };\n  }\n};\n_Text.className = \"Text\";\n// The default line spacing for document editors is usually 1.15\n_Text.defaultLineHeightRatio = 1.15;\n_Text.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  textAlign: \"start\",\n  fontStyle: void 0,\n  fontWeight: void 0,\n  fontSize: 10,\n  fontFamily: \"sans-serif\",\n  textBaseline: \"alphabetic\"\n});\n_Text.ellipsis = ellipsis;\n_Text.punctuationMarks = [\".\", \",\", \"-\", \":\", \";\", \"!\", \"?\", `'`, '\"', \"(\", \")\"];\n_Text._measureText = memoizeFunction(({\n  text,\n  font,\n  textBaseline,\n  textAlign\n}) => {\n  const ctx = _Text.textContext;\n  if (ctx.font !== font) {\n    ctx.font = font;\n  }\n  if (ctx.textBaseline !== textBaseline) {\n    ctx.textBaseline = textBaseline;\n  }\n  if (ctx.textAlign !== textAlign) {\n    ctx.textAlign = textAlign;\n  }\n  return ctx.measureText(text);\n});\n_Text._getTextSize = memoizeFunction(({\n  text,\n  font\n}) => {\n  const ctx = _Text.textContext;\n  if (ctx.font !== font) {\n    ctx.font = font;\n  }\n  const metrics = ctx.measureText(text);\n  return {\n    width: metrics.width,\n    height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n  };\n});\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], _Text.prototype, \"x\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], _Text.prototype, \"y\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */,\n  changeCb: o => o.onTextChange()\n})], _Text.prototype, \"text\", 2);\n__decorateClass([SceneFontChangeDetection()], _Text.prototype, \"fontStyle\", 2);\n__decorateClass([SceneFontChangeDetection()], _Text.prototype, \"fontWeight\", 2);\n__decorateClass([SceneFontChangeDetection()], _Text.prototype, \"fontSize\", 2);\n__decorateClass([SceneFontChangeDetection()], _Text.prototype, \"fontFamily\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], _Text.prototype, \"textAlign\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], _Text.prototype, \"textBaseline\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], _Text.prototype, \"lineHeight\", 2);\nvar Text = _Text;\nvar TextMeasurer = class {\n  constructor(font) {\n    this.font = isString(font) ? font : getFont(font);\n  }\n  size(text) {\n    return text.includes(\"\\n\") ? Text.getTextSizeMultiline(text.split(\"\\n\").map(s => s.trim()), this.font) : Text.getTextSize(text, this.font);\n  }\n  width(text) {\n    const {\n      width\n    } = this.size(text);\n    return width;\n  }\n};\nfunction getFont(fontProps) {\n  const {\n    fontFamily,\n    fontSize,\n    fontStyle,\n    fontWeight\n  } = fontProps;\n  return [fontStyle != null ? fontStyle : \"\", fontWeight != null ? fontWeight : \"\", fontSize + \"px\", fontFamily].join(\" \").trim();\n}\n\n// packages/ag-charts-community/src/chart/label.ts\nvar Label = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n  }\n  getFont() {\n    return getFont(this);\n  }\n};\n__decorateClass([Validate(BOOLEAN)], Label.prototype, \"enabled\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], Label.prototype, \"color\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], Label.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], Label.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Label.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], Label.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], Label.prototype, \"formatter\", 2);\nfunction calculateLabelRotation(opts) {\n  const {\n    parallelFlipRotation = 0,\n    regularFlipRotation = 0\n  } = opts;\n  const configuredRotation = opts.rotation ? normalizeAngle360(toRadians(opts.rotation)) : 0;\n  const parallelFlipFlag = !configuredRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI ? -1 : 1;\n  const regularFlipFlag = !configuredRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI ? -1 : 1;\n  let defaultRotation = 0;\n  if (opts.parallel) {\n    defaultRotation = parallelFlipFlag * Math.PI / 2;\n  } else if (regularFlipFlag === -1) {\n    defaultRotation = Math.PI;\n  }\n  return {\n    configuredRotation,\n    defaultRotation,\n    parallelFlipFlag,\n    regularFlipFlag\n  };\n}\nfunction getLabelSpacing(minSpacing, rotated) {\n  if (!isNaN(minSpacing)) {\n    return minSpacing;\n  }\n  return rotated ? 0 : 10;\n}\nfunction getTextBaseline(parallel, labelRotation, sideFlag, parallelFlipFlag) {\n  if (parallel && !labelRotation) {\n    return sideFlag * parallelFlipFlag === -1 ? \"hanging\" : \"bottom\";\n  }\n  return \"middle\";\n}\nfunction getTextAlign(parallel, labelRotation, labelAutoRotation, sideFlag, regularFlipFlag) {\n  const labelRotated = labelRotation > 0 && labelRotation <= Math.PI;\n  const labelAutoRotated = labelAutoRotation > 0 && labelAutoRotation <= Math.PI;\n  const alignFlag = labelRotated || labelAutoRotated ? -1 : 1;\n  if (parallel) {\n    if (labelRotation || labelAutoRotation) {\n      if (sideFlag * alignFlag === -1) {\n        return \"end\";\n      }\n    } else {\n      return \"center\";\n    }\n  } else if (sideFlag * regularFlipFlag === -1) {\n    return \"end\";\n  }\n  return \"start\";\n}\nfunction calculateLabelBBox(text, bbox, labelX, labelY, labelMatrix) {\n  const {\n    width,\n    height\n  } = bbox;\n  const translatedBBox = new BBox(labelX, labelY, 0, 0);\n  labelMatrix.transformBBox(translatedBBox, bbox);\n  const {\n    x,\n    y\n  } = bbox;\n  bbox.width = width;\n  bbox.height = height;\n  return {\n    point: {\n      x,\n      y\n    },\n    label: {\n      text,\n      width,\n      height\n    }\n  };\n}\n\n// packages/ag-charts-community/src/chart/layers.ts\nvar Layers = /* @__PURE__ */(Layers2 => {\n  Layers2[Layers2[\"SERIES_BACKGROUND_ZINDEX\"] = 0] = \"SERIES_BACKGROUND_ZINDEX\";\n  Layers2[Layers2[\"AXIS_GRID_ZINDEX\"] = 1] = \"AXIS_GRID_ZINDEX\";\n  Layers2[Layers2[\"AXIS_ZINDEX\"] = 2] = \"AXIS_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSLINE_RANGE_ZINDEX\"] = 3] = \"SERIES_CROSSLINE_RANGE_ZINDEX\";\n  Layers2[Layers2[\"SERIES_LAYER_ZINDEX\"] = 4] = \"SERIES_LAYER_ZINDEX\";\n  Layers2[Layers2[\"SERIES_HIGHLIGHT_ZINDEX\"] = 5] = \"SERIES_HIGHLIGHT_ZINDEX\";\n  Layers2[Layers2[\"AXIS_FOREGROUND_ZINDEX\"] = 6] = \"AXIS_FOREGROUND_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSHAIR_ZINDEX\"] = 7] = \"SERIES_CROSSHAIR_ZINDEX\";\n  Layers2[Layers2[\"SERIES_LABEL_ZINDEX\"] = 8] = \"SERIES_LABEL_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSLINE_LINE_ZINDEX\"] = 9] = \"SERIES_CROSSLINE_LINE_ZINDEX\";\n  Layers2[Layers2[\"SERIES_ANNOTATION_ZINDEX\"] = 10] = \"SERIES_ANNOTATION_ZINDEX\";\n  Layers2[Layers2[\"LEGEND_ZINDEX\"] = 11] = \"LEGEND_ZINDEX\";\n  Layers2[Layers2[\"NAVIGATOR_ZINDEX\"] = 12] = \"NAVIGATOR_ZINDEX\";\n  return Layers2;\n})(Layers || {});\n\n// packages/ag-charts-community/src/util/value.ts\nfunction isStringObject(value) {\n  return value != null && Object.hasOwn(value, \"toString\") && isString(value.toString());\n}\nfunction isNumberObject(value) {\n  return value != null && Object.hasOwn(value, \"valueOf\") && isFiniteNumber(value.valueOf());\n}\nfunction isContinuous(value) {\n  return isFiniteNumber(value) || isValidDate(value) || isNumberObject(value);\n}\nfunction checkDatum(value, isContinuousScale) {\n  return value != null && (!isContinuousScale || isContinuous(value));\n}\nfunction transformIntegratedCategoryValue(value) {\n  if (isStringObject(value) && Object.hasOwn(value, \"id\")) {\n    return value.id;\n  }\n  return value;\n}\n\n// packages/ag-charts-community/src/chart/crossline/crossLine.ts\nvar MATCHING_CROSSLINE_TYPE = property => {\n  return property === \"value\" ? predicateWithMessage((_, ctx) => ctx.target[\"type\"] === \"line\", ctx => ctx.target[\"type\"] === \"range\" ? `crossLine type 'range' to have a 'range' property instead of 'value'` : `crossLine property 'type' to be 'line'`) : predicateWithMessage((_, ctx) => ctx.target[\"type\"] === \"range\", ctx => ctx.target.type === \"line\" ? `crossLine type 'line' to have a 'value' property instead of 'range'` : `crossLine property 'type' to be 'range'`);\n};\nvar validateCrossLineValues = (type, value, range3, scale2) => {\n  const lineCrossLine = type === \"line\" && value !== void 0;\n  const rangeCrossLine = type === \"range\" && range3 !== void 0;\n  if (!lineCrossLine && !rangeCrossLine) {\n    return true;\n  }\n  const [start, end] = range3 != null ? range3 : [value, void 0];\n  const isContinuous2 = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n  const validStart = checkDatum(start, isContinuous2) && !isNaN(scale2.convert(start));\n  const validEnd = checkDatum(end, isContinuous2) && !isNaN(scale2.convert(end));\n  if (lineCrossLine && validStart || rangeCrossLine && validStart && validEnd) {\n    return true;\n  }\n  const message = [`Expecting crossLine`];\n  if (rangeCrossLine) {\n    if (!validStart) {\n      message.push(`range start ${stringify(start)}`);\n    }\n    if (!validEnd) {\n      message.push(`${validStart ? \"\" : \"and \"}range end ${stringify(end)}`);\n    }\n  } else {\n    message.push(`value ${stringify(start)}`);\n  }\n  message.push(`to match the axis scale domain.`);\n  Logger.warnOnce(message.join(\" \"));\n  return false;\n};\n\n// packages/ag-charts-community/src/chart/crossline/crossLineLabelPosition.ts\nvar horizontalCrosslineTranslationDirections = {\n  top: {\n    xTranslationDirection: 0,\n    yTranslationDirection: -1\n  },\n  bottom: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 1\n  },\n  left: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 0\n  },\n  right: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 0\n  },\n  topLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: -1\n  },\n  topRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: -1\n  },\n  bottomLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 1\n  },\n  bottomRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 1\n  },\n  inside: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 0\n  },\n  insideLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 0\n  },\n  insideRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 0\n  },\n  insideTop: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 1\n  },\n  insideBottom: {\n    xTranslationDirection: 0,\n    yTranslationDirection: -1\n  },\n  insideTopLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 1\n  },\n  insideBottomLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: -1\n  },\n  insideTopRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 1\n  },\n  insideBottomRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: -1\n  }\n};\nvar verticalCrossLineTranslationDirections = {\n  top: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 0\n  },\n  bottom: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 0\n  },\n  left: {\n    xTranslationDirection: 0,\n    yTranslationDirection: -1\n  },\n  right: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 1\n  },\n  topLeft: {\n    xTranslationDirection: -1,\n    yTranslationDirection: -1\n  },\n  topRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 1\n  },\n  bottomLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: -1\n  },\n  bottomRight: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 1\n  },\n  inside: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 0\n  },\n  insideLeft: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 1\n  },\n  insideRight: {\n    xTranslationDirection: 0,\n    yTranslationDirection: -1\n  },\n  insideTop: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 0\n  },\n  insideBottom: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 0\n  },\n  insideTopLeft: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 1\n  },\n  insideBottomLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 1\n  },\n  insideTopRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: -1\n  },\n  insideBottomRight: {\n    xTranslationDirection: 1,\n    yTranslationDirection: -1\n  }\n};\nfunction calculateLabelTranslation({\n  yDirection,\n  padding = 0,\n  position = \"top\",\n  bbox\n}) {\n  const crossLineTranslationDirections = yDirection ? horizontalCrosslineTranslationDirections : verticalCrossLineTranslationDirections;\n  const {\n    xTranslationDirection,\n    yTranslationDirection\n  } = crossLineTranslationDirections[position];\n  const w = yDirection ? bbox.width : bbox.height;\n  const h = yDirection ? bbox.height : bbox.width;\n  const xTranslation = xTranslationDirection * (padding + w / 2);\n  const yTranslation = yTranslationDirection * (padding + h / 2);\n  return {\n    xTranslation,\n    yTranslation\n  };\n}\nfunction calculateLabelChartPadding({\n  yDirection,\n  bbox,\n  padding = 0,\n  position = \"top\"\n}) {\n  const chartPadding = {};\n  if (position.startsWith(\"inside\")) return chartPadding;\n  if (position === \"top\" && !yDirection) {\n    chartPadding.top = padding + bbox.height;\n  } else if (position === \"bottom\" && !yDirection) {\n    chartPadding.bottom = padding + bbox.height;\n  } else if (position === \"left\" && yDirection) {\n    chartPadding.left = padding + bbox.width;\n  } else if (position === \"right\" && yDirection) {\n    chartPadding.right = padding + bbox.width;\n  }\n  return chartPadding;\n}\nvar POSITION_TOP_COORDINATES = ({\n  yDirection,\n  xEnd,\n  yStart,\n  yEnd\n}) => {\n  if (yDirection) {\n    return {\n      x: xEnd / 2,\n      y: yStart\n    };\n  } else {\n    return {\n      x: xEnd,\n      y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2\n    };\n  }\n};\nvar POSITION_LEFT_COORDINATES = ({\n  yDirection,\n  xStart,\n  xEnd,\n  yStart,\n  yEnd\n}) => {\n  if (yDirection) {\n    return {\n      x: xStart,\n      y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2\n    };\n  } else {\n    return {\n      x: xEnd / 2,\n      y: yStart\n    };\n  }\n};\nvar POSITION_RIGHT_COORDINATES = ({\n  yDirection,\n  xEnd,\n  yStart,\n  yEnd\n}) => {\n  if (yDirection) {\n    return {\n      x: xEnd,\n      y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2\n    };\n  } else {\n    return {\n      x: xEnd / 2,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  }\n};\nvar POSITION_BOTTOM_COORDINATES = ({\n  yDirection,\n  xStart,\n  xEnd,\n  yStart,\n  yEnd\n}) => {\n  if (yDirection) {\n    return {\n      x: xEnd / 2,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  } else {\n    return {\n      x: xStart,\n      y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2\n    };\n  }\n};\nvar POSITION_INSIDE_COORDINATES = ({\n  xEnd,\n  yStart,\n  yEnd\n}) => {\n  return {\n    x: xEnd / 2,\n    y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2\n  };\n};\nvar POSITION_TOP_LEFT_COORDINATES = ({\n  yDirection,\n  xStart,\n  xEnd,\n  yStart\n}) => {\n  if (yDirection) {\n    return {\n      x: xStart / 2,\n      y: yStart\n    };\n  } else {\n    return {\n      x: xEnd,\n      y: yStart\n    };\n  }\n};\nvar POSITION_BOTTOM_LEFT_COORDINATES = ({\n  yDirection,\n  xStart,\n  yStart,\n  yEnd\n}) => {\n  if (yDirection) {\n    return {\n      x: xStart,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  } else {\n    return {\n      x: xStart,\n      y: yStart\n    };\n  }\n};\nvar POSITION_TOP_RIGHT_COORDINATES = ({\n  yDirection,\n  xEnd,\n  yStart,\n  yEnd\n}) => {\n  if (yDirection) {\n    return {\n      x: xEnd,\n      y: yStart\n    };\n  } else {\n    return {\n      x: xEnd,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  }\n};\nvar POSITION_BOTTOM_RIGHT_COORDINATES = ({\n  yDirection,\n  xStart,\n  xEnd,\n  yStart,\n  yEnd\n}) => {\n  if (yDirection) {\n    return {\n      x: xEnd,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  } else {\n    return {\n      x: xStart,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  }\n};\nvar labelDirectionHandling = {\n  top: {\n    c: POSITION_TOP_COORDINATES\n  },\n  bottom: {\n    c: POSITION_BOTTOM_COORDINATES\n  },\n  left: {\n    c: POSITION_LEFT_COORDINATES\n  },\n  right: {\n    c: POSITION_RIGHT_COORDINATES\n  },\n  topLeft: {\n    c: POSITION_TOP_LEFT_COORDINATES\n  },\n  topRight: {\n    c: POSITION_TOP_RIGHT_COORDINATES\n  },\n  bottomLeft: {\n    c: POSITION_BOTTOM_LEFT_COORDINATES\n  },\n  bottomRight: {\n    c: POSITION_BOTTOM_RIGHT_COORDINATES\n  },\n  inside: {\n    c: POSITION_INSIDE_COORDINATES\n  },\n  insideLeft: {\n    c: POSITION_LEFT_COORDINATES\n  },\n  insideRight: {\n    c: POSITION_RIGHT_COORDINATES\n  },\n  insideTop: {\n    c: POSITION_TOP_COORDINATES\n  },\n  insideBottom: {\n    c: POSITION_BOTTOM_COORDINATES\n  },\n  insideTopLeft: {\n    c: POSITION_TOP_LEFT_COORDINATES\n  },\n  insideBottomLeft: {\n    c: POSITION_BOTTOM_LEFT_COORDINATES\n  },\n  insideTopRight: {\n    c: POSITION_TOP_RIGHT_COORDINATES\n  },\n  insideBottomRight: {\n    c: POSITION_BOTTOM_RIGHT_COORDINATES\n  }\n};\n\n// packages/ag-charts-community/src/chart/crossline/cartesianCrossLine.ts\nvar CROSSLINE_LABEL_POSITION = UNION([\"top\", \"left\", \"right\", \"bottom\", \"topLeft\", \"topRight\", \"bottomLeft\", \"bottomRight\", \"inside\", \"insideLeft\", \"insideRight\", \"insideTop\", \"insideBottom\", \"insideTopLeft\", \"insideBottomLeft\", \"insideTopRight\", \"insideBottomRight\"], \"crossLine label position\");\nvar CartesianCrossLineLabel = class {\n  constructor() {\n    this.enabled = void 0;\n    this.text = void 0;\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 14;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.padding = 5;\n    this.color = \"rgba(87, 87, 87, 1)\";\n    this.position = void 0;\n    this.rotation = void 0;\n    this.parallel = void 0;\n  }\n};\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"enabled\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"text\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], CartesianCrossLineLabel.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], CartesianCrossLineLabel.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(NUMBER)], CartesianCrossLineLabel.prototype, \"padding\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"color\", 2);\n__decorateClass([Validate(CROSSLINE_LABEL_POSITION, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"position\", 2);\n__decorateClass([Validate(DEGREE, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"rotation\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"parallel\", 2);\nvar _CartesianCrossLine = class _CartesianCrossLine {\n  constructor() {\n    this.id = createId(this);\n    this.enabled = void 0;\n    this.type = void 0;\n    this.range = void 0;\n    this.value = void 0;\n    this.fill = void 0;\n    this.fillOpacity = void 0;\n    this.stroke = void 0;\n    this.strokeWidth = void 0;\n    this.strokeOpacity = void 0;\n    this.lineDash = void 0;\n    this.label = new CartesianCrossLineLabel();\n    this.scale = void 0;\n    this.clippedRange = [-Infinity, Infinity];\n    this.gridLength = 0;\n    this.sideFlag = -1;\n    this.parallelFlipRotation = 0;\n    this.regularFlipRotation = 0;\n    this.direction = \"x\" /* X */;\n    this.group = new Group({\n      name: `${this.id}`,\n      layer: true,\n      zIndex: _CartesianCrossLine.LINE_LAYER_ZINDEX\n    });\n    this.labelGroup = new Group({\n      name: `${this.id}`,\n      layer: true,\n      zIndex: _CartesianCrossLine.LABEL_LAYER_ZINDEX\n    });\n    this.crossLineRange = new Range();\n    this.crossLineLabel = new Text();\n    this.labelPoint = void 0;\n    this.data = [];\n    this.startLine = false;\n    this.endLine = false;\n    this.isRange = false;\n    const {\n      group: group2,\n      labelGroup,\n      crossLineRange,\n      crossLineLabel\n    } = this;\n    group2.append(crossLineRange);\n    labelGroup.append(crossLineLabel);\n    crossLineRange.pointerEvents = 1 /* None */;\n  }\n  update(visible) {\n    const {\n      enabled,\n      data,\n      type,\n      value,\n      range: range3,\n      scale: scale2\n    } = this;\n    if (!type || !scale2 || !enabled || !visible || !validateCrossLineValues(type, value, range3, scale2) || data.length === 0) {\n      this.group.visible = false;\n      this.labelGroup.visible = false;\n      return;\n    }\n    this.group.visible = visible;\n    this.labelGroup.visible = visible;\n    this.group.zIndex = this.getZIndex(this.isRange);\n    this.updateNodes();\n  }\n  calculateLayout(visible, reversedAxis) {\n    if (!visible) {\n      return;\n    }\n    const dataCreated = this.createNodeData(reversedAxis);\n    if (!dataCreated) {\n      return;\n    }\n    const {\n      sideFlag,\n      gridLength,\n      data\n    } = this;\n    const boxes = [];\n    const x1 = 0;\n    const x2 = sideFlag * gridLength;\n    const y1 = data[0];\n    const y2 = data[1];\n    const crossLineBox = new BBox(Math.min(x1, x2), Math.min(y1, y2), Math.abs(x1 - x2), Math.abs(y1 - y2));\n    boxes.push(crossLineBox);\n    const labelBox = this.computeLabelBBox();\n    if (labelBox) {\n      boxes.push(labelBox);\n    }\n    return BBox.merge(boxes);\n  }\n  updateNodes() {\n    this.updateRangeNode();\n    if (this.label.enabled) {\n      this.updateLabel();\n      this.positionLabel();\n    }\n  }\n  createNodeData(reversedAxis) {\n    var _a, _b, _c;\n    const {\n      scale: scale2,\n      gridLength,\n      sideFlag,\n      direction,\n      label: {\n        position = \"top\"\n      },\n      clippedRange,\n      strokeWidth = 0\n    } = this;\n    this.data = [];\n    if (!scale2) {\n      return false;\n    }\n    const bandwidth = (_a = scale2.bandwidth) != null ? _a : 0;\n    const step = (_b = scale2.step) != null ? _b : 0;\n    const padding = (reversedAxis ? -1 : 1) * (scale2 instanceof BandScale ? (step - bandwidth) / 2 : 0);\n    const [xStart, xEnd] = [0, sideFlag * gridLength];\n    let [yStart, yEnd] = this.getRange();\n    const ordinalTimeScalePadding = yEnd === void 0 && OrdinalTimeScale.is(scale2) ? bandwidth / 2 + padding : 0;\n    let [clampedYStart, clampedYEnd] = [Number(scale2.convert(yStart, {\n      clampMode: \"clamped\"\n    })) - padding + ordinalTimeScalePadding, scale2.convert(yEnd, {\n      clampMode: \"clamped\"\n    }) + bandwidth + padding];\n    clampedYStart = clampArray(clampedYStart, clippedRange);\n    clampedYEnd = clampArray(clampedYEnd, clippedRange);\n    [yStart, yEnd] = [Number(scale2.convert(yStart)) + ordinalTimeScalePadding, scale2.convert(yEnd) + bandwidth];\n    const validRange = (yStart === clampedYStart || yEnd === clampedYEnd || clampedYStart !== clampedYEnd) && Math.abs(clampedYEnd - clampedYStart) > 0;\n    if (validRange && clampedYStart > clampedYEnd) {\n      [clampedYStart, clampedYEnd] = [clampedYEnd, clampedYStart];\n      [yStart, yEnd] = [yEnd, yStart];\n    }\n    if (yStart - padding >= clampedYStart) yStart -= padding;\n    if (yEnd + padding <= clampedYEnd) yEnd += padding;\n    this.isRange = validRange;\n    this.startLine = strokeWidth > 0 && yStart >= clampedYStart && yStart <= clampedYStart + padding;\n    this.endLine = strokeWidth > 0 && yEnd >= clampedYEnd - bandwidth - padding && yEnd <= clampedYEnd;\n    if (!validRange && !this.startLine && !this.endLine) {\n      return false;\n    }\n    this.data = [clampedYStart, clampedYEnd];\n    if (this.label.enabled) {\n      const yDirection = direction === \"y\" /* Y */;\n      const {\n        c = POSITION_TOP_COORDINATES\n      } = (_c = labelDirectionHandling[position]) != null ? _c : {};\n      const {\n        x: labelX,\n        y: labelY\n      } = c({\n        yDirection,\n        xStart,\n        xEnd,\n        yStart: clampedYStart,\n        yEnd: clampedYEnd\n      });\n      this.labelPoint = {\n        x: labelX,\n        y: labelY\n      };\n    }\n    return true;\n  }\n  updateRangeNode() {\n    var _a;\n    const {\n      crossLineRange,\n      sideFlag,\n      gridLength,\n      data,\n      startLine,\n      endLine,\n      isRange,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      lineDash\n    } = this;\n    crossLineRange.x1 = 0;\n    crossLineRange.x2 = sideFlag * gridLength;\n    crossLineRange.y1 = data[0];\n    crossLineRange.y2 = data[1];\n    crossLineRange.startLine = startLine;\n    crossLineRange.endLine = endLine;\n    crossLineRange.isRange = isRange;\n    crossLineRange.fill = fill;\n    crossLineRange.fillOpacity = fillOpacity != null ? fillOpacity : 1;\n    crossLineRange.stroke = stroke;\n    crossLineRange.strokeWidth = strokeWidth != null ? strokeWidth : 1;\n    crossLineRange.strokeOpacity = (_a = this.strokeOpacity) != null ? _a : 1;\n    crossLineRange.lineDash = lineDash;\n  }\n  updateLabel() {\n    const {\n      crossLineLabel,\n      label\n    } = this;\n    if (!label.text) {\n      return;\n    }\n    crossLineLabel.fontStyle = label.fontStyle;\n    crossLineLabel.fontWeight = label.fontWeight;\n    crossLineLabel.fontSize = label.fontSize;\n    crossLineLabel.fontFamily = label.fontFamily;\n    crossLineLabel.fill = label.color;\n    crossLineLabel.text = label.text;\n  }\n  positionLabel() {\n    const {\n      crossLineLabel,\n      labelPoint: {\n        x = void 0,\n        y = void 0\n      } = {},\n      label: {\n        parallel,\n        rotation,\n        position = \"top\",\n        padding = 0\n      },\n      direction,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this;\n    if (x === void 0 || y === void 0) {\n      return;\n    }\n    const {\n      defaultRotation,\n      configuredRotation\n    } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    crossLineLabel.rotation = defaultRotation + configuredRotation;\n    crossLineLabel.textBaseline = \"middle\";\n    crossLineLabel.textAlign = \"center\";\n    const bbox = crossLineLabel.computeTransformedBBox();\n    if (!bbox) {\n      return;\n    }\n    const yDirection = direction === \"y\" /* Y */;\n    const {\n      xTranslation,\n      yTranslation\n    } = calculateLabelTranslation({\n      yDirection,\n      padding,\n      position,\n      bbox\n    });\n    crossLineLabel.translationX = x + xTranslation;\n    crossLineLabel.translationY = y + yTranslation;\n  }\n  getZIndex(isRange = false) {\n    if (isRange) {\n      return _CartesianCrossLine.RANGE_LAYER_ZINDEX;\n    }\n    return _CartesianCrossLine.LINE_LAYER_ZINDEX;\n  }\n  getRange() {\n    var _a;\n    const {\n      value,\n      range: range3,\n      scale: scale2\n    } = this;\n    const isContinuous2 = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const start = (_a = range3 == null ? void 0 : range3[0]) != null ? _a : value;\n    let end = range3 == null ? void 0 : range3[1];\n    if (!isContinuous2 && end === void 0) {\n      end = start;\n    }\n    if (isContinuous2 && start === end) {\n      end = void 0;\n    }\n    return [start, end];\n  }\n  computeLabelBBox() {\n    const {\n      label\n    } = this;\n    if (!label.enabled) {\n      return;\n    }\n    const tempText = new Text();\n    tempText.fontFamily = label.fontFamily;\n    tempText.fontSize = label.fontSize;\n    tempText.fontStyle = label.fontStyle;\n    tempText.fontWeight = label.fontWeight;\n    tempText.text = label.text;\n    const {\n      labelPoint: {\n        x = void 0,\n        y = void 0\n      } = {},\n      label: {\n        parallel,\n        rotation,\n        position = \"top\",\n        padding = 0\n      },\n      direction,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this;\n    if (x === void 0 || y === void 0) {\n      return;\n    }\n    const {\n      configuredRotation\n    } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    tempText.rotation = configuredRotation;\n    tempText.textBaseline = \"middle\";\n    tempText.textAlign = \"center\";\n    const bbox = tempText.computeTransformedBBox();\n    if (!bbox) {\n      return;\n    }\n    const yDirection = direction === \"y\" /* Y */;\n    const {\n      xTranslation,\n      yTranslation\n    } = calculateLabelTranslation({\n      yDirection,\n      padding,\n      position,\n      bbox\n    });\n    tempText.translationX = x + xTranslation;\n    tempText.translationY = y + yTranslation;\n    return tempText.computeTransformedBBox();\n  }\n  calculatePadding(padding) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const {\n      isRange,\n      startLine,\n      endLine,\n      direction,\n      label: {\n        padding: labelPadding = 0,\n        position = \"top\"\n      }\n    } = this;\n    if (!isRange && !startLine && !endLine) {\n      return;\n    }\n    const crossLineLabelBBox = this.computeLabelBBox();\n    if ((crossLineLabelBBox == null ? void 0 : crossLineLabelBBox.x) == null || (crossLineLabelBBox == null ? void 0 : crossLineLabelBBox.y) == null) {\n      return;\n    }\n    const chartPadding = calculateLabelChartPadding({\n      yDirection: direction === \"y\" /* Y */,\n      padding: labelPadding,\n      position,\n      bbox: crossLineLabelBBox\n    });\n    padding.left = Math.max((_a = padding.left) != null ? _a : 0, (_b = chartPadding.left) != null ? _b : 0);\n    padding.right = Math.max((_c = padding.right) != null ? _c : 0, (_d = chartPadding.right) != null ? _d : 0);\n    padding.top = Math.max((_e = padding.top) != null ? _e : 0, (_f = chartPadding.top) != null ? _f : 0);\n    padding.bottom = Math.max((_g = padding.bottom) != null ? _g : 0, (_h = chartPadding.bottom) != null ? _h : 0);\n  }\n};\n_CartesianCrossLine.LINE_LAYER_ZINDEX = 9 /* SERIES_CROSSLINE_LINE_ZINDEX */;\n_CartesianCrossLine.RANGE_LAYER_ZINDEX = 3 /* SERIES_CROSSLINE_RANGE_ZINDEX */;\n_CartesianCrossLine.LABEL_LAYER_ZINDEX = 8 /* SERIES_LABEL_ZINDEX */;\n_CartesianCrossLine.className = \"CrossLine\";\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"enabled\", 2);\n__decorateClass([Validate(UNION([\"range\", \"line\"], \"a crossLine type\"), {\n  optional: true\n})], _CartesianCrossLine.prototype, \"type\", 2);\n__decorateClass([Validate(AND(MATCHING_CROSSLINE_TYPE(\"range\"), ARRAY.restrict({\n  length: 2\n})), {\n  optional: true\n})], _CartesianCrossLine.prototype, \"range\", 2);\n__decorateClass([Validate(MATCHING_CROSSLINE_TYPE(\"value\"), {\n  optional: true\n})], _CartesianCrossLine.prototype, \"value\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"stroke\", 2);\n__decorateClass([Validate(NUMBER, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"lineDash\", 2);\nvar CartesianCrossLine = _CartesianCrossLine;\n\n// packages/ag-charts-community/src/module/moduleMap.ts\nvar ModuleMap = class {\n  constructor() {\n    this.moduleMap = /* @__PURE__ */new Map();\n  }\n  *modules() {\n    for (const m of this.moduleMap.values()) {\n      yield m.moduleInstance;\n    }\n  }\n  addModule(module, moduleFactory) {\n    if (this.moduleMap.has(module.optionsKey)) {\n      throw new Error(`AG Charts - module already initialised: ${module.optionsKey}`);\n    }\n    this.moduleMap.set(module.optionsKey, {\n      module,\n      moduleInstance: moduleFactory(module)\n    });\n  }\n  removeModule(module) {\n    var _a;\n    const moduleKey = isString(module) ? module : module.optionsKey;\n    (_a = this.moduleMap.get(moduleKey)) == null ? void 0 : _a.moduleInstance.destroy();\n    this.moduleMap.delete(moduleKey);\n  }\n  getModule(module) {\n    var _a;\n    return (_a = this.moduleMap.get(isString(module) ? module : module.optionsKey)) == null ? void 0 : _a.moduleInstance;\n  }\n  isEnabled(module) {\n    return this.moduleMap.has(isString(module) ? module : module.optionsKey);\n  }\n  mapModules(callback) {\n    return Array.from(this.moduleMap.values(), (m, i) => callback(m.moduleInstance, i));\n  }\n  destroy() {\n    var _a;\n    for (const moduleKey of this.moduleMap.keys()) {\n      (_a = this.moduleMap.get(moduleKey)) == null ? void 0 : _a.moduleInstance.destroy();\n    }\n    this.moduleMap.clear();\n  }\n};\n\n// packages/ag-charts-community/src/motion/resetMotion.ts\nvar resetMotion_exports = {};\n__export(resetMotion_exports, {\n  resetMotion: () => resetMotion\n});\nfunction resetMotion(selectionsOrNodes, propsFn) {\n  const {\n    nodes,\n    selections\n  } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  for (const selection of selections) {\n    for (const node of selection.nodes()) {\n      const from = propsFn(node, node.datum);\n      node.setProperties(from);\n    }\n    selection.cleanup();\n  }\n  for (const node of nodes) {\n    const from = propsFn(node, node.datum);\n    node.setProperties(from);\n  }\n}\n\n// packages/ag-charts-community/src/motion/states.ts\nvar StateMachine = class {\n  constructor(initialState, states, preTransitionCb) {\n    this.states = states;\n    this.preTransitionCb = preTransitionCb;\n    this.debug = Debug.create(true, \"animation\");\n    this.state = initialState;\n    this.debug(`%c${this.constructor.name} | init -> ${initialState}`, \"color: green\");\n  }\n  transition(event, data) {\n    var _a, _b;\n    const currentStateConfig = this.states[this.state];\n    const destinationTransition = currentStateConfig == null ? void 0 : currentStateConfig[event];\n    if (!destinationTransition) {\n      this.debug(`%c${this.constructor.name} | ${this.state} -> ${event} -> ${this.state}`, \"color: grey\");\n      return;\n    }\n    let destinationState = this.state;\n    if (typeof destinationTransition === \"string\") {\n      destinationState = destinationTransition;\n    } else if (typeof destinationTransition === \"object\") {\n      destinationState = destinationTransition.target;\n    }\n    this.debug(`%c${this.constructor.name} | ${this.state} -> ${event} -> ${destinationState}`, \"color: green\");\n    (_a = this.preTransitionCb) == null ? void 0 : _a.call(this, this.state, destinationState);\n    this.state = destinationState;\n    if (typeof destinationTransition === \"function\") {\n      destinationTransition(data);\n    } else if (typeof destinationTransition === \"object\") {\n      (_b = destinationTransition.action) == null ? void 0 : _b.call(destinationTransition, data);\n    }\n    return this.state;\n  }\n};\n\n// packages/ag-charts-community/src/util/numberFormat.ts\nvar group = content => `(${content})`;\nvar optionalGroup = content => `${group(content)}?`;\nvar nonCapturingGroup = content => optionalGroup(`?:${content}`);\nvar formatRegEx = (() => {\n  const fill = \".\";\n  const align = \"[<>=^]\";\n  const sign = \"[+\\\\-( ]\";\n  const symbol = \"[$\\u20AC\\xA3\\xA5\\u20A3\\u20B9#]\";\n  const zero = \"0\";\n  const width = \"\\\\d+\";\n  const comma = \",\";\n  const precision = \"\\\\d+\";\n  const tilde = \"~\";\n  const type = \"[%a-z]\";\n  return new RegExp([\"^\", nonCapturingGroup(`${optionalGroup(fill)}${group(align)}`), optionalGroup(sign), optionalGroup(symbol), optionalGroup(zero), optionalGroup(width), optionalGroup(comma), nonCapturingGroup(`\\\\.${group(precision)}`), optionalGroup(tilde), optionalGroup(type), \"$\"].join(\"\"), \"i\");\n})();\nvar surroundedRegEx = (() => {\n  const prefix = \".*?\";\n  const content = \".+?\";\n  const suffix = \".*?\";\n  return new RegExp([\"^\", group(prefix), `#\\\\{${group(content)}\\\\}`, group(suffix), \"$\"].join(\"\"));\n})();\nfunction parseFormatter(formatter) {\n  let prefix;\n  let suffix;\n  const surrounded = surroundedRegEx.exec(formatter);\n  if (surrounded) {\n    [, prefix, formatter, suffix] = surrounded;\n  }\n  const match = formatRegEx.exec(formatter);\n  if (!match) {\n    throw new Error(`The number formatter is invalid: ${formatter}`);\n  }\n  const [, fill, align, sign, symbol, zero, width, comma, precision, trim, type] = match;\n  return {\n    fill,\n    align,\n    sign,\n    symbol,\n    zero,\n    width: parseInt(width),\n    comma,\n    precision: parseInt(precision),\n    trim: Boolean(trim),\n    type,\n    prefix,\n    suffix\n  };\n}\nfunction format(formatter) {\n  const options = typeof formatter === \"string\" ? parseFormatter(formatter) : formatter;\n  const {\n    fill,\n    align,\n    sign = \"-\",\n    symbol,\n    zero,\n    width,\n    comma,\n    type,\n    prefix = \"\",\n    suffix = \"\",\n    precision\n  } = options;\n  let {\n    trim\n  } = options;\n  const precisionIsNaN = precision === void 0 || isNaN(precision);\n  let formatBody;\n  if (!type) {\n    formatBody = decimalTypes[\"g\"];\n    trim = true;\n  } else if (type in decimalTypes && type in integerTypes) {\n    formatBody = precisionIsNaN ? integerTypes[type] : decimalTypes[type];\n  } else if (type in decimalTypes) {\n    formatBody = decimalTypes[type];\n  } else if (type in integerTypes) {\n    formatBody = integerTypes[type];\n  } else {\n    throw new Error(`The number formatter type is invalid: ${type}`);\n  }\n  let formatterPrecision;\n  if (precision == null || precisionIsNaN) {\n    formatterPrecision = type ? 6 : 12;\n  } else {\n    formatterPrecision = precision;\n  }\n  return n => {\n    let result = formatBody(n, formatterPrecision);\n    if (trim) {\n      result = removeTrailingZeros(result);\n    }\n    if (comma) {\n      result = insertSeparator(result, comma);\n    }\n    result = addSign(n, result, sign);\n    if (symbol && symbol !== \"#\") {\n      result = `${symbol}${result}`;\n    }\n    if (symbol === \"#\" && type === \"x\") {\n      result = `0x${result}`;\n    }\n    if (type === \"s\") {\n      result = `${result}${getSIPrefix(n)}`;\n    }\n    if (type === \"%\" || type === \"p\") {\n      result = `${result}%`;\n    }\n    if (width != null && !isNaN(width)) {\n      result = addPadding(result, width, fill != null ? fill : zero, align);\n    }\n    result = `${prefix}${result}${suffix}`;\n    return result;\n  };\n}\nvar absFloor = n => Math.floor(Math.abs(n));\nvar integerTypes = {\n  b: n => absFloor(n).toString(2),\n  c: n => String.fromCharCode(n),\n  d: n => Math.round(Math.abs(n)).toFixed(0),\n  o: n => absFloor(n).toString(8),\n  x: n => absFloor(n).toString(16),\n  X: n => integerTypes.x(n).toUpperCase(),\n  n: n => integerTypes.d(n),\n  \"%\": n => `${absFloor(n * 100).toFixed(0)}`\n};\nvar decimalTypes = {\n  e: (n, f) => Math.abs(n).toExponential(f),\n  E: (n, f) => decimalTypes.e(n, f).toUpperCase(),\n  f: (n, f) => Math.abs(n).toFixed(f),\n  F: (n, f) => decimalTypes.f(n, f).toUpperCase(),\n  g: (n, f) => {\n    if (n === 0) {\n      return \"0\";\n    }\n    const a = Math.abs(n);\n    const p = Math.floor(Math.log10(a));\n    if (p >= -4 && p < f) {\n      return a.toFixed(f - 1 - p);\n    }\n    return a.toExponential(f - 1);\n  },\n  G: (n, f) => decimalTypes.g(n, f).toUpperCase(),\n  n: (n, f) => decimalTypes.g(n, f),\n  p: (n, f) => decimalTypes.r(n * 100, f),\n  r: (n, f) => {\n    if (n === 0) {\n      return \"0\";\n    }\n    const a = Math.abs(n);\n    const p = Math.floor(Math.log10(a));\n    const q = p - (f - 1);\n    if (q <= 0) {\n      return a.toFixed(-q);\n    }\n    const x = Math.pow(10, q);\n    return (Math.round(a / x) * x).toFixed();\n  },\n  s: (n, f) => {\n    const p = getSIPrefixPower(n);\n    return decimalTypes.r(n / Math.pow(10, p), f);\n  },\n  \"%\": (n, f) => decimalTypes.f(n * 100, f)\n};\nfunction removeTrailingZeros(numString) {\n  return numString.replace(/\\.0+$/, \"\").replace(/(\\.[1-9])0+$/, \"$1\");\n}\nfunction insertSeparator(numString, separator) {\n  let dotIndex = numString.indexOf(\".\");\n  if (dotIndex < 0) {\n    dotIndex = numString.length;\n  }\n  const integerChars = numString.substring(0, dotIndex).split(\"\");\n  const fractionalPart = numString.substring(dotIndex);\n  for (let i = integerChars.length - 3; i > 0; i -= 3) {\n    integerChars.splice(i, 0, separator);\n  }\n  return `${integerChars.join(\"\")}${fractionalPart}`;\n}\nfunction getSIPrefix(n) {\n  return siPrefixes[getSIPrefixPower(n)];\n}\nfunction getSIPrefixPower(n) {\n  return clamp(minSIPrefix, n ? Math.floor(Math.log10(Math.abs(n)) / 3) * 3 : 0, maxSIPrefix);\n}\nvar minSIPrefix = -24;\nvar maxSIPrefix = 24;\nvar siPrefixes = {\n  [minSIPrefix]: \"y\",\n  [-21]: \"z\",\n  [-18]: \"a\",\n  [-15]: \"f\",\n  [-12]: \"p\",\n  [-9]: \"n\",\n  [-6]: \"\\xB5\",\n  [-3]: \"m\",\n  [0]: \"\",\n  [3]: \"k\",\n  [6]: \"M\",\n  [9]: \"G\",\n  [12]: \"T\",\n  [15]: \"P\",\n  [18]: \"E\",\n  [21]: \"Z\",\n  [maxSIPrefix]: \"Y\"\n};\nvar minusSign = \"\\u2212\";\nfunction addSign(num, numString, signType = \"\") {\n  if (signType === \"(\") {\n    return num >= 0 ? numString : `(${numString})`;\n  }\n  const plusSign = signType === \"+\" ? \"+\" : \"\";\n  return `${num >= 0 ? plusSign : minusSign}${numString}`;\n}\nfunction addPadding(numString, width, fill = \" \", align = \">\") {\n  let result = numString;\n  if (align === \">\" || !align) {\n    result = result.padStart(width, fill);\n  } else if (align === \"<\") {\n    result = result.padEnd(width, fill);\n  } else if (align === \"^\") {\n    const padWidth = Math.max(0, width - result.length);\n    const padLeft = Math.ceil(padWidth / 2);\n    const padRight = Math.floor(padWidth / 2);\n    result = result.padStart(padLeft + result.length, fill);\n    result = result.padEnd(padRight + result.length, fill);\n  }\n  return result;\n}\nfunction tickFormat(ticks, formatter) {\n  const options = parseFormatter(formatter != null ? formatter : \",f\");\n  const {\n    precision\n  } = options;\n  if (precision == null || isNaN(precision)) {\n    if (options.type === \"f\" || options.type === \"%\") {\n      options.precision = Math.max(...ticks.map(x => {\n        if (typeof x !== \"number\" || x === 0) {\n          return 0;\n        }\n        const l = Math.floor(Math.log10(Math.abs(x)));\n        const digits = options.type ? 6 : 12;\n        const exp = x.toExponential(digits - 1).replace(/\\.?0+e/, \"e\");\n        const dotIndex = exp.indexOf(\".\");\n        if (dotIndex < 0) {\n          return l >= 0 ? 0 : -l;\n        }\n        const s = exp.indexOf(\"e\") - dotIndex;\n        return Math.max(0, s - l - 1);\n      }));\n    } else if (!options.type || options.type in decimalTypes) {\n      options.precision = Math.max(...ticks.map(x => {\n        if (typeof x !== \"number\") {\n          return 0;\n        }\n        const exp = x.toExponential((options.type ? 6 : 12) - 1).replace(/\\.?0+e/, \"e\");\n        return exp.substring(0, exp.indexOf(\"e\")).replace(\".\", \"\").length;\n      }));\n    }\n  }\n  const f = format(options);\n  return n => f(Number(n));\n}\n\n// packages/ag-charts-community/src/scale/logScale.ts\nvar _LogScale = class _LogScale extends ContinuousScale {\n  constructor() {\n    super([1, 10], [0, 1]);\n    this.type = \"log\";\n    this.base = 10;\n    this.baseLog = identity;\n    this.basePow = identity;\n    this.log = x => {\n      const start = Math.min(...this.domain);\n      return start >= 0 ? this.baseLog(x) : -this.baseLog(-x);\n    };\n    this.pow = x => {\n      const start = Math.min(...this.domain);\n      return start >= 0 ? this.basePow(x) : -this.basePow(-x);\n    };\n    this.defaultClampMode = \"clamped\";\n  }\n  toDomain(d) {\n    return d;\n  }\n  transform(x) {\n    const start = Math.min(...this.domain);\n    return start >= 0 ? Math.log(x) : -Math.log(-x);\n  }\n  transformInvert(x) {\n    const start = Math.min(...this.domain);\n    return start >= 0 ? Math.exp(x) : -Math.exp(-x);\n  }\n  refresh() {\n    if (this.base <= 0) {\n      this.base = 0;\n      Logger.warnOnce(\"expecting a finite Number greater than to 0\");\n    }\n    super.refresh();\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    this.baseLog = _LogScale.getBaseLogMethod(this.base);\n    this.basePow = _LogScale.getBasePowerMethod(this.base);\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  updateNiceDomain() {\n    const [d0, d1] = this.domain;\n    const roundStart = d0 > d1 ? Math.ceil : Math.floor;\n    const roundStop = d0 > d1 ? Math.floor : Math.ceil;\n    const n0 = this.pow(roundStart(this.log(d0)));\n    const n1 = this.pow(roundStop(this.log(d1)));\n    this.niceDomain = [n0, n1];\n  }\n  ticks() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : 10;\n    if (!this.domain || this.domain.length < 2 || count < 1) {\n      return [];\n    }\n    this.refresh();\n    const base = this.base;\n    const [d0, d1] = this.getDomain();\n    const start = Math.min(d0, d1);\n    const stop = Math.max(d0, d1);\n    let p0 = this.log(start);\n    let p1 = this.log(stop);\n    if (this.interval) {\n      const step = Math.abs(this.interval);\n      const absDiff = Math.abs(p1 - p0);\n      let ticks2 = range(p0, p1, Math.min(absDiff, step));\n      ticks2 = createNumericTicks(ticks2.fractionDigits, ticks2.map(x => this.pow(x)).filter(t => t >= start && t <= stop));\n      const availableRange = this.getPixelRange();\n      if (!isDenseInterval({\n        start,\n        stop,\n        interval: step,\n        count: ticks2.length,\n        availableRange\n      })) {\n        return ticks2;\n      }\n    }\n    const isBaseInteger = base % 1 === 0;\n    const isDiffLarge = p1 - p0 >= count;\n    if (!isBaseInteger || isDiffLarge) {\n      let ticks2 = ticks_default(p0, p1, Math.min(p1 - p0, count));\n      ticks2 = createNumericTicks(ticks2.fractionDigits, ticks2.map(x => this.pow(x)));\n      return ticks2;\n    }\n    const ticks = [];\n    const isPositive = start > 0;\n    p0 = Math.floor(p0) - 1;\n    p1 = Math.round(p1) + 1;\n    const availableSpacing = findRangeExtent(this.range) / count;\n    let lastTickPosition = Infinity;\n    for (let p = p0; p <= p1; p++) {\n      const nextMagnitudeTickPosition = this.convert(this.pow(p + 1));\n      for (let k = 1; k < base; k++) {\n        const q = isPositive ? k : base - k + 1;\n        const t = this.pow(p) * q;\n        const tickPosition = this.convert(t);\n        const prevSpacing = Math.abs(lastTickPosition - tickPosition);\n        const nextSpacing = Math.abs(tickPosition - nextMagnitudeTickPosition);\n        const fits = prevSpacing >= availableSpacing && nextSpacing >= availableSpacing;\n        if (t >= start && t <= stop && (k === 1 || fits || ticks.length === 0)) {\n          ticks.push(t);\n          lastTickPosition = tickPosition;\n        }\n      }\n    }\n    return ticks;\n  }\n  tickFormat({\n    count,\n    ticks,\n    specifier\n  }) {\n    if (count !== Infinity && ticks == null) {\n      this.ticks();\n    }\n    specifier != null ? specifier : specifier = this.base === 10 ? \".0e\" : \",\";\n    return isString(specifier) ? format(specifier) : specifier;\n  }\n  static getBaseLogMethod(base) {\n    switch (base) {\n      case 10:\n        return Math.log10;\n      case Math.E:\n        return Math.log;\n      case 2:\n        return Math.log2;\n      default:\n        const logBase = Math.log(base);\n        return x => Math.log(x) / logBase;\n    }\n  }\n  static getBasePowerMethod(base) {\n    switch (base) {\n      case 10:\n        return x => x >= 0 ? __pow(10, x) : 1 / __pow(10, -x);\n      case Math.E:\n        return Math.exp;\n      default:\n        return x => __pow(base, x);\n    }\n  }\n};\n__decorateClass([Invalidating], _LogScale.prototype, \"base\", 2);\nvar LogScale = _LogScale;\n\n// packages/ag-charts-community/src/scene/selection.ts\nvar Selection = class _Selection {\n  constructor(parentNode, classOrFactory, autoCleanup = true) {\n    this.parentNode = parentNode;\n    this.autoCleanup = autoCleanup;\n    this.garbageBin = /* @__PURE__ */new Set();\n    this._nodesMap = /* @__PURE__ */new Map();\n    this._nodes = [];\n    this.data = [];\n    this.debug = Debug.create(true, \"scene\", \"scene:selections\");\n    this.nodeFactory = Object.prototype.isPrototypeOf.call(Node, classOrFactory) ? () => new classOrFactory() : classOrFactory;\n  }\n  static select(parent, classOrFactory, garbageCollection = true) {\n    return new _Selection(parent, classOrFactory, garbageCollection);\n  }\n  static selectAll(parent, predicate) {\n    const results = [];\n    const traverse = node => {\n      if (predicate(node)) {\n        results.push(node);\n      }\n      node.children.forEach(traverse);\n    };\n    traverse(parent);\n    return results;\n  }\n  static selectByClass(node, Class, ...ExtraClasses) {\n    return _Selection.selectAll(node, n => {\n      return n instanceof Class || ExtraClasses.some(C => n instanceof C);\n    });\n  }\n  static selectByTag(node, tag) {\n    return _Selection.selectAll(node, n => n.tag === tag);\n  }\n  createNode(datum, initializer, idx) {\n    const node = this.nodeFactory(datum);\n    node.datum = datum;\n    initializer == null ? void 0 : initializer(node);\n    if (idx == null) {\n      this._nodes.push(node);\n    } else {\n      this._nodes.splice(idx, 0, node);\n    }\n    this.parentNode.appendChild(node);\n    return node;\n  }\n  /**\n   * Update the data in a selection. If an `getDatumId()` function is provided, maintain a list of ids related to\n   * the nodes. Otherwise, take the more efficient route of simply creating and destroying nodes at the end\n   * of the array.\n   */\n  update(data, initializer, getDatumId) {\n    if (this.garbageBin.size > 0) {\n      this.debug(`Selection - update() called with pending garbage: ${data}`);\n    }\n    if (getDatumId) {\n      const dataMap = new Map(data.map((datum, idx) => [getDatumId(datum), [datum, idx]]));\n      for (const [node, datumId] of this._nodesMap.entries()) {\n        if (dataMap.has(datumId)) {\n          const [newDatum] = dataMap.get(datumId);\n          node.datum = newDatum;\n          this.garbageBin.delete(node);\n          dataMap.delete(datumId);\n        } else {\n          this.garbageBin.add(node);\n        }\n      }\n      for (const [datumId, [datum, idx]] of dataMap.entries()) {\n        this._nodesMap.set(this.createNode(datum, initializer, idx), datumId);\n      }\n    } else {\n      const maxLength = Math.max(data.length, this.data.length);\n      for (let i = 0; i < maxLength; i++) {\n        if (i >= data.length) {\n          this.garbageBin.add(this._nodes[i]);\n        } else if (i >= this._nodes.length) {\n          this.createNode(data[i], initializer);\n        } else {\n          this._nodes[i].datum = data[i];\n          this.garbageBin.delete(this._nodes[i]);\n        }\n      }\n    }\n    this.data = data.slice();\n    if (this.autoCleanup) {\n      this.cleanup();\n    }\n    return this;\n  }\n  cleanup() {\n    if (this.garbageBin.size === 0) {\n      return this;\n    }\n    this._nodes = this._nodes.filter(node => {\n      if (this.garbageBin.has(node)) {\n        this._nodesMap.delete(node);\n        this.garbageBin.delete(node);\n        this.parentNode.removeChild(node);\n        return false;\n      }\n      return true;\n    });\n    return this;\n  }\n  clear() {\n    this.update([]);\n    return this;\n  }\n  isGarbage(node) {\n    return this.garbageBin.has(node);\n  }\n  hasGarbage() {\n    return this.garbageBin.size > 0;\n  }\n  each(iterate2) {\n    for (const entry of this._nodes.entries()) {\n      iterate2(entry[1], entry[1].datum, entry[0]);\n    }\n    return this;\n  }\n  *[Symbol.iterator]() {\n    for (let index = 0; index < this._nodes.length; index++) {\n      const node = this._nodes[index];\n      const datum = this._nodes[index].datum;\n      yield {\n        node,\n        datum,\n        index\n      };\n    }\n  }\n  select(predicate) {\n    return _Selection.selectAll(this.parentNode, predicate);\n  }\n  selectByClass(Class) {\n    return _Selection.selectByClass(this.parentNode, Class);\n  }\n  selectByTag(tag) {\n    return _Selection.selectByTag(this.parentNode, tag);\n  }\n  nodes() {\n    return this._nodes;\n  }\n};\n\n// packages/ag-charts-community/src/util/distance.ts\nfunction pointsDistanceSquared(x1, y1, x2, y2) {\n  const dx = x1 - x2;\n  const dy = y1 - y2;\n  return dx * dx + dy * dy;\n}\nfunction lineDistanceSquared(x, y, x1, y1, x2, y2, best) {\n  if (x1 === x2 && y1 === y2) {\n    return Math.min(best, pointsDistanceSquared(x, y, x1, y1));\n  }\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const t = Math.max(0, Math.min(1, ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy)));\n  const ix = x1 + t * dx;\n  const iy = y1 + t * dy;\n  return Math.min(best, pointsDistanceSquared(x, y, ix, iy));\n}\nfunction arcDistanceSquared(x, y, cx, cy, radius, startAngle, endAngle, counterClockwise, best) {\n  if (counterClockwise) {\n    [endAngle, startAngle] = [startAngle, endAngle];\n  }\n  const angle = Math.atan2(y - cy, x - cx);\n  if (!isBetweenAngles(angle, startAngle, endAngle)) {\n    const startX = cx + Math.cos(startAngle) * radius;\n    const startY = cy + Math.sin(startAngle) * radius;\n    const endX = cx + Math.cos(startAngle) * radius;\n    const endY = cy + Math.sin(startAngle) * radius;\n    return Math.min(best, pointsDistanceSquared(x, y, startX, startY), pointsDistanceSquared(x, y, endX, endY));\n  }\n  const distToArc = radius - Math.sqrt(pointsDistanceSquared(x, y, cx, cy));\n  return Math.min(best, distToArc * distToArc);\n}\n\n// packages/ag-charts-community/src/scene/shape/line.ts\nvar Line = class extends Shape {\n  constructor(opts = {}) {\n    super(opts);\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.restoreOwnStyles();\n  }\n  set x(value) {\n    this.x1 = value;\n    this.x2 = value;\n  }\n  set y(value) {\n    this.y1 = value;\n    this.y2 = value;\n  }\n  computeBBox() {\n    return new BBox(Math.min(this.x1, this.x2), Math.min(this.y1, this.y2), Math.abs(this.x2 - this.x1), Math.abs(this.y2 - this.y1));\n  }\n  isPointInPath(px, py) {\n    if (this.x1 === this.x2 || this.y1 === this.y2) {\n      const {\n        x,\n        y\n      } = this.transformPoint(px, py);\n      return this.computeBBox().grow(this.strokeWidth / 2).containsPoint(x, y);\n    }\n    return false;\n  }\n  distanceSquared(px, py) {\n    const {\n      x1,\n      y1,\n      x2,\n      y2\n    } = this;\n    return lineDistanceSquared(px, py, x1, y1, x2, y2, Infinity);\n  }\n  render(renderCtx) {\n    var _a;\n    const {\n      ctx,\n      forceRender,\n      stats,\n      devicePixelRatio\n    } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats) stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    let {\n      x1,\n      y1,\n      x2,\n      y2\n    } = this;\n    if (x1 === x2) {\n      const {\n        strokeWidth\n      } = this;\n      const x = Math.round(x1 * devicePixelRatio) / devicePixelRatio + Math.trunc(strokeWidth * devicePixelRatio) % 2 / (devicePixelRatio * 2);\n      x1 = x;\n      x2 = x;\n    } else if (y1 === y2) {\n      const {\n        strokeWidth\n      } = this;\n      const y = Math.round(y1 * devicePixelRatio) / devicePixelRatio + Math.trunc(strokeWidth * devicePixelRatio) % 2 / (devicePixelRatio * 2);\n      y1 = y;\n      y2 = y;\n    }\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    this.fillStroke(ctx);\n    (_a = this.fillShadow) == null ? void 0 : _a.markClean();\n    super.render(renderCtx);\n  }\n};\nLine.className = \"Line\";\nLine.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  fill: void 0,\n  strokeWidth: 1\n});\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Line.prototype, \"x1\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Line.prototype, \"y1\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Line.prototype, \"x2\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Line.prototype, \"y2\", 2);\n\n// packages/ag-charts-community/src/scene/util/labelPlacement.ts\nfunction circleRectOverlap(c, unitCenter, x, y, w, h) {\n  if (c.size === 0) return false;\n  let cx = c.x;\n  let cy = c.y;\n  if (unitCenter != null) {\n    cx -= (unitCenter.x - 0.5) * c.size;\n    cy -= (unitCenter.y - 0.5) * c.size;\n  }\n  let edgeX = cx;\n  if (cx < x) {\n    edgeX = x;\n  } else if (cx > x + w) {\n    edgeX = x + w;\n  }\n  let edgeY = cy;\n  if (cy < y) {\n    edgeY = y;\n  } else if (cy > y + h) {\n    edgeY = y + h;\n  }\n  const dx = cx - edgeX;\n  const dy = cy - edgeY;\n  const d = Math.sqrt(dx * dx + dy * dy);\n  return d <= c.size * 0.5;\n}\nfunction rectRectOverlap(r1, x2, y2, w2, h2) {\n  const xOverlap = r1.x + r1.width > x2 && r1.x < x2 + w2;\n  const yOverlap = r1.y + r1.height > y2 && r1.y < y2 + h2;\n  return xOverlap && yOverlap;\n}\nfunction rectContainsRect(r1, r2x, r2y, r2w, r2h) {\n  return r2x + r2w < r1.x + r1.width && r2x > r1.x && r2y > r1.y && r2y + r2h < r1.y + r1.height;\n}\nfunction isPointLabelDatum(x) {\n  return x != null && typeof x.point === \"object\" && typeof x.label === \"object\";\n}\nvar labelPlacements = {\n  top: {\n    x: 0,\n    y: -1\n  },\n  bottom: {\n    x: 0,\n    y: 1\n  },\n  left: {\n    x: -1,\n    y: 0\n  },\n  right: {\n    x: 1,\n    y: 0\n  }\n};\nfunction placeLabels(data, bounds, padding = 5) {\n  var _a, _b;\n  const result = [];\n  data = data.map(d => d.slice().sort((a, b) => b.point.size - a.point.size));\n  for (let j = 0; j < data.length; j++) {\n    const labels = result[j] = [];\n    const datum = data[j];\n    if (!((datum == null ? void 0 : datum.length) && datum[0].label)) {\n      continue;\n    }\n    for (let i = 0, ln = datum.length; i < ln; i++) {\n      const d = datum[i];\n      const {\n        point,\n        label,\n        marker\n      } = d;\n      const {\n        text,\n        width,\n        height\n      } = label;\n      const r = point.size * 0.5;\n      let dx = 0;\n      let dy = 0;\n      if (r > 0 && d.placement != null) {\n        const placement = labelPlacements[d.placement];\n        dx = (width * 0.5 + r + padding) * placement.x;\n        dy = (height * 0.5 + r + padding) * placement.y;\n      }\n      const x = point.x - width * 0.5 + dx - (((_a = marker == null ? void 0 : marker.center.x) != null ? _a : 0.5) - 0.5) * point.size;\n      const y = point.y - height * 0.5 + dy - (((_b = marker == null ? void 0 : marker.center.y) != null ? _b : 0.5) - 0.5) * point.size;\n      const withinBounds = !bounds || rectContainsRect(bounds, x, y, width, height);\n      if (!withinBounds) {\n        continue;\n      }\n      const overlapPoints = data.some(dataDatums => dataDatums.some(dataDatum => {\n        var _a2;\n        return circleRectOverlap(dataDatum.point, (_a2 = dataDatum.marker) == null ? void 0 : _a2.center, x, y, width, height);\n      }));\n      if (overlapPoints) {\n        continue;\n      }\n      const overlapLabels = result.some(l2 => l2.some(l3 => rectRectOverlap(l3, x, y, width, height)));\n      if (overlapLabels) {\n        continue;\n      }\n      labels.push({\n        index: i,\n        text,\n        x,\n        y,\n        width,\n        height,\n        datum: d\n      });\n    }\n  }\n  return result;\n}\nfunction axisLabelsOverlap(data, padding) {\n  const result = [];\n  for (let i = 0; i < data.length; i++) {\n    const datum = data[i];\n    const {\n      point: {\n        x,\n        y\n      },\n      label: {\n        text\n      }\n    } = datum;\n    let {\n      label: {\n        width,\n        height\n      }\n    } = datum;\n    width += padding != null ? padding : 0;\n    height += padding != null ? padding : 0;\n    const overlapLabels = result.some(l => {\n      return rectRectOverlap(l, x, y, width, height);\n    });\n    if (overlapLabels) {\n      return true;\n    }\n    result.push({\n      index: i,\n      text,\n      x,\n      y,\n      width,\n      height,\n      datum\n    });\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/util/equal.ts\nfunction areArrayItemsStrictlyEqual(arrA, arrB) {\n  return arrA.length === arrB.length && arrA.every((a, i) => {\n    const b = arrB[i];\n    if (Array.isArray(a) && Array.isArray(b)) {\n      return areArrayItemsStrictlyEqual(a, b);\n    }\n    return a === b;\n  });\n}\nfunction areArrayNumbersEqual(arrA, arrB) {\n  return arrA.length === arrB.length && arrA.every((item, i) => Number(item) === Number(arrB[i]));\n}\n\n// packages/ag-charts-community/src/util/proxy.ts\nfunction ProxyProperty(proxyPath) {\n  const pathArray = isArray(proxyPath) ? proxyPath : proxyPath.split(\".\");\n  if (pathArray.length === 1) {\n    const [property] = pathArray;\n    return addTransformToInstanceProperty((target, _, value) => target[property] = value, target => target[property]);\n  }\n  return addTransformToInstanceProperty((target, _, value) => setPath(target, pathArray, value), target => getPath(target, pathArray));\n}\nfunction ProxyOnWrite(proxyProperty) {\n  return addTransformToInstanceProperty((target, _, value) => target[proxyProperty] = value);\n}\nfunction ProxyPropertyOnWrite(childName, childProperty) {\n  return addTransformToInstanceProperty((target, key, value) => target[childName][childProperty != null ? childProperty : key] = value);\n}\nfunction ActionOnSet(opts) {\n  const {\n    newValue: newValueFn,\n    oldValue: oldValueFn,\n    changeValue: changeValueFn\n  } = opts;\n  return addTransformToInstanceProperty((target, _, newValue, oldValue) => {\n    if (newValue !== oldValue) {\n      if (oldValue !== void 0) {\n        oldValueFn == null ? void 0 : oldValueFn.call(target, oldValue);\n      }\n      if (newValue !== void 0) {\n        newValueFn == null ? void 0 : newValueFn.call(target, newValue);\n      }\n      changeValueFn == null ? void 0 : changeValueFn.call(target, newValue, oldValue);\n    }\n    return newValue;\n  });\n}\nfunction ObserveChanges(observerFn) {\n  return addObserverToInstanceProperty(observerFn);\n}\n\n// packages/ag-charts-community/src/util/attributeUtil.ts\nfunction setAttribute(e, qualifiedName, value) {\n  if (value === void 0 || value === \"\") {\n    e == null ? void 0 : e.removeAttribute(qualifiedName);\n  } else {\n    e == null ? void 0 : e.setAttribute(qualifiedName, value.toString());\n  }\n}\n\n// packages/ag-charts-community/src/util/placement.ts\nfunction calculatePlacement(naturalWidth, naturalHeight, containerWidth, containerHeight, bounds) {\n  let {\n    top,\n    right,\n    bottom,\n    left,\n    width,\n    height\n  } = bounds;\n  if (left != null) {\n    if (width != null) {\n      right = containerWidth - left + width;\n    } else if (right != null) {\n      width = containerWidth - left - right;\n    }\n  } else if (right != null && width != null) {\n    left = containerWidth - right - width;\n  }\n  if (top != null) {\n    if (height != null) {\n      bottom = containerHeight - top - height;\n    } else if (bottom != null) {\n      height = containerHeight - bottom - top;\n    }\n  } else if (bottom != null && height != null) {\n    top = containerHeight - bottom - height;\n  }\n  if (width == null) {\n    if (height == null) {\n      width = naturalWidth;\n      height = naturalHeight;\n    } else {\n      width = Math.ceil(naturalWidth * height / naturalHeight);\n    }\n  } else if (height == null) {\n    height = Math.ceil(naturalHeight * width / naturalWidth);\n  }\n  if (left == null) {\n    if (right == null) {\n      left = Math.floor((containerWidth - width) / 2);\n    } else {\n      left = containerWidth - right - width;\n    }\n  }\n  if (top == null) {\n    if (bottom == null) {\n      top = Math.floor((containerHeight - height) / 2);\n    } else {\n      top = containerHeight - height - bottom;\n    }\n  }\n  return {\n    x: left,\n    y: top,\n    width,\n    height\n  };\n}\n\n// packages/ag-charts-community/src/chart/tooltip/tooltip.ts\nvar DEFAULT_TOOLTIP_CLASS = \"ag-chart-tooltip\";\nvar DEFAULT_TOOLTIP_DARK_CLASS = \"ag-chart-dark-tooltip\";\nvar EMPTY_TOOLTIP_CONTENT = {\n  html: \"\",\n  ariaLabel: \"\"\n};\nfunction toAccessibleText(inputHtml) {\n  const lineConverter = (_match, offset4, str) => {\n    if (offset4 === 0 || str[offset4 - 1] !== \".\") {\n      return \". \";\n    }\n    return \" \";\n  };\n  return inputHtml.replace(/<br\\s*\\/?>/g, lineConverter).replace(/<\\/p\\s+>/g, lineConverter).replace(/<\\/li\\s*\\/>/g, lineConverter).replace(/<[^>]+>/g, \"\");\n}\nfunction toTooltipHtml(input, defaults) {\n  var _a, _b, _c;\n  if (typeof input === \"string\") {\n    return {\n      html: input,\n      ariaLabel: input\n    };\n  }\n  const {\n    content = (_a = defaults == null ? void 0 : defaults.content) != null ? _a : \"\",\n    title = defaults == null ? void 0 : defaults.title,\n    color = (_b = defaults == null ? void 0 : defaults.color) != null ? _b : \"white\",\n    backgroundColor = (_c = defaults == null ? void 0 : defaults.backgroundColor) != null ? _c : \"#888\"\n  } = input;\n  const titleHtml = title ? `<div class=\"${DEFAULT_TOOLTIP_CLASS}-title\"\n        style=\"color: ${color}; background-color: ${backgroundColor}\">${title}</div>` : \"\";\n  const titleAria = title ? `${title}: ` : \"\";\n  const contentHtml = content ? `<div class=\"${DEFAULT_TOOLTIP_CLASS}-content\">${content}</div>` : \"\";\n  return {\n    html: `${titleHtml}${contentHtml}`,\n    ariaLabel: toAccessibleText(`${titleAria}${content}`)\n  };\n}\nvar TooltipPosition = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    /** The type of positioning for the tooltip. By default, the tooltip follows the pointer. */\n    this.type = \"pointer\";\n    /** The horizontal offset in pixels for the position of the tooltip. */\n    this.xOffset = 0;\n    /** The vertical offset in pixels for the position of the tooltip. */\n    this.yOffset = 0;\n  }\n};\n__decorateClass([Validate(UNION([\"pointer\", \"node\", \"top\", \"right\", \"bottom\", \"left\", \"top-left\", \"top-right\", \"bottom-right\", \"bottom-left\"], \"a position type\"))], TooltipPosition.prototype, \"type\", 2);\n__decorateClass([Validate(NUMBER)], TooltipPosition.prototype, \"xOffset\", 2);\n__decorateClass([Validate(NUMBER)], TooltipPosition.prototype, \"yOffset\", 2);\nvar Tooltip = class extends BaseProperties {\n  constructor() {\n    super();\n    this.enabled = true;\n    this.delay = 0;\n    this.range = \"nearest\";\n    this.wrapping = \"hyphenate\";\n    this.position = new TooltipPosition();\n    this.darkTheme = false;\n    this.enableInteraction = false;\n    this.lastVisibilityChange = Date.now();\n    this.wrapTypes = [\"always\", \"hyphenate\", \"on-space\", \"never\"];\n    this.showTimeout = 0;\n    this._showArrow = true;\n    this.element = createElement(\"div\", DEFAULT_TOOLTIP_CLASS);\n    setAttribute(this.element, \"aria-hidden\", true);\n    this.root = getDocument(\"body\");\n    this.root.appendChild(this.element);\n  }\n  destroy() {\n    this.element.remove();\n  }\n  isVisible() {\n    return !this.element.classList.contains(DEFAULT_TOOLTIP_CLASS + \"-hidden\");\n  }\n  /**\n   * Shows tooltip at the given event's coordinates.\n   * If the `html` parameter is missing, moves the existing tooltip to the new position.\n   */\n  show(canvasRect, meta, content, instantly = false) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const {\n      element: element2\n    } = this;\n    if (content != null) {\n      element2.innerHTML = content.html;\n    } else if (!element2.innerHTML) {\n      this.toggle(false);\n      return;\n    }\n    const positionType = (_b = (_a = meta.position) == null ? void 0 : _a.type) != null ? _b : this.position.type;\n    const xOffset = (_d = (_c = meta.position) == null ? void 0 : _c.xOffset) != null ? _d : 0;\n    const yOffset = (_f = (_e = meta.position) == null ? void 0 : _e.yOffset) != null ? _f : 0;\n    const tooltipBounds = this.getTooltipBounds({\n      positionType,\n      meta,\n      yOffset,\n      xOffset,\n      canvasRect\n    });\n    const windowBounds = this.getWindowSize();\n    const position = calculatePlacement(element2.clientWidth, element2.clientHeight, canvasRect.width, canvasRect.height, tooltipBounds);\n    position.x += canvasRect.x;\n    position.y += canvasRect.y;\n    const left = clamp(0, position.x, windowBounds.width - element2.clientWidth - 1);\n    const top = clamp(0, position.y, windowBounds.height - element2.clientHeight);\n    const constrained = left !== position.x || top !== position.y;\n    const defaultShowArrow = (positionType === \"node\" || positionType === \"pointer\") && !constrained && !xOffset && !yOffset;\n    const showArrow = (_h = (_g = meta.showArrow) != null ? _g : this.showArrow) != null ? _h : defaultShowArrow;\n    this.updateShowArrow(showArrow);\n    element2.style.transform = `translate(${Math.round(left)}px, ${Math.round(top)}px)`;\n    this.enableInteraction = (_i = meta.enableInteraction) != null ? _i : false;\n    if (this.delay > 0 && !instantly) {\n      this.toggle(false);\n      this.showTimeout = setTimeout(() => {\n        this.toggle(true);\n      }, this.delay);\n    } else {\n      this.toggle(true);\n    }\n  }\n  getWindowSize() {\n    const {\n      innerWidth,\n      innerHeight\n    } = getWindow();\n    return {\n      width: innerWidth,\n      height: innerHeight\n    };\n  }\n  toggle(visible) {\n    const {\n      classList\n    } = this.element;\n    const toggleClass = (name, include) => classList.toggle(`${DEFAULT_TOOLTIP_CLASS}-${name}`, include);\n    const wasVisible = this.isVisible();\n    let timeSinceLastVisibilityChangeMs = Infinity;\n    if (!visible) {\n      clearTimeout(this.showTimeout);\n    }\n    if (wasVisible !== visible) {\n      const now = Date.now();\n      timeSinceLastVisibilityChangeMs = now - this.lastVisibilityChange;\n      this.lastVisibilityChange = now;\n    }\n    const animatedMoveThresholdMs = 100;\n    const thrashingThresholdMs = 5;\n    const noAnimation = !wasVisible && visible && timeSinceLastVisibilityChangeMs > animatedMoveThresholdMs;\n    if (timeSinceLastVisibilityChangeMs > thrashingThresholdMs) {\n      toggleClass(\"no-animation\", noAnimation);\n    }\n    toggleClass(\"no-interaction\", !this.enableInteraction);\n    toggleClass(\"hidden\", !visible);\n    toggleClass(\"arrow\", this._showArrow);\n    classList.toggle(DEFAULT_TOOLTIP_DARK_CLASS, this.darkTheme);\n    for (const wrapType of this.wrapTypes) {\n      classList.toggle(`${DEFAULT_TOOLTIP_CLASS}-wrap-${wrapType}`, wrapType === this.wrapping);\n    }\n  }\n  pointerLeftOntoTooltip(event) {\n    var _a;\n    if (!this.enableInteraction) return false;\n    const classList = (_a = event.sourceEvent.relatedTarget) == null ? void 0 : _a.classList;\n    const classes = [\"\", \"-title\", \"-content\"];\n    const classListContains = Boolean(classes.filter(c => classList == null ? void 0 : classList.contains(`${DEFAULT_TOOLTIP_CLASS}${c}`)));\n    return classList !== void 0 && classListContains;\n  }\n  updateShowArrow(show) {\n    this._showArrow = show;\n  }\n  getTooltipBounds({\n    positionType,\n    meta,\n    yOffset,\n    xOffset,\n    canvasRect\n  }) {\n    const {\n      clientWidth: tooltipWidth,\n      clientHeight: tooltipHeight\n    } = this.element;\n    const bounds = {\n      width: tooltipWidth,\n      height: tooltipHeight\n    };\n    switch (positionType) {\n      case \"node\":\n      case \"pointer\":\n        {\n          bounds.top = meta.offsetY + yOffset - tooltipHeight - 8;\n          bounds.left = meta.offsetX + xOffset - tooltipWidth / 2;\n          return bounds;\n        }\n      case \"top\":\n        {\n          bounds.top = yOffset;\n          bounds.left = canvasRect.width / 2 - tooltipWidth / 2 + xOffset;\n          return bounds;\n        }\n      case \"right\":\n        {\n          bounds.top = canvasRect.height / 2 - tooltipHeight / 2 + yOffset;\n          bounds.left = canvasRect.width - tooltipWidth / 2 + xOffset;\n          return bounds;\n        }\n      case \"left\":\n        {\n          bounds.top = canvasRect.height / 2 - tooltipHeight / 2 + yOffset;\n          bounds.left = xOffset;\n          return bounds;\n        }\n      case \"bottom\":\n        {\n          bounds.top = canvasRect.height - tooltipHeight + yOffset;\n          bounds.left = canvasRect.width / 2 - tooltipWidth / 2 + xOffset;\n          return bounds;\n        }\n      case \"top-left\":\n        {\n          bounds.top = yOffset;\n          bounds.left = xOffset;\n          return bounds;\n        }\n      case \"top-right\":\n        {\n          bounds.top = yOffset;\n          bounds.left = canvasRect.width - tooltipWidth + xOffset;\n          return bounds;\n        }\n      case \"bottom-right\":\n        {\n          bounds.top = canvasRect.height - tooltipHeight + yOffset;\n          bounds.left = canvasRect.width - tooltipWidth + xOffset;\n          return bounds;\n        }\n      case \"bottom-left\":\n        {\n          bounds.top = canvasRect.height - tooltipHeight + yOffset;\n          bounds.left = xOffset;\n          return bounds;\n        }\n    }\n  }\n};\n__decorateClass([Validate(BOOLEAN)], Tooltip.prototype, \"enabled\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], Tooltip.prototype, \"showArrow\", 2);\n__decorateClass([ObserveChanges((target, newValue, oldValue) => {\n  if (newValue) {\n    target.element.classList.add(newValue);\n  }\n  if (oldValue) {\n    target.element.classList.remove(oldValue);\n  }\n}), Validate(STRING, {\n  optional: true\n})], Tooltip.prototype, \"class\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Tooltip.prototype, \"delay\", 2);\n__decorateClass([Validate(INTERACTION_RANGE)], Tooltip.prototype, \"range\", 2);\n__decorateClass([Validate(TEXT_WRAP)], Tooltip.prototype, \"wrapping\", 2);\n__decorateClass([Validate(OBJECT)], Tooltip.prototype, \"position\", 2);\n__decorateClass([Validate(BOOLEAN)], Tooltip.prototype, \"darkTheme\", 2);\n\n// packages/ag-charts-community/src/chart/caption.ts\nvar Caption = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.id = createId(this);\n    this.node = new Text({\n      zIndex: 1\n    }).setProperties({\n      textAlign: \"center\",\n      pointerEvents: 1 /* None */\n    });\n    this.enabled = false;\n    this.textAlign = \"center\";\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.wrapping = \"always\";\n    this.truncated = false;\n  }\n  getOrAddRegion(moduleCtx, regionName) {\n    if (regionName === \"root\") {\n      return moduleCtx.regionManager.getRegion(\"root\");\n    } else {\n      return moduleCtx.regionManager.addRegionFromProperties({\n        name: regionName,\n        bboxproviders: [this.node],\n        canInteraction: () => this.enabled && this.node.visible\n      });\n    }\n  }\n  registerInteraction(moduleCtx, regionName) {\n    const region = this.getOrAddRegion(moduleCtx, regionName);\n    const destroyFns = [region.addListener(\"hover\", event => this.handleMouseMove(moduleCtx, event)), region.addListener(\"leave\", event => this.handleMouseLeave(moduleCtx, event))];\n    return joinFunctions(...destroyFns);\n  }\n  computeTextWrap(containerWidth, containerHeight) {\n    var _a, _b;\n    const {\n      text,\n      wrapping\n    } = this;\n    const maxWidth = Math.min((_a = this.maxWidth) != null ? _a : Infinity, containerWidth);\n    const maxHeight = (_b = this.maxHeight) != null ? _b : containerHeight;\n    if (!isFinite(maxWidth) && !isFinite(maxHeight)) {\n      this.node.text = text;\n      return;\n    }\n    const {\n      text: wrappedText,\n      truncated\n    } = Text.wrap(text != null ? text : \"\", maxWidth, maxHeight, this, wrapping);\n    this.node.text = wrappedText;\n    this.truncated = truncated;\n  }\n  updateTooltip(moduleCtx, event) {\n    if (event !== void 0 && this.enabled && this.node.visible && this.truncated) {\n      const {\n        offsetX,\n        offsetY\n      } = event;\n      moduleCtx.tooltipManager.updateTooltip(this.id, {\n        offsetX,\n        offsetY,\n        lastPointerEvent: event,\n        showArrow: false\n      }, toTooltipHtml({\n        content: this.text\n      }));\n      return true;\n    }\n    return false;\n  }\n  handleMouseMove(moduleCtx, event) {\n    if (this.updateTooltip(moduleCtx, event)) {\n      event.consume();\n    }\n  }\n  handleMouseLeave(moduleCtx, _event) {\n    moduleCtx.tooltipManager.removeTooltip(this.id);\n  }\n};\nCaption.SMALL_PADDING = 10;\nCaption.LARGE_PADDING = 20;\n__decorateClass([Validate(BOOLEAN)], Caption.prototype, \"enabled\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n}), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"text\", 2);\n__decorateClass([Validate(TEXT_ALIGN, {\n  optional: true\n}), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"textAlign\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n}), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n}), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n}), ProxyPropertyOnWrite(\"node\", \"fill\")], Caption.prototype, \"color\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Caption.prototype, \"spacing\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Caption.prototype, \"lineHeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Caption.prototype, \"maxWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Caption.prototype, \"maxHeight\", 2);\n__decorateClass([Validate(TEXT_WRAP)], Caption.prototype, \"wrapping\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisGridLine.ts\nvar GRID_STYLE_KEYS = [\"stroke\", \"lineDash\"];\nvar GRID_STYLE = ARRAY_OF(value => isObject(value) && Object.keys(value).every(key => GRID_STYLE_KEYS.includes(key)), \"objects with gridline style properties such as 'stroke' or 'lineDash'\");\nvar AxisGridLine = class {\n  constructor() {\n    this.enabled = true;\n    this.width = 1;\n    this.style = [{\n      stroke: void 0,\n      lineDash: []\n    }];\n  }\n};\n__decorateClass([Validate(BOOLEAN)], AxisGridLine.prototype, \"enabled\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisGridLine.prototype, \"width\", 2);\n__decorateClass([Validate(GRID_STYLE)], AxisGridLine.prototype, \"style\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisLabel.ts\nvar AxisLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.autoWrap = false;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.padding = 5;\n    this.minSpacing = NaN;\n    this.color = \"rgba(87, 87, 87, 1)\";\n    this.avoidCollisions = true;\n    this.mirrored = false;\n    this.parallel = false;\n  }\n  /**\n   * The side of the axis line to position the labels on.\n   * -1 = left (default)\n   * 1 = right\n   */\n  getSideFlag() {\n    return this.mirrored ? 1 : -1;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], AxisLabel.prototype, \"enabled\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], AxisLabel.prototype, \"autoWrap\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], AxisLabel.prototype, \"maxWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], AxisLabel.prototype, \"maxHeight\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], AxisLabel.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], AxisLabel.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(NUMBER.restrict({\n  min: 1\n}))], AxisLabel.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], AxisLabel.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisLabel.prototype, \"padding\", 2);\n__decorateClass([Validate(NUMBER_OR_NAN), Default(NaN)], AxisLabel.prototype, \"minSpacing\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], AxisLabel.prototype, \"color\", 2);\n__decorateClass([Validate(DEGREE, {\n  optional: true\n})], AxisLabel.prototype, \"rotation\", 2);\n__decorateClass([Validate(BOOLEAN)], AxisLabel.prototype, \"avoidCollisions\", 2);\n__decorateClass([Validate(BOOLEAN)], AxisLabel.prototype, \"mirrored\", 2);\n__decorateClass([Validate(BOOLEAN)], AxisLabel.prototype, \"parallel\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], AxisLabel.prototype, \"formatter\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], AxisLabel.prototype, \"format\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisLine.ts\nvar AxisLine = class {\n  constructor() {\n    this.enabled = true;\n    this.width = 1;\n    this.color = void 0;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], AxisLine.prototype, \"enabled\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisLine.prototype, \"width\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], AxisLine.prototype, \"color\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisTitle.ts\nvar AxisTitle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n    this.spacing = Caption.SMALL_PADDING;\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.wrapping = \"always\";\n  }\n};\n__decorateClass([Validate(BOOLEAN)], AxisTitle.prototype, \"enabled\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], AxisTitle.prototype, \"text\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], AxisTitle.prototype, \"spacing\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], AxisTitle.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], AxisTitle.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisTitle.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], AxisTitle.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], AxisTitle.prototype, \"color\", 2);\n__decorateClass([Validate(TEXT_WRAP)], AxisTitle.prototype, \"wrapping\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], AxisTitle.prototype, \"formatter\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisUtil.ts\nfunction prepareAxisAnimationContext(axis) {\n  const [requestedRangeMin, requestedRangeMax] = findMinMax(axis.range);\n  const min = Math.floor(requestedRangeMin);\n  const max = Math.ceil(requestedRangeMax);\n  return {\n    min,\n    max,\n    visible: min !== max\n  };\n}\nvar fullCircle = Math.PI * 2;\nvar halfCircle = fullCircle / 2;\nfunction normaliseEndRotation(start, end) {\n  const directDistance = Math.abs(end - start);\n  if (directDistance < halfCircle) return end;\n  if (start > end) return end + fullCircle;\n  return end - fullCircle;\n}\nfunction prepareAxisAnimationFunctions(ctx) {\n  const outOfBounds = (y, range3) => {\n    const [min = ctx.min, max = ctx.max] = findMinMax(range3 != null ? range3 : []);\n    return y < min || y > max;\n  };\n  const tick = {\n    fromFn(node, datum, status) {\n      let y = node.y1 + node.translationY;\n      let opacity = node.opacity;\n      if (status === \"added\" || outOfBounds(node.datum.translationY, node.datum.range)) {\n        y = datum.translationY;\n        opacity = 0;\n      }\n      return {\n        y: 0,\n        translationY: y,\n        opacity,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n      };\n    },\n    toFn(_node, datum, status) {\n      const y = datum.translationY;\n      let opacity = 1;\n      if (status === \"removed\") {\n        opacity = 0;\n      }\n      return {\n        y: 0,\n        translationY: y,\n        opacity,\n        finish: {\n          // Set explicit y after animation so it's pixel aligned\n          y,\n          translationY: 0\n        }\n      };\n    },\n    intermediateFn(node, _datum, _status) {\n      return {\n        visible: !outOfBounds(node.y)\n      };\n    }\n  };\n  const label = {\n    fromFn(node, newDatum, status) {\n      var _a;\n      const datum = (_a = node.previousDatum) != null ? _a : newDatum;\n      const x = datum.x;\n      const y = datum.y;\n      const rotationCenterX = datum.rotationCenterX;\n      let translationY = Math.round(node.translationY);\n      let rotation = datum.rotation;\n      let opacity = node.opacity;\n      if (status === \"removed\" || outOfBounds(datum.y, datum.range)) {\n        rotation = newDatum.rotation;\n      } else if (status === \"added\" || outOfBounds(node.datum.y, node.datum.range)) {\n        translationY = Math.round(datum.translationY);\n        opacity = 0;\n        rotation = newDatum.rotation;\n      }\n      return {\n        x,\n        y,\n        rotationCenterX,\n        translationY,\n        rotation,\n        opacity,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n      };\n    },\n    toFn(node, datum, status) {\n      var _a, _b;\n      const x = datum.x;\n      const y = datum.y;\n      const rotationCenterX = datum.rotationCenterX;\n      const translationY = Math.round(datum.translationY);\n      let rotation = 0;\n      let opacity = 1;\n      if (status === \"added\") {\n        opacity = 1;\n        rotation = datum.rotation;\n      } else if (status === \"removed\") {\n        opacity = 0;\n        rotation = datum.rotation;\n      } else {\n        rotation = normaliseEndRotation((_b = (_a = node.previousDatum) == null ? void 0 : _a.rotation) != null ? _b : datum.rotation, datum.rotation);\n      }\n      return {\n        x,\n        y,\n        rotationCenterX,\n        translationY,\n        rotation,\n        opacity,\n        finish: {\n          rotation: datum.rotation\n        }\n      };\n    }\n  };\n  const line = {\n    fromFn(node, datum) {\n      var _a;\n      return __spreadProps(__spreadValues({}, (_a = node.previousDatum) != null ? _a : datum), {\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"updated\"]\n      });\n    },\n    toFn(_node, datum) {\n      return __spreadValues({}, datum);\n    }\n  };\n  const group2 = {\n    fromFn(node, _datum) {\n      const {\n        rotation,\n        translationX,\n        translationY\n      } = node;\n      return {\n        rotation,\n        translationX,\n        translationY,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"updated\"]\n      };\n    },\n    toFn(_node, datum) {\n      const {\n        rotation,\n        translationX,\n        translationY\n      } = datum;\n      return {\n        rotation,\n        translationX,\n        translationY\n      };\n    }\n  };\n  return {\n    tick,\n    line,\n    label,\n    group: group2\n  };\n}\nfunction resetAxisGroupFn() {\n  return (_node, datum) => {\n    return {\n      rotation: datum.rotation,\n      rotationCenterX: datum.rotationCenterX,\n      rotationCenterY: datum.rotationCenterY,\n      translationX: datum.translationX,\n      translationY: datum.translationY\n    };\n  };\n}\nfunction resetAxisSelectionFn(ctx) {\n  const {\n    visible: rangeVisible,\n    min,\n    max\n  } = ctx;\n  return (_node, datum) => {\n    const y = datum.translationY;\n    const visible = rangeVisible && y >= min && y <= max;\n    return {\n      y,\n      translationY: 0,\n      opacity: 1,\n      visible\n    };\n  };\n}\nfunction resetAxisLabelSelectionFn() {\n  return (_node, datum) => {\n    return {\n      x: datum.x,\n      y: datum.y,\n      translationY: datum.translationY,\n      rotation: datum.rotation,\n      rotationCenterX: datum.rotationCenterX\n    };\n  };\n}\nfunction resetAxisLineSelectionFn() {\n  return (_node, datum) => {\n    return __spreadValues({}, datum);\n  };\n}\n\n// packages/ag-charts-community/src/chart/axis/axis.ts\nvar _Axis = class _Axis {\n  constructor(moduleCtx, scale2, options) {\n    this.moduleCtx = moduleCtx;\n    this.scale = scale2;\n    this.id = createId(this);\n    this.nice = true;\n    this.reverse = false;\n    this.keys = [];\n    this.dataDomain = {\n      domain: [],\n      clipped: false\n    };\n    this.boundSeries = [];\n    this.includeInvisibleDomains = false;\n    this.interactionEnabled = true;\n    this.axisGroup = new Group({\n      name: `${this.id}-axis`,\n      zIndex: 2 /* AXIS_ZINDEX */\n    });\n    this.lineNode = this.axisGroup.appendChild(new Line());\n    this.tickLineGroup = this.axisGroup.appendChild(new Group({\n      name: `${this.id}-Axis-tick-lines`,\n      zIndex: 2 /* AXIS_ZINDEX */\n    }));\n    this.tickLabelGroup = this.axisGroup.appendChild(new Group({\n      name: `${this.id}-Axis-tick-labels`,\n      zIndex: 2 /* AXIS_ZINDEX */\n    }));\n    this.crossLineGroup = new Group({\n      name: `${this.id}-CrossLines`\n    });\n    this.gridGroup = new Group({\n      name: `${this.id}-Axis-grid`\n    });\n    this.gridLineGroup = this.gridGroup.appendChild(new Group({\n      name: `${this.id}-gridLines`,\n      zIndex: 1 /* AXIS_GRID_ZINDEX */\n    }));\n    this.tickLineGroupSelection = Selection.select(this.tickLineGroup, Line, false);\n    this.tickLabelGroupSelection = Selection.select(this.tickLabelGroup, Text, false);\n    this.gridLineGroupSelection = Selection.select(this.gridLineGroup, Line, false);\n    this.line = new AxisLine();\n    this.tick = this.createTick();\n    this.gridLine = new AxisGridLine();\n    this.label = this.createLabel();\n    this.defaultTickMinSpacing = _Axis.defaultTickMinSpacing;\n    this.translation = {\n      x: 0,\n      y: 0\n    };\n    this.rotation = 0;\n    // axis rotation angle in degrees\n    this.layout = {\n      label: {\n        fractionDigits: 0,\n        padding: this.label.padding,\n        format: this.label.format\n      }\n    };\n    this.destroyFns = [];\n    this.range = [0, 1];\n    this.visibleRange = [0, 1];\n    this.title = new AxisTitle();\n    this._titleCaption = new Caption();\n    this.gridLength = 0;\n    this.fractionDigits = 0;\n    /**\n     * The distance between the grid ticks and the axis ticks.\n     */\n    this.gridPadding = 0;\n    /**\n     * Is used to avoid collisions between axis labels and series.\n     */\n    this.seriesAreaPadding = 0;\n    this.tickGenerationResult = void 0;\n    this.maxThickness = Infinity;\n    this.moduleMap = new ModuleMap();\n    this.refreshScale();\n    this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx, \"root\"));\n    this._titleCaption.node.rotation = -Math.PI / 2;\n    this.axisGroup.appendChild(this._titleCaption.node);\n    this.destroyFns.push(moduleCtx.regionManager.getRegion(\"series\").addListener(\"hover\", e => this.checkAxisHover(e)));\n    this.animationManager = moduleCtx.animationManager;\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: () => this.resetSelectionNodes()\n        },\n        reset: \"empty\"\n      },\n      ready: {\n        update: data => this.animateReadyUpdate(data),\n        resize: () => this.resetSelectionNodes(),\n        reset: \"empty\"\n      }\n    });\n    this._crossLines = [];\n    this.assignCrossLineArrayConstructor(this._crossLines);\n    let previousSize = void 0;\n    this.destroyFns.push(moduleCtx.layoutService.addListener(\"layout-complete\", e => {\n      if (previousSize != null && jsonDiff(e.chart, previousSize) != null) {\n        this.animationState.transition(\"resize\");\n      }\n      previousSize = __spreadValues({}, e.chart);\n    }));\n    if ((options == null ? void 0 : options.respondsToZoom) !== false) {\n      this.destroyFns.push(moduleCtx.updateService.addListener(\"update-complete\", e => {\n        this.minRect = e.minRect;\n      }));\n    }\n  }\n  get type() {\n    var _a;\n    return (_a = this.constructor.type) != null ? _a : \"\";\n  }\n  set crossLines(value) {\n    var _a, _b;\n    (_a = this._crossLines) == null ? void 0 : _a.forEach(crossLine => this.detachCrossLine(crossLine));\n    if (value) {\n      this.assignCrossLineArrayConstructor(value);\n    }\n    this._crossLines = value;\n    (_b = this._crossLines) == null ? void 0 : _b.forEach(crossLine => {\n      this.attachCrossLine(crossLine);\n      this.initCrossLine(crossLine);\n    });\n  }\n  get crossLines() {\n    return this._crossLines;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    }\n  }\n  attachCrossLine(crossLine) {\n    this.crossLineGroup.appendChild(crossLine.group);\n    this.crossLineGroup.appendChild(crossLine.labelGroup);\n  }\n  detachCrossLine(crossLine) {\n    this.crossLineGroup.removeChild(crossLine.group);\n    this.crossLineGroup.removeChild(crossLine.labelGroup);\n  }\n  destroy() {\n    this.moduleMap.destroy();\n    this.destroyFns.forEach(f => f());\n  }\n  refreshScale() {\n    var _a;\n    this.range = this.scale.range.slice();\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(this.initCrossLine, this);\n  }\n  updateRange() {\n    var _a;\n    const {\n      range: rr,\n      visibleRange: vr,\n      scale: scale2\n    } = this;\n    const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n    const shift = span * vr[0];\n    const start = rr[0] - shift;\n    scale2.range = [start, start + span];\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(crossLine => {\n      crossLine.clippedRange = [rr[0], rr[1]];\n    });\n  }\n  setCrossLinesVisible(visible) {\n    this.crossLineGroup.visible = visible;\n  }\n  attachAxis(axisNode, gridNode) {\n    gridNode.appendChild(this.gridGroup);\n    axisNode.appendChild(this.axisGroup);\n    axisNode.appendChild(this.crossLineGroup);\n  }\n  detachAxis(axisNode, gridNode) {\n    gridNode.removeChild(this.gridGroup);\n    axisNode.removeChild(this.axisGroup);\n    axisNode.removeChild(this.crossLineGroup);\n  }\n  /**\n   * Checks if a point or an object is in range.\n   * @param x A point (or object's starting point).\n   * @param width Object's width.\n   * @param tolerance Expands the range on both ends by this amount.\n   */\n  inRange(x, width = 0, tolerance = 0) {\n    const [min, max] = findMinMax(this.range);\n    return x + width >= min - tolerance && x <= max + tolerance;\n  }\n  onLabelFormatChange(ticks, _domain, format2) {\n    const {\n      scale: scale2,\n      fractionDigits\n    } = this;\n    const logScale = scale2 instanceof LogScale;\n    const defaultLabelFormatter = !logScale && fractionDigits > 0 ? x => typeof x === \"number\" ? x.toFixed(fractionDigits) : String(x) : x => String(x);\n    if (format2 && scale2 && scale2.tickFormat) {\n      try {\n        this.labelFormatter = scale2.tickFormat({\n          ticks,\n          specifier: format2\n        });\n      } catch (e) {\n        this.labelFormatter = defaultLabelFormatter;\n        Logger.warnOnce(`the axis label format string ${format2} is invalid. No formatting will be applied`);\n      }\n    } else {\n      this.labelFormatter = defaultLabelFormatter;\n    }\n  }\n  setTickInterval(interval) {\n    var _a;\n    this.scale.interval = (_a = this.tick.interval) != null ? _a : interval;\n  }\n  setTickCount(count, minTickCount, maxTickCount) {\n    const {\n      scale: scale2\n    } = this;\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    if (!(count && continuous)) {\n      return;\n    }\n    if (typeof count === \"number\") {\n      scale2.tickCount = count;\n      scale2.minTickCount = minTickCount != null ? minTickCount : 0;\n      scale2.maxTickCount = maxTickCount != null ? maxTickCount : Infinity;\n      return;\n    }\n    if (scale2 instanceof TimeScale) {\n      this.setTickInterval(count);\n    }\n  }\n  onGridLengthChange(value, prevValue) {\n    var _a;\n    if (prevValue && !value || !prevValue && value) {\n      this.onGridVisibilityChange();\n    }\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(this.initCrossLine, this);\n  }\n  onGridVisibilityChange() {\n    this.gridLineGroupSelection.clear();\n  }\n  createLabel() {\n    return new AxisLabel();\n  }\n  checkAxisHover(event) {\n    if (!this.interactionEnabled) return;\n    const bbox = this.computeBBox();\n    const isInAxis = bbox.containsPoint(event.offsetX, event.offsetY);\n    if (!isInAxis) return;\n    this.moduleCtx.chartEventManager.axisHover(this.id, this.direction);\n  }\n  /**\n   * Creates/removes/updates the scene graph nodes that constitute the axis.\n   */\n  update(_primaryTickCount = 0, animated = true) {\n    if (!this.tickGenerationResult) {\n      return;\n    }\n    const {\n      rotation,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    this.updatePosition();\n    const lineData = this.getAxisLineCoordinates();\n    const {\n      tickData,\n      combinedRotation,\n      textBaseline,\n      textAlign,\n      primaryTickCount\n    } = this.tickGenerationResult;\n    const previousTicks = this.tickLabelGroupSelection.nodes().map(node => node.datum.tickId);\n    this.updateSelections(lineData, tickData.ticks, {\n      combinedRotation,\n      textAlign,\n      textBaseline,\n      range: this.scale.range\n    });\n    if (!animated || this.animationManager.isSkipped()) {\n      this.resetSelectionNodes();\n    } else {\n      const diff2 = this.calculateUpdateDiff(previousTicks, tickData);\n      this.animationState.transition(\"update\", diff2);\n    }\n    this.updateAxisLine();\n    this.updateLabels();\n    this.updateVisibility();\n    this.updateGridLines(sideFlag);\n    this.updateTickLines();\n    this.updateTitle({\n      anyTickVisible: tickData.ticks.length > 0\n    });\n    this.updateCrossLines({\n      rotation,\n      parallelFlipRotation,\n      regularFlipRotation\n    });\n    this.updateLayoutState();\n    return primaryTickCount;\n  }\n  getAxisLineCoordinates() {\n    const [min, max] = findMinMax(this.range);\n    return {\n      x: 0,\n      y1: min,\n      y2: max\n    };\n  }\n  getTickLineCoordinates(datum) {\n    const sideFlag = this.label.getSideFlag();\n    const x = sideFlag * this.getTickSize();\n    const x1 = Math.min(0, x);\n    const x2 = x1 + Math.abs(x);\n    const y = datum.translationY;\n    return {\n      x1,\n      x2,\n      y\n    };\n  }\n  getTickLabelProps(datum, params) {\n    const {\n      label\n    } = this;\n    const {\n      combinedRotation,\n      textBaseline,\n      textAlign,\n      range: range3\n    } = params;\n    const text = datum.tickLabel;\n    const sideFlag = label.getSideFlag();\n    const labelX = sideFlag * (this.getTickSize() + label.padding + this.seriesAreaPadding);\n    const visible = text !== \"\" && text != null;\n    return {\n      tickId: datum.tickId,\n      translationY: datum.translationY,\n      fill: label.color,\n      fontFamily: label.fontFamily,\n      fontSize: label.fontSize,\n      fontStyle: label.fontStyle,\n      fontWeight: label.fontWeight,\n      rotation: combinedRotation,\n      rotationCenterX: labelX,\n      text,\n      textAlign,\n      textBaseline,\n      visible,\n      x: labelX,\n      y: 0,\n      range: range3\n    };\n  }\n  getTickSize() {\n    return this.tick.enabled ? this.tick.size : this.createTick().size;\n  }\n  setTitleProps(caption, params) {\n    var _a;\n    const {\n      title\n    } = this;\n    if (!title.enabled) {\n      caption.enabled = false;\n      return;\n    }\n    caption.color = title.color;\n    caption.fontFamily = title.fontFamily;\n    caption.fontSize = title.fontSize;\n    caption.fontStyle = title.fontStyle;\n    caption.fontWeight = title.fontWeight;\n    caption.enabled = title.enabled;\n    caption.wrapping = title.wrapping;\n    if (title.enabled) {\n      const titleNode = caption.node;\n      const padding = ((_a = title.spacing) != null ? _a : 0) + params.spacing;\n      const sideFlag = this.label.getSideFlag();\n      const parallelFlipRotation = normalizeAngle360(this.rotation);\n      const titleRotationFlag = sideFlag === -1 && parallelFlipRotation > Math.PI && parallelFlipRotation < Math.PI * 2 ? -1 : 1;\n      const rotation = titleRotationFlag * sideFlag * Math.PI / 2;\n      const textBaseline = titleRotationFlag === 1 ? \"bottom\" : \"top\";\n      const {\n        range: range3\n      } = this;\n      const x = Math.floor(titleRotationFlag * sideFlag * (range3[0] + range3[1]) / 2);\n      const y = sideFlag === -1 ? Math.floor(titleRotationFlag * -padding) : Math.floor(-padding);\n      const {\n        callbackCache\n      } = this.moduleCtx;\n      const {\n        formatter = p => p.defaultValue\n      } = title;\n      const text = callbackCache.call(formatter, this.getTitleFormatterParams());\n      titleNode.setProperties({\n        rotation,\n        text,\n        textBaseline,\n        visible: true,\n        x,\n        y\n      });\n    }\n  }\n  calculateLayout(primaryTickCount) {\n    var _b, _c;\n    const {\n      rotation,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    const labelX = sideFlag * (this.getTickSize() + this.label.padding + this.seriesAreaPadding);\n    this.updateScale();\n    this.tickGenerationResult = this.generateTicks({\n      primaryTickCount,\n      parallelFlipRotation,\n      regularFlipRotation,\n      labelX,\n      sideFlag\n    });\n    this.updateLayoutState();\n    const _a = this.tickGenerationResult,\n      {\n        tickData,\n        combinedRotation,\n        textBaseline,\n        textAlign\n      } = _a,\n      ticksResult = __objRest(_a, [\"tickData\", \"combinedRotation\", \"textBaseline\", \"textAlign\"]);\n    const boxes = [];\n    const {\n      x,\n      y1,\n      y2\n    } = this.getAxisLineCoordinates();\n    const lineBox = new BBox(x + Math.min(sideFlag * this.seriesAreaPadding, 0), y1, this.seriesAreaPadding, y2 - y1);\n    boxes.push(lineBox);\n    if (this.tick.enabled) {\n      tickData.ticks.forEach(datum => {\n        const {\n          x1,\n          x2,\n          y\n        } = this.getTickLineCoordinates(datum);\n        const tickLineBox = new BBox(x1, y, x2 - x1, 0);\n        boxes.push(tickLineBox);\n      });\n    }\n    if (this.label.enabled) {\n      const tempText = new Text();\n      tickData.ticks.forEach(datum => {\n        const labelProps = this.getTickLabelProps(datum, {\n          combinedRotation,\n          textAlign,\n          textBaseline,\n          range: this.scale.range\n        });\n        if (!labelProps.visible) {\n          return;\n        }\n        tempText.setProperties(__spreadProps(__spreadValues({}, labelProps), {\n          translationY: Math.round(datum.translationY)\n        }));\n        const box = tempText.computeTransformedBBox();\n        if (box) {\n          boxes.push(box);\n        }\n      });\n    }\n    const getTransformBox = bbox2 => {\n      const matrix = new Matrix();\n      const {\n        rotation: axisRotation,\n        translationX,\n        translationY,\n        rotationCenterX,\n        rotationCenterY\n      } = this.getAxisTransform();\n      Matrix.updateTransformMatrix(matrix, 1, 1, axisRotation, translationX, translationY, {\n        scalingCenterX: 0,\n        scalingCenterY: 0,\n        rotationCenterX,\n        rotationCenterY\n      });\n      return matrix.transformBBox(bbox2);\n    };\n    if ((_b = this.title) == null ? void 0 : _b.enabled) {\n      const caption = new Caption();\n      const spacing = BBox.merge(boxes).width;\n      this.setTitleProps(caption, {\n        spacing\n      });\n      const titleNode = caption.node;\n      const titleBox = titleNode.computeTransformedBBox();\n      if (titleBox) {\n        boxes.push(titleBox);\n      }\n    }\n    const bbox = BBox.merge(boxes);\n    const transformedBBox = getTransformBox(bbox);\n    const anySeriesActive = this.isAnySeriesActive();\n    (_c = this.crossLines) == null ? void 0 : _c.forEach(crossLine => {\n      var _a2;\n      crossLine.sideFlag = -sideFlag;\n      crossLine.direction = rotation === -Math.PI / 2 ? \"x\" /* X */ : \"y\" /* Y */;\n      if (crossLine instanceof CartesianCrossLine) {\n        crossLine.label.parallel = (_a2 = crossLine.label.parallel) != null ? _a2 : this.label.parallel;\n      }\n      crossLine.parallelFlipRotation = parallelFlipRotation;\n      crossLine.regularFlipRotation = regularFlipRotation;\n      crossLine.calculateLayout(anySeriesActive, this.reverse);\n    });\n    primaryTickCount = ticksResult.primaryTickCount;\n    return {\n      primaryTickCount,\n      bbox: transformedBBox\n    };\n  }\n  updateLayoutState() {\n    this.layout.label = {\n      fractionDigits: this.fractionDigits,\n      padding: this.label.padding,\n      format: this.label.format\n    };\n  }\n  setDomain(domain) {\n    this.dataDomain = this.normaliseDataDomain(domain);\n    if (this.reverse) {\n      this.dataDomain.domain.reverse();\n    }\n    this.scale.domain = this.dataDomain.domain;\n  }\n  updateScale() {\n    this.updateRange();\n    this.calculateDomain();\n    this.setTickInterval(this.tick.interval);\n    const {\n      scale: scale2,\n      nice\n    } = this;\n    if (!ContinuousScale.is(scale2)) {\n      return;\n    }\n    scale2.nice = nice;\n    scale2.update();\n  }\n  calculateRotations() {\n    const rotation = toRadians(this.rotation);\n    const parallelFlipRotation = normalizeAngle360(rotation);\n    const regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n    return {\n      rotation,\n      parallelFlipRotation,\n      regularFlipRotation\n    };\n  }\n  generateTicks({\n    primaryTickCount,\n    parallelFlipRotation,\n    regularFlipRotation,\n    labelX,\n    sideFlag\n  }) {\n    var _a;\n    const {\n      scale: scale2,\n      tick,\n      label: {\n        parallel,\n        rotation,\n        fontFamily,\n        fontSize,\n        fontStyle,\n        fontWeight\n      }\n    } = this;\n    const secondaryAxis = primaryTickCount !== void 0;\n    const {\n      defaultRotation,\n      configuredRotation,\n      parallelFlipFlag,\n      regularFlipFlag\n    } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    const initialRotation = configuredRotation + defaultRotation;\n    const labelMatrix = new Matrix();\n    const {\n      maxTickCount\n    } = this.estimateTickCount({\n      minSpacing: tick.minSpacing,\n      maxSpacing: (_a = tick.maxSpacing) != null ? _a : NaN\n    });\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const maxIterations = !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n    let textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n    const textBaseline = getTextBaseline(parallel, configuredRotation, sideFlag, parallelFlipFlag);\n    const textProps = {\n      fontFamily,\n      fontSize,\n      fontStyle,\n      fontWeight,\n      textBaseline,\n      textAlign\n    };\n    let tickData = {\n      rawTicks: [],\n      ticks: [],\n      labelCount: 0\n    };\n    let index = 0;\n    let autoRotation = 0;\n    let labelOverlap = true;\n    let terminate = false;\n    while (labelOverlap && index <= maxIterations) {\n      if (terminate) {\n        break;\n      }\n      autoRotation = 0;\n      textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n      const tickStrategies = this.getTickStrategies({\n        secondaryAxis,\n        index\n      });\n      for (const strategy of tickStrategies) {\n        ({\n          tickData,\n          index,\n          autoRotation,\n          terminate\n        } = strategy({\n          index,\n          tickData,\n          textProps,\n          labelOverlap,\n          terminate,\n          primaryTickCount\n        }));\n        const rotated = configuredRotation !== 0 || autoRotation !== 0;\n        const labelRotation = initialRotation + autoRotation;\n        textAlign = getTextAlign(parallel, configuredRotation, autoRotation, sideFlag, regularFlipFlag);\n        labelOverlap = this.label.avoidCollisions ? this.checkLabelOverlap(labelRotation, rotated, labelMatrix, tickData.ticks, labelX, __spreadProps(__spreadValues({}, textProps), {\n          textAlign\n        })) : false;\n      }\n    }\n    const combinedRotation = defaultRotation + configuredRotation + autoRotation;\n    if (!secondaryAxis && tickData.rawTicks.length > 0) {\n      primaryTickCount = tickData.rawTicks.length;\n    }\n    return {\n      tickData,\n      primaryTickCount,\n      combinedRotation,\n      textBaseline,\n      textAlign\n    };\n  }\n  getTickStrategies({\n    index: iteration,\n    secondaryAxis\n  }) {\n    const {\n      scale: scale2,\n      label,\n      tick\n    } = this;\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const avoidLabelCollisions = label.enabled && label.avoidCollisions;\n    const filterTicks = !continuous && iteration !== 0 && avoidLabelCollisions;\n    const autoRotate = label.autoRotate === true && label.rotation === void 0;\n    const strategies = [];\n    let tickGenerationType;\n    if (this.tick.values) {\n      tickGenerationType = 3 /* VALUES */;\n    } else if (secondaryAxis) {\n      tickGenerationType = 1 /* CREATE_SECONDARY */;\n    } else if (filterTicks) {\n      tickGenerationType = 2 /* FILTER */;\n    } else {\n      tickGenerationType = 0 /* CREATE */;\n    }\n    const tickGenerationStrategy = ({\n      index,\n      tickData,\n      primaryTickCount,\n      terminate\n    }) => this.createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount);\n    strategies.push(tickGenerationStrategy);\n    if (!continuous && !isNaN(tick.minSpacing)) {\n      const tickFilterStrategy = ({\n        index,\n        tickData,\n        primaryTickCount,\n        terminate\n      }) => this.createTickData(2 /* FILTER */, index, tickData, terminate, primaryTickCount);\n      strategies.push(tickFilterStrategy);\n    }\n    if (!avoidLabelCollisions) {\n      return strategies;\n    }\n    if (label.autoWrap) {\n      const autoWrapStrategy = ({\n        index,\n        tickData,\n        textProps\n      }) => this.wrapLabels(tickData, index, textProps);\n      strategies.push(autoWrapStrategy);\n    } else if (autoRotate) {\n      const autoRotateStrategy = ({\n        index,\n        tickData,\n        labelOverlap,\n        terminate\n      }) => ({\n        index,\n        tickData,\n        autoRotation: this.getAutoRotation(labelOverlap),\n        terminate\n      });\n      strategies.push(autoRotateStrategy);\n    }\n    return strategies;\n  }\n  createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount) {\n    var _a;\n    const {\n      scale: scale2,\n      tick\n    } = this;\n    const {\n      maxTickCount,\n      minTickCount,\n      defaultTickCount\n    } = this.estimateTickCount({\n      minSpacing: tick.minSpacing,\n      maxSpacing: (_a = tick.maxSpacing) != null ? _a : NaN\n    });\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const maxIterations = !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n    let tickCount = continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount;\n    const regenerateTicks = tick.interval === void 0 && tick.values === void 0 && tickCount > minTickCount && (continuous || tickGenerationType === 2 /* FILTER */);\n    let unchanged = true;\n    while (unchanged && index <= maxIterations) {\n      const prevTicks = tickData.rawTicks;\n      tickCount = continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount;\n      const {\n        rawTicks,\n        ticks,\n        labelCount\n      } = this.getTicks({\n        tickGenerationType,\n        previousTicks: prevTicks,\n        tickCount,\n        minTickCount,\n        maxTickCount,\n        primaryTickCount\n      });\n      tickData.rawTicks = rawTicks;\n      tickData.ticks = ticks;\n      tickData.labelCount = labelCount;\n      unchanged = regenerateTicks ? areArrayNumbersEqual(rawTicks, prevTicks) : false;\n      index++;\n    }\n    const shouldTerminate = tick.interval !== void 0 || tick.values !== void 0;\n    terminate || (terminate = shouldTerminate);\n    return {\n      tickData,\n      index,\n      autoRotation: 0,\n      terminate\n    };\n  }\n  checkLabelOverlap(rotation, rotated, labelMatrix, tickData, labelX, textProps) {\n    Matrix.updateTransformMatrix(labelMatrix, 1, 1, rotation, 0, 0);\n    const labelData = this.createLabelData(tickData, labelX, textProps, labelMatrix);\n    const labelSpacing = getLabelSpacing(this.label.minSpacing, rotated);\n    return axisLabelsOverlap(labelData, labelSpacing);\n  }\n  createLabelData(tickData, labelX, textProps, labelMatrix) {\n    const labelData = [];\n    const measurer = new TextMeasurer(textProps);\n    for (const {\n      tickLabel,\n      translationY\n    } of tickData) {\n      if (tickLabel === \"\" || tickLabel == null) continue;\n      const {\n        width,\n        height\n      } = measurer.size(tickLabel);\n      const bbox = new BBox(labelX, translationY, width, height);\n      const labelDatum = calculateLabelBBox(tickLabel, bbox, labelX, translationY, labelMatrix);\n      labelData.push(labelDatum);\n    }\n    return labelData;\n  }\n  getAutoRotation(labelOverlap) {\n    var _a;\n    return labelOverlap ? normalizeAngle360(toRadians((_a = this.label.autoRotateAngle) != null ? _a : 0)) : 0;\n  }\n  getTicks({\n    tickGenerationType,\n    previousTicks,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    primaryTickCount\n  }) {\n    var _a;\n    const {\n      range: range3,\n      scale: scale2,\n      visibleRange\n    } = this;\n    let rawTicks;\n    switch (tickGenerationType) {\n      case 3 /* VALUES */:\n        if (ContinuousScale.is(scale2)) {\n          const [d0, d1] = findMinMax(scale2.getDomain().map(Number));\n          rawTicks = this.tick.values.filter(value => value >= d0 && value <= d1).sort((a, b) => a - b);\n        } else {\n          rawTicks = this.tick.values;\n        }\n        break;\n      case 1 /* CREATE_SECONDARY */:\n        if (ContinuousScale.is(scale2)) {\n          rawTicks = this.updateSecondaryAxisTicks(primaryTickCount);\n        } else {\n          rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n        }\n        break;\n      case 2 /* FILTER */:\n        rawTicks = this.filterTicks(previousTicks, tickCount);\n        break;\n      default:\n        rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n        break;\n    }\n    this.fractionDigits = rawTicks.fractionDigits >= 0 ? rawTicks.fractionDigits : 0;\n    const halfBandwidth = ((_a = scale2.bandwidth) != null ? _a : 0) / 2;\n    const ticks = [];\n    let labelCount = 0;\n    const tickIdCounts = /* @__PURE__ */new Map();\n    const start = Math.max(0, Math.floor(visibleRange[0] * rawTicks.length));\n    const end = Math.min(rawTicks.length, Math.ceil(visibleRange[1] * rawTicks.length));\n    const filteredTicks = rawTicks.slice(start, end);\n    this.onLabelFormatChange(filteredTicks, rawTicks, this.label.format);\n    for (let i = 0; i < filteredTicks.length; i++) {\n      const tick = filteredTicks[i];\n      const translationY = scale2.convert(tick) + halfBandwidth;\n      if (range3.length > 0 && !this.inRange(translationY, 0, 1e-3)) continue;\n      const tickLabel = this.formatTick(tick, start + i);\n      let tickId = tickLabel;\n      if (tickIdCounts.has(tickId)) {\n        const count = tickIdCounts.get(tickId);\n        tickIdCounts.set(tickId, count + 1);\n        tickId = `${tickId}_${count}`;\n      } else {\n        tickIdCounts.set(tickId, 1);\n      }\n      ticks.push({\n        tick,\n        tickId,\n        tickLabel,\n        translationY: Math.floor(translationY)\n      });\n      if (tickLabel === \"\" || tickLabel == null) {\n        continue;\n      }\n      labelCount++;\n    }\n    return {\n      rawTicks,\n      ticks,\n      labelCount\n    };\n  }\n  filterTicks(ticks, tickCount) {\n    var _a;\n    const tickSpacing = !isNaN(this.tick.minSpacing) || !isNaN((_a = this.tick.maxSpacing) != null ? _a : NaN);\n    const keepEvery = tickSpacing ? Math.ceil(ticks.length / tickCount) : 2;\n    return ticks.filter((_, i) => i % keepEvery === 0);\n  }\n  createTicks(tickCount, minTickCount, maxTickCount) {\n    var _a, _b, _c;\n    this.setTickCount(tickCount, minTickCount, maxTickCount);\n    return (_c = (_b = (_a = this.scale).ticks) == null ? void 0 : _b.call(_a)) != null ? _c : [];\n  }\n  estimateTickCount({\n    minSpacing,\n    maxSpacing\n  }) {\n    const {\n      minRect,\n      label: {\n        avoidCollisions\n      }\n    } = this;\n    if (!avoidCollisions) {\n      return {\n        minTickCount: ContinuousScale.defaultMaxTickCount,\n        maxTickCount: ContinuousScale.defaultMaxTickCount,\n        defaultTickCount: ContinuousScale.defaultMaxTickCount\n      };\n    }\n    const rangeWithBleed = this.calculateRangeWithBleed();\n    const defaultMinSpacing = Math.max(this.defaultTickMinSpacing, rangeWithBleed / ContinuousScale.defaultMaxTickCount);\n    let clampMaxTickCount = !isNaN(maxSpacing);\n    if (isNaN(minSpacing)) {\n      minSpacing = defaultMinSpacing;\n    }\n    if (isNaN(maxSpacing)) {\n      maxSpacing = rangeWithBleed;\n    }\n    if (minSpacing > maxSpacing) {\n      if (minSpacing === defaultMinSpacing) {\n        minSpacing = maxSpacing;\n      } else {\n        maxSpacing = minSpacing;\n      }\n    }\n    let minRectDistance = 1;\n    if (minRect) {\n      minRectDistance = this.direction === \"x\" /* X */ ? minRect.width : minRect.height;\n    }\n    clampMaxTickCount && (clampMaxTickCount = minRectDistance < defaultMinSpacing);\n    const maxTickCount = clamp(1, Math.floor(rangeWithBleed / minSpacing), clampMaxTickCount ? Math.min(Math.floor(rangeWithBleed / minRectDistance), 100) : 100);\n    const minTickCount = Math.min(maxTickCount, Math.ceil(rangeWithBleed / maxSpacing));\n    const defaultTickCount = clamp(minTickCount, ContinuousScale.defaultTickCount, maxTickCount);\n    return {\n      minTickCount,\n      maxTickCount,\n      defaultTickCount\n    };\n  }\n  updateVisibility() {\n    if (this.moduleCtx.animationManager.isSkipped()) {\n      this.resetSelectionNodes();\n    }\n    this.tickLineGroup.visible = this.tick.enabled;\n    this.gridLineGroup.visible = this.gridLine.enabled;\n    this.tickLabelGroup.visible = this.label.enabled;\n  }\n  updateCrossLines({\n    rotation,\n    parallelFlipRotation,\n    regularFlipRotation\n  }) {\n    var _a;\n    const sideFlag = this.label.getSideFlag();\n    const anySeriesActive = this.isAnySeriesActive();\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(crossLine => {\n      var _a2;\n      crossLine.sideFlag = -sideFlag;\n      crossLine.direction = rotation === -Math.PI / 2 ? \"x\" /* X */ : \"y\" /* Y */;\n      if (crossLine instanceof CartesianCrossLine) {\n        crossLine.label.parallel = (_a2 = crossLine.label.parallel) != null ? _a2 : this.label.parallel;\n      }\n      crossLine.parallelFlipRotation = parallelFlipRotation;\n      crossLine.regularFlipRotation = regularFlipRotation;\n      crossLine.update(anySeriesActive);\n    });\n  }\n  updateTickLines() {\n    const {\n      tick,\n      label\n    } = this;\n    const sideFlag = label.getSideFlag();\n    this.tickLineGroupSelection.each(line => {\n      line.strokeWidth = tick.width;\n      line.stroke = tick.color;\n      line.x1 = sideFlag * this.getTickSize();\n      line.x2 = 0;\n    });\n  }\n  calculateAvailableRange() {\n    return findRangeExtent(this.range);\n  }\n  /**\n   * Calculates the available range with an additional \"bleed\" beyond the canvas that encompasses the full axis when\n   * the visible range is only a portion of the axis.\n   */\n  calculateRangeWithBleed() {\n    const visibleScale = 1 / findRangeExtent(this.visibleRange);\n    return round(this.calculateAvailableRange() * visibleScale, 2);\n  }\n  calculateDomain() {\n    const visibleSeries = this.boundSeries.filter(s => this.includeInvisibleDomains || s.isEnabled());\n    const domains = visibleSeries.flatMap(series => series.getDomain(this.direction));\n    this.setDomain(domains);\n  }\n  getAxisTransform() {\n    return {\n      rotation: toRadians(this.rotation),\n      rotationCenterX: 0,\n      rotationCenterY: 0,\n      translationX: Math.floor(this.translation.x),\n      translationY: Math.floor(this.translation.y)\n    };\n  }\n  updatePosition() {\n    const {\n      crossLineGroup,\n      axisGroup,\n      gridGroup,\n      translation,\n      gridLineGroupSelection,\n      gridPadding,\n      gridLength\n    } = this;\n    const {\n      rotation\n    } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    const translationX = Math.floor(translation.x);\n    const translationY = Math.floor(translation.y);\n    crossLineGroup.setProperties({\n      rotation,\n      translationX,\n      translationY\n    });\n    gridGroup.setProperties({\n      rotation,\n      translationX,\n      translationY\n    });\n    axisGroup.datum = this.getAxisTransform();\n    gridLineGroupSelection.each(line => {\n      line.x1 = gridPadding;\n      line.x2 = -sideFlag * gridLength + gridPadding;\n    });\n  }\n  updateSecondaryAxisTicks(_primaryTickCount) {\n    throw new Error(\"AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.\");\n  }\n  updateSelections(lineData, data, params) {\n    this.lineNode.datum = lineData;\n    this.gridLineGroupSelection.update(this.gridLength ? data : [], group2 => group2.append(new Line()), datum => datum.tickId);\n    this.tickLineGroupSelection.update(data, group2 => group2.appendChild(new Line()), datum => datum.tickId);\n    this.tickLabelGroupSelection.update(data.map(d => this.getTickLabelProps(d, params)), group2 => group2.appendChild(new Text()), datum => datum.tickId);\n  }\n  updateAxisLine() {\n    const {\n      line\n    } = this;\n    const strokeWidth = line.enabled ? line.width : 0;\n    this.lineNode.setProperties({\n      stroke: line.color,\n      strokeWidth\n    });\n  }\n  updateGridLines(sideFlag) {\n    const {\n      gridLine: {\n        style,\n        width\n      },\n      gridPadding,\n      gridLength\n    } = this;\n    if (gridLength === 0 || style.length === 0) {\n      return;\n    }\n    this.gridLineGroupSelection.each((line, _, index) => {\n      const {\n        stroke,\n        lineDash\n      } = style[index % style.length];\n      line.setProperties({\n        x1: gridPadding,\n        x2: -sideFlag * gridLength + gridPadding,\n        fill: void 0,\n        stroke,\n        strokeWidth: width,\n        lineDash\n      });\n    });\n  }\n  updateLabels() {\n    const {\n      label\n    } = this;\n    if (!label.enabled) {\n      return;\n    }\n    this.tickLabelGroupSelection.each((node, datum) => {\n      node.setProperties(datum, [\"fill\", \"fontFamily\", \"fontSize\", \"fontStyle\", \"fontWeight\", \"text\", \"textAlign\", \"textBaseline\"]);\n    });\n  }\n  wrapLabels(tickData, index, labelProps) {\n    const {\n      parallel,\n      maxWidth,\n      maxHeight\n    } = this.label;\n    let defaultMaxWidth = this.maxThickness;\n    let defaultMaxHeight = Math.round(this.calculateAvailableRange() / tickData.labelCount);\n    if (parallel) {\n      [defaultMaxWidth, defaultMaxHeight] = [defaultMaxHeight, defaultMaxWidth];\n    }\n    tickData.ticks.forEach(tickDatum => {\n      const {\n        text\n      } = Text.wrap(tickDatum.tickLabel, maxWidth != null ? maxWidth : defaultMaxWidth, maxHeight != null ? maxHeight : defaultMaxHeight, labelProps, \"hyphenate\");\n      tickDatum.tickLabel = text;\n    });\n    return {\n      tickData,\n      index,\n      autoRotation: 0,\n      terminate: true\n    };\n  }\n  updateTitle(params) {\n    const {\n      rotation,\n      title,\n      _titleCaption,\n      lineNode,\n      tickLineGroup,\n      tickLabelGroup\n    } = this;\n    if (!title) {\n      _titleCaption.enabled = false;\n      return;\n    }\n    let spacing = 0;\n    if (title.enabled && params.anyTickVisible) {\n      const tickBBox = Group.computeBBox([tickLineGroup, tickLabelGroup, lineNode]);\n      const tickWidth = rotation === 0 ? tickBBox.width : tickBBox.height;\n      spacing += tickWidth + (this.tickLabelGroup.visible ? 0 : this.seriesAreaPadding);\n    }\n    this.setTitleProps(_titleCaption, {\n      spacing\n    });\n  }\n  // For formatting (nice rounded) tick values.\n  formatTick(datum, index) {\n    return this.datumFormatter(index)(datum);\n  }\n  // For formatting arbitrary values between the ticks.\n  formatDatum(datum) {\n    return String(datum);\n  }\n  datumFormatter(index = 0) {\n    const {\n      label,\n      labelFormatter,\n      fractionDigits,\n      moduleCtx: {\n        callbackCache\n      }\n    } = this;\n    if (label.formatter) {\n      return datum => {\n        var _a;\n        return (_a = callbackCache.call(label.formatter, {\n          value: fractionDigits > 0 ? datum : String(datum),\n          index,\n          fractionDigits,\n          formatter: labelFormatter\n        })) != null ? _a : datum;\n      };\n    } else if (labelFormatter) {\n      return datum => {\n        var _a;\n        return (_a = callbackCache.call(labelFormatter, datum)) != null ? _a : String(datum);\n      };\n    }\n    return datum => String(datum);\n  }\n  computeBBox() {\n    return this.axisGroup.computeBBox();\n  }\n  initCrossLine(crossLine) {\n    crossLine.scale = this.scale;\n    crossLine.gridLength = this.gridLength;\n  }\n  isAnySeriesActive() {\n    return this.boundSeries.some(s => this.includeInvisibleDomains || s.isEnabled());\n  }\n  clipTickLines(x, y, width, height) {\n    this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n  }\n  clipGrid(x, y, width, height) {\n    this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n  }\n  calculatePadding(min, max) {\n    const padding = Math.abs(this.reverse ? max : min) * 0.01;\n    return [padding, padding];\n  }\n  getTitleFormatterParams() {\n    var _a;\n    const boundSeries = this.boundSeries.reduce((acc, next) => {\n      const keys = next.getKeys(this.direction);\n      const names = next.getNames(this.direction);\n      for (let idx = 0; idx < keys.length; idx++) {\n        acc.push({\n          key: keys[idx],\n          name: names[idx]\n        });\n      }\n      return acc;\n    }, []);\n    return {\n      direction: this.direction,\n      boundSeries,\n      defaultValue: (_a = this.title) == null ? void 0 : _a.text\n    };\n  }\n  normaliseDataDomain(d) {\n    return {\n      domain: [...d],\n      clipped: false\n    };\n  }\n  getLayoutState() {\n    return __spreadValues({\n      rect: this.computeBBox(),\n      gridPadding: this.gridPadding,\n      seriesAreaPadding: this.seriesAreaPadding,\n      tickSize: this.getTickSize(),\n      direction: this.direction,\n      domain: this.dataDomain.domain,\n      scale: this.scale\n    }, this.layout);\n  }\n  getModuleMap() {\n    return this.moduleMap;\n  }\n  createModuleContext() {\n    var _a;\n    (_a = this.axisContext) != null ? _a : this.axisContext = this.createAxisContext();\n    return __spreadProps(__spreadValues({}, this.moduleCtx), {\n      parent: this.axisContext\n    });\n  }\n  createAxisContext() {\n    return {\n      axisId: this.id,\n      direction: this.direction,\n      continuous: ContinuousScale.is(this.scale),\n      keys: () => this.boundSeries.flatMap(s => s.getKeys(this.direction)),\n      seriesKeyProperties: () => this.boundSeries.reduce((keys, series) => {\n        const seriesKeys = series.getKeyProperties(this.direction);\n        seriesKeys.forEach(key => {\n          if (keys.indexOf(key) < 0) {\n            keys.push(key);\n          }\n        });\n        return keys;\n      }, []),\n      scaleValueFormatter: specifier => {\n        var _a, _b;\n        return specifier ? (_b = (_a = this.scale).tickFormat) == null ? void 0 : _b.call(_a, {\n          specifier\n        }) : this.formatDatum;\n      },\n      scaleBandwidth: () => {\n        var _a;\n        return (_a = this.scale.bandwidth) != null ? _a : 0;\n      },\n      scaleConvert: val => this.scale.convert(val),\n      scaleInvert: val => {\n        var _a, _b;\n        return (_b = (_a = this.scale).invert) == null ? void 0 : _b.call(_a, val);\n      }\n    };\n  }\n  animateReadyUpdate(diff2) {\n    const {\n      animationManager\n    } = this.moduleCtx;\n    const selectionCtx = prepareAxisAnimationContext(this);\n    const fns = prepareAxisAnimationFunctions(selectionCtx);\n    fromToMotion(this.id, \"axis-group\", animationManager, [this.axisGroup], fns.group);\n    fromToMotion(this.id, \"line\", animationManager, [this.lineNode], fns.line);\n    fromToMotion(this.id, \"line-paths\", animationManager, [this.gridLineGroupSelection, this.tickLineGroupSelection], fns.tick, (_, d) => d.tickId, diff2);\n    fromToMotion(this.id, \"tick-labels\", animationManager, [this.tickLabelGroupSelection], fns.label, (_, d) => d.tickId, diff2);\n  }\n  resetSelectionNodes() {\n    const {\n      gridLineGroupSelection,\n      tickLineGroupSelection,\n      tickLabelGroupSelection,\n      lineNode\n    } = this;\n    const selectionCtx = prepareAxisAnimationContext(this);\n    resetMotion([this.axisGroup], resetAxisGroupFn());\n    resetMotion([gridLineGroupSelection, tickLineGroupSelection], resetAxisSelectionFn(selectionCtx));\n    resetMotion([tickLabelGroupSelection], resetAxisLabelSelectionFn());\n    resetMotion([lineNode], resetAxisLineSelectionFn());\n  }\n  calculateUpdateDiff(previous, tickData) {\n    const added = /* @__PURE__ */new Set();\n    const removed = /* @__PURE__ */new Set();\n    const tickMap = {};\n    const tickCount = Math.max(previous.length, tickData.ticks.length);\n    for (let i = 0; i < tickCount; i++) {\n      const tickDatum = tickData.ticks[i];\n      const prev = previous[i];\n      const tick = tickDatum == null ? void 0 : tickDatum.tickId;\n      tickMap[tick != null ? tick : prev] = tickDatum;\n      if (prev === tick) {\n        continue;\n      }\n      if (removed.has(tick)) {\n        removed.delete(tick);\n      } else if (tick) {\n        added.add(tick);\n      }\n      if (added.has(prev)) {\n        added.delete(prev);\n      } else if (prev) {\n        removed.add(prev);\n      }\n    }\n    return {\n      changed: added.size > 0 || removed.size > 0,\n      added,\n      removed\n    };\n  }\n  isReversed() {\n    return this.reverse;\n  }\n};\n_Axis.defaultTickMinSpacing = 50;\n__decorateClass([Validate(BOOLEAN)], _Axis.prototype, \"nice\", 2);\n__decorateClass([Validate(BOOLEAN)], _Axis.prototype, \"reverse\", 2);\n__decorateClass([Validate(STRING_ARRAY)], _Axis.prototype, \"keys\", 2);\n__decorateClass([Validate(OBJECT, {\n  optional: true\n})], _Axis.prototype, \"title\", 2);\n__decorateClass([ObserveChanges((target, value, oldValue) => target.onGridLengthChange(value, oldValue))], _Axis.prototype, \"gridLength\", 2);\nvar Axis = _Axis;\n\n// packages/ag-charts-community/src/chart/axis/cartesianAxisLabel.ts\nvar CartesianAxisLabel = class extends AxisLabel {\n  constructor() {\n    super(...arguments);\n    this.autoRotateAngle = 335;\n  }\n};\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], CartesianAxisLabel.prototype, \"autoRotate\", 2);\n__decorateClass([Validate(DEGREE)], CartesianAxisLabel.prototype, \"autoRotateAngle\", 2);\n\n// packages/ag-charts-community/src/chart/axis/cartesianAxis.ts\nvar _CartesianAxis = class _CartesianAxis extends Axis {\n  constructor() {\n    super(...arguments);\n    this.thickness = 0;\n    this.position = \"left\";\n  }\n  static is(value) {\n    return value instanceof _CartesianAxis;\n  }\n  get direction() {\n    return [\"top\", \"bottom\"].includes(this.position) ? \"x\" /* X */ : \"y\" /* Y */;\n  }\n  updateDirection() {\n    switch (this.position) {\n      case \"top\":\n        this.rotation = -90;\n        this.label.mirrored = true;\n        this.label.parallel = true;\n        break;\n      case \"right\":\n        this.rotation = 0;\n        this.label.mirrored = true;\n        this.label.parallel = false;\n        break;\n      case \"bottom\":\n        this.rotation = -90;\n        this.label.mirrored = false;\n        this.label.parallel = true;\n        break;\n      case \"left\":\n        this.rotation = 0;\n        this.label.mirrored = false;\n        this.label.parallel = false;\n        break;\n    }\n    if (this.axisContext) {\n      this.axisContext.position = this.position;\n      this.axisContext.direction = this.direction;\n    }\n  }\n  update(primaryTickCount, animated) {\n    this.updateDirection();\n    return super.update(primaryTickCount, animated);\n  }\n  calculateLayout(primaryTickCount) {\n    this.updateDirection();\n    return super.calculateLayout(primaryTickCount);\n  }\n  createAxisContext() {\n    return __spreadProps(__spreadValues({}, super.createAxisContext()), {\n      position: this.position\n    });\n  }\n  assignCrossLineArrayConstructor(crossLines) {\n    assignJsonApplyConstructedArray(crossLines, CartesianCrossLine);\n  }\n  createLabel() {\n    return new CartesianAxisLabel();\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER)], _CartesianAxis.prototype, \"thickness\", 2);\n__decorateClass([Validate(POSITION2)], _CartesianAxis.prototype, \"position\", 2);\nvar CartesianAxis = _CartesianAxis;\n\n// packages/ag-charts-community/src/chart/axis/categoryAxis.ts\nvar CategoryAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n  }\n};\n__decorateClass([Validate(MIN_SPACING), Default(NaN)], CategoryAxisTick.prototype, \"minSpacing\", 2);\nvar CategoryAxis = class extends CartesianAxis {\n  constructor(moduleCtx, scale2 = new BandScale()) {\n    super(moduleCtx, scale2);\n    this._paddingOverrideEnabled = false;\n    this.groupPaddingInner = 0.1;\n    this.includeInvisibleDomains = true;\n  }\n  set paddingInner(value) {\n    this._paddingOverrideEnabled = true;\n    this.scale.paddingInner = value;\n  }\n  get paddingInner() {\n    this._paddingOverrideEnabled = true;\n    return this.scale.paddingInner;\n  }\n  set paddingOuter(value) {\n    this.scale.paddingOuter = value;\n  }\n  get paddingOuter() {\n    return this.scale.paddingOuter;\n  }\n  createTick() {\n    return new CategoryAxisTick();\n  }\n  normaliseDataDomain(d) {\n    const domain = [];\n    const uniqueValues = /* @__PURE__ */new Set();\n    for (const v of d) {\n      const key = v instanceof Date ? v.getTime() : v;\n      if (!uniqueValues.has(key)) {\n        uniqueValues.add(key);\n        domain.push(v);\n      }\n    }\n    return {\n      domain,\n      clipped: false\n    };\n  }\n  calculateDomain() {\n    if (!this._paddingOverrideEnabled) {\n      const paddings = this.boundSeries.map(s => {\n        var _a;\n        return (_a = s.getBandScalePadding) == null ? void 0 : _a.call(s);\n      }).filter(p => p != null);\n      if (paddings.length > 0) {\n        this.scale.paddingInner = Math.min(...paddings.map(p => p.inner));\n        this.scale.paddingOuter = Math.max(...paddings.map(p => p.outer));\n      }\n    }\n    return super.calculateDomain();\n  }\n};\nCategoryAxis.className = \"CategoryAxis\";\nCategoryAxis.type = \"category\";\n__decorateClass([Validate(RATIO)], CategoryAxis.prototype, \"groupPaddingInner\", 2);\n\n// packages/ag-charts-community/src/chart/axis/tree.ts\nvar TreeNode = class {\n  // current number in sibling group (index)\n  constructor(label = \"\", parent, number = 0) {\n    this.x = 0;\n    this.y = 0;\n    this.subtreeLeft = NaN;\n    this.subtreeRight = NaN;\n    this.screenX = 0;\n    this.screenY = 0;\n    this.children = [];\n    this.leafCount = 0;\n    this.prelim = 0;\n    this.mod = 0;\n    this.ancestor = this;\n    this.change = 0;\n    this.shift = 0;\n    this.label = label;\n    this.parent = parent;\n    this.depth = parent ? parent.depth + 1 : 0;\n    this.number = number;\n  }\n  getLeftSibling() {\n    return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : void 0;\n  }\n  getLeftmostSibling() {\n    return this.number > 0 && this.parent ? this.parent.children[0] : void 0;\n  }\n  // traverse the left contour of a subtree, return the successor of v on this contour\n  nextLeft() {\n    return this.children ? this.children[0] : this.thread;\n  }\n  // traverse the right contour of a subtree, return the successor of v on this contour\n  nextRight() {\n    return this.children ? this.children[this.children.length - 1] : this.thread;\n  }\n  getSiblings() {\n    return this.parent ? this.parent.children.filter((_, i) => i !== this.number) : [];\n  }\n};\nfunction ticksToTree(ticks, pad2 = true) {\n  const root = new TreeNode();\n  let depth = 0;\n  if (pad2) {\n    ticks.forEach(tick => depth = Math.max(depth, tick.labels.length));\n  }\n  ticks.forEach(tick => {\n    if (pad2) {\n      while (tick.labels.length < depth) {\n        tick.labels.unshift(\"\");\n      }\n    }\n    insertTick(root, tick);\n  });\n  return root;\n}\nfunction insertTick(root, tick) {\n  const pathParts = tick.labels.slice().reverse();\n  const lastPartIndex = pathParts.length - 1;\n  pathParts.forEach((pathPart, partIndex) => {\n    const children = root.children;\n    const existingNode = children.find(child => child.label === pathPart);\n    const isNotLeaf = partIndex !== lastPartIndex;\n    if (existingNode && isNotLeaf) {\n      root = existingNode;\n    } else {\n      const node = new TreeNode(pathPart, root);\n      node.number = children.length;\n      children.push(node);\n      if (isNotLeaf) {\n        root = node;\n      }\n    }\n  });\n}\nfunction moveSubtree(wm, wp, shift) {\n  const subtrees = wp.number - wm.number;\n  const ratio = shift / subtrees;\n  wp.change -= ratio;\n  wp.shift += shift;\n  wm.change += ratio;\n  wp.prelim += shift;\n  wp.mod += shift;\n}\nfunction ancestor(vim, v, defaultAncestor) {\n  return v.getSiblings().indexOf(vim.ancestor) >= 0 ? vim.ancestor : defaultAncestor;\n}\nfunction executeShifts(v) {\n  const children = v.children;\n  if (children) {\n    let shift = 0;\n    let change = 0;\n    for (let i = children.length - 1; i >= 0; i--) {\n      const w = children[i];\n      w.prelim += shift;\n      w.mod += shift;\n      change += w.change;\n      shift += w.shift + change;\n    }\n  }\n}\nfunction apportion(v, defaultAncestor, distance2) {\n  const w = v.getLeftSibling();\n  if (w) {\n    let vop = v;\n    let vip = v;\n    let vim = w;\n    let vom = vip.getLeftmostSibling();\n    let sip = vip.mod;\n    let sop = vop.mod;\n    let sim = vim.mod;\n    let som = vom.mod;\n    while (vim.nextRight() && vip.nextLeft()) {\n      vim = vim.nextRight();\n      vip = vip.nextLeft();\n      vom = vom.nextLeft();\n      vop = vop.nextRight();\n      vop.ancestor = v;\n      const shift = vim.prelim + sim - (vip.prelim + sip) + distance2;\n      if (shift > 0) {\n        moveSubtree(ancestor(vim, v, defaultAncestor), v, shift);\n        sip += shift;\n        sop += shift;\n      }\n      sim += vim.mod;\n      sip += vip.mod;\n      som += vom.mod;\n      sop += vop.mod;\n    }\n    if (vim.nextRight() && !vop.nextRight()) {\n      vop.thread = vim.nextRight();\n      vop.mod += sim - sop;\n    } else {\n      if (vip.nextLeft() && !vom.nextLeft()) {\n        vom.thread = vip.nextLeft();\n        vom.mod += sip - som;\n      }\n      defaultAncestor = v;\n    }\n  }\n  return defaultAncestor;\n}\nfunction firstWalk(node, distance2) {\n  const children = node.children;\n  if (children.length) {\n    let defaultAncestor = children[0];\n    children.forEach(child => {\n      firstWalk(child, distance2);\n      defaultAncestor = apportion(child, defaultAncestor, distance2);\n    });\n    executeShifts(node);\n    const midpoint = (children[0].prelim + children.at(-1).prelim) / 2;\n    const leftSibling = node.getLeftSibling();\n    if (leftSibling) {\n      node.prelim = leftSibling.prelim + distance2;\n      node.mod = node.prelim - midpoint;\n    } else {\n      node.prelim = midpoint;\n    }\n  } else {\n    const leftSibling = node.getLeftSibling();\n    node.prelim = leftSibling ? leftSibling.prelim + distance2 : 0;\n  }\n}\nvar Dimensions = class {\n  constructor() {\n    this.top = Infinity;\n    this.right = -Infinity;\n    this.bottom = -Infinity;\n    this.left = Infinity;\n  }\n  update(node, xy) {\n    const {\n      x,\n      y\n    } = xy(node);\n    if (x > this.right) {\n      this.right = x;\n    }\n    if (x < this.left) {\n      this.left = x;\n    }\n    if (y > this.bottom) {\n      this.bottom = y;\n    }\n    if (y < this.top) {\n      this.top = y;\n    }\n  }\n};\nfunction secondWalk(v, m, layout) {\n  v.x = v.prelim + m;\n  v.y = v.depth;\n  layout.update(v);\n  v.children.forEach(w => secondWalk(w, m + v.mod, layout));\n}\nfunction thirdWalk(v) {\n  const children = v.children;\n  let leafCount = 0;\n  children.forEach(w => {\n    thirdWalk(w);\n    if (w.children.length) {\n      leafCount += w.leafCount;\n    } else {\n      leafCount++;\n    }\n  });\n  v.leafCount = leafCount;\n  if (children.length) {\n    v.subtreeLeft = children[0].subtreeLeft;\n    v.subtreeRight = children[v.children.length - 1].subtreeRight;\n    v.x = (v.subtreeLeft + v.subtreeRight) / 2;\n  } else {\n    v.subtreeLeft = v.x;\n    v.subtreeRight = v.x;\n  }\n}\nfunction treeLayout(root) {\n  const layout = new TreeLayout();\n  firstWalk(root, 1);\n  secondWalk(root, -root.prelim, layout);\n  thirdWalk(root);\n  return layout;\n}\nvar TreeLayout = class {\n  constructor() {\n    this.dimensions = new Dimensions();\n    this.leafCount = 0;\n    this.nodes = [];\n    // One might want to process leaf nodes separately from the rest of the tree.\n    // For example, position labels corresponding to leafs vertically, rather than horizontally.\n    this.leafNodes = [];\n    this.nonLeafNodes = [];\n    this.depth = 0;\n  }\n  update(node) {\n    this.dimensions.update(node, n => ({\n      x: n.x,\n      y: n.y\n    }));\n    if (node.children.length) {\n      this.nonLeafNodes.push(node);\n    } else {\n      this.leafCount++;\n      this.leafNodes.push(node);\n    }\n    if (node.depth > this.depth) {\n      this.depth = node.depth;\n    }\n    this.nodes.push(node);\n  }\n  resize(width, height, shiftX = 0, shiftY = 0, flipX = false) {\n    const xSteps = this.leafCount - 1;\n    const ySteps = this.depth;\n    const dimensions = this.dimensions;\n    let scalingX = 1;\n    let scalingY = 1;\n    if (width > 0 && xSteps) {\n      const existingSpacingX = (dimensions.right - dimensions.left) / xSteps;\n      const desiredSpacingX = width / xSteps;\n      scalingX = desiredSpacingX / existingSpacingX;\n      if (flipX) {\n        scalingX = -scalingX;\n      }\n    }\n    if (height > 0 && ySteps) {\n      const existingSpacingY = (dimensions.bottom - dimensions.top) / ySteps;\n      const desiredSpacingY = height / ySteps;\n      scalingY = desiredSpacingY / existingSpacingY;\n    }\n    const screenDimensions = new Dimensions();\n    this.nodes.forEach(node => {\n      node.screenX = node.x * scalingX;\n      node.screenY = node.y * scalingY;\n      screenDimensions.update(node, n => ({\n        x: n.screenX,\n        y: n.screenY\n      }));\n    });\n    const offsetX = -screenDimensions.left;\n    const offsetY = -screenDimensions.top;\n    this.nodes.forEach(node => {\n      node.screenX += offsetX + shiftX;\n      node.screenY += offsetY + shiftY;\n    });\n  }\n};\n\n// packages/ag-charts-community/src/chart/axis/groupedCategoryAxis.ts\nvar GroupedCategoryAxisLabel = class extends AxisLabel {\n  constructor() {\n    super(...arguments);\n    this.grid = false;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], GroupedCategoryAxisLabel.prototype, \"grid\", 2);\nvar GroupedCategoryAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new BandScale());\n    // Label scale (labels are positioned between ticks, tick count = label count + 1).\n    // We don't call is `labelScale` for consistency with other axes.\n    this.tickScale = new BandScale();\n    this.line = new AxisLine();\n    this.label = new GroupedCategoryAxisLabel();\n    this.labelColor = \"rgba(87, 87, 87, 1)\";\n    this.includeInvisibleDomains = true;\n    const {\n      tickLineGroup,\n      tickLabelGroup,\n      gridLineGroup,\n      tickScale,\n      scale: scale2\n    } = this;\n    scale2.paddingOuter = 0.1;\n    scale2.paddingInner = scale2.paddingOuter * 2;\n    this.refreshScale();\n    tickScale.paddingInner = 1;\n    tickScale.paddingOuter = 0;\n    this.gridLineSelection = Selection.select(gridLineGroup, Line);\n    this.axisLineSelection = Selection.select(tickLineGroup, Line);\n    this.separatorSelection = Selection.select(tickLineGroup, Line);\n    this.labelSelection = Selection.select(tickLabelGroup, Text);\n  }\n  updateRange() {\n    const {\n      range: rr,\n      visibleRange: vr,\n      scale: scale2\n    } = this;\n    const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n    const shift = span * vr[0];\n    const start = rr[0] - shift;\n    this.tickScale.range = scale2.range = [start, start + span];\n    this.resizeTickTree();\n  }\n  resizeTickTree() {\n    var _a;\n    const s = this.scale;\n    const range3 = s.domain.length ? [s.convert(s.domain[0]), s.convert(s.domain[s.domain.length - 1])] : s.range;\n    const layout = this.tickTreeLayout;\n    const lineHeight = this.lineHeight;\n    if (layout) {\n      layout.resize(Math.abs(range3[1] - range3[0]), layout.depth * lineHeight, (Math.min(range3[0], range3[1]) || 0) + ((_a = s.bandwidth) != null ? _a : 0) / 2, -layout.depth * lineHeight, range3[1] - range3[0] < 0);\n    }\n  }\n  get lineHeight() {\n    return this.label.fontSize * 1.5;\n  }\n  /**\n   * The length of the grid. The grid is only visible in case of a non-zero value.\n   */\n  onGridVisibilityChange() {\n    this.gridLineSelection.clear();\n    this.labelSelection.clear();\n  }\n  createTick() {\n    return new CategoryAxisTick();\n  }\n  calculateDomain() {\n    var _a;\n    const {\n      direction\n    } = this;\n    let isNumericX = null;\n    const flatDomains = this.boundSeries.filter(s => s.visible).flatMap(series => {\n      if (direction === \"y\" /* Y */ || isNumericX) {\n        return series.getDomain(direction);\n      }\n      if (isNumericX === null) {\n        const domain2 = series.getDomain(direction);\n        isNumericX = isNumber(domain2[0]);\n        return domain2;\n      }\n      return [];\n    });\n    this.setDomain((_a = extent(flatDomains)) != null ? _a : unique(flatDomains));\n    const {\n      domain\n    } = this.dataDomain;\n    this.tickTreeLayout = treeLayout(ticksToTree(domain));\n    this.tickScale.domain = domain.concat(\"\");\n    this.resizeTickTree();\n  }\n  /**\n   * Creates/removes/updates the scene graph nodes that constitute the axis.\n   * Supposed to be called _manually_ after changing _any_ of the axis properties.\n   * This allows to bulk set axis properties before updating the nodes.\n   * The node changes made by this method are rendered on the next animation frame.\n   * We could schedule this method call automatically on the next animation frame\n   * when any of the axis properties change (the way we do when properties of scene graph's\n   * nodes change), but this will mean that we first wait for the next animation\n   * frame to make changes to the nodes of the axis, then wait for another animation\n   * frame to render those changes. It's nice to have everything update automatically,\n   * but this extra level of async indirection will not just introduce an unwanted delay,\n   * it will also make it harder to reason about the program.\n   */\n  update() {\n    if (!this.computedLayout) {\n      return;\n    }\n    this.updatePosition();\n    this.updateTitleCaption();\n    this.updateCategoryLabels();\n    this.updateSeparators();\n    this.updateAxisLines();\n    this.updateCategoryGridLines();\n    this.resetSelectionNodes();\n  }\n  updateTitleCaption() {\n    const {\n      _titleCaption\n    } = this;\n    _titleCaption.node.visible = false;\n  }\n  updateCategoryLabels() {\n    if (!this.computedLayout) return;\n    const {\n      tickLabelLayout\n    } = this.computedLayout;\n    const labelSelection = this.labelSelection.update(tickLabelLayout);\n    labelSelection.each((node, datum) => {\n      node.setProperties(datum);\n    });\n  }\n  updateSeparators() {\n    if (!this.computedLayout) return;\n    const {\n      separatorLayout\n    } = this.computedLayout;\n    const {\n      range: range3\n    } = this;\n    const epsilon2 = 1e-7;\n    const separatorSelection = this.separatorSelection.update(separatorLayout);\n    separatorSelection.each((line, datum) => {\n      line.x1 = datum.x1;\n      line.x2 = datum.x2;\n      line.y1 = datum.y;\n      line.y2 = datum.y;\n      line.visible = datum.y >= range3[0] - epsilon2 && datum.y <= range3[1] + epsilon2;\n      line.stroke = this.tick.color;\n      line.fill = void 0;\n      line.strokeWidth = 1;\n    });\n  }\n  updateAxisLines() {\n    if (!this.computedLayout) return;\n    const {\n      axisLineLayout\n    } = this.computedLayout;\n    const axisLineSelection = this.axisLineSelection.update(axisLineLayout);\n    axisLineSelection.each((line, datum) => {\n      line.setProperties(__spreadProps(__spreadValues({}, datum), {\n        stroke: this.line.color,\n        strokeWidth: this.line.width\n      }));\n      line.x1 = datum.x;\n      line.x2 = datum.x;\n      line.y1 = datum.y1;\n      line.y2 = datum.y2;\n      line.strokeWidth = this.line.width;\n      line.stroke = this.line.color;\n    });\n  }\n  updateCategoryGridLines() {\n    const {\n      gridLength,\n      gridLine,\n      label,\n      range: range3,\n      tickScale\n    } = this;\n    const ticks = tickScale.ticks();\n    const sideFlag = label.getSideFlag();\n    const gridSelection = this.gridLineSelection.update(gridLength ? ticks : []);\n    if (gridLength) {\n      const {\n        width,\n        style\n      } = gridLine;\n      const styleCount = style.length;\n      gridSelection.each((line, datum, index) => {\n        const y = Math.round(tickScale.convert(datum));\n        line.x1 = 0;\n        line.x2 = -sideFlag * gridLength;\n        line.y1 = y;\n        line.y2 = y;\n        line.visible = y >= range3[0] && y <= range3[1];\n        const {\n          stroke,\n          lineDash\n        } = style[index % styleCount];\n        line.stroke = stroke;\n        line.strokeWidth = width;\n        line.lineDash = lineDash;\n        line.fill = void 0;\n      });\n    }\n  }\n  computeLayout() {\n    this.updateDirection();\n    this.calculateDomain();\n    this.updateRange();\n    const {\n      scale: scale2,\n      label,\n      label: {\n        parallel\n      },\n      moduleCtx: {\n        callbackCache\n      },\n      range: range3,\n      title,\n      title: {\n        formatter = p => p.defaultValue\n      } = {}\n    } = this;\n    const rangeStart = scale2.range[0];\n    const rangeEnd = scale2.range[1];\n    const rangeLength = Math.abs(rangeEnd - rangeStart);\n    const bandwidth = rangeLength / scale2.domain.length || 0;\n    const keepEvery = Math.ceil(label.fontSize / bandwidth);\n    const rotation = toRadians(this.rotation);\n    const isHorizontal = Math.abs(Math.cos(rotation)) < 1e-8;\n    const sideFlag = label.getSideFlag();\n    const lineHeight = this.lineHeight;\n    const tickTreeLayout = this.tickTreeLayout;\n    const labels = scale2.ticks();\n    const treeLabels = tickTreeLayout ? tickTreeLayout.nodes : [];\n    const isLabelTree = tickTreeLayout ? tickTreeLayout.depth > 1 : false;\n    const {\n      defaultRotation,\n      configuredRotation,\n      parallelFlipFlag\n    } = calculateLabelRotation({\n      rotation: label.rotation,\n      parallel,\n      regularFlipRotation: normalizeAngle360(rotation - Math.PI / 2),\n      parallelFlipRotation: normalizeAngle360(rotation)\n    });\n    const tickLabelLayout = [];\n    const copyLabelProps = node => {\n      return {\n        fill: node.fill,\n        fontFamily: node.fontFamily,\n        fontSize: node.fontSize,\n        fontStyle: node.fontStyle,\n        fontWeight: node.fontWeight,\n        rotation: node.rotation,\n        rotationCenterX: node.rotationCenterX,\n        rotationCenterY: node.rotationCenterY,\n        text: node.text,\n        textAlign: node.textAlign,\n        textBaseline: node.textBaseline,\n        translationX: node.translationX,\n        translationY: node.translationY,\n        visible: node.visible,\n        x: node.x,\n        y: node.y\n      };\n    };\n    const labelBBoxes = /* @__PURE__ */new Map();\n    let maxLeafLabelWidth = 0;\n    const tempText = new Text();\n    const setLabelProps = (datum, index) => {\n      var _a;\n      tempText.setProperties({\n        fill: label.color,\n        fontFamily: label.fontFamily,\n        fontSize: label.fontSize,\n        fontStyle: label.fontStyle,\n        fontWeight: label.fontWeight,\n        textAlign: \"center\",\n        textBaseline: parallelFlipFlag === -1 ? \"bottom\" : \"hanging\",\n        translationX: datum.screenY - label.fontSize * 0.25,\n        translationY: datum.screenX\n      });\n      if (index === 0) {\n        const isCaptionEnabled = (title == null ? void 0 : title.enabled) && labels.length > 0;\n        if (!isCaptionEnabled) {\n          return false;\n        }\n        const text = callbackCache.call(formatter, this.getTitleFormatterParams());\n        tempText.setProperties({\n          fill: title.color,\n          fontFamily: title.fontFamily,\n          fontSize: title.fontSize,\n          fontStyle: title.fontStyle,\n          fontWeight: title.fontWeight,\n          text,\n          textBaseline: \"hanging\",\n          translationX: datum.screenY - label.fontSize * 0.25,\n          translationY: datum.screenX\n        });\n      } else if (index % keepEvery === 0) {\n        const isInRange = datum.screenX >= range3[0] && datum.screenX <= range3[1];\n        if (!isInRange) {\n          return false;\n        }\n        if (label.formatter) {\n          tempText.text = (_a = callbackCache.call(label.formatter, {\n            value: String(datum.label),\n            index\n          })) != null ? _a : String(datum.label);\n        } else {\n          tempText.text = String(datum.label);\n        }\n      } else {\n        return false;\n      }\n      return true;\n    };\n    treeLabels.forEach((datum, index) => {\n      const isVisible = setLabelProps(datum, index);\n      if (!isVisible) return;\n      const bbox2 = tempText.computeTransformedBBox();\n      if (!bbox2) return;\n      labelBBoxes.set(index, bbox2);\n      const isLeaf = !datum.children.length;\n      if (isLeaf && bbox2.width > maxLeafLabelWidth) {\n        maxLeafLabelWidth = bbox2.width;\n      }\n    });\n    const labelX = sideFlag * label.padding;\n    const labelGrid = this.label.grid;\n    const separatorData = [];\n    treeLabels.forEach((datum, index) => {\n      let visible = setLabelProps(datum, index);\n      const id = index;\n      tempText.x = labelX;\n      tempText.rotationCenterX = labelX;\n      const isLeaf = !datum.children.length;\n      if (isLeaf) {\n        tempText.rotation = configuredRotation;\n        tempText.textAlign = \"end\";\n        tempText.textBaseline = \"middle\";\n      } else {\n        tempText.translationX -= maxLeafLabelWidth - lineHeight + this.label.padding;\n        const availableRange = datum.leafCount * bandwidth;\n        const bbox2 = labelBBoxes.get(id);\n        if (bbox2 && bbox2.width > availableRange) {\n          visible = false;\n          labelBBoxes.delete(id);\n        } else if (isHorizontal) {\n          tempText.rotation = defaultRotation;\n        } else {\n          tempText.rotation = -Math.PI / 2;\n        }\n      }\n      if (datum.parent && isLabelTree) {\n        const y = isLeaf ? datum.screenX - bandwidth / 2 : datum.screenX - datum.leafCount * bandwidth / 2;\n        if (isLeaf) {\n          if (datum.number !== datum.children.length - 1 || labelGrid) {\n            separatorData.push({\n              y,\n              x1: 0,\n              x2: -maxLeafLabelWidth - this.label.padding * 2\n            });\n          }\n        } else {\n          const x = -maxLeafLabelWidth - this.label.padding * 2 + datum.screenY;\n          separatorData.push({\n            y,\n            x1: x + lineHeight,\n            x2: x\n          });\n        }\n      }\n      let props;\n      if (visible) {\n        const bbox2 = tempText.computeTransformedBBox();\n        if (bbox2) {\n          labelBBoxes.set(index, bbox2);\n        }\n        props = __spreadProps(__spreadValues({}, copyLabelProps(tempText)), {\n          visible\n        });\n      } else {\n        labelBBoxes.delete(index);\n        props = {\n          visible\n        };\n      }\n      tickLabelLayout.push(props);\n    });\n    let minX = 0;\n    separatorData.forEach(d => minX = Math.min(minX, d.x2));\n    separatorData.push({\n      y: Math.max(rangeStart, rangeEnd),\n      x1: 0,\n      x2: minX\n    });\n    const separatorLayout = [];\n    const separatorBoxes = [];\n    const epsilon2 = 1e-7;\n    separatorData.forEach(datum => {\n      if (datum.y >= range3[0] - epsilon2 && datum.y <= range3[1] + epsilon2) {\n        const {\n          x1,\n          x2,\n          y\n        } = datum;\n        const separatorBox = new BBox(Math.min(x1, x2), y, Math.abs(x1 - x2), 0);\n        separatorBoxes.push(separatorBox);\n        separatorLayout.push({\n          x1,\n          x2,\n          y\n        });\n      }\n    });\n    const axisLineLayout = [];\n    const axisLineBoxes = [];\n    const lineCount = tickTreeLayout ? tickTreeLayout.depth + 1 : 1;\n    for (let i = 0; i < lineCount; i++) {\n      const visible = labels.length > 0 && (i === 0 || labelGrid && isLabelTree);\n      const x = i > 0 ? -maxLeafLabelWidth - this.label.padding * 2 - (i - 1) * lineHeight : 0;\n      const lineBox = new BBox(x, Math.min(...range3), 0, Math.abs(range3[1] - range3[0]));\n      axisLineBoxes.push(lineBox);\n      axisLineLayout.push({\n        x,\n        y1: range3[0],\n        y2: range3[1],\n        visible\n      });\n    }\n    const getTransformBox = bbox2 => {\n      const matrix = new Matrix();\n      const {\n        rotation: axisRotation,\n        translationX,\n        translationY,\n        rotationCenterX,\n        rotationCenterY\n      } = this.getAxisTransform();\n      Matrix.updateTransformMatrix(matrix, 1, 1, axisRotation, translationX, translationY, {\n        scalingCenterX: 0,\n        scalingCenterY: 0,\n        rotationCenterX,\n        rotationCenterY\n      });\n      return matrix.transformBBox(bbox2);\n    };\n    const bbox = BBox.merge([...labelBBoxes.values(), ...separatorBoxes, ...axisLineBoxes]);\n    const transformedBBox = getTransformBox(bbox);\n    return {\n      bbox: transformedBBox,\n      tickLabelLayout,\n      separatorLayout,\n      axisLineLayout\n    };\n  }\n  calculateLayout() {\n    const {\n      axisLineLayout,\n      separatorLayout,\n      tickLabelLayout,\n      bbox\n    } = this.computeLayout();\n    this.computedLayout = {\n      axisLineLayout,\n      separatorLayout,\n      tickLabelLayout\n    };\n    return {\n      bbox,\n      primaryTickCount: void 0\n    };\n  }\n};\nGroupedCategoryAxis.className = \"GroupedCategoryAxis\";\nGroupedCategoryAxis.type = \"grouped-category\";\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], GroupedCategoryAxis.prototype, \"labelColor\", 2);\n\n// packages/ag-charts-community/src/util/userAgent.ts\nfunction hasConstrainedCanvasMemory() {\n  if (typeof navigator === \"undefined\") {\n    return false;\n  }\n  const iPhoneOSMatch = navigator.userAgent.match(/\\(iPhone; CPU iPhone OS (\\d+_\\d+_\\d+) like Mac OS X\\)/);\n  if (iPhoneOSMatch == null) {\n    return false;\n  }\n  const [major, minor] = iPhoneOSMatch[1].split(\"_\").map(Number);\n  return major < 16 || major === 16 && minor < 6;\n}\n\n// packages/ag-charts-community/src/scene/canvas/hdpiCanvas.ts\nvar _HdpiCanvas = class _HdpiCanvas {\n  constructor(options) {\n    this.enabled = true;\n    this.width = 600;\n    this.height = 300;\n    const {\n      width,\n      height,\n      pixelRatio,\n      position,\n      insertAsFirstChild\n    } = options;\n    this.insertAsFirstChild = insertAsFirstChild != null ? insertAsFirstChild : false;\n    this.pixelRatio = hasConstrainedCanvasMemory() ? 1 : pixelRatio != null ? pixelRatio : getWindow(\"devicePixelRatio\");\n    this.element = createElement(\"canvas\");\n    this.element.width = Math.round((width != null ? width : this.width) * this.pixelRatio);\n    this.element.height = Math.round((height != null ? height : this.height) * this.pixelRatio);\n    if (position) {\n      this.element.style.position = position;\n    }\n    this.context = this.element.getContext(\"2d\");\n    this.onEnabledChange();\n    this.resize(width != null ? width : 0, height != null ? height : 0);\n    _HdpiCanvas.debugContext(this.context);\n  }\n  static is(value) {\n    return value instanceof _HdpiCanvas;\n  }\n  drawImage(context, dx = 0, dy = 0) {\n    return context.drawImage(this.context.canvas, dx, dy);\n  }\n  toDataURL(type) {\n    return this.element.toDataURL(type);\n  }\n  resize(width, height) {\n    if (!(width > 0 && height > 0)) return;\n    const {\n      element: element2,\n      context,\n      pixelRatio\n    } = this;\n    element2.width = Math.round(width * pixelRatio);\n    element2.height = Math.round(height * pixelRatio);\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    element2.style.width = width + \"px\";\n    element2.style.height = height + \"px\";\n    this.width = width;\n    this.height = height;\n  }\n  snapshot() {}\n  clear() {\n    this.context.save();\n    this.context.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n    this.context.clearRect(0, 0, this.width, this.height);\n    this.context.restore();\n  }\n  destroy() {\n    this.element.remove();\n    this.element.width = 0;\n    this.element.height = 0;\n    this.context.clearRect(0, 0, 0, 0);\n    Object.freeze(this);\n  }\n  onContainerChange(newValue, oldValue) {\n    var _a, _b, _c, _d;\n    if (newValue === oldValue) return;\n    (_a = this.element.parentNode) == null ? void 0 : _a.removeChild(this.element);\n    if (this.insertAsFirstChild && ((_b = this.container) == null ? void 0 : _b.firstChild)) {\n      (_c = this.container) == null ? void 0 : _c.insertBefore(this.element, this.container.firstChild);\n    } else {\n      (_d = this.container) == null ? void 0 : _d.appendChild(this.element);\n    }\n  }\n  onEnabledChange() {\n    if (this.element) {\n      this.element.style.display = this.enabled ? \"block\" : \"none\";\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n  static debugContext(ctx) {\n    if (Debug.check(\"canvas\")) {\n      const save = ctx.save.bind(ctx);\n      const restore = ctx.restore.bind(ctx);\n      let depth = 0;\n      Object.assign(ctx, {\n        save() {\n          save();\n          depth++;\n        },\n        restore() {\n          if (depth === 0) {\n            throw new Error(\"AG Charts - Unable to restore() past depth 0\");\n          }\n          restore();\n          depth--;\n        },\n        verifyDepthZero() {\n          if (depth !== 0) {\n            throw new Error(`AG Charts - Save/restore depth is non-zero: ${depth}`);\n          }\n        }\n      });\n    }\n  }\n};\n__decorateClass([ObserveChanges(target => target.onEnabledChange())], _HdpiCanvas.prototype, \"enabled\", 2);\n__decorateClass([ObserveChanges((target, newValue, oldValue) => target.onContainerChange(newValue, oldValue))], _HdpiCanvas.prototype, \"container\", 2);\nvar HdpiCanvas = _HdpiCanvas;\n\n// packages/ag-charts-community/src/scene/layersManager.ts\nvar LayersManager = class _LayersManager {\n  constructor(canvas, markDirty) {\n    this.canvas = canvas;\n    this.markDirty = markDirty;\n    this.debug = Debug.create(true, \"scene\");\n    this.layersMap = /* @__PURE__ */new Map();\n    this.nextZIndex = 0;\n    this.nextLayerId = 0;\n  }\n  static sortLayers(a, b) {\n    var _a, _b;\n    return compoundAscending([a.zIndex, ...((_a = a.zIndexSubOrder) != null ? _a : [void 0, void 0]), a.id], [b.zIndex, ...((_b = b.zIndexSubOrder) != null ? _b : [void 0, void 0]), b.id], ascendingStringNumberUndefined);\n  }\n  get size() {\n    return this.layersMap.size;\n  }\n  forEach(callback) {\n    Array.from(this.layersMap.values()).sort(_LayersManager.sortLayers).forEach(callback);\n  }\n  resize(width, height) {\n    this.canvas.resize(width, height);\n    this.layersMap.forEach(({\n      canvas\n    }) => canvas.resize(width, height));\n  }\n  addLayer(opts) {\n    const {\n      width,\n      height,\n      pixelRatio\n    } = this.canvas;\n    const {\n      zIndex = this.nextZIndex++,\n      name,\n      zIndexSubOrder,\n      getComputedOpacity,\n      getVisibility\n    } = opts;\n    const canvas = new HdpiCanvas({\n      width,\n      height,\n      pixelRatio,\n      position: \"absolute\"\n    });\n    const newLayer = {\n      id: this.nextLayerId++,\n      name,\n      canvas,\n      zIndex,\n      zIndexSubOrder,\n      getComputedOpacity,\n      getVisibility\n    };\n    if (zIndex >= this.nextZIndex) {\n      this.nextZIndex = zIndex + 1;\n    }\n    this.layersMap.set(canvas, newLayer);\n    this.debug(\"Scene.addLayer() - layers\", this.layersMap);\n    return newLayer.canvas;\n  }\n  removeLayer(canvas) {\n    if (this.layersMap.has(canvas)) {\n      this.layersMap.delete(canvas);\n      canvas.destroy();\n      this.markDirty();\n      this.debug(\"Scene.removeLayer() -  layers\", this.layersMap);\n    }\n  }\n  moveLayer(canvas, newZIndex, newZIndexSubOrder) {\n    const layer = this.layersMap.get(canvas);\n    if (layer) {\n      layer.zIndex = newZIndex;\n      layer.zIndexSubOrder = newZIndexSubOrder;\n      this.markDirty();\n      this.debug(\"Scene.moveLayer() -  layers\", this.layersMap);\n    }\n  }\n  clear() {\n    this.layersMap.clear();\n  }\n};\n\n// packages/ag-charts-community/src/scene/sceneDebug.ts\nfunction debugStats(layersManager, debugSplitTimes, ctx, renderCtxStats, extraDebugStats = {}) {\n  if (!Debug.check(\"scene:stats\" /* SCENE_STATS */, \"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */)) return;\n  const {\n    layersRendered = 0,\n    layersSkipped = 0,\n    nodesRendered = 0,\n    nodesSkipped = 0\n  } = renderCtxStats != null ? renderCtxStats : {};\n  const end = performance.now();\n  const _a = debugSplitTimes,\n    {\n      start\n    } = _a,\n    durations = __objRest(_a, [\"start\"]);\n  const splits = Object.entries(durations).map(([n, t]) => {\n    return time(n, t);\n  }).filter(v => v != null).join(\" + \");\n  const extras = Object.entries(extraDebugStats).map(([k, v]) => `${k}: ${v}`).join(\" ; \");\n  const detailedStats = Debug.check(\"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */);\n  const stats = [`${time(\"\\u23F1\\uFE0F\", start, end)} (${splits})`, `${extras}`, `Layers: ${detailedStats ? pct(layersRendered, layersSkipped) : layersManager.size}`, detailedStats ? `Nodes: ${pct(nodesRendered, nodesSkipped)}` : null].filter(isString);\n  const statsSize = new Map(stats.map(t => [t, Text.getTextSize(t, ctx.font)]));\n  const width = Math.max(...Array.from(statsSize.values(), s => s.width));\n  const height = accumulate(statsSize.values(), s => s.height);\n  ctx.save();\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(0, 0, width, height);\n  ctx.fillStyle = \"black\";\n  let y = 0;\n  for (const [stat, size] of statsSize.entries()) {\n    y += size.height;\n    ctx.fillText(stat, 2, y);\n  }\n  ctx.restore();\n}\nfunction debugSceneNodeHighlight(ctx, debugNodes) {\n  ctx.save();\n  for (const [name, node] of Object.entries(debugNodes)) {\n    const bbox = node.computeTransformedBBox();\n    if (!bbox) {\n      Logger.log(`Scene.render() - no bbox for debugged node [${name}].`);\n      continue;\n    }\n    ctx.globalAlpha = 0.8;\n    ctx.strokeStyle = \"red\";\n    ctx.lineWidth = 1;\n    ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);\n    ctx.fillStyle = \"red\";\n    ctx.strokeStyle = \"white\";\n    ctx.font = \"16px sans-serif\";\n    ctx.textBaseline = \"top\";\n    ctx.textAlign = \"left\";\n    ctx.lineWidth = 2;\n    ctx.strokeText(name, bbox.x, bbox.y, bbox.width);\n    ctx.fillText(name, bbox.x, bbox.y, bbox.width);\n  }\n  ctx.restore();\n}\nfunction buildTree(node) {\n  var _a, _b;\n  if (!Debug.check(true, \"scene\" /* SCENE */)) return {};\n  return __spreadValues(__spreadValues({\n    node,\n    name: (_a = node instanceof Group ? node.name : null) != null ? _a : node.id,\n    dirty: RedrawType[node.dirty]\n  }, ((_b = node.parent) == null ? void 0 : _b.isVirtual) ? {\n    virtualParentDirty: RedrawType[node.parent.dirty],\n    virtualParent: node.parent\n  } : {}), node.children.map(c => buildTree(c)).reduce((result, childTree) => {\n    let {\n      name: treeNodeName\n    } = childTree;\n    const {\n      node: {\n        visible,\n        opacity,\n        zIndex,\n        zIndexSubOrder\n      },\n      node: childNode,\n      virtualParent\n    } = childTree;\n    if (!visible || opacity <= 0) {\n      treeNodeName = `(${treeNodeName})`;\n    }\n    if (childNode instanceof Group && childNode.isLayer()) {\n      treeNodeName = `*${treeNodeName}*`;\n    }\n    const key = [`${treeNodeName != null ? treeNodeName : \"<unknown>\"}`, `z: ${zIndex}`, zIndexSubOrder && `zo: ${zIndexSubOrder.map(v => typeof v === \"function\" ? `${v()} (fn)` : v).join(\" / \")}`, virtualParent && `(virtual parent)`].filter(v => !!v).join(\" \");\n    let selectedKey = key;\n    let index = 1;\n    while (result[selectedKey] != null && index < 100) {\n      selectedKey = `${key} (${index++})`;\n    }\n    result[selectedKey] = childTree;\n    return result;\n  }, {}));\n}\nfunction buildDirtyTree(node) {\n  var _a;\n  if (node.dirty === 0 /* NONE */) {\n    return {\n      dirtyTree: {},\n      paths: []\n    };\n  }\n  const childrenDirtyTree = node.children.map(c => buildDirtyTree(c)).filter(c => c.paths.length > 0);\n  const name = Group.is(node) ? (_a = node.name) != null ? _a : node.id : node.id;\n  const paths = childrenDirtyTree.length ? childrenDirtyTree.flatMap(c => c.paths).map(p => `${name}.${p}`) : [name];\n  return {\n    dirtyTree: __spreadValues({\n      name,\n      node,\n      dirty: RedrawType[node.dirty]\n    }, childrenDirtyTree.map(c => c.dirtyTree).filter(t => t.dirty != null).reduce((result, childTree) => {\n      var _a2;\n      result[(_a2 = childTree.name) != null ? _a2 : \"<unknown>\"] = childTree;\n      return result;\n    }, {})),\n    paths\n  };\n}\nfunction pct(rendered, skipped) {\n  const total = rendered + skipped;\n  return `${rendered} / ${total} (${Math.round(100 * rendered / total)}%)`;\n}\nfunction time(name, start, end) {\n  const duration = end != null ? end - start : start;\n  return `${name}: ${Math.round(duration * 100) / 100}ms`;\n}\nfunction accumulate(iterator, mapper) {\n  let sum2 = 0;\n  for (const item of iterator) {\n    sum2 += mapper(item);\n  }\n  return sum2;\n}\n\n// packages/ag-charts-community/src/scene/scene.ts\nvar Scene = class {\n  constructor({\n    width,\n    height,\n    pixelRatio,\n    canvasPosition\n  }) {\n    this.debug = Debug.create(true, \"scene\" /* SCENE */);\n    this.id = createId(this);\n    this.root = null;\n    this.isDirty = false;\n    this.canvas = new HdpiCanvas({\n      width,\n      height,\n      pixelRatio,\n      position: canvasPosition,\n      insertAsFirstChild: canvasPosition === \"absolute\"\n    });\n    this.layersManager = new LayersManager(this.canvas, () => {\n      this.isDirty = true;\n    });\n  }\n  get width() {\n    var _a, _b;\n    return (_b = (_a = this.pendingSize) == null ? void 0 : _a[0]) != null ? _b : this.canvas.width;\n  }\n  get height() {\n    var _a, _b;\n    return (_b = (_a = this.pendingSize) == null ? void 0 : _a[1]) != null ? _b : this.canvas.height;\n  }\n  setContainer(value) {\n    this.canvas.container = value;\n    return this;\n  }\n  setRoot(node) {\n    var _a;\n    if (this.root === node) {\n      return this;\n    }\n    this.isDirty = true;\n    (_a = this.root) == null ? void 0 : _a._setLayerManager();\n    this.root = node;\n    if (node) {\n      node.visible = true;\n      node._setLayerManager(this.layersManager);\n    }\n    return this;\n  }\n  attachNode(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.appendChild(node);\n    return () => this.removeChild(node);\n  }\n  appendChild(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.appendChild(node);\n    return this;\n  }\n  removeChild(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.removeChild(node);\n    return this;\n  }\n  download(fileName, fileFormat) {\n    var _a;\n    downloadUrl(this.canvas.toDataURL(fileFormat), (_a = fileName == null ? void 0 : fileName.trim()) != null ? _a : \"image\");\n  }\n  /** NOTE: Integrated Charts undocumented image download method. */\n  getDataURL(fileFormat) {\n    return this.canvas.toDataURL(fileFormat);\n  }\n  resize(width, height) {\n    width = Math.round(width);\n    height = Math.round(height);\n    if (width > 0 && height > 0 && (width !== this.width || height !== this.height)) {\n      this.pendingSize = [width, height];\n      this.isDirty = true;\n      return true;\n    }\n    return false;\n  }\n  render(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const {\n        debugSplitTimes = {\n          start: performance.now()\n        },\n        extraDebugStats\n      } = opts != null ? opts : {};\n      const {\n        canvas,\n        canvas: {\n          context: ctx\n        } = {},\n        root,\n        pendingSize\n      } = this;\n      if (!ctx) {\n        return;\n      }\n      const renderStartTime = performance.now();\n      if (pendingSize) {\n        this.layersManager.resize(...pendingSize);\n        this.pendingSize = void 0;\n      }\n      if (root && !root.visible) {\n        this.isDirty = false;\n        return;\n      }\n      if (root && !this.isDirty) {\n        if (this.debug.check()) {\n          this.debug(\"Scene.render() - no-op\", {\n            redrawType: RedrawType[root.dirty],\n            tree: buildTree(root)\n          });\n        }\n        debugStats(this.layersManager, debugSplitTimes, ctx, void 0, extraDebugStats);\n        return;\n      }\n      const renderCtx = {\n        ctx,\n        devicePixelRatio: (_a = this.canvas.pixelRatio) != null ? _a : 1,\n        forceRender: true,\n        resized: Boolean(pendingSize),\n        debugNodes: {}\n      };\n      if (Debug.check(\"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */)) {\n        renderCtx.stats = {\n          layersRendered: 0,\n          layersSkipped: 0,\n          nodesRendered: 0,\n          nodesSkipped: 0\n        };\n      }\n      let canvasCleared = false;\n      if (!root || root.dirty >= 1 /* TRIVIAL */) {\n        canvasCleared = true;\n        canvas.clear();\n      }\n      if (root && Debug.check(\"scene:dirtyTree\" /* SCENE_DIRTY_TREE */)) {\n        const {\n          dirtyTree,\n          paths\n        } = buildDirtyTree(root);\n        Debug.create(\"scene:dirtyTree\" /* SCENE_DIRTY_TREE */)(\"Scene.render() - dirtyTree\", {\n          dirtyTree,\n          paths\n        });\n      }\n      if (root && canvasCleared) {\n        this.debug(\"Scene.render() - before\", {\n          redrawType: RedrawType[root.dirty],\n          canvasCleared,\n          tree: buildTree(root)\n        });\n        if (root.visible) {\n          root.preRender();\n          ctx.save();\n          root.render(renderCtx);\n          ctx.restore();\n        }\n      }\n      debugSplitTimes[\"\\u270D\\uFE0F\"] = performance.now() - renderStartTime;\n      if (this.layersManager.size && canvasCleared) {\n        const layerRenderStart = performance.now();\n        ctx.save();\n        ctx.resetTransform();\n        this.layersManager.forEach(layer => {\n          if (layer.canvas.enabled && layer.getVisibility()) {\n            ctx.globalAlpha = layer.getComputedOpacity();\n            layer.canvas.drawImage(ctx);\n          }\n        });\n        ctx.restore();\n        debugSplitTimes[\"\\u26D9\"] = performance.now() - layerRenderStart;\n      }\n      (_b = ctx.verifyDepthZero) == null ? void 0 : _b.call(ctx);\n      this.isDirty = false;\n      debugStats(this.layersManager, debugSplitTimes, ctx, renderCtx.stats, extraDebugStats);\n      debugSceneNodeHighlight(ctx, renderCtx.debugNodes);\n      if (root && this.debug.check()) {\n        this.debug(\"Scene.render() - after\", {\n          redrawType: RedrawType[root.dirty],\n          tree: buildTree(root),\n          canvasCleared\n        });\n      }\n    });\n  }\n  /** Alternative to destroy() that preserves re-usable resources. */\n  strip() {\n    const {\n      context,\n      pixelRatio\n    } = this.canvas;\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    this.layersManager.clear();\n    this.setRoot(null);\n    this.isDirty = false;\n  }\n  destroy() {\n    this.canvas.container = void 0;\n    this.strip();\n    this.canvas.destroy();\n    Object.assign(this, {\n      canvas: void 0\n    });\n  }\n};\nScene.className = \"Scene\";\n\n// packages/ag-charts-community/src/styles/icons.ts\nvar icons_default = `\n[class^='ag-charts-icon'] {\n    display: block;\n    /* speak: none; */\n    mask-size: contain;\n    mask-repeat: no-repeat;\n    background-color: currentColor;\n}\n\n.ag-charts-icon-zoom-in {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+);\n}\n\n.ag-charts-icon-zoom-out {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-reset {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXJvdGF0ZS1jY3ciPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDEgMCA5LTkgOS43NSA5Ljc1IDAgMCAwLTYuNzQgMi43NEwzIDgiLz48cGF0aCBkPSJNMyAzdjVoNSIvPjwvc3ZnPg==);\n}\n\n.ag-charts-icon-pan-left {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGVmdCI+PHBhdGggZD0ibTE1IDE4LTYtNiA2LTYiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-pan-right {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tcmlnaHQiPjxwYXRoIGQ9Im05IDE4IDYtNi02LTYiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-pan-start {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==);\n}\n\n.ag-charts-icon-pan-end {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+);\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/reset.ts\nvar reset_default = `\n[class^='ag-charts'],\n[class^='ag-charts']:focus,\n[class^='ag-charts']:after,\n[class^='ag-charts']:before {\n    box-sizing: border-box;\n    outline: none;\n}\n\nbutton[class^='ag-charts'] {\n    background: none;\n    border: 0;\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/theme-default.ts\nvar theme_default_default = `\n.ag-charts-theme-default,\n.ag-charts-theme-default-dark {\n    /* Colors */\n    --ag-charts-active-color: var(--ag-active-color, #2196f3);\n    --ag-charts-background-color: var(--ag-background-color, #fff);\n    --ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);\n    --ag-charts-border-color: var(--ag-border-color, #dddddd);\n\n    /* Sizing */\n    --ag-charts-font-size: var(--ag-font-size, 14px);\n    --ag-charts-size: var(--ag-grid-size, 8px);\n\n    /* Borders */\n    --ag-charts-border: var(--ag-borders, solid 1px);\n    --ag-charts-border-critical: var(--ag-borders-critical, solid 1px);\n\n    /* Toolbar */\n    --ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));\n    --ag-charts-toolbar-background-color: var(\n        --ag-header-background-color,\n        color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%)\n    );\n    --ag-charts-toolbar-size: var(--ag-header-height, 48px);\n    --ag-charts-toolbar-padding: calc(var(--ag-charts-size) * 2);\n    --ag-charts-toolbar-border: var(--ag-charts-border, solid 1px) var(--ag-charts-border-color);\n    --ag-charts-toolbar-border-critical: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);\n    --ag-charts-toolbar-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);\n    --ag-charts-toolbar-disabled-foreground-color: var(\n        --ag-disabled-foreground-color,\n        color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%)\n    );\n    --ag-charts-toolbar-disabled-background-color: var(\n        --ag-input-disabled-background-color,\n        color-mix(in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6%)\n    );\n    --ag-charts-toolbar-gap: var(--ag-charts-size);\n\n    /* Buttons */\n    --ag-charts-button-padding: var(--ag-charts-size);\n    --ag-charts-button-radius: var(--ag-border-radius, 4px);\n\n    /* Focus Indicator */\n    --ag-charts-focus-border: solid 2px var(--ag-input-focus-border-color, var(--ag-charts-active-color));\n    --ag-charts-focus-border-shadow: var(--ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-focus-border) 47%));\n\n    /* Icons */\n    --ag-charts-icon-font-family: 'agChartsDefault';\n    --ag-charts-icon-font-weight: normal;\n    --ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/theme-default-dark.ts\nvar theme_default_dark_default = `\n.ag-charts-theme-default-dark {\n    /* Colors */\n    --ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));\n    --ag-charts-foreground-color: var(--ag-foreground-color, #fff);\n    --ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, 0.16));\n    --ag-charts-hover-color: var(\n        --ag-row-hover-color,\n        color-mix(in srgb, transparent, var(--ag-charts-active-color) 20%)\n    );\n\n    /* Toolbar */\n    --ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/styles.ts\nvar styles_default = `\n/* Reset */\n${reset_default}\n\n/* Icons */\n${icons_default}\n\n/* AG Charts Theme Default */\n${theme_default_default}\n\n/* AG Charts Theme Default Dark */\n${theme_default_dark_default}\n`;\n\n// packages/ag-charts-community/src/util/async.ts\nfunction sleep(sleepTimeoutMs) {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(void 0), sleepTimeoutMs);\n  });\n}\n\n// packages/ag-charts-community/src/util/mutex.ts\nvar Mutex = class {\n  constructor() {\n    this.available = true;\n    this.acquireQueue = [];\n  }\n  acquire(cb) {\n    return new Promise(resolve => {\n      this.acquireQueue.push([cb, resolve]);\n      if (this.available) {\n        this.dispatchNext().catch(e => Logger.errorOnce(e));\n      }\n    });\n  }\n  acquireImmediately(cb) {\n    return __async(this, null, function* () {\n      if (!this.available) {\n        return false;\n      }\n      yield this.acquire(cb);\n      return true;\n    });\n  }\n  waitForClearAcquireQueue() {\n    return __async(this, null, function* () {\n      return this.acquire(() => __async(this, null, function* () {\n        return void 0;\n      }));\n    });\n  }\n  dispatchNext() {\n    return __async(this, null, function* () {\n      var _a, _b;\n      this.available = false;\n      let [next, done] = (_a = this.acquireQueue.shift()) != null ? _a : [];\n      while (next) {\n        try {\n          yield next();\n          done == null ? void 0 : done();\n        } catch (error) {\n          Logger.error(\"mutex callback error\", error);\n          done == null ? void 0 : done();\n        }\n        [next, done] = (_b = this.acquireQueue.shift()) != null ? _b : [];\n      }\n      this.available = true;\n    });\n  }\n};\n\n// packages/ag-charts-community/src/util/observable.ts\nvar Observable = class {\n  constructor() {\n    this.eventListeners = /* @__PURE__ */new Map();\n  }\n  addEventListener(eventType, listener) {\n    if (typeof listener !== \"function\") {\n      throw new Error(\"AG Charts - listener must be a Function\");\n    }\n    const eventTypeListeners = this.eventListeners.get(eventType);\n    if (eventTypeListeners) {\n      eventTypeListeners.add(listener);\n    } else {\n      this.eventListeners.set(eventType, /* @__PURE__ */new Set([listener]));\n    }\n  }\n  removeEventListener(type, listener) {\n    var _a;\n    (_a = this.eventListeners.get(type)) == null ? void 0 : _a.delete(listener);\n    if (this.eventListeners.size === 0) {\n      this.eventListeners.delete(type);\n    }\n  }\n  hasEventListener(type) {\n    return this.eventListeners.has(type);\n  }\n  clearEventListeners() {\n    this.eventListeners.clear();\n  }\n  fireEvent(event) {\n    var _a;\n    (_a = this.eventListeners.get(event.type)) == null ? void 0 : _a.forEach(listener => listener(event));\n  }\n};\n\n// packages/ag-charts-community/src/util/padding.ts\nvar Padding = class extends BaseProperties {\n  constructor(top = 0, right = top, bottom = top, left = right) {\n    super();\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n  clear() {\n    this.top = this.right = this.bottom = this.left = 0;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER)], Padding.prototype, \"top\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Padding.prototype, \"right\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Padding.prototype, \"bottom\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Padding.prototype, \"left\", 2);\n\n// packages/ag-charts-community/src/util/render.ts\nfunction debouncedAnimationFrame(cb) {\n  return buildScheduler((innerCb, _delayMs) => requestAnimationFrame(innerCb), cb);\n}\nfunction debouncedCallback(cb) {\n  return buildScheduler((innerCb, delayMs = 0) => setTimeout(innerCb, delayMs), cb);\n}\nfunction buildScheduler(scheduleFn, cb) {\n  let scheduleCount = 0;\n  let promiseRunning = false;\n  let awaitingPromise;\n  let awaitingDone;\n  const busy = () => {\n    return promiseRunning;\n  };\n  const done = () => {\n    promiseRunning = false;\n    awaitingDone == null ? void 0 : awaitingDone();\n    awaitingDone = void 0;\n    awaitingPromise = void 0;\n    if (scheduleCount > 0) {\n      scheduleFn(scheduleCb);\n    }\n  };\n  const scheduleCb = () => {\n    const count = scheduleCount;\n    scheduleCount = 0;\n    promiseRunning = true;\n    const maybePromise = cb({\n      count\n    });\n    if (!maybePromise) {\n      done();\n      return;\n    }\n    maybePromise.then(done, done);\n  };\n  return {\n    schedule(delayMs) {\n      if (scheduleCount === 0 && !busy()) {\n        scheduleFn(scheduleCb, delayMs);\n      }\n      scheduleCount++;\n    },\n    await() {\n      return __async(this, null, function* () {\n        if (!busy()) {\n          return;\n        }\n        if (awaitingPromise == null) {\n          awaitingPromise = new Promise(resolve => {\n            awaitingDone = resolve;\n          });\n        }\n        while (busy()) {\n          yield awaitingPromise;\n        }\n      });\n    }\n  };\n}\n\n// packages/ag-charts-community/src/util/sizeMonitor.ts\nvar SizeMonitor = class {\n  constructor() {\n    this.elements = /* @__PURE__ */new Map();\n    this.documentReady = false;\n    this.queuedObserveRequests = [];\n    this.onLoad = () => {\n      this.documentReady = true;\n      this.queuedObserveRequests.forEach(([el, cb]) => this.observe(el, cb));\n      this.queuedObserveRequests = [];\n    };\n    var _a;\n    if (typeof ResizeObserver === \"undefined\") return;\n    this.resizeObserver = new ResizeObserver(entries => {\n      for (const {\n        target,\n        contentRect\n      } of entries) {\n        const {\n          width,\n          height\n        } = contentRect;\n        this.checkSize(this.elements.get(target), target, width, height);\n      }\n    });\n    this.documentReady = getDocument(\"readyState\") === \"complete\";\n    if (!this.documentReady) {\n      (_a = getWindow()) == null ? void 0 : _a.addEventListener(\"load\", this.onLoad);\n    }\n  }\n  destroy() {\n    var _a, _b;\n    (_a = getWindow()) == null ? void 0 : _a.removeEventListener(\"load\", this.onLoad);\n    (_b = this.resizeObserver) == null ? void 0 : _b.disconnect();\n    this.resizeObserver = null;\n  }\n  checkSize(entry, element2, width, height) {\n    var _a, _b;\n    if (!entry) return;\n    if (width !== ((_a = entry.size) == null ? void 0 : _a.width) || height !== ((_b = entry.size) == null ? void 0 : _b.height)) {\n      entry.size = {\n        width,\n        height\n      };\n      entry.cb(entry.size, element2);\n    }\n  }\n  // Only a single callback is supported.\n  observe(element2, cb) {\n    var _a;\n    if (!this.documentReady) {\n      this.queuedObserveRequests.push([element2, cb]);\n      return;\n    }\n    if (this.elements.has(element2)) {\n      this.removeFromQueue(element2);\n    } else {\n      (_a = this.resizeObserver) == null ? void 0 : _a.observe(element2);\n    }\n    this.elements.set(element2, {\n      cb\n    });\n  }\n  unobserve(element2) {\n    var _a;\n    (_a = this.resizeObserver) == null ? void 0 : _a.unobserve(element2);\n    this.elements.delete(element2);\n    this.removeFromQueue(element2);\n    if (!this.elements.size) {\n      this.destroy();\n    }\n  }\n  removeFromQueue(element2) {\n    this.queuedObserveRequests = this.queuedObserveRequests.filter(([el]) => el !== element2);\n  }\n};\n\n// packages/ag-charts-community/src/util/callbackCache.ts\nvar CallbackCache = class {\n  constructor() {\n    this.cache = /* @__PURE__ */new WeakMap();\n  }\n  call(fn, ...params) {\n    let serialisedParams;\n    let paramCache = this.cache.get(fn);\n    const invoke = () => {\n      try {\n        const result = fn(...params);\n        if (paramCache && serialisedParams != null) {\n          paramCache.set(serialisedParams, result);\n        }\n        return result;\n      } catch (e) {\n        Logger.warnOnce(`User callback errored, ignoring`, e);\n        return;\n      }\n    };\n    try {\n      serialisedParams = JSON.stringify(params);\n    } catch (e) {\n      return invoke();\n    }\n    if (paramCache == null) {\n      paramCache = /* @__PURE__ */new Map();\n      this.cache.set(fn, paramCache);\n    }\n    if (!paramCache.has(serialisedParams)) {\n      return invoke();\n    }\n    return paramCache.get(serialisedParams);\n  }\n  invalidateCache() {\n    this.cache = /* @__PURE__ */new WeakMap();\n  }\n};\n\n// packages/ag-charts-community/src/chart/annotation/annotationManager.ts\nvar AnnotationManager = class {\n  constructor(annotationRoot) {\n    this.annotationRoot = annotationRoot;\n  }\n  attachNode(node) {\n    this.annotationRoot.append(node);\n    return () => {\n      var _a;\n      (_a = this.annotationRoot) == null ? void 0 : _a.removeChild(node);\n      return this;\n    };\n  }\n  setAnnotationStyles(styles) {\n    this.styles = styles;\n  }\n  getAnnotationTypeStyles(type) {\n    var _a;\n    return (_a = this.styles) == null ? void 0 : _a[type];\n  }\n};\n\n// packages/ag-charts-community/src/util/listeners.ts\nvar Listeners = class {\n  constructor() {\n    this.registeredListeners = /* @__PURE__ */new Map();\n  }\n  addListener(eventType, handler) {\n    const record = {\n      symbol: Symbol(eventType),\n      handler\n    };\n    if (this.registeredListeners.has(eventType)) {\n      this.registeredListeners.get(eventType).push(record);\n    } else {\n      this.registeredListeners.set(eventType, [record]);\n    }\n    return () => this.removeListener(record.symbol);\n  }\n  removeListener(eventSymbol) {\n    for (const [type, listeners] of this.registeredListeners.entries()) {\n      const matchIndex = listeners.findIndex(listener => listener.symbol === eventSymbol);\n      if (matchIndex >= 0) {\n        listeners.splice(matchIndex, 1);\n        if (listeners.length === 0) {\n          this.registeredListeners.delete(type);\n        }\n        break;\n      }\n    }\n  }\n  dispatch(eventType, ...params) {\n    for (const listener of this.getListenersByType(eventType)) {\n      try {\n        listener.handler(...params);\n      } catch (e) {\n        Logger.errorOnce(e);\n      }\n    }\n  }\n  dispatchWrapHandlers(eventType, wrapFn, ...params) {\n    for (const listener of this.getListenersByType(eventType)) {\n      try {\n        wrapFn(listener.handler, ...params);\n      } catch (e) {\n        Logger.errorOnce(e);\n      }\n    }\n  }\n  getListenersByType(eventType) {\n    var _a;\n    return (_a = this.registeredListeners.get(eventType)) != null ? _a : [];\n  }\n  destroy() {\n    this.registeredListeners.clear();\n  }\n};\n\n// packages/ag-charts-community/src/chart/data/dataService.ts\nvar DataService = class extends Listeners {\n  constructor(animationManager) {\n    super();\n    this.animationManager = animationManager;\n    this.dispatchOnlyLatest = true;\n    this.dispatchThrottle = 0;\n    this.requestThrottle = 300;\n    this.isLoadingInitialData = false;\n    this.isLoadingData = false;\n    this.freshRequests = [];\n    this.requestCounter = 0;\n    this.debug = Debug.create(true, \"data-model\", \"data-source\");\n    this.throttledFetch = this.createThrottledFetch(this.requestThrottle);\n    this.throttledDispatch = this.createThrottledDispatch(this.dispatchThrottle);\n  }\n  updateCallback(dataSourceCallback) {\n    if (typeof dataSourceCallback !== \"function\") return;\n    this.debug(\"DataService - updated data source callback\");\n    this.dataSourceCallback = dataSourceCallback;\n    this.isLoadingInitialData = true;\n    this.animationManager.skip();\n    this.dispatch(\"data-source-change\");\n  }\n  clearCallback() {\n    this.dataSourceCallback = void 0;\n  }\n  load(params) {\n    this.isLoadingData = true;\n    this.throttledFetch(params);\n  }\n  isLazy() {\n    return this.dataSourceCallback != null;\n  }\n  isLoading() {\n    return this.isLazy() && (this.isLoadingInitialData || this.isLoadingData);\n  }\n  createThrottledFetch(requestThrottle) {\n    return throttle(params => this.fetch(params), requestThrottle, {\n      leading: false,\n      trailing: true\n    });\n  }\n  createThrottledDispatch(dispatchThrottle) {\n    return throttle((id, data) => {\n      this.debug(`DataService - dispatching 'data-load' | ${id}`);\n      this.dispatch(\"data-load\", {\n        type: \"data-load\",\n        data\n      });\n    }, dispatchThrottle, {\n      leading: true,\n      trailing: true\n    });\n  }\n  fetch(params) {\n    return __async(this, null, function* () {\n      if (!this.dataSourceCallback) {\n        throw new Error(\"DataService - [dataSource.getData] callback not initialised\");\n      }\n      const start = performance.now();\n      const id = this.requestCounter++;\n      this.debug(`DataService - requesting | ${id}`);\n      this.freshRequests.push(id);\n      let response;\n      try {\n        response = yield this.dataSourceCallback(params);\n        this.debug(`DataService - response | ${performance.now() - start}ms | ${id}`);\n      } catch (error) {\n        this.debug(`DataService - request failed | ${id}`);\n        Logger.errorOnce(`DataService - request failed | [${error}]`);\n      }\n      this.isLoadingInitialData = false;\n      const requestIndex = this.freshRequests.findIndex(rid => rid === id);\n      if (requestIndex === -1 || this.dispatchOnlyLatest && requestIndex !== this.freshRequests.length - 1) {\n        this.debug(`DataService - discarding stale request | ${id}`);\n        return;\n      }\n      this.freshRequests = this.freshRequests.slice(requestIndex + 1);\n      if (this.freshRequests.length === 0) {\n        this.isLoadingData = false;\n      }\n      if (Array.isArray(response)) {\n        this.throttledDispatch(id, response);\n      } else {\n        this.dispatch(\"data-error\");\n      }\n    });\n  }\n};\n__decorateClass([ActionOnSet({\n  newValue(dispatchThrottle) {\n    this.throttledDispatch = this.createThrottledDispatch(dispatchThrottle);\n  }\n})], DataService.prototype, \"dispatchThrottle\", 2);\n__decorateClass([ActionOnSet({\n  newValue(requestThrottle) {\n    this.throttledFetch = this.createThrottledFetch(requestThrottle);\n  }\n})], DataService.prototype, \"requestThrottle\", 2);\n\n// packages/ag-charts-community/src/chart/interaction/animationBatch.ts\nvar AnimationBatch = class {\n  constructor(maxAnimationTime) {\n    this.maxAnimationTime = maxAnimationTime;\n    this.debug = Debug.create(true, \"animation\");\n    this.controllers = /* @__PURE__ */new Map();\n    this.stoppedCbs = /* @__PURE__ */new Set();\n    this.currentPhase = 0;\n    this.phases = new Map(PHASE_ORDER.map(p => [p, []]));\n    this.skipAnimations = false;\n    this.animationTimeConsumed = 0;\n    /** Guard against premature animation execution. */\n    this.isReady = false;\n  }\n  get size() {\n    return this.controllers.size;\n  }\n  get consumedTimeMs() {\n    return this.animationTimeConsumed;\n  }\n  isActive() {\n    return this.controllers.size > 0;\n  }\n  getActiveControllers() {\n    var _a;\n    return (_a = this.phases.get(PHASE_ORDER[this.currentPhase])) != null ? _a : [];\n  }\n  checkOverlappingId(id) {\n    if (id != null && this.controllers.has(id)) {\n      this.controllers.get(id).stop();\n      this.debug(`Skipping animation batch due to update of existing animation: ${id}`);\n      this.skip();\n    }\n  }\n  addAnimation(animation) {\n    var _a;\n    if (animation.isComplete) return;\n    const animationPhaseIdx = PHASE_ORDER.indexOf(animation.phase);\n    if (animationPhaseIdx < this.currentPhase) {\n      this.debug(`Skipping animation due to being for an earlier phase`, animation.id);\n      animation.stop();\n      return;\n    }\n    this.controllers.set(animation.id, animation);\n    (_a = this.phases.get(animation.phase)) == null ? void 0 : _a.push(animation);\n  }\n  removeAnimation(animation) {\n    this.controllers.delete(animation.id);\n    const phase = this.phases.get(animation.phase);\n    const index = phase == null ? void 0 : phase.indexOf(animation);\n    if (index != null && index >= 0) {\n      phase == null ? void 0 : phase.splice(index, 1);\n    }\n  }\n  progress(deltaTime) {\n    if (!this.isReady) return;\n    let unusedTime = deltaTime === 0 ? 0.01 : deltaTime;\n    const refresh = () => {\n      const phase2 = PHASE_ORDER[this.currentPhase];\n      return {\n        phaseControllers: [...this.getActiveControllers()],\n        phase: phase2,\n        phaseMeta: PHASE_METADATA[phase2]\n      };\n    };\n    let {\n      phase,\n      phaseControllers,\n      phaseMeta\n    } = refresh();\n    const arePhasesComplete = () => PHASE_ORDER[this.currentPhase] == null;\n    const progressPhase = () => {\n      ({\n        phase,\n        phaseControllers,\n        phaseMeta\n      } = refresh());\n      while (!arePhasesComplete() && phaseControllers.length === 0) {\n        this.currentPhase++;\n        ({\n          phase,\n          phaseControllers,\n          phaseMeta\n        } = refresh());\n        this.debug(`AnimationBatch - phase changing to ${phase}`, {\n          unusedTime\n        }, phaseControllers);\n      }\n    };\n    const total = this.controllers.size;\n    this.debug(`AnimationBatch - ${deltaTime}ms; phase ${phase} with ${phaseControllers == null ? void 0 : phaseControllers.length} of ${total}`);\n    do {\n      const phaseDeltaTime = unusedTime;\n      const skipPhase = phaseMeta.skipIfNoEarlierAnimations && this.animationTimeConsumed === 0;\n      let completeCount = 0;\n      for (const controller of phaseControllers) {\n        if (skipPhase) {\n          controller.stop();\n        } else {\n          unusedTime = Math.min(controller.update(phaseDeltaTime), unusedTime);\n        }\n        if (controller.isComplete) {\n          completeCount++;\n          this.removeAnimation(controller);\n        }\n      }\n      this.animationTimeConsumed += phaseDeltaTime - unusedTime;\n      this.debug(`AnimationBatch - updated ${phaseControllers.length} controllers; ${completeCount} completed`);\n      this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`);\n      progressPhase();\n    } while (unusedTime > 0 && !arePhasesComplete());\n    if (this.animationTimeConsumed > this.maxAnimationTime) {\n      Logger.warnOnce(\"Animation batch exceeded max animation time, skipping.\", new Map(this.controllers.entries()));\n      this.stop();\n    }\n  }\n  ready() {\n    if (this.isReady) return;\n    this.isReady = true;\n    this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`, [...this.controllers]);\n    let skipAll = true;\n    for (const [, controller] of this.controllers) {\n      if (controller.duration > 0 && PHASE_METADATA[controller.phase].skipIfNoEarlierAnimations !== true) {\n        skipAll = false;\n        break;\n      }\n    }\n    if (!skipAll) {\n      for (const [, controller] of this.controllers) {\n        if (controller.autoplay) {\n          controller.play(true);\n        }\n      }\n    }\n  }\n  skip(skip = true) {\n    if (this.skipAnimations === false && skip === true) {\n      for (const controller of this.controllers.values()) {\n        controller.stop();\n      }\n      this.controllers.clear();\n    }\n    this.skipAnimations = skip;\n  }\n  play() {\n    for (const controller of this.controllers.values()) {\n      controller.play();\n    }\n  }\n  pause() {\n    for (const controller of this.controllers.values()) {\n      controller.pause();\n    }\n  }\n  stop() {\n    for (const controller of this.controllers.values()) {\n      try {\n        controller.stop();\n        this.removeAnimation(controller);\n      } catch (error) {\n        Logger.error(\"Error during animation stop\", error);\n      }\n    }\n    this.dispatchStopped();\n  }\n  stopByAnimationId(id) {\n    if (id != null && this.controllers.has(id)) {\n      const controller = this.controllers.get(id);\n      if (controller) {\n        controller.stop();\n        this.removeAnimation(controller);\n      }\n    }\n  }\n  stopByAnimationGroupId(id) {\n    for (const controller of this.controllers.values()) {\n      if (controller.groupId === id) {\n        this.stopByAnimationId(controller.id);\n      }\n    }\n  }\n  dispatchStopped() {\n    this.stoppedCbs.forEach(cb => cb());\n    this.stoppedCbs.clear();\n  }\n  isSkipped() {\n    return this.skipAnimations;\n  }\n  destroy() {\n    this.stop();\n    this.controllers.clear();\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/baseManager.ts\nvar BaseManager = class {\n  constructor() {\n    this.listeners = new Listeners();\n    this.destroyFns = [];\n  }\n  addListener(type, handler) {\n    return this.listeners.addListener(type, handler);\n  }\n  removeListener(listenerSymbol) {\n    this.listeners.removeListener(listenerSymbol);\n  }\n  destroy() {\n    this.listeners.destroy();\n    this.destroyFns.forEach(fn => fn());\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/consumableEvent.ts\nfunction buildConsumable(obj) {\n  const builtEvent = __spreadProps(__spreadValues({}, obj), {\n    consumed: false,\n    consume() {\n      var _a, _b;\n      builtEvent.consumed = true;\n      if (obj.sourceEvent instanceof Event) {\n        (_a = obj.sourceEvent) == null ? void 0 : _a.preventDefault();\n      } else {\n        (_b = obj.sourceEvent) == null ? void 0 : _b.consume();\n      }\n    }\n  });\n  return builtEvent;\n}\nfunction buildConsumptionHandler() {\n  return (handler, e) => {\n    if (!e.consumed) {\n      handler(e);\n    }\n  };\n}\nfunction dispatchTypedConsumable(listeners, type, event) {\n  listeners.dispatchWrapHandlers(type, buildConsumptionHandler(), event);\n}\n\n// packages/ag-charts-community/src/chart/interaction/interactionManager.ts\nvar POINTER_INTERACTION_TYPES = [\"click\", \"dblclick\", \"contextmenu\", \"hover\", \"drag-start\", \"drag\", \"drag-end\", \"leave\", \"enter\", \"page-left\", \"wheel\"];\nvar FOCUS_INTERACTION_TYPES = [\"blur\", \"focus\"];\nvar KEY_INTERACTION_TYPES = [\"keydown\", \"keyup\"];\nvar WINDOW_EVENT_HANDLERS = [\"pagehide\", \"mousemove\", \"mouseup\"];\nvar EVENT_HANDLERS = [\"click\", \"dblclick\", \"contextmenu\", \"mousedown\", \"mouseout\", \"mouseenter\", \"touchstart\", \"touchmove\", \"touchend\", \"touchcancel\", \"wheel\", \"blur\", \"focus\", \"keydown\", \"keyup\"];\nvar CSS = `\n.ag-chart-wrapper {\n    touch-action: none;\n}\n`;\nvar InteractionState = /* @__PURE__ */(InteractionState2 => {\n  InteractionState2[InteractionState2[\"Default\"] = 16] = \"Default\";\n  InteractionState2[InteractionState2[\"ZoomDrag\"] = 8] = \"ZoomDrag\";\n  InteractionState2[InteractionState2[\"Annotations\"] = 4] = \"Annotations\";\n  InteractionState2[InteractionState2[\"ContextMenu\"] = 2] = \"ContextMenu\";\n  InteractionState2[InteractionState2[\"Animation\"] = 1] = \"Animation\";\n  InteractionState2[InteractionState2[\"All\"] = 31] = \"All\";\n  return InteractionState2;\n})(InteractionState || {});\nvar _InteractionManager = class _InteractionManager extends BaseManager {\n  constructor(keyboardOptions, element2) {\n    super();\n    this.keyboardOptions = keyboardOptions;\n    this.debug = Debug.create(true, \"interaction\");\n    this.eventHandler = event => this.processEvent(event);\n    this.mouseDown = false;\n    this.touchDown = false;\n    this.clickHistory = [{\n      offsetX: NaN,\n      offsetY: NaN,\n      type: \"mousedown\"\n    }];\n    this.dblclickHistory = [{\n      offsetX: NaN,\n      offsetY: NaN,\n      type: \"mousedown\"\n    }, {\n      offsetX: NaN,\n      offsetY: NaN,\n      type: \"mouseup\"\n    }, {\n      offsetX: NaN,\n      offsetY: NaN,\n      type: \"mousedown\"\n    }];\n    this.stateQueue = 16 /* Default */ | 1 /* Animation */;\n    this.rootElement = getDocument(\"body\");\n    this.element = element2;\n    for (const type of EVENT_HANDLERS) {\n      if (type.startsWith(\"touch\")) {\n        element2.addEventListener(type, this.eventHandler, {\n          passive: true\n        });\n      } else if (type === \"wheel\") {\n        element2.addEventListener(type, this.eventHandler, {\n          passive: false\n        });\n      } else {\n        element2.addEventListener(type, this.eventHandler);\n      }\n    }\n    for (const type of WINDOW_EVENT_HANDLERS) {\n      getWindow().addEventListener(type, this.eventHandler);\n    }\n    injectStyle(CSS, \"interactionManager\");\n  }\n  destroy() {\n    super.destroy();\n    for (const type of WINDOW_EVENT_HANDLERS) {\n      getWindow().removeEventListener(type, this.eventHandler);\n    }\n    for (const type of EVENT_HANDLERS) {\n      this.element.removeEventListener(type, this.eventHandler);\n    }\n  }\n  // Wrapper to only broadcast events when the InteractionManager is a given state.\n  addListener(type, handler, triggeringStates = 16 /* Default */) {\n    return super.addListener(type, e => {\n      const currentState = this.getState();\n      if (currentState & triggeringStates) {\n        handler(e);\n      }\n    });\n  }\n  pushState(state) {\n    this.stateQueue |= state;\n  }\n  popState(state) {\n    this.stateQueue &= ~state;\n  }\n  getState() {\n    return this.stateQueue & -this.stateQueue;\n  }\n  processEvent(event) {\n    const types = this.decideInteractionEventTypes(event);\n    if (types.length > 0) {\n      this.dispatchEvent(event, types).catch(e => Logger.errorOnce(e));\n    }\n  }\n  dispatchEvent(event, types) {\n    return __async(this, null, function* () {\n      if (allInStringUnion(POINTER_INTERACTION_TYPES, types)) {\n        this.dispatchPointerEvent(event, types);\n      } else if (allInStringUnion(FOCUS_INTERACTION_TYPES, types)) {\n        for (const type of types) {\n          dispatchTypedConsumable(this.listeners, type, buildConsumable({\n            type,\n            sourceEvent: event\n          }));\n        }\n      } else if (allInStringUnion(KEY_INTERACTION_TYPES, types)) {\n        for (const type of types) {\n          dispatchTypedConsumable(this.listeners, type, buildConsumable({\n            type,\n            sourceEvent: event\n          }));\n        }\n      }\n    });\n  }\n  dispatchPointerEvent(event, types) {\n    const coords = this.calculateCoordinates(event);\n    if (coords == null) {\n      return;\n    }\n    for (const type of types) {\n      dispatchTypedConsumable(this.listeners, type, this.buildPointerEvent(__spreadValues({\n        type,\n        event\n      }, coords)));\n    }\n  }\n  recordDown(event) {\n    if (event instanceof MouseEvent) {\n      partialAssign([\"offsetX\", \"offsetY\"], this.clickHistory[0], event);\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[2], this.dblclickHistory[0]);\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[0], event);\n    }\n    this.dragStartElement = event.target;\n  }\n  recordUp(event) {\n    if (event instanceof MouseEvent) {\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[1], event);\n    }\n    this.dragStartElement = void 0;\n  }\n  decideInteractionEventTypes(event) {\n    const dragStart = \"drag-start\";\n    switch (event.type) {\n      case \"blur\":\n      case \"focus\":\n      case \"keydown\":\n      case \"keyup\":\n        return this.keyboardOptions.enabled ? [event.type] : [];\n      case \"click\":\n      case \"dblclick\":\n      case \"contextmenu\":\n      case \"wheel\":\n        return [event.type];\n      case \"mousedown\":\n        if (!this.isEventOverElement(event)) {\n          return [];\n        }\n        this.mouseDown = true;\n        this.recordDown(event);\n        return [dragStart];\n      case \"touchstart\":\n        if (!this.isEventOverElement(event)) {\n          return [];\n        }\n        this.touchDown = true;\n        this.recordDown(event);\n        return [dragStart];\n      case \"touchmove\":\n      case \"mousemove\":\n        if (!this.mouseDown && !this.touchDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        return this.mouseDown || this.touchDown ? [\"drag\"] : [\"hover\"];\n      case \"mouseup\":\n        if (!this.mouseDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        this.mouseDown = false;\n        this.recordUp(event);\n        return [\"drag-end\"];\n      case \"touchend\":\n        if (!this.touchDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        this.touchDown = false;\n        this.recordUp(event);\n        return [\"drag-end\"];\n      case \"mouseout\":\n      case \"touchcancel\":\n        return [\"leave\"];\n      case \"mouseenter\":\n        const mouseButtonDown = event instanceof MouseEvent && (event.buttons & 1) === 1;\n        if (this.mouseDown !== mouseButtonDown) {\n          this.mouseDown = mouseButtonDown;\n          return [mouseButtonDown ? dragStart : \"drag-end\"];\n        }\n        return [\"enter\"];\n      case \"pagehide\":\n        return [\"page-left\"];\n    }\n    return [];\n  }\n  isEventOverElement(event) {\n    var _a, _b, _c;\n    return event.target === this.element || ((_a = event.target) == null ? void 0 : _a.parentElement) === this.element || ((_c = (_b = event.target) == null ? void 0 : _b.parentElement) == null ? void 0 : _c.parentElement) === this.element;\n  }\n  calculateCoordinates(event) {\n    var _a;\n    if (event instanceof MouseEvent) {\n      return this.getMouseEventCoords(event);\n    } else if (typeof TouchEvent !== \"undefined\" && event instanceof TouchEvent) {\n      const lastTouch = (_a = event.touches[0]) != null ? _a : event.changedTouches[0];\n      const {\n        clientX,\n        clientY,\n        pageX,\n        pageY\n      } = lastTouch;\n      return __spreadProps(__spreadValues({}, _InteractionManager.NULL_COORDS), {\n        clientX,\n        clientY,\n        pageX,\n        pageY\n      });\n    } else if (event instanceof PageTransitionEvent) {\n      if (event.persisted) {\n        return;\n      }\n      return _InteractionManager.NULL_COORDS;\n    }\n  }\n  getMouseEventCoords(event) {\n    const {\n      clientX,\n      clientY,\n      pageX,\n      pageY\n    } = event;\n    let {\n      offsetX,\n      offsetY\n    } = event;\n    const offsets = el => {\n      let x = 0;\n      let y = 0;\n      while (el) {\n        x += el.offsetLeft;\n        y += el.offsetTop;\n        el = el.offsetParent;\n      }\n      return {\n        x,\n        y\n      };\n    };\n    if (this.dragStartElement != null && event.target !== this.dragStartElement) {\n      const offsetDragStart = offsets(this.dragStartElement);\n      const offsetEvent = offsets(event.target);\n      offsetX -= offsetDragStart.x - offsetEvent.x;\n      offsetY -= offsetDragStart.y - offsetEvent.y;\n    }\n    return {\n      clientX,\n      clientY,\n      pageX,\n      pageY,\n      offsetX,\n      offsetY\n    };\n  }\n  isWheelEvent(event) {\n    return event.type === \"wheel\";\n  }\n  buildPointerEvent(opts) {\n    const {\n      type,\n      event,\n      clientX,\n      clientY\n    } = opts;\n    let {\n      offsetX,\n      offsetY,\n      pageX,\n      pageY\n    } = opts;\n    if (!isFiniteNumber(offsetX) || !isFiniteNumber(offsetY)) {\n      const rect = this.element.getBoundingClientRect();\n      offsetX = clientX - rect.left;\n      offsetY = clientY - rect.top;\n    }\n    if (!isFiniteNumber(pageX) || !isFiniteNumber(pageY)) {\n      const pageRect = this.rootElement.getBoundingClientRect();\n      pageX = clientX - pageRect.left;\n      pageY = clientY - pageRect.top;\n    }\n    let [deltaX, deltaY] = [NaN, NaN];\n    if (this.isWheelEvent(event)) {\n      const factor = event.deltaMode === 0 ? 0.01 : 1;\n      deltaX = event.deltaX * factor;\n      deltaY = event.deltaY * factor;\n    }\n    let pointerHistory = [];\n    if (event.type === \"click\") {\n      pointerHistory = this.clickHistory;\n    } else if (event.type === \"dblclick\") {\n      pointerHistory = this.dblclickHistory;\n    }\n    const builtEvent = buildConsumable({\n      type,\n      offsetX,\n      offsetY,\n      pageX,\n      pageY,\n      deltaX,\n      deltaY,\n      pointerHistory,\n      sourceEvent: event\n    });\n    this.debug(\"InteractionManager - builtEvent: \", builtEvent);\n    return builtEvent;\n  }\n};\n_InteractionManager.NULL_COORDS = {\n  clientX: -Infinity,\n  clientY: -Infinity,\n  pageX: -Infinity,\n  pageY: -Infinity,\n  offsetX: -Infinity,\n  offsetY: -Infinity\n};\nvar InteractionManager = _InteractionManager;\n\n// packages/ag-charts-community/src/chart/interaction/animationManager.ts\nfunction validAnimationDuration(testee) {\n  if (testee == null) return true;\n  return !isNaN(testee) && testee >= 0 && testee <= 2;\n}\nvar AnimationManager = class extends BaseManager {\n  constructor(interactionManager, chartUpdateMutex) {\n    super();\n    this.interactionManager = interactionManager;\n    this.chartUpdateMutex = chartUpdateMutex;\n    this.defaultDuration = 1e3;\n    this.batch = new AnimationBatch(this.defaultDuration * 1.5);\n    this.debug = Debug.create(true, \"animation\");\n    this.rafAvailable = typeof requestAnimationFrame !== \"undefined\";\n    this.isPlaying = false;\n    this.requestId = null;\n    this.skipAnimations = false;\n  }\n  /**\n   * Create an animation to tween a value between the `from` and `to` properties. If an animation already exists\n   * with the same `id`, immediately stop it.\n   */\n  animate(_a) {\n    var opts = __objRest(_a, []);\n    var _a2;\n    const batch = this.batch;\n    try {\n      batch.checkOverlappingId(opts.id);\n    } catch (error) {\n      this.failsafeOnError(error);\n      return;\n    }\n    const id = (_a2 = opts.id) != null ? _a2 : Math.random().toString();\n    const skip = this.isSkipped() || opts.phase === \"none\";\n    if (skip) {\n      this.debug(\"AnimationManager - skipping animation\");\n    }\n    const {\n      delay,\n      duration\n    } = opts;\n    if (!validAnimationDuration(delay)) {\n      throw new Error(`Animation delay of ${delay} is unsupported (${id})`);\n    }\n    if (!validAnimationDuration(duration)) {\n      throw new Error(`Animation duration of ${duration} is unsupported (${id})`);\n    }\n    const animation = new Animation(__spreadProps(__spreadValues({}, opts), {\n      id,\n      skip,\n      autoplay: this.isPlaying ? opts.autoplay : false,\n      phase: opts.phase,\n      defaultDuration: this.defaultDuration\n    }));\n    if (this.forceTimeJump(animation, this.defaultDuration)) {\n      return;\n    }\n    this.batch.addAnimation(animation);\n    return animation;\n  }\n  play() {\n    if (this.isPlaying) {\n      return;\n    }\n    this.isPlaying = true;\n    this.debug(\"AnimationManager.play()\");\n    try {\n      this.batch.play();\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n    this.requestAnimation();\n  }\n  pause() {\n    if (!this.isPlaying) {\n      return;\n    }\n    this.isPlaying = false;\n    this.cancelAnimation();\n    this.debug(\"AnimationManager.pause()\");\n    try {\n      this.batch.pause();\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  stop() {\n    this.isPlaying = false;\n    this.cancelAnimation();\n    this.debug(\"AnimationManager.stop()\");\n    this.batch.stop();\n  }\n  stopByAnimationId(id) {\n    try {\n      this.batch.stopByAnimationId(id);\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  stopByAnimationGroupId(id) {\n    try {\n      this.batch.stopByAnimationGroupId(id);\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  reset() {\n    if (this.isPlaying) {\n      this.stop();\n      this.play();\n    } else {\n      this.stop();\n    }\n  }\n  skip(skip = true) {\n    this.skipAnimations = skip;\n  }\n  isSkipped() {\n    return !this.rafAvailable || this.skipAnimations || this.batch.isSkipped();\n  }\n  isActive() {\n    return this.isPlaying && this.batch.isActive();\n  }\n  skipCurrentBatch() {\n    if (this.debug.check()) {\n      this.debug(`AnimationManager - skipCurrentBatch()`, {\n        stack: new Error().stack\n      });\n    }\n    this.batch.skip();\n  }\n  /** Mocking point for tests to guarantee that animation updates happen. */\n  isSkippingFrames() {\n    return true;\n  }\n  /** Mocking point for tests to capture requestAnimationFrame callbacks. */\n  scheduleAnimationFrame(cb) {\n    this.requestId = requestAnimationFrame(cb);\n  }\n  /** Mocking point for tests to skip animations to a specific point in time. */\n  forceTimeJump(_animation, _defaultDuration) {\n    return false;\n  }\n  requestAnimation() {\n    if (!this.rafAvailable) return;\n    if (!this.batch.isActive() || this.requestId !== null) return;\n    let prevTime;\n    const onAnimationFrame = time2 => __async(this, null, function* () {\n      const executeAnimationFrame = () => __async(this, null, function* () {\n        const deltaTime = time2 - (prevTime != null ? prevTime : time2);\n        prevTime = time2;\n        this.debug(\"AnimationManager - onAnimationFrame()\", {\n          controllersCount: this.batch.size,\n          deltaTime\n        });\n        this.interactionManager.pushState(1 /* Animation */);\n        try {\n          this.batch.progress(deltaTime);\n        } catch (error) {\n          this.failsafeOnError(error);\n        }\n        this.listeners.dispatch(\"animation-frame\", {\n          type: \"animation-frame\",\n          deltaMs: deltaTime\n        });\n      });\n      if (this.isSkippingFrames()) {\n        yield this.chartUpdateMutex.acquireImmediately(executeAnimationFrame);\n      } else {\n        yield this.chartUpdateMutex.acquire(executeAnimationFrame);\n      }\n      if (this.batch.isActive()) {\n        this.scheduleAnimationFrame(onAnimationFrame);\n      } else {\n        this.batch.stop();\n        this.listeners.dispatch(\"animation-stop\", {\n          type: \"animation-stop\",\n          deltaMs: this.batch.consumedTimeMs\n        });\n      }\n    });\n    this.listeners.dispatch(\"animation-start\", {\n      type: \"animation-start\",\n      deltaMs: 0\n    });\n    this.scheduleAnimationFrame(onAnimationFrame);\n  }\n  cancelAnimation() {\n    if (this.requestId === null) return;\n    cancelAnimationFrame(this.requestId);\n    this.requestId = null;\n    this.startBatch();\n  }\n  failsafeOnError(error, cancelAnimation = true) {\n    Logger.error(\"Error during animation, skipping animations\", error);\n    if (cancelAnimation) {\n      this.cancelAnimation();\n    }\n  }\n  startBatch(skipAnimations) {\n    this.debug(`AnimationManager - startBatch() with skipAnimations=${skipAnimations}.`);\n    this.reset();\n    this.batch.stop();\n    this.batch.destroy();\n    this.batch = new AnimationBatch(this.defaultDuration * 1.5);\n    if (skipAnimations === true) {\n      this.batch.skip();\n    }\n  }\n  endBatch() {\n    if (this.batch.isActive()) {\n      this.batch.ready();\n      this.requestAnimation();\n    } else {\n      this.interactionManager.popState(1 /* Animation */);\n      if (this.batch.isSkipped()) {\n        this.batch.skip(false);\n      }\n    }\n  }\n  onBatchStop(cb) {\n    this.batch.stoppedCbs.add(cb);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/ariaAnnouncementServices.ts\nvar AriaAnnouncementService = class _AriaAnnouncementService {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.debug = Debug.create(true, \"aria\");\n    this.canvas.appendChild(this.liveElem = _AriaAnnouncementService.createAnnouncer());\n  }\n  static createAnnouncer() {\n    const e = getDocument().createElement(\"div\");\n    e.classList.add(\"ag-charts-aria-announcer\");\n    setAttribute(e, \"role\", \"status\");\n    setAttribute(e, \"aria-live\", \"assertive\");\n    return e;\n  }\n  destroy() {\n    this.canvas.removeChild(this.liveElem);\n  }\n  announceValue(value) {\n    this.debug(`AriaAnnouncementService - announceValue: ${value}`);\n    this.liveElem.textContent = value;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/chartEventManager.ts\nvar ChartEventManager = class extends BaseManager {\n  legendItemClick(series, itemId, enabled, legendItemName) {\n    const event = {\n      type: \"legend-item-click\",\n      series,\n      itemId,\n      enabled,\n      legendItemName\n    };\n    this.listeners.dispatch(\"legend-item-click\", event);\n  }\n  legendItemDoubleClick(series, itemId, enabled, numVisibleItems, legendItemName) {\n    const event = {\n      type: \"legend-item-double-click\",\n      series,\n      itemId,\n      enabled,\n      legendItemName,\n      numVisibleItems\n    };\n    this.listeners.dispatch(\"legend-item-double-click\", event);\n  }\n  axisHover(axisId, direction) {\n    const event = {\n      type: \"axis-hover\",\n      axisId,\n      direction\n    };\n    this.listeners.dispatch(\"axis-hover\", event);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/contextMenuRegistry.ts\nvar ContextMenuRegistry = class {\n  constructor() {\n    this.defaultActions = [];\n    this.disabledActions = /* @__PURE__ */new Set();\n  }\n  copyDefaultActions() {\n    return [...this.defaultActions];\n  }\n  registerDefaultAction(action) {\n    if (action.id && this.defaultActions.find(({\n      id\n    }) => id === action.id)) {\n      return;\n    }\n    this.defaultActions.push(action);\n  }\n  enableAction(actionId) {\n    this.disabledActions.delete(actionId);\n  }\n  disableAction(actionId) {\n    this.disabledActions.add(actionId);\n  }\n  isDisabled(actionId) {\n    return this.disabledActions.has(actionId);\n  }\n};\n\n// packages/ag-charts-community/src/util/stateTracker.ts\nvar StateTracker = class extends Map {\n  constructor(defaultValue, defaultState) {\n    super();\n    this.defaultValue = defaultValue;\n    this.defaultState = defaultState;\n  }\n  set(key, value) {\n    this.delete(key);\n    if (typeof value !== \"undefined\") {\n      super.set(key, value);\n    }\n    return this;\n  }\n  stateId() {\n    var _a;\n    return (_a = Array.from(this.keys()).pop()) != null ? _a : this.defaultState;\n  }\n  stateValue() {\n    var _a;\n    return (_a = Array.from(this.values()).pop()) != null ? _a : this.defaultValue;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/cursorManager.ts\nvar CursorManager = class {\n  constructor(element2) {\n    this.element = element2;\n    this.stateTracker = new StateTracker(\"default\");\n  }\n  updateCursor(callerId, style) {\n    this.stateTracker.set(callerId, style);\n    this.element.style.cursor = this.stateTracker.stateValue();\n  }\n  getCursor() {\n    return this.element.style.cursor;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/gestureDetector.ts\nfunction distanceSquared(finger1, finger2) {\n  const dx = finger1.screenX - finger2.screenX;\n  const dy = finger1.screenY - finger2.screenY;\n  return dx * dx + dy * dy;\n}\nfunction distance(finger1, finger2) {\n  return Math.sqrt(distanceSquared(finger1, finger2));\n}\nvar MIN_DISTANCE_TO_START_PINCH = 1;\nvar GestureDetector = class extends BaseManager {\n  constructor(element2) {\n    super();\n    this.touchstart = event => this.onTouchStart(event);\n    this.touchmove = event => this.onTouchMove(event);\n    this.touchend = event => this.onTouchEnd(event);\n    this.touchcancel = event => this.onTouchCancel(event);\n    this.pinch = {\n      finger1: {\n        identifier: NaN,\n        screenX: NaN,\n        screenY: NaN\n      },\n      finger2: {\n        identifier: NaN,\n        screenX: NaN,\n        screenY: NaN\n      },\n      origin: {\n        x: NaN,\n        y: NaN\n      },\n      distance: NaN,\n      status: 0 /* Off */\n    };\n    this.element = element2;\n    element2.addEventListener(\"touchstart\", this.touchstart, {\n      passive: true\n    });\n    element2.addEventListener(\"touchmove\", this.touchmove, {\n      passive: true\n    });\n    element2.addEventListener(\"touchend\", this.touchend);\n    element2.addEventListener(\"touchcancel\", this.touchcancel);\n  }\n  destroy() {\n    const {\n      element: element2\n    } = this;\n    element2.removeEventListener(\"touchstart\", this.touchstart);\n    element2.removeEventListener(\"touchmove\", this.touchmove);\n    element2.removeEventListener(\"touchend\", this.touchend);\n    element2.removeEventListener(\"touchcancel\", this.touchcancel);\n  }\n  findPinchTouches(moveEvent) {\n    const {\n      touches\n    } = moveEvent;\n    const {\n      finger1,\n      finger2\n    } = this.pinch;\n    if (this.pinch.status !== 0 /* Off */ && touches.length === 2) {\n      if (touches[0].identifier === finger1.identifier && touches[1].identifier === finger2.identifier) {\n        return [touches[0], touches[1]];\n      }\n      if (touches[0].identifier === finger2.identifier && touches[1].identifier === finger1.identifier) {\n        return [touches[1], touches[0]];\n      }\n    }\n  }\n  copyTouchData(event) {\n    const keys = [\"identifier\", \"screenX\", \"screenY\"];\n    partialAssign(keys, this.pinch.finger1, event.touches[0]);\n    partialAssign(keys, this.pinch.finger2, event.touches[1]);\n    this.pinch.distance = distance(this.pinch.finger1, this.pinch.finger2);\n  }\n  dispatchPinchEvent(type, deltaDistance) {\n    const {\n      finger1,\n      finger2,\n      origin\n    } = this.pinch;\n    const newEvent = {\n      type,\n      finger1,\n      finger2,\n      deltaDistance,\n      origin\n    };\n    this.listeners.dispatch(type, newEvent);\n  }\n  onTouchStart(event) {\n    this.stopPinchTracking();\n    const {\n      pinch\n    } = this;\n    if (event.touches.length === 2) {\n      pinch.status = 1 /* Initialized */;\n      this.copyTouchData(event);\n      pinch.origin.x = (event.touches[0].clientX + event.touches[1].clientX) / 2;\n      pinch.origin.y = (event.touches[0].clientY + event.touches[1].clientY) / 2;\n    }\n  }\n  onTouchMove(event) {\n    const pinchTouches = this.findPinchTouches(event);\n    if (pinchTouches !== void 0) {\n      const [touch1, touch2] = pinchTouches;\n      const {\n        pinch\n      } = this;\n      const newDistance = distance(touch1, touch2);\n      const deltaDistance = newDistance - pinch.distance;\n      if (pinch.status === 1 /* Initialized */) {\n        if (Math.abs(deltaDistance) > MIN_DISTANCE_TO_START_PINCH) {\n          pinch.status = 2 /* Running */;\n          this.copyTouchData(event);\n          this.dispatchPinchEvent(\"pinch-start\", 0);\n        }\n      } else if (pinch.status === 2 /* Running */) {\n        pinch.distance = newDistance;\n        this.copyTouchData(event);\n        this.dispatchPinchEvent(\"pinch-move\", deltaDistance);\n      } else {\n        Logger.error(`unexpected pinch.status: ${pinch.status}`);\n      }\n    }\n  }\n  onTouchEnd(_event) {\n    this.stopPinchTracking();\n  }\n  onTouchCancel(_event) {\n    this.stopPinchTracking();\n  }\n  stopPinchTracking() {\n    const {\n      pinch\n    } = this;\n    if (pinch.status === 2 /* Running */) {\n      this.dispatchPinchEvent(\"pinch-end\", 0);\n    }\n    this.pinch.status = 0 /* Off */;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/highlightManager.ts\nvar HighlightManager = class extends BaseManager {\n  constructor() {\n    super(...arguments);\n    this.highlightStates = new StateTracker();\n    this.pickedStates = new StateTracker();\n  }\n  updateHighlight(callerId, highlightedDatum) {\n    const {\n      activeHighlight: previousHighlight\n    } = this;\n    this.highlightStates.set(callerId, highlightedDatum);\n    this.activeHighlight = this.highlightStates.stateValue();\n    if (!this.isEqual(this.activeHighlight, previousHighlight)) {\n      this.listeners.dispatch(\"highlight-change\", {\n        type: \"highlight-change\",\n        currentHighlight: this.activeHighlight,\n        previousHighlight\n      });\n    }\n  }\n  getActiveHighlight() {\n    return this.activeHighlight;\n  }\n  updatePicked(callerId, clickableDatum) {\n    this.pickedStates.set(callerId, clickableDatum);\n    this.activePicked = this.pickedStates.stateValue();\n  }\n  getActivePicked() {\n    return this.activePicked;\n  }\n  isEqual(a, b) {\n    return a === b || (a == null ? void 0 : a.series) === (b == null ? void 0 : b.series) && (a == null ? void 0 : a.itemId) === (b == null ? void 0 : b.itemId) && (a == null ? void 0 : a.datum) === (b == null ? void 0 : b.datum);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/keyNavManager.ts\nvar KeyNavManager = class extends BaseManager {\n  constructor(interactionManager) {\n    super();\n    this.hasBrowserFocus = false;\n    this.isMouseBlurred = false;\n    this.isClicking = false;\n    this.destroyFns.push(interactionManager.addListener(\"drag-start\", e => this.onClickStart(e), 31 /* All */), interactionManager.addListener(\"click\", e => this.onClickStop(e), 31 /* All */), interactionManager.addListener(\"drag-end\", e => this.onClickStop(e), 31 /* All */), interactionManager.addListener(\"wheel\", e => this.mouseBlur(e)), interactionManager.addListener(\"hover\", e => this.mouseBlur(e)), interactionManager.addListener(\"drag\", e => this.mouseBlur(e)), interactionManager.addListener(\"blur\", e => this.onBlur(e), 31 /* All */), interactionManager.addListener(\"focus\", e => this.onFocus(e), 31 /* All */), interactionManager.addListener(\"keydown\", e => this.onKeyDown(e), 31 /* All */));\n  }\n  destroy() {\n    super.destroy();\n  }\n  onClickStart(event) {\n    this.isClicking = true;\n    this.mouseBlur(event);\n  }\n  onClickStop(event) {\n    this.isClicking = false;\n    this.mouseBlur(event);\n  }\n  mouseBlur(event) {\n    if (!this.hasBrowserFocus) return;\n    if (!this.isMouseBlurred) {\n      this.dispatch(\"blur\", 0, event);\n      this.isMouseBlurred = true;\n    }\n  }\n  onBlur(event) {\n    this.hasBrowserFocus = false;\n    this.isMouseBlurred = false;\n    this.dispatch(\"blur\", 0, event);\n  }\n  onFocus(event) {\n    this.hasBrowserFocus = true;\n    if (this.isClicking) {\n      this.isMouseBlurred = true;\n    } else {\n      this.dispatch(\"browserfocus\", 1, event);\n      this.dispatch(\"tab\", 0, event);\n    }\n  }\n  onKeyDown(event) {\n    if (!this.hasBrowserFocus || this.isClicking) return;\n    this.isMouseBlurred = false;\n    switch (event.sourceEvent.code) {\n      case \"Tab\":\n        if (event.sourceEvent.shiftKey) {\n          return this.dispatch(\"tab\", -1, event);\n        } else {\n          return this.dispatch(\"tab\", 1, event);\n        }\n      case \"ArrowDown\":\n        return this.dispatch(\"nav-vert\", 1, event);\n      case \"ArrowUp\":\n        return this.dispatch(\"nav-vert\", -1, event);\n      case \"ArrowLeft\":\n        return this.dispatch(\"nav-hori\", -1, event);\n      case \"ArrowRight\":\n        return this.dispatch(\"nav-hori\", 1, event);\n      case \"Space\":\n      case \"Enter\":\n        return this.dispatch(\"submit\", 0, event);\n    }\n  }\n  dispatch(type, delta2, interactionEvent) {\n    const event = buildConsumable({\n      type,\n      delta: delta2,\n      sourceEvent: interactionEvent\n    });\n    dispatchTypedConsumable(this.listeners, type, event);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/focusStyles.ts\nvar focusStyles_exports = {};\n__export(focusStyles_exports, {\n  block: () => block,\n  css: () => css,\n  elements: () => elements,\n  modifiers: () => modifiers\n});\nvar block = \"ag-charts-focus\";\nvar elements = {\n  wrapper: `${block}__wrapper`,\n  indicator: `${block}__indicator`\n};\nvar modifiers = {\n  hidden: `${block}--hidden`\n};\nvar css = `\n.${block}.${elements.wrapper} {\n    position: relative;\n    display: block;\n    pointer-events: none;\n    user-select: none;\n    overflow: hidden;\n    top: 0;\n    left: 0;\n}\n\n.${block}.${elements.indicator} {\n    position: absolute;\n    display: block;\n    pointer-events: none;\n    user-select: none;\n    border: var(--ag-charts-focus-border);\n    box-shadow: var(--ag-charts-focus-border-shadow);\n}\n\n.${modifiers.hidden} {\n    visibility: hidden;\n}\n`;\n\n// packages/ag-charts-community/src/chart/interaction/regionManager.ts\nvar REGION_TAB_ORDERING = [\"series\", \"legend\"];\nvar RegionListeners = class extends Listeners {};\nvar RegionManager = class {\n  constructor(interactionManager, keyNavManager, canvasElement, element2) {\n    this.interactionManager = interactionManager;\n    this.keyNavManager = keyNavManager;\n    this.canvasElement = canvasElement;\n    this.currentTabIndex = 0;\n    this.isDragging = false;\n    this.leftCanvas = false;\n    this.regions = /* @__PURE__ */new Map();\n    this.destroyFns = [];\n    this.destroyFns.push(...POINTER_INTERACTION_TYPES.map(eventName => interactionManager.addListener(eventName, this.processPointerEvent.bind(this), 31 /* All */)), this.keyNavManager.addListener(\"blur\", this.onNav.bind(this)), this.keyNavManager.addListener(\"browserfocus\", this.onFocus.bind(this)), this.keyNavManager.addListener(\"tab\", this.onTab.bind(this)), this.keyNavManager.addListener(\"nav-vert\", this.onNav.bind(this)), this.keyNavManager.addListener(\"nav-hori\", this.onNav.bind(this)), this.keyNavManager.addListener(\"submit\", this.onNav.bind(this)));\n    injectStyle(css, block);\n    this.focusWrapper = getDocument().createElement(\"div\");\n    this.focusIndicator = getDocument().createElement(\"div\");\n    this.focusWrapper.appendChild(this.focusIndicator);\n    element2.appendChild(this.focusWrapper);\n    const {\n      block: block3,\n      elements: elements3,\n      modifiers: modifiers3\n    } = focusStyles_exports;\n    this.focusWrapper.classList.add(block3, elements3.wrapper);\n    this.focusIndicator.classList.add(block3, elements3.indicator, modifiers3.hidden);\n  }\n  destroy() {\n    this.destroyFns.forEach(fn => fn());\n    this.currentRegion = void 0;\n    for (const region of this.regions.values()) {\n      region.listeners.destroy();\n    }\n    this.focusWrapper.remove();\n    this.regions.clear();\n  }\n  addRegionFromProperties(properties) {\n    const region = {\n      properties,\n      listeners: new RegionListeners()\n    };\n    this.regions.set(properties.name, region);\n    return this.makeObserver(region);\n  }\n  addRegion(name, bboxprovider, ...extraProviders) {\n    return this.addRegionFromProperties({\n      name,\n      bboxproviders: [bboxprovider, ...extraProviders],\n      canInteraction: () => true\n    });\n  }\n  getRegion(name) {\n    return this.makeObserver(this.regions.get(name));\n  }\n  find(x, y) {\n    const matches = [];\n    for (const [_name, region] of this.regions.entries()) {\n      for (const provider of region.properties.bboxproviders) {\n        const bbox = provider.getCachedBBox();\n        if (bbox.containsPoint(x, y)) {\n          matches.push([region, bbox.width * bbox.height]);\n        }\n      }\n    }\n    return matches.sort((a, b) => a[1] - b[1]).map(m => m[0]);\n  }\n  // This method return a wrapper object that matches the interface of InteractionManager.addListener.\n  // The intent is to allow the InteractionManager and RegionManager to be used almost interchangeably.\n  makeObserver(region) {\n    const {\n      interactionManager\n    } = this;\n    class ObservableRegionImplementation {\n      addListener(type, handler, triggeringStates = 16 /* Default */) {\n        var _a;\n        return (_a = region == null ? void 0 : region.listeners.addListener(type, e => {\n          if (!e.consumed) {\n            const currentState = interactionManager.getState();\n            if (currentState & triggeringStates) {\n              handler(e);\n            }\n          }\n        })) != null ? _a : () => {};\n      }\n    }\n    return new ObservableRegionImplementation();\n  }\n  checkPointerHistory(targetRegion, event) {\n    for (const historyEvent of event.pointerHistory) {\n      const historyRegion = this.pickRegion(historyEvent.offsetX, historyEvent.offsetY);\n      if (targetRegion.properties.name !== (historyRegion == null ? void 0 : historyRegion.properties.name)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  dispatch(region, event) {\n    region == null ? void 0 : region.listeners.dispatch(event.type, event);\n  }\n  // Process events during a drag action. Returns false if this event should follow the standard\n  // RegionManager.processEvent flow, or true if this event already processed by this function.\n  handleDragging(event) {\n    const {\n      currentRegion\n    } = this;\n    switch (event.type) {\n      case \"drag-start\":\n        this.isDragging = true;\n        this.leftCanvas = false;\n        break;\n      case \"leave\":\n        this.leftCanvas = true;\n        return this.isDragging;\n      case \"enter\":\n        this.leftCanvas = false;\n        return this.isDragging;\n      case \"drag\":\n        if (this.isDragging) {\n          this.dispatch(currentRegion, event);\n          return true;\n        }\n        break;\n      case \"drag-end\":\n        if (this.isDragging) {\n          this.isDragging = false;\n          this.dispatch(currentRegion, event);\n          if (this.leftCanvas) {\n            this.dispatch(currentRegion, __spreadProps(__spreadValues({}, event), {\n              type: \"leave\"\n            }));\n          }\n          return true;\n        }\n        break;\n    }\n    return false;\n  }\n  processPointerEvent(event) {\n    if (this.handleDragging(event)) {\n      return;\n    }\n    const {\n      currentRegion\n    } = this;\n    const newRegion = this.pickRegion(event.offsetX, event.offsetY);\n    if (currentRegion !== void 0 && (newRegion == null ? void 0 : newRegion.properties.name) !== currentRegion.properties.name) {\n      this.dispatch(currentRegion, __spreadProps(__spreadValues({}, event), {\n        type: \"leave\"\n      }));\n    }\n    if (newRegion !== void 0 && newRegion.properties.name !== (currentRegion == null ? void 0 : currentRegion.properties.name)) {\n      this.dispatch(newRegion, __spreadProps(__spreadValues({}, event), {\n        type: \"enter\"\n      }));\n    }\n    if (newRegion !== void 0 && this.checkPointerHistory(newRegion, event)) {\n      this.dispatch(newRegion, event);\n    }\n    this.currentRegion = newRegion;\n  }\n  pickRegion(x, y) {\n    const matchingRegions = this.find(x, y);\n    return matchingRegions.length > 0 ? matchingRegions[0] : void 0;\n  }\n  getTabRegion(tabIndex) {\n    if (tabIndex !== void 0 && tabIndex >= 0 && tabIndex < REGION_TAB_ORDERING.length) {\n      return this.regions.get(REGION_TAB_ORDERING[tabIndex]);\n    }\n    return void 0;\n  }\n  dispatchTabStart(event) {\n    const {\n      delta: delta2,\n      sourceEvent\n    } = event;\n    const startEvent = buildConsumable({\n      type: \"tab-start\",\n      delta: delta2,\n      sourceEvent\n    });\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    this.dispatch(focusedRegion, startEvent);\n    return !!startEvent.consumed;\n  }\n  getNextInteractableTabIndex(currentIndex, delta2) {\n    const direction = delta2 < 0 ? -1 : 1;\n    let i = currentIndex;\n    while (delta2 !== 0) {\n      const region = this.getTabRegion(i + direction);\n      if (region === void 0) {\n        return void 0;\n      } else if (region.properties.canInteraction()) {\n        delta2 = delta2 - direction;\n      }\n      i = i + direction;\n    }\n    return i;\n  }\n  validateCurrentTabIndex() {\n    var _a;\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (focusedRegion !== void 0 && !focusedRegion.properties.canInteraction()) {\n      this.currentTabIndex = (_a = this.getNextInteractableTabIndex(-1, 1)) != null ? _a : 0;\n    }\n  }\n  onFocus(event) {\n    const {\n      delta: delta2,\n      sourceEvent\n    } = event;\n    const newIndex = delta2 > 0 ? this.getNextInteractableTabIndex(-1, 1) : this.getNextInteractableTabIndex(REGION_TAB_ORDERING.length, -1);\n    this.currentTabIndex = newIndex != null ? newIndex : 0;\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (focusedRegion) {\n      this.dispatch(focusedRegion, buildConsumable({\n        type: \"tab\",\n        delta: delta2,\n        sourceEvent\n      }));\n    }\n  }\n  onTab(event) {\n    const consumed = this.dispatchTabStart(event);\n    if (consumed) return;\n    this.validateCurrentTabIndex();\n    const newTabIndex = this.getNextInteractableTabIndex(this.currentTabIndex, event.delta);\n    const newRegion = this.getTabRegion(newTabIndex);\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (newTabIndex !== void 0) {\n      this.currentTabIndex = newTabIndex;\n    }\n    if (focusedRegion !== void 0 && (newRegion == null ? void 0 : newRegion.properties.name) !== focusedRegion.properties.name) {\n      const {\n        delta: delta2,\n        sourceEvent\n      } = event;\n      const blurEvent = buildConsumable({\n        type: \"blur\",\n        delta: delta2,\n        sourceEvent\n      });\n      this.dispatch(focusedRegion, blurEvent);\n    }\n    if (newRegion === void 0 || !newRegion.properties.canInteraction()) {\n      this.updateFocusIndicatorRect(void 0);\n    } else {\n      this.dispatch(newRegion, event);\n    }\n  }\n  onNav(event) {\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    this.dispatch(focusedRegion, event);\n  }\n  updateFocusWrapperRect() {\n    this.focusWrapper.style.width = this.canvasElement.style.width;\n    this.focusWrapper.style.height = this.canvasElement.style.height;\n  }\n  updateFocusIndicatorRect(rect) {\n    if (rect == null) {\n      this.focusIndicator.classList.add(modifiers.hidden);\n      return;\n    }\n    this.updateFocusWrapperRect();\n    this.focusIndicator.classList.remove(modifiers.hidden);\n    this.focusIndicator.style.width = `${rect.width}px`;\n    this.focusIndicator.style.height = `${rect.height}px`;\n    this.focusIndicator.style.left = `${rect.x}px`;\n    this.focusIndicator.style.top = `${rect.y}px`;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/toolbarManager.ts\nvar ToolbarManager = class extends BaseManager {\n  constructor(element2) {\n    super();\n    this.element = element2;\n  }\n  static isGroup(group2, event) {\n    return event.group === group2;\n  }\n  pressButton(group2, value) {\n    this.listeners.dispatch(\"button-pressed\", {\n      type: \"button-pressed\",\n      group: group2,\n      value\n    });\n  }\n  toggleGroup(group2, visible) {\n    this.listeners.dispatch(\"group-toggled\", {\n      type: \"group-toggled\",\n      group: group2,\n      visible\n    });\n  }\n  toggleButton(group2, value, enabled) {\n    this.listeners.dispatch(\"button-toggled\", {\n      type: \"button-toggled\",\n      group: group2,\n      value,\n      enabled\n    });\n  }\n  proxyGroupOptions(group2, options) {\n    this.listeners.dispatch(\"proxy-group-options\", {\n      type: \"proxy-group-options\",\n      group: group2,\n      options\n    });\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/tooltipManager.ts\nvar defaultTooltipCss = `\n.${DEFAULT_TOOLTIP_CLASS} {\n    transition: transform 0.1s ease;\n    max-width: 100%;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: rgb(70, 70, 70);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-always {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: none;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-hyphenate {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: auto;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-on-space {\n    overflow-wrap: normal;\n    word-break: normal;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-never {\n    white-space: pre;\n    text-overflow: ellipsis;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-no-animation {\n    transition: none !important;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-hidden {\n    visibility: hidden;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-title {\n    overflow: hidden;\n    position: relative;\n    padding: 8px 14px;\n    border-top-left-radius: 2px;\n    border-top-right-radius: 2px;\n    color: white;\n    background-color: #888888;\n    z-index: 1;\n    text-overflow: inherit;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-title:only-child {\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-content {\n    overflow: hidden;\n    padding: 6px 14px;\n    line-height: 1.7em;\n    background: white;\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    text-overflow: inherit;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-arrow::before {\n    content: \"\";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid #d9d9d9;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-arrow::after {\n    content: \"\";\n\n    position: absolute;\n    top: calc(100% - 1px);\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid white;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n`;\nvar TooltipManager = class {\n  constructor(canvasElement, tooltip) {\n    this.canvasElement = canvasElement;\n    this.tooltip = tooltip;\n    this.stateTracker = new StateTracker();\n    this.appliedState = null;\n    if (typeof IntersectionObserver !== \"undefined\") {\n      const observer = new IntersectionObserver(entries => {\n        for (const entry of entries) {\n          if (entry.target === this.canvasElement && entry.intersectionRatio === 0) {\n            this.tooltip.toggle(false);\n          }\n        }\n      }, {\n        root: this.tooltip.root\n      });\n      observer.observe(this.canvasElement);\n      this.observer = observer;\n    }\n    injectStyle(defaultTooltipCss, \"tooltip\");\n  }\n  updateTooltip(callerId, meta, content) {\n    var _a;\n    if (!this.tooltip.enabled) return;\n    content != null ? content : content = (_a = this.stateTracker.get(callerId)) == null ? void 0 : _a.content;\n    this.stateTracker.set(callerId, {\n      content,\n      meta\n    });\n    this.applyStates();\n  }\n  removeTooltip(callerId) {\n    if (!this.tooltip.enabled) return;\n    this.stateTracker.delete(callerId);\n    this.applyStates();\n  }\n  getTooltipMeta(callerId) {\n    var _a;\n    return (_a = this.stateTracker.get(callerId)) == null ? void 0 : _a.meta;\n  }\n  destroy() {\n    var _a;\n    (_a = this.observer) == null ? void 0 : _a.unobserve(this.canvasElement);\n  }\n  applyStates() {\n    var _a;\n    const id = this.stateTracker.stateId();\n    const state = id ? this.stateTracker.get(id) : null;\n    if ((state == null ? void 0 : state.meta) == null || (state == null ? void 0 : state.content) == null) {\n      this.appliedState = null;\n      this.tooltip.toggle(false);\n      return;\n    }\n    const canvasRect = this.canvasElement.getBoundingClientRect();\n    if (((_a = this.appliedState) == null ? void 0 : _a.content) === (state == null ? void 0 : state.content)) {\n      const renderInstantly = this.tooltip.isVisible();\n      this.tooltip.show(canvasRect, state == null ? void 0 : state.meta, null, renderInstantly);\n    } else {\n      this.tooltip.show(canvasRect, state == null ? void 0 : state.meta, state == null ? void 0 : state.content);\n    }\n    this.appliedState = state;\n  }\n  static makeTooltipMeta(event, datum) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    const {\n      tooltip\n    } = datum.series.properties;\n    const meta = {\n      offsetX,\n      offsetY,\n      enableInteraction: (_b = (_a = tooltip.interaction) == null ? void 0 : _a.enabled) != null ? _b : false,\n      lastPointerEvent: {\n        type: event.type,\n        offsetX,\n        offsetY\n      },\n      showArrow: tooltip.showArrow,\n      position: {\n        type: tooltip.position.type,\n        xOffset: tooltip.position.xOffset,\n        yOffset: tooltip.position.yOffset\n      }\n    };\n    const refPoint = (_g = (_d = (_c = datum.yBar) == null ? void 0 : _c.upperPoint) != null ? _d : datum.midPoint) != null ? _g : (_f = (_e = datum.series).datumMidPoint) == null ? void 0 : _f.call(_e, datum);\n    if (tooltip.position.type === \"node\" && refPoint) {\n      const {\n        x,\n        y\n      } = refPoint;\n      const point = datum.series.contentGroup.inverseTransformPoint(x, y);\n      return __spreadProps(__spreadValues({}, meta), {\n        offsetX: Math.round(point.x),\n        offsetY: Math.round(point.y)\n      });\n    }\n    return meta;\n  }\n};\n\n// packages/ag-charts-community/src/chart/layout/layoutService.ts\nvar LayoutService = class extends Listeners {\n  constructor() {\n    super(...arguments);\n    this.layoutComplete = \"layout-complete\";\n  }\n  addListener(eventType, handler) {\n    if (this.isLayoutStage(eventType) || this.isLayoutComplete(eventType)) {\n      return super.addListener(eventType, handler);\n    }\n    throw new Error(`AG Charts - unsupported listener type: ${eventType}`);\n  }\n  dispatchPerformLayout(stage, ctx) {\n    if (this.isLayoutStage(stage)) {\n      return this.getListenersByType(stage).reduce((result, listener) => {\n        try {\n          return listener.handler(result);\n        } catch (e) {\n          Logger.errorOnce(e);\n          return result;\n        }\n      }, ctx);\n    }\n    return ctx;\n  }\n  dispatchLayoutComplete(event) {\n    this.dispatch(this.layoutComplete, event);\n  }\n  isLayoutStage(eventType) {\n    return eventType !== this.layoutComplete;\n  }\n  isLayoutComplete(eventType) {\n    return eventType === this.layoutComplete;\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/seriesStateManager.ts\nvar SeriesStateManager = class {\n  constructor() {\n    this.groups = {};\n  }\n  registerSeries({\n    id,\n    seriesGrouping,\n    visible,\n    type\n  }) {\n    var _a, _b;\n    if (!seriesGrouping) return;\n    (_b = (_a = this.groups)[type]) != null ? _b : _a[type] = {};\n    this.groups[type][id] = {\n      grouping: seriesGrouping,\n      visible\n    };\n  }\n  deregisterSeries({\n    id,\n    type\n  }) {\n    if (this.groups[type]) {\n      delete this.groups[type][id];\n    }\n    if (this.groups[type] && Object.keys(this.groups[type]).length === 0) {\n      delete this.groups[type];\n    }\n  }\n  getVisiblePeerGroupIndex({\n    type,\n    seriesGrouping,\n    visible\n  }) {\n    var _a;\n    if (!seriesGrouping) return {\n      visibleGroupCount: visible ? 1 : 0,\n      visibleSameStackCount: visible ? 1 : 0,\n      index: 0\n    };\n    const visibleGroupsSet = /* @__PURE__ */new Set();\n    const visibleSameStackSet = /* @__PURE__ */new Set();\n    for (const entry of Object.values((_a = this.groups[type]) != null ? _a : {})) {\n      if (!entry.visible) continue;\n      visibleGroupsSet.add(entry.grouping.groupIndex);\n      if (entry.grouping.groupIndex === seriesGrouping.groupIndex) {\n        visibleSameStackSet.add(entry.grouping.stackIndex);\n      }\n    }\n    const visibleGroups = Array.from(visibleGroupsSet);\n    visibleGroups.sort((a, b) => a - b);\n    return {\n      visibleGroupCount: visibleGroups.length,\n      visibleSameStackCount: visibleSameStackSet.size,\n      index: visibleGroups.indexOf(seriesGrouping.groupIndex)\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartUpdateType.ts\nvar ChartUpdateType = /* @__PURE__ */(ChartUpdateType2 => {\n  ChartUpdateType2[ChartUpdateType2[\"FULL\"] = 0] = \"FULL\";\n  ChartUpdateType2[ChartUpdateType2[\"UPDATE_DATA\"] = 1] = \"UPDATE_DATA\";\n  ChartUpdateType2[ChartUpdateType2[\"PROCESS_DATA\"] = 2] = \"PROCESS_DATA\";\n  ChartUpdateType2[ChartUpdateType2[\"PERFORM_LAYOUT\"] = 3] = \"PERFORM_LAYOUT\";\n  ChartUpdateType2[ChartUpdateType2[\"SERIES_UPDATE\"] = 4] = \"SERIES_UPDATE\";\n  ChartUpdateType2[ChartUpdateType2[\"TOOLTIP_RECALCULATION\"] = 5] = \"TOOLTIP_RECALCULATION\";\n  ChartUpdateType2[ChartUpdateType2[\"SCENE_RENDER\"] = 6] = \"SCENE_RENDER\";\n  ChartUpdateType2[ChartUpdateType2[\"NONE\"] = 7] = \"NONE\";\n  return ChartUpdateType2;\n})(ChartUpdateType || {});\n\n// packages/ag-charts-community/src/chart/updateService.ts\nvar UpdateService = class extends Listeners {\n  constructor(updateCallback) {\n    super();\n    this.updateCallback = updateCallback;\n  }\n  update(type = 0 /* FULL */, options) {\n    this.updateCallback(type, options);\n  }\n  dispatchUpdateComplete(rects) {\n    this.dispatch(\"update-complete\", {\n      type: \"update-complete\",\n      minRect: rects == null ? void 0 : rects.minRect,\n      minVisibleRect: rects == null ? void 0 : rects.minVisibleRect\n    });\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartContext.ts\nvar ChartContext = class {\n  constructor(chart, vars) {\n    const {\n      scene,\n      syncManager,\n      element: element2,\n      updateCallback,\n      updateMutex\n    } = vars;\n    this.chartService = chart;\n    this.scene = scene;\n    this.syncManager = syncManager;\n    this.zoomManager = chart.zoomManager;\n    this.annotationManager = new AnnotationManager(chart.annotationRoot);\n    this.ariaAnnouncementService = new AriaAnnouncementService(scene.canvas.element);\n    this.chartEventManager = new ChartEventManager();\n    this.contextMenuRegistry = new ContextMenuRegistry();\n    this.cursorManager = new CursorManager(element2);\n    this.highlightManager = new HighlightManager();\n    this.interactionManager = new InteractionManager(chart.keyboard, element2);\n    this.keyNavManager = new KeyNavManager(this.interactionManager);\n    this.regionManager = new RegionManager(this.interactionManager, this.keyNavManager, this.scene.canvas.element, element2);\n    this.toolbarManager = new ToolbarManager(element2);\n    this.gestureDetector = new GestureDetector(element2);\n    this.layoutService = new LayoutService();\n    this.updateService = new UpdateService(updateCallback);\n    this.seriesStateManager = new SeriesStateManager();\n    this.callbackCache = new CallbackCache();\n    this.animationManager = new AnimationManager(this.interactionManager, updateMutex);\n    this.animationManager.skip();\n    this.animationManager.play();\n    this.dataService = new DataService(this.animationManager);\n    this.tooltipManager = new TooltipManager(this.scene.canvas.element, chart.tooltip);\n  }\n  destroy() {\n    this.tooltipManager.destroy();\n    this.regionManager.destroy();\n    this.keyNavManager.destroy();\n    this.interactionManager.destroy();\n    this.animationManager.stop();\n    this.animationManager.destroy();\n    this.ariaAnnouncementService.destroy();\n    this.chartEventManager.destroy();\n    this.highlightManager.destroy();\n    this.callbackCache.invalidateCache();\n    this.animationManager.reset();\n    this.syncManager.destroy();\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartHighlight.ts\nvar ChartHighlight = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.range = \"tooltip\";\n  }\n};\n__decorateClass([Validate(UNION([\"tooltip\", \"node\"], \"a range\"))], ChartHighlight.prototype, \"range\", 2);\n\n// packages/ag-charts-community/src/chart/data/dataDomain.ts\nvar DiscreteDomain = class _DiscreteDomain {\n  constructor() {\n    this.domain = /* @__PURE__ */new Set();\n  }\n  static is(value) {\n    return value instanceof _DiscreteDomain;\n  }\n  extend(val) {\n    this.domain.add(val);\n  }\n  getDomain() {\n    return Array.from(this.domain);\n  }\n};\nvar ContinuousDomain = class _ContinuousDomain {\n  constructor() {\n    this.domain = [Infinity, -Infinity];\n  }\n  static is(value) {\n    return value instanceof _ContinuousDomain;\n  }\n  static extendDomain(values, domain = [Infinity, -Infinity]) {\n    for (const value of values) {\n      if (typeof value !== \"number\") {\n        continue;\n      }\n      if (domain[0] > value) {\n        domain[0] = value;\n      }\n      if (domain[1] < value) {\n        domain[1] = value;\n      }\n    }\n    return domain;\n  }\n  extend(value) {\n    if (this.domain[0] > value) {\n      this.domain[0] = value;\n    }\n    if (this.domain[1] < value) {\n      this.domain[1] = value;\n    }\n  }\n  getDomain() {\n    return [...this.domain];\n  }\n};\n\n// packages/ag-charts-community/src/chart/data/dataModel.ts\nfunction toKeyString(keys) {\n  return keys.map(key => isObject(key) ? JSON.stringify(key) : key).join(\"-\");\n}\nfunction round2(val) {\n  const accuracy = 1e4;\n  if (Number.isInteger(val)) {\n    return val;\n  } else if (Math.abs(val) > accuracy) {\n    return Math.trunc(val);\n  }\n  return Math.round(val * accuracy) / accuracy;\n}\nfunction fixNumericExtentInternal(extent2) {\n  if (extent2 == null) {\n    return [];\n  }\n  let [min, max] = extent2.map(Number);\n  if (min === 0 && max === 0) {\n    return [0, 1];\n  }\n  if (min === Infinity && max === -Infinity) {\n    return [];\n  } else if (min === Infinity) {\n    min = 0;\n  } else if (max === -Infinity) {\n    max = 0;\n  }\n  return isFiniteNumber(min) && isFiniteNumber(max) ? [min, max] : [];\n}\nfunction fixNumericExtent(extent2, axis) {\n  var _a;\n  const fixedExtent = fixNumericExtentInternal(extent2);\n  if (fixedExtent.length === 0) {\n    return fixedExtent;\n  }\n  let [min, max] = fixedExtent;\n  if (min === max) {\n    const [paddingMin, paddingMax] = (_a = axis == null ? void 0 : axis.calculatePadding(min, max)) != null ? _a : [1, 1];\n    min -= paddingMin;\n    max += paddingMax;\n  }\n  return [min, max];\n}\nfunction getMissCount(scopeProvider, missMap) {\n  var _a;\n  return (_a = missMap == null ? void 0 : missMap.get(scopeProvider.id)) != null ? _a : 0;\n}\nvar INVALID_VALUE = Symbol(\"invalid\");\nvar DataModel = class {\n  constructor(opts, mode = \"standalone\") {\n    this.opts = opts;\n    this.mode = mode;\n    this.debug = Debug.create(true, \"data-model\");\n    this.scopeCache = /* @__PURE__ */new Map();\n    this.keys = [];\n    this.values = [];\n    this.aggregates = [];\n    this.groupProcessors = [];\n    this.propertyProcessors = [];\n    this.reducers = [];\n    this.processors = [];\n    let keys = true;\n    for (const next of opts.props) {\n      if (next.type === \"key\" && !keys) {\n        throw new Error(\"AG Charts - internal config error: keys must come before values.\");\n      }\n      if (next.type === \"value\" && keys) {\n        keys = false;\n      }\n    }\n    const verifyMatchGroupId = ({\n      matchGroupIds = []\n    }) => {\n      for (const matchGroupId of matchGroupIds) {\n        if (this.values.every(def => def.groupId !== matchGroupId)) {\n          throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${matchGroupId}).`);\n        }\n      }\n    };\n    for (const def of opts.props) {\n      switch (def.type) {\n        case \"key\":\n          this.keys.push(__spreadProps(__spreadValues({}, def), {\n            index: this.keys.length,\n            missing: /* @__PURE__ */new Map()\n          }));\n          break;\n        case \"value\":\n          if (def.property == null) {\n            throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(def)}`);\n          }\n          this.values.push(__spreadProps(__spreadValues({}, def), {\n            index: this.values.length,\n            missing: /* @__PURE__ */new Map()\n          }));\n          break;\n        case \"aggregate\":\n          verifyMatchGroupId(def);\n          this.aggregates.push(__spreadProps(__spreadValues({}, def), {\n            index: this.aggregates.length\n          }));\n          break;\n        case \"group-value-processor\":\n          verifyMatchGroupId(def);\n          this.groupProcessors.push(__spreadProps(__spreadValues({}, def), {\n            index: this.groupProcessors.length\n          }));\n          break;\n        case \"property-value-processor\":\n          this.propertyProcessors.push(__spreadProps(__spreadValues({}, def), {\n            index: this.propertyProcessors.length\n          }));\n          break;\n        case \"reducer\":\n          this.reducers.push(__spreadProps(__spreadValues({}, def), {\n            index: this.reducers.length\n          }));\n          break;\n        case \"processor\":\n          this.processors.push(__spreadProps(__spreadValues({}, def), {\n            index: this.processors.length\n          }));\n          break;\n      }\n    }\n  }\n  resolveProcessedDataDefById(scope, searchId) {\n    var _a;\n    const def = (_a = this.scopeCache.get(scope.id)) == null ? void 0 : _a.get(searchId);\n    if (!def) {\n      throw new Error(`AG Charts - didn't find property definition for [${searchId}, ${scope.id}]`);\n    }\n    return {\n      index: def.index,\n      def\n    };\n  }\n  resolveProcessedDataIndexById(scope, searchId) {\n    return this.resolveProcessedDataDefById(scope, searchId).index;\n  }\n  resolveProcessedDataDefsByIds(scope, searchIds) {\n    return searchIds.map(searchId => [searchId, this.resolveProcessedDataDefById(scope, searchId)]);\n  }\n  resolveProcessedDataDefsValues(defs, {\n    keys,\n    values\n  }) {\n    const result = {};\n    for (const [searchId, {\n      index,\n      def\n    }] of defs) {\n      const processedData = def.type === \"key\" ? keys : values;\n      result[searchId] = processedData[index];\n    }\n    return result;\n  }\n  getDomain(scope, searchId, type = \"value\", processedData) {\n    var _a;\n    const domains = this.getDomainsByType(type, processedData);\n    return (_a = domains == null ? void 0 : domains[this.resolveProcessedDataIndexById(scope, searchId)]) != null ? _a : [];\n  }\n  getDomainsByType(type, processedData) {\n    switch (type) {\n      case \"key\":\n        return processedData.domain.keys;\n      case \"value\":\n        return processedData.domain.values;\n      case \"aggregate\":\n        return processedData.domain.aggValues;\n      case \"group-value-processor\":\n        return processedData.domain.groups;\n      default:\n        return null;\n    }\n  }\n  processData(data, sources) {\n    var _a;\n    const {\n      opts: {\n        groupByKeys,\n        groupByFn\n      },\n      aggregates,\n      groupProcessors,\n      reducers,\n      processors,\n      propertyProcessors\n    } = this;\n    const start = performance.now();\n    if (groupByKeys && this.keys.length === 0) {\n      return;\n    }\n    let processedData = this.extractData(data, sources);\n    if (groupByKeys) {\n      processedData = this.groupData(processedData);\n    } else if (groupByFn) {\n      processedData = this.groupData(processedData, groupByFn(processedData));\n    }\n    if (groupProcessors.length > 0) {\n      this.postProcessGroups(processedData);\n    }\n    if (aggregates.length > 0) {\n      this.aggregateData(processedData);\n    }\n    if (propertyProcessors.length > 0) {\n      this.postProcessProperties(processedData);\n    }\n    if (reducers.length > 0) {\n      this.reduceData(processedData);\n    }\n    if (processors.length > 0) {\n      this.postProcessData(processedData);\n    }\n    if (data.length > 0) {\n      for (const def of iterate(this.keys, this.values)) {\n        for (const [scope, missCount] of def.missing) {\n          if (missCount >= data.length) {\n            const scopeHint = scope == null ? \"\" : ` for ${scope}`;\n            Logger.warnOnce(`the key '${def.property}' was not found in any data element${scopeHint}.`);\n          }\n        }\n      }\n    }\n    const end = performance.now();\n    processedData.time = end - start;\n    if (this.debug.check()) {\n      logProcessedData(processedData);\n    }\n    this.scopeCache.clear();\n    for (const def of iterate(this.keys, this.values, this.aggregates)) {\n      if (!def.idsMap) continue;\n      for (const [scope, ids] of def.idsMap) {\n        for (const id of ids) {\n          if (!this.scopeCache.has(scope)) {\n            this.scopeCache.set(scope, /* @__PURE__ */new Map([[id, def]]));\n          } else if ((_a = this.scopeCache.get(scope)) == null ? void 0 : _a.has(id)) {\n            throw new Error(\"duplicate definition ids on the same scope are not allowed.\");\n          } else {\n            this.scopeCache.get(scope).set(id, def);\n          }\n        }\n      }\n    }\n    return processedData;\n  }\n  valueGroupIdxLookup({\n    matchGroupIds\n  }) {\n    const result = [];\n    for (const [index, def] of this.values.entries()) {\n      if (!matchGroupIds || def.groupId && matchGroupIds.includes(def.groupId)) {\n        result.push(index);\n      }\n    }\n    return result;\n  }\n  valueIdxLookup(scopes, prop) {\n    const noScopesToMatch = scopes == null || scopes.length === 0;\n    const propId = typeof prop === \"string\" ? prop : prop.id;\n    const hasMatchingScopeId = def => {\n      if (def.idsMap) {\n        for (const [scope, ids] of def.idsMap) {\n          if ((scopes == null ? void 0 : scopes.includes(scope)) && ids.has(propId)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const result = this.values.findIndex(def => {\n      const validDefScopes = def.scopes == null || noScopesToMatch && !def.scopes.length || def.scopes.some(s => scopes == null ? void 0 : scopes.includes(s));\n      return validDefScopes && (def.property === propId || def.id === propId || hasMatchingScopeId(def));\n    });\n    if (result === -1) {\n      throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(prop)} in scope(s) ${JSON.stringify(scopes)}`);\n    }\n    return result;\n  }\n  extractData(data, sources) {\n    var _a, _b, _c, _d;\n    const {\n      dataDomain,\n      processValue,\n      scopes,\n      allScopesHaveSameDefs\n    } = this.initDataDomainProcessor();\n    const sourcesById = new Map(sources == null ? void 0 : sources.map(s => [s.id, s]));\n    const {\n      keys: keyDefs,\n      values: valueDefs\n    } = this;\n    const resultData = new Array(data.length);\n    let resultDataIdx = 0;\n    let partialValidDataCount = 0;\n    for (const [datumIdx, datum] of data.entries()) {\n      const sourceDatums = {};\n      const validScopes = scopes.size > 0 ? new Set(scopes) : void 0;\n      const keys = new Array(keyDefs.length);\n      let keyIdx = 0;\n      let key;\n      for (const def of keyDefs) {\n        key = processValue(def, datum, key);\n        if (key === INVALID_VALUE) break;\n        if (keys) {\n          keys[keyIdx++] = key;\n        }\n      }\n      if (key === INVALID_VALUE) continue;\n      const values = valueDefs.length > 0 ? new Array(valueDefs.length) : void 0;\n      let value;\n      for (const [valueDefIdx, def] of valueDefs.entries()) {\n        for (const scope of (_a = def.scopes) != null ? _a : scopes) {\n          const source = sourcesById.get(scope);\n          const valueDatum = (_b = source == null ? void 0 : source.data[datumIdx]) != null ? _b : datum;\n          value = processValue(def, valueDatum, value, scope);\n          if (value === INVALID_VALUE || !values) continue;\n          if (source != null && def.includeProperty !== false) {\n            const property = def.includeProperty && def.id != null ? def.id : def.property;\n            (_c = sourceDatums[scope]) != null ? _c : sourceDatums[scope] = {};\n            sourceDatums[scope][property] = value;\n          }\n          values[valueDefIdx] = value;\n        }\n        if (value === INVALID_VALUE) {\n          if (allScopesHaveSameDefs) break;\n          for (const scope of (_d = def.scopes) != null ? _d : scopes) {\n            validScopes == null ? void 0 : validScopes.delete(scope);\n          }\n          if ((validScopes == null ? void 0 : validScopes.size) === 0) break;\n        }\n      }\n      if (value === INVALID_VALUE && allScopesHaveSameDefs) continue;\n      if ((validScopes == null ? void 0 : validScopes.size) === 0) continue;\n      const result = {\n        datum: __spreadValues(__spreadValues({}, datum), sourceDatums),\n        keys,\n        values\n      };\n      if (!allScopesHaveSameDefs && validScopes && validScopes.size < scopes.size) {\n        partialValidDataCount++;\n        result.validScopes = new Set(validScopes);\n      }\n      resultData[resultDataIdx++] = result;\n    }\n    resultData.length = resultDataIdx;\n    const propertyDomain = def => {\n      const defDomain = dataDomain.get(def);\n      const result = defDomain.getDomain();\n      if (ContinuousDomain.is(defDomain) && result[0] > result[1]) {\n        return [];\n      }\n      return result;\n    };\n    return {\n      type: \"ungrouped\",\n      input: {\n        count: data.length\n      },\n      data: resultData,\n      domain: {\n        keys: keyDefs.map(propertyDomain),\n        values: valueDefs.map(propertyDomain)\n      },\n      defs: {\n        allScopesHaveSameDefs,\n        keys: keyDefs,\n        values: valueDefs\n      },\n      partialValidDataCount,\n      time: 0\n    };\n  }\n  groupData(data, groupingFn) {\n    var _a;\n    const processedData = /* @__PURE__ */new Map();\n    for (const dataEntry of data.data) {\n      const {\n        keys,\n        values,\n        datum,\n        validScopes\n      } = dataEntry;\n      const group2 = (_a = groupingFn == null ? void 0 : groupingFn(dataEntry)) != null ? _a : keys;\n      const groupStr = toKeyString(group2);\n      if (processedData.has(groupStr)) {\n        const existingData = processedData.get(groupStr);\n        existingData.values.push(values);\n        existingData.datum.push(datum);\n        if (validScopes != null && existingData.validScopes != null) {\n          for (const scope of existingData.validScopes) {\n            if (!validScopes.has(scope)) {\n              existingData.validScopes.delete(scope);\n            }\n          }\n        }\n      } else {\n        processedData.set(groupStr, {\n          keys: group2,\n          values: [values],\n          datum: [datum],\n          validScopes\n        });\n      }\n    }\n    const resultData = new Array(processedData.size);\n    const resultGroups = new Array(processedData.size);\n    let dataIndex = 0;\n    for (const {\n      keys,\n      values,\n      datum,\n      validScopes\n    } of processedData.values()) {\n      if ((validScopes == null ? void 0 : validScopes.size) === 0) continue;\n      resultGroups[dataIndex] = keys;\n      resultData[dataIndex++] = {\n        keys,\n        values,\n        datum,\n        validScopes\n      };\n    }\n    return __spreadProps(__spreadValues({}, data), {\n      type: \"grouped\",\n      data: resultData,\n      domain: __spreadProps(__spreadValues({}, data.domain), {\n        groups: resultGroups\n      })\n    });\n  }\n  aggregateData(processedData) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const isUngrouped = processedData.type === \"ungrouped\";\n    processedData.domain.aggValues = [];\n    for (const [index, def] of this.aggregates.entries()) {\n      const indices = this.valueGroupIdxLookup(def);\n      const domain = [Infinity, -Infinity];\n      for (const datum of processedData.data) {\n        (_a = datum.aggValues) != null ? _a : datum.aggValues = new Array(this.aggregates.length);\n        if (datum.validScopes) continue;\n        const values = isUngrouped ? [datum.values] : datum.values;\n        let groupAggValues = (_c = (_b = def.groupAggregateFunction) == null ? void 0 : _b.call(def)) != null ? _c : [Infinity, -Infinity];\n        for (const distinctValues of values) {\n          const valuesToAgg = indices.map(valueIdx => distinctValues[valueIdx]);\n          const valuesAgg = def.aggregateFunction(valuesToAgg, datum.keys);\n          if (valuesAgg) {\n            groupAggValues = (_e = (_d = def.groupAggregateFunction) == null ? void 0 : _d.call(def, valuesAgg, groupAggValues)) != null ? _e : ContinuousDomain.extendDomain(valuesAgg, groupAggValues);\n          }\n        }\n        const finalValues = ((_g = (_f = def.finalFunction) == null ? void 0 : _f.call(def, groupAggValues)) != null ? _g : groupAggValues).map(v => round2(v));\n        datum.aggValues[index] = finalValues;\n        ContinuousDomain.extendDomain(finalValues, domain);\n      }\n      processedData.domain.aggValues.push(domain);\n    }\n  }\n  postProcessGroups(processedData) {\n    var _a, _b;\n    const {\n      groupProcessors\n    } = this;\n    const affectedIndices = /* @__PURE__ */new Set();\n    const updatedDomains = /* @__PURE__ */new Map();\n    const groupProcessorIndices = /* @__PURE__ */new Map();\n    const groupProcessorInitFns = /* @__PURE__ */new Map();\n    for (const processor of groupProcessors) {\n      const indices = this.valueGroupIdxLookup(processor);\n      groupProcessorIndices.set(processor, indices);\n      groupProcessorInitFns.set(processor, processor.adjust());\n      for (const idx of indices) {\n        const valueDef = this.values[idx];\n        const isDiscrete = valueDef.valueType === \"category\";\n        affectedIndices.add(idx);\n        updatedDomains.set(idx, isDiscrete ? new DiscreteDomain() : new ContinuousDomain());\n      }\n    }\n    const updateDomains = values => {\n      var _a2;\n      for (const valueIndex of affectedIndices) {\n        (_a2 = updatedDomains.get(valueIndex)) == null ? void 0 : _a2.extend(values[valueIndex]);\n      }\n    };\n    for (const group2 of processedData.data) {\n      for (const processor of groupProcessors) {\n        if (group2.validScopes) continue;\n        const valueIndexes = (_a = groupProcessorIndices.get(processor)) != null ? _a : [];\n        const adjustFn = (_b = groupProcessorInitFns.get(processor)) == null ? void 0 : _b();\n        if (!adjustFn) continue;\n        if (processedData.type === \"grouped\") {\n          for (const values of group2.values) {\n            if (values) {\n              adjustFn(values, valueIndexes);\n            }\n          }\n        } else if (group2.values) {\n          adjustFn(group2.values, valueIndexes);\n        }\n      }\n      if (processedData.type === \"grouped\") {\n        for (const values of group2.values) {\n          updateDomains(values);\n        }\n      } else {\n        updateDomains(group2.values);\n      }\n    }\n    for (const [idx, dataDomain] of updatedDomains) {\n      processedData.domain.values[idx] = dataDomain.getDomain();\n    }\n  }\n  postProcessProperties(processedData) {\n    for (const {\n      adjust,\n      property,\n      scopes\n    } of this.propertyProcessors) {\n      adjust()(processedData, this.valueIdxLookup(scopes, property));\n    }\n  }\n  reduceData(processedData) {\n    var _a, _b;\n    (_a = processedData.reduced) != null ? _a : processedData.reduced = {};\n    for (const def of this.reducers) {\n      const reducer = def.reducer();\n      let accValue = def.initialValue;\n      for (const datum of processedData.data) {\n        if (!datum.validScopes || ((_b = def.scopes) == null ? void 0 : _b.some(s => {\n          var _a2;\n          return (_a2 = datum.validScopes) == null ? void 0 : _a2.has(s);\n        }))) {\n          accValue = reducer(accValue, datum);\n        }\n      }\n      processedData.reduced[def.property] = accValue;\n    }\n  }\n  postProcessData(processedData) {\n    var _a;\n    (_a = processedData.reduced) != null ? _a : processedData.reduced = {};\n    for (const def of this.processors) {\n      processedData.reduced[def.property] = def.calculate(processedData);\n    }\n  }\n  initDataDomainProcessor() {\n    const {\n      keys: keyDefs,\n      values: valueDefs\n    } = this;\n    const scopes = /* @__PURE__ */new Set();\n    for (const valueDef of valueDefs) {\n      if (!valueDef.scopes) continue;\n      for (const scope of valueDef.scopes) {\n        scopes.add(scope);\n      }\n    }\n    const dataDomain = /* @__PURE__ */new Map();\n    const processorFns = /* @__PURE__ */new Map();\n    let allScopesHaveSameDefs = true;\n    const initDataDomain = () => {\n      var _a;\n      for (const def of iterate(keyDefs, valueDefs)) {\n        if (def.valueType === \"category\") {\n          dataDomain.set(def, new DiscreteDomain());\n        } else {\n          dataDomain.set(def, new ContinuousDomain());\n          allScopesHaveSameDefs && (allScopesHaveSameDefs = ((_a = def.scopes) != null ? _a : []).length === scopes.size);\n        }\n      }\n    };\n    initDataDomain();\n    const accessors = this.buildAccessors(iterate(keyDefs, valueDefs));\n    const processValue = (def, datum, previousDatum, scope) => {\n      var _a, _b, _c, _d, _e;\n      let valueInDatum;\n      let value;\n      if (accessors.has(def.property)) {\n        try {\n          value = accessors.get(def.property)(datum);\n        } catch (error) {}\n        valueInDatum = value != null;\n      } else {\n        valueInDatum = def.property in datum;\n        value = valueInDatum ? datum[def.property] : def.missingValue;\n      }\n      if (def.forceValue != null) {\n        const valueNegative = valueInDatum && isNegative(value);\n        value = valueNegative ? -1 * def.forceValue : def.forceValue;\n        valueInDatum = true;\n      }\n      const missingValueDef = (\"missingValue\" in def);\n      if (!valueInDatum && !missingValueDef) {\n        const missCount = (_a = def.missing.get(scope)) != null ? _a : 0;\n        def.missing.set(scope, missCount + 1);\n      }\n      if (!dataDomain.has(def)) {\n        initDataDomain();\n      }\n      if (valueInDatum && !((_c = (_b = def.validation) == null ? void 0 : _b.call(def, value, datum)) != null ? _c : true)) {\n        if (\"invalidValue\" in def) {\n          value = def.invalidValue;\n        } else {\n          if (this.mode !== \"integrated\") {\n            Logger.warnOnce(`invalid value of type [${typeof value}] ignored:`, `[${value}]`);\n          }\n          return INVALID_VALUE;\n        }\n      }\n      if (def.processor) {\n        if (!processorFns.has(def)) {\n          processorFns.set(def, def.processor());\n        }\n        value = (_d = processorFns.get(def)) == null ? void 0 : _d(value, previousDatum === INVALID_VALUE ? void 0 : previousDatum);\n      }\n      (_e = dataDomain.get(def)) == null ? void 0 : _e.extend(value);\n      return value;\n    };\n    return {\n      dataDomain,\n      processValue,\n      initDataDomain,\n      scopes,\n      allScopesHaveSameDefs\n    };\n  }\n  buildAccessors(defs) {\n    const result = /* @__PURE__ */new Map();\n    if (this.mode === \"integrated\") {\n      return result;\n    }\n    for (const def of defs) {\n      const isPath = def.property.includes(\".\") || def.property.includes(\"[\");\n      if (!isPath) continue;\n      let fnBody;\n      if (def.property.startsWith(\"[\")) {\n        fnBody = `return datum${def.property};`;\n      } else {\n        fnBody = `return datum.${def.property};`;\n      }\n      result.set(def.property, new Function(\"datum\", fnBody));\n    }\n    return result;\n  }\n};\nfunction logProcessedData(processedData) {\n  var _a, _b;\n  const logValues = (name, data) => {\n    if (data.length > 0) {\n      Logger.log(`DataModel.processData() - ${name}`);\n      Logger.table(data);\n    }\n  };\n  Logger.log(\"DataModel.processData() - processedData\", processedData);\n  logValues(\"Key Domains\", processedData.domain.keys);\n  logValues(\"Group Domains\", (_a = processedData.domain.groups) != null ? _a : []);\n  logValues(\"Value Domains\", processedData.domain.values);\n  logValues(\"Aggregate Domains\", (_b = processedData.domain.aggValues) != null ? _b : []);\n  if (processedData.type === \"grouped\") {\n    const flattenedValues = processedData.data.reduce((acc, next) => {\n      var _a2, _b2;\n      const keys = (_a2 = next.keys) != null ? _a2 : [];\n      const aggValues = (_b2 = next.aggValues) != null ? _b2 : [];\n      const skipKeys = next.keys.map(() => void 0);\n      const skipAggValues = aggValues == null ? void 0 : aggValues.map(() => void 0);\n      acc.push(...next.values.map((v, i) => [...(i === 0 ? keys : skipKeys), ...(v != null ? v : []), ...(i == 0 ? aggValues : skipAggValues)]));\n      return acc;\n    }, []);\n    logValues(\"Values\", flattenedValues);\n  } else {\n    const flattenedValues = processedData.data.reduce((acc, next) => {\n      var _a2;\n      const aggValues = (_a2 = next.aggValues) != null ? _a2 : [];\n      acc.push([...next.keys, ...next.values, ...aggValues]);\n      return acc;\n    }, []);\n    logValues(\"Values\", flattenedValues);\n  }\n}\n\n// packages/ag-charts-community/src/chart/data/dataController.ts\nvar _DataController = class _DataController {\n  constructor(mode) {\n    this.mode = mode;\n    this.debug = Debug.create(true, \"data-model\");\n    this.requested = [];\n    this.status = \"setup\";\n  }\n  request(id, data, opts) {\n    return __async(this, null, function* () {\n      if (this.status !== \"setup\") {\n        throw new Error(`AG Charts - data request after data setup phase.`);\n      }\n      return new Promise((resolve, reject) => {\n        this.requested.push({\n          id,\n          opts,\n          data,\n          resolve,\n          reject\n        });\n      });\n    });\n  }\n  execute() {\n    if (this.status !== \"setup\") {\n      throw new Error(`AG Charts - data request after data setup phase.`);\n    }\n    this.status = \"executed\";\n    this.debug(\"DataController.execute() - requested\", this.requested);\n    const valid = this.validateRequests(this.requested);\n    this.debug(\"DataController.execute() - validated\", valid);\n    const merged = this.mergeRequested(valid);\n    this.debug(\"DataController.execute() - merged\", merged);\n    if (this.debug.check()) {\n      getWindow().processedData = [];\n    }\n    const scopes = this.requested.map(({\n      id\n    }) => id);\n    const needsValueExtraction = this.hasMultipleDataSources(valid);\n    for (const {\n      opts,\n      data,\n      resolves,\n      rejects,\n      ids\n    } of merged) {\n      try {\n        const dataModel = new DataModel(opts, this.mode);\n        const processedData = dataModel.processData(data, valid);\n        if (this.debug.check()) {\n          getWindow(\"processedData\").push(processedData);\n        }\n        if ((processedData == null ? void 0 : processedData.partialValidDataCount) === 0) {\n          resolves.forEach((resolve, requestIdx) => resolve({\n            dataModel,\n            processedData: this.processScopedData(ids[requestIdx], processedData, scopes, needsValueExtraction)\n          }));\n        } else if (processedData) {\n          this.splitResult(dataModel, processedData, ids, resolves);\n        } else {\n          rejects.forEach(cb => cb(new Error(`AG Charts - no processed data generated`)));\n        }\n      } catch (error) {\n        rejects.forEach(cb => cb(error));\n      }\n    }\n  }\n  hasMultipleDataSources(validRequests) {\n    if (validRequests.length) {\n      const [{\n        data\n      }, ...restRequests] = validRequests;\n      return restRequests.some(v => data !== v.data);\n    }\n    return false;\n  }\n  processScopedData(id, processedData, ids, needsValueExtraction) {\n    const extractDatum = datum => {\n      if (Array.isArray(datum)) {\n        return datum.map(extractDatum);\n      }\n      const extracted = needsValueExtraction ? __spreadValues(__spreadValues({}, datum), datum[id]) : datum;\n      for (const otherId of ids) {\n        delete extracted[otherId];\n      }\n      return extracted;\n    };\n    const extractValues = values => {\n      var _a;\n      if (Array.isArray(values)) {\n        return values.map(extractValues);\n      }\n      return (_a = values == null ? void 0 : values[id]) != null ? _a : values;\n    };\n    return __spreadProps(__spreadValues({}, processedData), {\n      data: processedData.data.map(datum => {\n        var _a;\n        return __spreadProps(__spreadValues({}, datum), {\n          datum: extractDatum(datum.datum),\n          values: needsValueExtraction ? (_a = datum.values) == null ? void 0 : _a.map(extractValues) : datum.values\n        });\n      })\n    });\n  }\n  validateRequests(requested) {\n    const valid = [];\n    for (const [index, request] of requested.entries()) {\n      if (index > 0 && request.data.length !== requested[0].data.length && request.opts.groupByData === false) {\n        request.reject(new Error(\"all series[].data arrays must be of the same length and have matching keys.\"));\n      } else {\n        valid.push(request);\n      }\n    }\n    return valid;\n  }\n  mergeRequested(requested) {\n    const grouped = [];\n    for (const request of requested) {\n      const match = grouped.find(_DataController.groupMatch(request));\n      if (match) {\n        match.push(request);\n      } else {\n        grouped.push([request]);\n      }\n    }\n    return grouped.map(_DataController.mergeRequests);\n  }\n  splitResult(dataModel, processedData, scopes, resolves) {\n    for (let i = 0; i < scopes.length; i++) {\n      const scope = scopes[i];\n      const resolve = resolves[i];\n      resolve({\n        dataModel,\n        processedData: __spreadProps(__spreadValues({}, processedData), {\n          data: processedData.data.filter(({\n            validScopes\n          }) => {\n            var _a;\n            return (_a = validScopes == null ? void 0 : validScopes.has(scope)) != null ? _a : true;\n          })\n        })\n      });\n    }\n  }\n  static groupMatch({\n    data,\n    opts\n  }) {\n    function keys(props) {\n      return props.filter(p => p.type === \"key\").map(p => p.property).join(\";\");\n    }\n    return ([group2]) => (opts.groupByData === false || group2.data === data) && group2.opts.groupByKeys === opts.groupByKeys && group2.opts.groupByFn === opts.groupByFn && keys(group2.opts.props) === keys(opts.props);\n  }\n  static mergeRequests(requests) {\n    return requests.reduce((result, _a) => {\n      var {\n          id,\n          data,\n          resolve,\n          reject,\n          opts: _b\n        } = _a,\n        _c = _b,\n        {\n          props\n        } = _c,\n        opts = __objRest(_c, [\"props\"]);\n      var _a2, _b2, _c2, _d, _e;\n      result.ids.push(id);\n      result.rejects.push(reject);\n      result.resolves.push(resolve);\n      (_a2 = result.data) != null ? _a2 : result.data = data;\n      (_b2 = result.opts) != null ? _b2 : result.opts = __spreadProps(__spreadValues({}, opts), {\n        props: []\n      });\n      for (const prop of props) {\n        const clone = __spreadProps(__spreadValues({}, prop), {\n          scopes: [id]\n        });\n        _DataController.createIdsMap(id, clone);\n        const match = result.opts.props.find(existing => existing.type === clone.type && _DataController.deepEqual(existing, clone));\n        if (!match) {\n          result.opts.props.push(clone);\n          continue;\n        }\n        (_c2 = match.scopes) != null ? _c2 : match.scopes = [];\n        match.scopes.push(...((_d = clone.scopes) != null ? _d : []));\n        if ((match.type === \"key\" || match.type === \"value\") && ((_e = clone.idsMap) == null ? void 0 : _e.size)) {\n          _DataController.mergeIdsMap(clone.idsMap, match.idsMap);\n        }\n      }\n      return result;\n    }, {\n      ids: [],\n      rejects: [],\n      resolves: [],\n      data: null,\n      opts: null\n    });\n  }\n  static mergeIdsMap(fromMap, toMap) {\n    for (const [scope, ids] of fromMap) {\n      if (toMap.has(scope)) {\n        for (const id of ids) {\n          toMap.get(scope).add(id);\n        }\n      } else {\n        toMap.set(scope, new Set(ids));\n      }\n    }\n  }\n  static createIdsMap(scope, prop) {\n    var _a;\n    if (prop.id == null) return;\n    (_a = prop.idsMap) != null ? _a : prop.idsMap = /* @__PURE__ */new Map();\n    if (prop.idsMap.has(scope)) {\n      prop.idsMap.get(scope).add(prop.id);\n    } else {\n      prop.idsMap.set(scope, /* @__PURE__ */new Set([prop.id]));\n    }\n  }\n  static deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n    if (a && b && typeof a == \"object\" && typeof b == \"object\") {\n      if (a.constructor !== b.constructor) {\n        return false;\n      }\n      let i, length;\n      if (Array.isArray(a)) {\n        length = a.length;\n        if (length !== b.length) {\n          return false;\n        }\n        for (i = length - 1; i >= 0; i--) {\n          if (!_DataController.deepEqual(a[i], b[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      const keys = Object.keys(a);\n      length = keys.length;\n      if (length !== Object.keys(b).length) {\n        return false;\n      }\n      for (i = length - 1; i >= 0; i--) {\n        const key = keys[i];\n        if (!_DataController.skipKeys.has(key) && (!Object.hasOwn(b, key) || !_DataController.deepEqual(a[key], b[key]))) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n};\n// optimized version of deep equality for `mergeRequests` which can potentially loop over 1M times\n_DataController.skipKeys = /* @__PURE__ */new Set([\"id\", \"idsMap\", \"type\", \"scopes\"]);\nvar DataController = _DataController;\n\n// packages/ag-charts-community/src/chart/interaction/syncManager.ts\nvar _SyncManager = class _SyncManager extends BaseManager {\n  constructor(chart) {\n    super();\n    this.chart = chart;\n  }\n  subscribe(groupId = _SyncManager.DEFAULT_GROUP) {\n    let syncGroup = this.get(groupId);\n    if (!syncGroup) {\n      syncGroup = /* @__PURE__ */new Set();\n      _SyncManager.chartsGroups.set(groupId, syncGroup);\n    }\n    syncGroup.add(this.chart);\n    return this;\n  }\n  unsubscribe(groupId = _SyncManager.DEFAULT_GROUP) {\n    var _a;\n    (_a = this.get(groupId)) == null ? void 0 : _a.delete(this.chart);\n    return this;\n  }\n  getChart() {\n    return this.chart;\n  }\n  getGroup(groupId = _SyncManager.DEFAULT_GROUP) {\n    const syncGroup = this.get(groupId);\n    return syncGroup ? Array.from(syncGroup) : [];\n  }\n  getGroupSiblings(groupId = _SyncManager.DEFAULT_GROUP) {\n    return this.getGroup(groupId).filter(chart => chart !== this.chart);\n  }\n  get(groupId) {\n    return _SyncManager.chartsGroups.get(groupId);\n  }\n};\n_SyncManager.chartsGroups = /* @__PURE__ */new Map();\n_SyncManager.DEFAULT_GROUP = Symbol(\"sync-group-default\");\nvar SyncManager = _SyncManager;\n\n// packages/ag-charts-community/src/chart/interaction/zoomManager.ts\nvar ZoomManager = class extends BaseManager {\n  constructor() {\n    super(...arguments);\n    this.axisZoomManagers = /* @__PURE__ */new Map();\n    this.state = new StateTracker(void 0, \"initial\");\n    this.rejectCallbacks = /* @__PURE__ */new Map();\n  }\n  updateAxes(axes) {\n    var _a;\n    const zoomManagers = new Map(axes.map(axis => [axis.id, this.axisZoomManagers.get(axis.id)]));\n    this.axisZoomManagers.clear();\n    for (const axis of axes) {\n      this.axisZoomManagers.set(axis.id, (_a = zoomManagers.get(axis.id)) != null ? _a : new AxisZoomManager(axis));\n    }\n    if (this.state.size > 0 && axes.length > 0) {\n      this.updateZoom(this.state.stateId(), this.state.stateValue());\n    }\n  }\n  updateZoom(callerId, newZoom, canChangeInitial = true, rejectCallback) {\n    var _a;\n    if (rejectCallback) {\n      this.rejectCallbacks.set(callerId, rejectCallback);\n    }\n    if (this.axisZoomManagers.size === 0) {\n      const stateId = this.state.stateId();\n      if (stateId === \"initial\" || stateId === callerId || canChangeInitial) {\n        this.state.set(callerId, newZoom);\n        if (stateId !== callerId) {\n          (_a = this.rejectCallbacks.get(stateId)) == null ? void 0 : _a(callerId);\n        }\n      } else {\n        rejectCallback == null ? void 0 : rejectCallback(stateId);\n      }\n      return;\n    }\n    this.state.set(callerId, newZoom);\n    this.axisZoomManagers.forEach(axis => {\n      axis.updateZoom(callerId, newZoom == null ? void 0 : newZoom[axis.getDirection()]);\n    });\n    this.applyChanges(callerId);\n  }\n  updateAxisZoom(callerId, axisId, newZoom) {\n    var _a;\n    (_a = this.axisZoomManagers.get(axisId)) == null ? void 0 : _a.updateZoom(callerId, newZoom);\n    this.applyChanges(callerId);\n  }\n  // Fire this event to signal to listeners that the view is changing through a zoom and/or pan change.\n  fireZoomPanStartEvent(callerId) {\n    this.listeners.dispatch(\"zoom-pan-start\", {\n      type: \"zoom-pan-start\",\n      callerId\n    });\n  }\n  getZoom() {\n    let x;\n    let y;\n    this.axisZoomManagers.forEach(axis => {\n      if (axis.getDirection() === \"x\" /* X */) {\n        x != null ? x : x = axis.getZoom();\n      } else if (axis.getDirection() === \"y\" /* Y */) {\n        y != null ? y : y = axis.getZoom();\n      }\n    });\n    if (x || y) {\n      return {\n        x,\n        y\n      };\n    }\n  }\n  getAxisZoom(axisId) {\n    var _a, _b;\n    return (_b = (_a = this.axisZoomManagers.get(axisId)) == null ? void 0 : _a.getZoom()) != null ? _b : {\n      min: 0,\n      max: 1\n    };\n  }\n  getAxisZooms() {\n    const axes = {};\n    for (const [axisId, axis] of this.axisZoomManagers.entries()) {\n      axes[axisId] = {\n        direction: axis.getDirection(),\n        zoom: axis.getZoom()\n      };\n    }\n    return axes;\n  }\n  applyChanges(callerId) {\n    const changed = Array.from(this.axisZoomManagers.values(), axis => axis.applyChanges()).some(Boolean);\n    if (!changed) {\n      return;\n    }\n    const axes = {};\n    for (const [axisId, axis] of this.axisZoomManagers.entries()) {\n      axes[axisId] = axis.getZoom();\n    }\n    this.listeners.dispatch(\"zoom-change\", __spreadProps(__spreadValues({\n      type: \"zoom-change\"\n    }, this.getZoom()), {\n      axes,\n      callerId\n    }));\n  }\n};\nvar AxisZoomManager = class {\n  constructor(axis) {\n    this.axis = axis;\n    const [min = 0, max = 1] = axis.visibleRange;\n    this.state = new StateTracker({\n      min,\n      max\n    });\n    this.currentZoom = this.state.stateValue();\n  }\n  getDirection() {\n    return this.axis.direction;\n  }\n  updateZoom(callerId, newZoom) {\n    this.state.set(callerId, newZoom);\n  }\n  getZoom() {\n    return deepClone(this.state.stateValue());\n  }\n  applyChanges() {\n    const prevZoom = this.currentZoom;\n    this.currentZoom = this.state.stateValue();\n    return prevZoom.min !== this.currentZoom.min || prevZoom.max !== this.currentZoom.max;\n  }\n};\n\n// packages/ag-charts-community/src/chart/keyboard.ts\nvar Keyboard = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], Keyboard.prototype, \"enabled\", 2);\n__decorateClass([Validate(NUMBER)], Keyboard.prototype, \"tabIndex\", 2);\n\n// packages/ag-charts-community/src/chart/keyboardUtil.ts\nfunction makeKeyboardPointerEvent(regionManager, pick) {\n  const {\n    bbox,\n    showFocusBox\n  } = pick;\n  if (showFocusBox) {\n    regionManager.updateFocusIndicatorRect(pick.bbox);\n  }\n  if (bbox !== void 0) {\n    const {\n      x: offsetX,\n      y: offsetY\n    } = bbox.computeCenter();\n    return {\n      type: \"keyboard\",\n      offsetX,\n      offsetY\n    };\n  }\n  return void 0;\n}\n\n// packages/ag-charts-community/src/chart/mapping/prepareAxis.ts\nvar CARTESIAN_AXIS_POSITIONS = [\"top\", \"right\", \"bottom\", \"left\"];\nvar CARTESIAN_AXIS_TYPES = [\"category\", \"grouped-category\", \"ordinal-time\", \"number\", \"log\", \"time\"];\nfunction hasCartesianAxisPosition(axis) {\n  const allowedTypes = CARTESIAN_AXIS_TYPES;\n  return allowedTypes.includes(axis.type);\n}\nfunction isCartesianAxisOptions(options) {\n  const allowedTypes = CARTESIAN_AXIS_TYPES;\n  return allowedTypes.includes(options.type);\n}\nfunction isAxisPosition(position) {\n  const allowedPositions = CARTESIAN_AXIS_POSITIONS;\n  return typeof position === \"string\" && allowedPositions.includes(position);\n}\nvar AxisPositionGuesser = class {\n  constructor() {\n    this.result = [];\n    this.valid = [];\n    this.invalid = [];\n  }\n  push(axis, options) {\n    const {\n      result,\n      valid,\n      invalid\n    } = this;\n    if (isCartesianAxisOptions(options)) {\n      if (isAxisPosition(options.position)) {\n        valid.push(axis);\n      } else {\n        invalid.push(axis);\n      }\n    }\n    result.push(axis);\n  }\n  guessInvalidPositions() {\n    const takenPosition = this.valid.filter(v => hasCartesianAxisPosition(v)).map(v => v.position).filter(v => v !== void 0);\n    const guesses = [\"top\", \"right\", \"bottom\", \"left\"];\n    for (const invalidAxis of this.invalid) {\n      let nextGuess = guesses.pop();\n      while (takenPosition.includes(nextGuess) && nextGuess !== void 0) {\n        nextGuess = guesses.pop();\n      }\n      if (nextGuess === void 0) break;\n      invalidAxis.position = nextGuess;\n    }\n    return this.result;\n  }\n};\n\n// packages/ag-charts-community/src/chart/mapping/prepareSeries.ts\nvar MATCHING_KEYS = [\"direction\", \"xKey\", \"yKey\", \"sizeKey\", \"angleKey\", \"radiusKey\", \"normalizedTo\", \"stacked\", \"grouped\", \"stackGroup\"];\nfunction matchSeriesOptions(series, optSeries, oldOptsSeries) {\n  var _a, _b, _c, _d;\n  const generateKey = (type, i) => {\n    const result = [type];\n    for (const key of MATCHING_KEYS) {\n      if (key in i && i[key] != null) result.push(`${key}=${i[key]}`);\n    }\n    return result.join(\";\");\n  };\n  const seriesMap = /* @__PURE__ */new Map();\n  let idx = 0;\n  for (const s of series) {\n    const key = generateKey(s.type, s.properties);\n    if (!seriesMap.has(key)) {\n      seriesMap.set(key, []);\n    }\n    (_a = seriesMap.get(key)) == null ? void 0 : _a.push([s, idx++]);\n  }\n  const optsMap = /* @__PURE__ */new Map();\n  for (const o of optSeries) {\n    const key = generateKey(o.type, o);\n    if (!optsMap.has(key)) {\n      optsMap.set(key, []);\n    }\n    (_b = optsMap.get(key)) == null ? void 0 : _b.push(o);\n  }\n  const overlap = [...seriesMap.keys()].some(k => optsMap.has(k));\n  if (!overlap) {\n    return {\n      status: \"no-overlap\",\n      oldKeys: seriesMap.keys(),\n      newKeys: optsMap.keys()\n    };\n  }\n  const changes = [];\n  let targetIdx = -1;\n  for (const [key, optArray] of optsMap.entries()) {\n    for (const opts of optArray) {\n      targetIdx++;\n      const seriesArray = seriesMap.get(key);\n      if (seriesArray == null || seriesArray.length < 1) {\n        changes.push({\n          opts,\n          idx: targetIdx,\n          status: \"add\"\n        });\n        seriesMap.delete(key);\n        continue;\n      }\n      const [outputSeries, outputIdx] = seriesArray.shift();\n      const previousOpts = (_c = oldOptsSeries == null ? void 0 : oldOptsSeries[outputIdx]) != null ? _c : {};\n      const diff2 = jsonDiff(previousOpts, opts != null ? opts : {});\n      const {\n        groupIndex,\n        stackIndex\n      } = (_d = diff2 == null ? void 0 : diff2.seriesGrouping) != null ? _d : {};\n      if (groupIndex != null || stackIndex != null) {\n        changes.push({\n          opts,\n          series: outputSeries,\n          diff: diff2,\n          idx: outputIdx,\n          status: \"series-grouping\"\n        });\n      } else if (diff2) {\n        changes.push({\n          opts,\n          series: outputSeries,\n          diff: diff2,\n          idx: outputIdx,\n          status: \"update\"\n        });\n      } else {\n        changes.push({\n          opts,\n          series: outputSeries,\n          idx: outputIdx,\n          status: \"no-op\"\n        });\n      }\n      if (seriesArray.length === 0) {\n        seriesMap.delete(key);\n      }\n    }\n  }\n  for (const seriesArray of seriesMap.values()) {\n    for (const [outputSeries, outputIdx] of seriesArray) {\n      changes.push({\n        series: outputSeries,\n        idx: outputIdx,\n        status: \"remove\"\n      });\n    }\n  }\n  return {\n    status: \"overlap\",\n    changes\n  };\n}\n\n// packages/ag-charts-community/src/chart/modulesManager.ts\nvar ModulesManager = class extends ModuleMap {\n  applyOptions(options) {\n    for (const m of this.moduleMap.values()) {\n      if (m.module.optionsKey in options && isProperties(m.moduleInstance)) {\n        m.moduleInstance.set(options[m.module.optionsKey]);\n      }\n    }\n  }\n  *legends() {\n    for (const {\n      module,\n      moduleInstance\n    } of this.moduleMap.values()) {\n      if (module.type !== \"legend\") continue;\n      yield {\n        legendType: module.identifier,\n        legend: moduleInstance\n      };\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/overlay/overlay.ts\nvar DEFAULT_OVERLAY_CLASS = \"ag-chart-overlay\";\nvar DEFAULT_OVERLAY_DARK_CLASS = \"ag-chart-dark-overlay\";\nvar Overlay = class extends BaseProperties {\n  constructor(className, defaultText) {\n    super();\n    this.className = className;\n    this.defaultText = defaultText;\n    this.darkTheme = false;\n  }\n  getText() {\n    var _a;\n    return (_a = this.text) != null ? _a : this.defaultText;\n  }\n  getElement(animationManager, rect) {\n    var _a;\n    (_a = this.element) != null ? _a : this.element = createElement(\"div\", DEFAULT_OVERLAY_CLASS, {\n      position: \"absolute\"\n    });\n    this.element.classList.toggle(DEFAULT_OVERLAY_DARK_CLASS, this.darkTheme);\n    this.focusBox = rect;\n    const element2 = this.element;\n    element2.style.left = `${rect.x}px`;\n    element2.style.top = `${rect.y}px`;\n    element2.style.width = `${rect.width}px`;\n    element2.style.height = `${rect.height}px`;\n    if (this.renderer) {\n      const htmlContent = this.renderer();\n      if (htmlContent instanceof HTMLElement) {\n        element2.replaceChildren(htmlContent);\n      } else {\n        element2.innerHTML = htmlContent;\n      }\n    } else {\n      const content = createElement(\"div\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        boxSizing: \"border-box\",\n        height: \"100%\",\n        margin: \"8px\",\n        font: \"12px Verdana, sans-serif\"\n      });\n      content.innerText = this.getText();\n      element2.replaceChildren(content);\n      animationManager == null ? void 0 : animationManager.animate({\n        from: 0,\n        to: 1,\n        id: \"overlay\",\n        phase: \"add\",\n        groupId: \"opacity\",\n        onUpdate(value) {\n          element2.style.opacity = String(value);\n        },\n        onStop() {\n          element2.style.opacity = \"1\";\n        }\n      });\n    }\n    return this.element;\n  }\n  removeElement(animationManager) {\n    if (!this.element) return;\n    if (animationManager) {\n      const {\n        element: element2\n      } = this;\n      animationManager.animate({\n        from: 1,\n        to: 0,\n        phase: \"remove\",\n        id: \"overlay\",\n        groupId: \"opacity\",\n        onUpdate(value) {\n          element2.style.opacity = String(value);\n        },\n        onStop() {\n          element2.remove();\n        }\n      });\n    } else {\n      this.element.remove();\n    }\n    this.element = void 0;\n    this.focusBox = void 0;\n  }\n};\n__decorateClass([Validate(STRING, {\n  optional: true\n})], Overlay.prototype, \"text\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], Overlay.prototype, \"renderer\", 2);\n__decorateClass([Validate(BOOLEAN)], Overlay.prototype, \"darkTheme\", 2);\n\n// packages/ag-charts-community/src/chart/overlay/chartOverlays.ts\nvar ChartOverlays = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.loading = new Overlay(\"ag-chart-loading-overlay\", \"Loading data...\");\n    this.noData = new Overlay(\"ag-chart-no-data-overlay\", \"No data to display\");\n    this.noVisibleSeries = new Overlay(\"ag-chart-no-visible-series\", \"No visible series\");\n  }\n  getFocusInfo() {\n    for (const overlay of [this.loading, this.noData, this.noVisibleSeries]) {\n      if (overlay.focusBox !== void 0) {\n        return {\n          text: overlay.getText(),\n          rect: overlay.focusBox\n        };\n      }\n    }\n    return void 0;\n  }\n  destroy() {\n    this.loading.removeElement();\n    this.noData.removeElement();\n    this.noVisibleSeries.removeElement();\n  }\n};\n__decorateClass([Validate(OBJECT)], ChartOverlays.prototype, \"loading\", 2);\n__decorateClass([Validate(OBJECT)], ChartOverlays.prototype, \"noData\", 2);\n__decorateClass([Validate(OBJECT)], ChartOverlays.prototype, \"noVisibleSeries\", 2);\n\n// packages/ag-charts-community/src/chart/overlay/loadingSpinner.ts\nvar defaultOverlayCss = `\n.${DEFAULT_OVERLAY_CLASS} {\n    color: #181d1f;\n}\n\n.${DEFAULT_OVERLAY_CLASS}.${DEFAULT_OVERLAY_DARK_CLASS} {\n    color: #ffffff;\n}\n\n.${DEFAULT_OVERLAY_CLASS}--loading {\n    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */\n}\n\n.${DEFAULT_OVERLAY_CLASS}__loading-background {\n    background: white; /* DEFAULT_BACKGROUND_FILL */\n}\n\n.${DEFAULT_OVERLAY_CLASS}.${DEFAULT_OVERLAY_DARK_CLASS} .${DEFAULT_OVERLAY_CLASS}__loading-background {\n    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */\n}\n`;\nfunction getLoadingSpinner(text, defaultDuration) {\n  const {\n    animationDuration\n  } = PHASE_METADATA[\"add\"];\n  const duration = animationDuration * defaultDuration;\n  const container = createElement(\"div\", `${DEFAULT_OVERLAY_CLASS}--loading`, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    boxSizing: \"border-box\",\n    font: \"13px Verdana, sans-serif\",\n    // FONT_SIZE.MEDIUM\n    userSelect: \"none\",\n    animation: `ag-charts-loading ${duration}ms linear 50ms both`\n  });\n  const matrix = createElement(\"span\", {\n    width: \"45px\",\n    height: \"40px\",\n    backgroundImage: [\"linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), \", \"linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), \", \"linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)\"].join(\"\"),\n    backgroundSize: \"10px 400%\",\n    backgroundRepeat: \"no-repeat\",\n    animation: \"ag-charts-loading-matrix 1s infinite linear\"\n  });\n  const label = createElement(\"p\", {\n    marginTop: \"1em\"\n  });\n  label.innerText = text;\n  const background = createElement(\"div\", `${DEFAULT_OVERLAY_CLASS}__loading-background`, {\n    position: \"absolute\",\n    inset: \"0\",\n    opacity: \"0.5\",\n    zIndex: \"-1\"\n  });\n  const animationStyles = createElement(\"style\");\n  animationStyles.innerText = [\"@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }\", \"@keyframes ag-charts-loading-matrix {\", \"0% { background-position: 0% 0%, 50% 0%, 100% 0%; }\", \"100% { background-position: 0% 100%, 50% 100%, 100% 100%; }\", \"}\"].join(\" \");\n  container.replaceChildren(animationStyles, matrix, label, background);\n  injectStyle(defaultOverlayCss, \"chartOverlays\");\n  return container;\n}\n\n// packages/ag-charts-community/src/chart/data/aggregateFunctions.ts\nfunction sumValues(values, accumulator = [0, 0]) {\n  for (const value of values) {\n    if (typeof value !== \"number\") {\n      continue;\n    }\n    if (value < 0) {\n      accumulator[0] += value;\n    }\n    if (value > 0) {\n      accumulator[1] += value;\n    }\n  }\n  return accumulator;\n}\nfunction sum(id, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: [matchGroupId],\n    type: \"aggregate\",\n    aggregateFunction: values => sumValues(values)\n  };\n  return result;\n}\nfunction groupSum(id, matchGroupId) {\n  return {\n    id,\n    type: \"aggregate\",\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    aggregateFunction: values => sumValues(values),\n    groupAggregateFunction: (next, acc = [0, 0]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      return acc;\n    }\n  };\n}\nfunction range2(id, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: [matchGroupId],\n    type: \"aggregate\",\n    aggregateFunction: values => ContinuousDomain.extendDomain(values)\n  };\n  return result;\n}\nfunction groupCount(id) {\n  return {\n    id,\n    type: \"aggregate\",\n    aggregateFunction: () => [0, 1],\n    groupAggregateFunction: (next, acc = [0, 0]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      return acc;\n    }\n  };\n}\nfunction groupAverage(id, matchGroupId) {\n  const def = {\n    id,\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    type: \"aggregate\",\n    aggregateFunction: values => sumValues(values),\n    groupAggregateFunction: (next, acc = [0, 0, -1]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      acc[2]++;\n      return acc;\n    },\n    finalFunction: (acc = [0, 0, 0]) => {\n      const result = acc[0] + acc[1];\n      if (result >= 0) {\n        return [0, result / acc[2]];\n      }\n      return [result / acc[2], 0];\n    }\n  };\n  return def;\n}\nfunction area(id, aggFn, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    type: \"aggregate\",\n    aggregateFunction: (values, keyRange = []) => {\n      const keyWidth = keyRange[1] - keyRange[0];\n      return aggFn.aggregateFunction(values).map(v => v / keyWidth);\n    }\n  };\n  if (aggFn.groupAggregateFunction) {\n    result.groupAggregateFunction = aggFn.groupAggregateFunction;\n  }\n  return result;\n}\nfunction accumulatedValue(onlyPositive) {\n  return () => {\n    let value = 0;\n    return datum => {\n      if (!isFiniteNumber(datum)) {\n        return datum;\n      }\n      value += onlyPositive ? Math.max(0, datum) : datum;\n      return value;\n    };\n  };\n}\nfunction trailingAccumulatedValue() {\n  return () => {\n    let value = 0;\n    return datum => {\n      if (!isFiniteNumber(datum)) {\n        return datum;\n      }\n      const trailingValue = value;\n      value += datum;\n      return trailingValue;\n    };\n  };\n}\n\n// packages/ag-charts-community/src/chart/data/processors.ts\nvar SMALLEST_KEY_INTERVAL = {\n  type: \"reducer\",\n  property: \"smallestKeyInterval\",\n  initialValue: Infinity,\n  reducer: () => {\n    let prevX = NaN;\n    return (smallestSoFar = Infinity, next) => {\n      const nextX = next.keys[0];\n      const interval = Math.abs(nextX - prevX);\n      prevX = nextX;\n      if (!isNaN(interval) && interval > 0 && interval < smallestSoFar) {\n        return interval;\n      }\n      return smallestSoFar;\n    };\n  }\n};\nvar SORT_DOMAIN_GROUPS = {\n  type: \"processor\",\n  property: \"sortedGroupDomain\",\n  calculate: ({\n    domain: {\n      groups\n    }\n  }) => groups == null ? void 0 : groups.slice().sort((a, b) => {\n    for (let i = 0; i < a.length; i++) {\n      const result = a[i] - b[i];\n      if (result !== 0) {\n        return result;\n      }\n    }\n    return 0;\n  })\n};\nfunction normaliseFnBuilder({\n  normaliseTo,\n  mode\n}) {\n  const normalise = (val, extent2) => {\n    const result = val * normaliseTo / extent2;\n    if (result >= 0) {\n      return Math.min(normaliseTo, result);\n    }\n    return Math.max(-normaliseTo, result);\n  };\n  return () => () => (values, valueIndexes) => {\n    const valuesExtent = [0, 0];\n    for (const valueIdx of valueIndexes) {\n      const value = values[valueIdx];\n      const valIdx = value < 0 ? 0 : 1;\n      if (mode === \"sum\") {\n        valuesExtent[valIdx] += value;\n      } else if (valIdx === 0) {\n        valuesExtent[valIdx] = Math.min(valuesExtent[valIdx], value);\n      } else {\n        valuesExtent[valIdx] = Math.max(valuesExtent[valIdx], value);\n      }\n    }\n    const extent2 = Math.max(Math.abs(valuesExtent[0]), valuesExtent[1]);\n    for (const valueIdx of valueIndexes) {\n      values[valueIdx] = normalise(values[valueIdx], extent2);\n    }\n  };\n}\nfunction normaliseGroupTo(matchGroupIds, normaliseTo, mode = \"sum\") {\n  return {\n    type: \"group-value-processor\",\n    matchGroupIds,\n    adjust: memo({\n      normaliseTo,\n      mode\n    }, normaliseFnBuilder)\n  };\n}\nfunction normalisePropertyFnBuilder({\n  normaliseTo,\n  zeroDomain,\n  rangeMin,\n  rangeMax\n}) {\n  const normaliseSpan = normaliseTo[1] - normaliseTo[0];\n  const normalise = (val, start, span) => {\n    const result = normaliseTo[0] + (val - start) / span * normaliseSpan;\n    if (span === 0) {\n      return zeroDomain;\n    } else if (result >= normaliseTo[1]) {\n      return normaliseTo[1];\n    } else if (result < normaliseTo[0]) {\n      return normaliseTo[0];\n    }\n    return result;\n  };\n  return () => (pData, pIdx) => {\n    let [start, end] = pData.domain.values[pIdx];\n    if (rangeMin != null) start = rangeMin;\n    if (rangeMax != null) end = rangeMax;\n    const span = end - start;\n    pData.domain.values[pIdx] = [normaliseTo[0], normaliseTo[1]];\n    for (const group2 of pData.data) {\n      let groupValues = group2.values;\n      if (pData.type === \"ungrouped\") {\n        groupValues = [groupValues];\n      }\n      for (const values of groupValues) {\n        values[pIdx] = normalise(values[pIdx], start, span);\n      }\n    }\n  };\n}\nfunction normalisePropertyTo(property, normaliseTo, zeroDomain, rangeMin, rangeMax) {\n  return {\n    type: \"property-value-processor\",\n    property,\n    adjust: memo({\n      normaliseTo,\n      rangeMin,\n      rangeMax,\n      zeroDomain\n    }, normalisePropertyFnBuilder)\n  };\n}\nfunction animationValidation(valueKeyIds) {\n  return {\n    type: \"processor\",\n    property: \"animationValidation\",\n    calculate(result) {\n      const {\n        keys,\n        values\n      } = result.defs;\n      const {\n        input,\n        data\n      } = result;\n      let uniqueKeys = true;\n      let orderedKeys = true;\n      const valueKeys = [];\n      for (let k = 0; k < values.length; k++) {\n        if (!(valueKeyIds == null ? void 0 : valueKeyIds.includes(values[k].id))) continue;\n        valueKeys.push([k, values[k]]);\n      }\n      const processKey = (idx, def, type) => {\n        var _a;\n        if (def.valueType === \"category\") {\n          const keyValues = result.domain[type][idx];\n          uniqueKeys && (uniqueKeys = keyValues.length === input.count);\n          return;\n        }\n        let lastValue = (_a = data[0]) == null ? void 0 : _a[type][idx];\n        for (let d = 1; (uniqueKeys || orderedKeys) && d < data.length; d++) {\n          const keyValue = data[d][type][idx];\n          orderedKeys && (orderedKeys = lastValue <= keyValue);\n          uniqueKeys && (uniqueKeys = lastValue !== keyValue);\n          lastValue = keyValue;\n        }\n      };\n      for (let k = 0; (uniqueKeys || orderedKeys) && k < keys.length; k++) {\n        processKey(k, keys[k], \"keys\");\n      }\n      for (let k = 0; (uniqueKeys || orderedKeys) && k < valueKeys.length; k++) {\n        const [idx, key] = valueKeys[k];\n        processKey(idx, key, \"values\");\n      }\n      return {\n        uniqueKeys,\n        orderedKeys\n      };\n    }\n  };\n}\nfunction buildGroupAccFn({\n  mode,\n  separateNegative\n}) {\n  return () => () => (values, valueIndexes) => {\n    const acc = [0, 0];\n    for (const valueIdx of valueIndexes) {\n      const currentVal = values[valueIdx];\n      const accIndex = isNegative(currentVal) && separateNegative ? 0 : 1;\n      if (!isFiniteNumber(currentVal)) continue;\n      if (mode === \"normal\") acc[accIndex] += currentVal;\n      values[valueIdx] = acc[accIndex];\n      if (mode === \"trailing\") acc[accIndex] += currentVal;\n    }\n  };\n}\nfunction buildGroupWindowAccFn({\n  mode,\n  sum: sum2\n}) {\n  return () => {\n    const lastValues = [];\n    let firstRow = true;\n    return () => {\n      return (values, valueIndexes) => {\n        let acc = 0;\n        for (const valueIdx of valueIndexes) {\n          const currentVal = values[valueIdx];\n          const lastValue = firstRow && sum2 === \"current\" ? 0 : lastValues[valueIdx];\n          lastValues[valueIdx] = currentVal;\n          const sumValue = sum2 === \"current\" ? currentVal : lastValue;\n          if (!isFiniteNumber(currentVal) || !isFiniteNumber(lastValue)) {\n            values[valueIdx] = acc;\n            continue;\n          }\n          if (mode === \"normal\") {\n            acc += sumValue;\n          }\n          values[valueIdx] = acc;\n          if (mode === \"trailing\") {\n            acc += sumValue;\n          }\n        }\n        firstRow = false;\n      };\n    };\n  };\n}\nfunction accumulateGroup(matchGroupId, mode, sum2, separateNegative = false) {\n  let adjust;\n  if (mode.startsWith(\"window\")) {\n    const modeParam = mode.endsWith(\"-trailing\") ? \"trailing\" : \"normal\";\n    adjust = memo({\n      mode: modeParam,\n      sum: sum2\n    }, buildGroupWindowAccFn);\n  } else {\n    adjust = memo({\n      mode,\n      separateNegative\n    }, buildGroupAccFn);\n  }\n  return {\n    type: \"group-value-processor\",\n    matchGroupIds: [matchGroupId],\n    adjust\n  };\n}\nfunction diff(previousData, updateMovedData = true) {\n  return {\n    type: \"processor\",\n    property: \"diff\",\n    calculate: processedData => {\n      const moved = /* @__PURE__ */new Map();\n      const added = /* @__PURE__ */new Map();\n      const updated = /* @__PURE__ */new Map();\n      const removed = /* @__PURE__ */new Map();\n      const length = Math.max(previousData.data.length, processedData.data.length);\n      for (let i = 0; i < length; i++) {\n        const prev = previousData.data[i];\n        const datum = processedData.data[i];\n        const prevId = prev ? createDatumId(prev.keys) : \"\";\n        const datumId = datum ? createDatumId(datum.keys) : \"\";\n        if (datum && prev && prevId === datumId) {\n          if (!arraysEqual(prev.values, datum.values)) {\n            updated.set(datumId, datum);\n          }\n          continue;\n        }\n        if (removed.has(datumId)) {\n          if (updateMovedData || !arraysEqual(removed.get(datumId).values, datum.values)) {\n            updated.set(datumId, datum);\n            moved.set(datumId, datum);\n          }\n          removed.delete(datumId);\n        } else if (datum) {\n          added.set(datumId, datum);\n        }\n        if (added.has(prevId)) {\n          if (updateMovedData || !arraysEqual(added.get(prevId).values, prev.values)) {\n            updated.set(prevId, prev);\n            moved.set(prevId, prev);\n          }\n          added.delete(prevId);\n        } else if (prev) {\n          updated.delete(prevId);\n          removed.set(prevId, prev);\n        }\n      }\n      const changed = added.size > 0 || updated.size > 0 || removed.size > 0;\n      return {\n        changed,\n        added,\n        updated,\n        removed,\n        moved\n      };\n    }\n  };\n}\nfunction createDatumId(keys, ...extraKeys) {\n  let result;\n  if (isArray(keys)) {\n    result = keys.map(key => transformIntegratedCategoryValue(key)).join(\"___\");\n  } else {\n    result = transformIntegratedCategoryValue(keys);\n  }\n  const primitiveType = typeof result === \"string\" || typeof result === \"number\" || result instanceof Date;\n  if (primitiveType && extraKeys.length > 0) {\n    result += `___${extraKeys.join(\"___\")}`;\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/chart/series/series.ts\nvar SeriesNodePickMode = /* @__PURE__ */(SeriesNodePickMode2 => {\n  SeriesNodePickMode2[SeriesNodePickMode2[\"EXACT_SHAPE_MATCH\"] = 0] = \"EXACT_SHAPE_MATCH\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_BY_MAIN_AXIS_FIRST\"] = 1] = \"NEAREST_BY_MAIN_AXIS_FIRST\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\"] = 2] = \"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_NODE\"] = 3] = \"NEAREST_NODE\";\n  return SeriesNodePickMode2;\n})(SeriesNodePickMode || {});\nfunction basicContinuousCheckDatumValidation(value) {\n  return value != null && isContinuous(value);\n}\nfunction basicDiscreteCheckDatumValidation(value) {\n  return value != null;\n}\nfunction getValidationFn(scaleType) {\n  switch (scaleType) {\n    case \"number\":\n    case \"log\":\n    case \"ordinal-time\":\n    case \"time\":\n    case \"color\":\n      return basicContinuousCheckDatumValidation;\n    default:\n      return basicDiscreteCheckDatumValidation;\n  }\n}\nfunction getValueType(scaleType) {\n  switch (scaleType) {\n    case \"number\":\n    case \"log\":\n    case \"time\":\n    case \"color\":\n      return \"range\";\n    default:\n      return \"category\";\n  }\n}\nfunction keyProperty(propName, scaleType, opts = {}) {\n  const result = __spreadValues({\n    property: propName,\n    type: \"key\",\n    valueType: getValueType(scaleType),\n    validation: getValidationFn(scaleType)\n  }, opts);\n  return result;\n}\nfunction valueProperty(propName, scaleType, opts = {}) {\n  const result = __spreadValues({\n    property: propName,\n    type: \"value\",\n    valueType: getValueType(scaleType),\n    validation: getValidationFn(scaleType)\n  }, opts);\n  return result;\n}\nfunction rangedValueProperty(propName, opts = {}) {\n  const _a = opts,\n    {\n      min = -Infinity,\n      max = Infinity\n    } = _a,\n    defOpts = __objRest(_a, [\"min\", \"max\"]);\n  return __spreadValues({\n    type: \"value\",\n    property: propName,\n    valueType: \"range\",\n    validation: basicContinuousCheckDatumValidation,\n    processor: () => datum => isFiniteNumber(datum) ? clamp(min, datum, max) : datum\n  }, defOpts);\n}\nfunction accumulativeValueProperty(propName, scaleType, opts = {}) {\n  const _a = opts,\n    {\n      onlyPositive\n    } = _a,\n    defOpts = __objRest(_a, [\"onlyPositive\"]);\n  const result = __spreadProps(__spreadValues({}, valueProperty(propName, scaleType, defOpts)), {\n    processor: accumulatedValue(onlyPositive)\n  });\n  return result;\n}\nfunction trailingAccumulatedValueProperty(propName, scaleType, opts = {}) {\n  const result = __spreadProps(__spreadValues({}, valueProperty(propName, scaleType, opts)), {\n    processor: trailingAccumulatedValue()\n  });\n  return result;\n}\nfunction groupAccumulativeValueProperty(propName, mode, sum2 = \"current\", opts, scaleType) {\n  return [valueProperty(propName, scaleType, opts), accumulateGroup(opts.groupId, mode, sum2, opts.separateNegative), ...(opts.rangeId != null ? [range2(opts.rangeId, opts.groupId)] : [])];\n}\nvar SeriesNodeEvent = class {\n  constructor(type, event, {\n    datum\n  }, series) {\n    this.type = type;\n    this.event = event;\n    this.datum = datum;\n    this.seriesId = series.id;\n  }\n};\nvar SeriesGroupingChangedEvent = class {\n  constructor(series, seriesGrouping, oldGrouping) {\n    this.series = series;\n    this.seriesGrouping = seriesGrouping;\n    this.oldGrouping = oldGrouping;\n    this.type = \"groupingChanged\";\n  }\n};\nvar Series = class extends Observable {\n  constructor(seriesOpts) {\n    super();\n    this.destroyFns = [];\n    this.seriesGrouping = void 0;\n    this.NodeEvent = SeriesNodeEvent;\n    this.internalId = createId(this);\n    // The group node that contains all the nodes used to render this series.\n    this.rootGroup = new Group({\n      name: \"seriesRoot\",\n      isVirtual: true\n    });\n    this.axes = {\n      [\"x\" /* X */]: void 0,\n      [\"y\" /* Y */]: void 0\n    };\n    this.directions = [\"x\" /* X */, \"y\" /* Y */];\n    // Flag to determine if we should recalculate node data.\n    this.nodeDataRefresh = true;\n    this.moduleMap = new ModuleMap();\n    this._declarationOrder = -1;\n    this.seriesListeners = new Listeners();\n    const {\n      moduleCtx,\n      pickModes = [1 /* NEAREST_BY_MAIN_AXIS_FIRST */],\n      directionKeys = {},\n      directionNames = {},\n      contentGroupVirtual = true,\n      canHaveAxes = false\n    } = seriesOpts;\n    this.ctx = moduleCtx;\n    this.directionKeys = directionKeys;\n    this.directionNames = directionNames;\n    this.canHaveAxes = canHaveAxes;\n    this.contentGroup = this.rootGroup.appendChild(new Group({\n      name: `${this.internalId}-content`,\n      isVirtual: contentGroupVirtual,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"data\")\n    }));\n    this.highlightGroup = new Group({\n      name: `${this.internalId}-highlight`,\n      isVirtual: contentGroupVirtual,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"highlight\")\n    });\n    this.highlightNode = this.highlightGroup.appendChild(new Group({\n      name: \"highlightNode\",\n      zIndex: 0\n    }));\n    this.highlightLabel = this.highlightGroup.appendChild(new Group({\n      name: \"highlightLabel\",\n      zIndex: 10\n    }));\n    this.pickModes = pickModes;\n    this.labelGroup = this.rootGroup.appendChild(new Group({\n      name: `${this.internalId}-series-labels`,\n      zIndex: 8 /* SERIES_LABEL_ZINDEX */\n    }));\n    this.annotationGroup = new Group({\n      name: `${this.id}-annotation`,\n      isVirtual: contentGroupVirtual,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"annotation\")\n    });\n  }\n  get id() {\n    var _a, _b;\n    return (_b = (_a = this.properties) == null ? void 0 : _a.id) != null ? _b : this.internalId;\n  }\n  get type() {\n    var _a;\n    return (_a = this.constructor.type) != null ? _a : \"\";\n  }\n  get data() {\n    var _a;\n    return (_a = this._data) != null ? _a : this._chartData;\n  }\n  set visible(value) {\n    this.properties.visible = value;\n    this.visibleChanged();\n  }\n  get visible() {\n    return this.properties.visible;\n  }\n  get hasData() {\n    return this.data != null && this.data.length > 0;\n  }\n  get tooltipEnabled() {\n    var _a, _b;\n    return (_b = (_a = this.properties.tooltip) == null ? void 0 : _a.enabled) != null ? _b : false;\n  }\n  onDataChange() {\n    this.nodeDataRefresh = true;\n  }\n  setOptionsData(input) {\n    this._data = input;\n    this.onDataChange();\n  }\n  setChartData(input) {\n    this._chartData = input;\n    if (this.data === input) {\n      this.onDataChange();\n    }\n  }\n  onSeriesGroupingChange(prev, next) {\n    const {\n      internalId,\n      type,\n      visible\n    } = this;\n    if (prev) {\n      this.ctx.seriesStateManager.deregisterSeries({\n        id: internalId,\n        type\n      });\n    }\n    if (next) {\n      this.ctx.seriesStateManager.registerSeries({\n        id: internalId,\n        type,\n        visible,\n        seriesGrouping: next\n      });\n    }\n    this.fireEvent(new SeriesGroupingChangedEvent(this, next, prev));\n  }\n  getBandScalePadding() {\n    return {\n      inner: 1,\n      outer: 0\n    };\n  }\n  getGroupZIndexSubOrder(type, subIndex = 0) {\n    let mainAdjust = 0;\n    switch (type) {\n      case \"data\":\n      case \"paths\":\n        break;\n      case \"labels\":\n        mainAdjust += 2e4;\n        break;\n      case \"marker\":\n        mainAdjust += 1e4;\n        break;\n      case \"highlight\":\n        subIndex += 15e3;\n        break;\n      case \"annotation\":\n        mainAdjust += 15e3;\n        break;\n    }\n    const main = () => this._declarationOrder + mainAdjust;\n    return [main, subIndex];\n  }\n  addListener(type, listener) {\n    return this.seriesListeners.addListener(type, listener);\n  }\n  dispatch(type, event) {\n    this.seriesListeners.dispatch(type, event);\n  }\n  addChartEventListeners() {\n    return;\n  }\n  destroy() {\n    this.destroyFns.forEach(f => f());\n    this.destroyFns = [];\n    this.ctx.seriesStateManager.deregisterSeries(this);\n  }\n  getDirectionValues(direction, properties) {\n    const resolvedDirection = this.resolveKeyDirection(direction);\n    const keys = properties == null ? void 0 : properties[resolvedDirection];\n    const values = [];\n    if (!keys) {\n      return values;\n    }\n    const addValues = (...items) => {\n      for (const value of items) {\n        if (Array.isArray(value)) {\n          addValues(...value);\n        } else if (typeof value === \"object\") {\n          addValues(...Object.values(value));\n        } else {\n          values.push(value);\n        }\n      }\n    };\n    addValues(...keys.map(key => this.properties[key]));\n    return values;\n  }\n  getKeys(direction) {\n    return this.getDirectionValues(direction, this.directionKeys);\n  }\n  getKeyProperties(direction) {\n    var _a;\n    return (_a = this.directionKeys[this.resolveKeyDirection(direction)]) != null ? _a : [];\n  }\n  getNames(direction) {\n    return this.getDirectionValues(direction, this.directionNames);\n  }\n  resolveKeyDirection(direction) {\n    return direction;\n  }\n  // The union of the series domain ('community') and series-option domains ('enterprise').\n  getDomain(direction) {\n    const seriesDomain = this.getSeriesDomain(direction);\n    const moduleDomains = this.moduleMap.mapModules(module => module.getDomain(direction));\n    return seriesDomain.concat(moduleDomains.flat());\n  }\n  // Indicate that something external changed and we should recalculate nodeData.\n  markNodeDataDirty() {\n    this.nodeDataRefresh = true;\n  }\n  visibleChanged() {\n    this.ctx.seriesStateManager.registerSeries(this);\n  }\n  getOpacity() {\n    const defaultOpacity = 1;\n    const {\n      dimOpacity = 1,\n      enabled = true\n    } = this.properties.highlightStyle.series;\n    if (!enabled || dimOpacity === defaultOpacity) {\n      return defaultOpacity;\n    }\n    switch (this.isItemIdHighlighted()) {\n      case 0 /* None */:\n      case 1 /* This */:\n        return defaultOpacity;\n      case 2 /* Other */:\n      default:\n        return dimOpacity;\n    }\n  }\n  getStrokeWidth(defaultStrokeWidth) {\n    const {\n      strokeWidth,\n      enabled = true\n    } = this.properties.highlightStyle.series;\n    if (!enabled || strokeWidth === void 0) {\n      return defaultStrokeWidth;\n    }\n    switch (this.isItemIdHighlighted()) {\n      case 1 /* This */:\n        return strokeWidth;\n      case 0 /* None */:\n      case 2 /* Other */:\n        return defaultStrokeWidth;\n    }\n  }\n  isItemIdHighlighted() {\n    var _a, _b;\n    const series = (_b = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight()) == null ? void 0 : _b.series;\n    if (series == null) {\n      return 0 /* None */;\n    }\n    if (series !== this) {\n      return 2 /* Other */;\n    }\n    return 1 /* This */;\n  }\n  getModuleTooltipParams() {\n    return this.moduleMap.mapModules(module => module.getTooltipParams()).reduce((total, current) => Object.assign(total, current), {});\n  }\n  pickNode(point, limitPickModes) {\n    const {\n      pickModes,\n      visible,\n      rootGroup\n    } = this;\n    if (!visible || !rootGroup.visible) {\n      return;\n    }\n    for (const pickMode of pickModes) {\n      if (limitPickModes && !limitPickModes.includes(pickMode)) {\n        continue;\n      }\n      let match;\n      switch (pickMode) {\n        case 0 /* EXACT_SHAPE_MATCH */:\n          match = this.pickNodeExactShape(point);\n          break;\n        case 1 /* NEAREST_BY_MAIN_AXIS_FIRST */:\n        case 2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */:\n          match = this.pickNodeMainAxisFirst(point, pickMode === 2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */);\n          break;\n        case 3 /* NEAREST_NODE */:\n          match = this.pickNodeClosestDatum(point);\n          break;\n      }\n      if (match) {\n        return {\n          pickMode,\n          match: match.datum,\n          distance: match.distance\n        };\n      }\n    }\n  }\n  pickNodeExactShape(point) {\n    const match = this.contentGroup.pickNode(point.x, point.y);\n    if (match && match.datum.missing !== true) {\n      return {\n        datum: match.datum,\n        distance: 0\n      };\n    }\n    return void 0;\n  }\n  pickNodeClosestDatum(_point) {\n    throw new Error(\"AG Charts - Series.pickNodeClosestDatum() not implemented\");\n  }\n  pickNodeNearestDistantObject(point, items) {\n    const match = nearestSquared(point.x, point.y, items);\n    if (match.nearest !== void 0 && match.nearest.datum.missing !== true) {\n      return {\n        datum: match.nearest.datum,\n        distance: Math.sqrt(match.distanceSquared)\n      };\n    }\n    return void 0;\n  }\n  pickNodeMainAxisFirst(_point, _requireCategoryAxis) {\n    throw new Error(\"AG Charts - Series.pickNodeMainAxisFirst() not implemented\");\n  }\n  fireNodeClickEvent(event, datum) {\n    this.fireEvent(new this.NodeEvent(\"nodeClick\", event, datum, this));\n  }\n  fireNodeDoubleClickEvent(event, datum) {\n    this.fireEvent(new this.NodeEvent(\"nodeDoubleClick\", event, datum, this));\n  }\n  createNodeContextMenuActionEvent(event, datum) {\n    return new this.NodeEvent(\"nodeContextMenuAction\", event, datum, this);\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.visible = enabled;\n    this.nodeDataRefresh = true;\n    this.dispatch(\"visibility-changed\", {\n      itemId,\n      enabled\n    });\n  }\n  isEnabled() {\n    return this.visible;\n  }\n  getModuleMap() {\n    return this.moduleMap;\n  }\n  createModuleContext() {\n    return __spreadProps(__spreadValues({}, this.ctx), {\n      series: this\n    });\n  }\n  getLabelText(label, params, defaultFormatter = String) {\n    var _a;\n    if (label.formatter) {\n      return (_a = this.ctx.callbackCache.call(label.formatter, __spreadValues({\n        seriesId: this.id\n      }, params))) != null ? _a : defaultFormatter(params.value);\n    }\n    return defaultFormatter(params.value);\n  }\n  getMarkerStyle(marker, params, defaultStyle = marker.getStyle()) {\n    var _a, _b;\n    const defaultSize = {\n      size: (_b = (_a = params.datum.point) == null ? void 0 : _a.size) != null ? _b : 0\n    };\n    const markerStyle = mergeDefaults(defaultSize, defaultStyle);\n    if (marker.formatter) {\n      const style = this.ctx.callbackCache.call(marker.formatter, __spreadProps(__spreadValues(__spreadValues({\n        seriesId: this.id\n      }, markerStyle), params), {\n        datum: params.datum.datum\n      }));\n      return mergeDefaults(style, markerStyle);\n    }\n    return markerStyle;\n  }\n  updateMarkerStyle(markerNode, marker, params, defaultStyle = marker.getStyle(), {\n    applyTranslation = true\n  } = {}) {\n    const {\n      point\n    } = params.datum;\n    const activeStyle = this.getMarkerStyle(marker, params, defaultStyle);\n    const visible = this.visible && activeStyle.size > 0 && point && !isNaN(point.x) && !isNaN(point.y);\n    if (applyTranslation) {\n      markerNode.setProperties(__spreadProps(__spreadValues({\n        visible\n      }, activeStyle), {\n        translationX: point == null ? void 0 : point.x,\n        translationY: point == null ? void 0 : point.y\n      }));\n    } else {\n      markerNode.setProperties(__spreadValues({\n        visible\n      }, activeStyle));\n    }\n    if (typeof marker.shape === \"function\" && !markerNode.dirtyPath) {\n      markerNode.path.clear(true);\n      markerNode.updatePath();\n      markerNode.checkPathDirty();\n    }\n  }\n  getMinRects(_width, _height) {\n    return;\n  }\n  get nodeDataDependencies() {\n    var _a;\n    return (_a = this._nodeDataDependencies) != null ? _a : {\n      seriesRectWidth: NaN,\n      seriesRectHeight: NaN\n    };\n  }\n  checkResize(newSeriesRect) {\n    const {\n      width: seriesRectWidth,\n      height: seriesRectHeight\n    } = newSeriesRect != null ? newSeriesRect : {\n      width: NaN,\n      height: NaN\n    };\n    const newNodeDataDependencies = newSeriesRect ? {\n      seriesRectWidth,\n      seriesRectHeight\n    } : void 0;\n    const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n    if (resize) {\n      this._nodeDataDependencies = newNodeDataDependencies;\n      this.markNodeDataDirty();\n    }\n    return resize;\n  }\n  pickFocus(_opts) {\n    return void 0;\n  }\n};\nSeries.highlightedZIndex = 1e12;\n__decorateClass([ActionOnSet({\n  changeValue: function (newVal, oldVal) {\n    this.onSeriesGroupingChange(oldVal, newVal);\n  }\n})], Series.prototype, \"seriesGrouping\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesLayerManager.ts\nvar SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION = 30;\nvar SeriesLayerManager = class {\n  constructor(seriesRoot, highlightRoot, annotationRoot) {\n    this.seriesRoot = seriesRoot;\n    this.highlightRoot = highlightRoot;\n    this.annotationRoot = annotationRoot;\n    this.groups = {};\n    this.series = {};\n    this.expectedSeriesCount = 1;\n    this.mode = \"normal\";\n  }\n  setSeriesCount(count) {\n    this.expectedSeriesCount = count;\n  }\n  requestGroup(seriesConfig) {\n    var _a, _b, _c, _d;\n    const {\n      internalId,\n      type,\n      rootGroup: seriesRootGroup,\n      highlightGroup: seriesHighlightGroup,\n      annotationGroup: seriesAnnotationGroup,\n      seriesGrouping\n    } = seriesConfig;\n    const {\n      groupIndex = internalId\n    } = seriesGrouping != null ? seriesGrouping : {};\n    if (this.series[internalId] != null) {\n      throw new Error(`AG Charts - series already has an allocated layer: ${this.series[internalId]}`);\n    }\n    if (Object.keys(this.series).length === 0) {\n      this.mode = this.expectedSeriesCount >= SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION ? \"aggressive-grouping\" : \"normal\";\n    }\n    (_b = (_a = this.groups)[type]) != null ? _b : _a[type] = {};\n    const lookupIndex = this.lookupIdx(groupIndex);\n    let groupInfo = this.groups[type][lookupIndex];\n    if (!groupInfo) {\n      groupInfo = (_d = (_c = this.groups[type])[lookupIndex]) != null ? _d : _c[lookupIndex] = {\n        seriesIds: [],\n        group: this.seriesRoot.appendChild(new Group({\n          name: `${type}-content`,\n          layer: true,\n          zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n          zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"data\")\n        })),\n        highlight: this.highlightRoot.appendChild(new Group({\n          name: `${type}-highlight`,\n          zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n          zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"highlight\")\n        })),\n        annotation: this.annotationRoot.appendChild(new Group({\n          name: `${type}-annotation`,\n          zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n          zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"annotation\")\n        }))\n      };\n    }\n    this.series[internalId] = {\n      layerState: groupInfo,\n      seriesConfig\n    };\n    groupInfo.seriesIds.push(internalId);\n    groupInfo.group.appendChild(seriesRootGroup);\n    groupInfo.highlight.appendChild(seriesHighlightGroup);\n    groupInfo.annotation.appendChild(seriesAnnotationGroup);\n    return groupInfo.group;\n  }\n  changeGroup(seriesConfig) {\n    var _a, _b;\n    const {\n      internalId,\n      seriesGrouping,\n      type,\n      rootGroup,\n      highlightGroup,\n      annotationGroup,\n      oldGrouping\n    } = seriesConfig;\n    const {\n      groupIndex = internalId\n    } = seriesGrouping != null ? seriesGrouping : {};\n    if ((_b = (_a = this.groups[type]) == null ? void 0 : _a[groupIndex]) == null ? void 0 : _b.seriesIds.includes(internalId)) {\n      return;\n    }\n    if (this.series[internalId] != null) {\n      this.releaseGroup({\n        internalId,\n        seriesGrouping: oldGrouping,\n        type,\n        rootGroup,\n        highlightGroup,\n        annotationGroup\n      });\n    }\n    this.requestGroup(seriesConfig);\n  }\n  releaseGroup(seriesConfig) {\n    var _a, _b, _c, _d, _e;\n    const {\n      internalId,\n      seriesGrouping,\n      rootGroup,\n      highlightGroup,\n      annotationGroup,\n      type\n    } = seriesConfig;\n    const {\n      groupIndex = internalId\n    } = seriesGrouping != null ? seriesGrouping : {};\n    if (this.series[internalId] == null) {\n      throw new Error(`AG Charts - series doesn't have an allocated layer: ${internalId}`);\n    }\n    const lookupIndex = this.lookupIdx(groupIndex);\n    const groupInfo = (_c = (_a = this.groups[type]) == null ? void 0 : _a[lookupIndex]) != null ? _c : (_b = this.series[internalId]) == null ? void 0 : _b.layerState;\n    if (groupInfo) {\n      groupInfo.seriesIds = groupInfo.seriesIds.filter(v => v !== internalId);\n      groupInfo.group.removeChild(rootGroup);\n      groupInfo.highlight.removeChild(highlightGroup);\n      groupInfo.annotation.removeChild(annotationGroup);\n    }\n    if ((groupInfo == null ? void 0 : groupInfo.seriesIds.length) === 0) {\n      this.seriesRoot.removeChild(groupInfo.group);\n      this.highlightRoot.removeChild(groupInfo.highlight);\n      this.annotationRoot.removeChild(groupInfo.annotation);\n      delete this.groups[type][lookupIndex];\n      delete this.groups[type][internalId];\n    } else if ((groupInfo == null ? void 0 : groupInfo.seriesIds.length) > 0) {\n      const leadSeriesConfig = (_e = this.series[(_d = groupInfo == null ? void 0 : groupInfo.seriesIds) == null ? void 0 : _d[0]]) == null ? void 0 : _e.seriesConfig;\n      groupInfo.group.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"data\");\n      groupInfo.highlight.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"highlight\");\n      groupInfo.annotation.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"annotation\");\n    }\n    delete this.series[internalId];\n  }\n  lookupIdx(groupIndex) {\n    if (this.mode === \"normal\") {\n      return groupIndex;\n    }\n    if (typeof groupIndex === \"string\") {\n      groupIndex = Number(groupIndex.split(\"-\").slice(-1)[0]);\n      if (!groupIndex) {\n        return 0;\n      }\n    }\n    return Math.floor(clamp(0, groupIndex / this.expectedSeriesCount, 1) * SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION);\n  }\n  destroy() {\n    for (const groups of Object.values(this.groups)) {\n      for (const groupInfo of Object.values(groups)) {\n        this.seriesRoot.removeChild(groupInfo.group);\n        this.highlightRoot.removeChild(groupInfo.highlight);\n        this.annotationRoot.removeChild(groupInfo.annotation);\n      }\n    }\n    this.groups = {};\n    this.series = {};\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/baseLayoutProcessor.ts\nvar BaseLayoutProcessor = class {\n  constructor(chartLike, layoutService) {\n    this.chartLike = chartLike;\n    this.layoutService = layoutService;\n    this.destroyFns = [];\n    this.destroyFns.push(\n    // eslint-disable-next-line sonarjs/no-duplicate-string\n    this.layoutService.addListener(\"start-layout\", e => this.positionPadding(e.shrinkRect)), this.layoutService.addListener(\"start-layout\", e => this.positionCaptions(e.shrinkRect)));\n  }\n  destroy() {\n    this.destroyFns.forEach(cb => cb());\n  }\n  positionPadding(shrinkRect) {\n    const {\n      padding\n    } = this.chartLike;\n    shrinkRect.shrink(padding.left, \"left\");\n    shrinkRect.shrink(padding.top, \"top\");\n    shrinkRect.shrink(padding.right, \"right\");\n    shrinkRect.shrink(padding.bottom, \"bottom\");\n    return {\n      shrinkRect\n    };\n  }\n  positionCaptions(shrinkRect) {\n    var _a, _b;\n    const {\n      title,\n      subtitle,\n      footnote\n    } = this.chartLike;\n    const newShrinkRect = shrinkRect.clone();\n    const updateCaption = caption => {\n      var _a2;\n      const defaultCaptionHeight = shrinkRect.height / 10;\n      const captionLineHeight = (_a2 = caption.lineHeight) != null ? _a2 : caption.fontSize * Text.defaultLineHeightRatio;\n      const maxWidth = shrinkRect.width;\n      const maxHeight = Math.max(captionLineHeight, defaultCaptionHeight);\n      caption.computeTextWrap(maxWidth, maxHeight);\n    };\n    const computeX = align => {\n      if (align === \"left\") {\n        return newShrinkRect.x;\n      } else if (align === \"right\") {\n        return newShrinkRect.x + newShrinkRect.width;\n      } else if (align !== \"center\") {\n        Logger.error(`invalid textAlign value: ${align}`);\n      }\n      return newShrinkRect.x + newShrinkRect.width / 2;\n    };\n    const positionTopAndShrinkBBox = (caption, spacing) => {\n      const baseY = newShrinkRect.y;\n      caption.node.x = computeX(caption.textAlign);\n      caption.node.y = baseY;\n      caption.node.textBaseline = \"top\";\n      updateCaption(caption);\n      const bbox = caption.node.computeBBox();\n      const bboxHeight = Math.ceil(bbox.y - baseY + bbox.height + spacing);\n      newShrinkRect.shrink(bboxHeight, \"top\");\n    };\n    const positionBottomAndShrinkBBox = (caption, spacing) => {\n      const baseY = newShrinkRect.y + newShrinkRect.height;\n      caption.node.x = computeX(caption.textAlign);\n      caption.node.y = baseY;\n      caption.node.textBaseline = \"bottom\";\n      updateCaption(caption);\n      const bbox = caption.node.computeBBox();\n      const bboxHeight = Math.ceil(baseY - bbox.y + spacing);\n      newShrinkRect.shrink(bboxHeight, \"bottom\");\n    };\n    title.node.visible = title.enabled;\n    subtitle.node.visible = subtitle.enabled;\n    footnote.node.visible = footnote.enabled;\n    if (title.enabled) {\n      const {\n        spacing = subtitle.enabled ? Caption.SMALL_PADDING : Caption.LARGE_PADDING\n      } = title;\n      positionTopAndShrinkBBox(title, spacing);\n    }\n    if (subtitle.enabled) {\n      positionTopAndShrinkBBox(subtitle, (_a = subtitle.spacing) != null ? _a : 0);\n    }\n    if (footnote.enabled) {\n      positionBottomAndShrinkBBox(footnote, (_b = footnote.spacing) != null ? _b : 0);\n    }\n    return {\n      shrinkRect: newShrinkRect\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/dataWindowProcessor.ts\nvar DataWindowProcessor = class {\n  constructor(chart, dataService, updateService, zoomManager) {\n    this.chart = chart;\n    this.dataService = dataService;\n    this.updateService = updateService;\n    this.zoomManager = zoomManager;\n    this.dirtyZoom = false;\n    this.dirtyDataSource = false;\n    this.lastAxisZooms = /* @__PURE__ */new Map();\n    this.destroyFns = [];\n    this.destroyFns.push(this.dataService.addListener(\"data-source-change\", () => this.onDataSourceChange()), this.dataService.addListener(\"data-load\", () => this.onDataLoad()), this.dataService.addListener(\"data-error\", () => this.onDataError()), this.updateService.addListener(\"update-complete\", () => this.onUpdateComplete()), this.zoomManager.addListener(\"zoom-change\", () => this.onZoomChange()));\n  }\n  destroy() {\n    this.destroyFns.forEach(cb => cb());\n  }\n  onDataLoad() {\n    this.updateService.update(1 /* UPDATE_DATA */);\n  }\n  onDataError() {\n    this.updateService.update(3 /* PERFORM_LAYOUT */);\n  }\n  onDataSourceChange() {\n    this.dirtyDataSource = true;\n  }\n  onUpdateComplete() {\n    if (!this.dirtyZoom && !this.dirtyDataSource) return;\n    this.updateWindow().catch(e => Logger.errorOnce(e));\n  }\n  onZoomChange() {\n    this.dirtyZoom = true;\n  }\n  updateWindow() {\n    return __async(this, null, function* () {\n      if (!this.dataService.isLazy()) return;\n      const axis = this.getValidAxis();\n      let window2;\n      let shouldRefresh = true;\n      if (axis) {\n        const zoom2 = this.zoomManager.getAxisZoom(axis.id);\n        window2 = this.getAxisWindow(axis, zoom2);\n        shouldRefresh = this.shouldRefresh(axis, zoom2);\n      }\n      this.dirtyZoom = false;\n      this.dirtyDataSource = false;\n      if (!shouldRefresh) return;\n      this.dataService.load({\n        windowStart: window2 == null ? void 0 : window2.min,\n        windowEnd: window2 == null ? void 0 : window2.max\n      });\n    });\n  }\n  getValidAxis() {\n    return this.chart.axes.find(axis => axis.type === \"time\");\n  }\n  shouldRefresh(axis, zoom2) {\n    if (this.dirtyDataSource) return true;\n    if (!this.dirtyZoom) return false;\n    const lastZoom = this.lastAxisZooms.get(axis.id);\n    if (lastZoom && zoom2.min === lastZoom.min && zoom2.max === lastZoom.max) {\n      return false;\n    }\n    this.lastAxisZooms.set(axis.id, zoom2);\n    return true;\n  }\n  getAxisWindow(axis, zoom2) {\n    var _a, _b;\n    const domain = (_b = (_a = axis.scale).getDomain) == null ? void 0 : _b.call(_a);\n    if (!zoom2 || !domain || domain.length === 0 || isNaN(Number(domain[0]))) return;\n    const diff2 = Number(domain[1]) - Number(domain[0]);\n    const min = new Date(Number(domain[0]) + diff2 * zoom2.min);\n    const max = new Date(Number(domain[0]) + diff2 * zoom2.max);\n    return {\n      min,\n      max\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/overlaysProcessor.ts\nvar OverlaysProcessor = class {\n  constructor(chartLike, overlays, dataService, layoutService, animationManager) {\n    this.chartLike = chartLike;\n    this.overlays = overlays;\n    this.dataService = dataService;\n    this.layoutService = layoutService;\n    this.animationManager = animationManager;\n    this.destroyFns = [];\n    this.destroyFns.push(this.layoutService.addListener(\"layout-complete\", e => this.onLayoutComplete(e)));\n  }\n  destroy() {\n    this.destroyFns.forEach(cb => cb());\n  }\n  onLayoutComplete({\n    series: {\n      rect\n    }\n  }) {\n    const isLoading = this.dataService.isLoading();\n    const hasData = this.chartLike.series.some(s => s.hasData);\n    const anySeriesVisible = this.chartLike.series.some(s => s.visible);\n    this.toggleOverlay(this.overlays.loading, rect, isLoading);\n    this.toggleOverlay(this.overlays.noData, rect, !isLoading && !hasData);\n    this.toggleOverlay(this.overlays.noVisibleSeries, rect, hasData && !anySeriesVisible);\n  }\n  toggleOverlay(overlay, seriesRect, visible) {\n    if (visible) {\n      const element2 = overlay.getElement(this.animationManager, seriesRect);\n      this.chartLike.element.append(element2);\n    } else {\n      overlay.removeElement(this.animationManager);\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/chart.ts\nvar debug = Debug.create(true, \"opts\");\nvar SeriesArea = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.padding = new Padding(0);\n  }\n};\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], SeriesArea.prototype, \"clip\", 2);\n__decorateClass([Validate(OBJECT)], SeriesArea.prototype, \"padding\", 2);\nvar _Chart = class _Chart extends Observable {\n  constructor(options, resources) {\n    var _a, _b, _c;\n    super();\n    this.id = createId(this);\n    this.seriesRoot = new Group({\n      name: `${this.id}-series-root`\n    });\n    this.highlightRoot = new Group({\n      name: `${this.id}-highlight-root`,\n      layer: true,\n      zIndex: 5 /* SERIES_HIGHLIGHT_ZINDEX */,\n      nonEmptyChildDerivedZIndex: true\n    });\n    this.annotationRoot = new Group({\n      name: `${this.id}-annotation-root`,\n      layer: true,\n      zIndex: 10 /* SERIES_ANNOTATION_ZINDEX */\n    });\n    this.debug = Debug.create();\n    this.extraDebugStats = {};\n    this.data = [];\n    this._firstAutoSize = true;\n    this.padding = new Padding(20);\n    this.seriesArea = new SeriesArea();\n    this.title = new Caption();\n    this.subtitle = new Caption();\n    this.footnote = new Caption();\n    this.keyboard = new Keyboard();\n    this.mode = \"standalone\";\n    this.destroyed = false;\n    this._skipSync = false;\n    this._destroyFns = [];\n    this.chartAnimationPhase = \"initial\";\n    this.modulesManager = new ModulesManager();\n    // FIXME: zoomManager should be owned by ctx, but it can't because it is used by CartesianChart.onAxisChange before ctx is initialised\n    this.zoomManager = new ZoomManager();\n    this.processors = [];\n    this.processedOptions = {};\n    this.userOptions = {};\n    this.queuedUserOptions = [];\n    this._pendingFactoryUpdatesCount = 0;\n    this._performUpdateNoRenderCount = 0;\n    this._performUpdateSkipAnimations = false;\n    this.performUpdateType = 7 /* NONE */;\n    this.updateShortcutCount = 0;\n    this.seriesToUpdate = /* @__PURE__ */new Set();\n    this.updateMutex = new Mutex();\n    this.updateRequestors = {};\n    this.performUpdateTrigger = debouncedCallback(_0 => __async(this, [_0], function* ({\n      count\n    }) {\n      if (this.destroyed) return;\n      this.updateMutex.acquire(() => __async(this, null, function* () {\n        try {\n          yield this.performUpdate(count);\n        } catch (error) {\n          Logger.error(\"update error\", error);\n        }\n      })).catch(e => Logger.errorOnce(e));\n    }));\n    this._performUpdateSplits = {};\n    this.axes = [];\n    this.series = [];\n    this.focus = {\n      hasFocus: false,\n      series: void 0,\n      seriesIndex: 0,\n      datumIndex: 0,\n      datum: void 0\n    };\n    this.pointerScheduler = debouncedAnimationFrame(() => {\n      if (!this.lastInteractionEvent) return;\n      if (this.performUpdateType <= 4 /* SERIES_UPDATE */) {\n        this.pointerScheduler.schedule();\n        return;\n      }\n      this.handlePointer(this.lastInteractionEvent, false);\n      this.lastInteractionEvent = void 0;\n    });\n    this.onSeriesNodeClick = event => {\n      const seriesNodeClickEvent = __spreadProps(__spreadValues({}, event), {\n        type: \"seriesNodeClick\"\n      });\n      Object.defineProperty(seriesNodeClickEvent, \"series\", {\n        enumerable: false,\n        // Should display the deprecation warning\n        get: () => event.series\n      });\n      this.fireEvent(seriesNodeClickEvent);\n    };\n    this.onSeriesNodeDoubleClick = event => {\n      const seriesNodeDoubleClick = __spreadProps(__spreadValues({}, event), {\n        type: \"seriesNodeDoubleClick\"\n      });\n      this.fireEvent(seriesNodeDoubleClick);\n    };\n    this.seriesGroupingChanged = event => {\n      if (!(event instanceof SeriesGroupingChangedEvent)) return;\n      const {\n        series,\n        seriesGrouping,\n        oldGrouping\n      } = event;\n      if (series.rootGroup.parent == null) return;\n      this.seriesLayerManager.changeGroup({\n        internalId: series.internalId,\n        type: series.type,\n        rootGroup: series.rootGroup,\n        highlightGroup: series.highlightGroup,\n        annotationGroup: series.annotationGroup,\n        getGroupZIndexSubOrder: type => series.getGroupZIndexSubOrder(type),\n        seriesGrouping,\n        oldGrouping\n      });\n    };\n    this.dataProcessListeners = /* @__PURE__ */new Set();\n    this.chartOptions = options;\n    let scene = resources == null ? void 0 : resources.scene;\n    const element2 = (_a = resources == null ? void 0 : resources.element) != null ? _a : createElement(\"div\", \"ag-chart-wrapper\", {\n      position: \"relative\",\n      userSelect: \"none\"\n    });\n    const container = resources == null ? void 0 : resources.container;\n    this.element = element2;\n    const root = new Group({\n      name: \"root\"\n    });\n    root.visible = false;\n    root.append(this.seriesRoot);\n    root.append(this.highlightRoot);\n    root.append(this.annotationRoot);\n    this.axisGridGroup = new Group({\n      name: \"Axes-Grids\",\n      layer: true,\n      zIndex: 1 /* AXIS_GRID_ZINDEX */\n    });\n    root.appendChild(this.axisGridGroup);\n    this.axisGroup = new Group({\n      name: \"Axes\",\n      layer: true,\n      zIndex: 2 /* AXIS_ZINDEX */\n    });\n    root.appendChild(this.axisGroup);\n    this.sizeMonitor = new SizeMonitor();\n    this.sizeMonitor.observe(this.element, size => this.rawResize(size));\n    const {\n      overrideDevicePixelRatio\n    } = options.specialOverrides;\n    scene != null ? scene : scene = new Scene({\n      pixelRatio: overrideDevicePixelRatio,\n      canvasPosition: \"absolute\"\n    });\n    scene.setRoot(root).setContainer(element2);\n    this.autoSize = true;\n    this.tooltip = new Tooltip();\n    this.seriesLayerManager = new SeriesLayerManager(this.seriesRoot, this.highlightRoot, this.annotationRoot);\n    const ctx = this.ctx = new ChartContext(this, {\n      scene,\n      syncManager: new SyncManager(this),\n      element: element2,\n      updateCallback: (type = 0 /* FULL */, opts) => this.update(type, opts),\n      updateMutex: this.updateMutex\n    });\n    this.overlays = new ChartOverlays();\n    (_c = (_b = this.overlays.loading).renderer) != null ? _c : _b.renderer = () => getLoadingSpinner(this.overlays.loading.getText(), ctx.animationManager.defaultDuration);\n    this.processors = [new BaseLayoutProcessor(this, ctx.layoutService), new DataWindowProcessor(this, ctx.dataService, ctx.updateService, ctx.zoomManager), new OverlaysProcessor(this, this.overlays, ctx.dataService, ctx.layoutService, ctx.animationManager)];\n    this.highlight = new ChartHighlight();\n    this.container = container;\n    const {\n      All\n    } = InteractionState;\n    const moduleContext = this.getModuleContext();\n    const seriesRegion = ctx.regionManager.addRegion(\"series\", this.seriesRoot, this.axisGroup);\n    ctx.regionManager.addRegion(\"root\", root);\n    this._destroyFns.push(ctx.dataService.addListener(\"data-load\", event => {\n      this.data = event.data;\n    }), ctx.scene.attachNode(this.title.node), ctx.scene.attachNode(this.subtitle.node), ctx.scene.attachNode(this.footnote.node), this.title.registerInteraction(moduleContext, \"title\"), this.subtitle.registerInteraction(moduleContext, \"subtitle\"), this.footnote.registerInteraction(moduleContext, \"footnote\"), ctx.interactionManager.addListener(\"click\", event => this.onClick(event)), ctx.interactionManager.addListener(\"dblclick\", event => this.onDoubleClick(event)), seriesRegion.addListener(\"hover\", event => this.onMouseMove(event)), seriesRegion.addListener(\"leave\", event => this.onLeave(event)), seriesRegion.addListener(\"blur\", () => this.onBlur()), seriesRegion.addListener(\"tab\", event => this.onTab(event)), seriesRegion.addListener(\"nav-vert\", event => this.onNavVert(event)), seriesRegion.addListener(\"nav-hori\", event => this.onNavHori(event)), seriesRegion.addListener(\"submit\", event => this.onSubmit(event)), ctx.keyNavManager.addListener(\"browserfocus\", event => this.onBrowserFocus(event)), ctx.interactionManager.addListener(\"page-left\", () => this.destroy()), ctx.interactionManager.addListener(\"contextmenu\", event => this.onContextMenu(event), All), ctx.animationManager.addListener(\"animation-start\", () => this.onAnimationStart()), ctx.animationManager.addListener(\"animation-frame\", () => {\n      this.update(6 /* SCENE_RENDER */);\n    }), ctx.highlightManager.addListener(\"highlight-change\", event => this.changeHighlightDatum(event)), ctx.zoomManager.addListener(\"zoom-pan-start\", () => this.resetPointer()), ctx.zoomManager.addListener(\"zoom-change\", () => {\n      this.resetPointer();\n      this.series.map(s => {\n        var _a2;\n        return (_a2 = s.animationState) == null ? void 0 : _a2.transition(\"updateData\");\n      });\n      const skipAnimations = this.chartAnimationPhase !== \"initial\";\n      this.update(3 /* PERFORM_LAYOUT */, {\n        forceNodeDataRefresh: true,\n        skipAnimations\n      });\n    }));\n  }\n  static getInstance(element2) {\n    return _Chart.chartsInstances.get(element2);\n  }\n  /** NOTE: This is exposed for use by Integrated charts only. */\n  get canvasElement() {\n    return this.ctx.scene.canvas.element;\n  }\n  /** NOTE: This is exposed for use by Integrated charts only. */\n  getCanvasDataURL(fileFormat) {\n    return this.ctx.scene.getDataURL(fileFormat);\n  }\n  onAutoSizeChange(value) {\n    const {\n      style\n    } = this.element;\n    if (value) {\n      style.display = \"block\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      if (!this._lastAutoSize) {\n        return;\n      }\n      this.resize(void 0, void 0, \"autoSize option\");\n    } else {\n      style.display = \"inline-block\";\n      style.width = \"auto\";\n      style.height = \"auto\";\n    }\n  }\n  download(fileName, fileFormat) {\n    this.ctx.scene.download(fileName, fileFormat);\n  }\n  getOptions() {\n    var _a;\n    return (_a = this.queuedUserOptions.at(-1)) != null ? _a : this.userOptions;\n  }\n  getModuleContext() {\n    return this.ctx;\n  }\n  getAriaLabel() {\n    var _a;\n    const captionText = [this.title, this.subtitle, this.footnote].filter(caption => caption.enabled && caption.text).map(caption => caption.text).join(\". \");\n    const nSeries = (_a = this.series.length) != null ? _a : 0;\n    return `chart, ${nSeries} series, ${captionText}`;\n  }\n  resetAnimations() {\n    this.chartAnimationPhase = \"initial\";\n    for (const series of this.series) {\n      series.resetAnimation(this.chartAnimationPhase);\n    }\n    for (const axis of this.axes) {\n      axis.resetAnimation(this.chartAnimationPhase);\n    }\n    this.animationRect = void 0;\n    this.ctx.animationManager.reset();\n  }\n  skipAnimations() {\n    this.ctx.animationManager.skipCurrentBatch();\n    this._performUpdateSkipAnimations = true;\n  }\n  destroy(opts) {\n    if (this.destroyed) {\n      return;\n    }\n    const keepTransferableResources = opts == null ? void 0 : opts.keepTransferableResources;\n    let result;\n    this.performUpdateType = 7 /* NONE */;\n    this._destroyFns.forEach(fn => fn());\n    this.processors.forEach(p => p.destroy());\n    this.tooltip.destroy();\n    this.overlays.destroy();\n    this.sizeMonitor.unobserve(this.element);\n    this.modulesManager.destroy();\n    if (keepTransferableResources) {\n      this.ctx.scene.strip();\n      result = {\n        container: this.container,\n        scene: this.ctx.scene,\n        element: this.element\n      };\n    } else {\n      this.ctx.scene.destroy();\n      this.container = void 0;\n    }\n    this.destroySeries(this.series);\n    this.seriesLayerManager.destroy();\n    this.axes.forEach(a => a.destroy());\n    this.axes = [];\n    this.animationRect = void 0;\n    this.ctx.destroy();\n    this.zoomManager.destroy();\n    this.destroyed = true;\n    Object.freeze(this);\n    return result;\n  }\n  resetPointer(highlightOnly = false) {\n    if (!highlightOnly) {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n    }\n    this.ctx.highlightManager.updateHighlight(this.id);\n    this.lastInteractionEvent = void 0;\n  }\n  requestFactoryUpdate(cb) {\n    if (this.destroyed) return;\n    this._pendingFactoryUpdatesCount++;\n    this.updateMutex.acquire(() => __async(this, null, function* () {\n      if (this.destroyed) return;\n      yield cb(this);\n      if (this.destroyed) return;\n      this._pendingFactoryUpdatesCount--;\n    })).catch(e => Logger.errorOnce(e));\n  }\n  update(type = 0 /* FULL */, opts) {\n    var _a, _b;\n    const {\n      forceNodeDataRefresh = false,\n      skipAnimations,\n      seriesToUpdate = this.series,\n      newAnimationBatch\n    } = opts != null ? opts : {};\n    if (forceNodeDataRefresh) {\n      this.series.forEach(series => series.markNodeDataDirty());\n    }\n    for (const series of seriesToUpdate) {\n      this.seriesToUpdate.add(series);\n    }\n    if (skipAnimations) {\n      this.ctx.animationManager.skipCurrentBatch();\n      this._performUpdateSkipAnimations = true;\n    }\n    if (newAnimationBatch && this.ctx.animationManager.isActive()) {\n      this._performUpdateSkipAnimations = true;\n    }\n    this._skipSync = (_a = opts == null ? void 0 : opts.skipSync) != null ? _a : false;\n    if (this.debug.check()) {\n      let stack = (_b = new Error().stack) != null ? _b : \"<unknown>\";\n      stack = stack.replace(/\\([^)]*/g, \"\");\n      this.updateRequestors[stack] = type;\n    }\n    if (type < this.performUpdateType) {\n      this.performUpdateType = type;\n      this.performUpdateTrigger.schedule(opts == null ? void 0 : opts.backOffMs);\n    }\n  }\n  performUpdate(count) {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        performUpdateType,\n        extraDebugStats,\n        _performUpdateSplits: splits,\n        ctx\n      } = this;\n      const seriesToUpdate = [...this.seriesToUpdate];\n      this.performUpdateType = 7 /* NONE */;\n      this.seriesToUpdate.clear();\n      if (this.updateShortcutCount === 0 && performUpdateType < 6 /* SCENE_RENDER */) {\n        ctx.animationManager.startBatch(this._performUpdateSkipAnimations);\n        ctx.animationManager.onBatchStop(() => this.chartAnimationPhase = \"ready\");\n      }\n      this.debug(\"Chart.performUpdate() - start\", ChartUpdateType[performUpdateType]);\n      let previousSplit = performance.now();\n      (_a = splits.start) != null ? _a : splits.start = previousSplit;\n      const updateSplits = splitName => {\n        var _a2;\n        (_a2 = splits[splitName]) != null ? _a2 : splits[splitName] = 0;\n        splits[splitName] += performance.now() - previousSplit;\n        previousSplit = performance.now();\n      };\n      let updateDeferred = false;\n      switch (performUpdateType) {\n        case 0 /* FULL */:\n          this.updateDOM();\n        case 1 /* UPDATE_DATA */:\n          yield this.updateData();\n          updateSplits(\"\\u2B07\\uFE0F\");\n        case 2 /* PROCESS_DATA */:\n          yield this.processData();\n          this.resetPointer(true);\n          updateSplits(\"\\u{1F3ED}\");\n        case 3 /* PERFORM_LAYOUT */:\n          if (this.checkUpdateShortcut(3 /* PERFORM_LAYOUT */)) break;\n          if (!this.checkFirstAutoSize(seriesToUpdate)) {\n            updateDeferred = true;\n            break;\n          }\n          yield this.processLayout();\n          updateSplits(\"\\u2316\");\n        case 4 /* SERIES_UPDATE */:\n          if (this.checkUpdateShortcut(4 /* SERIES_UPDATE */)) break;\n          const {\n            seriesRect\n          } = this;\n          yield Promise.all(seriesToUpdate.map(series => series.update({\n            seriesRect\n          })));\n          updateSplits(\"\\u{1F914}\");\n        case 5 /* TOOLTIP_RECALCULATION */:\n          if (this.checkUpdateShortcut(5 /* TOOLTIP_RECALCULATION */)) break;\n          const tooltipMeta = ctx.tooltipManager.getTooltipMeta(this.id);\n          if (performUpdateType <= 4 /* SERIES_UPDATE */ && (tooltipMeta == null ? void 0 : tooltipMeta.lastPointerEvent) != null) {\n            this.handlePointer(tooltipMeta.lastPointerEvent, true);\n          }\n          updateSplits(\"\\u2196\");\n        case 6 /* SCENE_RENDER */:\n          if (this.checkUpdateShortcut(6 /* SCENE_RENDER */)) break;\n          ctx.animationManager.endBatch();\n          extraDebugStats[\"updateShortcutCount\"] = this.updateShortcutCount;\n          yield ctx.scene.render({\n            debugSplitTimes: splits,\n            extraDebugStats\n          });\n          this.ctx.regionManager.updateFocusWrapperRect();\n          this.extraDebugStats = {};\n          for (const key in splits) {\n            delete splits[key];\n          }\n        case 7 /* NONE */:\n          this.updateShortcutCount = 0;\n          this.updateRequestors = {};\n          this._performUpdateSkipAnimations = false;\n          ctx.animationManager.endBatch();\n      }\n      if (!updateDeferred) {\n        ctx.updateService.dispatchUpdateComplete(this.getMinRects());\n      }\n      const end = performance.now();\n      this.debug(\"Chart.performUpdate() - end\", {\n        chart: this,\n        durationMs: Math.round((end - splits[\"start\"]) * 100) / 100,\n        count,\n        performUpdateType: ChartUpdateType[performUpdateType]\n      });\n    });\n  }\n  updateThemeClassName() {\n    const {\n      element: element2,\n      processedOptions: {\n        theme\n      }\n    } = this;\n    const themeClassNamePrefix = \"ag-charts-theme-\";\n    const validThemeClassNames = [`${themeClassNamePrefix}default`, `${themeClassNamePrefix}default-dark`];\n    let themeClassName = validThemeClassNames[0];\n    let isDark = false;\n    if (typeof theme === \"string\") {\n      themeClassName = theme.replace(\"ag-\", themeClassNamePrefix);\n      isDark = theme.includes(\"-dark\");\n    } else if (typeof (theme == null ? void 0 : theme.baseTheme) === \"string\") {\n      themeClassName = theme.baseTheme.replace(\"ag-\", themeClassNamePrefix);\n      isDark = theme.baseTheme.includes(\"-dark\");\n    }\n    if (!validThemeClassNames.includes(themeClassName)) {\n      themeClassName = isDark ? validThemeClassNames[1] : validThemeClassNames[0];\n    }\n    element2.classList.forEach(className => {\n      if (className.startsWith(themeClassNamePrefix) && className !== themeClassName) {\n        element2.classList.remove(className);\n      }\n    });\n    element2.classList.add(themeClassName);\n  }\n  updateDOM() {\n    this.updateThemeClassName();\n    const {\n      enabled,\n      tabIndex\n    } = this.keyboard;\n    this.element.tabIndex = enabled ? tabIndex != null ? tabIndex : 0 : -1;\n    setAttribute(this.ctx.scene.canvas.element, \"role\", \"figure\");\n    setAttribute(this.ctx.scene.canvas.element, \"aria-label\", this.getAriaLabel());\n  }\n  checkUpdateShortcut(checkUpdateType) {\n    const maxShortcuts = 3;\n    if (this.updateShortcutCount > maxShortcuts) {\n      Logger.warn(`exceeded the maximum number of simultaneous updates (${maxShortcuts + 1}), discarding changes and rendering`, this.updateRequestors);\n      return false;\n    }\n    if (this.performUpdateType <= checkUpdateType) {\n      this.updateShortcutCount++;\n      return true;\n    }\n    return false;\n  }\n  checkFirstAutoSize(seriesToUpdate) {\n    if (this.autoSize && !this._lastAutoSize) {\n      const count = this._performUpdateNoRenderCount++;\n      const backOffMs = __pow(count + 1, 2) * 40;\n      if (count < 8) {\n        this.update(3 /* PERFORM_LAYOUT */, {\n          seriesToUpdate,\n          backOffMs\n        });\n        this.debug(\"Chart.checkFirstAutoSize() - backing off until first size update\", backOffMs);\n        return false;\n      }\n      this.debug(\"Chart.checkFirstAutoSize() - timeout for first size update.\");\n    }\n    this._performUpdateNoRenderCount = 0;\n    return true;\n  }\n  onAxisChange(newValue, oldValue = []) {\n    for (const axis of oldValue) {\n      if (newValue.includes(axis)) continue;\n      axis.detachAxis(this.axisGroup, this.axisGridGroup);\n      axis.destroy();\n    }\n    for (const axis of newValue) {\n      if (oldValue == null ? void 0 : oldValue.includes(axis)) continue;\n      axis.attachAxis(this.axisGroup, this.axisGridGroup);\n    }\n  }\n  onSeriesChange(newValue, oldValue) {\n    var _a, _b;\n    const seriesToDestroy = (_a = oldValue == null ? void 0 : oldValue.filter(series => !newValue.includes(series))) != null ? _a : [];\n    this.destroySeries(seriesToDestroy);\n    (_b = this.seriesLayerManager) == null ? void 0 : _b.setSeriesCount(newValue.length);\n    for (const series of newValue) {\n      if (oldValue == null ? void 0 : oldValue.includes(series)) continue;\n      if (series.rootGroup.parent == null) {\n        this.seriesLayerManager.requestGroup(series);\n      }\n      const chart = this;\n      series.chart = {\n        get mode() {\n          return chart.mode;\n        },\n        get isMiniChart() {\n          return false;\n        },\n        get seriesRect() {\n          return chart.seriesRect;\n        },\n        placeLabels() {\n          return chart.placeLabels();\n        }\n      };\n      series.resetAnimation(this.chartAnimationPhase);\n      this.addSeriesListeners(series);\n      series.addChartEventListeners();\n    }\n  }\n  destroySeries(allSeries) {\n    allSeries == null ? void 0 : allSeries.forEach(series => {\n      series.removeEventListener(\"nodeClick\", this.onSeriesNodeClick);\n      series.removeEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n      series.removeEventListener(\"groupingChanged\", this.seriesGroupingChanged);\n      series.destroy();\n      this.seriesLayerManager.releaseGroup(series);\n      series.chart = void 0;\n    });\n  }\n  addSeriesListeners(series) {\n    if (this.hasEventListener(\"seriesNodeClick\")) {\n      series.addEventListener(\"nodeClick\", this.onSeriesNodeClick);\n    }\n    if (this.hasEventListener(\"seriesNodeDoubleClick\")) {\n      series.addEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n    }\n    series.addEventListener(\"groupingChanged\", this.seriesGroupingChanged);\n  }\n  updateAllSeriesListeners() {\n    this.series.forEach(series => {\n      series.removeEventListener(\"nodeClick\", this.onSeriesNodeClick);\n      series.removeEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n      this.addSeriesListeners(series);\n    });\n  }\n  assignSeriesToAxes() {\n    this.axes.forEach(axis => {\n      axis.boundSeries = this.series.filter(s => {\n        const seriesAxis = s.axes[axis.direction];\n        return seriesAxis === axis;\n      });\n    });\n  }\n  assignAxesToSeries() {\n    const directionToAxesMap = groupBy(this.axes, axis => axis.direction);\n    this.series.forEach(series => {\n      series.directions.forEach(direction => {\n        const directionAxes = directionToAxesMap[direction];\n        if (!directionAxes) {\n          Logger.warnOnce(`no available axis for direction [${direction}]; check series and axes configuration.`);\n          return;\n        }\n        const seriesKeys = series.getKeys(direction);\n        const newAxis = directionAxes.find(axis => !axis.keys.length || seriesKeys.some(key => axis.keys.includes(key)));\n        if (!newAxis) {\n          Logger.warnOnce(`no matching axis for direction [${direction}] and keys [${seriesKeys}]; check series and axes configuration.`);\n          return;\n        }\n        series.axes[direction] = newAxis;\n      });\n    });\n  }\n  rawResize({\n    width,\n    height\n  }) {\n    var _a;\n    if (!this.autoSize) return;\n    width = Math.floor(width);\n    height = Math.floor(height);\n    if (width === 0 && height === 0) return;\n    const [autoWidth = 0, authHeight = 0] = (_a = this._lastAutoSize) != null ? _a : [];\n    if (autoWidth === width && authHeight === height) return;\n    this._lastAutoSize = [width, height];\n    this.resize(void 0, void 0, \"SizeMonitor\");\n  }\n  resize(width, height, source) {\n    var _a, _b, _c, _d;\n    const {\n      scene,\n      animationManager\n    } = this.ctx;\n    width != null ? width : width = (_b = this.width) != null ? _b : this.autoSize ? (_a = this._lastAutoSize) == null ? void 0 : _a[0] : scene.canvas.width;\n    height != null ? height : height = (_d = this.height) != null ? _d : this.autoSize ? (_c = this._lastAutoSize) == null ? void 0 : _c[1] : scene.canvas.height;\n    this.debug(`Chart.resize() from ${source}`, {\n      width,\n      height,\n      stack: new Error().stack\n    });\n    if (!width || !height || !isFiniteNumber(width) || !isFiniteNumber(height)) return;\n    if (scene.resize(width, height)) {\n      this.resetPointer();\n      animationManager.reset();\n      let skipAnimations = true;\n      if (this.autoSize && this._firstAutoSize) {\n        skipAnimations = false;\n        this._firstAutoSize = false;\n      }\n      this.update(3 /* PERFORM_LAYOUT */, {\n        forceNodeDataRefresh: true,\n        skipAnimations\n      });\n    }\n  }\n  updateData() {\n    return __async(this, null, function* () {\n      this.series.forEach(s => s.setChartData(this.data));\n      const modulePromises = this.modulesManager.mapModules(m => {\n        var _a;\n        return (_a = m.updateData) == null ? void 0 : _a.call(m, {\n          data: this.data\n        });\n      });\n      yield Promise.all(modulePromises);\n    });\n  }\n  processData() {\n    return __async(this, null, function* () {\n      if (this.series.some(s => s.canHaveAxes)) {\n        this.assignAxesToSeries();\n        const syncModule = this.modulesManager.getModule(\"sync\");\n        if (syncModule == null ? void 0 : syncModule.enabled) {\n          syncModule.syncAxes(this._skipSync);\n        } else {\n          this.assignSeriesToAxes();\n        }\n      }\n      const dataController = new DataController(this.mode);\n      const seriesPromises = this.series.map(s => s.processData(dataController));\n      const modulePromises = this.modulesManager.mapModules(m => {\n        var _a;\n        return (_a = m.processData) == null ? void 0 : _a.call(m, {\n          dataController\n        });\n      });\n      dataController.execute();\n      yield Promise.all([...seriesPromises, ...modulePromises]);\n      for (const {\n        legendType,\n        legend\n      } of this.modulesManager.legends()) {\n        legend.data = this.getLegendData(legendType, this.mode !== \"integrated\");\n      }\n      this.dataProcessListeners.forEach(resolve => resolve());\n      this.dataProcessListeners.clear();\n    });\n  }\n  placeLabels() {\n    const visibleSeries = [];\n    const data = [];\n    for (const series of this.series) {\n      if (!series.visible) continue;\n      const labelData = series.getLabelData();\n      if (isPointLabelDatum(labelData == null ? void 0 : labelData[0])) {\n        data.push(labelData);\n        visibleSeries.push(series);\n      }\n    }\n    const {\n      seriesRect\n    } = this;\n    const {\n      top,\n      right,\n      bottom,\n      left\n    } = this.seriesArea.padding;\n    const labels = seriesRect && data.length > 0 ? placeLabels(data, {\n      x: -left,\n      y: -top,\n      width: seriesRect.width + left + right,\n      height: seriesRect.height + top + bottom\n    }) : [];\n    return new Map(labels.map((l, i) => [visibleSeries[i], l]));\n  }\n  getLegendData(legendType, warnConflicts) {\n    var _a, _b, _c;\n    const legendData = this.series.filter(s => s.properties.showInLegend).flatMap(s => s.getLegendData(legendType));\n    const isCategoryLegendData = data => data.every(d => d.legendType === \"category\");\n    if (warnConflicts && isCategoryLegendData(legendData)) {\n      const seriesMarkerFills = {};\n      const seriesTypeMap = new Map(this.series.map(s => [s.id, s.type]));\n      for (const {\n        seriesId,\n        marker,\n        label\n      } of legendData) {\n        if (marker.fill == null) continue;\n        const seriesType = seriesTypeMap.get(seriesId);\n        const markerFill = (_a = seriesMarkerFills[seriesType]) != null ? _a : seriesMarkerFills[seriesType] = {};\n        (_c = markerFill[_b = label.text]) != null ? _c : markerFill[_b] = marker.fill;\n        if (markerFill[label.text] !== marker.fill) {\n          Logger.warnOnce(`legend item '${label.text}' has multiple fill colors, this may cause unexpected behaviour.`);\n        }\n      }\n    }\n    return legendData;\n  }\n  processLayout() {\n    return __async(this, null, function* () {\n      var _a;\n      const oldRect = this.animationRect;\n      yield this.performLayout();\n      if (oldRect && !((_a = this.animationRect) == null ? void 0 : _a.equals(oldRect))) {\n        this.ctx.animationManager.skipCurrentBatch();\n      }\n      this.debug(\"Chart.performUpdate() - seriesRect\", this.seriesRect);\n    });\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const {\n        width,\n        height\n      } = this.ctx.scene;\n      let ctx = {\n        shrinkRect: new BBox(0, 0, width, height)\n      };\n      ctx = this.ctx.layoutService.dispatchPerformLayout(\"start-layout\", ctx);\n      ctx = this.ctx.layoutService.dispatchPerformLayout(\"before-series\", ctx);\n      const modulePromises = this.modulesManager.mapModules(m => __async(this, null, function* () {\n        if (m.performLayout != null) {\n          ctx = yield m.performLayout(ctx);\n        }\n      }));\n      yield Promise.all(modulePromises);\n      return ctx.shrinkRect;\n    });\n  }\n  // x/y are local canvas coordinates in CSS pixels, not actual pixels\n  pickSeriesNode(point, exactMatchOnly, maxDistance) {\n    var _a, _b;\n    const start = performance.now();\n    const pickModes = exactMatchOnly ? [0 /* EXACT_SHAPE_MATCH */] : void 0;\n    const reverseSeries = [...this.series].reverse();\n    let result;\n    for (const series of reverseSeries) {\n      if (!series.visible || !series.rootGroup.visible) {\n        continue;\n      }\n      const {\n        match,\n        distance: distance2\n      } = (_a = series.pickNode(point, pickModes)) != null ? _a : {};\n      if (!match || distance2 == null) {\n        continue;\n      }\n      if ((!result || result.distance > distance2) && distance2 <= (maxDistance != null ? maxDistance : Infinity)) {\n        result = {\n          series,\n          distance: distance2,\n          datum: match\n        };\n      }\n      if (distance2 === 0) {\n        break;\n      }\n    }\n    this.extraDebugStats[\"pickSeriesNode\"] = Math.round(((_b = this.extraDebugStats[\"pickSeriesNode\"]) != null ? _b : 0) + (performance.now() - start));\n    return result;\n  }\n  onMouseMove(event) {\n    this.lastInteractionEvent = event;\n    this.pointerScheduler.schedule();\n    this.extraDebugStats[\"mouseX\"] = event.offsetX;\n    this.extraDebugStats[\"mouseY\"] = event.offsetY;\n    this.update(6 /* SCENE_RENDER */);\n  }\n  onLeave(event) {\n    if (!this.tooltip.pointerLeftOntoTooltip(event)) {\n      this.resetPointer();\n      this.update(6 /* SCENE_RENDER */);\n      this.ctx.cursorManager.updateCursor(\"chart\");\n    }\n  }\n  onBrowserFocus(event) {\n    if (event.delta > 0) {\n      this.focus.datum = void 0;\n      this.focus.series = void 0;\n      this.focus.datumIndex = 0;\n      this.focus.seriesIndex = 0;\n    } else {\n      this.focus.datum = void 0;\n      this.focus.series = void 0;\n      this.focus.datumIndex = Infinity;\n      this.focus.seriesIndex = Infinity;\n    }\n  }\n  onAnimationStart() {\n    if (this.focus.hasFocus) {\n      this.onBlur();\n    }\n  }\n  onBlur() {\n    this.ctx.regionManager.updateFocusIndicatorRect(void 0);\n    this.resetPointer();\n    this.focus.hasFocus = false;\n  }\n  onTab(event) {\n    this.handleFocus();\n    event.consume();\n    this.focus.hasFocus = true;\n  }\n  onNavVert(event) {\n    this.focus.seriesIndex += event.delta;\n    this.handleFocus();\n    event.consume();\n  }\n  onNavHori(event) {\n    this.focus.datumIndex += event.delta;\n    this.handleFocus(event.delta);\n    event.consume();\n  }\n  onSubmit(event) {\n    const {\n      series,\n      datum\n    } = this.focus;\n    const sourceEvent = event.sourceEvent.sourceEvent;\n    if (series !== void 0 && datum !== void 0) {\n      series.fireNodeClickEvent(sourceEvent, datum);\n    } else {\n      this.fireEvent({\n        type: \"click\",\n        event: sourceEvent\n      });\n    }\n  }\n  onContextMenu(event) {\n    this.ctx.tooltipManager.removeTooltip(this.id);\n    const {\n      Default: Default2,\n      ContextMenu\n    } = InteractionState;\n    if (this.ctx.interactionManager.getState() & (Default2 | ContextMenu)) {\n      this.checkSeriesNodeRange(event, () => {\n        this.ctx.highlightManager.updateHighlight(this.id);\n      });\n    }\n  }\n  handleFocus(datumIndexDelta) {\n    this.focus.hasFocus = true;\n    const overlayFocus = this.overlays.getFocusInfo();\n    if (overlayFocus == null) {\n      this.handleSeriesFocus(datumIndexDelta != null ? datumIndexDelta : 0);\n    } else {\n      this.ctx.regionManager.updateFocusIndicatorRect(overlayFocus.rect);\n      this.ctx.ariaAnnouncementService.announceValue(overlayFocus.text);\n    }\n  }\n  handleSeriesFocus(datumIndexDelta) {\n    const {\n      series,\n      seriesRect,\n      focus\n    } = this;\n    const visibleSeries = series.filter(s => s.visible);\n    if (visibleSeries.length === 0) return;\n    focus.seriesIndex = clamp(0, focus.seriesIndex, visibleSeries.length - 1);\n    focus.series = visibleSeries[focus.seriesIndex];\n    const pick = focus.series.pickFocus({\n      datumIndex: focus.datumIndex,\n      datumIndexDelta,\n      seriesRect\n    });\n    if (pick === void 0) return;\n    const {\n      datum,\n      datumIndex\n    } = pick;\n    focus.datumIndex = datumIndex;\n    focus.datum = datum;\n    const keyboardEvent = makeKeyboardPointerEvent(this.ctx.regionManager, pick);\n    if (keyboardEvent !== void 0) {\n      this.lastInteractionEvent = keyboardEvent;\n      const html = focus.series.getTooltipHtml(datum);\n      const meta = TooltipManager.makeTooltipMeta(this.lastInteractionEvent, datum);\n      this.ctx.highlightManager.updateHighlight(this.id, datum);\n      this.ctx.tooltipManager.updateTooltip(this.id, meta, html);\n      this.ctx.ariaAnnouncementService.announceValue(html.ariaLabel);\n    }\n  }\n  static isHoverEvent(event) {\n    return event !== void 0 && event.type === \"hover\";\n  }\n  handlePointer(event, redisplay) {\n    if (this.ctx.interactionManager.getState() !== 16 /* Default */ || !_Chart.isHoverEvent(event)) {\n      return;\n    }\n    const {\n      lastPick,\n      hoverRect\n    } = this;\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    const disablePointer = (highlightOnly = false) => {\n      if (lastPick) {\n        this.resetPointer(highlightOnly);\n      }\n    };\n    if (redisplay ? this.ctx.animationManager.isActive() : !(hoverRect == null ? void 0 : hoverRect.containsPoint(offsetX, offsetY))) {\n      disablePointer();\n      return;\n    }\n    this.handlePointerTooltip(event, disablePointer);\n    this.handlePointerNode(event);\n  }\n  handlePointerTooltip(event, disablePointer) {\n    const {\n      lastPick,\n      tooltip\n    } = this;\n    const {\n      range: range3\n    } = tooltip;\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    let pixelRange;\n    if (isFiniteNumber(range3)) {\n      pixelRange = range3;\n    }\n    const pick = this.pickSeriesNode({\n      x: offsetX,\n      y: offsetY\n    }, range3 === \"exact\", pixelRange);\n    if (!pick) {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n      if (this.highlight.range === \"tooltip\") {\n        disablePointer(true);\n      }\n      return;\n    }\n    const isNewDatum = this.highlight.range === \"node\" || !lastPick || lastPick !== pick.datum;\n    let html;\n    if (isNewDatum) {\n      html = pick.series.getTooltipHtml(pick.datum);\n      if (this.highlight.range === \"tooltip\") {\n        this.ctx.highlightManager.updateHighlight(this.id, pick.datum);\n      }\n    }\n    const isPixelRange = pixelRange != null;\n    const tooltipEnabled = this.tooltip.enabled && pick.series.tooltipEnabled;\n    const exactlyMatched = range3 === \"exact\" && pick.distance === 0;\n    const rangeMatched = range3 === \"nearest\" || isPixelRange || exactlyMatched;\n    const shouldUpdateTooltip = tooltipEnabled && rangeMatched && (!isNewDatum || html !== void 0);\n    const meta = TooltipManager.makeTooltipMeta(event, pick.datum);\n    if (shouldUpdateTooltip) {\n      this.ctx.tooltipManager.updateTooltip(this.id, meta, html);\n    }\n  }\n  handlePointerNode(event) {\n    const found = this.checkSeriesNodeRange(event, (series, datum) => {\n      if (series.hasEventListener(\"nodeClick\") || series.hasEventListener(\"nodeDoubleClick\")) {\n        this.ctx.cursorManager.updateCursor(\"chart\", \"pointer\");\n      }\n      if (this.highlight.range === \"node\") {\n        this.ctx.highlightManager.updateHighlight(this.id, datum);\n      }\n    });\n    if (!found) {\n      this.ctx.cursorManager.updateCursor(\"chart\");\n      if (this.highlight.range === \"node\") {\n        this.ctx.highlightManager.updateHighlight(this.id);\n      }\n    }\n  }\n  onClick(event) {\n    if (this.checkSeriesNodeClick(event)) {\n      this.update(4 /* SERIES_UPDATE */);\n      return;\n    }\n    this.fireEvent({\n      type: \"click\",\n      event: event.sourceEvent\n    });\n  }\n  onDoubleClick(event) {\n    if (this.checkSeriesNodeDoubleClick(event)) {\n      this.update(4 /* SERIES_UPDATE */);\n      return;\n    }\n    this.fireEvent({\n      type: \"doubleClick\",\n      event: event.sourceEvent\n    });\n  }\n  checkSeriesNodeClick(event) {\n    return this.checkSeriesNodeRange(event, (series, datum) => series.fireNodeClickEvent(event.sourceEvent, datum));\n  }\n  checkSeriesNodeDoubleClick(event) {\n    return this.checkSeriesNodeRange(event, (series, datum) => series.fireNodeDoubleClickEvent(event.sourceEvent, datum));\n  }\n  checkSeriesNodeRange(event, callback) {\n    var _a;\n    const nearestNode = this.pickSeriesNode({\n      x: event.offsetX,\n      y: event.offsetY\n    }, false);\n    const datum = nearestNode == null ? void 0 : nearestNode.datum;\n    const nodeClickRange = datum == null ? void 0 : datum.series.properties.nodeClickRange;\n    let pixelRange;\n    if (isFiniteNumber(nodeClickRange)) {\n      pixelRange = nodeClickRange;\n    }\n    let pickedNode = this.pickSeriesNode({\n      x: event.offsetX,\n      y: event.offsetY\n    }, true);\n    if (pickedNode) {\n      this.ctx.highlightManager.updatePicked(this.id, pickedNode.datum);\n    } else {\n      this.ctx.highlightManager.updatePicked(this.id);\n    }\n    if (datum && nodeClickRange === \"nearest\") {\n      callback(datum.series, datum);\n      return true;\n    }\n    if (nodeClickRange !== \"exact\") {\n      pickedNode = this.pickSeriesNode({\n        x: event.offsetX,\n        y: event.offsetY\n      }, false, pixelRange);\n    }\n    if (!pickedNode) return false;\n    const isPixelRange = pixelRange != null;\n    const exactlyMatched = nodeClickRange === \"exact\" && pickedNode.distance === 0;\n    if (isPixelRange || exactlyMatched) {\n      const allMatch = event.pointerHistory === void 0 || ((_a = event.pointerHistory) == null ? void 0 : _a.every(pastEvent => {\n        const historyPoint = {\n          x: pastEvent.offsetX,\n          y: pastEvent.offsetY\n        };\n        const historyNode = this.pickSeriesNode(historyPoint, false, pixelRange);\n        return (historyNode == null ? void 0 : historyNode.datum) === (pickedNode == null ? void 0 : pickedNode.datum);\n      }));\n      if (allMatch) {\n        callback(pickedNode.series, pickedNode.datum);\n        return true;\n      }\n    }\n    return false;\n  }\n  changeHighlightDatum(event) {\n    var _a, _b;\n    const seriesToUpdate = /* @__PURE__ */new Set();\n    const {\n      series: newSeries = void 0,\n      datum: newDatum\n    } = (_a = event.currentHighlight) != null ? _a : {};\n    const {\n      series: lastSeries = void 0,\n      datum: lastDatum\n    } = (_b = event.previousHighlight) != null ? _b : {};\n    if (lastSeries) {\n      seriesToUpdate.add(lastSeries);\n    }\n    if (newSeries) {\n      seriesToUpdate.add(newSeries);\n    }\n    if ((lastSeries == null ? void 0 : lastSeries.properties.cursor) && lastDatum) {\n      this.ctx.cursorManager.updateCursor(lastSeries.id);\n    }\n    if ((newSeries == null ? void 0 : newSeries.properties.cursor) && newDatum) {\n      this.ctx.cursorManager.updateCursor(newSeries.id, newSeries.properties.cursor);\n    }\n    this.lastPick = event.currentHighlight;\n    const updateAll = newSeries == null || lastSeries == null;\n    if (updateAll) {\n      this.update(4 /* SERIES_UPDATE */);\n    } else {\n      this.update(4 /* SERIES_UPDATE */, {\n        seriesToUpdate\n      });\n    }\n  }\n  waitForUpdate(timeoutMs = 1e4, failOnTimeout = false) {\n    return __async(this, null, function* () {\n      const start = performance.now();\n      if (this._pendingFactoryUpdatesCount > 0) {\n        yield this.updateMutex.waitForClearAcquireQueue();\n      }\n      while (this.performUpdateType !== 7 /* NONE */) {\n        if (performance.now() - start > timeoutMs) {\n          const message = `Chart.waitForUpdate() timeout of ${timeoutMs} reached - first chart update taking too long.`;\n          if (failOnTimeout) {\n            throw new Error(message);\n          } else {\n            Logger.warnOnce(message);\n          }\n        }\n        yield sleep(50);\n      }\n      yield this.updateMutex.waitForClearAcquireQueue();\n    });\n  }\n  waitForDataProcess(timeout) {\n    return new Promise(resolve => {\n      this.dataProcessListeners.add(resolve);\n      if (isNumber(timeout)) {\n        setTimeout(() => {\n          if (this.dataProcessListeners.has(resolve)) {\n            this.dataProcessListeners.delete(resolve);\n            resolve();\n          }\n        }, timeout);\n      }\n    });\n  }\n  getMinRects() {\n    const {\n      width,\n      height\n    } = this.ctx.scene;\n    const minRects = this.series.map(series => series.getMinRects(width, height)).filter(isDefined);\n    if (minRects.length === 0) return;\n    let maxWidth = 0;\n    let maxHeight = 0;\n    let maxVisibleWidth = 0;\n    let maxVisibleHeight = 0;\n    for (const {\n      minRect: minRect2,\n      minVisibleRect: minVisibleRect2\n    } of minRects) {\n      maxWidth = Math.max(maxWidth, minRect2.width);\n      maxHeight = Math.max(maxHeight, minRect2.height);\n      maxVisibleWidth = Math.max(maxVisibleWidth, minVisibleRect2.width);\n      maxVisibleHeight = Math.max(maxVisibleHeight, minVisibleRect2.height);\n    }\n    const minRect = new BBox(0, 0, maxWidth, maxHeight);\n    let minVisibleRect = minRect.clone();\n    if (maxVisibleWidth > 0 && maxVisibleHeight > 0) {\n      minVisibleRect = new BBox(0, 0, maxVisibleWidth, maxVisibleHeight);\n    }\n    return {\n      minRect,\n      minVisibleRect\n    };\n  }\n  filterMiniChartSeries(series) {\n    return series == null ? void 0 : series.filter(s => s.showInMiniChart !== false);\n  }\n  applyOptions(chartOptions) {\n    var _a, _b, _c, _d, _e;\n    const oldOpts = this.processedOptions;\n    const deltaOptions = chartOptions.diffOptions(oldOpts);\n    const userOptions = chartOptions.userOptions;\n    if (deltaOptions == null) return;\n    debug(\"AgChartV2.updateDelta() - applying delta\", deltaOptions);\n    const completeOptions = mergeDefaults(deltaOptions, oldOpts);\n    const modulesChanged = this.applyModules(completeOptions);\n    const skip = [\"type\", \"data\", \"series\", \"listeners\", \"theme\", \"legend.listeners\", \"navigator.miniChart.series\", \"navigator.miniChart.label\", \"axes\", \"topology\"];\n    if (deltaOptions.listeners) {\n      this.registerListeners(this, deltaOptions.listeners);\n    }\n    jsonApply(this, deltaOptions, {\n      skip\n    });\n    let forceNodeDataRefresh = false;\n    let seriesStatus = \"no-op\";\n    if ((_a = deltaOptions.series) == null ? void 0 : _a.length) {\n      seriesStatus = this.applySeries(this, deltaOptions.series, oldOpts == null ? void 0 : oldOpts.series);\n      forceNodeDataRefresh = true;\n    }\n    if (seriesStatus === \"replaced\") {\n      this.resetAnimations();\n    }\n    if (this.applyAxes(this, completeOptions, oldOpts, seriesStatus)) {\n      forceNodeDataRefresh = true;\n    }\n    if (deltaOptions.data) {\n      this.data = deltaOptions.data;\n    }\n    if (((_b = deltaOptions.legend) == null ? void 0 : _b.listeners) && this.modulesManager.isEnabled(\"legend\")) {\n      Object.assign(this.legend.listeners, deltaOptions.legend.listeners);\n    }\n    if (deltaOptions.listeners) {\n      this.updateAllSeriesListeners();\n    }\n    this.chartOptions = chartOptions;\n    this.processedOptions = completeOptions;\n    this.userOptions = mergeDefaults(userOptions, this.userOptions);\n    const navigatorModule = this.modulesManager.getModule(\"navigator\");\n    const zoomModule = this.modulesManager.getModule(\"zoom\");\n    if (!(navigatorModule == null ? void 0 : navigatorModule.enabled) && !(zoomModule == null ? void 0 : zoomModule.enabled)) {\n      this.ctx.zoomManager.updateZoom(\"chart\");\n    }\n    const miniChart = navigatorModule == null ? void 0 : navigatorModule.miniChart;\n    const miniChartSeries = (_e = (_d = (_c = completeOptions.navigator) == null ? void 0 : _c.miniChart) == null ? void 0 : _d.series) != null ? _e : completeOptions.series;\n    if ((miniChart == null ? void 0 : miniChart.enabled) === true && miniChartSeries != null) {\n      this.applyMiniChartOptions(miniChart, miniChartSeries, completeOptions, oldOpts);\n    } else if ((miniChart == null ? void 0 : miniChart.enabled) === false) {\n      miniChart.series = [];\n      miniChart.axes = [];\n    }\n    injectStyle(styles_default, \"chart\");\n    this.ctx.annotationManager.setAnnotationStyles(chartOptions.annotationThemes);\n    forceNodeDataRefresh || (forceNodeDataRefresh = this.shouldForceNodeDataRefresh(deltaOptions, seriesStatus));\n    const majorChange = forceNodeDataRefresh || modulesChanged;\n    const updateType = majorChange ? 0 /* FULL */ : 3 /* PERFORM_LAYOUT */;\n    this.maybeResetAnimations(seriesStatus);\n    debug(\"AgChartV2.applyChartOptions() - update type\", ChartUpdateType[updateType], {\n      seriesStatus,\n      forceNodeDataRefresh\n    });\n    this.update(updateType, {\n      forceNodeDataRefresh,\n      newAnimationBatch: true\n    });\n  }\n  maybeResetAnimations(seriesStatus) {\n    if (this.mode !== \"standalone\") return;\n    switch (seriesStatus) {\n      case \"series-grouping-change\":\n      case \"replaced\":\n        this.resetAnimations();\n        break;\n      default:\n    }\n  }\n  shouldForceNodeDataRefresh(deltaOptions, seriesStatus) {\n    const seriesDataUpdate = !!deltaOptions.data || seriesStatus === \"data-change\" || seriesStatus === \"replaced\";\n    const legendKeys = legendRegistry.getKeys();\n    const optionsHaveLegend = Object.values(legendKeys).some(legendKey => deltaOptions[legendKey] != null);\n    const otherRefreshUpdate = deltaOptions.title != null && deltaOptions.subtitle != null;\n    return seriesDataUpdate || optionsHaveLegend || otherRefreshUpdate;\n  }\n  applyMiniChartOptions(miniChart, miniChartSeries, completeOptions, oldOpts) {\n    var _a, _b, _c, _d, _e;\n    const oldSeries = (_c = (_b = (_a = oldOpts == null ? void 0 : oldOpts.navigator) == null ? void 0 : _a.miniChart) == null ? void 0 : _b.series) != null ? _c : oldOpts == null ? void 0 : oldOpts.series;\n    const miniChartSeriesStatus = this.applySeries(miniChart, this.filterMiniChartSeries(miniChartSeries), this.filterMiniChartSeries(oldSeries));\n    this.applyAxes(miniChart, completeOptions, oldOpts, miniChartSeriesStatus, [\"axes[].tick\", \"axes[].thickness\", \"axes[].title\", \"axes[].crosshair\", \"axes[].gridLine\", \"axes[].label\"]);\n    const axes = miniChart.axes;\n    const horizontalAxis = axes.find(axis => axis.direction === \"x\" /* X */);\n    for (const axis of axes) {\n      axis.gridLine.enabled = false;\n      axis.label.enabled = axis === horizontalAxis;\n      axis.tick.enabled = false;\n      axis.interactionEnabled = false;\n    }\n    if (horizontalAxis != null) {\n      const miniChartOpts = (_d = completeOptions.navigator) == null ? void 0 : _d.miniChart;\n      const labelOptions = miniChartOpts == null ? void 0 : miniChartOpts.label;\n      const intervalOptions = (_e = miniChartOpts == null ? void 0 : miniChartOpts.label) == null ? void 0 : _e.interval;\n      horizontalAxis.line.enabled = false;\n      horizontalAxis.label.set(without(labelOptions, [\"interval\", \"rotation\", \"minSpacing\", \"autoRotate\", \"autoRotateAngle\"]));\n      horizontalAxis.tick.set(without(intervalOptions, [\"enabled\", \"width\", \"size\", \"color\", \"interval\", \"step\"]));\n      const step = intervalOptions == null ? void 0 : intervalOptions.step;\n      if (step != null) {\n        horizontalAxis.tick.interval = step;\n      }\n    }\n  }\n  applyModules(options) {\n    var _a;\n    const {\n      type: chartType2\n    } = this.constructor;\n    let modulesChanged = false;\n    for (const module of moduleRegistry.byType(\"root\", \"legend\")) {\n      const isConfigured = options[module.optionsKey] != null;\n      const shouldBeEnabled = isConfigured && module.chartTypes.includes(chartType2);\n      if (shouldBeEnabled === this.modulesManager.isEnabled(module)) continue;\n      if (shouldBeEnabled) {\n        this.modulesManager.addModule(module, m => new m.instanceConstructor(this.getModuleContext()));\n        if (module.type === \"legend\") {\n          (_a = this.modulesManager.getModule(module)) == null ? void 0 : _a.attachLegend(this.ctx.scene);\n        }\n        this[module.optionsKey] = this.modulesManager.getModule(module);\n      } else {\n        this.modulesManager.removeModule(module);\n        delete this[module.optionsKey];\n      }\n      modulesChanged = true;\n    }\n    return modulesChanged;\n  }\n  applySeries(chart, optSeries, oldOptSeries) {\n    var _a;\n    if (!optSeries) {\n      return \"no-change\";\n    }\n    const matchResult = matchSeriesOptions(chart.series, optSeries, oldOptSeries);\n    if (matchResult.status === \"no-overlap\") {\n      debug(`AgChartV2.applySeries() - creating new series instances, status: ${matchResult.status}`, matchResult);\n      chart.series = optSeries.map(opts => this.createSeries(opts));\n      return \"replaced\";\n    }\n    debug(`AgChartV2.applySeries() - matchResult`, matchResult);\n    const seriesInstances = [];\n    let dataChanged = false;\n    let groupingChanged = false;\n    let isUpdated = false;\n    for (const change of matchResult.changes) {\n      groupingChanged || (groupingChanged = change.status === \"series-grouping\");\n      dataChanged || (dataChanged = ((_a = change.diff) == null ? void 0 : _a.data) != null);\n      isUpdated || (isUpdated = change.status !== \"no-op\");\n      switch (change.status) {\n        case \"add\":\n          const newSeries = this.createSeries(change.opts);\n          seriesInstances.push(newSeries);\n          debug(`AgChartV2.applySeries() - created new series`, newSeries);\n          break;\n        case \"remove\":\n          debug(`AgChartV2.applySeries() - removing series at previous idx ${change.idx}`, change.series);\n          break;\n        case \"no-op\":\n          seriesInstances.push(change.series);\n          debug(`AgChartV2.applySeries() - no change to series at previous idx ${change.idx}`, change.series);\n          break;\n        case \"series-grouping\":\n        case \"update\":\n        default:\n          const {\n            series,\n            diff: diff2,\n            idx\n          } = change;\n          debug(`AgChartV2.applySeries() - applying series diff previous idx ${idx}`, diff2, series);\n          this.applySeriesValues(series, diff2);\n          series.markNodeDataDirty();\n          seriesInstances.push(series);\n      }\n    }\n    for (let idx = 0; idx < seriesInstances.length; idx++) {\n      seriesInstances[idx]._declarationOrder = idx;\n    }\n    debug(`AgChartV2.applySeries() - final series instances`, seriesInstances);\n    chart.series = seriesInstances;\n    if (groupingChanged) {\n      return \"series-grouping-change\";\n    }\n    if (dataChanged) {\n      return \"data-change\";\n    }\n    return isUpdated ? \"updated\" : \"no-op\";\n  }\n  applyAxes(chart, options, oldOpts, seriesStatus, skip = []) {\n    if (!(\"axes\" in options) || !options.axes) {\n      return false;\n    }\n    skip = [\"axes[].type\", ...skip];\n    const {\n      axes\n    } = options;\n    const forceRecreate = seriesStatus === \"replaced\";\n    const matchingTypes = !forceRecreate && chart.axes.length === axes.length && chart.axes.every((a, i) => a.type === axes[i].type);\n    if (matchingTypes && isAgCartesianChartOptions(oldOpts)) {\n      chart.axes.forEach((axis, index) => {\n        var _a, _b;\n        const previousOpts = (_b = (_a = oldOpts.axes) == null ? void 0 : _a[index]) != null ? _b : {};\n        const axisDiff = jsonDiff(previousOpts, axes[index]);\n        debug(`AgChartV2.applyAxes() - applying axis diff idx ${index}`, axisDiff);\n        const path = `axes[${index}]`;\n        jsonApply(axis, axisDiff, __spreadProps(__spreadValues({}, JSON_APPLY_PLUGINS), {\n          path,\n          skip\n        }));\n      });\n      return true;\n    }\n    debug(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${seriesStatus}`);\n    chart.axes = this.createAxis(axes, skip);\n    return true;\n  }\n  createSeries(seriesOptions) {\n    const seriesInstance = seriesRegistry.create(seriesOptions.type, this.getModuleContext());\n    this.applySeriesOptionModules(seriesInstance, seriesOptions);\n    this.applySeriesValues(seriesInstance, seriesOptions);\n    return seriesInstance;\n  }\n  applySeriesOptionModules(series, options) {\n    const moduleContext = series.createModuleContext();\n    const moduleMap = series.getModuleMap();\n    for (const module of moduleRegistry.byType(\"series-option\")) {\n      if (module.optionsKey in options && module.seriesTypes.includes(series.type)) {\n        moduleMap.addModule(module, m => new m.instanceConstructor(moduleContext));\n      }\n    }\n  }\n  applySeriesValues(target, options) {\n    const moduleMap = target.getModuleMap();\n    const _a = options,\n      {\n        type: _,\n        data,\n        listeners,\n        seriesGrouping,\n        showInMiniChart: __\n      } = _a,\n      seriesOptions = __objRest(_a, [\"type\", \"data\", \"listeners\", \"seriesGrouping\", \"showInMiniChart\"]);\n    for (const moduleDef of EXPECTED_ENTERPRISE_MODULES) {\n      if (moduleDef.type !== \"series-option\") continue;\n      if (moduleDef.optionsKey in seriesOptions) {\n        const module = moduleMap.getModule(moduleDef.optionsKey);\n        const moduleOptions = seriesOptions[moduleDef.optionsKey];\n        delete seriesOptions[moduleDef.optionsKey];\n        module.properties.set(moduleOptions);\n      }\n    }\n    target.properties.set(seriesOptions);\n    if (\"data\" in options) {\n      target.setOptionsData(data);\n    }\n    if (listeners) {\n      this.registerListeners(target, listeners);\n    }\n    if (\"seriesGrouping\" in options) {\n      if (seriesGrouping == null) {\n        target.seriesGrouping = void 0;\n      } else {\n        target.seriesGrouping = __spreadValues(__spreadValues({}, target.seriesGrouping), seriesGrouping);\n      }\n    }\n  }\n  createAxis(options, skip) {\n    const guesser = new AxisPositionGuesser();\n    const moduleContext = this.getModuleContext();\n    for (let index = 0; index < options.length; index++) {\n      const axisOptions = options[index];\n      const axis = axisRegistry.create(axisOptions.type, moduleContext);\n      this.applyAxisModules(axis, axisOptions);\n      jsonApply(axis, axisOptions, __spreadProps(__spreadValues({}, JSON_APPLY_PLUGINS), {\n        path: `axes[${index}]`,\n        skip\n      }));\n      guesser.push(axis, axisOptions);\n    }\n    return guesser.guessInvalidPositions();\n  }\n  applyAxisModules(axis, options) {\n    const moduleContext = axis.createModuleContext();\n    const moduleMap = axis.getModuleMap();\n    for (const module of moduleRegistry.byType(\"axis-option\")) {\n      const shouldBeEnabled = options[module.optionsKey] != null;\n      if (shouldBeEnabled === moduleMap.isEnabled(module)) continue;\n      if (shouldBeEnabled) {\n        moduleMap.addModule(module, m => new m.instanceConstructor(moduleContext));\n        axis[module.optionsKey] = moduleMap.getModule(module);\n      } else {\n        moduleMap.removeModule(module);\n        delete axis[module.optionsKey];\n      }\n    }\n  }\n  registerListeners(source, listeners) {\n    source.clearEventListeners();\n    for (const [property, listener] of Object.entries(listeners)) {\n      if (isFunction(listener)) {\n        source.addEventListener(property, listener);\n      }\n    }\n  }\n};\n_Chart.chartsInstances = /* @__PURE__ */new WeakMap();\n__decorateClass([ActionOnSet({\n  newValue(value) {\n    if (this.destroyed) return;\n    value.setAttribute(\"data-ag-charts\", \"\");\n    value.appendChild(this.element);\n    _Chart.chartsInstances.set(value, this);\n  },\n  oldValue(value) {\n    value.removeAttribute(\"data-ag-charts\");\n    value.removeChild(this.element);\n    _Chart.chartsInstances.delete(value);\n  }\n})], _Chart.prototype, \"container\", 2);\n__decorateClass([ActionOnSet({\n  newValue(value) {\n    this.resize(value, void 0, \"width option\");\n  }\n})], _Chart.prototype, \"width\", 2);\n__decorateClass([ActionOnSet({\n  newValue(value) {\n    this.resize(void 0, value, \"height option\");\n  }\n})], _Chart.prototype, \"height\", 2);\n__decorateClass([ActionOnSet({\n  newValue(value) {\n    this.onAutoSizeChange(value);\n  }\n}), Validate(BOOLEAN)], _Chart.prototype, \"autoSize\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"padding\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"seriesArea\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"title\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"subtitle\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"footnote\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"keyboard\", 2);\n__decorateClass([Validate(UNION([\"standalone\", \"integrated\"], \"a chart mode\"))], _Chart.prototype, \"mode\", 2);\n__decorateClass([ActionOnSet({\n  changeValue(newValue, oldValue) {\n    this.onAxisChange(newValue, oldValue);\n  }\n})], _Chart.prototype, \"axes\", 2);\n__decorateClass([ActionOnSet({\n  changeValue(newValue, oldValue) {\n    this.onSeriesChange(newValue, oldValue);\n  }\n})], _Chart.prototype, \"series\", 2);\nvar Chart = _Chart;\n\n// packages/ag-charts-community/src/scene/polyRoots.ts\nfunction linearRoot(a, b) {\n  const t = -b / a;\n  return a !== 0 && t >= 0 && t <= 1 ? [t] : [];\n}\nfunction quadraticRoots(a, b, c) {\n  if (a === 0) {\n    return linearRoot(b, c);\n  }\n  const D = b * b - 4 * a * c;\n  const roots = [];\n  if (D === 0) {\n    const t = -b / (2 * a);\n    if (t >= 0 && t <= 1) {\n      roots.push(t);\n    }\n  } else if (D > 0) {\n    const rD = Math.sqrt(D);\n    const t1 = (-b - rD) / (2 * a);\n    const t2 = (-b + rD) / (2 * a);\n    if (t1 >= 0 && t1 <= 1) {\n      roots.push(t1);\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      roots.push(t2);\n    }\n  }\n  return roots;\n}\nfunction cubicRoots(a, b, c, d) {\n  if (a === 0) {\n    return quadraticRoots(b, c, d);\n  }\n  const A = b / a;\n  const B = c / a;\n  const C = d / a;\n  const Q = (3 * B - A * A) / 9;\n  const R = (9 * A * B - 27 * C - 2 * A * A * A) / 54;\n  const D = Q * Q * Q + R * R;\n  const third = 1 / 3;\n  const roots = [];\n  if (D >= 0) {\n    const rD = Math.sqrt(D);\n    const S = Math.sign(R + rD) * Math.pow(Math.abs(R + rD), third);\n    const T = Math.sign(R - rD) * Math.pow(Math.abs(R - rD), third);\n    const Im = Math.abs(Math.sqrt(3) * (S - T) / 2);\n    const t = -third * A + (S + T);\n    if (t >= 0 && t <= 1) {\n      roots.push(t);\n    }\n    if (Im === 0) {\n      const t2 = -third * A - (S + T) / 2;\n      if (t2 >= 0 && t2 <= 1) {\n        roots.push(t2);\n      }\n    }\n  } else {\n    const theta = Math.acos(R / Math.sqrt(-Q * Q * Q));\n    const thirdA = third * A;\n    const twoSqrtQ = 2 * Math.sqrt(-Q);\n    const t1 = twoSqrtQ * Math.cos(third * theta) - thirdA;\n    const t2 = twoSqrtQ * Math.cos(third * (theta + 2 * Math.PI)) - thirdA;\n    const t3 = twoSqrtQ * Math.cos(third * (theta + 4 * Math.PI)) - thirdA;\n    if (t1 >= 0 && t1 <= 1) {\n      roots.push(t1);\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      roots.push(t2);\n    }\n    if (t3 >= 0 && t3 <= 1) {\n      roots.push(t3);\n    }\n  }\n  return roots;\n}\n\n// packages/ag-charts-community/src/scene/intersection.ts\nfunction segmentIntersection(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\n  const d = (ax2 - ax1) * (by2 - by1) - (ay2 - ay1) * (bx2 - bx1);\n  if (d === 0) {\n    return 0;\n  }\n  const ua = ((bx2 - bx1) * (ay1 - by1) - (ax1 - bx1) * (by2 - by1)) / d;\n  const ub = ((ax2 - ax1) * (ay1 - by1) - (ay2 - ay1) * (ax1 - bx1)) / d;\n  if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n    return 1;\n  }\n  return 0;\n}\nfunction cubicSegmentIntersections(px1, py1, px2, py2, px3, py3, px4, py4, x1, y1, x2, y2) {\n  let intersections = 0;\n  const A = y1 - y2;\n  const B = x2 - x1;\n  const C = x1 * (y2 - y1) - y1 * (x2 - x1);\n  const bx = bezierCoefficients(px1, px2, px3, px4);\n  const by = bezierCoefficients(py1, py2, py3, py4);\n  const a = A * bx[0] + B * by[0];\n  const b = A * bx[1] + B * by[1];\n  const c = A * bx[2] + B * by[2];\n  const d = A * bx[3] + B * by[3] + C;\n  const roots = cubicRoots(a, b, c, d);\n  for (const t of roots) {\n    const tt = t * t;\n    const ttt = t * tt;\n    const x = bx[0] * ttt + bx[1] * tt + bx[2] * t + bx[3];\n    const y = by[0] * ttt + by[1] * tt + by[2] * t + by[3];\n    let s;\n    if (x1 === x2) {\n      s = (y - y1) / (y2 - y1);\n    } else {\n      s = (x - x1) / (x2 - x1);\n    }\n    if (s >= 0 && s <= 1) {\n      intersections++;\n    }\n  }\n  return intersections;\n}\nfunction bezierCoefficients(P1, P2, P3, P4) {\n  return [\n  // Bzier expressed as matrix operations:\n  -P1 + 3 * P2 - 3 * P3 + P4,\n  //                 |-1  3 -3  1| |P1|\n  3 * P1 - 6 * P2 + 3 * P3,\n  //   [t^3 t^2 t 1] | 3 -6  3  0| |P2|\n  -3 * P1 + 3 * P2,\n  //                 |-3  3  0  0| |P3|\n  P1\n  //                 | 1  0  0  0| |P4|\n  ];\n}\nfunction arcIntersections(cx, cy, r, startAngle, endAngle, counterClockwise, x1, y1, x2, y2) {\n  if (isNaN(cx) || isNaN(cy)) {\n    return 0;\n  }\n  if (counterClockwise) {\n    [endAngle, startAngle] = [startAngle, endAngle];\n  }\n  const k = (y2 - y1) / (x2 - x1);\n  const y0 = y1 - k * x1;\n  const a = Math.pow(k, 2) + 1;\n  const b = 2 * (k * (y0 - cy) - cx);\n  const c = Math.pow(cx, 2) + Math.pow(y0 - cy, 2) - Math.pow(r, 2);\n  const d = Math.pow(b, 2) - 4 * a * c;\n  if (d < 0) {\n    return 0;\n  }\n  const i1x = (-b + Math.sqrt(d)) / 2 / a;\n  const i2x = (-b - Math.sqrt(d)) / 2 / a;\n  let intersections = 0;\n  [i1x, i2x].forEach(x => {\n    const isXInsideLine = x >= Math.min(x1, x2) && x <= Math.max(x1, x2);\n    if (!isXInsideLine) {\n      return;\n    }\n    const y = k * x + y0;\n    const adjacent = x - cx;\n    const opposite = y - cy;\n    const angle = Math.atan2(opposite, adjacent);\n    if (isBetweenAngles(angle, startAngle, endAngle)) {\n      intersections++;\n    }\n  });\n  return intersections;\n}\n\n// packages/ag-charts-community/src/scene/extendedPath2D.ts\nvar ExtendedPath2D = class {\n  constructor() {\n    // The methods of this class will likely be called many times per animation frame,\n    // and any allocation can trigger a GC cycle during animation, so we attempt\n    // to minimize the number of allocations.\n    this.path2d = new Path2D();\n    this.previousCommands = [];\n    this.previousParams = [];\n    this.previousClosedPath = false;\n    this.commands = [];\n    this.params = [];\n    this.openedPath = false;\n    this.closedPath = false;\n  }\n  isDirty() {\n    return this.closedPath !== this.previousClosedPath || this.previousCommands.length !== this.commands.length || this.previousParams.length !== this.params.length || this.previousCommands.toString() !== this.commands.toString() || this.previousParams.toString() !== this.params.toString();\n  }\n  getPath2D() {\n    return this.path2d;\n  }\n  moveTo(x, y) {\n    this.openedPath = true;\n    this.path2d.moveTo(x, y);\n    this.commands.push(0 /* Move */);\n    this.params.push(x, y);\n  }\n  lineTo(x, y) {\n    if (this.openedPath) {\n      this.path2d.lineTo(x, y);\n      this.commands.push(1 /* Line */);\n      this.params.push(x, y);\n    } else {\n      this.moveTo(x, y);\n    }\n  }\n  rect(x, y, width, height) {\n    this.moveTo(x, y);\n    this.lineTo(x + width, y);\n    this.lineTo(x + width, y + height);\n    this.lineTo(x, y + height);\n    this.closePath();\n  }\n  roundRect(x, y, width, height, radii) {\n    radii = Math.min(radii, width / 2, height / 2);\n    this.moveTo(x, y + radii);\n    this.arc(x + radii, y + radii, radii, Math.PI, 1.5 * Math.PI);\n    this.lineTo(x + radii, y);\n    this.lineTo(x + width - radii, y);\n    this.arc(x + width - radii, y + radii, radii, 1.5 * Math.PI, 2 * Math.PI);\n    this.lineTo(x + width, y + radii);\n    this.lineTo(x + width, y + height - radii);\n    this.arc(x + width - radii, y + height - radii, radii, 0, Math.PI / 2);\n    this.lineTo(x + width - radii, y + height);\n    this.lineTo(x + radii, y + height);\n    this.arc(x + +radii, y + height - radii, radii, Math.PI / 2, Math.PI);\n    this.lineTo(x, y + height - radii);\n    this.closePath();\n  }\n  arc(x, y, r, sAngle, eAngle, counterClockwise) {\n    this.openedPath = true;\n    this.path2d.arc(x, y, r, sAngle, eAngle, counterClockwise);\n    this.commands.push(2 /* Arc */);\n    this.params.push(x, y, r, sAngle, eAngle, counterClockwise ? 1 : 0);\n  }\n  cubicCurveTo(cx1, cy1, cx2, cy2, x, y) {\n    if (!this.openedPath) {\n      this.moveTo(cx1, cy1);\n    }\n    this.path2d.bezierCurveTo(cx1, cy1, cx2, cy2, x, y);\n    this.commands.push(3 /* Curve */);\n    this.params.push(cx1, cy1, cx2, cy2, x, y);\n  }\n  closePath() {\n    if (this.openedPath) {\n      this.path2d.closePath();\n      this.commands.push(4 /* ClosePath */);\n      this.openedPath = false;\n      this.closedPath = true;\n    }\n  }\n  clear(trackChanges) {\n    if (trackChanges) {\n      this.previousCommands = this.commands;\n      this.previousParams = this.params;\n      this.previousClosedPath = this.closedPath;\n    }\n    this.path2d = new Path2D();\n    this.openedPath = false;\n    this.closedPath = false;\n    this.commands = [];\n    this.params = [];\n  }\n  isPointInPath(x, y) {\n    const commands = this.commands;\n    const params = this.params;\n    const cn = commands.length;\n    const ox = -1e4;\n    const oy = -1e4;\n    let sx = NaN;\n    let sy = NaN;\n    let px = 0;\n    let py = 0;\n    let intersectionCount = 0;\n    for (let ci = 0, pi = 0; ci < cn; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n          intersectionCount += segmentIntersection(sx, sy, px, py, ox, oy, x, y);\n          px = params[pi++];\n          sx = px;\n          py = params[pi++];\n          sy = py;\n          break;\n        case 1 /* Line */:\n          intersectionCount += segmentIntersection(px, py, params[pi++], params[pi++], ox, oy, x, y);\n          px = params[pi - 2];\n          py = params[pi - 1];\n          break;\n        case 3 /* Curve */:\n          intersectionCount += cubicSegmentIntersections(px, py, params[pi++], params[pi++], params[pi++], params[pi++], params[pi++], params[pi++], ox, oy, x, y);\n          px = params[pi - 2];\n          py = params[pi - 1];\n          break;\n        case 2 /* Arc */:\n          const cx = params[pi++];\n          const cy = params[pi++];\n          const r = params[pi++];\n          const startAngle = params[pi++];\n          const endAngle = params[pi++];\n          const counterClockwise = Boolean(params[pi++]);\n          intersectionCount += arcIntersections(cx, cy, r, startAngle, endAngle, counterClockwise, ox, oy, x, y);\n          if (!isNaN(sx)) {\n            const startX = cx + Math.cos(startAngle) * r;\n            const startY = cy + Math.sin(startAngle) * r;\n            intersectionCount += segmentIntersection(px, py, startX, startY, ox, oy, x, y);\n          }\n          px = cx + Math.cos(endAngle) * r;\n          py = cy + Math.sin(endAngle) * r;\n          break;\n        case 4 /* ClosePath */:\n          intersectionCount += segmentIntersection(sx, sy, px, py, ox, oy, x, y);\n          break;\n      }\n    }\n    return intersectionCount % 2 === 1;\n  }\n  distanceSquared(x, y) {\n    let best = Infinity;\n    const commands = this.commands;\n    const params = this.params;\n    const cn = commands.length;\n    let sx = NaN;\n    let sy = NaN;\n    let px = 0;\n    let py = 0;\n    for (let ci = 0, pi = 0; ci < cn; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n          px = sx = params[pi++];\n          py = sy = params[pi++];\n          break;\n        case 1 /* Line */:\n          {\n            const nx = params[pi++];\n            const ny = params[pi++];\n            best = lineDistanceSquared(x, y, px, py, nx, ny, best);\n            break;\n          }\n        case 3 /* Curve */:\n          Logger.error(\"Command.Curve distanceSquare not implemented\");\n          break;\n        case 2 /* Arc */:\n          {\n            const cx = params[pi++];\n            const cy = params[pi++];\n            const r = params[pi++];\n            const startAngle = params[pi++];\n            const endAngle = params[pi++];\n            const startX = cx + Math.cos(startAngle) * r;\n            const startY = cy + Math.sin(startAngle) * r;\n            const counterClockwise = Boolean(params[pi++]);\n            best = lineDistanceSquared(x, y, px, py, startX, startY, best);\n            best = arcDistanceSquared(x, y, cx, cy, r, startAngle, endAngle, counterClockwise, best);\n            px = cx + Math.cos(endAngle) * r;\n            py = cy + Math.sin(endAngle) * r;\n            break;\n          }\n        case 4 /* ClosePath */:\n          best = lineDistanceSquared(x, y, px, py, sx, sy, best);\n          break;\n      }\n    }\n    return best;\n  }\n  getPoints() {\n    const {\n      commands,\n      params\n    } = this;\n    const coords = [];\n    let pi = 0;\n    for (let ci = 0; ci < commands.length; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n        case 1 /* Line */:\n          coords.push({\n            x: params[pi++],\n            y: params[pi++]\n          });\n          break;\n        case 3 /* Curve */:\n          pi += 4;\n          coords.push({\n            x: params[pi++],\n            y: params[pi++]\n          });\n          break;\n        case 2 /* Arc */:\n          coords.push({\n            x: params[pi++],\n            y: params[pi++]\n          });\n          pi += 4;\n          break;\n        case 4 /* ClosePath */:\n          break;\n      }\n    }\n    return coords;\n  }\n};\n\n// packages/ag-charts-community/src/scene/shape/path.ts\nfunction ScenePathChangeDetection(opts) {\n  const {\n    redraw = 3 /* MAJOR */,\n    changeCb,\n    convertor\n  } = opts != null ? opts : {};\n  return SceneChangeDetection({\n    redraw,\n    type: \"path\",\n    convertor,\n    changeCb\n  });\n}\nvar Path = class extends Shape {\n  constructor() {\n    super(...arguments);\n    /**\n     * Declare a path to retain for later rendering and hit testing\n     * using custom Path2D class. Think of it as a TypeScript version\n     * of the native Path2D (with some differences) that works in all browsers.\n     */\n    this.path = new ExtendedPath2D();\n    this._clipX = NaN;\n    this._clipY = NaN;\n    /**\n     * The path only has to be updated when certain attributes change.\n     * For example, if transform attributes (such as `translationX`)\n     * are changed, we don't have to update the path. The `dirtyPath` flag\n     * is how we keep track if the path has to be updated or not.\n     */\n    this._dirtyPath = true;\n  }\n  set clipX(value) {\n    this._clipX = value;\n    this.dirtyPath = true;\n  }\n  set clipY(value) {\n    this._clipY = value;\n    this.dirtyPath = true;\n  }\n  set dirtyPath(value) {\n    if (this._dirtyPath !== value) {\n      this._dirtyPath = value;\n      if (value) {\n        this.markDirty(this, 3 /* MAJOR */);\n      }\n    }\n  }\n  get dirtyPath() {\n    return this._dirtyPath;\n  }\n  checkPathDirty() {\n    var _a, _b, _c, _d;\n    if (this._dirtyPath) {\n      return;\n    }\n    this.dirtyPath = this.path.isDirty() || ((_b = (_a = this.fillShadow) == null ? void 0 : _a.isDirty()) != null ? _b : false) || ((_d = (_c = this._clipPath) == null ? void 0 : _c.isDirty()) != null ? _d : false);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    return this.path.closedPath && this.path.isPointInPath(point.x, point.y);\n  }\n  distanceSquared(x, y) {\n    const point = this.transformPoint(x, y);\n    return this.path.distanceSquared(point.x, point.y);\n  }\n  isDirtyPath() {\n    return false;\n  }\n  updatePath() {}\n  render(renderCtx) {\n    var _a, _b, _c, _d, _e;\n    const {\n      ctx,\n      forceRender,\n      stats\n    } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats) stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    if (this.dirtyPath || this.isDirtyPath()) {\n      this.updatePath();\n      this.dirtyPath = false;\n    }\n    if (!isNaN(this._clipX) && !isNaN(this._clipY) && this.clipMode != null) {\n      ctx.save();\n      const margin = this.strokeWidth / 2;\n      (_a = this._clipPath) != null ? _a : this._clipPath = new ExtendedPath2D();\n      this._clipPath.clear();\n      this._clipPath.rect(-margin, -margin, this._clipX + margin, this._clipY + margin + margin);\n      if (this.clipMode === \"normal\") {\n        ctx.clip((_b = this._clipPath) == null ? void 0 : _b.getPath2D());\n      }\n      if (this._clipX > 0 && this._clipY > 0) {\n        this.drawPath(ctx);\n      }\n      if (this.clipMode === \"punch-out\") {\n        ctx.clip((_c = this._clipPath) == null ? void 0 : _c.getPath2D());\n        const {\n          x = -1e4,\n          y = -1e4,\n          width = 2e4,\n          height = 2e4\n        } = (_d = this.computeBBox()) != null ? _d : {};\n        ctx.clearRect(x, y, width, height);\n      }\n      ctx.restore();\n    } else {\n      this.drawPath(ctx);\n    }\n    (_e = this.fillShadow) == null ? void 0 : _e.markClean();\n    super.render(renderCtx);\n  }\n  drawPath(ctx) {\n    this.fillStroke(ctx, this.path.getPath2D());\n  }\n};\nPath.className = \"Path\";\n__decorateClass([ScenePathChangeDetection()], Path.prototype, \"clipMode\", 2);\n__decorateClass([ScenePathChangeDetection()], Path.prototype, \"clipX\", 1);\n__decorateClass([ScenePathChangeDetection()], Path.prototype, \"clipY\", 1);\n\n// packages/ag-charts-community/src/scene/util/quadtree.ts\nvar QuadtreeNearest = class {\n  constructor(capacity, maxdepth, boundary) {\n    this.root = new QuadtreeNodeNearest(capacity, maxdepth, boundary);\n  }\n  clear(boundary) {\n    this.root.clear(boundary);\n  }\n  addValue(hitTester, value) {\n    const elem = {\n      hitTester,\n      value,\n      distanceSquared: (x, y) => {\n        return hitTester.distanceSquared(x, y);\n      }\n    };\n    this.root.addElem(elem);\n  }\n  find(x, y) {\n    const arg = {\n      best: {\n        nearest: void 0,\n        distanceSquared: Infinity\n      }\n    };\n    this.root.find(x, y, arg);\n    return arg.best;\n  }\n};\nvar QuadtreeSubdivisions = class {\n  constructor(nw, ne, sw, se) {\n    this.nw = nw;\n    this.ne = ne;\n    this.sw = sw;\n    this.se = se;\n  }\n  addElem(elem) {\n    this.nw.addElem(elem);\n    this.ne.addElem(elem);\n    this.sw.addElem(elem);\n    this.se.addElem(elem);\n  }\n  find(x, y, arg) {\n    this.nw.find(x, y, arg);\n    this.ne.find(x, y, arg);\n    this.sw.find(x, y, arg);\n    this.se.find(x, y, arg);\n  }\n};\nvar QuadtreeNode = class {\n  constructor(capacity, maxdepth, boundary) {\n    this.capacity = capacity;\n    this.maxdepth = maxdepth;\n    this.boundary = boundary != null ? boundary : BBox.NaN;\n    this.elems = [];\n    this.subdivisions = void 0;\n  }\n  clear(boundary) {\n    this.elems.length = 0;\n    this.boundary = boundary;\n    this.subdivisions = void 0;\n  }\n  addElem(e) {\n    if (this.addCondition(e)) {\n      if (this.subdivisions === void 0) {\n        if (this.maxdepth === 0 || this.elems.length < this.capacity) {\n          this.elems.push(e);\n        } else {\n          this.subdivide(e);\n        }\n      } else {\n        this.subdivisions.addElem(e);\n      }\n    }\n  }\n  find(x, y, arg) {\n    if (this.findCondition(x, y, arg)) {\n      if (this.subdivisions === void 0) {\n        this.findAction(x, y, arg);\n      } else {\n        this.subdivisions.find(x, y, arg);\n      }\n    }\n  }\n  subdivide(newElem) {\n    this.subdivisions = this.makeSubdivisions();\n    for (const e of this.elems) {\n      this.subdivisions.addElem(e);\n    }\n    this.subdivisions.addElem(newElem);\n    this.elems.length = 0;\n  }\n  makeSubdivisions() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.boundary;\n    const {\n      capacity\n    } = this;\n    const depth = this.maxdepth - 1;\n    const halfWidth = width / 2;\n    const halfHeight = height / 2;\n    const nwBoundary = new BBox(x, y, halfWidth, halfHeight);\n    const neBoundary = new BBox(x + halfWidth, y, halfWidth, halfHeight);\n    const swBoundary = new BBox(x, y + halfHeight, halfWidth, halfHeight);\n    const seBoundary = new BBox(x + halfWidth, y + halfHeight, halfWidth, halfHeight);\n    return new QuadtreeSubdivisions(this.child(capacity, depth, nwBoundary), this.child(capacity, depth, neBoundary), this.child(capacity, depth, swBoundary), this.child(capacity, depth, seBoundary));\n  }\n};\nvar QuadtreeNodeNearest = class _QuadtreeNodeNearest extends QuadtreeNode {\n  addCondition(e) {\n    const {\n      x,\n      y\n    } = e.hitTester.midPoint;\n    return this.boundary.containsPoint(x, y);\n  }\n  findCondition(x, y, arg) {\n    const {\n      best\n    } = arg;\n    return best.distanceSquared !== 0 && this.boundary.distanceSquared(x, y) < best.distanceSquared;\n  }\n  findAction(x, y, arg) {\n    const other = nearestSquared(x, y, this.elems, arg.best.distanceSquared);\n    if (other.nearest !== void 0 && other.distanceSquared < arg.best.distanceSquared) {\n      arg.best = other;\n    }\n  }\n  child(capacity, depth, boundary) {\n    return new _QuadtreeNodeNearest(capacity, depth, boundary);\n  }\n};\n\n// packages/ag-charts-community/src/chart/marker/marker.ts\nvar Marker = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.x = 0;\n    this.y = 0;\n    this.size = 12;\n  }\n  computeBBox() {\n    const {\n      x,\n      y,\n      size\n    } = this;\n    const {\n      center\n    } = this.constructor;\n    return new BBox(x - size * center.x, y - size * center.y, size, size);\n  }\n  applyPath(s, moves) {\n    const {\n      path\n    } = this;\n    let {\n      x,\n      y\n    } = this;\n    if (this.repeat != null) {\n      x = 0;\n      y = 0;\n    }\n    path.clear();\n    for (const {\n      x: mx,\n      y: my,\n      t\n    } of moves) {\n      x += mx * s;\n      y += my * s;\n      if (t === \"move\") {\n        path.moveTo(x, y);\n      } else {\n        path.lineTo(x, y);\n      }\n    }\n    path.closePath();\n  }\n  executeFill(ctx, path) {\n    if (!path) return;\n    if (this.repeat == null) {\n      return super.executeFill(ctx, path);\n    }\n    ctx.save();\n    let x = this.translationX;\n    let y = this.translationY;\n    for (const translation of this.repeat) {\n      ctx.translate(translation.x - x, translation.y - y);\n      ctx.fill(path);\n      x = translation.x;\n      y = translation.y;\n    }\n    ctx.restore();\n  }\n  executeStroke(ctx, path) {\n    if (!path) return;\n    if (this.repeat == null) {\n      return super.executeStroke(ctx, path);\n    }\n    ctx.save();\n    let x = this.translationX;\n    let y = this.translationY;\n    for (const translation of this.repeat) {\n      ctx.translate(translation.x - x, translation.y - y);\n      ctx.stroke(path);\n      x = translation.x;\n      y = translation.y;\n    }\n    ctx.restore();\n  }\n};\nMarker.center = {\n  x: 0.5,\n  y: 0.5\n};\n__decorateClass([ScenePathChangeDetection()], Marker.prototype, \"x\", 2);\n__decorateClass([ScenePathChangeDetection()], Marker.prototype, \"y\", 2);\n__decorateClass([ScenePathChangeDetection({\n  convertor: Math.abs\n})], Marker.prototype, \"size\", 2);\n__decorateClass([ScenePathChangeDetection()], Marker.prototype, \"repeat\", 2);\n\n// packages/ag-charts-community/src/chart/marker/circle.ts\nvar Circle = class extends Marker {\n  updatePath() {\n    const {\n      x,\n      y,\n      path,\n      size\n    } = this;\n    const r = size / 2;\n    path.clear();\n    path.arc(x, y, r, 0, Math.PI * 2);\n    path.closePath();\n  }\n};\nCircle.className = \"Circle\";\n\n// packages/ag-charts-community/src/chart/marker/cross.ts\nvar _Cross = class _Cross extends Marker {\n  updatePath() {\n    const s = this.size / 4.2;\n    super.applyPath(s, _Cross.moves);\n  }\n};\n_Cross.className = \"Cross\";\n_Cross.moves = [{\n  x: -1,\n  y: 0,\n  t: \"move\"\n}, {\n  x: -1,\n  y: -1\n}, {\n  x: 1,\n  y: -1\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: 1,\n  y: -1\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: -1,\n  y: 1\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: -1,\n  y: 1\n}, {\n  x: -1,\n  y: -1\n}, {\n  x: -1,\n  y: 1\n}, {\n  x: -1,\n  y: -1\n}];\nvar Cross = _Cross;\n\n// packages/ag-charts-community/src/chart/marker/diamond.ts\nvar _Diamond = class _Diamond extends Marker {\n  updatePath() {\n    const s = this.size / 2;\n    super.applyPath(s, _Diamond.moves);\n  }\n};\n_Diamond.className = \"Diamond\";\n_Diamond.moves = [{\n  x: 0,\n  y: -1,\n  t: \"move\"\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: -1,\n  y: 1\n}, {\n  x: -1,\n  y: -1\n}, {\n  x: 1,\n  y: -1\n}];\nvar Diamond = _Diamond;\n\n// packages/ag-charts-community/src/chart/marker/heart.ts\nvar Heart = class extends Marker {\n  rad(degree) {\n    return degree / 180 * Math.PI;\n  }\n  updatePath() {\n    const {\n      x,\n      path,\n      size,\n      rad\n    } = this;\n    const r = size / 4;\n    const y = this.y + r / 2;\n    path.clear();\n    path.arc(x - r, y - r, r, rad(130), rad(330));\n    path.arc(x + r, y - r, r, rad(220), rad(50));\n    path.lineTo(x, y + r);\n    path.closePath();\n  }\n};\nHeart.className = \"Heart\";\n\n// packages/ag-charts-community/src/chart/marker/pin.ts\nvar Pin = class extends Marker {\n  updatePath() {\n    const {\n      path,\n      x,\n      y\n    } = this;\n    const s = this.size;\n    const cx = 0.5;\n    const cy = 1;\n    path.clear();\n    path.moveTo(x + (0.15625 - cx) * s, y + (0.34375 - cy) * s);\n    path.cubicCurveTo(x + (0.15625 - cx) * s, y + (0.151491 - cy) * s, x + (0.307741 - cx) * s, y + (0 - cy) * s, x + (0.5 - cx) * s, y + (0 - cy) * s);\n    path.cubicCurveTo(x + (0.692259 - cx) * s, y + (0 - cy) * s, x + (0.84375 - cx) * s, y + (0.151491 - cy) * s, x + (0.84375 - cx) * s, y + (0.34375 - cy) * s);\n    path.cubicCurveTo(x + (0.84375 - cx) * s, y + (0.493824 - cy) * s, x + (0.784625 - cx) * s, y + (0.600181 - cy) * s, x + (0.716461 - cx) * s, y + (0.695393 - cy) * s);\n    path.cubicCurveTo(x + (0.699009 - cx) * s, y + (0.719769 - cy) * s, x + (0.681271 - cx) * s, y + (0.743104 - cy) * s, x + (0.663785 - cx) * s, y + (0.766105 - cy) * s);\n    path.cubicCurveTo(x + (0.611893 - cx) * s, y + (0.834367 - cy) * s, x + (0.562228 - cx) * s, y + (0.899699 - cy) * s, x + (0.528896 - cx) * s, y + (0.980648 - cy) * s);\n    path.cubicCurveTo(x + (0.524075 - cx) * s, y + (0.992358 - cy) * s, x + (0.512663 - cx) * s, y + (1 - cy) * s, x + (0.5 - cx) * s, y + (1 - cy) * s);\n    path.cubicCurveTo(x + (0.487337 - cx) * s, y + (1 - cy) * s, x + (0.475925 - cx) * s, y + (0.992358 - cy) * s, x + (0.471104 - cx) * s, y + (0.980648 - cy) * s);\n    path.cubicCurveTo(x + (0.487337 - cx) * s, y + (1 - cy) * s, x + (0.475925 - cx) * s, y + (0.992358 - cy) * s, x + (0.471104 - cx) * s, y + (0.980648 - cy) * s);\n    path.cubicCurveTo(x + (0.437772 - cx) * s, y + (0.899699 - cy) * s, x + (0.388107 - cx) * s, y + (0.834367 - cy) * s, x + (0.336215 - cx) * s, y + (0.766105 - cy) * s);\n    path.cubicCurveTo(x + (0.318729 - cx) * s, y + (0.743104 - cy) * s, x + (0.300991 - cx) * s, y + (0.719769 - cy) * s, x + (0.283539 - cx) * s, y + (0.695393 - cy) * s);\n    path.cubicCurveTo(x + (0.215375 - cx) * s, y + (0.600181 - cy) * s, x + (0.15625 - cx) * s, y + (0.493824 - cy) * s, x + (0.15625 - cx) * s, y + (0.34375 - cy) * s);\n    path.closePath();\n  }\n};\nPin.className = \"MapPin\";\nPin.center = {\n  x: 0.5,\n  y: 1\n};\n\n// packages/ag-charts-community/src/chart/marker/plus.ts\nvar _Plus = class _Plus extends Marker {\n  updatePath() {\n    const s = this.size / 3;\n    super.applyPath(s, _Plus.moves);\n  }\n};\n_Plus.className = \"Plus\";\n_Plus.moves = [{\n  x: -0.5,\n  y: -0.5,\n  t: \"move\"\n}, {\n  x: 0,\n  y: -1\n}, {\n  x: 1,\n  y: 0\n}, {\n  x: 0,\n  y: 1\n}, {\n  x: 1,\n  y: 0\n}, {\n  x: 0,\n  y: 1\n}, {\n  x: -1,\n  y: 0\n}, {\n  x: 0,\n  y: 1\n}, {\n  x: -1,\n  y: 0\n}, {\n  x: 0,\n  y: -1\n}, {\n  x: -1,\n  y: 0\n}, {\n  x: 0,\n  y: -1\n}];\nvar Plus = _Plus;\n\n// packages/ag-charts-community/src/chart/marker/square.ts\nvar Square = class extends Marker {\n  updatePath() {\n    const {\n      path,\n      x,\n      y\n    } = this;\n    const hs = this.size / 2;\n    path.clear();\n    path.moveTo(this.align(x - hs), this.align(y - hs));\n    path.lineTo(this.align(x + hs), this.align(y - hs));\n    path.lineTo(this.align(x + hs), this.align(y + hs));\n    path.lineTo(this.align(x - hs), this.align(y + hs));\n    path.closePath();\n  }\n};\nSquare.className = \"Square\";\n\n// packages/ag-charts-community/src/chart/marker/star.ts\nvar Star = class extends Marker {\n  updatePath() {\n    const {\n      x,\n      y,\n      path,\n      size\n    } = this;\n    const spikes = 5;\n    const innerRadius = size / 2;\n    const rotation = Math.PI / 2;\n    path.clear();\n    for (let i = 0; i < spikes * 2; i++) {\n      const radius = i % 2 === 0 ? size : innerRadius;\n      const angle = i * Math.PI / spikes - rotation;\n      const xCoordinate = x + Math.cos(angle) * radius;\n      const yCoordinate = y + Math.sin(angle) * radius;\n      path.lineTo(xCoordinate, yCoordinate);\n    }\n    path.closePath();\n  }\n};\nStar.className = \"Star\";\n\n// packages/ag-charts-community/src/chart/marker/triangle.ts\nvar _Triangle = class _Triangle extends Marker {\n  updatePath() {\n    const s = this.size * 1.1;\n    super.applyPath(s, _Triangle.moves);\n  }\n};\n_Triangle.className = \"Triangle\";\n_Triangle.moves = [{\n  x: 0,\n  y: -0.48,\n  t: \"move\"\n}, {\n  x: 0.5,\n  y: 0.87\n}, {\n  x: -1,\n  y: 0\n}];\nvar Triangle = _Triangle;\n\n// packages/ag-charts-community/src/chart/marker/util.ts\nvar MARKER_SHAPES = {\n  circle: Circle,\n  cross: Cross,\n  diamond: Diamond,\n  heart: Heart,\n  pin: Pin,\n  plus: Plus,\n  square: Square,\n  star: Star,\n  triangle: Triangle\n};\nvar MARKER_SUPPORTED_SHAPES = Object.keys(MARKER_SHAPES);\nfunction isMarkerShape(shape) {\n  return typeof shape === \"string\" && MARKER_SUPPORTED_SHAPES.includes(shape);\n}\nfunction getMarker(shape = Square) {\n  if (isMarkerShape(shape)) {\n    return MARKER_SHAPES[shape];\n  }\n  if (typeof shape === \"function\") {\n    return shape;\n  }\n  return Square;\n}\n\n// packages/ag-charts-community/src/chart/series/dataModelSeries.ts\nvar DataModelSeries = class extends Series {\n  constructor() {\n    super(...arguments);\n    this.showFocusBox = true;\n  }\n  getScaleInformation({\n    xScale,\n    yScale\n  }) {\n    const isContinuousX = ContinuousScale.is(xScale);\n    const isContinuousY = ContinuousScale.is(yScale);\n    return {\n      isContinuousX,\n      isContinuousY,\n      xScaleType: xScale == null ? void 0 : xScale.type,\n      yScaleType: yScale == null ? void 0 : yScale.type\n    };\n  }\n  getModulePropertyDefinitions() {\n    var _a, _b;\n    const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n    const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n    return this.moduleMap.mapModules(mod2 => mod2.getPropertyDefinitions(this.getScaleInformation({\n      xScale,\n      yScale\n    }))).flat();\n  }\n  // Request data, but with message dispatching to series-options (modules).\n  requestDataModel(dataController, data, opts) {\n    return __async(this, null, function* () {\n      opts.props.push(...this.getModulePropertyDefinitions());\n      const {\n        dataModel,\n        processedData\n      } = yield dataController.request(this.id, data != null ? data : [], opts);\n      this.dataModel = dataModel;\n      this.processedData = processedData;\n      this.dispatch(\"data-processed\", {\n        dataModel,\n        processedData\n      });\n      return {\n        dataModel,\n        processedData\n      };\n    });\n  }\n  isProcessedDataAnimatable() {\n    var _a, _b;\n    const validationResults = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation;\n    if (!validationResults) {\n      return true;\n    }\n    const {\n      orderedKeys,\n      uniqueKeys\n    } = validationResults;\n    return orderedKeys && uniqueKeys;\n  }\n  checkProcessedDataAnimatable() {\n    if (!this.isProcessedDataAnimatable()) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  pickFocus(opts) {\n    return this.doPickFocus(opts, this);\n  }\n  // The legend behaves differently for Pie and Donut series. We need to use a seriesItemEnabled\n  // array to determine whether a datum has been toggled on/off using the legend.\n  doPickFocus(opts, derivedSeries) {\n    const nodeData = this.getNodeData();\n    if (nodeData === void 0 || nodeData.length === 0) {\n      return void 0;\n    }\n    const {\n      datumIndexDelta,\n      seriesRect\n    } = opts;\n    const datumIndex = this.computeFocusDatumIndex(opts, nodeData, derivedSeries.seriesItemEnabled);\n    if (datumIndex === void 0) {\n      return void 0;\n    }\n    const {\n      showFocusBox\n    } = this;\n    const datum = nodeData[datumIndex];\n    const bbox = this.computeFocusBounds({\n      datumIndex,\n      datumIndexDelta,\n      seriesRect\n    });\n    if (bbox !== void 0) {\n      return {\n        bbox,\n        showFocusBox,\n        datum,\n        datumIndex\n      };\n    }\n  }\n  computeFocusDatumIndex(opts, nodeData, seriesItemEnabled) {\n    if (seriesItemEnabled && nodeData.length !== seriesItemEnabled.length) {\n      Logger.error(`invalid state: nodeData.length (${nodeData.length} !== seriesItemEnabled.length (${seriesItemEnabled == null ? void 0 : seriesItemEnabled.length})`);\n    }\n    const isDatumEnabled = datumIndex2 => {\n      const nodeDatum = nodeData[datumIndex2];\n      return (nodeDatum.missing === void 0 || nodeDatum.missing === false) && (seriesItemEnabled === void 0 || seriesItemEnabled[datumIndex2]);\n    };\n    const searchBackward = datumIndex2 => {\n      while (datumIndex2 >= 0 && !isDatumEnabled(datumIndex2)) {\n        datumIndex2--;\n      }\n      return datumIndex2 === -1 ? void 0 : datumIndex2;\n    };\n    const searchForward = datumIndex2 => {\n      while (datumIndex2 < nodeData.length && !isDatumEnabled(datumIndex2)) {\n        datumIndex2++;\n      }\n      return datumIndex2 === nodeData.length ? void 0 : datumIndex2;\n    };\n    let datumIndex;\n    const clampedIndex = clamp(0, opts.datumIndex, nodeData.length - 1);\n    if (opts.datumIndexDelta < 0) {\n      datumIndex = searchBackward(clampedIndex);\n    } else if (opts.datumIndexDelta > 0) {\n      datumIndex = searchForward(clampedIndex);\n    } else {\n      datumIndex != null ? datumIndex : datumIndex = searchForward(clampedIndex);\n      datumIndex != null ? datumIndex : datumIndex = searchBackward(clampedIndex);\n    }\n    if (datumIndex === void 0) {\n      if (opts.datumIndexDelta === 0) {\n        return void 0;\n      } else {\n        return opts.datumIndex - opts.datumIndexDelta;\n      }\n    } else {\n      return datumIndex;\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/seriesProperties.ts\nvar SeriesItemHighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"rgba(255,255,255, 0.33)\";\n    this.stroke = `rgba(0, 0, 0, 0.4)`;\n    this.strokeWidth = 2;\n  }\n};\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"lineDashOffset\", 2);\nvar SeriesHighlightStyle = class extends BaseProperties {};\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], SeriesHighlightStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], SeriesHighlightStyle.prototype, \"dimOpacity\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], SeriesHighlightStyle.prototype, \"enabled\", 2);\nvar TextHighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.color = \"black\";\n  }\n};\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], TextHighlightStyle.prototype, \"color\", 2);\nvar HighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.item = new SeriesItemHighlightStyle();\n    this.series = new SeriesHighlightStyle();\n    this.text = new TextHighlightStyle();\n  }\n};\n__decorateClass([Validate(OBJECT)], HighlightStyle.prototype, \"item\", 2);\n__decorateClass([Validate(OBJECT)], HighlightStyle.prototype, \"series\", 2);\n__decorateClass([Validate(OBJECT)], HighlightStyle.prototype, \"text\", 2);\nvar SeriesProperties = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.visible = true;\n    this.showInLegend = true;\n    this.cursor = \"default\";\n    this.nodeClickRange = \"exact\";\n    this.highlightStyle = new HighlightStyle();\n  }\n};\n__decorateClass([Validate(STRING, {\n  optional: true\n})], SeriesProperties.prototype, \"id\", 2);\n__decorateClass([Validate(BOOLEAN)], SeriesProperties.prototype, \"visible\", 2);\n__decorateClass([Validate(BOOLEAN)], SeriesProperties.prototype, \"showInLegend\", 2);\n__decorateClass([Validate(STRING)], SeriesProperties.prototype, \"cursor\", 2);\n__decorateClass([Validate(INTERACTION_RANGE)], SeriesProperties.prototype, \"nodeClickRange\", 2);\n__decorateClass([Validate(OBJECT)], SeriesProperties.prototype, \"highlightStyle\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/cartesianSeries.ts\nvar DEFAULT_CARTESIAN_DIRECTION_KEYS = {\n  [\"x\" /* X */]: [\"xKey\"],\n  [\"y\" /* Y */]: [\"yKey\"]\n};\nvar DEFAULT_CARTESIAN_DIRECTION_NAMES = {\n  [\"x\" /* X */]: [\"xName\"],\n  [\"y\" /* Y */]: [\"yName\"]\n};\nvar CartesianSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.xKey = series.properties.xKey;\n    this.yKey = series.properties.yKey;\n  }\n};\nvar CartesianSeriesProperties = class extends SeriesProperties {};\n__decorateClass([Validate(STRING, {\n  optional: true\n})], CartesianSeriesProperties.prototype, \"legendItemName\", 2);\nvar CartesianSeries = class extends DataModelSeries {\n  constructor(_a) {\n    var _b = _a,\n      {\n        pathsPerSeries = 1,\n        hasMarkers = false,\n        hasHighlightedLabels = false,\n        pathsZIndexSubOrderOffset = [],\n        datumSelectionGarbageCollection = true,\n        markerSelectionGarbageCollection = true,\n        animationAlwaysUpdateSelections = false,\n        animationResetFns,\n        directionKeys,\n        directionNames\n      } = _b,\n      otherOpts = __objRest(_b, [\"pathsPerSeries\", \"hasMarkers\", \"hasHighlightedLabels\", \"pathsZIndexSubOrderOffset\", \"datumSelectionGarbageCollection\", \"markerSelectionGarbageCollection\", \"animationAlwaysUpdateSelections\", \"animationResetFns\", \"directionKeys\", \"directionNames\"]);\n    super(__spreadValues({\n      directionKeys,\n      directionNames,\n      canHaveAxes: true\n    }, otherOpts));\n    this.NodeEvent = CartesianSeriesNodeEvent;\n    this.dataNodeGroup = this.contentGroup.appendChild(new Group({\n      name: `${this.id}-series-dataNodes`,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"data\")\n    }));\n    this.markerGroup = this.contentGroup.appendChild(new Group({\n      name: `${this.id}-series-markers`,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"marker\")\n    }));\n    this.labelGroup = this.contentGroup.appendChild(new Group({\n      name: `${this.id}-series-labels`,\n      zIndex: 8 /* SERIES_LABEL_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"labels\")\n    }));\n    this.labelSelection = Selection.select(this.labelGroup, Text);\n    this.highlightSelection = Selection.select(this.highlightNode, () => this.opts.hasMarkers ? this.markerFactory() : this.nodeFactory());\n    this.highlightLabelSelection = Selection.select(this.highlightLabel, Text);\n    this.annotationSelections = /* @__PURE__ */new Set();\n    this.minRectsCache = {\n      dirtyNodeData: true\n    };\n    this.debug = Debug.create();\n    if (!directionKeys || !directionNames) throw new Error(`Unable to initialise series type ${this.type}`);\n    this.opts = {\n      pathsPerSeries,\n      hasMarkers,\n      hasHighlightedLabels,\n      pathsZIndexSubOrderOffset,\n      directionKeys,\n      directionNames,\n      animationResetFns,\n      animationAlwaysUpdateSelections,\n      datumSelectionGarbageCollection,\n      markerSelectionGarbageCollection\n    };\n    this.paths = [];\n    for (let index = 0; index < pathsPerSeries; index++) {\n      this.paths[index] = new Path();\n      this.paths[index].zIndex = 4 /* SERIES_LAYER_ZINDEX */;\n      this.paths[index].zIndexSubOrder = this.getGroupZIndexSubOrder(\"paths\", index);\n      this.contentGroup.appendChild(this.paths[index]);\n    }\n    this.datumSelection = Selection.select(this.dataNodeGroup, () => this.nodeFactory(), datumSelectionGarbageCollection);\n    this.markerSelection = Selection.select(this.markerGroup, () => this.markerFactory(), markerSelectionGarbageCollection);\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateEmptyUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\",\n        disable: \"disabled\"\n      },\n      ready: {\n        updateData: \"waiting\",\n        clear: \"clearing\",\n        highlight: data => this.animateReadyHighlight(data),\n        highlightMarkers: data => this.animateReadyHighlightMarkers(data),\n        resize: data => this.animateReadyResize(data),\n        reset: \"empty\",\n        skip: \"ready\",\n        disable: \"disabled\"\n      },\n      waiting: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateWaitingUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\",\n        disable: \"disabled\"\n      },\n      disabled: {\n        update: data => this.resetAllAnimation(data),\n        reset: \"empty\"\n      },\n      clearing: {\n        update: {\n          target: \"empty\",\n          action: data => this.animateClearingUpdateEmpty(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      }\n    }, () => this.checkProcessedDataAnimatable());\n  }\n  get contextNodeData() {\n    return this._contextNodeData;\n  }\n  getNodeData() {\n    var _a;\n    return (_a = this.contextNodeData) == null ? void 0 : _a.nodeData;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    } else if (phase === \"disabled\") {\n      this.animationState.transition(\"disable\");\n    }\n  }\n  addChartEventListeners() {\n    this.destroyFns.push(this.ctx.chartEventManager.addListener(\"legend-item-click\", event => this.onLegendItemClick(event)), this.ctx.chartEventManager.addListener(\"legend-item-double-click\", event => this.onLegendItemDoubleClick(event)));\n  }\n  destroy() {\n    super.destroy();\n    this._contextNodeData = void 0;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({\n      seriesRect\n    }) {\n      var _a, _b;\n      const {\n        visible,\n        _contextNodeData: previousContextData\n      } = this;\n      const series = (_b = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight()) == null ? void 0 : _b.series;\n      const seriesHighlighted = series === this;\n      const resize = this.checkResize(seriesRect);\n      const highlightItems = yield this.updateHighlightSelection(seriesHighlighted);\n      yield this.updateSelections(visible);\n      yield this.updateNodes(highlightItems, seriesHighlighted, visible);\n      const animationData = this.getAnimationData(seriesRect, previousContextData);\n      if (!animationData) return;\n      if (resize) {\n        this.animationState.transition(\"resize\", animationData);\n      }\n      this.animationState.transition(\"update\", animationData);\n    });\n  }\n  updateSelections(anySeriesItemEnabled) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const animationSkipUpdate = !this.opts.animationAlwaysUpdateSelections && this.ctx.animationManager.isSkipped();\n      if (!anySeriesItemEnabled && animationSkipUpdate) {\n        return;\n      }\n      if (!this.nodeDataRefresh && !this.isPathOrSelectionDirty()) {\n        return;\n      }\n      if (this.nodeDataRefresh) {\n        this.nodeDataRefresh = false;\n        this.debug(`CartesianSeries.updateSelections() - calling createNodeData() for`, this.id);\n        this.markQuadtreeDirty();\n        this._contextNodeData = yield this.createNodeData();\n        const animationValid = this.isProcessedDataAnimatable();\n        if (this._contextNodeData) {\n          (_b = (_a = this._contextNodeData).animationValid) != null ? _b : _a.animationValid = animationValid;\n        }\n        this.minRectsCache.dirtyNodeData = true;\n        const {\n          dataModel,\n          processedData\n        } = this;\n        if (dataModel !== void 0 && processedData !== void 0) {\n          this.dispatch(\"data-update\", {\n            dataModel,\n            processedData\n          });\n        }\n      }\n      yield this.updateSeriesSelections();\n    });\n  }\n  updateSeriesSelections(seriesHighlighted) {\n    return __async(this, null, function* () {\n      const {\n        datumSelection,\n        labelSelection,\n        markerSelection,\n        paths\n      } = this;\n      const contextData = this._contextNodeData;\n      if (!contextData) return;\n      const {\n        nodeData,\n        labelData,\n        itemId\n      } = contextData;\n      yield this.updatePaths({\n        seriesHighlighted,\n        itemId,\n        contextData,\n        paths\n      });\n      this.datumSelection = yield this.updateDatumSelection({\n        nodeData,\n        datumSelection\n      });\n      this.labelSelection = yield this.updateLabelSelection({\n        labelData,\n        labelSelection\n      });\n      if (this.opts.hasMarkers) {\n        this.markerSelection = yield this.updateMarkerSelection({\n          nodeData,\n          markerSelection\n        });\n      }\n    });\n  }\n  markerFactory() {\n    const MarkerShape = getMarker();\n    return new MarkerShape();\n  }\n  getGroupZIndexSubOrder(type, subIndex = 0) {\n    var _a;\n    const result = super.getGroupZIndexSubOrder(type, subIndex);\n    if (type === \"paths\") {\n      const [superFn] = result;\n      const pathOffset = (_a = this.opts.pathsZIndexSubOrderOffset[subIndex]) != null ? _a : 0;\n      result[0] = isFunction(superFn) ? () => Number(superFn()) + pathOffset : Number(superFn) + pathOffset;\n    }\n    return result;\n  }\n  updateNodes(highlightedItems, seriesHighlighted, anySeriesItemEnabled) {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        highlightSelection,\n        highlightLabelSelection,\n        opts: {\n          hasMarkers,\n          hasHighlightedLabels\n        }\n      } = this;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const visible = this.visible && this._contextNodeData != null && anySeriesItemEnabled;\n      this.rootGroup.visible = animationEnabled || visible;\n      this.contentGroup.visible = animationEnabled || visible;\n      this.highlightGroup.visible = (animationEnabled || visible) && seriesHighlighted;\n      const opacity = this.getOpacity();\n      if (hasMarkers) {\n        yield this.updateMarkerNodes({\n          markerSelection: highlightSelection,\n          isHighlight: true\n        });\n        this.animationState.transition(\"highlightMarkers\", highlightSelection);\n      } else {\n        yield this.updateDatumNodes({\n          datumSelection: highlightSelection,\n          isHighlight: true\n        });\n        this.animationState.transition(\"highlight\", highlightSelection);\n      }\n      if (hasHighlightedLabels) {\n        yield this.updateLabelNodes({\n          labelSelection: highlightLabelSelection\n        });\n      }\n      const {\n        dataNodeGroup,\n        markerGroup,\n        datumSelection,\n        labelSelection,\n        markerSelection,\n        paths,\n        labelGroup\n      } = this;\n      const {\n        itemId\n      } = (_a = this.contextNodeData) != null ? _a : {};\n      dataNodeGroup.opacity = opacity;\n      dataNodeGroup.visible = animationEnabled || visible;\n      labelGroup.visible = visible;\n      if (hasMarkers) {\n        markerGroup.opacity = opacity;\n        markerGroup.zIndex = dataNodeGroup.zIndex >= 4 /* SERIES_LAYER_ZINDEX */ ? dataNodeGroup.zIndex : dataNodeGroup.zIndex + 1;\n        markerGroup.visible = visible;\n      }\n      if (labelGroup) {\n        labelGroup.opacity = opacity;\n      }\n      yield this.updatePathNodes({\n        seriesHighlighted,\n        itemId,\n        paths,\n        opacity,\n        visible,\n        animationEnabled\n      });\n      if (!dataNodeGroup.visible) {\n        return;\n      }\n      yield this.updateDatumNodes({\n        datumSelection,\n        highlightedItems,\n        isHighlight: false\n      });\n      yield this.updateLabelNodes({\n        labelSelection\n      });\n      if (hasMarkers) {\n        yield this.updateMarkerNodes({\n          markerSelection,\n          isHighlight: false\n        });\n      }\n    });\n  }\n  getHighlightLabelData(labelData, highlightedItem) {\n    const labelItems = labelData.filter(ld => ld.datum === highlightedItem.datum && ld.itemId === highlightedItem.itemId);\n    return labelItems.length === 0 ? void 0 : labelItems;\n  }\n  getHighlightData(_nodeData, highlightedItem) {\n    return highlightedItem ? [highlightedItem] : void 0;\n  }\n  updateHighlightSelection(seriesHighlighted) {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        highlightSelection,\n        highlightLabelSelection,\n        _contextNodeData: contextNodeData\n      } = this;\n      if (!contextNodeData) return;\n      const highlightedDatum = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight();\n      const item = seriesHighlighted && (highlightedDatum == null ? void 0 : highlightedDatum.datum) ? highlightedDatum : void 0;\n      let labelItems;\n      let highlightItems;\n      if (item != null) {\n        const labelsEnabled = this.isLabelEnabled();\n        const {\n          labelData,\n          nodeData\n        } = contextNodeData;\n        highlightItems = this.getHighlightData(nodeData, item);\n        labelItems = labelsEnabled ? this.getHighlightLabelData(labelData, item) : void 0;\n      }\n      this.highlightSelection = yield this.updateHighlightSelectionItem({\n        items: highlightItems,\n        highlightSelection\n      });\n      this.highlightLabelSelection = yield this.updateHighlightSelectionLabel({\n        items: labelItems,\n        highlightLabelSelection\n      });\n      return highlightItems;\n    });\n  }\n  markQuadtreeDirty() {\n    this.quadtree = void 0;\n  }\n  *datumNodesIter() {\n    for (const {\n      node\n    } of this.datumSelection) {\n      if (node.datum.missing === true) continue;\n      yield node;\n    }\n  }\n  getQuadTree() {\n    if (this.quadtree === void 0) {\n      const {\n        width,\n        height\n      } = this.ctx.scene.canvas;\n      const canvasRect = new BBox(0, 0, width, height);\n      this.quadtree = new QuadtreeNearest(100, 10, canvasRect);\n      this.initQuadTree(this.quadtree);\n    }\n    return this.quadtree;\n  }\n  initQuadTree(_quadtree) {}\n  pickNodeExactShape(point) {\n    var _a;\n    const result = super.pickNodeExactShape(point);\n    if (result) {\n      return result;\n    }\n    const {\n      x,\n      y\n    } = point;\n    const {\n      opts: {\n        hasMarkers\n      }\n    } = this;\n    let match;\n    const {\n      dataNodeGroup,\n      markerGroup\n    } = this;\n    match = dataNodeGroup.pickNode(x, y);\n    if (!match && hasMarkers) {\n      match = markerGroup == null ? void 0 : markerGroup.pickNode(x, y);\n    }\n    if (match && match.datum.missing !== true) {\n      return {\n        datum: match.datum,\n        distance: 0\n      };\n    }\n    for (const mod2 of this.moduleMap.modules()) {\n      const {\n        datum\n      } = (_a = mod2.pickNodeExact(point)) != null ? _a : {};\n      if (datum == null) continue;\n      if ((datum == null ? void 0 : datum.missing) === true) continue;\n      return {\n        datum,\n        distance: 0\n      };\n    }\n  }\n  pickNodeClosestDatum(point) {\n    var _a, _b;\n    const {\n      x,\n      y\n    } = point;\n    const {\n      axes,\n      rootGroup,\n      _contextNodeData: contextNodeData\n    } = this;\n    if (!contextNodeData) return;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const hitPoint = rootGroup.transformPoint(x, y);\n    let minDistance = Infinity;\n    let closestDatum;\n    for (const datum of contextNodeData.nodeData) {\n      const {\n        point: {\n          x: datumX = NaN,\n          y: datumY = NaN\n        } = {}\n      } = datum;\n      if (isNaN(datumX) || isNaN(datumY)) {\n        continue;\n      }\n      const isInRange = (xAxis == null ? void 0 : xAxis.inRange(datumX)) && (yAxis == null ? void 0 : yAxis.inRange(datumY));\n      if (!isInRange) {\n        continue;\n      }\n      const distance2 = Math.max(__pow(hitPoint.x - datumX, 2) + __pow(hitPoint.y - datumY, 2), 0);\n      if (distance2 < minDistance) {\n        minDistance = distance2;\n        closestDatum = datum;\n      }\n    }\n    for (const mod2 of this.moduleMap.modules()) {\n      const modPick = mod2.pickNodeNearest(point);\n      if (modPick !== void 0 && modPick.distanceSquared < minDistance) {\n        minDistance = modPick.distanceSquared;\n        closestDatum = modPick.datum;\n        break;\n      }\n    }\n    if (closestDatum) {\n      const distance2 = Math.max(Math.sqrt(minDistance) - ((_b = (_a = closestDatum.point) == null ? void 0 : _a.size) != null ? _b : 0), 0);\n      return {\n        datum: closestDatum,\n        distance: distance2\n      };\n    }\n  }\n  pickNodeMainAxisFirst(point, requireCategoryAxis) {\n    var _a, _b, _c, _d;\n    const {\n      x,\n      y\n    } = point;\n    const {\n      axes,\n      rootGroup,\n      _contextNodeData: contextNodeData\n    } = this;\n    if (!contextNodeData) return;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const directions2 = [xAxis, yAxis].filter(a => a instanceof CategoryAxis).map(a => a.direction);\n    if (requireCategoryAxis && directions2.length === 0) {\n      return;\n    }\n    const [primaryDirection = \"x\" /* X */] = directions2;\n    const hitPoint = rootGroup.transformPoint(x, y);\n    const hitPointCoords = primaryDirection === \"x\" /* X */ ? [hitPoint.x, hitPoint.y] : [hitPoint.y, hitPoint.x];\n    const minDistance = [Infinity, Infinity];\n    let closestDatum;\n    for (const datum of contextNodeData.nodeData) {\n      const {\n        x: datumX = NaN,\n        y: datumY = NaN\n      } = (_b = (_a = datum.point) != null ? _a : datum.midPoint) != null ? _b : {};\n      if (isNaN(datumX) || isNaN(datumY) || datum.missing === true) {\n        continue;\n      }\n      const isInRange = (xAxis == null ? void 0 : xAxis.inRange(datumX)) && (yAxis == null ? void 0 : yAxis.inRange(datumY));\n      if (!isInRange) {\n        continue;\n      }\n      const datumPoint = primaryDirection === \"x\" /* X */ ? [datumX, datumY] : [datumY, datumX];\n      let newMinDistance = true;\n      for (let i = 0; i < datumPoint.length; i++) {\n        const dist = Math.abs(datumPoint[i] - hitPointCoords[i]);\n        if (dist > minDistance[i]) {\n          newMinDistance = false;\n          break;\n        }\n        if (dist < minDistance[i]) {\n          minDistance[i] = dist;\n          minDistance.fill(Infinity, i + 1, minDistance.length);\n        }\n      }\n      if (newMinDistance) {\n        closestDatum = datum;\n      }\n    }\n    if (closestDatum) {\n      let closestDistanceSquared = Math.max(__pow(minDistance[0], 2) + __pow(minDistance[1], 2) - ((_d = (_c = closestDatum.point) == null ? void 0 : _c.size) != null ? _d : 0), 0);\n      for (const mod2 of this.moduleMap.modules()) {\n        const modPick = mod2.pickNodeMainAxisFirst(point);\n        if (modPick !== void 0 && modPick.distanceSquared < closestDistanceSquared) {\n          closestDatum = modPick.datum;\n          closestDistanceSquared = modPick.distanceSquared;\n          break;\n        }\n      }\n      return {\n        datum: closestDatum,\n        distance: Math.sqrt(closestDistanceSquared)\n      };\n    }\n  }\n  onLegendItemClick(event) {\n    const {\n      legendItemName\n    } = this.properties;\n    const {\n      enabled,\n      itemId,\n      series\n    } = event;\n    const matchedLegendItemName = legendItemName != null && legendItemName === event.legendItemName;\n    if (series.id === this.id || matchedLegendItemName) {\n      this.toggleSeriesItem(itemId, enabled);\n    }\n  }\n  onLegendItemDoubleClick(event) {\n    const {\n      enabled,\n      itemId,\n      series,\n      numVisibleItems\n    } = event;\n    const {\n      legendItemName\n    } = this.properties;\n    const matchedLegendItemName = legendItemName != null && legendItemName === event.legendItemName;\n    if (series.id === this.id || matchedLegendItemName) {\n      this.toggleSeriesItem(itemId, true);\n    } else if (enabled && numVisibleItems === 1) {\n      this.toggleSeriesItem(itemId, true);\n    } else {\n      this.toggleSeriesItem(itemId, false);\n    }\n  }\n  isPathOrSelectionDirty() {\n    return false;\n  }\n  getLabelData() {\n    return [];\n  }\n  shouldFlipXY() {\n    return false;\n  }\n  /**\n   * Get the minimum bounding box that contains any adjacent two nodes. The axes are treated independently, so this\n   * may not represent the same two points for both directions. The dimensions represent the greatest distance\n   * between any two adjacent nodes.\n   */\n  getMinRects(width, height) {\n    const {\n      dirtyNodeData,\n      sizeCache,\n      minRect,\n      minVisibleRect\n    } = this.minRectsCache;\n    const newSizeCache = JSON.stringify({\n      width,\n      height\n    });\n    const dirtySize = newSizeCache !== sizeCache;\n    if (!dirtySize && !dirtyNodeData && minRect && minVisibleRect) {\n      return {\n        minRect,\n        minVisibleRect\n      };\n    }\n    const rects = this.computeMinRects(width, height);\n    this.minRectsCache = {\n      dirtyNodeData: false,\n      sizeCache: newSizeCache,\n      minRect: rects == null ? void 0 : rects.minRect,\n      minVisibleRect: rects == null ? void 0 : rects.minVisibleRect\n    };\n    return rects;\n  }\n  computeMinRects(width, height) {\n    var _a, _b;\n    const context = this._contextNodeData;\n    if (!(context == null ? void 0 : context.nodeData.length)) {\n      return;\n    }\n    const {\n      nodeData\n    } = context;\n    const minRectXs = Array(nodeData.length);\n    const minRectYs = Array(nodeData.length);\n    for (const [i, {\n      midPoint\n    }] of nodeData.entries()) {\n      minRectXs[i] = (_a = midPoint == null ? void 0 : midPoint.x) != null ? _a : 0;\n      minRectYs[i] = (_b = midPoint == null ? void 0 : midPoint.y) != null ? _b : 0;\n    }\n    minRectXs.sort((a, b) => a - b);\n    minRectYs.sort((a, b) => a - b);\n    let zeroX, widthX, zeroY, heightY;\n    let maxWidth = 0;\n    let maxHeight = 0;\n    for (let i = 1; i < nodeData.length; i++) {\n      if (minRectXs[i] >= 0) zeroX != null ? zeroX : zeroX = i;\n      if (minRectXs[i] > width) widthX != null ? widthX : widthX = i;\n      if (minRectYs[i] >= 0) zeroY != null ? zeroY : zeroY = i;\n      if (minRectYs[i] > height) heightY != null ? heightY : heightY = i;\n      maxWidth = Math.max(maxWidth, minRectXs[i] - minRectXs[i - 1]);\n      maxHeight = Math.max(maxHeight, minRectYs[i] - minRectYs[i - 1]);\n    }\n    widthX != null ? widthX : widthX = nodeData.length;\n    heightY != null ? heightY : heightY = nodeData.length;\n    const minVisibleRectXs = zeroX != null && widthX != null ? minRectXs.slice(zeroX, widthX) : [];\n    const minVisibleRectYs = zeroY != null && heightY != null ? minRectYs.slice(zeroY, heightY) : [];\n    let maxVisibleWidth = 0;\n    let maxVisibleHeight = 0;\n    for (let i = 1; i < Math.max(minVisibleRectXs.length, minVisibleRectYs.length); i++) {\n      const x1 = minVisibleRectXs[i];\n      const x2 = minVisibleRectXs[i - 1];\n      const y1 = minVisibleRectYs[i];\n      const y2 = minVisibleRectYs[i - 1];\n      if (x1 != null && x2 != null) {\n        maxVisibleWidth = Math.max(maxVisibleWidth, x1 - x2);\n      }\n      if (y1 != null && y2 != null) {\n        maxVisibleHeight = Math.max(maxVisibleHeight, y1 - y2);\n      }\n    }\n    const minRect = new BBox(0, 0, maxWidth, maxHeight);\n    const minVisibleRect = new BBox(0, 0, maxVisibleWidth, maxVisibleHeight);\n    return {\n      minRect,\n      minVisibleRect\n    };\n  }\n  updateHighlightSelectionItem(opts) {\n    const {\n      opts: {\n        hasMarkers\n      }\n    } = this;\n    const {\n      items,\n      highlightSelection\n    } = opts;\n    const nodeData = items != null ? items : [];\n    if (hasMarkers) {\n      const markerSelection = highlightSelection;\n      return this.updateMarkerSelection({\n        nodeData,\n        markerSelection\n      });\n    } else {\n      return this.updateDatumSelection({\n        nodeData,\n        datumSelection: highlightSelection\n      });\n    }\n  }\n  updateHighlightSelectionLabel(opts) {\n    var _a;\n    return this.updateLabelSelection({\n      labelData: (_a = opts.items) != null ? _a : [],\n      labelSelection: opts.highlightLabelSelection\n    });\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.datumSelection;\n    });\n  }\n  updateDatumNodes(_opts) {\n    return __async(this, null, function* () {});\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.markerSelection;\n    });\n  }\n  updateMarkerNodes(_opts) {\n    return __async(this, null, function* () {});\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      opts.paths.forEach(p => p.visible = false);\n    });\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        paths,\n        opacity,\n        visible\n      } = opts;\n      for (const path of paths) {\n        path.opacity = opacity;\n        path.visible = visible;\n      }\n    });\n  }\n  resetAllAnimation(data) {\n    var _a, _b, _c;\n    const {\n      path,\n      datum,\n      label,\n      marker\n    } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (path) {\n      data.paths.forEach(paths => {\n        resetMotion([paths], path);\n      });\n    }\n    if (datum) {\n      resetMotion([data.datumSelection], datum);\n    }\n    if (label) {\n      resetMotion([data.labelSelection], label);\n    }\n    if (marker && this.opts.hasMarkers) {\n      resetMotion([data.markerSelection], marker);\n    }\n    if (((_c = data.contextData) == null ? void 0 : _c.animationValid) === false) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  animateEmptyUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateWaitingUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateReadyHighlight(data) {\n    var _a, _b;\n    const {\n      datum\n    } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    if (datum) {\n      resetMotion([data], datum);\n    }\n  }\n  animateReadyHighlightMarkers(data) {\n    var _a, _b;\n    const {\n      marker\n    } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    if (marker) {\n      resetMotion([data], marker);\n    }\n  }\n  animateReadyResize(data) {\n    this.resetAllAnimation(data);\n  }\n  animateClearingUpdateEmpty(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animationTransitionClear() {\n    const animationData = this.getAnimationData();\n    if (!animationData) return;\n    this.animationState.transition(\"clear\", animationData);\n  }\n  getAnimationData(seriesRect, previousContextData) {\n    const {\n      _contextNodeData: contextData\n    } = this;\n    if (!contextData) return;\n    const animationData = {\n      datumSelection: this.datumSelection,\n      markerSelection: this.markerSelection,\n      labelSelection: this.labelSelection,\n      annotationSelections: [...this.annotationSelections],\n      contextData,\n      previousContextData,\n      paths: this.paths,\n      seriesRect\n    };\n    return animationData;\n  }\n  calculateScaling() {\n    const result = {};\n    for (const direction of Object.values(ChartAxisDirection)) {\n      const axis = this.axes[direction];\n      if (!axis) continue;\n      if (axis.scale instanceof LogScale) {\n        const {\n          range: range3,\n          domain\n        } = axis.scale;\n        result[direction] = {\n          type: \"log\",\n          convert: d => axis.scale.convert(d),\n          domain: [domain[0], domain[1]],\n          range: [range3[0], range3[1]]\n        };\n      } else if (axis.scale instanceof ContinuousScale) {\n        const {\n          range: range3\n        } = axis.scale;\n        const domain = axis.scale.getDomain();\n        result[direction] = {\n          type: \"continuous\",\n          domain: [domain[0], domain[1]],\n          range: [range3[0], range3[1]]\n        };\n      } else if (axis.scale) {\n        const {\n          domain\n        } = axis.scale;\n        result[direction] = {\n          type: \"category\",\n          domain,\n          range: domain.map(d => axis.scale.convert(d))\n        };\n      }\n    }\n    return result;\n  }\n};\n\n// packages/ag-charts-community/src/chart/cartesianChart.ts\nvar directions = [\"top\", \"right\", \"bottom\", \"left\"];\nvar _CartesianChart = class _CartesianChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    /** Integrated Charts feature state - not used in Standalone Charts. */\n    this.paired = true;\n    this.firstSeriesTranslation = true;\n    this._lastCrossLineIds = void 0;\n    this._lastAxisWidths = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n    this._lastClipSeries = false;\n    this._lastVisibility = {\n      crossLines: true,\n      series: true\n    };\n  }\n  onAxisChange(newValue, oldValue) {\n    super.onAxisChange(newValue, oldValue);\n    this.zoomManager.updateAxes(newValue);\n  }\n  destroySeries(series) {\n    super.destroySeries(series);\n    this.firstSeriesTranslation = true;\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_CartesianChart.prototype, this, \"performLayout\").call(this);\n      const {\n        firstSeriesTranslation,\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const {\n        animationRect,\n        seriesRect,\n        visibility,\n        clipSeries\n      } = this.updateAxes(shrinkRect);\n      this.seriesRoot.visible = visibility.series;\n      this.seriesRect = seriesRect;\n      this.animationRect = animationRect;\n      const {\n        x,\n        y\n      } = seriesRect;\n      if (firstSeriesTranslation) {\n        for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n          group2.translationX = Math.floor(x);\n          group2.translationY = Math.floor(y);\n        }\n        this.firstSeriesTranslation = false;\n      } else {\n        const {\n          translationX,\n          translationY\n        } = seriesRoot;\n        staticFromToMotion(this.id, \"seriesRect\", this.ctx.animationManager, [seriesRoot, highlightRoot, annotationRoot], {\n          translationX,\n          translationY\n        }, {\n          translationX: Math.floor(x),\n          translationY: Math.floor(y)\n        }, {\n          phase: \"update\"\n        });\n      }\n      const seriesPaddedRect = seriesRect.clone().grow(this.seriesArea.padding);\n      this.hoverRect = seriesPaddedRect;\n      const clipRect = this.seriesArea.clip || clipSeries ? seriesPaddedRect : void 0;\n      seriesRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      highlightRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      annotationRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: {\n          width: this.ctx.scene.width,\n          height: this.ctx.scene.height\n        },\n        clipSeries,\n        series: {\n          rect: seriesRect,\n          paddedRect: seriesPaddedRect,\n          visible: visibility.series,\n          shouldFlipXY: this.shouldFlipXY()\n        },\n        axes: this.axes.map(axis => __spreadValues({\n          id: axis.id\n        }, axis.getLayoutState()))\n      });\n      const modulePromises = this.modulesManager.mapModules(m => {\n        var _a;\n        return (_a = m.performCartesianLayout) == null ? void 0 : _a.call(m, {\n          seriesRect\n        });\n      });\n      yield Promise.all(modulePromises);\n      return shrinkRect;\n    });\n  }\n  updateAxes(inputShrinkRect) {\n    var _a;\n    const crossLineIds = this.axes.flatMap(axis => {\n      var _a2;\n      return (_a2 = axis.crossLines) != null ? _a2 : [];\n    }).map(crossLine => crossLine.id);\n    const axesValid = this._lastCrossLineIds != null && this._lastCrossLineIds.length === crossLineIds.length && this._lastCrossLineIds.every((id, index) => crossLineIds[index] === id);\n    let axisWidths;\n    let clipSeries;\n    let visibility;\n    if (axesValid) {\n      axisWidths = __spreadValues({}, this._lastAxisWidths);\n      clipSeries = this._lastClipSeries;\n      visibility = __spreadValues({}, this._lastVisibility);\n    } else {\n      axisWidths = {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0\n      };\n      clipSeries = false;\n      visibility = {\n        crossLines: true,\n        series: true\n      };\n      this._lastCrossLineIds = crossLineIds;\n    }\n    const liveAxisWidths = new Set(this.axes.map(a => a.position));\n    for (const position of Object.keys(axisWidths)) {\n      if (!liveAxisWidths.has(position)) {\n        delete axisWidths[position];\n      }\n    }\n    const stableOutputs = (otherAxisWidths, otherClipSeries, otherVisibility) => {\n      if (Object.keys(otherAxisWidths).some(k => axisWidths[k] == null)) {\n        return false;\n      }\n      return visibility.crossLines === otherVisibility.crossLines && visibility.series === otherVisibility.series &&\n      // Check for existing axis positions and equality.\n      Object.entries(axisWidths).every(([p, w]) => {\n        const otherW = otherAxisWidths[p];\n        if (w != null || otherW != null) {\n          return w === otherW;\n        }\n        return true;\n      }) && clipSeries === otherClipSeries;\n    };\n    const ceilValues = records => mapValues(records, value => {\n      if (value && Math.abs(value) === Infinity) {\n        return 0;\n      }\n      return value != null ? Math.ceil(value) : value;\n    });\n    let lastPassAxisWidths = {};\n    let lastPassVisibility = {};\n    let lastPassClipSeries = false;\n    let seriesRect = (_a = this.seriesRect) == null ? void 0 : _a.clone();\n    let count = 0;\n    let primaryTickCounts = {};\n    do {\n      Object.assign(axisWidths, lastPassAxisWidths);\n      clipSeries = lastPassClipSeries;\n      Object.assign(visibility, lastPassVisibility);\n      const result = this.updateAxesPass(axisWidths, inputShrinkRect.clone(), seriesRect);\n      lastPassAxisWidths = ceilValues(result.axisWidths);\n      lastPassVisibility = result.visibility;\n      lastPassClipSeries = result.clipSeries;\n      seriesRect = result.seriesRect;\n      primaryTickCounts = result.primaryTickCounts;\n      if (count++ > 10) {\n        Logger.warn(\"unable to find stable axis layout.\");\n        break;\n      }\n    } while (!stableOutputs(lastPassAxisWidths, lastPassClipSeries, lastPassVisibility));\n    this.axes.forEach(axis => {\n      axis.update(primaryTickCounts[axis.direction]);\n    });\n    const clipRectPadding = 5;\n    this.axes.forEach(axis => {\n      axis.setCrossLinesVisible(visibility.crossLines);\n      if (!seriesRect) {\n        return;\n      }\n      axis.clipGrid(seriesRect.x, seriesRect.y, seriesRect.width + clipRectPadding, seriesRect.height + clipRectPadding);\n      switch (axis.position) {\n        case \"left\":\n        case \"right\":\n          axis.clipTickLines(inputShrinkRect.x, seriesRect.y, inputShrinkRect.width + clipRectPadding, seriesRect.height + clipRectPadding);\n          break;\n        case \"top\":\n        case \"bottom\":\n          axis.clipTickLines(seriesRect.x, inputShrinkRect.y, seriesRect.width + clipRectPadding, inputShrinkRect.height + clipRectPadding);\n          break;\n      }\n    });\n    this._lastAxisWidths = axisWidths;\n    this._lastVisibility = visibility;\n    return {\n      seriesRect,\n      animationRect: inputShrinkRect,\n      visibility,\n      clipSeries\n    };\n  }\n  updateAxesPass(axisWidths, bounds, lastPassSeriesRect) {\n    const visited = {};\n    const newAxisWidths = {};\n    const visibility = {\n      series: true,\n      crossLines: true\n    };\n    let clipSeries = false;\n    const primaryTickCounts = {};\n    const paddedBounds = this.applySeriesPadding(bounds);\n    const crossLinePadding = lastPassSeriesRect ? this.buildCrossLinePadding(axisWidths) : {};\n    const axisBound = this.buildAxisBound(paddedBounds, axisWidths, crossLinePadding, visibility);\n    const seriesRect = this.buildSeriesRect(axisBound, axisWidths);\n    this.axes.forEach(axis => {\n      var _a, _b;\n      const {\n        position = \"left\"\n      } = axis;\n      const {\n        clipSeries: newClipSeries,\n        axisThickness,\n        axisOffset\n      } = this.calculateAxisDimensions({\n        axis,\n        seriesRect,\n        paddedBounds,\n        axisWidths,\n        newAxisWidths,\n        primaryTickCounts,\n        clipSeries,\n        addInterAxisPadding: ((_a = visited[position]) != null ? _a : 0) > 0\n      });\n      visited[position] = ((_b = visited[position]) != null ? _b : 0) + 1;\n      clipSeries = clipSeries || newClipSeries;\n      this.positionAxis({\n        axis,\n        axisBound,\n        axisOffset,\n        axisThickness,\n        axisWidths,\n        primaryTickCounts,\n        seriesRect\n      });\n    });\n    return {\n      clipSeries,\n      seriesRect,\n      axisWidths: newAxisWidths,\n      visibility,\n      primaryTickCounts\n    };\n  }\n  buildCrossLinePadding(axisWidths) {\n    var _a;\n    const crossLinePadding = {};\n    this.axes.forEach(axis => {\n      if (axis.crossLines) {\n        axis.crossLines.forEach(crossLine => {\n          var _a2;\n          (_a2 = crossLine.calculatePadding) == null ? void 0 : _a2.call(crossLine, crossLinePadding);\n        });\n      }\n    });\n    for (const [side, padding = 0] of Object.entries(crossLinePadding)) {\n      crossLinePadding[side] = Math.max(padding - ((_a = axisWidths[side]) != null ? _a : 0), 0);\n    }\n    return crossLinePadding;\n  }\n  applySeriesPadding(bounds) {\n    const paddedRect = bounds.clone();\n    const reversedAxes = this.axes.slice().reverse();\n    directions.forEach(dir => {\n      const padding = this.seriesArea.padding[dir];\n      const axis = reversedAxes.find(a => a.position === dir);\n      if (axis) {\n        axis.seriesAreaPadding = padding;\n      } else {\n        paddedRect.shrink(padding, dir);\n      }\n    });\n    return paddedRect;\n  }\n  buildAxisBound(bounds, axisWidths, crossLinePadding, visibility) {\n    var _a, _b, _c, _d;\n    const result = bounds.clone();\n    const {\n      top = 0,\n      right = 0,\n      bottom = 0,\n      left = 0\n    } = crossLinePadding;\n    const horizontalPadding = left + right;\n    const verticalPadding = top + bottom;\n    const totalWidth = ((_a = axisWidths.left) != null ? _a : 0) + ((_b = axisWidths.right) != null ? _b : 0) + horizontalPadding;\n    const totalHeight = ((_c = axisWidths.top) != null ? _c : 0) + ((_d = axisWidths.bottom) != null ? _d : 0) + verticalPadding;\n    if (result.width <= totalWidth || result.height <= totalHeight) {\n      visibility.crossLines = false;\n      visibility.series = false;\n      return result;\n    }\n    result.x += left;\n    result.y += top;\n    result.width -= horizontalPadding;\n    result.height -= verticalPadding;\n    return result;\n  }\n  buildSeriesRect(axisBound, axisWidths) {\n    const result = axisBound.clone();\n    const {\n      top,\n      bottom,\n      left,\n      right\n    } = axisWidths;\n    result.x += left != null ? left : 0;\n    result.y += top != null ? top : 0;\n    result.width -= (left != null ? left : 0) + (right != null ? right : 0);\n    result.height -= (top != null ? top : 0) + (bottom != null ? bottom : 0);\n    result.width = Math.max(0, result.width);\n    result.height = Math.max(0, result.height);\n    return result;\n  }\n  clampToOutsideSeriesRect(seriesRect, value, dimension, direction) {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = seriesRect;\n    const clampBounds = [x, y, x + width, y + height];\n    const compareTo = clampBounds[(dimension === \"x\" ? 0 : 1) + (direction === 1 ? 0 : 2)];\n    const clampFn = direction === 1 ? Math.min : Math.max;\n    return clampFn(value, compareTo);\n  }\n  calculateAxisDimensions(opts) {\n    var _a, _b, _c, _d;\n    const {\n      axis,\n      seriesRect,\n      paddedBounds,\n      axisWidths,\n      newAxisWidths,\n      primaryTickCounts,\n      addInterAxisPadding\n    } = opts;\n    let {\n      clipSeries\n    } = opts;\n    const {\n      position = \"left\",\n      direction\n    } = axis;\n    const isCategory = axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis;\n    const isLeftRight = position === \"left\" || position === \"right\";\n    const axisOffset = (_a = newAxisWidths[position]) != null ? _a : 0;\n    const {\n      min,\n      max\n    } = this.ctx.zoomManager.getAxisZoom(axis.id);\n    if (isLeftRight) {\n      if (isCategory) {\n        axis.range = [0, seriesRect.height];\n        axis.visibleRange = [1 - max, 1 - min];\n      } else {\n        axis.range = [seriesRect.height, 0];\n        axis.visibleRange = [min, max];\n      }\n      axis.gridLength = seriesRect.width;\n    } else {\n      axis.range = [0, seriesRect.width];\n      axis.visibleRange = [min, max];\n      axis.gridLength = seriesRect.height;\n    }\n    let primaryTickCount = axis.nice ? primaryTickCounts[direction] : void 0;\n    const isVertical = direction === \"y\" /* Y */;\n    const paddedBoundsCoefficient = 0.3;\n    if (axis.thickness) {\n      axis.maxThickness = axis.thickness;\n    } else {\n      axis.maxThickness = (isVertical ? paddedBounds.width : paddedBounds.height) * paddedBoundsCoefficient;\n    }\n    const layout = axis.calculateLayout(primaryTickCount);\n    primaryTickCount = layout.primaryTickCount;\n    (_b = primaryTickCounts[direction]) != null ? _b : primaryTickCounts[direction] = primaryTickCount;\n    clipSeries || (clipSeries = axis.dataDomain.clipped || axis.visibleRange[0] > 0 || axis.visibleRange[1] < 1);\n    let axisThickness;\n    if (axis.thickness != null && axis.thickness > 0) {\n      axisThickness = axis.thickness;\n    } else {\n      const {\n        bbox\n      } = layout;\n      axisThickness = isVertical ? bbox.width : bbox.height;\n    }\n    const axisPadding = 15;\n    if (addInterAxisPadding) {\n      axisThickness += axisPadding;\n    }\n    axisThickness = Math.ceil(axisThickness);\n    newAxisWidths[position] = ((_c = newAxisWidths[position]) != null ? _c : 0) + axisThickness;\n    axis.gridPadding = ((_d = axisWidths[position]) != null ? _d : 0) - newAxisWidths[position];\n    return {\n      clipSeries,\n      axisThickness,\n      axisOffset,\n      primaryTickCount\n    };\n  }\n  positionAxis(opts) {\n    var _a, _b, _c, _d;\n    const {\n      axis,\n      axisBound,\n      axisWidths,\n      seriesRect,\n      axisOffset,\n      axisThickness\n    } = opts;\n    const {\n      position\n    } = axis;\n    switch (position) {\n      case \"top\":\n        axis.translation.x = axisBound.x + ((_a = axisWidths.left) != null ? _a : 0);\n        axis.translation.y = this.clampToOutsideSeriesRect(seriesRect, axisBound.y + 1 + axisOffset + axisThickness, \"y\", 1);\n        break;\n      case \"bottom\":\n        axis.translation.x = axisBound.x + ((_b = axisWidths.left) != null ? _b : 0);\n        axis.translation.y = this.clampToOutsideSeriesRect(seriesRect, axisBound.y + axisBound.height + 1 - axisThickness - axisOffset, \"y\", -1);\n        break;\n      case \"left\":\n        axis.translation.y = axisBound.y + ((_c = axisWidths.top) != null ? _c : 0);\n        axis.translation.x = this.clampToOutsideSeriesRect(seriesRect, axisBound.x + axisOffset + axisThickness, \"x\", 1);\n        break;\n      case \"right\":\n        axis.translation.y = axisBound.y + ((_d = axisWidths.top) != null ? _d : 0);\n        axis.translation.x = this.clampToOutsideSeriesRect(seriesRect, axisBound.x + axisBound.width - axisThickness - axisOffset, \"x\", -1);\n        break;\n    }\n    axis.updatePosition({\n      rotation: toRadians(axis.rotation),\n      sideFlag: axis.label.getSideFlag()\n    });\n  }\n  shouldFlipXY() {\n    return !this.series.some(series => !(series instanceof CartesianSeries && series.shouldFlipXY()));\n  }\n};\n_CartesianChart.className = \"CartesianChart\";\n_CartesianChart.type = \"cartesian\";\nvar CartesianChart = _CartesianChart;\n\n// packages/ag-charts-community/src/chart/chartProxy.ts\nvar _AgChartInstanceProxy = class _AgChartInstanceProxy {\n  static isInstance(x) {\n    var _a;\n    if (x instanceof _AgChartInstanceProxy) {\n      return true;\n    }\n    if (((_a = x.constructor) == null ? void 0 : _a.name) === \"AgChartInstanceProxy\" && x.chart != null) {\n      return true;\n    }\n    return x.chart != null && this.validateImplementation(x);\n  }\n  static validateImplementation(x) {\n    var _a;\n    const chartProps = [\"getOptions\", \"destroy\"];\n    const signatureProps = Object.keys((_a = Object.getPrototypeOf(x)) != null ? _a : {});\n    return chartProps.every(prop => signatureProps.includes(prop));\n  }\n  constructor(chart) {\n    this.chart = chart;\n  }\n  getOptions() {\n    return deepClone(this.chart.getOptions());\n  }\n  resetAnimations() {\n    this.chart.resetAnimations();\n  }\n  skipAnimations() {\n    this.chart.skipAnimations();\n  }\n  destroy() {\n    this.chart.destroy();\n  }\n};\n_AgChartInstanceProxy.chartInstances = /* @__PURE__ */new WeakMap();\n__decorateClass([ActionOnSet({\n  oldValue(chart) {\n    _AgChartInstanceProxy.chartInstances.delete(chart);\n  },\n  newValue(chart) {\n    _AgChartInstanceProxy.chartInstances.set(chart, this);\n  }\n})], _AgChartInstanceProxy.prototype, \"chart\", 2);\nvar AgChartInstanceProxy = _AgChartInstanceProxy;\n\n// packages/ag-charts-community/src/scale/linearScale.ts\nvar LinearScale = class extends ContinuousScale {\n  constructor() {\n    super([0, 1], [0, 1]);\n    this.type = \"number\";\n  }\n  toDomain(d) {\n    return d;\n  }\n  ticks() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    if (!this.domain || this.domain.length < 2 || count < 1 || this.domain.some(d => !isFinite(d))) {\n      return [];\n    }\n    this.refresh();\n    const [d0, d1] = this.getDomain();\n    const {\n      interval\n    } = this;\n    if (interval) {\n      const step = Math.abs(interval);\n      const availableRange = this.getPixelRange();\n      if (!isDenseInterval({\n        start: d0,\n        stop: d1,\n        interval: step,\n        availableRange\n      })) {\n        return range(d0, d1, step);\n      }\n    }\n    return ticks_default(d0, d1, count, this.minTickCount, this.maxTickCount);\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  getTickStep(start, stop) {\n    var _a, _b;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    return (_b = this.interval) != null ? _b : tickStep(start, stop, count, this.minTickCount, this.maxTickCount);\n  }\n  /**\n   * Extends the domain so that it starts and ends on nice round values.\n   */\n  updateNiceDomain() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    if (count < 1) {\n      this.niceDomain = [...this.domain];\n      return;\n    }\n    let [start, stop] = this.domain;\n    if (count === 1) {\n      [start, stop] = singleTickDomain(start, stop);\n    } else {\n      const roundStart = start > stop ? Math.ceil : Math.floor;\n      const roundStop = stop < start ? Math.floor : Math.ceil;\n      const maxAttempts = 4;\n      for (let i = 0; i < maxAttempts; i++) {\n        const prev0 = start;\n        const prev1 = stop;\n        const step = this.getTickStep(start, stop);\n        const [d0, d1] = this.domain;\n        if (step >= 1) {\n          start = roundStart(d0 / step) * step;\n          stop = roundStop(d1 / step) * step;\n        } else {\n          const s = 1 / step;\n          start = roundStart(d0 * s) / s;\n          stop = roundStop(d1 * s) / s;\n        }\n        if (start === prev0 && stop === prev1) {\n          break;\n        }\n      }\n    }\n    this.niceDomain = [start, stop];\n  }\n  tickFormat({\n    ticks: specifiedTicks,\n    specifier\n  }) {\n    return tickFormat(specifiedTicks != null ? specifiedTicks : this.ticks(), specifier);\n  }\n};\n\n// packages/ag-charts-community/src/util/secondaryAxisTicks.ts\nfunction calculateNiceSecondaryAxis(domain, primaryTickCount, reverse) {\n  let [start, stop] = findMinMax(domain);\n  start = calculateNiceStart(Math.floor(start), stop, primaryTickCount);\n  const step = getTickStep(start, stop, primaryTickCount);\n  const segments = primaryTickCount - 1;\n  stop = start + segments * step;\n  const d = reverse ? [stop, start] : [start, stop];\n  const ticks = getTicks(start, step, primaryTickCount);\n  return [d, ticks];\n}\nfunction calculateNiceStart(a, b, count) {\n  const rawStep = Math.abs(b - a) / (count - 1);\n  const order = Math.floor(Math.log10(rawStep));\n  const magnitude = Math.pow(10, order);\n  return Math.floor(a / magnitude) * magnitude;\n}\nfunction getTicks(start, step, count) {\n  const stepPower = Math.floor(Math.log10(step));\n  const fractionDigits = step > 0 && step < 1 ? Math.abs(stepPower) : 0;\n  const f = Math.pow(10, fractionDigits);\n  const ticks = createNumericTicks(fractionDigits);\n  for (let i = 0; i < count; i++) {\n    const tick = start + step * i;\n    ticks[i] = Math.round(tick * f) / f;\n  }\n  return ticks;\n}\nfunction getTickStep(start, stop, count) {\n  const segments = count - 1;\n  const rawStep = (stop - start) / segments;\n  return calculateNextNiceStep(rawStep);\n}\nfunction calculateNextNiceStep(rawStep) {\n  const order = Math.floor(Math.log10(rawStep));\n  const magnitude = Math.pow(10, order);\n  const step = rawStep / magnitude * 10;\n  if (step > 0 && step <= 1) {\n    return magnitude / 10;\n  }\n  if (step > 1 && step <= 2) {\n    return 2 * magnitude / 10;\n  }\n  if (step > 1 && step <= 5) {\n    return 5 * magnitude / 10;\n  }\n  if (step > 5 && step <= 10) {\n    return 10 * magnitude / 10;\n  }\n  if (step > 10 && step <= 20) {\n    return 20 * magnitude / 10;\n  }\n  if (step > 20 && step <= 40) {\n    return 40 * magnitude / 10;\n  }\n  if (step > 40 && step <= 50) {\n    return 50 * magnitude / 10;\n  }\n  if (step > 50 && step <= 100) {\n    return 100 * magnitude / 10;\n  }\n  return step;\n}\n\n// packages/ag-charts-community/src/chart/axis/numberAxis.ts\nvar NumberAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n    this.maxSpacing = NaN;\n  }\n};\n__decorateClass([Validate(MIN_SPACING), Default(NaN)], NumberAxisTick.prototype, \"minSpacing\", 2);\n__decorateClass([Validate(MAX_SPACING), Default(NaN)], NumberAxisTick.prototype, \"maxSpacing\", 2);\nvar NumberAxis = class extends CartesianAxis {\n  constructor(moduleCtx, scale2 = new LinearScale()) {\n    super(moduleCtx, scale2);\n    this.min = NaN;\n    this.max = NaN;\n  }\n  normaliseDataDomain(d) {\n    const {\n      min,\n      max\n    } = this;\n    const {\n      extent: extent2,\n      clipped\n    } = normalisedExtentWithMetadata(d, min, max);\n    return {\n      domain: extent2,\n      clipped\n    };\n  }\n  createTick() {\n    return new NumberAxisTick();\n  }\n  updateSecondaryAxisTicks(primaryTickCount) {\n    if (this.dataDomain == null) {\n      throw new Error(\"AG Charts - dataDomain not calculated, cannot perform tick calculation.\");\n    }\n    if (this.dataDomain.domain.length === 0) return [];\n    const [d, ticks] = calculateNiceSecondaryAxis(this.dataDomain.domain, primaryTickCount != null ? primaryTickCount : 0, this.reverse);\n    this.scale.nice = false;\n    this.scale.domain = d;\n    this.scale.update();\n    return ticks;\n  }\n  formatDatum(datum) {\n    if (typeof datum === \"number\") {\n      return datum.toFixed(2);\n    } else {\n      return String(datum);\n    }\n  }\n};\nNumberAxis.className = \"NumberAxis\";\nNumberAxis.type = \"number\";\n__decorateClass([Validate(AND(NUMBER_OR_NAN, LESS_THAN(\"max\"))), Default(NaN)], NumberAxis.prototype, \"min\", 2);\n__decorateClass([Validate(AND(NUMBER_OR_NAN, GREATER_THAN(\"min\"))), Default(NaN)], NumberAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/axis/logAxis.ts\nvar NON_ZERO_NUMBER = predicateWithMessage(value => isNumber(value) && value !== 0, \"a non-zero number\");\nvar LogAxis = class extends NumberAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new LogScale());\n    this.min = NaN;\n    this.max = NaN;\n  }\n  normaliseDataDomain(d) {\n    const {\n      min,\n      max\n    } = this;\n    const {\n      extent: extent2,\n      clipped\n    } = normalisedExtentWithMetadata(d, min, max);\n    const isInverted = extent2[0] > extent2[1];\n    const crossesZero = extent2[0] < 0 && extent2[1] > 0;\n    const hasZeroExtent = extent2[0] === 0 && extent2[1] === 0;\n    const invalidDomain = isInverted || crossesZero || hasZeroExtent;\n    if (invalidDomain) {\n      if (crossesZero) {\n        Logger.warn(`the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information.`);\n      } else if (hasZeroExtent) {\n        Logger.warn(`the data domain has 0 extent, no data is rendered.`);\n      }\n    }\n    if (extent2[0] === 0) {\n      extent2[0] = 1;\n    }\n    if (extent2[1] === 0) {\n      extent2[1] = -1;\n    }\n    return {\n      domain: extent2,\n      clipped\n    };\n  }\n  set base(value) {\n    this.scale.base = value;\n  }\n  get base() {\n    return this.scale.base;\n  }\n};\nLogAxis.className = \"LogAxis\";\nLogAxis.type = \"log\";\n__decorateClass([Validate(AND(NUMBER_OR_NAN, NON_ZERO_NUMBER, LESS_THAN(\"max\"))), Default(NaN)], LogAxis.prototype, \"min\", 2);\n__decorateClass([Validate(AND(NUMBER_OR_NAN, NON_ZERO_NUMBER, GREATER_THAN(\"min\"))), Default(NaN)], LogAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/axis/timeAxis.ts\nvar TimeAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n    this.maxSpacing = NaN;\n  }\n};\n__decorateClass([Validate(MIN_SPACING), Default(NaN)], TimeAxisTick.prototype, \"minSpacing\", 2);\n__decorateClass([Validate(MAX_SPACING), Default(NaN)], TimeAxisTick.prototype, \"maxSpacing\", 2);\nvar TimeAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new TimeScale());\n    this.min = void 0;\n    this.max = void 0;\n    this.refreshScale();\n  }\n  normaliseDataDomain(d) {\n    var _a;\n    let {\n      min,\n      max\n    } = this;\n    let clipped = false;\n    if (typeof min === \"number\") {\n      min = new Date(min);\n    }\n    if (typeof max === \"number\") {\n      max = new Date(max);\n    }\n    if (d.length > 2) {\n      d = ((_a = extent(d)) != null ? _a : [0, 1e3]).map(x => new Date(x));\n    }\n    if (min instanceof Date) {\n      clipped || (clipped = min > d[0]);\n      d = [min, d[1]];\n    }\n    if (max instanceof Date) {\n      clipped || (clipped = max < d[1]);\n      d = [d[0], max];\n    }\n    if (d[0] > d[1]) {\n      d = [];\n    }\n    return {\n      domain: d,\n      clipped\n    };\n  }\n  createTick() {\n    return new TimeAxisTick();\n  }\n  onLabelFormatChange(ticks, domain, format2) {\n    if (format2) {\n      super.onLabelFormatChange(ticks, domain, format2);\n    } else {\n      this.labelFormatter = this.scale.tickFormat({\n        ticks,\n        domain\n      });\n    }\n  }\n  calculatePadding() {\n    return [0, 0];\n  }\n  formatDatum(datum) {\n    var _a;\n    const formatter = this.scale.tickFormat({\n      specifier: \"%m/%d/%y, %H:%M:%S\"\n    });\n    return (_a = this.moduleCtx.callbackCache.call(formatter, datum)) != null ? _a : String(datum);\n  }\n};\nTimeAxis.className = \"TimeAxis\";\nTimeAxis.type = \"time\";\n__decorateClass([Validate(AND(DATE_OR_DATETIME_MS, LESS_THAN(\"max\")), {\n  optional: true\n})], TimeAxis.prototype, \"min\", 2);\n__decorateClass([Validate(AND(DATE_OR_DATETIME_MS, GREATER_THAN(\"min\")), {\n  optional: true\n})], TimeAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/scene/shape/rect.ts\nvar epsilon = 1e-6;\nvar cornerEdges = (leadingEdge, trailingEdge, leadingInset, trailingInset, cornerRadius) => {\n  let leadingClipped = false;\n  let trailingClipped = false;\n  let leading0 = trailingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(leadingInset, 2), 0));\n  let leading1 = 0;\n  let trailing0 = 0;\n  let trailing1 = leadingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(trailingInset, 2), 0));\n  if (leading0 > leadingEdge) {\n    leadingClipped = true;\n    leading0 = leadingEdge;\n    leading1 = leadingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(trailingInset - leadingEdge, 2)));\n  } else if (leading0 < epsilon) {\n    leading0 = 0;\n  }\n  if (trailing1 > trailingEdge) {\n    trailingClipped = true;\n    trailing0 = trailingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(leadingInset - trailingEdge, 2)));\n    trailing1 = trailingEdge;\n  } else if (trailing1 < epsilon) {\n    trailing1 = 0;\n  }\n  return {\n    leading0,\n    leading1,\n    trailing0,\n    trailing1,\n    leadingClipped,\n    trailingClipped\n  };\n};\nvar drawCorner = (path, {\n  x0,\n  y0,\n  x1,\n  y1,\n  cx,\n  cy\n}, cornerRadius, move) => {\n  if (move) {\n    path.moveTo(x0, y0);\n  }\n  if (x0 !== x1 || y0 !== y1) {\n    const r0 = Math.atan2(y0 - cy, x0 - cx);\n    const r1 = Math.atan2(y1 - cy, x1 - cx);\n    path.arc(cx, cy, cornerRadius, r0, r1);\n  } else {\n    path.lineTo(x0, y0);\n  }\n};\nvar insetCornerRadiusRect = (path, x, y, width, height, cornerRadii, clipBBox) => {\n  let {\n    topLeft: topLeftCornerRadius,\n    topRight: topRightCornerRadius,\n    bottomRight: bottomRightCornerRadius,\n    bottomLeft: bottomLeftCornerRadius\n  } = cornerRadii;\n  const maxVerticalCornerRadius = Math.max(topLeftCornerRadius + bottomLeftCornerRadius, topRightCornerRadius + bottomRightCornerRadius);\n  const maxHorizontalCornerRadius = Math.max(topLeftCornerRadius + topRightCornerRadius, bottomLeftCornerRadius + bottomRightCornerRadius);\n  if (maxVerticalCornerRadius <= 0 && maxHorizontalCornerRadius <= 0) {\n    if (clipBBox == null) {\n      path.rect(x, y, width, height);\n    } else {\n      path.rect(clipBBox.x, clipBBox.y, clipBBox.width, clipBBox.height);\n    }\n    return;\n  } else if (clipBBox == null && topLeftCornerRadius === topRightCornerRadius && topLeftCornerRadius === bottomRightCornerRadius && topLeftCornerRadius === bottomLeftCornerRadius) {\n    path.roundRect(x, y, width, height, topLeftCornerRadius);\n    return;\n  }\n  if (width < 0) {\n    x += width;\n    width = Math.abs(width);\n  }\n  if (height < 0) {\n    y += height;\n    height = Math.abs(height);\n  }\n  if (width <= 0 || height <= 0) return;\n  if (clipBBox == null) {\n    clipBBox = new BBox(x, y, width, height);\n  } else {\n    const x0 = Math.max(x, clipBBox.x);\n    const x1 = Math.min(x + width, clipBBox.x + clipBBox.width);\n    const y0 = Math.max(y, clipBBox.y);\n    const y1 = Math.min(y + height, clipBBox.y + clipBBox.height);\n    clipBBox = new BBox(x0, y0, x1 - x0, y1 - y0);\n  }\n  const borderScale = Math.max(maxVerticalCornerRadius / height, maxHorizontalCornerRadius / width, 1);\n  if (borderScale > 1) {\n    topLeftCornerRadius /= borderScale;\n    topRightCornerRadius /= borderScale;\n    bottomRightCornerRadius /= borderScale;\n    bottomLeftCornerRadius /= borderScale;\n  }\n  let drawTopLeftCorner = true;\n  let drawTopRightCorner = true;\n  let drawBottomRightCorner = true;\n  let drawBottomLeftCorner = true;\n  let topLeftCorner;\n  let topRightCorner;\n  let bottomRightCorner;\n  let bottomLeftCorner;\n  if (drawTopLeftCorner) {\n    const nodes = cornerEdges(clipBBox.height, clipBBox.width, Math.max(x + topLeftCornerRadius - clipBBox.x, 0), Math.max(y + topLeftCornerRadius - clipBBox.y, 0), topLeftCornerRadius);\n    if (nodes.leadingClipped) drawBottomLeftCorner = false;\n    if (nodes.trailingClipped) drawTopRightCorner = false;\n    const x0 = Math.max(clipBBox.x + nodes.leading1, clipBBox.x);\n    const y0 = Math.max(clipBBox.y + nodes.leading0, clipBBox.y);\n    const x1 = Math.max(clipBBox.x + nodes.trailing1, clipBBox.x);\n    const y1 = Math.max(clipBBox.y + nodes.trailing0, clipBBox.y);\n    const cx = x + topLeftCornerRadius;\n    const cy = y + topLeftCornerRadius;\n    topLeftCorner = {\n      x0,\n      y0,\n      x1,\n      y1,\n      cx,\n      cy\n    };\n  }\n  if (drawTopRightCorner) {\n    const nodes = cornerEdges(clipBBox.width, clipBBox.height, Math.max(y + topRightCornerRadius - clipBBox.y, 0), Math.max(clipBBox.x + clipBBox.width - (x + width - topRightCornerRadius), 0), topRightCornerRadius);\n    if (nodes.leadingClipped) drawTopLeftCorner = false;\n    if (nodes.trailingClipped) drawBottomRightCorner = false;\n    const x0 = Math.min(clipBBox.x + clipBBox.width - nodes.leading0, clipBBox.x + clipBBox.width);\n    const y0 = Math.max(clipBBox.y + nodes.leading1, clipBBox.y);\n    const x1 = Math.min(clipBBox.x + clipBBox.width - nodes.trailing0, clipBBox.x + clipBBox.width);\n    const y1 = Math.max(clipBBox.y + nodes.trailing1, clipBBox.y);\n    const cx = x + width - topRightCornerRadius;\n    const cy = y + topRightCornerRadius;\n    topRightCorner = {\n      x0,\n      y0,\n      x1,\n      y1,\n      cx,\n      cy\n    };\n  }\n  if (drawBottomRightCorner) {\n    const nodes = cornerEdges(clipBBox.height, clipBBox.width, Math.max(clipBBox.x + clipBBox.width - (x + width - bottomRightCornerRadius), 0), Math.max(clipBBox.y + clipBBox.height - (y + height - bottomRightCornerRadius), 0), bottomRightCornerRadius);\n    if (nodes.leadingClipped) drawTopRightCorner = false;\n    if (nodes.trailingClipped) drawBottomLeftCorner = false;\n    const x0 = Math.min(clipBBox.x + clipBBox.width - nodes.leading1, clipBBox.x + clipBBox.width);\n    const y0 = Math.min(clipBBox.y + clipBBox.height - nodes.leading0, clipBBox.y + clipBBox.height);\n    const x1 = Math.min(clipBBox.x + clipBBox.width - nodes.trailing1, clipBBox.x + clipBBox.width);\n    const y1 = Math.min(clipBBox.y + clipBBox.height - nodes.trailing0, clipBBox.y + clipBBox.height);\n    const cx = x + width - bottomRightCornerRadius;\n    const cy = y + height - bottomRightCornerRadius;\n    bottomRightCorner = {\n      x0,\n      y0,\n      x1,\n      y1,\n      cx,\n      cy\n    };\n  }\n  if (drawBottomLeftCorner) {\n    const nodes = cornerEdges(clipBBox.width, clipBBox.height, Math.max(clipBBox.y + clipBBox.height - (y + height - bottomLeftCornerRadius), 0), Math.max(x + bottomLeftCornerRadius - clipBBox.x, 0), bottomLeftCornerRadius);\n    if (nodes.leadingClipped) drawBottomRightCorner = false;\n    if (nodes.trailingClipped) drawTopLeftCorner = false;\n    const x0 = Math.max(clipBBox.x + nodes.leading0, clipBBox.x);\n    const y0 = Math.min(clipBBox.y + clipBBox.height - nodes.leading1, clipBBox.y + clipBBox.height);\n    const x1 = Math.max(clipBBox.x + nodes.trailing0, clipBBox.x);\n    const y1 = Math.min(clipBBox.y + clipBBox.height - nodes.trailing1, clipBBox.y + clipBBox.height);\n    const cx = x + bottomLeftCornerRadius;\n    const cy = y + height - bottomLeftCornerRadius;\n    bottomLeftCorner = {\n      x0,\n      y0,\n      x1,\n      y1,\n      cx,\n      cy\n    };\n  }\n  let didMove = false;\n  if (drawTopLeftCorner && topLeftCorner != null) {\n    drawCorner(path, topLeftCorner, topLeftCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawTopRightCorner && topRightCorner != null) {\n    drawCorner(path, topRightCorner, topRightCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawBottomRightCorner && bottomRightCorner != null) {\n    drawCorner(path, bottomRightCorner, bottomRightCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawBottomLeftCorner && bottomLeftCorner != null) {\n    drawCorner(path, bottomLeftCorner, bottomLeftCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  path.closePath();\n};\nvar Rect = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.borderPath = new ExtendedPath2D();\n    this.x = 0;\n    this.y = 0;\n    this.width = 10;\n    this.height = 10;\n    this.topLeftCornerRadius = 0;\n    this.topRightCornerRadius = 0;\n    this.bottomRightCornerRadius = 0;\n    this.bottomLeftCornerRadius = 0;\n    this.clipBBox = void 0;\n    this.crisp = false;\n    this.lastUpdatePathStrokeWidth = Shape.defaultStyles.strokeWidth;\n    this.effectiveStrokeWidth = Shape.defaultStyles.strokeWidth;\n    this.hittester = super.isPointInPath;\n    this.distanceCalculator = super.distanceSquared;\n    /**\n     * When the rectangle's width or height is less than a pixel\n     * and crisp mode is on, the rectangle will still fit into the pixel,\n     * but will be less opaque to make an effect of holding less space.\n     */\n    this.microPixelEffectOpacity = 1;\n  }\n  set cornerRadius(cornerRadius) {\n    this.topLeftCornerRadius = cornerRadius;\n    this.topRightCornerRadius = cornerRadius;\n    this.bottomRightCornerRadius = cornerRadius;\n    this.bottomLeftCornerRadius = cornerRadius;\n  }\n  isDirtyPath() {\n    return this.lastUpdatePathStrokeWidth !== this.strokeWidth || Boolean(this.path.isDirty() || this.borderPath.isDirty());\n  }\n  updatePath() {\n    var _a, _b, _c;\n    const {\n      path,\n      borderPath,\n      crisp,\n      topLeftCornerRadius: topLeft,\n      topRightCornerRadius: topRight,\n      bottomRightCornerRadius: bottomRight,\n      bottomLeftCornerRadius: bottomLeft\n    } = this;\n    let {\n      x,\n      y,\n      width: w,\n      height: h,\n      strokeWidth,\n      clipBBox\n    } = this;\n    const pixelRatio = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas.pixelRatio) != null ? _b : 1;\n    const pixelSize = 1 / pixelRatio;\n    let microPixelEffectOpacity = 1;\n    path.clear(true);\n    borderPath.clear(true);\n    if (crisp) {\n      if (w <= pixelSize) {\n        microPixelEffectOpacity *= w / pixelSize;\n      }\n      if (h <= pixelSize) {\n        microPixelEffectOpacity *= h / pixelSize;\n      }\n      w = this.align(x, w);\n      h = this.align(y, h);\n      x = this.align(x);\n      y = this.align(y);\n      clipBBox = clipBBox != null ? new BBox(this.align(clipBBox.x), this.align(clipBBox.y), this.align(clipBBox.x, clipBBox.width), this.align(clipBBox.y, clipBBox.height)) : void 0;\n    }\n    if (strokeWidth) {\n      if (w < pixelSize) {\n        const lx = x + pixelSize / 2;\n        borderPath.moveTo(lx, y);\n        borderPath.lineTo(lx, y + h);\n        strokeWidth = pixelSize;\n        this.borderClipPath = void 0;\n      } else if (h < pixelSize) {\n        const ly = y + pixelSize / 2;\n        borderPath.moveTo(x, ly);\n        borderPath.lineTo(x + w, ly);\n        strokeWidth = pixelSize;\n        this.borderClipPath = void 0;\n      } else if (strokeWidth < w && strokeWidth < h) {\n        const halfStrokeWidth = strokeWidth / 2;\n        x += halfStrokeWidth;\n        y += halfStrokeWidth;\n        w -= strokeWidth;\n        h -= strokeWidth;\n        const adjustedClipBBox = clipBBox == null ? void 0 : clipBBox.clone().shrink(halfStrokeWidth);\n        const cornerRadii = {\n          topLeft: topLeft > 0 ? topLeft - strokeWidth : 0,\n          topRight: topRight > 0 ? topRight - strokeWidth : 0,\n          bottomRight: bottomRight > 0 ? bottomRight - strokeWidth : 0,\n          bottomLeft: bottomLeft > 0 ? bottomLeft - strokeWidth : 0\n        };\n        this.borderClipPath = void 0;\n        if (w > 0 && h > 0 && (adjustedClipBBox == null || (adjustedClipBBox == null ? void 0 : adjustedClipBBox.width) > 0 && (adjustedClipBBox == null ? void 0 : adjustedClipBBox.height) > 0)) {\n          insetCornerRadiusRect(path, x, y, w, h, cornerRadii, adjustedClipBBox);\n          insetCornerRadiusRect(borderPath, x, y, w, h, cornerRadii, adjustedClipBBox);\n        }\n      } else {\n        this.borderClipPath = (_c = this.borderClipPath) != null ? _c : new ExtendedPath2D();\n        this.borderClipPath.clear(true);\n        this.borderClipPath.rect(x, y, w, h);\n        borderPath.rect(x, y, w, h);\n      }\n    } else {\n      const cornerRadii = {\n        topLeft,\n        topRight,\n        bottomRight,\n        bottomLeft\n      };\n      this.borderClipPath = void 0;\n      insetCornerRadiusRect(path, x, y, w, h, cornerRadii, clipBBox);\n    }\n    if ([topLeft, topRight, bottomRight, bottomLeft].every(r => r === 0)) {\n      this.hittester = (hitX, hitY) => {\n        const point = this.transformPoint(hitX, hitY);\n        return this.getCachedBBox().containsPoint(point.x, point.y);\n      };\n      this.distanceSquared = (hitX, hitY) => this.getCachedBBox().distanceSquared(hitX, hitY);\n    } else {\n      this.hittester = super.isPointInPath;\n      this.distanceCalculator = super.distanceSquared;\n    }\n    this.effectiveStrokeWidth = strokeWidth;\n    this.lastUpdatePathStrokeWidth = strokeWidth;\n    this.microPixelEffectOpacity = microPixelEffectOpacity;\n  }\n  computeBBox() {\n    var _a;\n    const {\n      x,\n      y,\n      width,\n      height,\n      clipBBox\n    } = this;\n    return (_a = clipBBox == null ? void 0 : clipBBox.clone()) != null ? _a : new BBox(x, y, width, height);\n  }\n  isPointInPath(x, y) {\n    return this.hittester(x, y);\n  }\n  get midPoint() {\n    return {\n      x: this.x + this.width / 2,\n      y: this.y + this.height / 2\n    };\n  }\n  distanceSquared(x, y) {\n    return this.distanceCalculator(x, y);\n  }\n  applyFillAlpha(ctx) {\n    const {\n      fillOpacity,\n      microPixelEffectOpacity,\n      opacity\n    } = this;\n    ctx.globalAlpha *= opacity * fillOpacity * microPixelEffectOpacity;\n  }\n  renderStroke(ctx) {\n    const {\n      stroke,\n      effectiveStrokeWidth\n    } = this;\n    if (stroke && effectiveStrokeWidth) {\n      const {\n        globalAlpha\n      } = ctx;\n      const {\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        lineCap,\n        lineJoin,\n        borderPath,\n        borderClipPath,\n        opacity,\n        microPixelEffectOpacity\n      } = this;\n      if (borderClipPath) {\n        ctx.clip(borderClipPath.getPath2D());\n      }\n      ctx.strokeStyle = stroke;\n      ctx.globalAlpha *= opacity * strokeOpacity * microPixelEffectOpacity;\n      ctx.lineWidth = effectiveStrokeWidth;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      ctx.stroke(borderPath.getPath2D());\n      ctx.globalAlpha = globalAlpha;\n    }\n  }\n};\nRect.className = \"Rect\";\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"x\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"y\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"width\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"height\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"topLeftCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"topRightCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"bottomRightCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"bottomLeftCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"clipBBox\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"crisp\", 2);\n\n// packages/ag-charts-community/src/chart/background/background.ts\nvar Background = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.node = new Group({\n      name: \"background\",\n      zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */\n    });\n    this.rectNode = new Rect();\n    this.visible = true;\n    this.fill = \"white\";\n    this.node.appendChild(this.rectNode);\n    this.destroyFns.push(ctx.scene.attachNode(this.node), ctx.layoutService.addListener(\"layout-complete\", e => this.onLayoutComplete(e)));\n  }\n  onLayoutComplete(e) {\n    const {\n      width,\n      height\n    } = e.chart;\n    this.rectNode.width = width;\n    this.rectNode.height = height;\n  }\n};\n__decorateClass([Validate(BOOLEAN), ProxyPropertyOnWrite(\"node\", \"visible\")], Background.prototype, \"visible\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n}), ProxyPropertyOnWrite(\"rectNode\", \"fill\")], Background.prototype, \"fill\", 2);\n__decorateClass([Validate(OBJECT, {\n  optional: true\n})], Background.prototype, \"image\", 2);\n\n// packages/ag-charts-community/src/chart/background/backgroundModule.ts\nvar BackgroundModule = {\n  type: \"root\",\n  optionsKey: \"background\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  instanceConstructor: Background\n};\n\n// packages/ag-charts-community/src/chart/gridLayout.ts\nfunction gridLayout({\n  orientation,\n  bboxes,\n  maxHeight,\n  maxWidth,\n  itemPaddingY = 0,\n  itemPaddingX = 0,\n  forceResult = false\n}) {\n  const horizontal = orientation === \"horizontal\";\n  const primary = {\n    max: horizontal ? maxWidth : maxHeight,\n    fn: horizontal ? b => b.width : b => b.height,\n    padding: horizontal ? itemPaddingX : itemPaddingY\n  };\n  const secondary = {\n    max: horizontal ? maxHeight : maxWidth,\n    fn: horizontal ? b => b.height : b => b.width,\n    padding: horizontal ? itemPaddingY : itemPaddingX\n  };\n  let processedBBoxCount = 0;\n  const rawPages = [];\n  while (processedBBoxCount < bboxes.length) {\n    const unprocessedBBoxes = bboxes.slice(processedBBoxCount);\n    const result = processBBoxes(unprocessedBBoxes, processedBBoxCount, primary, secondary, forceResult);\n    if (!result) {\n      return;\n    }\n    processedBBoxCount += result.processedBBoxCount;\n    rawPages.push(result.pageIndices);\n  }\n  return buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX);\n}\nfunction processBBoxes(bboxes, indexOffset, primary, secondary, forceResult) {\n  const minGuess = 1;\n  let startingGuess = estimateStartingGuess(bboxes, primary);\n  if (startingGuess < minGuess) {\n    if (!forceResult) {\n      return;\n    }\n    startingGuess = minGuess;\n  }\n  let guess = startingGuess;\n  while (guess >= minGuess) {\n    const pageIndices = calculatePage(bboxes, indexOffset, guess, primary, secondary, forceResult);\n    if (pageIndices == null && guess <= minGuess) {\n      return;\n    }\n    if (pageIndices == null) {\n      guess--;\n      continue;\n    }\n    if (typeof pageIndices === \"number\") {\n      if (pageIndices <= minGuess) {\n        return;\n      }\n      guess = pageIndices < guess && pageIndices > minGuess ? pageIndices : guess;\n      guess--;\n      continue;\n    }\n    const processedBBoxCount = pageIndices.length * pageIndices[0].length;\n    return {\n      processedBBoxCount,\n      pageIndices\n    };\n  }\n}\nfunction calculatePage(bboxes, indexOffset, primaryCount, primary, secondary, forceResult) {\n  var _a;\n  const result = [];\n  let sumSecondary = 0;\n  let currentMaxSecondary = 0;\n  let currentPrimaryIndices = [];\n  const maxPrimaryValues = [];\n  for (let bboxIndex = 0; bboxIndex < bboxes.length; bboxIndex++) {\n    const primaryValueIdx = (bboxIndex + primaryCount) % primaryCount;\n    if (primaryValueIdx === 0) {\n      sumSecondary += currentMaxSecondary;\n      currentMaxSecondary = 0;\n      if (currentPrimaryIndices.length > 0) {\n        result.push(currentPrimaryIndices);\n      }\n      currentPrimaryIndices = [];\n    }\n    const primaryValue = primary.fn(bboxes[bboxIndex]) + primary.padding;\n    maxPrimaryValues[primaryValueIdx] = Math.max((_a = maxPrimaryValues[primaryValueIdx]) != null ? _a : 0, primaryValue);\n    currentMaxSecondary = Math.max(currentMaxSecondary, secondary.fn(bboxes[bboxIndex]) + secondary.padding);\n    const currentSecondaryDimension = sumSecondary + currentMaxSecondary;\n    const returnResult = !forceResult || result.length > 0;\n    if (currentSecondaryDimension > secondary.max && returnResult) {\n      currentPrimaryIndices = [];\n      break;\n    }\n    const sumPrimary = maxPrimaryValues.reduce((sum2, next) => sum2 + next, 0);\n    if (sumPrimary > primary.max && !forceResult) {\n      if (maxPrimaryValues.length < primaryCount) {\n        return maxPrimaryValues.length;\n      }\n      return;\n    }\n    currentPrimaryIndices.push(bboxIndex + indexOffset);\n  }\n  if (currentPrimaryIndices.length > 0) {\n    result.push(currentPrimaryIndices);\n  }\n  return result.length > 0 ? result : void 0;\n}\nfunction buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX) {\n  let maxPageWidth = 0;\n  let maxPageHeight = 0;\n  const pages = rawPages.map(indices => {\n    if (orientation === \"horizontal\") {\n      indices = transpose(indices);\n    }\n    let endIndex = 0;\n    const columns = indices.map(colIndices => {\n      const colBBoxes = colIndices.map(bboxIndex => {\n        endIndex = Math.max(bboxIndex, endIndex);\n        return bboxes[bboxIndex];\n      });\n      let columnHeight = 0;\n      let columnWidth = 0;\n      colBBoxes.forEach(bbox => {\n        columnHeight += bbox.height + itemPaddingY;\n        columnWidth = Math.max(columnWidth, bbox.width + itemPaddingX);\n      });\n      return {\n        indices: colIndices,\n        bboxes: colBBoxes,\n        columnHeight: Math.ceil(columnHeight),\n        columnWidth: Math.ceil(columnWidth)\n      };\n    });\n    let pageWidth = 0;\n    let pageHeight = 0;\n    columns.forEach(column => {\n      pageWidth += column.columnWidth;\n      pageHeight = Math.max(pageHeight, column.columnHeight);\n    });\n    maxPageWidth = Math.max(pageWidth, maxPageWidth);\n    maxPageHeight = Math.max(pageHeight, maxPageHeight);\n    return {\n      columns,\n      startIndex: indices[0][0],\n      endIndex,\n      pageWidth,\n      pageHeight\n    };\n  });\n  return {\n    pages,\n    maxPageWidth,\n    maxPageHeight\n  };\n}\nfunction transpose(data) {\n  const result = [];\n  for (const _ of data[0]) {\n    result.push([]);\n  }\n  data.forEach((innerData, dataIdx) => {\n    innerData.forEach((item, itemIdx) => {\n      result[itemIdx][dataIdx] = item;\n    });\n  });\n  return result;\n}\nfunction estimateStartingGuess(bboxes, primary) {\n  const n = bboxes.length;\n  let primarySum = 0;\n  for (let bboxIndex = 0; bboxIndex < n; bboxIndex++) {\n    primarySum += primary.fn(bboxes[bboxIndex]) + primary.padding;\n    if (primarySum > primary.max) {\n      const ratio = n / bboxIndex;\n      if (ratio < 2) {\n        return Math.ceil(n / 2);\n      }\n      return bboxIndex;\n    }\n  }\n  return n;\n}\n\n// packages/ag-charts-community/src/chart/markerLabel.ts\nvar MarkerLabel = class extends Group {\n  constructor() {\n    super({\n      name: \"markerLabelGroup\"\n    });\n    this.label = new Text();\n    this.line = new Line();\n    this._marker = new Square();\n    this._markerSize = 15;\n    this._spacing = 8;\n    const {\n      marker,\n      label,\n      line\n    } = this;\n    label.textBaseline = \"middle\";\n    label.fontSize = 12;\n    label.fontFamily = \"Verdana, sans-serif\";\n    label.fill = \"black\";\n    label.y = 1;\n    this.append([line, marker, label]);\n    this.update();\n  }\n  set marker(value) {\n    if (this._marker !== value) {\n      this.removeChild(this._marker);\n      this._marker = value;\n      this.appendChild(value);\n      this.update();\n    }\n  }\n  get marker() {\n    return this._marker;\n  }\n  set markerSize(value) {\n    if (this._markerSize !== value) {\n      this._markerSize = value;\n      this.update();\n    }\n  }\n  get markerSize() {\n    return this._markerSize;\n  }\n  set spacing(value) {\n    if (this._spacing !== value) {\n      this._spacing = value;\n      this.update();\n    }\n  }\n  get spacing() {\n    return this._spacing;\n  }\n  setSeriesStrokeOffset(xOff) {\n    const offset4 = this.marker.size / 2 + xOff;\n    this.line.x1 = -offset4;\n    this.line.x2 = offset4;\n    this.line.y1 = 0;\n    this.line.y2 = 0;\n    this.line.markDirtyTransform();\n    this.update();\n  }\n  update() {\n    const {\n      markerSize\n    } = this;\n    const center = this.marker.constructor.center;\n    this.marker.size = markerSize;\n    this.marker.x = (center.x - 0.5) * markerSize;\n    this.marker.y = (center.y - 0.5) * markerSize;\n    const lineEnd = this.line.visible ? this.line.x2 : -Infinity;\n    const markerEnd = markerSize / 2;\n    this.label.x = Math.max(lineEnd, markerEnd) + this.spacing;\n  }\n  render(renderCtx) {\n    this.marker.opacity = this.opacity;\n    this.label.opacity = this.opacity;\n    this.line.opacity = this.opacity;\n    super.render(renderCtx);\n  }\n};\nMarkerLabel.className = \"MarkerLabel\";\n__decorateClass([ProxyPropertyOnWrite(\"label\")], MarkerLabel.prototype, \"text\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"label\")], MarkerLabel.prototype, \"fontStyle\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"label\")], MarkerLabel.prototype, \"fontWeight\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"label\")], MarkerLabel.prototype, \"fontSize\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"label\")], MarkerLabel.prototype, \"fontFamily\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"label\", \"fill\")], MarkerLabel.prototype, \"color\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"fill\")], MarkerLabel.prototype, \"markerFill\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"stroke\")], MarkerLabel.prototype, \"markerStroke\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"strokeWidth\")], MarkerLabel.prototype, \"markerStrokeWidth\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"fillOpacity\")], MarkerLabel.prototype, \"markerFillOpacity\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"strokeOpacity\")], MarkerLabel.prototype, \"markerStrokeOpacity\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"visible\")], MarkerLabel.prototype, \"markerVisible\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"line\", \"stroke\")], MarkerLabel.prototype, \"lineStroke\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"line\", \"strokeWidth\")], MarkerLabel.prototype, \"lineStrokeWidth\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"line\", \"strokeOpacity\")], MarkerLabel.prototype, \"lineStrokeOpacity\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"line\", \"lineDash\")], MarkerLabel.prototype, \"lineLineDash\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"line\", \"visible\")], MarkerLabel.prototype, \"lineVisible\", 2);\n\n// packages/ag-charts-community/src/chart/pagination/pagination.ts\nvar PaginationLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.color = \"black\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n  }\n};\n__decorateClass([Validate(COLOR_STRING)], PaginationLabel.prototype, \"color\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], PaginationLabel.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], PaginationLabel.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PaginationLabel.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], PaginationLabel.prototype, \"fontFamily\", 2);\nvar PaginationMarkerStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.size = 15;\n    this.fill = void 0;\n    this.fillOpacity = void 0;\n    this.stroke = void 0;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER)], PaginationMarkerStyle.prototype, \"size\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], PaginationMarkerStyle.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], PaginationMarkerStyle.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], PaginationMarkerStyle.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PaginationMarkerStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO)], PaginationMarkerStyle.prototype, \"strokeOpacity\", 2);\nvar PaginationMarker = class extends BaseProperties {\n  constructor(parent) {\n    super();\n    this.parent = parent;\n    this.shape = Triangle;\n    this.size = 15;\n    this.padding = 8;\n  }\n};\n__decorateClass([ActionOnSet({\n  changeValue() {\n    if (this.parent.marker === this) {\n      this.parent.onMarkerShapeChange();\n    }\n  }\n})], PaginationMarker.prototype, \"shape\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PaginationMarker.prototype, \"size\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PaginationMarker.prototype, \"padding\", 2);\nvar Pagination = class extends BaseProperties {\n  constructor(chartUpdateCallback, pageUpdateCallback, regionManager, cursorManager) {\n    super();\n    this.chartUpdateCallback = chartUpdateCallback;\n    this.pageUpdateCallback = pageUpdateCallback;\n    this.regionManager = regionManager;\n    this.cursorManager = cursorManager;\n    this.id = createId(this);\n    this.marker = new PaginationMarker(this);\n    this.activeStyle = new PaginationMarkerStyle();\n    this.inactiveStyle = new PaginationMarkerStyle();\n    this.highlightStyle = new PaginationMarkerStyle();\n    this.label = new PaginationLabel();\n    this.group = new Group({\n      name: \"pagination\"\n    });\n    this.labelNode = new Text();\n    this.destroyFns = [];\n    this.totalPages = 0;\n    this.currentPage = 0;\n    this.translationX = 0;\n    this.translationY = 0;\n    this.nextButtonDisabled = false;\n    this.previousButtonDisabled = false;\n    this._visible = true;\n    this._enabled = true;\n    this._orientation = \"vertical\";\n    this._nextButton = new Triangle();\n    this._previousButton = new Triangle();\n    this.labelNode.setProperties({\n      textBaseline: \"middle\",\n      fontSize: 12,\n      fontFamily: \"Verdana, sans-serif\",\n      fill: \"black\",\n      y: 1\n    });\n    this.group.append([this.nextButton, this.previousButton, this.labelNode]);\n    const region = this.regionManager.addRegion(\"pagination\", this.group);\n    this.destroyFns.push(region.addListener(\"click\", event => this.onPaginationClick(event)), region.addListener(\"hover\", event => this.onPaginationMouseMove(event)));\n    this.update();\n    this.updateMarkers();\n  }\n  destroy() {\n    this.destroyFns.forEach(f => f());\n  }\n  set visible(value) {\n    this._visible = value;\n    this.updateGroupVisibility();\n  }\n  get visible() {\n    return this._visible;\n  }\n  set enabled(value) {\n    this._enabled = value;\n    this.updateGroupVisibility();\n  }\n  get enabled() {\n    return this._enabled;\n  }\n  updateGroupVisibility() {\n    this.group.visible = this.enabled && this.visible;\n  }\n  set orientation(value) {\n    this._orientation = value;\n    switch (value) {\n      case \"horizontal\":\n        {\n          this.previousButton.rotation = -Math.PI / 2;\n          this.nextButton.rotation = Math.PI / 2;\n          break;\n        }\n      case \"vertical\":\n      default:\n        {\n          this.previousButton.rotation = 0;\n          this.nextButton.rotation = Math.PI;\n        }\n    }\n  }\n  get orientation() {\n    return this._orientation;\n  }\n  set nextButton(value) {\n    if (this._nextButton !== value) {\n      this.group.removeChild(this._nextButton);\n      this._nextButton = value;\n      this.group.appendChild(value);\n    }\n  }\n  get nextButton() {\n    return this._nextButton;\n  }\n  set previousButton(value) {\n    if (this._previousButton !== value) {\n      this.group.removeChild(this._previousButton);\n      this._previousButton = value;\n      this.group.appendChild(value);\n    }\n  }\n  get previousButton() {\n    return this._previousButton;\n  }\n  update() {\n    this.updateLabel();\n    this.updatePositions();\n    this.enableOrDisableButtons();\n  }\n  updatePositions() {\n    this.group.translationX = this.translationX;\n    this.group.translationY = this.translationY;\n    this.updateLabelPosition();\n    this.updateNextButtonPosition();\n  }\n  updateLabelPosition() {\n    const {\n      size: markerSize,\n      padding: markerPadding\n    } = this.marker;\n    this.nextButton.size = markerSize;\n    this.previousButton.size = markerSize;\n    this.labelNode.x = markerSize / 2 + markerPadding;\n  }\n  updateNextButtonPosition() {\n    const labelBBox = this.labelNode.computeBBox();\n    this.nextButton.translationX = labelBBox.x + labelBBox.width + this.marker.size / 2 + this.marker.padding;\n  }\n  updateLabel() {\n    const {\n      currentPage,\n      totalPages: pages,\n      labelNode,\n      label: {\n        color,\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily\n      }\n    } = this;\n    labelNode.text = `${currentPage + 1} / ${pages}`;\n    labelNode.fill = color;\n    labelNode.fontStyle = fontStyle;\n    labelNode.fontWeight = fontWeight;\n    labelNode.fontSize = fontSize;\n    labelNode.fontFamily = fontFamily;\n  }\n  updateMarkers() {\n    const {\n      nextButton,\n      previousButton,\n      nextButtonDisabled,\n      previousButtonDisabled,\n      activeStyle,\n      inactiveStyle,\n      highlightStyle,\n      highlightActive\n    } = this;\n    const buttonStyle = (button, disabled) => {\n      if (disabled) {\n        return inactiveStyle;\n      } else if (button === highlightActive) {\n        return highlightStyle;\n      }\n      return activeStyle;\n    };\n    this.updateMarker(nextButton, buttonStyle(\"next\", nextButtonDisabled));\n    this.updateMarker(previousButton, buttonStyle(\"previous\", previousButtonDisabled));\n  }\n  updateMarker(marker, style) {\n    var _a;\n    const {\n      size\n    } = this.marker;\n    marker.size = size;\n    marker.fill = style.fill;\n    marker.fillOpacity = (_a = style.fillOpacity) != null ? _a : 1;\n    marker.stroke = style.stroke;\n    marker.strokeWidth = style.strokeWidth;\n    marker.strokeOpacity = style.strokeOpacity;\n  }\n  enableOrDisableButtons() {\n    const {\n      currentPage,\n      totalPages\n    } = this;\n    const zeroPagesToDisplay = totalPages === 0;\n    const onLastPage = currentPage === totalPages - 1;\n    const onFirstPage = currentPage === 0;\n    this.nextButtonDisabled = onLastPage || zeroPagesToDisplay;\n    this.previousButtonDisabled = onFirstPage || zeroPagesToDisplay;\n  }\n  nextButtonContainsPoint(offsetX, offsetY) {\n    return !this.nextButtonDisabled && this.nextButton.containsPoint(offsetX, offsetY);\n  }\n  previousButtonContainsPoint(offsetX, offsetY) {\n    return !this.previousButtonDisabled && this.previousButton.containsPoint(offsetX, offsetY);\n  }\n  clickNext() {\n    this.incrementPage();\n    this.onPaginationChanged();\n  }\n  clickPrevious() {\n    this.decrementPage();\n    this.onPaginationChanged();\n  }\n  setPage(pageNumber) {\n    pageNumber = clamp(0, pageNumber, this.totalPages - 1);\n    if (this.currentPage !== pageNumber) {\n      this.currentPage = pageNumber;\n      this.onPaginationChanged();\n    }\n  }\n  onPaginationClick(event) {\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n      this.clickNext();\n      event.consume();\n    } else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n      this.clickPrevious();\n      event.consume();\n    }\n  }\n  onPaginationMouseMove(event) {\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n      this.cursorManager.updateCursor(this.id, \"pointer\");\n      this.highlightActive = \"next\";\n    } else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n      this.cursorManager.updateCursor(this.id, \"pointer\");\n      this.highlightActive = \"previous\";\n    } else {\n      this.cursorManager.updateCursor(this.id);\n      this.highlightActive = void 0;\n    }\n    this.updateMarkers();\n    this.chartUpdateCallback(6 /* SCENE_RENDER */);\n  }\n  onPaginationChanged() {\n    this.pageUpdateCallback(this.currentPage);\n  }\n  incrementPage() {\n    this.currentPage = Math.min(this.currentPage + 1, this.totalPages - 1);\n  }\n  decrementPage() {\n    this.currentPage = Math.max(this.currentPage - 1, 0);\n  }\n  onMarkerShapeChange() {\n    const Marker2 = getMarker(this.marker.shape || Triangle);\n    this.previousButton = new Marker2();\n    this.nextButton = new Marker2();\n    this.updatePositions();\n    this.updateMarkers();\n    this.chartUpdateCallback(6 /* SCENE_RENDER */);\n  }\n  attachPagination(node) {\n    node.append(this.group);\n  }\n  computeBBox() {\n    return this.group.computeBBox();\n  }\n};\nPagination.className = \"Pagination\";\n__decorateClass([Validate(OBJECT)], Pagination.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], Pagination.prototype, \"activeStyle\", 2);\n__decorateClass([Validate(OBJECT)], Pagination.prototype, \"inactiveStyle\", 2);\n__decorateClass([Validate(OBJECT)], Pagination.prototype, \"highlightStyle\", 2);\n__decorateClass([Validate(OBJECT)], Pagination.prototype, \"label\", 2);\n\n// packages/ag-charts-community/src/chart/legend.ts\nvar LegendLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.maxLength = void 0;\n    this.color = \"black\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.formatter = void 0;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], LegendLabel.prototype, \"maxLength\", 2);\n__decorateClass([Validate(COLOR_STRING)], LegendLabel.prototype, \"color\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], LegendLabel.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], LegendLabel.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LegendLabel.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], LegendLabel.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], LegendLabel.prototype, \"formatter\", 2);\nvar LegendMarker = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.size = 15;\n    this.padding = 8;\n    this.enabled = true;\n  }\n};\n__decorateClass([ObserveChanges(target => {\n  var _a;\n  return (_a = target.parent) == null ? void 0 : _a.onMarkerShapeChange();\n})], LegendMarker.prototype, \"shape\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LegendMarker.prototype, \"size\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LegendMarker.prototype, \"padding\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], LegendMarker.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(BOOLEAN)], LegendMarker.prototype, \"enabled\", 2);\nvar LegendLine = class extends BaseProperties {};\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], LegendLine.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], LegendLine.prototype, \"length\", 2);\nvar LegendItem = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.paddingX = 16;\n    this.paddingY = 8;\n    this.toggleSeriesVisible = true;\n    this.showSeriesStroke = false;\n    this.marker = new LegendMarker();\n    this.label = new LegendLabel();\n    this.line = new LegendLine();\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], LegendItem.prototype, \"maxWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LegendItem.prototype, \"paddingX\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LegendItem.prototype, \"paddingY\", 2);\n__decorateClass([Validate(BOOLEAN)], LegendItem.prototype, \"toggleSeriesVisible\", 2);\n__decorateClass([Validate(BOOLEAN)], LegendItem.prototype, \"showSeriesStroke\", 2);\n__decorateClass([Validate(OBJECT)], LegendItem.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], LegendItem.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], LegendItem.prototype, \"line\", 2);\nvar LegendListeners = class extends BaseProperties {};\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], LegendListeners.prototype, \"legendItemClick\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], LegendListeners.prototype, \"legendItemDoubleClick\", 2);\nvar Legend = class extends BaseProperties {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.id = createId(this);\n    this.group = new Group({\n      name: \"legend\",\n      layer: true,\n      zIndex: 11 /* LEGEND_ZINDEX */\n    });\n    this.itemSelection = Selection.select(this.group, MarkerLabel);\n    this.oldSize = [0, 0];\n    this.pages = [];\n    this.maxPageSize = [0, 0];\n    /** Item index to track on re-pagination, so current page updates appropriately. */\n    this.paginationTrackingIndex = 0;\n    this.truncatedItems = /* @__PURE__ */new Set();\n    this._data = [];\n    this.item = new LegendItem();\n    this.listeners = new LegendListeners();\n    this.enabled = true;\n    this.position = \"bottom\";\n    this.spacing = 20;\n    this.characterWidths = /* @__PURE__ */new Map();\n    this.destroyFns = [];\n    this.size = [0, 0];\n    this._visible = true;\n    this.focus = {\n      mode: \"item\",\n      index: 0\n    };\n    this.item.marker.parent = this;\n    this.pagination = new Pagination(type => ctx.updateService.update(type), page => this.updatePageNumber(page), ctx.regionManager, ctx.cursorManager);\n    this.pagination.attachPagination(this.group);\n    this.item.marker.parent = this;\n    const animationState = 16 /* Default */ | 1 /* Animation */;\n    const region = ctx.regionManager.addRegionFromProperties({\n      name: \"legend\",\n      bboxproviders: [this.group],\n      canInteraction: () => this.enabled && this.group.visible\n    });\n    this.destroyFns.push(region.addListener(\"click\", e => this.checkLegendClick(e), animationState), region.addListener(\"dblclick\", e => this.checkLegendDoubleClick(e), animationState), region.addListener(\"hover\", e => this.handleLegendMouseMove(e)), region.addListener(\"leave\", e => this.handleLegendMouseExit(e), animationState), region.addListener(\"enter\", e => this.handleLegendMouseEnter(e), animationState), region.addListener(\"blur\", e => this.onBlur(e)), region.addListener(\"tab\", e => this.onTab(e)), region.addListener(\"tab-start\", e => this.onTabStart(e)), region.addListener(\"nav-vert\", e => this.onNav(e)), region.addListener(\"nav-hori\", e => this.onNav(e)), region.addListener(\"submit\", e => this.onSubmit(e)), ctx.layoutService.addListener(\"start-layout\", e => this.positionLegend(e.shrinkRect)), () => this.detachLegend());\n  }\n  set data(value) {\n    this._data = value;\n    this.updateGroupVisibility();\n  }\n  get data() {\n    return this._data;\n  }\n  destroy() {\n    this.destroyFns.forEach(f => f());\n    this.pagination.destroy();\n  }\n  onMarkerShapeChange() {\n    this.itemSelection.clear();\n    this.group.markDirty(this.group, 2 /* MINOR */);\n  }\n  getOrientation() {\n    if (this.orientation !== void 0) {\n      return this.orientation;\n    }\n    switch (this.position) {\n      case \"right\":\n      case \"left\":\n        return \"vertical\";\n      case \"bottom\":\n      case \"top\":\n        return \"horizontal\";\n    }\n  }\n  getCharacterWidths(font) {\n    const {\n      characterWidths\n    } = this;\n    if (characterWidths.has(font)) {\n      return characterWidths.get(font);\n    }\n    const cw = {\n      \"...\": Text.getTextSize(\"...\", font).width\n    };\n    characterWidths.set(font, cw);\n    return cw;\n  }\n  set visible(value) {\n    this._visible = value;\n    this.updateGroupVisibility();\n  }\n  get visible() {\n    return this._visible;\n  }\n  updateGroupVisibility() {\n    this.group.visible = this.enabled && this.visible && this.data.length > 0;\n  }\n  attachLegend(scene) {\n    scene.appendChild(this.group);\n  }\n  detachLegend() {\n    var _a;\n    (_a = this.group.parent) == null ? void 0 : _a.removeChild(this.group);\n  }\n  getItemLabel(datum) {\n    const {\n      ctx: {\n        callbackCache\n      }\n    } = this;\n    const {\n      formatter\n    } = this.item.label;\n    if (formatter) {\n      return callbackCache.call(formatter, {\n        itemId: datum.itemId,\n        value: datum.label.text,\n        seriesId: datum.seriesId\n      });\n    }\n    return datum.label.text;\n  }\n  /**\n   * The method is given the desired size of the legend, which only serves as a hint.\n   * The vertically oriented legend will take as much horizontal space as needed, but will\n   * respect the height constraints, and the horizontal legend will take as much vertical\n   * space as needed in an attempt not to exceed the given width.\n   * After the layout is done, the {@link size} will contain the actual size of the legend.\n   * If the actual size is not the same as the previous actual size, the legend will fire\n   * the 'layoutChange' event to communicate that another layout is needed, and the above\n   * process should be repeated.\n   * @param width\n   * @param height\n   */\n  calcLayout(width, height) {\n    const {\n      paddingX,\n      paddingY,\n      label,\n      maxWidth,\n      marker: {\n        size: markerSize,\n        padding: markerPadding,\n        shape: markerShape\n      },\n      label: {\n        maxLength = Infinity,\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily\n      },\n      line: itemLine,\n      showSeriesStroke\n    } = this.item;\n    const data = [...this.data];\n    if (this.reverseOrder) {\n      data.reverse();\n    }\n    this.itemSelection.update(data);\n    const bboxes = [];\n    const font = getFont(label);\n    const itemMaxWidthPercentage = 0.8;\n    const maxItemWidth = maxWidth != null ? maxWidth : width * itemMaxWidthPercentage;\n    const paddedMarkerWidth = markerSize + markerPadding + paddingX;\n    this.itemSelection.each((markerLabel, datum) => {\n      var _a, _b, _c;\n      const Marker2 = getMarker(markerShape != null ? markerShape : datum.marker.shape);\n      const markerEnabled = (_a = datum.marker.enabled) != null ? _a : this.item.marker.enabled;\n      if (!(markerLabel.marker && markerLabel.marker instanceof Marker2)) {\n        markerLabel.marker = new Marker2();\n      }\n      markerLabel.markerSize = markerSize;\n      markerLabel.spacing = markerPadding;\n      markerLabel.fontStyle = fontStyle;\n      markerLabel.fontWeight = fontWeight;\n      markerLabel.fontSize = fontSize;\n      markerLabel.fontFamily = fontFamily;\n      const id = (_b = datum.itemId) != null ? _b : datum.id;\n      const labelText = this.getItemLabel(datum);\n      const text = (labelText != null ? labelText : \"<unknown>\").replace(/\\r?\\n/g, \" \");\n      markerLabel.text = this.truncate(text, maxLength, maxItemWidth, paddedMarkerWidth, font, id);\n      if (showSeriesStroke && datum.line !== void 0) {\n        markerLabel.lineVisible = true;\n        markerLabel.markerVisible = markerEnabled;\n        markerLabel.setSeriesStrokeOffset((_c = itemLine.length) != null ? _c : 5);\n      } else {\n        markerLabel.lineVisible = false;\n        markerLabel.markerVisible = true;\n      }\n      bboxes.push(markerLabel.computeBBox());\n    });\n    width = Math.max(1, width);\n    height = Math.max(1, height);\n    if (!isFinite(width)) {\n      return false;\n    }\n    const size = this.size;\n    const oldSize = this.oldSize;\n    size[0] = width;\n    size[1] = height;\n    if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      oldSize[0] = size[0];\n      oldSize[1] = size[1];\n    }\n    const {\n      pages,\n      maxPageHeight,\n      maxPageWidth\n    } = this.updatePagination(bboxes, width, height);\n    this.pages = pages;\n    this.maxPageSize = [maxPageWidth - paddingX, maxPageHeight - paddingY];\n    const pageNumber = this.pagination.currentPage;\n    const page = this.pages[pageNumber];\n    if (this.pages.length < 1 || !page) {\n      this.visible = false;\n      return;\n    }\n    this.visible = true;\n    this.updatePositions(pageNumber);\n    this.update();\n  }\n  truncate(text, maxCharLength, maxItemWidth, paddedMarkerWidth, font, id) {\n    const ellipsis2 = `...`;\n    const textChars = text.split(\"\");\n    let addEllipsis = false;\n    if (text.length > maxCharLength) {\n      text = `${text.substring(0, maxCharLength)}`;\n      addEllipsis = true;\n    }\n    const labelWidth = Math.floor(paddedMarkerWidth + Text.getTextSize(text, font).width);\n    if (labelWidth > maxItemWidth) {\n      let truncatedText = \"\";\n      const characterWidths = this.getCharacterWidths(font);\n      let cumulativeWidth = paddedMarkerWidth + characterWidths[ellipsis2];\n      for (const char of textChars) {\n        if (!characterWidths[char]) {\n          characterWidths[char] = Text.getTextSize(char, font).width;\n        }\n        cumulativeWidth += characterWidths[char];\n        if (cumulativeWidth > maxItemWidth) {\n          break;\n        }\n        truncatedText += char;\n      }\n      text = truncatedText;\n      addEllipsis = true;\n    }\n    if (addEllipsis) {\n      text += ellipsis2;\n      this.truncatedItems.add(id);\n    } else {\n      this.truncatedItems.delete(id);\n    }\n    return text;\n  }\n  updatePagination(bboxes, width, height) {\n    const orientation = this.getOrientation();\n    const trackingIndex = Math.min(this.paginationTrackingIndex, bboxes.length);\n    this.pagination.orientation = orientation;\n    this.pagination.translationX = 0;\n    this.pagination.translationY = 0;\n    const {\n      pages,\n      maxPageHeight,\n      maxPageWidth,\n      paginationBBox,\n      paginationVertical\n    } = this.calculatePagination(bboxes, width, height);\n    const newCurrentPage = pages.findIndex(p => p.endIndex >= trackingIndex);\n    this.pagination.currentPage = clamp(0, newCurrentPage, pages.length - 1);\n    const {\n      paddingX: itemPaddingX,\n      paddingY: itemPaddingY\n    } = this.item;\n    const paginationComponentPadding = 8;\n    const legendItemsWidth = maxPageWidth - itemPaddingX;\n    const legendItemsHeight = maxPageHeight - itemPaddingY;\n    let paginationX = 0;\n    let paginationY = -paginationBBox.y - this.item.marker.size / 2;\n    if (paginationVertical) {\n      paginationY += legendItemsHeight + paginationComponentPadding;\n    } else {\n      paginationX += -paginationBBox.x + legendItemsWidth + paginationComponentPadding;\n      paginationY += (legendItemsHeight - paginationBBox.height) / 2;\n    }\n    this.pagination.translationX = paginationX;\n    this.pagination.translationY = paginationY;\n    this.pagination.update();\n    this.pagination.updateMarkers();\n    return {\n      maxPageHeight,\n      maxPageWidth,\n      pages\n    };\n  }\n  calculatePagination(bboxes, width, height) {\n    var _a, _b, _c;\n    const {\n      paddingX: itemPaddingX,\n      paddingY: itemPaddingY\n    } = this.item;\n    const orientation = this.getOrientation();\n    const paginationVertical = [\"left\", \"right\"].includes(this.position);\n    let paginationBBox = this.pagination.computeBBox();\n    let lastPassPaginationBBox = new BBox(0, 0, 0, 0);\n    let pages = [];\n    let maxPageWidth = 0;\n    let maxPageHeight = 0;\n    let count = 0;\n    const stableOutput = bbox => {\n      return bbox.width === paginationBBox.width && bbox.height === paginationBBox.height;\n    };\n    const forceResult = this.maxWidth !== void 0 && this.maxHeight !== void 0;\n    do {\n      if (count++ > 10) {\n        Logger.warn(\"unable to find stable legend layout.\");\n        break;\n      }\n      paginationBBox = lastPassPaginationBBox;\n      const maxWidth = width - (paginationVertical ? 0 : paginationBBox.width);\n      const maxHeight = height - (paginationVertical ? paginationBBox.height : 0);\n      const layout = gridLayout({\n        orientation,\n        bboxes,\n        maxHeight,\n        maxWidth,\n        itemPaddingY,\n        itemPaddingX,\n        forceResult\n      });\n      pages = (_a = layout == null ? void 0 : layout.pages) != null ? _a : [];\n      maxPageWidth = (_b = layout == null ? void 0 : layout.maxPageWidth) != null ? _b : 0;\n      maxPageHeight = (_c = layout == null ? void 0 : layout.maxPageHeight) != null ? _c : 0;\n      const totalPages = pages.length;\n      this.pagination.visible = totalPages > 1;\n      this.pagination.totalPages = totalPages;\n      this.pagination.update();\n      lastPassPaginationBBox = this.pagination.computeBBox();\n      if (!this.pagination.visible) {\n        break;\n      }\n    } while (!stableOutput(lastPassPaginationBBox));\n    return {\n      maxPageWidth,\n      maxPageHeight,\n      pages,\n      paginationBBox,\n      paginationVertical\n    };\n  }\n  getPageItemCount(pageNumber) {\n    let count = 0;\n    for (const col of this.pages[pageNumber].columns) {\n      count += col.indices.length;\n    }\n    return count;\n  }\n  getNodeIndexFromFocusIndex() {\n    const {\n      index\n    } = this.focus;\n    const page = this.pages[this.pagination.currentPage];\n    let itemCount = 0;\n    for (const col of page.columns) {\n      if (index < itemCount + col.indices.length) {\n        return col.indices[index - itemCount];\n      } else {\n        itemCount += col.indices.length;\n      }\n    }\n    return -1;\n  }\n  updatePositions(pageNumber = 0) {\n    const {\n      item: {\n        paddingY\n      },\n      itemSelection,\n      pages\n    } = this;\n    if (pages.length < 1 || !pages[pageNumber]) {\n      return;\n    }\n    const {\n      columns,\n      startIndex: visibleStart,\n      endIndex: visibleEnd\n    } = pages[pageNumber];\n    let x = 0;\n    let y = 0;\n    const columnCount = columns.length;\n    const rowCount = columns[0].indices.length;\n    const horizontal = this.getOrientation() === \"horizontal\";\n    const itemHeight = columns[0].bboxes[0].height + paddingY;\n    const rowSumColumnWidths = [];\n    itemSelection.each((markerLabel, _, i) => {\n      var _a, _b;\n      if (i < visibleStart || i > visibleEnd) {\n        markerLabel.visible = false;\n        return;\n      }\n      const pageIndex = i - visibleStart;\n      let columnIndex = 0;\n      let rowIndex = 0;\n      if (horizontal) {\n        columnIndex = pageIndex % columnCount;\n        rowIndex = Math.floor(pageIndex / columnCount);\n      } else {\n        columnIndex = Math.floor(pageIndex / rowCount);\n        rowIndex = pageIndex % rowCount;\n      }\n      markerLabel.visible = true;\n      const column = columns[columnIndex];\n      if (!column) {\n        return;\n      }\n      y = itemHeight * rowIndex;\n      x = (_a = rowSumColumnWidths[rowIndex]) != null ? _a : 0;\n      rowSumColumnWidths[rowIndex] = ((_b = rowSumColumnWidths[rowIndex]) != null ? _b : 0) + column.columnWidth;\n      markerLabel.translationX = Math.floor(x);\n      markerLabel.translationY = Math.floor(y);\n    });\n  }\n  updatePageNumber(pageNumber) {\n    const {\n      pages\n    } = this;\n    const {\n      startIndex,\n      endIndex\n    } = pages[pageNumber];\n    if (startIndex === 0) {\n      this.paginationTrackingIndex = 0;\n    } else if (pageNumber === pages.length - 1) {\n      this.paginationTrackingIndex = endIndex;\n    } else {\n      this.paginationTrackingIndex = Math.floor((startIndex + endIndex) / 2);\n    }\n    this.pagination.update();\n    this.pagination.updateMarkers();\n    this.updatePositions(pageNumber);\n    this.ctx.updateService.update(6 /* SCENE_RENDER */);\n  }\n  update() {\n    const {\n      label: {\n        color\n      },\n      marker: itemMarker,\n      line: itemLine,\n      showSeriesStroke\n    } = this.item;\n    this.itemSelection.each((markerLabel, datum) => {\n      var _a, _b;\n      const marker = datum.marker;\n      markerLabel.markerFill = marker.fill;\n      markerLabel.markerStroke = marker.stroke;\n      markerLabel.markerStrokeWidth = (_a = itemMarker.strokeWidth) != null ? _a : Math.min(2, marker.strokeWidth);\n      markerLabel.markerFillOpacity = marker.fillOpacity;\n      markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n      markerLabel.opacity = datum.enabled ? 1 : 0.5;\n      markerLabel.color = color;\n      const {\n        line\n      } = datum;\n      if (showSeriesStroke && line !== void 0) {\n        markerLabel.lineStroke = line.stroke;\n        markerLabel.lineStrokeOpacity = line.strokeOpacity;\n        markerLabel.lineStrokeWidth = (_b = itemLine.strokeWidth) != null ? _b : Math.min(2, line.strokeWidth);\n        markerLabel.lineLineDash = line.lineDash;\n      }\n    });\n  }\n  getDatumForPoint(x, y) {\n    const visibleChildBBoxes = [];\n    const closestLeftTop = {\n      dist: Infinity,\n      datum: void 0\n    };\n    for (const child of this.group.children) {\n      if (!child.visible) continue;\n      if (!(child instanceof MarkerLabel)) continue;\n      const childBBox = child.computeBBox();\n      childBBox.grow(this.item.paddingX / 2, \"horizontal\");\n      childBBox.grow(this.item.paddingY / 2, \"vertical\");\n      if (childBBox.containsPoint(x, y)) {\n        return child.datum;\n      }\n      const distX = x - childBBox.x - this.item.paddingX / 2;\n      const distY = y - childBBox.y - this.item.paddingY / 2;\n      const dist = __pow(distX, 2) + __pow(distY, 2);\n      const toTheLeftTop = distX >= 0 && distY >= 0;\n      if (toTheLeftTop && dist < closestLeftTop.dist) {\n        closestLeftTop.dist = dist;\n        closestLeftTop.datum = child.datum;\n      }\n      visibleChildBBoxes.push(childBBox);\n    }\n    const pageBBox = BBox.merge(visibleChildBBoxes);\n    if (!pageBBox.containsPoint(x, y)) {\n      return;\n    }\n    return closestLeftTop.datum;\n  }\n  computePagedBBox() {\n    const actualBBox = this.group.computeBBox();\n    if (this.pages.length <= 1) {\n      return actualBBox;\n    }\n    const [maxPageWidth, maxPageHeight] = this.maxPageSize;\n    actualBBox.height = Math.max(maxPageHeight, actualBBox.height);\n    actualBBox.width = Math.max(maxPageWidth, actualBBox.width);\n    return actualBBox;\n  }\n  checkLegendClick(event) {\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (this.doClick(datum)) {\n      event.consume();\n    }\n  }\n  doClick(datum) {\n    const {\n      listeners: {\n        legendItemClick\n      },\n      ctx: {\n        chartService,\n        highlightManager\n      },\n      item: {\n        toggleSeriesVisible\n      },\n      preventHidingAll\n    } = this;\n    if (!datum) {\n      return false;\n    }\n    const {\n      id,\n      itemId,\n      enabled\n    } = datum;\n    const series = chartService.series.find(s => s.id === id);\n    if (!series) {\n      return false;\n    }\n    let newEnabled = enabled;\n    if (toggleSeriesVisible) {\n      newEnabled = !enabled;\n      if (preventHidingAll && !newEnabled) {\n        const numVisibleItems = chartService.series.flatMap(s => s.getLegendData(\"category\")).filter(d => d.enabled).length;\n        if (numVisibleItems < 2) {\n          newEnabled = true;\n        }\n      }\n      const status = newEnabled ? \"visible\" : \"hidden\";\n      this.ctx.ariaAnnouncementService.announceValue(`${status}`);\n      this.ctx.chartEventManager.legendItemClick(series, itemId, newEnabled, datum.legendItemName);\n    }\n    if (newEnabled) {\n      highlightManager.updateHighlight(this.id, {\n        series,\n        itemId,\n        datum: void 0\n      });\n    } else {\n      highlightManager.updateHighlight(this.id);\n    }\n    this.ctx.updateService.update(2 /* PROCESS_DATA */, {\n      forceNodeDataRefresh: true\n    });\n    legendItemClick == null ? void 0 : legendItemClick({\n      type: \"click\",\n      enabled: newEnabled,\n      itemId,\n      seriesId: series.id\n    });\n    return true;\n  }\n  checkLegendDoubleClick(event) {\n    var _a;\n    const {\n      listeners: {\n        legendItemDoubleClick\n      },\n      ctx: {\n        chartService\n      },\n      item: {\n        toggleSeriesVisible\n      }\n    } = this;\n    if (chartService.mode === \"integrated\") {\n      return;\n    }\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (!datum) {\n      return;\n    }\n    const {\n      id,\n      itemId,\n      seriesId\n    } = datum;\n    const series = chartService.series.find(s => s.id === id);\n    if (!series) {\n      return;\n    }\n    event.consume();\n    if (toggleSeriesVisible) {\n      const legendData = chartService.series.flatMap(s => s.getLegendData(\"category\"));\n      const numVisibleItems = legendData.filter(d => d.enabled).length;\n      const clickedItem = legendData.find(d => d.itemId === itemId && d.seriesId === seriesId);\n      this.ctx.chartEventManager.legendItemDoubleClick(series, itemId, (_a = clickedItem == null ? void 0 : clickedItem.enabled) != null ? _a : false, numVisibleItems, clickedItem == null ? void 0 : clickedItem.legendItemName);\n    }\n    this.ctx.updateService.update(2 /* PROCESS_DATA */, {\n      forceNodeDataRefresh: true\n    });\n    legendItemDoubleClick == null ? void 0 : legendItemDoubleClick({\n      type: \"dblclick\",\n      enabled: true,\n      itemId,\n      seriesId: series.id\n    });\n  }\n  handleLegendMouseMove(event) {\n    if (!this.enabled) {\n      return;\n    }\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    event.consume();\n    const datum = this.getDatumForPoint(offsetX, offsetY);\n    this.doHover(event, datum);\n  }\n  doHover(event, datum) {\n    var _a;\n    const {\n      item: {\n        toggleSeriesVisible\n      },\n      listeners\n    } = this;\n    if (event === void 0 || datum === void 0) {\n      this.ctx.cursorManager.updateCursor(this.id);\n      this.ctx.highlightManager.updateHighlight(this.id);\n      return;\n    }\n    const series = datum ? this.ctx.chartService.series.find(s => s.id === (datum == null ? void 0 : datum.id)) : void 0;\n    if (datum && this.truncatedItems.has((_a = datum.itemId) != null ? _a : datum.id)) {\n      const {\n        offsetX,\n        offsetY\n      } = event;\n      this.ctx.tooltipManager.updateTooltip(this.id, {\n        offsetX,\n        offsetY,\n        lastPointerEvent: event,\n        showArrow: false\n      }, toTooltipHtml({\n        content: this.getItemLabel(datum)\n      }));\n    } else {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n    }\n    if (toggleSeriesVisible || listeners.legendItemClick != null || listeners.legendItemDoubleClick != null) {\n      this.ctx.cursorManager.updateCursor(this.id, \"pointer\");\n    }\n    if ((datum == null ? void 0 : datum.enabled) && series) {\n      this.ctx.highlightManager.updateHighlight(this.id, {\n        series,\n        itemId: datum == null ? void 0 : datum.itemId,\n        datum: void 0\n      });\n    } else {\n      this.ctx.highlightManager.updateHighlight(this.id);\n    }\n  }\n  handleLegendMouseExit(_event) {\n    this.doMouseExit();\n  }\n  doMouseExit() {\n    this.ctx.cursorManager.updateCursor(this.id);\n    this.ctx.tooltipManager.removeTooltip(this.id);\n    if (this.ctx.interactionManager.getState() === 16 /* Default */) {\n      this.ctx.highlightManager.updateHighlight(this.id);\n    }\n  }\n  handleLegendMouseEnter(event) {\n    const {\n      enabled,\n      item: {\n        toggleSeriesVisible: toggle\n      },\n      listeners: {\n        legendItemClick: clickListener,\n        legendItemDoubleClick: dblclickListener\n      }\n    } = this;\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (enabled && datum !== void 0 && (toggle || clickListener != null || dblclickListener != null)) {\n      this.ctx.cursorManager.updateCursor(this.id, \"pointer\");\n    }\n  }\n  onBlur(_event) {\n    this.doMouseExit();\n    this.focus.mode = \"item\";\n    this.ctx.regionManager.updateFocusIndicatorRect(void 0);\n  }\n  onTab(event) {\n    this.updateFocus();\n    event.consume();\n  }\n  onTabStart(event) {\n    if (!this.pagination.visible || !this.pagination.enabled) return;\n    const consumeTabStart = newMode => {\n      this.focus.mode = newMode;\n      this.updateFocus();\n      event.consume();\n    };\n    if (this.focus.mode === \"item\" && event.delta === 1) {\n      this.focus.index = this.pagination.currentPage === 0 ? 1 : 0;\n      consumeTabStart(\"page\");\n    } else if (this.focus.mode === \"page\" && event.delta === -1) {\n      this.focus.index = 0;\n      consumeTabStart(\"item\");\n    }\n  }\n  onNav(event) {\n    if (this.focus.mode === \"item\") {\n      const newIndex = this.focus.index + event.delta;\n      const pageItemCount = this.getPageItemCount(this.pagination.currentPage);\n      this.focus.index = clamp(-1, newIndex, pageItemCount);\n      this.updateFocus();\n      event.consume();\n    } else if (this.focus.mode === \"page\") {\n      if (event.delta < 0) this.focus.index = 0;\n      if (event.delta > 0) this.focus.index = 1;\n      this.updateFocus();\n      event.consume();\n    }\n  }\n  onSubmit(_event) {\n    if (this.focus.mode === \"item\") {\n      this.doClick(this.getFocusedItem().datum);\n    } else if (this.focus.mode === \"page\") {\n      if (this.focus.index === 0) this.pagination.clickPrevious();\n      if (this.focus.index === 1) this.pagination.clickNext();\n      this.ctx.ariaAnnouncementService.announceValue(`Legend page ${this.pagination.currentPage + 1} of ${this.pages.length}`);\n    }\n  }\n  maybeChangeFocusPage() {\n    const oldPage = this.pagination.currentPage;\n    const oldPageItemCount = this.getPageItemCount(oldPage);\n    if (this.focus.index === -1) {\n      this.pagination.setPage(oldPage - 1);\n    } else if (this.focus.index === oldPageItemCount) {\n      this.pagination.setPage(oldPage + 1);\n    } else {\n      return;\n    }\n    const {\n      currentPage\n    } = this.pagination;\n    if (oldPage === currentPage) {\n      this.focus.index = clamp(0, this.focus.index, oldPageItemCount - 1);\n    } else if (this.focus.index === -1) {\n      this.focus.index = this.getPageItemCount(currentPage) - 1;\n    } else {\n      this.focus.index = 0;\n    }\n  }\n  getFocusedItem() {\n    if (this.focus.mode !== \"item\") {\n      Logger.error(`getFocusedItem() should be called only when focus.mode is 'item'`);\n      return {\n        nodeIndex: -1,\n        node: void 0,\n        datum: void 0\n      };\n    }\n    this.maybeChangeFocusPage();\n    const nodeIndex = this.getNodeIndexFromFocusIndex();\n    if (nodeIndex < 0) {\n      Logger.error(`Cannot access negative nodeIndex ${nodeIndex}`);\n      return {\n        nodeIndex: -1,\n        node: void 0,\n        datum: void 0\n      };\n    }\n    const node = this.itemSelection.nodes()[nodeIndex];\n    const data = this.data;\n    let datum;\n    if (nodeIndex < data.length) {\n      datum = this.data[nodeIndex];\n    } else {\n      Logger.error(`Cannot access datum[${nodeIndex}]`);\n    }\n    return {\n      nodeIndex,\n      node,\n      datum\n    };\n  }\n  updateFocus() {\n    const {\n      focus,\n      pagination\n    } = this;\n    if (focus.mode === \"item\") {\n      const {\n        nodeIndex,\n        node,\n        datum\n      } = this.getFocusedItem();\n      if (datum === void 0) return;\n      const bbox = node == null ? void 0 : node.computeTransformedBBox();\n      this.doHover(makeKeyboardPointerEvent(this.ctx.regionManager, {\n        bbox,\n        showFocusBox: true\n      }), datum);\n      const label = datum && this.getItemLabel(datum);\n      if (label) {\n        const visibility = datum.enabled ? \"visible\" : \"hidden\";\n        this.ctx.ariaAnnouncementService.announceValue(`Legend item ${nodeIndex + 1} of ${this.data.length}, ${label}, ${visibility}`);\n      }\n    } else if (focus.mode === \"page\") {\n      const button = focus.index === 0 ? pagination.previousButton : pagination.nextButton;\n      this.ctx.regionManager.updateFocusIndicatorRect(button.computeTransformedBBox());\n      const value = [\"Previous legend page\", \"Next legend page\"][focus.index];\n      this.ctx.ariaAnnouncementService.announceValue(`${value}, button`);\n    }\n  }\n  positionLegend(shrinkRect) {\n    const newShrinkRect = shrinkRect.clone();\n    if (!this.enabled || !this.data.length) {\n      return {\n        shrinkRect: newShrinkRect\n      };\n    }\n    const [legendWidth, legendHeight] = this.calculateLegendDimensions(shrinkRect);\n    this.group.translationX = 0;\n    this.group.translationY = 0;\n    this.calcLayout(legendWidth, legendHeight);\n    const legendBBox = this.computePagedBBox();\n    const calculateTranslationPerpendicularDimension = () => {\n      switch (this.position) {\n        case \"top\":\n        case \"left\":\n          return 0;\n        case \"bottom\":\n          return shrinkRect.height - legendBBox.height;\n        case \"right\":\n        default:\n          return shrinkRect.width - legendBBox.width;\n      }\n    };\n    if (this.visible) {\n      let translationX;\n      let translationY;\n      switch (this.position) {\n        case \"top\":\n        case \"bottom\":\n          translationX = (shrinkRect.width - legendBBox.width) / 2;\n          translationY = calculateTranslationPerpendicularDimension();\n          newShrinkRect.shrink(legendBBox.height, this.position);\n          break;\n        case \"left\":\n        case \"right\":\n        default:\n          translationX = calculateTranslationPerpendicularDimension();\n          translationY = (shrinkRect.height - legendBBox.height) / 2;\n          newShrinkRect.shrink(legendBBox.width, this.position);\n      }\n      this.group.translationX = Math.floor(-legendBBox.x + shrinkRect.x + translationX);\n      this.group.translationY = Math.floor(-legendBBox.y + shrinkRect.y + translationY);\n    }\n    if (this.visible && this.enabled && this.data.length) {\n      const legendPadding = this.spacing;\n      newShrinkRect.shrink(legendPadding, this.position);\n      const legendPositionedBBox = legendBBox.clone();\n      legendPositionedBBox.x += this.group.translationX;\n      legendPositionedBBox.y += this.group.translationY;\n    }\n    return {\n      shrinkRect: newShrinkRect\n    };\n  }\n  calculateLegendDimensions(shrinkRect) {\n    const {\n      width,\n      height\n    } = shrinkRect;\n    const aspectRatio = width / height;\n    const maxCoefficient = 0.5;\n    const minHeightCoefficient = 0.2;\n    const minWidthCoefficient = 0.25;\n    let legendWidth, legendHeight;\n    switch (this.position) {\n      case \"top\":\n      case \"bottom\":\n        const heightCoefficient = aspectRatio < 1 ? Math.min(maxCoefficient, minHeightCoefficient * (1 / aspectRatio)) : minHeightCoefficient;\n        legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : width;\n        legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : Math.round(height * heightCoefficient);\n        break;\n      case \"left\":\n      case \"right\":\n      default:\n        const widthCoefficient = aspectRatio > 1 ? Math.min(maxCoefficient, minWidthCoefficient * aspectRatio) : minWidthCoefficient;\n        legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : Math.round(width * widthCoefficient);\n        legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : height;\n    }\n    return [legendWidth, legendHeight];\n  }\n};\nLegend.className = \"Legend\";\n__decorateClass([Validate(OBJECT)], Legend.prototype, \"pagination\", 2);\n__decorateClass([Validate(OBJECT)], Legend.prototype, \"item\", 2);\n__decorateClass([Validate(OBJECT)], Legend.prototype, \"listeners\", 2);\n__decorateClass([ObserveChanges(target => target.updateGroupVisibility()), Validate(BOOLEAN)], Legend.prototype, \"enabled\", 2);\n__decorateClass([Validate(POSITION2)], Legend.prototype, \"position\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Legend.prototype, \"maxWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Legend.prototype, \"maxHeight\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], Legend.prototype, \"reverseOrder\", 2);\n__decorateClass([Validate(UNION([\"horizontal\", \"vertical\"], \"an orientation\"), {\n  optional: true\n})], Legend.prototype, \"orientation\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], Legend.prototype, \"preventHidingAll\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Legend.prototype, \"spacing\", 2);\n\n// packages/ag-charts-community/src/chart/legendModule.ts\nvar CommunityLegendModule = {\n  type: \"legend\",\n  optionsKey: \"legend\",\n  identifier: \"category\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  instanceConstructor: Legend,\n  packageType: \"community\"\n};\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeHandle.ts\nvar RangeHandle = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.zIndex = 3;\n    this._fill = \"#f2f2f2\";\n    this._stroke = \"#999999\";\n    this._strokeWidth = 1;\n    this._lineCap = \"square\";\n    this._centerX = 0;\n    this._centerY = 0;\n    this._width = 8;\n    this._gripLineGap = 2;\n    this._gripLineLength = 8;\n    this._height = 16;\n  }\n  set centerX(value) {\n    if (this._centerX !== value) {\n      this._centerX = value;\n      this.dirtyPath = true;\n    }\n  }\n  get centerX() {\n    return this._centerX;\n  }\n  set centerY(value) {\n    if (this._centerY !== value) {\n      this._centerY = value;\n      this.dirtyPath = true;\n    }\n  }\n  get centerY() {\n    return this._centerY;\n  }\n  set width(value) {\n    if (this._width !== value) {\n      this._width = value;\n      this.dirtyPath = true;\n    }\n  }\n  get width() {\n    return this._width;\n  }\n  set gripLineGap(value) {\n    if (this._gripLineGap !== value) {\n      this._gripLineGap = value;\n      this.dirtyPath = true;\n    }\n  }\n  get gripLineGap() {\n    return this._gripLineGap;\n  }\n  set gripLineLength(value) {\n    if (this._gripLineLength !== value) {\n      this._gripLineLength = value;\n      this.dirtyPath = true;\n    }\n  }\n  get gripLineLength() {\n    return this._gripLineLength;\n  }\n  set height(value) {\n    if (this._height !== value) {\n      this._height = value;\n      this.dirtyPath = true;\n    }\n  }\n  get height() {\n    return this._height;\n  }\n  layout(x, y) {\n    this.centerX = x;\n    this.centerY = y;\n  }\n  static align(minHandle, maxHandle, x, y, width, height, min, max) {\n    const handlePixelAlign = minHandle.strokeWidth / 2;\n    const minHandleX = minHandle.align(x + width * min) + handlePixelAlign;\n    const maxHandleX = minHandleX + minHandle.align(x + width * min, width * (max - min)) - 2 * handlePixelAlign;\n    const handleY = minHandle.align(y + height / 2) + handlePixelAlign;\n    minHandle.layout(minHandleX, handleY);\n    maxHandle.layout(maxHandleX, handleY);\n  }\n  computeBBox() {\n    const {\n      centerX,\n      centerY,\n      width,\n      height\n    } = this;\n    const x = centerX - width / 2;\n    const y = centerY - height / 2;\n    return new BBox(x, y, width, height);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return bbox.containsPoint(point.x, point.y);\n  }\n  updatePath() {\n    var _a, _b, _c;\n    const {\n      centerX,\n      centerY,\n      path,\n      strokeWidth,\n      gripLineGap,\n      gripLineLength\n    } = this;\n    const pixelRatio = (_c = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas) == null ? void 0 : _b.pixelRatio) != null ? _c : 1;\n    path.clear();\n    const halfWidth = Math.floor(this.width / 2 * pixelRatio) / pixelRatio;\n    const halfHeight = Math.floor(this.height / 2 * pixelRatio) / pixelRatio;\n    path.moveTo(centerX - halfWidth, centerY - halfHeight);\n    path.lineTo(centerX + halfWidth, centerY - halfHeight);\n    path.lineTo(centerX + halfWidth, centerY + halfHeight);\n    path.lineTo(centerX - halfWidth, centerY + halfHeight);\n    path.closePath();\n    const dx = Math.floor((gripLineGap + strokeWidth) / 2 * pixelRatio) / pixelRatio;\n    const dy = Math.floor(gripLineLength / 2 * pixelRatio) / pixelRatio;\n    path.moveTo(centerX - dx, centerY - dy);\n    path.lineTo(centerX - dx, centerY + dy);\n    path.moveTo(centerX + dx, centerY - dy);\n    path.lineTo(centerX + dx, centerY + dy);\n  }\n};\nRangeHandle.className = \"RangeHandle\";\n__decorateClass([Validate(COLOR_STRING)], RangeHandle.prototype, \"_fill\", 2);\n__decorateClass([Validate(COLOR_STRING)], RangeHandle.prototype, \"_stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], RangeHandle.prototype, \"_strokeWidth\", 2);\n__decorateClass([Validate(LINE_CAP)], RangeHandle.prototype, \"_lineCap\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], RangeHandle.prototype, \"_width\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], RangeHandle.prototype, \"_gripLineGap\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], RangeHandle.prototype, \"_gripLineLength\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], RangeHandle.prototype, \"_height\", 2);\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeMask.ts\nvar RangeMask = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.zIndex = 2;\n    this.x = 0;\n    this.y = 0;\n    this.width = 200;\n    this.height = 30;\n    this.min = 0;\n    this.max = 1;\n  }\n  layout(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.dirtyPath = true;\n  }\n  update(min, max) {\n    this.min = isNaN(min) ? this.min : min;\n    this.max = isNaN(max) ? this.max : max;\n    this.dirtyPath = true;\n  }\n  computeBBox() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    return new BBox(x, y, width, height);\n  }\n  computeVisibleRangeBBox() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      min,\n      max\n    } = this;\n    const minX = x + width * min;\n    const maxX = x + width * max;\n    return new BBox(minX, y, maxX - minX, height);\n  }\n  updatePath() {\n    const {\n      path,\n      x,\n      y,\n      width,\n      height,\n      min,\n      max,\n      strokeWidth\n    } = this;\n    const pixelAlign = strokeWidth / 2;\n    path.clear();\n    const ax = this.align(x) + pixelAlign;\n    const ay = this.align(y) + pixelAlign;\n    const axw = ax + this.align(x, width) - 2 * pixelAlign;\n    const ayh = ay + this.align(y, height) - 2 * pixelAlign;\n    path.moveTo(ax, ay);\n    path.lineTo(axw, ay);\n    path.lineTo(axw, ayh);\n    path.lineTo(ax, ayh);\n    path.closePath();\n    const minX = this.align(x + width * min) + pixelAlign;\n    const maxX = minX + this.align(x + width * min, width * (max - min)) - 2 * pixelAlign;\n    path.moveTo(minX, ay);\n    path.lineTo(minX, ayh);\n    path.lineTo(maxX, ayh);\n    path.lineTo(maxX, ay);\n    path.closePath();\n  }\n};\nRangeMask.className = \"RangeMask\";\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeSelector.ts\nvar RangeSelector = class extends Group {\n  constructor(children) {\n    super({\n      name: \"rangeSelectorGroup\",\n      layer: true,\n      zIndex: 12 /* NAVIGATOR_ZINDEX */\n    });\n    this.x = 0;\n    this.y = 0;\n    this.width = 200;\n    this.height = 30;\n    this.lOffset = 0;\n    this.rOffset = 0;\n    this.isContainerNode = true;\n    this.background = new Group({\n      name: \"navigator-background\"\n    });\n    this.background.zIndex = 1;\n    this.appendChild(this.background);\n    this.append(children);\n  }\n  layout(x, y, width, height, lOffset, rOffset) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.lOffset = lOffset;\n    this.rOffset = rOffset;\n    this.background.translationX = x;\n    this.background.translationY = y;\n  }\n  updateBackground(oldGroup, newGroup) {\n    if (oldGroup != null) {\n      this.background.removeChild(oldGroup);\n    }\n    if (newGroup != null) {\n      this.background.appendChild(newGroup);\n    }\n  }\n  computeBBox() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      lOffset,\n      rOffset\n    } = this;\n    return new BBox(x - lOffset, y, width + (lOffset + rOffset), height);\n  }\n};\n\n// packages/ag-charts-community/src/chart/navigator/navigator.ts\nvar Navigator = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.miniChart = void 0;\n    this.enabled = false;\n    this.mask = new RangeMask();\n    this.minHandle = new RangeHandle();\n    this.maxHandle = new RangeHandle();\n    this.height = 30;\n    this.margin = 10;\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.rangeSelector = new RangeSelector([this.mask, this.minHandle, this.maxHandle]);\n    this._min = 0;\n    this._max = 1;\n    this.minRange = 1e-3;\n    const region = ctx.regionManager.addRegion(\"navigator\", this.rangeSelector);\n    const dragStates = 16 /* Default */ | 1 /* Animation */ | 8 /* ZoomDrag */;\n    this.destroyFns.push(ctx.scene.attachNode(this.rangeSelector), region.addListener(\"hover\", event => this.onHover(event), dragStates), region.addListener(\"drag-start\", event => this.onDragStart(event), dragStates), region.addListener(\"drag\", event => this.onDrag(event), dragStates), region.addListener(\"drag-end\", () => this.onDragEnd(), dragStates), region.addListener(\"leave\", event => this.onLeave(event), dragStates), ctx.zoomManager.addListener(\"zoom-change\", event => this.onZoomChange(event)));\n    this.updateGroupVisibility();\n  }\n  updateBackground(oldGroup, newGroup) {\n    var _a;\n    (_a = this.rangeSelector) == null ? void 0 : _a.updateBackground(oldGroup, newGroup);\n  }\n  updateGroupVisibility() {\n    const {\n      enabled\n    } = this;\n    if (this.rangeSelector == null || enabled === this.rangeSelector.visible) return;\n    this.rangeSelector.visible = enabled;\n    if (enabled) {\n      this.updateZoom();\n    } else {\n      this.ctx.zoomManager.updateZoom(\"navigator\");\n    }\n  }\n  performLayout(_0) {\n    return __async(this, arguments, function* ({\n      shrinkRect\n    }) {\n      if (this.enabled) {\n        const navigatorTotalHeight = this.height + this.margin;\n        shrinkRect.shrink(navigatorTotalHeight, \"bottom\");\n        this.y = shrinkRect.y + shrinkRect.height + this.margin;\n      } else {\n        this.y = 0;\n      }\n      return {\n        shrinkRect\n      };\n    });\n  }\n  performCartesianLayout(opts) {\n    return __async(this, null, function* () {\n      const {\n        x,\n        width\n      } = opts.seriesRect;\n      if (this.enabled) {\n        const {\n          y,\n          height\n        } = this;\n        this.layoutNodes(x, y, width, height);\n      }\n      this.x = x;\n      this.width = width;\n    });\n  }\n  onHover(event) {\n    if (!this.enabled) return;\n    const {\n      mask,\n      minHandle,\n      maxHandle\n    } = this;\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    if (minHandle.containsPoint(offsetX, offsetY) || maxHandle.containsPoint(offsetX, offsetY)) {\n      this.ctx.cursorManager.updateCursor(\"navigator\", \"ew-resize\");\n    } else if (mask.computeVisibleRangeBBox().containsPoint(offsetX, offsetY)) {\n      this.ctx.cursorManager.updateCursor(\"navigator\", \"grab\");\n    } else {\n      this.ctx.cursorManager.updateCursor(\"navigator\");\n    }\n  }\n  onDragStart(event) {\n    if (!this.enabled) return;\n    const {\n      mask,\n      minHandle,\n      maxHandle,\n      x,\n      width,\n      _min: min\n    } = this;\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    if (minHandle.zIndex < maxHandle.zIndex) {\n      if (maxHandle.containsPoint(offsetX, offsetY)) {\n        this.dragging = \"max\";\n      } else if (minHandle.containsPoint(offsetX, offsetY)) {\n        this.dragging = \"min\";\n      }\n    } else if (minHandle.containsPoint(offsetX, offsetY)) {\n      this.dragging = \"min\";\n    } else if (maxHandle.containsPoint(offsetX, offsetY)) {\n      this.dragging = \"max\";\n    }\n    if (this.dragging == null && mask.computeVisibleRangeBBox().containsPoint(offsetX, offsetY)) {\n      this.dragging = \"pan\";\n      this.panStart = (offsetX - x) / width - min;\n    }\n    if (this.dragging != null) {\n      this.ctx.zoomManager.fireZoomPanStartEvent(\"navigator\");\n    }\n  }\n  onDrag(event) {\n    if (!this.enabled || this.dragging == null) return;\n    const {\n      dragging,\n      minRange,\n      panStart,\n      x,\n      width\n    } = this;\n    let {\n      _min: min,\n      _max: max\n    } = this;\n    const {\n      offsetX\n    } = event;\n    const ratio = (offsetX - x) / width;\n    if (dragging === \"min\") {\n      min = clamp(0, ratio, max - minRange);\n    } else if (dragging === \"max\") {\n      max = clamp(min + minRange, ratio, 1);\n    } else if (dragging === \"pan\" && panStart != null) {\n      const span = max - min;\n      min = clamp(0, ratio - panStart, 1 - span);\n      max = min + span;\n    }\n    this._min = min;\n    this._max = max;\n    this.updateZoom();\n  }\n  onDragEnd() {\n    this.dragging = void 0;\n  }\n  onLeave(_event) {\n    this.ctx.cursorManager.updateCursor(\"navigator\");\n  }\n  onZoomChange(event) {\n    const {\n      x\n    } = event;\n    if (!x) return;\n    this._min = x.min;\n    this._max = x.max;\n    this.updateNodes(x.min, x.max);\n  }\n  layoutNodes(x, y, width, height) {\n    const {\n      rangeSelector,\n      mask,\n      minHandle,\n      maxHandle,\n      _min: min,\n      _max: max\n    } = this;\n    rangeSelector.layout(x, y, width, height, minHandle.width / 2, maxHandle.width / 2);\n    mask.layout(x, y, width, height);\n    RangeHandle.align(minHandle, maxHandle, x, y, width, height, min, max);\n    if (min + (max - min) / 2 < 0.5) {\n      minHandle.zIndex = 3;\n      maxHandle.zIndex = 4;\n    } else {\n      minHandle.zIndex = 4;\n      maxHandle.zIndex = 3;\n    }\n  }\n  updateNodes(min, max) {\n    this.mask.update(min, max);\n  }\n  updateZoom() {\n    if (!this.enabled) return;\n    const {\n      _min: min,\n      _max: max\n    } = this;\n    const zoom2 = this.ctx.zoomManager.getZoom();\n    if (min == null || max == null) return;\n    const warnOnConflict = stateId => {\n      if (this.min == null && this.max == null) return;\n      Logger.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${stateId}] has modified the initial zoom state.`);\n    };\n    return this.ctx.zoomManager.updateZoom(\"navigator\", {\n      x: {\n        min,\n        max\n      },\n      y: zoom2 == null ? void 0 : zoom2.y\n    }, false, warnOnConflict);\n  }\n};\n__decorateClass([Validate(OBJECT, {\n  optional: true\n})], Navigator.prototype, \"miniChart\", 2);\n__decorateClass([Validate(BOOLEAN), ObserveChanges(target => target.updateGroupVisibility())], Navigator.prototype, \"enabled\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Navigator.prototype, \"height\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Navigator.prototype, \"margin\", 2);\n__decorateClass([ActionOnSet({\n  newValue(min) {\n    this._min = min;\n    this.updateZoom();\n  }\n}), Validate(AND(RATIO, LESS_THAN(\"max\")), {\n  optional: true\n})], Navigator.prototype, \"min\", 2);\n__decorateClass([ActionOnSet({\n  newValue(max) {\n    this._max = max;\n    this.updateZoom();\n  }\n}), Validate(AND(RATIO, GREATER_THAN(\"min\")), {\n  optional: true\n})], Navigator.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/navigator/navigatorModule.ts\nvar NavigatorModule = {\n  type: \"root\",\n  optionsKey: \"navigator\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  instanceConstructor: Navigator,\n  themeTemplate: {\n    navigator: {\n      enabled: false,\n      height: 30,\n      mask: {\n        fill: \"#999999\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        fillOpacity: 0.2\n      },\n      minHandle: {\n        fill: \"#f2f2f2\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        width: 9,\n        height: 16,\n        gripLineGap: 1,\n        gripLineLength: 8\n      },\n      maxHandle: {\n        fill: \"#f2f2f2\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        width: 9,\n        height: 16,\n        gripLineGap: 1,\n        gripLineLength: 8\n      }\n    }\n  }\n};\n\n// packages/ag-charts-community/src/module/theme.ts\nvar singleSeriesPaletteFactory = ({\n  takeColors\n}) => {\n  const {\n    fills: [fill],\n    strokes: [stroke]\n  } = takeColors(1);\n  return {\n    fill,\n    stroke\n  };\n};\nvar markerPaletteFactory = params => {\n  const {\n    fill,\n    stroke\n  } = singleSeriesPaletteFactory(params);\n  return {\n    marker: {\n      fill,\n      stroke\n    }\n  };\n};\n\n// packages/ag-charts-community/src/motion/pathMotion.ts\nfunction pathMotion(groupId, subId, animationManager, paths, fns) {\n  const {\n    addPhaseFn,\n    updatePhaseFn,\n    removePhaseFn\n  } = fns;\n  const animate = (phase, path, updateFn) => {\n    animationManager.animate({\n      id: `${groupId}_${subId}_${path.id}_${phase}`,\n      groupId,\n      from: 0,\n      to: 1,\n      ease: easeOut,\n      collapsable: false,\n      onUpdate(ratio, preInit) {\n        if (preInit && phase !== \"removed\") return;\n        path.path.clear(true);\n        updateFn(ratio, path);\n        path.checkPathDirty();\n      },\n      onStop() {\n        if (phase !== \"added\") return;\n        path.path.clear(true);\n        updateFn(1, path);\n        path.checkPathDirty();\n      },\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase]\n    });\n  };\n  for (const path of paths) {\n    if (!animationManager.isSkipped()) {\n      animate(\"removed\", path, removePhaseFn);\n      animate(\"updated\", path, updatePhaseFn);\n    }\n    animate(\"added\", path, addPhaseFn);\n  }\n}\n\n// packages/ag-charts-community/src/util/sanitize.ts\nvar element = null;\nfunction sanitizeHtml(text) {\n  if (text == null) {\n    return;\n  } else if (text === \"\") {\n    return \"\";\n  }\n  element != null ? element : element = createElement(\"div\");\n  element.textContent = String(text);\n  return element.innerHTML;\n}\n\n// packages/ag-charts-community/src/chart/series/seriesLabelUtil.ts\nfunction seriesLabelFadeInAnimation({\n  id\n}, subId, animationManager, ...labelSelections) {\n  staticFromToMotion(id, subId, animationManager, labelSelections, {\n    opacity: 0\n  }, {\n    opacity: 1\n  }, {\n    phase: \"trailing\"\n  });\n}\nfunction seriesLabelFadeOutAnimation({\n  id\n}, subId, animationManager, ...labelSelections) {\n  staticFromToMotion(id, subId, animationManager, labelSelections, {\n    opacity: 1\n  }, {\n    opacity: 0\n  }, {\n    phase: \"remove\"\n  });\n}\nfunction resetLabelFn(_node) {\n  return {\n    opacity: 1\n  };\n}\n\n// packages/ag-charts-community/src/scene/util/changeDetectableProperties.ts\nvar ChangeDetectableProperties = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this._dirty = 3 /* MAJOR */;\n  }\n  markDirty(_source, type = 1 /* TRIVIAL */) {\n    if (this._dirty < type) {\n      this._dirty = type;\n    }\n  }\n  markClean(_opts) {\n    this._dirty = 0 /* NONE */;\n  }\n  isDirty() {\n    return this._dirty > 0 /* NONE */;\n  }\n};\n\n// packages/ag-charts-community/src/scene/dropShadow.ts\nvar DropShadow = class extends ChangeDetectableProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.color = \"rgba(0, 0, 0, 0.5)\";\n    this.xOffset = 0;\n    this.yOffset = 0;\n    this.blur = 5;\n  }\n};\n__decorateClass([Validate(BOOLEAN), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], DropShadow.prototype, \"enabled\", 2);\n__decorateClass([Validate(COLOR_STRING), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], DropShadow.prototype, \"color\", 2);\n__decorateClass([Validate(NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], DropShadow.prototype, \"xOffset\", 2);\n__decorateClass([Validate(NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], DropShadow.prototype, \"yOffset\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], DropShadow.prototype, \"blur\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesMarker.ts\nvar MARKER_SHAPE = predicateWithMessage(value => isMarkerShape(value) || typeof Marker === \"function\" && Object.create(value.prototype) instanceof Marker, `a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class`);\nvar SeriesMarker = class extends ChangeDetectableProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.shape = Circle;\n    this.size = 6;\n    this.fillOpacity = 1;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n  }\n  getStyle() {\n    const {\n      size,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      strokeOpacity\n    } = this;\n    return {\n      size,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      strokeOpacity\n    };\n  }\n  getDiameter() {\n    return this.size + this.strokeWidth;\n  }\n};\n__decorateClass([Validate(BOOLEAN), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"enabled\", 2);\n__decorateClass([Validate(MARKER_SHAPE), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"shape\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"size\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n}), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n}), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n}), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"formatter\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesTooltip.ts\nvar SeriesTooltipInteraction = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], SeriesTooltipInteraction.prototype, \"enabled\", 2);\nvar SeriesTooltip = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.interaction = new SeriesTooltipInteraction();\n    this.position = new TooltipPosition();\n  }\n  toTooltipHtml(defaults, params) {\n    if (this.renderer) {\n      return toTooltipHtml(this.renderer(params), defaults);\n    }\n    return toTooltipHtml(defaults);\n  }\n};\n__decorateClass([Validate(BOOLEAN)], SeriesTooltip.prototype, \"enabled\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], SeriesTooltip.prototype, \"showArrow\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], SeriesTooltip.prototype, \"renderer\", 2);\n__decorateClass([Validate(OBJECT)], SeriesTooltip.prototype, \"interaction\", 2);\n__decorateClass([Validate(OBJECT)], SeriesTooltip.prototype, \"position\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeriesProperties.ts\nvar AreaSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.xName = void 0;\n    this.fill = \"#c16068\";\n    this.fillOpacity = 1;\n    this.stroke = \"#874349\";\n    this.strokeWidth = 2;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.shadow = new DropShadow();\n    this.marker = new SeriesMarker();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n    this.connectMissingData = false;\n  }\n};\n__decorateClass([Validate(STRING)], AreaSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], AreaSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING)], AreaSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], AreaSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], AreaSeriesProperties.prototype, \"normalizedTo\", 2);\n__decorateClass([Validate(COLOR_STRING)], AreaSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO)], AreaSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING)], AreaSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AreaSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO)], AreaSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], AreaSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AreaSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(OBJECT)], AreaSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([Validate(OBJECT)], AreaSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], AreaSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], AreaSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([Validate(BOOLEAN)], AreaSeriesProperties.prototype, \"connectMissingData\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/markerUtil.ts\nfunction markerFadeInAnimation({\n  id\n}, animationManager, status, ...markerSelections) {\n  const params = {\n    phase: status ? NODE_UPDATE_STATE_TO_PHASE_MAPPING[status] : \"trailing\"\n  };\n  staticFromToMotion(id, \"markers\", animationManager, markerSelections, {\n    opacity: 0\n  }, {\n    opacity: 1\n  }, params);\n  markerSelections.forEach(s => s.cleanup());\n}\nfunction markerScaleInAnimation({\n  id\n}, animationManager, ...markerSelections) {\n  staticFromToMotion(id, \"markers\", animationManager, markerSelections, {\n    scalingX: 0,\n    scalingY: 0\n  }, {\n    scalingX: 1,\n    scalingY: 1\n  }, {\n    phase: \"initial\"\n  });\n  markerSelections.forEach(s => s.cleanup());\n}\nfunction markerSwipeScaleInAnimation({\n  id,\n  nodeDataDependencies\n}, animationManager, ...markerSelections) {\n  const seriesWidth = nodeDataDependencies.seriesRectWidth;\n  const fromFn = (_, datum) => {\n    var _a, _b;\n    const x = (_b = (_a = datum.midPoint) == null ? void 0 : _a.x) != null ? _b : seriesWidth;\n    let delay = clamp(0, inverseEaseOut(x / seriesWidth), 1);\n    if (isNaN(delay)) {\n      delay = 0;\n    }\n    return {\n      scalingX: 0,\n      scalingY: 0,\n      delay,\n      duration: QUICK_TRANSITION,\n      phase: \"initial\"\n    };\n  };\n  const toFn = () => {\n    return {\n      scalingX: 1,\n      scalingY: 1\n    };\n  };\n  fromToMotion(id, \"markers\", animationManager, markerSelections, {\n    fromFn,\n    toFn\n  });\n}\nfunction resetMarkerFn(_node) {\n  return {\n    opacity: 1,\n    scalingX: 1,\n    scalingY: 1\n  };\n}\nfunction resetMarkerPositionFn(_node, datum) {\n  var _a, _b, _c, _d;\n  return {\n    translationX: (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : NaN,\n    translationY: (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : NaN\n  };\n}\nfunction prepareMarkerAnimation(pairMap, parentStatus) {\n  const readFirstPair = (xValue, type) => {\n    const val = pairMap[type][xValue];\n    return Array.isArray(val) ? val[0] : val;\n  };\n  const markerStatus = datum => {\n    const {\n      xValue\n    } = datum;\n    if (pairMap.moved[xValue]) {\n      return {\n        point: readFirstPair(xValue, \"moved\"),\n        status: \"updated\"\n      };\n    } else if (pairMap.removed[xValue]) {\n      return {\n        point: readFirstPair(xValue, \"removed\"),\n        status: \"removed\"\n      };\n    } else if (pairMap.added[xValue]) {\n      return {\n        point: readFirstPair(xValue, \"added\"),\n        status: \"added\"\n      };\n    }\n    return {\n      status: \"unknown\"\n    };\n  };\n  const fromFn = (marker, datum) => {\n    var _a, _b, _c, _d, _e, _f;\n    const {\n      status,\n      point\n    } = markerStatus(datum);\n    if (status === \"unknown\") return {\n      opacity: 0\n    };\n    const defaults = {\n      translationX: (_b = (_a = point == null ? void 0 : point.from) == null ? void 0 : _a.x) != null ? _b : marker.translationX,\n      translationY: (_d = (_c = point == null ? void 0 : point.from) == null ? void 0 : _c.y) != null ? _d : marker.translationY,\n      opacity: marker.opacity,\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n    };\n    if (parentStatus === \"added\") {\n      return __spreadProps(__spreadValues({}, defaults), {\n        opacity: 0,\n        translationX: (_e = point == null ? void 0 : point.to) == null ? void 0 : _e.x,\n        translationY: (_f = point == null ? void 0 : point.to) == null ? void 0 : _f.y,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"added\"]\n      });\n    }\n    if (status === \"added\") {\n      defaults.opacity = 0;\n    }\n    return defaults;\n  };\n  const toFn = (_marker, datum) => {\n    var _a, _b;\n    const {\n      status,\n      point\n    } = markerStatus(datum);\n    if (status === \"unknown\") return {\n      opacity: 0\n    };\n    const defaults = {\n      translationX: datum.point.x,\n      translationY: datum.point.y,\n      opacity: 1,\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n    };\n    if (status === \"removed\" || parentStatus === \"removed\") {\n      return __spreadProps(__spreadValues({}, defaults), {\n        translationX: (_a = point == null ? void 0 : point.to) == null ? void 0 : _a.x,\n        translationY: (_b = point == null ? void 0 : point.to) == null ? void 0 : _b.y,\n        opacity: 0,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"removed\"]\n      });\n    }\n    return defaults;\n  };\n  return {\n    fromFn,\n    toFn\n  };\n}\nfunction computeMarkerFocusBounds(series, {\n  datumIndex\n}) {\n  const nodeData = series.getNodeData();\n  if (nodeData === void 0) return void 0;\n  const datum = nodeData[datumIndex];\n  if (datum === void 0 || datum.point === void 0) return void 0;\n  const size = series.getFormattedMarkerStyle(datum).size;\n  const radius = size / 2;\n  const {\n    x,\n    y\n  } = series.contentGroup.inverseTransformPoint(datum.point.x - radius, datum.point.y - radius);\n  return new BBox(x, y, size, size);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/pathUtil.ts\nfunction minMax(nodeData) {\n  return nodeData.reduce(({\n    min,\n    max\n  }, node) => {\n    if (min == null || min.point.x > node.point.x) {\n      min = node;\n    }\n    if (max == null || max.point.x < node.point.x) {\n      max = node;\n    }\n    return {\n      min,\n      max\n    };\n  }, {});\n}\nfunction intersectionOnLine(a, b, targetX) {\n  const m = (b.y - a.y) / (b.x - a.x);\n  const y = (targetX - a.x) * m + a.y;\n  return {\n    x: targetX,\n    y\n  };\n}\nfunction backfillPathPoint(results, process, skip, processFn) {\n  let prevMarkerIdx = -1,\n    nextMarkerIdx = 0;\n  const toProcess = [];\n  while (nextMarkerIdx < results.length) {\n    if (results[nextMarkerIdx].change === process) {\n      toProcess.push(results[nextMarkerIdx]);\n      nextMarkerIdx++;\n      continue;\n    }\n    if (results[nextMarkerIdx].change === skip) {\n      nextMarkerIdx++;\n      continue;\n    }\n    if (toProcess.length > 0) {\n      processFn(toProcess, prevMarkerIdx, nextMarkerIdx);\n      toProcess.length = 0;\n    }\n    prevMarkerIdx = nextMarkerIdx;\n    nextMarkerIdx++;\n  }\n  if (toProcess.length > 0) {\n    processFn(toProcess, prevMarkerIdx, nextMarkerIdx);\n  }\n}\nfunction backfillPathPointData(result, splitMode) {\n  backfillPathPoint(result, \"out\", \"in\", (toProcess, sIdx, eIdx) => {\n    var _a, _b;\n    if (sIdx === -1 && result[eIdx]) {\n      toProcess.forEach(d => d.to = result[eIdx].from);\n    } else if (eIdx === result.length && result[sIdx]) {\n      toProcess.forEach(d => d.to = result[sIdx].from);\n    } else if (splitMode === \"intersect\" && ((_a = result[sIdx]) == null ? void 0 : _a.from) && ((_b = result[eIdx]) == null ? void 0 : _b.from)) {\n      toProcess.forEach(d => d.to = intersectionOnLine(result[sIdx].from, result[eIdx].from, d.from.x));\n    } else {\n      toProcess.forEach(d => d.to = d.from);\n    }\n  });\n  backfillPathPoint(result, \"in\", \"out\", (toProcess, sIdx, eIdx) => {\n    var _a, _b;\n    if (sIdx === -1 && result[eIdx]) {\n      toProcess.forEach(d => d.from = result[eIdx].to);\n    } else if (eIdx === result.length && result[sIdx]) {\n      toProcess.forEach(d => d.from = result[sIdx].to);\n    } else if (splitMode === \"intersect\" && ((_a = result[sIdx]) == null ? void 0 : _a.to) && ((_b = result[eIdx]) == null ? void 0 : _b.to)) {\n      toProcess.forEach(d => d.from = intersectionOnLine(result[sIdx].to, result[eIdx].to, d.to.x));\n    } else {\n      toProcess.forEach(d => d.from = d.to);\n    }\n  });\n}\nfunction calculatePoint(from, to, ratio) {\n  const x1 = isNaN(from.x) ? to.x : from.x;\n  const y1 = isNaN(from.y) ? to.y : from.y;\n  const xd = to.x - from.x;\n  const yd = to.y - from.y;\n  const xr = isNaN(xd) ? 0 : xd * ratio;\n  const yr = isNaN(yd) ? 0 : yd * ratio;\n  return {\n    x: x1 + xr,\n    y: y1 + yr\n  };\n}\nfunction renderPartialPath(pairData, ratios, path) {\n  const {\n    path: linePath\n  } = path;\n  let previousTo;\n  for (const data of pairData) {\n    const {\n      from,\n      to\n    } = data;\n    const ratio = ratios[data.change];\n    if (ratio == null || from == null || to == null) continue;\n    const {\n      x,\n      y\n    } = calculatePoint(from, to, ratio);\n    if (data.moveTo === false) {\n      linePath.lineTo(x, y);\n    } else if (data.moveTo === true || !previousTo) {\n      linePath.moveTo(x, y);\n    } else if (previousTo) {\n      const moveToRatio = data.moveTo === \"in\" ? ratio : 1 - ratio;\n      const {\n        x: midPointX,\n        y: midPointY\n      } = calculatePoint(previousTo, {\n        x,\n        y\n      }, moveToRatio);\n      linePath.lineTo(midPointX, midPointY);\n      linePath.moveTo(x, y);\n    }\n    previousTo = {\n      x,\n      y\n    };\n  }\n}\nfunction pathSwipeInAnimation({\n  id,\n  visible,\n  nodeDataDependencies\n}, animationManager, ...paths) {\n  const {\n    seriesRectWidth: width,\n    seriesRectHeight: height\n  } = nodeDataDependencies;\n  staticFromToMotion(id, \"path_properties\", animationManager, paths, {\n    clipX: 0\n  }, {\n    clipX: width\n  }, {\n    phase: \"initial\",\n    start: {\n      clipMode: \"normal\",\n      clipY: height,\n      visible\n    },\n    finish: {\n      clipMode: void 0,\n      visible\n    }\n  });\n}\nfunction pathFadeInAnimation({\n  id\n}, subId, animationManager, phase = \"add\", ...selection) {\n  staticFromToMotion(id, subId, animationManager, selection, {\n    opacity: 0\n  }, {\n    opacity: 1\n  }, {\n    phase\n  });\n}\nfunction pathFadeOutAnimation({\n  id\n}, subId, animationManager, ...selection) {\n  staticFromToMotion(id, subId, animationManager, selection, {\n    opacity: 1\n  }, {\n    opacity: 0\n  }, {\n    phase: \"remove\"\n  });\n}\nfunction buildResetPathFn(opts) {\n  return _node => {\n    return {\n      opacity: opts.getOpacity(),\n      clipScalingX: 1,\n      clipMode: void 0\n    };\n  };\n}\nfunction updateClipPath({\n  nodeDataDependencies\n}, path) {\n  const toFinite = value => isFinite(value) ? value : 0;\n  path.clipX = toFinite(nodeDataDependencies.seriesRectWidth);\n  path.clipY = toFinite(nodeDataDependencies.seriesRectHeight);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/scaling.ts\nfunction isContinuousScaling(scaling) {\n  return scaling.type === \"continuous\" || scaling.type === \"log\";\n}\nfunction isCategoryScaling(scaling) {\n  return scaling.type === \"category\";\n}\nfunction areEqual(a, b) {\n  return a.domain.length === b.domain.length && a.range.length === b.range.length && a.domain.every((val, index) => val === b.domain[index]) && a.range.every((val, index) => val === b.range[index]);\n}\nfunction areScalingEqual(a, b) {\n  if (a === void 0 || b === void 0) {\n    return a !== void 0 || b !== void 0;\n  }\n  if (isContinuousScaling(a) && isContinuousScaling(b)) {\n    return a.type === b.type && areEqual(a, b);\n  }\n  if (isCategoryScaling(a) && isCategoryScaling(b)) {\n    return areEqual(a, b);\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineUtil.ts\nfunction scale(val, scaling) {\n  if (!scaling) return NaN;\n  if (val instanceof Date) {\n    val = val.getTime();\n  }\n  if (scaling.type === \"continuous\" && typeof val === \"number\") {\n    const domainRatio = (val - scaling.domain[0]) / (scaling.domain[1] - scaling.domain[0]);\n    return domainRatio * (scaling.range[1] - scaling.range[0]) + scaling.range[0];\n  }\n  if (scaling.type === \"log\" && typeof val === \"number\") {\n    return scaling.convert(val);\n  }\n  const matchingIndex = scaling.domain.findIndex(d => d === val);\n  if (matchingIndex >= 0) {\n    return scaling.range[matchingIndex];\n  }\n  return NaN;\n}\nfunction scalesChanged(newData, oldData) {\n  return !areScalingEqual(newData.scales.x, oldData.scales.x) || !areScalingEqual(newData.scales.y, oldData.scales.y);\n}\nfunction closeMatch(a, b) {\n  const an = Number(a);\n  const bn = Number(b);\n  if (!isNaN(an) && !isNaN(bn)) {\n    return Math.abs(bn - an) < 0.25;\n  }\n  return a === b;\n}\nfunction calculateMoveTo(from = false, to = false) {\n  if (from === to) {\n    return Boolean(from);\n  }\n  return from ? \"in\" : \"out\";\n}\nfunction pairContinuousData(newData, oldData, opts = {}) {\n  var _a, _b, _c, _d;\n  const {\n    backfillSplitMode = \"intersect\"\n  } = opts;\n  const toNewScale = oldDatum => {\n    var _a2, _b2;\n    return {\n      x: scale((_a2 = oldDatum.xValue) != null ? _a2 : NaN, newData.scales.x),\n      y: scale((_b2 = oldDatum.yValue) != null ? _b2 : NaN, newData.scales.y)\n    };\n  };\n  const toOldScale = newDatum => {\n    var _a2, _b2;\n    return {\n      x: scale((_a2 = newDatum.xValue) != null ? _a2 : NaN, oldData.scales.x),\n      y: scale((_b2 = newDatum.yValue) != null ? _b2 : NaN, oldData.scales.y)\n    };\n  };\n  const result = [];\n  const resultMap = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const pairUp = (from, to, xValue, change = \"move\") => {\n    if (from && (isNaN(from.point.x) || isNaN(from.point.y))) {\n      from = to;\n    }\n    const resultPoint = {\n      from: from == null ? void 0 : from.point,\n      to: to == null ? void 0 : to.point,\n      moveTo: calculateMoveTo(from == null ? void 0 : from.point.moveTo, to == null ? void 0 : to.point.moveTo),\n      change\n    };\n    if (change === \"move\") {\n      resultMap.moved[xValue] = resultPoint;\n      oldIdx++;\n      newIdx++;\n    } else if (change === \"in\") {\n      resultMap.added[xValue] = resultPoint;\n      newIdx++;\n    } else if (change === \"out\") {\n      resultMap.removed[xValue] = resultPoint;\n      oldIdx++;\n    }\n    result.push(resultPoint);\n  };\n  const {\n    min: minFromNode,\n    max: maxFromNode\n  } = minMax(oldData.nodeData);\n  const {\n    min: minToNode,\n    max: maxToNode\n  } = minMax(newData.nodeData);\n  let oldIdx = 0;\n  let newIdx = 0;\n  while (oldIdx < oldData.nodeData.length || newIdx < newData.nodeData.length) {\n    const from = oldData.nodeData[oldIdx];\n    const to = newData.nodeData[newIdx];\n    const fromShifted = from ? toNewScale(from) : void 0;\n    const toUnshifted = to ? toOldScale(to) : void 0;\n    const NA = void 0;\n    if (fromShifted && closeMatch(fromShifted.x, to == null ? void 0 : to.point.x)) {\n      pairUp(from, to, to.xValue, \"move\");\n    } else if (fromShifted && fromShifted.x < ((_a = minToNode == null ? void 0 : minToNode.point.x) != null ? _a : -Infinity)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (fromShifted && fromShifted.x > ((_b = maxToNode == null ? void 0 : maxToNode.point.x) != null ? _b : Infinity)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (toUnshifted && toUnshifted.x < ((_c = minFromNode == null ? void 0 : minFromNode.point.x) != null ? _c : -Infinity)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (toUnshifted && toUnshifted.x > ((_d = maxFromNode == null ? void 0 : maxFromNode.point.x) != null ? _d : Infinity)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (fromShifted && fromShifted.x < (to == null ? void 0 : to.point.x)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (toUnshifted && toUnshifted.x < (from == null ? void 0 : from.point.x)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (from) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (to) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else {\n      throw new Error(\"Unable to process points\");\n    }\n  }\n  backfillPathPointData(result, backfillSplitMode);\n  return {\n    result,\n    resultMap\n  };\n}\nfunction pairCategoryData(newData, oldData, diff2, opts = {}) {\n  var _a, _b, _c;\n  const {\n    backfillSplitMode = \"intersect\",\n    multiDatum = false\n  } = opts;\n  const result = [];\n  const resultMapSingle = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const resultMapMulti = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const pointResultMapping = {\n    in: \"added\",\n    move: \"moved\",\n    out: \"removed\"\n  };\n  let previousResultPoint = void 0;\n  let previousXValue = void 0;\n  const addToResultMap = (xValue, newPoint) => {\n    var _a2, _b2;\n    const type = pointResultMapping[newPoint.change];\n    if (multiDatum) {\n      (_b2 = (_a2 = resultMapMulti[type])[xValue]) != null ? _b2 : _a2[xValue] = [];\n      resultMapMulti[type][xValue].push(newPoint);\n    } else {\n      resultMapSingle[type][xValue] = newPoint;\n    }\n    previousResultPoint = newPoint;\n    previousXValue = transformIntegratedCategoryValue(xValue);\n  };\n  let oldIndex = 0;\n  let newIndex = 0;\n  let isXUnordered = false;\n  while (oldIndex < oldData.nodeData.length || newIndex < newData.nodeData.length) {\n    const before = oldData.nodeData[oldIndex];\n    const after = newData.nodeData[newIndex];\n    const bXValue = transformIntegratedCategoryValue(before == null ? void 0 : before.xValue);\n    const aXValue = transformIntegratedCategoryValue(after == null ? void 0 : after.xValue);\n    let resultPoint;\n    if (bXValue === aXValue) {\n      resultPoint = {\n        change: \"move\",\n        moveTo: calculateMoveTo((_a = before.point.moveTo) != null ? _a : false, after.point.moveTo),\n        from: before.point,\n        to: after.point\n      };\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n      newIndex++;\n    } else if (diff2 == null ? void 0 : diff2.removed.has(String(bXValue))) {\n      resultPoint = {\n        change: \"out\",\n        moveTo: (_b = before.point.moveTo) != null ? _b : false,\n        from: before.point\n      };\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n    } else if (diff2 == null ? void 0 : diff2.added.has(String(aXValue))) {\n      resultPoint = {\n        change: \"in\",\n        moveTo: (_c = after.point.moveTo) != null ? _c : false,\n        to: after.point\n      };\n      addToResultMap(after == null ? void 0 : after.xValue, resultPoint);\n      newIndex++;\n    } else if (multiDatum && previousResultPoint && previousXValue === bXValue) {\n      resultPoint = __spreadValues({}, previousResultPoint);\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n    } else if (multiDatum && previousResultPoint && previousXValue === aXValue) {\n      resultPoint = __spreadValues({}, previousResultPoint);\n      addToResultMap(after == null ? void 0 : after.xValue, resultPoint);\n      newIndex++;\n    } else {\n      isXUnordered = true;\n      break;\n    }\n    result.push(resultPoint);\n  }\n  let previousX = -Infinity;\n  isXUnordered || (isXUnordered = result.some(pathPoint => {\n    const {\n      change: marker,\n      to: {\n        x = -Infinity\n      } = {}\n    } = pathPoint;\n    if (marker === \"out\") return;\n    const unordered = x < previousX;\n    previousX = x;\n    return unordered;\n  }));\n  if (isXUnordered) {\n    return {\n      result: void 0,\n      resultMap: void 0\n    };\n  }\n  backfillPathPointData(result, backfillSplitMode);\n  return {\n    result,\n    resultMap: multiDatum ? resultMapMulti : resultMapSingle\n  };\n}\nfunction determinePathStatus(newData, oldData, pairData) {\n  var _a, _b, _c, _d;\n  let status = \"updated\";\n  const visible = data => {\n    return data.visible;\n  };\n  if (!visible(oldData) && visible(newData)) {\n    status = \"added\";\n  } else if (visible(oldData) && !visible(newData)) {\n    status = \"removed\";\n  } else {\n    for (let i = 0; i < pairData.length; i++) {\n      if (pairData[i].change !== \"move\") break;\n      if (((_a = pairData[i].from) == null ? void 0 : _a.x) !== ((_b = pairData[i].to) == null ? void 0 : _b.x)) break;\n      if (((_c = pairData[i].from) == null ? void 0 : _c.y) !== ((_d = pairData[i].to) == null ? void 0 : _d.y)) break;\n      if (i === pairData.length - 1) return \"no-op\";\n    }\n  }\n  return status;\n}\nfunction prepareLinePathPropertyAnimation(status, visibleToggleMode) {\n  const phase = visibleToggleMode === \"none\" ? \"updated\" : status;\n  const result = {\n    fromFn: _path => {\n      let mixin;\n      if (status === \"removed\") {\n        mixin = {\n          finish: {\n            visible: false\n          }\n        };\n      } else if (status === \"added\") {\n        mixin = {\n          start: {\n            visible: true\n          }\n        };\n      } else {\n        mixin = {};\n      }\n      return __spreadValues({\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase]\n      }, mixin);\n    },\n    toFn: _path => {\n      return {\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase]\n      };\n    }\n  };\n  if (visibleToggleMode === \"fade\") {\n    return {\n      fromFn: path => {\n        const opacity = status === \"added\" ? 0 : path.opacity;\n        return __spreadValues({\n          opacity\n        }, result.fromFn(path));\n      },\n      toFn: path => {\n        const opacity = status === \"removed\" ? 0 : 1;\n        return __spreadValues({\n          opacity\n        }, result.toFn(path));\n      }\n    };\n  }\n  return result;\n}\nfunction prepareLinePathAnimationFns(newData, oldData, pairData, visibleToggleMode, render) {\n  const status = determinePathStatus(newData, oldData, pairData);\n  const removePhaseFn = (ratio, path) => {\n    render(pairData, {\n      move: 0,\n      out: ratio\n    }, path);\n  };\n  const updatePhaseFn = (ratio, path) => {\n    render(pairData, {\n      move: ratio\n    }, path);\n  };\n  const addPhaseFn = (ratio, path) => {\n    render(pairData, {\n      move: 1,\n      in: ratio\n    }, path);\n  };\n  const pathProperties = prepareLinePathPropertyAnimation(status, visibleToggleMode);\n  return {\n    status,\n    path: {\n      addPhaseFn,\n      updatePhaseFn,\n      removePhaseFn\n    },\n    pathProperties\n  };\n}\nfunction prepareLinePathAnimation(newData, oldData, diff2) {\n  var _a, _b, _c;\n  const isCategoryBased = ((_a = newData.scales.x) == null ? void 0 : _a.type) === \"category\";\n  const wasCategoryBased = ((_b = oldData.scales.x) == null ? void 0 : _b.type) === \"category\";\n  if (isCategoryBased !== wasCategoryBased) {\n    return;\n  }\n  const {\n    result: pairData,\n    resultMap: pairMap\n  } = isCategoryBased ? pairCategoryData(newData, oldData, diff2) : pairContinuousData(newData, oldData);\n  let status = \"updated\";\n  if (oldData.visible && !newData.visible) {\n    status = \"removed\";\n  } else if (!oldData.visible && newData.visible) {\n    status = \"added\";\n  }\n  if (pairData === void 0 || pairMap === void 0) {\n    return;\n  }\n  const hasMotion = ((_c = diff2 == null ? void 0 : diff2.changed) != null ? _c : true) || scalesChanged(newData, oldData) || status !== \"updated\";\n  const pathFns = prepareLinePathAnimationFns(newData, oldData, pairData, \"fade\", renderPartialPath);\n  const marker = prepareMarkerAnimation(pairMap, status);\n  return __spreadProps(__spreadValues({}, pathFns), {\n    marker,\n    hasMotion\n  });\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaUtil.ts\nvar AreaSeriesTag = /* @__PURE__ */(AreaSeriesTag2 => {\n  AreaSeriesTag2[AreaSeriesTag2[\"Fill\"] = 0] = \"Fill\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Stroke\"] = 1] = \"Stroke\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Marker\"] = 2] = \"Marker\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Label\"] = 3] = \"Label\";\n  return AreaSeriesTag2;\n})(AreaSeriesTag || {});\nfunction splitFillPoints(context) {\n  const {\n    points,\n    phantomPoints\n  } = context.fillData;\n  return {\n    top: points,\n    bottom: phantomPoints\n  };\n}\nfunction prepPoints(key, ctx, points) {\n  return {\n    scales: ctx.scales,\n    nodeData: points[key],\n    visible: ctx.visible\n  };\n}\nfunction pairFillCategoryData(newData, oldData, diff2) {\n  const oldPoints = splitFillPoints(oldData);\n  const newPoints = splitFillPoints(newData);\n  const pairOpts = {\n    multiDatum: true\n  };\n  return {\n    top: pairCategoryData(prepPoints(\"top\", newData, newPoints), prepPoints(\"top\", oldData, oldPoints), diff2, pairOpts),\n    bottom: pairCategoryData(prepPoints(\"bottom\", newData, newPoints), prepPoints(\"bottom\", oldData, oldPoints), diff2, pairOpts)\n  };\n}\nfunction pairFillContinuousData(newData, oldData) {\n  const oldPoints = splitFillPoints(oldData);\n  const newPoints = splitFillPoints(newData);\n  return {\n    top: pairContinuousData(prepPoints(\"top\", newData, newPoints), prepPoints(\"top\", oldData, oldPoints)),\n    bottom: pairContinuousData(prepPoints(\"bottom\", newData, newPoints), prepPoints(\"bottom\", oldData, oldPoints))\n  };\n}\nfunction prepareAreaPathAnimation(newData, oldData, diff2) {\n  var _a, _b;\n  const isCategoryBased = ((_a = newData.scales.x) == null ? void 0 : _a.type) === \"category\";\n  const wasCategoryBased = ((_b = oldData.scales.x) == null ? void 0 : _b.type) === \"category\";\n  if (isCategoryBased !== wasCategoryBased) {\n    return;\n  }\n  let status = \"updated\";\n  if (oldData.visible && !newData.visible) {\n    status = \"removed\";\n  } else if (!oldData.visible && newData.visible) {\n    status = \"added\";\n  }\n  const prepareMarkerPairs = () => {\n    if (isCategoryBased) {\n      return pairCategoryData(newData, oldData, diff2, {\n        backfillSplitMode: \"static\",\n        multiDatum: true\n      });\n    }\n    return pairContinuousData(newData, oldData, {\n      backfillSplitMode: \"static\"\n    });\n  };\n  const prepareFillPairs = () => {\n    if (isCategoryBased) {\n      return pairFillCategoryData(newData, oldData, diff2);\n    }\n    return pairFillContinuousData(newData, oldData);\n  };\n  const {\n    resultMap: markerPairMap\n  } = prepareMarkerPairs();\n  const {\n    top,\n    bottom\n  } = prepareFillPairs();\n  if (markerPairMap === void 0 || top.result === void 0 || bottom.result === void 0) {\n    return;\n  }\n  const pairData = [...top.result, ...bottom.result.reverse()];\n  const stackVisible = oldData.stackVisible ? newData.stackVisible : false;\n  const fadeMode = stackVisible ? \"none\" : \"fade\";\n  const fill = prepareLinePathAnimationFns(newData, oldData, pairData, fadeMode, renderPartialPath);\n  const marker = prepareMarkerAnimation(markerPairMap, status);\n  return {\n    status: fill.status,\n    fill,\n    marker\n  };\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeries.ts\nvar AreaSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pathsPerSeries: 2,\n      pathsZIndexSubOrderOffset: [0, 1e3],\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      pickModes: [1 /* NEAREST_BY_MAIN_AXIS_FIRST */, 0 /* EXACT_SHAPE_MATCH */],\n      animationResetFns: {\n        path: buildResetPathFn({\n          getOpacity: () => this.getOpacity()\n        }),\n        label: resetLabelFn,\n        marker: (node, datum) => __spreadValues(__spreadValues({}, resetMarkerFn(node)), resetMarkerPositionFn(node, datum))\n      }\n    });\n    this.properties = new AreaSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      const {\n        data,\n        visible,\n        seriesGrouping: {\n          groupIndex = this.id,\n          stackCount = 1\n        } = {}\n      } = this;\n      const {\n        xKey,\n        yKey,\n        connectMissingData,\n        normalizedTo\n      } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const {\n        isContinuousX,\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const ids = [`area-stack-${groupIndex}-yValues`, `area-stack-${groupIndex}-yValues-trailing`, `area-stack-${groupIndex}-yValues-prev`, `area-stack-${groupIndex}-yValues-trailing-prev`, `area-stack-${groupIndex}-yValues-marker`];\n      const extraProps = [];\n      if (isDefined(normalizedTo)) {\n        extraProps.push(normaliseGroupTo([ids[0], ids[1], ids[4]], normalizedTo, \"range\"));\n        extraProps.push(normaliseGroupTo([ids[2], ids[3]], normalizedTo, \"range\"));\n      }\n      if (!isContinuousX && animationEnabled && this.processedData) {\n        extraProps.push(diff(this.processedData));\n      }\n      if (animationEnabled) {\n        extraProps.push(animationValidation());\n      }\n      const common = {\n        invalidValue: null\n      };\n      if (connectMissingData && stackCount > 1) {\n        common.invalidValue = 0;\n      }\n      if (!visible) {\n        common.forceValue = 0;\n      }\n      yield this.requestDataModel(dataController, data, {\n        props: [keyProperty(xKey, xScaleType, {\n          id: \"xValue\"\n        }), valueProperty(yKey, yScaleType, __spreadValues({\n          id: `yValueRaw`\n        }, common)), ...groupAccumulativeValueProperty(yKey, \"window\", \"current\", __spreadProps(__spreadValues({\n          id: `yValueEnd`\n        }, common), {\n          groupId: ids[0]\n        }), yScaleType), ...groupAccumulativeValueProperty(yKey, \"window-trailing\", \"current\", __spreadProps(__spreadValues({\n          id: `yValueStart`\n        }, common), {\n          groupId: ids[1]\n        }), yScaleType), ...groupAccumulativeValueProperty(yKey, \"window\", \"last\", __spreadProps(__spreadValues({\n          id: `yValuePreviousEnd`\n        }, common), {\n          groupId: ids[2]\n        }), yScaleType), ...groupAccumulativeValueProperty(yKey, \"window-trailing\", \"last\", __spreadProps(__spreadValues({\n          id: `yValuePreviousStart`\n        }, common), {\n          groupId: ids[3]\n        }), yScaleType), ...groupAccumulativeValueProperty(yKey, \"normal\", \"current\", __spreadProps(__spreadValues({\n          id: `yValueCumulative`\n        }, common), {\n          groupId: ids[4]\n        }), yScaleType), ...extraProps],\n        groupByKeys: true,\n        groupByData: false\n      });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const {\n      processedData,\n      dataModel,\n      axes\n    } = this;\n    if (!processedData || !dataModel || processedData.data.length === 0) return [];\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const keyDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    const keys = dataModel.getDomain(this, `xValue`, \"key\", processedData);\n    const yExtent = dataModel.getDomain(this, `yValueEnd`, \"value\", processedData);\n    if (direction === \"x\" /* X */) {\n      if ((keyDef == null ? void 0 : keyDef.def.type) === \"key\" && keyDef.def.valueType === \"category\") {\n        return keys;\n      }\n      return fixNumericExtent(extent(keys), xAxis);\n    } else if (yAxis instanceof LogAxis || yAxis instanceof TimeAxis) {\n      return fixNumericExtent(yExtent, yAxis);\n    } else {\n      const fixedYExtent = [yExtent[0] > 0 ? 0 : yExtent[0], yExtent[1] < 0 ? 0 : yExtent[1]];\n      return fixNumericExtent(fixedYExtent, yAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        axes,\n        data,\n        processedData: {\n          data: groupedData\n        } = {},\n        dataModel\n      } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!xAxis || !yAxis || !data || !dataModel || !this.properties.isValid()) {\n        return;\n      }\n      const {\n        yKey,\n        xKey,\n        marker,\n        label,\n        fill: seriesFill,\n        stroke: seriesStroke,\n        connectMissingData\n      } = this.properties;\n      const {\n        scale: xScale\n      } = xAxis;\n      const {\n        scale: yScale\n      } = yAxis;\n      const {\n        isContinuousY\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const defs = dataModel.resolveProcessedDataDefsByIds(this, [`yValueStart`, `yValueEnd`, `yValueRaw`, `yValuePreviousStart`, `yValuePreviousEnd`, `yValueCumulative`]);\n      const createMovePoint = plainPoint => __spreadProps(__spreadValues({}, plainPoint), {\n        point: __spreadProps(__spreadValues({}, plainPoint.point), {\n          moveTo: true\n        })\n      });\n      const createPathCoordinates = (xValue, lastYEnd, yEnd) => {\n        const x = xScale.convert(xValue) + xOffset;\n        const prevYCoordinate = yScale.convert(lastYEnd);\n        const currYCoordinate = yScale.convert(yEnd);\n        return [{\n          point: {\n            x,\n            y: currYCoordinate\n          },\n          yValue: yEnd,\n          xValue\n        }, {\n          point: {\n            x,\n            y: prevYCoordinate\n          },\n          yValue: lastYEnd,\n          xValue\n        }];\n      };\n      const createMarkerCoordinate = (xDatum, yEnd, rawYDatum) => {\n        let currY;\n        if (isDefined(this.properties.normalizedTo) ? isContinuousY && isContinuous(rawYDatum) : !isNaN(rawYDatum)) {\n          currY = yEnd;\n        }\n        return {\n          x: xScale.convert(xDatum) + xOffset,\n          y: yScale.convert(currY),\n          size: marker.size\n        };\n      };\n      const itemId = yKey;\n      const labelData = [];\n      const markerData = [];\n      const {\n        visibleSameStackCount\n      } = this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);\n      const context = {\n        itemId,\n        fillData: {\n          itemId,\n          points: [],\n          phantomPoints: []\n        },\n        strokeData: {\n          itemId,\n          points: []\n        },\n        labelData,\n        nodeData: markerData,\n        scales: this.calculateScaling(),\n        visible: this.visible,\n        stackVisible: visibleSameStackCount > 0\n      };\n      const fillPoints = context.fillData.points;\n      const fillPhantomPoints = context.fillData.phantomPoints;\n      const strokePoints = context.strokeData.points;\n      let datumIdx = -1;\n      let lastXDatum;\n      let lastYDatum = -Infinity;\n      groupedData == null ? void 0 : groupedData.forEach(datumGroup => {\n        const {\n          keys,\n          keys: [xDatum],\n          datum: datumArray,\n          values: valuesArray\n        } = datumGroup;\n        valuesArray.forEach((values, valueIdx) => {\n          var _a2, _b, _c;\n          datumIdx++;\n          const seriesDatum = datumArray[valueIdx];\n          const dataValues = dataModel.resolveProcessedDataDefsValues(defs, {\n            keys,\n            values\n          });\n          const {\n            yValueRaw: yDatum,\n            yValueCumulative\n          } = dataValues;\n          let {\n            yValueStart,\n            yValueEnd,\n            yValuePreviousStart,\n            yValuePreviousEnd\n          } = dataValues;\n          const validPoint = yDatum != null;\n          const point = createMarkerCoordinate(xDatum, +yValueCumulative, yDatum);\n          if (validPoint && marker) {\n            markerData.push({\n              index: datumIdx,\n              series: this,\n              itemId,\n              datum: seriesDatum,\n              midPoint: {\n                x: point.x,\n                y: point.y\n              },\n              cumulativeValue: yValueEnd,\n              yValue: yDatum,\n              xValue: xDatum,\n              yKey,\n              xKey,\n              point,\n              fill: (_a2 = marker.fill) != null ? _a2 : seriesFill,\n              stroke: (_b = marker.stroke) != null ? _b : seriesStroke,\n              strokeWidth: (_c = marker.strokeWidth) != null ? _c : this.getStrokeWidth(this.properties.strokeWidth)\n            });\n          }\n          if (validPoint && label) {\n            const labelText = this.getLabelText(label, {\n              value: yDatum,\n              datum: seriesDatum,\n              xKey,\n              yKey,\n              xName: this.properties.xName,\n              yName: this.properties.yName\n            }, value => isFiniteNumber(value) ? value.toFixed(2) : String(value));\n            labelData.push({\n              index: datumIdx,\n              series: this,\n              itemId: yKey,\n              datum: seriesDatum,\n              x: point.x,\n              y: point.y,\n              label: labelText ? {\n                text: labelText,\n                fontStyle: label.fontStyle,\n                fontWeight: label.fontWeight,\n                fontSize: label.fontSize,\n                fontFamily: label.fontFamily,\n                textAlign: \"center\",\n                textBaseline: \"bottom\",\n                fill: label.color\n              } : void 0\n            });\n          }\n          const xValid = lastXDatum != null && xDatum != null;\n          const yValid = lastYDatum != null && validPoint;\n          if (!yValid) {\n            yValueStart = yValueStart != null ? yValueStart : 0;\n            yValueEnd = yValueStart != null ? yValueStart : 0;\n            yValuePreviousStart = yValuePreviousStart != null ? yValuePreviousStart : 0;\n            yValuePreviousEnd = yValuePreviousStart != null ? yValuePreviousStart : 0;\n          }\n          const [prevTop, prevBottom] = createPathCoordinates(lastXDatum, yValuePreviousStart, yValuePreviousEnd);\n          const [top, bottom] = createPathCoordinates(xDatum, yValueStart, yValueEnd);\n          if (xValid && (!connectMissingData || yValid)) {\n            fillPoints.push(prevTop, top);\n            fillPhantomPoints.push(prevBottom, bottom);\n          }\n          if (yValid && datumIdx > 0) {\n            strokePoints.push(createMovePoint(prevTop), top);\n          }\n          lastXDatum = xDatum;\n          lastYDatum = yDatum;\n        });\n      });\n      if (strokePoints.length > 0) {\n        strokePoints[0] = createMovePoint(strokePoints[0]);\n      }\n      return context;\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  markerFactory() {\n    const {\n      shape\n    } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        opacity,\n        visible,\n        animationEnabled\n      } = opts;\n      const [fill, stroke] = opts.paths;\n      const strokeWidth = this.getStrokeWidth(this.properties.strokeWidth);\n      stroke.setProperties({\n        tag: 1 /* Stroke */,\n        fill: void 0,\n        lineJoin: stroke.lineCap = \"round\",\n        pointerEvents: 1 /* None */,\n        stroke: this.properties.stroke,\n        strokeWidth,\n        strokeOpacity: this.properties.strokeOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset,\n        opacity,\n        visible\n      });\n      fill.setProperties({\n        tag: 0 /* Fill */,\n        stroke: void 0,\n        lineJoin: \"round\",\n        pointerEvents: 1 /* None */,\n        fill: this.properties.fill,\n        fillOpacity: this.properties.fillOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset,\n        strokeOpacity: this.properties.strokeOpacity,\n        fillShadow: this.properties.shadow,\n        opacity,\n        visible: visible || animationEnabled,\n        strokeWidth\n      });\n      updateClipPath(this, stroke);\n      updateClipPath(this, fill);\n    });\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      this.updateAreaPaths(opts.paths, opts.contextData);\n    });\n  }\n  updateAreaPaths(paths, contextData) {\n    this.updateFillPath(paths, contextData);\n    this.updateStrokePath(paths, contextData);\n  }\n  updateFillPath(paths, contextData) {\n    const {\n      fillData\n    } = contextData;\n    const [fill] = paths;\n    const {\n      path: fillPath\n    } = fill;\n    fillPath.clear(true);\n    let lastPoint;\n    for (const {\n      point\n    } of iterate(fillData.points, iterateReverseArray(fillData.phantomPoints))) {\n      if (point.moveTo) {\n        fillPath.moveTo(point.x, point.y);\n      } else if ((lastPoint == null ? void 0 : lastPoint.y) !== point.y) {\n        if (lastPoint) {\n          fillPath.lineTo(lastPoint.x, lastPoint.y);\n        }\n        fillPath.lineTo(point.x, point.y);\n      }\n      lastPoint = point;\n    }\n    if (lastPoint) {\n      fillPath.lineTo(lastPoint.x, lastPoint.y);\n    }\n    fillPath.closePath();\n    fill.checkPathDirty();\n  }\n  updateStrokePath(paths, contextData) {\n    const {\n      strokeData\n    } = contextData;\n    const [, stroke] = paths;\n    const {\n      path: strokePath\n    } = stroke;\n    strokePath.clear(true);\n    for (const {\n      point\n    } of strokeData.points) {\n      if (point.moveTo) {\n        strokePath.moveTo(point.x, point.y);\n      } else {\n        strokePath.lineTo(point.x, point.y);\n      }\n    }\n    stroke.checkPathDirty();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        nodeData,\n        markerSelection\n      } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(this.properties.marker.enabled ? nodeData : []);\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        markerSelection,\n        isHighlight: highlighted\n      } = opts;\n      const {\n        xKey,\n        yKey,\n        marker,\n        fill,\n        stroke,\n        strokeWidth,\n        fillOpacity,\n        strokeOpacity,\n        highlightStyle\n      } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle(), {\n        fill,\n        stroke,\n        strokeWidth,\n        fillOpacity,\n        strokeOpacity\n      });\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, {\n          datum,\n          highlighted,\n          xKey,\n          yKey\n        }, baseStyle);\n      });\n      if (!highlighted) {\n        this.properties.marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        labelData,\n        labelSelection\n      } = opts;\n      return labelSelection.update(labelData, text => {\n        text.tag = 3 /* Label */;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        labelSelection\n      } = opts;\n      const {\n        enabled: labelEnabled,\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily,\n        color\n      } = this.properties.label;\n      labelSelection.each((text, datum) => {\n        const {\n          x,\n          y,\n          label\n        } = datum;\n        if (label && labelEnabled && this.visible) {\n          text.fontStyle = fontStyle;\n          text.fontWeight = fontWeight;\n          text.fontSize = fontSize;\n          text.fontFamily = fontFamily;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n          text.text = label.text;\n          text.x = x;\n          text.y = y - 10;\n          text.fill = color;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    const {\n      id: seriesId,\n      axes,\n      dataModel\n    } = this;\n    const {\n      xKey,\n      xName,\n      yName,\n      tooltip,\n      marker\n    } = this.properties;\n    const {\n      yKey,\n      xValue,\n      yValue,\n      datum,\n      itemId\n    } = nodeDatum;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !(xAxis && yAxis && isFiniteNumber(yValue)) || !dataModel) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml(yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    const baseStyle = mergeDefaults({\n      fill: this.properties.fill\n    }, marker.getStyle(), {\n      stroke: this.properties.stroke,\n      strokeWidth: this.properties.strokeWidth\n    });\n    const {\n      fill: color\n    } = this.getMarkerStyle(marker, {\n      datum: nodeDatum,\n      xKey,\n      yKey,\n      highlighted: false\n    }, baseStyle);\n    return tooltip.toTooltipHtml({\n      title,\n      content,\n      backgroundColor: color\n    }, {\n      datum,\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      color,\n      title,\n      seriesId\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    const {\n      yKey,\n      yName,\n      fill,\n      stroke,\n      fillOpacity,\n      strokeOpacity,\n      strokeWidth,\n      lineDash,\n      marker,\n      visible\n    } = this.properties;\n    const useAreaFill = !marker.enabled || marker.fill === void 0;\n    return [{\n      legendType,\n      id: this.id,\n      itemId: yKey,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: yName != null ? yName : yKey\n      },\n      marker: {\n        shape: marker.shape,\n        fill: useAreaFill ? fill : marker.fill,\n        fillOpacity: useAreaFill ? fillOpacity : marker.fillOpacity,\n        stroke: (_b = marker.stroke) != null ? _b : stroke,\n        strokeOpacity: (_c = marker.strokeOpacity) != null ? _c : strokeOpacity,\n        strokeWidth: (_d = marker.strokeWidth) != null ? _d : 0,\n        enabled: marker.enabled || strokeWidth <= 0\n      },\n      line: {\n        stroke,\n        strokeOpacity,\n        strokeWidth,\n        lineDash\n      }\n    }];\n  }\n  animateEmptyUpdateReady(animationData) {\n    const {\n      markerSelection,\n      labelSelection,\n      contextData,\n      paths\n    } = animationData;\n    const {\n      animationManager\n    } = this.ctx;\n    this.updateAreaPaths(paths, contextData);\n    pathSwipeInAnimation(this, animationManager, ...paths);\n    resetMotion([markerSelection], resetMarkerPositionFn);\n    markerSwipeScaleInAnimation(this, animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n  }\n  animateReadyResize(animationData) {\n    const {\n      contextData,\n      paths\n    } = animationData;\n    this.updateAreaPaths(paths, contextData);\n    super.animateReadyResize(animationData);\n  }\n  animateWaitingUpdateReady(animationData) {\n    var _a, _b;\n    const {\n      animationManager\n    } = this.ctx;\n    const {\n      markerSelection,\n      labelSelection,\n      contextData,\n      paths,\n      previousContextData\n    } = animationData;\n    const [fill, stroke] = paths;\n    if (fill == null && stroke == null) return;\n    super.resetAllAnimation(animationData);\n    const update = () => {\n      this.updateAreaPaths(paths, contextData);\n      this.updateStrokePath(paths, contextData);\n    };\n    const skip = () => {\n      animationManager.skipCurrentBatch();\n      update();\n    };\n    if (contextData == null || previousContextData == null) {\n      update();\n      markerFadeInAnimation(this, animationManager, \"added\", markerSelection);\n      pathFadeInAnimation(this, \"fill_path_properties\", animationManager, \"add\", fill);\n      pathFadeInAnimation(this, \"stroke\", animationManager, \"trailing\", stroke);\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n      return;\n    }\n    const fns = prepareAreaPathAnimation(contextData, previousContextData, (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff);\n    if (fns === void 0) {\n      skip();\n      return;\n    } else if (fns.status === \"no-op\") {\n      return;\n    }\n    markerFadeInAnimation(this, animationManager, void 0, markerSelection);\n    fromToMotion(this.id, \"fill_path_properties\", animationManager, [fill], fns.fill.pathProperties);\n    pathMotion(this.id, \"fill_path_update\", animationManager, [fill], fns.fill.path);\n    this.updateStrokePath(paths, contextData);\n    pathFadeInAnimation(this, \"stroke\", animationManager, \"trailing\", stroke);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const {\n      xKey,\n      yKey\n    } = datum;\n    return this.getMarkerStyle(this.properties.marker, {\n      datum,\n      xKey,\n      yKey,\n      highlighted: true\n    });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nAreaSeries.className = \"AreaSeries\";\nAreaSeries.type = \"area\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeriesModule.ts\nvar AreaSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"area\",\n  instanceConstructor: AreaSeries,\n  stackable: true,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }, {\n    type: \"category\" /* CATEGORY */,\n    position: \"bottom\" /* BOTTOM */\n  }],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      nodeClickRange: \"nearest\",\n      tooltip: {\n        position: {\n          type: \"node\"\n        }\n      },\n      fillOpacity: 0.8,\n      strokeOpacity: 1,\n      strokeWidth: 0,\n      lineDash: [0],\n      lineDashOffset: 0,\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        enabled: false,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 0\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  paletteFactory: params => {\n    const {\n      marker\n    } = markerPaletteFactory(params);\n    return {\n      fill: marker.fill,\n      stroke: marker.stroke,\n      marker\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/quadtreeUtil.ts\nfunction* childrenIter(parent) {\n  for (const node of parent.children) {\n    yield node;\n  }\n}\nfunction addHitTestersToQuadtree(quadtree, hitTesters) {\n  for (const node of hitTesters) {\n    const datum = node.datum;\n    if (datum === void 0) {\n      Logger.error(\"undefined datum\");\n    } else {\n      quadtree.addValue(node, datum);\n    }\n  }\n}\nfunction findQuadtreeMatch(series, point) {\n  const {\n    x,\n    y\n  } = series.contentGroup.transformPoint(point.x, point.y);\n  const {\n    nearest,\n    distanceSquared: distanceSquared2\n  } = series.getQuadTree().find(x, y);\n  if (nearest !== void 0) {\n    return {\n      datum: nearest.value,\n      distance: Math.sqrt(distanceSquared2)\n    };\n  }\n  return void 0;\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/abstractBarSeries.ts\nvar AbstractBarSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.direction = \"vertical\";\n  }\n};\n__decorateClass([Validate(DIRECTION)], AbstractBarSeriesProperties.prototype, \"direction\", 2);\nvar AbstractBarSeries = class extends CartesianSeries {\n  constructor() {\n    super(...arguments);\n    /**\n     * Used to get the position of bars within each group.\n     */\n    this.groupScale = new BandScale();\n    this.smallestDataInterval = void 0;\n  }\n  getBandScalePadding() {\n    return {\n      inner: 0.2,\n      outer: 0.1\n    };\n  }\n  shouldFlipXY() {\n    return !this.isVertical();\n  }\n  isVertical() {\n    return this.properties.direction === \"vertical\";\n  }\n  getBarDirection() {\n    return this.shouldFlipXY() ? \"x\" /* X */ : \"y\" /* Y */;\n  }\n  getCategoryDirection() {\n    return this.shouldFlipXY() ? \"y\" /* Y */ : \"x\" /* X */;\n  }\n  getValueAxis() {\n    const direction = this.getBarDirection();\n    return this.axes[direction];\n  }\n  getCategoryAxis() {\n    const direction = this.getCategoryDirection();\n    return this.axes[direction];\n  }\n  updateGroupScale(xAxis) {\n    const {\n      groupScale,\n      smallestDataInterval,\n      ctx: {\n        seriesStateManager\n      }\n    } = this;\n    const xScale = xAxis.scale;\n    const xBandWidth = ContinuousScale.is(xScale) ? xScale.calcBandwidth(smallestDataInterval) : xScale.bandwidth;\n    const domain = [];\n    const {\n      index: groupIndex,\n      visibleGroupCount\n    } = seriesStateManager.getVisiblePeerGroupIndex(this);\n    for (let groupIdx = 0; groupIdx < visibleGroupCount; groupIdx++) {\n      domain.push(String(groupIdx));\n    }\n    groupScale.domain = domain;\n    groupScale.range = [0, xBandWidth != null ? xBandWidth : 0];\n    if (xAxis instanceof CategoryAxis) {\n      groupScale.paddingInner = xAxis.groupPaddingInner;\n    } else if (xAxis instanceof GroupedCategoryAxis) {\n      groupScale.padding = 0.1;\n    } else {\n      groupScale.padding = 0;\n    }\n    groupScale.round = groupScale.padding !== 0;\n    const barWidth = groupScale.bandwidth >= 1 ?\n    // Pixel-rounded value for low-volume bar charts.\n    groupScale.bandwidth :\n    // Handle high-volume bar charts gracefully.\n    groupScale.rawBandwidth;\n    return {\n      barWidth,\n      groupIndex\n    };\n  }\n  resolveKeyDirection(direction) {\n    if (this.getBarDirection() === \"x\" /* X */) {\n      if (direction === \"x\" /* X */) {\n        return \"y\" /* Y */;\n      }\n      return \"x\" /* X */;\n    }\n    return direction;\n  }\n  initQuadTree(quadtree) {\n    addHitTestersToQuadtree(quadtree, this.datumNodesIter());\n  }\n  pickNodeClosestDatum(point) {\n    return findQuadtreeMatch(this, point);\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeriesProperties.ts\nvar BarSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"inside\";\n  }\n};\n__decorateClass([Validate(PLACEMENT)], BarSeriesLabel.prototype, \"placement\", 2);\nvar BarSeriesProperties = class extends AbstractBarSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"#c16068\";\n    this.fillOpacity = 1;\n    this.stroke = \"#874349\";\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.shadow = new DropShadow();\n    this.label = new BarSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([Validate(STRING)], BarSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BarSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING)], BarSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BarSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BarSeriesProperties.prototype, \"stackGroup\", 2);\n__decorateClass([Validate(NUMBER, {\n  optional: true\n})], BarSeriesProperties.prototype, \"normalizedTo\", 2);\n__decorateClass([Validate(COLOR_STRING)], BarSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO)], BarSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING)], BarSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], BarSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO)], BarSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], BarSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], BarSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], BarSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], BarSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([Validate(OBJECT, {\n  optional: true\n})], BarSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([Validate(OBJECT)], BarSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], BarSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/barUtil.ts\nfunction updateRect({\n  rect,\n  config\n}) {\n  const {\n    crisp = true,\n    fill,\n    stroke,\n    strokeWidth,\n    fillOpacity,\n    strokeOpacity,\n    lineDash,\n    lineDashOffset,\n    fillShadow,\n    cornerRadius = 0,\n    topLeftCornerRadius = true,\n    topRightCornerRadius = true,\n    bottomRightCornerRadius = true,\n    bottomLeftCornerRadius = true,\n    visible = true\n  } = config;\n  rect.crisp = crisp;\n  rect.fill = fill;\n  rect.stroke = stroke;\n  rect.strokeWidth = strokeWidth;\n  rect.fillOpacity = fillOpacity;\n  rect.strokeOpacity = strokeOpacity;\n  rect.lineDash = lineDash;\n  rect.lineDashOffset = lineDashOffset;\n  rect.fillShadow = fillShadow;\n  rect.topLeftCornerRadius = topLeftCornerRadius ? cornerRadius : 0;\n  rect.topRightCornerRadius = topRightCornerRadius ? cornerRadius : 0;\n  rect.bottomRightCornerRadius = bottomRightCornerRadius ? cornerRadius : 0;\n  rect.bottomLeftCornerRadius = bottomLeftCornerRadius ? cornerRadius : 0;\n  rect.visible = visible;\n}\nfunction getRectConfig(_a) {\n  var _b = _a,\n    {\n      datum,\n      isHighlighted,\n      style,\n      highlightStyle,\n      formatter,\n      seriesId,\n      ctx: {\n        callbackCache\n      }\n    } = _b,\n    opts = __objRest(_b, [\"datum\", \"isHighlighted\", \"style\", \"highlightStyle\", \"formatter\", \"seriesId\", \"ctx\"]);\n  var _a2, _b2, _c, _d, _e, _f;\n  const {\n    fill,\n    fillOpacity,\n    stroke,\n    strokeWidth\n  } = mergeDefaults(isHighlighted && highlightStyle, style);\n  const {\n    strokeOpacity,\n    fillShadow,\n    lineDash,\n    lineDashOffset,\n    cornerRadius = 0,\n    topLeftCornerRadius = true,\n    topRightCornerRadius = true,\n    bottomRightCornerRadius = true,\n    bottomLeftCornerRadius = true\n  } = style;\n  let format2;\n  if (formatter) {\n    format2 = callbackCache.call(formatter, __spreadValues({\n      datum: datum.datum,\n      xKey: datum.xKey,\n      fill,\n      stroke,\n      strokeWidth,\n      cornerRadius,\n      highlighted: isHighlighted,\n      seriesId\n    }, opts));\n  }\n  return {\n    fill: (_a2 = format2 == null ? void 0 : format2.fill) != null ? _a2 : fill,\n    stroke: (_b2 = format2 == null ? void 0 : format2.stroke) != null ? _b2 : stroke,\n    strokeWidth: (_c = format2 == null ? void 0 : format2.strokeWidth) != null ? _c : strokeWidth,\n    fillOpacity: (_d = format2 == null ? void 0 : format2.fillOpacity) != null ? _d : fillOpacity,\n    strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity,\n    lineDash,\n    lineDashOffset,\n    fillShadow,\n    cornerRadius: (_f = format2 == null ? void 0 : format2.cornerRadius) != null ? _f : cornerRadius,\n    topLeftCornerRadius,\n    topRightCornerRadius,\n    bottomRightCornerRadius,\n    bottomLeftCornerRadius\n  };\n}\nfunction checkCrisp(visibleRange = []) {\n  const [visibleMin, visibleMax] = visibleRange;\n  const isZoomed = visibleMin !== 0 || visibleMax !== 1;\n  return !isZoomed;\n}\nvar isDatumNegative = datum => {\n  var _a;\n  return isNegative((_a = datum.yValue) != null ? _a : 0);\n};\nfunction collapsedStartingBarPosition(isVertical, axes, mode) {\n  const {\n    startingX,\n    startingY\n  } = getStartingValues(isVertical, axes);\n  const calculate = (datum, prevDatum) => {\n    let x = isVertical ? datum.x : startingX;\n    let y = isVertical ? startingY : datum.y;\n    let width = isVertical ? datum.width : 0;\n    let height = isVertical ? 0 : datum.height;\n    const {\n      opacity\n    } = datum;\n    if (prevDatum && (isNaN(x) || isNaN(y))) {\n      ({\n        x,\n        y\n      } = prevDatum);\n      width = isVertical ? prevDatum.width : 0;\n      height = isVertical ? 0 : prevDatum.height;\n      if (isVertical && !isDatumNegative(prevDatum)) {\n        y += prevDatum.height;\n      } else if (!isVertical && isDatumNegative(prevDatum)) {\n        x += prevDatum.width;\n      }\n    }\n    let clipBBox;\n    if (datum.clipBBox == null) {\n      clipBBox = void 0;\n    } else if (isDatumNegative(datum)) {\n      clipBBox = isVertical ? new BBox(x, y - height, width, height) : new BBox(x - width, y, width, height);\n    } else {\n      clipBBox = new BBox(x, y, width, height);\n    }\n    return {\n      x,\n      y,\n      width,\n      height,\n      clipBBox,\n      opacity\n    };\n  };\n  return {\n    isVertical,\n    calculate,\n    mode\n  };\n}\nfunction midpointStartingBarPosition(isVertical, mode) {\n  return {\n    isVertical,\n    calculate: datum => {\n      return {\n        x: isVertical ? datum.x : datum.x + datum.width / 2,\n        y: isVertical ? datum.y + datum.height / 2 : datum.y,\n        width: isVertical ? datum.width : 0,\n        height: isVertical ? 0 : datum.height,\n        clipBBox: datum.clipBBox,\n        opacity: datum.opacity\n      };\n    },\n    mode\n  };\n}\nfunction prepareBarAnimationFunctions(initPos) {\n  const isRemoved = datum => datum == null || isNaN(datum.x) || isNaN(datum.y);\n  const fromFn = (rect, datum, status) => {\n    if (status === \"updated\" && isRemoved(datum)) {\n      status = \"removed\";\n    } else if (status === \"updated\" && isRemoved(rect.previousDatum)) {\n      status = \"added\";\n    }\n    let source;\n    if (status === \"added\" && rect.previousDatum == null && initPos.mode === \"fade\") {\n      source = __spreadProps(__spreadValues({}, resetBarSelectionsFn(rect, datum)), {\n        opacity: 0\n      });\n    } else if (status === \"unknown\" || status === \"added\") {\n      source = initPos.calculate(datum, rect.previousDatum);\n    } else {\n      source = {\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height,\n        clipBBox: rect.clipBBox,\n        opacity: rect.opacity\n      };\n    }\n    const phase = NODE_UPDATE_STATE_TO_PHASE_MAPPING[status];\n    return __spreadProps(__spreadValues({}, source), {\n      phase\n    });\n  };\n  const toFn = (rect, datum, status) => {\n    let source;\n    if (status === \"removed\" && rect.datum == null && initPos.mode === \"fade\") {\n      source = __spreadProps(__spreadValues({}, resetBarSelectionsFn(rect, datum)), {\n        opacity: 0\n      });\n    } else if (status === \"removed\" || isRemoved(datum)) {\n      source = initPos.calculate(datum, rect.previousDatum);\n    } else {\n      source = {\n        x: datum.x,\n        y: datum.y,\n        width: datum.width,\n        height: datum.height,\n        clipBBox: datum.clipBBox,\n        opacity: datum.opacity\n      };\n    }\n    return source;\n  };\n  return {\n    toFn,\n    fromFn\n  };\n}\nfunction getStartingValues(isVertical, axes) {\n  const axis = axes[isVertical ? \"y\" /* Y */ : \"x\" /* X */];\n  let startingX = Infinity;\n  let startingY = 0;\n  if (!axis) {\n    return {\n      startingX,\n      startingY\n    };\n  }\n  if (isVertical) {\n    startingY = axis.scale.convert(ContinuousScale.is(axis.scale) ? 0 : Math.max(...axis.range));\n  } else {\n    startingX = axis.scale.convert(ContinuousScale.is(axis.scale) ? 0 : Math.min(...axis.range));\n  }\n  return {\n    startingX,\n    startingY\n  };\n}\nfunction resetBarSelectionsFn(_node, {\n  x,\n  y,\n  width,\n  height,\n  clipBBox,\n  opacity\n}) {\n  return {\n    x,\n    y,\n    width,\n    height,\n    clipBBox,\n    opacity\n  };\n}\nfunction computeBarFocusBounds(datum, barGroup, seriesRect) {\n  if (datum === void 0) return void 0;\n  const {\n    x,\n    y,\n    width,\n    height\n  } = datum;\n  return barGroup.inverseTransformBBox(new BBox(x, y, width, height)).clip(seriesRect);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/labelUtil.ts\nfunction updateLabelNode(textNode, label, labelDatum) {\n  if (label.enabled && labelDatum) {\n    const {\n      x,\n      y,\n      text,\n      textAlign,\n      textBaseline\n    } = labelDatum;\n    const {\n      color: fill,\n      fontStyle,\n      fontWeight,\n      fontSize,\n      fontFamily\n    } = label;\n    textNode.setProperties({\n      visible: true,\n      x,\n      y,\n      text,\n      fill,\n      fontStyle,\n      fontWeight,\n      fontSize,\n      fontFamily,\n      textAlign,\n      textBaseline\n    });\n  } else {\n    textNode.visible = false;\n  }\n}\nfunction adjustLabelPlacement({\n  isPositive,\n  isVertical,\n  placement,\n  padding = 0,\n  rect\n}) {\n  let x = rect.x + rect.width / 2;\n  let y = rect.y + rect.height / 2;\n  let textAlign = \"center\";\n  let textBaseline = \"middle\";\n  switch (placement) {\n    case \"start\":\n      {\n        if (isVertical) {\n          y = isPositive ? rect.y + rect.height + padding : rect.y - padding;\n          textBaseline = isPositive ? \"top\" : \"bottom\";\n        } else {\n          x = isPositive ? rect.x - padding : rect.x + rect.width + padding;\n          textAlign = isPositive ? \"start\" : \"end\";\n        }\n        break;\n      }\n    case \"outside\":\n    case \"end\":\n      {\n        if (isVertical) {\n          y = isPositive ? rect.y - padding : rect.y + rect.height + padding;\n          textBaseline = isPositive ? \"bottom\" : \"top\";\n        } else {\n          x = isPositive ? rect.x + rect.width + padding : rect.x - padding;\n          textAlign = isPositive ? \"start\" : \"end\";\n        }\n        break;\n      }\n  }\n  return {\n    x,\n    y,\n    textAlign,\n    textBaseline\n  };\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeries.ts\nvar BarSeries = class extends AbstractBarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      pathsPerSeries: 0,\n      hasHighlightedLabels: true,\n      datumSelectionGarbageCollection: false,\n      animationAlwaysUpdateSelections: true,\n      animationResetFns: {\n        datum: resetBarSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new BarSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      if (!this.properties.isValid() || !this.data) {\n        return;\n      }\n      const {\n        seriesGrouping: {\n          groupIndex = this.id\n        } = {},\n        data = []\n      } = this;\n      const {\n        xKey,\n        yKey,\n        normalizedTo\n      } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.getCategoryAxis()) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.getValueAxis()) == null ? void 0 : _b.scale;\n      const {\n        isContinuousX,\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const stackGroupName = `bar-stack-${groupIndex}-yValues`;\n      const stackGroupTrailingName = `${stackGroupName}-trailing`;\n      const extraProps = [];\n      if (isFiniteNumber(normalizedTo)) {\n        extraProps.push(normaliseGroupTo([stackGroupName, stackGroupTrailingName], Math.abs(normalizedTo), \"range\"));\n      }\n      if (animationEnabled && this.processedData) {\n        extraProps.push(diff(this.processedData));\n      }\n      if (animationEnabled) {\n        extraProps.push(animationValidation());\n      }\n      const visibleProps = this.visible ? {} : {\n        forceValue: 0\n      };\n      const {\n        processedData\n      } = yield this.requestDataModel(dataController, data, {\n        props: [keyProperty(xKey, xScaleType, {\n          id: \"xValue\"\n        }), valueProperty(yKey, yScaleType, __spreadValues({\n          id: `yValue-raw`,\n          invalidValue: null\n        }, visibleProps)), ...groupAccumulativeValueProperty(yKey, \"normal\", \"current\", __spreadValues({\n          id: `yValue-end`,\n          rangeId: `yValue-range`,\n          invalidValue: null,\n          missingValue: 0,\n          groupId: stackGroupName,\n          separateNegative: true\n        }, visibleProps), yScaleType), ...groupAccumulativeValueProperty(yKey, \"trailing\", \"current\", __spreadValues({\n          id: `yValue-start`,\n          invalidValue: null,\n          missingValue: 0,\n          groupId: stackGroupTrailingName,\n          separateNegative: true\n        }, visibleProps), yScaleType), ...(isContinuousX ? [SMALLEST_KEY_INTERVAL] : []), ...extraProps],\n        groupByKeys: true,\n        groupByData: false\n      });\n      this.smallestDataInterval = (_c = processedData.reduced) == null ? void 0 : _c.smallestKeyInterval;\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    var _a;\n    const {\n      processedData,\n      dataModel,\n      smallestDataInterval\n    } = this;\n    if (!processedData || !dataModel || processedData.data.length === 0) return [];\n    const categoryAxis = this.getCategoryAxis();\n    const valueAxis = this.getValueAxis();\n    const keyDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    const keys = dataModel.getDomain(this, `xValue`, \"key\", processedData);\n    const yExtent = dataModel.getDomain(this, `yValue-end`, \"value\", processedData);\n    if (direction === this.getCategoryDirection()) {\n      if ((keyDef == null ? void 0 : keyDef.def.type) === \"key\" && keyDef.def.valueType === \"category\") {\n        return keys;\n      }\n      const scalePadding = isFiniteNumber(smallestDataInterval) ? smallestDataInterval * 0.5 : 0;\n      const keysExtent = (_a = extent(keys)) != null ? _a : [NaN, NaN];\n      const d0 = keysExtent[0] + -scalePadding;\n      const d1 = keysExtent[1] + scalePadding;\n      return fixNumericExtent([d0, d1], categoryAxis);\n    } else if (this.getValueAxis() instanceof LogAxis) {\n      return fixNumericExtent(yExtent, valueAxis);\n    } else {\n      const fixedYExtent = [Math.min(0, yExtent[0]), Math.max(0, yExtent[1])];\n      return fixNumericExtent(fixedYExtent, valueAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const {\n        dataModel\n      } = this;\n      const xAxis = this.getCategoryAxis();\n      const yAxis = this.getValueAxis();\n      if (!dataModel || !xAxis || !yAxis || !this.properties.isValid()) return;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const {\n        xKey,\n        yKey,\n        xName,\n        yName,\n        fill,\n        stroke,\n        strokeWidth,\n        cornerRadius,\n        legendItemName,\n        label\n      } = this.properties;\n      const yReversed = yAxis.isReversed();\n      const {\n        barWidth,\n        groupIndex\n      } = this.updateGroupScale(xAxis);\n      const barOffset = ContinuousScale.is(xScale) ? barWidth * -0.5 : 0;\n      const xIndex = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yRawIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-raw`);\n      const yStartIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-start`);\n      const yEndIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-end`);\n      const yRangeIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-range`);\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const context = {\n        itemId: yKey,\n        nodeData: [],\n        labelData: [],\n        scales: this.calculateScaling(),\n        visible: this.visible || animationEnabled\n      };\n      const {\n        groupScale,\n        processedData\n      } = this;\n      processedData == null ? void 0 : processedData.data.forEach(({\n        keys,\n        datum: seriesDatum,\n        values,\n        aggValues\n      }) => {\n        values.forEach((value, valueIndex) => {\n          var _a;\n          const xValue = keys[xIndex];\n          const x = xScale.convert(xValue);\n          const currY = +value[yEndIndex];\n          const prevY = +value[yStartIndex];\n          const yRawValue = value[yRawIndex];\n          const isPositive = yRawValue >= 0 && !Object.is(yRawValue, -0);\n          const isUpward = isPositive !== yReversed;\n          const yRange = (_a = aggValues == null ? void 0 : aggValues[yRangeIndex][isPositive ? 1 : 0]) != null ? _a : 0;\n          const barX = x + groupScale.convert(String(groupIndex)) + barOffset;\n          if (isNaN(currY)) return;\n          const y = yScale.convert(currY);\n          const bottomY = yScale.convert(prevY);\n          const barAlongX = this.getBarDirection() === \"x\" /* X */;\n          const bboxHeight = yScale.convert(yRange);\n          const bboxBottom = yScale.convert(0);\n          const rect = {\n            x: barAlongX ? Math.min(y, bottomY) : barX,\n            y: barAlongX ? barX : Math.min(y, bottomY),\n            width: barAlongX ? Math.abs(bottomY - y) : barWidth,\n            height: barAlongX ? barWidth : Math.abs(bottomY - y)\n          };\n          const clipBBox = new BBox(rect.x, rect.y, rect.width, rect.height);\n          const barRect = {\n            x: barAlongX ? Math.min(bboxBottom, bboxHeight) : barX,\n            y: barAlongX ? barX : Math.min(bboxBottom, bboxHeight),\n            width: barAlongX ? Math.abs(bboxBottom - bboxHeight) : barWidth,\n            height: barAlongX ? barWidth : Math.abs(bboxBottom - bboxHeight),\n            clipBBox\n          };\n          const {\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily,\n            color: labelColor,\n            placement\n          } = label;\n          const labelText = this.getLabelText(this.properties.label, {\n            datum: seriesDatum[valueIndex],\n            value: yRawValue,\n            xKey,\n            yKey,\n            xName,\n            yName,\n            legendItemName\n          }, v => isFiniteNumber(v) ? v.toFixed(2) : String(v));\n          const labelDatum = labelText ? __spreadValues({\n            text: labelText,\n            fill: labelColor,\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily\n          }, adjustLabelPlacement({\n            isPositive,\n            isVertical: !barAlongX,\n            placement,\n            rect\n          })) : void 0;\n          const lengthRatioMultiplier = this.shouldFlipXY() ? rect.height : rect.width;\n          const nodeData = {\n            series: this,\n            itemId: yKey,\n            datum: seriesDatum[valueIndex],\n            valueIndex,\n            cumulativeValue: currY,\n            xValue,\n            yValue: yRawValue,\n            yKey,\n            xKey,\n            capDefaults: {\n              lengthRatioMultiplier,\n              lengthMax: lengthRatioMultiplier\n            },\n            x: barRect.x,\n            y: barRect.y,\n            width: barRect.width,\n            height: barRect.height,\n            midPoint: {\n              x: rect.x + rect.width / 2,\n              y: rect.y + rect.height / 2\n            },\n            fill,\n            stroke,\n            opacity: 1,\n            strokeWidth,\n            cornerRadius,\n            topLeftCornerRadius: barAlongX !== isUpward,\n            topRightCornerRadius: isUpward,\n            bottomRightCornerRadius: barAlongX === isUpward,\n            bottomLeftCornerRadius: !isUpward,\n            clipBBox,\n            label: labelDatum,\n            missing: yRawValue == null\n          };\n          context.nodeData.push(nodeData);\n          context.labelData.push(nodeData);\n        });\n      });\n      return context;\n    });\n  }\n  nodeFactory() {\n    return new Rect();\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.datumSelection.update(opts.nodeData, rect => {\n        rect.tag = 0 /* Bar */;\n      }, datum => createDatumId(datum.xValue, datum.valueIndex));\n    });\n  }\n  updateDatumNodes(opts) {\n    return __async(this, null, function* () {\n      if (!this.properties.isValid()) {\n        return;\n      }\n      const {\n        yKey,\n        stackGroup,\n        fill,\n        fillOpacity,\n        stroke,\n        strokeWidth,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        formatter,\n        shadow,\n        highlightStyle: {\n          item: itemHighlightStyle\n        }\n      } = this.properties;\n      const xAxis = this.axes[\"x\" /* X */];\n      const crisp = checkCrisp(xAxis == null ? void 0 : xAxis.visibleRange);\n      const categoryAlongX = this.getCategoryDirection() === \"x\" /* X */;\n      opts.datumSelection.each((rect, datum) => {\n        var _a, _b, _c, _d;\n        const style = {\n          fill,\n          stroke,\n          fillOpacity,\n          strokeOpacity,\n          lineDash,\n          lineDashOffset,\n          fillShadow: shadow,\n          strokeWidth: this.getStrokeWidth(strokeWidth),\n          cornerRadius: datum.cornerRadius,\n          topLeftCornerRadius: datum.topLeftCornerRadius,\n          topRightCornerRadius: datum.topRightCornerRadius,\n          bottomRightCornerRadius: datum.bottomRightCornerRadius,\n          bottomLeftCornerRadius: datum.bottomLeftCornerRadius\n        };\n        const visible = categoryAlongX ? ((_b = (_a = datum.clipBBox) == null ? void 0 : _a.width) != null ? _b : datum.width) > 0 : ((_d = (_c = datum.clipBBox) == null ? void 0 : _c.height) != null ? _d : datum.height) > 0;\n        const config = getRectConfig({\n          datum,\n          ctx: this.ctx,\n          seriesId: this.id,\n          isHighlighted: opts.isHighlight,\n          highlightStyle: itemHighlightStyle,\n          yKey,\n          style,\n          formatter,\n          stackGroup\n        });\n        config.crisp = crisp;\n        config.visible = visible;\n        updateRect({\n          rect,\n          config\n        });\n      });\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const data = this.isLabelEnabled() ? opts.labelData : [];\n      return opts.labelSelection.update(data, text => {\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      opts.labelSelection.each((textNode, datum) => {\n        updateLabelNode(textNode, this.properties.label, datum.label);\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const {\n      id: seriesId,\n      processedData,\n      ctx: {\n        callbackCache\n      }\n    } = this;\n    const xAxis = this.getCategoryAxis();\n    const yAxis = this.getValueAxis();\n    if (!processedData || !this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      xKey,\n      yKey,\n      xName,\n      yName,\n      fill,\n      stroke,\n      strokeWidth,\n      tooltip,\n      formatter,\n      stackGroup,\n      legendItemName\n    } = this.properties;\n    const {\n      xValue,\n      yValue,\n      datum,\n      itemId\n    } = nodeDatum;\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml(yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        seriesId,\n        datum,\n        xKey,\n        yKey,\n        stackGroup,\n        fill,\n        stroke,\n        strokeWidth: this.getStrokeWidth(strokeWidth),\n        highlighted: false\n      });\n    }\n    const color = (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill;\n    return tooltip.toTooltipHtml({\n      title,\n      content,\n      backgroundColor: color\n    }, __spreadValues({\n      seriesId,\n      itemId,\n      datum,\n      xKey,\n      yKey,\n      xName,\n      yName,\n      stackGroup,\n      title,\n      color,\n      legendItemName\n    }, this.getModuleTooltipParams()));\n  }\n  getLegendData(legendType) {\n    var _a, _b;\n    const {\n      showInLegend\n    } = this.properties;\n    if (legendType !== \"category\" || !((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || !showInLegend) {\n      return [];\n    }\n    const {\n      yKey,\n      yName,\n      fill,\n      stroke,\n      strokeWidth,\n      fillOpacity,\n      strokeOpacity,\n      legendItemName,\n      visible\n    } = this.properties;\n    return [{\n      legendType: \"category\",\n      id: this.id,\n      itemId: yKey,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: (_b = legendItemName != null ? legendItemName : yName) != null ? _b : yKey\n      },\n      marker: {\n        fill,\n        fillOpacity,\n        stroke,\n        strokeWidth,\n        strokeOpacity\n      },\n      legendItemName\n    }];\n  }\n  animateEmptyUpdateReady({\n    datumSelection,\n    labelSelection,\n    annotationSelections\n  }) {\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(), this.axes, \"normal\"));\n    fromToMotion(this.id, \"nodes\", this.ctx.animationManager, [datumSelection], fns);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n  }\n  animateWaitingUpdateReady(data) {\n    var _a, _b, _c;\n    const {\n      datumSelection,\n      labelSelection,\n      annotationSelections,\n      previousContextData\n    } = data;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const dataDiff = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff;\n    const mode = previousContextData == null ? \"fade\" : \"normal\";\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(), this.axes, mode));\n    fromToMotion(this.id, \"nodes\", this.ctx.animationManager, [datumSelection], fns, (_, datum) => createDatumId(datum.xValue, datum.valueIndex), dataDiff);\n    const hasMotion = (_c = dataDiff == null ? void 0 : dataDiff.changed) != null ? _c : true;\n    if (hasMotion) {\n      seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n      seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n    }\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  computeFocusBounds({\n    datumIndex,\n    seriesRect\n  }) {\n    var _a;\n    const datumBox = (_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex].clipBBox;\n    return computeBarFocusBounds(datumBox, this.contentGroup, seriesRect);\n  }\n};\nBarSeries.className = \"BarSeries\";\nBarSeries.type = \"bar\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeriesModule.ts\nvar BarSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bar\",\n  instanceConstructor: BarSeries,\n  stackable: true,\n  groupable: true,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }, {\n    type: \"category\" /* CATEGORY */,\n    position: \"bottom\" /* BOTTOM */\n  }],\n  swapDefaultAxesCondition: series => (series == null ? void 0 : series.direction) === \"horizontal\",\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      direction: \"vertical\",\n      fillOpacity: 1,\n      strokeWidth: 0,\n      lineDash: [0],\n      lineDashOffset: 0,\n      label: {\n        enabled: false,\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n        placement: \"inside\"\n      },\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 0.3\n        }\n      }\n    }\n  },\n  paletteFactory: singleSeriesPaletteFactory\n};\n\n// packages/ag-charts-community/src/scale/colorScale.ts\nvar convertColorStringToOklcha = v => {\n  const color = Color.fromString(v);\n  const [l, c, h] = Color.RGBtoOKLCH(color.r, color.g, color.b);\n  return {\n    l,\n    c,\n    h,\n    a: color.a\n  };\n};\nvar interpolateOklch = (x, y, d) => {\n  d = clamp(0, d, 1);\n  let h;\n  let c;\n  if (Number.isNaN(x.h) && Number.isNaN(y.h)) {\n    h = 0;\n    c = 0;\n  } else if (Number.isNaN(x.h)) {\n    h = y.h;\n    c = y.c;\n  } else if (Number.isNaN(y.h)) {\n    h = x.h;\n    c = x.c;\n  } else {\n    const xH = x.h;\n    let yH = y.h;\n    const deltaH = y.h - x.h;\n    if (deltaH > 180) {\n      yH -= 360;\n    } else if (deltaH < -180) {\n      yH += 360;\n    }\n    h = xH * (1 - d) + yH * d;\n    c = x.c * (1 - d) + y.c * d;\n  }\n  const l = x.l * (1 - d) + y.l * d;\n  const a = x.a * (1 - d) + y.a * d;\n  return Color.fromOKLCH(l, c, h, a);\n};\nvar ColorScale = class {\n  constructor() {\n    this.type = \"color\";\n    this.invalid = true;\n    this.domain = [0, 1];\n    this.range = [\"red\", \"blue\"];\n    this.parsedRange = this.range.map(convertColorStringToOklcha);\n  }\n  update() {\n    const {\n      domain,\n      range: range3\n    } = this;\n    if (domain.length < 2) {\n      Logger.warnOnce(\"`colorDomain` should have at least 2 values.\");\n      if (domain.length === 0) {\n        domain.push(0, 1);\n      } else if (domain.length === 1) {\n        domain.push(domain[0] + 1);\n      }\n    }\n    for (let i = 1; i < domain.length; i++) {\n      const a = domain[i - 1];\n      const b = domain[i];\n      if (a >= b) {\n        Logger.warnOnce(\"`colorDomain` values should be supplied in ascending order.\");\n        domain.sort((a2, b2) => a2 - b2);\n        break;\n      }\n    }\n    if (range3.length < domain.length) {\n      for (let i = range3.length; i < domain.length; i++) {\n        range3.push(range3.length > 0 ? range3[0] : \"black\");\n      }\n    }\n    this.parsedRange = this.range.map(convertColorStringToOklcha);\n  }\n  convert(x) {\n    this.refresh();\n    const {\n      domain,\n      range: range3,\n      parsedRange\n    } = this;\n    const d0 = domain[0];\n    const d1 = domain.at(-1);\n    const r0 = range3[0];\n    const r1 = range3[range3.length - 1];\n    if (x <= d0) {\n      return r0;\n    }\n    if (x >= d1) {\n      return r1;\n    }\n    let index;\n    let q;\n    if (domain.length === 2) {\n      const t = (x - d0) / (d1 - d0);\n      const step = 1 / (range3.length - 1);\n      index = range3.length <= 2 ? 0 : Math.min(Math.floor(t * (range3.length - 1)), range3.length - 2);\n      q = (t - index * step) / step;\n    } else {\n      for (index = 0; index < domain.length - 2; index++) {\n        if (x < domain[index + 1]) {\n          break;\n        }\n      }\n      const a = domain[index];\n      const b = domain[index + 1];\n      q = (x - a) / (b - a);\n    }\n    const c0 = parsedRange[index];\n    const c1 = parsedRange[index + 1];\n    return interpolateOklch(c0, c1, q).toRgbaString();\n  }\n  refresh() {\n    if (!this.invalid) return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n};\n__decorateClass([Invalidating], ColorScale.prototype, \"domain\", 2);\n__decorateClass([Invalidating], ColorScale.prototype, \"range\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeriesProperties.ts\nvar BubbleSeriesMarker = class extends SeriesMarker {\n  constructor() {\n    super(...arguments);\n    this.maxSize = 30;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], BubbleSeriesMarker.prototype, \"maxSize\", 2);\n__decorateClass([Validate(NUMBER_ARRAY, {\n  optional: true\n}), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], BubbleSeriesMarker.prototype, \"domain\", 2);\nvar BubbleSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"top\";\n  }\n};\n__decorateClass([Validate(LABEL_PLACEMENT)], BubbleSeriesLabel.prototype, \"placement\", 2);\nvar BubbleSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.colorRange = [\"#ffff00\", \"#00ff00\", \"#0000ff\"];\n    this.marker = new BubbleSeriesMarker();\n    this.label = new BubbleSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([Validate(STRING)], BubbleSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING)], BubbleSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING)], BubbleSeriesProperties.prototype, \"sizeKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"labelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"sizeName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"labelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([Validate(NUMBER_ARRAY, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"colorDomain\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], BubbleSeriesProperties.prototype, \"colorRange\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"title\", 2);\n__decorateClass([Validate(OBJECT)], BubbleSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], BubbleSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], BubbleSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeries.ts\nvar BubbleSeriesNodeEvent = class extends CartesianSeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.sizeKey = series.properties.sizeKey;\n  }\n};\nvar BubbleSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */, 3 /* NEAREST_NODE */, 0 /* EXACT_SHAPE_MATCH */],\n      pathsPerSeries: 0,\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        label: resetLabelFn,\n        marker: resetMarkerFn\n      }\n    });\n    this.NodeEvent = BubbleSeriesNodeEvent;\n    this.properties = new BubbleSeriesProperties();\n    this.sizeScale = new LinearScale();\n    this.colorScale = new ColorScale();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d;\n      if (!this.properties.isValid() || this.data == null || !this.visible) return;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const {\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const colorScaleType = this.colorScale.type;\n      const sizeScaleType = this.sizeScale.type;\n      const {\n        xKey,\n        yKey,\n        sizeKey,\n        labelKey,\n        colorDomain,\n        colorRange,\n        colorKey,\n        marker\n      } = this.properties;\n      const {\n        dataModel,\n        processedData\n      } = yield this.requestDataModel(dataController, this.data, {\n        props: [keyProperty(xKey, xScaleType, {\n          id: \"xKey-raw\"\n        }), keyProperty(yKey, yScaleType, {\n          id: \"yKey-raw\"\n        }), ...(labelKey ? [keyProperty(labelKey, \"band\", {\n          id: `labelKey-raw`\n        })] : []), valueProperty(xKey, xScaleType, {\n          id: `xValue`\n        }), valueProperty(yKey, yScaleType, {\n          id: `yValue`\n        }), valueProperty(sizeKey, sizeScaleType, {\n          id: `sizeValue`\n        }), ...(colorKey ? [valueProperty(colorKey, colorScaleType, {\n          id: `colorValue`\n        })] : []), ...(labelKey ? [valueProperty(labelKey, \"band\", {\n          id: `labelValue`\n        })] : [])]\n      });\n      const sizeKeyIdx = dataModel.resolveProcessedDataIndexById(this, `sizeValue`);\n      const processedSize = (_c = processedData.domain.values[sizeKeyIdx]) != null ? _c : [];\n      this.sizeScale.domain = marker.domain ? marker.domain : processedSize;\n      if (colorKey) {\n        const colorKeyIdx = dataModel.resolveProcessedDataIndexById(this, `colorValue`);\n        this.colorScale.domain = (_d = colorDomain != null ? colorDomain : processedData.domain.values[colorKeyIdx]) != null ? _d : [];\n        this.colorScale.range = colorRange;\n        this.colorScale.update();\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const {\n      dataModel,\n      processedData\n    } = this;\n    if (!processedData || !dataModel) return [];\n    const id = direction === \"x\" /* X */ ? `xValue` : `yValue`;\n    const dataDef = dataModel.resolveProcessedDataDefById(this, id);\n    const domain = dataModel.getDomain(this, id, \"value\", processedData);\n    if ((dataDef == null ? void 0 : dataDef.def.type) === \"value\" && (dataDef == null ? void 0 : dataDef.def.valueType) === \"category\") {\n      return domain;\n    }\n    const axis = this.axes[direction];\n    return fixNumericExtent(extent(domain), axis);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const {\n        axes,\n        dataModel,\n        processedData,\n        colorScale,\n        sizeScale\n      } = this;\n      const {\n        xKey,\n        yKey,\n        sizeKey,\n        labelKey,\n        xName,\n        yName,\n        sizeName,\n        labelName,\n        label,\n        colorKey,\n        marker,\n        visible\n      } = this.properties;\n      const markerShape = getMarker(marker.shape);\n      const {\n        placement\n      } = label;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!(dataModel && processedData && visible && xAxis && yAxis)) {\n        return;\n      }\n      const xDataIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yDataIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      const sizeDataIdx = sizeKey ? dataModel.resolveProcessedDataIndexById(this, `sizeValue`) : -1;\n      const colorDataIdx = colorKey ? dataModel.resolveProcessedDataIndexById(this, `colorValue`) : -1;\n      const labelDataIdx = labelKey ? dataModel.resolveProcessedDataIndexById(this, `labelValue`) : -1;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      sizeScale.range = [marker.size, marker.maxSize];\n      const font = label.getFont();\n      for (const {\n        values,\n        datum\n      } of (_c = processedData.data) != null ? _c : []) {\n        const xDatum = values[xDataIdx];\n        const yDatum = values[yDataIdx];\n        const x = xScale.convert(xDatum) + xOffset;\n        const y = yScale.convert(yDatum) + yOffset;\n        const labelText = this.getLabelText(label, {\n          value: labelKey ? values[labelDataIdx] : yDatum,\n          datum,\n          xKey,\n          yKey,\n          sizeKey,\n          labelKey,\n          xName,\n          yName,\n          sizeName,\n          labelName\n        });\n        const size = Text.getTextSize(String(labelText), font);\n        const markerSize = sizeKey ? sizeScale.convert(values[sizeDataIdx]) : marker.size;\n        const fill = colorKey ? colorScale.convert(values[colorDataIdx]) : void 0;\n        nodeData.push({\n          series: this,\n          itemId: yKey,\n          yKey,\n          xKey,\n          datum,\n          xValue: xDatum,\n          yValue: yDatum,\n          sizeValue: values[sizeDataIdx],\n          point: {\n            x,\n            y,\n            size: markerSize\n          },\n          midPoint: {\n            x,\n            y\n          },\n          fill,\n          label: __spreadValues({\n            text: labelText\n          }, size),\n          marker: markerShape,\n          placement\n        });\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  getLabelData() {\n    var _a, _b;\n    return (_b = (_a = this.contextNodeData) == null ? void 0 : _a.labelData) != null ? _b : [];\n  }\n  markerFactory() {\n    const {\n      shape\n    } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        nodeData,\n        markerSelection\n      } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      const data = this.properties.marker.enabled ? nodeData : [];\n      return markerSelection.update(data, void 0, datum => createDatumId([datum.xValue, datum.yValue, datum.label.text]));\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        markerSelection,\n        isHighlight: highlighted\n      } = opts;\n      const {\n        xKey,\n        yKey,\n        sizeKey,\n        labelKey,\n        marker\n      } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && this.properties.highlightStyle.item, marker.getStyle());\n      this.sizeScale.range = [marker.size, marker.maxSize];\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, {\n          datum,\n          highlighted,\n          xKey,\n          yKey,\n          sizeKey,\n          labelKey\n        }, baseStyle);\n      });\n      if (!highlighted) {\n        this.properties.marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const placedLabels = this.properties.label.enabled ? (_b = (_a = this.chart) == null ? void 0 : _a.placeLabels().get(this)) != null ? _b : [] : [];\n      return opts.labelSelection.update(placedLabels.map(v => __spreadProps(__spreadValues({}, v.datum), {\n        point: {\n          x: v.x,\n          y: v.y,\n          size: v.datum.point.size\n        }\n      })));\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        label\n      } = this.properties;\n      opts.labelSelection.each((text, datum) => {\n        var _a, _b, _c, _d;\n        text.text = datum.label.text;\n        text.fill = label.color;\n        text.x = (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : 0;\n        text.y = (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : 0;\n        text.fontStyle = label.fontStyle;\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = \"left\";\n        text.textBaseline = \"top\";\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      xKey,\n      yKey,\n      sizeKey,\n      labelKey,\n      xName,\n      yName,\n      sizeName,\n      labelName,\n      marker,\n      tooltip\n    } = this.properties;\n    const title = (_a = this.properties.title) != null ? _a : yName;\n    const baseStyle = mergeDefaults({\n      fill: nodeDatum.fill,\n      strokeWidth: this.getStrokeWidth(marker.strokeWidth)\n    }, marker.getStyle());\n    const {\n      fill: color = \"gray\"\n    } = this.getMarkerStyle(marker, {\n      datum: nodeDatum,\n      highlighted: false,\n      xKey,\n      yKey,\n      sizeKey,\n      labelKey\n    }, baseStyle);\n    const {\n      datum,\n      xValue,\n      yValue,\n      sizeValue,\n      label: {\n        text: labelText\n      },\n      itemId\n    } = nodeDatum;\n    const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n    const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n    let content = `<b>${sanitizeHtml(xName != null ? xName : xKey)}</b>: ${xString}<br><b>${sanitizeHtml(yName != null ? yName : yKey)}</b>: ${yString}`;\n    if (sizeKey) {\n      content += `<br><b>${sanitizeHtml(sizeName != null ? sizeName : sizeKey)}</b>: ${sanitizeHtml(String(sizeValue))}`;\n    }\n    if (labelKey) {\n      content = `<b>${sanitizeHtml(labelName != null ? labelName : labelKey)}</b>: ${sanitizeHtml(labelText)}<br>` + content;\n    }\n    return tooltip.toTooltipHtml({\n      title,\n      content,\n      backgroundColor: color\n    }, {\n      datum,\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      sizeKey,\n      sizeName,\n      labelKey,\n      labelName,\n      title,\n      color,\n      seriesId: this.id\n    });\n  }\n  getLegendData() {\n    var _a, _b;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid()) {\n      return [];\n    }\n    const {\n      yKey,\n      yName,\n      title,\n      marker,\n      visible\n    } = this.properties;\n    const {\n      shape,\n      fill,\n      stroke,\n      fillOpacity,\n      strokeOpacity,\n      strokeWidth\n    } = marker;\n    return [{\n      legendType: \"category\",\n      id: this.id,\n      itemId: yKey,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: (_b = title != null ? title : yName) != null ? _b : yKey\n      },\n      marker: {\n        shape,\n        fill: fill != null ? fill : \"rgba(0, 0, 0, 0)\",\n        stroke: stroke != null ? stroke : \"rgba(0, 0, 0, 0)\",\n        fillOpacity: fillOpacity != null ? fillOpacity : 1,\n        strokeOpacity: strokeOpacity != null ? strokeOpacity : 1,\n        strokeWidth: strokeWidth != null ? strokeWidth : 0\n      }\n    }];\n  }\n  animateEmptyUpdateReady({\n    markerSelection,\n    labelSelection\n  }) {\n    markerScaleInAnimation(this, this.ctx.animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const {\n      xKey,\n      yKey,\n      sizeKey,\n      labelKey\n    } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, {\n      datum,\n      xKey,\n      yKey,\n      sizeKey,\n      labelKey,\n      highlighted: false\n    });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nBubbleSeries.className = \"BubbleSeries\";\nBubbleSeries.type = \"bubble\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeriesModule.ts\nvar BubbleSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bubble\",\n  instanceConstructor: BubbleSeries,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"bottom\" /* BOTTOM */\n  }, {\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: {\n        position: {\n          type: \"node\"\n        }\n      },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        maxSize: 30,\n        fillOpacity: 0.8\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  paletteFactory: markerPaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeriesProperties.ts\nvar HistogramSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fillOpacity = 1;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.areaPlot = false;\n    this.aggregation = \"sum\";\n    this.shadow = new DropShadow();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([Validate(STRING)], HistogramSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO)], HistogramSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], HistogramSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO)], HistogramSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], HistogramSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], HistogramSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], HistogramSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([Validate(BOOLEAN)], HistogramSeriesProperties.prototype, \"areaPlot\", 2);\n__decorateClass([Validate(ARRAY, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"bins\", 2);\n__decorateClass([Validate(UNION([\"count\", \"sum\", \"mean\"], \"a histogram aggregation\"))], HistogramSeriesProperties.prototype, \"aggregation\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"binCount\", 2);\n__decorateClass([Validate(OBJECT)], HistogramSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([Validate(OBJECT)], HistogramSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], HistogramSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeries.ts\nvar defaultBinCount = 10;\nvar HistogramSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      datumSelectionGarbageCollection: false,\n      animationResetFns: {\n        datum: resetBarSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new HistogramSeriesProperties();\n    this.calculatedBins = [];\n  }\n  // During processData phase, used to unify different ways of the user specifying\n  // the bins. Returns bins in format[[min1, max1], [min2, max2], ... ].\n  deriveBins(xDomain) {\n    const binStarts = ticks_default(xDomain[0], xDomain[1], defaultBinCount);\n    const binSize = tickStep(xDomain[0], xDomain[1], defaultBinCount);\n    const [firstBinEnd] = binStarts;\n    const expandStartToBin = n => [n, n + binSize];\n    return [[firstBinEnd - binSize, firstBinEnd], ...binStarts.map(expandStartToBin)];\n  }\n  calculateNiceBins(domain, binCount) {\n    const startGuess = Math.floor(domain[0]);\n    const stop = domain[1];\n    const segments = binCount || 1;\n    const {\n      start,\n      binSize\n    } = this.calculateNiceStart(startGuess, stop, segments);\n    return this.getBins(start, stop, binSize, segments);\n  }\n  getBins(start, stop, step, count) {\n    const bins = [];\n    const precision = this.calculatePrecision(step);\n    for (let i = 0; i < count; i++) {\n      const a = Math.round((start + i * step) * precision) / precision;\n      let b = Math.round((start + (i + 1) * step) * precision) / precision;\n      if (i === count - 1) {\n        b = Math.max(b, stop);\n      }\n      bins[i] = [a, b];\n    }\n    return bins;\n  }\n  calculatePrecision(step) {\n    let precision = 10;\n    if (isFinite(step) && step > 0) {\n      while (step < 1) {\n        precision *= 10;\n        step *= 10;\n      }\n    }\n    return precision;\n  }\n  calculateNiceStart(a, b, segments) {\n    const binSize = Math.abs(b - a) / segments;\n    const order = Math.floor(Math.log10(binSize));\n    const magnitude = Math.pow(10, order);\n    const start = Math.floor(a / magnitude) * magnitude;\n    return {\n      start,\n      binSize\n    };\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (!this.visible) {\n        this.processedData = void 0;\n        this.animationState.transition(\"updateData\");\n      }\n      const {\n        xKey,\n        yKey,\n        areaPlot,\n        aggregation\n      } = this.properties;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const {\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        yScale,\n        xScale\n      });\n      const props = [keyProperty(xKey, xScaleType), SORT_DOMAIN_GROUPS];\n      if (yKey) {\n        let aggProp = groupCount(\"groupAgg\");\n        if (aggregation === \"count\") {} else if (aggregation === \"sum\") {\n          aggProp = groupSum(\"groupAgg\");\n        } else if (aggregation === \"mean\") {\n          aggProp = groupAverage(\"groupAgg\");\n        }\n        if (areaPlot) {\n          aggProp = area(\"groupAgg\", aggProp);\n        }\n        props.push(valueProperty(yKey, yScaleType, {\n          invalidValue: void 0\n        }), aggProp);\n      } else {\n        let aggProp = groupCount(\"groupAgg\");\n        if (areaPlot) {\n          aggProp = area(\"groupAgg\", aggProp);\n        }\n        props.push(aggProp);\n      }\n      const groupByFn = dataSet => {\n        var _a2;\n        const xExtent = fixNumericExtent(dataSet.domain.keys[0]);\n        if (xExtent.length === 0) {\n          dataSet.domain.groups = [];\n          return () => [];\n        }\n        const bins = isNumber(this.properties.binCount) ? this.calculateNiceBins(xExtent, this.properties.binCount) : (_a2 = this.properties.bins) != null ? _a2 : this.deriveBins(xExtent);\n        const binCount = bins.length;\n        this.calculatedBins = [...bins];\n        return item => {\n          const xValue = item.keys[0];\n          for (let i = 0; i < binCount; i++) {\n            const nextBin = bins[i];\n            if (xValue >= nextBin[0] && xValue < nextBin[1]) {\n              return nextBin;\n            }\n            if (i === binCount - 1 && xValue <= nextBin[1]) {\n              return nextBin;\n            }\n          }\n          return [];\n        };\n      };\n      if (!this.ctx.animationManager.isSkipped() && this.processedData) {\n        props.push(diff(this.processedData, false));\n      }\n      yield this.requestDataModel(dataController, this.data, {\n        props,\n        groupByFn\n      });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    var _a, _b, _c, _d;\n    const {\n      processedData,\n      dataModel\n    } = this;\n    if (!processedData || !dataModel || !this.calculatedBins.length) return [];\n    const yDomain = dataModel.getDomain(this, `groupAgg`, \"aggregate\", processedData);\n    const xDomainMin = (_a = this.calculatedBins) == null ? void 0 : _a[0][0];\n    const xDomainMax = (_d = this.calculatedBins) == null ? void 0 : _d[((_c = (_b = this.calculatedBins) == null ? void 0 : _b.length) != null ? _c : 0) - 1][1];\n    if (direction === \"x\" /* X */) {\n      return fixNumericExtent([xDomainMin, xDomainMax]);\n    }\n    return fixNumericExtent(yDomain);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        id: seriesId,\n        axes,\n        processedData,\n        ctx: {\n          callbackCache\n        }\n      } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!xAxis || !yAxis) {\n        return;\n      }\n      const {\n        scale: xScale\n      } = xAxis;\n      const {\n        scale: yScale\n      } = yAxis;\n      const {\n        xKey,\n        yKey,\n        xName,\n        yName,\n        fill,\n        stroke,\n        strokeWidth,\n        cornerRadius\n      } = this.properties;\n      const {\n        formatter: labelFormatter = params => String(params.value),\n        fontStyle: labelFontStyle,\n        fontWeight: labelFontWeight,\n        fontSize: labelFontSize,\n        fontFamily: labelFontFamily,\n        color: labelColor\n      } = this.properties.label;\n      const nodeData = [];\n      const context = {\n        itemId: (_a = this.properties.yKey) != null ? _a : this.id,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        animationValid: true,\n        visible: this.visible\n      };\n      if (!this.visible || !processedData || processedData.type !== \"grouped\") return context;\n      processedData.data.forEach(group2 => {\n        var _a2;\n        const {\n          aggValues: [[negativeAgg, positiveAgg]] = [[0, 0]],\n          datum,\n          datum: {\n            length: frequency\n          },\n          keys: domain,\n          keys: [xDomainMin, xDomainMax]\n        } = group2;\n        const xMinPx = xScale.convert(xDomainMin);\n        const xMaxPx = xScale.convert(xDomainMax);\n        const total = negativeAgg + positiveAgg;\n        const yZeroPx = yScale.convert(0);\n        const yMaxPx = yScale.convert(total);\n        const w = Math.abs(xMaxPx - xMinPx);\n        const h = Math.abs(yMaxPx - yZeroPx);\n        const x = Math.min(xMinPx, xMaxPx);\n        const y = Math.min(yZeroPx, yMaxPx);\n        let selectionDatumLabel = void 0;\n        if (total !== 0) {\n          selectionDatumLabel = {\n            text: (_a2 = callbackCache.call(labelFormatter, {\n              value: total,\n              datum,\n              seriesId,\n              xKey,\n              yKey,\n              xName,\n              yName\n            })) != null ? _a2 : String(total),\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily,\n            fill: labelColor,\n            x: x + w / 2,\n            y: y + h / 2\n          };\n        }\n        const nodeMidPoint = {\n          x: x + w / 2,\n          y: y + h / 2\n        };\n        const yAxisReversed = yAxis.isReversed();\n        nodeData.push({\n          series: this,\n          datum,\n          // required by SeriesNodeDatum, but might not make sense here\n          // since each selection is an aggregation of multiple data.\n          aggregatedValue: total,\n          frequency,\n          domain,\n          yKey,\n          xKey,\n          x,\n          y,\n          xValue: xMinPx,\n          yValue: yMaxPx,\n          width: w,\n          height: h,\n          midPoint: nodeMidPoint,\n          fill,\n          stroke,\n          cornerRadius,\n          topLeftCornerRadius: !yAxisReversed,\n          topRightCornerRadius: !yAxisReversed,\n          bottomRightCornerRadius: yAxisReversed,\n          bottomLeftCornerRadius: yAxisReversed,\n          opacity: 1,\n          strokeWidth,\n          label: selectionDatumLabel\n        });\n      });\n      nodeData.sort((a, b) => a.x - b.x);\n      return context;\n    });\n  }\n  nodeFactory() {\n    return new Rect();\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        nodeData,\n        datumSelection\n      } = opts;\n      return datumSelection.update(nodeData, rect => {\n        rect.tag = 0 /* Bin */;\n        rect.crisp = true;\n      }, datum => datum.domain.join(\"_\"));\n    });\n  }\n  updateDatumNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        isHighlight: isDatumHighlighted\n      } = opts;\n      const {\n        fillOpacity: seriesFillOpacity,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        shadow,\n        highlightStyle: {\n          item: {\n            fill: highlightedFill,\n            fillOpacity: highlightFillOpacity = seriesFillOpacity,\n            stroke: highlightedStroke,\n            strokeWidth: highlightedDatumStrokeWidth\n          }\n        }\n      } = this.properties;\n      opts.datumSelection.each((rect, datum, index) => {\n        var _a, _b;\n        const {\n          cornerRadius,\n          topLeftCornerRadius,\n          topRightCornerRadius,\n          bottomRightCornerRadius,\n          bottomLeftCornerRadius\n        } = datum;\n        const strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== void 0 ? highlightedDatumStrokeWidth : datum.strokeWidth;\n        const fillOpacity = isDatumHighlighted ? highlightFillOpacity : seriesFillOpacity;\n        rect.fill = (_a = isDatumHighlighted ? highlightedFill : void 0) != null ? _a : datum.fill;\n        rect.stroke = (_b = isDatumHighlighted ? highlightedStroke : void 0) != null ? _b : datum.stroke;\n        rect.fillOpacity = fillOpacity;\n        rect.strokeOpacity = strokeOpacity;\n        rect.strokeWidth = strokeWidth;\n        rect.lineDash = lineDash;\n        rect.lineDashOffset = lineDashOffset;\n        rect.topLeftCornerRadius = topLeftCornerRadius ? cornerRadius : 0;\n        rect.topRightCornerRadius = topRightCornerRadius ? cornerRadius : 0;\n        rect.bottomRightCornerRadius = bottomRightCornerRadius ? cornerRadius : 0;\n        rect.bottomLeftCornerRadius = bottomLeftCornerRadius ? cornerRadius : 0;\n        rect.fillShadow = shadow;\n        rect.zIndex = isDatumHighlighted ? Series.highlightedZIndex : index;\n        rect.visible = datum.height > 0;\n      });\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        labelData,\n        labelSelection\n      } = opts;\n      return labelSelection.update(labelData, text => {\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const labelEnabled = this.isLabelEnabled();\n      opts.labelSelection.each((text, datum) => {\n        const label = datum.label;\n        if (label && labelEnabled) {\n          text.text = label.text;\n          text.x = label.x;\n          text.y = label.y;\n          text.fontStyle = label.fontStyle;\n          text.fontWeight = label.fontWeight;\n          text.fontSize = label.fontSize;\n          text.fontFamily = label.fontFamily;\n          text.fill = label.fill;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  initQuadTree(quadtree) {\n    addHitTestersToQuadtree(quadtree, childrenIter(this.contentGroup.children[0]));\n  }\n  pickNodeClosestDatum(point) {\n    return findQuadtreeMatch(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      xKey,\n      yKey,\n      xName,\n      yName,\n      fill: color,\n      aggregation,\n      tooltip\n    } = this.properties;\n    const {\n      aggregatedValue,\n      frequency,\n      domain: [rangeMin, rangeMax],\n      itemId\n    } = nodeDatum;\n    const title = `${sanitizeHtml(xName != null ? xName : xKey)}: ${xAxis.formatDatum(rangeMin)} - ${xAxis.formatDatum(rangeMax)}`;\n    let content = yKey ? `<b>${sanitizeHtml(yName != null ? yName : yKey)} (${aggregation})</b>: ${yAxis.formatDatum(aggregatedValue)}<br>` : \"\";\n    content += `<b>Frequency</b>: ${frequency}`;\n    const defaults = {\n      title,\n      backgroundColor: color,\n      content\n    };\n    return tooltip.toTooltipHtml(defaults, {\n      datum: {\n        data: nodeDatum.datum,\n        aggregatedValue: nodeDatum.aggregatedValue,\n        domain: nodeDatum.domain,\n        frequency: nodeDatum.frequency\n      },\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      color,\n      title,\n      seriesId: this.id\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || legendType !== \"category\") {\n      return [];\n    }\n    const {\n      xKey,\n      yName,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      strokeOpacity,\n      visible\n    } = this.properties;\n    return [{\n      legendType: \"category\",\n      id: this.id,\n      itemId: xKey,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: (_b = yName != null ? yName : xKey) != null ? _b : \"Frequency\"\n      },\n      marker: {\n        fill: fill != null ? fill : \"rgba(0, 0, 0, 0)\",\n        stroke: stroke != null ? stroke : \"rgba(0, 0, 0, 0)\",\n        fillOpacity,\n        strokeOpacity,\n        strokeWidth\n      }\n    }];\n  }\n  animateEmptyUpdateReady({\n    datumSelection,\n    labelSelection\n  }) {\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(true, this.axes, \"normal\"));\n    fromToMotion(this.id, \"datums\", this.ctx.animationManager, [datumSelection], fns);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n  }\n  animateWaitingUpdateReady(data) {\n    var _a, _b;\n    const dataDiff = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff;\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(true, this.axes, \"normal\"));\n    fromToMotion(this.id, \"datums\", this.ctx.animationManager, [data.datumSelection], fns, (_, datum) => createDatumId(datum.domain), dataDiff);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, data.labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  computeFocusBounds({\n    datumIndex,\n    seriesRect\n  }) {\n    var _a;\n    return computeBarFocusBounds((_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex], this.contentGroup, seriesRect);\n  }\n};\nHistogramSeries.className = \"HistogramSeries\";\nHistogramSeries.type = \"histogram\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeriesModule.ts\nvar HistogramSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"histogram\",\n  instanceConstructor: HistogramSeries,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"bottom\" /* BOTTOM */\n  }, {\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      strokeWidth: 1,\n      fillOpacity: 1,\n      strokeOpacity: 1,\n      lineDash: [0],\n      lineDashOffset: 0,\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR\n      },\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      }\n    }\n  },\n  paletteFactory: ({\n    takeColors\n  }) => {\n    const {\n      fills: [fill],\n      strokes: [stroke]\n    } = takeColors(1);\n    return {\n      fill,\n      stroke\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeriesProperties.ts\nvar LineSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.stroke = \"#874349\";\n    this.strokeWidth = 2;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.marker = new SeriesMarker();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n    this.connectMissingData = false;\n  }\n};\n__decorateClass([Validate(STRING)], LineSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING)], LineSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], LineSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], LineSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], LineSeriesProperties.prototype, \"title\", 2);\n__decorateClass([Validate(COLOR_STRING)], LineSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LineSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO)], LineSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], LineSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LineSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(OBJECT)], LineSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], LineSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], LineSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([Validate(BOOLEAN)], LineSeriesProperties.prototype, \"connectMissingData\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeries.ts\nvar LineSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      hasMarkers: true,\n      pickModes: [2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */, 3 /* NEAREST_NODE */, 0 /* EXACT_SHAPE_MATCH */],\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        path: buildResetPathFn({\n          getOpacity: () => this.getOpacity()\n        }),\n        label: resetLabelFn,\n        marker: (node, datum) => __spreadValues(__spreadValues({}, resetMarkerFn(node)), resetMarkerPositionFn(node, datum))\n      }\n    });\n    this.properties = new LineSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (!this.properties.isValid() || this.data == null) {\n        return;\n      }\n      const {\n        xKey,\n        yKey\n      } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const {\n        isContinuousX,\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const props = [];\n      if (!isContinuousX) {\n        props.push(keyProperty(xKey, xScaleType, {\n          id: \"xKey\"\n        }));\n      }\n      if (animationEnabled) {\n        props.push(animationValidation(isContinuousX ? [\"xValue\"] : void 0));\n        if (this.processedData) {\n          props.push(diff(this.processedData));\n        }\n      }\n      props.push(valueProperty(xKey, xScaleType, {\n        id: \"xValue\"\n      }), valueProperty(yKey, yScaleType, {\n        id: \"yValue\",\n        invalidValue: void 0\n      }));\n      yield this.requestDataModel(dataController, this.data, {\n        props\n      });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const {\n      axes,\n      dataModel,\n      processedData\n    } = this;\n    if (!processedData || !dataModel) return [];\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const xDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    if (direction === \"x\" /* X */) {\n      const domain = dataModel.getDomain(this, `xValue`, \"value\", processedData);\n      if ((xDef == null ? void 0 : xDef.def.type) === \"value\" && xDef.def.valueType === \"category\") {\n        return domain;\n      }\n      return fixNumericExtent(extent(domain), xAxis);\n    } else {\n      const domain = dataModel.getDomain(this, `yValue`, \"value\", processedData);\n      return fixNumericExtent(domain, yAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const {\n        processedData,\n        dataModel,\n        axes\n      } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!processedData || !dataModel || !xAxis || !yAxis) {\n        return;\n      }\n      const {\n        xKey,\n        yKey,\n        xName,\n        yName,\n        marker,\n        label,\n        connectMissingData,\n        legendItemName\n      } = this.properties;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      const size = marker.enabled ? marker.size : 0;\n      const xIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      let moveTo = true;\n      let nextPoint;\n      for (let i = 0; i < processedData.data.length; i++) {\n        const {\n          datum,\n          values\n        } = nextPoint != null ? nextPoint : processedData.data[i];\n        const xDatum = values[xIdx];\n        const yDatum = values[yIdx];\n        if (yDatum === void 0) {\n          moveTo = !connectMissingData;\n        } else {\n          const x = xScale.convert(xDatum) + xOffset;\n          if (isNaN(x)) {\n            moveTo = !connectMissingData;\n            nextPoint = void 0;\n            continue;\n          }\n          nextPoint = ((_c = processedData.data[i + 1]) == null ? void 0 : _c.values[yIdx]) === void 0 ? void 0 : processedData.data[i + 1];\n          const y = yScale.convert(yDatum) + yOffset;\n          const labelText = this.getLabelText(label, {\n            value: yDatum,\n            datum,\n            xKey,\n            yKey,\n            xName,\n            yName,\n            legendItemName\n          }, value => isFiniteNumber(value) ? value.toFixed(2) : String(value));\n          nodeData.push({\n            series: this,\n            datum,\n            yKey,\n            xKey,\n            point: {\n              x,\n              y,\n              moveTo,\n              size\n            },\n            midPoint: {\n              x,\n              y\n            },\n            yValue: yDatum,\n            xValue: xDatum,\n            capDefaults: {\n              lengthRatioMultiplier: this.properties.marker.getDiameter(),\n              lengthMax: Infinity\n            },\n            label: labelText ? {\n              text: labelText,\n              fontStyle: label.fontStyle,\n              fontWeight: label.fontWeight,\n              fontSize: label.fontSize,\n              fontFamily: label.fontFamily,\n              textAlign: \"center\",\n              textBaseline: \"bottom\",\n              fill: label.color\n            } : void 0\n          });\n          moveTo = false;\n        }\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  markerFactory() {\n    const {\n      shape\n    } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        paths: [lineNode],\n        opacity,\n        visible,\n        animationEnabled\n      } = opts;\n      lineNode.setProperties({\n        fill: void 0,\n        lineJoin: \"round\",\n        pointerEvents: 1 /* None */,\n        opacity,\n        stroke: this.properties.stroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.properties.strokeOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset\n      });\n      if (!animationEnabled) {\n        lineNode.visible = visible;\n      }\n      updateClipPath(this, lineNode);\n    });\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      let {\n        nodeData\n      } = opts;\n      const {\n        markerSelection\n      } = opts;\n      const {\n        shape,\n        enabled\n      } = this.properties.marker;\n      nodeData = shape && enabled ? nodeData : [];\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(nodeData, void 0, datum => createDatumId(datum.xValue));\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        markerSelection,\n        isHighlight: highlighted\n      } = opts;\n      const {\n        xKey,\n        yKey,\n        stroke,\n        strokeWidth,\n        strokeOpacity,\n        marker,\n        highlightStyle\n      } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle(), {\n        stroke,\n        strokeWidth,\n        strokeOpacity\n      });\n      const applyTranslation = this.ctx.animationManager.isSkipped();\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, {\n          datum,\n          highlighted,\n          xKey,\n          yKey\n        }, baseStyle, {\n          applyTranslation\n        });\n      });\n      if (!highlighted) {\n        marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.labelSelection.update(this.isLabelEnabled() ? opts.labelData : []);\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        enabled,\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily,\n        color\n      } = this.properties.label;\n      opts.labelSelection.each((text, datum) => {\n        const {\n          point,\n          label\n        } = datum;\n        if (datum && label && enabled) {\n          text.fontStyle = fontStyle;\n          text.fontWeight = fontWeight;\n          text.fontSize = fontSize;\n          text.fontFamily = fontFamily;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n          text.text = label.text;\n          text.x = point.x;\n          text.y = point.y - 10;\n          text.fill = color;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      xKey,\n      yKey,\n      xName,\n      yName,\n      strokeWidth,\n      marker,\n      tooltip\n    } = this.properties;\n    const {\n      datum,\n      xValue,\n      yValue,\n      itemId\n    } = nodeDatum;\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml((_a = this.properties.title) != null ? _a : yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    const baseStyle = mergeDefaults({\n      fill: marker.stroke\n    }, marker.getStyle(), {\n      strokeWidth\n    });\n    const {\n      fill: color\n    } = this.getMarkerStyle(marker, {\n      datum: nodeDatum,\n      xKey,\n      yKey,\n      highlighted: false\n    }, baseStyle);\n    return tooltip.toTooltipHtml({\n      title,\n      content,\n      backgroundColor: color\n    }, __spreadValues({\n      datum,\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      title,\n      color,\n      seriesId: this.id\n    }, this.getModuleTooltipParams()));\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    if (!(((_a = this.data) == null ? void 0 : _a.length) && this.properties.isValid() && legendType === \"category\")) {\n      return [];\n    }\n    const {\n      yKey,\n      yName,\n      stroke,\n      strokeOpacity,\n      strokeWidth,\n      lineDash,\n      title,\n      marker,\n      visible,\n      legendItemName\n    } = this.properties;\n    const color0 = \"rgba(0, 0, 0, 0)\";\n    return [{\n      legendType: \"category\",\n      id: this.id,\n      itemId: yKey,\n      legendItemName,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: (_c = (_b = legendItemName != null ? legendItemName : title) != null ? _b : yName) != null ? _c : yKey\n      },\n      marker: {\n        shape: marker.shape,\n        fill: (_d = marker.fill) != null ? _d : color0,\n        stroke: (_f = (_e = marker.stroke) != null ? _e : stroke) != null ? _f : color0,\n        fillOpacity: (_g = marker.fillOpacity) != null ? _g : 1,\n        strokeOpacity: (_i = (_h = marker.strokeOpacity) != null ? _h : strokeOpacity) != null ? _i : 1,\n        strokeWidth: (_j = marker.strokeWidth) != null ? _j : 0,\n        enabled: marker.enabled\n      },\n      line: {\n        stroke: stroke != null ? stroke : color0,\n        strokeOpacity,\n        strokeWidth,\n        lineDash\n      }\n    }];\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      this.updateLinePaths(opts.paths, opts.contextData);\n    });\n  }\n  updateLinePaths(paths, contextData) {\n    const {\n      nodeData\n    } = contextData;\n    const [lineNode] = paths;\n    const {\n      path: linePath\n    } = lineNode;\n    linePath.clear(true);\n    for (const data of nodeData) {\n      if (data.point.moveTo) {\n        linePath.moveTo(data.point.x, data.point.y);\n      } else {\n        linePath.lineTo(data.point.x, data.point.y);\n      }\n    }\n    lineNode.checkPathDirty();\n  }\n  animateEmptyUpdateReady(animationData) {\n    const {\n      markerSelection,\n      labelSelection,\n      annotationSelections,\n      contextData,\n      paths\n    } = animationData;\n    const {\n      animationManager\n    } = this.ctx;\n    this.updateLinePaths(paths, contextData);\n    pathSwipeInAnimation(this, animationManager, ...paths);\n    resetMotion([markerSelection], resetMarkerPositionFn);\n    markerSwipeScaleInAnimation(this, animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n  }\n  animateReadyResize(animationData) {\n    const {\n      contextData,\n      paths\n    } = animationData;\n    this.updateLinePaths(paths, contextData);\n    super.animateReadyResize(animationData);\n  }\n  animateWaitingUpdateReady(animationData) {\n    var _a, _b;\n    const {\n      animationManager\n    } = this.ctx;\n    const {\n      markerSelection: markerSelections,\n      labelSelection: labelSelections,\n      annotationSelections,\n      contextData,\n      paths,\n      previousContextData\n    } = animationData;\n    const [path] = paths;\n    super.resetAllAnimation(animationData);\n    const update = () => {\n      this.updateLinePaths(paths, contextData);\n    };\n    const skip = () => {\n      animationManager.skipCurrentBatch();\n      update();\n    };\n    if (contextData == null || previousContextData == null) {\n      update();\n      markerFadeInAnimation(this, animationManager, \"added\", markerSelections);\n      pathFadeInAnimation(this, \"path_properties\", animationManager, \"add\", path);\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelections);\n      seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n      return;\n    }\n    const fns = prepareLinePathAnimation(contextData, previousContextData, (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff);\n    if (fns === void 0) {\n      skip();\n      return;\n    } else if (fns.status === \"no-op\") {\n      return;\n    }\n    markerFadeInAnimation(this, animationManager, void 0, markerSelections);\n    fromToMotion(this.id, \"path_properties\", animationManager, [path], fns.pathProperties);\n    pathMotion(this.id, \"path_update\", animationManager, [path], fns.path);\n    if (fns.hasMotion) {\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelections);\n      seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n    }\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  getBandScalePadding() {\n    return {\n      inner: 1,\n      outer: 0.1\n    };\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const {\n      xKey,\n      yKey\n    } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, {\n      datum,\n      xKey,\n      yKey,\n      highlighted: true\n    });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nLineSeries.className = \"LineSeries\";\nLineSeries.type = \"line\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeriesModule.ts\nvar LineSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"line\",\n  instanceConstructor: LineSeries,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }, {\n    type: \"category\" /* CATEGORY */,\n    position: \"bottom\" /* BOTTOM */\n  }],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: {\n        position: {\n          type: \"node\"\n        }\n      },\n      strokeWidth: 2,\n      strokeOpacity: 1,\n      lineDash: [0],\n      lineDashOffset: 0,\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 0\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 1\n        }\n      }\n    }\n  },\n  paletteFactory: params => {\n    const {\n      marker\n    } = markerPaletteFactory(params);\n    return {\n      stroke: marker.fill,\n      marker\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeriesProperties.ts\nvar ScatterSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"top\";\n  }\n};\n__decorateClass([Validate(LABEL_PLACEMENT)], ScatterSeriesLabel.prototype, \"placement\", 2);\nvar ScatterSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.colorRange = [\"#ffff00\", \"#00ff00\", \"#0000ff\"];\n    this.marker = new SeriesMarker();\n    this.label = new ScatterSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([Validate(STRING)], ScatterSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING)], ScatterSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"labelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"labelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([Validate(NUMBER_ARRAY, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"colorDomain\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], ScatterSeriesProperties.prototype, \"colorRange\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"title\", 2);\n__decorateClass([Validate(OBJECT)], ScatterSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], ScatterSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], ScatterSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeries.ts\nvar ScatterSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */, 3 /* NEAREST_NODE */, 0 /* EXACT_SHAPE_MATCH */],\n      pathsPerSeries: 0,\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        marker: resetMarkerFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new ScatterSeriesProperties();\n    this.colorScale = new ColorScale();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      if (!this.properties.isValid() || this.data == null || !this.visible) return;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const {\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const colorScaleType = this.colorScale.type;\n      const {\n        xKey,\n        yKey,\n        labelKey,\n        colorKey,\n        colorDomain,\n        colorRange\n      } = this.properties;\n      const {\n        dataModel,\n        processedData\n      } = yield this.requestDataModel(dataController, this.data, {\n        props: [keyProperty(xKey, xScaleType, {\n          id: \"xKey-raw\"\n        }), keyProperty(yKey, yScaleType, {\n          id: \"yKey-raw\"\n        }), ...(labelKey ? [keyProperty(labelKey, \"band\", {\n          id: `labelKey-raw`\n        })] : []), valueProperty(xKey, xScaleType, {\n          id: `xValue`\n        }), valueProperty(yKey, yScaleType, {\n          id: `yValue`\n        }), ...(colorKey ? [valueProperty(colorKey, colorScaleType, {\n          id: `colorValue`\n        })] : []), ...(labelKey ? [valueProperty(labelKey, \"band\", {\n          id: `labelValue`\n        })] : [])]\n      });\n      if (colorKey) {\n        const colorKeyIdx = dataModel.resolveProcessedDataIndexById(this, `colorValue`);\n        this.colorScale.domain = (_c = colorDomain != null ? colorDomain : processedData.domain.values[colorKeyIdx]) != null ? _c : [];\n        this.colorScale.range = colorRange;\n        this.colorScale.update();\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const {\n      dataModel,\n      processedData\n    } = this;\n    if (!processedData || !dataModel) return [];\n    const id = direction === \"x\" /* X */ ? `xValue` : `yValue`;\n    const dataDef = dataModel.resolveProcessedDataDefById(this, id);\n    const domain = dataModel.getDomain(this, id, \"value\", processedData);\n    if ((dataDef == null ? void 0 : dataDef.def.type) === \"value\" && (dataDef == null ? void 0 : dataDef.def.valueType) === \"category\") {\n      return domain;\n    }\n    const axis = this.axes[direction];\n    return fixNumericExtent(extent(domain), axis);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const {\n        axes,\n        dataModel,\n        processedData,\n        colorScale\n      } = this;\n      const {\n        xKey,\n        yKey,\n        labelKey,\n        colorKey,\n        xName,\n        yName,\n        labelName,\n        marker,\n        label,\n        visible\n      } = this.properties;\n      const {\n        placement\n      } = label;\n      const markerShape = getMarker(marker.shape);\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!(dataModel && processedData && visible && xAxis && yAxis)) {\n        return;\n      }\n      const xDataIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yDataIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      const colorDataIdx = colorKey ? dataModel.resolveProcessedDataIndexById(this, `colorValue`) : -1;\n      const labelDataIdx = labelKey ? dataModel.resolveProcessedDataIndexById(this, `labelValue`) : -1;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      const font = label.getFont();\n      for (const {\n        values,\n        datum\n      } of (_c = processedData.data) != null ? _c : []) {\n        const xDatum = values[xDataIdx];\n        const yDatum = values[yDataIdx];\n        const x = xScale.convert(xDatum) + xOffset;\n        const y = yScale.convert(yDatum) + yOffset;\n        const labelText = this.getLabelText(label, {\n          value: labelKey ? values[labelDataIdx] : yDatum,\n          datum,\n          xKey,\n          yKey,\n          labelKey,\n          xName,\n          yName,\n          labelName\n        });\n        const size = Text.getTextSize(labelText, font);\n        const fill = colorKey ? colorScale.convert(values[colorDataIdx]) : void 0;\n        nodeData.push({\n          series: this,\n          itemId: yKey,\n          yKey,\n          xKey,\n          datum,\n          xValue: xDatum,\n          yValue: yDatum,\n          capDefaults: {\n            lengthRatioMultiplier: marker.getDiameter(),\n            lengthMax: Infinity\n          },\n          point: {\n            x,\n            y,\n            size: marker.size\n          },\n          midPoint: {\n            x,\n            y\n          },\n          fill,\n          label: __spreadValues({\n            text: labelText\n          }, size),\n          marker: markerShape,\n          placement\n        });\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  getLabelData() {\n    var _a, _b;\n    return (_b = (_a = this.contextNodeData) == null ? void 0 : _a.labelData) != null ? _b : [];\n  }\n  markerFactory() {\n    const {\n      shape\n    } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        nodeData,\n        markerSelection\n      } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(this.properties.marker.enabled ? nodeData : []);\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        markerSelection,\n        isHighlight: highlighted\n      } = opts;\n      const {\n        xKey,\n        yKey,\n        labelKey,\n        marker,\n        highlightStyle\n      } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle());\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, {\n          datum,\n          highlighted,\n          xKey,\n          yKey,\n          labelKey\n        }, baseStyle);\n      });\n      if (!highlighted) {\n        marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const placedLabels = this.isLabelEnabled() ? (_b = (_a = this.chart) == null ? void 0 : _a.placeLabels().get(this)) != null ? _b : [] : [];\n      return opts.labelSelection.update(placedLabels.map(({\n        datum,\n        x,\n        y\n      }) => __spreadProps(__spreadValues({}, datum), {\n        point: {\n          x,\n          y,\n          size: datum.point.size\n        },\n        placement: \"top\"\n      })), text => {\n        text.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        label\n      } = this.properties;\n      opts.labelSelection.each((text, datum) => {\n        var _a, _b, _c, _d;\n        text.text = datum.label.text;\n        text.fill = label.color;\n        text.x = (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : 0;\n        text.y = (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : 0;\n        text.fontStyle = label.fontStyle;\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = \"left\";\n        text.textBaseline = \"top\";\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      xKey,\n      yKey,\n      labelKey,\n      xName,\n      yName,\n      labelName,\n      title = yName,\n      marker,\n      tooltip\n    } = this.properties;\n    const {\n      datum,\n      xValue,\n      yValue,\n      label,\n      itemId\n    } = nodeDatum;\n    const baseStyle = mergeDefaults({\n      fill: nodeDatum.fill,\n      strokeWidth: this.getStrokeWidth(marker.strokeWidth)\n    }, marker.getStyle());\n    const {\n      fill: color = \"gray\"\n    } = this.getMarkerStyle(marker, {\n      datum: nodeDatum,\n      highlighted: false,\n      xKey,\n      yKey,\n      labelKey\n    }, baseStyle);\n    const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n    const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n    let content = `<b>${sanitizeHtml(xName != null ? xName : xKey)}</b>: ${xString}<br><b>${sanitizeHtml(yName != null ? yName : yKey)}</b>: ${yString}`;\n    if (labelKey) {\n      content = `<b>${sanitizeHtml(labelName != null ? labelName : labelKey)}</b>: ${sanitizeHtml(label.text)}<br>` + content;\n    }\n    return tooltip.toTooltipHtml({\n      title,\n      content,\n      backgroundColor: color\n    }, __spreadValues({\n      datum,\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      labelKey,\n      labelName,\n      title,\n      color,\n      seriesId: this.id\n    }, this.getModuleTooltipParams()));\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e, _f;\n    const {\n      yKey,\n      yName,\n      title,\n      marker,\n      visible\n    } = this.properties;\n    const {\n      fill,\n      stroke,\n      fillOpacity,\n      strokeOpacity,\n      strokeWidth\n    } = marker;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    return [{\n      legendType: \"category\",\n      id: this.id,\n      itemId: yKey,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: (_b = title != null ? title : yName) != null ? _b : yKey\n      },\n      marker: {\n        shape: marker.shape,\n        fill: (_d = (_c = marker.fill) != null ? _c : fill) != null ? _d : \"rgba(0, 0, 0, 0)\",\n        stroke: (_f = (_e = marker.stroke) != null ? _e : stroke) != null ? _f : \"rgba(0, 0, 0, 0)\",\n        fillOpacity: fillOpacity != null ? fillOpacity : 1,\n        strokeOpacity: strokeOpacity != null ? strokeOpacity : 1,\n        strokeWidth: strokeWidth != null ? strokeWidth : 0\n      }\n    }];\n  }\n  animateEmptyUpdateReady(data) {\n    const {\n      markerSelection,\n      labelSelection,\n      annotationSelections\n    } = data;\n    markerScaleInAnimation(this, this.ctx.animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const {\n      xKey,\n      yKey,\n      labelKey\n    } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, {\n      datum,\n      xKey,\n      yKey,\n      labelKey,\n      highlighted: true\n    });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nScatterSeries.className = \"ScatterSeries\";\nScatterSeries.type = \"scatter\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeriesModule.ts\nvar ScatterSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"scatter\",\n  instanceConstructor: ScatterSeries,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"bottom\" /* BOTTOM */\n  }, {\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: {\n        position: {\n          type: \"node\"\n        }\n      },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        fillOpacity: 0.8\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 1\n        }\n      }\n    }\n  },\n  paletteFactory: markerPaletteFactory\n};\n\n// packages/ag-charts-community/src/scene/sectorBox.ts\nvar SectorBox = class _SectorBox {\n  constructor(startAngle, endAngle, innerRadius, outerRadius) {\n    this.startAngle = startAngle;\n    this.endAngle = endAngle;\n    this.innerRadius = innerRadius;\n    this.outerRadius = outerRadius;\n  }\n  clone() {\n    const {\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius\n    } = this;\n    return new _SectorBox(startAngle, endAngle, innerRadius, outerRadius);\n  }\n  [interpolate](other, d) {\n    return new _SectorBox(this.startAngle * (1 - d) + other.startAngle * d, this.endAngle * (1 - d) + other.endAngle * d, this.innerRadius * (1 - d) + other.innerRadius * d, this.outerRadius * (1 - d) + other.outerRadius * d);\n  }\n};\n\n// packages/ag-charts-community/src/scene/util/sector.ts\nfunction isPointInSector(x, y, sector) {\n  const radius = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n  const {\n    innerRadius,\n    outerRadius\n  } = sector;\n  if (sector.startAngle === sector.endAngle || radius < Math.min(innerRadius, outerRadius) || radius > Math.max(innerRadius, outerRadius)) {\n    return false;\n  }\n  const startAngle = normalizeAngle180(sector.startAngle);\n  const endAngle = normalizeAngle180(sector.endAngle);\n  const angle = Math.atan2(y, x);\n  return startAngle < endAngle ? angle <= endAngle && angle >= startAngle : angle <= endAngle && angle >= -Math.PI || angle >= startAngle && angle <= Math.PI;\n}\nfunction lineCollidesSector(line, sector) {\n  const {\n    startAngle,\n    endAngle,\n    innerRadius,\n    outerRadius\n  } = sector;\n  const outerStart = {\n    x: outerRadius * Math.cos(startAngle),\n    y: outerRadius * Math.sin(startAngle)\n  };\n  const outerEnd = {\n    x: outerRadius * Math.cos(endAngle),\n    y: outerRadius * Math.sin(endAngle)\n  };\n  const innerStart = innerRadius === 0 ? {\n    x: 0,\n    y: 0\n  } : {\n    x: innerRadius * Math.cos(startAngle),\n    y: innerRadius * Math.sin(startAngle)\n  };\n  const innerEnd = innerRadius === 0 ? {\n    x: 0,\n    y: 0\n  } : {\n    x: innerRadius * Math.cos(endAngle),\n    y: innerRadius * Math.sin(endAngle)\n  };\n  return segmentIntersection(line.start.x, line.start.y, line.end.x, line.end.y, outerStart.x, outerStart.y, innerStart.x, innerStart.y) || segmentIntersection(line.start.x, line.start.y, line.end.x, line.end.y, outerEnd.x, outerEnd.y, innerEnd.x, innerEnd.y) || arcIntersections(0, 0, outerRadius, startAngle, endAngle, true, line.start.x, line.start.y, line.end.x, line.end.y);\n}\nfunction boxCollidesSector(box, sector) {\n  const topLeft = {\n    x: box.x,\n    y: box.y\n  };\n  const topRight = {\n    x: box.x + box.width,\n    y: box.y\n  };\n  const bottomLeft = {\n    x: box.x,\n    y: box.y + box.height\n  };\n  const bottomRight = {\n    x: box.x + box.width,\n    y: box.y + box.height\n  };\n  return lineCollidesSector({\n    start: topLeft,\n    end: topRight\n  }, sector) || lineCollidesSector({\n    start: bottomLeft,\n    end: bottomRight\n  }, sector);\n}\nfunction radiiScalingFactor(r, sweep, a, b) {\n  if (a === 0 && b === 0) return 0;\n  const fs1 = Math.asin(Math.abs(1 * a) / (r + 1 * a)) + Math.asin(Math.abs(1 * b) / (r + 1 * b)) - sweep;\n  if (fs1 < 0) return 1;\n  let start = 0;\n  let end = 1;\n  for (let i = 0; i < 8; i += 1) {\n    const s = (start + end) / 2;\n    const fs = Math.asin(Math.abs(s * a) / (r + s * a)) + Math.asin(Math.abs(s * b) / (r + s * b)) - sweep;\n    if (fs < 0) {\n      start = s;\n    } else {\n      end = s;\n    }\n  }\n  return start;\n}\nvar delta = 1e-6;\nfunction clockwiseAngle(angle, relativeToStartAngle) {\n  if (angleBetween(angle, relativeToStartAngle) < delta) {\n    return relativeToStartAngle;\n  } else {\n    return normalizeAngle360(angle - relativeToStartAngle) + relativeToStartAngle;\n  }\n}\nfunction clockwiseAngles(startAngle, endAngle, relativeToStartAngle = 0) {\n  const fullPie = Math.abs(endAngle - startAngle) >= 2 * Math.PI;\n  const sweepAngle = fullPie ? 2 * Math.PI : normalizeAngle360(endAngle - startAngle);\n  startAngle = clockwiseAngle(startAngle, relativeToStartAngle);\n  endAngle = startAngle + sweepAngle;\n  return {\n    startAngle,\n    endAngle\n  };\n}\nfunction arcRadialLineIntersectionAngle(cx, cy, r, startAngle, endAngle, clipAngle) {\n  const sinA = Math.sin(clipAngle);\n  const cosA = Math.cos(clipAngle);\n  const c = __pow(cx, 2) + __pow(cy, 2) - __pow(r, 2);\n  let p0x = NaN;\n  let p0y = NaN;\n  let p1x = NaN;\n  let p1y = NaN;\n  if (cosA > 0.5) {\n    const tanA = sinA / cosA;\n    const a = 1 + __pow(tanA, 2);\n    const b = -2 * (cx + cy * tanA);\n    const d = __pow(b, 2) - 4 * a * c;\n    if (d < 0) return;\n    const x0 = (-b + Math.sqrt(d)) / (2 * a);\n    const x1 = (-b - Math.sqrt(d)) / (2 * a);\n    p0x = x0;\n    p0y = x0 * tanA;\n    p1x = x1;\n    p1y = x1 * tanA;\n  } else {\n    const cotA = cosA / sinA;\n    const a = 1 + __pow(cotA, 2);\n    const b = -2 * (cy + cx * cotA);\n    const d = __pow(b, 2) - 4 * a * c;\n    if (d < 0) return;\n    const y0 = (-b + Math.sqrt(d)) / (2 * a);\n    const y1 = (-b - Math.sqrt(d)) / (2 * a);\n    p0x = y0 * cotA;\n    p0y = y0;\n    p1x = y1 * cotA;\n    p1y = y1;\n  }\n  const normalisedX = cosA;\n  const normalisedY = sinA;\n  const p0DotNormalized = p0x * normalisedX + p0y * normalisedY;\n  const p1DotNormalized = p1x * normalisedX + p1y * normalisedY;\n  const a0 = p0DotNormalized > 0 ? clockwiseAngle(Math.atan2(p0y - cy, p0x - cx), startAngle) : NaN;\n  const a1 = p1DotNormalized > 0 ? clockwiseAngle(Math.atan2(p1y - cy, p1x - cx), startAngle) : NaN;\n  if (a0 >= startAngle && a0 <= endAngle) {\n    return a0;\n  } else if (a1 >= startAngle && a1 <= endAngle) {\n    return a1;\n  }\n}\nfunction arcCircleIntersectionAngle(cx, cy, r, startAngle, endAngle, circleR) {\n  const d = Math.hypot(cx, cy);\n  const d1 = (__pow(d, 2) - __pow(r, 2) + __pow(circleR, 2)) / (2 * d);\n  const d2 = d - d1;\n  const theta = Math.atan2(cy, cx);\n  const deltaTheta = Math.acos(-d2 / r);\n  const a0 = clockwiseAngle(theta + deltaTheta, startAngle);\n  const a1 = clockwiseAngle(theta - deltaTheta, startAngle);\n  if (a0 >= startAngle && a0 <= endAngle) {\n    return a0;\n  } else if (a1 >= startAngle && a1 <= endAngle) {\n    return a1;\n  }\n}\n\n// packages/ag-charts-community/src/scene/shape/sector.ts\nvar Arc = class {\n  constructor(cx, cy, r, a0, a1) {\n    this.cx = cx;\n    this.cy = cy;\n    this.r = r;\n    this.a0 = a0;\n    this.a1 = a1;\n    if (this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n  isValid() {\n    return Number.isFinite(this.a0) && Number.isFinite(this.a1);\n  }\n  pointAt(a) {\n    return {\n      x: this.cx + this.r * Math.cos(a),\n      y: this.cy + this.r * Math.sin(a)\n    };\n  }\n  clipStart(a) {\n    if (a == null || !this.isValid() || a < this.a0) return;\n    this.a0 = a;\n    if (Number.isNaN(a) || this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n  clipEnd(a) {\n    if (a == null || !this.isValid() || a > this.a1) return;\n    this.a1 = a;\n    if (Number.isNaN(a) || this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n};\nvar Sector = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.centerX = 0;\n    this.centerY = 0;\n    this.innerRadius = 10;\n    this.outerRadius = 20;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.clipSector = void 0;\n    this.concentricEdgeInset = 0;\n    this.radialEdgeInset = 0;\n    this.startOuterCornerRadius = 0;\n    this.endOuterCornerRadius = 0;\n    this.startInnerCornerRadius = 0;\n    this.endInnerCornerRadius = 0;\n  }\n  set inset(value) {\n    this.concentricEdgeInset = value;\n    this.radialEdgeInset = value;\n  }\n  set cornerRadius(value) {\n    this.startOuterCornerRadius = value;\n    this.endOuterCornerRadius = value;\n    this.startInnerCornerRadius = value;\n    this.endInnerCornerRadius = value;\n  }\n  computeBBox() {\n    const radius = this.outerRadius;\n    return new BBox(this.centerX - radius, this.centerY - radius, radius * 2, radius * 2);\n  }\n  normalizedRadii() {\n    const {\n      concentricEdgeInset\n    } = this;\n    return {\n      innerRadius: Math.max(Math.min(this.innerRadius, this.outerRadius) + concentricEdgeInset, 0),\n      outerRadius: Math.max(Math.max(this.innerRadius, this.outerRadius) - concentricEdgeInset, 0)\n    };\n  }\n  normalizedClipSector() {\n    const {\n      clipSector\n    } = this;\n    if (clipSector == null) return;\n    const {\n      startAngle,\n      endAngle\n    } = clockwiseAngles(this.startAngle, this.endAngle);\n    const {\n      innerRadius,\n      outerRadius\n    } = this.normalizedRadii();\n    const clipAngles = clockwiseAngles(clipSector.startAngle, clipSector.endAngle, startAngle);\n    return new SectorBox(Math.max(startAngle, clipAngles.startAngle), Math.min(endAngle, clipAngles.endAngle), Math.max(innerRadius, clipSector.innerRadius), Math.min(outerRadius, clipSector.outerRadius));\n  }\n  getAngleOffset(radius) {\n    return radius > 0 ? this.radialEdgeInset / radius : 0;\n  }\n  arc(r, angleSweep, a0, a1, outerArc, innerArc, start, inner) {\n    if (r <= 0) return;\n    const {\n      startAngle,\n      endAngle\n    } = clockwiseAngles(this.startAngle, this.endAngle);\n    const {\n      innerRadius,\n      outerRadius\n    } = this.normalizedRadii();\n    const clipSector = this.normalizedClipSector();\n    if (inner && innerRadius <= 0) return;\n    const innerAngleOffset = this.getAngleOffset(innerRadius);\n    const outerAngleOffset = this.getAngleOffset(outerRadius);\n    const angleOffset = inner ? this.getAngleOffset(innerRadius + r) : this.getAngleOffset(outerRadius - r);\n    const angle = start ? startAngle + angleOffset + angleSweep : endAngle - angleOffset - angleSweep;\n    const radius = inner ? innerRadius + r : outerRadius - r;\n    const cx = radius * Math.cos(angle);\n    const cy = radius * Math.sin(angle);\n    if (clipSector != null) {\n      const delta2 = 1e-6;\n      if (!start && !(angle >= startAngle - delta2 && angle <= clipSector.endAngle - delta2)) return;\n      if (start && !(angle >= clipSector.startAngle + delta2 && angle <= endAngle - delta2)) return;\n      if (inner && !(radius >= clipSector.innerRadius - delta2)) return;\n      if (!inner && !(radius <= clipSector.outerRadius + delta2)) return;\n    }\n    const arc = new Arc(cx, cy, r, a0, a1);\n    if (clipSector != null) {\n      if (inner) {\n        arc.clipStart(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.endAngle - innerAngleOffset));\n        arc.clipEnd(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.startAngle + innerAngleOffset));\n      } else {\n        arc.clipStart(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.startAngle + outerAngleOffset));\n        arc.clipEnd(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.endAngle - outerAngleOffset));\n      }\n      let circleClipStart;\n      let circleClipEnd;\n      if (start) {\n        circleClipStart = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.innerRadius);\n        circleClipEnd = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.outerRadius);\n      } else {\n        circleClipStart = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.outerRadius);\n        circleClipEnd = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.innerRadius);\n      }\n      arc.clipStart(circleClipStart);\n      arc.clipEnd(circleClipEnd);\n      if (circleClipStart != null) {\n        const {\n          x: x2,\n          y: y2\n        } = arc.pointAt(circleClipStart);\n        const theta2 = clockwiseAngle(Math.atan2(y2, x2), startAngle);\n        if (start) {\n          innerArc == null ? void 0 : innerArc.clipStart(theta2);\n        } else {\n          outerArc.clipEnd(theta2);\n        }\n      }\n      if (circleClipEnd != null) {\n        const {\n          x: x2,\n          y: y2\n        } = arc.pointAt(circleClipEnd);\n        const theta2 = clockwiseAngle(Math.atan2(y2, x2), startAngle);\n        if (start) {\n          outerArc.clipStart(theta2);\n        } else {\n          innerArc == null ? void 0 : innerArc.clipEnd(theta2);\n        }\n      }\n    }\n    if (clipSector != null) {\n      const {\n        x: x2,\n        y: y2\n      } = arc.pointAt((arc.a0 + arc.a1) / 2);\n      if (!isPointInSector(x2, y2, clipSector)) return;\n    }\n    const {\n      x,\n      y\n    } = arc.pointAt(start === inner ? arc.a0 : arc.a1);\n    const theta = clockwiseAngle(Math.atan2(y, x), startAngle);\n    const radialArc = inner ? innerArc : outerArc;\n    if (start) {\n      radialArc == null ? void 0 : radialArc.clipStart(theta);\n    } else {\n      radialArc == null ? void 0 : radialArc.clipEnd(theta);\n    }\n    return arc;\n  }\n  updatePath() {\n    var _a, _b, _c, _d, _e;\n    const delta2 = 1e-6;\n    const {\n      path,\n      centerX,\n      centerY,\n      concentricEdgeInset,\n      radialEdgeInset\n    } = this;\n    let {\n      startOuterCornerRadius,\n      endOuterCornerRadius,\n      startInnerCornerRadius,\n      endInnerCornerRadius\n    } = this;\n    const {\n      startAngle,\n      endAngle\n    } = clockwiseAngles(this.startAngle, this.endAngle);\n    const {\n      innerRadius,\n      outerRadius\n    } = this.normalizedRadii();\n    const clipSector = this.normalizedClipSector();\n    const sweepAngle = endAngle - startAngle;\n    const fullPie = sweepAngle >= 2 * Math.PI - delta2;\n    path.clear();\n    if (((_a = clipSector == null ? void 0 : clipSector.startAngle) != null ? _a : startAngle) === ((_b = clipSector == null ? void 0 : clipSector.endAngle) != null ? _b : endAngle)) {\n      return;\n    } else if (fullPie && this.clipSector == null && startOuterCornerRadius === 0 && endOuterCornerRadius === 0 && startInnerCornerRadius === 0 && endInnerCornerRadius === 0) {\n      path.moveTo(centerX + outerRadius * Math.cos(startAngle), centerY + outerRadius * Math.sin(startAngle));\n      path.arc(centerX, centerY, outerRadius, startAngle, endAngle);\n      if (innerRadius > concentricEdgeInset) {\n        path.moveTo(centerX + innerRadius * Math.cos(endAngle), centerY + innerRadius * Math.sin(endAngle));\n        path.arc(centerX, centerY, innerRadius, endAngle, startAngle, true);\n      }\n      path.closePath();\n      return;\n    }\n    const innerAngleOffset = this.getAngleOffset(innerRadius);\n    const outerAngleOffset = this.getAngleOffset(outerRadius);\n    const outerAngleExceeded = sweepAngle < 2 * outerAngleOffset;\n    if (outerAngleExceeded) return;\n    const hasInnerSweep = ((_c = clipSector == null ? void 0 : clipSector.innerRadius) != null ? _c : innerRadius) > concentricEdgeInset;\n    const innerAngleExceeded = innerRadius < concentricEdgeInset || sweepAngle < 2 * innerAngleOffset;\n    const radialLength = outerRadius - innerRadius;\n    const maxRadialLength = Math.max(startOuterCornerRadius, startInnerCornerRadius, endOuterCornerRadius, endInnerCornerRadius);\n    const initialScalingFactor = maxRadialLength > 0 ? Math.min(radialLength / maxRadialLength, 1) : 1;\n    startOuterCornerRadius *= initialScalingFactor;\n    endOuterCornerRadius *= initialScalingFactor;\n    startInnerCornerRadius *= initialScalingFactor;\n    endInnerCornerRadius *= initialScalingFactor;\n    const outerScalingFactor = radiiScalingFactor(outerRadius, sweepAngle - 2 * outerAngleOffset, -startOuterCornerRadius, -endOuterCornerRadius);\n    startOuterCornerRadius *= outerScalingFactor;\n    endOuterCornerRadius *= outerScalingFactor;\n    if (!innerAngleExceeded && hasInnerSweep) {\n      const innerScalingFactor = radiiScalingFactor(innerRadius, sweepAngle - 2 * innerAngleOffset, startInnerCornerRadius, endInnerCornerRadius);\n      startInnerCornerRadius *= innerScalingFactor;\n      endInnerCornerRadius *= innerScalingFactor;\n    } else {\n      startInnerCornerRadius = 0;\n      endInnerCornerRadius = 0;\n    }\n    const maxCombinedRadialLength = Math.max(startOuterCornerRadius + startInnerCornerRadius, endOuterCornerRadius + endInnerCornerRadius);\n    const edgesScalingFactor = maxCombinedRadialLength > 0 ? Math.min(radialLength / maxCombinedRadialLength, 1) : 1;\n    startOuterCornerRadius *= edgesScalingFactor;\n    endOuterCornerRadius *= edgesScalingFactor;\n    startInnerCornerRadius *= edgesScalingFactor;\n    endInnerCornerRadius *= edgesScalingFactor;\n    let startOuterCornerRadiusAngleSweep = 0;\n    let endOuterCornerRadiusAngleSweep = 0;\n    const startOuterCornerRadiusSweep = startOuterCornerRadius / (outerRadius - startOuterCornerRadius);\n    const endOuterCornerRadiusSweep = endOuterCornerRadius / (outerRadius - endOuterCornerRadius);\n    if (startOuterCornerRadiusSweep >= 0 && startOuterCornerRadiusSweep < 1 - delta2) {\n      startOuterCornerRadiusAngleSweep = Math.asin(startOuterCornerRadiusSweep);\n    } else {\n      startOuterCornerRadiusAngleSweep = sweepAngle / 2;\n      const maxStartOuterCornerRadius = outerRadius / (1 / Math.sin(startOuterCornerRadiusAngleSweep) + 1);\n      startOuterCornerRadius = Math.min(maxStartOuterCornerRadius, startOuterCornerRadius);\n    }\n    if (endOuterCornerRadiusSweep >= 0 && endOuterCornerRadiusSweep < 1 - delta2) {\n      endOuterCornerRadiusAngleSweep = Math.asin(endOuterCornerRadiusSweep);\n    } else {\n      endOuterCornerRadiusAngleSweep = sweepAngle / 2;\n      const maxEndOuterCornerRadius = outerRadius / (1 / Math.sin(endOuterCornerRadiusAngleSweep) + 1);\n      endOuterCornerRadius = Math.min(maxEndOuterCornerRadius, endOuterCornerRadius);\n    }\n    const startInnerCornerRadiusAngleSweep = Math.asin(startInnerCornerRadius / (innerRadius + startInnerCornerRadius));\n    const endInnerCornerRadiusAngleSweep = Math.asin(endInnerCornerRadius / (innerRadius + endInnerCornerRadius));\n    const outerArcRadius = (_d = clipSector == null ? void 0 : clipSector.outerRadius) != null ? _d : outerRadius;\n    const outerArcRadiusOffset = this.getAngleOffset(outerArcRadius);\n    const outerArc = new Arc(0, 0, outerArcRadius, startAngle + outerArcRadiusOffset, endAngle - outerArcRadiusOffset);\n    const innerArcRadius = (_e = clipSector == null ? void 0 : clipSector.innerRadius) != null ? _e : innerRadius;\n    const innerArcRadiusOffset = this.getAngleOffset(innerArcRadius);\n    const innerArc = hasInnerSweep ? new Arc(0, 0, innerArcRadius, startAngle + innerArcRadiusOffset, endAngle - innerArcRadiusOffset) : void 0;\n    if (clipSector != null) {\n      outerArc.clipStart(clipSector.startAngle);\n      outerArc.clipEnd(clipSector.endAngle);\n      innerArc == null ? void 0 : innerArc.clipStart(clipSector.startAngle);\n      innerArc == null ? void 0 : innerArc.clipEnd(clipSector.endAngle);\n    }\n    const startOuterArc = this.arc(startOuterCornerRadius, startOuterCornerRadiusAngleSweep, startAngle - Math.PI * 0.5, startAngle + startOuterCornerRadiusAngleSweep, outerArc, innerArc, true, false);\n    const endOuterArc = this.arc(endOuterCornerRadius, endOuterCornerRadiusAngleSweep, endAngle - endOuterCornerRadiusAngleSweep, endAngle + Math.PI * 0.5, outerArc, innerArc, false, false);\n    const endInnerArc = this.arc(endInnerCornerRadius, endInnerCornerRadiusAngleSweep, endAngle + Math.PI * 0.5, endAngle + Math.PI - endInnerCornerRadiusAngleSweep, outerArc, innerArc, false, true);\n    const startInnerArc = this.arc(startInnerCornerRadius, startInnerCornerRadiusAngleSweep, startAngle + Math.PI + startInnerCornerRadiusAngleSweep, startAngle + Math.PI * 1.5, outerArc, innerArc, true, true);\n    if (innerAngleExceeded) {\n      const x = sweepAngle < Math.PI * 0.5 ? radialEdgeInset * (1 + Math.cos(sweepAngle)) / Math.sin(sweepAngle) : NaN;\n      let r;\n      if (x > 0 && x < outerRadius) {\n        r = Math.max(Math.hypot(radialEdgeInset, x), innerRadius);\n      } else {\n        r = innerRadius;\n      }\n      const midAngle = startAngle + sweepAngle * 0.5;\n      path.moveTo(centerX + r * Math.cos(midAngle), centerY + r * Math.sin(midAngle));\n    } else if ((startInnerArc == null ? void 0 : startInnerArc.isValid()) === true) {\n      const {\n        x,\n        y\n      } = startInnerArc.pointAt(startInnerArc.a1);\n      path.moveTo(centerX + x, centerY + y);\n    } else if ((innerArc == null ? void 0 : innerArc.isValid()) === true) {\n      const {\n        x,\n        y\n      } = innerArc.pointAt(innerArc.a0);\n      path.moveTo(centerX + x, centerY + y);\n    } else {\n      const midAngle = startAngle + sweepAngle / 2;\n      const cx = innerRadius * Math.cos(midAngle);\n      const cy = innerRadius * Math.sin(midAngle);\n      path.moveTo(centerX + cx, centerY + cy);\n    }\n    if ((startOuterArc == null ? void 0 : startOuterArc.isValid()) === true) {\n      const {\n        cx,\n        cy,\n        r,\n        a0,\n        a1\n      } = startOuterArc;\n      path.arc(centerX + cx, centerY + cy, r, a0, a1);\n    }\n    if (outerArc.isValid()) {\n      const {\n        r,\n        a0,\n        a1\n      } = outerArc;\n      path.arc(centerX, centerY, r, a0, a1);\n    }\n    if ((endOuterArc == null ? void 0 : endOuterArc.isValid()) === true) {\n      const {\n        cx,\n        cy,\n        r,\n        a0,\n        a1\n      } = endOuterArc;\n      path.arc(centerX + cx, centerY + cy, r, a0, a1);\n    }\n    if (!innerAngleExceeded) {\n      if ((endInnerArc == null ? void 0 : endInnerArc.isValid()) === true) {\n        const {\n          cx,\n          cy,\n          r,\n          a0,\n          a1\n        } = endInnerArc;\n        path.arc(centerX + cx, centerY + cy, r, a0, a1);\n      }\n      if ((innerArc == null ? void 0 : innerArc.isValid()) === true) {\n        const {\n          r,\n          a0,\n          a1\n        } = innerArc;\n        path.arc(centerX, centerY, r, a1, a0, true);\n      }\n      if ((startInnerArc == null ? void 0 : startInnerArc.isValid()) === true) {\n        const {\n          cx,\n          cy,\n          r,\n          a0,\n          a1\n        } = startInnerArc;\n        path.arc(centerX + cx, centerY + cy, r, a0, a1);\n      }\n    }\n    path.closePath();\n  }\n  isPointInPath(x, y) {\n    var _a;\n    const point = this.transformPoint(x, y);\n    const {\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius\n    } = (_a = this.clipSector) != null ? _a : this;\n    return isPointInSector(point.x, point.y, {\n      startAngle,\n      endAngle,\n      innerRadius: Math.min(innerRadius, outerRadius),\n      outerRadius: Math.max(innerRadius, outerRadius)\n    });\n  }\n};\nSector.className = \"Sector\";\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"centerX\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"centerY\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"innerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"outerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"startAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"endAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"clipSector\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"concentricEdgeInset\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"radialEdgeInset\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"startOuterCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"endOuterCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"startInnerCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"endInnerCornerRadius\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeriesProperties.ts\nvar DonutTitle = class extends Caption {\n  constructor() {\n    super(...arguments);\n    this.showInLegend = false;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], DonutTitle.prototype, \"showInLegend\", 2);\nvar DonutInnerLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.margin = 2;\n  }\n  set(properties, _reset) {\n    return super.set(properties);\n  }\n};\n__decorateClass([Validate(STRING)], DonutInnerLabel.prototype, \"text\", 2);\n__decorateClass([Validate(NUMBER)], DonutInnerLabel.prototype, \"margin\", 2);\nvar DonutInnerCircle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"transparent\";\n    this.fillOpacity = 1;\n  }\n};\n__decorateClass([Validate(COLOR_STRING)], DonutInnerCircle.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO)], DonutInnerCircle.prototype, \"fillOpacity\", 2);\nvar DonutSeriesCalloutLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.offset = 3;\n    this.minAngle = 0;\n    this.minSpacing = 4;\n    this.maxCollisionOffset = 50;\n    this.avoidCollisions = true;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesCalloutLabel.prototype, \"offset\", 2);\n__decorateClass([Validate(DEGREE)], DonutSeriesCalloutLabel.prototype, \"minAngle\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesCalloutLabel.prototype, \"minSpacing\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesCalloutLabel.prototype, \"maxCollisionOffset\", 2);\n__decorateClass([Validate(BOOLEAN)], DonutSeriesCalloutLabel.prototype, \"avoidCollisions\", 2);\nvar DonutSeriesSectorLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.positionOffset = 0;\n    this.positionRatio = 0.5;\n  }\n};\n__decorateClass([Validate(NUMBER)], DonutSeriesSectorLabel.prototype, \"positionOffset\", 2);\n__decorateClass([Validate(RATIO)], DonutSeriesSectorLabel.prototype, \"positionRatio\", 2);\nvar DonutSeriesCalloutLine = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.length = 10;\n    this.strokeWidth = 1;\n  }\n};\n__decorateClass([Validate(COLOR_STRING_ARRAY, {\n  optional: true\n})], DonutSeriesCalloutLine.prototype, \"colors\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesCalloutLine.prototype, \"length\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesCalloutLine.prototype, \"strokeWidth\", 2);\nvar DonutSeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.rotation = 0;\n    this.outerRadiusOffset = 0;\n    this.outerRadiusRatio = 1;\n    this.strokeWidth = 1;\n    this.sectorSpacing = void 0;\n    this.innerLabels = new PropertiesArray(DonutInnerLabel);\n    this.title = new DonutTitle();\n    this.innerCircle = new DonutInnerCircle();\n    this.shadow = new DropShadow();\n    this.calloutLabel = new DonutSeriesCalloutLabel();\n    this.sectorLabel = new DonutSeriesSectorLabel();\n    this.calloutLine = new DonutSeriesCalloutLine();\n    this.tooltip = new SeriesTooltip();\n    this.__BACKGROUND_COLOR_DO_NOT_USE = void 0;\n  }\n  isValid() {\n    const superIsValid = super.isValid();\n    if (this.innerRadiusRatio == null && this.innerRadiusOffset == null) {\n      Logger.warnOnce(\"Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series.\");\n      return false;\n    }\n    return superIsValid;\n  }\n};\n__decorateClass([Validate(STRING)], DonutSeriesProperties.prototype, \"angleKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"angleName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"radiusKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"radiusName\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"radiusMin\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"radiusMax\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"calloutLabelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"calloutLabelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"sectorLabelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"sectorLabelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"legendItemKey\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], DonutSeriesProperties.prototype, \"fills\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], DonutSeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([Validate(RATIO)], DonutSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(RATIO)], DonutSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], DonutSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([Validate(DEGREE)], DonutSeriesProperties.prototype, \"rotation\", 2);\n__decorateClass([Validate(NUMBER)], DonutSeriesProperties.prototype, \"outerRadiusOffset\", 2);\n__decorateClass([Validate(RATIO)], DonutSeriesProperties.prototype, \"outerRadiusRatio\", 2);\n__decorateClass([Validate(NUMBER, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"innerRadiusOffset\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"innerRadiusRatio\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"sectorSpacing\", 2);\n__decorateClass([Validate(OBJECT_ARRAY)], DonutSeriesProperties.prototype, \"innerLabels\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"title\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"innerCircle\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"calloutLabel\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"sectorLabel\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"calloutLine\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"__BACKGROUND_COLOR_DO_NOT_USE\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/pieUtil.ts\nfunction preparePieSeriesAnimationFunctions(initialLoad, rotationDegrees, scaleFn, oldScaleFn) {\n  const scale2 = [scaleFn.convert(0), scaleFn.convert(1)];\n  const oldScale = [oldScaleFn.convert(0), oldScaleFn.convert(1)];\n  const rotation = Math.PI / -2 + toRadians(rotationDegrees);\n  const phase = initialLoad ? \"initial\" : \"update\";\n  const scaleToNewRadius = ({\n    radius\n  }) => {\n    return {\n      innerRadius: scale2[0],\n      outerRadius: scale2[0] + (scale2[1] - scale2[0]) * radius\n    };\n  };\n  const scaleToOldRadius = ({\n    radius\n  }) => {\n    return {\n      innerRadius: oldScale[0],\n      outerRadius: oldScale[0] + (oldScale[1] - oldScale[0]) * radius\n    };\n  };\n  const fromFn = (sect, datum, status, {\n    prevFromProps\n  }) => {\n    var _a, _b, _c, _d, _e, _f;\n    let {\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius\n    } = sect;\n    let {\n      fill,\n      stroke\n    } = datum.sectorFormat;\n    if (status === \"unknown\" || status === \"added\" && !prevFromProps) {\n      startAngle = rotation;\n      endAngle = rotation;\n      innerRadius = datum.innerRadius;\n      outerRadius = datum.outerRadius;\n    } else if (status === \"added\" && prevFromProps) {\n      startAngle = (_a = prevFromProps.endAngle) != null ? _a : rotation;\n      endAngle = (_b = prevFromProps.endAngle) != null ? _b : rotation;\n      innerRadius = (_c = prevFromProps.innerRadius) != null ? _c : datum.innerRadius;\n      outerRadius = (_d = prevFromProps.outerRadius) != null ? _d : datum.outerRadius;\n    }\n    if (status === \"added\" && !initialLoad) {\n      const radii = scaleToOldRadius(datum);\n      innerRadius = radii.innerRadius;\n      outerRadius = radii.outerRadius;\n    }\n    if (status === \"updated\") {\n      fill = (_e = sect.fill) != null ? _e : fill;\n      stroke = (_f = sect.stroke) != null ? _f : stroke;\n    }\n    return {\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius,\n      fill,\n      stroke,\n      phase\n    };\n  };\n  const toFn = (_sect, datum, status, {\n    prevLive\n  }) => {\n    var _a, _b;\n    let {\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius\n    } = datum;\n    const {\n      stroke,\n      fill\n    } = datum.sectorFormat;\n    if (status === \"removed\" && prevLive) {\n      startAngle = (_a = prevLive.datum) == null ? void 0 : _a.endAngle;\n      endAngle = (_b = prevLive.datum) == null ? void 0 : _b.endAngle;\n    } else if (status === \"removed\" && !prevLive) {\n      startAngle = rotation;\n      endAngle = rotation;\n    }\n    if (status === \"removed\") {\n      const radii = scaleToNewRadius(datum);\n      innerRadius = radii.innerRadius;\n      outerRadius = radii.outerRadius;\n    }\n    return {\n      startAngle,\n      endAngle,\n      outerRadius,\n      innerRadius,\n      stroke,\n      fill\n    };\n  };\n  const innerCircleFromFn = (node, _) => {\n    var _a, _b, _c;\n    return {\n      size: (_c = (_b = (_a = node.previousDatum) == null ? void 0 : _a.radius) != null ? _b : node.size) != null ? _c : 0,\n      phase\n    };\n  };\n  const innerCircleToFn = (_, datum) => {\n    var _a;\n    return {\n      size: (_a = datum.radius) != null ? _a : 0\n    };\n  };\n  return {\n    nodes: {\n      toFn,\n      fromFn\n    },\n    innerCircle: {\n      fromFn: innerCircleFromFn,\n      toFn: innerCircleToFn\n    }\n  };\n}\nfunction resetPieSelectionsFn(_node, datum) {\n  return {\n    startAngle: datum.startAngle,\n    endAngle: datum.endAngle,\n    innerRadius: datum.innerRadius,\n    outerRadius: datum.outerRadius,\n    fill: datum.sectorFormat.fill,\n    stroke: datum.sectorFormat.stroke\n  };\n}\nfunction pickByMatchingAngle(series, point) {\n  const dy = point.y - series.centerY;\n  const dx = point.x - series.centerX;\n  const angle = Math.atan2(dy, dx);\n  const sectors = series.getItemNodes();\n  for (const sector of sectors) {\n    if (sector.datum.missing === true) continue;\n    if (isBetweenAngles(angle, sector.startAngle, sector.endAngle)) {\n      const radius = Math.sqrt(dx * dx + dy * dy);\n      let distance2 = 0;\n      if (radius < sector.innerRadius) {\n        distance2 = sector.innerRadius - radius;\n      } else if (radius > sector.outerRadius) {\n        distance2 = radius - sector.outerRadius;\n      }\n      return {\n        datum: sector.datum,\n        distance: distance2\n      };\n    }\n  }\n  return void 0;\n}\nfunction computeSectorFocusBounds(series, opts) {\n  const nodeData = series.getNodeData();\n  if (nodeData === void 0) return void 0;\n  const {\n    centerX,\n    centerY\n  } = series;\n  const datum = nodeData[opts.datumIndex];\n  const pointVars = [{\n    radius: datum.innerRadius,\n    angle: datum.startAngle\n  }, {\n    radius: datum.innerRadius,\n    angle: datum.endAngle\n  }, {\n    radius: datum.outerRadius,\n    angle: datum.startAngle\n  }, {\n    radius: datum.outerRadius,\n    angle: datum.endAngle\n  }];\n  const rightAngles = [0, Math.PI / 2, Math.PI, 3 * Math.PI / 2];\n  for (const rightAngle of rightAngles) {\n    if (isBetweenAngles(rightAngle, datum.startAngle, datum.endAngle)) {\n      pointVars.push({\n        radius: datum.outerRadius,\n        angle: rightAngle\n      });\n    }\n  }\n  const points = pointVars.map(({\n    radius,\n    angle\n  }) => displacePointFromVector(centerX, centerY, radius, angle));\n  const xs = points.map(p => p.x);\n  const ys = points.map(p => p.y);\n  const x = Math.min(...xs);\n  const y = Math.min(...ys);\n  const width = Math.max(...xs) - x;\n  const height = Math.max(...ys) - y;\n  return new BBox(x, y, width, height);\n}\n\n// packages/ag-charts-community/src/chart/series/polar/polarSeries.ts\nvar PolarSeries = class extends DataModelSeries {\n  constructor(_a) {\n    var _b = _a,\n      {\n        useLabelLayer = false,\n        pickModes = [0 /* EXACT_SHAPE_MATCH */],\n        canHaveAxes = false,\n        animationResetFns\n      } = _b,\n      opts = __objRest(_b, [\"useLabelLayer\", \"pickModes\", \"canHaveAxes\", \"animationResetFns\"]);\n    super(__spreadProps(__spreadValues({}, opts), {\n      useLabelLayer,\n      pickModes,\n      contentGroupVirtual: false,\n      directionKeys: {\n        [\"x\" /* X */]: [\"angleKey\"],\n        [\"y\" /* Y */]: [\"radiusKey\"]\n      },\n      directionNames: {\n        [\"x\" /* X */]: [\"angleName\"],\n        [\"y\" /* Y */]: [\"radiusName\"]\n      },\n      canHaveAxes\n    }));\n    this.itemGroup = this.contentGroup.appendChild(new Group());\n    this.nodeData = [];\n    this.itemSelection = Selection.select(this.itemGroup, () => this.nodeFactory(), false);\n    this.labelSelection = Selection.select(this.labelGroup, Text, false);\n    this.highlightSelection = Selection.select(this.highlightGroup, () => this.nodeFactory());\n    /**\n     * The center of the polar series (for example, the center of a pie).\n     * If the polar chart has multiple series, all of them will have their\n     * center set to the same value as a result of the polar chart layout.\n     * The center coordinates are not supposed to be set by the user.\n     */\n    this.centerX = 0;\n    this.centerY = 0;\n    /**\n     * The maximum radius the series can use.\n     * This value is set automatically as a result of the polar chart layout\n     * and is not supposed to be set by the user.\n     */\n    this.radius = 0;\n    this.showFocusBox = false;\n    this.itemGroup.zIndexSubOrder = [() => this._declarationOrder, 1];\n    this.animationResetFns = animationResetFns;\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateEmptyUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      ready: {\n        updateData: \"waiting\",\n        clear: \"clearing\",\n        highlight: data => this.animateReadyHighlight(data),\n        highlightMarkers: data => this.animateReadyHighlightMarkers(data),\n        resize: data => this.animateReadyResize(data),\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      waiting: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateWaitingUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      clearing: {\n        update: {\n          target: \"empty\",\n          action: data => this.animateClearingUpdateEmpty(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      }\n    }, () => this.checkProcessedDataAnimatable());\n  }\n  getItemNodes() {\n    return this.itemGroup.children;\n  }\n  getNodeData() {\n    return this.nodeData;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    }\n  }\n  getLabelData() {\n    return [];\n  }\n  computeLabelsBBox(_options, _seriesRect) {\n    return null;\n  }\n  resetAllAnimation() {\n    var _a;\n    const {\n      item,\n      label\n    } = (_a = this.animationResetFns) != null ? _a : {};\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (item) {\n      resetMotion([this.itemSelection, this.highlightSelection], item);\n    }\n    if (label) {\n      resetMotion([this.labelSelection], label);\n    }\n    this.itemSelection.cleanup();\n    this.labelSelection.cleanup();\n    this.highlightSelection.cleanup();\n  }\n  animateEmptyUpdateReady(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animateWaitingUpdateReady(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animateReadyHighlight(_data) {\n    var _a;\n    const {\n      item\n    } = (_a = this.animationResetFns) != null ? _a : {};\n    if (item) {\n      resetMotion([this.highlightSelection], item);\n    }\n  }\n  animateReadyHighlightMarkers(_data) {}\n  animateReadyResize(_data) {\n    this.resetAllAnimation();\n  }\n  animateClearingUpdateEmpty(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animationTransitionClear() {\n    this.animationState.transition(\"clear\", this.getAnimationData());\n  }\n  getAnimationData(seriesRect) {\n    return {\n      seriesRect\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeries.ts\nvar DonutSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.angleKey = series.properties.angleKey;\n    this.radiusKey = series.properties.radiusKey;\n    this.calloutLabelKey = series.properties.calloutLabelKey;\n    this.sectorLabelKey = series.properties.sectorLabelKey;\n  }\n};\nvar DonutSeries = class extends PolarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      useLabelLayer: true,\n      animationResetFns: {\n        item: resetPieSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new DonutSeriesProperties();\n    this.previousRadiusScale = new LinearScale();\n    this.radiusScale = new LinearScale();\n    // The group node that contains the background graphics.\n    this.backgroundGroup = this.rootGroup.appendChild(new Group({\n      name: `${this.id}-background`,\n      layer: true,\n      zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */\n    }));\n    // AG-6193 If the sum of all datums is 0, then we'll draw 1 or 2 rings to represent the empty series.\n    this.zerosumRingsGroup = this.backgroundGroup.appendChild(new Group({\n      name: `${this.id}-zerosumRings`\n    }));\n    this.zerosumOuterRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.zerosumInnerRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.innerCircleGroup = this.backgroundGroup.appendChild(new Group({\n      name: `${this.id}-innerCircle`\n    }));\n    // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n    this.seriesItemEnabled = [];\n    this.surroundingRadius = void 0;\n    this.NodeEvent = DonutSeriesNodeEvent;\n    this.angleScale = new LinearScale();\n    this.angleScale.domain = [0, 1];\n    this.angleScale.range = [-Math.PI, Math.PI].map(angle => angle + Math.PI / 2);\n    const pieCalloutLabels = new Group({\n      name: \"pieCalloutLabels\"\n    });\n    const pieSectorLabels = new Group({\n      name: \"pieSectorLabels\"\n    });\n    const innerLabels = new Group({\n      name: \"innerLabels\"\n    });\n    this.labelGroup.append(pieCalloutLabels);\n    this.labelGroup.append(pieSectorLabels);\n    this.labelGroup.append(innerLabels);\n    this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n    this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n    this.innerLabelsSelection = Selection.select(innerLabels, Text);\n    this.innerCircleSelection = Selection.select(this.innerCircleGroup, Circle);\n  }\n  addChartEventListeners() {\n    var _a;\n    this.destroyFns.push((_a = this.ctx.chartEventManager) == null ? void 0 : _a.addListener(\"legend-item-click\", event => this.onLegendItemClick(event)));\n  }\n  get visible() {\n    return super.visible && (this.seriesItemEnabled.length === 0 || this.seriesItemEnabled.some(visible => visible));\n  }\n  nodeFactory() {\n    return new Sector();\n  }\n  getSeriesDomain(direction) {\n    if (direction === \"x\" /* X */) {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      let {\n        data\n      } = this;\n      const {\n        visible,\n        seriesItemEnabled\n      } = this;\n      const {\n        angleKey,\n        radiusKey,\n        calloutLabelKey,\n        sectorLabelKey,\n        legendItemKey\n      } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const extraKeyProps = [];\n      const extraProps = [];\n      if (legendItemKey) {\n        extraKeyProps.push(keyProperty(legendItemKey, \"band\", {\n          id: `legendItemKey`\n        }));\n      } else if (calloutLabelKey) {\n        extraKeyProps.push(keyProperty(calloutLabelKey, \"band\", {\n          id: `calloutLabelKey`\n        }));\n      } else if (sectorLabelKey) {\n        extraKeyProps.push(keyProperty(sectorLabelKey, \"band\", {\n          id: `sectorLabelKey`\n        }));\n      }\n      const radiusScaleType = this.radiusScale.type;\n      const angleScaleType = this.radiusScale.type;\n      if (radiusKey) {\n        extraProps.push(rangedValueProperty(radiusKey, {\n          id: \"radiusValue\",\n          min: (_a = this.properties.radiusMin) != null ? _a : 0,\n          max: this.properties.radiusMax\n        }), valueProperty(radiusKey, radiusScaleType, {\n          id: `radiusRaw`\n        }),\n        // Raw value pass-through.\n        normalisePropertyTo({\n          id: \"radiusValue\"\n        }, [0, 1], 1, (_b = this.properties.radiusMin) != null ? _b : 0, this.properties.radiusMax));\n      }\n      if (calloutLabelKey) {\n        extraProps.push(valueProperty(calloutLabelKey, \"band\", {\n          id: `calloutLabelValue`\n        }));\n      }\n      if (sectorLabelKey) {\n        extraProps.push(valueProperty(sectorLabelKey, \"band\", {\n          id: `sectorLabelValue`\n        }));\n      }\n      if (legendItemKey) {\n        extraProps.push(valueProperty(legendItemKey, \"band\", {\n          id: `legendItemValue`\n        }));\n      }\n      if (animationEnabled && this.processedData && extraKeyProps.length > 0) {\n        extraProps.push(diff(this.processedData));\n      }\n      extraProps.push(animationValidation());\n      data = data.map((d, idx) => visible && seriesItemEnabled[idx] ? d : __spreadProps(__spreadValues({}, d), {\n        [angleKey]: 0\n      }));\n      yield this.requestDataModel(dataController, data, {\n        props: [...extraKeyProps, accumulativeValueProperty(angleKey, angleScaleType, {\n          id: `angleValue`,\n          onlyPositive: true\n        }), valueProperty(angleKey, angleScaleType, {\n          id: `angleRaw`\n        }),\n        // Raw value pass-through.\n        normalisePropertyTo({\n          id: \"angleValue\"\n        }, [0, 1], 0, 0), ...extraProps]\n      });\n      for (const valueDef of (_e = (_d = (_c = this.processedData) == null ? void 0 : _c.defs) == null ? void 0 : _d.values) != null ? _e : []) {\n        const {\n          id,\n          missing,\n          property\n        } = valueDef;\n        const missCount = getMissCount(this, missing);\n        if (id !== \"angleRaw\" && missCount > 0) {\n          Logger.warnOnce(`no value was found for the key '${String(property)}' on ${missCount} data element${missCount > 1 ? \"s\" : \"\"}`);\n        }\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  maybeRefreshNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.nodeDataRefresh) return;\n      const {\n        nodeData = []\n      } = (_a = yield this.createNodeData()) != null ? _a : {};\n      this.nodeData = nodeData;\n      this.nodeDataRefresh = false;\n    });\n  }\n  getProcessedDataIndexes(dataModel) {\n    const angleIdx = dataModel.resolveProcessedDataIndexById(this, `angleValue`);\n    const radiusIdx = this.properties.radiusKey ? dataModel.resolveProcessedDataIndexById(this, `radiusValue`) : -1;\n    const calloutLabelIdx = this.properties.calloutLabelKey ? dataModel.resolveProcessedDataIndexById(this, `calloutLabelValue`) : -1;\n    const sectorLabelIdx = this.properties.sectorLabelKey ? dataModel.resolveProcessedDataIndexById(this, `sectorLabelValue`) : -1;\n    const legendItemIdx = this.properties.legendItemKey ? dataModel.resolveProcessedDataIndexById(this, `legendItemValue`) : -1;\n    return {\n      angleIdx,\n      radiusIdx,\n      calloutLabelIdx,\n      sectorLabelIdx,\n      legendItemIdx\n    };\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const {\n        id: seriesId,\n        processedData,\n        dataModel,\n        angleScale\n      } = this;\n      const {\n        rotation,\n        innerRadiusRatio\n      } = this.properties;\n      if (!this.properties.isValid()) {\n        this.zerosumOuterRing.visible = true;\n        this.zerosumInnerRing.visible = true;\n        return {\n          itemId: seriesId,\n          nodeData: [],\n          labelData: []\n        };\n      }\n      if (!processedData || !dataModel || processedData.type !== \"ungrouped\") return;\n      const {\n        angleIdx,\n        radiusIdx,\n        calloutLabelIdx,\n        sectorLabelIdx,\n        legendItemIdx\n      } = this.getProcessedDataIndexes(dataModel);\n      let currentStart = 0;\n      let sum2 = 0;\n      const nodeData = processedData.data.map((group2, index) => {\n        var _a;\n        const {\n          datum,\n          values\n        } = group2;\n        const currentValue = values[angleIdx];\n        const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        currentStart = currentValue;\n        sum2 += currentValue;\n        const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        const span = Math.abs(endAngle - startAngle);\n        const midAngle = startAngle + span / 2;\n        const angleValue = values[angleIdx + 1];\n        const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) != null ? _a : 1 : 1;\n        const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : void 0;\n        const legendItemValue = legendItemIdx >= 0 ? values[legendItemIdx] : void 0;\n        const labels = this.getLabels(datum, midAngle, span, true, values[calloutLabelIdx], values[sectorLabelIdx], legendItemValue);\n        const sectorFormat = this.getSectorFormat(datum, index, false);\n        return __spreadValues({\n          itemId: index,\n          series: this,\n          datum,\n          index,\n          angleValue,\n          midAngle,\n          midCos: Math.cos(midAngle),\n          midSin: Math.sin(midAngle),\n          startAngle,\n          endAngle,\n          sectorFormat,\n          radiusValue,\n          radius,\n          innerRadius: Math.max(this.radiusScale.convert(0), 0),\n          outerRadius: Math.max(this.radiusScale.convert(radius), 0),\n          legendItemValue\n        }, labels);\n      });\n      this.zerosumOuterRing.visible = sum2 === 0;\n      this.zerosumInnerRing.visible = sum2 === 0 && innerRadiusRatio != null && innerRadiusRatio !== 1 && innerRadiusRatio > 0;\n      return {\n        itemId: seriesId,\n        nodeData,\n        labelData: nodeData\n      };\n    });\n  }\n  getLabels(datum, midAngle, span, skipDisabled, calloutLabelValue, sectorLabelValue, legendItemValue) {\n    const {\n      calloutLabel,\n      sectorLabel,\n      legendItemKey\n    } = this.properties;\n    const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.properties.calloutLabelKey : void 0;\n    const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.properties.sectorLabelKey : void 0;\n    if (!calloutLabelKey && !sectorLabelKey && !legendItemKey) {\n      return {};\n    }\n    const labelFormatterParams = {\n      datum,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    };\n    const result = {};\n    if (calloutLabelKey && span > toRadians(calloutLabel.minAngle)) {\n      result.calloutLabel = __spreadProps(__spreadValues({}, this.getTextAlignment(midAngle)), {\n        text: this.getLabelText(calloutLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: calloutLabelValue\n        })),\n        hidden: false,\n        collisionTextAlign: void 0,\n        collisionOffsetY: 0,\n        box: void 0\n      });\n    }\n    if (sectorLabelKey) {\n      result.sectorLabel = {\n        text: this.getLabelText(sectorLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: sectorLabelValue\n        }))\n      };\n    }\n    if (legendItemKey != null && legendItemValue != null) {\n      result.legendItem = {\n        key: legendItemKey,\n        text: legendItemValue\n      };\n    }\n    return result;\n  }\n  getTextAlignment(midAngle) {\n    const quadrantTextOpts = [{\n      textAlign: \"center\",\n      textBaseline: \"bottom\"\n    }, {\n      textAlign: \"left\",\n      textBaseline: \"middle\"\n    }, {\n      textAlign: \"center\",\n      textBaseline: \"hanging\"\n    }, {\n      textAlign: \"right\",\n      textBaseline: \"middle\"\n    }];\n    const midAngle180 = normalizeAngle180(midAngle);\n    const quadrantStart = -0.75 * Math.PI;\n    const quadrantOffset = midAngle180 - quadrantStart;\n    const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n    const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n    return quadrantTextOpts[quadrantIndex];\n  }\n  getSectorFormat(datum, formatIndex, highlight) {\n    var _a, _b, _c, _d, _e;\n    const {\n      callbackCache,\n      highlightManager\n    } = this.ctx;\n    const {\n      angleKey,\n      radiusKey,\n      fills,\n      strokes,\n      formatter,\n      sectorSpacing,\n      __BACKGROUND_COLOR_DO_NOT_USE\n    } = this.properties;\n    const highlightedDatum = highlightManager.getActiveHighlight();\n    const isDatumHighlighted = highlight && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && formatIndex === highlightedDatum.itemId;\n    let defaultStroke = strokes[formatIndex % strokes.length];\n    if (sectorSpacing == null && defaultStroke == null) {\n      defaultStroke = __BACKGROUND_COLOR_DO_NOT_USE;\n    }\n    const {\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      strokeOpacity\n    } = mergeDefaults(isDatumHighlighted && this.properties.highlightStyle.item, {\n      fill: fills.length > 0 ? fills[formatIndex % fills.length] : void 0,\n      fillOpacity: this.properties.fillOpacity,\n      stroke: defaultStroke,\n      strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n      strokeOpacity: this.getOpacity()\n    });\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        datum,\n        angleKey,\n        radiusKey,\n        fill,\n        stroke,\n        fills,\n        strokes,\n        strokeWidth,\n        highlighted: isDatumHighlighted,\n        seriesId: this.id\n      });\n    }\n    return {\n      fill: (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill,\n      fillOpacity: (_b = format2 == null ? void 0 : format2.fillOpacity) != null ? _b : fillOpacity,\n      stroke: (_c = format2 == null ? void 0 : format2.stroke) != null ? _c : stroke,\n      strokeWidth: (_d = format2 == null ? void 0 : format2.strokeWidth) != null ? _d : strokeWidth,\n      strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity\n    };\n  }\n  getInnerRadius() {\n    const {\n      radius\n    } = this;\n    const {\n      innerRadiusRatio = 1,\n      innerRadiusOffset = 0\n    } = this.properties;\n    const innerRadius = radius * innerRadiusRatio + innerRadiusOffset;\n    if (innerRadius === radius || innerRadius < 0) {\n      return 0;\n    }\n    return innerRadius;\n  }\n  getOuterRadius() {\n    const {\n      outerRadiusRatio,\n      outerRadiusOffset\n    } = this.properties;\n    return Math.max(this.radius * outerRadiusRatio + outerRadiusOffset, 0);\n  }\n  updateRadiusScale(resize) {\n    const newRange = [this.getInnerRadius(), this.getOuterRadius()];\n    this.radiusScale.range = newRange;\n    if (resize) {\n      this.previousRadiusScale.range = newRange;\n    }\n    this.nodeData = this.nodeData.map(_a => {\n      var _b = _a,\n        {\n          radius\n        } = _b,\n        d = __objRest(_b, [\"radius\"]);\n      return __spreadProps(__spreadValues({}, d), {\n        radius,\n        innerRadius: Math.max(this.radiusScale.convert(0), 0),\n        outerRadius: Math.max(this.radiusScale.convert(radius), 0)\n      });\n    });\n  }\n  getTitleTranslationY() {\n    var _a, _b;\n    const outerRadius = Math.max(0, this.radiusScale.range[1]);\n    if (outerRadius === 0) {\n      return NaN;\n    }\n    const spacing = (_b = (_a = this.properties.title) == null ? void 0 : _a.spacing) != null ? _b : 0;\n    const titleOffset = 2 + spacing;\n    const dy = Math.max(0, -outerRadius);\n    return -outerRadius - titleOffset - dy;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({\n      seriesRect\n    }) {\n      const {\n        title\n      } = this.properties;\n      const newNodeDataDependencies = {\n        seriesRectWidth: seriesRect == null ? void 0 : seriesRect.width,\n        seriesRectHeight: seriesRect == null ? void 0 : seriesRect.height\n      };\n      const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n      if (resize) {\n        this._nodeDataDependencies = newNodeDataDependencies;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateTitleNodes();\n      this.updateRadiusScale(resize);\n      this.contentGroup.translationX = this.centerX;\n      this.contentGroup.translationY = this.centerY;\n      this.highlightGroup.translationX = this.centerX;\n      this.highlightGroup.translationY = this.centerY;\n      this.backgroundGroup.translationX = this.centerX;\n      this.backgroundGroup.translationY = this.centerY;\n      if (this.labelGroup) {\n        this.labelGroup.translationX = this.centerX;\n        this.labelGroup.translationY = this.centerY;\n      }\n      if (title) {\n        const dy = this.getTitleTranslationY();\n        const titleBox = title.node.computeBBox();\n        title.node.visible = title.enabled && isFinite(dy) && !this.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n        title.node.translationY = isFinite(dy) ? dy : 0;\n      }\n      for (const circle of [this.zerosumInnerRing, this.zerosumOuterRing]) {\n        circle.fillOpacity = 0;\n        circle.stroke = this.properties.calloutLabel.color;\n        circle.strokeWidth = 1;\n        circle.strokeOpacity = 1;\n      }\n      this.updateNodeMidPoint();\n      yield this.updateSelections();\n      yield this.updateNodes(seriesRect);\n    });\n  }\n  updateTitleNodes() {\n    var _a, _b;\n    const {\n      oldTitle\n    } = this;\n    const {\n      title\n    } = this.properties;\n    if (oldTitle !== title) {\n      if (oldTitle) {\n        (_a = this.labelGroup) == null ? void 0 : _a.removeChild(oldTitle.node);\n      }\n      if (title) {\n        title.node.textBaseline = \"bottom\";\n        (_b = this.labelGroup) == null ? void 0 : _b.appendChild(title.node);\n      }\n      this.oldTitle = title;\n    }\n  }\n  updateNodeMidPoint() {\n    this.nodeData.forEach(d => {\n      const radius = d.innerRadius + (d.outerRadius - d.innerRadius) / 2;\n      d.midPoint = {\n        x: d.midCos * Math.max(0, radius),\n        y: d.midSin * Math.max(0, radius)\n      };\n    });\n  }\n  updateSelections() {\n    return __async(this, null, function* () {\n      yield this.updateGroupSelection();\n      this.updateInnerCircleSelection();\n    });\n  }\n  updateGroupSelection() {\n    return __async(this, null, function* () {\n      const {\n        itemSelection,\n        highlightSelection,\n        calloutLabelSelection,\n        sectorLabelSelection,\n        innerLabelsSelection\n      } = this;\n      const update = (selection, clone) => {\n        let nodeData = this.nodeData;\n        if (clone) {\n          nodeData = nodeData.map(datum => __spreadProps(__spreadValues({}, datum), {\n            sectorFormat: __spreadValues({}, datum.sectorFormat)\n          }));\n        }\n        selection.update(nodeData, void 0, datum => this.getDatumId(datum));\n        if (this.ctx.animationManager.isSkipped()) {\n          selection.cleanup();\n        }\n      };\n      update(itemSelection, false);\n      update(highlightSelection, true);\n      calloutLabelSelection.update(this.nodeData, group2 => {\n        const line = new Line();\n        line.tag = 0 /* Callout */;\n        line.pointerEvents = 1 /* None */;\n        group2.appendChild(line);\n        const text = new Text();\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        group2.appendChild(text);\n      });\n      sectorLabelSelection.update(this.nodeData, node => {\n        node.pointerEvents = 1 /* None */;\n      });\n      innerLabelsSelection.update(this.properties.innerLabels, node => {\n        node.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateInnerCircleSelection() {\n    const {\n      innerCircle\n    } = this.properties;\n    let radius = 0;\n    const innerRadius = this.getInnerRadius();\n    if (innerRadius > 0) {\n      const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n      const antiAliasingPadding = 1;\n      radius = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n    }\n    const datums = innerCircle ? [{\n      radius\n    }] : [];\n    this.innerCircleSelection.update(datums);\n  }\n  updateNodes(seriesRect) {\n    return __async(this, null, function* () {\n      const highlightedDatum = this.ctx.highlightManager.getActiveHighlight();\n      const isVisible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n      this.rootGroup.visible = isVisible;\n      this.backgroundGroup.visible = isVisible;\n      this.contentGroup.visible = isVisible;\n      this.highlightGroup.visible = isVisible && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this;\n      if (this.labelGroup) {\n        this.labelGroup.visible = isVisible;\n      }\n      this.contentGroup.opacity = this.getOpacity();\n      this.innerCircleSelection.each((node, {\n        radius\n      }) => {\n        var _a, _b;\n        node.setProperties({\n          fill: (_a = this.properties.innerCircle) == null ? void 0 : _a.fill,\n          opacity: (_b = this.properties.innerCircle) == null ? void 0 : _b.fillOpacity,\n          size: radius\n        });\n      });\n      const updateSectorFn = (sector, datum, _index, isDatumHighlighted) => {\n        const format2 = this.getSectorFormat(datum.datum, datum.itemId, isDatumHighlighted);\n        datum.sectorFormat.fill = format2.fill;\n        datum.sectorFormat.stroke = format2.stroke;\n        const animationDisabled = this.ctx.animationManager.isSkipped();\n        if (animationDisabled) {\n          sector.startAngle = datum.startAngle;\n          sector.endAngle = datum.endAngle;\n          sector.innerRadius = datum.innerRadius;\n          sector.outerRadius = datum.outerRadius;\n        }\n        if (isDatumHighlighted || animationDisabled) {\n          sector.fill = format2.fill;\n          sector.stroke = format2.stroke;\n        }\n        sector.strokeWidth = format2.strokeWidth;\n        sector.fillOpacity = format2.fillOpacity;\n        sector.strokeOpacity = this.properties.strokeOpacity;\n        sector.lineDash = this.properties.lineDash;\n        sector.lineDashOffset = this.properties.lineDashOffset;\n        sector.fillShadow = this.properties.shadow;\n        sector.cornerRadius = this.properties.cornerRadius;\n        sector.inset = this.properties.sectorSpacing != null ? (this.properties.sectorSpacing + (format2.stroke != null ? format2.strokeWidth : 0)) / 2 : 0;\n        sector.lineJoin = this.properties.sectorSpacing != null ? \"miter\" : \"round\";\n      };\n      this.itemSelection.each((node, datum, index) => updateSectorFn(node, datum, index, false));\n      this.highlightSelection.each((node, datum, index) => {\n        const isDatumHighlighted = (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n        updateSectorFn(node, datum, index, true);\n        node.visible = isDatumHighlighted;\n      });\n      this.updateCalloutLineNodes();\n      this.updateCalloutLabelNodes(seriesRect);\n      this.updateSectorLabelNodes();\n      this.updateInnerLabelNodes();\n      this.updateZerosumRings();\n      this.animationState.transition(\"update\");\n    });\n  }\n  updateCalloutLineNodes() {\n    var _a;\n    const {\n      calloutLine\n    } = this.properties;\n    const calloutLength = calloutLine.length;\n    const calloutStrokeWidth = calloutLine.strokeWidth;\n    const calloutColors = (_a = calloutLine.colors) != null ? _a : this.properties.strokes;\n    const {\n      offset: offset4\n    } = this.properties.calloutLabel;\n    this.calloutLabelSelection.selectByTag(0 /* Callout */).forEach((line, index) => {\n      var _a2;\n      const datum = line.datum;\n      const {\n        calloutLabel: label,\n        outerRadius\n      } = datum;\n      if ((label == null ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n        line.visible = true;\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.fill = void 0;\n        const x1 = datum.midCos * outerRadius;\n        const y1 = datum.midSin * outerRadius;\n        let x2 = datum.midCos * (outerRadius + calloutLength);\n        let y2 = datum.midSin * (outerRadius + calloutLength);\n        const isMoved = (_a2 = label.collisionTextAlign) != null ? _a2 : label.collisionOffsetY !== 0;\n        if (isMoved && label.box != null) {\n          const box = label.box;\n          let cx = x2;\n          let cy = y2;\n          if (x2 < box.x) {\n            cx = box.x;\n          } else if (x2 > box.x + box.width) {\n            cx = box.x + box.width;\n          }\n          if (y2 < box.y) {\n            cy = box.y;\n          } else if (y2 > box.y + box.height) {\n            cy = box.y + box.height;\n          }\n          const dx = cx - x2;\n          const dy = cy - y2;\n          const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n          const paddedLength = length - offset4;\n          if (paddedLength > 0) {\n            x2 = x2 + dx * paddedLength / length;\n            y2 = y2 + dy * paddedLength / length;\n          }\n        }\n        line.x1 = x1;\n        line.y1 = y1;\n        line.x2 = x2;\n        line.y2 = y2;\n      } else {\n        line.visible = false;\n      }\n    });\n  }\n  getLabelOverflow(text, box, seriesRect) {\n    const seriesLeft = seriesRect.x - this.centerX;\n    const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n    const seriesTop = seriesRect.y - this.centerY;\n    const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n    const errPx = 1;\n    let visibleTextPart = 1;\n    if (box.x + errPx < seriesLeft) {\n      visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n    } else if (box.x + box.width - errPx > seriesRight) {\n      visibleTextPart = (seriesRight - box.x) / box.width;\n    }\n    const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n    const textLength = visibleTextPart === 1 ? text.length : Math.floor(text.length * visibleTextPart) - 1;\n    const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n    return {\n      textLength,\n      hasVerticalOverflow,\n      hasSurroundingSeriesOverflow\n    };\n  }\n  bboxIntersectsSurroundingSeries(box, dx = 0, dy = 0) {\n    const {\n      surroundingRadius\n    } = this;\n    if (surroundingRadius == null) {\n      return false;\n    }\n    const corners = [{\n      x: box.x + dx,\n      y: box.y + dy\n    }, {\n      x: box.x + box.width + dx,\n      y: box.y + dy\n    }, {\n      x: box.x + box.width + dx,\n      y: box.y + box.height + dy\n    }, {\n      x: box.x + dx,\n      y: box.y + box.height + dy\n    }];\n    const sur2 = __pow(surroundingRadius, 2);\n    return corners.some(corner => __pow(corner.x, 2) + __pow(corner.y, 2) > sur2);\n  }\n  computeCalloutLabelCollisionOffsets() {\n    const {\n      radiusScale\n    } = this;\n    const {\n      calloutLabel,\n      calloutLine\n    } = this.properties;\n    const {\n      offset: offset4,\n      minSpacing\n    } = calloutLabel;\n    const innerRadius = radiusScale.convert(0);\n    const shouldSkip = datum => {\n      const label = datum.calloutLabel;\n      return !label || datum.outerRadius === 0;\n    };\n    const fullData = this.nodeData;\n    const data = this.nodeData.filter(t => !shouldSkip(t));\n    data.forEach(datum => {\n      const label = datum.calloutLabel;\n      if (label == null) return;\n      label.hidden = false;\n      label.collisionTextAlign = void 0;\n      label.collisionOffsetY = 0;\n    });\n    if (data.length <= 1) {\n      return;\n    }\n    const leftLabels = data.filter(d => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n    const rightLabels = data.filter(d => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n    const topLabels = data.filter(d => {\n      var _a;\n      return d.midSin < 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const bottomLabels = data.filter(d => {\n      var _a;\n      return d.midSin >= 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const tempTextNode = new Text();\n    const getTextBBox = datum => {\n      var _a;\n      const label = datum.calloutLabel;\n      if (label == null) return new BBox(0, 0, 0, 0);\n      const labelRadius = datum.outerRadius + calloutLine.length + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign({\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      });\n      return tempTextNode.computeBBox();\n    };\n    const avoidNeighbourYCollision = (label, next, direction) => {\n      const box = getTextBBox(label).grow(minSpacing / 2);\n      const other = getTextBBox(next).grow(minSpacing / 2);\n      const collidesOrBehind = box.x < other.x + other.width && box.x + box.width > other.x && (direction === \"to-top\" ? box.y < other.y + other.height : box.y + box.height > other.y);\n      if (collidesOrBehind) {\n        const dy = direction === \"to-top\" ? box.y - other.y - other.height : box.y + box.height - other.y;\n        next.calloutLabel.collisionOffsetY = dy;\n      }\n    };\n    const avoidYCollisions = labels => {\n      const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n      const midIndex = labels.indexOf(midLabel);\n      for (let i = midIndex - 1; i >= 0; i--) {\n        const prev = labels[i + 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-top\");\n      }\n      for (let i = midIndex + 1; i < labels.length; i++) {\n        const prev = labels[i - 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-bottom\");\n      }\n    };\n    const avoidXCollisions = labels => {\n      const labelsCollideLabelsByY = data.some(datum => datum.calloutLabel.collisionOffsetY !== 0);\n      const boxes = labels.map(label => getTextBBox(label));\n      const paddedBoxes = boxes.map(box => box.clone().grow(minSpacing / 2));\n      let labelsCollideLabelsByX = false;\n      for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n        const box = paddedBoxes[i];\n        for (let j = i + 1; j < labels.length; j++) {\n          const other = paddedBoxes[j];\n          if (box.collidesBBox(other)) {\n            labelsCollideLabelsByX = true;\n            break;\n          }\n        }\n      }\n      const sectors = fullData.map(datum => {\n        const {\n          startAngle,\n          endAngle,\n          outerRadius\n        } = datum;\n        return {\n          startAngle,\n          endAngle,\n          innerRadius,\n          outerRadius\n        };\n      });\n      const labelsCollideSectors = boxes.some(box => {\n        return sectors.some(sector => boxCollidesSector(box, sector));\n      });\n      if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n        return;\n      }\n      labels.filter(d => d.calloutLabel.textAlign === \"center\").forEach(d => {\n        const label = d.calloutLabel;\n        if (d.midCos < 0) {\n          label.collisionTextAlign = \"right\";\n        } else if (d.midCos > 0) {\n          label.collisionTextAlign = \"left\";\n        } else {\n          label.collisionTextAlign = \"center\";\n        }\n      });\n    };\n    avoidYCollisions(leftLabels);\n    avoidYCollisions(rightLabels);\n    avoidXCollisions(topLabels);\n    avoidXCollisions(bottomLabels);\n  }\n  updateCalloutLabelNodes(seriesRect) {\n    const {\n      radiusScale\n    } = this;\n    const {\n      calloutLabel,\n      calloutLine\n    } = this.properties;\n    const calloutLength = calloutLine.length;\n    const {\n      offset: offset4,\n      color\n    } = calloutLabel;\n    const tempTextNode = new Text();\n    this.calloutLabelSelection.selectByTag(1 /* Label */).forEach(text => {\n      var _a;\n      const {\n        datum\n      } = text;\n      const label = datum.calloutLabel;\n      const radius = radiusScale.convert(datum.radius);\n      const outerRadius = Math.max(0, radius);\n      if (!(label == null ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n        text.visible = false;\n        return;\n      }\n      const labelRadius = outerRadius + calloutLength + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      const align = {\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      };\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign(align);\n      const box = tempTextNode.computeBBox();\n      let displayText = label.text;\n      let visible = true;\n      if (calloutLabel.avoidCollisions) {\n        const {\n          textLength,\n          hasVerticalOverflow\n        } = this.getLabelOverflow(label.text, box, seriesRect);\n        displayText = label.text.length === textLength ? label.text : `${label.text.substring(0, textLength)}\\u2026`;\n        visible = !hasVerticalOverflow;\n      }\n      text.text = displayText;\n      text.x = x;\n      text.y = y;\n      text.setFont(this.properties.calloutLabel);\n      text.setAlign(align);\n      text.fill = color;\n      text.visible = visible;\n    });\n  }\n  computeLabelsBBox(options, seriesRect) {\n    return __async(this, null, function* () {\n      const {\n        calloutLabel,\n        calloutLine\n      } = this.properties;\n      const calloutLength = calloutLine.length;\n      const {\n        offset: offset4,\n        maxCollisionOffset,\n        minSpacing\n      } = calloutLabel;\n      if (!calloutLabel.avoidCollisions) {\n        return null;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateRadiusScale(false);\n      this.computeCalloutLabelCollisionOffsets();\n      const textBoxes = [];\n      const text = new Text();\n      let titleBox;\n      const {\n        title\n      } = this.properties;\n      if ((title == null ? void 0 : title.text) && title.enabled) {\n        const dy = this.getTitleTranslationY();\n        if (isFinite(dy)) {\n          text.text = title.text;\n          text.x = 0;\n          text.y = dy;\n          text.setFont(title);\n          text.setAlign({\n            textBaseline: \"bottom\",\n            textAlign: \"center\"\n          });\n          titleBox = text.computeBBox();\n          textBoxes.push(titleBox);\n        }\n      }\n      this.nodeData.forEach(datum => {\n        var _a;\n        const label = datum.calloutLabel;\n        if (!label || datum.outerRadius === 0) {\n          return null;\n        }\n        const labelRadius = datum.outerRadius + calloutLength + offset4;\n        const x = datum.midCos * labelRadius;\n        const y = datum.midSin * labelRadius + label.collisionOffsetY;\n        text.text = label.text;\n        text.x = x;\n        text.y = y;\n        text.setFont(this.properties.calloutLabel);\n        text.setAlign({\n          textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n          textBaseline: label.textBaseline\n        });\n        const box = text.computeBBox();\n        label.box = box;\n        if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n          label.hidden = true;\n          return;\n        }\n        if (titleBox) {\n          const seriesTop = seriesRect.y - this.centerY;\n          const titleCleanArea = new BBox(titleBox.x - minSpacing, seriesTop, titleBox.width + 2 * minSpacing, titleBox.y + titleBox.height + minSpacing - seriesTop);\n          if (box.collidesBBox(titleCleanArea)) {\n            label.hidden = true;\n            return;\n          }\n        }\n        if (options.hideWhenNecessary) {\n          const {\n            textLength,\n            hasVerticalOverflow,\n            hasSurroundingSeriesOverflow\n          } = this.getLabelOverflow(label.text, box, seriesRect);\n          const isTooShort = label.text.length > 2 && textLength < 2;\n          if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n            label.hidden = true;\n            return;\n          }\n        }\n        label.hidden = false;\n        textBoxes.push(box);\n      });\n      if (textBoxes.length === 0) {\n        return null;\n      }\n      return BBox.merge(textBoxes);\n    });\n  }\n  updateSectorLabelNodes() {\n    const {\n      radiusScale\n    } = this;\n    const innerRadius = radiusScale.convert(0);\n    const {\n      fontSize,\n      fontStyle,\n      fontWeight,\n      fontFamily,\n      positionOffset,\n      positionRatio,\n      color\n    } = this.properties.sectorLabel;\n    this.sectorLabelSelection.each((text, datum) => {\n      const {\n        sectorLabel,\n        outerRadius\n      } = datum;\n      let isTextVisible = false;\n      if (sectorLabel && outerRadius !== 0) {\n        const labelRadius = innerRadius * (1 - positionRatio) + outerRadius * positionRatio + positionOffset;\n        text.fill = color;\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.text = sectorLabel.text;\n        text.x = datum.midCos * labelRadius;\n        text.y = datum.midSin * labelRadius;\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n        const bbox = text.computeBBox();\n        const corners = [[bbox.x, bbox.y], [bbox.x + bbox.width, bbox.y], [bbox.x + bbox.width, bbox.y + bbox.height], [bbox.x, bbox.y + bbox.height]];\n        const {\n          startAngle,\n          endAngle\n        } = datum;\n        const sectorBounds = {\n          startAngle,\n          endAngle,\n          innerRadius,\n          outerRadius\n        };\n        if (corners.every(([x, y]) => isPointInSector(x, y, sectorBounds))) {\n          isTextVisible = true;\n        }\n      }\n      text.visible = isTextVisible;\n    });\n  }\n  updateInnerLabelNodes() {\n    const textBBoxes = [];\n    const margins = [];\n    this.innerLabelsSelection.each((text, datum) => {\n      const {\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily,\n        color\n      } = datum;\n      text.fontStyle = fontStyle;\n      text.fontWeight = fontWeight;\n      text.fontSize = fontSize;\n      text.fontFamily = fontFamily;\n      text.text = datum.text;\n      text.x = 0;\n      text.y = 0;\n      text.fill = color;\n      text.textAlign = \"center\";\n      text.textBaseline = \"alphabetic\";\n      textBBoxes.push(text.computeBBox());\n      margins.push(datum.margin);\n    });\n    const getMarginTop = index => index === 0 ? 0 : margins[index];\n    const getMarginBottom = index => index === margins.length - 1 ? 0 : margins[index];\n    const totalHeight = textBBoxes.reduce((sum2, bbox, i) => {\n      return sum2 + bbox.height + getMarginTop(i) + getMarginBottom(i);\n    }, 0);\n    const totalWidth = Math.max(...textBBoxes.map(bbox => bbox.width));\n    const innerRadius = this.getInnerRadius();\n    const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n    const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n    const textBottoms = [];\n    for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n      const bbox = textBBoxes[i];\n      const bottom = bbox.height + prev + getMarginTop(i);\n      textBottoms.push(bottom);\n      prev = bottom + getMarginBottom(i);\n    }\n    this.innerLabelsSelection.each((text, _datum, index) => {\n      text.y = textBottoms[index];\n      text.visible = labelsVisible;\n    });\n  }\n  updateZerosumRings() {\n    this.zerosumOuterRing.size = this.getOuterRadius() * 2;\n    this.zerosumInnerRing.size = this.getInnerRadius() * 2;\n  }\n  getDatumLegendName(nodeDatum) {\n    const {\n      angleKey,\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    const {\n      sectorLabel,\n      calloutLabel,\n      legendItem\n    } = nodeDatum;\n    if (legendItemKey && legendItem !== void 0) {\n      return legendItem.text;\n    } else if (calloutLabelKey && calloutLabelKey !== angleKey && (calloutLabel == null ? void 0 : calloutLabel.text) !== void 0) {\n      return calloutLabel.text;\n    } else if (sectorLabelKey && sectorLabelKey !== angleKey && (sectorLabel == null ? void 0 : sectorLabel.text) !== void 0) {\n      return sectorLabel.text;\n    }\n  }\n  pickNodeClosestDatum(point) {\n    return pickByMatchingAngle(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    if (!this.properties.isValid()) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      datum,\n      angleValue,\n      sectorFormat: {\n        fill: color\n      },\n      itemId\n    } = nodeDatum;\n    const title = sanitizeHtml((_a = this.properties.title) == null ? void 0 : _a.text);\n    const content = isFiniteNumber(angleValue) ? toFixed(angleValue) : String(angleValue);\n    const labelText = this.getDatumLegendName(nodeDatum);\n    return this.properties.tooltip.toTooltipHtml({\n      title: title != null ? title : labelText,\n      content: title && labelText ? `${labelText}: ${content}` : content,\n      backgroundColor: color\n    }, {\n      datum,\n      itemId,\n      title,\n      color,\n      seriesId: this.id,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e;\n    const {\n      visible,\n      processedData,\n      dataModel\n    } = this;\n    if (!dataModel || !(processedData == null ? void 0 : processedData.data.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    const {\n      angleKey,\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    if (!legendItemKey && (!calloutLabelKey || calloutLabelKey === angleKey) && (!sectorLabelKey || sectorLabelKey === angleKey)) return [];\n    const {\n      calloutLabelIdx,\n      sectorLabelIdx,\n      legendItemIdx\n    } = this.getProcessedDataIndexes(dataModel);\n    const titleText = ((_a = this.properties.title) == null ? void 0 : _a.showInLegend) && this.properties.title.text;\n    const legendData = [];\n    for (let index = 0; index < processedData.data.length; index++) {\n      const {\n        datum,\n        values\n      } = processedData.data[index];\n      const labelParts = [];\n      if (titleText) {\n        labelParts.push(titleText);\n      }\n      const labels = this.getLabels(datum, 2 * Math.PI, 2 * Math.PI, false, values[calloutLabelIdx], values[sectorLabelIdx], values[legendItemIdx]);\n      if (legendItemKey && labels.legendItem !== void 0) {\n        labelParts.push(labels.legendItem.text);\n      } else if (calloutLabelKey && calloutLabelKey !== angleKey && ((_b = labels.calloutLabel) == null ? void 0 : _b.text) !== void 0) {\n        labelParts.push((_c = labels.calloutLabel) == null ? void 0 : _c.text);\n      } else if (sectorLabelKey && sectorLabelKey !== angleKey && ((_d = labels.sectorLabel) == null ? void 0 : _d.text) !== void 0) {\n        labelParts.push((_e = labels.sectorLabel) == null ? void 0 : _e.text);\n      }\n      if (labelParts.length === 0) continue;\n      const sectorFormat = this.getSectorFormat(datum, index, false);\n      legendData.push({\n        legendType: \"category\",\n        id: this.id,\n        itemId: index,\n        seriesId: this.id,\n        enabled: visible && this.seriesItemEnabled[index],\n        label: {\n          text: labelParts.join(\" - \")\n        },\n        marker: {\n          fill: sectorFormat.fill,\n          stroke: sectorFormat.stroke,\n          fillOpacity: this.properties.fillOpacity,\n          strokeOpacity: this.properties.strokeOpacity,\n          strokeWidth: this.properties.strokeWidth\n        },\n        legendItemName: legendItemKey != null ? datum[legendItemKey] : void 0\n      });\n    }\n    return legendData;\n  }\n  onLegendItemClick(event) {\n    const {\n      enabled,\n      itemId,\n      series,\n      legendItemName\n    } = event;\n    if (series.id === this.id) {\n      this.toggleSeriesItem(itemId, enabled);\n    } else if (legendItemName != null) {\n      this.toggleOtherSeriesItems(legendItemName, enabled);\n    }\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.nodeDataRefresh = true;\n  }\n  toggleOtherSeriesItems(legendItemName, enabled) {\n    var _a;\n    if (!this.properties.legendItemKey || !this.dataModel) {\n      return;\n    }\n    const legendItemIdx = this.dataModel.resolveProcessedDataIndexById(this, `legendItemValue`);\n    (_a = this.processedData) == null ? void 0 : _a.data.forEach(({\n      values\n    }, datumItemId) => {\n      if (values[legendItemIdx] === legendItemName) {\n        this.toggleSeriesItem(datumItemId, enabled);\n      }\n    });\n  }\n  animateEmptyUpdateReady(_data) {\n    const {\n      animationManager\n    } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(true, this.properties.rotation, this.radiusScale, this.previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [this.itemSelection, this.highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateWaitingUpdateReady() {\n    var _a, _b, _c, _d, _e, _f;\n    const {\n      itemSelection,\n      highlightSelection,\n      processedData,\n      radiusScale,\n      previousRadiusScale\n    } = this;\n    const {\n      animationManager\n    } = this.ctx;\n    const dataDiff = (_a = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _a.diff;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const supportedDiff = ((_b = dataDiff == null ? void 0 : dataDiff.moved.size) != null ? _b : 0) === 0;\n    const hasKeys = ((_c = processedData == null ? void 0 : processedData.defs.keys.length) != null ? _c : 0) > 0;\n    const hasUniqueKeys = (_f = (_e = (_d = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _d.animationValidation) == null ? void 0 : _e.uniqueKeys) != null ? _f : true;\n    if (!supportedDiff || !hasKeys || !hasUniqueKeys) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n    const fns = preparePieSeriesAnimationFunctions(false, this.properties.rotation, radiusScale, previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes, (_, datum) => this.getDatumId(datum), dataDiff);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateClearingUpdateEmpty() {\n    const {\n      itemSelection,\n      highlightSelection,\n      radiusScale,\n      previousRadiusScale\n    } = this;\n    const {\n      animationManager\n    } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(false, this.properties.rotation, radiusScale, previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeOutAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  getDatumIdFromData(datum) {\n    var _a, _b, _c;\n    const {\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    if (!((_c = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation) == null ? void 0 : _c.uniqueKeys)) {\n      return;\n    }\n    if (legendItemKey) {\n      return datum[legendItemKey];\n    } else if (calloutLabelKey) {\n      return datum[calloutLabelKey];\n    } else if (sectorLabelKey) {\n      return datum[sectorLabelKey];\n    }\n  }\n  getDatumId(datum) {\n    const {\n      index\n    } = datum;\n    const datumId = this.getDatumIdFromData(datum.datum);\n    return datumId != null ? String(datumId) : `${index}`;\n  }\n  onDataChange() {\n    var _a;\n    const {\n      data,\n      seriesItemEnabled\n    } = this;\n    this.seriesItemEnabled = (_a = data == null ? void 0 : data.map((_, index) => {\n      var _a2;\n      return (_a2 = seriesItemEnabled[index]) != null ? _a2 : true;\n    })) != null ? _a : [];\n  }\n  computeFocusBounds(opts) {\n    return computeSectorFocusBounds(this, opts);\n  }\n};\nDonutSeries.className = \"DonutSeries\";\nDonutSeries.type = \"donut\";\n\n// packages/ag-charts-community/src/chart/series/polar/pieTheme.ts\nvar pieTheme = {\n  series: {\n    __extends__: EXTENDS_SERIES_DEFAULTS,\n    title: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: \"normal\" /* NORMAL */,\n      fontSize: 14,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_MUTED_LABEL_COLOUR,\n      spacing: 5\n    },\n    calloutLabel: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: void 0,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_LABEL_COLOUR,\n      offset: 3,\n      minAngle: 0\n    },\n    sectorLabel: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: \"normal\" /* NORMAL */,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n      positionOffset: 0,\n      positionRatio: 0.5\n    },\n    calloutLine: {\n      length: 10,\n      strokeWidth: 2\n    },\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    strokeWidth: 1,\n    lineDash: [0],\n    lineDashOffset: 0,\n    rotation: 0,\n    // @todo(AG-10275) Uncomment this\n    // sectorSpacing: 1,\n    shadow: {\n      enabled: false,\n      color: DEFAULT_SHADOW_COLOUR,\n      xOffset: 3,\n      yOffset: 3,\n      blur: 5\n    },\n    innerLabels: {\n      fontStyle: void 0,\n      fontWeight: void 0,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_LABEL_COLOUR,\n      margin: 2\n    },\n    // @todo(AG-10275) Remove this\n    // @ts-expect-error\n    __BACKGROUND_COLOR_DO_NOT_USE: DEFAULT_BACKGROUND_COLOUR\n  }\n};\nvar piePaletteFactory = ({\n  takeColors,\n  colorsCount,\n  userPalette\n}) => {\n  const {\n    fills,\n    strokes\n  } = takeColors(colorsCount);\n  return {\n    fills,\n    strokes: userPalette ? strokes : [],\n    calloutLine: {\n      colors: strokes\n    }\n  };\n};\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeriesModule.ts\nvar DonutSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"polar\"],\n  identifier: \"donut\",\n  instanceConstructor: DonutSeries,\n  themeTemplate: pieTheme,\n  paletteFactory: piePaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeriesProperties.ts\nvar PieTitle = class extends Caption {\n  constructor() {\n    super(...arguments);\n    this.showInLegend = false;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], PieTitle.prototype, \"showInLegend\", 2);\nvar DonutInnerLabel2 = class extends Label {\n  set(properties, _reset) {\n    return super.set(properties);\n  }\n};\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(STRING, {\n  optional: true\n})], DonutInnerLabel2.prototype, \"text\", 2);\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(NUMBER, {\n  optional: true\n})], DonutInnerLabel2.prototype, \"margin\", 2);\nvar DonutInnerCircle2 = class extends BaseProperties {};\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(COLOR_STRING, {\n  optional: true\n})], DonutInnerCircle2.prototype, \"fill\", 2);\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(RATIO, {\n  optional: true\n})], DonutInnerCircle2.prototype, \"fillOpacity\", 2);\nvar PieSeriesCalloutLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.offset = 3;\n    this.minAngle = 0;\n    this.minSpacing = 4;\n    this.maxCollisionOffset = 50;\n    this.avoidCollisions = true;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesCalloutLabel.prototype, \"offset\", 2);\n__decorateClass([Validate(DEGREE)], PieSeriesCalloutLabel.prototype, \"minAngle\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesCalloutLabel.prototype, \"minSpacing\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesCalloutLabel.prototype, \"maxCollisionOffset\", 2);\n__decorateClass([Validate(BOOLEAN)], PieSeriesCalloutLabel.prototype, \"avoidCollisions\", 2);\nvar PieSeriesSectorLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.positionOffset = 0;\n    this.positionRatio = 0.5;\n  }\n};\n__decorateClass([Validate(NUMBER)], PieSeriesSectorLabel.prototype, \"positionOffset\", 2);\n__decorateClass([Validate(RATIO)], PieSeriesSectorLabel.prototype, \"positionRatio\", 2);\nvar PieSeriesCalloutLine = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.length = 10;\n    this.strokeWidth = 1;\n  }\n};\n__decorateClass([Validate(COLOR_STRING_ARRAY, {\n  optional: true\n})], PieSeriesCalloutLine.prototype, \"colors\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesCalloutLine.prototype, \"length\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesCalloutLine.prototype, \"strokeWidth\", 2);\nvar PieSeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.rotation = 0;\n    this.outerRadiusOffset = 0;\n    this.outerRadiusRatio = 1;\n    this.strokeWidth = 1;\n    this.sectorSpacing = void 0;\n    this.innerLabels = new PropertiesArray(DonutInnerLabel2);\n    this.title = new PieTitle();\n    this.innerCircle = new DonutInnerCircle2();\n    this.shadow = new DropShadow();\n    this.calloutLabel = new PieSeriesCalloutLabel();\n    this.sectorLabel = new PieSeriesSectorLabel();\n    this.calloutLine = new PieSeriesCalloutLine();\n    this.tooltip = new SeriesTooltip();\n    this.__BACKGROUND_COLOR_DO_NOT_USE = void 0;\n  }\n};\n__decorateClass([Validate(STRING)], PieSeriesProperties.prototype, \"angleKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"angleName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"radiusKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"radiusName\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], PieSeriesProperties.prototype, \"radiusMin\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], PieSeriesProperties.prototype, \"radiusMax\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"calloutLabelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"calloutLabelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"sectorLabelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"sectorLabelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"legendItemKey\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], PieSeriesProperties.prototype, \"fills\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], PieSeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([Validate(RATIO)], PieSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(RATIO)], PieSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], PieSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], PieSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([Validate(DEGREE)], PieSeriesProperties.prototype, \"rotation\", 2);\n__decorateClass([Validate(NUMBER)], PieSeriesProperties.prototype, \"outerRadiusOffset\", 2);\n__decorateClass([Validate(RATIO)], PieSeriesProperties.prototype, \"outerRadiusRatio\", 2);\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(NUMBER, {\n  optional: true\n})], PieSeriesProperties.prototype, \"innerRadiusOffset\", 2);\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(RATIO, {\n  optional: true\n})], PieSeriesProperties.prototype, \"innerRadiusRatio\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], PieSeriesProperties.prototype, \"sectorSpacing\", 2);\n__decorateClass([Validate(OBJECT_ARRAY)], PieSeriesProperties.prototype, \"innerLabels\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"title\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"innerCircle\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"calloutLabel\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"sectorLabel\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"calloutLine\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"__BACKGROUND_COLOR_DO_NOT_USE\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeries.ts\nvar PieSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.angleKey = series.properties.angleKey;\n    this.radiusKey = series.properties.radiusKey;\n    this.calloutLabelKey = series.properties.calloutLabelKey;\n    this.sectorLabelKey = series.properties.sectorLabelKey;\n  }\n};\nvar PieSeries = class extends PolarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      useLabelLayer: true,\n      animationResetFns: {\n        item: resetPieSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new PieSeriesProperties();\n    this.previousRadiusScale = new LinearScale();\n    this.radiusScale = new LinearScale();\n    // The group node that contains the background graphics.\n    this.backgroundGroup = this.rootGroup.appendChild(new Group({\n      name: `${this.id}-background`,\n      layer: true,\n      zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */\n    }));\n    // AG-6193 If the sum of all datums is 0, then we'll draw 1 or 2 rings to represent the empty series.\n    this.zerosumRingsGroup = this.backgroundGroup.appendChild(new Group({\n      name: `${this.id}-zerosumRings`\n    }));\n    this.zerosumOuterRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.zerosumInnerRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.innerCircleGroup = this.backgroundGroup.appendChild(new Group({\n      name: `${this.id}-innerCircle`\n    }));\n    // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n    this.seriesItemEnabled = [];\n    this.surroundingRadius = void 0;\n    this.NodeEvent = PieSeriesNodeEvent;\n    this.angleScale = new LinearScale();\n    this.angleScale.domain = [0, 1];\n    this.angleScale.range = [-Math.PI, Math.PI].map(angle => angle + Math.PI / 2);\n    const pieCalloutLabels = new Group({\n      name: \"pieCalloutLabels\"\n    });\n    const pieSectorLabels = new Group({\n      name: \"pieSectorLabels\"\n    });\n    const innerLabels = new Group({\n      name: \"innerLabels\"\n    });\n    this.labelGroup.append(pieCalloutLabels);\n    this.labelGroup.append(pieSectorLabels);\n    this.labelGroup.append(innerLabels);\n    this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n    this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n    this.innerLabelsSelection = Selection.select(innerLabels, Text);\n    this.innerCircleSelection = Selection.select(this.innerCircleGroup, Circle);\n  }\n  addChartEventListeners() {\n    var _a;\n    this.destroyFns.push((_a = this.ctx.chartEventManager) == null ? void 0 : _a.addListener(\"legend-item-click\", event => this.onLegendItemClick(event)));\n  }\n  get visible() {\n    return super.visible && (this.seriesItemEnabled.length === 0 || this.seriesItemEnabled.some(visible => visible));\n  }\n  nodeFactory() {\n    return new Sector();\n  }\n  getSeriesDomain(direction) {\n    if (direction === \"x\" /* X */) {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      let {\n        data\n      } = this;\n      const {\n        visible,\n        seriesItemEnabled\n      } = this;\n      const {\n        angleKey,\n        radiusKey,\n        calloutLabelKey,\n        sectorLabelKey,\n        legendItemKey\n      } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const extraKeyProps = [];\n      const extraProps = [];\n      if (legendItemKey) {\n        extraKeyProps.push(keyProperty(legendItemKey, \"band\", {\n          id: `legendItemKey`\n        }));\n      } else if (calloutLabelKey) {\n        extraKeyProps.push(keyProperty(calloutLabelKey, \"band\", {\n          id: `calloutLabelKey`\n        }));\n      } else if (sectorLabelKey) {\n        extraKeyProps.push(keyProperty(sectorLabelKey, \"band\", {\n          id: `sectorLabelKey`\n        }));\n      }\n      const radiusScaleType = this.radiusScale.type;\n      const angleScaleType = this.radiusScale.type;\n      if (radiusKey) {\n        extraProps.push(rangedValueProperty(radiusKey, {\n          id: \"radiusValue\",\n          min: (_a = this.properties.radiusMin) != null ? _a : 0,\n          max: this.properties.radiusMax\n        }), valueProperty(radiusKey, radiusScaleType, {\n          id: `radiusRaw`\n        }),\n        // Raw value pass-through.\n        normalisePropertyTo({\n          id: \"radiusValue\"\n        }, [0, 1], 1, (_b = this.properties.radiusMin) != null ? _b : 0, this.properties.radiusMax));\n      }\n      if (calloutLabelKey) {\n        extraProps.push(valueProperty(calloutLabelKey, \"band\", {\n          id: `calloutLabelValue`\n        }));\n      }\n      if (sectorLabelKey) {\n        extraProps.push(valueProperty(sectorLabelKey, \"band\", {\n          id: `sectorLabelValue`\n        }));\n      }\n      if (legendItemKey) {\n        extraProps.push(valueProperty(legendItemKey, \"band\", {\n          id: `legendItemValue`\n        }));\n      }\n      if (animationEnabled && this.processedData && extraKeyProps.length > 0) {\n        extraProps.push(diff(this.processedData));\n      }\n      extraProps.push(animationValidation());\n      data = data.map((d, idx) => visible && seriesItemEnabled[idx] ? d : __spreadProps(__spreadValues({}, d), {\n        [angleKey]: 0\n      }));\n      yield this.requestDataModel(dataController, data, {\n        props: [...extraKeyProps, accumulativeValueProperty(angleKey, angleScaleType, {\n          id: `angleValue`,\n          onlyPositive: true\n        }), valueProperty(angleKey, angleScaleType, {\n          id: `angleRaw`\n        }),\n        // Raw value pass-through.\n        normalisePropertyTo({\n          id: \"angleValue\"\n        }, [0, 1], 0, 0), ...extraProps]\n      });\n      for (const valueDef of (_e = (_d = (_c = this.processedData) == null ? void 0 : _c.defs) == null ? void 0 : _d.values) != null ? _e : []) {\n        const {\n          id,\n          missing,\n          property\n        } = valueDef;\n        const missCount = getMissCount(this, missing);\n        if (id !== \"angleRaw\" && missCount > 0) {\n          Logger.warnOnce(`no value was found for the key '${String(property)}' on ${missCount} data element${missCount > 1 ? \"s\" : \"\"}`);\n        }\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  maybeRefreshNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.nodeDataRefresh) return;\n      const {\n        nodeData = []\n      } = (_a = yield this.createNodeData()) != null ? _a : {};\n      this.nodeData = nodeData;\n      this.nodeDataRefresh = false;\n    });\n  }\n  getProcessedDataIndexes(dataModel) {\n    const angleIdx = dataModel.resolveProcessedDataIndexById(this, `angleValue`);\n    const radiusIdx = this.properties.radiusKey ? dataModel.resolveProcessedDataIndexById(this, `radiusValue`) : -1;\n    const calloutLabelIdx = this.properties.calloutLabelKey ? dataModel.resolveProcessedDataIndexById(this, `calloutLabelValue`) : -1;\n    const sectorLabelIdx = this.properties.sectorLabelKey ? dataModel.resolveProcessedDataIndexById(this, `sectorLabelValue`) : -1;\n    const legendItemIdx = this.properties.legendItemKey ? dataModel.resolveProcessedDataIndexById(this, `legendItemValue`) : -1;\n    return {\n      angleIdx,\n      radiusIdx,\n      calloutLabelIdx,\n      sectorLabelIdx,\n      legendItemIdx\n    };\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const {\n        id: seriesId,\n        processedData,\n        dataModel,\n        angleScale\n      } = this;\n      const {\n        rotation\n      } = this.properties;\n      if (!processedData || !dataModel || processedData.type !== \"ungrouped\") return;\n      const {\n        angleIdx,\n        radiusIdx,\n        calloutLabelIdx,\n        sectorLabelIdx,\n        legendItemIdx\n      } = this.getProcessedDataIndexes(dataModel);\n      let currentStart = 0;\n      let sum2 = 0;\n      const nodeData = processedData.data.map((group2, index) => {\n        var _a;\n        const {\n          datum,\n          values\n        } = group2;\n        const currentValue = values[angleIdx];\n        const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        currentStart = currentValue;\n        sum2 += currentValue;\n        const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        const span = Math.abs(endAngle - startAngle);\n        const midAngle = startAngle + span / 2;\n        const angleValue = values[angleIdx + 1];\n        const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) != null ? _a : 1 : 1;\n        const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : void 0;\n        const legendItemValue = legendItemIdx >= 0 ? values[legendItemIdx] : void 0;\n        const labels = this.getLabels(datum, midAngle, span, true, values[calloutLabelIdx], values[sectorLabelIdx], legendItemValue);\n        const sectorFormat = this.getSectorFormat(datum, index, false);\n        return __spreadValues({\n          itemId: index,\n          series: this,\n          datum,\n          index,\n          angleValue,\n          midAngle,\n          midCos: Math.cos(midAngle),\n          midSin: Math.sin(midAngle),\n          startAngle,\n          endAngle,\n          sectorFormat,\n          radiusValue,\n          radius,\n          innerRadius: Math.max(this.radiusScale.convert(0), 0),\n          outerRadius: Math.max(this.radiusScale.convert(radius), 0),\n          legendItemValue\n        }, labels);\n      });\n      this.zerosumOuterRing.visible = sum2 === 0;\n      const {\n        innerRadiusRatio = 1\n      } = this.properties;\n      this.zerosumInnerRing.visible = sum2 === 0 && innerRadiusRatio !== 1 && innerRadiusRatio > 0;\n      return {\n        itemId: seriesId,\n        nodeData,\n        labelData: nodeData\n      };\n    });\n  }\n  getLabels(datum, midAngle, span, skipDisabled, calloutLabelValue, sectorLabelValue, legendItemValue) {\n    const {\n      calloutLabel,\n      sectorLabel,\n      legendItemKey\n    } = this.properties;\n    const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.properties.calloutLabelKey : void 0;\n    const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.properties.sectorLabelKey : void 0;\n    if (!calloutLabelKey && !sectorLabelKey && !legendItemKey) {\n      return {};\n    }\n    const labelFormatterParams = {\n      datum,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    };\n    const result = {};\n    if (calloutLabelKey && span > toRadians(calloutLabel.minAngle)) {\n      result.calloutLabel = __spreadProps(__spreadValues({}, this.getTextAlignment(midAngle)), {\n        text: this.getLabelText(calloutLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: calloutLabelValue\n        })),\n        hidden: false,\n        collisionTextAlign: void 0,\n        collisionOffsetY: 0,\n        box: void 0\n      });\n    }\n    if (sectorLabelKey) {\n      result.sectorLabel = {\n        text: this.getLabelText(sectorLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: sectorLabelValue\n        }))\n      };\n    }\n    if (legendItemKey != null && legendItemValue != null) {\n      result.legendItem = {\n        key: legendItemKey,\n        text: legendItemValue\n      };\n    }\n    return result;\n  }\n  getTextAlignment(midAngle) {\n    const quadrantTextOpts = [{\n      textAlign: \"center\",\n      textBaseline: \"bottom\"\n    }, {\n      textAlign: \"left\",\n      textBaseline: \"middle\"\n    }, {\n      textAlign: \"center\",\n      textBaseline: \"hanging\"\n    }, {\n      textAlign: \"right\",\n      textBaseline: \"middle\"\n    }];\n    const midAngle180 = normalizeAngle180(midAngle);\n    const quadrantStart = -0.75 * Math.PI;\n    const quadrantOffset = midAngle180 - quadrantStart;\n    const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n    const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n    return quadrantTextOpts[quadrantIndex];\n  }\n  getSectorFormat(datum, formatIndex, highlight) {\n    var _a, _b, _c, _d, _e;\n    const {\n      callbackCache,\n      highlightManager\n    } = this.ctx;\n    const {\n      angleKey,\n      radiusKey,\n      fills,\n      strokes,\n      formatter,\n      sectorSpacing,\n      __BACKGROUND_COLOR_DO_NOT_USE\n    } = this.properties;\n    const highlightedDatum = highlightManager.getActiveHighlight();\n    const isDatumHighlighted = highlight && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && formatIndex === highlightedDatum.itemId;\n    let defaultStroke = strokes[formatIndex % strokes.length];\n    if (sectorSpacing != null) {\n      defaultStroke != null ? defaultStroke : defaultStroke = __BACKGROUND_COLOR_DO_NOT_USE;\n    }\n    const {\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      strokeOpacity\n    } = mergeDefaults(isDatumHighlighted && this.properties.highlightStyle.item, {\n      fill: fills.length > 0 ? fills[formatIndex % fills.length] : void 0,\n      fillOpacity: this.properties.fillOpacity,\n      stroke: defaultStroke,\n      strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n      strokeOpacity: this.getOpacity()\n    });\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        datum,\n        angleKey,\n        radiusKey,\n        fill,\n        stroke,\n        fills,\n        strokes,\n        strokeWidth,\n        highlighted: isDatumHighlighted,\n        seriesId: this.id\n      });\n    }\n    return {\n      fill: (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill,\n      fillOpacity: (_b = format2 == null ? void 0 : format2.fillOpacity) != null ? _b : fillOpacity,\n      stroke: (_c = format2 == null ? void 0 : format2.stroke) != null ? _c : stroke,\n      strokeWidth: (_d = format2 == null ? void 0 : format2.strokeWidth) != null ? _d : strokeWidth,\n      strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity\n    };\n  }\n  getInnerRadius() {\n    const {\n      radius\n    } = this;\n    const {\n      innerRadiusRatio = 1,\n      innerRadiusOffset = 0\n    } = this.properties;\n    const innerRadius = radius * innerRadiusRatio + innerRadiusOffset;\n    if (innerRadius === radius || innerRadius < 0) {\n      return 0;\n    }\n    return innerRadius;\n  }\n  getOuterRadius() {\n    return Math.max(this.radius * this.properties.outerRadiusRatio + this.properties.outerRadiusOffset, 0);\n  }\n  updateRadiusScale(resize) {\n    const newRange = [this.getInnerRadius(), this.getOuterRadius()];\n    this.radiusScale.range = newRange;\n    if (resize) {\n      this.previousRadiusScale.range = newRange;\n    }\n    this.nodeData = this.nodeData.map(_a => {\n      var _b = _a,\n        {\n          radius\n        } = _b,\n        d = __objRest(_b, [\"radius\"]);\n      return __spreadProps(__spreadValues({}, d), {\n        radius,\n        innerRadius: Math.max(this.radiusScale.convert(0), 0),\n        outerRadius: Math.max(this.radiusScale.convert(radius), 0)\n      });\n    });\n  }\n  getTitleTranslationY() {\n    var _a, _b;\n    const outerRadius = Math.max(0, this.radiusScale.range[1]);\n    if (outerRadius === 0) {\n      return NaN;\n    }\n    const spacing = (_b = (_a = this.properties.title) == null ? void 0 : _a.spacing) != null ? _b : 0;\n    const titleOffset = 2 + spacing;\n    const dy = Math.max(0, -outerRadius);\n    return -outerRadius - titleOffset - dy;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({\n      seriesRect\n    }) {\n      const {\n        title\n      } = this.properties;\n      const newNodeDataDependencies = {\n        seriesRectWidth: seriesRect == null ? void 0 : seriesRect.width,\n        seriesRectHeight: seriesRect == null ? void 0 : seriesRect.height\n      };\n      const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n      if (resize) {\n        this._nodeDataDependencies = newNodeDataDependencies;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateTitleNodes();\n      this.updateRadiusScale(resize);\n      this.contentGroup.translationX = this.centerX;\n      this.contentGroup.translationY = this.centerY;\n      this.highlightGroup.translationX = this.centerX;\n      this.highlightGroup.translationY = this.centerY;\n      this.backgroundGroup.translationX = this.centerX;\n      this.backgroundGroup.translationY = this.centerY;\n      if (this.labelGroup) {\n        this.labelGroup.translationX = this.centerX;\n        this.labelGroup.translationY = this.centerY;\n      }\n      if (title) {\n        const dy = this.getTitleTranslationY();\n        const titleBox = title.node.computeBBox();\n        title.node.visible = title.enabled && isFinite(dy) && !this.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n        title.node.translationY = isFinite(dy) ? dy : 0;\n      }\n      for (const circle of [this.zerosumInnerRing, this.zerosumOuterRing]) {\n        circle.fillOpacity = 0;\n        circle.stroke = this.properties.calloutLabel.color;\n        circle.strokeWidth = 1;\n        circle.strokeOpacity = 1;\n      }\n      this.updateNodeMidPoint();\n      yield this.updateSelections();\n      yield this.updateNodes(seriesRect);\n    });\n  }\n  updateTitleNodes() {\n    var _a, _b;\n    const {\n      oldTitle\n    } = this;\n    const {\n      title\n    } = this.properties;\n    if (oldTitle !== title) {\n      if (oldTitle) {\n        (_a = this.labelGroup) == null ? void 0 : _a.removeChild(oldTitle.node);\n      }\n      if (title) {\n        title.node.textBaseline = \"bottom\";\n        (_b = this.labelGroup) == null ? void 0 : _b.appendChild(title.node);\n      }\n      this.oldTitle = title;\n    }\n  }\n  updateNodeMidPoint() {\n    this.nodeData.forEach(d => {\n      const radius = d.innerRadius + (d.outerRadius - d.innerRadius) / 2;\n      d.midPoint = {\n        x: d.midCos * Math.max(0, radius),\n        y: d.midSin * Math.max(0, radius)\n      };\n    });\n  }\n  updateSelections() {\n    return __async(this, null, function* () {\n      yield this.updateGroupSelection();\n      this.updateInnerCircleSelection();\n    });\n  }\n  updateGroupSelection() {\n    return __async(this, null, function* () {\n      const {\n        itemSelection,\n        highlightSelection,\n        calloutLabelSelection,\n        sectorLabelSelection,\n        innerLabelsSelection\n      } = this;\n      const update = (selection, clone) => {\n        let nodeData = this.nodeData;\n        if (clone) {\n          nodeData = nodeData.map(datum => __spreadProps(__spreadValues({}, datum), {\n            sectorFormat: __spreadValues({}, datum.sectorFormat)\n          }));\n        }\n        selection.update(nodeData, void 0, datum => this.getDatumId(datum));\n        if (this.ctx.animationManager.isSkipped()) {\n          selection.cleanup();\n        }\n      };\n      update(itemSelection, false);\n      update(highlightSelection, true);\n      calloutLabelSelection.update(this.nodeData, group2 => {\n        const line = new Line();\n        line.tag = 0 /* Callout */;\n        line.pointerEvents = 1 /* None */;\n        group2.appendChild(line);\n        const text = new Text();\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        group2.appendChild(text);\n      });\n      sectorLabelSelection.update(this.nodeData, node => {\n        node.pointerEvents = 1 /* None */;\n      });\n      innerLabelsSelection.update(this.properties.innerLabels, node => {\n        node.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateInnerCircleSelection() {\n    const {\n      innerCircle\n    } = this.properties;\n    let radius = 0;\n    const innerRadius = this.getInnerRadius();\n    if (innerRadius > 0) {\n      const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n      const antiAliasingPadding = 1;\n      radius = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n    }\n    const datums = innerCircle ? [{\n      radius\n    }] : [];\n    this.innerCircleSelection.update(datums);\n  }\n  updateNodes(seriesRect) {\n    return __async(this, null, function* () {\n      const highlightedDatum = this.ctx.highlightManager.getActiveHighlight();\n      const isVisible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n      this.rootGroup.visible = isVisible;\n      this.backgroundGroup.visible = isVisible;\n      this.contentGroup.visible = isVisible;\n      this.highlightGroup.visible = isVisible && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this;\n      if (this.labelGroup) {\n        this.labelGroup.visible = isVisible;\n      }\n      this.contentGroup.opacity = this.getOpacity();\n      this.innerCircleSelection.each((node, {\n        radius\n      }) => {\n        var _a, _b;\n        node.setProperties({\n          fill: (_a = this.properties.innerCircle) == null ? void 0 : _a.fill,\n          opacity: (_b = this.properties.innerCircle) == null ? void 0 : _b.fillOpacity,\n          size: radius\n        });\n      });\n      const updateSectorFn = (sector, datum, _index, isDatumHighlighted) => {\n        const format2 = this.getSectorFormat(datum.datum, datum.itemId, isDatumHighlighted);\n        datum.sectorFormat.fill = format2.fill;\n        datum.sectorFormat.stroke = format2.stroke;\n        const animationDisabled = this.ctx.animationManager.isSkipped();\n        if (animationDisabled) {\n          sector.startAngle = datum.startAngle;\n          sector.endAngle = datum.endAngle;\n          sector.innerRadius = datum.innerRadius;\n          sector.outerRadius = datum.outerRadius;\n        }\n        if (isDatumHighlighted || animationDisabled) {\n          sector.fill = format2.fill;\n          sector.stroke = format2.stroke;\n        }\n        sector.strokeWidth = format2.strokeWidth;\n        sector.fillOpacity = format2.fillOpacity;\n        sector.strokeOpacity = this.properties.strokeOpacity;\n        sector.lineDash = this.properties.lineDash;\n        sector.lineDashOffset = this.properties.lineDashOffset;\n        sector.fillShadow = this.properties.shadow;\n        sector.cornerRadius = this.properties.cornerRadius;\n        sector.inset = this.properties.sectorSpacing != null ? (this.properties.sectorSpacing + (format2.stroke != null ? format2.strokeWidth : 0)) / 2 : 0;\n        sector.lineJoin = this.properties.sectorSpacing != null ? \"miter\" : \"round\";\n      };\n      this.itemSelection.each((node, datum, index) => updateSectorFn(node, datum, index, false));\n      this.highlightSelection.each((node, datum, index) => {\n        const isDatumHighlighted = (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n        updateSectorFn(node, datum, index, true);\n        node.visible = isDatumHighlighted;\n      });\n      this.updateCalloutLineNodes();\n      this.updateCalloutLabelNodes(seriesRect);\n      this.updateSectorLabelNodes();\n      this.updateInnerLabelNodes();\n      this.updateZerosumRings();\n      this.animationState.transition(\"update\");\n    });\n  }\n  updateCalloutLineNodes() {\n    var _a;\n    const {\n      calloutLine\n    } = this.properties;\n    const calloutLength = calloutLine.length;\n    const calloutStrokeWidth = calloutLine.strokeWidth;\n    const calloutColors = (_a = calloutLine.colors) != null ? _a : this.properties.strokes;\n    const {\n      offset: offset4\n    } = this.properties.calloutLabel;\n    this.calloutLabelSelection.selectByTag(0 /* Callout */).forEach((line, index) => {\n      var _a2;\n      const datum = line.datum;\n      const {\n        calloutLabel: label,\n        outerRadius\n      } = datum;\n      if ((label == null ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n        line.visible = true;\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.fill = void 0;\n        const x1 = datum.midCos * outerRadius;\n        const y1 = datum.midSin * outerRadius;\n        let x2 = datum.midCos * (outerRadius + calloutLength);\n        let y2 = datum.midSin * (outerRadius + calloutLength);\n        const isMoved = (_a2 = label.collisionTextAlign) != null ? _a2 : label.collisionOffsetY !== 0;\n        if (isMoved && label.box != null) {\n          const box = label.box;\n          let cx = x2;\n          let cy = y2;\n          if (x2 < box.x) {\n            cx = box.x;\n          } else if (x2 > box.x + box.width) {\n            cx = box.x + box.width;\n          }\n          if (y2 < box.y) {\n            cy = box.y;\n          } else if (y2 > box.y + box.height) {\n            cy = box.y + box.height;\n          }\n          const dx = cx - x2;\n          const dy = cy - y2;\n          const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n          const paddedLength = length - offset4;\n          if (paddedLength > 0) {\n            x2 = x2 + dx * paddedLength / length;\n            y2 = y2 + dy * paddedLength / length;\n          }\n        }\n        line.x1 = x1;\n        line.y1 = y1;\n        line.x2 = x2;\n        line.y2 = y2;\n      } else {\n        line.visible = false;\n      }\n    });\n  }\n  getLabelOverflow(text, box, seriesRect) {\n    const seriesLeft = seriesRect.x - this.centerX;\n    const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n    const seriesTop = seriesRect.y - this.centerY;\n    const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n    const errPx = 1;\n    let visibleTextPart = 1;\n    if (box.x + errPx < seriesLeft) {\n      visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n    } else if (box.x + box.width - errPx > seriesRight) {\n      visibleTextPart = (seriesRight - box.x) / box.width;\n    }\n    const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n    const textLength = visibleTextPart === 1 ? text.length : Math.floor(text.length * visibleTextPart) - 1;\n    const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n    return {\n      textLength,\n      hasVerticalOverflow,\n      hasSurroundingSeriesOverflow\n    };\n  }\n  bboxIntersectsSurroundingSeries(box, dx = 0, dy = 0) {\n    const {\n      surroundingRadius\n    } = this;\n    if (surroundingRadius == null) {\n      return false;\n    }\n    const corners = [{\n      x: box.x + dx,\n      y: box.y + dy\n    }, {\n      x: box.x + box.width + dx,\n      y: box.y + dy\n    }, {\n      x: box.x + box.width + dx,\n      y: box.y + box.height + dy\n    }, {\n      x: box.x + dx,\n      y: box.y + box.height + dy\n    }];\n    const sur2 = __pow(surroundingRadius, 2);\n    return corners.some(corner => __pow(corner.x, 2) + __pow(corner.y, 2) > sur2);\n  }\n  computeCalloutLabelCollisionOffsets() {\n    const {\n      radiusScale\n    } = this;\n    const {\n      calloutLabel,\n      calloutLine\n    } = this.properties;\n    const {\n      offset: offset4,\n      minSpacing\n    } = calloutLabel;\n    const innerRadius = radiusScale.convert(0);\n    const shouldSkip = datum => {\n      const label = datum.calloutLabel;\n      return !label || datum.outerRadius === 0;\n    };\n    const fullData = this.nodeData;\n    const data = this.nodeData.filter(t => !shouldSkip(t));\n    data.forEach(datum => {\n      const label = datum.calloutLabel;\n      if (label == null) return;\n      label.hidden = false;\n      label.collisionTextAlign = void 0;\n      label.collisionOffsetY = 0;\n    });\n    if (data.length <= 1) {\n      return;\n    }\n    const leftLabels = data.filter(d => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n    const rightLabels = data.filter(d => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n    const topLabels = data.filter(d => {\n      var _a;\n      return d.midSin < 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const bottomLabels = data.filter(d => {\n      var _a;\n      return d.midSin >= 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const tempTextNode = new Text();\n    const getTextBBox = datum => {\n      var _a;\n      const label = datum.calloutLabel;\n      if (label == null) return new BBox(0, 0, 0, 0);\n      const labelRadius = datum.outerRadius + calloutLine.length + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign({\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      });\n      return tempTextNode.computeBBox();\n    };\n    const avoidNeighbourYCollision = (label, next, direction) => {\n      const box = getTextBBox(label).grow(minSpacing / 2);\n      const other = getTextBBox(next).grow(minSpacing / 2);\n      const collidesOrBehind = box.x < other.x + other.width && box.x + box.width > other.x && (direction === \"to-top\" ? box.y < other.y + other.height : box.y + box.height > other.y);\n      if (collidesOrBehind) {\n        const dy = direction === \"to-top\" ? box.y - other.y - other.height : box.y + box.height - other.y;\n        next.calloutLabel.collisionOffsetY = dy;\n      }\n    };\n    const avoidYCollisions = labels => {\n      const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n      const midIndex = labels.indexOf(midLabel);\n      for (let i = midIndex - 1; i >= 0; i--) {\n        const prev = labels[i + 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-top\");\n      }\n      for (let i = midIndex + 1; i < labels.length; i++) {\n        const prev = labels[i - 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-bottom\");\n      }\n    };\n    const avoidXCollisions = labels => {\n      const labelsCollideLabelsByY = data.some(datum => datum.calloutLabel.collisionOffsetY !== 0);\n      const boxes = labels.map(label => getTextBBox(label));\n      const paddedBoxes = boxes.map(box => box.clone().grow(minSpacing / 2));\n      let labelsCollideLabelsByX = false;\n      for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n        const box = paddedBoxes[i];\n        for (let j = i + 1; j < labels.length; j++) {\n          const other = paddedBoxes[j];\n          if (box.collidesBBox(other)) {\n            labelsCollideLabelsByX = true;\n            break;\n          }\n        }\n      }\n      const sectors = fullData.map(datum => {\n        const {\n          startAngle,\n          endAngle,\n          outerRadius\n        } = datum;\n        return {\n          startAngle,\n          endAngle,\n          innerRadius,\n          outerRadius\n        };\n      });\n      const labelsCollideSectors = boxes.some(box => {\n        return sectors.some(sector => boxCollidesSector(box, sector));\n      });\n      if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n        return;\n      }\n      labels.filter(d => d.calloutLabel.textAlign === \"center\").forEach(d => {\n        const label = d.calloutLabel;\n        if (d.midCos < 0) {\n          label.collisionTextAlign = \"right\";\n        } else if (d.midCos > 0) {\n          label.collisionTextAlign = \"left\";\n        } else {\n          label.collisionTextAlign = \"center\";\n        }\n      });\n    };\n    avoidYCollisions(leftLabels);\n    avoidYCollisions(rightLabels);\n    avoidXCollisions(topLabels);\n    avoidXCollisions(bottomLabels);\n  }\n  updateCalloutLabelNodes(seriesRect) {\n    const {\n      radiusScale\n    } = this;\n    const {\n      calloutLabel,\n      calloutLine\n    } = this.properties;\n    const calloutLength = calloutLine.length;\n    const {\n      offset: offset4,\n      color\n    } = calloutLabel;\n    const tempTextNode = new Text();\n    this.calloutLabelSelection.selectByTag(1 /* Label */).forEach(text => {\n      var _a;\n      const {\n        datum\n      } = text;\n      const label = datum.calloutLabel;\n      const radius = radiusScale.convert(datum.radius);\n      const outerRadius = Math.max(0, radius);\n      if (!(label == null ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n        text.visible = false;\n        return;\n      }\n      const labelRadius = outerRadius + calloutLength + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      const align = {\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      };\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign(align);\n      const box = tempTextNode.computeBBox();\n      let displayText = label.text;\n      let visible = true;\n      if (calloutLabel.avoidCollisions) {\n        const {\n          textLength,\n          hasVerticalOverflow\n        } = this.getLabelOverflow(label.text, box, seriesRect);\n        displayText = label.text.length === textLength ? label.text : `${label.text.substring(0, textLength)}\\u2026`;\n        visible = !hasVerticalOverflow;\n      }\n      text.text = displayText;\n      text.x = x;\n      text.y = y;\n      text.setFont(this.properties.calloutLabel);\n      text.setAlign(align);\n      text.fill = color;\n      text.visible = visible;\n    });\n  }\n  computeLabelsBBox(options, seriesRect) {\n    return __async(this, null, function* () {\n      const {\n        calloutLabel,\n        calloutLine\n      } = this.properties;\n      const calloutLength = calloutLine.length;\n      const {\n        offset: offset4,\n        maxCollisionOffset,\n        minSpacing\n      } = calloutLabel;\n      if (!calloutLabel.avoidCollisions) {\n        return null;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateRadiusScale(false);\n      this.computeCalloutLabelCollisionOffsets();\n      const textBoxes = [];\n      const text = new Text();\n      let titleBox;\n      const {\n        title\n      } = this.properties;\n      if ((title == null ? void 0 : title.text) && title.enabled) {\n        const dy = this.getTitleTranslationY();\n        if (isFinite(dy)) {\n          text.text = title.text;\n          text.x = 0;\n          text.y = dy;\n          text.setFont(title);\n          text.setAlign({\n            textBaseline: \"bottom\",\n            textAlign: \"center\"\n          });\n          titleBox = text.computeBBox();\n          textBoxes.push(titleBox);\n        }\n      }\n      this.nodeData.forEach(datum => {\n        var _a;\n        const label = datum.calloutLabel;\n        if (!label || datum.outerRadius === 0) {\n          return null;\n        }\n        const labelRadius = datum.outerRadius + calloutLength + offset4;\n        const x = datum.midCos * labelRadius;\n        const y = datum.midSin * labelRadius + label.collisionOffsetY;\n        text.text = label.text;\n        text.x = x;\n        text.y = y;\n        text.setFont(this.properties.calloutLabel);\n        text.setAlign({\n          textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n          textBaseline: label.textBaseline\n        });\n        const box = text.computeBBox();\n        label.box = box;\n        if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n          label.hidden = true;\n          return;\n        }\n        if (titleBox) {\n          const seriesTop = seriesRect.y - this.centerY;\n          const titleCleanArea = new BBox(titleBox.x - minSpacing, seriesTop, titleBox.width + 2 * minSpacing, titleBox.y + titleBox.height + minSpacing - seriesTop);\n          if (box.collidesBBox(titleCleanArea)) {\n            label.hidden = true;\n            return;\n          }\n        }\n        if (options.hideWhenNecessary) {\n          const {\n            textLength,\n            hasVerticalOverflow,\n            hasSurroundingSeriesOverflow\n          } = this.getLabelOverflow(label.text, box, seriesRect);\n          const isTooShort = label.text.length > 2 && textLength < 2;\n          if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n            label.hidden = true;\n            return;\n          }\n        }\n        label.hidden = false;\n        textBoxes.push(box);\n      });\n      if (textBoxes.length === 0) {\n        return null;\n      }\n      return BBox.merge(textBoxes);\n    });\n  }\n  updateSectorLabelNodes() {\n    const {\n      radiusScale\n    } = this;\n    const innerRadius = radiusScale.convert(0);\n    const {\n      fontSize,\n      fontStyle,\n      fontWeight,\n      fontFamily,\n      positionOffset,\n      positionRatio,\n      color\n    } = this.properties.sectorLabel;\n    const isDonut = innerRadius > 0;\n    const singleVisibleSector = this.seriesItemEnabled.filter(Boolean).length === 1;\n    this.sectorLabelSelection.each((text, datum) => {\n      const {\n        sectorLabel,\n        outerRadius\n      } = datum;\n      let isTextVisible = false;\n      if (sectorLabel && outerRadius !== 0) {\n        const labelRadius = innerRadius * (1 - positionRatio) + outerRadius * positionRatio + positionOffset;\n        text.fill = color;\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.text = sectorLabel.text;\n        const shouldPutTextInCenter = !isDonut && singleVisibleSector;\n        if (shouldPutTextInCenter) {\n          text.x = 0;\n          text.y = 0;\n        } else {\n          text.x = datum.midCos * labelRadius;\n          text.y = datum.midSin * labelRadius;\n        }\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n        const bbox = text.computeBBox();\n        const corners = [[bbox.x, bbox.y], [bbox.x + bbox.width, bbox.y], [bbox.x + bbox.width, bbox.y + bbox.height], [bbox.x, bbox.y + bbox.height]];\n        const {\n          startAngle,\n          endAngle\n        } = datum;\n        const sectorBounds = {\n          startAngle,\n          endAngle,\n          innerRadius,\n          outerRadius\n        };\n        if (corners.every(([x, y]) => isPointInSector(x, y, sectorBounds))) {\n          isTextVisible = true;\n        }\n      }\n      text.visible = isTextVisible;\n    });\n  }\n  updateInnerLabelNodes() {\n    const textBBoxes = [];\n    const margins = [];\n    this.innerLabelsSelection.each((text, datum) => {\n      const {\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily,\n        color,\n        margin = 2\n      } = datum;\n      text.fontStyle = fontStyle;\n      text.fontWeight = fontWeight;\n      text.fontSize = fontSize;\n      text.fontFamily = fontFamily;\n      text.text = datum.text;\n      text.x = 0;\n      text.y = 0;\n      text.fill = color;\n      text.textAlign = \"center\";\n      text.textBaseline = \"alphabetic\";\n      textBBoxes.push(text.computeBBox());\n      margins.push(margin);\n    });\n    const getMarginTop = index => index === 0 ? 0 : margins[index];\n    const getMarginBottom = index => index === margins.length - 1 ? 0 : margins[index];\n    const totalHeight = textBBoxes.reduce((sum2, bbox, i) => {\n      return sum2 + bbox.height + getMarginTop(i) + getMarginBottom(i);\n    }, 0);\n    const totalWidth = Math.max(...textBBoxes.map(bbox => bbox.width));\n    const innerRadius = this.getInnerRadius();\n    const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n    const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n    const textBottoms = [];\n    for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n      const bbox = textBBoxes[i];\n      const bottom = bbox.height + prev + getMarginTop(i);\n      textBottoms.push(bottom);\n      prev = bottom + getMarginBottom(i);\n    }\n    this.innerLabelsSelection.each((text, _datum, index) => {\n      text.y = textBottoms[index];\n      text.visible = labelsVisible;\n    });\n  }\n  updateZerosumRings() {\n    this.zerosumOuterRing.size = this.getOuterRadius() * 2;\n    this.zerosumInnerRing.size = this.getInnerRadius() * 2;\n  }\n  getDatumLegendName(nodeDatum) {\n    const {\n      angleKey,\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    const {\n      sectorLabel,\n      calloutLabel,\n      legendItem\n    } = nodeDatum;\n    if (legendItemKey && legendItem !== void 0) {\n      return legendItem.text;\n    } else if (calloutLabelKey && calloutLabelKey !== angleKey && (calloutLabel == null ? void 0 : calloutLabel.text) !== void 0) {\n      return calloutLabel.text;\n    } else if (sectorLabelKey && sectorLabelKey !== angleKey && (sectorLabel == null ? void 0 : sectorLabel.text) !== void 0) {\n      return sectorLabel.text;\n    }\n  }\n  pickNodeClosestDatum(point) {\n    return pickByMatchingAngle(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    if (!this.properties.isValid()) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      datum,\n      angleValue,\n      sectorFormat: {\n        fill: color\n      },\n      itemId\n    } = nodeDatum;\n    const title = sanitizeHtml((_a = this.properties.title) == null ? void 0 : _a.text);\n    const content = isFiniteNumber(angleValue) ? toFixed(angleValue) : String(angleValue);\n    const labelText = this.getDatumLegendName(nodeDatum);\n    return this.properties.tooltip.toTooltipHtml({\n      title: title != null ? title : labelText,\n      content: title && labelText ? `${labelText}: ${content}` : content,\n      backgroundColor: color\n    }, {\n      datum,\n      itemId,\n      title,\n      color,\n      seriesId: this.id,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e;\n    const {\n      visible,\n      processedData,\n      dataModel\n    } = this;\n    if (!dataModel || !(processedData == null ? void 0 : processedData.data.length) || legendType !== \"category\") {\n      return [];\n    }\n    const {\n      angleKey,\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    if (!legendItemKey && (!calloutLabelKey || calloutLabelKey === angleKey) && (!sectorLabelKey || sectorLabelKey === angleKey)) {\n      return [];\n    }\n    const {\n      calloutLabelIdx,\n      sectorLabelIdx,\n      legendItemIdx\n    } = this.getProcessedDataIndexes(dataModel);\n    const titleText = ((_a = this.properties.title) == null ? void 0 : _a.showInLegend) && this.properties.title.text;\n    const legendData = [];\n    for (let index = 0; index < processedData.data.length; index++) {\n      const {\n        datum,\n        values\n      } = processedData.data[index];\n      const labelParts = [];\n      if (titleText) {\n        labelParts.push(titleText);\n      }\n      const labels = this.getLabels(datum, 2 * Math.PI, 2 * Math.PI, false, values[calloutLabelIdx], values[sectorLabelIdx], values[legendItemIdx]);\n      if (legendItemKey && labels.legendItem !== void 0) {\n        labelParts.push(labels.legendItem.text);\n      } else if (calloutLabelKey && calloutLabelKey !== angleKey && ((_b = labels.calloutLabel) == null ? void 0 : _b.text) !== void 0) {\n        labelParts.push((_c = labels.calloutLabel) == null ? void 0 : _c.text);\n      } else if (sectorLabelKey && sectorLabelKey !== angleKey && ((_d = labels.sectorLabel) == null ? void 0 : _d.text) !== void 0) {\n        labelParts.push((_e = labels.sectorLabel) == null ? void 0 : _e.text);\n      }\n      if (labelParts.length === 0) continue;\n      const sectorFormat = this.getSectorFormat(datum, index, false);\n      legendData.push({\n        legendType: \"category\",\n        id: this.id,\n        itemId: index,\n        seriesId: this.id,\n        enabled: visible && this.seriesItemEnabled[index],\n        label: {\n          text: labelParts.join(\" - \")\n        },\n        marker: {\n          fill: sectorFormat.fill,\n          stroke: sectorFormat.stroke,\n          fillOpacity: this.properties.fillOpacity,\n          strokeOpacity: this.properties.strokeOpacity,\n          strokeWidth: this.properties.strokeWidth\n        },\n        legendItemName: legendItemKey != null ? datum[legendItemKey] : void 0\n      });\n    }\n    return legendData;\n  }\n  onLegendItemClick(event) {\n    const {\n      enabled,\n      itemId,\n      series,\n      legendItemName\n    } = event;\n    if (series.id === this.id) {\n      this.toggleSeriesItem(itemId, enabled);\n    } else if (legendItemName != null) {\n      this.toggleOtherSeriesItems(legendItemName, enabled);\n    }\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.nodeDataRefresh = true;\n  }\n  toggleOtherSeriesItems(legendItemName, enabled) {\n    var _a;\n    if (!this.properties.legendItemKey || !this.dataModel) {\n      return;\n    }\n    const legendItemIdx = this.dataModel.resolveProcessedDataIndexById(this, `legendItemValue`);\n    (_a = this.processedData) == null ? void 0 : _a.data.forEach(({\n      values\n    }, datumItemId) => {\n      if (values[legendItemIdx] === legendItemName) {\n        this.toggleSeriesItem(datumItemId, enabled);\n      }\n    });\n  }\n  animateEmptyUpdateReady(_data) {\n    const {\n      animationManager\n    } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(true, this.properties.rotation, this.radiusScale, this.previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [this.itemSelection, this.highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateWaitingUpdateReady() {\n    var _a, _b, _c, _d, _e, _f;\n    const {\n      itemSelection,\n      highlightSelection,\n      processedData,\n      radiusScale,\n      previousRadiusScale\n    } = this;\n    const {\n      animationManager\n    } = this.ctx;\n    const dataDiff = (_a = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _a.diff;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const supportedDiff = ((_b = dataDiff == null ? void 0 : dataDiff.moved.size) != null ? _b : 0) === 0;\n    const hasKeys = ((_c = processedData == null ? void 0 : processedData.defs.keys.length) != null ? _c : 0) > 0;\n    const hasUniqueKeys = (_f = (_e = (_d = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _d.animationValidation) == null ? void 0 : _e.uniqueKeys) != null ? _f : true;\n    if (!supportedDiff || !hasKeys || !hasUniqueKeys) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n    const fns = preparePieSeriesAnimationFunctions(false, this.properties.rotation, radiusScale, previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes, (_, datum) => this.getDatumId(datum), dataDiff);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateClearingUpdateEmpty() {\n    const {\n      itemSelection,\n      highlightSelection,\n      radiusScale,\n      previousRadiusScale\n    } = this;\n    const {\n      animationManager\n    } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(false, this.properties.rotation, radiusScale, previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeOutAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  getDatumIdFromData(datum) {\n    var _a, _b, _c;\n    const {\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    if (!((_c = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation) == null ? void 0 : _c.uniqueKeys)) {\n      return;\n    }\n    if (legendItemKey) {\n      return datum[legendItemKey];\n    } else if (calloutLabelKey) {\n      return datum[calloutLabelKey];\n    } else if (sectorLabelKey) {\n      return datum[sectorLabelKey];\n    }\n  }\n  getDatumId(datum) {\n    const {\n      index\n    } = datum;\n    const datumId = this.getDatumIdFromData(datum.datum);\n    return datumId != null ? String(datumId) : `${index}`;\n  }\n  onDataChange() {\n    var _a;\n    const {\n      data,\n      seriesItemEnabled\n    } = this;\n    this.seriesItemEnabled = (_a = data == null ? void 0 : data.map((_, index) => {\n      var _a2;\n      return (_a2 = seriesItemEnabled[index]) != null ? _a2 : true;\n    })) != null ? _a : [];\n  }\n  computeFocusBounds(opts) {\n    return computeSectorFocusBounds(this, opts);\n  }\n};\nPieSeries.className = \"PieSeries\";\nPieSeries.type = \"pie\";\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeriesModule.ts\nvar PieSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"polar\"],\n  identifier: \"pie\",\n  instanceConstructor: PieSeries,\n  themeTemplate: pieTheme,\n  paletteFactory: piePaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarTypes.ts\nvar TOOLBAR_ALIGNMENTS = [\"start\", \"center\", \"end\"];\nvar TOOLBAR_GROUPS = [\"annotations\", \"ranges\", \"zoom\"];\nvar ToolbarPosition = /* @__PURE__ */(ToolbarPosition2 => {\n  ToolbarPosition2[\"Top\"] = \"top\";\n  ToolbarPosition2[\"Right\"] = \"right\";\n  ToolbarPosition2[\"Bottom\"] = \"bottom\";\n  ToolbarPosition2[\"Left\"] = \"left\";\n  ToolbarPosition2[\"FloatingTop\"] = \"floating-top\";\n  ToolbarPosition2[\"FloatingBottom\"] = \"floating-bottom\";\n  return ToolbarPosition2;\n})(ToolbarPosition || {});\nvar TOOLBAR_POSITIONS = Object.values(ToolbarPosition);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarProperties.ts\nvar ToolbarGroupProperties = class extends BaseProperties {\n  constructor(onChange, onButtonsChange) {\n    super();\n    this.onChange = onChange;\n    this.onButtonsChange = onButtonsChange;\n    this.align = \"start\";\n    this.position = \"top\" /* Top */;\n  }\n};\n__decorateClass([ObserveChanges(target => {\n  target.onChange(target.enabled);\n}), Validate(BOOLEAN)], ToolbarGroupProperties.prototype, \"enabled\", 2);\n__decorateClass([ObserveChanges(target => {\n  target.onChange(target.enabled);\n}), Validate(UNION([\"start\", \"center\", \"end\"]), {\n  optional: true\n})], ToolbarGroupProperties.prototype, \"align\", 2);\n__decorateClass([ObserveChanges(target => {\n  target.onChange(target.enabled);\n}), Validate(UNION([\"top\", \"right\", \"bottom\", \"left\", \"floating-top\", \"floating-bottom\"]), {\n  optional: true\n})], ToolbarGroupProperties.prototype, \"position\", 2);\n__decorateClass([ObserveChanges(target => {\n  target.onButtonsChange(target.buttons);\n}), Validate(ARRAY, {\n  optional: true\n})], ToolbarGroupProperties.prototype, \"buttons\", 2);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarStyles.ts\nvar block2 = \"ag-charts-toolbar\";\nvar elements2 = {\n  align: `${block2}__align`,\n  button: `${block2}__button`,\n  icon: `${block2}__icon`,\n  label: `${block2}__label`\n};\nvar modifiers2 = {\n  [\"top\" /* Top */]: `${block2}--top`,\n  [\"right\" /* Right */]: `${block2}--right`,\n  [\"bottom\" /* Bottom */]: `${block2}--bottom`,\n  [\"left\" /* Left */]: `${block2}--left`,\n  [\"floating-top\" /* FloatingTop */]: `${block2}--floating-top`,\n  [\"floating-bottom\" /* FloatingBottom */]: `${block2}--floating-bottom`,\n  hidden: `${block2}--hidden`,\n  preventFlash: `${block2}--prevent-flash`,\n  floatingHidden: `${block2}--floating-hidden`,\n  align: {\n    start: `${elements2.align}--start`,\n    center: `${elements2.align}--center`,\n    end: `${elements2.align}--end`\n  },\n  button: {\n    hidden: `${elements2.button}--hidden`\n  }\n};\nvar css2 = `\n.${block2} {\n    align-items: center;\n    background: var(--ag-charts-toolbar-background-color);\n    border-bottom: var(--ag-charts-toolbar-border-critical);\n    border-top: var(--ag-charts-toolbar-border-critical);\n    border-left: var(--ag-charts-toolbar-border);\n    border-right: var(--ag-charts-toolbar-border);\n    display: flex;\n    flex-wrap: nowrap;\n    opacity: 1;\n    position: absolute;\n    transform: translateY(0);\n    transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.${modifiers2.hidden},\n.${modifiers2.preventFlash} {\n    visibility: hidden;\n}\n\n.${modifiers2.floatingHidden} {\n    opacity: 0;\n    transition: opacity 0.4s ease-in-out;\n}\n\n.${modifiers2[\"top\" /* Top */]},\n.${modifiers2[\"bottom\" /* Bottom */]} {\n    flex-direction: row;\n    height: var(--ag-charts-toolbar-size);\n    padding: 0 var(--ag-charts-toolbar-padding);\n    width: 100%;\n}\n\n.${modifiers2[\"left\" /* Left */]},\n.${modifiers2[\"right\" /* Right */]} {\n    flex-direction: column;\n    padding: var(--ag-charts-toolbar-padding) 0;\n    width: var(--ag-charts-toolbar-size);\n}\n\n.${modifiers2[\"floating-top\" /* FloatingTop */]},\n.${modifiers2[\"floating-bottom\" /* FloatingBottom */]} {\n    background: none;\n    border: none;\n    flex-direction: row;\n    height: var(--ag-charts-toolbar-size);\n    overflow: hidden;\n    padding: 0 var(--ag-charts-toolbar-padding);\n    pointer-events: none;\n    width: 100%;\n}\n\n.${elements2.align} {\n    display: flex;\n    flex-direction: inherit;\n    flex-wrap: inherit;\n    max-width: 100%;\n}\n\n.${modifiers2.align.center},\n.${modifiers2.align.end} {\n    margin-left: auto;\n}\n\n.${modifiers2[\"left\" /* Left */]} .${modifiers2.align.center},\n.${modifiers2[\"left\" /* Left */]} .${modifiers2.align.end},\n.${modifiers2[\"right\" /* Right */]} .${modifiers2.align.center},\n.${modifiers2[\"right\" /* Right */]} .${modifiers2.align.end} {\n    margin-left: 0;\n    margin-top: auto;\n}\n\n.${modifiers2[\"floating-top\" /* FloatingTop */]} .${elements2.align},\n.${modifiers2[\"floating-bottom\" /* FloatingBottom */]} .${elements2.align} {\n    gap: var(--ag-charts-toolbar-gap);\n    transition: transform 0.4s ease-in-out;\n}\n\n.${elements2.button} {\n    align-items: center;\n    border-radius: var(--ag-charts-button-radius);\n    color: var(--ag-charts-toolbar-foreground-color);\n    display: flex;\n    font-size: 14px;\n    font-weight: 500;\n    justify-content: center;\n    margin: 0;\n    padding: var(--ag-charts-button-padding);\n    pointer-events: all;\n    transition: background-color .25s ease-in-out;\n}\n\n.${modifiers2[\"left\" /* Left */]} .${elements2.button},\n.${modifiers2[\"right\" /* Right */]} .${elements2.button} {\n    height: var(--ag-charts-toolbar-size);\n    max-width: 100%;\n    overflow: hidden;\n}\n\n.${modifiers2[\"floating-top\" /* FloatingTop */]} .${elements2.button},\n.${modifiers2[\"floating-bottom\" /* FloatingBottom */]} .${elements2.button} {\n    background: var(--ag-charts-toolbar-background-color);\n    border: var(--ag-charts-toolbar-border-critical);\n}\n\n.${modifiers2.button.hidden} {\n    display: none;\n}\n\n.${elements2.button}:hover {\n    background: var(--ag-charts-toolbar-hover-color);\n}\n\n.${elements2.button}:disabled {\n    background: var(--ag-charts-toolbar-disabled-background-color);\n    color: var(--ag-charts-toolbar-disabled-foreground-color);\n}\n\n.${elements2.button}:not([disabled]) {\n    cursor: pointer;\n}\n\n.${elements2.icon} {\n    height: 1.2em;\n    width: 1.2em;\n}\n\n.${elements2.icon} + .${elements2.label} {\n    margin-left: var(--ag-charts-size);\n}\n\n.${elements2.icon},\n.${elements2.label} {\n    pointer-events: none;\n}\n\n`;\n\n// packages/ag-charts-community/src/chart/toolbar/toolbar.ts\nvar Toolbar = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.enabled = true;\n    this.annotations = new ToolbarGroupProperties(this.onGroupChanged.bind(this, \"annotations\"), this.onGroupButtonsChanged.bind(this, \"annotations\"));\n    this.ranges = new ToolbarGroupProperties(this.onGroupChanged.bind(this, \"ranges\"), this.onGroupButtonsChanged.bind(this, \"ranges\"));\n    this.zoom = new ToolbarGroupProperties(this.onGroupChanged.bind(this, \"zoom\"), this.onGroupButtonsChanged.bind(this, \"zoom\"));\n    this.margin = 10;\n    this.floatingDetectionRange = 28;\n    this.positions = {\n      [\"top\" /* Top */]: /* @__PURE__ */new Set(),\n      [\"right\" /* Right */]: /* @__PURE__ */new Set(),\n      [\"bottom\" /* Bottom */]: /* @__PURE__ */new Set(),\n      [\"left\" /* Left */]: /* @__PURE__ */new Set(),\n      [\"floating-top\" /* FloatingTop */]: /* @__PURE__ */new Set(),\n      [\"floating-bottom\" /* FloatingBottom */]: /* @__PURE__ */new Set()\n    };\n    this.positionAlignments = {\n      [\"top\" /* Top */]: {},\n      [\"right\" /* Right */]: {},\n      [\"bottom\" /* Bottom */]: {},\n      [\"left\" /* Left */]: {},\n      [\"floating-top\" /* FloatingTop */]: {},\n      [\"floating-bottom\" /* FloatingBottom */]: {}\n    };\n    this.groupCallers = {\n      annotations: 0,\n      ranges: 0,\n      zoom: 0\n    };\n    this.groupButtons = {\n      annotations: [],\n      ranges: [],\n      zoom: []\n    };\n    this.pendingButtonToggledEvents = [];\n    this.groupProxied = /* @__PURE__ */new Set();\n    this.container = ctx.toolbarManager.element;\n    this.elements = {\n      [\"top\" /* Top */]: this.container.appendChild(createElement(\"div\")),\n      [\"right\" /* Right */]: this.container.appendChild(createElement(\"div\")),\n      [\"bottom\" /* Bottom */]: this.container.appendChild(createElement(\"div\")),\n      [\"left\" /* Left */]: this.container.appendChild(createElement(\"div\")),\n      [\"floating-top\" /* FloatingTop */]: this.container.appendChild(createElement(\"div\")),\n      [\"floating-bottom\" /* FloatingBottom */]: this.container.appendChild(createElement(\"div\"))\n    };\n    injectStyle(css2, block2);\n    this.renderToolbar(\"top\" /* Top */);\n    this.renderToolbar(\"right\" /* Right */);\n    this.renderToolbar(\"bottom\" /* Bottom */);\n    this.renderToolbar(\"left\" /* Left */);\n    this.renderToolbar(\"floating-top\" /* FloatingTop */);\n    this.renderToolbar(\"floating-bottom\" /* FloatingBottom */);\n    this.toggleVisibilities();\n    this.destroyFns.push(ctx.interactionManager.addListener(\"hover\", this.onHover.bind(this), 31 /* All */), ctx.interactionManager.addListener(\"leave\", this.onLeave.bind(this), 31 /* All */), ctx.toolbarManager.addListener(\"button-toggled\", this.onButtonToggled.bind(this)), ctx.toolbarManager.addListener(\"group-toggled\", this.onGroupToggled.bind(this)), ctx.toolbarManager.addListener(\"proxy-group-options\", this.onProxyGroupOptions.bind(this)), ctx.layoutService.addListener(\"layout-complete\", this.onLayoutComplete.bind(this)), () => this.destroyElements());\n  }\n  destroyElements() {\n    for (const element2 of Object.values(this.elements)) {\n      element2.remove();\n    }\n  }\n  onHover(event) {\n    const {\n      enabled,\n      elements: elements3,\n      floatingDetectionRange,\n      ctx: {\n        scene\n      }\n    } = this;\n    const {\n      offsetY,\n      sourceEvent: {\n        target\n      }\n    } = event;\n    const {\n      FloatingBottom,\n      FloatingTop\n    } = ToolbarPosition;\n    if (!enabled) return;\n    const bottom = elements3[FloatingBottom];\n    const top = elements3[FloatingTop];\n    const bottomDetectionY = bottom.offsetTop - floatingDetectionRange;\n    const bottomVisible = offsetY > bottomDetectionY && offsetY < scene.canvas.element.offsetHeight || target === bottom;\n    const topDetectionY = top.offsetTop + top.offsetHeight + floatingDetectionRange;\n    const topVisible = offsetY > 0 && offsetY < topDetectionY || target === top;\n    bottom.classList.toggle(modifiers2.floatingHidden, !bottomVisible);\n    top.classList.toggle(modifiers2.floatingHidden, !topVisible);\n    this.translateFloatingElements(FloatingBottom, bottomVisible);\n    this.translateFloatingElements(FloatingTop, topVisible);\n  }\n  onLeave(event) {\n    const {\n      enabled,\n      elements: elements3,\n      ctx: {\n        scene\n      }\n    } = this;\n    const {\n      relatedTarget,\n      target\n    } = event.sourceEvent;\n    const {\n      FloatingBottom,\n      FloatingTop\n    } = ToolbarPosition;\n    if (!enabled || target !== scene.canvas.element) return;\n    const isTargetButton = TOOLBAR_GROUPS.some(group2 => this.groupButtons[group2].some(button => button === relatedTarget));\n    if (isTargetButton) return;\n    elements3[FloatingBottom].classList.add(modifiers2.floatingHidden);\n    elements3[FloatingTop].classList.add(modifiers2.floatingHidden);\n    this.translateFloatingElements(FloatingBottom, false);\n    this.translateFloatingElements(FloatingTop, false);\n  }\n  onGroupChanged(group2) {\n    if (this[group2] == null || this.groupProxied.has(group2)) return;\n    this.createGroup(group2);\n    this.toggleVisibilities();\n  }\n  onGroupButtonsChanged(group2, buttons) {\n    if (!this.enabled || this.groupProxied.has(group2)) return;\n    this.createGroupButtons(group2, buttons);\n    this.toggleVisibilities();\n  }\n  onLayoutComplete() {\n    for (const position of TOOLBAR_POSITIONS) {\n      this.elements[position].classList.remove(modifiers2.preventFlash);\n    }\n  }\n  onButtonToggled(event) {\n    const {\n      group: group2,\n      value,\n      enabled\n    } = event;\n    if (this.groupButtons[group2].length === 0) {\n      this.pendingButtonToggledEvents.push(event);\n      return;\n    }\n    for (const button of this.groupButtons[group2]) {\n      if (button.dataset.toolbarValue !== `${value}`) continue;\n      button.disabled = !enabled;\n    }\n  }\n  onGroupToggled(event) {\n    const {\n      group: group2,\n      visible\n    } = event;\n    this.toggleGroup(group2, visible);\n    this.toggleVisibilities();\n  }\n  onProxyGroupOptions(event) {\n    const {\n      group: group2,\n      options\n    } = event;\n    this.groupProxied.add(group2);\n    this.createGroup(group2, options.enabled, options.position);\n    this.createGroupButtons(group2, options.buttons);\n    this.toggleGroup(group2, options.enabled);\n    this[group2].set(options);\n  }\n  createGroup(group2, enabled, position) {\n    enabled != null ? enabled : enabled = this[group2].enabled;\n    position != null ? position : position = this[group2].position;\n    for (const pos of TOOLBAR_POSITIONS) {\n      if (enabled && position === pos) {\n        this.positions[pos].add(group2);\n      } else {\n        this.positions[pos].delete(group2);\n      }\n    }\n  }\n  createGroupButtons(group2, buttons) {\n    var _a, _b;\n    for (const button of this.groupButtons[group2]) {\n      button.remove();\n    }\n    this.groupButtons[group2] = [];\n    const align = (_a = this[group2].align) != null ? _a : \"start\";\n    const position = (_b = this[group2].position) != null ? _b : \"top\";\n    const parent = this.positionAlignments[position][align];\n    for (const options of buttons != null ? buttons : []) {\n      const button = this.createButtonElement(group2, options);\n      parent == null ? void 0 : parent.appendChild(button);\n      this.groupButtons[group2].push(button);\n    }\n  }\n  toggleGroup(group2, enabled) {\n    if (enabled) {\n      this.groupCallers[group2] += 1;\n    } else {\n      this.groupCallers[group2] = Math.max(0, this.groupCallers[group2] - 1);\n    }\n  }\n  processPendingEvents() {\n    var _a;\n    const pendingButtonToggledEvents = ((_a = this.pendingButtonToggledEvents) != null ? _a : []).slice();\n    for (const event of pendingButtonToggledEvents) {\n      this.onButtonToggled(event);\n    }\n    this.pendingButtonToggledEvents = [];\n  }\n  performLayout(_0) {\n    return __async(this, arguments, function* ({\n      shrinkRect\n    }) {\n      const {\n        elements: elements3,\n        margin\n      } = this;\n      if (!elements3.top.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.top.offsetHeight + margin * 2, \"top\");\n      }\n      if (!elements3.right.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.right.offsetWidth + margin, \"right\");\n      }\n      if (!elements3.bottom.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.bottom.offsetHeight + margin * 2, \"bottom\");\n      }\n      if (!elements3.left.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.left.offsetWidth + margin, \"left\");\n      }\n      return {\n        shrinkRect\n      };\n    });\n  }\n  performCartesianLayout(opts) {\n    return __async(this, null, function* () {\n      const {\n        elements: elements3,\n        margin\n      } = this;\n      const {\n        seriesRect\n      } = opts;\n      const {\n        FloatingBottom,\n        FloatingTop\n      } = ToolbarPosition;\n      elements3.top.style.top = `${seriesRect.y - elements3.top.offsetHeight - margin * 2}px`;\n      elements3.top.style.left = `${margin}px`;\n      elements3.top.style.width = `calc(100% - ${margin * 2}px)`;\n      elements3.right.style.top = `${seriesRect.y + margin}px`;\n      elements3.right.style.right = `${margin}px`;\n      elements3.right.style.height = `calc(100% - ${seriesRect.y + margin * 2}px)`;\n      elements3.bottom.style.bottom = `${margin}px`;\n      elements3.bottom.style.left = `${margin}px`;\n      elements3.bottom.style.width = `calc(100% - ${margin * 2}px)`;\n      elements3.left.style.top = `${seriesRect.y}px`;\n      elements3.left.style.left = `${margin}px`;\n      elements3.left.style.height = `calc(100% - ${seriesRect.y + margin * 2}px)`;\n      elements3[FloatingTop].style.top = `${seriesRect.y}px`;\n      elements3[FloatingTop].style.paddingTop = `${margin}px`;\n      elements3[FloatingBottom].style.top = `${seriesRect.y + seriesRect.height - elements3[FloatingBottom].offsetHeight}px`;\n      elements3[FloatingBottom].style.paddingBottom = `${margin}px`;\n    });\n  }\n  toggleVisibilities() {\n    var _a;\n    if (this.elements == null) return;\n    const isGroupVisible = group2 => this[group2].enabled && this.groupCallers[group2] > 0;\n    const isButtonVisible = element2 => button => typeof button.value !== \"string\" && typeof button.value !== \"number\" || `${button.value}` === element2.dataset.toolbarValue;\n    for (const position of TOOLBAR_POSITIONS) {\n      const visible = this.enabled && Array.from(this.positions[position].values()).some(isGroupVisible);\n      this.elements[position].classList.toggle(modifiers2.hidden, !visible);\n    }\n    for (const group2 of TOOLBAR_GROUPS) {\n      if (this[group2] == null) continue;\n      const visible = isGroupVisible(group2);\n      for (const button of this.groupButtons[group2]) {\n        const buttonVisible = visible && ((_a = this[group2].buttons) == null ? void 0 : _a.some(isButtonVisible(button)));\n        button.classList.toggle(modifiers2.button.hidden, !buttonVisible);\n      }\n    }\n  }\n  translateFloatingElements(position, visible) {\n    const {\n      elements: elements3,\n      margin,\n      positionAlignments\n    } = this;\n    const element2 = elements3[position];\n    const alignments = Object.values(positionAlignments[position]);\n    for (const align of alignments) {\n      align.style.transform = visible && align.style.transform !== \"\" ? \"translateY(0)\" : `translateY(${element2.offsetHeight + margin}px)`;\n    }\n  }\n  renderToolbar(position = \"top\" /* Top */) {\n    const element2 = this.elements[position];\n    element2.classList.add(block2, modifiers2[position], modifiers2.preventFlash);\n    if (position === \"floating-top\" /* FloatingTop */ || position === \"floating-bottom\" /* FloatingBottom */) {\n      element2.classList.add(modifiers2.floatingHidden);\n    }\n    for (const align of TOOLBAR_ALIGNMENTS) {\n      const alignmentElement = createElement(\"div\");\n      alignmentElement.classList.add(elements2.align, modifiers2.align[align]);\n      element2.appendChild(alignmentElement);\n      this.positionAlignments[position][align] = alignmentElement;\n    }\n  }\n  createButtonElement(group2, options) {\n    const button = createElement(\"button\");\n    button.classList.add(elements2.button);\n    button.dataset.toolbarGroup = group2;\n    button.tabIndex = -1;\n    if (typeof options.value === \"string\" || typeof options.value === \"number\") {\n      button.dataset.toolbarValue = `${options.value}`;\n    }\n    if (options.tooltip) {\n      button.title = options.tooltip;\n    }\n    let inner = \"\";\n    if (options.icon != null) {\n      inner = `<span class=\"ag-charts-icon-${options.icon} ${elements2.icon}\"></span>`;\n    }\n    if (options.label != null) {\n      inner = `${inner}<span class=\"${elements2.label}\">${options.label}</span>`;\n    }\n    button.innerHTML = inner;\n    button.onclick = this.onButtonPress.bind(this, group2, options.value);\n    this.destroyFns.push(() => button.remove());\n    return button;\n  }\n  onButtonPress(group2, value) {\n    this.ctx.toolbarManager.pressButton(group2, value);\n  }\n};\n__decorateClass([ObserveChanges(target => {\n  target.processPendingEvents();\n  target.toggleVisibilities();\n}), Validate(BOOLEAN)], Toolbar.prototype, \"enabled\", 2);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarModule.ts\nvar DAY = 1e3 * 60 * 60 * 24;\nvar MONTH = DAY * 30;\nvar YEAR = DAY * 365;\nvar annotations = {\n  enabled: false,\n  position: \"left\",\n  align: \"start\",\n  buttons: [{\n    label: \"Li\",\n    value: \"line\"\n  }, {\n    label: \"PCh\",\n    value: \"parallel-channel\"\n  }]\n};\nvar ranges = {\n  enabled: false,\n  position: \"top\",\n  align: \"start\",\n  buttons: [{\n    label: \"1m\",\n    value: MONTH\n  }, {\n    label: \"3m\",\n    value: 3 * MONTH\n  }, {\n    label: \"6m\",\n    value: 6 * MONTH\n  }, {\n    label: \"YTD\",\n    value: (_start, end) => [( /* @__PURE__ */new Date(`${new Date(end).getFullYear()}-01-01`)).getTime(), end]\n  }, {\n    label: \"1y\",\n    value: YEAR\n  }, {\n    label: \"All\",\n    value: (start, end) => [start, end]\n  }]\n};\nvar zoom = {\n  enabled: false,\n  position: \"top\",\n  align: \"end\",\n  buttons: [{\n    icon: \"zoom-out\",\n    tooltip: \"Zoom out\",\n    value: \"zoom-out\"\n  }, {\n    icon: \"zoom-in\",\n    tooltip: \"Zoom in\",\n    value: \"zoom-in\"\n  }, {\n    icon: \"pan-left\",\n    tooltip: \"Pan left\",\n    value: \"pan-left\"\n  }, {\n    icon: \"pan-right\",\n    tooltip: \"Pan right\",\n    value: \"pan-right\"\n  }, {\n    icon: \"pan-start\",\n    tooltip: \"Pan to the start\",\n    value: \"pan-start\"\n  }, {\n    icon: \"pan-end\",\n    tooltip: \"Pan to the end\",\n    value: \"pan-end\"\n  }, {\n    icon: \"reset\",\n    tooltip: \"Reset the zoom\",\n    value: \"reset\"\n  }]\n};\nvar ToolbarModule = {\n  type: \"root\",\n  optionsKey: \"toolbar\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  instanceConstructor: Toolbar,\n  themeTemplate: {\n    toolbar: {\n      enabled: true,\n      annotations,\n      ranges,\n      zoom\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/factory/registerInbuiltModules.ts\nfunction registerInbuiltModules() {\n  moduleRegistry.register(BackgroundModule, CommunityLegendModule, NavigatorModule, ToolbarModule, AreaSeriesModule, BarSeriesModule, BubbleSeriesModule, LineSeriesModule, ScatterSeriesModule, DonutSeriesModule, PieSeriesModule, HistogramSeriesModule);\n  for (const AxisConstructor of [NumberAxis, CategoryAxis, TimeAxis, GroupedCategoryAxis, LogAxis]) {\n    axisRegistry.register(AxisConstructor.type, {\n      instanceConstructor: AxisConstructor,\n      hidden: AxisConstructor === GroupedCategoryAxis\n    });\n  }\n}\n\n// packages/ag-charts-community/src/chart/factory/setupModules.ts\nfunction setupModules() {\n  for (const m of moduleRegistry.modules) {\n    if (m.packageType === \"enterprise\" && !verifyIfModuleExpected(m)) {\n      Logger.errorOnce(\"Unexpected enterprise module registered: \" + m.identifier);\n    }\n    if (m.type === \"root\" && m.themeTemplate) {\n      for (const chartType2 of m.chartTypes) {\n        chartDefaults.set(chartType2, m.themeTemplate);\n      }\n    }\n    if (m.type === \"series\") {\n      if (m.chartTypes.length > 1) {\n        throw new Error(`AG Charts - Module definition error: ${m.identifier}`);\n      }\n      seriesRegistry.register(m.identifier, m);\n    }\n    if (m.type === \"series-option\" && m.themeTemplate) {\n      for (const seriesType of m.seriesTypes) {\n        seriesRegistry.setThemeTemplate(seriesType, m.themeTemplate);\n      }\n    }\n    if (m.type === \"axis-option\" && m.themeTemplate) {\n      for (const axisType of m.axisTypes) {\n        const axisTypeTheme = m.themeTemplate[axisType];\n        const theme = __spreadValues(__spreadValues({}, m.themeTemplate), axisTypeTheme);\n        for (const innerAxisType of m.axisTypes) {\n          delete theme[innerAxisType];\n        }\n        axisRegistry.setThemeTemplate(axisType, theme);\n      }\n    }\n    if (m.type === \"axis\") {\n      axisRegistry.register(m.identifier, m);\n    }\n    if (m.type === \"legend\") {\n      legendRegistry.register(m.identifier, m);\n    }\n  }\n  if (moduleRegistry.hasEnterpriseModules()) {\n    const expectedButUnused = getUnusedExpectedModules();\n    if (expectedButUnused.length > 0) {\n      Logger.errorOnce(\"Enterprise modules expected but not registered: \", expectedButUnused);\n    }\n  }\n}\n\n// packages/ag-charts-community/src/chart/hierarchyChart.ts\nvar _HierarchyChart = class _HierarchyChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_HierarchyChart.prototype, this, \"performLayout\").call(this);\n      const {\n        seriesArea: {\n          padding\n        },\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const fullSeriesRect = shrinkRect.clone();\n      shrinkRect.shrink(padding.left, \"left\");\n      shrinkRect.shrink(padding.top, \"top\");\n      shrinkRect.shrink(padding.right, \"right\");\n      shrinkRect.shrink(padding.bottom, \"bottom\");\n      this.seriesRect = shrinkRect;\n      this.animationRect = shrinkRect;\n      this.hoverRect = shrinkRect;\n      for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n        group2.translationX = Math.floor(shrinkRect.x);\n        group2.translationY = Math.floor(shrinkRect.y);\n      }\n      yield Promise.all(this.series.map(series => __async(this, null, function* () {\n        yield series.update({\n          seriesRect: shrinkRect\n        });\n      })));\n      seriesRoot.visible = this.series[0].visible;\n      seriesRoot.setClipRectInGroupCoordinateSpace(new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height));\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: {\n          width: this.ctx.scene.width,\n          height: this.ctx.scene.height\n        },\n        clipSeries: false,\n        series: {\n          rect: fullSeriesRect,\n          paddedRect: shrinkRect,\n          visible: true\n        },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n};\n_HierarchyChart.className = \"HierarchyChart\";\n_HierarchyChart.type = \"hierarchy\";\nvar HierarchyChart = _HierarchyChart;\n\n// packages/ag-charts-community/src/chart/axis/polarAxis.ts\nvar PolarAxis = class extends Axis {\n  constructor() {\n    super(...arguments);\n    this.shape = \"polygon\";\n    this.innerRadiusRatio = 0;\n    this.defaultTickMinSpacing = 20;\n  }\n  computeLabelsBBox(_options, _seriesRect) {\n    return null;\n  }\n};\n__decorateClass([Validate(UNION([\"polygon\", \"circle\"], \"a polar axis shape\"))], PolarAxis.prototype, \"shape\", 2);\n__decorateClass([Validate(RATIO)], PolarAxis.prototype, \"innerRadiusRatio\", 2);\n\n// packages/ag-charts-community/src/chart/polarChart.ts\nvar _PolarChart = class _PolarChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.padding = new Padding(40);\n    this.axisGroup.zIndex = 6 /* AXIS_FOREGROUND_ZINDEX */;\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_PolarChart.prototype, this, \"performLayout\").call(this);\n      const fullSeriesRect = shrinkRect.clone();\n      this.computeSeriesRect(shrinkRect);\n      yield this.computeCircle(shrinkRect);\n      this.axes.forEach(axis => axis.update());\n      this.hoverRect = shrinkRect;\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: {\n          width: this.ctx.scene.width,\n          height: this.ctx.scene.height\n        },\n        clipSeries: false,\n        series: {\n          rect: fullSeriesRect,\n          paddedRect: shrinkRect,\n          visible: true\n        },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n  updateAxes(cx, cy, radius) {\n    var _a, _b;\n    const angleAxis = this.axes.find(axis => axis.direction === \"x\" /* X */);\n    const radiusAxis = this.axes.find(axis => axis.direction === \"y\" /* Y */);\n    if (!(angleAxis instanceof PolarAxis) || !(radiusAxis instanceof PolarAxis)) {\n      return;\n    }\n    const angleScale = angleAxis.scale;\n    const angles = (_a = angleScale.ticks) == null ? void 0 : _a.call(angleScale).map(value => angleScale.convert(value));\n    const innerRadiusRatio = radiusAxis.innerRadiusRatio;\n    angleAxis.innerRadiusRatio = innerRadiusRatio;\n    (_b = angleAxis.computeRange) == null ? void 0 : _b.call(angleAxis);\n    angleAxis.gridLength = radius;\n    radiusAxis.gridAngles = angles;\n    radiusAxis.gridRange = angleAxis.range;\n    radiusAxis.range = [radius, radius * innerRadiusRatio];\n    [angleAxis, radiusAxis].forEach(axis => {\n      axis.translation.x = cx;\n      axis.translation.y = cy;\n      axis.calculateLayout();\n    });\n  }\n  computeSeriesRect(shrinkRect) {\n    const {\n      seriesArea: {\n        padding\n      }\n    } = this;\n    shrinkRect.shrink(padding.left, \"left\");\n    shrinkRect.shrink(padding.top, \"top\");\n    shrinkRect.shrink(padding.right, \"right\");\n    shrinkRect.shrink(padding.bottom, \"bottom\");\n    this.seriesRect = shrinkRect;\n    this.animationRect = shrinkRect;\n  }\n  computeCircle(seriesBox) {\n    return __async(this, null, function* () {\n      const polarSeries = this.series.filter(series => {\n        return series instanceof PolarSeries;\n      });\n      const polarAxes = this.axes.filter(axis => {\n        return axis instanceof PolarAxis;\n      });\n      const setSeriesCircle = (cx, cy, r) => {\n        this.updateAxes(cx, cy, r);\n        polarSeries.forEach(series => {\n          series.centerX = cx;\n          series.centerY = cy;\n          series.radius = r;\n        });\n        const pieSeries = polarSeries.filter(s => {\n          return s instanceof PieSeries || s instanceof DonutSeries;\n        });\n        if (pieSeries.length > 1) {\n          const innerRadii = pieSeries.map(series => {\n            const innerRadius = series.getInnerRadius();\n            return {\n              series,\n              innerRadius\n            };\n          }).sort((a, b) => a.innerRadius - b.innerRadius);\n          innerRadii.at(-1).series.surroundingRadius = void 0;\n          for (let i = 0; i < innerRadii.length - 1; i++) {\n            innerRadii[i].series.surroundingRadius = innerRadii[i + 1].innerRadius;\n          }\n        }\n      };\n      const centerX = seriesBox.x + seriesBox.width / 2;\n      const centerY = seriesBox.y + seriesBox.height / 2;\n      const initialRadius = Math.max(0, Math.min(seriesBox.width, seriesBox.height) / 2);\n      let radius = initialRadius;\n      setSeriesCircle(centerX, centerY, radius);\n      const shake = (..._0) => __async(this, [..._0], function* ({\n        hideWhenNecessary = false\n      } = {}) {\n        const labelBoxes = [];\n        for (const series of [...polarAxes, ...polarSeries]) {\n          const box = yield series.computeLabelsBBox({\n            hideWhenNecessary\n          }, seriesBox);\n          if (box) {\n            labelBoxes.push(box);\n          }\n        }\n        if (labelBoxes.length === 0) {\n          setSeriesCircle(centerX, centerY, initialRadius);\n          return;\n        }\n        const labelBox = BBox.merge(labelBoxes);\n        const refined = this.refineCircle(labelBox, radius, seriesBox);\n        setSeriesCircle(refined.centerX, refined.centerY, refined.radius);\n        if (refined.radius === radius) {\n          return;\n        }\n        radius = refined.radius;\n      });\n      yield shake();\n      yield shake();\n      yield shake();\n      yield shake({\n        hideWhenNecessary: true\n      });\n      yield shake({\n        hideWhenNecessary: true\n      });\n      return {\n        radius,\n        centerX,\n        centerY\n      };\n    });\n  }\n  refineCircle(labelsBox, radius, seriesBox) {\n    const minCircleRatio = 0.5;\n    const circleLeft = -radius;\n    const circleTop = -radius;\n    const circleRight = radius;\n    const circleBottom = radius;\n    let padLeft = Math.max(0, circleLeft - labelsBox.x);\n    let padTop = Math.max(0, circleTop - labelsBox.y);\n    let padRight = Math.max(0, labelsBox.x + labelsBox.width - circleRight);\n    let padBottom = Math.max(0, labelsBox.y + labelsBox.height - circleBottom);\n    padLeft = padRight = Math.max(padLeft, padRight);\n    padTop = padBottom = Math.max(padTop, padBottom);\n    const availCircleWidth = seriesBox.width - padLeft - padRight;\n    const availCircleHeight = seriesBox.height - padTop - padBottom;\n    let newRadius = Math.min(availCircleWidth, availCircleHeight) / 2;\n    const minHorizontalRadius = minCircleRatio * seriesBox.width / 2;\n    const minVerticalRadius = minCircleRatio * seriesBox.height / 2;\n    const minRadius = Math.min(minHorizontalRadius, minVerticalRadius);\n    if (newRadius < minRadius) {\n      newRadius = minRadius;\n      const horizontalPadding = padLeft + padRight;\n      const verticalPadding = padTop + padBottom;\n      if (2 * newRadius + verticalPadding > seriesBox.height) {\n        const padHeight = seriesBox.height - 2 * newRadius;\n        if (Math.min(padTop, padBottom) * 2 > padHeight) {\n          padTop = padHeight / 2;\n          padBottom = padHeight / 2;\n        } else if (padTop > padBottom) {\n          padTop = padHeight - padBottom;\n        } else {\n          padBottom = padHeight - padTop;\n        }\n      }\n      if (2 * newRadius + horizontalPadding > seriesBox.width) {\n        const padWidth = seriesBox.width - 2 * newRadius;\n        if (Math.min(padLeft, padRight) * 2 > padWidth) {\n          padLeft = padWidth / 2;\n          padRight = padWidth / 2;\n        } else if (padLeft > padRight) {\n          padLeft = padWidth - padRight;\n        } else {\n          padRight = padWidth - padLeft;\n        }\n      }\n    }\n    const newWidth = padLeft + 2 * newRadius + padRight;\n    const newHeight = padTop + 2 * newRadius + padBottom;\n    return {\n      centerX: seriesBox.x + (seriesBox.width - newWidth) / 2 + padLeft + newRadius,\n      centerY: seriesBox.y + (seriesBox.height - newHeight) / 2 + padTop + newRadius,\n      radius: newRadius\n    };\n  }\n};\n_PolarChart.className = \"PolarChart\";\n_PolarChart.type = \"polar\";\nvar PolarChart = _PolarChart;\n\n// packages/ag-charts-community/src/chart/series/topology/mercatorScale.ts\nvar radsInDeg = Math.PI / 180;\nvar lonX = lon => lon * radsInDeg;\nvar latY = lat => -Math.log(Math.tan(Math.PI * 0.25 + lat * radsInDeg * 0.5));\nvar xLon = x => x / radsInDeg;\nvar yLat = y => (Math.atan(Math.exp(-y)) - Math.PI * 0.25) / (radsInDeg * 0.5);\nvar MercatorScale = class _MercatorScale {\n  constructor(domain, range3) {\n    this.domain = domain;\n    this.range = range3;\n    this.type = \"mercator\";\n    this.bounds = _MercatorScale.bounds(domain);\n  }\n  static bounds(domain) {\n    const [[lon0, lat0], [lon1, lat1]] = domain;\n    const x0 = lonX(lon0);\n    const y0 = latY(lat0);\n    const x1 = lonX(lon1);\n    const y1 = latY(lat1);\n    return new BBox(Math.min(x0, x1), Math.min(y0, y1), Math.abs(x1 - x0), Math.abs(y1 - y0));\n  }\n  static fixedScale() {\n    return new _MercatorScale([[xLon(0), yLat(0)], [xLon(1), yLat(1)]], [[0, 0], [1, 1]]);\n  }\n  convert([lon, lat]) {\n    const [[x0, y0], [x1, y1]] = this.range;\n    const xScale = (x1 - x0) / this.bounds.width;\n    const yScale = (y1 - y0) / this.bounds.height;\n    return [(lonX(lon) - this.bounds.x) * xScale + x0, (latY(lat) - this.bounds.y) * yScale + y0];\n  }\n  invert([x, y]) {\n    const [[x0, y0], [x1, y1]] = this.range;\n    const xScale = (x1 - x0) / this.bounds.width;\n    const yScale = (y1 - y0) / this.bounds.height;\n    return [xLon((x - x0) / xScale + this.bounds.x), yLat((y - y0) / yScale + this.bounds.y)];\n  }\n};\n\n// packages/ag-charts-community/src/chart/topologyChart.ts\nfunction isTopologySeries(series) {\n  return series.type === \"map-shape\" || series.type === \"map-line\" || series.type === \"map-marker\" || series.type === \"map-shape-background\" || series.type === \"map-line-background\";\n}\nvar _TopologyChart = class _TopologyChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.xAxis = new NumberAxis(this.getModuleContext());\n    this.xAxis.position = \"bottom\";\n    this.yAxis = new NumberAxis(this.getModuleContext());\n    this.yAxis.position = \"left\";\n    this.ctx.zoomManager.updateAxes([this.xAxis, this.yAxis]);\n  }\n  updateData() {\n    return __async(this, null, function* () {\n      yield __superGet(_TopologyChart.prototype, this, \"updateData\").call(this);\n      const {\n        topology\n      } = this.getOptions();\n      this.series.forEach(series => {\n        if (isTopologySeries(series)) {\n          series.setChartTopology(topology);\n        }\n      });\n    });\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_TopologyChart.prototype, this, \"performLayout\").call(this);\n      const {\n        seriesArea: {\n          padding\n        },\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const fullSeriesRect = shrinkRect.clone();\n      shrinkRect.shrink(padding.left, \"left\");\n      shrinkRect.shrink(padding.top, \"top\");\n      shrinkRect.shrink(padding.right, \"right\");\n      shrinkRect.shrink(padding.bottom, \"bottom\");\n      this.seriesRect = shrinkRect;\n      this.animationRect = shrinkRect;\n      this.hoverRect = shrinkRect;\n      const mapSeries = this.series.filter(isTopologySeries);\n      const combinedBbox = mapSeries.reduce((combined, series) => {\n        if (!series.visible) return combined;\n        const bbox = series.topologyBounds;\n        if (bbox == null) return combined;\n        if (combined == null) return bbox;\n        combined.merge(bbox);\n        return combined;\n      }, void 0);\n      let scale2;\n      if (combinedBbox != null) {\n        const {\n          lon0,\n          lat0,\n          lon1,\n          lat1\n        } = combinedBbox;\n        const domain = [[lon0, lat0], [lon1, lat1]];\n        const bounds = MercatorScale.bounds(domain);\n        const {\n          width,\n          height\n        } = shrinkRect;\n        const viewBoxScale = Math.min(width / bounds.width, height / bounds.height);\n        const viewBoxWidth = bounds.width * viewBoxScale;\n        const viewBoxHeight = bounds.height * viewBoxScale;\n        const viewBoxOriginX = (width - viewBoxWidth) / 2;\n        const viewBoxOriginY = (height - viewBoxHeight) / 2;\n        const x0 = viewBoxOriginX;\n        const y0 = viewBoxOriginY;\n        const x1 = viewBoxOriginX + viewBoxWidth;\n        const y1 = viewBoxOriginY + viewBoxHeight;\n        const xZoom = this.ctx.zoomManager.getAxisZoom(this.xAxis.id);\n        const yZoom = this.ctx.zoomManager.getAxisZoom(this.yAxis.id);\n        const xSpan = (x1 - x0) / (xZoom.max - xZoom.min);\n        const xStart = x0 - xSpan * xZoom.min;\n        const ySpan = (y1 - y0) / (1 - yZoom.min - (1 - yZoom.max));\n        const yStart = y0 - ySpan * (1 - yZoom.max);\n        scale2 = new MercatorScale(domain, [[xStart, yStart], [xStart + xSpan, yStart + ySpan]]);\n      }\n      mapSeries.forEach(series => {\n        series.scale = scale2;\n      });\n      const seriesVisible = this.series.some(s => s.visible);\n      seriesRoot.visible = seriesVisible;\n      for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n        group2.translationX = Math.floor(shrinkRect.x);\n        group2.translationY = Math.floor(shrinkRect.y);\n        group2.setClipRectInGroupCoordinateSpace(new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height));\n      }\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: {\n          width: this.ctx.scene.width,\n          height: this.ctx.scene.height\n        },\n        clipSeries: false,\n        series: {\n          rect: fullSeriesRect,\n          paddedRect: shrinkRect,\n          visible: seriesVisible\n        },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n};\n_TopologyChart.className = \"TopologyChart\";\n_TopologyChart.type = \"topology\";\nvar TopologyChart = _TopologyChart;\n\n// packages/ag-charts-community/src/chart/agChartV2.ts\nvar debug2 = Debug.create(true, \"opts\");\nfunction chartType(options) {\n  if (isAgCartesianChartOptions(options)) {\n    return \"cartesian\";\n  } else if (isAgPolarChartOptions(options)) {\n    return \"polar\";\n  } else if (isAgHierarchyChartOptions(options)) {\n    return \"hierarchy\";\n  } else if (isAgTopologyChartOptions(options)) {\n    return \"topology\";\n  }\n  throw new Error(`AG Chart - unknown type of chart for options with type: ${options.type}`);\n}\nvar _AgCharts = class _AgCharts {\n  static licenseCheck(options) {\n    var _a, _b, _c, _d;\n    if (this.licenseChecked) return;\n    this.licenseManager = (_b = (_a = enterpriseModule).licenseManager) == null ? void 0 : _b.call(_a, options);\n    (_c = this.licenseManager) == null ? void 0 : _c.setLicenseKey(this.licenseKey, this.gridContext);\n    (_d = this.licenseManager) == null ? void 0 : _d.validateLicense();\n    this.licenseChecked = true;\n  }\n  static setLicenseKey(licenseKey) {\n    this.licenseKey = licenseKey;\n  }\n  static setGridContext(gridContext) {\n    this.gridContext = gridContext;\n  }\n  static getLicenseDetails(licenseKey) {\n    var _a, _b;\n    return (_b = (_a = enterpriseModule).licenseManager) == null ? void 0 : _b.call(_a, {}).getLicenseDetails(licenseKey);\n  }\n  /**\n   * Returns the `AgChartInstance` for a DOM node, if there is one.\n   */\n  static getInstance(element2) {\n    return AgChartsInternal.getInstance(element2);\n  }\n  /**\n   * Create a new `AgChartInstance` based upon the given configuration options.\n   */\n  static create(options) {\n    var _a, _b, _c;\n    this.licenseCheck(options);\n    const chart = AgChartsInternal.createOrUpdate(options);\n    if ((_a = this.licenseManager) == null ? void 0 : _a.isDisplayWatermark()) {\n      (_c = (_b = enterpriseModule).injectWatermark) == null ? void 0 : _c.call(_b, chart.chart.element, this.licenseManager.getWatermarkMessage());\n    }\n    return chart;\n  }\n  /**\n   * Update an existing `AgChartInstance`. Options provided should be complete and not\n   * partial.\n   *\n   * __NOTE__: As each call could trigger a chart redraw, multiple calls to update options in\n   * quick succession could result in undesirable flickering, so callers should batch up and/or\n   * debounce changes to avoid unintended partial update renderings.\n   */\n  static update(chart, options) {\n    if (!AgChartInstanceProxy.isInstance(chart)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.createOrUpdate(options, chart);\n  }\n  /**\n   * Update an existing `AgChartInstance` by applying a partial set of option changes.\n   *\n   * __NOTE__: As each call could trigger a chart redraw, each individual delta options update\n   * should leave the chart in a valid options state. Also, multiple calls to update options in\n   * quick succession could result in undesirable flickering, so callers should batch up and/or\n   * debounce changes to avoid unintended partial update renderings.\n   */\n  static updateDelta(chart, deltaOptions) {\n    if (!AgChartInstanceProxy.isInstance(chart)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.updateUserDelta(chart, deltaOptions);\n  }\n  /**\n   * Starts a browser-based image download for the given `AgChartInstance`.\n   */\n  static download(chart, options) {\n    if (!(chart instanceof AgChartInstanceProxy)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.download(chart, options).catch(e => Logger.errorOnce(e));\n  }\n  /**\n   * Returns a base64-encoded image data URL for the given `AgChartInstance`.\n   */\n  static getImageDataURL(chart, options) {\n    if (!(chart instanceof AgChartInstanceProxy)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    return AgChartsInternal.getImageDataURL(chart, options);\n  }\n};\n_AgCharts.INVALID_CHART_REF_MESSAGE = \"AG Charts - invalid chart reference passed\";\n_AgCharts.licenseChecked = false;\n_AgCharts.gridContext = false;\nvar AgCharts = _AgCharts;\nvar AgChart = class {\n  static warnDeprecated(memberName) {\n    const warnDeprecated = createDeprecationWarning();\n    warnDeprecated(`AgChart.${memberName}`, `Use AgCharts.${memberName} instead`);\n  }\n  static create(options) {\n    this.warnDeprecated(\"create\");\n    return AgCharts.create(options);\n  }\n  static update(chart, options) {\n    this.warnDeprecated(\"update\");\n    return AgCharts.update(chart, options);\n  }\n  static updateDelta(chart, deltaOptions) {\n    this.warnDeprecated(\"updateDelta\");\n    return AgCharts.updateDelta(chart, deltaOptions);\n  }\n  static download(chart, options) {\n    this.warnDeprecated(\"download\");\n    return AgCharts.download(chart, options);\n  }\n  static getImageDataURL(chart, options) {\n    this.warnDeprecated(\"getImageDataURL\");\n    return AgCharts.getImageDataURL(chart, options);\n  }\n};\nvar _AgChartsInternal = class _AgChartsInternal {\n  static getInstance(element2) {\n    const chart = Chart.getInstance(element2);\n    return chart ? AgChartInstanceProxy.chartInstances.get(chart) : void 0;\n  }\n  static initialiseModules() {\n    if (_AgChartsInternal.initialised) return;\n    registerInbuiltModules();\n    setupModules();\n    _AgChartsInternal.initialised = true;\n  }\n  static createOrUpdate(options, proxy) {\n    var _b;\n    _AgChartsInternal.initialiseModules();\n    debug2(\">>> AgChartV2.createOrUpdate() user options\", options);\n    const _a = options,\n      {\n        overrideDevicePixelRatio,\n        document: document2,\n        window: userWindow\n      } = _a,\n      userOptions = __objRest(_a, [\"overrideDevicePixelRatio\", \"document\", \"window\"]);\n    const chartOptions = new ChartOptions(userOptions, {\n      overrideDevicePixelRatio,\n      document: document2,\n      window: userWindow\n    });\n    let chart = proxy == null ? void 0 : proxy.chart;\n    if (chart == null || chartType(userOptions) !== chartType(chart.processedOptions)) {\n      chart = _AgChartsInternal.createChartInstance(chartOptions, chart);\n    }\n    if (proxy == null) {\n      proxy = new AgChartInstanceProxy(chart);\n    } else {\n      proxy.chart = chart;\n    }\n    if (debug2.check() && typeof window !== \"undefined\") {\n      (_b = window.agChartInstances) != null ? _b : window.agChartInstances = {};\n      window.agChartInstances[chart.id] = chart;\n    }\n    chart.queuedUserOptions.push(userOptions);\n    chart.requestFactoryUpdate(chartRef => {\n      chartRef.applyOptions(chartOptions);\n      chartRef.queuedUserOptions.splice(0, chartRef.queuedUserOptions.indexOf(userOptions));\n    });\n    return proxy;\n  }\n  static updateUserDelta(proxy, deltaOptions) {\n    deltaOptions = deepClone(deltaOptions, {\n      shallow: [\"data\"]\n    });\n    jsonWalk(deltaOptions, node => {\n      if (typeof node !== \"object\") return;\n      for (const [key, value] of Object.entries(node)) {\n        if (typeof value === \"undefined\") {\n          Object.assign(node, {\n            [key]: Symbol(\"UNSET\")\n          });\n        }\n      }\n    }, {\n      skip: [\"data\"]\n    });\n    const {\n      chart\n    } = proxy;\n    const lastUpdateOptions = chart.getOptions();\n    const userOptions = mergeDefaults(deltaOptions, lastUpdateOptions);\n    debug2(\">>> AgChartV2.updateUserDelta() user delta\", deltaOptions);\n    debug2(\"AgChartV2.updateUserDelta() - base options\", lastUpdateOptions);\n    _AgChartsInternal.createOrUpdate(userOptions, proxy);\n  }\n  /**\n   * Returns the content of the current canvas as an image.\n   */\n  static download(proxy, opts) {\n    return __async(this, null, function* () {\n      try {\n        const clone = yield _AgChartsInternal.prepareResizedChart(proxy, opts);\n        clone.chart.ctx.scene.download(opts == null ? void 0 : opts.fileName, opts == null ? void 0 : opts.fileFormat);\n        clone.destroy();\n      } catch (error) {\n        Logger.errorOnce(error);\n      }\n    });\n  }\n  static getImageDataURL(proxy, opts) {\n    return __async(this, null, function* () {\n      const clone = yield _AgChartsInternal.prepareResizedChart(proxy, opts);\n      const result = clone.chart.ctx.scene.getDataURL(opts == null ? void 0 : opts.fileFormat);\n      clone.destroy();\n      return result;\n    });\n  }\n  static prepareResizedChart(_0) {\n    return __async(this, arguments, function* ({\n      chart\n    }, opts = {}) {\n      var _a, _b, _c, _d;\n      const width = (_b = (_a = opts.width) != null ? _a : chart.width) != null ? _b : chart.ctx.scene.canvas.width;\n      const height = (_d = (_c = opts.height) != null ? _c : chart.height) != null ? _d : chart.ctx.scene.canvas.height;\n      const options = mergeDefaults({\n        container: document.createElement(\"div\"),\n        overrideDevicePixelRatio: 1,\n        autoSize: false,\n        width,\n        height\n      },\n      // Disable enterprise features that may interfere with image generation.\n      moduleRegistry.hasEnterpriseModules() && {\n        animation: {\n          enabled: false\n        }\n      }, chart.userOptions);\n      const cloneProxy = _AgChartsInternal.createOrUpdate(options);\n      cloneProxy.chart.ctx.zoomManager.updateZoom(\"agChartV2\", chart.ctx.zoomManager.getZoom());\n      chart.series.forEach((series, index) => {\n        if (!series.visible) {\n          cloneProxy.chart.series[index].visible = false;\n        }\n      });\n      chart.update(0 /* FULL */, {\n        forceNodeDataRefresh: true\n      });\n      yield cloneProxy.chart.waitForUpdate();\n      return cloneProxy;\n    });\n  }\n  static createChartInstance(options, oldChart) {\n    const transferableResource = oldChart == null ? void 0 : oldChart.destroy({\n      keepTransferableResources: true\n    });\n    const ChartConstructor = _AgChartsInternal.getChartByOptions(options.processedOptions);\n    return new ChartConstructor(options, transferableResource);\n  }\n  static getChartByOptions(options) {\n    if (isAgCartesianChartOptions(options)) {\n      return CartesianChart;\n    } else if (isAgHierarchyChartOptions(options)) {\n      return HierarchyChart;\n    } else if (isAgPolarChartOptions(options)) {\n      return PolarChart;\n    } else if (isAgTopologyChartOptions(options)) {\n      return TopologyChart;\n    }\n    throw new Error(`AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified`);\n  }\n};\n_AgChartsInternal.initialised = false;\nvar AgChartsInternal = _AgChartsInternal;\n\n// packages/ag-charts-community/src/version.ts\nvar VERSION = \"9.3.1\";\n\n// packages/ag-charts-community/src/integrated-charts-scene.ts\nvar integrated_charts_scene_exports = {};\n__export(integrated_charts_scene_exports, {\n  Arc: () => Arc2,\n  BBox: () => BBox,\n  BandScale: () => BandScale,\n  Caption: () => Caption,\n  ChangeDetectableProperties: () => ChangeDetectableProperties,\n  Circle: () => Circle,\n  ContinuousScale: () => ContinuousScale,\n  Diamond: () => Diamond,\n  DropShadow: () => DropShadow,\n  ExtendedPath2D: () => ExtendedPath2D,\n  Group: () => Group,\n  HdpiCanvas: () => HdpiCanvas,\n  Image: () => Image,\n  Label: () => Label,\n  Line: () => Line,\n  LinearGradientFill: () => LinearGradientFill,\n  LinearScale: () => LinearScale,\n  Marker: () => Marker,\n  Node: () => Node,\n  OrdinalTimeScale: () => OrdinalTimeScale,\n  Path: () => Path,\n  PointerEvents: () => PointerEvents,\n  RadialColumnShape: () => RadialColumnShape,\n  Rect: () => Rect,\n  RedrawType: () => RedrawType,\n  Scene: () => Scene,\n  SceneChangeDetection: () => SceneChangeDetection,\n  ScenePathChangeDetection: () => ScenePathChangeDetection,\n  Sector: () => Sector,\n  SectorBox: () => SectorBox,\n  Selection: () => Selection,\n  Shape: () => Shape,\n  Square: () => Square,\n  Text: () => Text,\n  Tooltip: () => Tooltip,\n  Triangle: () => Triangle,\n  easing: () => easing_exports,\n  getFont: () => getFont,\n  getMarker: () => getMarker,\n  getRadialColumnWidth: () => getRadialColumnWidth,\n  motion: () => motion,\n  nearestSquared: () => nearestSquared,\n  nearestSquaredInContainer: () => nearestSquaredInContainer,\n  toRadians: () => toRadians,\n  toTooltipHtml: () => toTooltipHtml\n});\n\n// packages/ag-charts-community/src/scene/shape/arc.ts\nvar Arc2 = class extends Path {\n  constructor() {\n    super();\n    this.centerX = 0;\n    this.centerY = 0;\n    this.radius = 10;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.counterClockwise = false;\n    this.type = 0 /* Open */;\n    this.restoreOwnStyles();\n  }\n  get fullPie() {\n    return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n  }\n  updatePath() {\n    const path = this.path;\n    path.clear();\n    path.arc(this.centerX, this.centerY, this.radius, this.startAngle, this.endAngle, this.counterClockwise);\n    if (this.type === 1 /* Chord */) {\n      path.closePath();\n    } else if (this.type === 2 /* Round */ && !this.fullPie) {\n      path.lineTo(this.centerX, this.centerY);\n      path.closePath();\n    }\n  }\n  computeBBox() {\n    return new BBox(this.centerX - this.radius, this.centerY - this.radius, this.radius * 2, this.radius * 2);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return this.type !== 0 /* Open */ && bbox.containsPoint(point.x, point.y) && this.path.isPointInPath(point.x, point.y);\n  }\n};\nArc2.className = \"Arc\";\nArc2.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  lineWidth: 1,\n  fillStyle: null\n});\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"centerX\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"centerY\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"radius\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"startAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"endAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"counterClockwise\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"type\", 2);\n\n// packages/ag-charts-community/src/scene/shape/linearGradientFill.ts\nvar LinearGradientFill = class extends Shape {\n  constructor() {\n    super(...arguments);\n    this.direction = \"to-right\";\n    this.stops = void 0;\n    this._mask = void 0;\n  }\n  get mask() {\n    return this._mask;\n  }\n  set mask(newMask) {\n    if (this._mask != null) {\n      this.removeChild(this._mask);\n    }\n    if (newMask != null) {\n      this.appendChild(newMask);\n    }\n    this._mask = newMask;\n  }\n  isPointInPath(x, y) {\n    var _a, _b;\n    return (_b = (_a = this.mask) == null ? void 0 : _a.isPointInPath(x, y)) != null ? _b : false;\n  }\n  computeBBox() {\n    var _a;\n    return (_a = this.mask) == null ? void 0 : _a.computeBBox();\n  }\n  render(renderCtx) {\n    const {\n      mask,\n      stops\n    } = this;\n    const {\n      ctx,\n      devicePixelRatio\n    } = renderCtx;\n    const pixelLength = 1 / devicePixelRatio;\n    const maskBbox = mask == null ? void 0 : mask.computeTransformedBBox();\n    if (mask == null || stops == null || maskBbox == null) return;\n    if (mask.dirtyPath) {\n      mask.updatePath();\n      mask.dirtyPath = false;\n    }\n    ctx.save();\n    ctx.clip(mask.path.getPath2D());\n    ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);\n    const x0 = Math.floor(maskBbox.x);\n    const x1 = Math.ceil(maskBbox.x + maskBbox.width);\n    const y0 = Math.floor(maskBbox.y);\n    const y1 = Math.ceil(maskBbox.y + maskBbox.height);\n    const colorScale = new ColorScale();\n    const [i0, i1] = this.direction === \"to-right\" ? [x0, x1] : [y0, y1];\n    colorScale.domain = stops.map((_, index) => {\n      return i0 + (i1 - i0) * index / (stops.length - 1);\n    });\n    colorScale.range = stops;\n    colorScale.update();\n    if (this.direction === \"to-right\") {\n      const height = y1 - y0;\n      for (let x = x0; x <= x1; x += pixelLength) {\n        ctx.fillStyle = colorScale.convert(x);\n        ctx.fillRect(x, y0, pixelLength, height);\n      }\n    } else {\n      const width = x1 - x0;\n      for (let y = y0; y <= y1; y += pixelLength) {\n        ctx.fillStyle = colorScale.convert(y);\n        ctx.fillRect(x0, y, width, pixelLength);\n      }\n    }\n    ctx.restore();\n  }\n};\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], LinearGradientFill.prototype, \"direction\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], LinearGradientFill.prototype, \"stops\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], LinearGradientFill.prototype, \"_mask\", 2);\n\n// packages/ag-charts-community/src/scene/shape/radialColumnShape.ts\nfunction rotatePoint(x, y, rotation) {\n  const radius = Math.sqrt(__pow(x, 2) + __pow(y, 2));\n  const angle = Math.atan2(y, x);\n  const rotated = angle + rotation;\n  return {\n    x: Math.cos(rotated) * radius,\n    y: Math.sin(rotated) * radius\n  };\n}\nvar RadialColumnShape = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.borderPath = new ExtendedPath2D();\n    this.isBeveled = true;\n    this.columnWidth = 0;\n    this.startAngle = 0;\n    this.endAngle = 0;\n    this.outerRadius = 0;\n    this.innerRadius = 0;\n    this.axisInnerRadius = 0;\n    this.axisOuterRadius = 0;\n    this.isRadiusAxisReversed = false;\n  }\n  getRotation() {\n    const {\n      startAngle,\n      endAngle\n    } = this;\n    const midAngle = angleBetween(startAngle, endAngle);\n    return normalizeAngle360(startAngle + midAngle / 2 + Math.PI / 2);\n  }\n  updatePath() {\n    const {\n      isBeveled\n    } = this;\n    if (isBeveled) {\n      this.updateBeveledPath();\n    } else {\n      this.updateRectangularPath();\n    }\n    this.checkPathDirty();\n  }\n  updateRectangularPath() {\n    const {\n      columnWidth,\n      innerRadius,\n      outerRadius,\n      path\n    } = this;\n    const left = -columnWidth / 2;\n    const right = columnWidth / 2;\n    const top = -outerRadius;\n    const bottom = -innerRadius;\n    const rotation = this.getRotation();\n    const points = [[left, bottom], [left, top], [right, top], [right, bottom], [left, bottom]].map(([x, y]) => rotatePoint(x, y, rotation));\n    path.clear(true);\n    path.moveTo(points[0].x, points[0].y);\n    path.lineTo(points[1].x, points[1].y);\n    path.lineTo(points[2].x, points[2].y);\n    path.lineTo(points[3].x, points[3].y);\n    path.lineTo(points[0].x, points[0].y);\n    path.closePath();\n  }\n  updateBeveledPath() {\n    const {\n      columnWidth,\n      path,\n      outerRadius,\n      innerRadius,\n      axisInnerRadius,\n      axisOuterRadius,\n      isRadiusAxisReversed\n    } = this;\n    const isStackBottom = isEqual(innerRadius, axisInnerRadius);\n    const sideRotation = Math.asin(columnWidth / 2 / innerRadius);\n    const pointRotation = this.getRotation();\n    const rotate = (x, y) => rotatePoint(x, y, pointRotation);\n    const getTriangleHypotenuse = (leg, otherLeg) => Math.sqrt(__pow(leg, 2) + __pow(otherLeg, 2));\n    const getTriangleLeg = (hypotenuse, otherLeg) => {\n      if (otherLeg > hypotenuse) {\n        return 0;\n      }\n      return Math.sqrt(__pow(hypotenuse, 2) - __pow(otherLeg, 2));\n    };\n    const compare = (value, otherValue, lessThan) => lessThan ? value < otherValue : value > otherValue;\n    const shouldConnectBottomCircle = isStackBottom && !isNaN(sideRotation) && sideRotation < Math.PI / 6;\n    let left = -columnWidth / 2;\n    let right = columnWidth / 2;\n    const top = -outerRadius;\n    const bottom = -innerRadius * (shouldConnectBottomCircle ? Math.cos(sideRotation) : 1);\n    const hasBottomIntersection = compare(axisOuterRadius, getTriangleHypotenuse(innerRadius, columnWidth / 2), !isRadiusAxisReversed);\n    if (hasBottomIntersection) {\n      const bottomIntersectionX = getTriangleLeg(axisOuterRadius, innerRadius);\n      left = -bottomIntersectionX;\n      right = bottomIntersectionX;\n    }\n    path.clear(true);\n    const bottomLeftPt = rotate(left, bottom);\n    path.moveTo(bottomLeftPt.x, bottomLeftPt.y);\n    const isEmpty = isEqual(innerRadius, outerRadius);\n    const hasSideIntersection = compare(axisOuterRadius, getTriangleHypotenuse(outerRadius, columnWidth / 2), !isRadiusAxisReversed);\n    if (isEmpty && shouldConnectBottomCircle) {\n      path.arc(0, 0, innerRadius, normalizeAngle360(-sideRotation - Math.PI / 2) + pointRotation, normalizeAngle360(sideRotation - Math.PI / 2) + pointRotation, false);\n    } else if (hasSideIntersection) {\n      const sideIntersectionY = -getTriangleLeg(axisOuterRadius, columnWidth / 2);\n      const topIntersectionX = getTriangleLeg(axisOuterRadius, outerRadius);\n      if (!hasBottomIntersection) {\n        const topLeftPt = rotate(left, sideIntersectionY);\n        path.lineTo(topLeftPt.x, topLeftPt.y);\n      }\n      path.arc(0, 0, axisOuterRadius, Math.atan2(sideIntersectionY, left) + pointRotation, Math.atan2(top, -topIntersectionX) + pointRotation, false);\n      if (!isEqual(topIntersectionX, 0)) {\n        const topRightBevelPt = rotate(topIntersectionX, top);\n        path.lineTo(topRightBevelPt.x, topRightBevelPt.y);\n      }\n      path.arc(0, 0, axisOuterRadius, Math.atan2(top, topIntersectionX) + pointRotation, Math.atan2(sideIntersectionY, right) + pointRotation, false);\n    } else {\n      const topLeftPt = rotate(left, top);\n      const topRightPt = rotate(right, top);\n      path.lineTo(topLeftPt.x, topLeftPt.y);\n      path.lineTo(topRightPt.x, topRightPt.y);\n    }\n    const bottomRightPt = rotate(right, bottom);\n    path.lineTo(bottomRightPt.x, bottomRightPt.y);\n    if (shouldConnectBottomCircle) {\n      path.arc(0, 0, innerRadius, normalizeAngle360(sideRotation - Math.PI / 2) + pointRotation, normalizeAngle360(-sideRotation - Math.PI / 2) + pointRotation, true);\n    } else {\n      const rotatedBottomLeftPt = rotate(left, bottom);\n      path.lineTo(rotatedBottomLeftPt.x, rotatedBottomLeftPt.y);\n    }\n    path.closePath();\n  }\n};\nRadialColumnShape.className = \"RadialColumnShape\";\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"isBeveled\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"columnWidth\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"startAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"endAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"outerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"innerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"axisInnerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"axisOuterRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"isRadiusAxisReversed\", 2);\nfunction getRadialColumnWidth(startAngle, endAngle, axisOuterRadius, columnWidthRatio, maxColumnWidthRatio) {\n  const rotation = angleBetween(startAngle, endAngle);\n  const pad2 = rotation * (1 - columnWidthRatio) / 2;\n  startAngle += pad2;\n  endAngle -= pad2;\n  if (rotation < 1e-3) {\n    return 2 * axisOuterRadius * maxColumnWidthRatio;\n  }\n  if (rotation >= 2 * Math.PI) {\n    const midAngle = startAngle + rotation / 2;\n    startAngle = midAngle - Math.PI;\n    endAngle = midAngle + Math.PI;\n  }\n  const startX = axisOuterRadius * Math.cos(startAngle);\n  const startY = axisOuterRadius * Math.sin(startAngle);\n  const endX = axisOuterRadius * Math.cos(endAngle);\n  const endY = axisOuterRadius * Math.sin(endAngle);\n  const colWidth = Math.floor(Math.sqrt(__pow(startX - endX, 2) + __pow(startY - endY, 2)));\n  const maxWidth = 2 * axisOuterRadius * maxColumnWidthRatio;\n  return Math.max(1, Math.min(maxWidth, colWidth));\n}\n\n// packages/ag-charts-community/src/scene/image.ts\nvar Image = class extends Node {\n  constructor(sourceImage) {\n    super();\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.height = 0;\n    this.opacity = 1;\n    this.sourceImage = sourceImage;\n  }\n  render(renderCtx) {\n    const {\n      ctx,\n      forceRender,\n      stats\n    } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats) stats.nodesSkipped++;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    const image = this.sourceImage;\n    ctx.globalAlpha = this.opacity;\n    ctx.drawImage(image, 0, 0, image.width, image.height, this.x, this.y, this.width, this.height);\n    super.render(renderCtx);\n  }\n};\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Image.prototype, \"x\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Image.prototype, \"y\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Image.prototype, \"width\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Image.prototype, \"height\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Image.prototype, \"opacity\", 2);\n\n// packages/ag-charts-community/src/integrated-charts-scene.ts\nvar motion = __spreadValues(__spreadValues({}, fromToMotion_exports), resetMotion_exports);\n\n// packages/ag-charts-community/src/integrated-charts-theme.ts\nvar integrated_charts_theme_exports = {};\n__export(integrated_charts_theme_exports, {\n  CARTESIAN_AXIS_TYPE: () => CARTESIAN_AXIS_TYPE,\n  ChartTheme: () => ChartTheme,\n  DEFAULT_ANNOTATION_BACKGROUND_FILL: () => DEFAULT_ANNOTATION_BACKGROUND_FILL,\n  DEFAULT_ANNOTATION_HANDLE_FILL: () => DEFAULT_ANNOTATION_HANDLE_FILL,\n  DEFAULT_ANNOTATION_STROKE: () => DEFAULT_ANNOTATION_STROKE,\n  DEFAULT_AXIS_GRID_COLOUR: () => DEFAULT_AXIS_GRID_COLOUR,\n  DEFAULT_AXIS_LINE_COLOUR: () => DEFAULT_AXIS_LINE_COLOUR,\n  DEFAULT_BACKGROUND_COLOUR: () => DEFAULT_BACKGROUND_COLOUR,\n  DEFAULT_COLOURS: () => DEFAULT_COLOURS,\n  DEFAULT_CROSS_LINES_COLOUR: () => DEFAULT_CROSS_LINES_COLOUR,\n  DEFAULT_DIVERGING_SERIES_COLOUR_RANGE: () => DEFAULT_DIVERGING_SERIES_COLOUR_RANGE,\n  DEFAULT_FONT_FAMILY: () => DEFAULT_FONT_FAMILY,\n  DEFAULT_HIERARCHY_FILLS: () => DEFAULT_HIERARCHY_FILLS,\n  DEFAULT_HIERARCHY_STROKES: () => DEFAULT_HIERARCHY_STROKES,\n  DEFAULT_INSIDE_SERIES_LABEL_COLOUR: () => DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n  DEFAULT_INVERTED_LABEL_COLOUR: () => DEFAULT_INVERTED_LABEL_COLOUR,\n  DEFAULT_LABEL_COLOUR: () => DEFAULT_LABEL_COLOUR,\n  DEFAULT_MUTED_LABEL_COLOUR: () => DEFAULT_MUTED_LABEL_COLOUR,\n  DEFAULT_POLAR_SERIES_STROKE: () => DEFAULT_POLAR_SERIES_STROKE,\n  DEFAULT_SHADOW_COLOUR: () => DEFAULT_SHADOW_COLOUR,\n  DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE: () => DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n  DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS: () => DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n  DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS: () => DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n  DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS: () => DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n  EXTENDS_AXES_DEFAULTS: () => EXTENDS_AXES_DEFAULTS,\n  EXTENDS_AXES_GRID_LINE_DEFAULTS: () => EXTENDS_AXES_GRID_LINE_DEFAULTS,\n  EXTENDS_AXES_LINE_DEFAULTS: () => EXTENDS_AXES_LINE_DEFAULTS,\n  EXTENDS_AXES_TICK_DEFAULTS: () => EXTENDS_AXES_TICK_DEFAULTS,\n  EXTENDS_CARTESIAN_MARKER_DEFAULTS: () => EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n  EXTENDS_SERIES_DEFAULTS: () => EXTENDS_SERIES_DEFAULTS,\n  FONT_SIZE: () => FONT_SIZE,\n  FONT_WEIGHT: () => FONT_WEIGHT,\n  IS_DARK_THEME: () => IS_DARK_THEME,\n  POLAR_AXIS_SHAPE: () => POLAR_AXIS_SHAPE,\n  POLAR_AXIS_TYPE: () => POLAR_AXIS_TYPE,\n  POSITION: () => POSITION,\n  getChartTheme: () => getChartTheme,\n  markerPaletteFactory: () => markerPaletteFactory,\n  singleSeriesPaletteFactory: () => singleSeriesPaletteFactory,\n  themes: () => themes2\n});\nvar themes2 = mapValues(themes, themeFactory => themeFactory == null ? void 0 : themeFactory());\n\n// packages/ag-charts-community/src/sparklines-scale.ts\nvar sparklines_scale_exports = {};\n__export(sparklines_scale_exports, {\n  BandScale: () => BandScale,\n  ColorScale: () => ColorScale,\n  ContinuousScale: () => ContinuousScale,\n  Invalidating: () => Invalidating,\n  LinearScale: () => LinearScale,\n  OrdinalTimeScale: () => OrdinalTimeScale,\n  TimeScale: () => TimeScale\n});\n\n// packages/ag-charts-community/src/sparklines-util.ts\nvar sparklines_util_exports = {};\n__export(sparklines_util_exports, {\n  Color: () => Color,\n  Logger: () => Logger,\n  Padding: () => Padding,\n  angleBetween: () => angleBetween,\n  areArrayItemsStrictlyEqual: () => areArrayItemsStrictlyEqual,\n  areArrayNumbersEqual: () => areArrayNumbersEqual,\n  bifurcate: () => bifurcate,\n  checkDatum: () => checkDatum,\n  clamp: () => clamp,\n  clampArray: () => clampArray,\n  countFractionDigits: () => countFractionDigits,\n  createId: () => createId,\n  deepClone: () => deepClone,\n  displacePointFromVector: () => displacePointFromVector,\n  extent: () => extent,\n  findMinMax: () => findMinMax,\n  findRangeExtent: () => findRangeExtent,\n  isBetweenAngles: () => isBetweenAngles,\n  isContinuous: () => isContinuous,\n  isDate: () => isValidDate,\n  isDenseInterval: () => isDenseInterval,\n  isEqual: () => isEqual,\n  isNegative: () => isNegative,\n  isNumber: () => isFiniteNumber,\n  isNumberEqual: () => isEqual,\n  isNumberObject: () => isNumberObject,\n  isString: () => isString,\n  isStringObject: () => isStringObject,\n  jsonApply: () => jsonApply,\n  jsonDiff: () => jsonDiff,\n  jsonWalk: () => jsonWalk,\n  mod: () => mod,\n  normalisedExtent: () => normalisedExtent,\n  normalisedExtentWithMetadata: () => normalisedExtentWithMetadata,\n  normalizeAngle180: () => normalizeAngle180,\n  normalizeAngle360: () => normalizeAngle360,\n  normalizeAngle360Inclusive: () => normalizeAngle360Inclusive,\n  range: () => range,\n  resetIds: () => resetIds,\n  round: () => round,\n  sanitizeHtml: () => sanitizeHtml,\n  setAttribute: () => setAttribute,\n  shallowClone: () => shallowClone,\n  tickFormat: () => tickFormat,\n  tickStep: () => tickStep,\n  ticks: () => ticks_default,\n  toDegrees: () => toDegrees,\n  toFixed: () => toFixed,\n  toRadians: () => toRadians,\n  transformIntegratedCategoryValue: () => transformIntegratedCategoryValue,\n  zipObject: () => zipObject\n});\n\n// packages/ag-charts-community/src/util/zip.ts\nfunction zipObject(keys, values) {\n  const zipped = {};\n  if (Array.isArray(values)) {\n    for (let i = 0; i < keys.length; i++) {\n      zipped[`${keys[i]}`] = values[i];\n    }\n  } else {\n    for (let i = 0; i < keys.length; i++) {\n      zipped[`${keys[i]}`] = values;\n    }\n  }\n  return zipped;\n}\n\n// packages/ag-charts-community/src/module-support.ts\nvar module_support_exports = {};\n__export(module_support_exports, {\n  AND: () => AND,\n  ARRAY: () => ARRAY,\n  ARRAY_OF: () => ARRAY_OF,\n  AbstractBarSeries: () => AbstractBarSeries,\n  AbstractBarSeriesProperties: () => AbstractBarSeriesProperties,\n  ActionOnSet: () => ActionOnSet,\n  Animation: () => Animation,\n  AnimationManager: () => AnimationManager,\n  AreaSeriesTag: () => AreaSeriesTag,\n  Axis: () => Axis,\n  AxisLabel: () => AxisLabel,\n  AxisTick: () => AxisTick,\n  BOOLEAN: () => BOOLEAN,\n  BOOLEAN_ARRAY: () => BOOLEAN_ARRAY,\n  Background: () => Background,\n  BackgroundModule: () => BackgroundModule,\n  BaseModuleInstance: () => BaseModuleInstance,\n  BaseProperties: () => BaseProperties,\n  COLOR_STRING: () => COLOR_STRING,\n  COLOR_STRING_ARRAY: () => COLOR_STRING_ARRAY,\n  CartesianAxis: () => CartesianAxis,\n  CartesianSeries: () => CartesianSeries,\n  CartesianSeriesNodeEvent: () => CartesianSeriesNodeEvent,\n  CartesianSeriesProperties: () => CartesianSeriesProperties,\n  CategoryAxis: () => CategoryAxis,\n  CategoryAxisTick: () => CategoryAxisTick,\n  ChartAxisDirection: () => ChartAxisDirection,\n  ChartEventManager: () => ChartEventManager,\n  ChartOptions: () => ChartOptions,\n  ChartUpdateType: () => ChartUpdateType,\n  ContextMenuRegistry: () => ContextMenuRegistry,\n  CursorManager: () => CursorManager,\n  DATE: () => DATE,\n  DATE_ARRAY: () => DATE_ARRAY,\n  DATE_OR_DATETIME_MS: () => DATE_OR_DATETIME_MS,\n  DEFAULT_CARTESIAN_DIRECTION_KEYS: () => DEFAULT_CARTESIAN_DIRECTION_KEYS,\n  DEFAULT_CARTESIAN_DIRECTION_NAMES: () => DEFAULT_CARTESIAN_DIRECTION_NAMES,\n  DEFAULT_TOOLTIP_CLASS: () => DEFAULT_TOOLTIP_CLASS,\n  DEFAULT_TOOLTIP_DARK_CLASS: () => DEFAULT_TOOLTIP_DARK_CLASS,\n  DEGREE: () => DEGREE,\n  DIRECTION: () => DIRECTION,\n  DataController: () => DataController,\n  DataModel: () => DataModel,\n  DataModelSeries: () => DataModelSeries,\n  DataService: () => DataService,\n  Default: () => Default,\n  Deprecated: () => Deprecated,\n  DeprecatedAndRenamedTo: () => DeprecatedAndRenamedTo,\n  EMPTY_TOOLTIP_CONTENT: () => EMPTY_TOOLTIP_CONTENT,\n  FONT_STYLE: () => FONT_STYLE,\n  FONT_WEIGHT: () => FONT_WEIGHT2,\n  FUNCTION: () => FUNCTION,\n  GREATER_THAN: () => GREATER_THAN,\n  GestureDetector: () => GestureDetector,\n  GroupedCategoryAxis: () => GroupedCategoryAxis,\n  HierarchyNode: () => HierarchyNode,\n  HierarchySeries: () => HierarchySeries,\n  HierarchySeriesProperties: () => HierarchySeriesProperties,\n  HighlightManager: () => HighlightManager,\n  HighlightStyle: () => HighlightStyle,\n  INTERACTION_RANGE: () => INTERACTION_RANGE,\n  InteractionManager: () => InteractionManager,\n  InteractionState: () => InteractionState,\n  LABEL_PLACEMENT: () => LABEL_PLACEMENT,\n  LESS_THAN: () => LESS_THAN,\n  LINE_CAP: () => LINE_CAP,\n  LINE_DASH: () => LINE_DASH,\n  LINE_JOIN: () => LINE_JOIN,\n  Layers: () => Layers,\n  LayoutService: () => LayoutService,\n  LonLatBBox: () => LonLatBBox,\n  MARKER_SHAPE: () => MARKER_SHAPE,\n  MATCHING_CROSSLINE_TYPE: () => MATCHING_CROSSLINE_TYPE,\n  MAX_SPACING: () => MAX_SPACING,\n  MIN_SPACING: () => MIN_SPACING,\n  MercatorScale: () => MercatorScale,\n  Motion: () => easing_exports,\n  NAN: () => NAN,\n  NODE_UPDATE_STATE_TO_PHASE_MAPPING: () => NODE_UPDATE_STATE_TO_PHASE_MAPPING,\n  NUMBER: () => NUMBER,\n  NUMBER_ARRAY: () => NUMBER_ARRAY,\n  NUMBER_OR_NAN: () => NUMBER_OR_NAN,\n  Navigator: () => Navigator,\n  NavigatorModule: () => NavigatorModule,\n  OBJECT: () => OBJECT,\n  OBJECT_ARRAY: () => OBJECT_ARRAY,\n  OR: () => OR,\n  OVERFLOW_STRATEGY: () => OVERFLOW_STRATEGY,\n  ObserveChanges: () => ObserveChanges,\n  PHASE_METADATA: () => PHASE_METADATA,\n  PHASE_ORDER: () => PHASE_ORDER,\n  PLACEMENT: () => PLACEMENT,\n  PLAIN_OBJECT: () => PLAIN_OBJECT,\n  POINTER_INTERACTION_TYPES: () => POINTER_INTERACTION_TYPES,\n  POSITION: () => POSITION2,\n  POSITIVE_NUMBER: () => POSITIVE_NUMBER,\n  PolarAxis: () => PolarAxis,\n  PolarSeries: () => PolarSeries,\n  PropertiesArray: () => PropertiesArray,\n  ProxyOnWrite: () => ProxyOnWrite,\n  ProxyProperty: () => ProxyProperty,\n  ProxyPropertyOnWrite: () => ProxyPropertyOnWrite,\n  QUICK_TRANSITION: () => QUICK_TRANSITION,\n  RATIO: () => RATIO,\n  RepeatType: () => RepeatType,\n  SMALLEST_KEY_INTERVAL: () => SMALLEST_KEY_INTERVAL,\n  SORT_DOMAIN_GROUPS: () => SORT_DOMAIN_GROUPS,\n  STRING: () => STRING,\n  STRING_ARRAY: () => STRING_ARRAY,\n  Series: () => Series,\n  SeriesGroupingChangedEvent: () => SeriesGroupingChangedEvent,\n  SeriesItemHighlightStyle: () => SeriesItemHighlightStyle,\n  SeriesMarker: () => SeriesMarker,\n  SeriesNodeEvent: () => SeriesNodeEvent,\n  SeriesNodePickMode: () => SeriesNodePickMode,\n  SeriesProperties: () => SeriesProperties,\n  SeriesTooltip: () => SeriesTooltip,\n  StateMachine: () => StateMachine,\n  TEXT_ALIGN: () => TEXT_ALIGN,\n  TEXT_WRAP: () => TEXT_WRAP,\n  ToolbarManager: () => ToolbarManager,\n  Tooltip: () => Tooltip,\n  TooltipManager: () => TooltipManager,\n  TooltipPosition: () => TooltipPosition,\n  UNION: () => UNION,\n  UpdateService: () => UpdateService,\n  VERTICAL_ALIGN: () => VERTICAL_ALIGN,\n  Validate: () => Validate,\n  ZoomManager: () => ZoomManager,\n  __FORCE_MODULE_DETECTION: () => __FORCE_MODULE_DETECTION2,\n  accumulateGroup: () => accumulateGroup,\n  accumulatedValue: () => accumulatedValue,\n  accumulativeValueProperty: () => accumulativeValueProperty,\n  addHitTestersToQuadtree: () => addHitTestersToQuadtree,\n  adjustLabelPlacement: () => adjustLabelPlacement,\n  allInStringUnion: () => allInStringUnion,\n  animationValidation: () => animationValidation,\n  area: () => area,\n  arraysEqual: () => arraysEqual,\n  assignJsonApplyConstructedArray: () => assignJsonApplyConstructedArray,\n  backfillPathPointData: () => backfillPathPointData,\n  basicContinuousCheckDatumValidation: () => basicContinuousCheckDatumValidation,\n  bifurcate: () => bifurcate,\n  buildFormatter: () => buildFormatter,\n  buildResetPathFn: () => buildResetPathFn,\n  calculateDefaultTimeTickFormat: () => calculateDefaultTimeTickFormat,\n  calculatePlacement: () => calculatePlacement,\n  checkCrisp: () => checkCrisp,\n  childrenIter: () => childrenIter,\n  circularSliceArray: () => circularSliceArray,\n  clamp: () => clamp,\n  clampArray: () => clampArray,\n  collapsedStartingBarPosition: () => collapsedStartingBarPosition,\n  computeBarFocusBounds: () => computeBarFocusBounds,\n  computeMarkerFocusBounds: () => computeMarkerFocusBounds,\n  computeSectorFocusBounds: () => computeSectorFocusBounds,\n  convertValuesToScaleByDefs: () => convertValuesToScaleByDefs,\n  countFractionDigits: () => countFractionDigits,\n  createDatumId: () => createDatumId,\n  createDeprecationWarning: () => createDeprecationWarning,\n  createElement: () => createElement,\n  dateToNumber: () => dateToNumber,\n  deconstructSelectionsOrNodes: () => deconstructSelectionsOrNodes,\n  deepClone: () => deepClone,\n  deepMerge: () => deepMerge,\n  defaultTimeTickFormat: () => defaultTimeTickFormat,\n  determinePathStatus: () => determinePathStatus,\n  diff: () => diff,\n  downloadUrl: () => downloadUrl,\n  enterpriseModule: () => enterpriseModule,\n  extent: () => extent,\n  extractDecoratedProperties: () => extractDecoratedProperties,\n  findMinMax: () => findMinMax,\n  findQuadtreeMatch: () => findQuadtreeMatch,\n  findRangeExtent: () => findRangeExtent,\n  fixNumericExtent: () => fixNumericExtent,\n  fromToMotion: () => fromToMotion,\n  getDocument: () => getDocument,\n  getMissCount: () => getMissCount,\n  getPath: () => getPath,\n  getRectConfig: () => getRectConfig,\n  getWindow: () => getWindow,\n  groupAccumulativeValueProperty: () => groupAccumulativeValueProperty,\n  groupAverage: () => groupAverage,\n  groupBy: () => groupBy,\n  groupCount: () => groupCount,\n  groupSum: () => groupSum,\n  injectStyle: () => injectStyle,\n  isArray: () => isArray,\n  isBoolean: () => isBoolean,\n  isDate: () => isDate,\n  isDecoratedObject: () => isDecoratedObject,\n  isDefined: () => isDefined,\n  isEnumKey: () => isEnumKey,\n  isEnumValue: () => isEnumValue,\n  isEqual: () => isEqual,\n  isFiniteNumber: () => isFiniteNumber,\n  isFunction: () => isFunction,\n  isHtmlElement: () => isHtmlElement,\n  isNegative: () => isNegative,\n  isNumber: () => isNumber,\n  isObject: () => isObject,\n  isObjectLike: () => isObjectLike,\n  isPlainObject: () => isPlainObject,\n  isProperties: () => isProperties,\n  isRegExp: () => isRegExp,\n  isString: () => isString,\n  isSymbol: () => isSymbol,\n  isValidDate: () => isValidDate,\n  jsonApply: () => jsonApply,\n  jsonDiff: () => jsonDiff,\n  jsonWalk: () => jsonWalk,\n  keyProperty: () => keyProperty,\n  listDecoratedProperties: () => listDecoratedProperties,\n  mapIterable: () => mapIterable,\n  mapValues: () => mapValues,\n  markerFadeInAnimation: () => markerFadeInAnimation,\n  markerPaletteFactory: () => markerPaletteFactory,\n  markerScaleInAnimation: () => markerScaleInAnimation,\n  markerSwipeScaleInAnimation: () => markerSwipeScaleInAnimation,\n  mergeArrayDefaults: () => mergeArrayDefaults,\n  mergeDefaults: () => mergeDefaults,\n  midpointStartingBarPosition: () => midpointStartingBarPosition,\n  minMax: () => minMax,\n  mod: () => mod,\n  moduleRegistry: () => moduleRegistry,\n  normaliseGroupTo: () => normaliseGroupTo,\n  normalisePropertyTo: () => normalisePropertyTo,\n  normalisedExtent: () => normalisedExtent,\n  normalisedExtentWithMetadata: () => normalisedExtentWithMetadata,\n  pairCategoryData: () => pairCategoryData,\n  pairContinuousData: () => pairContinuousData,\n  partialAssign: () => partialAssign,\n  pathFadeInAnimation: () => pathFadeInAnimation,\n  pathFadeOutAnimation: () => pathFadeOutAnimation,\n  pathSwipeInAnimation: () => pathSwipeInAnimation,\n  pickByMatchingAngle: () => pickByMatchingAngle,\n  predicateWithMessage: () => predicateWithMessage,\n  prepareAreaPathAnimation: () => prepareAreaPathAnimation,\n  prepareAxisAnimationContext: () => prepareAxisAnimationContext,\n  prepareAxisAnimationFunctions: () => prepareAxisAnimationFunctions,\n  prepareBarAnimationFunctions: () => prepareBarAnimationFunctions,\n  prepareLinePathAnimation: () => prepareLinePathAnimation,\n  prepareLinePathAnimationFns: () => prepareLinePathAnimationFns,\n  prepareMarkerAnimation: () => prepareMarkerAnimation,\n  preparePieSeriesAnimationFunctions: () => preparePieSeriesAnimationFunctions,\n  range: () => range2,\n  rangedValueProperty: () => rangedValueProperty,\n  renderPartialPath: () => renderPartialPath,\n  resetAxisGroupFn: () => resetAxisGroupFn,\n  resetAxisLabelSelectionFn: () => resetAxisLabelSelectionFn,\n  resetAxisLineSelectionFn: () => resetAxisLineSelectionFn,\n  resetAxisSelectionFn: () => resetAxisSelectionFn,\n  resetBarSelectionsFn: () => resetBarSelectionsFn,\n  resetIds: () => resetIds,\n  resetLabelFn: () => resetLabelFn,\n  resetMarkerFn: () => resetMarkerFn,\n  resetMarkerPositionFn: () => resetMarkerPositionFn,\n  resetMotion: () => resetMotion,\n  resetPieSelectionsFn: () => resetPieSelectionsFn,\n  round: () => round,\n  seriesLabelFadeInAnimation: () => seriesLabelFadeInAnimation,\n  seriesLabelFadeOutAnimation: () => seriesLabelFadeOutAnimation,\n  setDocument: () => setDocument,\n  setPath: () => setPath,\n  setWindow: () => setWindow,\n  shallowClone: () => shallowClone,\n  singleSeriesPaletteFactory: () => singleSeriesPaletteFactory,\n  staticFromToMotion: () => staticFromToMotion,\n  stringify: () => stringify,\n  sum: () => sum,\n  sumValues: () => sumValues,\n  toArray: () => toArray,\n  toFixed: () => toFixed,\n  toTooltipHtml: () => toTooltipHtml,\n  trailingAccumulatedValue: () => trailingAccumulatedValue,\n  trailingAccumulatedValueProperty: () => trailingAccumulatedValueProperty,\n  unique: () => unique,\n  updateClipPath: () => updateClipPath,\n  updateLabelNode: () => updateLabelNode,\n  updateRect: () => updateRect,\n  validateCrossLineValues: () => validateCrossLineValues,\n  valueProperty: () => valueProperty,\n  without: () => without\n});\n\n// packages/ag-charts-community/src/chart/series/util.ts\nfunction convertValuesToScaleByDefs({\n  defs,\n  values,\n  xAxis,\n  yAxis\n}) {\n  if (!(xAxis && yAxis)) {\n    throw new Error(\"Axes must be defined\");\n  }\n  const result = {};\n  for (const [searchId, {\n    def\n  }] of defs) {\n    if (Object.hasOwn(values, searchId)) {\n      const {\n        scale: scale2\n      } = def.type === \"key\" ? xAxis : yAxis;\n      result[searchId] = Math.round(scale2.convert(values[searchId]));\n    }\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/chart/series/hierarchy/hierarchySeries.ts\nvar _HierarchyNode = class _HierarchyNode {\n  constructor(series, index, datum, size, colorValue, fill, stroke, sumSize, depth, parent, children) {\n    this.series = series;\n    this.index = index;\n    this.datum = datum;\n    this.size = size;\n    this.colorValue = colorValue;\n    this.fill = fill;\n    this.stroke = stroke;\n    this.sumSize = sumSize;\n    this.depth = depth;\n    this.parent = parent;\n    this.children = children;\n    this.midPoint = {\n      x: 0,\n      y: 0\n    };\n  }\n  contains(other) {\n    let current = other;\n    while (current != null && current.index >= this.index) {\n      if (current === this) {\n        return true;\n      }\n      current = current.parent;\n    }\n    return false;\n  }\n  walk(callback, order = _HierarchyNode.Walk.PreOrder) {\n    if (order === _HierarchyNode.Walk.PreOrder) {\n      callback(this);\n    }\n    this.children.forEach(child => {\n      child.walk(callback, order);\n    });\n    if (order === _HierarchyNode.Walk.PostOrder) {\n      callback(this);\n    }\n  }\n  *[Symbol.iterator]() {\n    yield this;\n    for (const child of this.children) {\n      yield* __yieldStar(child);\n    }\n  }\n};\n_HierarchyNode.Walk = {\n  PreOrder: 0,\n  PostOrder: 1\n};\nvar HierarchyNode = _HierarchyNode;\nvar HierarchySeries = class extends Series {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      contentGroupVirtual: false\n    });\n    this.rootNode = new HierarchyNode(this, 0, void 0, 0, void 0, void 0, void 0, 0, void 0, void 0, []);\n    this.colorDomain = [0, 0];\n    this.maxDepth = 0;\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateEmptyUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      ready: {\n        updateData: \"waiting\",\n        clear: \"clearing\",\n        highlight: data => this.animateReadyHighlight(data),\n        resize: data => this.animateReadyResize(data),\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      waiting: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateWaitingUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      clearing: {\n        update: {\n          target: \"empty\",\n          action: data => this.animateClearingUpdateEmpty(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      }\n    }, () => this.checkProcessedDataAnimatable());\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    }\n  }\n  processData() {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const {\n        childrenKey,\n        sizeKey,\n        colorKey,\n        fills,\n        strokes,\n        colorRange\n      } = this.properties;\n      let index = 0;\n      const getIndex = () => {\n        index += 1;\n        return index;\n      };\n      let maxDepth = 0;\n      let minColor = Infinity;\n      let maxColor = -Infinity;\n      const colors = new Array(((_b = (_a = this.data) == null ? void 0 : _a.length) != null ? _b : 0) + 1).fill(void 0);\n      const createNode = (datum, parent) => {\n        const nodeIndex = getIndex();\n        const depth = parent.depth != null ? parent.depth + 1 : 0;\n        const children = childrenKey != null ? datum[childrenKey] : void 0;\n        const isLeaf = children == null || children.length === 0;\n        let size = sizeKey != null ? datum[sizeKey] : void 0;\n        if (Number.isFinite(size)) {\n          size = Math.max(size, 0);\n        } else {\n          size = isLeaf ? 1 : 0;\n        }\n        const sumSize = size;\n        maxDepth = Math.max(maxDepth, depth);\n        const color = colorKey != null ? datum[colorKey] : void 0;\n        if (typeof color === \"number\") {\n          colors[nodeIndex] = color;\n          minColor = Math.min(minColor, color);\n          maxColor = Math.max(maxColor, color);\n        }\n        return appendChildren(new HierarchyNode(this, nodeIndex, datum, size, color, void 0, void 0, sumSize, depth, parent, []), children);\n      };\n      const appendChildren = (node, data) => {\n        data == null ? void 0 : data.forEach(datum => {\n          const child = createNode(datum, node);\n          node.children.push(child);\n          node.sumSize += child.sumSize;\n        });\n        return node;\n      };\n      const rootNode = appendChildren(new HierarchyNode(this, 0, void 0, 0, void 0, void 0, void 0, 0, void 0, void 0, []), this.data);\n      const colorDomain = [minColor, maxColor];\n      let colorScale;\n      if (colorRange != null && Number.isFinite(minColor) && Number.isFinite(maxColor)) {\n        colorScale = new ColorScale();\n        colorScale.domain = colorDomain;\n        colorScale.range = colorRange;\n        colorScale.update();\n      }\n      rootNode.children.forEach((child, childIndex) => {\n        child.walk(node => {\n          let fill;\n          const color = colors[node.index];\n          if (color != null) {\n            fill = colorScale == null ? void 0 : colorScale.convert(color);\n          }\n          fill != null ? fill : fill = fills == null ? void 0 : fills[childIndex % fills.length];\n          node.fill = fill;\n          node.stroke = colorScale == null ? strokes == null ? void 0 : strokes[childIndex % strokes.length] : \"rgba(0, 0, 0, 0.2)\";\n        });\n      });\n      this.rootNode = rootNode;\n      this.maxDepth = maxDepth;\n      this.colorDomain = colorDomain;\n    });\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({\n      seriesRect\n    }) {\n      yield this.updateSelections();\n      yield this.updateNodes();\n      const animationData = this.getAnimationData();\n      const resize = this.checkResize(seriesRect);\n      if (resize) {\n        this.animationState.transition(\"resize\", animationData);\n      }\n      this.animationState.transition(\"update\", animationData);\n    });\n  }\n  resetAllAnimation(data) {\n    var _a;\n    const datum = (_a = this.animationResetFns) == null ? void 0 : _a.datum;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (datum != null) {\n      resetMotion(data.datumSelections, datum);\n    }\n  }\n  animateEmptyUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateWaitingUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateReadyHighlight(data) {\n    var _a;\n    const datum = (_a = this.animationResetFns) == null ? void 0 : _a.datum;\n    if (datum != null) {\n      resetMotion([data], datum);\n    }\n  }\n  animateReadyResize(data) {\n    this.resetAllAnimation(data);\n  }\n  animateClearingUpdateEmpty(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animationTransitionClear() {\n    this.animationState.transition(\"clear\", this.getAnimationData());\n  }\n  getAnimationData() {\n    const animationData = {\n      datumSelections: [this.groupSelection]\n    };\n    return animationData;\n  }\n  isProcessedDataAnimatable() {\n    return true;\n  }\n  checkProcessedDataAnimatable() {\n    if (!this.isProcessedDataAnimatable()) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  getLabelData() {\n    return [];\n  }\n  getSeriesDomain() {\n    return [NaN, NaN];\n  }\n  getLegendData(legendType) {\n    const {\n      colorKey,\n      colorName,\n      colorRange,\n      visible\n    } = this.properties;\n    return legendType === \"gradient\" && colorKey != null && colorRange != null ? [{\n      legendType: \"gradient\",\n      enabled: visible,\n      seriesId: this.id,\n      colorName,\n      colorRange,\n      colorDomain: this.colorDomain\n    }] : [];\n  }\n  getDatumIdFromData(node) {\n    return `${node.index}`;\n  }\n  getDatumId(node) {\n    return this.getDatumIdFromData(node);\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/hierarchy/hierarchySeriesProperties.ts\nvar HierarchySeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.childrenKey = \"children\";\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n  }\n};\n__decorateClass([Validate(STRING)], HierarchySeriesProperties.prototype, \"childrenKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HierarchySeriesProperties.prototype, \"sizeKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HierarchySeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HierarchySeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], HierarchySeriesProperties.prototype, \"fills\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], HierarchySeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY, {\n  optional: true\n})], HierarchySeriesProperties.prototype, \"colorRange\", 2);\n\n// packages/ag-charts-community/src/chart/series/topology/lonLatBbox.ts\nvar LonLatBBox = class {\n  constructor(lon0, lat0, lon1, lat1) {\n    this.lon0 = lon0;\n    this.lat0 = lat0;\n    this.lon1 = lon1;\n    this.lat1 = lat1;\n  }\n  merge(other) {\n    this.lon0 = Math.min(this.lon0, other.lon0);\n    this.lat0 = Math.min(this.lat0, other.lat0);\n    this.lon1 = Math.max(this.lon1, other.lon1);\n    this.lat1 = Math.max(this.lat1, other.lat1);\n  }\n};\n\n// packages/ag-charts-community/src/chart/legendDatum.ts\nvar __FORCE_MODULE_DETECTION2 = 0;\nexport { AgChart, AgCharts, AgErrorBarSupportedSeriesTypes, AgTooltipPositionType, Marker, VERSION, module_support_exports as _ModuleSupport, sparklines_scale_exports as _Scale, integrated_charts_scene_exports as _Scene, integrated_charts_theme_exports as _Theme, sparklines_util_exports as _Util, __FORCE_MODULE_DETECTION, time_exports as time };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__getProtoOf","getPrototypeOf","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__reflectGet","Reflect","get","__knownSymbol","name","symbol","Symbol","for","__pow","Math","pow","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","__objRest","source","exclude","target","indexOf","__export","all","__decorateClass","decorators","kind","result","i","length","decorator","__superGet","cls","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","throw","x","done","then","apply","__await","promise","isYieldStar","__yieldStar","isAwait","method","it","k","v","TypeError","AgErrorBarSupportedSeriesTypes","__MINI_CHART_SERIES_OPTIONS","__VERIFY_MINI_CHART_SERIES_OPTIONS","AgTooltipPositionType","AgTooltipPositionType2","__THEME_OVERRIDES","__VERIFY_THEME_OVERRIDES","__FORCE_MODULE_DETECTION","time_exports","day","friday","hour","millisecond","minute","monday","month","saturday","second","sunday","thursday","tuesday","utcDay","utcHour","utcMinute","utcMonth","utcYear","wednesday","year","doOnceState","Map","doOnce","func","has","set","clear","identity","iterate","iterators","iterator","iterateReverseArray","array","j","throttle","callback","waitMs","options","leading","trailing","timerId","lastArgs","shouldWait","timeoutHandler","setTimeout","throttleCallback","args","assign","cancel","clearTimeout","joinFunctions","fns","fn","Logger","log","logContent","console","warn","message","error","table","warnOnce","errorOnce","TimeInterval","constructor","_encode","_decode","_rangeCallback","floor","date","d","Date","ceil","Number","range","start","stop","extend","_a","rangeCallback","e0","e1","range3","push","CountableTimeInterval","getOffset","snapTo","s","every","offset4","unsafeStep","max","round","initialOffset","encode13","decode13","encoded","encode","getTime","decode","millisecond_default","epochYear","getFullYear","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","offset","getTimezoneOffset","encode2","decode2","second_default","offset2","encode3","decode3","minute_default","offset3","encode4","decode4","hour_default","encode5","tzOffsetMs","decode5","setDate","getDate","day_default","weekday","weekStart","thursday2","dayShift","week_default","encode6","getMonth","decode6","year2","month2","month_default","encode7","decode7","setFullYear","setMonth","setHours","year_default","encode8","decode8","encode9","decode9","encode10","decode10","setUTCDate","getUTCDate","setUTCHours","encode11","getUTCFullYear","getUTCMonth","decode11","UTC","encode12","decode12","setUTCFullYear","setUTCMonth","enterpriseModule","isEnterprise","BaseModuleInstance","destroyFns","destroy","destroyFn","ModuleRegistry","modules","dependencies","Set","dependents","register","module","registerDependencies","otherModule","find","other","type","optionsKey","identifier","packageType","index","splice","hasEnterpriseModules","some","m","byType","types","includes","Error","dep","add","moduleRegistry","AxisRegistry","axesMap","hidden","themeTemplates","axisType","instanceConstructor","themeTemplate","setThemeTemplate","create","moduleContext","AxisConstructor","keys","publicKeys","filter","getThemeTemplate","axisRegistry","BREAK_TRANSFORM_CHAIN","CONFIG_KEY","initialiseConfig","propertyKeyOrSymbol","config","propertyKey","toString","valuesMap","WeakMap","setters","getters","observers","descriptor","prevSet","prevGet","getter","transformFn","setter","oldValue","f","observerFn","addTransformToInstanceProperty","setTransform","getTransform","configMetadata","unshift","addObserverToInstanceProperty","setObserver","isDecoratedObject","listDecoratedProperties","targets","Array","from","flatMap","configMap","extractDecoratedProperties","reduce","extractDecoratedPropertyMetadata","hasOwn","isDefined","val","isArray","isBoolean","isDate","isValidDate","isNaN","isRegExp","RegExp","isFunction","isObject","isObjectLike","isPlainObject","isString","isNumber","isFiniteNumber","isFinite","isHtmlElement","window","HTMLElement","isEnumKey","enumObject","enumKey","isEnumValue","enumValue","values","isSymbol","deepMerge","sources","mergeDefaults","reverse","mergeArrayDefaults","dataArray","itemDefaults","map","item","mapValues","object","mapper","entries","without","clone","getPath","path","pathArray","split","pathKey","setPath","newValue","slice","lastKey","pop","lastObject","partialAssign","keysToCopy","ChartTypes","seriesType","isCartesian","isPolar","isHierarchy","isTopology","seriesTypes","cartesianTypes","t","polarTypes","hierarchyTypes","topologyTypes","ChartDefaults","chartType2","defaults","chartTypes","publicChartTypes","chartDefaults","EXPECTED_ENTERPRISE_MODULES","optionsInnerKey","isEnterpriseSeriesType","getEnterpriseSeriesChartTypes","isEnterpriseCartesian","isEnterprisePolar","isEnterpriseHierarchy","isEnterpriseTopology","isEnterpriseModule","verifyIfModuleExpected","stub","useCount","getUnusedExpectedModules","optionsType","input","_b","_c","series","isAgCartesianChartOptions","specifiedType","isAgPolarChartOptions","isAgHierarchyChartOptions","isAgTopologyChartOptions","isAgPolarChartOptionsWithSeriesBasedLegend","isSeriesOptionType","isAxisOptionType","removeUsedEnterpriseOptions","_d","usedOptions","optionsChartType","moduleChartTypes","optionValue","axes","axis","forEach","enterprisePackageName","enterpriseReferenceUrl","mode","join","BaseProperties","properties","className","self","isProperties","PropertiesArray","reset","delete","unknownKey","isValid","optional","valid","toJson","propertyValue","_PropertiesArray","itemFactory","CLASS_INSTANCE_TYPE","jsonDiff","skip","allKeys","diff2","deepClone","shallow","shallowClone","flags","jsonWalk","json","visit","opts","jsons","node","keyMapper","jsonApply","params","constructedArrays","matcherPath","replace","targetAny","targetType","classify","property","propertyMatcherPath","propertyPath","targetClass","currentValue","ctr","currentValueType","newValueType","newValueArray","data","dataObject","SeriesRegistry","seriesMap","defaultAxes","enterpriseThemeTemplate","paletteFactory","solo","stackable","groupable","stackedByDefault","swapDefaultAxesCondition","SeriesConstructor","cloneDefaultAxes","currentTemplate","community","enterprise","getPaletteFactory","isSolo","isGroupable","isStackable","isStackedByDefault","isDefaultAxisSwapNeeded","isDefaultAxisSwapped","seriesRegistry","LegendRegistry","legendMap","legendType","LegendConstructor","getThemeTemplates","fromEntries","getKeys","record","legendRegistry","FONT_SIZE","FONT_SIZE2","FONT_WEIGHT","FONT_WEIGHT3","POSITION","POSITION3","CARTESIAN_AXIS_TYPE","CARTESIAN_AXIS_TYPE2","POLAR_AXIS_TYPE","POLAR_AXIS_TYPE2","POLAR_AXIS_SHAPE","POLAR_AXIS_SHAPE2","DEFAULT_FILLS","BLUE","ORANGE","GREEN","CYAN","YELLOW","VIOLET","GRAY","MAGENTA","BROWN","RED","DEFAULT_STROKES","IS_DARK_THEME","EXTENDS_AXES_DEFAULTS","EXTENDS_AXES_LINE_DEFAULTS","EXTENDS_AXES_TICK_DEFAULTS","EXTENDS_AXES_GRID_LINE_DEFAULTS","EXTENDS_SERIES_DEFAULTS","EXTENDS_CARTESIAN_MARKER_DEFAULTS","DEFAULT_FONT_FAMILY","DEFAULT_LABEL_COLOUR","DEFAULT_INVERTED_LABEL_COLOUR","DEFAULT_INSIDE_SERIES_LABEL_COLOUR","DEFAULT_MUTED_LABEL_COLOUR","DEFAULT_AXIS_GRID_COLOUR","DEFAULT_AXIS_LINE_COLOUR","DEFAULT_CROSS_LINES_COLOUR","DEFAULT_BACKGROUND_COLOUR","DEFAULT_SHADOW_COLOUR","DEFAULT_COLOURS","DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS","DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS","DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS","DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE","DEFAULT_POLAR_SERIES_STROKE","DEFAULT_DIVERGING_SERIES_COLOUR_RANGE","DEFAULT_HIERARCHY_FILLS","DEFAULT_HIERARCHY_STROKES","DEFAULT_ANNOTATION_STROKE","DEFAULT_ANNOTATION_BACKGROUND_FILL","DEFAULT_ANNOTATION_HANDLE_FILL","DEFAULT_BACKGROUND_FILL","DEFAULT_PALETTE","fills","strokes","CHART_TYPE_CONFIG","cartesian","commonOptions","polar","hierarchy","topology","CHART_TYPE_SPECIFIC_COMMON_OPTIONS","r","concat","_ChartTheme","getPalette","getAxisDefaults","overrideDefaults","title","enabled","text","spacing","fontWeight","fontSize","fontFamily","color","label","padding","avoidCollisions","line","width","tick","gridLine","style","stroke","lineDash","crossLines","fill","fillOpacity","strokeWidth","getSeriesDefaults","visible","showInLegend","highlightStyle","dimOpacity","nodeClickRange","tooltip","getCartesianSeriesMarkerDefaults","shape","size","getChartDefaults","background","top","right","bottom","left","keyboard","wrapping","subtitle","footnote","legend","position","listeners","paddingX","paddingY","marker","toggleSeriesVisible","reverseOrder","pagination","activeStyle","inactiveStyle","darkTheme","delay","overlays","loading","noData","noVisibleSeries","overrides","palette","palette10","createChartConfigPerChartType","getDefaults","mergeOverrides","freeze","templateTheme","cleanedCommon","common","commonKey","nextType","typeDefaults","getOverridesByType","chartTypeDefaults","cartesianAxisDefault","themeInstance","extensions","getTemplateParameters","extendsValue","getDefaultColors","getWaterfallSeriesDefaultPositiveColors","getWaterfallSeriesDefaultNegativeColors","getWaterfallSeriesDefaultTotalColors","base","groupPaddingInner","autoRotate","ChartTheme","DEFAULT_DARK_BACKGROUND_FILL","DEFAULT_DARK_FILLS","DEFAULT_DARK_STROKES","DarkTheme","_DarkTheme","MATERIAL_DARK_FILLS","MATERIAL_DARK_STROKES","palette2","MaterialDark","_MaterialDark","MATERIAL_LIGHT_FILLS","MATERIAL_LIGHT_STROKES","palette3","MaterialLight","_MaterialLight","POLYCHROMA_DARK_FILLS","PURPLE","PINK","MODERATE_BLUE","POLYCHROMA_DARK_STROKES","POLYCHROMA_DARK_FILL_GRAY","POLYCHROMA_DARK_STROKE_GRAY","palette4","PolychromaDark","_PolychromaDark","POLYCHROMA_LIGHT_FILLS","POLYCHROMA_LIGHT_STROKES","POLYCHROMA_LIGHT_FILL_GRAY","POLYCHROMA_LIGHT_STROKE_GRAY","palette5","PolychromaLight","_PolychromaLight","SHEETS_DARK_FILLS","DARK_GRAY","DARK_BLUE","VERY_DARK_GRAY","DARK_YELLOW","SHEETS_DARK_STROKES","palette6","SheetsDark","_SheetsDark","SHEETS_LIGHT_FILLS","SHEETS_LIGHT_STROKES","palette7","SheetsLight","_SheetsLight","VIVID_DARK_FILLS","VIVID_DARK_STROKES","palette8","VividDark","_VividDark","VIVID_FILLS","VIVID_STROKES","palette9","VividLight","_VividLight","lightTheme","lightThemes","undefined","null","ag-sheets","ag-polychroma","ag-vivid","ag-material","darkThemes","ag-sheets-dark","ag-polychroma-dark","ag-vivid-dark","ag-material-dark","themes","validateChartThemeObject","unknownObject","baseTheme","validateChartTheme","getChartTheme","unvalidatedValue","stockTheme","flattenedTheme","extent","min","Infinity","n","normalisedExtent","normalisedExtentWithMetadata","clipped","NaN","arraysEqual","toArray","unique","groupBy","iteratee","groupKey","circularSliceArray","at","bifurcate","isLeft","mapIterable","src","predicate","constStringsIncludes","casting","isInStringUnion","unionValues","allInStringUnion","verifiedGlobals","injectCache","global","document","getDocument","propertyName","getWindow","createElement","tagName","element2","classList","downloadUrl","dataUrl","fileName","body","display","href","download","appendChild","click","removeChild","injectStyle","cssStyle","uniqueId","document2","styleElement","innerHTML","head","insertBefore","querySelector","setDocument","setWindow","window2","LONG_TIME_PERIOD_THRESHOLD","timeOfLastLog","now","logTimeGap","timeSinceLastLog","prettyDuration","toFixed","Debug","debugSelectors","resultFn","check","chartDebug","selector","unthemedSeries","ChartOptions","userOptions","specialOverrides","cloneOptions","sanityCheckAndCleanup","activeTheme","theme","getDefaultAxes","specialOverridesDefaults","getSeriesThemeConfig","axesThemes","annotations","annotationsThemes","_","themeDefaults","processedOptions","processAxesOptions","processSeriesOptions","processMiniChartSeriesOptions","processAnnotationsOptions","enableConfiguredOptions","getOptions","diffOptions","optionsType2","axesDefaults","swapAxesPosition","deprecationWarnings","axesTypeIntegrity","seriesTypeIntegrity","soloSeriesIntegrity","removeDisabledOptions","removeLeftoverSymbols","sync","axis0","axis1","crossLinesTheme","axisTheme","gridLineStyle","_e","_1","_2","_3","_4","axisOptions","defaultSeriesType","getDefaultSeriesType","defaultTooltipPosition","getTooltipPositionDefaults","userPalette","Boolean","paletteOptions","colourIndex","processedSeries","innerLabels","innerLabelsTheme","seriesTheme","seriesPaletteOptions","getSeriesPalette","seriesOptions","getSeriesGroupingOptions","setSeriesGroupingOptions","miniChartSeries","navigator","miniChart","_a2","_b2","_annotationsThemes","colourOffset","colorsCount","themeTemplateParameters","takeColors","count","grouped","stacked","stackGroup","allSeries","seriesGroups","getSeriesGrouping","groupIdx","groupCount2","countMap","seriesGroup","groupType","groupIndex","stackIndex","seriesGrouping","groupCount","stackCount","__","getSeriesGroupId","xKey","groupMap","groupId","xOffset","yOffset","deprecatedArrayProps","yKeys","yNames","oldProp","newProp","expectedTypes","mainSeriesType","nonSolo","rejects","visitingUserOpts","visitingMergedOpts","_enabledFromTheme","optionsNode","createDeprecationWarning","msg","Deprecated","warnDeprecated","def","default","DeprecatedAndRenamedTo","newPropName","mapValue","fromToMotion_exports","NODE_UPDATE_STATE_TO_PHASE_MAPPING","fromToMotion","staticFromToMotion","ID_MAP","resetIds","createId","instance","nextId","interpolate","isInterpolating","clamp","clampArray","findMinMax","findRangeExtent","isEqual","epsilon2","abs","isNegative","sign","is","decimals","fractionOrSignificantDigits","power","LN10","mod","countFractionDigits","maximumFractionDigits","decimal","toLocaleString","minimumFractionDigits","nearestSquared","y","objects","maxDistanceSquared","nearest","distanceSquared","thisDistance","nearestSquaredInContainer","container","tx","ty","transformPoint","child","children","distanceSquared2","_BBox","height","equals","containsPoint","collidesBBox","computeCenter","dx","dy","nearestBox","boxes","clip","clipRect","x1","y1","x2","y2","shrink","amount","pos","amt","grow","paddingCopy","combine","merge","box","zero","BBox","RedrawType","RedrawType2","functionConstructorAvailable","Function","STRING_FUNCTION_USEABLE","SceneChangeDetection","changeCb","convertor","privateKey","prepareFastGetSet","prepareSlowGetSet","redraw","checkDirtyOnAssignment","setterJs","getterJs","markDirty","markDirtyTransform","_dirtyPath","_dirtyFont","_dirty","ChangeDetectable","_source","markClean","_opts","isDirty","_Matrix","elements","elements3","setElements","AxB","A","B","C","c","multiplySelf","multiply","preMultiplySelf","inverse","el","rD","inverseTo","invertSelf","transformBBox","bbox","xx","xy","yx","yy","h_w","h_h","cx","cy","w","h","toContext","ctx","transform","flyweight","sourceMatrix","updateTransformMatrix","matrix","scalingX","scalingY","rotation","translationX","translationY","bbcx","bbcy","sx","sy","scx","scy","scalingCenterX","scalingCenterY","cos","sin","rcx","rcy","rotationCenterX","rotationCenterY","tx4","ty4","fromContext","domMatrix","Matrix","PointerEvents","PointerEvents2","_Node","isVirtual","tag","zIndex","serialNumber","_nextSerialNumber","id","isContainerNode","_virtualChildren","_children","childSet","dirtyTransform","_childNodeCounts","groups","nonGroups","dirtyZIndex","zIndexSubOrder","pointerEvents","datum","_datum","_parent","previousDatum","_previousDatum","_setLayerManager","_layerManager","_debug","debug","layerManager","ancestors","parent","traverseUp","virtualChildren","hasVirtualChildren","setProperties","styles","pickKeys","append","nodes","calculateCumulativeMatrix","computeTransformMatrix","inverseTransformPoint","inverseTransformBBox","_x","_y","pickNode","computeTransformedBBox","hit","getCachedBBox","cachedBBox","computeBBox","preRender","childCounts","render","renderCtx","stats","nodesRendered","parentType","dirty","force","recursive","onVisibleChange","nodeCount","dirtyCount","visibleCount","countChild","childCount","childVisibleCount","childDirtyCount","onZIndexChange","Node","srgbToLinear","srgbFromLinear","_Color","g","validColorString","str","parseHex","stringToRgba","nameToHex","toLowerCase","fromString","fromHexString","hex","fromRgbaString","tryParseFromString","fromArray","parts","parseInt","p","po","pc","contents","substring","rgba","part","parseFloat","arr","fromHSB","alpha","rgb","HSBtoRGB","fromHSL","l","HSLtoRGB","fromOKLCH","OKLCHtoRGB","padHex","toHexString","toRgbaString","fractionDigits","components","toHSB","RGBtoHSB","RGBtoOKLCH","LSRGB0","LSRGB1","LSRGB2","LMS0","cbrt","LMS1","LMS2","OKLAB0","OKLAB1","OKLAB2","hue","atan2","PI","OKLCH0","OKLCH1","hypot","OKLCH2","SRGB0","SRGB1","SRGB2","RGBtoHSL","delta2","q","hueToRgb","S","H","rc","gc","bc","derive","hueShift","saturationFactor","brightnessFactor","opacityFactor","hsb","brighter","darker","c0","c1","didDebug","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","Color","interpolateNumber","interpolateColor","easing_exports","easeIn","easeInOut","easeInOutQuad","easeInQuad","easeOut","easeOutQuad","inverseEaseOut","linear","asin","QUICK_TRANSITION","PHASE_ORDER","PHASE_METADATA","initial","animationDuration","animationDelay","remove","update","skipIfNoEarlierAnimations","end","none","RepeatType","RepeatType2","isNodeArray","deconstructSelectionsOrNodes","selectionsOrNodes","selections","Animation","isComplete","elapsed","iteration","isPlaying","isReverse","_f","_g","autoplay","ease","phase","durationProportion","duration","defaultDuration","onComplete","onPlay","onStop","onUpdate","createInterpolator","to","collapsable","checkCollapse","calculatedDuration","play","initialUpdate","pause","time2","previousElapsed","delta","totalDuration","interpolateValue","interpolatorEntries","interpolator","added","updated","removed","unknown","subId","animationManager","getDatumId","fromFn","toFn","intermediateFn","processNodes","liveNodes","subNodes","prevFromProps","liveNodeIndex","nodeIndex","isLive","last","lastLive","prev","prevLive","nextLive","animationId","stopByAnimationId","status","calculateStatus","finish","toPhase","toStart","toFinish","toDelay","toDuration","animate","props","selectionIndex","selection","selectionNodes","isGarbage","cleanup","extraOpts","twoPi","normalizeAngle360","radians","normalizeAngle360Inclusive","normalizeAngle180","isBetweenAngles","targetAngle","startAngle","endAngle","a0","a1","toRadians","degrees","toDegrees","angleBetween","angle0","angle1","displacePointFromVector","centerX","centerY","radius","angle","Invalidating","mappedProperty","String","invalid","_BandScale","interval","ordinalRange","_domain","_bandwidth","_step","_rawBandwidth","_paddingInner","_paddingOuter","refresh","domain","getIndex","ticks","convert","invert","findIndex","invertNearest","minDistance","distance2","bandwidth","rawBandwidth","paddingInner","paddingOuter","round3","r0","r1","rawStep","fullBandWidth","x0","bw","valueOf","BandScale","Default","defaultValue","replaces","Validate","overrideProperty","context","cleanKey","targetName","valueString","stringify","maxLength","excessCharacters","getPredicateMessage","AND","predicates","messages","predicateWithMessage","OR","getPredicateMessageMapper","OBJECT","attachObjectRestrictions","PLAIN_OBJECT","BOOLEAN","FUNCTION","STRING","NUMBER","attachNumberRestrictions","NAN","POSITIVE_NUMBER","restrict","RATIO","DEGREE","NUMBER_OR_NAN","ARRAY","attachArrayRestrictions","ARRAY_OF","arrayMessage","isComparable","LESS_THAN","otherField","GREATER_THAN","DATE","DATE_OR_DATETIME_MS","colorMessage","COLOR_STRING","COLOR_STRING_ARRAY","BOOLEAN_ARRAY","NUMBER_ARRAY","STRING_ARRAY","DATE_ARRAY","OBJECT_ARRAY","LINE_CAP","UNION","LINE_JOIN","LINE_DASH","POSITION2","FONT_STYLE","FONT_WEIGHT2","TEXT_WRAP","TEXT_ALIGN","VERTICAL_ALIGN","OVERFLOW_STRATEGY","DIRECTION","PLACEMENT","INTERACTION_RANGE","LABEL_PLACEMENT","joinUnionOptions","MIN_SPACING","MAX_SPACING","option","lastValue","minLength","hasMin","hasMax","objectType","JSON","TICK_INTERVAL","AxisTick","arguments","ChartAxisDirection","ChartAxisDirection2","JSON_APPLY_PLUGINS","assignJsonApplyConstructedArray","ctor","_ContinuousScale","nice","tickCount","defaultTickCount","minTickCount","maxTickCount","niceDomain","defaultClampMode","transformInvert","calcBandwidth","smallestInterval","getDomain","rangeDistance","intervals","maxBands","bands","clampMode","d0","d1","d2","isReversed","rMin","rMax","toDomain","getPixelRange","defaultMaxTickCount","ContinuousScale","CONSTANTS","periods","days","shortDays","months","shortMonths","dayOfYear","startOfYear","startOffset","timeDiff","timeOneDay","weekOfYear","startDay","startOfYearDay","getDay","firstWeekStartOffset","SUNDAY","MONDAY","THURSDAY","isoWeekOfYear","firstOfYear","firstOfYearDay","firstThursdayOffset","timezone","unsignedOffset","pad","FORMATTERS","getMilliseconds","getHours","I","hours","M","getMinutes","L","Q","getSeconds","u","day2","U","V","W","X","Y","Z","%","PADS","padChar","output","repeat","buildFormatter","formatString","formatParts","nextEscapeIdx","literalPart","maybePadSpecifier","maybePad","maybeFormatterSpecifier","maybeFormatter","formatter","dateTime","dateTimeAsDate","dateToNumber","defaultTimeTickFormat","calculateDefaultTimeTickFormat","defaultTimeFormat","updateFormat","format2","getLowestGranularityFormat","startDomain","endDomain","startYear","stopYear","yearChange","formatStringBuilder","firstTick","lastTick","extent2","activeYear","activeDate","used","firstFormat","lastFormat","replaceAll","trim","createNumericTicks","takingValues","ticks_default","minCount","maxCount","tickStep","tickMultipliers","log10","multiplier","isWithinBounds","diffCount","sort","a2","b2","singleTickDomain","roundStart","roundStop","fractionalDigits","isDenseInterval","availableRange","_TimeScale","getTickInterval","countableTimeInterval","targetInterval","getIntervalIndex","tickIntervals","y0","diff0","diff1","t0","t1","getTicksForInterval","getDefaultTicks","ticks2","absInterval","reversedInterval","timeInterval","tickInterval","stopDate","setMilliseconds","tickFormat","specifier","updateNiceDomain","maxAttempts","updateNiceDomainIteration","n0","n1","intervalRange","TimeScale","_OrdinalTimeScale","updateIndex","extents","indexShift","i2","nextValue","e02","e12","dateRange2","middleIndex","medianInterval","intervalIndex","dateRange","tickPositions","tickEvery","OrdinalTimeScale","ascendingStringNumberUndefined","localeCompare","toLiteral","compoundAscending","comparator","idx","_Group","opacity","lastBBox","layer","moveLayer","isLayer","layersManager","removeLayer","initialiseLayer","addLayer","getComputedOpacity","getVisibility","counts","nonEmptyChildDerivedZIndex","deriveZIndexFromChildren","sortChildren","lastChild","debug3","forceRender","clipBBox","resized","canvasCtxTransform","isChildDirty","isChildLayerDirty","group","currentBBox","layersSkipped","nodesSkipped","groupVisible","save","pixelRatio","ctxTransform","beginPath","rect","globalAlpha","renderContextChanged","childRenderContext","skipped","restore","layersRendered","snapshot","verifyDepthZero","setClipRectInGroupCoordinateSpace","Group","Gradient","stops","LinearGradient","createGradient","angleOffset","diagonal","sqrt","diagonalAngle","quarteredAngle","gradient","createLinearGradient","addColorStop","LINEAR_GRADIENT_REGEXP","_Shape","strokeOpacity","defaultStyles","lineDashOffset","lineCap","lineJoin","fillShadow","restoreOwnStyles","onFillChange","linearGradientMatch","startsWith","exec","colors","colorsPart","colorRegex","align","canvas","alignedStart","fillStroke","renderFill","renderStroke","applyFill","applyFillAlpha","applyShadow","executeFill","shadowColor","fillStyle","shadowOffsetX","shadowOffsetY","shadowBlur","blur","strokeStyle","lineWidth","setLineDash","executeStroke","isPointInPath","Shape","Range","startLine","endLine","isRange","fillActive","moveTo","lineTo","closePath","strokeActive","memorizedFns","memorizedMap","memo","fnGenerator","serialisedParams","memoizeFunction","baseFn","rest","ellipsis","SceneFontChangeDetection","_Text","lines","textAlign","textBaseline","onTextChange","font","_font","getFont","lineHeight","getTextSizeMultiline","getLineHeight","metrics","measureText","fontBoundingBoxAscent","emHeightAscent","fontBoundingBoxDescent","emHeightDescent","point","renderLines","fillText","strokeText","renderCallback","lineHeights","totalHeight","offsetY","getVerticalModifier","wrapLines","maxWidth","maxHeight","textProps","overflow","canOverflow","measurer","TextMeasurer","truncated","truncText","truncated2","truncateLine","wrappedLines","cumulativeHeight","wrappedLine","wrapLine","wrap","initialSize","words","wrapResult","wrapLineSequentially","wordsBrokenOrTruncated","linesTruncated","linesCount","balanced","wrapLineBalanced","wrappedText","ln","breakWord","word","firstLineWidth","hyphens","isPunctuationAt","punctuationMarks","breaks","partWidth","limit","ellipsisMode","trimEnd","ellipsisWidth","trunc","truncWidth","defaultLineHeightRatio","hyphenate","spaceWidth","currentLine","getReturnValue","truncateLastLine","lastLine","addNewLine","expectedHeight","wordWidth","expectedSpaceWidth","expectedLineWidth","availWidth","totalWordsWidth","sum2","totalSpaceWidth","averageLineWidth","newLine","setFont","fontStyle","setAlign","textContext","_textContext","canvasElement","getContext","_measureText","getTextSize","_getTextSize","baselineDistance","actualBoundingBoxLeft","actualBoundingBoxAscent","actualBoundingBoxDescent","o","Text","fontProps","Label","calculateLabelRotation","parallelFlipRotation","regularFlipRotation","configuredRotation","parallelFlipFlag","regularFlipFlag","defaultRotation","parallel","getLabelSpacing","minSpacing","rotated","getTextBaseline","labelRotation","sideFlag","getTextAlign","labelAutoRotation","labelRotated","labelAutoRotated","alignFlag","calculateLabelBBox","labelX","labelY","labelMatrix","translatedBBox","Layers","Layers2","isStringObject","isNumberObject","isContinuous","checkDatum","isContinuousScale","transformIntegratedCategoryValue","MATCHING_CROSSLINE_TYPE","validateCrossLineValues","scale2","lineCrossLine","rangeCrossLine","isContinuous2","validStart","validEnd","horizontalCrosslineTranslationDirections","xTranslationDirection","yTranslationDirection","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight","verticalCrossLineTranslationDirections","calculateLabelTranslation","yDirection","crossLineTranslationDirections","xTranslation","yTranslation","calculateLabelChartPadding","chartPadding","POSITION_TOP_COORDINATES","xEnd","yStart","yEnd","POSITION_LEFT_COORDINATES","xStart","POSITION_RIGHT_COORDINATES","POSITION_BOTTOM_COORDINATES","POSITION_INSIDE_COORDINATES","POSITION_TOP_LEFT_COORDINATES","POSITION_BOTTOM_LEFT_COORDINATES","POSITION_TOP_RIGHT_COORDINATES","POSITION_BOTTOM_RIGHT_COORDINATES","labelDirectionHandling","CROSSLINE_LABEL_POSITION","CartesianCrossLineLabel","_CartesianCrossLine","scale","clippedRange","gridLength","direction","LINE_LAYER_ZINDEX","labelGroup","LABEL_LAYER_ZINDEX","crossLineRange","crossLineLabel","labelPoint","group2","getZIndex","updateNodes","calculateLayout","reversedAxis","dataCreated","createNodeData","crossLineBox","labelBox","computeLabelBBox","updateRangeNode","updateLabel","positionLabel","getRange","ordinalTimeScalePadding","clampedYStart","clampedYEnd","validRange","RANGE_LAYER_ZINDEX","tempText","calculatePadding","_h","labelPadding","crossLineLabelBBox","CartesianCrossLine","ModuleMap","moduleMap","moduleInstance","addModule","moduleFactory","removeModule","moduleKey","getModule","isEnabled","mapModules","resetMotion_exports","resetMotion","propsFn","StateMachine","initialState","states","preTransitionCb","state","transition","event","currentStateConfig","destinationTransition","destinationState","action","content","optionalGroup","nonCapturingGroup","formatRegEx","comma","precision","tilde","surroundedRegEx","prefix","suffix","parseFormatter","surrounded","match","format","precisionIsNaN","formatBody","decimalTypes","integerTypes","formatterPrecision","removeTrailingZeros","insertSeparator","addSign","getSIPrefix","addPadding","absFloor","fromCharCode","toUpperCase","toExponential","E","F","G","getSIPrefixPower","numString","separator","dotIndex","integerChars","fractionalPart","siPrefixes","minSIPrefix","maxSIPrefix","minusSign","num","signType","plusSign","padStart","padEnd","padWidth","padLeft","padRight","digits","exp","_LogScale","baseLog","basePow","getBaseLogMethod","getBasePowerMethod","p0","p1","absDiff","isBaseInteger","isDiffLarge","isPositive","availableSpacing","lastTickPosition","nextMagnitudeTickPosition","tickPosition","prevSpacing","nextSpacing","fits","log2","logBase","LogScale","Selection","_Selection","parentNode","classOrFactory","autoCleanup","garbageBin","_nodesMap","_nodes","nodeFactory","isPrototypeOf","select","garbageCollection","selectAll","results","traverse","selectByClass","Class","ExtraClasses","selectByTag","createNode","initializer","dataMap","datumId","newDatum","hasGarbage","each","iterate2","entry","pointsDistanceSquared","lineDistanceSquared","best","ix","iy","arcDistanceSquared","counterClockwise","startX","startY","endX","endY","distToArc","Line","px","py","devicePixelRatio","circleRectOverlap","unitCenter","edgeX","edgeY","rectRectOverlap","w2","h2","xOverlap","yOverlap","rectContainsRect","r2x","r2y","r2w","r2h","isPointLabelDatum","labelPlacements","placeLabels","bounds","labels","placement","center","withinBounds","overlapPoints","dataDatums","dataDatum","overlapLabels","l2","l3","axisLabelsOverlap","areArrayItemsStrictlyEqual","arrA","arrB","areArrayNumbersEqual","ProxyProperty","proxyPath","ProxyOnWrite","proxyProperty","ProxyPropertyOnWrite","childName","childProperty","ActionOnSet","newValueFn","oldValueFn","changeValue","changeValueFn","ObserveChanges","setAttribute","qualifiedName","removeAttribute","calculatePlacement","naturalWidth","naturalHeight","containerWidth","containerHeight","DEFAULT_TOOLTIP_CLASS","DEFAULT_TOOLTIP_DARK_CLASS","EMPTY_TOOLTIP_CONTENT","html","ariaLabel","toAccessibleText","inputHtml","lineConverter","_match","toTooltipHtml","backgroundColor","titleHtml","titleAria","contentHtml","TooltipPosition","Tooltip","enableInteraction","lastVisibilityChange","wrapTypes","showTimeout","_showArrow","element","root","isVisible","contains","show","canvasRect","meta","instantly","_i","toggle","positionType","tooltipBounds","getTooltipBounds","windowBounds","getWindowSize","clientWidth","clientHeight","constrained","defaultShowArrow","showArrow","updateShowArrow","innerWidth","innerHeight","toggleClass","include","wasVisible","timeSinceLastVisibilityChangeMs","animatedMoveThresholdMs","thrashingThresholdMs","noAnimation","wrapType","pointerLeftOntoTooltip","sourceEvent","relatedTarget","classes","classListContains","tooltipWidth","tooltipHeight","offsetX","Caption","getOrAddRegion","moduleCtx","regionName","regionManager","getRegion","addRegionFromProperties","bboxproviders","canInteraction","registerInteraction","region","addListener","handleMouseMove","handleMouseLeave","computeTextWrap","updateTooltip","tooltipManager","lastPointerEvent","consume","_event","removeTooltip","SMALL_PADDING","LARGE_PADDING","GRID_STYLE_KEYS","GRID_STYLE","AxisGridLine","AxisLabel","autoWrap","mirrored","getSideFlag","AxisLine","AxisTitle","prepareAxisAnimationContext","requestedRangeMin","requestedRangeMax","fullCircle","halfCircle","normaliseEndRotation","directDistance","prepareAxisAnimationFunctions","outOfBounds","_node","_status","resetAxisGroupFn","resetAxisSelectionFn","rangeVisible","resetAxisLabelSelectionFn","resetAxisLineSelectionFn","_Axis","dataDomain","boundSeries","includeInvisibleDomains","interactionEnabled","axisGroup","lineNode","tickLineGroup","tickLabelGroup","crossLineGroup","gridGroup","gridLineGroup","tickLineGroupSelection","tickLabelGroupSelection","gridLineGroupSelection","createTick","createLabel","defaultTickMinSpacing","translation","layout","visibleRange","_titleCaption","gridPadding","seriesAreaPadding","tickGenerationResult","maxThickness","refreshScale","checkAxisHover","animationState","empty","resetSelectionNodes","ready","animateReadyUpdate","resize","_crossLines","assignCrossLineArrayConstructor","previousSize","layoutService","chart","respondsToZoom","updateService","minRect","crossLine","detachCrossLine","attachCrossLine","initCrossLine","resetAnimation","updateRange","rr","vr","span","shift","setCrossLinesVisible","attachAxis","axisNode","gridNode","detachAxis","inRange","tolerance","onLabelFormatChange","logScale","defaultLabelFormatter","labelFormatter","setTickInterval","setTickCount","continuous","onGridLengthChange","prevValue","onGridVisibilityChange","isInAxis","chartEventManager","axisHover","_primaryTickCount","animated","calculateRotations","updatePosition","lineData","getAxisLineCoordinates","tickData","combinedRotation","primaryTickCount","previousTicks","tickId","updateSelections","isSkipped","calculateUpdateDiff","updateAxisLine","updateLabels","updateVisibility","updateGridLines","updateTickLines","updateTitle","anyTickVisible","updateCrossLines","updateLayoutState","getTickLineCoordinates","getTickSize","getTickLabelProps","tickLabel","setTitleProps","caption","titleNode","titleRotationFlag","callbackCache","getTitleFormatterParams","updateScale","generateTicks","ticksResult","lineBox","tickLineBox","labelProps","getTransformBox","bbox2","axisRotation","getAxisTransform","titleBox","transformedBBox","anySeriesActive","isAnySeriesActive","setDomain","normaliseDataDomain","calculateDomain","secondaryAxis","initialRotation","estimateTickCount","maxSpacing","maxIterations","rawTicks","labelCount","autoRotation","labelOverlap","terminate","tickStrategies","getTickStrategies","strategy","checkLabelOverlap","avoidLabelCollisions","filterTicks","strategies","tickGenerationType","tickGenerationStrategy","createTickData","tickFilterStrategy","autoWrapStrategy","wrapLabels","autoRotateStrategy","getAutoRotation","regenerateTicks","unchanged","prevTicks","getTicks","shouldTerminate","labelData","createLabelData","labelSpacing","labelDatum","autoRotateAngle","updateSecondaryAxisTicks","createTicks","halfBandwidth","tickIdCounts","filteredTicks","formatTick","tickSpacing","keepEvery","rangeWithBleed","calculateRangeWithBleed","defaultMinSpacing","clampMaxTickCount","minRectDistance","calculateAvailableRange","visibleScale","visibleSeries","domains","defaultMaxWidth","defaultMaxHeight","tickDatum","tickBBox","tickWidth","datumFormatter","formatDatum","clipTickLines","clipGrid","acc","names","getNames","getLayoutState","tickSize","getModuleMap","createModuleContext","axisContext","createAxisContext","axisId","seriesKeyProperties","seriesKeys","getKeyProperties","scaleValueFormatter","scaleBandwidth","scaleConvert","scaleInvert","selectionCtx","previous","tickMap","changed","Axis","CartesianAxisLabel","_CartesianAxis","thickness","updateDirection","CartesianAxis","CategoryAxisTick","CategoryAxis","_paddingOverrideEnabled","uniqueValues","paddings","getBandScalePadding","inner","outer","TreeNode","number","subtreeLeft","subtreeRight","screenX","screenY","leafCount","prelim","ancestor","change","depth","getLeftSibling","getLeftmostSibling","nextLeft","thread","nextRight","getSiblings","ticksToTree","pad2","insertTick","pathParts","lastPartIndex","pathPart","partIndex","existingNode","isNotLeaf","moveSubtree","wm","wp","subtrees","ratio","vim","defaultAncestor","executeShifts","apportion","vop","vip","vom","sip","sop","sim","som","firstWalk","midpoint","leftSibling","Dimensions","secondWalk","thirdWalk","treeLayout","TreeLayout","dimensions","leafNodes","nonLeafNodes","shiftX","shiftY","flipX","xSteps","ySteps","existingSpacingX","desiredSpacingX","existingSpacingY","desiredSpacingY","screenDimensions","GroupedCategoryAxisLabel","grid","GroupedCategoryAxis","tickScale","labelColor","gridLineSelection","axisLineSelection","separatorSelection","labelSelection","resizeTickTree","tickTreeLayout","isNumericX","flatDomains","domain2","computedLayout","updateTitleCaption","updateCategoryLabels","updateSeparators","updateAxisLines","updateCategoryGridLines","tickLabelLayout","separatorLayout","axisLineLayout","gridSelection","styleCount","computeLayout","rangeStart","rangeEnd","rangeLength","isHorizontal","treeLabels","isLabelTree","copyLabelProps","labelBBoxes","maxLeafLabelWidth","setLabelProps","isCaptionEnabled","isInRange","isLeaf","labelGrid","separatorData","minX","separatorBoxes","separatorBox","axisLineBoxes","lineCount","hasConstrainedCanvasMemory","iPhoneOSMatch","userAgent","major","minor","_HdpiCanvas","insertAsFirstChild","onEnabledChange","debugContext","drawImage","toDataURL","clearRect","onContainerChange","firstChild","bind","HdpiCanvas","LayersManager","_LayersManager","layersMap","nextZIndex","nextLayerId","sortLayers","newLayer","newZIndex","newZIndexSubOrder","debugStats","debugSplitTimes","renderCtxStats","extraDebugStats","performance","durations","splits","time","extras","detailedStats","pct","statsSize","accumulate","fillRect","stat","debugSceneNodeHighlight","debugNodes","strokeRect","buildTree","virtualParentDirty","virtualParent","childTree","treeNodeName","childNode","selectedKey","buildDirtyTree","dirtyTree","paths","childrenDirtyTree","rendered","total","Scene","canvasPosition","pendingSize","setContainer","setRoot","attachNode","fileFormat","getDataURL","renderStartTime","redrawType","tree","canvasCleared","layerRenderStart","resetTransform","strip","icons_default","reset_default","theme_default_default","theme_default_dark_default","styles_default","sleep","sleepTimeoutMs","Mutex","available","acquireQueue","acquire","cb","dispatchNext","catch","acquireImmediately","waitForClearAcquireQueue","Observable","eventListeners","addEventListener","eventType","listener","eventTypeListeners","removeEventListener","hasEventListener","clearEventListeners","fireEvent","Padding","debouncedAnimationFrame","buildScheduler","innerCb","_delayMs","requestAnimationFrame","debouncedCallback","delayMs","scheduleFn","scheduleCount","promiseRunning","awaitingPromise","awaitingDone","busy","scheduleCb","maybePromise","schedule","await","SizeMonitor","documentReady","queuedObserveRequests","onLoad","observe","ResizeObserver","resizeObserver","contentRect","checkSize","disconnect","removeFromQueue","unobserve","CallbackCache","cache","paramCache","invoke","invalidateCache","AnnotationManager","annotationRoot","setAnnotationStyles","getAnnotationTypeStyles","Listeners","registeredListeners","handler","removeListener","eventSymbol","matchIndex","dispatch","getListenersByType","dispatchWrapHandlers","wrapFn","DataService","dispatchOnlyLatest","dispatchThrottle","requestThrottle","isLoadingInitialData","isLoadingData","freshRequests","requestCounter","throttledFetch","createThrottledFetch","throttledDispatch","createThrottledDispatch","updateCallback","dataSourceCallback","clearCallback","load","isLazy","isLoading","fetch","response","requestIndex","rid","AnimationBatch","maxAnimationTime","controllers","stoppedCbs","currentPhase","phases","skipAnimations","animationTimeConsumed","isReady","consumedTimeMs","isActive","getActiveControllers","checkOverlappingId","addAnimation","animation","animationPhaseIdx","removeAnimation","progress","deltaTime","unusedTime","phase2","phaseControllers","phaseMeta","arePhasesComplete","progressPhase","phaseDeltaTime","skipPhase","completeCount","controller","skipAll","dispatchStopped","stopByAnimationGroupId","BaseManager","listenerSymbol","buildConsumable","builtEvent","consumed","Event","preventDefault","buildConsumptionHandler","dispatchTypedConsumable","POINTER_INTERACTION_TYPES","FOCUS_INTERACTION_TYPES","KEY_INTERACTION_TYPES","WINDOW_EVENT_HANDLERS","EVENT_HANDLERS","CSS","InteractionState","InteractionState2","_InteractionManager","keyboardOptions","eventHandler","processEvent","mouseDown","touchDown","clickHistory","dblclickHistory","stateQueue","rootElement","passive","triggeringStates","currentState","getState","pushState","popState","decideInteractionEventTypes","dispatchEvent","dispatchPointerEvent","coords","calculateCoordinates","buildPointerEvent","recordDown","MouseEvent","dragStartElement","recordUp","dragStart","isEventOverElement","mouseButtonDown","buttons","parentElement","getMouseEventCoords","TouchEvent","lastTouch","touches","changedTouches","clientX","clientY","pageX","pageY","NULL_COORDS","PageTransitionEvent","persisted","offsets","offsetLeft","offsetTop","offsetParent","offsetDragStart","offsetEvent","isWheelEvent","getBoundingClientRect","pageRect","deltaX","deltaY","factor","deltaMode","pointerHistory","InteractionManager","validAnimationDuration","testee","AnimationManager","interactionManager","chartUpdateMutex","batch","rafAvailable","requestId","failsafeOnError","random","forceTimeJump","requestAnimation","cancelAnimation","skipCurrentBatch","stack","isSkippingFrames","scheduleAnimationFrame","_animation","_defaultDuration","prevTime","onAnimationFrame","executeAnimationFrame","controllersCount","deltaMs","cancelAnimationFrame","startBatch","endBatch","onBatchStop","AriaAnnouncementService","_AriaAnnouncementService","liveElem","createAnnouncer","announceValue","textContent","ChartEventManager","legendItemClick","itemId","legendItemName","legendItemDoubleClick","numVisibleItems","ContextMenuRegistry","defaultActions","disabledActions","copyDefaultActions","registerDefaultAction","enableAction","actionId","disableAction","isDisabled","StateTracker","defaultState","stateId","stateValue","CursorManager","stateTracker","updateCursor","callerId","cursor","getCursor","finger1","finger2","distance","MIN_DISTANCE_TO_START_PINCH","GestureDetector","touchstart","onTouchStart","touchmove","onTouchMove","touchend","onTouchEnd","touchcancel","onTouchCancel","pinch","origin","findPinchTouches","moveEvent","copyTouchData","dispatchPinchEvent","deltaDistance","newEvent","stopPinchTracking","pinchTouches","touch1","touch2","newDistance","HighlightManager","highlightStates","pickedStates","updateHighlight","highlightedDatum","activeHighlight","previousHighlight","currentHighlight","getActiveHighlight","updatePicked","clickableDatum","activePicked","getActivePicked","KeyNavManager","hasBrowserFocus","isMouseBlurred","isClicking","onClickStart","onClickStop","mouseBlur","onBlur","onFocus","onKeyDown","code","shiftKey","interactionEvent","focusStyles_exports","block","css","modifiers","wrapper","indicator","REGION_TAB_ORDERING","RegionListeners","RegionManager","keyNavManager","currentTabIndex","isDragging","leftCanvas","regions","eventName","processPointerEvent","onNav","onTab","focusWrapper","focusIndicator","block3","modifiers3","currentRegion","makeObserver","addRegion","bboxprovider","extraProviders","matches","_name","provider","ObservableRegionImplementation","checkPointerHistory","targetRegion","historyEvent","historyRegion","pickRegion","handleDragging","newRegion","matchingRegions","getTabRegion","tabIndex","dispatchTabStart","startEvent","focusedRegion","getNextInteractableTabIndex","currentIndex","validateCurrentTabIndex","newIndex","newTabIndex","blurEvent","updateFocusIndicatorRect","updateFocusWrapperRect","ToolbarManager","isGroup","pressButton","toggleGroup","toggleButton","proxyGroupOptions","defaultTooltipCss","TooltipManager","appliedState","IntersectionObserver","observer","intersectionRatio","applyStates","getTooltipMeta","renderInstantly","makeTooltipMeta","interaction","refPoint","yBar","upperPoint","midPoint","datumMidPoint","contentGroup","LayoutService","layoutComplete","isLayoutStage","isLayoutComplete","dispatchPerformLayout","stage","dispatchLayoutComplete","SeriesStateManager","registerSeries","grouping","deregisterSeries","getVisiblePeerGroupIndex","visibleGroupCount","visibleSameStackCount","visibleGroupsSet","visibleSameStackSet","visibleGroups","ChartUpdateType","ChartUpdateType2","UpdateService","dispatchUpdateComplete","rects","minVisibleRect","ChartContext","vars","scene","syncManager","updateMutex","chartService","zoomManager","annotationManager","ariaAnnouncementService","contextMenuRegistry","cursorManager","highlightManager","toolbarManager","gestureDetector","seriesStateManager","dataService","ChartHighlight","DiscreteDomain","_DiscreteDomain","ContinuousDomain","_ContinuousDomain","extendDomain","toKeyString","round2","accuracy","isInteger","fixNumericExtentInternal","fixNumericExtent","fixedExtent","paddingMin","paddingMax","getMissCount","scopeProvider","missMap","INVALID_VALUE","DataModel","scopeCache","aggregates","groupProcessors","propertyProcessors","reducers","processors","verifyMatchGroupId","matchGroupIds","matchGroupId","missing","resolveProcessedDataDefById","scope","searchId","resolveProcessedDataIndexById","resolveProcessedDataDefsByIds","searchIds","resolveProcessedDataDefsValues","defs","processedData","getDomainsByType","aggValues","processData","groupByKeys","groupByFn","extractData","groupData","postProcessGroups","aggregateData","postProcessProperties","reduceData","postProcessData","missCount","scopeHint","logProcessedData","idsMap","ids","valueGroupIdxLookup","valueIdxLookup","scopes","noScopesToMatch","propId","hasMatchingScopeId","validDefScopes","processValue","allScopesHaveSameDefs","initDataDomainProcessor","sourcesById","keyDefs","valueDefs","resultData","resultDataIdx","partialValidDataCount","datumIdx","sourceDatums","validScopes","keyIdx","valueDefIdx","valueDatum","includeProperty","propertyDomain","defDomain","groupingFn","dataEntry","groupStr","existingData","resultGroups","dataIndex","isUngrouped","indices","groupAggValues","groupAggregateFunction","distinctValues","valuesToAgg","valueIdx","valuesAgg","aggregateFunction","finalValues","finalFunction","affectedIndices","updatedDomains","groupProcessorIndices","groupProcessorInitFns","processor","adjust","valueDef","isDiscrete","valueType","updateDomains","valueIndex","valueIndexes","adjustFn","reduced","reducer","accValue","initialValue","calculate","processorFns","initDataDomain","accessors","buildAccessors","valueInDatum","missingValue","forceValue","valueNegative","missingValueDef","validation","invalidValue","isPath","fnBody","logValues","flattenedValues","skipKeys","skipAggValues","_DataController","requested","request","execute","validateRequests","merged","mergeRequested","needsValueExtraction","hasMultipleDataSources","resolves","dataModel","requestIdx","processScopedData","splitResult","validRequests","restRequests","extractDatum","extracted","otherId","extractValues","groupByData","groupMatch","mergeRequests","requests","_c2","createIdsMap","existing","deepEqual","mergeIdsMap","fromMap","toMap","DataController","_SyncManager","subscribe","DEFAULT_GROUP","syncGroup","chartsGroups","unsubscribe","getChart","getGroup","getGroupSiblings","SyncManager","ZoomManager","axisZoomManagers","rejectCallbacks","updateAxes","zoomManagers","AxisZoomManager","updateZoom","newZoom","canChangeInitial","rejectCallback","getDirection","applyChanges","updateAxisZoom","fireZoomPanStartEvent","getZoom","getAxisZoom","getAxisZooms","zoom","currentZoom","prevZoom","Keyboard","makeKeyboardPointerEvent","pick","showFocusBox","CARTESIAN_AXIS_POSITIONS","CARTESIAN_AXIS_TYPES","hasCartesianAxisPosition","allowedTypes","isCartesianAxisOptions","isAxisPosition","allowedPositions","AxisPositionGuesser","guessInvalidPositions","takenPosition","guesses","invalidAxis","nextGuess","MATCHING_KEYS","matchSeriesOptions","optSeries","oldOptsSeries","generateKey","optsMap","overlap","oldKeys","newKeys","changes","targetIdx","optArray","seriesArray","outputSeries","outputIdx","previousOpts","diff","ModulesManager","applyOptions","legends","DEFAULT_OVERLAY_CLASS","DEFAULT_OVERLAY_DARK_CLASS","Overlay","defaultText","getText","getElement","focusBox","renderer","htmlContent","replaceChildren","alignItems","justifyContent","boxSizing","margin","innerText","removeElement","ChartOverlays","getFocusInfo","overlay","defaultOverlayCss","getLoadingSpinner","flexDirection","userSelect","backgroundImage","backgroundSize","backgroundRepeat","marginTop","inset","animationStyles","sumValues","accumulator","sum","groupSum","range2","groupAverage","area","aggFn","keyRange","keyWidth","accumulatedValue","onlyPositive","trailingAccumulatedValue","trailingValue","SMALLEST_KEY_INTERVAL","prevX","smallestSoFar","nextX","SORT_DOMAIN_GROUPS","normaliseFnBuilder","normaliseTo","normalise","valuesExtent","valIdx","normaliseGroupTo","normalisePropertyFnBuilder","zeroDomain","rangeMin","rangeMax","normaliseSpan","pData","pIdx","groupValues","normalisePropertyTo","animationValidation","valueKeyIds","uniqueKeys","orderedKeys","valueKeys","processKey","keyValues","keyValue","buildGroupAccFn","separateNegative","currentVal","accIndex","buildGroupWindowAccFn","lastValues","firstRow","sumValue","accumulateGroup","modeParam","endsWith","previousData","updateMovedData","moved","prevId","createDatumId","extraKeys","primitiveType","SeriesNodePickMode","SeriesNodePickMode2","basicContinuousCheckDatumValidation","basicDiscreteCheckDatumValidation","getValidationFn","scaleType","getValueType","keyProperty","propName","valueProperty","rangedValueProperty","defOpts","accumulativeValueProperty","trailingAccumulatedValueProperty","groupAccumulativeValueProperty","rangeId","SeriesNodeEvent","seriesId","SeriesGroupingChangedEvent","oldGrouping","Series","seriesOpts","NodeEvent","internalId","rootGroup","directions","nodeDataRefresh","_declarationOrder","seriesListeners","pickModes","directionKeys","directionNames","contentGroupVirtual","canHaveAxes","getGroupZIndexSubOrder","highlightGroup","highlightNode","highlightLabel","annotationGroup","_data","_chartData","visibleChanged","hasData","tooltipEnabled","onDataChange","setOptionsData","setChartData","onSeriesGroupingChange","subIndex","mainAdjust","main","addChartEventListeners","getDirectionValues","resolvedDirection","resolveKeyDirection","addValues","items","seriesDomain","getSeriesDomain","moduleDomains","flat","markNodeDataDirty","getOpacity","defaultOpacity","isItemIdHighlighted","getStrokeWidth","defaultStrokeWidth","getModuleTooltipParams","getTooltipParams","current","limitPickModes","pickMode","pickNodeExactShape","pickNodeMainAxisFirst","pickNodeClosestDatum","_point","pickNodeNearestDistantObject","_requireCategoryAxis","fireNodeClickEvent","fireNodeDoubleClickEvent","createNodeContextMenuActionEvent","toggleSeriesItem","getLabelText","defaultFormatter","getMarkerStyle","defaultStyle","getStyle","defaultSize","markerStyle","updateMarkerStyle","markerNode","applyTranslation","dirtyPath","updatePath","checkPathDirty","getMinRects","_width","_height","nodeDataDependencies","_nodeDataDependencies","seriesRectWidth","seriesRectHeight","checkResize","newSeriesRect","newNodeDataDependencies","pickFocus","highlightedZIndex","newVal","oldVal","SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION","SeriesLayerManager","seriesRoot","highlightRoot","expectedSeriesCount","setSeriesCount","requestGroup","seriesConfig","seriesRootGroup","seriesHighlightGroup","seriesAnnotationGroup","lookupIndex","lookupIdx","groupInfo","seriesIds","highlight","annotation","layerState","changeGroup","releaseGroup","leadSeriesConfig","BaseLayoutProcessor","chartLike","positionPadding","shrinkRect","positionCaptions","newShrinkRect","updateCaption","defaultCaptionHeight","captionLineHeight","computeX","positionTopAndShrinkBBox","baseY","bboxHeight","positionBottomAndShrinkBBox","DataWindowProcessor","dirtyZoom","dirtyDataSource","lastAxisZooms","onDataSourceChange","onDataLoad","onDataError","onUpdateComplete","onZoomChange","updateWindow","getValidAxis","shouldRefresh","zoom2","getAxisWindow","windowStart","windowEnd","lastZoom","OverlaysProcessor","onLayoutComplete","anySeriesVisible","toggleOverlay","seriesRect","SeriesArea","_Chart","resources","_firstAutoSize","seriesArea","destroyed","_skipSync","_destroyFns","chartAnimationPhase","modulesManager","queuedUserOptions","_pendingFactoryUpdatesCount","_performUpdateNoRenderCount","_performUpdateSkipAnimations","performUpdateType","updateShortcutCount","seriesToUpdate","updateRequestors","performUpdateTrigger","_0","performUpdate","_performUpdateSplits","focus","hasFocus","seriesIndex","datumIndex","pointerScheduler","lastInteractionEvent","handlePointer","onSeriesNodeClick","seriesNodeClickEvent","onSeriesNodeDoubleClick","seriesNodeDoubleClick","seriesGroupingChanged","seriesLayerManager","dataProcessListeners","chartOptions","axisGridGroup","sizeMonitor","rawResize","overrideDevicePixelRatio","autoSize","All","getModuleContext","seriesRegion","onClick","onDoubleClick","onMouseMove","onLeave","onNavVert","onNavHori","onSubmit","onBrowserFocus","onContextMenu","onAnimationStart","changeHighlightDatum","resetPointer","forceNodeDataRefresh","getInstance","chartsInstances","getCanvasDataURL","onAutoSizeChange","_lastAutoSize","getAriaLabel","captionText","nSeries","resetAnimations","animationRect","keepTransferableResources","destroySeries","highlightOnly","requestFactoryUpdate","newAnimationBatch","skipSync","backOffMs","previousSplit","updateSplits","splitName","updateDeferred","updateDOM","updateData","checkUpdateShortcut","checkFirstAutoSize","processLayout","tooltipMeta","durationMs","updateThemeClassName","themeClassNamePrefix","validThemeClassNames","themeClassName","isDark","checkUpdateType","maxShortcuts","onAxisChange","onSeriesChange","seriesToDestroy","isMiniChart","addSeriesListeners","updateAllSeriesListeners","assignSeriesToAxes","seriesAxis","assignAxesToSeries","directionToAxesMap","directionAxes","newAxis","autoWidth","authHeight","modulePromises","syncModule","syncAxes","dataController","seriesPromises","getLegendData","getLabelData","warnConflicts","legendData","isCategoryLegendData","seriesMarkerFills","seriesTypeMap","markerFill","oldRect","performLayout","pickSeriesNode","exactMatchOnly","maxDistance","reverseSeries","handleFocus","Default2","ContextMenu","checkSeriesNodeRange","datumIndexDelta","overlayFocus","handleSeriesFocus","keyboardEvent","getTooltipHtml","isHoverEvent","redisplay","lastPick","hoverRect","disablePointer","handlePointerTooltip","handlePointerNode","pixelRange","isNewDatum","isPixelRange","exactlyMatched","rangeMatched","shouldUpdateTooltip","found","checkSeriesNodeClick","checkSeriesNodeDoubleClick","nearestNode","pickedNode","allMatch","pastEvent","historyPoint","historyNode","newSeries","lastSeries","lastDatum","updateAll","waitForUpdate","timeoutMs","failOnTimeout","waitForDataProcess","timeout","minRects","maxVisibleWidth","maxVisibleHeight","minRect2","minVisibleRect2","filterMiniChartSeries","showInMiniChart","oldOpts","deltaOptions","completeOptions","modulesChanged","applyModules","registerListeners","seriesStatus","applySeries","applyAxes","navigatorModule","zoomModule","applyMiniChartOptions","annotationThemes","shouldForceNodeDataRefresh","majorChange","updateType","maybeResetAnimations","seriesDataUpdate","legendKeys","optionsHaveLegend","legendKey","otherRefreshUpdate","oldSeries","miniChartSeriesStatus","horizontalAxis","miniChartOpts","labelOptions","intervalOptions","isConfigured","shouldBeEnabled","attachLegend","oldOptSeries","matchResult","createSeries","seriesInstances","dataChanged","groupingChanged","isUpdated","applySeriesValues","forceRecreate","matchingTypes","axisDiff","createAxis","seriesInstance","applySeriesOptionModules","moduleDef","moduleOptions","guesser","applyAxisModules","Chart","linearRoot","quadraticRoots","D","roots","t2","cubicRoots","R","third","T","Im","theta","acos","thirdA","twoSqrtQ","t3","segmentIntersection","ax1","ay1","ax2","ay2","bx1","by1","bx2","by2","ua","ub","cubicSegmentIntersections","px1","py1","px2","py2","px3","py3","px4","py4","intersections","bx","bezierCoefficients","by","tt","ttt","P1","P2","P3","P4","arcIntersections","i1x","i2x","isXInsideLine","adjacent","opposite","ExtendedPath2D","path2d","Path2D","previousCommands","previousParams","previousClosedPath","commands","openedPath","closedPath","getPath2D","roundRect","radii","arc","sAngle","eAngle","cubicCurveTo","cx1","cy1","cx2","cy2","bezierCurveTo","trackChanges","cn","ox","oy","intersectionCount","ci","pi","nx","ny","getPoints","ScenePathChangeDetection","Path","_clipX","_clipY","clipX","clipY","_clipPath","isDirtyPath","clipMode","drawPath","QuadtreeNearest","capacity","maxdepth","boundary","QuadtreeNodeNearest","addValue","hitTester","elem","addElem","arg","QuadtreeSubdivisions","nw","ne","sw","se","QuadtreeNode","elems","subdivisions","addCondition","subdivide","findCondition","findAction","newElem","makeSubdivisions","halfWidth","halfHeight","nwBoundary","neBoundary","swBoundary","seBoundary","_QuadtreeNodeNearest","Marker","applyPath","moves","mx","my","translate","Circle","_Cross","Cross","_Diamond","Diamond","Heart","rad","degree","Pin","_Plus","Plus","Square","hs","Star","spikes","innerRadius","xCoordinate","yCoordinate","_Triangle","Triangle","MARKER_SHAPES","circle","cross","diamond","heart","pin","plus","square","star","triangle","MARKER_SUPPORTED_SHAPES","isMarkerShape","getMarker","DataModelSeries","getScaleInformation","xScale","yScale","isContinuousX","isContinuousY","xScaleType","yScaleType","getModulePropertyDefinitions","mod2","getPropertyDefinitions","requestDataModel","isProcessedDataAnimatable","validationResults","checkProcessedDataAnimatable","doPickFocus","derivedSeries","nodeData","getNodeData","computeFocusDatumIndex","seriesItemEnabled","computeFocusBounds","isDatumEnabled","datumIndex2","nodeDatum","searchBackward","searchForward","clampedIndex","SeriesItemHighlightStyle","SeriesHighlightStyle","TextHighlightStyle","HighlightStyle","SeriesProperties","DEFAULT_CARTESIAN_DIRECTION_KEYS","DEFAULT_CARTESIAN_DIRECTION_NAMES","CartesianSeriesNodeEvent","nativeEvent","yKey","CartesianSeriesProperties","CartesianSeries","pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","otherOpts","dataNodeGroup","markerGroup","highlightSelection","markerFactory","highlightLabelSelection","annotationSelections","minRectsCache","dirtyNodeData","datumSelection","markerSelection","animateEmptyUpdateReady","disable","animateReadyHighlight","highlightMarkers","animateReadyHighlightMarkers","animateReadyResize","waiting","animateWaitingUpdateReady","disabled","resetAllAnimation","clearing","animateClearingUpdateEmpty","contextNodeData","_contextNodeData","onLegendItemClick","onLegendItemDoubleClick","previousContextData","seriesHighlighted","highlightItems","updateHighlightSelection","animationData","getAnimationData","anySeriesItemEnabled","animationSkipUpdate","isPathOrSelectionDirty","markQuadtreeDirty","animationValid","updateSeriesSelections","contextData","updatePaths","updateDatumSelection","updateLabelSelection","updateMarkerSelection","MarkerShape","superFn","pathOffset","highlightedItems","animationEnabled","updateMarkerNodes","isHighlight","updateDatumNodes","updateLabelNodes","updatePathNodes","getHighlightLabelData","highlightedItem","labelItems","ld","getHighlightData","_nodeData","labelsEnabled","isLabelEnabled","updateHighlightSelectionItem","updateHighlightSelectionLabel","quadtree","datumNodesIter","getQuadTree","initQuadTree","_quadtree","pickNodeExact","xAxis","yAxis","hitPoint","closestDatum","datumX","datumY","modPick","pickNodeNearest","requireCategoryAxis","directions2","primaryDirection","hitPointCoords","datumPoint","newMinDistance","dist","closestDistanceSquared","matchedLegendItemName","shouldFlipXY","sizeCache","newSizeCache","dirtySize","computeMinRects","minRectXs","minRectYs","zeroX","widthX","zeroY","heightY","minVisibleRectXs","minVisibleRectYs","animationTransitionClear","calculateScaling","_CartesianChart","paired","firstSeriesTranslation","_lastCrossLineIds","_lastAxisWidths","_lastClipSeries","_lastVisibility","visibility","clipSeries","seriesPaddedRect","paddedRect","performCartesianLayout","inputShrinkRect","crossLineIds","axesValid","axisWidths","liveAxisWidths","stableOutputs","otherAxisWidths","otherClipSeries","otherVisibility","otherW","ceilValues","records","lastPassAxisWidths","lastPassVisibility","lastPassClipSeries","primaryTickCounts","updateAxesPass","clipRectPadding","lastPassSeriesRect","visited","newAxisWidths","paddedBounds","applySeriesPadding","crossLinePadding","buildCrossLinePadding","axisBound","buildAxisBound","buildSeriesRect","newClipSeries","axisThickness","axisOffset","calculateAxisDimensions","addInterAxisPadding","positionAxis","side","reversedAxes","dir","horizontalPadding","verticalPadding","totalWidth","clampToOutsideSeriesRect","dimension","clampBounds","compareTo","clampFn","isCategory","isLeftRight","isVertical","paddedBoundsCoefficient","axisPadding","CartesianChart","_AgChartInstanceProxy","isInstance","validateImplementation","chartProps","signatureProps","chartInstances","AgChartInstanceProxy","LinearScale","getTickStep","prev0","prev1","specifiedTicks","calculateNiceSecondaryAxis","calculateNiceStart","segments","order","magnitude","stepPower","calculateNextNiceStep","NumberAxisTick","NumberAxis","NON_ZERO_NUMBER","LogAxis","isInverted","crossesZero","hasZeroExtent","invalidDomain","TimeAxisTick","TimeAxis","epsilon","cornerEdges","leadingEdge","trailingEdge","leadingInset","trailingInset","cornerRadius","leadingClipped","trailingClipped","leading0","leading1","trailing0","trailing1","drawCorner","move","insetCornerRadiusRect","cornerRadii","topLeftCornerRadius","topRightCornerRadius","bottomRightCornerRadius","bottomLeftCornerRadius","maxVerticalCornerRadius","maxHorizontalCornerRadius","borderScale","drawTopLeftCorner","drawTopRightCorner","drawBottomRightCorner","drawBottomLeftCorner","topLeftCorner","topRightCorner","bottomRightCorner","bottomLeftCorner","didMove","Rect","borderPath","crisp","lastUpdatePathStrokeWidth","effectiveStrokeWidth","hittester","distanceCalculator","microPixelEffectOpacity","pixelSize","lx","borderClipPath","ly","halfStrokeWidth","adjustedClipBBox","hitX","hitY","Background","rectNode","BackgroundModule","gridLayout","orientation","bboxes","itemPaddingY","itemPaddingX","forceResult","horizontal","primary","secondary","processedBBoxCount","rawPages","unprocessedBBoxes","processBBoxes","pageIndices","buildPages","indexOffset","minGuess","startingGuess","estimateStartingGuess","guess","calculatePage","primaryCount","sumSecondary","currentMaxSecondary","currentPrimaryIndices","maxPrimaryValues","bboxIndex","primaryValueIdx","primaryValue","currentSecondaryDimension","returnResult","sumPrimary","maxPageWidth","maxPageHeight","pages","transpose","endIndex","columns","colIndices","colBBoxes","columnHeight","columnWidth","pageWidth","pageHeight","column","startIndex","innerData","dataIdx","itemIdx","primarySum","MarkerLabel","_marker","_markerSize","_spacing","markerSize","setSeriesStrokeOffset","xOff","lineEnd","markerEnd","PaginationLabel","PaginationMarkerStyle","PaginationMarker","onMarkerShapeChange","Pagination","chartUpdateCallback","pageUpdateCallback","labelNode","totalPages","currentPage","nextButtonDisabled","previousButtonDisabled","_visible","_enabled","_orientation","_nextButton","_previousButton","nextButton","previousButton","onPaginationClick","onPaginationMouseMove","updateMarkers","updateGroupVisibility","updatePositions","enableOrDisableButtons","updateLabelPosition","updateNextButtonPosition","markerPadding","labelBBox","highlightActive","buttonStyle","button","updateMarker","zeroPagesToDisplay","onLastPage","onFirstPage","nextButtonContainsPoint","previousButtonContainsPoint","clickNext","incrementPage","onPaginationChanged","clickPrevious","decrementPage","setPage","pageNumber","Marker2","attachPagination","LegendLabel","LegendMarker","LegendLine","LegendItem","showSeriesStroke","LegendListeners","Legend","itemSelection","oldSize","maxPageSize","paginationTrackingIndex","truncatedItems","characterWidths","page","updatePageNumber","checkLegendClick","checkLegendDoubleClick","handleLegendMouseMove","handleLegendMouseExit","handleLegendMouseEnter","onTabStart","positionLegend","detachLegend","getOrientation","getCharacterWidths","cw","getItemLabel","calcLayout","markerShape","itemLine","itemMaxWidthPercentage","maxItemWidth","paddedMarkerWidth","markerLabel","markerEnabled","labelText","truncate","lineVisible","markerVisible","updatePagination","maxCharLength","ellipsis2","textChars","addEllipsis","labelWidth","truncatedText","cumulativeWidth","char","trackingIndex","paginationBBox","paginationVertical","calculatePagination","newCurrentPage","paginationComponentPadding","legendItemsWidth","legendItemsHeight","paginationX","paginationY","lastPassPaginationBBox","stableOutput","getPageItemCount","col","getNodeIndexFromFocusIndex","itemCount","visibleStart","visibleEnd","columnCount","rowCount","itemHeight","rowSumColumnWidths","pageIndex","columnIndex","rowIndex","itemMarker","markerStroke","markerStrokeWidth","markerFillOpacity","markerStrokeOpacity","lineStroke","lineStrokeOpacity","lineStrokeWidth","lineLineDash","getDatumForPoint","visibleChildBBoxes","closestLeftTop","childBBox","distX","distY","toTheLeftTop","pageBBox","computePagedBBox","actualBBox","doClick","preventHidingAll","newEnabled","clickedItem","doHover","doMouseExit","clickListener","dblclickListener","updateFocus","consumeTabStart","newMode","pageItemCount","getFocusedItem","maybeChangeFocusPage","oldPage","oldPageItemCount","legendWidth","legendHeight","calculateLegendDimensions","legendBBox","calculateTranslationPerpendicularDimension","legendPadding","legendPositionedBBox","aspectRatio","maxCoefficient","minHeightCoefficient","minWidthCoefficient","heightCoefficient","widthCoefficient","CommunityLegendModule","RangeHandle","_fill","_stroke","_strokeWidth","_lineCap","_centerX","_centerY","_gripLineGap","_gripLineLength","gripLineGap","gripLineLength","minHandle","maxHandle","handlePixelAlign","minHandleX","maxHandleX","handleY","RangeMask","computeVisibleRangeBBox","maxX","pixelAlign","ax","ay","axw","ayh","RangeSelector","lOffset","rOffset","updateBackground","oldGroup","newGroup","Navigator","mask","rangeSelector","_min","_max","minRange","dragStates","onHover","onDragStart","onDrag","onDragEnd","navigatorTotalHeight","layoutNodes","dragging","panStart","warnOnConflict","NavigatorModule","singleSeriesPaletteFactory","markerPaletteFactory","pathMotion","addPhaseFn","updatePhaseFn","removePhaseFn","updateFn","preInit","sanitizeHtml","seriesLabelFadeInAnimation","labelSelections","seriesLabelFadeOutAnimation","resetLabelFn","ChangeDetectableProperties","DropShadow","MARKER_SHAPE","SeriesMarker","getDiameter","SeriesTooltipInteraction","SeriesTooltip","AreaSeriesProperties","xName","shadow","connectMissingData","markerFadeInAnimation","markerSelections","markerScaleInAnimation","markerSwipeScaleInAnimation","seriesWidth","resetMarkerFn","resetMarkerPositionFn","prepareMarkerAnimation","pairMap","parentStatus","readFirstPair","xValue","markerStatus","computeMarkerFocusBounds","getFormattedMarkerStyle","minMax","intersectionOnLine","targetX","backfillPathPoint","process","processFn","prevMarkerIdx","nextMarkerIdx","toProcess","backfillPathPointData","splitMode","sIdx","eIdx","calculatePoint","xd","yd","xr","yr","renderPartialPath","pairData","ratios","linePath","previousTo","moveToRatio","midPointX","midPointY","pathSwipeInAnimation","pathFadeInAnimation","pathFadeOutAnimation","buildResetPathFn","clipScalingX","updateClipPath","toFinite","isContinuousScaling","scaling","isCategoryScaling","areEqual","areScalingEqual","domainRatio","matchingIndex","scalesChanged","newData","oldData","scales","closeMatch","an","bn","calculateMoveTo","pairContinuousData","backfillSplitMode","toNewScale","oldDatum","yValue","toOldScale","resultMap","pairUp","resultPoint","oldIdx","newIdx","minFromNode","maxFromNode","minToNode","maxToNode","fromShifted","toUnshifted","NA","pairCategoryData","multiDatum","resultMapSingle","resultMapMulti","pointResultMapping","in","out","previousResultPoint","previousXValue","addToResultMap","newPoint","oldIndex","isXUnordered","before","after","bXValue","aXValue","previousX","pathPoint","unordered","determinePathStatus","prepareLinePathPropertyAnimation","visibleToggleMode","_path","mixin","prepareLinePathAnimationFns","pathProperties","prepareLinePathAnimation","isCategoryBased","wasCategoryBased","hasMotion","pathFns","AreaSeriesTag","AreaSeriesTag2","splitFillPoints","points","phantomPoints","fillData","prepPoints","pairFillCategoryData","oldPoints","newPoints","pairOpts","pairFillContinuousData","prepareAreaPathAnimation","prepareMarkerPairs","prepareFillPairs","markerPairMap","stackVisible","fadeMode","AreaSeries","normalizedTo","extraProps","keyDef","yExtent","fixedYExtent","groupedData","seriesFill","seriesStroke","createMovePoint","plainPoint","createPathCoordinates","lastYEnd","prevYCoordinate","currYCoordinate","createMarkerCoordinate","xDatum","rawYDatum","currY","markerData","strokeData","fillPoints","fillPhantomPoints","strokePoints","lastXDatum","lastYDatum","datumGroup","datumArray","valuesArray","seriesDatum","dataValues","yValueRaw","yDatum","yValueCumulative","yValueStart","yValueEnd","yValuePreviousStart","yValuePreviousEnd","validPoint","cumulativeValue","yName","xValid","yValid","prevTop","prevBottom","updateAreaPaths","updateFillPath","updateStrokePath","fillPath","lastPoint","strokePath","highlighted","baseStyle","labelEnabled","xString","yString","useAreaFill","AreaSeriesModule","__extends__","childrenIter","addHitTestersToQuadtree","hitTesters","findQuadtreeMatch","AbstractBarSeriesProperties","AbstractBarSeries","groupScale","smallestDataInterval","getBarDirection","getCategoryDirection","getValueAxis","getCategoryAxis","updateGroupScale","xBandWidth","barWidth","BarSeriesLabel","BarSeriesProperties","updateRect","getRectConfig","isHighlighted","checkCrisp","visibleMin","visibleMax","isZoomed","isDatumNegative","collapsedStartingBarPosition","startingX","startingY","getStartingValues","prevDatum","midpointStartingBarPosition","prepareBarAnimationFunctions","initPos","isRemoved","resetBarSelectionsFn","computeBarFocusBounds","barGroup","updateLabelNode","textNode","adjustLabelPlacement","BarSeries","stackGroupName","stackGroupTrailingName","visibleProps","smallestKeyInterval","categoryAxis","valueAxis","scalePadding","keysExtent","yReversed","barOffset","xIndex","yRawIndex","yStartIndex","yEndIndex","yRangeIndex","prevY","yRawValue","isUpward","yRange","barX","bottomY","barAlongX","bboxBottom","barRect","labelFontStyle","labelFontWeight","labelFontSize","labelFontFamily","lengthRatioMultiplier","capDefaults","lengthMax","itemHighlightStyle","categoryAlongX","dataDiff","datumBox","BarSeriesModule","errorBar","cap","lengthRatio","convertColorStringToOklcha","interpolateOklch","xH","yH","deltaH","ColorScale","parsedRange","BubbleSeriesMarker","maxSize","BubbleSeriesLabel","BubbleSeriesProperties","colorRange","BubbleSeriesNodeEvent","sizeKey","BubbleSeries","sizeScale","colorScale","colorScaleType","sizeScaleType","labelKey","colorDomain","colorKey","sizeKeyIdx","processedSize","colorKeyIdx","dataDef","sizeName","labelName","xDataIdx","yDataIdx","sizeDataIdx","colorDataIdx","labelDataIdx","sizeValue","placedLabels","BubbleSeriesModule","HistogramSeriesProperties","areaPlot","aggregation","defaultBinCount","HistogramSeries","calculatedBins","deriveBins","xDomain","binStarts","binSize","firstBinEnd","expandStartToBin","calculateNiceBins","binCount","startGuess","getBins","bins","calculatePrecision","aggProp","dataSet","xExtent","nextBin","yDomain","xDomainMin","xDomainMax","negativeAgg","positiveAgg","frequency","xMinPx","xMaxPx","yZeroPx","yMaxPx","selectionDatumLabel","nodeMidPoint","yAxisReversed","aggregatedValue","isDatumHighlighted","seriesFillOpacity","highlightedFill","highlightFillOpacity","highlightedStroke","highlightedDatumStrokeWidth","HistogramSeriesModule","LineSeriesProperties","LineSeries","xDef","xIdx","yIdx","nextPoint","_j","color0","updateLinePaths","LineSeriesModule","ScatterSeriesLabel","ScatterSeriesProperties","ScatterSeries","ScatterSeriesModule","SectorBox","_SectorBox","outerRadius","isPointInSector","sector","lineCollidesSector","outerStart","outerEnd","innerStart","innerEnd","boxCollidesSector","radiiScalingFactor","sweep","fs1","fs","clockwiseAngle","relativeToStartAngle","clockwiseAngles","fullPie","sweepAngle","arcRadialLineIntersectionAngle","clipAngle","sinA","cosA","p0x","p0y","p1x","p1y","tanA","cotA","normalisedX","normalisedY","p0DotNormalized","p1DotNormalized","arcCircleIntersectionAngle","circleR","deltaTheta","Arc","pointAt","clipStart","clipEnd","Sector","clipSector","concentricEdgeInset","radialEdgeInset","startOuterCornerRadius","endOuterCornerRadius","startInnerCornerRadius","endInnerCornerRadius","normalizedRadii","normalizedClipSector","clipAngles","getAngleOffset","angleSweep","outerArc","innerArc","innerAngleOffset","outerAngleOffset","circleClipStart","circleClipEnd","theta2","radialArc","outerAngleExceeded","hasInnerSweep","innerAngleExceeded","radialLength","maxRadialLength","initialScalingFactor","outerScalingFactor","innerScalingFactor","maxCombinedRadialLength","edgesScalingFactor","startOuterCornerRadiusAngleSweep","endOuterCornerRadiusAngleSweep","startOuterCornerRadiusSweep","endOuterCornerRadiusSweep","maxStartOuterCornerRadius","maxEndOuterCornerRadius","startInnerCornerRadiusAngleSweep","endInnerCornerRadiusAngleSweep","outerArcRadius","outerArcRadiusOffset","innerArcRadius","innerArcRadiusOffset","startOuterArc","endOuterArc","endInnerArc","startInnerArc","midAngle","DonutTitle","DonutInnerLabel","_reset","DonutInnerCircle","DonutSeriesCalloutLabel","minAngle","maxCollisionOffset","DonutSeriesSectorLabel","positionOffset","positionRatio","DonutSeriesCalloutLine","DonutSeriesProperties","outerRadiusOffset","outerRadiusRatio","sectorSpacing","innerCircle","calloutLabel","sectorLabel","calloutLine","__BACKGROUND_COLOR_DO_NOT_USE","superIsValid","innerRadiusRatio","innerRadiusOffset","preparePieSeriesAnimationFunctions","initialLoad","rotationDegrees","scaleFn","oldScaleFn","oldScale","scaleToNewRadius","scaleToOldRadius","sect","sectorFormat","_sect","innerCircleFromFn","innerCircleToFn","resetPieSelectionsFn","pickByMatchingAngle","sectors","getItemNodes","computeSectorFocusBounds","pointVars","rightAngles","rightAngle","xs","ys","PolarSeries","useLabelLayer","itemGroup","computeLabelsBBox","_options","_seriesRect","DonutSeriesNodeEvent","angleKey","radiusKey","calloutLabelKey","sectorLabelKey","DonutSeries","previousRadiusScale","radiusScale","backgroundGroup","zerosumRingsGroup","zerosumOuterRing","zerosumInnerRing","innerCircleGroup","surroundingRadius","angleScale","pieCalloutLabels","pieSectorLabels","calloutLabelSelection","sectorLabelSelection","innerLabelsSelection","innerCircleSelection","legendItemKey","extraKeyProps","radiusScaleType","angleScaleType","radiusMin","radiusMax","maybeRefreshNodeData","getProcessedDataIndexes","angleIdx","radiusIdx","calloutLabelIdx","sectorLabelIdx","legendItemIdx","currentStart","angleValue","radiusValue","legendItemValue","getLabels","getSectorFormat","midCos","midSin","skipDisabled","calloutLabelValue","sectorLabelValue","labelFormatterParams","angleName","radiusName","calloutLabelName","sectorLabelName","getTextAlignment","collisionTextAlign","collisionOffsetY","legendItem","quadrantTextOpts","midAngle180","quadrantStart","quadrantOffset","quadrant","quadrantIndex","formatIndex","defaultStroke","getInnerRadius","getOuterRadius","updateRadiusScale","newRange","getTitleTranslationY","titleOffset","updateTitleNodes","bboxIntersectsSurroundingSeries","updateNodeMidPoint","oldTitle","updateGroupSelection","updateInnerCircleSelection","circleRadius","antiAliasingPadding","datums","updateSectorFn","_index","animationDisabled","updateCalloutLineNodes","updateCalloutLabelNodes","updateSectorLabelNodes","updateInnerLabelNodes","updateZerosumRings","calloutLength","calloutStrokeWidth","calloutColors","isMoved","paddedLength","getLabelOverflow","seriesLeft","seriesRight","seriesTop","seriesBottom","errPx","visibleTextPart","hasVerticalOverflow","textLength","hasSurroundingSeriesOverflow","corners","sur2","corner","computeCalloutLabelCollisionOffsets","shouldSkip","fullData","leftLabels","rightLabels","topLabels","bottomLabels","tempTextNode","getTextBBox","labelRadius","avoidNeighbourYCollision","collidesOrBehind","avoidYCollisions","midLabel","midIndex","avoidXCollisions","labelsCollideLabelsByY","paddedBoxes","labelsCollideLabelsByX","labelsCollideSectors","displayText","textBoxes","titleCleanArea","hideWhenNecessary","isTooShort","isTextVisible","sectorBounds","textBBoxes","margins","getMarginTop","getMarginBottom","labelsVisible","textBottoms","getDatumLegendName","titleText","labelParts","toggleOtherSeriesItems","datumItemId","supportedDiff","hasKeys","hasUniqueKeys","getDatumIdFromData","pieTheme","piePaletteFactory","DonutSeriesModule","PieTitle","DonutInnerLabel2","DonutInnerCircle2","PieSeriesCalloutLabel","PieSeriesSectorLabel","PieSeriesCalloutLine","PieSeriesProperties","PieSeriesNodeEvent","PieSeries","isDonut","singleVisibleSector","shouldPutTextInCenter","PieSeriesModule","TOOLBAR_ALIGNMENTS","TOOLBAR_GROUPS","ToolbarPosition","ToolbarPosition2","TOOLBAR_POSITIONS","ToolbarGroupProperties","onChange","onButtonsChange","block2","elements2","icon","modifiers2","preventFlash","floatingHidden","css2","Toolbar","onGroupChanged","onGroupButtonsChanged","ranges","floatingDetectionRange","positions","positionAlignments","groupCallers","groupButtons","pendingButtonToggledEvents","groupProxied","renderToolbar","toggleVisibilities","onButtonToggled","onGroupToggled","onProxyGroupOptions","destroyElements","FloatingBottom","FloatingTop","bottomDetectionY","bottomVisible","offsetHeight","topDetectionY","topVisible","translateFloatingElements","isTargetButton","createGroup","createGroupButtons","dataset","toolbarValue","createButtonElement","processPendingEvents","offsetWidth","paddingTop","paddingBottom","isGroupVisible","isButtonVisible","buttonVisible","alignments","alignmentElement","toolbarGroup","onclick","onButtonPress","DAY","MONTH","YEAR","_start","ToolbarModule","toolbar","registerInbuiltModules","setupModules","axisTypes","axisTypeTheme","innerAxisType","expectedButUnused","_HierarchyChart","fullSeriesRect","HierarchyChart","PolarAxis","_PolarChart","computeSeriesRect","computeCircle","angleAxis","radiusAxis","angles","computeRange","gridAngles","gridRange","seriesBox","polarSeries","polarAxes","setSeriesCircle","pieSeries","innerRadii","initialRadius","shake","labelBoxes","refined","refineCircle","labelsBox","minCircleRatio","circleLeft","circleTop","circleRight","circleBottom","padTop","padBottom","availCircleWidth","availCircleHeight","newRadius","minHorizontalRadius","minVerticalRadius","minRadius","padHeight","newWidth","newHeight","PolarChart","radsInDeg","lonX","lon","latY","lat","xLon","yLat","atan","MercatorScale","_MercatorScale","lon0","lat0","lon1","lat1","fixedScale","isTopologySeries","_TopologyChart","setChartTopology","mapSeries","combinedBbox","combined","topologyBounds","viewBoxScale","viewBoxWidth","viewBoxHeight","viewBoxOriginX","viewBoxOriginY","xZoom","yZoom","xSpan","ySpan","seriesVisible","TopologyChart","debug2","chartType","_AgCharts","licenseCheck","licenseChecked","licenseManager","setLicenseKey","licenseKey","gridContext","validateLicense","setGridContext","getLicenseDetails","AgChartsInternal","createOrUpdate","isDisplayWatermark","injectWatermark","getWatermarkMessage","INVALID_CHART_REF_MESSAGE","updateDelta","updateUserDelta","getImageDataURL","AgCharts","AgChart","memberName","_AgChartsInternal","initialiseModules","initialised","proxy","userWindow","createChartInstance","agChartInstances","chartRef","lastUpdateOptions","prepareResizedChart","cloneProxy","oldChart","transferableResource","ChartConstructor","getChartByOptions","VERSION","integrated_charts_scene_exports","Arc2","Image","LinearGradientFill","RadialColumnShape","easing","getRadialColumnWidth","motion","_mask","newMask","pixelLength","maskBbox","i0","i1","rotatePoint","isBeveled","axisInnerRadius","axisOuterRadius","isRadiusAxisReversed","getRotation","updateBeveledPath","updateRectangularPath","isStackBottom","sideRotation","pointRotation","rotate","getTriangleHypotenuse","leg","otherLeg","getTriangleLeg","hypotenuse","compare","otherValue","lessThan","shouldConnectBottomCircle","hasBottomIntersection","bottomIntersectionX","bottomLeftPt","isEmpty","hasSideIntersection","sideIntersectionY","topIntersectionX","topLeftPt","topRightBevelPt","topRightPt","bottomRightPt","rotatedBottomLeftPt","columnWidthRatio","maxColumnWidthRatio","colWidth","sourceImage","image","integrated_charts_theme_exports","themes2","themeFactory","sparklines_scale_exports","sparklines_util_exports","isNumberEqual","zipObject","zipped","module_support_exports","HierarchyNode","HierarchySeries","HierarchySeriesProperties","LonLatBBox","Motion","__FORCE_MODULE_DETECTION2","convertValuesToScaleByDefs","_HierarchyNode","colorValue","sumSize","walk","Walk","PreOrder","PostOrder","rootNode","maxDepth","childrenKey","minColor","maxColor","appendChildren","childIndex","datumSelections","groupSelection","colorName","_ModuleSupport","_Scale","_Scene","_Theme","_Util"],"sources":["/Users/kanishk/Desktop/aggrid/node_modules/ag-charts-community/dist/package/main.esm.mjs"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __reflectGet = Reflect.get;\nvar __knownSymbol = (name, symbol) => {\n  return (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\n};\nvar __pow = Math.pow;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nvar __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar __await = function(promise, isYieldStar) {\n  this[0] = promise;\n  this[1] = isYieldStar;\n};\nvar __yieldStar = (value) => {\n  var obj = value[__knownSymbol(\"asyncIterator\")];\n  var isAwait = false;\n  var method;\n  var it = {};\n  if (obj == null) {\n    obj = value[__knownSymbol(\"iterator\")]();\n    method = (k) => it[k] = (x) => obj[k](x);\n  } else {\n    obj = obj.call(value);\n    method = (k) => it[k] = (v) => {\n      if (isAwait) {\n        isAwait = false;\n        if (k === \"throw\")\n          throw v;\n        return v;\n      }\n      isAwait = true;\n      return {\n        done: false,\n        value: new __await(new Promise((resolve) => {\n          var x = obj[k](v);\n          if (!(x instanceof Object))\n            throw TypeError(\"Object expected\");\n          resolve(x);\n        }), 1)\n      };\n    };\n  }\n  return it[__knownSymbol(\"iterator\")] = () => it, method(\"next\"), \"throw\" in obj ? method(\"throw\") : it.throw = (x) => {\n    throw x;\n  }, \"return\" in obj && method(\"return\"), it;\n};\n\n// packages/ag-charts-community/src/options/chart/errorBarOptions.ts\nvar AgErrorBarSupportedSeriesTypes = [\"bar\", \"line\", \"scatter\"];\n\n// packages/ag-charts-community/src/options/chart/navigatorOptions.ts\nvar __MINI_CHART_SERIES_OPTIONS = {};\nvar __VERIFY_MINI_CHART_SERIES_OPTIONS = void 0;\n__VERIFY_MINI_CHART_SERIES_OPTIONS = __MINI_CHART_SERIES_OPTIONS;\n\n// packages/ag-charts-community/src/options/chart/tooltipOptions.ts\nvar AgTooltipPositionType = /* @__PURE__ */ ((AgTooltipPositionType2) => {\n  AgTooltipPositionType2[\"POINTER\"] = \"pointer\";\n  AgTooltipPositionType2[\"NODE\"] = \"node\";\n  AgTooltipPositionType2[\"TOP\"] = \"top\";\n  AgTooltipPositionType2[\"RIGHT\"] = \"right\";\n  AgTooltipPositionType2[\"BOTTOM\"] = \"bottom\";\n  AgTooltipPositionType2[\"LEFT\"] = \"left\";\n  AgTooltipPositionType2[\"TOP_LEFT\"] = \"top-left\";\n  AgTooltipPositionType2[\"TOP_RIGHT\"] = \"top-right\";\n  AgTooltipPositionType2[\"BOTTOM_RIGHT\"] = \"bottom-right\";\n  AgTooltipPositionType2[\"BOTTOM_LEFT\"] = \"bottom-left\";\n  return AgTooltipPositionType2;\n})(AgTooltipPositionType || {});\n\n// packages/ag-charts-community/src/options/chart/themeOptions.ts\nvar __THEME_OVERRIDES = {};\nvar __VERIFY_THEME_OVERRIDES = void 0;\n__VERIFY_THEME_OVERRIDES = __THEME_OVERRIDES;\n\n// packages/ag-charts-community/src/options/agChartOptions.ts\nvar __FORCE_MODULE_DETECTION = 0;\n\n// packages/ag-charts-community/src/util/time/index.ts\nvar time_exports = {};\n__export(time_exports, {\n  day: () => day,\n  friday: () => friday,\n  hour: () => hour,\n  millisecond: () => millisecond,\n  minute: () => minute,\n  monday: () => monday,\n  month: () => month,\n  saturday: () => saturday,\n  second: () => second,\n  sunday: () => sunday,\n  thursday: () => thursday,\n  tuesday: () => tuesday,\n  utcDay: () => utcDay,\n  utcHour: () => utcHour,\n  utcMinute: () => utcMinute,\n  utcMonth: () => utcMonth,\n  utcYear: () => utcYear,\n  wednesday: () => wednesday,\n  year: () => year\n});\n\n// packages/ag-charts-community/src/util/function.ts\nvar doOnceState = /* @__PURE__ */ new Map();\nfunction doOnce(func, key) {\n  if (doOnceState.has(key))\n    return;\n  doOnceState.set(key, true);\n  func();\n}\ndoOnce.clear = () => doOnceState.clear();\nfunction identity(x) {\n  return x;\n}\nfunction* iterate(...iterators) {\n  for (const iterator of iterators) {\n    yield* __yieldStar(iterator);\n  }\n}\nfunction* iterateReverseArray(array) {\n  for (let j = array.length - 1; j >= 0; j--) {\n    yield array[j];\n  }\n}\nfunction throttle(callback, waitMs = 0, options) {\n  const { leading = true, trailing = true } = options != null ? options : {};\n  let timerId;\n  let lastArgs;\n  let shouldWait = false;\n  function timeoutHandler() {\n    if (trailing && lastArgs) {\n      timerId = setTimeout(timeoutHandler, waitMs);\n      callback(...lastArgs);\n    } else {\n      shouldWait = false;\n    }\n    lastArgs = null;\n  }\n  function throttleCallback(...args) {\n    if (shouldWait) {\n      lastArgs = args;\n    } else {\n      shouldWait = true;\n      timerId = setTimeout(timeoutHandler, waitMs);\n      if (leading) {\n        callback(...args);\n      } else {\n        lastArgs = args;\n      }\n    }\n  }\n  return Object.assign(throttleCallback, {\n    cancel() {\n      clearTimeout(timerId);\n      shouldWait = false;\n      lastArgs = null;\n    }\n  });\n}\nfunction joinFunctions(...fns) {\n  return () => {\n    for (const fn of fns) {\n      fn();\n    }\n  };\n}\n\n// packages/ag-charts-community/src/util/logger.ts\nvar Logger = {\n  log(...logContent) {\n    console.log(...logContent);\n  },\n  warn(message, ...logContent) {\n    console.warn(`AG Charts - ${message}`, ...logContent);\n  },\n  error(message, ...logContent) {\n    if (typeof message === \"object\") {\n      console.error(`AG Charts error`, message, ...logContent);\n    } else {\n      console.error(`AG Charts - ${message}`, ...logContent);\n    }\n  },\n  table(...logContent) {\n    console.table(...logContent);\n  },\n  warnOnce(message, ...logContent) {\n    doOnce(() => Logger.warn(message, ...logContent), `Logger.warn: ${message}`);\n  },\n  errorOnce(message, ...logContent) {\n    doOnce(() => Logger.error(message, ...logContent), `Logger.error: ${message}`);\n  }\n};\n\n// packages/ag-charts-community/src/util/time/interval.ts\nvar TimeInterval = class {\n  constructor(_encode, _decode, _rangeCallback) {\n    this._encode = _encode;\n    this._decode = _decode;\n    this._rangeCallback = _rangeCallback;\n  }\n  /**\n   * Returns a new date representing the latest interval boundary date before or equal to date.\n   * For example, `day.floor(date)` typically returns 12:00 AM local time on the given date.\n   * @param date\n   */\n  floor(date) {\n    const d = new Date(date);\n    const e = this._encode(d);\n    return this._decode(e);\n  }\n  /**\n   * Returns a new date representing the earliest interval boundary date after or equal to date.\n   * @param date\n   */\n  ceil(date) {\n    const d = new Date(Number(date) - 1);\n    const e = this._encode(d);\n    return this._decode(e + 1);\n  }\n  /**\n   * Returns an array of dates representing every interval boundary after or equal to start (inclusive) and before stop (exclusive).\n   * @param start Range start.\n   * @param stop Range end.\n   * @param extend If specified, the requested range will be extended to the closest \"nice\" values.\n   */\n  range(start, stop, extend) {\n    var _a;\n    const rangeCallback = (_a = this._rangeCallback) == null ? void 0 : _a.call(this, start, stop);\n    const e0 = this._encode(extend ? this.floor(start) : this.ceil(start));\n    const e1 = this._encode(extend ? this.ceil(stop) : this.floor(stop));\n    if (e1 < e0) {\n      return [];\n    }\n    const range3 = [];\n    for (let e = e0; e <= e1; e++) {\n      const d = this._decode(e);\n      range3.push(d);\n    }\n    rangeCallback == null ? void 0 : rangeCallback();\n    return range3;\n  }\n};\nvar CountableTimeInterval = class extends TimeInterval {\n  getOffset(snapTo, step) {\n    const s = typeof snapTo === \"number\" || snapTo instanceof Date ? this._encode(new Date(snapTo)) : 0;\n    return Math.floor(s) % step;\n  }\n  /**\n   * Returns a filtered view of this interval representing every step'th date.\n   * It can be a number of minutes, hours, days etc.\n   * Must be a positive integer.\n   * @param step\n   */\n  every(step, options) {\n    let offset4 = 0;\n    let rangeCallback;\n    const unsafeStep = step;\n    step = Math.max(1, Math.round(step));\n    if (unsafeStep !== step) {\n      Logger.warnOnce(`interval step of [${unsafeStep}] rounded to [${step}].`);\n    }\n    const { snapTo = \"start\" } = options != null ? options : {};\n    if (typeof snapTo === \"string\") {\n      const initialOffset = offset4;\n      rangeCallback = (start, stop) => {\n        const s = snapTo === \"start\" ? start : stop;\n        offset4 = this.getOffset(s, step);\n        return () => offset4 = initialOffset;\n      };\n    } else if (typeof snapTo === \"number\") {\n      offset4 = this.getOffset(new Date(snapTo), step);\n    } else if (snapTo instanceof Date) {\n      offset4 = this.getOffset(snapTo, step);\n    }\n    const encode13 = (date) => {\n      const e = this._encode(date);\n      return Math.floor((e - offset4) / step);\n    };\n    const decode13 = (encoded) => {\n      return this._decode(encoded * step + offset4);\n    };\n    return new TimeInterval(encode13, decode13, rangeCallback);\n  }\n};\n\n// packages/ag-charts-community/src/util/time/millisecond.ts\nfunction encode(date) {\n  return date.getTime();\n}\nfunction decode(encoded) {\n  return new Date(encoded);\n}\nvar millisecond = new CountableTimeInterval(encode, decode);\nvar millisecond_default = millisecond;\n\n// packages/ag-charts-community/src/util/time/duration.ts\nvar epochYear = (/* @__PURE__ */ new Date(0)).getFullYear();\nvar durationSecond = 1e3;\nvar durationMinute = durationSecond * 60;\nvar durationHour = durationMinute * 60;\nvar durationDay = durationHour * 24;\nvar durationWeek = durationDay * 7;\nvar durationMonth = durationDay * 30;\nvar durationYear = durationDay * 365;\n\n// packages/ag-charts-community/src/util/time/second.ts\nvar offset = (/* @__PURE__ */ new Date()).getTimezoneOffset() * durationMinute;\nfunction encode2(date) {\n  return Math.floor((date.getTime() - offset) / durationSecond);\n}\nfunction decode2(encoded) {\n  return new Date(offset + encoded * durationSecond);\n}\nvar second = new CountableTimeInterval(encode2, decode2);\nvar second_default = second;\n\n// packages/ag-charts-community/src/util/time/minute.ts\nvar offset2 = (/* @__PURE__ */ new Date()).getTimezoneOffset() * durationMinute;\nfunction encode3(date) {\n  return Math.floor((date.getTime() - offset2) / durationMinute);\n}\nfunction decode3(encoded) {\n  return new Date(offset2 + encoded * durationMinute);\n}\nvar minute = new CountableTimeInterval(encode3, decode3);\nvar minute_default = minute;\n\n// packages/ag-charts-community/src/util/time/hour.ts\nvar offset3 = (/* @__PURE__ */ new Date()).getTimezoneOffset() * durationMinute;\nfunction encode4(date) {\n  return Math.floor((date.getTime() - offset3) / durationHour);\n}\nfunction decode4(encoded) {\n  return new Date(offset3 + encoded * durationHour);\n}\nvar hour = new CountableTimeInterval(encode4, decode4);\nvar hour_default = hour;\n\n// packages/ag-charts-community/src/util/time/day.ts\nfunction encode5(date) {\n  const tzOffsetMs = date.getTimezoneOffset() * durationMinute;\n  return Math.floor((date.getTime() - tzOffsetMs) / durationDay);\n}\nfunction decode5(encoded) {\n  const d = new Date(1970, 0, 1);\n  d.setDate(d.getDate() + encoded);\n  return d;\n}\nvar day = new CountableTimeInterval(encode5, decode5);\nvar day_default = day;\n\n// packages/ag-charts-community/src/util/time/week.ts\nfunction weekday(weekStart) {\n  const thursday2 = 4;\n  const dayShift = (7 + weekStart - thursday2) % 7;\n  function encode13(date) {\n    const tzOffsetMs = date.getTimezoneOffset() * durationMinute;\n    return Math.floor((date.getTime() - tzOffsetMs) / durationWeek - dayShift / 7);\n  }\n  function decode13(encoded) {\n    const d = new Date(1970, 0, 1);\n    d.setDate(d.getDate() + encoded * 7 + dayShift);\n    return d;\n  }\n  return new CountableTimeInterval(encode13, decode13);\n}\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar week_default = sunday;\n\n// packages/ag-charts-community/src/util/time/month.ts\nfunction encode6(date) {\n  return date.getFullYear() * 12 + date.getMonth();\n}\nfunction decode6(encoded) {\n  const year2 = Math.floor(encoded / 12);\n  const month2 = encoded - year2 * 12;\n  return new Date(year2, month2, 1);\n}\nvar month = new CountableTimeInterval(encode6, decode6);\nvar month_default = month;\n\n// packages/ag-charts-community/src/util/time/year.ts\nfunction encode7(date) {\n  return date.getFullYear();\n}\nfunction decode7(encoded) {\n  const d = /* @__PURE__ */ new Date();\n  d.setFullYear(encoded);\n  d.setMonth(0, 1);\n  d.setHours(0, 0, 0, 0);\n  return d;\n}\nvar year = new CountableTimeInterval(encode7, decode7);\nvar year_default = year;\n\n// packages/ag-charts-community/src/util/time/utcMinute.ts\nfunction encode8(date) {\n  return Math.floor(date.getTime() / durationMinute);\n}\nfunction decode8(encoded) {\n  return new Date(encoded * durationMinute);\n}\nvar utcMinute = new CountableTimeInterval(encode8, decode8);\n\n// packages/ag-charts-community/src/util/time/utcHour.ts\nfunction encode9(date) {\n  return Math.floor(date.getTime() / durationHour);\n}\nfunction decode9(encoded) {\n  return new Date(encoded * durationHour);\n}\nvar utcHour = new CountableTimeInterval(encode9, decode9);\n\n// packages/ag-charts-community/src/util/time/utcDay.ts\nfunction encode10(date) {\n  return Math.floor(date.getTime() / durationDay);\n}\nfunction decode10(encoded) {\n  const d = /* @__PURE__ */ new Date(0);\n  d.setUTCDate(d.getUTCDate() + encoded);\n  d.setUTCHours(0, 0, 0, 0);\n  return d;\n}\nvar utcDay = new CountableTimeInterval(encode10, decode10);\n\n// packages/ag-charts-community/src/util/time/utcMonth.ts\nfunction encode11(date) {\n  return date.getUTCFullYear() * 12 + date.getUTCMonth();\n}\nfunction decode11(encoded) {\n  const year2 = Math.floor(encoded / 12);\n  const month2 = encoded - year2 * 12;\n  return new Date(Date.UTC(year2, month2, 1));\n}\nvar utcMonth = new CountableTimeInterval(encode11, decode11);\n\n// packages/ag-charts-community/src/util/time/utcYear.ts\nfunction encode12(date) {\n  return date.getUTCFullYear();\n}\nfunction decode12(encoded) {\n  const d = /* @__PURE__ */ new Date();\n  d.setUTCFullYear(encoded);\n  d.setUTCMonth(0, 1);\n  d.setUTCHours(0, 0, 0, 0);\n  return d;\n}\nvar utcYear = new CountableTimeInterval(encode12, decode12);\n\n// packages/ag-charts-community/src/module/enterpriseModule.ts\nvar enterpriseModule = {\n  isEnterprise: false\n};\n\n// packages/ag-charts-community/src/module/module.ts\nvar BaseModuleInstance = class {\n  constructor() {\n    this.destroyFns = [];\n  }\n  destroy() {\n    for (const destroyFn of this.destroyFns) {\n      destroyFn();\n    }\n  }\n};\nvar ModuleRegistry = class {\n  constructor() {\n    this.modules = [];\n    this.dependencies = /* @__PURE__ */ new Set();\n    this.dependents = /* @__PURE__ */ new Set();\n  }\n  register(...modules) {\n    for (const module of modules) {\n      this.registerDependencies(module);\n      const otherModule = this.modules.find(\n        (other) => module.type === other.type && module.optionsKey === other.optionsKey && module.identifier === other.identifier\n      );\n      if (otherModule) {\n        if (module.packageType === \"enterprise\" && otherModule.packageType === \"community\") {\n          const index = this.modules.indexOf(otherModule);\n          this.modules.splice(index, 1, module);\n        }\n      } else {\n        this.modules.push(module);\n      }\n    }\n  }\n  hasEnterpriseModules() {\n    return this.modules.some((m) => m.packageType === \"enterprise\");\n  }\n  *byType(...types) {\n    for (const module of this.modules) {\n      if (types.includes(module.type) && this.dependencies.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && !this.dependencies.has(module.optionsKey) && !this.dependents.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && this.dependents.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n  }\n  registerDependencies(module) {\n    if (module.dependencies == null || module.dependencies.length === 0)\n      return;\n    if (this.dependencies.has(module.optionsKey)) {\n      throw new Error(\n        `Module [${module.optionsKey}] can not both be depended upon by any module and have dependencies of [${module.dependencies}].`\n      );\n    }\n    for (const dep of module.dependencies) {\n      if (this.dependents.has(dep)) {\n        throw new Error(\n          `Module [${dep}] can not both be depended upon by any module and have dependencies of [${module.optionsKey}].`\n        );\n      }\n      this.dependencies.add(dep);\n    }\n    this.dependents.add(module.optionsKey);\n  }\n};\nvar moduleRegistry = new ModuleRegistry();\n\n// packages/ag-charts-community/src/chart/factory/axisRegistry.ts\nvar AxisRegistry = class {\n  constructor() {\n    this.axesMap = /* @__PURE__ */ new Map();\n    this.hidden = /* @__PURE__ */ new Set();\n    this.themeTemplates = /* @__PURE__ */ new Map();\n  }\n  register(axisType, module) {\n    this.axesMap.set(axisType, module.instanceConstructor);\n    if (module.themeTemplate) {\n      this.setThemeTemplate(axisType, module.themeTemplate);\n    }\n    if (module.hidden) {\n      this.hidden.add(axisType);\n    }\n  }\n  create(axisType, moduleContext) {\n    const AxisConstructor = this.axesMap.get(axisType);\n    if (AxisConstructor) {\n      return new AxisConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown axis type: ${axisType}`);\n  }\n  has(axisType) {\n    return this.axesMap.has(axisType);\n  }\n  keys() {\n    return this.axesMap.keys();\n  }\n  publicKeys() {\n    return [...this.keys()].filter((k) => !this.hidden.has(k));\n  }\n  setThemeTemplate(axisType, themeTemplate) {\n    this.themeTemplates.set(axisType, themeTemplate);\n    return this;\n  }\n  getThemeTemplate(axisType) {\n    return this.themeTemplates.get(axisType);\n  }\n};\nvar axisRegistry = new AxisRegistry();\n\n// packages/ag-charts-community/src/util/decorator.ts\nvar BREAK_TRANSFORM_CHAIN = Symbol(\"BREAK\");\nvar CONFIG_KEY = \"__decorator_config\";\nfunction initialiseConfig(target, propertyKeyOrSymbol) {\n  if (Object.getOwnPropertyDescriptor(target, CONFIG_KEY) == null) {\n    Object.defineProperty(target, CONFIG_KEY, { value: {} });\n  }\n  const config = target[CONFIG_KEY];\n  const propertyKey = propertyKeyOrSymbol.toString();\n  if (typeof config[propertyKey] !== \"undefined\") {\n    return config[propertyKey];\n  }\n  const valuesMap = /* @__PURE__ */ new WeakMap();\n  config[propertyKey] = { setters: [], getters: [], observers: [], valuesMap };\n  const descriptor = Object.getOwnPropertyDescriptor(target, propertyKeyOrSymbol);\n  const prevSet = descriptor == null ? void 0 : descriptor.set;\n  const prevGet = descriptor == null ? void 0 : descriptor.get;\n  const getter = function() {\n    let value = prevGet ? prevGet.call(this) : valuesMap.get(this);\n    for (const transformFn of config[propertyKey].getters) {\n      value = transformFn(this, propertyKeyOrSymbol, value);\n      if (value === BREAK_TRANSFORM_CHAIN) {\n        return;\n      }\n    }\n    return value;\n  };\n  const setter = function(value) {\n    const { setters, observers } = config[propertyKey];\n    let oldValue;\n    if (setters.some((f) => f.length > 2)) {\n      oldValue = prevGet ? prevGet.call(this) : valuesMap.get(this);\n    }\n    for (const transformFn of setters) {\n      value = transformFn(this, propertyKeyOrSymbol, value, oldValue);\n      if (value === BREAK_TRANSFORM_CHAIN) {\n        return;\n      }\n    }\n    if (prevSet) {\n      prevSet.call(this, value);\n    } else {\n      valuesMap.set(this, value);\n    }\n    for (const observerFn of observers) {\n      observerFn(this, value, oldValue);\n    }\n  };\n  Object.defineProperty(target, propertyKeyOrSymbol, {\n    set: setter,\n    get: getter,\n    enumerable: true,\n    configurable: false\n  });\n  return config[propertyKey];\n}\nfunction addTransformToInstanceProperty(setTransform, getTransform, configMetadata) {\n  return (target, propertyKeyOrSymbol) => {\n    const config = initialiseConfig(target, propertyKeyOrSymbol);\n    config.setters.push(setTransform);\n    if (getTransform) {\n      config.getters.unshift(getTransform);\n    }\n    if (configMetadata) {\n      Object.assign(config, configMetadata);\n    }\n  };\n}\nfunction addObserverToInstanceProperty(setObserver) {\n  return (target, propertyKeyOrSymbol) => {\n    initialiseConfig(target, propertyKeyOrSymbol).observers.push(setObserver);\n  };\n}\nfunction isDecoratedObject(target) {\n  return typeof target !== \"undefined\" && CONFIG_KEY in target;\n}\nfunction listDecoratedProperties(target) {\n  const targets = /* @__PURE__ */ new Set();\n  while (isDecoratedObject(target)) {\n    targets.add(target == null ? void 0 : target[CONFIG_KEY]);\n    target = Object.getPrototypeOf(target);\n  }\n  return Array.from(targets).flatMap((configMap) => Object.keys(configMap));\n}\nfunction extractDecoratedProperties(target) {\n  return listDecoratedProperties(target).reduce((result, key) => {\n    var _a;\n    result[key] = (_a = target[key]) != null ? _a : null;\n    return result;\n  }, {});\n}\nfunction extractDecoratedPropertyMetadata(target, propertyKeyOrSymbol) {\n  const propertyKey = propertyKeyOrSymbol.toString();\n  while (isDecoratedObject(target)) {\n    const config = target[CONFIG_KEY];\n    if (Object.hasOwn(config, propertyKey)) {\n      return config[propertyKey];\n    }\n    target = Object.getPrototypeOf(target);\n  }\n}\n\n// packages/ag-charts-community/src/util/type-guards.ts\nfunction isDefined(val) {\n  return val != null;\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\nfunction isDate(value) {\n  return value instanceof Date;\n}\nfunction isValidDate(value) {\n  return isDate(value) && !isNaN(Number(value));\n}\nfunction isRegExp(value) {\n  return value instanceof RegExp;\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null && !isArray(value);\n}\nfunction isObjectLike(value) {\n  return isArray(value) || isPlainObject(value);\n}\nfunction isPlainObject(value) {\n  return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nfunction isString(value) {\n  return typeof value === \"string\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isFiniteNumber(value) {\n  return isNumber(value) && Number.isFinite(value);\n}\nfunction isHtmlElement(value) {\n  return typeof window !== \"undefined\" && value instanceof HTMLElement;\n}\nfunction isEnumKey(enumObject, enumKey) {\n  return isString(enumKey) && Object.keys(enumObject).includes(enumKey);\n}\nfunction isEnumValue(enumObject, enumValue) {\n  return Object.values(enumObject).includes(enumValue);\n}\nfunction isSymbol(value) {\n  return typeof value === \"symbol\";\n}\n\n// packages/ag-charts-community/src/util/object.ts\nfunction deepMerge(...sources) {\n  return mergeDefaults(...sources.reverse());\n}\nfunction mergeDefaults(...sources) {\n  var _a;\n  const target = {};\n  for (const source of sources) {\n    if (!isObject(source))\n      continue;\n    const keys = isDecoratedObject(source) ? listDecoratedProperties(source) : Object.keys(source);\n    for (const key of keys) {\n      if (isPlainObject(target[key]) && isPlainObject(source[key])) {\n        target[key] = mergeDefaults(target[key], source[key]);\n      } else {\n        (_a = target[key]) != null ? _a : target[key] = source[key];\n      }\n    }\n  }\n  return target;\n}\nfunction mergeArrayDefaults(dataArray, ...itemDefaults) {\n  if (itemDefaults && isArray(dataArray)) {\n    return dataArray.map((item) => mergeDefaults(item, ...itemDefaults));\n  }\n  return dataArray;\n}\nfunction mapValues(object, mapper) {\n  return Object.entries(object).reduce(\n    (result, [key, value]) => {\n      result[key] = mapper(value, key, object);\n      return result;\n    },\n    {}\n  );\n}\nfunction without(object, keys) {\n  const clone = __spreadValues({}, object);\n  for (const key of keys) {\n    delete clone[key];\n  }\n  return clone;\n}\nfunction getPath(object, path) {\n  const pathArray = isArray(path) ? path : path.split(\".\");\n  return pathArray.reduce((value, pathKey) => value[pathKey], object);\n}\nfunction setPath(object, path, newValue) {\n  const pathArray = isArray(path) ? path.slice() : path.split(\".\");\n  const lastKey = pathArray.pop();\n  const lastObject = pathArray.reduce((value, pathKey) => value[pathKey], object);\n  lastObject[lastKey] = newValue;\n}\nfunction partialAssign(keysToCopy, target, source) {\n  if (source === void 0) {\n    return target;\n  }\n  for (const key of keysToCopy) {\n    const value = source[key];\n    if (value !== void 0) {\n      target[key] = value;\n    }\n  }\n  return target;\n}\n\n// packages/ag-charts-community/src/chart/factory/chartTypes.ts\nvar ChartTypes = class extends Map {\n  get(seriesType) {\n    var _a;\n    return (_a = super.get(seriesType)) != null ? _a : \"unknown\";\n  }\n  isCartesian(seriesType) {\n    return this.get(seriesType) === \"cartesian\";\n  }\n  isPolar(seriesType) {\n    return this.get(seriesType) === \"polar\";\n  }\n  isHierarchy(seriesType) {\n    return this.get(seriesType) === \"hierarchy\";\n  }\n  isTopology(seriesType) {\n    return this.get(seriesType) === \"topology\";\n  }\n  get seriesTypes() {\n    return Array.from(this.keys());\n  }\n  get cartesianTypes() {\n    return this.seriesTypes.filter((t) => this.isCartesian(t));\n  }\n  get polarTypes() {\n    return this.seriesTypes.filter((t) => this.isPolar(t));\n  }\n  get hierarchyTypes() {\n    return this.seriesTypes.filter((t) => this.isHierarchy(t));\n  }\n  get topologyTypes() {\n    return this.seriesTypes.filter((t) => this.isTopology(t));\n  }\n};\nvar ChartDefaults = class extends Map {\n  set(chartType2, defaults) {\n    return super.set(chartType2, mergeDefaults(defaults, this.get(chartType2)));\n  }\n};\nvar chartTypes = new ChartTypes();\nvar publicChartTypes = new ChartTypes();\nvar chartDefaults = new ChartDefaults();\n\n// packages/ag-charts-community/src/chart/factory/expectedEnterpriseModules.ts\nvar EXPECTED_ENTERPRISE_MODULES = [\n  { type: \"root\", optionsKey: \"animation\", chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"] },\n  { type: \"root\", optionsKey: \"annotations\", chartTypes: [\"cartesian\"] },\n  {\n    type: \"root\",\n    optionsKey: \"background\",\n    chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n    optionsInnerKey: \"image\"\n  },\n  { type: \"root\", optionsKey: \"contextMenu\", chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"] },\n  { type: \"root\", optionsKey: \"dataSource\", chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"] },\n  { type: \"root\", optionsKey: \"sync\", chartTypes: [\"cartesian\"] },\n  { type: \"root\", optionsKey: \"zoom\", chartTypes: [\"cartesian\", \"topology\"] },\n  {\n    type: \"legend\",\n    optionsKey: \"gradientLegend\",\n    chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n    identifier: \"gradient\"\n  },\n  { type: \"root\", optionsKey: \"navigator\", chartTypes: [\"cartesian\"], optionsInnerKey: \"miniChart\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"angle-category\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"angle-number\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"radius-category\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"radius-number\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"cartesian\"], identifier: \"ordinal-time\" },\n  { type: \"axis-option\", optionsKey: \"crosshair\", chartTypes: [\"cartesian\"] },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"box-plot\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"candlestick\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"ohlc\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"bullet\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"heatmap\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"range-area\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"range-bar\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"waterfall\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"nightingale\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radar-area\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radar-line\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radial-bar\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radial-column\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"hierarchy\"], identifier: \"sunburst\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"hierarchy\"], identifier: \"treemap\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-shape\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-line\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-marker\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-shape-background\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-line-background\" },\n  { type: \"series-option\", optionsKey: \"errorBar\", chartTypes: [\"cartesian\"], identifier: \"error-bars\" }\n];\nfunction isEnterpriseSeriesType(type) {\n  return EXPECTED_ENTERPRISE_MODULES.some((s) => s.type === \"series\" && s.identifier === type);\n}\nfunction getEnterpriseSeriesChartTypes(type) {\n  var _a;\n  return (_a = EXPECTED_ENTERPRISE_MODULES.find((s) => s.type === \"series\" && s.identifier === type)) == null ? void 0 : _a.chartTypes;\n}\nfunction isEnterpriseCartesian(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"cartesian\");\n  return type === \"cartesian\";\n}\nfunction isEnterprisePolar(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"polar\");\n  return type === \"polar\";\n}\nfunction isEnterpriseHierarchy(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"hierarchy\");\n  return type === \"hierarchy\";\n}\nfunction isEnterpriseTopology(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"topology\");\n  return type === \"topology\";\n}\nfunction isEnterpriseModule(module) {\n  return module.packageType === \"enterprise\";\n}\nfunction verifyIfModuleExpected(module) {\n  var _a;\n  if (!isEnterpriseModule(module)) {\n    throw new Error(\"AG Charts - internal configuration error, only enterprise modules need verification.\");\n  }\n  const stub = EXPECTED_ENTERPRISE_MODULES.find((s) => {\n    return s.type === module.type && s.optionsKey === module.optionsKey && s.identifier === module.identifier && module.chartTypes.every((t) => s.chartTypes.includes(t));\n  });\n  if (stub) {\n    (_a = stub.useCount) != null ? _a : stub.useCount = 0;\n    stub.useCount++;\n  }\n  return stub != null;\n}\nfunction getUnusedExpectedModules() {\n  return EXPECTED_ENTERPRISE_MODULES.filter(({ useCount }) => useCount == null || useCount === 0);\n}\n\n// packages/ag-charts-community/src/chart/mapping/types.ts\nfunction optionsType(input) {\n  var _a, _b, _c;\n  return (_c = (_b = (_a = input.series) == null ? void 0 : _a[0]) == null ? void 0 : _b.type) != null ? _c : \"line\";\n}\nfunction isAgCartesianChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return true;\n  }\n  if (specifiedType === \"cartesian\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isCartesian(specifiedType) || isEnterpriseCartesian(specifiedType);\n}\nfunction isAgPolarChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"polar\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isPolar(specifiedType) || isEnterprisePolar(specifiedType);\n}\nfunction isAgHierarchyChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"hierarchy\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isHierarchy(specifiedType) || isEnterpriseHierarchy(specifiedType);\n}\nfunction isAgTopologyChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"topology\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isTopology(specifiedType) || isEnterpriseTopology(specifiedType);\n}\nfunction isAgPolarChartOptionsWithSeriesBasedLegend(input) {\n  const specifiedType = optionsType(input);\n  return isAgPolarChartOptions(input) && specifiedType !== \"pie\" && specifiedType !== \"donut\";\n}\nfunction isSeriesOptionType(input) {\n  if (input == null) {\n    return false;\n  }\n  return chartTypes.has(input);\n}\nfunction isAxisOptionType(input) {\n  if (input == null) {\n    return false;\n  }\n  return axisRegistry.has(input);\n}\n\n// packages/ag-charts-community/src/chart/factory/processEnterpriseOptions.ts\nfunction removeUsedEnterpriseOptions(options) {\n  var _a, _b, _c, _d;\n  const usedOptions = [];\n  const optionsChartType = chartTypes.get(optionsType(options));\n  for (const {\n    type,\n    chartTypes: moduleChartTypes,\n    optionsKey,\n    optionsInnerKey,\n    identifier\n  } of EXPECTED_ENTERPRISE_MODULES) {\n    if (optionsChartType !== \"unknown\" && !moduleChartTypes.includes(optionsChartType))\n      continue;\n    if (type === \"root\" || type === \"legend\") {\n      const optionValue = options[optionsKey];\n      if (optionValue == null)\n        continue;\n      if (!optionsInnerKey) {\n        usedOptions.push(optionsKey);\n        delete options[optionsKey];\n      } else if (optionValue[optionsInnerKey]) {\n        usedOptions.push(`${optionsKey}.${optionsInnerKey}`);\n        delete optionValue[optionsInnerKey];\n      }\n    } else if (type === \"axis\") {\n      if (!(\"axes\" in options) || !((_a = options.axes) == null ? void 0 : _a.some((axis) => axis.type === identifier)))\n        continue;\n      usedOptions.push(`axis[type=${identifier}]`);\n      options.axes = options.axes.filter((axis) => axis.type !== identifier);\n    } else if (type === \"axis-option\") {\n      if (!(\"axes\" in options) || !((_b = options.axes) == null ? void 0 : _b.some((axis) => axis[optionsKey])))\n        continue;\n      usedOptions.push(`axis.${optionsKey}`);\n      options.axes.forEach((axis) => {\n        if (axis[optionsKey]) {\n          delete axis[optionsKey];\n        }\n      });\n    } else if (type === \"series\") {\n      if (!((_c = options.series) == null ? void 0 : _c.some((series) => series.type === identifier)))\n        continue;\n      usedOptions.push(`series[type=${identifier}]`);\n      options.series = options.series.filter((series) => series.type !== identifier);\n    } else if (type === \"series-option\") {\n      if (!((_d = options.series) == null ? void 0 : _d.some((series) => series[optionsKey])))\n        continue;\n      usedOptions.push(`series.${optionsKey}`);\n      options.series.forEach((series) => {\n        if (series[optionsKey]) {\n          delete series[optionsKey];\n        }\n      });\n    }\n  }\n  if (usedOptions.length) {\n    let enterprisePackageName = \"ag-charts-enterprise\";\n    let enterpriseReferenceUrl = \"https://charts.ag-grid.com/javascript/installation/\";\n    if (options.mode === \"integrated\") {\n      enterprisePackageName = \"ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise\";\n      enterpriseReferenceUrl = \"https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/\";\n    }\n    Logger.warnOnce(\n      [\n        `unable to use these enterprise features as '${enterprisePackageName}' has not been loaded:`,\n        \"\",\n        ...usedOptions,\n        \"\",\n        `See: ${enterpriseReferenceUrl}`\n      ].join(\"\\n\")\n    );\n  }\n}\n\n// packages/ag-charts-community/src/util/properties.ts\nvar BaseProperties = class {\n  set(properties) {\n    const { className = this.constructor.name } = this.constructor;\n    if (typeof properties !== \"object\") {\n      Logger.warn(`unable to set ${className} - expecting a properties object`);\n      return this;\n    }\n    const keys = new Set(Object.keys(properties));\n    for (const propertyKey of listDecoratedProperties(this)) {\n      if (keys.has(propertyKey)) {\n        const value = properties[propertyKey];\n        const self = this;\n        if (isProperties(self[propertyKey])) {\n          self[propertyKey] = self[propertyKey] instanceof PropertiesArray ? self[propertyKey].reset(value) : self[propertyKey].set(value);\n        } else {\n          self[propertyKey] = value;\n        }\n        keys.delete(propertyKey);\n      }\n    }\n    for (const unknownKey of keys) {\n      Logger.warn(`unable to set [${unknownKey}] in ${className} - property is unknown`);\n    }\n    return this;\n  }\n  isValid() {\n    return listDecoratedProperties(this).every((propertyKey) => {\n      const { optional } = extractDecoratedPropertyMetadata(this, propertyKey);\n      const valid = optional || typeof this[propertyKey] !== \"undefined\";\n      if (!valid) {\n        Logger.warnOnce(`[${propertyKey}] is required.`);\n      }\n      return valid;\n    });\n  }\n  toJson() {\n    return listDecoratedProperties(this).reduce((object, propertyKey) => {\n      const propertyValue = this[propertyKey];\n      object[propertyKey] = isProperties(propertyValue) ? propertyValue.toJson() : propertyValue;\n      return object;\n    }, {});\n  }\n};\nvar PropertiesArray = class _PropertiesArray extends Array {\n  constructor(itemFactory, ...properties) {\n    super(properties.length);\n    Object.defineProperty(this, \"itemFactory\", { value: itemFactory, enumerable: false, configurable: false });\n    this.set(properties);\n  }\n  set(properties) {\n    if (isArray(properties)) {\n      this.length = properties.length;\n      for (let i = 0; i < properties.length; i++) {\n        this[i] = new this.itemFactory().set(properties[i]);\n      }\n    }\n    return this;\n  }\n  reset(properties) {\n    return new _PropertiesArray(this.itemFactory, ...properties);\n  }\n  toJson() {\n    return this.map((value) => {\n      var _a, _b;\n      return (_b = (_a = value == null ? void 0 : value.toJson) == null ? void 0 : _a.call(value)) != null ? _b : value;\n    });\n  }\n};\nfunction isProperties(value) {\n  return value instanceof BaseProperties || value instanceof PropertiesArray;\n}\n\n// packages/ag-charts-community/src/util/json.ts\nvar CLASS_INSTANCE_TYPE = \"class-instance\";\nfunction jsonDiff(source, target, skip) {\n  if (isArray(target)) {\n    if (!isArray(source) || source.length !== target.length || target.some((v, i) => jsonDiff(source[i], v) != null)) {\n      return target;\n    }\n  } else if (isPlainObject(target)) {\n    if (!isPlainObject(source)) {\n      return target;\n    }\n    const result = {};\n    const allKeys = /* @__PURE__ */ new Set([\n      ...Object.keys(source),\n      ...Object.keys(target)\n    ]);\n    for (const key of allKeys) {\n      if (source[key] === target[key] || (skip == null ? void 0 : skip.includes(key))) {\n        continue;\n      }\n      if (typeof source[key] === typeof target[key]) {\n        const diff2 = jsonDiff(source[key], target[key]);\n        if (diff2 !== null) {\n          result[key] = diff2;\n        }\n      } else {\n        result[key] = target[key];\n      }\n    }\n    return Object.keys(result).length ? result : null;\n  } else if (source !== target) {\n    return target;\n  }\n  return null;\n}\nfunction deepClone(source, options) {\n  if (isArray(source)) {\n    return source.map((item) => deepClone(item, options));\n  }\n  if (isPlainObject(source)) {\n    return mapValues(\n      source,\n      (value, key) => {\n        var _a;\n        return ((_a = options == null ? void 0 : options.shallow) == null ? void 0 : _a.includes(key)) ? shallowClone(value) : deepClone(value, options);\n      }\n    );\n  }\n  return shallowClone(source);\n}\nfunction shallowClone(source) {\n  if (isArray(source)) {\n    return [...source];\n  }\n  if (isPlainObject(source)) {\n    return __spreadValues({}, source);\n  }\n  if (isDate(source)) {\n    return new Date(source);\n  }\n  if (isRegExp(source)) {\n    return new RegExp(source.source, source.flags);\n  }\n  return source;\n}\nfunction jsonWalk(json, visit, opts, ...jsons) {\n  var _a;\n  if (isArray(json)) {\n    visit(json, ...jsons);\n    json.forEach((node, index) => {\n      jsonWalk(node, visit, opts, ...keyMapper(jsons, index));\n    });\n  } else if (isPlainObject(json)) {\n    visit(json, ...jsons);\n    for (const key of Object.keys(json)) {\n      if ((_a = opts == null ? void 0 : opts.skip) == null ? void 0 : _a.includes(key)) {\n        continue;\n      }\n      const value = json[key];\n      if (isArray(value) || isPlainObject(value)) {\n        jsonWalk(value, visit, opts, ...keyMapper(jsons, key));\n      }\n    }\n  }\n}\nfunction jsonApply(target, source, params = {}) {\n  const { path, constructedArrays, matcherPath = path == null ? void 0 : path.replace(/(\\[[0-9+]+])/i, \"[]\"), skip = [] } = params;\n  if (target == null) {\n    throw new Error(`AG Charts - target is uninitialised: ${path != null ? path : \"<root>\"}`);\n  }\n  if (source == null) {\n    return target;\n  }\n  if (isProperties(target)) {\n    return target.set(source);\n  }\n  const targetAny = target;\n  const targetType = classify(target);\n  for (const property in source) {\n    const propertyMatcherPath = `${matcherPath ? matcherPath + \".\" : \"\"}${property}`;\n    if (skip.includes(propertyMatcherPath))\n      continue;\n    const newValue = source[property];\n    const propertyPath = `${path ? path + \".\" : \"\"}${property}`;\n    const targetClass = targetAny.constructor;\n    const currentValue = targetAny[property];\n    let ctr;\n    try {\n      const currentValueType = classify(currentValue);\n      const newValueType = classify(newValue);\n      if (targetType === CLASS_INSTANCE_TYPE && !(property in target)) {\n        Logger.warn(`unable to set [${propertyPath}] in ${targetClass == null ? void 0 : targetClass.name} - property is unknown`);\n        continue;\n      }\n      if (currentValueType != null && newValueType != null && newValueType !== currentValueType && (currentValueType !== CLASS_INSTANCE_TYPE || newValueType !== \"object\")) {\n        Logger.warn(\n          `unable to set [${propertyPath}] in ${targetClass == null ? void 0 : targetClass.name} - can't apply type of [${newValueType}], allowed types are: [${currentValueType}]`\n        );\n        continue;\n      }\n      if (isProperties(currentValue)) {\n        targetAny[property].set(newValue);\n      } else if (newValueType === \"array\") {\n        ctr != null ? ctr : ctr = constructedArrays == null ? void 0 : constructedArrays.get(currentValue);\n        if (ctr == null) {\n          targetAny[property] = newValue;\n        } else {\n          const newValueArray = newValue;\n          targetAny[property] = newValueArray.map(\n            (v) => jsonApply(new ctr(), v, __spreadProps(__spreadValues({}, params), {\n              path: propertyPath,\n              matcherPath: propertyMatcherPath + \"[]\"\n            }))\n          );\n        }\n      } else if (newValueType === CLASS_INSTANCE_TYPE) {\n        targetAny[property] = newValue;\n      } else if (newValueType === \"object\") {\n        if (currentValue != null) {\n          jsonApply(currentValue, newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        } else if (ctr == null) {\n          targetAny[property] = {};\n          jsonApply(targetAny[property], newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        } else {\n          targetAny[property] = jsonApply(new ctr(), newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        }\n      } else {\n        targetAny[property] = newValue;\n      }\n    } catch (error) {\n      Logger.warn(`unable to set [${propertyPath}] in [${targetClass == null ? void 0 : targetClass.name}]; nested error is: ${error.message}`);\n    }\n  }\n  return target;\n}\nfunction keyMapper(data, key) {\n  return data.map((dataObject) => dataObject == null ? void 0 : dataObject[key]);\n}\nfunction classify(value) {\n  if (value == null) {\n    return null;\n  }\n  if (isHtmlElement(value) || isDate(value)) {\n    return \"primitive\";\n  }\n  if (isArray(value)) {\n    return \"array\";\n  }\n  if (isObject(value)) {\n    return isPlainObject(value) ? \"object\" : CLASS_INSTANCE_TYPE;\n  }\n  if (isFunction(value)) {\n    return \"function\";\n  }\n  return \"primitive\";\n}\n\n// packages/ag-charts-community/src/chart/factory/seriesRegistry.ts\nvar SeriesRegistry = class {\n  constructor() {\n    this.seriesMap = /* @__PURE__ */ new Map();\n    this.themeTemplates = /* @__PURE__ */ new Map();\n  }\n  register(seriesType, {\n    chartTypes: [chartType2],\n    instanceConstructor,\n    defaultAxes,\n    themeTemplate,\n    enterpriseThemeTemplate,\n    paletteFactory,\n    solo,\n    stackable,\n    groupable,\n    stackedByDefault,\n    swapDefaultAxesCondition,\n    hidden\n  }) {\n    this.setThemeTemplate(seriesType, themeTemplate, enterpriseThemeTemplate);\n    this.seriesMap.set(seriesType, {\n      instanceConstructor,\n      defaultAxes,\n      paletteFactory,\n      solo,\n      stackable,\n      groupable,\n      stackedByDefault,\n      swapDefaultAxesCondition\n    });\n    chartTypes.set(seriesType, chartType2);\n    if (!hidden) {\n      publicChartTypes.set(seriesType, chartType2);\n    }\n  }\n  create(seriesType, moduleContext) {\n    var _a;\n    const SeriesConstructor = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.instanceConstructor;\n    if (SeriesConstructor) {\n      return new SeriesConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown series type: ${seriesType}`);\n  }\n  cloneDefaultAxes(seriesType) {\n    var _a;\n    const defaultAxes = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.defaultAxes;\n    return defaultAxes ? { axes: deepClone(defaultAxes) } : null;\n  }\n  setThemeTemplate(seriesType, themeTemplate, enterpriseThemeTemplate = {}) {\n    const currentTemplate = this.themeTemplates.get(seriesType);\n    this.themeTemplates.set(seriesType, {\n      community: mergeDefaults(themeTemplate, currentTemplate == null ? void 0 : currentTemplate.community),\n      enterprise: mergeDefaults(enterpriseThemeTemplate, themeTemplate, currentTemplate == null ? void 0 : currentTemplate.community)\n    });\n  }\n  getThemeTemplate(seriesType) {\n    const themeTemplate = this.themeTemplates.get(seriesType);\n    return enterpriseModule.isEnterprise ? themeTemplate == null ? void 0 : themeTemplate.enterprise : themeTemplate == null ? void 0 : themeTemplate.community;\n  }\n  getPaletteFactory(seriesType) {\n    var _a;\n    return (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.paletteFactory;\n  }\n  isSolo(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.solo) != null ? _b : false;\n  }\n  isGroupable(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.groupable) != null ? _b : false;\n  }\n  isStackable(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.stackable) != null ? _b : false;\n  }\n  isStackedByDefault(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.stackedByDefault) != null ? _b : false;\n  }\n  isDefaultAxisSwapNeeded(options) {\n    var _a, _b, _c;\n    let result;\n    for (const series of (_a = options.series) != null ? _a : []) {\n      const { type = \"line\" } = series;\n      const isDefaultAxisSwapped = (_c = (_b = this.seriesMap.get(type)) == null ? void 0 : _b.swapDefaultAxesCondition) == null ? void 0 : _c.call(_b, series);\n      if (isDefaultAxisSwapped != null) {\n        if (result != null && result != isDefaultAxisSwapped) {\n          throw new Error(\"AG Charts - The provided series have incompatible directions\");\n        }\n        result = isDefaultAxisSwapped;\n      }\n    }\n    return result;\n  }\n};\nvar seriesRegistry = new SeriesRegistry();\n\n// packages/ag-charts-community/src/chart/factory/legendRegistry.ts\nvar LegendRegistry = class {\n  constructor() {\n    this.legendMap = /* @__PURE__ */ new Map();\n    this.themeTemplates = /* @__PURE__ */ new Map();\n  }\n  register(legendType, { optionsKey, instanceConstructor, themeTemplate }) {\n    this.legendMap.set(legendType, { optionsKey, instanceConstructor });\n    this.themeTemplates.set(optionsKey, themeTemplate);\n  }\n  create(legendType, moduleContext) {\n    var _a;\n    const LegendConstructor = (_a = this.legendMap.get(legendType)) == null ? void 0 : _a.instanceConstructor;\n    if (LegendConstructor) {\n      return new LegendConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown legend type: ${legendType}`);\n  }\n  getThemeTemplates() {\n    return Object.fromEntries(this.themeTemplates);\n  }\n  getKeys() {\n    return Array.from(this.legendMap.entries()).reduce(\n      (result, [legendType, record]) => {\n        result[legendType] = record.optionsKey;\n        return result;\n      },\n      {}\n    );\n  }\n};\nvar legendRegistry = new LegendRegistry();\n\n// packages/ag-charts-community/src/chart/themes/constants.ts\nvar FONT_SIZE = /* @__PURE__ */ ((FONT_SIZE2) => {\n  FONT_SIZE2[FONT_SIZE2[\"SMALL\"] = 12] = \"SMALL\";\n  FONT_SIZE2[FONT_SIZE2[\"MEDIUM\"] = 13] = \"MEDIUM\";\n  FONT_SIZE2[FONT_SIZE2[\"LARGE\"] = 17] = \"LARGE\";\n  return FONT_SIZE2;\n})(FONT_SIZE || {});\nvar FONT_WEIGHT = /* @__PURE__ */ ((FONT_WEIGHT3) => {\n  FONT_WEIGHT3[\"NORMAL\"] = \"normal\";\n  FONT_WEIGHT3[\"BOLD\"] = \"bold\";\n  FONT_WEIGHT3[\"BOLDER\"] = \"bolder\";\n  FONT_WEIGHT3[\"LIGHTER\"] = \"lighter\";\n  return FONT_WEIGHT3;\n})(FONT_WEIGHT || {});\nvar POSITION = /* @__PURE__ */ ((POSITION3) => {\n  POSITION3[\"TOP\"] = \"top\";\n  POSITION3[\"RIGHT\"] = \"right\";\n  POSITION3[\"BOTTOM\"] = \"bottom\";\n  POSITION3[\"LEFT\"] = \"left\";\n  return POSITION3;\n})(POSITION || {});\nvar CARTESIAN_AXIS_TYPE = /* @__PURE__ */ ((CARTESIAN_AXIS_TYPE2) => {\n  CARTESIAN_AXIS_TYPE2[\"CATEGORY\"] = \"category\";\n  CARTESIAN_AXIS_TYPE2[\"ORDINAL_TIME\"] = \"ordinal-time\";\n  CARTESIAN_AXIS_TYPE2[\"NUMBER\"] = \"number\";\n  CARTESIAN_AXIS_TYPE2[\"TIME\"] = \"time\";\n  CARTESIAN_AXIS_TYPE2[\"LOG\"] = \"log\";\n  return CARTESIAN_AXIS_TYPE2;\n})(CARTESIAN_AXIS_TYPE || {});\nvar POLAR_AXIS_TYPE = /* @__PURE__ */ ((POLAR_AXIS_TYPE2) => {\n  POLAR_AXIS_TYPE2[\"ANGLE_CATEGORY\"] = \"angle-category\";\n  POLAR_AXIS_TYPE2[\"ANGLE_NUMBER\"] = \"angle-number\";\n  POLAR_AXIS_TYPE2[\"RADIUS_CATEGORY\"] = \"radius-category\";\n  POLAR_AXIS_TYPE2[\"RADIUS_NUMBER\"] = \"radius-number\";\n  return POLAR_AXIS_TYPE2;\n})(POLAR_AXIS_TYPE || {});\nvar POLAR_AXIS_SHAPE = /* @__PURE__ */ ((POLAR_AXIS_SHAPE2) => {\n  POLAR_AXIS_SHAPE2[\"CIRCLE\"] = \"circle\";\n  POLAR_AXIS_SHAPE2[\"POLYGON\"] = \"polygon\";\n  return POLAR_AXIS_SHAPE2;\n})(POLAR_AXIS_SHAPE || {});\n\n// packages/ag-charts-community/src/chart/themes/defaultColors.ts\nvar DEFAULT_FILLS = {\n  BLUE: \"#5090dc\",\n  ORANGE: \"#ffa03a\",\n  GREEN: \"#459d55\",\n  CYAN: \"#34bfe1\",\n  YELLOW: \"#e1cc00\",\n  VIOLET: \"#9669cb\",\n  GRAY: \"#b5b5b5\",\n  MAGENTA: \"#bd5aa7\",\n  BROWN: \"#8a6224\",\n  RED: \"#ef5452\"\n};\nvar DEFAULT_STROKES = {\n  BLUE: \"#2b5c95\",\n  ORANGE: \"#cc6f10\",\n  GREEN: \"#1e652e\",\n  CYAN: \"#18859e\",\n  YELLOW: \"#a69400\",\n  VIOLET: \"#603c88\",\n  GRAY: \"#575757\",\n  MAGENTA: \"#7d2f6d\",\n  BROWN: \"#4f3508\",\n  RED: \"#a82529\"\n};\n\n// packages/ag-charts-community/src/chart/themes/symbols.ts\nvar IS_DARK_THEME = Symbol(\"is-dark-theme\");\nvar EXTENDS_AXES_DEFAULTS = Symbol(\"extends-axes-defaults\");\nvar EXTENDS_AXES_LINE_DEFAULTS = Symbol(\"extends-axes-line-defaults\");\nvar EXTENDS_AXES_TICK_DEFAULTS = Symbol(\"extends-axes-tick-defaults\");\nvar EXTENDS_AXES_GRID_LINE_DEFAULTS = Symbol(\"extends-axes-grid-line-defaults\");\nvar EXTENDS_SERIES_DEFAULTS = Symbol(\"extends-series-defaults\");\nvar EXTENDS_CARTESIAN_MARKER_DEFAULTS = Symbol(\"extends-cartesian-marker-defaults\");\nvar DEFAULT_FONT_FAMILY = Symbol(\"default-font\");\nvar DEFAULT_LABEL_COLOUR = Symbol(\"default-label-colour\");\nvar DEFAULT_INVERTED_LABEL_COLOUR = Symbol(\"default-inverted-label-colour\");\nvar DEFAULT_INSIDE_SERIES_LABEL_COLOUR = Symbol(\"default-inside-series-label-colour\");\nvar DEFAULT_MUTED_LABEL_COLOUR = Symbol(\"default-muted-label-colour\");\nvar DEFAULT_AXIS_GRID_COLOUR = Symbol(\"default-axis-grid-colour\");\nvar DEFAULT_AXIS_LINE_COLOUR = Symbol(\"default-axis-line-colour\");\nvar DEFAULT_CROSS_LINES_COLOUR = Symbol(\"default-cross-lines-colour\");\nvar DEFAULT_BACKGROUND_COLOUR = Symbol(\"default-background-colour\");\nvar DEFAULT_SHADOW_COLOUR = Symbol(\"default-shadow-colour\");\nvar DEFAULT_COLOURS = Symbol(\"default-colours\");\nvar DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS = Symbol(\n  \"default-waterfall-series-positive-colors\"\n);\nvar DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS = Symbol(\n  \"default-waterfall-series-negative-colors\"\n);\nvar DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS = Symbol(\n  \"default-waterfall-series-total-colors\"\n);\nvar DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE = Symbol(\n  \"default-waterfall-series-connector-line-stroke\"\n);\nvar DEFAULT_POLAR_SERIES_STROKE = Symbol(\"default-polar-series-stroke\");\nvar DEFAULT_DIVERGING_SERIES_COLOUR_RANGE = Symbol(\n  \"default-diverging-series-colour-range\"\n);\nvar DEFAULT_HIERARCHY_FILLS = Symbol(\"default-hierarchy-fills\");\nvar DEFAULT_HIERARCHY_STROKES = Symbol(\"default-hierarchy-strokes\");\nvar DEFAULT_ANNOTATION_STROKE = Symbol(\"default-annotation-stroke\");\nvar DEFAULT_ANNOTATION_BACKGROUND_FILL = Symbol(\"default-annotation-background-fill\");\nvar DEFAULT_ANNOTATION_HANDLE_FILL = Symbol(\"default-annotation-handle-fill\");\n\n// packages/ag-charts-community/src/chart/themes/chartTheme.ts\nvar DEFAULT_BACKGROUND_FILL = \"white\";\nvar DEFAULT_PALETTE = {\n  fills: Object.values(DEFAULT_FILLS),\n  strokes: Object.values(DEFAULT_STROKES)\n};\nvar CHART_TYPE_CONFIG = {\n  get cartesian() {\n    return { seriesTypes: chartTypes.cartesianTypes, commonOptions: [\"zoom\", \"navigator\"] };\n  },\n  get polar() {\n    return { seriesTypes: chartTypes.polarTypes, commonOptions: [] };\n  },\n  get hierarchy() {\n    return { seriesTypes: chartTypes.hierarchyTypes, commonOptions: [] };\n  },\n  get topology() {\n    return { seriesTypes: chartTypes.topologyTypes, commonOptions: [] };\n  }\n};\nvar CHART_TYPE_SPECIFIC_COMMON_OPTIONS = Object.values(CHART_TYPE_CONFIG).reduce((r, { commonOptions }) => r.concat(commonOptions), []);\nvar _ChartTheme = class _ChartTheme {\n  getPalette() {\n    return DEFAULT_PALETTE;\n  }\n  static getAxisDefaults(overrideDefaults) {\n    return mergeDefaults(overrideDefaults, {\n      title: {\n        enabled: false,\n        text: \"Axis Title\",\n        spacing: 25,\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      },\n      label: {\n        fontSize: 12 /* SMALL */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        padding: 5,\n        color: DEFAULT_LABEL_COLOUR,\n        avoidCollisions: true\n      },\n      line: {\n        enabled: true,\n        width: 1,\n        color: DEFAULT_AXIS_LINE_COLOUR\n      },\n      tick: {\n        enabled: false,\n        width: 1,\n        color: DEFAULT_AXIS_LINE_COLOUR\n      },\n      gridLine: {\n        enabled: true,\n        style: [{ stroke: DEFAULT_AXIS_GRID_COLOUR, lineDash: [] }]\n      },\n      crossLines: {\n        enabled: false,\n        fill: DEFAULT_CROSS_LINES_COLOUR,\n        stroke: DEFAULT_CROSS_LINES_COLOUR,\n        fillOpacity: 0.1,\n        strokeWidth: 1,\n        label: {\n          enabled: false,\n          fontSize: 12 /* SMALL */,\n          fontFamily: DEFAULT_FONT_FAMILY,\n          padding: 5,\n          color: DEFAULT_LABEL_COLOUR\n        }\n      }\n    });\n  }\n  static getSeriesDefaults() {\n    return {\n      visible: true,\n      showInLegend: true,\n      highlightStyle: {\n        item: { fill: \"#ffffff54\", stroke: `#0006`, strokeWidth: 2 },\n        series: { dimOpacity: 1 }\n      },\n      nodeClickRange: \"exact\",\n      tooltip: { enabled: true }\n    };\n  }\n  static getCartesianSeriesMarkerDefaults() {\n    return { enabled: true, shape: \"circle\", size: 7, strokeWidth: 1 };\n  }\n  static getChartDefaults() {\n    return {\n      background: { visible: true, fill: DEFAULT_BACKGROUND_COLOUR },\n      padding: { top: 20, right: 20, bottom: 20, left: 20 },\n      keyboard: { enabled: true },\n      title: {\n        enabled: false,\n        text: \"Title\",\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 17 /* LARGE */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR,\n        wrapping: \"hyphenate\"\n      },\n      subtitle: {\n        enabled: false,\n        text: \"Subtitle\",\n        spacing: 20,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_MUTED_LABEL_COLOUR,\n        wrapping: \"hyphenate\"\n      },\n      footnote: {\n        enabled: false,\n        text: \"Footnote\",\n        spacing: 20,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: \"rgb(140, 140, 140)\",\n        wrapping: \"hyphenate\"\n      },\n      legend: {\n        position: \"bottom\" /* BOTTOM */,\n        spacing: 30,\n        listeners: {},\n        item: {\n          paddingX: 16,\n          paddingY: 8,\n          marker: { size: 15, padding: 8 },\n          toggleSeriesVisible: true,\n          label: {\n            color: DEFAULT_LABEL_COLOUR,\n            fontSize: 12 /* SMALL */,\n            fontFamily: DEFAULT_FONT_FAMILY\n          }\n        },\n        reverseOrder: false,\n        pagination: {\n          marker: { size: 12 },\n          activeStyle: { fill: DEFAULT_LABEL_COLOUR },\n          inactiveStyle: { fill: DEFAULT_MUTED_LABEL_COLOUR },\n          highlightStyle: { fill: DEFAULT_LABEL_COLOUR },\n          label: { color: DEFAULT_LABEL_COLOUR }\n        }\n      },\n      tooltip: {\n        enabled: true,\n        darkTheme: IS_DARK_THEME,\n        range: \"nearest\",\n        delay: 0\n      },\n      overlays: {\n        loading: { darkTheme: IS_DARK_THEME },\n        noData: { darkTheme: IS_DARK_THEME },\n        noVisibleSeries: { darkTheme: IS_DARK_THEME }\n      },\n      listeners: {}\n    };\n  }\n  constructor(options = {}) {\n    const { overrides, palette: palette10 } = deepClone(options);\n    const defaults = this.createChartConfigPerChartType(this.getDefaults());\n    if (overrides) {\n      this.mergeOverrides(defaults, overrides);\n    }\n    this.config = Object.freeze(this.templateTheme(defaults));\n    this.palette = mergeDefaults(palette10, this.getPalette());\n  }\n  mergeOverrides(defaults, overrides) {\n    for (const { seriesTypes, commonOptions } of Object.values(CHART_TYPE_CONFIG)) {\n      const cleanedCommon = __spreadValues({}, overrides.common);\n      for (const commonKey of CHART_TYPE_SPECIFIC_COMMON_OPTIONS) {\n        if (!commonOptions.includes(commonKey)) {\n          delete cleanedCommon[commonKey];\n        }\n      }\n      if (!cleanedCommon)\n        continue;\n      for (const s of seriesTypes) {\n        const seriesType = s;\n        defaults[seriesType] = mergeDefaults(cleanedCommon, defaults[seriesType]);\n      }\n    }\n    chartTypes.seriesTypes.forEach((s) => {\n      const seriesType = s;\n      if (overrides[seriesType]) {\n        defaults[seriesType] = mergeDefaults(overrides[seriesType], defaults[seriesType]);\n      }\n    });\n  }\n  createChartConfigPerChartType(config) {\n    for (const [nextType, { seriesTypes }] of Object.entries(CHART_TYPE_CONFIG)) {\n      const typeDefaults = chartDefaults.get(nextType);\n      for (const seriesType of seriesTypes) {\n        config[seriesType] || (config[seriesType] = deepClone(typeDefaults));\n      }\n    }\n    return config;\n  }\n  getDefaults() {\n    const getOverridesByType = (chartType2, seriesTypes) => {\n      var _a;\n      const result = {};\n      const chartTypeDefaults = __spreadValues(__spreadValues(__spreadValues({\n        axes: {}\n      }, legendRegistry.getThemeTemplates()), _ChartTheme.getChartDefaults()), chartDefaults.get(chartType2));\n      for (const seriesType of seriesTypes) {\n        result[seriesType] = mergeDefaults(\n          seriesRegistry.getThemeTemplate(seriesType),\n          (_a = result[seriesType]) != null ? _a : deepClone(chartTypeDefaults)\n        );\n        const { axes } = result[seriesType];\n        for (const axisType of axisRegistry.keys()) {\n          axes[axisType] = mergeDefaults(\n            axes[axisType],\n            axisRegistry.getThemeTemplate(axisType),\n            chartType2 === \"cartesian\" && _ChartTheme.cartesianAxisDefault[axisType]\n          );\n        }\n      }\n      return result;\n    };\n    return mergeDefaults(\n      getOverridesByType(\"cartesian\", chartTypes.cartesianTypes),\n      getOverridesByType(\"polar\", chartTypes.polarTypes),\n      getOverridesByType(\"hierarchy\", chartTypes.hierarchyTypes),\n      getOverridesByType(\"topology\", chartTypes.topologyTypes)\n    );\n  }\n  templateTheme(themeTemplate) {\n    const themeInstance = deepClone(themeTemplate);\n    const { extensions, properties } = this.getTemplateParameters();\n    jsonWalk(themeInstance, (node) => {\n      if (node[\"__extends__\"]) {\n        const extendsValue = node[\"__extends__\"];\n        const source = extensions.get(extendsValue);\n        if (source == null) {\n          throw new Error(`AG Charts - no template variable provided for: ${extendsValue}`);\n        }\n        Object.keys(source).forEach((key) => {\n          if (!(key in node)) {\n            node[key] = source[key];\n          } else if (isObject(node[key])) {\n            node[key] = mergeDefaults(node[key], source[key]);\n          }\n        });\n        delete node[\"__extends__\"];\n      }\n      if (isArray(node)) {\n        for (let i = 0; i < node.length; i++) {\n          const symbol = node[i];\n          if (properties.has(symbol)) {\n            node[i] = properties.get(symbol);\n          }\n        }\n      } else {\n        for (const [name, value] of Object.entries(node)) {\n          if (properties.has(value)) {\n            node[name] = properties.get(value);\n          }\n        }\n      }\n    });\n    return deepClone(themeInstance);\n  }\n  static getDefaultColors() {\n    return {\n      fills: DEFAULT_FILLS,\n      strokes: DEFAULT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: DEFAULT_FILLS.BLUE,\n      stroke: DEFAULT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: DEFAULT_FILLS.ORANGE,\n      stroke: DEFAULT_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: DEFAULT_FILLS.GRAY,\n      stroke: DEFAULT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const extensions = /* @__PURE__ */ new Map();\n    extensions.set(EXTENDS_AXES_DEFAULTS, _ChartTheme.getAxisDefaults());\n    extensions.set(EXTENDS_AXES_LINE_DEFAULTS, _ChartTheme.getAxisDefaults().line);\n    extensions.set(EXTENDS_AXES_TICK_DEFAULTS, _ChartTheme.getAxisDefaults().tick);\n    extensions.set(EXTENDS_AXES_GRID_LINE_DEFAULTS, _ChartTheme.getAxisDefaults().gridLine);\n    extensions.set(EXTENDS_SERIES_DEFAULTS, _ChartTheme.getSeriesDefaults());\n    extensions.set(EXTENDS_CARTESIAN_MARKER_DEFAULTS, _ChartTheme.getCartesianSeriesMarkerDefaults());\n    const properties = /* @__PURE__ */ new Map();\n    properties.set(IS_DARK_THEME, false);\n    properties.set(DEFAULT_FONT_FAMILY, \"Verdana, sans-serif\");\n    properties.set(DEFAULT_LABEL_COLOUR, \"rgb(70, 70, 70)\");\n    properties.set(DEFAULT_INVERTED_LABEL_COLOUR, \"white\");\n    properties.set(DEFAULT_MUTED_LABEL_COLOUR, \"rgb(140, 140, 140)\");\n    properties.set(DEFAULT_AXIS_GRID_COLOUR, \"rgb(224,234,241)\");\n    properties.set(DEFAULT_AXIS_LINE_COLOUR, \"rgb(195, 195, 195)\");\n    properties.set(DEFAULT_CROSS_LINES_COLOUR, \"rgb(70, 70, 70)\");\n    properties.set(DEFAULT_INSIDE_SERIES_LABEL_COLOUR, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_BACKGROUND_COLOUR, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_SHADOW_COLOUR, \"rgba(0, 0, 0, 0.5)\");\n    properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      DEFAULT_FILLS.ORANGE,\n      DEFAULT_FILLS.YELLOW,\n      DEFAULT_FILLS.GREEN\n    ]);\n    properties.set(DEFAULT_HIERARCHY_FILLS, [\"#ffffff\", \"#e0e5ea\", \"#c1ccd5\", \"#a3b4c1\", \"#859cad\"]);\n    properties.set(DEFAULT_HIERARCHY_STROKES, [\"#ffffff\", \"#c5cbd1\", \"#a4b1bd\", \"#8498a9\", \"#648096\"]);\n    properties.set(DEFAULT_POLAR_SERIES_STROKE, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_COLOURS, _ChartTheme.getDefaultColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _ChartTheme.getWaterfallSeriesDefaultPositiveColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _ChartTheme.getWaterfallSeriesDefaultNegativeColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _ChartTheme.getWaterfallSeriesDefaultTotalColors());\n    properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _ChartTheme.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    properties.set(DEFAULT_ANNOTATION_STROKE, DEFAULT_STROKES.BLUE);\n    properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, DEFAULT_FILLS.BLUE);\n    properties.set(DEFAULT_ANNOTATION_HANDLE_FILL, DEFAULT_BACKGROUND_FILL);\n    return {\n      extensions,\n      properties\n    };\n  }\n};\n_ChartTheme.cartesianAxisDefault = {\n  [\"number\" /* NUMBER */]: _ChartTheme.getAxisDefaults({ line: { enabled: false } }),\n  [\"log\" /* LOG */]: _ChartTheme.getAxisDefaults({ base: 10, line: { enabled: false } }),\n  [\"category\" /* CATEGORY */]: _ChartTheme.getAxisDefaults({\n    groupPaddingInner: 0.1,\n    label: { autoRotate: true },\n    gridLine: { enabled: false }\n  }),\n  [\"time\" /* TIME */]: _ChartTheme.getAxisDefaults({ gridLine: { enabled: false } }),\n  \"grouped-category\": _ChartTheme.getAxisDefaults()\n};\nvar ChartTheme = _ChartTheme;\n\n// packages/ag-charts-community/src/chart/themes/darkTheme.ts\nvar DEFAULT_DARK_BACKGROUND_FILL = \"#192232\";\nvar DEFAULT_DARK_FILLS = {\n  BLUE: \"#5090dc\",\n  ORANGE: \"#ffa03a\",\n  GREEN: \"#459d55\",\n  CYAN: \"#34bfe1\",\n  YELLOW: \"#e1cc00\",\n  VIOLET: \"#9669cb\",\n  GRAY: \"#b5b5b5\",\n  MAGENTA: \"#bd5aa7\",\n  BROWN: \"#8a6224\",\n  RED: \"#ef5452\"\n};\nvar DEFAULT_DARK_STROKES = {\n  BLUE: \"#74a8e6\",\n  ORANGE: \"#ffbe70\",\n  GREEN: \"#6cb176\",\n  CYAN: \"#75d4ef\",\n  YELLOW: \"#f6e559\",\n  VIOLET: \"#aa86d8\",\n  GRAY: \"#a1a1a1\",\n  MAGENTA: \"#ce7ab9\",\n  BROWN: \"#997b52\",\n  RED: \"#ff7872\"\n};\nvar palette = {\n  fills: Object.values(DEFAULT_DARK_FILLS),\n  strokes: Object.values(DEFAULT_DARK_STROKES)\n};\nvar DarkTheme = class _DarkTheme extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: DEFAULT_DARK_FILLS,\n      strokes: DEFAULT_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.BLUE,\n      stroke: DEFAULT_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.ORANGE,\n      stroke: DEFAULT_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.GRAY,\n      stroke: DEFAULT_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(IS_DARK_THEME, true);\n    result.properties.set(DEFAULT_COLOURS, _DarkTheme.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _DarkTheme.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _DarkTheme.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _DarkTheme.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _DarkTheme.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_POLAR_SERIES_STROKE, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_LABEL_COLOUR, \"white\");\n    result.properties.set(DEFAULT_MUTED_LABEL_COLOUR, \"#7D91A0\");\n    result.properties.set(DEFAULT_AXIS_GRID_COLOUR, \"#545A6E\");\n    result.properties.set(DEFAULT_CROSS_LINES_COLOUR, \"white\");\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      DEFAULT_DARK_FILLS.ORANGE,\n      DEFAULT_DARK_FILLS.YELLOW,\n      DEFAULT_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(DEFAULT_HIERARCHY_FILLS, [\"#192834\", \"#253746\", \"#324859\", \"#3f596c\", \"#4d6a80\"]);\n    result.properties.set(DEFAULT_HIERARCHY_STROKES, [\"#192834\", \"#3b5164\", \"#496275\", \"#577287\", \"#668399\"]);\n    result.properties.set(DEFAULT_BACKGROUND_COLOUR, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_INSIDE_SERIES_LABEL_COLOUR, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, DEFAULT_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, DEFAULT_DARK_FILLS.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_HANDLE_FILL, DEFAULT_DARK_BACKGROUND_FILL);\n    return result;\n  }\n  getPalette() {\n    return palette;\n  }\n  constructor(options) {\n    super(options);\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/materialDark.ts\nvar MATERIAL_DARK_FILLS = {\n  BLUE: \"#2196F3\",\n  ORANGE: \"#FF9800\",\n  GREEN: \"#4CAF50\",\n  CYAN: \"#00BCD4\",\n  YELLOW: \"#FFEB3B\",\n  VIOLET: \"#7E57C2\",\n  GRAY: \"#9E9E9E\",\n  MAGENTA: \"#F06292\",\n  BROWN: \"#795548\",\n  RED: \"#F44336\"\n};\nvar MATERIAL_DARK_STROKES = {\n  BLUE: \"#90CAF9\",\n  ORANGE: \"#FFCC80\",\n  GREEN: \"#A5D6A7\",\n  CYAN: \"#80DEEA\",\n  YELLOW: \"#FFF9C4\",\n  VIOLET: \"#B39DDB\",\n  GRAY: \"#E0E0E0\",\n  MAGENTA: \"#F48FB1\",\n  BROWN: \"#A1887F\",\n  RED: \"#EF9A9A\"\n};\nvar palette2 = {\n  fills: Object.values(MATERIAL_DARK_FILLS),\n  strokes: Object.values(MATERIAL_DARK_STROKES)\n};\nvar MaterialDark = class _MaterialDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: MATERIAL_DARK_FILLS,\n      strokes: MATERIAL_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.BLUE,\n      stroke: MATERIAL_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.RED,\n      stroke: MATERIAL_DARK_STROKES.RED,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.GRAY,\n      stroke: MATERIAL_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _MaterialDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _MaterialDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _MaterialDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _MaterialDark.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      MATERIAL_DARK_FILLS.ORANGE,\n      MATERIAL_DARK_FILLS.YELLOW,\n      MATERIAL_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _MaterialDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, MATERIAL_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, MATERIAL_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette2;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/materialLight.ts\nvar MATERIAL_LIGHT_FILLS = {\n  BLUE: \"#2196F3\",\n  ORANGE: \"#FF9800\",\n  GREEN: \"#4CAF50\",\n  CYAN: \"#00BCD4\",\n  YELLOW: \"#FFEB3B\",\n  VIOLET: \"#7E57C2\",\n  GRAY: \"#9E9E9E\",\n  MAGENTA: \"#F06292\",\n  BROWN: \"#795548\",\n  RED: \"#F44336\"\n};\nvar MATERIAL_LIGHT_STROKES = {\n  BLUE: \"#1565C0\",\n  ORANGE: \"#E65100\",\n  GREEN: \"#2E7D32\",\n  CYAN: \"#00838F\",\n  YELLOW: \"#F9A825\",\n  VIOLET: \"#4527A0\",\n  GRAY: \"#616161\",\n  MAGENTA: \"#C2185B\",\n  BROWN: \"#4E342E\",\n  RED: \"#B71C1C\"\n};\nvar palette3 = {\n  fills: Object.values(MATERIAL_LIGHT_FILLS),\n  strokes: Object.values(MATERIAL_LIGHT_STROKES)\n};\nvar MaterialLight = class _MaterialLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: MATERIAL_LIGHT_FILLS,\n      strokes: MATERIAL_LIGHT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.BLUE,\n      stroke: MATERIAL_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.RED,\n      stroke: MATERIAL_LIGHT_STROKES.RED,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.GRAY,\n      stroke: MATERIAL_LIGHT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _MaterialLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _MaterialLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _MaterialLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _MaterialLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      MATERIAL_LIGHT_FILLS.ORANGE,\n      MATERIAL_LIGHT_FILLS.YELLOW,\n      MATERIAL_LIGHT_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _MaterialLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, MATERIAL_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, MATERIAL_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette3;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/polychromaDark.ts\nvar POLYCHROMA_DARK_FILLS = {\n  BLUE: \"#436ff4\",\n  PURPLE: \"#9a7bff\",\n  MAGENTA: \"#d165d2\",\n  PINK: \"#f0598b\",\n  RED: \"#f47348\",\n  ORANGE: \"#f2a602\",\n  YELLOW: \"#e9e201\",\n  GREEN: \"#21b448\",\n  CYAN: \"#00b9a2\",\n  MODERATE_BLUE: \"#00aee4\"\n};\nvar POLYCHROMA_DARK_STROKES = {\n  BLUE: \"#6698ff\",\n  PURPLE: \"#c0a3ff\",\n  MAGENTA: \"#fc8dfc\",\n  PINK: \"#ff82b1\",\n  RED: \"#ff9b70\",\n  ORANGE: \"#ffcf4e\",\n  YELLOW: \"#ffff58\",\n  GREEN: \"#58dd70\",\n  CYAN: \"#51e2c9\",\n  MODERATE_BLUE: \"#4fd7ff\"\n};\nvar POLYCHROMA_DARK_FILL_GRAY = \"#bbbbbb\";\nvar POLYCHROMA_DARK_STROKE_GRAY = \"#eeeeee\";\nvar palette4 = {\n  fills: Object.values(POLYCHROMA_DARK_FILLS),\n  strokes: Object.values(POLYCHROMA_DARK_STROKES)\n};\nvar PolychromaDark = class _PolychromaDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: POLYCHROMA_DARK_FILLS,\n      strokes: POLYCHROMA_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILLS.BLUE,\n      stroke: POLYCHROMA_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILLS.RED,\n      stroke: POLYCHROMA_DARK_STROKES.RED,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILL_GRAY,\n      stroke: POLYCHROMA_DARK_STROKE_GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _PolychromaDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _PolychromaDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _PolychromaDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _PolychromaDark.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      POLYCHROMA_DARK_FILLS.BLUE,\n      POLYCHROMA_DARK_FILLS.RED\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _PolychromaDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, POLYCHROMA_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, POLYCHROMA_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette4;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/polychromaLight.ts\nvar POLYCHROMA_LIGHT_FILLS = {\n  BLUE: \"#436ff4\",\n  PURPLE: \"#9a7bff\",\n  MAGENTA: \"#d165d2\",\n  PINK: \"#f0598b\",\n  RED: \"#f47348\",\n  ORANGE: \"#f2a602\",\n  YELLOW: \"#e9e201\",\n  GREEN: \"#21b448\",\n  CYAN: \"#00b9a2\",\n  MODERATE_BLUE: \"#00aee4\"\n};\nvar POLYCHROMA_LIGHT_STROKES = {\n  BLUE: \"#2346c9\",\n  PURPLE: \"#7653d4\",\n  MAGENTA: \"#a73da9\",\n  PINK: \"#c32d66\",\n  RED: \"#c84b1c\",\n  ORANGE: \"#c87f00\",\n  YELLOW: \"#c1b900\",\n  GREEN: \"#008c1c\",\n  CYAN: \"#00927c\",\n  MODERATE_BLUE: \"#0087bb\"\n};\nvar POLYCHROMA_LIGHT_FILL_GRAY = \"#bbbbbb\";\nvar POLYCHROMA_LIGHT_STROKE_GRAY = \"#888888\";\nvar palette5 = {\n  fills: Object.values(POLYCHROMA_LIGHT_FILLS),\n  strokes: Object.values(POLYCHROMA_LIGHT_STROKES)\n};\nvar PolychromaLight = class _PolychromaLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: POLYCHROMA_LIGHT_FILLS,\n      strokes: POLYCHROMA_LIGHT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILLS.BLUE,\n      stroke: POLYCHROMA_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILLS.RED,\n      stroke: POLYCHROMA_LIGHT_STROKES.RED,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILL_GRAY,\n      stroke: POLYCHROMA_LIGHT_STROKE_GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _PolychromaLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _PolychromaLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _PolychromaLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _PolychromaLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      POLYCHROMA_LIGHT_FILLS.BLUE,\n      POLYCHROMA_LIGHT_FILLS.RED\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _PolychromaLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, POLYCHROMA_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, POLYCHROMA_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette5;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/sheetsDark.ts\nvar SHEETS_DARK_FILLS = {\n  BLUE: \"#4472C4\",\n  ORANGE: \"#ED7D31\",\n  GRAY: \"#A5A5A5\",\n  YELLOW: \"#FFC000\",\n  MODERATE_BLUE: \"#5B9BD5\",\n  GREEN: \"#70AD47\",\n  DARK_GRAY: \"#7B7B7B\",\n  DARK_BLUE: \"#264478\",\n  VERY_DARK_GRAY: \"#636363\",\n  DARK_YELLOW: \"#997300\"\n};\nvar SHEETS_DARK_STROKES = {\n  BLUE: \"#6899ee\",\n  ORANGE: \"#ffa55d\",\n  GRAY: \"#cdcdcd\",\n  YELLOW: \"#ffea53\",\n  MODERATE_BLUE: \"#82c3ff\",\n  GREEN: \"#96d56f\",\n  DARK_GRAY: \"#a1a1a1\",\n  DARK_BLUE: \"#47689f\",\n  VERY_DARK_GRAY: \"#878787\",\n  DARK_YELLOW: \"#c0993d\"\n};\nvar palette6 = {\n  fills: Object.values(SHEETS_DARK_FILLS),\n  strokes: Object.values(SHEETS_DARK_STROKES)\n};\nvar SheetsDark = class _SheetsDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: __spreadProps(__spreadValues({}, SHEETS_DARK_FILLS), { RED: SHEETS_DARK_FILLS.ORANGE }),\n      strokes: __spreadProps(__spreadValues({}, SHEETS_DARK_STROKES), { RED: SHEETS_DARK_STROKES.ORANGE })\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.BLUE,\n      stroke: SHEETS_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.ORANGE,\n      stroke: SHEETS_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.GRAY,\n      stroke: SHEETS_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _SheetsDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _SheetsDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _SheetsDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _SheetsDark.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      SHEETS_DARK_FILLS.ORANGE,\n      SHEETS_DARK_FILLS.YELLOW,\n      SHEETS_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _SheetsDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, SHEETS_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, SHEETS_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette6;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/sheetsLight.ts\nvar SHEETS_LIGHT_FILLS = {\n  BLUE: \"#5281d5\",\n  ORANGE: \"#ff8d44\",\n  GRAY: \"#b5b5b5\",\n  YELLOW: \"#ffd02f\",\n  MODERATE_BLUE: \"#6aabe6\",\n  GREEN: \"#7fbd57\",\n  DARK_GRAY: \"#8a8a8a\",\n  DARK_BLUE: \"#335287\",\n  VERY_DARK_GRAY: \"#717171\",\n  DARK_YELLOW: \"#a98220\"\n};\nvar SHEETS_LIGHT_STROKES = {\n  BLUE: \"#214d9b\",\n  ORANGE: \"#c25600\",\n  GRAY: \"#7f7f7f\",\n  YELLOW: \"#d59800\",\n  MODERATE_BLUE: \"#3575ac\",\n  GREEN: \"#4b861a\",\n  DARK_GRAY: \"#575757\",\n  DARK_BLUE: \"#062253\",\n  VERY_DARK_GRAY: \"#414141\",\n  DARK_YELLOW: \"#734f00\"\n};\nvar palette7 = {\n  fills: Object.values(SHEETS_LIGHT_FILLS),\n  strokes: Object.values(SHEETS_LIGHT_STROKES)\n};\nvar SheetsLight = class _SheetsLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: __spreadProps(__spreadValues({}, SHEETS_LIGHT_FILLS), { RED: SHEETS_LIGHT_FILLS.ORANGE }),\n      strokes: __spreadProps(__spreadValues({}, SHEETS_LIGHT_STROKES), { RED: SHEETS_LIGHT_STROKES.ORANGE })\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.BLUE,\n      stroke: SHEETS_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.ORANGE,\n      stroke: SHEETS_LIGHT_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.GRAY,\n      stroke: SHEETS_LIGHT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _SheetsLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _SheetsLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _SheetsLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _SheetsLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      SHEETS_LIGHT_FILLS.ORANGE,\n      SHEETS_LIGHT_FILLS.YELLOW,\n      SHEETS_LIGHT_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _SheetsLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, SHEETS_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, SHEETS_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette7;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/vividDark.ts\nvar VIVID_DARK_FILLS = {\n  BLUE: \"#0083ff\",\n  ORANGE: \"#ff6600\",\n  GREEN: \"#00af00\",\n  CYAN: \"#00ccff\",\n  YELLOW: \"#f7c700\",\n  VIOLET: \"#ac26ff\",\n  GRAY: \"#a7a7b7\",\n  MAGENTA: \"#e800c5\",\n  BROWN: \"#b54300\",\n  RED: \"#ff0000\"\n};\nvar VIVID_DARK_STROKES = {\n  BLUE: \"#67b7ff\",\n  ORANGE: \"#ffc24d\",\n  GREEN: \"#5cc86f\",\n  CYAN: \"#54ebff\",\n  VIOLET: \"#c18aff\",\n  YELLOW: \"#fff653\",\n  GRAY: \"#aeaeae\",\n  MAGENTA: \"#f078d4\",\n  BROWN: \"#ba8438\",\n  RED: \"#ff726e\"\n};\nvar palette8 = {\n  fills: Object.values(VIVID_DARK_FILLS),\n  strokes: Object.values(VIVID_DARK_STROKES)\n};\nvar VividDark = class _VividDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: VIVID_DARK_FILLS,\n      strokes: VIVID_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: VIVID_DARK_FILLS.BLUE,\n      stroke: VIVID_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: VIVID_DARK_FILLS.ORANGE,\n      stroke: VIVID_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: VIVID_DARK_FILLS.GRAY,\n      stroke: VIVID_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _VividDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _VividDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _VividDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _VividDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      VIVID_DARK_FILLS.ORANGE,\n      VIVID_DARK_FILLS.YELLOW,\n      VIVID_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _VividDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, VIVID_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, VIVID_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette8;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/vividLight.ts\nvar VIVID_FILLS = {\n  BLUE: \"#0083ff\",\n  ORANGE: \"#ff6600\",\n  GREEN: \"#00af00\",\n  CYAN: \"#00ccff\",\n  YELLOW: \"#f7c700\",\n  VIOLET: \"#ac26ff\",\n  GRAY: \"#a7a7b7\",\n  MAGENTA: \"#e800c5\",\n  BROWN: \"#b54300\",\n  RED: \"#ff0000\"\n};\nvar VIVID_STROKES = {\n  BLUE: \"#0f68c0\",\n  ORANGE: \"#d47100\",\n  GREEN: \"#007922\",\n  CYAN: \"#009ac2\",\n  VIOLET: \"#bca400\",\n  YELLOW: \"#753cac\",\n  GRAY: \"#646464\",\n  MAGENTA: \"#9b2685\",\n  BROWN: \"#6c3b00\",\n  RED: \"#cb0021\"\n};\nvar palette9 = {\n  fills: Object.values(VIVID_FILLS),\n  strokes: Object.values(VIVID_STROKES)\n};\nvar VividLight = class _VividLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: VIVID_FILLS,\n      strokes: VIVID_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: VIVID_FILLS.BLUE,\n      stroke: VIVID_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: VIVID_FILLS.ORANGE,\n      stroke: VIVID_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: VIVID_FILLS.GRAY,\n      stroke: VIVID_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _VividLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _VividLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _VividLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _VividLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      VIVID_FILLS.ORANGE,\n      VIVID_FILLS.YELLOW,\n      VIVID_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _VividLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, VIVID_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, VIVID_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette9;\n  }\n};\n\n// packages/ag-charts-community/src/chart/mapping/themes.ts\nvar lightTheme = () => new ChartTheme();\nvar darkTheme = () => new DarkTheme();\nvar lightThemes = {\n  undefined: lightTheme,\n  null: lightTheme,\n  \"ag-default\": lightTheme,\n  \"ag-sheets\": () => new SheetsLight(),\n  \"ag-polychroma\": () => new PolychromaLight(),\n  \"ag-vivid\": () => new VividLight(),\n  \"ag-material\": () => new MaterialLight()\n};\nvar darkThemes = {\n  undefined: darkTheme,\n  null: darkTheme,\n  \"ag-default-dark\": darkTheme,\n  \"ag-sheets-dark\": () => new SheetsDark(),\n  \"ag-polychroma-dark\": () => new PolychromaDark(),\n  \"ag-vivid-dark\": () => new VividDark(),\n  \"ag-material-dark\": () => new MaterialDark()\n};\nvar themes = __spreadValues(__spreadValues({}, darkThemes), lightThemes);\nfunction validateChartThemeObject(unknownObject) {\n  if (unknownObject === null) {\n    return;\n  }\n  let valid = true;\n  const { baseTheme, palette: palette10, overrides } = unknownObject;\n  if (baseTheme !== void 0 && typeof baseTheme !== \"string\" && typeof baseTheme !== \"object\") {\n    Logger.warn(`invalid theme.baseTheme type ${typeof baseTheme}, expected (string | object).`);\n    valid = false;\n  }\n  if (overrides !== void 0 && typeof overrides !== \"object\") {\n    Logger.warn(`invalid theme.overrides type ${typeof overrides}, expected object.`);\n    valid = false;\n  }\n  if (typeof palette10 === \"object\") {\n    if (palette10 !== null) {\n      const { fills, strokes } = palette10;\n      if (fills !== void 0 && !Array.isArray(fills)) {\n        Logger.warn(`theme.overrides.fills must be undefined or an array`);\n        valid = false;\n      }\n      if (strokes !== void 0 && !Array.isArray(strokes)) {\n        Logger.warn(`theme.overrides.strokes must be undefined or an array`);\n        valid = false;\n      }\n    }\n  } else if (palette10 !== void 0) {\n    Logger.warn(`invalid theme.palette type ${typeof palette10}, expected object.`);\n    valid = false;\n  }\n  if (valid) {\n    return unknownObject;\n  }\n}\nfunction validateChartTheme(value) {\n  if (value === void 0 || typeof value === \"string\" || value instanceof ChartTheme) {\n    return value;\n  }\n  if (typeof value === \"object\") {\n    return validateChartThemeObject(value);\n  }\n  Logger.warn(`invalid theme value type ${typeof value}, expected object or string.`);\n}\nfunction getChartTheme(unvalidatedValue) {\n  let value = validateChartTheme(unvalidatedValue);\n  if (value instanceof ChartTheme) {\n    return value;\n  }\n  if (value == null || typeof value === \"string\") {\n    const stockTheme = themes[value];\n    if (stockTheme) {\n      return stockTheme();\n    }\n    Logger.warnOnce(`the theme [${value}] is invalid, using [ag-default] instead.`);\n    return lightTheme();\n  }\n  const overrides = [];\n  let palette10;\n  while (typeof value === \"object\") {\n    overrides.push(value.overrides);\n    palette10 != null ? palette10 : palette10 = value.palette;\n    value = value.baseTheme;\n  }\n  const flattenedTheme = {\n    baseTheme: value,\n    overrides: mergeDefaults(...overrides),\n    palette: palette10\n  };\n  const baseTheme = flattenedTheme.baseTheme ? getChartTheme(flattenedTheme.baseTheme) : lightTheme();\n  return new baseTheme.constructor(flattenedTheme);\n}\n\n// packages/ag-charts-community/src/util/array.ts\nfunction extent(values) {\n  if (values.length === 0) {\n    return;\n  }\n  let min = Infinity;\n  let max = -Infinity;\n  for (let n of values) {\n    if (n instanceof Date) {\n      n = n.getTime();\n    }\n    if (typeof n !== \"number\") {\n      continue;\n    }\n    if (n < min) {\n      min = n;\n    }\n    if (n > max) {\n      max = n;\n    }\n  }\n  const result = [min, max];\n  if (result.every(isFinite)) {\n    return result;\n  }\n}\nfunction normalisedExtent(d, min, max) {\n  return normalisedExtentWithMetadata(d, min, max).extent;\n}\nfunction normalisedExtentWithMetadata(d, min, max) {\n  var _a;\n  let clipped = false;\n  if (d.length > 2) {\n    d = (_a = extent(d)) != null ? _a : [NaN, NaN];\n  }\n  if (!isNaN(min)) {\n    clipped || (clipped = min > d[0]);\n    d = [min, d[1]];\n  }\n  if (!isNaN(max)) {\n    clipped || (clipped = max < d[1]);\n    d = [d[0], max];\n  }\n  if (d[0] > d[1]) {\n    d = [];\n  }\n  return { extent: d, clipped };\n}\nfunction arraysEqual(a, b) {\n  if (a == null || b == null || a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (Array.isArray(a[i]) && Array.isArray(b[i])) {\n      if (!arraysEqual(a[i], b[i])) {\n        return false;\n      }\n    } else if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction toArray(value) {\n  if (typeof value === \"undefined\") {\n    return [];\n  }\n  return Array.isArray(value) ? value : [value];\n}\nfunction unique(array) {\n  return Array.from(new Set(array));\n}\nfunction groupBy(array, iteratee) {\n  return array.reduce((result, item) => {\n    var _a;\n    const groupKey = iteratee(item);\n    (_a = result[groupKey]) != null ? _a : result[groupKey] = [];\n    result[groupKey].push(item);\n    return result;\n  }, {});\n}\nfunction circularSliceArray(data, size, offset4 = 0) {\n  if (data.length === 0) {\n    return [];\n  }\n  const result = [];\n  for (let i = 0; i < size; i++) {\n    result.push(data.at((i + offset4) % data.length));\n  }\n  return result;\n}\nfunction bifurcate(isLeft, array) {\n  return array.reduce(\n    ([left, right], value) => isLeft(value) ? [[...left, value], right] : [left, [...right, value]],\n    [[], []]\n  );\n}\nfunction* mapIterable(src, predicate) {\n  for (const e of src) {\n    yield predicate(e);\n  }\n}\nfunction constStringsIncludes(array, value) {\n  const casting = array;\n  return casting.includes(value);\n}\nfunction isInStringUnion(unionValues, value) {\n  return constStringsIncludes(unionValues, value);\n}\nfunction allInStringUnion(unionValues, values) {\n  return !values.some((v) => !isInStringUnion(unionValues, v));\n}\n\n// packages/ag-charts-community/src/util/dom.ts\nvar verifiedGlobals = {};\nvar injectCache = /* @__PURE__ */ new WeakMap();\nif (typeof window !== \"undefined\") {\n  verifiedGlobals.window = window;\n} else if (typeof global !== \"undefined\") {\n  verifiedGlobals.window = global.window;\n}\nif (typeof document !== \"undefined\") {\n  verifiedGlobals.document = document;\n} else if (typeof global !== \"undefined\") {\n  verifiedGlobals.document = global.document;\n}\nfunction getDocument(propertyName) {\n  var _a;\n  return propertyName ? (_a = verifiedGlobals.document) == null ? void 0 : _a[propertyName] : verifiedGlobals.document;\n}\nfunction getWindow(propertyName) {\n  var _a;\n  return propertyName ? (_a = verifiedGlobals.window) == null ? void 0 : _a[propertyName] : verifiedGlobals.window;\n}\nfunction createElement(tagName, className, style) {\n  const element2 = getDocument().createElement(tagName);\n  if (typeof className === \"object\") {\n    style = className;\n    className = void 0;\n  }\n  if (className) {\n    element2.classList.add(className);\n  }\n  if (style) {\n    Object.assign(element2.style, style);\n  }\n  return element2;\n}\nfunction downloadUrl(dataUrl, fileName) {\n  const { body } = getDocument();\n  const element2 = createElement(\"a\", { display: \"none\" });\n  element2.href = dataUrl;\n  element2.download = fileName;\n  body.appendChild(element2);\n  element2.click();\n  setTimeout(() => body.removeChild(element2));\n}\nfunction injectStyle(cssStyle, uniqueId) {\n  var _a, _b;\n  const document2 = getDocument();\n  if (uniqueId && ((_a = injectCache.get(document2)) == null ? void 0 : _a.has(uniqueId)))\n    return;\n  const styleElement = createElement(\"style\");\n  styleElement.innerHTML = cssStyle;\n  document2.head.insertBefore(styleElement, document2.head.querySelector(\"style\"));\n  if (uniqueId && !injectCache.has(document2)) {\n    injectCache.set(document2, /* @__PURE__ */ new Set([uniqueId]));\n  } else if (uniqueId) {\n    (_b = injectCache.get(document2)) == null ? void 0 : _b.add(uniqueId);\n  }\n}\nfunction setDocument(document2) {\n  verifiedGlobals.document = document2;\n}\nfunction setWindow(window2) {\n  verifiedGlobals.window = window2;\n}\n\n// packages/ag-charts-community/src/util/debug.ts\nvar LONG_TIME_PERIOD_THRESHOLD = 2e3;\nvar timeOfLastLog = Date.now();\nvar logTimeGap = () => {\n  const timeSinceLastLog = Date.now() - timeOfLastLog;\n  if (timeSinceLastLog > LONG_TIME_PERIOD_THRESHOLD) {\n    const prettyDuration = (Math.floor(timeSinceLastLog / 100) / 10).toFixed(1);\n    Logger.log(`**** ${prettyDuration}s since last log message ****`);\n  }\n  timeOfLastLog = Date.now();\n};\nvar Debug = {\n  create(...debugSelectors) {\n    const resultFn = (...logContent) => {\n      if (Debug.check(...debugSelectors)) {\n        if (typeof logContent[0] === \"function\") {\n          logContent = toArray(logContent[0]());\n        }\n        logTimeGap();\n        Logger.log(...logContent);\n      }\n    };\n    return Object.assign(resultFn, { check: () => Debug.check(...debugSelectors) });\n  },\n  check(...debugSelectors) {\n    if (debugSelectors.length === 0) {\n      debugSelectors.push(true);\n    }\n    const chartDebug = toArray(getWindow(\"agChartsDebug\"));\n    return chartDebug.some((selector) => debugSelectors.includes(selector));\n  }\n};\n\n// packages/ag-charts-community/src/module/optionsModule.ts\nvar unthemedSeries = /* @__PURE__ */ new Set([\"map-shape-background\", \"map-line-background\"]);\nvar ChartOptions = class {\n  constructor(userOptions, specialOverrides) {\n    var _b, _c, _d;\n    const cloneOptions = { shallow: [\"data\"] };\n    const options = deepClone(userOptions, cloneOptions);\n    const chartType2 = this.optionsType(options);\n    this.sanityCheckAndCleanup(options);\n    this.userOptions = options;\n    this.activeTheme = getChartTheme(options.theme);\n    this.defaultAxes = this.getDefaultAxes(options);\n    this.specialOverrides = this.specialOverridesDefaults(__spreadValues({}, specialOverrides));\n    const _a = this.getSeriesThemeConfig(chartType2), {\n      axes: axesThemes = {},\n      annotations: annotationsThemes = {},\n      series: _\n    } = _a, themeDefaults = __objRest(_a, [\n      \"axes\",\n      \"annotations\",\n      \"series\"\n    ]);\n    this.processedOptions = deepClone(\n      mergeDefaults(this.userOptions, themeDefaults, this.defaultAxes),\n      cloneOptions\n    );\n    this.processAxesOptions(this.processedOptions, axesThemes);\n    this.processSeriesOptions(this.processedOptions);\n    this.processMiniChartSeriesOptions(this.processedOptions);\n    this.processAnnotationsOptions(this.processedOptions, annotationsThemes);\n    if ((isAgCartesianChartOptions(this.processedOptions) || isAgPolarChartOptionsWithSeriesBasedLegend(this.processedOptions)) && ((_b = this.processedOptions.legend) == null ? void 0 : _b.enabled) == null) {\n      (_d = (_c = this.processedOptions).legend) != null ? _d : _c.legend = {};\n      this.processedOptions.legend.enabled = this.processedOptions.series.length > 1;\n    }\n    this.enableConfiguredOptions(this.processedOptions);\n    if (!enterpriseModule.isEnterprise) {\n      removeUsedEnterpriseOptions(this.processedOptions);\n    }\n  }\n  getOptions() {\n    var _a;\n    return (_a = this.processedOptions) != null ? _a : {};\n  }\n  diffOptions(options) {\n    return jsonDiff(options, this.processedOptions);\n  }\n  getSeriesThemeConfig(seriesType) {\n    var _a, _b;\n    return deepClone((_b = (_a = this.activeTheme) == null ? void 0 : _a.config[seriesType]) != null ? _b : {});\n  }\n  getDefaultAxes(options) {\n    const optionsType2 = this.optionsType(options);\n    const axesDefaults = seriesRegistry.cloneDefaultAxes(optionsType2);\n    if (seriesRegistry.isDefaultAxisSwapNeeded(options)) {\n      this.swapAxesPosition(axesDefaults);\n    }\n    return axesDefaults;\n  }\n  optionsType(options) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = options.series) == null ? void 0 : _a[0]) == null ? void 0 : _b.type) != null ? _c : \"line\";\n  }\n  sanityCheckAndCleanup(options) {\n    var _a;\n    this.deprecationWarnings(options);\n    this.axesTypeIntegrity(options);\n    this.seriesTypeIntegrity(options);\n    this.soloSeriesIntegrity(options);\n    this.removeDisabledOptions(options);\n    this.removeLeftoverSymbols(options);\n    if (((_a = options.series) == null ? void 0 : _a.some((s) => s.type === \"bullet\")) && options.sync != null && options.sync.enabled !== false) {\n      Logger.warnOnce(\"bullet series cannot be synced, disabling synchronization.\");\n      delete options.sync;\n    }\n  }\n  swapAxesPosition(options) {\n    var _a;\n    if (isAgCartesianChartOptions(options)) {\n      const [axis0, axis1] = (_a = options.axes) != null ? _a : [];\n      options.axes = [\n        __spreadProps(__spreadValues({}, axis0), { position: axis1.position }),\n        __spreadProps(__spreadValues({}, axis1), { position: axis0.position })\n      ];\n    }\n  }\n  processAxesOptions(options, axesThemes) {\n    if (!(\"axes\" in options))\n      return;\n    options.axes = options.axes.map((axis) => {\n      var _a, _c, _d;\n      const _b = mergeDefaults(\n        (_a = axesThemes[axis.type]) == null ? void 0 : _a[axis.position],\n        axesThemes[axis.type]\n      ), { crossLines: crossLinesTheme } = _b, axisTheme = __objRest(_b, [\"crossLines\"]);\n      if (axis.crossLines) {\n        axis.crossLines = mergeArrayDefaults(axis.crossLines, crossLinesTheme);\n      }\n      const gridLineStyle = (_c = axisTheme.gridLine) == null ? void 0 : _c.style;\n      if (((_d = axis.gridLine) == null ? void 0 : _d.style) && (gridLineStyle == null ? void 0 : gridLineStyle.length)) {\n        axis.gridLine.style = axis.gridLine.style.map(\n          (style, index) => style.stroke != null || style.lineDash != null ? mergeDefaults(style, gridLineStyle.at(index % gridLineStyle.length)) : style\n        );\n      }\n      const _e = mergeDefaults(axis, axisTheme), { top: _1, right: _2, bottom: _3, left: _4 } = _e, axisOptions = __objRest(_e, [\"top\", \"right\", \"bottom\", \"left\"]);\n      return axisOptions;\n    });\n  }\n  processSeriesOptions(options) {\n    const defaultSeriesType = this.getDefaultSeriesType(options);\n    const defaultTooltipPosition = this.getTooltipPositionDefaults(options);\n    const userPalette = Boolean(isObject(options.theme) && options.theme.palette);\n    const paletteOptions = {\n      colourIndex: 0,\n      userPalette\n    };\n    const processedSeries = options.series.map((series) => {\n      var _a, _b;\n      (_a = series.type) != null ? _a : series.type = defaultSeriesType;\n      const _c = (_b = this.getSeriesThemeConfig(series.type).series) != null ? _b : {}, { innerLabels: innerLabelsTheme } = _c, seriesTheme = __objRest(_c, [\"innerLabels\"]);\n      const seriesPaletteOptions = unthemedSeries.has(series.type) ? { colourIndex: 0, userPalette } : paletteOptions;\n      const palette10 = this.getSeriesPalette(series.type, seriesPaletteOptions);\n      const seriesOptions = mergeDefaults(\n        this.getSeriesGroupingOptions(series),\n        series,\n        defaultTooltipPosition,\n        seriesTheme,\n        palette10\n      );\n      if (seriesOptions.innerLabels) {\n        seriesOptions.innerLabels = mergeArrayDefaults(seriesOptions.innerLabels, innerLabelsTheme);\n      }\n      return this.activeTheme.templateTheme(seriesOptions);\n    });\n    options.series = this.setSeriesGroupingOptions(processedSeries);\n  }\n  processMiniChartSeriesOptions(options) {\n    var _a, _b;\n    let miniChartSeries = (_b = (_a = options.navigator) == null ? void 0 : _a.miniChart) == null ? void 0 : _b.series;\n    if (miniChartSeries == null)\n      return;\n    const paletteOptions = {\n      colourIndex: 0,\n      userPalette: Boolean(isObject(options.theme) && options.theme.palette)\n    };\n    miniChartSeries = miniChartSeries.map((series) => {\n      var _a2, _b2;\n      (_a2 = series.type) != null ? _a2 : series.type = \"line\";\n      const _c = (_b2 = this.getSeriesThemeConfig(series.type).series) != null ? _b2 : {}, { innerLabels: _ } = _c, seriesTheme = __objRest(_c, [\"innerLabels\"]);\n      const seriesOptions = mergeDefaults(\n        this.getSeriesGroupingOptions(series),\n        series,\n        seriesTheme,\n        this.getSeriesPalette(series.type, paletteOptions)\n      );\n      return this.activeTheme.templateTheme(seriesOptions);\n    });\n    options.navigator.miniChart.series = this.setSeriesGroupingOptions(miniChartSeries);\n  }\n  processAnnotationsOptions(options, _annotationsThemes) {\n    if (!isAgCartesianChartOptions(options))\n      return;\n  }\n  getSeriesPalette(seriesType, options) {\n    const paletteFactory = seriesRegistry.getPaletteFactory(seriesType);\n    const { colourIndex: colourOffset, userPalette } = options;\n    const { fills = [], strokes = [] } = this.activeTheme.palette;\n    return paletteFactory == null ? void 0 : paletteFactory({\n      userPalette,\n      colorsCount: Math.max(fills.length, strokes.length),\n      themeTemplateParameters: this.activeTheme.getTemplateParameters(),\n      takeColors(count) {\n        options.colourIndex += count;\n        return {\n          fills: circularSliceArray(fills, count, colourOffset),\n          strokes: circularSliceArray(strokes, count, colourOffset)\n        };\n      }\n    });\n  }\n  getSeriesGroupingOptions(series) {\n    const groupable = seriesRegistry.isGroupable(series.type);\n    const stackable = seriesRegistry.isStackable(series.type);\n    const stackedByDefault = seriesRegistry.isStackedByDefault(series.type);\n    if (series.grouped && !groupable) {\n      Logger.warnOnce(`unsupported grouping of series type \"${series.type}\".`);\n    }\n    if ((series.stacked || series.stackGroup) && !stackable) {\n      Logger.warnOnce(`unsupported stacking of series type \"${series.type}\".`);\n    }\n    let { grouped, stacked } = series;\n    stacked != null ? stacked : stacked = (stackedByDefault || series.stackGroup != null) && !(groupable && grouped);\n    grouped != null ? grouped : grouped = true;\n    return {\n      stacked: stackable && stacked,\n      grouped: groupable && grouped && !(stackable && stacked)\n    };\n  }\n  setSeriesGroupingOptions(allSeries) {\n    const seriesGroups = this.getSeriesGrouping(allSeries);\n    Debug.create(true, \"opts\")(\"setSeriesGroupingOptions() - series grouping: \", seriesGroups);\n    const groupIdx = {};\n    const groupCount2 = seriesGroups.reduce((countMap, seriesGroup) => {\n      var _a, _b;\n      if (seriesGroup.groupType === \"default\" /* DEFAULT */) {\n        return countMap;\n      }\n      (_b = countMap[_a = seriesGroup.seriesType]) != null ? _b : countMap[_a] = 0;\n      countMap[seriesGroup.seriesType] += seriesGroup.groupType === \"stack\" /* STACK */ ? 1 : seriesGroup.series.length;\n      return countMap;\n    }, {});\n    return seriesGroups.flatMap((seriesGroup) => {\n      var _a, _b;\n      (_b = groupIdx[_a = seriesGroup.seriesType]) != null ? _b : groupIdx[_a] = 0;\n      switch (seriesGroup.groupType) {\n        case \"stack\" /* STACK */:\n          const groupIndex = groupIdx[seriesGroup.seriesType]++;\n          return seriesGroup.series.map(\n            (series, stackIndex) => Object.assign(series, {\n              seriesGrouping: {\n                groupIndex,\n                groupCount: groupCount2[seriesGroup.seriesType],\n                stackIndex,\n                stackCount: seriesGroup.series.length\n              }\n            })\n          );\n        case \"group\" /* GROUP */:\n          return seriesGroup.series.map(\n            (series) => Object.assign(series, {\n              seriesGrouping: {\n                groupIndex: groupIdx[seriesGroup.seriesType]++,\n                groupCount: groupCount2[seriesGroup.seriesType],\n                stackIndex: 0,\n                stackCount: 0\n              }\n            })\n          );\n      }\n      return seriesGroup.series;\n    }).map((_a) => {\n      var _b = _a, { stacked: _, grouped: __ } = _b, seriesOptions = __objRest(_b, [\"stacked\", \"grouped\"]);\n      return seriesOptions;\n    });\n  }\n  getSeriesGroupId(series) {\n    var _a;\n    return [series.type, series.xKey, series.stacked ? (_a = series.stackGroup) != null ? _a : \"stacked\" : \"grouped\"].filter(Boolean).join(\"-\");\n  }\n  getSeriesGrouping(allSeries) {\n    const groupMap = /* @__PURE__ */ new Map();\n    return allSeries.reduce((result, series) => {\n      const seriesType = series.type;\n      if (!series.stacked && !series.grouped) {\n        result.push({ groupType: \"default\" /* DEFAULT */, seriesType, series: [series] });\n      } else {\n        const groupId = this.getSeriesGroupId(series);\n        if (!groupMap.has(groupId)) {\n          const groupType = series.stacked ? \"stack\" /* STACK */ : \"group\" /* GROUP */;\n          const record = { groupType, seriesType, series: [] };\n          groupMap.set(groupId, record);\n          result.push(record);\n        }\n        groupMap.get(groupId).series.push(series);\n      }\n      return result;\n    }, []);\n  }\n  getDefaultSeriesType(options) {\n    if (isAgCartesianChartOptions(options)) {\n      return \"line\";\n    } else if (isAgPolarChartOptions(options)) {\n      return \"pie\";\n    } else if (isAgHierarchyChartOptions(options)) {\n      return \"treemap\";\n    } else if (isAgTopologyChartOptions(options)) {\n      return \"map-shape\";\n    }\n    throw new Error(\"Invalid chart options type detected.\");\n  }\n  getTooltipPositionDefaults(options) {\n    var _a;\n    const position = (_a = options.tooltip) == null ? void 0 : _a.position;\n    if (!isPlainObject(position)) {\n      return;\n    }\n    const { type, xOffset, yOffset } = position;\n    const result = {};\n    if (isString(type) && isEnumValue(AgTooltipPositionType, type)) {\n      result.type = type;\n    }\n    if (isFiniteNumber(xOffset)) {\n      result.xOffset = xOffset;\n    }\n    if (isFiniteNumber(yOffset)) {\n      result.yOffset = yOffset;\n    }\n    return { tooltip: { position: result } };\n  }\n  deprecationWarnings(options) {\n    const deprecatedArrayProps = { yKeys: \"yKey\", yNames: \"yName\" };\n    Object.entries(deprecatedArrayProps).forEach(([oldProp, newProp]) => {\n      var _a;\n      if ((_a = options.series) == null ? void 0 : _a.some((s) => s[oldProp] != null)) {\n        Logger.warnOnce(\n          `Property [series.${oldProp}] is deprecated, please use [series.${newProp}] and multiple series instead.`\n        );\n      }\n    });\n  }\n  axesTypeIntegrity(options) {\n    var _a;\n    if (\"axes\" in options) {\n      const axes = (_a = options.axes) != null ? _a : [];\n      for (const { type } of axes) {\n        if (!isAxisOptionType(type)) {\n          delete options.axes;\n          const expectedTypes = Array.from(axisRegistry.publicKeys()).join(\", \");\n          Logger.warnOnce(`unknown axis type: ${type}; expected one of: ${expectedTypes}`);\n        }\n      }\n    }\n  }\n  seriesTypeIntegrity(options) {\n    var _a;\n    const series = (_a = options.series) != null ? _a : [];\n    options.series = series.filter(({ type }) => {\n      if (type == null || isSeriesOptionType(type) || isEnterpriseSeriesType(type)) {\n        return true;\n      }\n      Logger.warnOnce(\n        `unknown series type: ${type}; expected one of: ${publicChartTypes.seriesTypes.join(\", \")}`\n      );\n    });\n  }\n  soloSeriesIntegrity(options) {\n    const allSeries = options.series;\n    if (allSeries && allSeries.length > 1 && allSeries.some((series) => seriesRegistry.isSolo(series.type))) {\n      const mainSeriesType = this.optionsType(options);\n      if (seriesRegistry.isSolo(mainSeriesType)) {\n        Logger.warn(\n          `series[0] of type '${mainSeriesType}' is incompatible with other series types. Only processing series[0]`\n        );\n        options.series = allSeries.slice(0, 1);\n      } else {\n        const { solo, nonSolo } = groupBy(\n          allSeries,\n          (s) => seriesRegistry.isSolo(s.type) ? \"solo\" : \"nonSolo\"\n        );\n        const rejects = unique(solo.map((s) => s.type)).join(\", \");\n        Logger.warn(`Unable to mix these series types with the lead series type: ${rejects}`);\n        options.series = nonSolo;\n      }\n    }\n  }\n  enableConfiguredOptions(options) {\n    jsonWalk(\n      this.userOptions,\n      (visitingUserOpts, visitingMergedOpts) => {\n        if (visitingMergedOpts && \"enabled\" in visitingMergedOpts && !visitingMergedOpts._enabledFromTheme && visitingUserOpts.enabled == null) {\n          visitingMergedOpts.enabled = true;\n        }\n      },\n      { skip: [\"data\", \"theme\"] },\n      options\n    );\n    jsonWalk(\n      options,\n      (visitingMergedOpts) => {\n        if (visitingMergedOpts._enabledFromTheme != null) {\n          delete visitingMergedOpts._enabledFromTheme;\n        }\n      },\n      { skip: [\"data\", \"theme\"] }\n    );\n  }\n  removeDisabledOptions(options) {\n    jsonWalk(\n      options,\n      (optionsNode) => {\n        if (\"enabled\" in optionsNode && optionsNode.enabled === false) {\n          Object.keys(optionsNode).forEach((key) => {\n            if (key === \"enabled\")\n              return;\n            delete optionsNode[key];\n          });\n        }\n      },\n      { skip: [\"data\", \"theme\"] }\n    );\n  }\n  removeLeftoverSymbols(options) {\n    jsonWalk(\n      options,\n      (optionsNode) => {\n        if (!optionsNode || !isObject(optionsNode))\n          return;\n        for (const [key, value] of Object.entries(optionsNode)) {\n          if (isSymbol(value)) {\n            delete optionsNode[key];\n          }\n        }\n      },\n      { skip: [\"data\"] }\n    );\n  }\n  specialOverridesDefaults(options) {\n    if (options.window != null) {\n      setWindow(options.window);\n    } else if (typeof window !== \"undefined\") {\n      options.window = window;\n    } else if (typeof global !== \"undefined\") {\n      options.window = global.window;\n    }\n    if (options.document != null) {\n      setDocument(options.document);\n    } else if (typeof document !== \"undefined\") {\n      options.document = document;\n    } else if (typeof global !== \"undefined\") {\n      options.document = global.document;\n    }\n    if (options.window == null) {\n      throw new Error(\"AG Charts - unable to resolve global window\");\n    }\n    if (options.document == null) {\n      throw new Error(\"AG Charts - unable to resolve global document\");\n    }\n    return options;\n  }\n};\n\n// packages/ag-charts-community/src/util/deprecation.ts\nfunction createDeprecationWarning() {\n  return (key, message) => {\n    const msg = [`Property [${key}] is deprecated.`, message].filter(Boolean).join(\" \");\n    Logger.warnOnce(msg);\n  };\n}\nfunction Deprecated(message, opts) {\n  const warnDeprecated = createDeprecationWarning();\n  const def = opts == null ? void 0 : opts.default;\n  return addTransformToInstanceProperty((_, key, value) => {\n    if (value !== def) {\n      warnDeprecated(key.toString(), message);\n    }\n    return value;\n  });\n}\nfunction DeprecatedAndRenamedTo(newPropName, mapValue) {\n  const warnDeprecated = createDeprecationWarning();\n  return addTransformToInstanceProperty(\n    (target, key, value) => {\n      if (value !== target[newPropName]) {\n        warnDeprecated(key.toString(), `Use [${newPropName}] instead.`);\n        setPath(target, newPropName, mapValue ? mapValue(value) : value);\n      }\n      return BREAK_TRANSFORM_CHAIN;\n    },\n    (target, key) => {\n      warnDeprecated(key.toString(), `Use [${newPropName}] instead.`);\n      return getPath(target, newPropName);\n    }\n  );\n}\n\n// packages/ag-charts-community/src/motion/fromToMotion.ts\nvar fromToMotion_exports = {};\n__export(fromToMotion_exports, {\n  NODE_UPDATE_STATE_TO_PHASE_MAPPING: () => NODE_UPDATE_STATE_TO_PHASE_MAPPING,\n  fromToMotion: () => fromToMotion,\n  staticFromToMotion: () => staticFromToMotion\n});\n\n// packages/ag-charts-community/src/util/id.ts\nvar ID_MAP = /* @__PURE__ */ new Map();\nfunction resetIds() {\n  ID_MAP.clear();\n}\nfunction createId(instance) {\n  var _a;\n  const constructor = instance.constructor;\n  const className = Object.hasOwn(constructor, \"className\") ? constructor.className : constructor.name;\n  if (!className) {\n    throw new Error(`The ${constructor} is missing the 'className' property.`);\n  }\n  const nextId = ((_a = ID_MAP.get(className)) != null ? _a : 0) + 1;\n  ID_MAP.set(className, nextId);\n  return `${className}-${nextId}`;\n}\n\n// packages/ag-charts-community/src/util/interpolating.ts\nvar interpolate = \"$interpolate\";\nvar isInterpolating = (x) => x[interpolate] != null;\n\n// packages/ag-charts-community/src/util/number.ts\nfunction clamp(min, value, max) {\n  return Math.min(max, Math.max(min, value));\n}\nfunction clampArray(value, array) {\n  const [min, max] = findMinMax(array);\n  return clamp(min, value, max);\n}\nfunction findMinMax(array) {\n  return array.length ? [Math.min(...array), Math.max(...array)] : [];\n}\nfunction findRangeExtent(array) {\n  const [min, max] = findMinMax(array);\n  return max - min;\n}\nfunction isEqual(a, b, epsilon2 = 1e-10) {\n  return Math.abs(a - b) < epsilon2;\n}\nfunction isNegative(value) {\n  return Math.sign(value) === -1 || Object.is(value, -0);\n}\nfunction round(value, decimals = 2) {\n  const base = __pow(10, decimals);\n  return Math.round(value * base) / base;\n}\nfunction toFixed(value, fractionOrSignificantDigits = 2) {\n  const power = Math.floor(Math.log(Math.abs(value)) / Math.LN10);\n  if (power >= 0 || !isFinite(power)) {\n    return value.toFixed(fractionOrSignificantDigits);\n  }\n  return value.toFixed(Math.abs(power) - 1 + fractionOrSignificantDigits);\n}\nfunction mod(n, m) {\n  return Math.floor(n % m + (n < 0 ? m : 0));\n}\nfunction countFractionDigits(value, maximumFractionDigits = 10) {\n  const [, decimal = \"\"] = (Math.abs(value) % 1).toLocaleString(\"en-GB\", { minimumFractionDigits: 0, maximumFractionDigits }).split(\".\");\n  return decimal.length;\n}\n\n// packages/ag-charts-community/src/scene/nearest.ts\nfunction nearestSquared(x, y, objects, maxDistanceSquared = Infinity) {\n  const result = { nearest: void 0, distanceSquared: maxDistanceSquared };\n  for (const obj of objects) {\n    const thisDistance = obj.distanceSquared(x, y);\n    if (thisDistance === 0) {\n      return { nearest: obj, distanceSquared: 0 };\n    } else if (thisDistance < result.distanceSquared) {\n      result.nearest = obj;\n      result.distanceSquared = thisDistance;\n    }\n  }\n  return result;\n}\nfunction nearestSquaredInContainer(x, y, container, maxDistanceSquared = Infinity) {\n  const { x: tx, y: ty } = container.transformPoint(x, y);\n  const result = { nearest: void 0, distanceSquared: maxDistanceSquared };\n  for (const child of container.children) {\n    const { nearest, distanceSquared: distanceSquared2 } = child.nearestSquared(tx, ty, result.distanceSquared);\n    if (distanceSquared2 === 0) {\n      return { nearest, distanceSquared: distanceSquared2 };\n    } else if (distanceSquared2 < result.distanceSquared) {\n      result.nearest = nearest;\n      result.distanceSquared = distanceSquared2;\n    }\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/scene/bbox.ts\nvar _BBox = class _BBox {\n  constructor(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n  clone() {\n    const { x, y, width, height } = this;\n    return new _BBox(x, y, width, height);\n  }\n  equals(other) {\n    return this.x === other.x && this.y === other.y && this.width === other.width && this.height === other.height;\n  }\n  containsPoint(x, y) {\n    return x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height;\n  }\n  collidesBBox(other) {\n    return this.x < other.x + other.width && this.x + this.width > other.x && this.y < other.y + other.height && this.y + this.height > other.y;\n  }\n  computeCenter() {\n    return { x: this.x + this.width / 2, y: this.y + this.height / 2 };\n  }\n  isFinite() {\n    return Number.isFinite(this.x) && Number.isFinite(this.y) && Number.isFinite(this.width) && Number.isFinite(this.height);\n  }\n  distanceSquared(x, y) {\n    if (this.containsPoint(x, y)) {\n      return 0;\n    }\n    const dx = x - clamp(this.x, x, this.x + this.width);\n    const dy = y - clamp(this.y, y, this.y + this.height);\n    return dx * dx + dy * dy;\n  }\n  static nearestBox(x, y, boxes) {\n    return nearestSquared(x, y, boxes);\n  }\n  clip(clipRect) {\n    if (clipRect === void 0)\n      return this;\n    const x1 = Math.max(this.x, clipRect.x);\n    const y1 = Math.max(this.y, clipRect.y);\n    const x2 = Math.min(this.x + this.width, clipRect.x + clipRect.width);\n    const y2 = Math.min(this.y + this.height, clipRect.y + clipRect.height);\n    this.x = x1;\n    this.y = y1;\n    this.width = Math.max(0, x2 - x1);\n    this.height = Math.max(0, y2 - y1);\n    return this;\n  }\n  shrink(amount, position) {\n    const apply = (pos, amt) => {\n      switch (pos) {\n        case \"top\":\n          this.y += amt;\n        case \"bottom\":\n          this.height -= amt;\n          break;\n        case \"left\":\n          this.x += amt;\n        case \"right\":\n          this.width -= amt;\n          break;\n        case \"vertical\":\n          this.y += amt;\n          this.height -= amt * 2;\n          break;\n        case \"horizontal\":\n          this.x += amt;\n          this.width -= amt * 2;\n          break;\n        case void 0:\n          this.x += amt;\n          this.width -= amt * 2;\n          this.y += amt;\n          this.height -= amt * 2;\n          break;\n        default:\n      }\n    };\n    if (typeof amount === \"number\") {\n      apply(position, amount);\n    } else if (typeof amount === \"object\") {\n      Object.entries(amount).forEach(([pos, amt]) => apply(pos, amt));\n    }\n    return this;\n  }\n  grow(amount, position) {\n    if (typeof amount === \"number\") {\n      this.shrink(-amount, position);\n    } else {\n      const paddingCopy = __spreadValues({}, amount);\n      for (const key in paddingCopy) {\n        paddingCopy[key] *= -1;\n      }\n      this.shrink(paddingCopy);\n    }\n    return this;\n  }\n  combine(other) {\n    const { x, y, width, height } = this;\n    this.x = Math.min(x, other.x);\n    this.y = Math.min(y, other.y);\n    this.width = Math.max(x + width, other.x + other.width) - this.x;\n    this.height = Math.max(y + height, other.y + other.height) - this.y;\n  }\n  static merge(boxes) {\n    let left = Infinity;\n    let top = Infinity;\n    let right = -Infinity;\n    let bottom = -Infinity;\n    for (const box of boxes) {\n      if (box.x < left) {\n        left = box.x;\n      }\n      if (box.y < top) {\n        top = box.y;\n      }\n      if (box.x + box.width > right) {\n        right = box.x + box.width;\n      }\n      if (box.y + box.height > bottom) {\n        bottom = box.y + box.height;\n      }\n    }\n    return new _BBox(left, top, right - left, bottom - top);\n  }\n  [interpolate](other, d) {\n    return new _BBox(\n      this.x * (1 - d) + other.x * d,\n      this.y * (1 - d) + other.y * d,\n      this.width * (1 - d) + other.width * d,\n      this.height * (1 - d) + other.height * d\n    );\n  }\n};\n_BBox.zero = new _BBox(0, 0, 0, 0);\n_BBox.NaN = new _BBox(NaN, NaN, NaN, NaN);\nvar BBox = _BBox;\n\n// packages/ag-charts-community/src/scene/changeDetectable.ts\nvar RedrawType = /* @__PURE__ */ ((RedrawType2) => {\n  RedrawType2[RedrawType2[\"NONE\"] = 0] = \"NONE\";\n  RedrawType2[RedrawType2[\"TRIVIAL\"] = 1] = \"TRIVIAL\";\n  RedrawType2[RedrawType2[\"MINOR\"] = 2] = \"MINOR\";\n  RedrawType2[RedrawType2[\"MAJOR\"] = 3] = \"MAJOR\";\n  return RedrawType2;\n})(RedrawType || {});\nfunction functionConstructorAvailable() {\n  try {\n    new Function(\"return true\");\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar STRING_FUNCTION_USEABLE = functionConstructorAvailable();\nfunction SceneChangeDetection(opts) {\n  const { changeCb, convertor } = opts != null ? opts : {};\n  return function(target, key) {\n    const privateKey = `__${key}`;\n    if (target[key]) {\n      return;\n    }\n    if (STRING_FUNCTION_USEABLE && changeCb == null && convertor == null) {\n      prepareFastGetSet(target, key, privateKey, opts);\n    } else {\n      prepareSlowGetSet(target, key, privateKey, opts);\n    }\n  };\n}\nfunction prepareFastGetSet(target, key, privateKey, opts) {\n  const { redraw = 1 /* TRIVIAL */, type = \"normal\", checkDirtyOnAssignment = false } = opts != null ? opts : {};\n  const setterJs = new Function(\n    \"value\",\n    `\n        const oldValue = this.${privateKey};\n        if (value !== oldValue) {\n            this.${privateKey} = value;\n            ${type === \"normal\" ? `this.markDirty(this, ${redraw});` : \"\"}\n            ${type === \"transform\" ? `this.markDirtyTransform(${redraw});` : \"\"}\n            ${type === \"path\" ? `if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${redraw}); }` : \"\"}\n            ${type === \"font\" ? `if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${redraw}); }` : \"\"}\n        }\n        ${checkDirtyOnAssignment ? `if (value != null && value._dirty > ${0 /* NONE */}) { this.markDirty(value, value._dirty); }` : \"\"}\n`\n  );\n  const getterJs = new Function(`return this.${privateKey};`);\n  Object.defineProperty(target, key, {\n    set: setterJs,\n    get: getterJs,\n    enumerable: true,\n    configurable: true\n  });\n}\nfunction prepareSlowGetSet(target, key, privateKey, opts) {\n  const {\n    redraw = 1 /* TRIVIAL */,\n    type = \"normal\",\n    changeCb,\n    convertor,\n    checkDirtyOnAssignment = false\n  } = opts != null ? opts : {};\n  const setter = function(value) {\n    const oldValue = this[privateKey];\n    value = convertor ? convertor(value) : value;\n    if (value !== oldValue) {\n      this[privateKey] = value;\n      if (type === \"normal\")\n        this.markDirty(this, redraw);\n      if (type === \"transform\")\n        this.markDirtyTransform(redraw);\n      if (type === \"path\" && !this._dirtyPath) {\n        this._dirtyPath = true;\n        this.markDirty(this, redraw);\n      }\n      if (type === \"font\" && !this._dirtyFont) {\n        this._dirtyFont = true;\n        this.markDirty(this, redraw);\n      }\n      changeCb == null ? void 0 : changeCb(this);\n    }\n    if (checkDirtyOnAssignment && value != null && value._dirty > 0 /* NONE */)\n      this.markDirty(value, value._dirty);\n  };\n  const getter = function() {\n    return this[privateKey];\n  };\n  Object.defineProperty(target, key, {\n    set: setter,\n    get: getter,\n    enumerable: true,\n    configurable: true\n  });\n}\nvar ChangeDetectable = class {\n  constructor() {\n    this._dirty = 3 /* MAJOR */;\n  }\n  markDirty(_source, type = 1 /* TRIVIAL */) {\n    if (this._dirty < type) {\n      this._dirty = type;\n    }\n  }\n  markClean(_opts) {\n    this._dirty = 0 /* NONE */;\n  }\n  isDirty() {\n    return this._dirty > 0 /* NONE */;\n  }\n};\n\n// packages/ag-charts-community/src/scene/matrix.ts\nvar _Matrix = class _Matrix {\n  get e() {\n    return [...this.elements];\n  }\n  constructor(elements3 = [1, 0, 0, 1, 0, 0]) {\n    this.elements = elements3;\n  }\n  setElements(elements3) {\n    const e = this.elements;\n    e[0] = elements3[0];\n    e[1] = elements3[1];\n    e[2] = elements3[2];\n    e[3] = elements3[3];\n    e[4] = elements3[4];\n    e[5] = elements3[5];\n    return this;\n  }\n  get identity() {\n    const e = this.elements;\n    return e[0] === 1 && e[1] === 0 && e[2] === 0 && e[3] === 1 && e[4] === 0 && e[5] === 0;\n  }\n  /**\n   * Performs the AxB matrix multiplication and saves the result\n   * to `C`, if given, or to `A` otherwise.\n   */\n  AxB(A, B, C) {\n    const a = A[0] * B[0] + A[2] * B[1], b = A[1] * B[0] + A[3] * B[1], c = A[0] * B[2] + A[2] * B[3], d = A[1] * B[2] + A[3] * B[3], e = A[0] * B[4] + A[2] * B[5] + A[4], f = A[1] * B[4] + A[3] * B[5] + A[5];\n    C = C != null ? C : A;\n    C[0] = a;\n    C[1] = b;\n    C[2] = c;\n    C[3] = d;\n    C[4] = e;\n    C[5] = f;\n  }\n  /**\n   * The `other` matrix gets post-multiplied to the current matrix.\n   * Returns the current matrix.\n   * @param other\n   */\n  multiplySelf(other) {\n    this.AxB(this.elements, other.elements);\n    return this;\n  }\n  /**\n   * The `other` matrix gets post-multiplied to the current matrix.\n   * Returns a new matrix.\n   * @param other\n   */\n  multiply(other) {\n    const elements3 = new Array(6);\n    this.AxB(this.elements, other.elements, elements3);\n    return new _Matrix(elements3);\n  }\n  preMultiplySelf(other) {\n    this.AxB(other.elements, this.elements, this.elements);\n    return this;\n  }\n  /**\n   * Returns the inverse of this matrix as a new matrix.\n   */\n  inverse() {\n    const el = this.elements;\n    let a = el[0], b = el[1], c = el[2], d = el[3];\n    const e = el[4], f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    return new _Matrix([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n  }\n  /**\n   * Save the inverse of this matrix to the given matrix.\n   */\n  inverseTo(other) {\n    const el = this.elements;\n    let a = el[0], b = el[1], c = el[2], d = el[3];\n    const e = el[4], f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    other.setElements([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n    return this;\n  }\n  invertSelf() {\n    const el = this.elements;\n    let a = el[0], b = el[1], c = el[2], d = el[3];\n    const e = el[4], f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    el[0] = d;\n    el[1] = -b;\n    el[2] = -c;\n    el[3] = a;\n    el[4] = c * f - d * e;\n    el[5] = b * e - a * f;\n    return this;\n  }\n  transformPoint(x, y) {\n    const e = this.elements;\n    return {\n      x: x * e[0] + y * e[2] + e[4],\n      y: x * e[1] + y * e[3] + e[5]\n    };\n  }\n  transformBBox(bbox, target) {\n    const elements3 = this.elements;\n    const xx = elements3[0];\n    const xy = elements3[1];\n    const yx = elements3[2];\n    const yy = elements3[3];\n    const h_w = bbox.width * 0.5;\n    const h_h = bbox.height * 0.5;\n    const cx = bbox.x + h_w;\n    const cy = bbox.y + h_h;\n    const w = Math.abs(h_w * xx) + Math.abs(h_h * yx);\n    const h = Math.abs(h_w * xy) + Math.abs(h_h * yy);\n    if (!target) {\n      target = new BBox(0, 0, 0, 0);\n    }\n    target.x = cx * xx + cy * yx + elements3[4] - w;\n    target.y = cx * xy + cy * yy + elements3[5] - h;\n    target.width = w + w;\n    target.height = h + h;\n    return target;\n  }\n  toContext(ctx) {\n    if (this.identity) {\n      return;\n    }\n    const e = this.elements;\n    ctx.transform(e[0], e[1], e[2], e[3], e[4], e[5]);\n  }\n  static flyweight(sourceMatrix) {\n    return _Matrix.instance.setElements(sourceMatrix.elements);\n  }\n  static updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, opts) {\n    const [bbcx, bbcy] = [0, 0];\n    const sx = scalingX;\n    const sy = scalingY;\n    let scx;\n    let scy;\n    if (sx === 1 && sy === 1) {\n      scx = 0;\n      scy = 0;\n    } else {\n      scx = (opts == null ? void 0 : opts.scalingCenterX) == null ? bbcx : opts == null ? void 0 : opts.scalingCenterX;\n      scy = (opts == null ? void 0 : opts.scalingCenterY) == null ? bbcy : opts == null ? void 0 : opts.scalingCenterY;\n    }\n    const r = rotation;\n    const cos = Math.cos(r);\n    const sin = Math.sin(r);\n    let rcx;\n    let rcy;\n    if (r === 0) {\n      rcx = 0;\n      rcy = 0;\n    } else {\n      rcx = (opts == null ? void 0 : opts.rotationCenterX) == null ? bbcx : opts == null ? void 0 : opts.rotationCenterX;\n      rcy = (opts == null ? void 0 : opts.rotationCenterY) == null ? bbcy : opts == null ? void 0 : opts.rotationCenterY;\n    }\n    const tx = translationX;\n    const ty = translationY;\n    const tx4 = scx * (1 - sx) - rcx;\n    const ty4 = scy * (1 - sy) - rcy;\n    matrix.setElements([\n      cos * sx,\n      sin * sx,\n      -sin * sy,\n      cos * sy,\n      cos * tx4 - sin * ty4 + rcx + tx,\n      sin * tx4 + cos * ty4 + rcy + ty\n    ]);\n    return matrix;\n  }\n  static fromContext(ctx) {\n    const domMatrix = ctx.getTransform();\n    return new _Matrix([domMatrix.a, domMatrix.b, domMatrix.c, domMatrix.d, domMatrix.e, domMatrix.f]);\n  }\n};\n_Matrix.instance = new _Matrix();\nvar Matrix = _Matrix;\n\n// packages/ag-charts-community/src/scene/node.ts\nvar PointerEvents = /* @__PURE__ */ ((PointerEvents2) => {\n  PointerEvents2[PointerEvents2[\"All\"] = 0] = \"All\";\n  PointerEvents2[PointerEvents2[\"None\"] = 1] = \"None\";\n  return PointerEvents2;\n})(PointerEvents || {});\nvar _Node = class _Node extends ChangeDetectable {\n  constructor({ isVirtual, tag, zIndex } = {}) {\n    super();\n    /** Unique number to allow creation order to be easily determined. */\n    this.serialNumber = _Node._nextSerialNumber++;\n    /**\n     * Unique node ID in the form `ClassName-NaturalNumber`.\n     */\n    this.id = createId(this);\n    /**\n     * To simplify the type system (especially in Selections) we don't have the `Parent` node\n     * (one that has children). Instead, we mimic HTML DOM, where any node can have children.\n     * But we still need to distinguish regular leaf nodes from container leafs somehow.\n     */\n    this.isContainerNode = false;\n    this._virtualChildren = [];\n    this._children = [];\n    // Used to check for duplicate nodes.\n    this.childSet = {};\n    // These matrices may need to have package level visibility\n    // for performance optimization purposes.\n    this.matrix = new Matrix();\n    this.dirtyTransform = false;\n    this.scalingX = 1;\n    this.scalingY = 1;\n    this.scalingCenterX = null;\n    this.scalingCenterY = null;\n    this.rotationCenterX = null;\n    this.rotationCenterY = null;\n    this.rotation = 0;\n    this.translationX = 0;\n    this.translationY = 0;\n    this._childNodeCounts = {\n      groups: 0,\n      nonGroups: 0\n    };\n    this.visible = true;\n    this.dirtyZIndex = false;\n    this.zIndex = 0;\n    /** Discriminators for render order within a zIndex. */\n    this.zIndexSubOrder = void 0;\n    this.pointerEvents = 0 /* All */;\n    this.isVirtual = isVirtual != null ? isVirtual : false;\n    this.tag = tag != null ? tag : NaN;\n    this.zIndex = zIndex != null ? zIndex : 0;\n  }\n  /**\n   * Some arbitrary data bound to the node.\n   */\n  get datum() {\n    var _a, _b;\n    return (_b = this._datum) != null ? _b : (_a = this._parent) == null ? void 0 : _a.datum;\n  }\n  get previousDatum() {\n    return this._previousDatum;\n  }\n  set datum(datum) {\n    if (this._datum !== datum) {\n      this._previousDatum = this._datum;\n    }\n    this._datum = datum;\n  }\n  _setLayerManager(value) {\n    this._layerManager = value;\n    this._debug = value == null ? void 0 : value.debug;\n    for (const child of this._children) {\n      child._setLayerManager(value);\n    }\n    for (const child of this._virtualChildren) {\n      child._setLayerManager(value);\n    }\n  }\n  get layerManager() {\n    return this._layerManager;\n  }\n  *ancestors() {\n    let node = this;\n    while (node = node.parent) {\n      yield node;\n    }\n  }\n  *traverseUp() {\n    yield this;\n    yield* __yieldStar(this.ancestors());\n  }\n  get parent() {\n    return this._parent;\n  }\n  get children() {\n    return this._virtualChildren.length ? this._children.concat(this._virtualChildren.flatMap((next) => next.children)) : this._children;\n  }\n  get virtualChildren() {\n    return this._virtualChildren;\n  }\n  hasVirtualChildren() {\n    return this._virtualChildren.length > 0;\n  }\n  // new Set<Node>()\n  setProperties(styles, pickKeys) {\n    const keys = pickKeys != null ? pickKeys : Object.keys(styles);\n    for (const key of keys) {\n      this[key] = styles[key];\n    }\n    return this;\n  }\n  /**\n   * Appends one or more new node instances to this parent.\n   * If one needs to:\n   * - move a child to the end of the list of children\n   * - move a child from one parent to another (including parents in other scenes)\n   * one should use the {@link insertBefore} method instead.\n   * @param nodes A node or nodes to append.\n   */\n  append(nodes) {\n    if (!Array.isArray(nodes)) {\n      nodes = [nodes];\n    }\n    for (const node of nodes) {\n      if (node.parent) {\n        throw new Error(`${node} already belongs to another parent: ${node.parent}.`);\n      }\n      if (node.layerManager) {\n        throw new Error(`${node} already belongs to a scene: ${node.layerManager}.`);\n      }\n      if (this.childSet[node.id]) {\n        throw new Error(`Duplicate ${node.constructor.name} node: ${node}`);\n      }\n      if (node.isVirtual) {\n        this._virtualChildren.push(node);\n      } else {\n        this._children.push(node);\n      }\n      this.childSet[node.id] = true;\n      node._parent = this;\n      node._setLayerManager(this.layerManager);\n    }\n    this.dirtyZIndex = true;\n    this.markDirty(this, 3 /* MAJOR */);\n  }\n  appendChild(node) {\n    this.append(node);\n    return node;\n  }\n  removeChild(node) {\n    const error = () => {\n      throw new Error(`The node to be removed is not a child of this node.`);\n    };\n    if (node.parent !== this) {\n      error();\n    }\n    if (node.isVirtual) {\n      const i = this._virtualChildren.indexOf(node);\n      if (i < 0)\n        error();\n      this._virtualChildren.splice(i, 1);\n    } else {\n      const i = this._children.indexOf(node);\n      if (i < 0)\n        error();\n      this._children.splice(i, 1);\n    }\n    delete this.childSet[node.id];\n    node._parent = void 0;\n    node._setLayerManager();\n    this.dirtyZIndex = true;\n    this.markDirty(node, 3 /* MAJOR */);\n    return node;\n  }\n  calculateCumulativeMatrix() {\n    this.computeTransformMatrix();\n    const matrix = Matrix.flyweight(this.matrix);\n    for (const parent of this.ancestors()) {\n      parent.computeTransformMatrix();\n      matrix.preMultiplySelf(parent.matrix);\n    }\n    return matrix;\n  }\n  transformPoint(x, y) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.invertSelf().transformPoint(x, y);\n  }\n  inverseTransformPoint(x, y) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.transformPoint(x, y);\n  }\n  transformBBox(bbox) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.invertSelf().transformBBox(bbox);\n  }\n  inverseTransformBBox(bbox) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.transformBBox(bbox);\n  }\n  markDirtyTransform() {\n    this.dirtyTransform = true;\n    this.markDirty(this, 3 /* MAJOR */);\n  }\n  containsPoint(_x, _y) {\n    return false;\n  }\n  /**\n   * Hit testing method.\n   * Recursively checks if the given point is inside this node or any of its children.\n   * Returns the first matching node or `undefined`.\n   * Nodes that render later (show on top) are hit tested first.\n   */\n  pickNode(x, y) {\n    var _a;\n    if (!this.visible || this.pointerEvents === 1 /* None */ || !this.containsPoint(x, y)) {\n      return;\n    }\n    const { children } = this;\n    if (children.length > 1e3) {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n        const containsPoint = (_a = child.computeTransformedBBox()) == null ? void 0 : _a.containsPoint(x, y);\n        const hit = containsPoint ? child.pickNode(x, y) : void 0;\n        if (hit) {\n          return hit;\n        }\n      }\n    } else if (children.length) {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const hit = children[i].pickNode(x, y);\n        if (hit) {\n          return hit;\n        }\n      }\n    } else if (!this.isContainerNode) {\n      return this;\n    }\n  }\n  getCachedBBox() {\n    var _a;\n    return (_a = this.cachedBBox) != null ? _a : BBox.zero;\n  }\n  computeBBox() {\n    return;\n  }\n  computeTransformedBBox() {\n    const bbox = this.computeBBox();\n    if (!bbox) {\n      return;\n    }\n    this.computeTransformMatrix();\n    const matrix = Matrix.flyweight(this.matrix);\n    for (const parent of this.ancestors()) {\n      parent.computeTransformMatrix();\n      matrix.preMultiplySelf(parent.matrix);\n    }\n    matrix.transformBBox(bbox, bbox);\n    return bbox;\n  }\n  computeTransformMatrix() {\n    if (!this.dirtyTransform) {\n      return;\n    }\n    const {\n      matrix,\n      scalingX,\n      scalingY,\n      rotation,\n      translationX,\n      translationY,\n      scalingCenterX,\n      scalingCenterY,\n      rotationCenterX,\n      rotationCenterY\n    } = this;\n    Matrix.updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, {\n      scalingCenterX,\n      scalingCenterY,\n      rotationCenterX,\n      rotationCenterY\n    });\n    this.dirtyTransform = false;\n  }\n  /** Perform any pre-rendering initialization. */\n  preRender() {\n    this._childNodeCounts.groups = 0;\n    this._childNodeCounts.nonGroups = 1;\n    for (const child of this.children) {\n      const childCounts = child.preRender();\n      this._childNodeCounts.groups += childCounts.groups;\n      this._childNodeCounts.nonGroups += childCounts.nonGroups;\n    }\n    return this._childNodeCounts;\n  }\n  render(renderCtx) {\n    const { stats } = renderCtx;\n    this._dirty = 0 /* NONE */;\n    this.cachedBBox = this.computeBBox();\n    if (stats) {\n      stats.nodesRendered++;\n    }\n  }\n  markDirty(_source, type = 1 /* TRIVIAL */, parentType = type) {\n    if (this._dirty > type || this._dirty === type && type === parentType) {\n      return;\n    }\n    this._dirty = type;\n    if (this.parent) {\n      this.parent.markDirty(this, parentType);\n    } else if (this.layerManager) {\n      this.layerManager.markDirty();\n    }\n  }\n  get dirty() {\n    return this._dirty;\n  }\n  markClean(opts) {\n    const { force = false, recursive = true } = opts != null ? opts : {};\n    if (this._dirty === 0 /* NONE */ && !force) {\n      return;\n    }\n    this._dirty = 0 /* NONE */;\n    if (recursive !== false) {\n      for (const child of this._virtualChildren) {\n        child.markClean({ force });\n      }\n    }\n    if (recursive === true) {\n      for (const child of this._children) {\n        child.markClean({ force });\n      }\n    }\n  }\n  onVisibleChange() {\n  }\n  get nodeCount() {\n    let count = 1;\n    let dirtyCount = this._dirty >= 0 /* NONE */ || this.dirtyTransform ? 1 : 0;\n    let visibleCount = this.visible ? 1 : 0;\n    const countChild = (child) => {\n      const { count: childCount, visibleCount: childVisibleCount, dirtyCount: childDirtyCount } = child.nodeCount;\n      count += childCount;\n      visibleCount += childVisibleCount;\n      dirtyCount += childDirtyCount;\n    };\n    for (const child of this._children) {\n      countChild(child);\n    }\n    for (const child of this._virtualChildren) {\n      countChild(child);\n    }\n    return { count, visibleCount, dirtyCount };\n  }\n  onZIndexChange() {\n    if (this.parent) {\n      this.parent.dirtyZIndex = true;\n    }\n  }\n};\n_Node._nextSerialNumber = 0;\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingX\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingY\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingCenterX\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingCenterY\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"rotationCenterX\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"rotationCenterY\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"rotation\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"translationX\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"translationY\", 2);\n__decorateClass([\n  SceneChangeDetection({\n    redraw: 3 /* MAJOR */,\n    changeCb: (target) => target.onVisibleChange()\n  })\n], _Node.prototype, \"visible\", 2);\n__decorateClass([\n  SceneChangeDetection({\n    redraw: 1 /* TRIVIAL */,\n    changeCb: (target) => target.onZIndexChange()\n  })\n], _Node.prototype, \"zIndex\", 2);\n__decorateClass([\n  SceneChangeDetection({\n    redraw: 1 /* TRIVIAL */,\n    changeCb: (target) => target.onZIndexChange()\n  })\n], _Node.prototype, \"zIndexSubOrder\", 2);\nvar Node = _Node;\n\n// packages/ag-charts-community/src/util/color.ts\nvar srgbToLinear = (value) => {\n  const sign = value < 0 ? -1 : 1;\n  const abs = Math.abs(value);\n  if (abs <= 0.04045)\n    return value / 12.92;\n  return sign * __pow((abs + 0.055) / 1.055, 2.4);\n};\nvar srgbFromLinear = (value) => {\n  const sign = value < 0 ? -1 : 1;\n  const abs = Math.abs(value);\n  if (abs > 31308e-7) {\n    return sign * (1.055 * __pow(abs, 1 / 2.4) - 0.055);\n  }\n  return 12.92 * value;\n};\nvar _Color = class _Color {\n  /**\n   * Every color component should be in the [0, 1] range.\n   * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n   * So, when animating colors, if the source or target color components are already near\n   * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n   * component value to end up outside of that range mid-animation. For this reason the constructor\n   * performs range checking/constraining.\n   * @param r Red component.\n   * @param g Green component.\n   * @param b Blue component.\n   * @param a Alpha (opacity) component.\n   */\n  constructor(r, g, b, a = 1) {\n    this.r = clamp(0, r || 0, 1);\n    this.g = clamp(0, g || 0, 1);\n    this.b = clamp(0, b || 0, 1);\n    this.a = clamp(0, a || 0, 1);\n  }\n  /**\n   * A color string can be in one of the following formats to be valid:\n   * - #rgb\n   * - #rrggbb\n   * - rgb(r, g, b)\n   * - rgba(r, g, b, a)\n   * - CSS color name such as 'white', 'orange', 'cyan', etc.\n   */\n  static validColorString(str) {\n    if (str.indexOf(\"#\") >= 0) {\n      return !!_Color.parseHex(str);\n    }\n    if (str.indexOf(\"rgb\") >= 0) {\n      return !!_Color.stringToRgba(str);\n    }\n    return !!_Color.nameToHex[str.toLowerCase()];\n  }\n  /**\n   * The given string can be in one of the following formats:\n   * - #rgb\n   * - #rrggbb\n   * - rgb(r, g, b)\n   * - rgba(r, g, b, a)\n   * - CSS color name such as 'white', 'orange', 'cyan', etc.\n   * @param str\n   */\n  static fromString(str) {\n    if (str.indexOf(\"#\") >= 0) {\n      return _Color.fromHexString(str);\n    }\n    const hex = _Color.nameToHex[str.toLowerCase()];\n    if (hex) {\n      return _Color.fromHexString(hex);\n    }\n    if (str.indexOf(\"rgb\") >= 0) {\n      return _Color.fromRgbaString(str);\n    }\n    throw new Error(`Invalid color string: '${str}'`);\n  }\n  static tryParseFromString(str) {\n    try {\n      return _Color.fromString(str);\n    } catch (e) {\n      Logger.warnOnce(`invalid color string: '${str}'.`);\n      return _Color.fromArray([0, 0, 0]);\n    }\n  }\n  // See https://drafts.csswg.org/css-color/#hex-notation\n  static parseHex(input) {\n    input = input.replace(/ /g, \"\").slice(1);\n    let parts;\n    switch (input.length) {\n      case 6:\n      case 8:\n        parts = [];\n        for (let i = 0; i < input.length; i += 2) {\n          parts.push(parseInt(`${input[i]}${input[i + 1]}`, 16));\n        }\n        break;\n      case 3:\n      case 4:\n        parts = input.split(\"\").map((p) => parseInt(p, 16)).map((p) => p + p * 16);\n        break;\n    }\n    if ((parts == null ? void 0 : parts.length) >= 3 && parts.every((p) => p >= 0)) {\n      if (parts.length === 3) {\n        parts.push(255);\n      }\n      return parts;\n    }\n  }\n  static fromHexString(str) {\n    const values = _Color.parseHex(str);\n    if (values) {\n      const [r, g, b, a] = values;\n      return new _Color(r / 255, g / 255, b / 255, a / 255);\n    }\n    throw new Error(`Malformed hexadecimal color string: '${str}'`);\n  }\n  static stringToRgba(str) {\n    let [po, pc] = [NaN, NaN];\n    for (let i = 0; i < str.length; i++) {\n      const c = str[i];\n      if (!po && c === \"(\") {\n        po = i;\n      } else if (c === \")\") {\n        pc = i;\n        break;\n      }\n    }\n    const contents = po && pc && str.substring(po + 1, pc);\n    if (!contents) {\n      return;\n    }\n    const parts = contents.split(\",\");\n    const rgba = [];\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n      let value = parseFloat(part);\n      if (isNaN(value)) {\n        return;\n      }\n      if (part.indexOf(\"%\") >= 0) {\n        value = clamp(0, value, 100);\n        value /= 100;\n      } else if (i === 3) {\n        value = clamp(0, value, 1);\n      } else {\n        value = clamp(0, value, 255);\n        value /= 255;\n      }\n      rgba.push(value);\n    }\n    return rgba;\n  }\n  static fromRgbaString(str) {\n    const rgba = _Color.stringToRgba(str);\n    if (rgba) {\n      if (rgba.length === 3) {\n        return new _Color(rgba[0], rgba[1], rgba[2]);\n      } else if (rgba.length === 4) {\n        return new _Color(rgba[0], rgba[1], rgba[2], rgba[3]);\n      }\n    }\n    throw new Error(`Malformed rgb/rgba color string: '${str}'`);\n  }\n  static fromArray(arr) {\n    if (arr.length === 4) {\n      return new _Color(arr[0], arr[1], arr[2], arr[3]);\n    }\n    if (arr.length === 3) {\n      return new _Color(arr[0], arr[1], arr[2]);\n    }\n    throw new Error(\"The given array should contain 3 or 4 color components (numbers).\");\n  }\n  static fromHSB(h, s, b, alpha = 1) {\n    const rgb = _Color.HSBtoRGB(h, s, b);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static fromHSL(h, s, l, alpha = 1) {\n    const rgb = _Color.HSLtoRGB(h, s, l);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static fromOKLCH(l, c, h, alpha = 1) {\n    const rgb = _Color.OKLCHtoRGB(l, c, h);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static padHex(str) {\n    return str.length === 1 ? \"0\" + str : str;\n  }\n  toHexString() {\n    let hex = \"#\" + _Color.padHex(Math.round(this.r * 255).toString(16)) + _Color.padHex(Math.round(this.g * 255).toString(16)) + _Color.padHex(Math.round(this.b * 255).toString(16));\n    if (this.a < 1) {\n      hex += _Color.padHex(Math.round(this.a * 255).toString(16));\n    }\n    return hex;\n  }\n  toRgbaString(fractionDigits = 3) {\n    const components = [Math.round(this.r * 255), Math.round(this.g * 255), Math.round(this.b * 255)];\n    const k = Math.pow(10, fractionDigits);\n    if (this.a !== 1) {\n      components.push(Math.round(this.a * k) / k);\n      return `rgba(${components.join(\", \")})`;\n    }\n    return `rgb(${components.join(\", \")})`;\n  }\n  toString() {\n    if (this.a === 1) {\n      return this.toHexString();\n    }\n    return this.toRgbaString();\n  }\n  toHSB() {\n    return _Color.RGBtoHSB(this.r, this.g, this.b);\n  }\n  static RGBtoOKLCH(r, g, b) {\n    const LSRGB0 = srgbToLinear(r);\n    const LSRGB1 = srgbToLinear(g);\n    const LSRGB2 = srgbToLinear(b);\n    const LMS0 = Math.cbrt(0.4122214708 * LSRGB0 + 0.5363325363 * LSRGB1 + 0.0514459929 * LSRGB2);\n    const LMS1 = Math.cbrt(0.2119034982 * LSRGB0 + 0.6806995451 * LSRGB1 + 0.1073969566 * LSRGB2);\n    const LMS2 = Math.cbrt(0.0883024619 * LSRGB0 + 0.2817188376 * LSRGB1 + 0.6299787005 * LSRGB2);\n    const OKLAB0 = 0.2104542553 * LMS0 + 0.793617785 * LMS1 - 0.0040720468 * LMS2;\n    const OKLAB1 = 1.9779984951 * LMS0 - 2.428592205 * LMS1 + 0.4505937099 * LMS2;\n    const OKLAB2 = 0.0259040371 * LMS0 + 0.7827717662 * LMS1 - 0.808675766 * LMS2;\n    const hue = Math.atan2(OKLAB2, OKLAB1) * 180 / Math.PI;\n    const OKLCH0 = OKLAB0;\n    const OKLCH1 = Math.hypot(OKLAB1, OKLAB2);\n    const OKLCH2 = hue >= 0 ? hue : hue + 360;\n    return [OKLCH0, OKLCH1, OKLCH2];\n  }\n  static OKLCHtoRGB(l, c, h) {\n    const OKLAB0 = l;\n    const OKLAB1 = c * Math.cos(h * Math.PI / 180);\n    const OKLAB2 = c * Math.sin(h * Math.PI / 180);\n    const LMS0 = __pow(OKLAB0 + 0.3963377774 * OKLAB1 + 0.2158037573 * OKLAB2, 3);\n    const LMS1 = __pow(OKLAB0 - 0.1055613458 * OKLAB1 - 0.0638541728 * OKLAB2, 3);\n    const LMS2 = __pow(OKLAB0 - 0.0894841775 * OKLAB1 - 1.291485548 * OKLAB2, 3);\n    const LSRGB0 = 4.0767416621 * LMS0 - 3.3077115913 * LMS1 + 0.2309699292 * LMS2;\n    const LSRGB1 = -1.2684380046 * LMS0 + 2.6097574011 * LMS1 - 0.3413193965 * LMS2;\n    const LSRGB2 = -0.0041960863 * LMS0 - 0.7034186147 * LMS1 + 1.707614701 * LMS2;\n    const SRGB0 = srgbFromLinear(LSRGB0);\n    const SRGB1 = srgbFromLinear(LSRGB1);\n    const SRGB2 = srgbFromLinear(LSRGB2);\n    return [SRGB0, SRGB1, SRGB2];\n  }\n  static RGBtoHSL(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const l = (max + min) / 2;\n    let h;\n    let s;\n    if (max === min) {\n      h = NaN;\n      s = 0;\n    } else {\n      const delta2 = max - min;\n      s = l > 0.5 ? delta2 / (2 - max - min) : delta2 / (max + min);\n      if (max === r) {\n        h = (g - b) / delta2 + (g < b ? 6 : 0);\n      } else if (max === g) {\n        h = (b - r) / delta2 + 2;\n      } else {\n        h = (r - g) / delta2 + 4;\n      }\n      h *= 360 / 6;\n    }\n    return [h, s, l];\n  }\n  static HSLtoRGB(h, s, l) {\n    if (s === 0) {\n      return [l, l, l];\n    }\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    function hueToRgb(t) {\n      if (t < 0)\n        t += 1;\n      if (t > 1)\n        t -= 1;\n      if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n      if (t < 1 / 2)\n        return q;\n      if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n    const r = hueToRgb(h / 360 + 1 / 3);\n    const g = hueToRgb(h / 360);\n    const b = hueToRgb(h / 360 - 1 / 3);\n    return [r, g, b];\n  }\n  /**\n   * Converts the given RGB triple to an array of HSB (HSV) components.\n   * The hue component will be `NaN` for achromatic colors.\n   */\n  static RGBtoHSB(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const S = max === 0 ? 0 : (max - min) / max;\n    let H = NaN;\n    if (min !== max) {\n      const delta2 = max - min;\n      const rc = (max - r) / delta2;\n      const gc = (max - g) / delta2;\n      const bc = (max - b) / delta2;\n      if (r === max) {\n        H = bc - gc;\n      } else if (g === max) {\n        H = 2 + rc - bc;\n      } else {\n        H = 4 + gc - rc;\n      }\n      H /= 6;\n      if (H < 0) {\n        H = H + 1;\n      }\n    }\n    return [H * 360, S, max];\n  }\n  /**\n   * Converts the given HSB (HSV) triple to an array of RGB components.\n   */\n  static HSBtoRGB(H, S, B) {\n    if (isNaN(H)) {\n      H = 0;\n    }\n    H = (H % 360 + 360) % 360 / 360;\n    let r = 0;\n    let g = 0;\n    let b = 0;\n    if (S === 0) {\n      r = g = b = B;\n    } else {\n      const h = (H - Math.floor(H)) * 6;\n      const f = h - Math.floor(h);\n      const p = B * (1 - S);\n      const q = B * (1 - S * f);\n      const t = B * (1 - S * (1 - f));\n      switch (h >> 0) {\n        case 0:\n          r = B;\n          g = t;\n          b = p;\n          break;\n        case 1:\n          r = q;\n          g = B;\n          b = p;\n          break;\n        case 2:\n          r = p;\n          g = B;\n          b = t;\n          break;\n        case 3:\n          r = p;\n          g = q;\n          b = B;\n          break;\n        case 4:\n          r = t;\n          g = p;\n          b = B;\n          break;\n        case 5:\n          r = B;\n          g = p;\n          b = q;\n          break;\n      }\n    }\n    return [r, g, b];\n  }\n  derive(hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n    const hsb = _Color.RGBtoHSB(this.r, this.g, this.b);\n    let b = hsb[2];\n    if (b == 0 && brightnessFactor > 1) {\n      b = 0.05;\n    }\n    const h = ((hsb[0] + hueShift) % 360 + 360) % 360;\n    const s = clamp(0, hsb[1] * saturationFactor, 1);\n    b = clamp(0, b * brightnessFactor, 1);\n    const a = clamp(0, this.a * opacityFactor, 1);\n    const rgba = _Color.HSBtoRGB(h, s, b);\n    rgba.push(a);\n    return _Color.fromArray(rgba);\n  }\n  brighter() {\n    return this.derive(0, 1, 1 / 0.7, 1);\n  }\n  darker() {\n    return this.derive(0, 1, 0.7, 1);\n  }\n  static interpolate(color, other) {\n    const c0 = _Color.tryParseFromString(color);\n    const c1 = _Color.tryParseFromString(other);\n    return (t) => {\n      const i = (x, y) => x * (1 - t) + y * t;\n      const c = new _Color(i(c0.r, c1.r), i(c0.g, c1.g), i(c0.b, c1.b), i(c0.a, c1.a));\n      return c.toString();\n    };\n  }\n};\n_Color.didDebug = false;\n/**\n * CSS Color Module Level 4:\n * https://drafts.csswg.org/css-color/#named-colors\n */\n_Color.nameToHex = Object.freeze({\n  aliceblue: \"#F0F8FF\",\n  antiquewhite: \"#FAEBD7\",\n  aqua: \"#00FFFF\",\n  aquamarine: \"#7FFFD4\",\n  azure: \"#F0FFFF\",\n  beige: \"#F5F5DC\",\n  bisque: \"#FFE4C4\",\n  black: \"#000000\",\n  blanchedalmond: \"#FFEBCD\",\n  blue: \"#0000FF\",\n  blueviolet: \"#8A2BE2\",\n  brown: \"#A52A2A\",\n  burlywood: \"#DEB887\",\n  cadetblue: \"#5F9EA0\",\n  chartreuse: \"#7FFF00\",\n  chocolate: \"#D2691E\",\n  coral: \"#FF7F50\",\n  cornflowerblue: \"#6495ED\",\n  cornsilk: \"#FFF8DC\",\n  crimson: \"#DC143C\",\n  cyan: \"#00FFFF\",\n  darkblue: \"#00008B\",\n  darkcyan: \"#008B8B\",\n  darkgoldenrod: \"#B8860B\",\n  darkgray: \"#A9A9A9\",\n  darkgreen: \"#006400\",\n  darkgrey: \"#A9A9A9\",\n  darkkhaki: \"#BDB76B\",\n  darkmagenta: \"#8B008B\",\n  darkolivegreen: \"#556B2F\",\n  darkorange: \"#FF8C00\",\n  darkorchid: \"#9932CC\",\n  darkred: \"#8B0000\",\n  darksalmon: \"#E9967A\",\n  darkseagreen: \"#8FBC8F\",\n  darkslateblue: \"#483D8B\",\n  darkslategray: \"#2F4F4F\",\n  darkslategrey: \"#2F4F4F\",\n  darkturquoise: \"#00CED1\",\n  darkviolet: \"#9400D3\",\n  deeppink: \"#FF1493\",\n  deepskyblue: \"#00BFFF\",\n  dimgray: \"#696969\",\n  dimgrey: \"#696969\",\n  dodgerblue: \"#1E90FF\",\n  firebrick: \"#B22222\",\n  floralwhite: \"#FFFAF0\",\n  forestgreen: \"#228B22\",\n  fuchsia: \"#FF00FF\",\n  gainsboro: \"#DCDCDC\",\n  ghostwhite: \"#F8F8FF\",\n  gold: \"#FFD700\",\n  goldenrod: \"#DAA520\",\n  gray: \"#808080\",\n  green: \"#008000\",\n  greenyellow: \"#ADFF2F\",\n  grey: \"#808080\",\n  honeydew: \"#F0FFF0\",\n  hotpink: \"#FF69B4\",\n  indianred: \"#CD5C5C\",\n  indigo: \"#4B0082\",\n  ivory: \"#FFFFF0\",\n  khaki: \"#F0E68C\",\n  lavender: \"#E6E6FA\",\n  lavenderblush: \"#FFF0F5\",\n  lawngreen: \"#7CFC00\",\n  lemonchiffon: \"#FFFACD\",\n  lightblue: \"#ADD8E6\",\n  lightcoral: \"#F08080\",\n  lightcyan: \"#E0FFFF\",\n  lightgoldenrodyellow: \"#FAFAD2\",\n  lightgray: \"#D3D3D3\",\n  lightgreen: \"#90EE90\",\n  lightgrey: \"#D3D3D3\",\n  lightpink: \"#FFB6C1\",\n  lightsalmon: \"#FFA07A\",\n  lightseagreen: \"#20B2AA\",\n  lightskyblue: \"#87CEFA\",\n  lightslategray: \"#778899\",\n  lightslategrey: \"#778899\",\n  lightsteelblue: \"#B0C4DE\",\n  lightyellow: \"#FFFFE0\",\n  lime: \"#00FF00\",\n  limegreen: \"#32CD32\",\n  linen: \"#FAF0E6\",\n  magenta: \"#FF00FF\",\n  maroon: \"#800000\",\n  mediumaquamarine: \"#66CDAA\",\n  mediumblue: \"#0000CD\",\n  mediumorchid: \"#BA55D3\",\n  mediumpurple: \"#9370DB\",\n  mediumseagreen: \"#3CB371\",\n  mediumslateblue: \"#7B68EE\",\n  mediumspringgreen: \"#00FA9A\",\n  mediumturquoise: \"#48D1CC\",\n  mediumvioletred: \"#C71585\",\n  midnightblue: \"#191970\",\n  mintcream: \"#F5FFFA\",\n  mistyrose: \"#FFE4E1\",\n  moccasin: \"#FFE4B5\",\n  navajowhite: \"#FFDEAD\",\n  navy: \"#000080\",\n  oldlace: \"#FDF5E6\",\n  olive: \"#808000\",\n  olivedrab: \"#6B8E23\",\n  orange: \"#FFA500\",\n  orangered: \"#FF4500\",\n  orchid: \"#DA70D6\",\n  palegoldenrod: \"#EEE8AA\",\n  palegreen: \"#98FB98\",\n  paleturquoise: \"#AFEEEE\",\n  palevioletred: \"#DB7093\",\n  papayawhip: \"#FFEFD5\",\n  peachpuff: \"#FFDAB9\",\n  peru: \"#CD853F\",\n  pink: \"#FFC0CB\",\n  plum: \"#DDA0DD\",\n  powderblue: \"#B0E0E6\",\n  purple: \"#800080\",\n  rebeccapurple: \"#663399\",\n  red: \"#FF0000\",\n  rosybrown: \"#BC8F8F\",\n  royalblue: \"#4169E1\",\n  saddlebrown: \"#8B4513\",\n  salmon: \"#FA8072\",\n  sandybrown: \"#F4A460\",\n  seagreen: \"#2E8B57\",\n  seashell: \"#FFF5EE\",\n  sienna: \"#A0522D\",\n  silver: \"#C0C0C0\",\n  skyblue: \"#87CEEB\",\n  slateblue: \"#6A5ACD\",\n  slategray: \"#708090\",\n  slategrey: \"#708090\",\n  snow: \"#FFFAFA\",\n  springgreen: \"#00FF7F\",\n  steelblue: \"#4682B4\",\n  tan: \"#D2B48C\",\n  teal: \"#008080\",\n  thistle: \"#D8BFD8\",\n  tomato: \"#FF6347\",\n  transparent: \"#00000000\",\n  turquoise: \"#40E0D0\",\n  violet: \"#EE82EE\",\n  wheat: \"#F5DEB3\",\n  white: \"#FFFFFF\",\n  whitesmoke: \"#F5F5F5\",\n  yellow: \"#FFFF00\",\n  yellowgreen: \"#9ACD32\"\n});\nvar Color = _Color;\n\n// packages/ag-charts-community/src/util/interpolate.ts\nfunction interpolateNumber(a, b) {\n  return (d) => Number(a) * (1 - d) + Number(b) * d;\n}\nfunction interpolateColor(a, b) {\n  if (typeof a === \"string\") {\n    try {\n      a = Color.fromString(a);\n    } catch (e) {\n      a = Color.fromArray([0, 0, 0]);\n    }\n  }\n  if (typeof b === \"string\") {\n    try {\n      b = Color.fromString(b);\n    } catch (e) {\n      b = Color.fromArray([0, 0, 0]);\n    }\n  }\n  const red = interpolateNumber(a.r, b.r);\n  const green = interpolateNumber(a.g, b.g);\n  const blue = interpolateNumber(a.b, b.b);\n  const alpha = interpolateNumber(a.a, b.a);\n  return (d) => Color.fromArray([red(d), green(d), blue(d), alpha(d)]).toRgbaString();\n}\n\n// packages/ag-charts-community/src/motion/easing.ts\nvar easing_exports = {};\n__export(easing_exports, {\n  easeIn: () => easeIn,\n  easeInOut: () => easeInOut,\n  easeInOutQuad: () => easeInOutQuad,\n  easeInQuad: () => easeInQuad,\n  easeOut: () => easeOut,\n  easeOutQuad: () => easeOutQuad,\n  inverseEaseOut: () => inverseEaseOut,\n  linear: () => linear\n});\nvar linear = (n) => n;\nvar easeIn = (n) => 1 - Math.cos(n * Math.PI / 2);\nvar easeOut = (n) => Math.sin(n * Math.PI / 2);\nvar easeInOut = (n) => -(Math.cos(n * Math.PI) - 1) / 2;\nvar easeInQuad = (n) => n * n;\nvar easeOutQuad = (n) => 1 - __pow(1 - n, 2);\nvar easeInOutQuad = (n) => n < 0.5 ? 2 * n * n : 1 - __pow(-2 * n + 2, 2) / 2;\nvar inverseEaseOut = (x) => 2 * Math.asin(x) / Math.PI;\n\n// packages/ag-charts-community/src/motion/animation.ts\nvar QUICK_TRANSITION = 0.2;\nvar PHASE_ORDER = [\"initial\", \"remove\", \"update\", \"add\", \"trailing\", \"end\", \"none\"];\nvar PHASE_METADATA = {\n  initial: {\n    animationDuration: 1,\n    animationDelay: 0\n  },\n  add: {\n    animationDuration: 0.25,\n    animationDelay: 0.75\n  },\n  remove: {\n    animationDuration: 0.25,\n    animationDelay: 0\n  },\n  update: {\n    animationDuration: 0.5,\n    animationDelay: 0.25\n  },\n  trailing: {\n    animationDuration: QUICK_TRANSITION,\n    animationDelay: 1,\n    skipIfNoEarlierAnimations: true\n  },\n  end: {\n    animationDelay: 1 + QUICK_TRANSITION,\n    animationDuration: 0,\n    skipIfNoEarlierAnimations: true\n  },\n  none: {\n    animationDuration: 0,\n    animationDelay: 0\n  }\n};\nvar RepeatType = /* @__PURE__ */ ((RepeatType2) => {\n  RepeatType2[\"Loop\"] = \"loop\";\n  RepeatType2[\"Reverse\"] = \"reverse\";\n  return RepeatType2;\n})(RepeatType || {});\nfunction isNodeArray(array) {\n  return array.every((n) => n instanceof Node);\n}\nfunction deconstructSelectionsOrNodes(selectionsOrNodes) {\n  return isNodeArray(selectionsOrNodes) ? { nodes: selectionsOrNodes, selections: [] } : { nodes: [], selections: selectionsOrNodes };\n}\nvar Animation = class {\n  constructor(opts) {\n    this.isComplete = false;\n    this.elapsed = 0;\n    this.iteration = 0;\n    this.isPlaying = false;\n    this.isReverse = false;\n    var _a, _b, _c, _d, _e, _f, _g;\n    this.id = opts.id;\n    this.groupId = opts.groupId;\n    this.autoplay = (_a = opts.autoplay) != null ? _a : true;\n    this.ease = (_b = opts.ease) != null ? _b : linear;\n    this.phase = opts.phase;\n    const durationProportion = (_c = opts.duration) != null ? _c : PHASE_METADATA[this.phase].animationDuration;\n    this.duration = durationProportion * opts.defaultDuration;\n    this.delay = ((_d = opts.delay) != null ? _d : 0) * opts.defaultDuration;\n    this.onComplete = opts.onComplete;\n    this.onPlay = opts.onPlay;\n    this.onStop = opts.onStop;\n    this.onUpdate = opts.onUpdate;\n    this.interpolate = this.createInterpolator(opts.from, opts.to);\n    this.from = opts.from;\n    if (opts.skip === true) {\n      (_e = this.onUpdate) == null ? void 0 : _e.call(this, opts.to, false, this);\n      (_f = this.onStop) == null ? void 0 : _f.call(this, this);\n      (_g = this.onComplete) == null ? void 0 : _g.call(this, this);\n      this.isComplete = true;\n    }\n    if (opts.collapsable !== false) {\n      this.duration = this.checkCollapse(opts, this.duration);\n    }\n  }\n  checkCollapse(opts, calculatedDuration) {\n    if (opts.from === opts.to)\n      return 0;\n    const diff2 = typeof opts.from === \"object\" ? jsonDiff(opts.from, opts.to) : null;\n    if (diff2) {\n      return calculatedDuration;\n    }\n    return 0;\n  }\n  play(initialUpdate = false) {\n    var _a, _b;\n    if (this.isPlaying || this.isComplete)\n      return;\n    this.isPlaying = true;\n    (_a = this.onPlay) == null ? void 0 : _a.call(this, this);\n    if (!this.autoplay)\n      return;\n    this.autoplay = false;\n    if (!initialUpdate)\n      return;\n    (_b = this.onUpdate) == null ? void 0 : _b.call(this, this.from, true, this);\n  }\n  pause() {\n    this.isPlaying = false;\n  }\n  stop() {\n    var _a;\n    this.isPlaying = false;\n    if (!this.isComplete) {\n      this.isComplete = true;\n      (_a = this.onStop) == null ? void 0 : _a.call(this, this);\n    }\n  }\n  update(time2) {\n    var _a, _b;\n    if (this.isComplete)\n      return time2;\n    if (!this.isPlaying && this.autoplay) {\n      this.play(true);\n    }\n    const previousElapsed = this.elapsed;\n    this.elapsed += time2;\n    if (this.delay > this.elapsed)\n      return 0;\n    const value = this.interpolate(this.isReverse ? 1 - this.delta : this.delta);\n    (_a = this.onUpdate) == null ? void 0 : _a.call(this, value, false, this);\n    const totalDuration = this.delay + this.duration;\n    if (this.elapsed >= totalDuration) {\n      this.stop();\n      this.isComplete = true;\n      (_b = this.onComplete) == null ? void 0 : _b.call(this, this);\n      return time2 - (totalDuration - previousElapsed);\n    }\n    return 0;\n  }\n  get delta() {\n    return this.ease(clamp(0, (this.elapsed - this.delay) / this.duration, 1));\n  }\n  createInterpolator(from, to) {\n    if (typeof to !== \"object\" || isInterpolating(to)) {\n      return this.interpolateValue(from, to);\n    }\n    const interpolatorEntries = [];\n    for (const key in to) {\n      const interpolator = this.interpolateValue(from[key], to[key]);\n      if (interpolator != null) {\n        interpolatorEntries.push([key, interpolator]);\n      }\n    }\n    return (d) => {\n      const result = {};\n      for (const [key, interpolator] of interpolatorEntries) {\n        result[key] = interpolator(d);\n      }\n      return result;\n    };\n  }\n  interpolateValue(a, b) {\n    if (a === void 0 || b === void 0) {\n      return;\n    } else if (isInterpolating(a)) {\n      return (d) => a[interpolate](b, d);\n    }\n    try {\n      switch (typeof a) {\n        case \"number\":\n          return interpolateNumber(a, b);\n        case \"string\":\n          return interpolateColor(a, b);\n        case \"boolean\":\n          if (a === b)\n            return () => a;\n          break;\n      }\n    } catch (e) {\n    }\n    throw new Error(`Unable to interpolate values: ${a}, ${b}`);\n  }\n};\n\n// packages/ag-charts-community/src/motion/fromToMotion.ts\nvar NODE_UPDATE_STATE_TO_PHASE_MAPPING = {\n  added: \"add\",\n  updated: \"update\",\n  removed: \"remove\",\n  unknown: \"initial\",\n  \"no-op\": \"none\"\n};\nfunction fromToMotion(groupId, subId, animationManager, selectionsOrNodes, fns, getDatumId, diff2) {\n  const { fromFn, toFn, intermediateFn } = fns;\n  const { nodes, selections } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  const processNodes = (liveNodes, subNodes) => {\n    var _c;\n    let prevFromProps;\n    let liveNodeIndex = 0;\n    let nodeIndex = 0;\n    for (const node of subNodes) {\n      const isLive = liveNodes[liveNodeIndex] === node;\n      const ctx = {\n        last: nodeIndex >= subNodes.length - 1,\n        lastLive: liveNodeIndex >= liveNodes.length - 1,\n        prev: subNodes[nodeIndex - 1],\n        prevFromProps,\n        prevLive: liveNodes[liveNodeIndex - 1],\n        next: subNodes[nodeIndex + 1],\n        nextLive: liveNodes[liveNodeIndex + (isLive ? 1 : 0)]\n      };\n      const animationId = `${groupId}_${subId}_${node.id}`;\n      animationManager.stopByAnimationId(animationId);\n      let status = \"unknown\";\n      if (!isLive) {\n        status = \"removed\";\n      } else if (getDatumId && diff2) {\n        status = calculateStatus(node, node.datum, getDatumId, diff2);\n      }\n      const _a = fromFn(node, node.datum, status, ctx), { phase, start, finish, delay, duration } = _a, from = __objRest(_a, [\"phase\", \"start\", \"finish\", \"delay\", \"duration\"]);\n      const _b = toFn(node, node.datum, status, ctx), {\n        phase: toPhase,\n        start: toStart,\n        finish: toFinish,\n        delay: toDelay,\n        duration: toDuration\n      } = _b, to = __objRest(_b, [\n        \"phase\",\n        \"start\",\n        \"finish\",\n        \"delay\",\n        \"duration\"\n      ]);\n      const collapsable = finish == null && toFinish == null;\n      animationManager.animate({\n        id: animationId,\n        groupId,\n        phase: (_c = phase != null ? phase : toPhase) != null ? _c : \"update\",\n        duration: duration != null ? duration : toDuration,\n        delay: delay != null ? delay : toDelay,\n        from,\n        to,\n        ease: easeOut,\n        collapsable,\n        onPlay: () => {\n          node.setProperties(__spreadValues(__spreadValues({}, start), toStart));\n        },\n        onUpdate(props) {\n          node.setProperties(props);\n          if (intermediateFn) {\n            node.setProperties(intermediateFn(node, node.datum, status, ctx));\n          }\n        },\n        onStop: () => {\n          node.setProperties(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, start), toStart), from), to), finish), toFinish));\n        }\n      });\n      if (isLive) {\n        liveNodeIndex++;\n      }\n      nodeIndex++;\n      prevFromProps = from;\n    }\n  };\n  let selectionIndex = 0;\n  for (const selection of selections) {\n    const selectionNodes = selection.nodes();\n    const liveNodes = selectionNodes.filter((n) => !selection.isGarbage(n));\n    processNodes(liveNodes, selectionNodes);\n    animationManager.animate({\n      id: `${groupId}_${subId}_selection_${selectionIndex}`,\n      groupId,\n      phase: \"end\",\n      from: 0,\n      to: 1,\n      ease: easeOut,\n      onStop() {\n        selection.cleanup();\n      }\n    });\n    selectionIndex++;\n  }\n  processNodes(nodes, nodes);\n}\nfunction staticFromToMotion(groupId, subId, animationManager, selectionsOrNodes, from, to, extraOpts) {\n  const { nodes, selections } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  const { start, finish, phase } = extraOpts;\n  const collapsable = finish == null;\n  animationManager.animate({\n    id: `${groupId}_${subId}`,\n    groupId,\n    phase: phase != null ? phase : \"update\",\n    from,\n    to,\n    ease: easeOut,\n    collapsable,\n    onPlay: () => {\n      if (!start)\n        return;\n      for (const node of nodes) {\n        node.setProperties(start);\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(start);\n        }\n      }\n    },\n    onUpdate(props) {\n      for (const node of nodes) {\n        node.setProperties(props);\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(props);\n        }\n      }\n    },\n    onStop: () => {\n      for (const node of nodes) {\n        node.setProperties(__spreadValues(__spreadValues({}, to), finish));\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(__spreadValues(__spreadValues({}, to), finish));\n        }\n      }\n    }\n  });\n}\nfunction calculateStatus(node, datum, getDatumId, diff2) {\n  const id = getDatumId(node, datum);\n  if (diff2.added.has(id)) {\n    return \"added\";\n  }\n  if (diff2.removed.has(id)) {\n    return \"removed\";\n  }\n  return \"updated\";\n}\n\n// packages/ag-charts-community/src/util/angle.ts\nvar twoPi = Math.PI * 2;\nfunction normalizeAngle360(radians) {\n  radians %= twoPi;\n  radians += twoPi;\n  radians %= twoPi;\n  return radians;\n}\nfunction normalizeAngle360Inclusive(radians) {\n  radians %= twoPi;\n  radians += twoPi;\n  if (radians !== twoPi) {\n    radians %= twoPi;\n  }\n  return radians;\n}\nfunction normalizeAngle180(radians) {\n  radians %= twoPi;\n  if (radians < -Math.PI) {\n    radians += twoPi;\n  } else if (radians >= Math.PI) {\n    radians -= twoPi;\n  }\n  return radians;\n}\nfunction isBetweenAngles(targetAngle, startAngle, endAngle) {\n  const t = normalizeAngle360(targetAngle);\n  const a0 = normalizeAngle360(startAngle);\n  const a1 = normalizeAngle360Inclusive(endAngle);\n  if (a0 <= a1) {\n    return a0 <= t && t <= a1;\n  } else {\n    return a0 <= t || t <= a1;\n  }\n}\nfunction toRadians(degrees) {\n  return degrees / 180 * Math.PI;\n}\nfunction toDegrees(radians) {\n  return radians / Math.PI * 180;\n}\nfunction angleBetween(angle0, angle1) {\n  angle0 = normalizeAngle360(angle0);\n  angle1 = normalizeAngle360(angle1);\n  return angle1 - angle0 + (angle0 > angle1 ? 2 * Math.PI : 0);\n}\nfunction displacePointFromVector(centerX, centerY, radius, angle) {\n  const x = centerX + radius * Math.cos(angle);\n  const y = centerY + radius * Math.sin(angle);\n  return { x, y };\n}\n\n// packages/ag-charts-community/src/scale/invalidating.ts\nvar Invalidating = (target, propertyKey) => {\n  const mappedProperty = Symbol(String(propertyKey));\n  target[mappedProperty] = void 0;\n  Object.defineProperty(target, propertyKey, {\n    get() {\n      return this[mappedProperty];\n    },\n    set(newValue) {\n      const oldValue = this[mappedProperty];\n      if (oldValue !== newValue) {\n        this[mappedProperty] = newValue;\n        this.invalid = true;\n      }\n    },\n    enumerable: true,\n    configurable: false\n  });\n};\n\n// packages/ag-charts-community/src/scale/bandScale.ts\nvar _BandScale = class _BandScale {\n  constructor() {\n    this.type = \"band\";\n    this.invalid = true;\n    this.interval = void 0;\n    /**\n     * Maps datum to its index in the {@link domain} array.\n     * Used to check for duplicate datums (not allowed).\n     */\n    this.index = /* @__PURE__ */ new Map();\n    /**\n     * The output range values for datum at each index.\n     */\n    this.ordinalRange = [];\n    /**\n     * Contains unique datums only. Since `{}` is used in place of `Map`\n     * for IE11 compatibility, the datums are converted `toString` before\n     * the uniqueness check.\n     */\n    this._domain = [];\n    this.range = [0, 1];\n    this._bandwidth = 1;\n    this._step = 1;\n    this._rawBandwidth = 1;\n    /**\n     * The ratio of the range that is reserved for space between bands.\n     */\n    this._paddingInner = 0;\n    /**\n     * The ratio of the range that is reserved for space before the first\n     * and after the last band.\n     */\n    this._paddingOuter = 0;\n    this.round = false;\n  }\n  static is(value) {\n    return value instanceof _BandScale;\n  }\n  refresh() {\n    if (!this.invalid)\n      return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n  set domain(values) {\n    this.invalid = true;\n    const domain = [];\n    this.index = /* @__PURE__ */ new Map();\n    const index = this.index;\n    values.forEach((value) => {\n      if (this.getIndex(value) === void 0) {\n        index.set(value, domain.push(value) - 1);\n      }\n    });\n    this._domain = domain;\n  }\n  get domain() {\n    return this._domain;\n  }\n  ticks() {\n    this.refresh();\n    let { interval = 1 } = this;\n    if (typeof interval !== \"number\") {\n      interval = Number(interval);\n    }\n    const step = Math.abs(Math.round(interval));\n    return this._domain.filter((_, i) => i % step === 0);\n  }\n  convert(d) {\n    this.refresh();\n    const i = this.getIndex(d);\n    if (i === void 0) {\n      return NaN;\n    }\n    const r = this.ordinalRange[i];\n    if (r === void 0) {\n      return NaN;\n    }\n    return r;\n  }\n  invert(position) {\n    this.refresh();\n    const index = this.ordinalRange.findIndex((p) => p === position);\n    return this.domain[index];\n  }\n  invertNearest(position) {\n    var _a;\n    this.refresh();\n    let nearest = -1;\n    let minDistance = Infinity;\n    const index = this.ordinalRange.findIndex((p, i) => {\n      if (p === position)\n        return true;\n      const distance2 = Math.abs(position - p);\n      if (distance2 < minDistance) {\n        minDistance = distance2;\n        nearest = i;\n      }\n      return false;\n    });\n    return (_a = this.domain[index]) != null ? _a : this.domain[nearest];\n  }\n  get bandwidth() {\n    this.refresh();\n    return this._bandwidth;\n  }\n  get step() {\n    this.refresh();\n    return this._step;\n  }\n  get rawBandwidth() {\n    this.refresh();\n    return this._rawBandwidth;\n  }\n  set padding(value) {\n    value = clamp(0, value, 1);\n    this._paddingInner = value;\n    this._paddingOuter = value;\n  }\n  get padding() {\n    return this._paddingInner;\n  }\n  set paddingInner(value) {\n    this._paddingInner = clamp(0, value, 1);\n  }\n  get paddingInner() {\n    return this._paddingInner;\n  }\n  set paddingOuter(value) {\n    this._paddingOuter = clamp(0, value, 1);\n  }\n  get paddingOuter() {\n    return this._paddingOuter;\n  }\n  update() {\n    const count = this._domain.length;\n    if (count === 0) {\n      return;\n    }\n    const round3 = this.round;\n    const paddingInner = this._paddingInner;\n    const paddingOuter = this._paddingOuter;\n    const [r0, r1] = this.range;\n    const width = r1 - r0;\n    const rawStep = width / Math.max(1, count + 2 * paddingOuter - paddingInner);\n    const step = round3 ? Math.floor(rawStep) : rawStep;\n    const fullBandWidth = step * (count - paddingInner);\n    const x0 = r0 + (width - fullBandWidth) / 2;\n    const start = round3 ? Math.round(x0) : x0;\n    const bw = step * (1 - paddingInner);\n    const bandwidth = round3 ? Math.round(bw) : bw;\n    const rawBandwidth = rawStep * (1 - paddingInner);\n    const values = [];\n    for (let i = 0; i < count; i++) {\n      values.push(start + step * i);\n    }\n    this._bandwidth = bandwidth;\n    this._rawBandwidth = rawBandwidth;\n    this._step = step;\n    this.ordinalRange = values;\n  }\n  getIndex(value) {\n    if (!(value instanceof Date)) {\n      return this.index.get(value);\n    }\n    const valueOf = value.valueOf();\n    let index = 0;\n    for (const key of this.index.keys()) {\n      if (key instanceof Date && key.valueOf() === valueOf) {\n        return index;\n      }\n      index++;\n    }\n  }\n};\n__decorateClass([\n  Invalidating\n], _BandScale.prototype, \"interval\", 2);\n__decorateClass([\n  Invalidating\n], _BandScale.prototype, \"range\", 2);\n__decorateClass([\n  Invalidating\n], _BandScale.prototype, \"round\", 2);\nvar BandScale = _BandScale;\n\n// packages/ag-charts-community/src/util/default.ts\nfunction Default(defaultValue, replaces = [void 0]) {\n  return addTransformToInstanceProperty((_, __, v) => {\n    if (replaces.includes(v)) {\n      return isFunction(defaultValue) ? defaultValue(v) : defaultValue;\n    }\n    return v;\n  });\n}\n\n// packages/ag-charts-community/src/util/validation.ts\nfunction Validate(predicate, options = {}) {\n  const { optional = false, property: overrideProperty } = options;\n  return addTransformToInstanceProperty(\n    (target, property, value) => {\n      var _a;\n      const context = __spreadProps(__spreadValues({}, options), { target, property });\n      if (optional && typeof value === \"undefined\" || predicate(value, context)) {\n        if (isProperties(target[property]) && !isProperties(value)) {\n          target[property].set(value);\n          return target[property];\n        }\n        return value;\n      }\n      const cleanKey = overrideProperty != null ? overrideProperty : String(property).replace(/^_*/, \"\");\n      const targetName = (_a = target.constructor.className) != null ? _a : target.constructor.name.replace(/Properties$/, \"\");\n      let valueString = stringify(value);\n      const maxLength = 50;\n      if (valueString != null && valueString.length > maxLength) {\n        const excessCharacters = valueString.length - maxLength;\n        valueString = valueString.slice(0, maxLength) + `... (+${excessCharacters} characters)`;\n      }\n      Logger.warn(\n        `Property [${cleanKey}] of [${targetName}] cannot be set to [${valueString}]${predicate.message ? `; expecting ${getPredicateMessage(predicate, context)}` : \"\"}, ignoring.`\n      );\n      return BREAK_TRANSFORM_CHAIN;\n    },\n    void 0,\n    { optional }\n  );\n}\nvar AND = (...predicates) => {\n  const messages = [];\n  return predicateWithMessage(\n    (value, ctx) => {\n      messages.length = 0;\n      return predicates.every((predicate) => {\n        const isValid = predicate(value, ctx);\n        if (!isValid) {\n          messages.push(getPredicateMessage(predicate, ctx));\n        }\n        return isValid;\n      });\n    },\n    () => messages.filter(Boolean).join(\" AND \")\n  );\n};\nvar OR = (...predicates) => predicateWithMessage(\n  (value, ctx) => predicates.some((predicate) => predicate(value, ctx)),\n  (ctx) => predicates.map(getPredicateMessageMapper(ctx)).filter(Boolean).join(\" OR \")\n);\nvar OBJECT = attachObjectRestrictions(\n  predicateWithMessage(\n    (value, ctx) => isProperties(value) || isObject(value) && isProperties(ctx.target[ctx.property]),\n    \"a properties object\"\n  )\n);\nvar PLAIN_OBJECT = attachObjectRestrictions(predicateWithMessage((value) => isObject(value), \"an object\"));\nvar BOOLEAN = predicateWithMessage(isBoolean, \"a boolean\");\nvar FUNCTION = predicateWithMessage(isFunction, \"a function\");\nvar STRING = predicateWithMessage(isString, \"a string\");\nvar NUMBER = attachNumberRestrictions(predicateWithMessage(isFiniteNumber, \"a number\"));\nvar NAN = predicateWithMessage((value) => isNumber(value) && isNaN(value), \"NaN\");\nvar POSITIVE_NUMBER = NUMBER.restrict({ min: 0 });\nvar RATIO = NUMBER.restrict({ min: 0, max: 1 });\nvar DEGREE = NUMBER.restrict({ min: -360, max: 360 });\nvar NUMBER_OR_NAN = OR(NUMBER, NAN);\nvar ARRAY = attachArrayRestrictions(predicateWithMessage(isArray, \"an array\"));\nvar ARRAY_OF = (predicate, message) => predicateWithMessage(\n  (value, ctx) => isArray(value) && value.every((item) => predicate(item, ctx)),\n  (ctx) => {\n    var _a;\n    const arrayMessage = (_a = getPredicateMessage(ARRAY, ctx)) != null ? _a : \"\";\n    return message ? `${arrayMessage} of ${message}` : arrayMessage;\n  }\n);\nvar isComparable = (value) => isFiniteNumber(value) || isValidDate(value);\nvar LESS_THAN = (otherField) => predicateWithMessage(\n  (v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v < ctx.target[otherField],\n  `to be less than ${otherField}`\n);\nvar GREATER_THAN = (otherField) => predicateWithMessage(\n  (v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v > ctx.target[otherField],\n  `to be greater than ${otherField}`\n);\nvar DATE = predicateWithMessage(isValidDate, \"Date object\");\nvar DATE_OR_DATETIME_MS = OR(DATE, POSITIVE_NUMBER);\nvar colorMessage = `A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc`;\nvar COLOR_STRING = predicateWithMessage(\n  (v) => isString(v) && Color.validColorString(v),\n  `color String. ${colorMessage}`\n);\nvar COLOR_STRING_ARRAY = predicateWithMessage(ARRAY_OF(COLOR_STRING), `color strings. ${colorMessage}`);\nvar BOOLEAN_ARRAY = ARRAY_OF(BOOLEAN, \"boolean values\");\nvar NUMBER_ARRAY = ARRAY_OF(NUMBER, \"numbers\");\nvar STRING_ARRAY = ARRAY_OF(STRING, \"strings\");\nvar DATE_ARRAY = predicateWithMessage(ARRAY_OF(DATE), \"Date objects\");\nvar OBJECT_ARRAY = predicateWithMessage(ARRAY_OF(OBJECT), \"objects\");\nvar LINE_CAP = UNION([\"butt\", \"round\", \"square\"], \"a line cap\");\nvar LINE_JOIN = UNION([\"round\", \"bevel\", \"miter\"], \"a line join\");\nvar LINE_DASH = predicateWithMessage(\n  ARRAY_OF(POSITIVE_NUMBER),\n  \"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels.\"\n);\nvar POSITION2 = UNION([\"top\", \"right\", \"bottom\", \"left\"], \"a position\");\nvar FONT_STYLE = UNION([\"normal\", \"italic\", \"oblique\"], \"a font style\");\nvar FONT_WEIGHT2 = OR(\n  UNION([\"normal\", \"bold\", \"bolder\", \"lighter\"], \"a font weight\"),\n  NUMBER.restrict({ min: 1, max: 1e3 })\n);\nvar TEXT_WRAP = UNION([\"never\", \"always\", \"hyphenate\", \"on-space\"], \"a text wrap strategy\");\nvar TEXT_ALIGN = UNION([\"left\", \"center\", \"right\"], \"a text align\");\nvar VERTICAL_ALIGN = UNION([\"top\", \"middle\", \"bottom\"], \"a vertical align\");\nvar OVERFLOW_STRATEGY = UNION([\"ellipsis\", \"hide\"], \"an overflow strategy\");\nvar DIRECTION = UNION([\"horizontal\", \"vertical\"], \"a direction\");\nvar PLACEMENT = UNION([\"inside\", \"outside\"], \"a placement\");\nvar INTERACTION_RANGE = OR(UNION([\"exact\", \"nearest\"], \"interaction range\"), NUMBER);\nvar LABEL_PLACEMENT = UNION([\"top\", \"bottom\", \"left\", \"right\"]);\nfunction UNION(options, message = \"a\") {\n  return predicateWithMessage(\n    (v) => options.includes(v),\n    `${message} keyword such as ${joinUnionOptions(options)}`\n  );\n}\nvar MIN_SPACING = OR(AND(NUMBER.restrict({ min: 1 }), LESS_THAN(\"maxSpacing\")), NAN);\nvar MAX_SPACING = OR(AND(NUMBER.restrict({ min: 1 }), GREATER_THAN(\"minSpacing\")), NAN);\nfunction predicateWithMessage(predicate, message) {\n  predicate.message = message;\n  return predicate;\n}\nfunction joinUnionOptions(options) {\n  const values = options.map((option) => `'${option}'`);\n  if (values.length === 1) {\n    return values[0];\n  }\n  const lastValue = values.pop();\n  return `${values.join(\", \")} or ${lastValue}`;\n}\nfunction getPredicateMessage(predicate, ctx) {\n  return isFunction(predicate.message) ? predicate.message(ctx) : predicate.message;\n}\nfunction getPredicateMessageMapper(ctx) {\n  return (predicate) => getPredicateMessage(predicate, ctx);\n}\nfunction attachArrayRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict({ length, minLength } = {}) {\n      let message = \"an array\";\n      if (isNumber(minLength) && minLength > 0) {\n        message = \"a non-empty array\";\n      } else if (isNumber(length)) {\n        message = `an array of length ${length}`;\n      }\n      return predicateWithMessage(\n        (value) => isArray(value) && (isNumber(length) ? value.length === length : true) && (isNumber(minLength) ? value.length >= minLength : true),\n        message\n      );\n    }\n  });\n}\nfunction attachNumberRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict({ min, max } = {}) {\n      const message = [\"a number\"];\n      const hasMin = isNumber(min);\n      const hasMax = isNumber(max);\n      if (hasMin && hasMax) {\n        message.push(`between ${min} and ${max} inclusive`);\n      } else if (hasMin) {\n        message.push(`greater than or equal to ${min}`);\n      } else if (hasMax) {\n        message.push(`less than or equal to ${max}`);\n      }\n      return predicateWithMessage(\n        (value) => isFiniteNumber(value) && (hasMin ? value >= min : true) && (hasMax ? value <= max : true),\n        message.join(\" \")\n      );\n    }\n  });\n}\nfunction attachObjectRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict(objectType) {\n      return predicateWithMessage(\n        (value) => value instanceof objectType,\n        (ctx) => {\n          var _a;\n          return (_a = getPredicateMessage(predicate, ctx)) != null ? _a : `an instance of ${objectType.name}`;\n        }\n      );\n    }\n  });\n}\nfunction stringify(value) {\n  if (typeof value === \"number\") {\n    if (isNaN(value))\n      return \"NaN\";\n    if (value === Infinity)\n      return \"Infinity\";\n    if (value === -Infinity)\n      return \"-Infinity\";\n  }\n  return JSON.stringify(value);\n}\n\n// packages/ag-charts-community/src/chart/axis/axisTick.ts\nvar TICK_INTERVAL = predicateWithMessage(\n  (value) => isFiniteNumber(value) && value > 0 || value instanceof TimeInterval,\n  `a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'`\n);\nvar AxisTick = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.width = 1;\n    this.size = 6;\n    this.color = void 0;\n    this.interval = void 0;\n    this.values = void 0;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisTick.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisTick.prototype, \"width\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisTick.prototype, \"size\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], AxisTick.prototype, \"color\", 2);\n__decorateClass([\n  Validate(TICK_INTERVAL, { optional: true })\n], AxisTick.prototype, \"interval\", 2);\n__decorateClass([\n  Validate(ARRAY, { optional: true })\n], AxisTick.prototype, \"values\", 2);\n\n// packages/ag-charts-community/src/chart/chartAxisDirection.ts\nvar ChartAxisDirection = /* @__PURE__ */ ((ChartAxisDirection2) => {\n  ChartAxisDirection2[\"X\"] = \"x\";\n  ChartAxisDirection2[\"Y\"] = \"y\";\n  return ChartAxisDirection2;\n})(ChartAxisDirection || {});\n\n// packages/ag-charts-community/src/chart/chartOptions.ts\nvar JSON_APPLY_PLUGINS = {\n  constructedArrays: /* @__PURE__ */ new WeakMap()\n};\nfunction assignJsonApplyConstructedArray(array, ctor) {\n  var _a;\n  (_a = JSON_APPLY_PLUGINS.constructedArrays) == null ? void 0 : _a.set(array, ctor);\n}\n\n// packages/ag-charts-community/src/scale/continuousScale.ts\nvar _ContinuousScale = class _ContinuousScale {\n  constructor(domain, range3) {\n    this.invalid = true;\n    this.nice = false;\n    this.interval = void 0;\n    this.tickCount = _ContinuousScale.defaultTickCount;\n    this.minTickCount = 0;\n    this.maxTickCount = Infinity;\n    this.niceDomain = [];\n    this.defaultClampMode = \"raw\";\n    this.domain = domain;\n    this.range = range3;\n  }\n  static is(value) {\n    return value instanceof _ContinuousScale;\n  }\n  transform(x) {\n    return x;\n  }\n  transformInvert(x) {\n    return x;\n  }\n  calcBandwidth(smallestInterval = 1) {\n    const { range: range3 } = this;\n    const domain = this.getDomain();\n    const rangeDistance = Math.abs(range3[1] - range3[0]);\n    const intervals = Math.abs(domain[1] - domain[0]) / smallestInterval + 1;\n    const maxBands = Math.floor(rangeDistance);\n    const bands = Math.min(intervals, maxBands);\n    return rangeDistance / Math.max(1, bands);\n  }\n  getDomain() {\n    if (this.nice) {\n      this.refresh();\n      if (this.niceDomain.length) {\n        return this.niceDomain;\n      }\n    }\n    return this.domain;\n  }\n  convert(x, opts) {\n    var _a;\n    const clampMode = (_a = opts == null ? void 0 : opts.clampMode) != null ? _a : this.defaultClampMode;\n    if (!this.domain || this.domain.length < 2) {\n      return NaN;\n    }\n    this.refresh();\n    const domain = this.getDomain().map((d) => this.transform(d));\n    const [d0, d1] = domain;\n    const { range: range3 } = this;\n    const [r0, r1] = range3;\n    x = this.transform(x);\n    if (clampMode === \"clamped\") {\n      const [start, stop] = findMinMax(domain.map(Number));\n      if (Number(x) < start) {\n        return r0;\n      } else if (Number(x) > stop) {\n        return r1;\n      }\n    }\n    if (d0 === d1) {\n      return (r0 + r1) / 2;\n    } else if (x === d0) {\n      return r0;\n    } else if (x === d1) {\n      return r1;\n    }\n    return r0 + (Number(x) - Number(d0)) / (Number(d1) - Number(d0)) * (r1 - r0);\n  }\n  invert(x) {\n    this.refresh();\n    const domain = this.getDomain().map((d2) => this.transform(d2));\n    const [d0, d1] = domain;\n    const { range: range3 } = this;\n    const [r0, r1] = range3;\n    const isReversed = r0 > r1;\n    const rMin = isReversed ? r1 : r0;\n    const rMax = isReversed ? r0 : r1;\n    let d;\n    if (x < rMin) {\n      return isReversed ? d1 : d0;\n    } else if (x > rMax) {\n      return isReversed ? d0 : d1;\n    } else if (r0 === r1) {\n      d = this.toDomain((Number(d0) + Number(d1)) / 2);\n    } else {\n      d = this.toDomain(Number(d0) + (x - r0) / (r1 - r0) * (Number(d1) - Number(d0)));\n    }\n    return this.transformInvert(d);\n  }\n  refresh() {\n    if (!this.invalid)\n      return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n  getPixelRange() {\n    const [a, b] = this.range;\n    return Math.abs(b - a);\n  }\n};\n_ContinuousScale.defaultTickCount = 5;\n_ContinuousScale.defaultMaxTickCount = 6;\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"domain\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"range\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"nice\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"interval\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"tickCount\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"minTickCount\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"maxTickCount\", 2);\nvar ContinuousScale = _ContinuousScale;\n\n// packages/ag-charts-community/src/util/timeFormat.ts\nvar CONSTANTS = {\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n  ],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n};\nfunction dayOfYear(date, startOfYear = new Date(date.getFullYear(), 0, 1)) {\n  const startOffset = date.getTimezoneOffset() - startOfYear.getTimezoneOffset();\n  const timeDiff = date.getTime() - startOfYear.getTime() + startOffset * 6e4;\n  const timeOneDay = 36e5 * 24;\n  return Math.floor(timeDiff / timeOneDay);\n}\nfunction weekOfYear(date, startDay) {\n  const startOfYear = new Date(date.getFullYear(), 0, 1);\n  const startOfYearDay = startOfYear.getDay();\n  const firstWeekStartOffset = (startDay - startOfYearDay + 7) % 7;\n  const startOffset = new Date(date.getFullYear(), 0, firstWeekStartOffset + 1);\n  if (startOffset <= date) {\n    return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n  }\n  return 0;\n}\nvar SUNDAY = 0;\nvar MONDAY = 1;\nvar THURSDAY = 4;\nfunction isoWeekOfYear(date, year2 = date.getFullYear()) {\n  const firstOfYear = new Date(year2, 0, 1);\n  const firstOfYearDay = firstOfYear.getDay();\n  const firstThursdayOffset = (THURSDAY - firstOfYearDay + 7) % 7;\n  const startOffset = new Date(year2, 0, firstThursdayOffset - (THURSDAY - MONDAY) + 1);\n  if (startOffset <= date) {\n    return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n  }\n  return isoWeekOfYear(date, year2 - 1);\n}\nfunction timezone(date) {\n  const offset4 = date.getTimezoneOffset();\n  const unsignedOffset = Math.abs(offset4);\n  const sign = offset4 > 0 ? \"-\" : \"+\";\n  return `${sign}${pad(Math.floor(unsignedOffset / 60), 2, \"0\")}${pad(Math.floor(unsignedOffset % 60), 2, \"0\")}`;\n}\nvar FORMATTERS = {\n  a: (d) => CONSTANTS.shortDays[d.getDay()],\n  A: (d) => CONSTANTS.days[d.getDay()],\n  b: (d) => CONSTANTS.shortMonths[d.getMonth()],\n  B: (d) => CONSTANTS.months[d.getMonth()],\n  c: \"%x, %X\",\n  d: (d, p) => pad(d.getDate(), 2, p != null ? p : \"0\"),\n  e: \"%_d\",\n  f: (d, p) => pad(d.getMilliseconds() * 1e3, 6, p != null ? p : \"0\"),\n  H: (d, p) => pad(d.getHours(), 2, p != null ? p : \"0\"),\n  I: (d, p) => {\n    const hours = d.getHours() % 12;\n    return hours === 0 ? \"12\" : pad(hours, 2, p != null ? p : \"0\");\n  },\n  j: (d, p) => pad(dayOfYear(d) + 1, 3, p != null ? p : \"0\"),\n  m: (d, p) => pad(d.getMonth() + 1, 2, p != null ? p : \"0\"),\n  M: (d, p) => pad(d.getMinutes(), 2, p != null ? p : \"0\"),\n  L: (d, p) => pad(d.getMilliseconds(), 3, p != null ? p : \"0\"),\n  p: (d) => d.getHours() < 12 ? \"AM\" : \"PM\",\n  Q: (d) => String(d.getTime()),\n  s: (d) => String(Math.floor(d.getTime() / 1e3)),\n  S: (d, p) => pad(d.getSeconds(), 2, p != null ? p : \"0\"),\n  u: (d) => {\n    let day2 = d.getDay();\n    if (day2 < 1)\n      day2 += 7;\n    return String(day2 % 7);\n  },\n  U: (d, p) => pad(weekOfYear(d, SUNDAY), 2, p != null ? p : \"0\"),\n  V: (d, p) => pad(isoWeekOfYear(d), 2, p != null ? p : \"0\"),\n  w: (d, p) => pad(d.getDay(), 2, p != null ? p : \"0\"),\n  W: (d, p) => pad(weekOfYear(d, MONDAY), 2, p != null ? p : \"0\"),\n  x: \"%-m/%-d/%Y\",\n  X: \"%-I:%M:%S %p\",\n  y: (d, p) => pad(d.getFullYear() % 100, 2, p != null ? p : \"0\"),\n  Y: (d, p) => pad(d.getFullYear(), 4, p != null ? p : \"0\"),\n  Z: (d) => timezone(d),\n  \"%\": () => \"%\"\n};\nvar PADS = {\n  _: \" \",\n  \"0\": \"0\",\n  \"-\": \"\"\n};\nfunction pad(value, size, padChar) {\n  const output = String(Math.floor(value));\n  if (output.length >= size) {\n    return output;\n  }\n  return `${padChar.repeat(size - output.length)}${output}`;\n}\nfunction buildFormatter(formatString) {\n  const formatParts = [];\n  while (formatString.length > 0) {\n    let nextEscapeIdx = formatString.indexOf(\"%\");\n    if (nextEscapeIdx !== 0) {\n      const literalPart = nextEscapeIdx > 0 ? formatString.substring(0, nextEscapeIdx) : formatString;\n      formatParts.push(literalPart);\n    }\n    if (nextEscapeIdx < 0)\n      break;\n    const maybePadSpecifier = formatString[nextEscapeIdx + 1];\n    const maybePad = PADS[maybePadSpecifier];\n    if (maybePad != null) {\n      nextEscapeIdx++;\n    }\n    const maybeFormatterSpecifier = formatString[nextEscapeIdx + 1];\n    const maybeFormatter = FORMATTERS[maybeFormatterSpecifier];\n    if (typeof maybeFormatter === \"function\") {\n      formatParts.push([maybeFormatter, maybePad]);\n    } else if (typeof maybeFormatter === \"string\") {\n      const formatter = buildFormatter(maybeFormatter);\n      formatParts.push([formatter, maybePad]);\n    } else {\n      formatParts.push(`${maybePad != null ? maybePad : \"\"}${maybeFormatterSpecifier}`);\n    }\n    formatString = formatString.substring(nextEscapeIdx + 2);\n  }\n  return (dateTime) => {\n    const dateTimeAsDate = typeof dateTime === \"number\" ? new Date(dateTime) : dateTime;\n    return formatParts.map((c) => typeof c === \"string\" ? c : c[0](dateTimeAsDate, c[1])).join(\"\");\n  };\n}\n\n// packages/ag-charts-community/src/util/timeFormatDefaults.ts\nfunction dateToNumber(x) {\n  return x instanceof Date ? x.getTime() : x;\n}\nfunction defaultTimeTickFormat(ticks, domain) {\n  const formatString = calculateDefaultTimeTickFormat(ticks, domain);\n  return (date) => buildFormatter(formatString)(date);\n}\nfunction calculateDefaultTimeTickFormat(ticks = [], domain = ticks) {\n  let defaultTimeFormat = 8 /* YEAR */;\n  const updateFormat = (format2) => {\n    if (format2 < defaultTimeFormat) {\n      defaultTimeFormat = format2;\n    }\n  };\n  for (const value of ticks) {\n    const format2 = getLowestGranularityFormat(value);\n    updateFormat(format2);\n  }\n  const startDomain = dateToNumber(domain[0]);\n  const endDomain = dateToNumber(domain.at(-1));\n  const startYear = new Date(startDomain).getFullYear();\n  const stopYear = new Date(endDomain).getFullYear();\n  const yearChange = stopYear - startYear > 0;\n  return formatStringBuilder(defaultTimeFormat, yearChange, ticks);\n}\nfunction getLowestGranularityFormat(value) {\n  if (second_default.floor(value) < value) {\n    return 0 /* MILLISECOND */;\n  } else if (minute_default.floor(value) < value) {\n    return 1 /* SECOND */;\n  } else if (hour_default.floor(value) < value) {\n    return 2 /* MINUTE */;\n  } else if (day_default.floor(value) < value) {\n    return 3 /* HOUR */;\n  } else if (month_default.floor(value) < value) {\n    if (week_default.floor(value) < value) {\n      return 4 /* WEEK_DAY */;\n    }\n    return 5 /* SHORT_MONTH */;\n  } else if (year_default.floor(value) < value) {\n    return 6 /* MONTH */;\n  }\n  return 8 /* YEAR */;\n}\nfunction formatStringBuilder(defaultTimeFormat, yearChange, ticks) {\n  const firstTick = dateToNumber(ticks[0]);\n  const lastTick = dateToNumber(ticks.at(-1));\n  const extent2 = Math.abs(lastTick - firstTick);\n  const activeYear = yearChange || defaultTimeFormat === 8 /* YEAR */;\n  const activeDate = extent2 === 0;\n  const parts = [\n    [\"hour\", 6 * durationHour, 14 * durationDay, 3 /* HOUR */, \"%I %p\"],\n    [\"hour\", durationMinute, 6 * durationHour, 3 /* HOUR */, \"%I:%M\"],\n    [\"second\", 1e3, 6 * durationHour, 1 /* SECOND */, \":%S\"],\n    [\"ms\", 0, 6 * durationHour, 0 /* MILLISECOND */, \".%L\"],\n    [\"am/pm\", durationMinute, 6 * durationHour, 3 /* HOUR */, \"%p\"],\n    \" \",\n    [\"day\", durationDay, 1 * durationWeek, 4 /* WEEK_DAY */, \"%a\"],\n    [\"month\", activeDate ? 0 : durationWeek, 52 * durationWeek, 5 /* SHORT_MONTH */, \"%b %d\"],\n    [\"month\", 5 * durationWeek, 10 * durationYear, 6 /* MONTH */, \"%B\"],\n    \" \",\n    [\"year\", activeYear ? 0 : durationYear, Infinity, 8 /* YEAR */, \"%Y\"]\n  ];\n  const formatParts = parts.filter((v) => {\n    if (typeof v === \"string\")\n      return true;\n    const [_, min, max, format2] = v;\n    return format2 >= defaultTimeFormat && min <= extent2 && extent2 < max;\n  }).reduce(\n    (r, next) => {\n      if (typeof next === \"string\") {\n        r.result.push(next);\n      } else if (!r.used.has(next[0])) {\n        r.result.push(next);\n        r.used.add(next[0]);\n      }\n      return r;\n    },\n    { result: [], used: /* @__PURE__ */ new Set() }\n  ).result;\n  const firstFormat = formatParts.findIndex((v) => typeof v !== \"string\");\n  const lastFormat = formatParts.length - [...formatParts].reverse().findIndex((v) => typeof v !== \"string\");\n  return formatParts.slice(firstFormat, lastFormat).map((v) => typeof v === \"string\" ? v : v[4]).join(\"\").replaceAll(/\\s+/g, \" \").trim();\n}\n\n// packages/ag-charts-community/src/util/ticks.ts\nvar createNumericTicks = (fractionDigits, takingValues = []) => Object.assign(takingValues, { fractionDigits });\nfunction ticks_default(start, stop, count, minCount, maxCount) {\n  if (count < 2) {\n    return range(start, stop, stop - start);\n  }\n  const step = tickStep(start, stop, count, minCount, maxCount);\n  if (isNaN(step)) {\n    return createNumericTicks(0);\n  }\n  start = Math.ceil(start / step) * step;\n  stop = Math.floor(stop / step) * step;\n  return range(start, stop, step);\n}\nvar tickMultipliers = [1, 2, 5, 10];\nfunction tickStep(a, b, count, minCount = 0, maxCount = Infinity) {\n  const extent2 = Math.abs(b - a);\n  const rawStep = extent2 / count;\n  const power = Math.floor(Math.log10(rawStep));\n  const step = Math.pow(10, power);\n  const m = tickMultipliers.map((multiplier) => {\n    const s = multiplier * step;\n    const c = Math.ceil(extent2 / s);\n    const isWithinBounds = c >= minCount && c <= maxCount;\n    const diffCount = Math.abs(c - count);\n    return { multiplier, isWithinBounds, diffCount };\n  }).sort((a2, b2) => {\n    if (a2.isWithinBounds !== b2.isWithinBounds) {\n      return a2.isWithinBounds ? -1 : 1;\n    }\n    return a2.diffCount - b2.diffCount;\n  })[0].multiplier;\n  if (!m || isNaN(m)) {\n    return NaN;\n  }\n  return m * step;\n}\nfunction singleTickDomain(a, b) {\n  const extent2 = Math.abs(b - a);\n  const power = Math.floor(Math.log10(extent2));\n  const step = Math.pow(10, power);\n  const roundStart = a > b ? Math.ceil : Math.floor;\n  const roundStop = b < a ? Math.floor : Math.ceil;\n  return tickMultipliers.map((multiplier) => {\n    const s = multiplier * step;\n    const start = roundStart(a / s) * s;\n    const end = roundStop(b / s) * s;\n    const error = 1 - extent2 / Math.abs(end - start);\n    const domain = [start, end];\n    return { error, domain };\n  }).sort((a2, b2) => a2.error - b2.error)[0].domain;\n}\nfunction range(start, stop, step) {\n  const d0 = Math.min(start, stop);\n  const d1 = Math.max(start, stop);\n  const fractionalDigits = countFractionDigits(step);\n  const f = Math.pow(10, fractionalDigits);\n  const n = Math.ceil((d1 - d0) / step);\n  const values = createNumericTicks(fractionalDigits);\n  for (let i = 0; i <= n; i++) {\n    const value = d0 + step * i;\n    values.push(Math.round(value * f) / f);\n  }\n  return values;\n}\nfunction isDenseInterval({\n  start,\n  stop,\n  interval,\n  count,\n  availableRange\n}) {\n  const domain = stop - start;\n  const step = typeof interval === \"number\" ? interval : 1;\n  count != null ? count : count = domain / step;\n  if (count >= availableRange) {\n    Logger.warnOnce(\n      `the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration`\n    );\n    return true;\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/scale/timeScale.ts\nvar _TimeScale = class _TimeScale extends ContinuousScale {\n  constructor() {\n    super([], [0, 1]);\n    this.type = \"time\";\n  }\n  toDomain(d) {\n    return new Date(d);\n  }\n  /**\n   * @param options Tick interval options.\n   * @param options.start The start time (timestamp).\n   * @param options.stop The end time (timestamp).\n   * @param options.count Number of intervals between ticks.\n   */\n  static getTickInterval({\n    start,\n    stop,\n    count,\n    minCount,\n    maxCount,\n    target\n  }) {\n    let countableTimeInterval;\n    let step;\n    const tickCount = count != null ? count : ContinuousScale.defaultTickCount;\n    const targetInterval = target != null ? target : Math.abs(stop - start) / Math.max(tickCount, 1);\n    const i = _TimeScale.getIntervalIndex(targetInterval);\n    if (i === 0) {\n      step = Math.max(tickStep(start, stop, tickCount, minCount, maxCount), 1);\n      countableTimeInterval = millisecond_default;\n    } else if (i === _TimeScale.tickIntervals.length) {\n      const y0 = start / durationYear;\n      const y1 = stop / durationYear;\n      step = target === void 0 ? tickStep(y0, y1, tickCount, minCount, maxCount) : 1;\n      countableTimeInterval = year_default;\n    } else {\n      const diff0 = targetInterval - _TimeScale.tickIntervals[i - 1][2];\n      const diff1 = _TimeScale.tickIntervals[i][2] - targetInterval;\n      const index = diff0 < diff1 ? i - 1 : i;\n      [countableTimeInterval, step] = _TimeScale.tickIntervals[index];\n    }\n    return countableTimeInterval.every(step);\n  }\n  static getIntervalIndex(target) {\n    let i = 0;\n    while (i < _TimeScale.tickIntervals.length && target > _TimeScale.tickIntervals[i][2]) {\n      i++;\n    }\n    return i;\n  }\n  invert(y) {\n    return new Date(super.invert(y));\n  }\n  /**\n   * Returns uniformly-spaced dates that represent the scale's domain.\n   */\n  ticks() {\n    if (!this.domain || this.domain.length < 2) {\n      return [];\n    }\n    this.refresh();\n    const [t0, t1] = this.getDomain().map(dateToNumber);\n    const start = Math.min(t0, t1);\n    const stop = Math.max(t0, t1);\n    const { interval, nice, tickCount, minTickCount, maxTickCount } = this;\n    if (interval !== void 0) {\n      const availableRange = this.getPixelRange();\n      const ticks = _TimeScale.getTicksForInterval({ start, stop, interval, availableRange });\n      return ticks != null ? ticks : _TimeScale.getDefaultTicks({ start, stop, tickCount, minTickCount, maxTickCount });\n    }\n    if (nice) {\n      if (tickCount === 2) {\n        return this.niceDomain;\n      }\n      if (tickCount === 1) {\n        return this.niceDomain.slice(0, 1);\n      }\n    }\n    return _TimeScale.getDefaultTicks({ start, stop, tickCount, minTickCount, maxTickCount });\n  }\n  static getDefaultTicks({\n    start,\n    stop,\n    tickCount,\n    minTickCount,\n    maxTickCount\n  }) {\n    const t = _TimeScale.getTickInterval({\n      start,\n      stop,\n      count: tickCount,\n      minCount: minTickCount,\n      maxCount: maxTickCount\n    });\n    return t ? t.range(new Date(start), new Date(stop)) : [];\n  }\n  static getTicksForInterval({\n    start,\n    stop,\n    interval,\n    availableRange\n  }) {\n    if (!interval) {\n      return [];\n    }\n    if (interval instanceof TimeInterval) {\n      const ticks2 = interval.range(new Date(start), new Date(stop));\n      if (isDenseInterval({ start, stop, interval, count: ticks2.length, availableRange })) {\n        return;\n      }\n      return ticks2;\n    }\n    const absInterval = Math.abs(interval);\n    if (isDenseInterval({ start, stop, interval: absInterval, availableRange })) {\n      return;\n    }\n    const reversedInterval = [..._TimeScale.tickIntervals];\n    reversedInterval.reverse();\n    const timeInterval = reversedInterval.find((tickInterval) => absInterval % tickInterval[2] === 0);\n    if (timeInterval) {\n      const i = timeInterval[0].every(absInterval / (timeInterval[2] / timeInterval[1]));\n      return i.range(new Date(start), new Date(stop));\n    }\n    let date = new Date(start);\n    const stopDate = new Date(stop);\n    const ticks = [];\n    while (date <= stopDate) {\n      ticks.push(date);\n      date = new Date(date);\n      date.setMilliseconds(date.getMilliseconds() + absInterval);\n    }\n    return ticks;\n  }\n  /**\n   * Returns a time format function suitable for displaying tick values.\n   * @param specifier If the specifier string is provided, this method is equivalent to\n   * the {@link TimeLocaleObject.format} method.\n   * If no specifier is provided, this method returns the default time format function.\n   */\n  tickFormat({\n    ticks,\n    domain,\n    specifier\n  }) {\n    return specifier == null ? defaultTimeTickFormat(ticks, domain) : buildFormatter(specifier);\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  /**\n   * Extends the domain so that it starts and ends on nice round values.\n   * This method typically modifies the scales domain, and may only extend the bounds to the nearest round value.\n   */\n  updateNiceDomain() {\n    const maxAttempts = 4;\n    let [d0, d1] = this.domain;\n    for (let i = 0; i < maxAttempts; i++) {\n      this.updateNiceDomainIteration(d0, d1);\n      const [n0, n1] = this.niceDomain;\n      if (dateToNumber(d0) === dateToNumber(n0) && dateToNumber(d1) === dateToNumber(n1)) {\n        break;\n      }\n      d0 = n0;\n      d1 = n1;\n    }\n  }\n  updateNiceDomainIteration(d0, d1) {\n    const start = Math.min(dateToNumber(d0), dateToNumber(d1));\n    const stop = Math.max(dateToNumber(d0), dateToNumber(d1));\n    const isReversed = d0 > d1;\n    const { interval } = this;\n    let i;\n    if (interval instanceof TimeInterval) {\n      i = interval;\n    } else {\n      const tickCount = typeof interval === \"number\" ? (stop - start) / Math.max(interval, 1) : this.tickCount;\n      i = _TimeScale.getTickInterval({\n        start,\n        stop,\n        count: tickCount,\n        minCount: this.minTickCount,\n        maxCount: this.maxTickCount\n      });\n    }\n    if (i) {\n      const intervalRange = i.range(new Date(start), new Date(stop), true);\n      const domain = isReversed ? [...intervalRange].reverse() : intervalRange;\n      const n0 = domain[0];\n      const n1 = domain.at(-1);\n      this.niceDomain = [n0, n1];\n    }\n  }\n};\n/**\n * Array of default tick intervals in the following format:\n *\n *     [\n *         interval (unit of time),\n *         number of units (step),\n *         the length of that number of units in milliseconds\n *     ]\n */\n_TimeScale.tickIntervals = [\n  [second_default, 1, durationSecond],\n  [second_default, 5, 5 * durationSecond],\n  [second_default, 15, 15 * durationSecond],\n  [second_default, 30, 30 * durationSecond],\n  [minute_default, 1, durationMinute],\n  [minute_default, 5, 5 * durationMinute],\n  [minute_default, 15, 15 * durationMinute],\n  [minute_default, 30, 30 * durationMinute],\n  [hour_default, 1, durationHour],\n  [hour_default, 3, 3 * durationHour],\n  [hour_default, 6, 6 * durationHour],\n  [hour_default, 12, 12 * durationHour],\n  [day_default, 1, durationDay],\n  [day_default, 2, 2 * durationDay],\n  [week_default, 1, durationWeek],\n  [week_default, 2, 2 * durationWeek],\n  [week_default, 3, 3 * durationWeek],\n  [month_default, 1, durationMonth],\n  [month_default, 2, 2 * durationMonth],\n  [month_default, 3, 3 * durationMonth],\n  [month_default, 4, 4 * durationMonth],\n  [month_default, 6, 6 * durationMonth],\n  [year_default, 1, durationYear]\n];\nvar TimeScale = _TimeScale;\n\n// packages/ag-charts-community/src/scale/ordinalTimeScale.ts\nvar _OrdinalTimeScale = class _OrdinalTimeScale extends BandScale {\n  constructor() {\n    super(...arguments);\n    this.type = \"ordinal-time\";\n    this.tickCount = ContinuousScale.defaultTickCount;\n    this.minTickCount = 0;\n    this.maxTickCount = Infinity;\n    this.interval = void 0;\n    this.index = /* @__PURE__ */ new Map();\n    /**\n     * Contains unique datums only. Since `{}` is used in place of `Map`\n     * for IE11 compatibility, the datums are converted `toString` before\n     * the uniqueness check.\n     */\n    this._domain = [];\n  }\n  static is(value) {\n    return value instanceof _OrdinalTimeScale;\n  }\n  toDomain(d) {\n    return new Date(d);\n  }\n  set domain(values) {\n    this.invalid = true;\n    if (values.length === 0) {\n      this._domain = [];\n      return;\n    }\n    const domain = this.updateIndex(values);\n    this._domain = domain;\n  }\n  get domain() {\n    return this._domain;\n  }\n  updateIndex(values) {\n    this.index = /* @__PURE__ */ new Map();\n    const { index } = this;\n    const domain = [];\n    const extents = [];\n    const isReversed = values[0] > values.at(-1);\n    const indexShift = isReversed ? 0 : 1;\n    values.forEach((value, i2) => {\n      const nextValue = values[i2 + 1];\n      const e02 = isReversed ? value : this.toDomain(dateToNumber(value) + 1);\n      const e12 = isReversed ? this.toDomain(dateToNumber(nextValue) + 1) : nextValue;\n      const dateRange2 = isReversed ? [e12, e02] : [e02, e12];\n      domain.push(value);\n      if (nextValue !== void 0 && index.get(dateRange2) === void 0) {\n        extents.push(Math.abs(dateToNumber(e12) - dateToNumber(e02)));\n        index.set(dateRange2, i2 + indexShift);\n      }\n    });\n    extents.sort((a, b) => a - b);\n    const bands = extents.length;\n    const middleIndex = Math.floor(bands / 2);\n    this.medianInterval = bands > 2 && bands % 2 === 0 ? (extents[middleIndex - 1] + extents[middleIndex + 1]) / 2 : extents[middleIndex];\n    const intervalIndex = Math.max(0, TimeScale.getIntervalIndex(this.medianInterval) - 1);\n    const [countableTimeInterval, step] = TimeScale.tickIntervals[intervalIndex];\n    const interval = countableTimeInterval.every(step);\n    const i = isReversed ? values.length - 1 : 0;\n    const e1 = values[i];\n    const e0 = interval.floor(values[i]);\n    const dateRange = [e0, e1];\n    index.set(dateRange, i);\n    return domain;\n  }\n  ticks() {\n    if (!this.domain) {\n      return [];\n    }\n    this.refresh();\n    const [t0, t1] = [dateToNumber(this.domain[0]), dateToNumber(this.domain.at(-1))];\n    const start = Math.min(t0, t1);\n    const stop = Math.max(t0, t1);\n    const isReversed = t0 > t1;\n    let ticks;\n    if (this.interval !== void 0) {\n      ticks = this.getTicksForInterval({ start, stop, interval: this.interval });\n    }\n    const n = this.domain.length;\n    const { maxTickCount, tickCount } = this;\n    let { minTickCount } = this;\n    let medianInterval;\n    if (isFinite(maxTickCount) && n <= maxTickCount) {\n      minTickCount = Math.max(1, n);\n      medianInterval = this.medianInterval;\n    }\n    ticks != null ? ticks : ticks = this.getDefaultTicks({\n      start,\n      stop,\n      tickCount,\n      minTickCount,\n      maxTickCount,\n      isReversed,\n      interval: medianInterval\n    });\n    const tickPositions = /* @__PURE__ */ new Set();\n    return ticks.filter((tick) => {\n      const position = this.convert(tick);\n      if (isNaN(position) || tickPositions.has(position)) {\n        return false;\n      }\n      tickPositions.add(position);\n      return true;\n    });\n  }\n  getDefaultTicks({\n    start,\n    stop,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    isReversed,\n    interval\n  }) {\n    const tickInterval = TimeScale.getTickInterval({\n      start,\n      stop,\n      count: tickCount,\n      minCount: minTickCount,\n      maxCount: maxTickCount,\n      target: interval\n    });\n    if (!tickInterval) {\n      return [];\n    }\n    const tickEvery = Math.ceil(this.domain.length / maxTickCount);\n    const ticks = [];\n    for (const [dateRange, index] of this.index.entries()) {\n      if (index % tickEvery > 0) {\n        continue;\n      }\n      const tick = isReversed ? tickInterval.ceil(dateRange[0]) : tickInterval.floor(dateRange[1]);\n      ticks.splice(index, 0, tick);\n    }\n    return ticks;\n  }\n  getTicksForInterval({\n    start,\n    stop,\n    interval\n  }) {\n    var _a;\n    const [r0, r1] = this.range;\n    const availableRange = Math.abs(r1 - r0);\n    return (_a = TimeScale.getTicksForInterval({ start, stop, interval, availableRange })) != null ? _a : [];\n  }\n  convert(d) {\n    if (typeof d === \"number\") {\n      d = new Date(d);\n    }\n    if (!(d instanceof Date)) {\n      return NaN;\n    }\n    this.refresh();\n    let i;\n    for (const [dateRange, index] of this.index.entries()) {\n      if (d >= dateRange[0] && d <= dateRange[1]) {\n        i = index;\n        break;\n      }\n    }\n    if (i === void 0) {\n      return NaN;\n    }\n    const r = this.ordinalRange[i];\n    if (r === void 0) {\n      return NaN;\n    }\n    return r;\n  }\n  /**\n   * Returns a time format function suitable for displaying tick values.\n   * @param specifier If the specifier string is provided, this method is equivalent to\n   * the {@link TimeLocaleObject.format} method.\n   * If no specifier is provided, this method returns the default time format function.\n   */\n  tickFormat({\n    ticks,\n    domain,\n    specifier\n  }) {\n    return specifier == null ? defaultTimeTickFormat(ticks, domain) : buildFormatter(specifier);\n  }\n  invert(y) {\n    return new Date(super.invert(y));\n  }\n  invertNearest(y) {\n    return new Date(super.invertNearest(y));\n  }\n};\n__decorateClass([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"tickCount\", 2);\n__decorateClass([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"minTickCount\", 2);\n__decorateClass([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"maxTickCount\", 2);\n__decorateClass([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"interval\", 2);\nvar OrdinalTimeScale = _OrdinalTimeScale;\n\n// packages/ag-charts-community/src/util/compare.ts\nfunction ascendingStringNumberUndefined(a, b) {\n  if (typeof a === \"number\" && typeof b === \"number\") {\n    return a - b;\n  } else if (typeof a === \"string\" && typeof b === \"string\") {\n    return a.localeCompare(b);\n  } else if (a == null && b == null) {\n    return 0;\n  } else if (a == null) {\n    return -1;\n  } else if (b == null) {\n    return 1;\n  }\n  return String(a).localeCompare(String(b));\n}\nfunction toLiteral(v) {\n  return typeof v === \"function\" ? v() : v;\n}\nfunction compoundAscending(a, b, comparator) {\n  for (const idx in a) {\n    const diff2 = comparator(toLiteral(a[idx]), toLiteral(b[idx]));\n    if (diff2 !== 0) {\n      return diff2;\n    }\n  }\n  return 0;\n}\n\n// packages/ag-charts-community/src/scene/group.ts\nvar _Group = class _Group extends Node {\n  constructor(opts) {\n    var _a;\n    super({ isVirtual: opts == null ? void 0 : opts.isVirtual });\n    this.opts = opts;\n    this.opacity = 1;\n    this.lastBBox = void 0;\n    const { zIndex, zIndexSubOrder } = opts != null ? opts : {};\n    this.isContainerNode = true;\n    if (zIndex !== void 0) {\n      this.zIndex = zIndex;\n    }\n    if (zIndexSubOrder !== void 0) {\n      this.zIndexSubOrder = zIndexSubOrder;\n    }\n    this.name = (_a = this.opts) == null ? void 0 : _a.name;\n  }\n  static is(value) {\n    return value instanceof _Group;\n  }\n  onZIndexChange() {\n    var _a;\n    super.onZIndexChange();\n    if (this.layer) {\n      (_a = this._layerManager) == null ? void 0 : _a.moveLayer(this.layer, this.zIndex, this.zIndexSubOrder);\n    }\n  }\n  isLayer() {\n    return this.layer != null;\n  }\n  _setLayerManager(layersManager) {\n    if (this._layerManager && this.layer) {\n      this._layerManager.removeLayer(this.layer);\n      this.layer = void 0;\n    }\n    if (this.layer) {\n      throw new Error(\"AG Charts - unable to deregister scene rendering layer!\");\n    }\n    super._setLayerManager(layersManager);\n  }\n  initialiseLayer() {\n    var _a;\n    if (this.layer)\n      return;\n    if (!this._layerManager || ((_a = this.opts) == null ? void 0 : _a.layer) !== true)\n      return;\n    this.layer = this._layerManager.addLayer({\n      name: this.name,\n      zIndex: this.zIndex,\n      zIndexSubOrder: this.zIndexSubOrder,\n      getComputedOpacity: () => this.getComputedOpacity(),\n      getVisibility: () => this.getVisibility()\n    });\n  }\n  getComputedOpacity() {\n    let opacity = 1;\n    for (const node of this.traverseUp()) {\n      if (node instanceof _Group) {\n        opacity *= node.opacity;\n      }\n    }\n    return opacity;\n  }\n  getVisibility() {\n    for (const node of this.traverseUp()) {\n      if (!node.visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n  onVisibleChange() {\n    if (this.layer) {\n      this.layer.enabled = this.visible;\n    }\n  }\n  markDirty(source, type = 1 /* TRIVIAL */) {\n    if (this.isVirtual) {\n      super.markDirty(source, type);\n      return;\n    }\n    let parentType = type;\n    if (type < 2 /* MINOR */ || this.layer != null) {\n      parentType = 1 /* TRIVIAL */;\n    }\n    super.markDirty(source, type, parentType);\n  }\n  // We consider a group to be boundless, thus any point belongs to it.\n  containsPoint(_x, _y) {\n    return true;\n  }\n  computeBBox() {\n    this.computeTransformMatrix();\n    return _Group.computeBBox(this.children);\n  }\n  computeTransformedBBox() {\n    return this.computeBBox();\n  }\n  preRender() {\n    var _a, _b;\n    const counts = super.preRender();\n    counts.groups += 1;\n    counts.nonGroups -= 1;\n    if (((_a = this.opts) == null ? void 0 : _a.layer) !== true || this.layer != null)\n      return counts;\n    if (counts.nonGroups > 0) {\n      this.initialiseLayer();\n    }\n    if (((_b = this.opts) == null ? void 0 : _b.nonEmptyChildDerivedZIndex) && counts.nonGroups > 0) {\n      this.deriveZIndexFromChildren();\n    }\n    return counts;\n  }\n  deriveZIndexFromChildren() {\n    var _a;\n    const children = this.children.filter((c) => c._childNodeCounts.nonGroups > 0);\n    this.sortChildren(children);\n    const lastChild = children.at(-1);\n    this.zIndex = (_a = lastChild == null ? void 0 : lastChild.zIndex) != null ? _a : -Infinity;\n    this.zIndexSubOrder = lastChild == null ? void 0 : lastChild.zIndexSubOrder;\n  }\n  render(renderCtx) {\n    var _a, _b;\n    const { opts: { name = void 0 } = {}, _debug: debug3 } = this;\n    const { dirty, dirtyZIndex, layer, children, clipRect, dirtyTransform } = this;\n    let { ctx, forceRender, clipBBox } = renderCtx;\n    const { resized, stats } = renderCtx;\n    const canvasCtxTransform = ctx.getTransform();\n    const isDirty = dirty >= 2 /* MINOR */ || dirtyZIndex || resized;\n    let isChildDirty = isDirty;\n    let isChildLayerDirty = false;\n    for (const child of children) {\n      isChildDirty || (isChildDirty = child.layerManager == null && child.dirty >= 1 /* TRIVIAL */);\n      isChildLayerDirty || (isChildLayerDirty = child.layerManager != null && child.dirty >= 1 /* TRIVIAL */);\n      if (isChildDirty) {\n        break;\n      }\n    }\n    if (name) {\n      debug3 == null ? void 0 : debug3({ name, group: this, isDirty, isChildDirty, dirtyTransform, renderCtx, forceRender });\n    }\n    if (dirtyTransform) {\n      forceRender = \"dirtyTransform\";\n    } else if (layer) {\n      const currentBBox = this.computeBBox();\n      if (this.lastBBox === void 0 || !this.lastBBox.equals(currentBBox)) {\n        forceRender = \"dirtyTransform\";\n        this.lastBBox = currentBBox;\n      }\n    }\n    if (!isDirty && !isChildDirty && !isChildLayerDirty && !forceRender) {\n      if (name && stats) {\n        debug3 == null ? void 0 : debug3({ name, result: \"skipping\", renderCtx, counts: this.nodeCount, group: this });\n      }\n      if (layer && stats) {\n        stats.layersSkipped++;\n        stats.nodesSkipped += this.nodeCount.count;\n      }\n      this.markClean({ recursive: false });\n      return;\n    }\n    const groupVisible = this.visible;\n    if (layer) {\n      ctx = layer.context;\n      ctx.save();\n      ctx.setTransform(layer.pixelRatio, 0, 0, layer.pixelRatio, 0, 0);\n      if (forceRender !== \"dirtyTransform\") {\n        forceRender = isChildDirty || dirtyZIndex;\n      }\n      if (forceRender)\n        layer.clear();\n      if (clipBBox) {\n        const { width, height, x, y } = clipBBox;\n        debug3 == null ? void 0 : debug3(() => ({\n          name,\n          clipBBox,\n          ctxTransform: ctx.getTransform(),\n          renderCtx,\n          group: this\n        }));\n        ctx.beginPath();\n        ctx.rect(x, y, width, height);\n        ctx.clip();\n      }\n      ctx.setTransform(canvasCtxTransform);\n    } else {\n      ctx.globalAlpha *= this.opacity;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    if (clipRect) {\n      const { x, y, width, height } = clipRect;\n      ctx.save();\n      debug3 == null ? void 0 : debug3(() => ({ name, clipRect, ctxTransform: ctx.getTransform(), renderCtx, group: this }));\n      ctx.beginPath();\n      ctx.rect(x, y, width, height);\n      ctx.clip();\n      clipBBox = this.matrix.transformBBox(clipRect);\n    }\n    const hasVirtualChildren = this.hasVirtualChildren();\n    if (dirtyZIndex) {\n      this.sortChildren(children);\n      if (forceRender !== \"dirtyTransform\")\n        forceRender = true;\n    } else if (hasVirtualChildren) {\n      this.sortChildren(children);\n    }\n    const renderContextChanged = forceRender !== renderCtx.forceRender || clipBBox !== renderCtx.clipBBox || ctx !== renderCtx.ctx;\n    const childRenderContext = renderContextChanged ? __spreadProps(__spreadValues({}, renderCtx), { ctx, forceRender, clipBBox }) : renderCtx;\n    let skipped = 0;\n    for (const child of children) {\n      if (!child.visible || !groupVisible) {\n        child.markClean();\n        if (stats)\n          skipped += child.nodeCount.count;\n        continue;\n      }\n      if (!forceRender && child.dirty === 0 /* NONE */) {\n        if (stats)\n          skipped += child.nodeCount.count;\n        continue;\n      }\n      ctx.save();\n      child.render(childRenderContext);\n      ctx.restore();\n    }\n    if (stats)\n      stats.nodesSkipped += skipped;\n    super.render(renderCtx);\n    if (clipRect) {\n      ctx.restore();\n    }\n    if (hasVirtualChildren) {\n      for (const child of this.virtualChildren) {\n        child.markClean({ recursive: \"virtual\" });\n      }\n    }\n    if (layer) {\n      if (stats)\n        stats.layersRendered++;\n      ctx.restore();\n      if (forceRender)\n        layer.snapshot();\n      (_b = (_a = layer.context).verifyDepthZero) == null ? void 0 : _b.call(_a);\n    }\n    if (name && stats) {\n      debug3 == null ? void 0 : debug3({ name, result: \"rendered\", skipped, renderCtx, counts: this.nodeCount, group: this });\n    }\n  }\n  sortChildren(children) {\n    this.dirtyZIndex = false;\n    children.sort(\n      (a, b) => {\n        var _a, _b;\n        return compoundAscending(\n          [a.zIndex, ...(_a = a.zIndexSubOrder) != null ? _a : [void 0, void 0], a.serialNumber],\n          [b.zIndex, ...(_b = b.zIndexSubOrder) != null ? _b : [void 0, void 0], b.serialNumber],\n          ascendingStringNumberUndefined\n        );\n      }\n    );\n  }\n  static computeBBox(nodes) {\n    let left = Infinity;\n    let right = -Infinity;\n    let top = Infinity;\n    let bottom = -Infinity;\n    for (const n of nodes) {\n      if (!n.visible)\n        continue;\n      const bbox = n.computeTransformedBBox();\n      if (!bbox)\n        continue;\n      const { x, y, width, height } = bbox;\n      if (x < left) {\n        left = x;\n      }\n      if (y < top) {\n        top = y;\n      }\n      if (x + width > right) {\n        right = x + width;\n      }\n      if (y + height > bottom) {\n        bottom = y + height;\n      }\n    }\n    return new BBox(left, top, right - left, bottom - top);\n  }\n  /**\n   * Transforms bbox given in the canvas coordinate space to bbox in this group's coordinate space and\n   * sets this group's clipRect to the transformed bbox.\n   * @param bbox clipRect bbox in the canvas coordinate space.\n   */\n  setClipRectInGroupCoordinateSpace(bbox) {\n    this.clipRect = bbox ? this.transformBBox(bbox) : void 0;\n  }\n};\n_Group.className = \"Group\";\n__decorateClass([\n  SceneChangeDetection({\n    redraw: 3 /* MAJOR */,\n    convertor: (v) => clamp(0, v, 1)\n  })\n], _Group.prototype, \"opacity\", 2);\nvar Group = _Group;\n\n// packages/ag-charts-community/src/scene/gradient/gradient.ts\nvar Gradient = class {\n  constructor(stops = []) {\n    this.stops = stops;\n  }\n};\n\n// packages/ag-charts-community/src/scene/gradient/linearGradient.ts\nvar LinearGradient = class extends Gradient {\n  constructor(stops, angle = 0) {\n    super(stops);\n    this.angle = angle;\n  }\n  createGradient(ctx, bbox) {\n    const angleOffset = 90;\n    const { stops, angle } = this;\n    const radians = normalizeAngle360(toRadians(angle + angleOffset));\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    const w = bbox.width;\n    const h = bbox.height;\n    const cx = bbox.x + w * 0.5;\n    const cy = bbox.y + h * 0.5;\n    if (w > 0 && h > 0) {\n      const diagonal = Math.sqrt(h * h + w * w) / 2;\n      const diagonalAngle = Math.atan2(h, w);\n      let quarteredAngle;\n      if (radians < Math.PI / 2) {\n        quarteredAngle = radians;\n      } else if (radians < Math.PI) {\n        quarteredAngle = Math.PI - radians;\n      } else if (radians < 1.5 * Math.PI) {\n        quarteredAngle = radians - Math.PI;\n      } else {\n        quarteredAngle = 2 * Math.PI - radians;\n      }\n      const l = diagonal * Math.abs(Math.cos(quarteredAngle - diagonalAngle));\n      const gradient = ctx.createLinearGradient(cx + cos * l, cy + sin * l, cx - cos * l, cy - sin * l);\n      for (const stop of stops) {\n        gradient.addColorStop(stop.offset, stop.color);\n      }\n      return gradient;\n    }\n    return \"black\";\n  }\n};\n\n// packages/ag-charts-community/src/scene/shape/shape.ts\nvar LINEAR_GRADIENT_REGEXP = /^linear-gradient\\((.*?)deg,\\s*(.*?)\\s*\\)$/i;\nvar _Shape = class _Shape extends Node {\n  constructor() {\n    super(...arguments);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.fill = _Shape.defaultStyles.fill;\n    this.stroke = _Shape.defaultStyles.stroke;\n    this.strokeWidth = _Shape.defaultStyles.strokeWidth;\n    this.lineDash = _Shape.defaultStyles.lineDash;\n    this.lineDashOffset = _Shape.defaultStyles.lineDashOffset;\n    this.lineCap = _Shape.defaultStyles.lineCap;\n    this.lineJoin = _Shape.defaultStyles.lineJoin;\n    this.opacity = _Shape.defaultStyles.opacity;\n    this.fillShadow = _Shape.defaultStyles.fillShadow;\n  }\n  /**\n   * Restores the default styles introduced by this subclass.\n   */\n  restoreOwnStyles() {\n    const { defaultStyles } = this.constructor;\n    Object.assign(this, defaultStyles);\n  }\n  onFillChange() {\n    const { fill } = this;\n    let linearGradientMatch;\n    if ((fill == null ? void 0 : fill.startsWith(\"linear-gradient\")) && (linearGradientMatch = LINEAR_GRADIENT_REGEXP.exec(fill))) {\n      const angle = parseFloat(linearGradientMatch[1]);\n      const colors = [];\n      const colorsPart = linearGradientMatch[2];\n      const colorRegex = /(#[0-9a-f]+)|(rgba?\\(.+?\\))|([a-z]+)/gi;\n      let c;\n      while (c = colorRegex.exec(colorsPart)) {\n        colors.push(c[0]);\n      }\n      this.gradient = new LinearGradient(\n        colors.map((color, index) => ({ color, offset: index / (colors.length - 1) })),\n        angle\n      );\n    } else {\n      this.gradient = void 0;\n    }\n  }\n  /**\n   * Returns a device-pixel aligned coordinate (or length if length is supplied).\n   *\n   * NOTE: Not suitable for strokes, since the stroke needs to be offset to the middle\n   * of a device pixel.\n   */\n  align(start, length) {\n    var _a, _b, _c;\n    const pixelRatio = (_c = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas) == null ? void 0 : _b.pixelRatio) != null ? _c : 1;\n    const alignedStart = Math.round(start * pixelRatio) / pixelRatio;\n    if (length == null) {\n      return alignedStart;\n    } else if (length === 0) {\n      return 0;\n    } else if (length < 1) {\n      return Math.ceil(length * pixelRatio) / pixelRatio;\n    }\n    return Math.round((length + start) * pixelRatio) / pixelRatio - alignedStart;\n  }\n  fillStroke(ctx, path) {\n    this.renderFill(ctx, path);\n    this.renderStroke(ctx, path);\n  }\n  renderFill(ctx, path) {\n    if (this.fill) {\n      const { globalAlpha } = ctx;\n      this.applyFill(ctx);\n      this.applyFillAlpha(ctx);\n      this.applyShadow(ctx);\n      this.executeFill(ctx, path);\n      ctx.globalAlpha = globalAlpha;\n    }\n    ctx.shadowColor = \"rgba(0, 0, 0, 0)\";\n  }\n  executeFill(ctx, path) {\n    path ? ctx.fill(path) : ctx.fill();\n  }\n  applyFill(ctx) {\n    var _a, _b;\n    ctx.fillStyle = (_b = (_a = this.gradient) == null ? void 0 : _a.createGradient(ctx, this.computeBBox())) != null ? _b : this.fill;\n  }\n  applyFillAlpha(ctx) {\n    ctx.globalAlpha *= this.opacity * this.fillOpacity;\n  }\n  applyShadow(ctx) {\n    var _a, _b;\n    const pixelRatio = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas.pixelRatio) != null ? _b : 1;\n    const fillShadow = this.fillShadow;\n    if (fillShadow == null ? void 0 : fillShadow.enabled) {\n      ctx.shadowColor = fillShadow.color;\n      ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n      ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n      ctx.shadowBlur = fillShadow.blur * pixelRatio;\n    }\n  }\n  renderStroke(ctx, path) {\n    if (this.stroke && this.strokeWidth) {\n      const { globalAlpha } = ctx;\n      ctx.strokeStyle = this.stroke;\n      ctx.globalAlpha *= this.opacity * this.strokeOpacity;\n      ctx.lineWidth = this.strokeWidth;\n      if (this.lineDash) {\n        ctx.setLineDash(this.lineDash);\n      }\n      if (this.lineDashOffset) {\n        ctx.lineDashOffset = this.lineDashOffset;\n      }\n      if (this.lineCap) {\n        ctx.lineCap = this.lineCap;\n      }\n      if (this.lineJoin) {\n        ctx.lineJoin = this.lineJoin;\n      }\n      this.executeStroke(ctx, path);\n      ctx.globalAlpha = globalAlpha;\n    }\n  }\n  executeStroke(ctx, path) {\n    path ? ctx.stroke(path) : ctx.stroke();\n  }\n  containsPoint(x, y) {\n    return this.isPointInPath(x, y);\n  }\n};\n/**\n * Defaults for style properties. Note that properties that affect the position\n * and shape of the node are not considered style properties, for example:\n * `x`, `y`, `width`, `height`, `radius`, `rotation`, etc.\n * Can be used to reset to the original styling after some custom styling\n * has been applied (using the `restoreOwnStyles` method).\n * These static defaults are meant to be inherited by subclasses.\n */\n_Shape.defaultStyles = {\n  fill: \"black\",\n  stroke: void 0,\n  strokeWidth: 0,\n  lineDash: void 0,\n  lineDashOffset: 0,\n  lineCap: void 0,\n  lineJoin: void 0,\n  opacity: 1,\n  fillShadow: void 0\n};\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */, changeCb: (s) => s.onFillChange() })\n], _Shape.prototype, \"fill\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"stroke\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"lineDash\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"lineCap\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"lineJoin\", 2);\n__decorateClass([\n  SceneChangeDetection({\n    redraw: 2 /* MINOR */,\n    convertor: (v) => clamp(0, v, 1)\n  })\n], _Shape.prototype, \"opacity\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */, checkDirtyOnAssignment: true })\n], _Shape.prototype, \"fillShadow\", 2);\nvar Shape = _Shape;\n\n// packages/ag-charts-community/src/scene/shape/range.ts\nvar Range = class extends Shape {\n  constructor(opts = {}) {\n    super(opts);\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.startLine = false;\n    this.endLine = false;\n    this.isRange = false;\n    this.restoreOwnStyles();\n  }\n  computeBBox() {\n    return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n  }\n  isPointInPath(_x, _y) {\n    return false;\n  }\n  render(renderCtx) {\n    var _a;\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    let { x1, y1, x2, y2 } = this;\n    x1 = this.align(x1);\n    y1 = this.align(y1);\n    x2 = this.align(x2);\n    y2 = this.align(y2);\n    const { fill, opacity, isRange } = this;\n    const fillActive = !!(isRange && fill);\n    if (fillActive) {\n      const { fillOpacity } = this;\n      ctx.fillStyle = fill;\n      ctx.globalAlpha = opacity * fillOpacity;\n      ctx.beginPath();\n      ctx.moveTo(x1, y1);\n      ctx.lineTo(x2, y1);\n      ctx.lineTo(x2, y2);\n      ctx.lineTo(x1, y2);\n      ctx.closePath();\n      ctx.fill();\n    }\n    const { stroke, strokeWidth, startLine, endLine } = this;\n    const strokeActive = !!((startLine || endLine) && stroke && strokeWidth);\n    if (strokeActive) {\n      const { strokeOpacity, lineDash, lineDashOffset, lineCap, lineJoin } = this;\n      ctx.strokeStyle = stroke;\n      ctx.globalAlpha = opacity * strokeOpacity;\n      ctx.lineWidth = strokeWidth;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      ctx.beginPath();\n      if (startLine) {\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y1);\n      }\n      if (endLine) {\n        ctx.moveTo(x2, y2);\n        ctx.lineTo(x1, y2);\n      }\n      ctx.stroke();\n    }\n    (_a = this.fillShadow) == null ? void 0 : _a.markClean();\n    super.render(renderCtx);\n  }\n};\nRange.className = \"Range\";\nRange.defaultStyles = __spreadProps(__spreadValues({}, Shape.defaultStyles), {\n  strokeWidth: 1\n});\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"x1\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"y1\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"x2\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"y2\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"startLine\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"endLine\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"isRange\", 2);\n\n// packages/ag-charts-community/src/util/memo.ts\nvar memorizedFns = /* @__PURE__ */ new WeakMap();\nvar memorizedMap = /* @__PURE__ */ new WeakMap();\nfunction memo(params, fnGenerator) {\n  var _a, _b, _c;\n  const serialisedParams = JSON.stringify(params, null, 0);\n  if (!memorizedFns.has(fnGenerator)) {\n    memorizedFns.set(fnGenerator, /* @__PURE__ */ new Map());\n  }\n  if (!((_a = memorizedFns.get(fnGenerator)) == null ? void 0 : _a.has(serialisedParams))) {\n    (_b = memorizedFns.get(fnGenerator)) == null ? void 0 : _b.set(serialisedParams, fnGenerator(params));\n  }\n  return (_c = memorizedFns.get(fnGenerator)) == null ? void 0 : _c.get(serialisedParams);\n}\nfunction memoizeFunction(baseFn) {\n  return (params, ...rest) => {\n    var _a, _b, _c;\n    const serialisedParams = JSON.stringify(params, null, 0);\n    if (!memorizedMap.has(baseFn)) {\n      memorizedMap.set(baseFn, /* @__PURE__ */ new Map());\n    }\n    if (!((_a = memorizedMap.get(baseFn)) == null ? void 0 : _a.has(serialisedParams))) {\n      (_b = memorizedMap.get(baseFn)) == null ? void 0 : _b.set(serialisedParams, baseFn(params, ...rest));\n    }\n    return (_c = memorizedMap.get(baseFn)) == null ? void 0 : _c.get(serialisedParams);\n  };\n}\n\n// packages/ag-charts-community/src/scene/shape/text.ts\nvar ellipsis = \"\\u2026\";\nfunction SceneFontChangeDetection(opts) {\n  const { redraw = 3 /* MAJOR */, changeCb } = opts != null ? opts : {};\n  return SceneChangeDetection({ redraw, type: \"font\", changeCb });\n}\nvar _Text = class _Text extends Shape {\n  constructor() {\n    super(...arguments);\n    this.x = 0;\n    this.y = 0;\n    this.lines = [];\n    this.text = void 0;\n    this._dirtyFont = true;\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.textAlign = _Text.defaultStyles.textAlign;\n    this.textBaseline = _Text.defaultStyles.textBaseline;\n  }\n  onTextChange() {\n    var _a, _b;\n    this.lines = (_b = (_a = this.text) == null ? void 0 : _a.split(\"\\n\").map((s) => s.trim())) != null ? _b : [];\n  }\n  get font() {\n    if (this._font == null || this._dirtyFont) {\n      this._dirtyFont = false;\n      this._font = getFont(this);\n    }\n    return this._font;\n  }\n  computeBBox() {\n    const { x, y, lines, lineHeight, textBaseline, textAlign } = this;\n    const { top, left, width, height } = _Text.getTextSizeMultiline(\n      lines,\n      getFont(this),\n      textBaseline,\n      textAlign,\n      lineHeight\n    );\n    return new BBox(x - left, y - top, width, height);\n  }\n  getLineHeight(line) {\n    var _a, _b;\n    if (this.lineHeight) {\n      return this.lineHeight;\n    }\n    const metrics = _Text.measureText(line, this.font, this.textBaseline, this.textAlign);\n    return (\n      // Fallback to emHeightAscent + emHeightDescent is needed for server-side rendering.\n      ((_a = metrics.fontBoundingBoxAscent) != null ? _a : metrics.emHeightAscent) + ((_b = metrics.fontBoundingBoxDescent) != null ? _b : metrics.emHeightDescent)\n    );\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return bbox ? bbox.containsPoint(point.x, point.y) : false;\n  }\n  render(renderCtx) {\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    if (!this.lines.length || !this.layerManager) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    const { fill, stroke, strokeWidth } = this;\n    ctx.font = this.font;\n    ctx.textAlign = this.textAlign;\n    ctx.textBaseline = this.textBaseline;\n    const pixelRatio = this.layerManager.canvas.pixelRatio || 1;\n    const { globalAlpha } = ctx;\n    if (fill) {\n      ctx.fillStyle = fill;\n      ctx.globalAlpha = globalAlpha * this.opacity * this.fillOpacity;\n      const { fillShadow } = this;\n      if (fillShadow == null ? void 0 : fillShadow.enabled) {\n        ctx.shadowColor = fillShadow.color;\n        ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n        ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n        ctx.shadowBlur = fillShadow.blur * pixelRatio;\n      }\n      this.renderLines((line, x, y) => ctx.fillText(line, x, y));\n    }\n    if (stroke && strokeWidth) {\n      ctx.strokeStyle = stroke;\n      ctx.lineWidth = strokeWidth;\n      ctx.globalAlpha = globalAlpha * this.opacity * this.strokeOpacity;\n      const { lineDash, lineDashOffset, lineCap, lineJoin } = this;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      this.renderLines((line, x, y) => ctx.strokeText(line, x, y));\n    }\n    super.render(renderCtx);\n  }\n  renderLines(renderCallback) {\n    const { lines, x, y } = this;\n    const lineHeights = lines.map((line) => this.getLineHeight(line));\n    const totalHeight = lineHeights.reduce((a, b) => a + b, 0);\n    let offsetY = (lineHeights[0] - totalHeight) * _Text.getVerticalModifier(this.textBaseline);\n    for (let i = 0; i < lines.length; i++) {\n      renderCallback(lines[i], x, y + offsetY);\n      offsetY += lineHeights[i];\n    }\n  }\n  static wrapLines(text, maxWidth, maxHeight, textProps, wrapping, overflow) {\n    const canOverflow = overflow !== \"hide\";\n    const measurer = new TextMeasurer(textProps);\n    const lines = text.split(/\\r?\\n/g);\n    if (lines.length === 0) {\n      return { lines: void 0, truncated: false };\n    }\n    if (wrapping === \"never\") {\n      const { text: truncText, truncated: truncated2 } = _Text.truncateLine(\n        lines[0],\n        maxWidth,\n        measurer,\n        canOverflow ? \"auto\" : \"never\"\n      );\n      return { lines: truncText != null ? [truncText] : void 0, truncated: truncated2 };\n    }\n    const wrappedLines = [];\n    let cumulativeHeight = 0;\n    let truncated = false;\n    for (const line of lines) {\n      const wrappedLine = _Text.wrapLine(\n        line,\n        maxWidth,\n        maxHeight,\n        measurer,\n        textProps,\n        wrapping,\n        cumulativeHeight,\n        canOverflow\n      );\n      if (wrappedLine == null) {\n        return { lines: void 0, truncated: false };\n      }\n      wrappedLines.push(...wrappedLine.result);\n      cumulativeHeight = wrappedLine.cumulativeHeight;\n      if (wrappedLine.truncated) {\n        truncated = true;\n        break;\n      }\n    }\n    return { lines: wrappedLines, truncated };\n  }\n  static wrap(text, maxWidth, maxHeight, textProps, wrapping, overflow = \"ellipsis\") {\n    var _a;\n    const { lines, truncated } = _Text.wrapLines(text, maxWidth, maxHeight, textProps, wrapping, overflow);\n    return { text: (_a = lines == null ? void 0 : lines.join(\"\\n\").trim()) != null ? _a : \"\", truncated };\n  }\n  static wrapLine(text, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow) {\n    text = text.trim();\n    if (!text) {\n      return { result: [], truncated: false, cumulativeHeight };\n    }\n    const initialSize = measurer.size(text);\n    if (initialSize.width <= maxWidth) {\n      return {\n        result: [text],\n        truncated: false,\n        cumulativeHeight: cumulativeHeight + initialSize.height\n      };\n    }\n    if (initialSize.height > maxHeight || measurer.width(\"W\") > maxWidth) {\n      return canOverflow ? { result: [], truncated: true, cumulativeHeight } : void 0;\n    }\n    const words = text.split(/\\s+/g);\n    const wrapResult = _Text.wrapLineSequentially(\n      words,\n      maxWidth,\n      maxHeight,\n      measurer,\n      textProps,\n      wrapping,\n      cumulativeHeight,\n      canOverflow\n    );\n    if (wrapResult == null) {\n      return;\n    }\n    cumulativeHeight = wrapResult.cumulativeHeight;\n    let { lines } = wrapResult;\n    if (!(wrapResult.wordsBrokenOrTruncated || wrapResult.linesTruncated)) {\n      const linesCount = wrapResult.lines.length;\n      const balanced = _Text.wrapLineBalanced(words, maxWidth, measurer, linesCount);\n      if (balanced.length === lines.length) {\n        lines = balanced;\n      }\n    }\n    const wrappedText = lines.map((ln) => ln.join(\" \"));\n    return { result: wrappedText, truncated: wrapResult.linesTruncated, cumulativeHeight };\n  }\n  static breakWord(word, firstLineWidth, maxWidth, hyphens, measurer) {\n    const isPunctuationAt = (index) => _Text.punctuationMarks.includes(word[index]);\n    const h = hyphens ? measurer.width(\"-\") : 0;\n    const breaks = [];\n    let partWidth = 0;\n    let p = 0;\n    for (let i = 0; i < word.length; i++) {\n      const c = word[i];\n      const w = measurer.width(c);\n      const limit = p === 0 ? firstLineWidth : maxWidth;\n      if (partWidth + w + h > limit) {\n        breaks.push(i);\n        partWidth = 0;\n        p++;\n      }\n      partWidth += w;\n    }\n    const parts = [];\n    let start = 0;\n    for (const index of breaks) {\n      let part = word.substring(start, index);\n      if (hyphens && part.length > 0 && !isPunctuationAt(index - 1) && !isPunctuationAt(index)) {\n        part += \"-\";\n      }\n      parts.push(part);\n      start = index;\n    }\n    parts.push(word.substring(start));\n    return parts;\n  }\n  static truncateLine(text, maxWidth, measurer, ellipsisMode) {\n    text = text.trimEnd();\n    const lineWidth = measurer.width(text);\n    if (lineWidth > maxWidth && ellipsisMode === \"never\") {\n      return { text: void 0, truncated: false };\n    } else if (lineWidth <= maxWidth && ellipsisMode !== \"force\") {\n      return { text, truncated: false };\n    }\n    const ellipsisWidth = measurer.width(ellipsis);\n    let trunc = text;\n    let truncWidth = lineWidth;\n    while (trunc.length > 0 && truncWidth + ellipsisWidth > maxWidth) {\n      trunc = trunc.slice(0, -1).trimEnd();\n      truncWidth = measurer.width(trunc);\n    }\n    if (truncWidth + ellipsisWidth <= maxWidth) {\n      return { text: `${trunc}${ellipsis}`, truncated: true };\n    } else {\n      return { text: void 0, truncated: false };\n    }\n  }\n  static wrapLineSequentially(words, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow) {\n    const { fontSize = 0, lineHeight = fontSize * _Text.defaultLineHeightRatio } = textProps;\n    const breakWord = wrapping === \"always\" || wrapping === \"hyphenate\";\n    const hyphenate = wrapping === \"hyphenate\";\n    const spaceWidth = measurer.width(\" \");\n    let wordsBrokenOrTruncated = false;\n    let linesTruncated = false;\n    const lines = [];\n    let currentLine = [];\n    let lineWidth = 0;\n    const getReturnValue = () => ({\n      lines,\n      linesTruncated,\n      wordsBrokenOrTruncated,\n      cumulativeHeight\n    });\n    const truncateLastLine = () => {\n      if (!canOverflow) {\n        return;\n      }\n      const lastLine = currentLine.join(\" \");\n      const { text } = _Text.truncateLine(lastLine, maxWidth, measurer, \"force\");\n      if (text == null) {\n        return;\n      }\n      currentLine.splice(0, currentLine.length, text);\n      linesTruncated = true;\n      return getReturnValue();\n    };\n    const addNewLine = () => {\n      const expectedHeight = cumulativeHeight + lineHeight;\n      if (expectedHeight >= maxHeight) {\n        return false;\n      }\n      currentLine = [];\n      lineWidth = 0;\n      cumulativeHeight = expectedHeight;\n      lines.push(currentLine);\n      return true;\n    };\n    if (!addNewLine()) {\n      return truncateLastLine();\n    }\n    for (let i = 0; i < words.length; i++) {\n      const word = words[i];\n      const wordWidth = measurer.width(word);\n      const expectedSpaceWidth = currentLine.length === 0 ? 0 : spaceWidth;\n      const expectedLineWidth = lineWidth + expectedSpaceWidth + wordWidth;\n      if (expectedLineWidth <= maxWidth) {\n        currentLine.push(word);\n        lineWidth = expectedLineWidth;\n        continue;\n      }\n      if (wordWidth <= maxWidth) {\n        if (!addNewLine()) {\n          return truncateLastLine();\n        }\n        currentLine.push(word);\n        lineWidth = wordWidth;\n        continue;\n      }\n      wordsBrokenOrTruncated = true;\n      if (breakWord) {\n        const availWidth = maxWidth - lineWidth - expectedSpaceWidth;\n        const parts = _Text.breakWord(word, availWidth, maxWidth, hyphenate, measurer);\n        for (let p = 0; p < parts.length; p++) {\n          const part = parts[p];\n          part && currentLine.push(part);\n          if (p === parts.length - 1) {\n            lineWidth = measurer.width(part);\n          } else if (!addNewLine()) {\n            return truncateLastLine();\n          }\n        }\n      } else if (canOverflow) {\n        if (!addNewLine()) {\n          return truncateLastLine();\n        }\n        const { text } = _Text.truncateLine(word, maxWidth, measurer, \"force\");\n        if (text == null) {\n          return;\n        }\n        currentLine.push(text);\n        if (i < words.length - 1) {\n          linesTruncated = true;\n        }\n        break;\n      } else {\n        return;\n      }\n    }\n    return getReturnValue();\n  }\n  static wrapLineBalanced(words, maxWidth, measurer, linesCount) {\n    const totalWordsWidth = words.reduce((sum2, w) => sum2 + measurer.width(w), 0);\n    const spaceWidth = measurer.width(\" \");\n    const totalSpaceWidth = spaceWidth * (words.length - linesCount - 2);\n    const averageLineWidth = (totalWordsWidth + totalSpaceWidth) / linesCount;\n    const lines = [];\n    let currentLine = [];\n    let lineWidth = measurer.width(words[0]);\n    let newLine = true;\n    for (const word of words) {\n      const width = measurer.width(word);\n      if (newLine) {\n        currentLine = [];\n        currentLine.push(word);\n        lineWidth = width;\n        newLine = false;\n        lines.push(currentLine);\n        continue;\n      }\n      const expectedLineWidth = lineWidth + spaceWidth + width;\n      if (expectedLineWidth <= averageLineWidth) {\n        currentLine.push(word);\n        lineWidth = expectedLineWidth;\n      } else if (expectedLineWidth <= maxWidth) {\n        currentLine.push(word);\n        newLine = true;\n      } else {\n        currentLine = [word];\n        lineWidth = width;\n        lines.push(currentLine);\n      }\n    }\n    return lines;\n  }\n  setFont(props) {\n    this.fontFamily = props.fontFamily;\n    this.fontSize = props.fontSize;\n    this.fontStyle = props.fontStyle;\n    this.fontWeight = props.fontWeight;\n  }\n  setAlign(props) {\n    this.textAlign = props.textAlign;\n    this.textBaseline = props.textBaseline;\n  }\n  static getVerticalModifier(textBaseline) {\n    switch (textBaseline) {\n      case \"top\":\n      case \"hanging\":\n        return 0;\n      case \"bottom\":\n      case \"alphabetic\":\n      case \"ideographic\":\n        return 1;\n      case \"middle\":\n        return 0.5;\n    }\n  }\n  static get textContext() {\n    if (!this._textContext) {\n      const canvasElement = createElement(\"canvas\");\n      canvasElement.width = 0;\n      canvasElement.height = 0;\n      this._textContext = canvasElement.getContext(\"2d\");\n    }\n    return this._textContext;\n  }\n  static measureText(text, font, textBaseline, textAlign) {\n    return this._measureText({ text, font, textBaseline, textAlign });\n  }\n  /**\n   * Returns the width and height of the measured text.\n   * @param text The single-line text to measure.\n   * @param font The font shorthand string.\n   */\n  static getTextSize(text, font) {\n    return this._getTextSize({ text, font });\n  }\n  static getTextSizeMultiline(lines, font, textBaseline = _Text.defaultStyles.textBaseline, textAlign = _Text.defaultStyles.textAlign, lineHeight) {\n    var _a, _b;\n    let top = 0;\n    let left = 0;\n    let width = 0;\n    let height = 0;\n    let baselineDistance = 0;\n    for (const [i, text] of lines.entries()) {\n      const metrics = this._measureText({ text, font, textBaseline, textAlign });\n      left = Math.max(left, metrics.actualBoundingBoxLeft);\n      width = Math.max(width, metrics.width);\n      if (i == 0) {\n        top += metrics.actualBoundingBoxAscent;\n        height += metrics.actualBoundingBoxAscent;\n      } else {\n        baselineDistance += (_a = metrics.fontBoundingBoxAscent) != null ? _a : metrics.emHeightAscent;\n      }\n      if (i == lines.length - 1) {\n        height += metrics.actualBoundingBoxDescent;\n      } else {\n        baselineDistance += (_b = metrics.fontBoundingBoxDescent) != null ? _b : metrics.emHeightDescent;\n      }\n    }\n    if (lineHeight != null) {\n      baselineDistance = (lines.length - 1) * lineHeight;\n    }\n    height += baselineDistance;\n    top += baselineDistance * _Text.getVerticalModifier(textBaseline);\n    return { top, left, width, height };\n  }\n};\n_Text.className = \"Text\";\n// The default line spacing for document editors is usually 1.15\n_Text.defaultLineHeightRatio = 1.15;\n_Text.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  textAlign: \"start\",\n  fontStyle: void 0,\n  fontWeight: void 0,\n  fontSize: 10,\n  fontFamily: \"sans-serif\",\n  textBaseline: \"alphabetic\"\n});\n_Text.ellipsis = ellipsis;\n_Text.punctuationMarks = [\".\", \",\", \"-\", \":\", \";\", \"!\", \"?\", `'`, '\"', \"(\", \")\"];\n_Text._measureText = memoizeFunction(\n  ({\n    text,\n    font,\n    textBaseline,\n    textAlign\n  }) => {\n    const ctx = _Text.textContext;\n    if (ctx.font !== font) {\n      ctx.font = font;\n    }\n    if (ctx.textBaseline !== textBaseline) {\n      ctx.textBaseline = textBaseline;\n    }\n    if (ctx.textAlign !== textAlign) {\n      ctx.textAlign = textAlign;\n    }\n    return ctx.measureText(text);\n  }\n);\n_Text._getTextSize = memoizeFunction(({ text, font }) => {\n  const ctx = _Text.textContext;\n  if (ctx.font !== font) {\n    ctx.font = font;\n  }\n  const metrics = ctx.measureText(text);\n  return {\n    width: metrics.width,\n    height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n  };\n});\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], _Text.prototype, \"x\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], _Text.prototype, \"y\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */, changeCb: (o) => o.onTextChange() })\n], _Text.prototype, \"text\", 2);\n__decorateClass([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontStyle\", 2);\n__decorateClass([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontWeight\", 2);\n__decorateClass([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontSize\", 2);\n__decorateClass([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontFamily\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], _Text.prototype, \"textAlign\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], _Text.prototype, \"textBaseline\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], _Text.prototype, \"lineHeight\", 2);\nvar Text = _Text;\nvar TextMeasurer = class {\n  constructor(font) {\n    this.font = isString(font) ? font : getFont(font);\n  }\n  size(text) {\n    return text.includes(\"\\n\") ? Text.getTextSizeMultiline(\n      text.split(\"\\n\").map((s) => s.trim()),\n      this.font\n    ) : Text.getTextSize(text, this.font);\n  }\n  width(text) {\n    const { width } = this.size(text);\n    return width;\n  }\n};\nfunction getFont(fontProps) {\n  const { fontFamily, fontSize, fontStyle, fontWeight } = fontProps;\n  return [fontStyle != null ? fontStyle : \"\", fontWeight != null ? fontWeight : \"\", fontSize + \"px\", fontFamily].join(\" \").trim();\n}\n\n// packages/ag-charts-community/src/chart/label.ts\nvar Label = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n  }\n  getFont() {\n    return getFont(this);\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], Label.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], Label.prototype, \"color\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], Label.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], Label.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Label.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], Label.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], Label.prototype, \"formatter\", 2);\nfunction calculateLabelRotation(opts) {\n  const { parallelFlipRotation = 0, regularFlipRotation = 0 } = opts;\n  const configuredRotation = opts.rotation ? normalizeAngle360(toRadians(opts.rotation)) : 0;\n  const parallelFlipFlag = !configuredRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI ? -1 : 1;\n  const regularFlipFlag = !configuredRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI ? -1 : 1;\n  let defaultRotation = 0;\n  if (opts.parallel) {\n    defaultRotation = parallelFlipFlag * Math.PI / 2;\n  } else if (regularFlipFlag === -1) {\n    defaultRotation = Math.PI;\n  }\n  return { configuredRotation, defaultRotation, parallelFlipFlag, regularFlipFlag };\n}\nfunction getLabelSpacing(minSpacing, rotated) {\n  if (!isNaN(minSpacing)) {\n    return minSpacing;\n  }\n  return rotated ? 0 : 10;\n}\nfunction getTextBaseline(parallel, labelRotation, sideFlag, parallelFlipFlag) {\n  if (parallel && !labelRotation) {\n    return sideFlag * parallelFlipFlag === -1 ? \"hanging\" : \"bottom\";\n  }\n  return \"middle\";\n}\nfunction getTextAlign(parallel, labelRotation, labelAutoRotation, sideFlag, regularFlipFlag) {\n  const labelRotated = labelRotation > 0 && labelRotation <= Math.PI;\n  const labelAutoRotated = labelAutoRotation > 0 && labelAutoRotation <= Math.PI;\n  const alignFlag = labelRotated || labelAutoRotated ? -1 : 1;\n  if (parallel) {\n    if (labelRotation || labelAutoRotation) {\n      if (sideFlag * alignFlag === -1) {\n        return \"end\";\n      }\n    } else {\n      return \"center\";\n    }\n  } else if (sideFlag * regularFlipFlag === -1) {\n    return \"end\";\n  }\n  return \"start\";\n}\nfunction calculateLabelBBox(text, bbox, labelX, labelY, labelMatrix) {\n  const { width, height } = bbox;\n  const translatedBBox = new BBox(labelX, labelY, 0, 0);\n  labelMatrix.transformBBox(translatedBBox, bbox);\n  const { x, y } = bbox;\n  bbox.width = width;\n  bbox.height = height;\n  return {\n    point: { x, y },\n    label: { text, width, height }\n  };\n}\n\n// packages/ag-charts-community/src/chart/layers.ts\nvar Layers = /* @__PURE__ */ ((Layers2) => {\n  Layers2[Layers2[\"SERIES_BACKGROUND_ZINDEX\"] = 0] = \"SERIES_BACKGROUND_ZINDEX\";\n  Layers2[Layers2[\"AXIS_GRID_ZINDEX\"] = 1] = \"AXIS_GRID_ZINDEX\";\n  Layers2[Layers2[\"AXIS_ZINDEX\"] = 2] = \"AXIS_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSLINE_RANGE_ZINDEX\"] = 3] = \"SERIES_CROSSLINE_RANGE_ZINDEX\";\n  Layers2[Layers2[\"SERIES_LAYER_ZINDEX\"] = 4] = \"SERIES_LAYER_ZINDEX\";\n  Layers2[Layers2[\"SERIES_HIGHLIGHT_ZINDEX\"] = 5] = \"SERIES_HIGHLIGHT_ZINDEX\";\n  Layers2[Layers2[\"AXIS_FOREGROUND_ZINDEX\"] = 6] = \"AXIS_FOREGROUND_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSHAIR_ZINDEX\"] = 7] = \"SERIES_CROSSHAIR_ZINDEX\";\n  Layers2[Layers2[\"SERIES_LABEL_ZINDEX\"] = 8] = \"SERIES_LABEL_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSLINE_LINE_ZINDEX\"] = 9] = \"SERIES_CROSSLINE_LINE_ZINDEX\";\n  Layers2[Layers2[\"SERIES_ANNOTATION_ZINDEX\"] = 10] = \"SERIES_ANNOTATION_ZINDEX\";\n  Layers2[Layers2[\"LEGEND_ZINDEX\"] = 11] = \"LEGEND_ZINDEX\";\n  Layers2[Layers2[\"NAVIGATOR_ZINDEX\"] = 12] = \"NAVIGATOR_ZINDEX\";\n  return Layers2;\n})(Layers || {});\n\n// packages/ag-charts-community/src/util/value.ts\nfunction isStringObject(value) {\n  return value != null && Object.hasOwn(value, \"toString\") && isString(value.toString());\n}\nfunction isNumberObject(value) {\n  return value != null && Object.hasOwn(value, \"valueOf\") && isFiniteNumber(value.valueOf());\n}\nfunction isContinuous(value) {\n  return isFiniteNumber(value) || isValidDate(value) || isNumberObject(value);\n}\nfunction checkDatum(value, isContinuousScale) {\n  return value != null && (!isContinuousScale || isContinuous(value));\n}\nfunction transformIntegratedCategoryValue(value) {\n  if (isStringObject(value) && Object.hasOwn(value, \"id\")) {\n    return value.id;\n  }\n  return value;\n}\n\n// packages/ag-charts-community/src/chart/crossline/crossLine.ts\nvar MATCHING_CROSSLINE_TYPE = (property) => {\n  return property === \"value\" ? predicateWithMessage(\n    (_, ctx) => ctx.target[\"type\"] === \"line\",\n    (ctx) => ctx.target[\"type\"] === \"range\" ? `crossLine type 'range' to have a 'range' property instead of 'value'` : `crossLine property 'type' to be 'line'`\n  ) : predicateWithMessage(\n    (_, ctx) => ctx.target[\"type\"] === \"range\",\n    (ctx) => ctx.target.type === \"line\" ? `crossLine type 'line' to have a 'value' property instead of 'range'` : `crossLine property 'type' to be 'range'`\n  );\n};\nvar validateCrossLineValues = (type, value, range3, scale2) => {\n  const lineCrossLine = type === \"line\" && value !== void 0;\n  const rangeCrossLine = type === \"range\" && range3 !== void 0;\n  if (!lineCrossLine && !rangeCrossLine) {\n    return true;\n  }\n  const [start, end] = range3 != null ? range3 : [value, void 0];\n  const isContinuous2 = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n  const validStart = checkDatum(start, isContinuous2) && !isNaN(scale2.convert(start));\n  const validEnd = checkDatum(end, isContinuous2) && !isNaN(scale2.convert(end));\n  if (lineCrossLine && validStart || rangeCrossLine && validStart && validEnd) {\n    return true;\n  }\n  const message = [`Expecting crossLine`];\n  if (rangeCrossLine) {\n    if (!validStart) {\n      message.push(`range start ${stringify(start)}`);\n    }\n    if (!validEnd) {\n      message.push(`${validStart ? \"\" : \"and \"}range end ${stringify(end)}`);\n    }\n  } else {\n    message.push(`value ${stringify(start)}`);\n  }\n  message.push(`to match the axis scale domain.`);\n  Logger.warnOnce(message.join(\" \"));\n  return false;\n};\n\n// packages/ag-charts-community/src/chart/crossline/crossLineLabelPosition.ts\nvar horizontalCrosslineTranslationDirections = {\n  top: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  bottom: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  left: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  right: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  topLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n  topRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n  bottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  bottomRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  inside: { xTranslationDirection: 0, yTranslationDirection: 0 },\n  insideLeft: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  insideRight: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  insideTop: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  insideBottom: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  insideTopLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n  insideTopRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  insideBottomRight: { xTranslationDirection: -1, yTranslationDirection: -1 }\n};\nvar verticalCrossLineTranslationDirections = {\n  top: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  bottom: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  left: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  right: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  topLeft: { xTranslationDirection: -1, yTranslationDirection: -1 },\n  topRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  bottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n  bottomRight: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  inside: { xTranslationDirection: 0, yTranslationDirection: 0 },\n  insideLeft: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  insideRight: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  insideTop: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  insideBottom: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  insideTopLeft: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  insideTopRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n  insideBottomRight: { xTranslationDirection: 1, yTranslationDirection: -1 }\n};\nfunction calculateLabelTranslation({\n  yDirection,\n  padding = 0,\n  position = \"top\",\n  bbox\n}) {\n  const crossLineTranslationDirections = yDirection ? horizontalCrosslineTranslationDirections : verticalCrossLineTranslationDirections;\n  const { xTranslationDirection, yTranslationDirection } = crossLineTranslationDirections[position];\n  const w = yDirection ? bbox.width : bbox.height;\n  const h = yDirection ? bbox.height : bbox.width;\n  const xTranslation = xTranslationDirection * (padding + w / 2);\n  const yTranslation = yTranslationDirection * (padding + h / 2);\n  return {\n    xTranslation,\n    yTranslation\n  };\n}\nfunction calculateLabelChartPadding({\n  yDirection,\n  bbox,\n  padding = 0,\n  position = \"top\"\n}) {\n  const chartPadding = {};\n  if (position.startsWith(\"inside\"))\n    return chartPadding;\n  if (position === \"top\" && !yDirection) {\n    chartPadding.top = padding + bbox.height;\n  } else if (position === \"bottom\" && !yDirection) {\n    chartPadding.bottom = padding + bbox.height;\n  } else if (position === \"left\" && yDirection) {\n    chartPadding.left = padding + bbox.width;\n  } else if (position === \"right\" && yDirection) {\n    chartPadding.right = padding + bbox.width;\n  }\n  return chartPadding;\n}\nvar POSITION_TOP_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd / 2, y: yStart };\n  } else {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  }\n};\nvar POSITION_LEFT_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  } else {\n    return { x: xEnd / 2, y: yStart };\n  }\n};\nvar POSITION_RIGHT_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  } else {\n    return { x: xEnd / 2, y: isNaN(yEnd) ? yStart : yEnd };\n  }\n};\nvar POSITION_BOTTOM_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd / 2, y: isNaN(yEnd) ? yStart : yEnd };\n  } else {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  }\n};\nvar POSITION_INSIDE_COORDINATES = ({ xEnd, yStart, yEnd }) => {\n  return { x: xEnd / 2, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n};\nvar POSITION_TOP_LEFT_COORDINATES = ({ yDirection, xStart, xEnd, yStart }) => {\n  if (yDirection) {\n    return { x: xStart / 2, y: yStart };\n  } else {\n    return { x: xEnd, y: yStart };\n  }\n};\nvar POSITION_BOTTOM_LEFT_COORDINATES = ({ yDirection, xStart, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : yEnd };\n  } else {\n    return { x: xStart, y: yStart };\n  }\n};\nvar POSITION_TOP_RIGHT_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd, y: yStart };\n  } else {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : yEnd };\n  }\n};\nvar POSITION_BOTTOM_RIGHT_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : yEnd };\n  } else {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : yEnd };\n  }\n};\nvar labelDirectionHandling = {\n  top: { c: POSITION_TOP_COORDINATES },\n  bottom: { c: POSITION_BOTTOM_COORDINATES },\n  left: { c: POSITION_LEFT_COORDINATES },\n  right: { c: POSITION_RIGHT_COORDINATES },\n  topLeft: { c: POSITION_TOP_LEFT_COORDINATES },\n  topRight: { c: POSITION_TOP_RIGHT_COORDINATES },\n  bottomLeft: { c: POSITION_BOTTOM_LEFT_COORDINATES },\n  bottomRight: { c: POSITION_BOTTOM_RIGHT_COORDINATES },\n  inside: { c: POSITION_INSIDE_COORDINATES },\n  insideLeft: { c: POSITION_LEFT_COORDINATES },\n  insideRight: { c: POSITION_RIGHT_COORDINATES },\n  insideTop: { c: POSITION_TOP_COORDINATES },\n  insideBottom: { c: POSITION_BOTTOM_COORDINATES },\n  insideTopLeft: { c: POSITION_TOP_LEFT_COORDINATES },\n  insideBottomLeft: { c: POSITION_BOTTOM_LEFT_COORDINATES },\n  insideTopRight: { c: POSITION_TOP_RIGHT_COORDINATES },\n  insideBottomRight: { c: POSITION_BOTTOM_RIGHT_COORDINATES }\n};\n\n// packages/ag-charts-community/src/chart/crossline/cartesianCrossLine.ts\nvar CROSSLINE_LABEL_POSITION = UNION(\n  [\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"topLeft\",\n    \"topRight\",\n    \"bottomLeft\",\n    \"bottomRight\",\n    \"inside\",\n    \"insideLeft\",\n    \"insideRight\",\n    \"insideTop\",\n    \"insideBottom\",\n    \"insideTopLeft\",\n    \"insideBottomLeft\",\n    \"insideTopRight\",\n    \"insideBottomRight\"\n  ],\n  \"crossLine label position\"\n);\nvar CartesianCrossLineLabel = class {\n  constructor() {\n    this.enabled = void 0;\n    this.text = void 0;\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 14;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.padding = 5;\n    this.color = \"rgba(87, 87, 87, 1)\";\n    this.position = void 0;\n    this.rotation = void 0;\n    this.parallel = void 0;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], CartesianCrossLineLabel.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], CartesianCrossLineLabel.prototype, \"text\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], CartesianCrossLineLabel.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], CartesianCrossLineLabel.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], CartesianCrossLineLabel.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], CartesianCrossLineLabel.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], CartesianCrossLineLabel.prototype, \"padding\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], CartesianCrossLineLabel.prototype, \"color\", 2);\n__decorateClass([\n  Validate(CROSSLINE_LABEL_POSITION, { optional: true })\n], CartesianCrossLineLabel.prototype, \"position\", 2);\n__decorateClass([\n  Validate(DEGREE, { optional: true })\n], CartesianCrossLineLabel.prototype, \"rotation\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], CartesianCrossLineLabel.prototype, \"parallel\", 2);\nvar _CartesianCrossLine = class _CartesianCrossLine {\n  constructor() {\n    this.id = createId(this);\n    this.enabled = void 0;\n    this.type = void 0;\n    this.range = void 0;\n    this.value = void 0;\n    this.fill = void 0;\n    this.fillOpacity = void 0;\n    this.stroke = void 0;\n    this.strokeWidth = void 0;\n    this.strokeOpacity = void 0;\n    this.lineDash = void 0;\n    this.label = new CartesianCrossLineLabel();\n    this.scale = void 0;\n    this.clippedRange = [-Infinity, Infinity];\n    this.gridLength = 0;\n    this.sideFlag = -1;\n    this.parallelFlipRotation = 0;\n    this.regularFlipRotation = 0;\n    this.direction = \"x\" /* X */;\n    this.group = new Group({ name: `${this.id}`, layer: true, zIndex: _CartesianCrossLine.LINE_LAYER_ZINDEX });\n    this.labelGroup = new Group({ name: `${this.id}`, layer: true, zIndex: _CartesianCrossLine.LABEL_LAYER_ZINDEX });\n    this.crossLineRange = new Range();\n    this.crossLineLabel = new Text();\n    this.labelPoint = void 0;\n    this.data = [];\n    this.startLine = false;\n    this.endLine = false;\n    this.isRange = false;\n    const { group: group2, labelGroup, crossLineRange, crossLineLabel } = this;\n    group2.append(crossLineRange);\n    labelGroup.append(crossLineLabel);\n    crossLineRange.pointerEvents = 1 /* None */;\n  }\n  update(visible) {\n    const { enabled, data, type, value, range: range3, scale: scale2 } = this;\n    if (!type || !scale2 || !enabled || !visible || !validateCrossLineValues(type, value, range3, scale2) || data.length === 0) {\n      this.group.visible = false;\n      this.labelGroup.visible = false;\n      return;\n    }\n    this.group.visible = visible;\n    this.labelGroup.visible = visible;\n    this.group.zIndex = this.getZIndex(this.isRange);\n    this.updateNodes();\n  }\n  calculateLayout(visible, reversedAxis) {\n    if (!visible) {\n      return;\n    }\n    const dataCreated = this.createNodeData(reversedAxis);\n    if (!dataCreated) {\n      return;\n    }\n    const { sideFlag, gridLength, data } = this;\n    const boxes = [];\n    const x1 = 0;\n    const x2 = sideFlag * gridLength;\n    const y1 = data[0];\n    const y2 = data[1];\n    const crossLineBox = new BBox(Math.min(x1, x2), Math.min(y1, y2), Math.abs(x1 - x2), Math.abs(y1 - y2));\n    boxes.push(crossLineBox);\n    const labelBox = this.computeLabelBBox();\n    if (labelBox) {\n      boxes.push(labelBox);\n    }\n    return BBox.merge(boxes);\n  }\n  updateNodes() {\n    this.updateRangeNode();\n    if (this.label.enabled) {\n      this.updateLabel();\n      this.positionLabel();\n    }\n  }\n  createNodeData(reversedAxis) {\n    var _a, _b, _c;\n    const {\n      scale: scale2,\n      gridLength,\n      sideFlag,\n      direction,\n      label: { position = \"top\" },\n      clippedRange,\n      strokeWidth = 0\n    } = this;\n    this.data = [];\n    if (!scale2) {\n      return false;\n    }\n    const bandwidth = (_a = scale2.bandwidth) != null ? _a : 0;\n    const step = (_b = scale2.step) != null ? _b : 0;\n    const padding = (reversedAxis ? -1 : 1) * (scale2 instanceof BandScale ? (step - bandwidth) / 2 : 0);\n    const [xStart, xEnd] = [0, sideFlag * gridLength];\n    let [yStart, yEnd] = this.getRange();\n    const ordinalTimeScalePadding = yEnd === void 0 && OrdinalTimeScale.is(scale2) ? bandwidth / 2 + padding : 0;\n    let [clampedYStart, clampedYEnd] = [\n      Number(scale2.convert(yStart, { clampMode: \"clamped\" })) - padding + ordinalTimeScalePadding,\n      scale2.convert(yEnd, { clampMode: \"clamped\" }) + bandwidth + padding\n    ];\n    clampedYStart = clampArray(clampedYStart, clippedRange);\n    clampedYEnd = clampArray(clampedYEnd, clippedRange);\n    [yStart, yEnd] = [Number(scale2.convert(yStart)) + ordinalTimeScalePadding, scale2.convert(yEnd) + bandwidth];\n    const validRange = (yStart === clampedYStart || yEnd === clampedYEnd || clampedYStart !== clampedYEnd) && Math.abs(clampedYEnd - clampedYStart) > 0;\n    if (validRange && clampedYStart > clampedYEnd) {\n      [clampedYStart, clampedYEnd] = [clampedYEnd, clampedYStart];\n      [yStart, yEnd] = [yEnd, yStart];\n    }\n    if (yStart - padding >= clampedYStart)\n      yStart -= padding;\n    if (yEnd + padding <= clampedYEnd)\n      yEnd += padding;\n    this.isRange = validRange;\n    this.startLine = strokeWidth > 0 && yStart >= clampedYStart && yStart <= clampedYStart + padding;\n    this.endLine = strokeWidth > 0 && yEnd >= clampedYEnd - bandwidth - padding && yEnd <= clampedYEnd;\n    if (!validRange && !this.startLine && !this.endLine) {\n      return false;\n    }\n    this.data = [clampedYStart, clampedYEnd];\n    if (this.label.enabled) {\n      const yDirection = direction === \"y\" /* Y */;\n      const { c = POSITION_TOP_COORDINATES } = (_c = labelDirectionHandling[position]) != null ? _c : {};\n      const { x: labelX, y: labelY } = c({\n        yDirection,\n        xStart,\n        xEnd,\n        yStart: clampedYStart,\n        yEnd: clampedYEnd\n      });\n      this.labelPoint = {\n        x: labelX,\n        y: labelY\n      };\n    }\n    return true;\n  }\n  updateRangeNode() {\n    var _a;\n    const {\n      crossLineRange,\n      sideFlag,\n      gridLength,\n      data,\n      startLine,\n      endLine,\n      isRange,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      lineDash\n    } = this;\n    crossLineRange.x1 = 0;\n    crossLineRange.x2 = sideFlag * gridLength;\n    crossLineRange.y1 = data[0];\n    crossLineRange.y2 = data[1];\n    crossLineRange.startLine = startLine;\n    crossLineRange.endLine = endLine;\n    crossLineRange.isRange = isRange;\n    crossLineRange.fill = fill;\n    crossLineRange.fillOpacity = fillOpacity != null ? fillOpacity : 1;\n    crossLineRange.stroke = stroke;\n    crossLineRange.strokeWidth = strokeWidth != null ? strokeWidth : 1;\n    crossLineRange.strokeOpacity = (_a = this.strokeOpacity) != null ? _a : 1;\n    crossLineRange.lineDash = lineDash;\n  }\n  updateLabel() {\n    const { crossLineLabel, label } = this;\n    if (!label.text) {\n      return;\n    }\n    crossLineLabel.fontStyle = label.fontStyle;\n    crossLineLabel.fontWeight = label.fontWeight;\n    crossLineLabel.fontSize = label.fontSize;\n    crossLineLabel.fontFamily = label.fontFamily;\n    crossLineLabel.fill = label.color;\n    crossLineLabel.text = label.text;\n  }\n  positionLabel() {\n    const {\n      crossLineLabel,\n      labelPoint: { x = void 0, y = void 0 } = {},\n      label: { parallel, rotation, position = \"top\", padding = 0 },\n      direction,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this;\n    if (x === void 0 || y === void 0) {\n      return;\n    }\n    const { defaultRotation, configuredRotation } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    crossLineLabel.rotation = defaultRotation + configuredRotation;\n    crossLineLabel.textBaseline = \"middle\";\n    crossLineLabel.textAlign = \"center\";\n    const bbox = crossLineLabel.computeTransformedBBox();\n    if (!bbox) {\n      return;\n    }\n    const yDirection = direction === \"y\" /* Y */;\n    const { xTranslation, yTranslation } = calculateLabelTranslation({\n      yDirection,\n      padding,\n      position,\n      bbox\n    });\n    crossLineLabel.translationX = x + xTranslation;\n    crossLineLabel.translationY = y + yTranslation;\n  }\n  getZIndex(isRange = false) {\n    if (isRange) {\n      return _CartesianCrossLine.RANGE_LAYER_ZINDEX;\n    }\n    return _CartesianCrossLine.LINE_LAYER_ZINDEX;\n  }\n  getRange() {\n    var _a;\n    const { value, range: range3, scale: scale2 } = this;\n    const isContinuous2 = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const start = (_a = range3 == null ? void 0 : range3[0]) != null ? _a : value;\n    let end = range3 == null ? void 0 : range3[1];\n    if (!isContinuous2 && end === void 0) {\n      end = start;\n    }\n    if (isContinuous2 && start === end) {\n      end = void 0;\n    }\n    return [start, end];\n  }\n  computeLabelBBox() {\n    const { label } = this;\n    if (!label.enabled) {\n      return;\n    }\n    const tempText = new Text();\n    tempText.fontFamily = label.fontFamily;\n    tempText.fontSize = label.fontSize;\n    tempText.fontStyle = label.fontStyle;\n    tempText.fontWeight = label.fontWeight;\n    tempText.text = label.text;\n    const {\n      labelPoint: { x = void 0, y = void 0 } = {},\n      label: { parallel, rotation, position = \"top\", padding = 0 },\n      direction,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this;\n    if (x === void 0 || y === void 0) {\n      return;\n    }\n    const { configuredRotation } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    tempText.rotation = configuredRotation;\n    tempText.textBaseline = \"middle\";\n    tempText.textAlign = \"center\";\n    const bbox = tempText.computeTransformedBBox();\n    if (!bbox) {\n      return;\n    }\n    const yDirection = direction === \"y\" /* Y */;\n    const { xTranslation, yTranslation } = calculateLabelTranslation({\n      yDirection,\n      padding,\n      position,\n      bbox\n    });\n    tempText.translationX = x + xTranslation;\n    tempText.translationY = y + yTranslation;\n    return tempText.computeTransformedBBox();\n  }\n  calculatePadding(padding) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const {\n      isRange,\n      startLine,\n      endLine,\n      direction,\n      label: { padding: labelPadding = 0, position = \"top\" }\n    } = this;\n    if (!isRange && !startLine && !endLine) {\n      return;\n    }\n    const crossLineLabelBBox = this.computeLabelBBox();\n    if ((crossLineLabelBBox == null ? void 0 : crossLineLabelBBox.x) == null || (crossLineLabelBBox == null ? void 0 : crossLineLabelBBox.y) == null) {\n      return;\n    }\n    const chartPadding = calculateLabelChartPadding({\n      yDirection: direction === \"y\" /* Y */,\n      padding: labelPadding,\n      position,\n      bbox: crossLineLabelBBox\n    });\n    padding.left = Math.max((_a = padding.left) != null ? _a : 0, (_b = chartPadding.left) != null ? _b : 0);\n    padding.right = Math.max((_c = padding.right) != null ? _c : 0, (_d = chartPadding.right) != null ? _d : 0);\n    padding.top = Math.max((_e = padding.top) != null ? _e : 0, (_f = chartPadding.top) != null ? _f : 0);\n    padding.bottom = Math.max((_g = padding.bottom) != null ? _g : 0, (_h = chartPadding.bottom) != null ? _h : 0);\n  }\n};\n_CartesianCrossLine.LINE_LAYER_ZINDEX = 9 /* SERIES_CROSSLINE_LINE_ZINDEX */;\n_CartesianCrossLine.RANGE_LAYER_ZINDEX = 3 /* SERIES_CROSSLINE_RANGE_ZINDEX */;\n_CartesianCrossLine.LABEL_LAYER_ZINDEX = 8 /* SERIES_LABEL_ZINDEX */;\n_CartesianCrossLine.className = \"CrossLine\";\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], _CartesianCrossLine.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(UNION([\"range\", \"line\"], \"a crossLine type\"), { optional: true })\n], _CartesianCrossLine.prototype, \"type\", 2);\n__decorateClass([\n  Validate(AND(MATCHING_CROSSLINE_TYPE(\"range\"), ARRAY.restrict({ length: 2 })), {\n    optional: true\n  })\n], _CartesianCrossLine.prototype, \"range\", 2);\n__decorateClass([\n  Validate(MATCHING_CROSSLINE_TYPE(\"value\"), { optional: true })\n], _CartesianCrossLine.prototype, \"value\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], _CartesianCrossLine.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], _CartesianCrossLine.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], _CartesianCrossLine.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(NUMBER, { optional: true })\n], _CartesianCrossLine.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], _CartesianCrossLine.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH, { optional: true })\n], _CartesianCrossLine.prototype, \"lineDash\", 2);\nvar CartesianCrossLine = _CartesianCrossLine;\n\n// packages/ag-charts-community/src/module/moduleMap.ts\nvar ModuleMap = class {\n  constructor() {\n    this.moduleMap = /* @__PURE__ */ new Map();\n  }\n  *modules() {\n    for (const m of this.moduleMap.values()) {\n      yield m.moduleInstance;\n    }\n  }\n  addModule(module, moduleFactory) {\n    if (this.moduleMap.has(module.optionsKey)) {\n      throw new Error(`AG Charts - module already initialised: ${module.optionsKey}`);\n    }\n    this.moduleMap.set(module.optionsKey, { module, moduleInstance: moduleFactory(module) });\n  }\n  removeModule(module) {\n    var _a;\n    const moduleKey = isString(module) ? module : module.optionsKey;\n    (_a = this.moduleMap.get(moduleKey)) == null ? void 0 : _a.moduleInstance.destroy();\n    this.moduleMap.delete(moduleKey);\n  }\n  getModule(module) {\n    var _a;\n    return (_a = this.moduleMap.get(isString(module) ? module : module.optionsKey)) == null ? void 0 : _a.moduleInstance;\n  }\n  isEnabled(module) {\n    return this.moduleMap.has(isString(module) ? module : module.optionsKey);\n  }\n  mapModules(callback) {\n    return Array.from(this.moduleMap.values(), (m, i) => callback(m.moduleInstance, i));\n  }\n  destroy() {\n    var _a;\n    for (const moduleKey of this.moduleMap.keys()) {\n      (_a = this.moduleMap.get(moduleKey)) == null ? void 0 : _a.moduleInstance.destroy();\n    }\n    this.moduleMap.clear();\n  }\n};\n\n// packages/ag-charts-community/src/motion/resetMotion.ts\nvar resetMotion_exports = {};\n__export(resetMotion_exports, {\n  resetMotion: () => resetMotion\n});\nfunction resetMotion(selectionsOrNodes, propsFn) {\n  const { nodes, selections } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  for (const selection of selections) {\n    for (const node of selection.nodes()) {\n      const from = propsFn(node, node.datum);\n      node.setProperties(from);\n    }\n    selection.cleanup();\n  }\n  for (const node of nodes) {\n    const from = propsFn(node, node.datum);\n    node.setProperties(from);\n  }\n}\n\n// packages/ag-charts-community/src/motion/states.ts\nvar StateMachine = class {\n  constructor(initialState, states, preTransitionCb) {\n    this.states = states;\n    this.preTransitionCb = preTransitionCb;\n    this.debug = Debug.create(true, \"animation\");\n    this.state = initialState;\n    this.debug(`%c${this.constructor.name} | init -> ${initialState}`, \"color: green\");\n  }\n  transition(event, data) {\n    var _a, _b;\n    const currentStateConfig = this.states[this.state];\n    const destinationTransition = currentStateConfig == null ? void 0 : currentStateConfig[event];\n    if (!destinationTransition) {\n      this.debug(`%c${this.constructor.name} | ${this.state} -> ${event} -> ${this.state}`, \"color: grey\");\n      return;\n    }\n    let destinationState = this.state;\n    if (typeof destinationTransition === \"string\") {\n      destinationState = destinationTransition;\n    } else if (typeof destinationTransition === \"object\") {\n      destinationState = destinationTransition.target;\n    }\n    this.debug(`%c${this.constructor.name} | ${this.state} -> ${event} -> ${destinationState}`, \"color: green\");\n    (_a = this.preTransitionCb) == null ? void 0 : _a.call(this, this.state, destinationState);\n    this.state = destinationState;\n    if (typeof destinationTransition === \"function\") {\n      destinationTransition(data);\n    } else if (typeof destinationTransition === \"object\") {\n      (_b = destinationTransition.action) == null ? void 0 : _b.call(destinationTransition, data);\n    }\n    return this.state;\n  }\n};\n\n// packages/ag-charts-community/src/util/numberFormat.ts\nvar group = (content) => `(${content})`;\nvar optionalGroup = (content) => `${group(content)}?`;\nvar nonCapturingGroup = (content) => optionalGroup(`?:${content}`);\nvar formatRegEx = (() => {\n  const fill = \".\";\n  const align = \"[<>=^]\";\n  const sign = \"[+\\\\-( ]\";\n  const symbol = \"[$\\u20AC\\xA3\\xA5\\u20A3\\u20B9#]\";\n  const zero = \"0\";\n  const width = \"\\\\d+\";\n  const comma = \",\";\n  const precision = \"\\\\d+\";\n  const tilde = \"~\";\n  const type = \"[%a-z]\";\n  return new RegExp(\n    [\n      \"^\",\n      nonCapturingGroup(`${optionalGroup(fill)}${group(align)}`),\n      optionalGroup(sign),\n      optionalGroup(symbol),\n      optionalGroup(zero),\n      optionalGroup(width),\n      optionalGroup(comma),\n      nonCapturingGroup(`\\\\.${group(precision)}`),\n      optionalGroup(tilde),\n      optionalGroup(type),\n      \"$\"\n    ].join(\"\"),\n    \"i\"\n  );\n})();\nvar surroundedRegEx = (() => {\n  const prefix = \".*?\";\n  const content = \".+?\";\n  const suffix = \".*?\";\n  return new RegExp([\"^\", group(prefix), `#\\\\{${group(content)}\\\\}`, group(suffix), \"$\"].join(\"\"));\n})();\nfunction parseFormatter(formatter) {\n  let prefix;\n  let suffix;\n  const surrounded = surroundedRegEx.exec(formatter);\n  if (surrounded) {\n    [, prefix, formatter, suffix] = surrounded;\n  }\n  const match = formatRegEx.exec(formatter);\n  if (!match) {\n    throw new Error(`The number formatter is invalid: ${formatter}`);\n  }\n  const [, fill, align, sign, symbol, zero, width, comma, precision, trim, type] = match;\n  return {\n    fill,\n    align,\n    sign,\n    symbol,\n    zero,\n    width: parseInt(width),\n    comma,\n    precision: parseInt(precision),\n    trim: Boolean(trim),\n    type,\n    prefix,\n    suffix\n  };\n}\nfunction format(formatter) {\n  const options = typeof formatter === \"string\" ? parseFormatter(formatter) : formatter;\n  const { fill, align, sign = \"-\", symbol, zero, width, comma, type, prefix = \"\", suffix = \"\", precision } = options;\n  let { trim } = options;\n  const precisionIsNaN = precision === void 0 || isNaN(precision);\n  let formatBody;\n  if (!type) {\n    formatBody = decimalTypes[\"g\"];\n    trim = true;\n  } else if (type in decimalTypes && type in integerTypes) {\n    formatBody = precisionIsNaN ? integerTypes[type] : decimalTypes[type];\n  } else if (type in decimalTypes) {\n    formatBody = decimalTypes[type];\n  } else if (type in integerTypes) {\n    formatBody = integerTypes[type];\n  } else {\n    throw new Error(`The number formatter type is invalid: ${type}`);\n  }\n  let formatterPrecision;\n  if (precision == null || precisionIsNaN) {\n    formatterPrecision = type ? 6 : 12;\n  } else {\n    formatterPrecision = precision;\n  }\n  return (n) => {\n    let result = formatBody(n, formatterPrecision);\n    if (trim) {\n      result = removeTrailingZeros(result);\n    }\n    if (comma) {\n      result = insertSeparator(result, comma);\n    }\n    result = addSign(n, result, sign);\n    if (symbol && symbol !== \"#\") {\n      result = `${symbol}${result}`;\n    }\n    if (symbol === \"#\" && type === \"x\") {\n      result = `0x${result}`;\n    }\n    if (type === \"s\") {\n      result = `${result}${getSIPrefix(n)}`;\n    }\n    if (type === \"%\" || type === \"p\") {\n      result = `${result}%`;\n    }\n    if (width != null && !isNaN(width)) {\n      result = addPadding(result, width, fill != null ? fill : zero, align);\n    }\n    result = `${prefix}${result}${suffix}`;\n    return result;\n  };\n}\nvar absFloor = (n) => Math.floor(Math.abs(n));\nvar integerTypes = {\n  b: (n) => absFloor(n).toString(2),\n  c: (n) => String.fromCharCode(n),\n  d: (n) => Math.round(Math.abs(n)).toFixed(0),\n  o: (n) => absFloor(n).toString(8),\n  x: (n) => absFloor(n).toString(16),\n  X: (n) => integerTypes.x(n).toUpperCase(),\n  n: (n) => integerTypes.d(n),\n  \"%\": (n) => `${absFloor(n * 100).toFixed(0)}`\n};\nvar decimalTypes = {\n  e: (n, f) => Math.abs(n).toExponential(f),\n  E: (n, f) => decimalTypes.e(n, f).toUpperCase(),\n  f: (n, f) => Math.abs(n).toFixed(f),\n  F: (n, f) => decimalTypes.f(n, f).toUpperCase(),\n  g: (n, f) => {\n    if (n === 0) {\n      return \"0\";\n    }\n    const a = Math.abs(n);\n    const p = Math.floor(Math.log10(a));\n    if (p >= -4 && p < f) {\n      return a.toFixed(f - 1 - p);\n    }\n    return a.toExponential(f - 1);\n  },\n  G: (n, f) => decimalTypes.g(n, f).toUpperCase(),\n  n: (n, f) => decimalTypes.g(n, f),\n  p: (n, f) => decimalTypes.r(n * 100, f),\n  r: (n, f) => {\n    if (n === 0) {\n      return \"0\";\n    }\n    const a = Math.abs(n);\n    const p = Math.floor(Math.log10(a));\n    const q = p - (f - 1);\n    if (q <= 0) {\n      return a.toFixed(-q);\n    }\n    const x = Math.pow(10, q);\n    return (Math.round(a / x) * x).toFixed();\n  },\n  s: (n, f) => {\n    const p = getSIPrefixPower(n);\n    return decimalTypes.r(n / Math.pow(10, p), f);\n  },\n  \"%\": (n, f) => decimalTypes.f(n * 100, f)\n};\nfunction removeTrailingZeros(numString) {\n  return numString.replace(/\\.0+$/, \"\").replace(/(\\.[1-9])0+$/, \"$1\");\n}\nfunction insertSeparator(numString, separator) {\n  let dotIndex = numString.indexOf(\".\");\n  if (dotIndex < 0) {\n    dotIndex = numString.length;\n  }\n  const integerChars = numString.substring(0, dotIndex).split(\"\");\n  const fractionalPart = numString.substring(dotIndex);\n  for (let i = integerChars.length - 3; i > 0; i -= 3) {\n    integerChars.splice(i, 0, separator);\n  }\n  return `${integerChars.join(\"\")}${fractionalPart}`;\n}\nfunction getSIPrefix(n) {\n  return siPrefixes[getSIPrefixPower(n)];\n}\nfunction getSIPrefixPower(n) {\n  return clamp(minSIPrefix, n ? Math.floor(Math.log10(Math.abs(n)) / 3) * 3 : 0, maxSIPrefix);\n}\nvar minSIPrefix = -24;\nvar maxSIPrefix = 24;\nvar siPrefixes = {\n  [minSIPrefix]: \"y\",\n  [-21]: \"z\",\n  [-18]: \"a\",\n  [-15]: \"f\",\n  [-12]: \"p\",\n  [-9]: \"n\",\n  [-6]: \"\\xB5\",\n  [-3]: \"m\",\n  [0]: \"\",\n  [3]: \"k\",\n  [6]: \"M\",\n  [9]: \"G\",\n  [12]: \"T\",\n  [15]: \"P\",\n  [18]: \"E\",\n  [21]: \"Z\",\n  [maxSIPrefix]: \"Y\"\n};\nvar minusSign = \"\\u2212\";\nfunction addSign(num, numString, signType = \"\") {\n  if (signType === \"(\") {\n    return num >= 0 ? numString : `(${numString})`;\n  }\n  const plusSign = signType === \"+\" ? \"+\" : \"\";\n  return `${num >= 0 ? plusSign : minusSign}${numString}`;\n}\nfunction addPadding(numString, width, fill = \" \", align = \">\") {\n  let result = numString;\n  if (align === \">\" || !align) {\n    result = result.padStart(width, fill);\n  } else if (align === \"<\") {\n    result = result.padEnd(width, fill);\n  } else if (align === \"^\") {\n    const padWidth = Math.max(0, width - result.length);\n    const padLeft = Math.ceil(padWidth / 2);\n    const padRight = Math.floor(padWidth / 2);\n    result = result.padStart(padLeft + result.length, fill);\n    result = result.padEnd(padRight + result.length, fill);\n  }\n  return result;\n}\nfunction tickFormat(ticks, formatter) {\n  const options = parseFormatter(formatter != null ? formatter : \",f\");\n  const { precision } = options;\n  if (precision == null || isNaN(precision)) {\n    if (options.type === \"f\" || options.type === \"%\") {\n      options.precision = Math.max(\n        ...ticks.map((x) => {\n          if (typeof x !== \"number\" || x === 0) {\n            return 0;\n          }\n          const l = Math.floor(Math.log10(Math.abs(x)));\n          const digits = options.type ? 6 : 12;\n          const exp = x.toExponential(digits - 1).replace(/\\.?0+e/, \"e\");\n          const dotIndex = exp.indexOf(\".\");\n          if (dotIndex < 0) {\n            return l >= 0 ? 0 : -l;\n          }\n          const s = exp.indexOf(\"e\") - dotIndex;\n          return Math.max(0, s - l - 1);\n        })\n      );\n    } else if (!options.type || options.type in decimalTypes) {\n      options.precision = Math.max(\n        ...ticks.map((x) => {\n          if (typeof x !== \"number\") {\n            return 0;\n          }\n          const exp = x.toExponential((options.type ? 6 : 12) - 1).replace(/\\.?0+e/, \"e\");\n          return exp.substring(0, exp.indexOf(\"e\")).replace(\".\", \"\").length;\n        })\n      );\n    }\n  }\n  const f = format(options);\n  return (n) => f(Number(n));\n}\n\n// packages/ag-charts-community/src/scale/logScale.ts\nvar _LogScale = class _LogScale extends ContinuousScale {\n  constructor() {\n    super([1, 10], [0, 1]);\n    this.type = \"log\";\n    this.base = 10;\n    this.baseLog = identity;\n    this.basePow = identity;\n    this.log = (x) => {\n      const start = Math.min(...this.domain);\n      return start >= 0 ? this.baseLog(x) : -this.baseLog(-x);\n    };\n    this.pow = (x) => {\n      const start = Math.min(...this.domain);\n      return start >= 0 ? this.basePow(x) : -this.basePow(-x);\n    };\n    this.defaultClampMode = \"clamped\";\n  }\n  toDomain(d) {\n    return d;\n  }\n  transform(x) {\n    const start = Math.min(...this.domain);\n    return start >= 0 ? Math.log(x) : -Math.log(-x);\n  }\n  transformInvert(x) {\n    const start = Math.min(...this.domain);\n    return start >= 0 ? Math.exp(x) : -Math.exp(-x);\n  }\n  refresh() {\n    if (this.base <= 0) {\n      this.base = 0;\n      Logger.warnOnce(\"expecting a finite Number greater than to 0\");\n    }\n    super.refresh();\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    this.baseLog = _LogScale.getBaseLogMethod(this.base);\n    this.basePow = _LogScale.getBasePowerMethod(this.base);\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  updateNiceDomain() {\n    const [d0, d1] = this.domain;\n    const roundStart = d0 > d1 ? Math.ceil : Math.floor;\n    const roundStop = d0 > d1 ? Math.floor : Math.ceil;\n    const n0 = this.pow(roundStart(this.log(d0)));\n    const n1 = this.pow(roundStop(this.log(d1)));\n    this.niceDomain = [n0, n1];\n  }\n  ticks() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : 10;\n    if (!this.domain || this.domain.length < 2 || count < 1) {\n      return [];\n    }\n    this.refresh();\n    const base = this.base;\n    const [d0, d1] = this.getDomain();\n    const start = Math.min(d0, d1);\n    const stop = Math.max(d0, d1);\n    let p0 = this.log(start);\n    let p1 = this.log(stop);\n    if (this.interval) {\n      const step = Math.abs(this.interval);\n      const absDiff = Math.abs(p1 - p0);\n      let ticks2 = range(p0, p1, Math.min(absDiff, step));\n      ticks2 = createNumericTicks(\n        ticks2.fractionDigits,\n        ticks2.map((x) => this.pow(x)).filter((t) => t >= start && t <= stop)\n      );\n      const availableRange = this.getPixelRange();\n      if (!isDenseInterval({ start, stop, interval: step, count: ticks2.length, availableRange })) {\n        return ticks2;\n      }\n    }\n    const isBaseInteger = base % 1 === 0;\n    const isDiffLarge = p1 - p0 >= count;\n    if (!isBaseInteger || isDiffLarge) {\n      let ticks2 = ticks_default(p0, p1, Math.min(p1 - p0, count));\n      ticks2 = createNumericTicks(\n        ticks2.fractionDigits,\n        ticks2.map((x) => this.pow(x))\n      );\n      return ticks2;\n    }\n    const ticks = [];\n    const isPositive = start > 0;\n    p0 = Math.floor(p0) - 1;\n    p1 = Math.round(p1) + 1;\n    const availableSpacing = findRangeExtent(this.range) / count;\n    let lastTickPosition = Infinity;\n    for (let p = p0; p <= p1; p++) {\n      const nextMagnitudeTickPosition = this.convert(this.pow(p + 1));\n      for (let k = 1; k < base; k++) {\n        const q = isPositive ? k : base - k + 1;\n        const t = this.pow(p) * q;\n        const tickPosition = this.convert(t);\n        const prevSpacing = Math.abs(lastTickPosition - tickPosition);\n        const nextSpacing = Math.abs(tickPosition - nextMagnitudeTickPosition);\n        const fits = prevSpacing >= availableSpacing && nextSpacing >= availableSpacing;\n        if (t >= start && t <= stop && (k === 1 || fits || ticks.length === 0)) {\n          ticks.push(t);\n          lastTickPosition = tickPosition;\n        }\n      }\n    }\n    return ticks;\n  }\n  tickFormat({\n    count,\n    ticks,\n    specifier\n  }) {\n    if (count !== Infinity && ticks == null) {\n      this.ticks();\n    }\n    specifier != null ? specifier : specifier = this.base === 10 ? \".0e\" : \",\";\n    return isString(specifier) ? format(specifier) : specifier;\n  }\n  static getBaseLogMethod(base) {\n    switch (base) {\n      case 10:\n        return Math.log10;\n      case Math.E:\n        return Math.log;\n      case 2:\n        return Math.log2;\n      default:\n        const logBase = Math.log(base);\n        return (x) => Math.log(x) / logBase;\n    }\n  }\n  static getBasePowerMethod(base) {\n    switch (base) {\n      case 10:\n        return (x) => x >= 0 ? __pow(10, x) : 1 / __pow(10, -x);\n      case Math.E:\n        return Math.exp;\n      default:\n        return (x) => __pow(base, x);\n    }\n  }\n};\n__decorateClass([\n  Invalidating\n], _LogScale.prototype, \"base\", 2);\nvar LogScale = _LogScale;\n\n// packages/ag-charts-community/src/scene/selection.ts\nvar Selection = class _Selection {\n  constructor(parentNode, classOrFactory, autoCleanup = true) {\n    this.parentNode = parentNode;\n    this.autoCleanup = autoCleanup;\n    this.garbageBin = /* @__PURE__ */ new Set();\n    this._nodesMap = /* @__PURE__ */ new Map();\n    this._nodes = [];\n    this.data = [];\n    this.debug = Debug.create(true, \"scene\", \"scene:selections\");\n    this.nodeFactory = Object.prototype.isPrototypeOf.call(Node, classOrFactory) ? () => new classOrFactory() : classOrFactory;\n  }\n  static select(parent, classOrFactory, garbageCollection = true) {\n    return new _Selection(parent, classOrFactory, garbageCollection);\n  }\n  static selectAll(parent, predicate) {\n    const results = [];\n    const traverse = (node) => {\n      if (predicate(node)) {\n        results.push(node);\n      }\n      node.children.forEach(traverse);\n    };\n    traverse(parent);\n    return results;\n  }\n  static selectByClass(node, Class, ...ExtraClasses) {\n    return _Selection.selectAll(node, (n) => {\n      return n instanceof Class || ExtraClasses.some((C) => n instanceof C);\n    });\n  }\n  static selectByTag(node, tag) {\n    return _Selection.selectAll(node, (n) => n.tag === tag);\n  }\n  createNode(datum, initializer, idx) {\n    const node = this.nodeFactory(datum);\n    node.datum = datum;\n    initializer == null ? void 0 : initializer(node);\n    if (idx == null) {\n      this._nodes.push(node);\n    } else {\n      this._nodes.splice(idx, 0, node);\n    }\n    this.parentNode.appendChild(node);\n    return node;\n  }\n  /**\n   * Update the data in a selection. If an `getDatumId()` function is provided, maintain a list of ids related to\n   * the nodes. Otherwise, take the more efficient route of simply creating and destroying nodes at the end\n   * of the array.\n   */\n  update(data, initializer, getDatumId) {\n    if (this.garbageBin.size > 0) {\n      this.debug(`Selection - update() called with pending garbage: ${data}`);\n    }\n    if (getDatumId) {\n      const dataMap = new Map(\n        data.map((datum, idx) => [getDatumId(datum), [datum, idx]])\n      );\n      for (const [node, datumId] of this._nodesMap.entries()) {\n        if (dataMap.has(datumId)) {\n          const [newDatum] = dataMap.get(datumId);\n          node.datum = newDatum;\n          this.garbageBin.delete(node);\n          dataMap.delete(datumId);\n        } else {\n          this.garbageBin.add(node);\n        }\n      }\n      for (const [datumId, [datum, idx]] of dataMap.entries()) {\n        this._nodesMap.set(this.createNode(datum, initializer, idx), datumId);\n      }\n    } else {\n      const maxLength = Math.max(data.length, this.data.length);\n      for (let i = 0; i < maxLength; i++) {\n        if (i >= data.length) {\n          this.garbageBin.add(this._nodes[i]);\n        } else if (i >= this._nodes.length) {\n          this.createNode(data[i], initializer);\n        } else {\n          this._nodes[i].datum = data[i];\n          this.garbageBin.delete(this._nodes[i]);\n        }\n      }\n    }\n    this.data = data.slice();\n    if (this.autoCleanup) {\n      this.cleanup();\n    }\n    return this;\n  }\n  cleanup() {\n    if (this.garbageBin.size === 0) {\n      return this;\n    }\n    this._nodes = this._nodes.filter((node) => {\n      if (this.garbageBin.has(node)) {\n        this._nodesMap.delete(node);\n        this.garbageBin.delete(node);\n        this.parentNode.removeChild(node);\n        return false;\n      }\n      return true;\n    });\n    return this;\n  }\n  clear() {\n    this.update([]);\n    return this;\n  }\n  isGarbage(node) {\n    return this.garbageBin.has(node);\n  }\n  hasGarbage() {\n    return this.garbageBin.size > 0;\n  }\n  each(iterate2) {\n    for (const entry of this._nodes.entries()) {\n      iterate2(entry[1], entry[1].datum, entry[0]);\n    }\n    return this;\n  }\n  *[Symbol.iterator]() {\n    for (let index = 0; index < this._nodes.length; index++) {\n      const node = this._nodes[index];\n      const datum = this._nodes[index].datum;\n      yield { node, datum, index };\n    }\n  }\n  select(predicate) {\n    return _Selection.selectAll(this.parentNode, predicate);\n  }\n  selectByClass(Class) {\n    return _Selection.selectByClass(this.parentNode, Class);\n  }\n  selectByTag(tag) {\n    return _Selection.selectByTag(this.parentNode, tag);\n  }\n  nodes() {\n    return this._nodes;\n  }\n};\n\n// packages/ag-charts-community/src/util/distance.ts\nfunction pointsDistanceSquared(x1, y1, x2, y2) {\n  const dx = x1 - x2;\n  const dy = y1 - y2;\n  return dx * dx + dy * dy;\n}\nfunction lineDistanceSquared(x, y, x1, y1, x2, y2, best) {\n  if (x1 === x2 && y1 === y2) {\n    return Math.min(best, pointsDistanceSquared(x, y, x1, y1));\n  }\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const t = Math.max(0, Math.min(1, ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy)));\n  const ix = x1 + t * dx;\n  const iy = y1 + t * dy;\n  return Math.min(best, pointsDistanceSquared(x, y, ix, iy));\n}\nfunction arcDistanceSquared(x, y, cx, cy, radius, startAngle, endAngle, counterClockwise, best) {\n  if (counterClockwise) {\n    [endAngle, startAngle] = [startAngle, endAngle];\n  }\n  const angle = Math.atan2(y - cy, x - cx);\n  if (!isBetweenAngles(angle, startAngle, endAngle)) {\n    const startX = cx + Math.cos(startAngle) * radius;\n    const startY = cy + Math.sin(startAngle) * radius;\n    const endX = cx + Math.cos(startAngle) * radius;\n    const endY = cy + Math.sin(startAngle) * radius;\n    return Math.min(best, pointsDistanceSquared(x, y, startX, startY), pointsDistanceSquared(x, y, endX, endY));\n  }\n  const distToArc = radius - Math.sqrt(pointsDistanceSquared(x, y, cx, cy));\n  return Math.min(best, distToArc * distToArc);\n}\n\n// packages/ag-charts-community/src/scene/shape/line.ts\nvar Line = class extends Shape {\n  constructor(opts = {}) {\n    super(opts);\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.restoreOwnStyles();\n  }\n  set x(value) {\n    this.x1 = value;\n    this.x2 = value;\n  }\n  set y(value) {\n    this.y1 = value;\n    this.y2 = value;\n  }\n  computeBBox() {\n    return new BBox(\n      Math.min(this.x1, this.x2),\n      Math.min(this.y1, this.y2),\n      Math.abs(this.x2 - this.x1),\n      Math.abs(this.y2 - this.y1)\n    );\n  }\n  isPointInPath(px, py) {\n    if (this.x1 === this.x2 || this.y1 === this.y2) {\n      const { x, y } = this.transformPoint(px, py);\n      return this.computeBBox().grow(this.strokeWidth / 2).containsPoint(x, y);\n    }\n    return false;\n  }\n  distanceSquared(px, py) {\n    const { x1, y1, x2, y2 } = this;\n    return lineDistanceSquared(px, py, x1, y1, x2, y2, Infinity);\n  }\n  render(renderCtx) {\n    var _a;\n    const { ctx, forceRender, stats, devicePixelRatio } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    let { x1, y1, x2, y2 } = this;\n    if (x1 === x2) {\n      const { strokeWidth } = this;\n      const x = Math.round(x1 * devicePixelRatio) / devicePixelRatio + Math.trunc(strokeWidth * devicePixelRatio) % 2 / (devicePixelRatio * 2);\n      x1 = x;\n      x2 = x;\n    } else if (y1 === y2) {\n      const { strokeWidth } = this;\n      const y = Math.round(y1 * devicePixelRatio) / devicePixelRatio + Math.trunc(strokeWidth * devicePixelRatio) % 2 / (devicePixelRatio * 2);\n      y1 = y;\n      y2 = y;\n    }\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    this.fillStroke(ctx);\n    (_a = this.fillShadow) == null ? void 0 : _a.markClean();\n    super.render(renderCtx);\n  }\n};\nLine.className = \"Line\";\nLine.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  fill: void 0,\n  strokeWidth: 1\n});\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Line.prototype, \"x1\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Line.prototype, \"y1\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Line.prototype, \"x2\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Line.prototype, \"y2\", 2);\n\n// packages/ag-charts-community/src/scene/util/labelPlacement.ts\nfunction circleRectOverlap(c, unitCenter, x, y, w, h) {\n  if (c.size === 0)\n    return false;\n  let cx = c.x;\n  let cy = c.y;\n  if (unitCenter != null) {\n    cx -= (unitCenter.x - 0.5) * c.size;\n    cy -= (unitCenter.y - 0.5) * c.size;\n  }\n  let edgeX = cx;\n  if (cx < x) {\n    edgeX = x;\n  } else if (cx > x + w) {\n    edgeX = x + w;\n  }\n  let edgeY = cy;\n  if (cy < y) {\n    edgeY = y;\n  } else if (cy > y + h) {\n    edgeY = y + h;\n  }\n  const dx = cx - edgeX;\n  const dy = cy - edgeY;\n  const d = Math.sqrt(dx * dx + dy * dy);\n  return d <= c.size * 0.5;\n}\nfunction rectRectOverlap(r1, x2, y2, w2, h2) {\n  const xOverlap = r1.x + r1.width > x2 && r1.x < x2 + w2;\n  const yOverlap = r1.y + r1.height > y2 && r1.y < y2 + h2;\n  return xOverlap && yOverlap;\n}\nfunction rectContainsRect(r1, r2x, r2y, r2w, r2h) {\n  return r2x + r2w < r1.x + r1.width && r2x > r1.x && r2y > r1.y && r2y + r2h < r1.y + r1.height;\n}\nfunction isPointLabelDatum(x) {\n  return x != null && typeof x.point === \"object\" && typeof x.label === \"object\";\n}\nvar labelPlacements = {\n  top: { x: 0, y: -1 },\n  bottom: { x: 0, y: 1 },\n  left: { x: -1, y: 0 },\n  right: { x: 1, y: 0 }\n};\nfunction placeLabels(data, bounds, padding = 5) {\n  var _a, _b;\n  const result = [];\n  data = data.map((d) => d.slice().sort((a, b) => b.point.size - a.point.size));\n  for (let j = 0; j < data.length; j++) {\n    const labels = result[j] = [];\n    const datum = data[j];\n    if (!((datum == null ? void 0 : datum.length) && datum[0].label)) {\n      continue;\n    }\n    for (let i = 0, ln = datum.length; i < ln; i++) {\n      const d = datum[i];\n      const { point, label, marker } = d;\n      const { text, width, height } = label;\n      const r = point.size * 0.5;\n      let dx = 0;\n      let dy = 0;\n      if (r > 0 && d.placement != null) {\n        const placement = labelPlacements[d.placement];\n        dx = (width * 0.5 + r + padding) * placement.x;\n        dy = (height * 0.5 + r + padding) * placement.y;\n      }\n      const x = point.x - width * 0.5 + dx - (((_a = marker == null ? void 0 : marker.center.x) != null ? _a : 0.5) - 0.5) * point.size;\n      const y = point.y - height * 0.5 + dy - (((_b = marker == null ? void 0 : marker.center.y) != null ? _b : 0.5) - 0.5) * point.size;\n      const withinBounds = !bounds || rectContainsRect(bounds, x, y, width, height);\n      if (!withinBounds) {\n        continue;\n      }\n      const overlapPoints = data.some(\n        (dataDatums) => dataDatums.some(\n          (dataDatum) => {\n            var _a2;\n            return circleRectOverlap(dataDatum.point, (_a2 = dataDatum.marker) == null ? void 0 : _a2.center, x, y, width, height);\n          }\n        )\n      );\n      if (overlapPoints) {\n        continue;\n      }\n      const overlapLabels = result.some((l2) => l2.some((l3) => rectRectOverlap(l3, x, y, width, height)));\n      if (overlapLabels) {\n        continue;\n      }\n      labels.push({\n        index: i,\n        text,\n        x,\n        y,\n        width,\n        height,\n        datum: d\n      });\n    }\n  }\n  return result;\n}\nfunction axisLabelsOverlap(data, padding) {\n  const result = [];\n  for (let i = 0; i < data.length; i++) {\n    const datum = data[i];\n    const {\n      point: { x, y },\n      label: { text }\n    } = datum;\n    let {\n      label: { width, height }\n    } = datum;\n    width += padding != null ? padding : 0;\n    height += padding != null ? padding : 0;\n    const overlapLabels = result.some((l) => {\n      return rectRectOverlap(l, x, y, width, height);\n    });\n    if (overlapLabels) {\n      return true;\n    }\n    result.push({\n      index: i,\n      text,\n      x,\n      y,\n      width,\n      height,\n      datum\n    });\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/util/equal.ts\nfunction areArrayItemsStrictlyEqual(arrA, arrB) {\n  return arrA.length === arrB.length && arrA.every((a, i) => {\n    const b = arrB[i];\n    if (Array.isArray(a) && Array.isArray(b)) {\n      return areArrayItemsStrictlyEqual(a, b);\n    }\n    return a === b;\n  });\n}\nfunction areArrayNumbersEqual(arrA, arrB) {\n  return arrA.length === arrB.length && arrA.every((item, i) => Number(item) === Number(arrB[i]));\n}\n\n// packages/ag-charts-community/src/util/proxy.ts\nfunction ProxyProperty(proxyPath) {\n  const pathArray = isArray(proxyPath) ? proxyPath : proxyPath.split(\".\");\n  if (pathArray.length === 1) {\n    const [property] = pathArray;\n    return addTransformToInstanceProperty(\n      (target, _, value) => target[property] = value,\n      (target) => target[property]\n    );\n  }\n  return addTransformToInstanceProperty(\n    (target, _, value) => setPath(target, pathArray, value),\n    (target) => getPath(target, pathArray)\n  );\n}\nfunction ProxyOnWrite(proxyProperty) {\n  return addTransformToInstanceProperty((target, _, value) => target[proxyProperty] = value);\n}\nfunction ProxyPropertyOnWrite(childName, childProperty) {\n  return addTransformToInstanceProperty((target, key, value) => target[childName][childProperty != null ? childProperty : key] = value);\n}\nfunction ActionOnSet(opts) {\n  const { newValue: newValueFn, oldValue: oldValueFn, changeValue: changeValueFn } = opts;\n  return addTransformToInstanceProperty((target, _, newValue, oldValue) => {\n    if (newValue !== oldValue) {\n      if (oldValue !== void 0) {\n        oldValueFn == null ? void 0 : oldValueFn.call(target, oldValue);\n      }\n      if (newValue !== void 0) {\n        newValueFn == null ? void 0 : newValueFn.call(target, newValue);\n      }\n      changeValueFn == null ? void 0 : changeValueFn.call(target, newValue, oldValue);\n    }\n    return newValue;\n  });\n}\nfunction ObserveChanges(observerFn) {\n  return addObserverToInstanceProperty(observerFn);\n}\n\n// packages/ag-charts-community/src/util/attributeUtil.ts\nfunction setAttribute(e, qualifiedName, value) {\n  if (value === void 0 || value === \"\") {\n    e == null ? void 0 : e.removeAttribute(qualifiedName);\n  } else {\n    e == null ? void 0 : e.setAttribute(qualifiedName, value.toString());\n  }\n}\n\n// packages/ag-charts-community/src/util/placement.ts\nfunction calculatePlacement(naturalWidth, naturalHeight, containerWidth, containerHeight, bounds) {\n  let { top, right, bottom, left, width, height } = bounds;\n  if (left != null) {\n    if (width != null) {\n      right = containerWidth - left + width;\n    } else if (right != null) {\n      width = containerWidth - left - right;\n    }\n  } else if (right != null && width != null) {\n    left = containerWidth - right - width;\n  }\n  if (top != null) {\n    if (height != null) {\n      bottom = containerHeight - top - height;\n    } else if (bottom != null) {\n      height = containerHeight - bottom - top;\n    }\n  } else if (bottom != null && height != null) {\n    top = containerHeight - bottom - height;\n  }\n  if (width == null) {\n    if (height == null) {\n      width = naturalWidth;\n      height = naturalHeight;\n    } else {\n      width = Math.ceil(naturalWidth * height / naturalHeight);\n    }\n  } else if (height == null) {\n    height = Math.ceil(naturalHeight * width / naturalWidth);\n  }\n  if (left == null) {\n    if (right == null) {\n      left = Math.floor((containerWidth - width) / 2);\n    } else {\n      left = containerWidth - right - width;\n    }\n  }\n  if (top == null) {\n    if (bottom == null) {\n      top = Math.floor((containerHeight - height) / 2);\n    } else {\n      top = containerHeight - height - bottom;\n    }\n  }\n  return { x: left, y: top, width, height };\n}\n\n// packages/ag-charts-community/src/chart/tooltip/tooltip.ts\nvar DEFAULT_TOOLTIP_CLASS = \"ag-chart-tooltip\";\nvar DEFAULT_TOOLTIP_DARK_CLASS = \"ag-chart-dark-tooltip\";\nvar EMPTY_TOOLTIP_CONTENT = { html: \"\", ariaLabel: \"\" };\nfunction toAccessibleText(inputHtml) {\n  const lineConverter = (_match, offset4, str) => {\n    if (offset4 === 0 || str[offset4 - 1] !== \".\") {\n      return \". \";\n    }\n    return \" \";\n  };\n  return inputHtml.replace(/<br\\s*\\/?>/g, lineConverter).replace(/<\\/p\\s+>/g, lineConverter).replace(/<\\/li\\s*\\/>/g, lineConverter).replace(/<[^>]+>/g, \"\");\n}\nfunction toTooltipHtml(input, defaults) {\n  var _a, _b, _c;\n  if (typeof input === \"string\") {\n    return { html: input, ariaLabel: input };\n  }\n  const {\n    content = (_a = defaults == null ? void 0 : defaults.content) != null ? _a : \"\",\n    title = defaults == null ? void 0 : defaults.title,\n    color = (_b = defaults == null ? void 0 : defaults.color) != null ? _b : \"white\",\n    backgroundColor = (_c = defaults == null ? void 0 : defaults.backgroundColor) != null ? _c : \"#888\"\n  } = input;\n  const titleHtml = title ? `<div class=\"${DEFAULT_TOOLTIP_CLASS}-title\"\n        style=\"color: ${color}; background-color: ${backgroundColor}\">${title}</div>` : \"\";\n  const titleAria = title ? `${title}: ` : \"\";\n  const contentHtml = content ? `<div class=\"${DEFAULT_TOOLTIP_CLASS}-content\">${content}</div>` : \"\";\n  return {\n    html: `${titleHtml}${contentHtml}`,\n    ariaLabel: toAccessibleText(`${titleAria}${content}`)\n  };\n}\nvar TooltipPosition = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    /** The type of positioning for the tooltip. By default, the tooltip follows the pointer. */\n    this.type = \"pointer\";\n    /** The horizontal offset in pixels for the position of the tooltip. */\n    this.xOffset = 0;\n    /** The vertical offset in pixels for the position of the tooltip. */\n    this.yOffset = 0;\n  }\n};\n__decorateClass([\n  Validate(\n    UNION(\n      [\n        \"pointer\",\n        \"node\",\n        \"top\",\n        \"right\",\n        \"bottom\",\n        \"left\",\n        \"top-left\",\n        \"top-right\",\n        \"bottom-right\",\n        \"bottom-left\"\n      ],\n      \"a position type\"\n    )\n  )\n], TooltipPosition.prototype, \"type\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], TooltipPosition.prototype, \"xOffset\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], TooltipPosition.prototype, \"yOffset\", 2);\nvar Tooltip = class extends BaseProperties {\n  constructor() {\n    super();\n    this.enabled = true;\n    this.delay = 0;\n    this.range = \"nearest\";\n    this.wrapping = \"hyphenate\";\n    this.position = new TooltipPosition();\n    this.darkTheme = false;\n    this.enableInteraction = false;\n    this.lastVisibilityChange = Date.now();\n    this.wrapTypes = [\"always\", \"hyphenate\", \"on-space\", \"never\"];\n    this.showTimeout = 0;\n    this._showArrow = true;\n    this.element = createElement(\"div\", DEFAULT_TOOLTIP_CLASS);\n    setAttribute(this.element, \"aria-hidden\", true);\n    this.root = getDocument(\"body\");\n    this.root.appendChild(this.element);\n  }\n  destroy() {\n    this.element.remove();\n  }\n  isVisible() {\n    return !this.element.classList.contains(DEFAULT_TOOLTIP_CLASS + \"-hidden\");\n  }\n  /**\n   * Shows tooltip at the given event's coordinates.\n   * If the `html` parameter is missing, moves the existing tooltip to the new position.\n   */\n  show(canvasRect, meta, content, instantly = false) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const { element: element2 } = this;\n    if (content != null) {\n      element2.innerHTML = content.html;\n    } else if (!element2.innerHTML) {\n      this.toggle(false);\n      return;\n    }\n    const positionType = (_b = (_a = meta.position) == null ? void 0 : _a.type) != null ? _b : this.position.type;\n    const xOffset = (_d = (_c = meta.position) == null ? void 0 : _c.xOffset) != null ? _d : 0;\n    const yOffset = (_f = (_e = meta.position) == null ? void 0 : _e.yOffset) != null ? _f : 0;\n    const tooltipBounds = this.getTooltipBounds({ positionType, meta, yOffset, xOffset, canvasRect });\n    const windowBounds = this.getWindowSize();\n    const position = calculatePlacement(\n      element2.clientWidth,\n      element2.clientHeight,\n      canvasRect.width,\n      canvasRect.height,\n      tooltipBounds\n    );\n    position.x += canvasRect.x;\n    position.y += canvasRect.y;\n    const left = clamp(0, position.x, windowBounds.width - element2.clientWidth - 1);\n    const top = clamp(0, position.y, windowBounds.height - element2.clientHeight);\n    const constrained = left !== position.x || top !== position.y;\n    const defaultShowArrow = (positionType === \"node\" || positionType === \"pointer\") && !constrained && !xOffset && !yOffset;\n    const showArrow = (_h = (_g = meta.showArrow) != null ? _g : this.showArrow) != null ? _h : defaultShowArrow;\n    this.updateShowArrow(showArrow);\n    element2.style.transform = `translate(${Math.round(left)}px, ${Math.round(top)}px)`;\n    this.enableInteraction = (_i = meta.enableInteraction) != null ? _i : false;\n    if (this.delay > 0 && !instantly) {\n      this.toggle(false);\n      this.showTimeout = setTimeout(() => {\n        this.toggle(true);\n      }, this.delay);\n    } else {\n      this.toggle(true);\n    }\n  }\n  getWindowSize() {\n    const { innerWidth, innerHeight } = getWindow();\n    return { width: innerWidth, height: innerHeight };\n  }\n  toggle(visible) {\n    const { classList } = this.element;\n    const toggleClass = (name, include) => classList.toggle(`${DEFAULT_TOOLTIP_CLASS}-${name}`, include);\n    const wasVisible = this.isVisible();\n    let timeSinceLastVisibilityChangeMs = Infinity;\n    if (!visible) {\n      clearTimeout(this.showTimeout);\n    }\n    if (wasVisible !== visible) {\n      const now = Date.now();\n      timeSinceLastVisibilityChangeMs = now - this.lastVisibilityChange;\n      this.lastVisibilityChange = now;\n    }\n    const animatedMoveThresholdMs = 100;\n    const thrashingThresholdMs = 5;\n    const noAnimation = !wasVisible && visible && timeSinceLastVisibilityChangeMs > animatedMoveThresholdMs;\n    if (timeSinceLastVisibilityChangeMs > thrashingThresholdMs) {\n      toggleClass(\"no-animation\", noAnimation);\n    }\n    toggleClass(\"no-interaction\", !this.enableInteraction);\n    toggleClass(\"hidden\", !visible);\n    toggleClass(\"arrow\", this._showArrow);\n    classList.toggle(DEFAULT_TOOLTIP_DARK_CLASS, this.darkTheme);\n    for (const wrapType of this.wrapTypes) {\n      classList.toggle(`${DEFAULT_TOOLTIP_CLASS}-wrap-${wrapType}`, wrapType === this.wrapping);\n    }\n  }\n  pointerLeftOntoTooltip(event) {\n    var _a;\n    if (!this.enableInteraction)\n      return false;\n    const classList = (_a = event.sourceEvent.relatedTarget) == null ? void 0 : _a.classList;\n    const classes = [\"\", \"-title\", \"-content\"];\n    const classListContains = Boolean(classes.filter((c) => classList == null ? void 0 : classList.contains(`${DEFAULT_TOOLTIP_CLASS}${c}`)));\n    return classList !== void 0 && classListContains;\n  }\n  updateShowArrow(show) {\n    this._showArrow = show;\n  }\n  getTooltipBounds({\n    positionType,\n    meta,\n    yOffset,\n    xOffset,\n    canvasRect\n  }) {\n    const { clientWidth: tooltipWidth, clientHeight: tooltipHeight } = this.element;\n    const bounds = { width: tooltipWidth, height: tooltipHeight };\n    switch (positionType) {\n      case \"node\":\n      case \"pointer\": {\n        bounds.top = meta.offsetY + yOffset - tooltipHeight - 8;\n        bounds.left = meta.offsetX + xOffset - tooltipWidth / 2;\n        return bounds;\n      }\n      case \"top\": {\n        bounds.top = yOffset;\n        bounds.left = canvasRect.width / 2 - tooltipWidth / 2 + xOffset;\n        return bounds;\n      }\n      case \"right\": {\n        bounds.top = canvasRect.height / 2 - tooltipHeight / 2 + yOffset;\n        bounds.left = canvasRect.width - tooltipWidth / 2 + xOffset;\n        return bounds;\n      }\n      case \"left\": {\n        bounds.top = canvasRect.height / 2 - tooltipHeight / 2 + yOffset;\n        bounds.left = xOffset;\n        return bounds;\n      }\n      case \"bottom\": {\n        bounds.top = canvasRect.height - tooltipHeight + yOffset;\n        bounds.left = canvasRect.width / 2 - tooltipWidth / 2 + xOffset;\n        return bounds;\n      }\n      case \"top-left\": {\n        bounds.top = yOffset;\n        bounds.left = xOffset;\n        return bounds;\n      }\n      case \"top-right\": {\n        bounds.top = yOffset;\n        bounds.left = canvasRect.width - tooltipWidth + xOffset;\n        return bounds;\n      }\n      case \"bottom-right\": {\n        bounds.top = canvasRect.height - tooltipHeight + yOffset;\n        bounds.left = canvasRect.width - tooltipWidth + xOffset;\n        return bounds;\n      }\n      case \"bottom-left\": {\n        bounds.top = canvasRect.height - tooltipHeight + yOffset;\n        bounds.left = xOffset;\n        return bounds;\n      }\n    }\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], Tooltip.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], Tooltip.prototype, \"showArrow\", 2);\n__decorateClass([\n  ObserveChanges((target, newValue, oldValue) => {\n    if (newValue) {\n      target.element.classList.add(newValue);\n    }\n    if (oldValue) {\n      target.element.classList.remove(oldValue);\n    }\n  }),\n  Validate(STRING, { optional: true })\n], Tooltip.prototype, \"class\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Tooltip.prototype, \"delay\", 2);\n__decorateClass([\n  Validate(INTERACTION_RANGE)\n], Tooltip.prototype, \"range\", 2);\n__decorateClass([\n  Validate(TEXT_WRAP)\n], Tooltip.prototype, \"wrapping\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Tooltip.prototype, \"position\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], Tooltip.prototype, \"darkTheme\", 2);\n\n// packages/ag-charts-community/src/chart/caption.ts\nvar Caption = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.id = createId(this);\n    this.node = new Text({ zIndex: 1 }).setProperties({\n      textAlign: \"center\",\n      pointerEvents: 1 /* None */\n    });\n    this.enabled = false;\n    this.textAlign = \"center\";\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.wrapping = \"always\";\n    this.truncated = false;\n  }\n  getOrAddRegion(moduleCtx, regionName) {\n    if (regionName === \"root\") {\n      return moduleCtx.regionManager.getRegion(\"root\");\n    } else {\n      return moduleCtx.regionManager.addRegionFromProperties({\n        name: regionName,\n        bboxproviders: [this.node],\n        canInteraction: () => this.enabled && this.node.visible\n      });\n    }\n  }\n  registerInteraction(moduleCtx, regionName) {\n    const region = this.getOrAddRegion(moduleCtx, regionName);\n    const destroyFns = [\n      region.addListener(\"hover\", (event) => this.handleMouseMove(moduleCtx, event)),\n      region.addListener(\"leave\", (event) => this.handleMouseLeave(moduleCtx, event))\n    ];\n    return joinFunctions(...destroyFns);\n  }\n  computeTextWrap(containerWidth, containerHeight) {\n    var _a, _b;\n    const { text, wrapping } = this;\n    const maxWidth = Math.min((_a = this.maxWidth) != null ? _a : Infinity, containerWidth);\n    const maxHeight = (_b = this.maxHeight) != null ? _b : containerHeight;\n    if (!isFinite(maxWidth) && !isFinite(maxHeight)) {\n      this.node.text = text;\n      return;\n    }\n    const { text: wrappedText, truncated } = Text.wrap(text != null ? text : \"\", maxWidth, maxHeight, this, wrapping);\n    this.node.text = wrappedText;\n    this.truncated = truncated;\n  }\n  updateTooltip(moduleCtx, event) {\n    if (event !== void 0 && this.enabled && this.node.visible && this.truncated) {\n      const { offsetX, offsetY } = event;\n      moduleCtx.tooltipManager.updateTooltip(\n        this.id,\n        { offsetX, offsetY, lastPointerEvent: event, showArrow: false },\n        toTooltipHtml({ content: this.text })\n      );\n      return true;\n    }\n    return false;\n  }\n  handleMouseMove(moduleCtx, event) {\n    if (this.updateTooltip(moduleCtx, event)) {\n      event.consume();\n    }\n  }\n  handleMouseLeave(moduleCtx, _event) {\n    moduleCtx.tooltipManager.removeTooltip(this.id);\n  }\n};\nCaption.SMALL_PADDING = 10;\nCaption.LARGE_PADDING = 20;\n__decorateClass([\n  Validate(BOOLEAN)\n], Caption.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"text\", 2);\n__decorateClass([\n  Validate(TEXT_ALIGN, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"textAlign\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true }),\n  ProxyPropertyOnWrite(\"node\", \"fill\")\n], Caption.prototype, \"color\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"spacing\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"lineHeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"maxWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"maxHeight\", 2);\n__decorateClass([\n  Validate(TEXT_WRAP)\n], Caption.prototype, \"wrapping\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisGridLine.ts\nvar GRID_STYLE_KEYS = [\"stroke\", \"lineDash\"];\nvar GRID_STYLE = ARRAY_OF(\n  (value) => isObject(value) && Object.keys(value).every((key) => GRID_STYLE_KEYS.includes(key)),\n  \"objects with gridline style properties such as 'stroke' or 'lineDash'\"\n);\nvar AxisGridLine = class {\n  constructor() {\n    this.enabled = true;\n    this.width = 1;\n    this.style = [\n      {\n        stroke: void 0,\n        lineDash: []\n      }\n    ];\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisGridLine.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisGridLine.prototype, \"width\", 2);\n__decorateClass([\n  Validate(GRID_STYLE)\n], AxisGridLine.prototype, \"style\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisLabel.ts\nvar AxisLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.autoWrap = false;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.padding = 5;\n    this.minSpacing = NaN;\n    this.color = \"rgba(87, 87, 87, 1)\";\n    this.avoidCollisions = true;\n    this.mirrored = false;\n    this.parallel = false;\n  }\n  /**\n   * The side of the axis line to position the labels on.\n   * -1 = left (default)\n   * 1 = right\n   */\n  getSideFlag() {\n    return this.mirrored ? 1 : -1;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], AxisLabel.prototype, \"autoWrap\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AxisLabel.prototype, \"maxWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AxisLabel.prototype, \"maxHeight\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], AxisLabel.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], AxisLabel.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(NUMBER.restrict({ min: 1 }))\n], AxisLabel.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], AxisLabel.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisLabel.prototype, \"padding\", 2);\n__decorateClass([\n  Validate(NUMBER_OR_NAN),\n  Default(NaN)\n], AxisLabel.prototype, \"minSpacing\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], AxisLabel.prototype, \"color\", 2);\n__decorateClass([\n  Validate(DEGREE, { optional: true })\n], AxisLabel.prototype, \"rotation\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"avoidCollisions\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"mirrored\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"parallel\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], AxisLabel.prototype, \"formatter\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], AxisLabel.prototype, \"format\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisLine.ts\nvar AxisLine = class {\n  constructor() {\n    this.enabled = true;\n    this.width = 1;\n    this.color = void 0;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisLine.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisLine.prototype, \"width\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], AxisLine.prototype, \"color\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisTitle.ts\nvar AxisTitle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n    this.spacing = Caption.SMALL_PADDING;\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.wrapping = \"always\";\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisTitle.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], AxisTitle.prototype, \"text\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AxisTitle.prototype, \"spacing\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], AxisTitle.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], AxisTitle.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisTitle.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], AxisTitle.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], AxisTitle.prototype, \"color\", 2);\n__decorateClass([\n  Validate(TEXT_WRAP)\n], AxisTitle.prototype, \"wrapping\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], AxisTitle.prototype, \"formatter\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisUtil.ts\nfunction prepareAxisAnimationContext(axis) {\n  const [requestedRangeMin, requestedRangeMax] = findMinMax(axis.range);\n  const min = Math.floor(requestedRangeMin);\n  const max = Math.ceil(requestedRangeMax);\n  return { min, max, visible: min !== max };\n}\nvar fullCircle = Math.PI * 2;\nvar halfCircle = fullCircle / 2;\nfunction normaliseEndRotation(start, end) {\n  const directDistance = Math.abs(end - start);\n  if (directDistance < halfCircle)\n    return end;\n  if (start > end)\n    return end + fullCircle;\n  return end - fullCircle;\n}\nfunction prepareAxisAnimationFunctions(ctx) {\n  const outOfBounds = (y, range3) => {\n    const [min = ctx.min, max = ctx.max] = findMinMax(range3 != null ? range3 : []);\n    return y < min || y > max;\n  };\n  const tick = {\n    fromFn(node, datum, status) {\n      let y = node.y1 + node.translationY;\n      let opacity = node.opacity;\n      if (status === \"added\" || outOfBounds(node.datum.translationY, node.datum.range)) {\n        y = datum.translationY;\n        opacity = 0;\n      }\n      return { y: 0, translationY: y, opacity, phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status] };\n    },\n    toFn(_node, datum, status) {\n      const y = datum.translationY;\n      let opacity = 1;\n      if (status === \"removed\") {\n        opacity = 0;\n      }\n      return {\n        y: 0,\n        translationY: y,\n        opacity,\n        finish: {\n          // Set explicit y after animation so it's pixel aligned\n          y,\n          translationY: 0\n        }\n      };\n    },\n    intermediateFn(node, _datum, _status) {\n      return { visible: !outOfBounds(node.y) };\n    }\n  };\n  const label = {\n    fromFn(node, newDatum, status) {\n      var _a;\n      const datum = (_a = node.previousDatum) != null ? _a : newDatum;\n      const x = datum.x;\n      const y = datum.y;\n      const rotationCenterX = datum.rotationCenterX;\n      let translationY = Math.round(node.translationY);\n      let rotation = datum.rotation;\n      let opacity = node.opacity;\n      if (status === \"removed\" || outOfBounds(datum.y, datum.range)) {\n        rotation = newDatum.rotation;\n      } else if (status === \"added\" || outOfBounds(node.datum.y, node.datum.range)) {\n        translationY = Math.round(datum.translationY);\n        opacity = 0;\n        rotation = newDatum.rotation;\n      }\n      return {\n        x,\n        y,\n        rotationCenterX,\n        translationY,\n        rotation,\n        opacity,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n      };\n    },\n    toFn(node, datum, status) {\n      var _a, _b;\n      const x = datum.x;\n      const y = datum.y;\n      const rotationCenterX = datum.rotationCenterX;\n      const translationY = Math.round(datum.translationY);\n      let rotation = 0;\n      let opacity = 1;\n      if (status === \"added\") {\n        opacity = 1;\n        rotation = datum.rotation;\n      } else if (status === \"removed\") {\n        opacity = 0;\n        rotation = datum.rotation;\n      } else {\n        rotation = normaliseEndRotation((_b = (_a = node.previousDatum) == null ? void 0 : _a.rotation) != null ? _b : datum.rotation, datum.rotation);\n      }\n      return { x, y, rotationCenterX, translationY, rotation, opacity, finish: { rotation: datum.rotation } };\n    }\n  };\n  const line = {\n    fromFn(node, datum) {\n      var _a;\n      return __spreadProps(__spreadValues({}, (_a = node.previousDatum) != null ? _a : datum), {\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"updated\"]\n      });\n    },\n    toFn(_node, datum) {\n      return __spreadValues({}, datum);\n    }\n  };\n  const group2 = {\n    fromFn(node, _datum) {\n      const { rotation, translationX, translationY } = node;\n      return {\n        rotation,\n        translationX,\n        translationY,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"updated\"]\n      };\n    },\n    toFn(_node, datum) {\n      const { rotation, translationX, translationY } = datum;\n      return {\n        rotation,\n        translationX,\n        translationY\n      };\n    }\n  };\n  return { tick, line, label, group: group2 };\n}\nfunction resetAxisGroupFn() {\n  return (_node, datum) => {\n    return {\n      rotation: datum.rotation,\n      rotationCenterX: datum.rotationCenterX,\n      rotationCenterY: datum.rotationCenterY,\n      translationX: datum.translationX,\n      translationY: datum.translationY\n    };\n  };\n}\nfunction resetAxisSelectionFn(ctx) {\n  const { visible: rangeVisible, min, max } = ctx;\n  return (_node, datum) => {\n    const y = datum.translationY;\n    const visible = rangeVisible && y >= min && y <= max;\n    return {\n      y,\n      translationY: 0,\n      opacity: 1,\n      visible\n    };\n  };\n}\nfunction resetAxisLabelSelectionFn() {\n  return (_node, datum) => {\n    return {\n      x: datum.x,\n      y: datum.y,\n      translationY: datum.translationY,\n      rotation: datum.rotation,\n      rotationCenterX: datum.rotationCenterX\n    };\n  };\n}\nfunction resetAxisLineSelectionFn() {\n  return (_node, datum) => {\n    return __spreadValues({}, datum);\n  };\n}\n\n// packages/ag-charts-community/src/chart/axis/axis.ts\nvar _Axis = class _Axis {\n  constructor(moduleCtx, scale2, options) {\n    this.moduleCtx = moduleCtx;\n    this.scale = scale2;\n    this.id = createId(this);\n    this.nice = true;\n    this.reverse = false;\n    this.keys = [];\n    this.dataDomain = { domain: [], clipped: false };\n    this.boundSeries = [];\n    this.includeInvisibleDomains = false;\n    this.interactionEnabled = true;\n    this.axisGroup = new Group({ name: `${this.id}-axis`, zIndex: 2 /* AXIS_ZINDEX */ });\n    this.lineNode = this.axisGroup.appendChild(new Line());\n    this.tickLineGroup = this.axisGroup.appendChild(\n      new Group({ name: `${this.id}-Axis-tick-lines`, zIndex: 2 /* AXIS_ZINDEX */ })\n    );\n    this.tickLabelGroup = this.axisGroup.appendChild(\n      new Group({ name: `${this.id}-Axis-tick-labels`, zIndex: 2 /* AXIS_ZINDEX */ })\n    );\n    this.crossLineGroup = new Group({ name: `${this.id}-CrossLines` });\n    this.gridGroup = new Group({ name: `${this.id}-Axis-grid` });\n    this.gridLineGroup = this.gridGroup.appendChild(\n      new Group({\n        name: `${this.id}-gridLines`,\n        zIndex: 1 /* AXIS_GRID_ZINDEX */\n      })\n    );\n    this.tickLineGroupSelection = Selection.select(this.tickLineGroup, Line, false);\n    this.tickLabelGroupSelection = Selection.select(this.tickLabelGroup, Text, false);\n    this.gridLineGroupSelection = Selection.select(this.gridLineGroup, Line, false);\n    this.line = new AxisLine();\n    this.tick = this.createTick();\n    this.gridLine = new AxisGridLine();\n    this.label = this.createLabel();\n    this.defaultTickMinSpacing = _Axis.defaultTickMinSpacing;\n    this.translation = { x: 0, y: 0 };\n    this.rotation = 0;\n    // axis rotation angle in degrees\n    this.layout = {\n      label: {\n        fractionDigits: 0,\n        padding: this.label.padding,\n        format: this.label.format\n      }\n    };\n    this.destroyFns = [];\n    this.range = [0, 1];\n    this.visibleRange = [0, 1];\n    this.title = new AxisTitle();\n    this._titleCaption = new Caption();\n    this.gridLength = 0;\n    this.fractionDigits = 0;\n    /**\n     * The distance between the grid ticks and the axis ticks.\n     */\n    this.gridPadding = 0;\n    /**\n     * Is used to avoid collisions between axis labels and series.\n     */\n    this.seriesAreaPadding = 0;\n    this.tickGenerationResult = void 0;\n    this.maxThickness = Infinity;\n    this.moduleMap = new ModuleMap();\n    this.refreshScale();\n    this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx, \"root\"));\n    this._titleCaption.node.rotation = -Math.PI / 2;\n    this.axisGroup.appendChild(this._titleCaption.node);\n    this.destroyFns.push(\n      moduleCtx.regionManager.getRegion(\"series\").addListener(\"hover\", (e) => this.checkAxisHover(e))\n    );\n    this.animationManager = moduleCtx.animationManager;\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: () => this.resetSelectionNodes()\n        },\n        reset: \"empty\"\n      },\n      ready: {\n        update: (data) => this.animateReadyUpdate(data),\n        resize: () => this.resetSelectionNodes(),\n        reset: \"empty\"\n      }\n    });\n    this._crossLines = [];\n    this.assignCrossLineArrayConstructor(this._crossLines);\n    let previousSize = void 0;\n    this.destroyFns.push(\n      moduleCtx.layoutService.addListener(\"layout-complete\", (e) => {\n        if (previousSize != null && jsonDiff(e.chart, previousSize) != null) {\n          this.animationState.transition(\"resize\");\n        }\n        previousSize = __spreadValues({}, e.chart);\n      })\n    );\n    if ((options == null ? void 0 : options.respondsToZoom) !== false) {\n      this.destroyFns.push(\n        moduleCtx.updateService.addListener(\"update-complete\", (e) => {\n          this.minRect = e.minRect;\n        })\n      );\n    }\n  }\n  get type() {\n    var _a;\n    return (_a = this.constructor.type) != null ? _a : \"\";\n  }\n  set crossLines(value) {\n    var _a, _b;\n    (_a = this._crossLines) == null ? void 0 : _a.forEach((crossLine) => this.detachCrossLine(crossLine));\n    if (value) {\n      this.assignCrossLineArrayConstructor(value);\n    }\n    this._crossLines = value;\n    (_b = this._crossLines) == null ? void 0 : _b.forEach((crossLine) => {\n      this.attachCrossLine(crossLine);\n      this.initCrossLine(crossLine);\n    });\n  }\n  get crossLines() {\n    return this._crossLines;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    }\n  }\n  attachCrossLine(crossLine) {\n    this.crossLineGroup.appendChild(crossLine.group);\n    this.crossLineGroup.appendChild(crossLine.labelGroup);\n  }\n  detachCrossLine(crossLine) {\n    this.crossLineGroup.removeChild(crossLine.group);\n    this.crossLineGroup.removeChild(crossLine.labelGroup);\n  }\n  destroy() {\n    this.moduleMap.destroy();\n    this.destroyFns.forEach((f) => f());\n  }\n  refreshScale() {\n    var _a;\n    this.range = this.scale.range.slice();\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(this.initCrossLine, this);\n  }\n  updateRange() {\n    var _a;\n    const { range: rr, visibleRange: vr, scale: scale2 } = this;\n    const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n    const shift = span * vr[0];\n    const start = rr[0] - shift;\n    scale2.range = [start, start + span];\n    (_a = this.crossLines) == null ? void 0 : _a.forEach((crossLine) => {\n      crossLine.clippedRange = [rr[0], rr[1]];\n    });\n  }\n  setCrossLinesVisible(visible) {\n    this.crossLineGroup.visible = visible;\n  }\n  attachAxis(axisNode, gridNode) {\n    gridNode.appendChild(this.gridGroup);\n    axisNode.appendChild(this.axisGroup);\n    axisNode.appendChild(this.crossLineGroup);\n  }\n  detachAxis(axisNode, gridNode) {\n    gridNode.removeChild(this.gridGroup);\n    axisNode.removeChild(this.axisGroup);\n    axisNode.removeChild(this.crossLineGroup);\n  }\n  /**\n   * Checks if a point or an object is in range.\n   * @param x A point (or object's starting point).\n   * @param width Object's width.\n   * @param tolerance Expands the range on both ends by this amount.\n   */\n  inRange(x, width = 0, tolerance = 0) {\n    const [min, max] = findMinMax(this.range);\n    return x + width >= min - tolerance && x <= max + tolerance;\n  }\n  onLabelFormatChange(ticks, _domain, format2) {\n    const { scale: scale2, fractionDigits } = this;\n    const logScale = scale2 instanceof LogScale;\n    const defaultLabelFormatter = !logScale && fractionDigits > 0 ? (x) => typeof x === \"number\" ? x.toFixed(fractionDigits) : String(x) : (x) => String(x);\n    if (format2 && scale2 && scale2.tickFormat) {\n      try {\n        this.labelFormatter = scale2.tickFormat({ ticks, specifier: format2 });\n      } catch (e) {\n        this.labelFormatter = defaultLabelFormatter;\n        Logger.warnOnce(`the axis label format string ${format2} is invalid. No formatting will be applied`);\n      }\n    } else {\n      this.labelFormatter = defaultLabelFormatter;\n    }\n  }\n  setTickInterval(interval) {\n    var _a;\n    this.scale.interval = (_a = this.tick.interval) != null ? _a : interval;\n  }\n  setTickCount(count, minTickCount, maxTickCount) {\n    const { scale: scale2 } = this;\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    if (!(count && continuous)) {\n      return;\n    }\n    if (typeof count === \"number\") {\n      scale2.tickCount = count;\n      scale2.minTickCount = minTickCount != null ? minTickCount : 0;\n      scale2.maxTickCount = maxTickCount != null ? maxTickCount : Infinity;\n      return;\n    }\n    if (scale2 instanceof TimeScale) {\n      this.setTickInterval(count);\n    }\n  }\n  onGridLengthChange(value, prevValue) {\n    var _a;\n    if (prevValue && !value || !prevValue && value) {\n      this.onGridVisibilityChange();\n    }\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(this.initCrossLine, this);\n  }\n  onGridVisibilityChange() {\n    this.gridLineGroupSelection.clear();\n  }\n  createLabel() {\n    return new AxisLabel();\n  }\n  checkAxisHover(event) {\n    if (!this.interactionEnabled)\n      return;\n    const bbox = this.computeBBox();\n    const isInAxis = bbox.containsPoint(event.offsetX, event.offsetY);\n    if (!isInAxis)\n      return;\n    this.moduleCtx.chartEventManager.axisHover(this.id, this.direction);\n  }\n  /**\n   * Creates/removes/updates the scene graph nodes that constitute the axis.\n   */\n  update(_primaryTickCount = 0, animated = true) {\n    if (!this.tickGenerationResult) {\n      return;\n    }\n    const { rotation, parallelFlipRotation, regularFlipRotation } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    this.updatePosition();\n    const lineData = this.getAxisLineCoordinates();\n    const { tickData, combinedRotation, textBaseline, textAlign, primaryTickCount } = this.tickGenerationResult;\n    const previousTicks = this.tickLabelGroupSelection.nodes().map((node) => node.datum.tickId);\n    this.updateSelections(lineData, tickData.ticks, {\n      combinedRotation,\n      textAlign,\n      textBaseline,\n      range: this.scale.range\n    });\n    if (!animated || this.animationManager.isSkipped()) {\n      this.resetSelectionNodes();\n    } else {\n      const diff2 = this.calculateUpdateDiff(previousTicks, tickData);\n      this.animationState.transition(\"update\", diff2);\n    }\n    this.updateAxisLine();\n    this.updateLabels();\n    this.updateVisibility();\n    this.updateGridLines(sideFlag);\n    this.updateTickLines();\n    this.updateTitle({ anyTickVisible: tickData.ticks.length > 0 });\n    this.updateCrossLines({ rotation, parallelFlipRotation, regularFlipRotation });\n    this.updateLayoutState();\n    return primaryTickCount;\n  }\n  getAxisLineCoordinates() {\n    const [min, max] = findMinMax(this.range);\n    return { x: 0, y1: min, y2: max };\n  }\n  getTickLineCoordinates(datum) {\n    const sideFlag = this.label.getSideFlag();\n    const x = sideFlag * this.getTickSize();\n    const x1 = Math.min(0, x);\n    const x2 = x1 + Math.abs(x);\n    const y = datum.translationY;\n    return { x1, x2, y };\n  }\n  getTickLabelProps(datum, params) {\n    const { label } = this;\n    const { combinedRotation, textBaseline, textAlign, range: range3 } = params;\n    const text = datum.tickLabel;\n    const sideFlag = label.getSideFlag();\n    const labelX = sideFlag * (this.getTickSize() + label.padding + this.seriesAreaPadding);\n    const visible = text !== \"\" && text != null;\n    return {\n      tickId: datum.tickId,\n      translationY: datum.translationY,\n      fill: label.color,\n      fontFamily: label.fontFamily,\n      fontSize: label.fontSize,\n      fontStyle: label.fontStyle,\n      fontWeight: label.fontWeight,\n      rotation: combinedRotation,\n      rotationCenterX: labelX,\n      text,\n      textAlign,\n      textBaseline,\n      visible,\n      x: labelX,\n      y: 0,\n      range: range3\n    };\n  }\n  getTickSize() {\n    return this.tick.enabled ? this.tick.size : this.createTick().size;\n  }\n  setTitleProps(caption, params) {\n    var _a;\n    const { title } = this;\n    if (!title.enabled) {\n      caption.enabled = false;\n      return;\n    }\n    caption.color = title.color;\n    caption.fontFamily = title.fontFamily;\n    caption.fontSize = title.fontSize;\n    caption.fontStyle = title.fontStyle;\n    caption.fontWeight = title.fontWeight;\n    caption.enabled = title.enabled;\n    caption.wrapping = title.wrapping;\n    if (title.enabled) {\n      const titleNode = caption.node;\n      const padding = ((_a = title.spacing) != null ? _a : 0) + params.spacing;\n      const sideFlag = this.label.getSideFlag();\n      const parallelFlipRotation = normalizeAngle360(this.rotation);\n      const titleRotationFlag = sideFlag === -1 && parallelFlipRotation > Math.PI && parallelFlipRotation < Math.PI * 2 ? -1 : 1;\n      const rotation = titleRotationFlag * sideFlag * Math.PI / 2;\n      const textBaseline = titleRotationFlag === 1 ? \"bottom\" : \"top\";\n      const { range: range3 } = this;\n      const x = Math.floor(titleRotationFlag * sideFlag * (range3[0] + range3[1]) / 2);\n      const y = sideFlag === -1 ? Math.floor(titleRotationFlag * -padding) : Math.floor(-padding);\n      const { callbackCache } = this.moduleCtx;\n      const { formatter = (p) => p.defaultValue } = title;\n      const text = callbackCache.call(formatter, this.getTitleFormatterParams());\n      titleNode.setProperties({\n        rotation,\n        text,\n        textBaseline,\n        visible: true,\n        x,\n        y\n      });\n    }\n  }\n  calculateLayout(primaryTickCount) {\n    var _b, _c;\n    const { rotation, parallelFlipRotation, regularFlipRotation } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    const labelX = sideFlag * (this.getTickSize() + this.label.padding + this.seriesAreaPadding);\n    this.updateScale();\n    this.tickGenerationResult = this.generateTicks({\n      primaryTickCount,\n      parallelFlipRotation,\n      regularFlipRotation,\n      labelX,\n      sideFlag\n    });\n    this.updateLayoutState();\n    const _a = this.tickGenerationResult, { tickData, combinedRotation, textBaseline, textAlign } = _a, ticksResult = __objRest(_a, [\"tickData\", \"combinedRotation\", \"textBaseline\", \"textAlign\"]);\n    const boxes = [];\n    const { x, y1, y2 } = this.getAxisLineCoordinates();\n    const lineBox = new BBox(\n      x + Math.min(sideFlag * this.seriesAreaPadding, 0),\n      y1,\n      this.seriesAreaPadding,\n      y2 - y1\n    );\n    boxes.push(lineBox);\n    if (this.tick.enabled) {\n      tickData.ticks.forEach((datum) => {\n        const { x1, x2, y } = this.getTickLineCoordinates(datum);\n        const tickLineBox = new BBox(x1, y, x2 - x1, 0);\n        boxes.push(tickLineBox);\n      });\n    }\n    if (this.label.enabled) {\n      const tempText = new Text();\n      tickData.ticks.forEach((datum) => {\n        const labelProps = this.getTickLabelProps(datum, {\n          combinedRotation,\n          textAlign,\n          textBaseline,\n          range: this.scale.range\n        });\n        if (!labelProps.visible) {\n          return;\n        }\n        tempText.setProperties(__spreadProps(__spreadValues({}, labelProps), {\n          translationY: Math.round(datum.translationY)\n        }));\n        const box = tempText.computeTransformedBBox();\n        if (box) {\n          boxes.push(box);\n        }\n      });\n    }\n    const getTransformBox = (bbox2) => {\n      const matrix = new Matrix();\n      const {\n        rotation: axisRotation,\n        translationX,\n        translationY,\n        rotationCenterX,\n        rotationCenterY\n      } = this.getAxisTransform();\n      Matrix.updateTransformMatrix(matrix, 1, 1, axisRotation, translationX, translationY, {\n        scalingCenterX: 0,\n        scalingCenterY: 0,\n        rotationCenterX,\n        rotationCenterY\n      });\n      return matrix.transformBBox(bbox2);\n    };\n    if ((_b = this.title) == null ? void 0 : _b.enabled) {\n      const caption = new Caption();\n      const spacing = BBox.merge(boxes).width;\n      this.setTitleProps(caption, { spacing });\n      const titleNode = caption.node;\n      const titleBox = titleNode.computeTransformedBBox();\n      if (titleBox) {\n        boxes.push(titleBox);\n      }\n    }\n    const bbox = BBox.merge(boxes);\n    const transformedBBox = getTransformBox(bbox);\n    const anySeriesActive = this.isAnySeriesActive();\n    (_c = this.crossLines) == null ? void 0 : _c.forEach((crossLine) => {\n      var _a2;\n      crossLine.sideFlag = -sideFlag;\n      crossLine.direction = rotation === -Math.PI / 2 ? \"x\" /* X */ : \"y\" /* Y */;\n      if (crossLine instanceof CartesianCrossLine) {\n        crossLine.label.parallel = (_a2 = crossLine.label.parallel) != null ? _a2 : this.label.parallel;\n      }\n      crossLine.parallelFlipRotation = parallelFlipRotation;\n      crossLine.regularFlipRotation = regularFlipRotation;\n      crossLine.calculateLayout(anySeriesActive, this.reverse);\n    });\n    primaryTickCount = ticksResult.primaryTickCount;\n    return { primaryTickCount, bbox: transformedBBox };\n  }\n  updateLayoutState() {\n    this.layout.label = {\n      fractionDigits: this.fractionDigits,\n      padding: this.label.padding,\n      format: this.label.format\n    };\n  }\n  setDomain(domain) {\n    this.dataDomain = this.normaliseDataDomain(domain);\n    if (this.reverse) {\n      this.dataDomain.domain.reverse();\n    }\n    this.scale.domain = this.dataDomain.domain;\n  }\n  updateScale() {\n    this.updateRange();\n    this.calculateDomain();\n    this.setTickInterval(this.tick.interval);\n    const { scale: scale2, nice } = this;\n    if (!ContinuousScale.is(scale2)) {\n      return;\n    }\n    scale2.nice = nice;\n    scale2.update();\n  }\n  calculateRotations() {\n    const rotation = toRadians(this.rotation);\n    const parallelFlipRotation = normalizeAngle360(rotation);\n    const regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n    return { rotation, parallelFlipRotation, regularFlipRotation };\n  }\n  generateTicks({\n    primaryTickCount,\n    parallelFlipRotation,\n    regularFlipRotation,\n    labelX,\n    sideFlag\n  }) {\n    var _a;\n    const {\n      scale: scale2,\n      tick,\n      label: { parallel, rotation, fontFamily, fontSize, fontStyle, fontWeight }\n    } = this;\n    const secondaryAxis = primaryTickCount !== void 0;\n    const { defaultRotation, configuredRotation, parallelFlipFlag, regularFlipFlag } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    const initialRotation = configuredRotation + defaultRotation;\n    const labelMatrix = new Matrix();\n    const { maxTickCount } = this.estimateTickCount({\n      minSpacing: tick.minSpacing,\n      maxSpacing: (_a = tick.maxSpacing) != null ? _a : NaN\n    });\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const maxIterations = !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n    let textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n    const textBaseline = getTextBaseline(parallel, configuredRotation, sideFlag, parallelFlipFlag);\n    const textProps = {\n      fontFamily,\n      fontSize,\n      fontStyle,\n      fontWeight,\n      textBaseline,\n      textAlign\n    };\n    let tickData = {\n      rawTicks: [],\n      ticks: [],\n      labelCount: 0\n    };\n    let index = 0;\n    let autoRotation = 0;\n    let labelOverlap = true;\n    let terminate = false;\n    while (labelOverlap && index <= maxIterations) {\n      if (terminate) {\n        break;\n      }\n      autoRotation = 0;\n      textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n      const tickStrategies = this.getTickStrategies({ secondaryAxis, index });\n      for (const strategy of tickStrategies) {\n        ({ tickData, index, autoRotation, terminate } = strategy({\n          index,\n          tickData,\n          textProps,\n          labelOverlap,\n          terminate,\n          primaryTickCount\n        }));\n        const rotated = configuredRotation !== 0 || autoRotation !== 0;\n        const labelRotation = initialRotation + autoRotation;\n        textAlign = getTextAlign(parallel, configuredRotation, autoRotation, sideFlag, regularFlipFlag);\n        labelOverlap = this.label.avoidCollisions ? this.checkLabelOverlap(labelRotation, rotated, labelMatrix, tickData.ticks, labelX, __spreadProps(__spreadValues({}, textProps), {\n          textAlign\n        })) : false;\n      }\n    }\n    const combinedRotation = defaultRotation + configuredRotation + autoRotation;\n    if (!secondaryAxis && tickData.rawTicks.length > 0) {\n      primaryTickCount = tickData.rawTicks.length;\n    }\n    return { tickData, primaryTickCount, combinedRotation, textBaseline, textAlign };\n  }\n  getTickStrategies({\n    index: iteration,\n    secondaryAxis\n  }) {\n    const { scale: scale2, label, tick } = this;\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const avoidLabelCollisions = label.enabled && label.avoidCollisions;\n    const filterTicks = !continuous && iteration !== 0 && avoidLabelCollisions;\n    const autoRotate = label.autoRotate === true && label.rotation === void 0;\n    const strategies = [];\n    let tickGenerationType;\n    if (this.tick.values) {\n      tickGenerationType = 3 /* VALUES */;\n    } else if (secondaryAxis) {\n      tickGenerationType = 1 /* CREATE_SECONDARY */;\n    } else if (filterTicks) {\n      tickGenerationType = 2 /* FILTER */;\n    } else {\n      tickGenerationType = 0 /* CREATE */;\n    }\n    const tickGenerationStrategy = ({ index, tickData, primaryTickCount, terminate }) => this.createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount);\n    strategies.push(tickGenerationStrategy);\n    if (!continuous && !isNaN(tick.minSpacing)) {\n      const tickFilterStrategy = ({ index, tickData, primaryTickCount, terminate }) => this.createTickData(2 /* FILTER */, index, tickData, terminate, primaryTickCount);\n      strategies.push(tickFilterStrategy);\n    }\n    if (!avoidLabelCollisions) {\n      return strategies;\n    }\n    if (label.autoWrap) {\n      const autoWrapStrategy = ({ index, tickData, textProps }) => this.wrapLabels(tickData, index, textProps);\n      strategies.push(autoWrapStrategy);\n    } else if (autoRotate) {\n      const autoRotateStrategy = ({ index, tickData, labelOverlap, terminate }) => ({\n        index,\n        tickData,\n        autoRotation: this.getAutoRotation(labelOverlap),\n        terminate\n      });\n      strategies.push(autoRotateStrategy);\n    }\n    return strategies;\n  }\n  createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount) {\n    var _a;\n    const { scale: scale2, tick } = this;\n    const { maxTickCount, minTickCount, defaultTickCount } = this.estimateTickCount({\n      minSpacing: tick.minSpacing,\n      maxSpacing: (_a = tick.maxSpacing) != null ? _a : NaN\n    });\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const maxIterations = !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n    let tickCount = continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount;\n    const regenerateTicks = tick.interval === void 0 && tick.values === void 0 && tickCount > minTickCount && (continuous || tickGenerationType === 2 /* FILTER */);\n    let unchanged = true;\n    while (unchanged && index <= maxIterations) {\n      const prevTicks = tickData.rawTicks;\n      tickCount = continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount;\n      const { rawTicks, ticks, labelCount } = this.getTicks({\n        tickGenerationType,\n        previousTicks: prevTicks,\n        tickCount,\n        minTickCount,\n        maxTickCount,\n        primaryTickCount\n      });\n      tickData.rawTicks = rawTicks;\n      tickData.ticks = ticks;\n      tickData.labelCount = labelCount;\n      unchanged = regenerateTicks ? areArrayNumbersEqual(rawTicks, prevTicks) : false;\n      index++;\n    }\n    const shouldTerminate = tick.interval !== void 0 || tick.values !== void 0;\n    terminate || (terminate = shouldTerminate);\n    return { tickData, index, autoRotation: 0, terminate };\n  }\n  checkLabelOverlap(rotation, rotated, labelMatrix, tickData, labelX, textProps) {\n    Matrix.updateTransformMatrix(labelMatrix, 1, 1, rotation, 0, 0);\n    const labelData = this.createLabelData(tickData, labelX, textProps, labelMatrix);\n    const labelSpacing = getLabelSpacing(this.label.minSpacing, rotated);\n    return axisLabelsOverlap(labelData, labelSpacing);\n  }\n  createLabelData(tickData, labelX, textProps, labelMatrix) {\n    const labelData = [];\n    const measurer = new TextMeasurer(textProps);\n    for (const { tickLabel, translationY } of tickData) {\n      if (tickLabel === \"\" || tickLabel == null)\n        continue;\n      const { width, height } = measurer.size(tickLabel);\n      const bbox = new BBox(labelX, translationY, width, height);\n      const labelDatum = calculateLabelBBox(tickLabel, bbox, labelX, translationY, labelMatrix);\n      labelData.push(labelDatum);\n    }\n    return labelData;\n  }\n  getAutoRotation(labelOverlap) {\n    var _a;\n    return labelOverlap ? normalizeAngle360(toRadians((_a = this.label.autoRotateAngle) != null ? _a : 0)) : 0;\n  }\n  getTicks({\n    tickGenerationType,\n    previousTicks,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    primaryTickCount\n  }) {\n    var _a;\n    const { range: range3, scale: scale2, visibleRange } = this;\n    let rawTicks;\n    switch (tickGenerationType) {\n      case 3 /* VALUES */:\n        if (ContinuousScale.is(scale2)) {\n          const [d0, d1] = findMinMax(scale2.getDomain().map(Number));\n          rawTicks = this.tick.values.filter((value) => value >= d0 && value <= d1).sort((a, b) => a - b);\n        } else {\n          rawTicks = this.tick.values;\n        }\n        break;\n      case 1 /* CREATE_SECONDARY */:\n        if (ContinuousScale.is(scale2)) {\n          rawTicks = this.updateSecondaryAxisTicks(primaryTickCount);\n        } else {\n          rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n        }\n        break;\n      case 2 /* FILTER */:\n        rawTicks = this.filterTicks(previousTicks, tickCount);\n        break;\n      default:\n        rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n        break;\n    }\n    this.fractionDigits = rawTicks.fractionDigits >= 0 ? rawTicks.fractionDigits : 0;\n    const halfBandwidth = ((_a = scale2.bandwidth) != null ? _a : 0) / 2;\n    const ticks = [];\n    let labelCount = 0;\n    const tickIdCounts = /* @__PURE__ */ new Map();\n    const start = Math.max(0, Math.floor(visibleRange[0] * rawTicks.length));\n    const end = Math.min(rawTicks.length, Math.ceil(visibleRange[1] * rawTicks.length));\n    const filteredTicks = rawTicks.slice(start, end);\n    this.onLabelFormatChange(filteredTicks, rawTicks, this.label.format);\n    for (let i = 0; i < filteredTicks.length; i++) {\n      const tick = filteredTicks[i];\n      const translationY = scale2.convert(tick) + halfBandwidth;\n      if (range3.length > 0 && !this.inRange(translationY, 0, 1e-3))\n        continue;\n      const tickLabel = this.formatTick(tick, start + i);\n      let tickId = tickLabel;\n      if (tickIdCounts.has(tickId)) {\n        const count = tickIdCounts.get(tickId);\n        tickIdCounts.set(tickId, count + 1);\n        tickId = `${tickId}_${count}`;\n      } else {\n        tickIdCounts.set(tickId, 1);\n      }\n      ticks.push({ tick, tickId, tickLabel, translationY: Math.floor(translationY) });\n      if (tickLabel === \"\" || tickLabel == null) {\n        continue;\n      }\n      labelCount++;\n    }\n    return { rawTicks, ticks, labelCount };\n  }\n  filterTicks(ticks, tickCount) {\n    var _a;\n    const tickSpacing = !isNaN(this.tick.minSpacing) || !isNaN((_a = this.tick.maxSpacing) != null ? _a : NaN);\n    const keepEvery = tickSpacing ? Math.ceil(ticks.length / tickCount) : 2;\n    return ticks.filter((_, i) => i % keepEvery === 0);\n  }\n  createTicks(tickCount, minTickCount, maxTickCount) {\n    var _a, _b, _c;\n    this.setTickCount(tickCount, minTickCount, maxTickCount);\n    return (_c = (_b = (_a = this.scale).ticks) == null ? void 0 : _b.call(_a)) != null ? _c : [];\n  }\n  estimateTickCount({ minSpacing, maxSpacing }) {\n    const {\n      minRect,\n      label: { avoidCollisions }\n    } = this;\n    if (!avoidCollisions) {\n      return {\n        minTickCount: ContinuousScale.defaultMaxTickCount,\n        maxTickCount: ContinuousScale.defaultMaxTickCount,\n        defaultTickCount: ContinuousScale.defaultMaxTickCount\n      };\n    }\n    const rangeWithBleed = this.calculateRangeWithBleed();\n    const defaultMinSpacing = Math.max(\n      this.defaultTickMinSpacing,\n      rangeWithBleed / ContinuousScale.defaultMaxTickCount\n    );\n    let clampMaxTickCount = !isNaN(maxSpacing);\n    if (isNaN(minSpacing)) {\n      minSpacing = defaultMinSpacing;\n    }\n    if (isNaN(maxSpacing)) {\n      maxSpacing = rangeWithBleed;\n    }\n    if (minSpacing > maxSpacing) {\n      if (minSpacing === defaultMinSpacing) {\n        minSpacing = maxSpacing;\n      } else {\n        maxSpacing = minSpacing;\n      }\n    }\n    let minRectDistance = 1;\n    if (minRect) {\n      minRectDistance = this.direction === \"x\" /* X */ ? minRect.width : minRect.height;\n    }\n    clampMaxTickCount && (clampMaxTickCount = minRectDistance < defaultMinSpacing);\n    const maxTickCount = clamp(\n      1,\n      Math.floor(rangeWithBleed / minSpacing),\n      clampMaxTickCount ? Math.min(Math.floor(rangeWithBleed / minRectDistance), 100) : 100\n    );\n    const minTickCount = Math.min(maxTickCount, Math.ceil(rangeWithBleed / maxSpacing));\n    const defaultTickCount = clamp(minTickCount, ContinuousScale.defaultTickCount, maxTickCount);\n    return { minTickCount, maxTickCount, defaultTickCount };\n  }\n  updateVisibility() {\n    if (this.moduleCtx.animationManager.isSkipped()) {\n      this.resetSelectionNodes();\n    }\n    this.tickLineGroup.visible = this.tick.enabled;\n    this.gridLineGroup.visible = this.gridLine.enabled;\n    this.tickLabelGroup.visible = this.label.enabled;\n  }\n  updateCrossLines({\n    rotation,\n    parallelFlipRotation,\n    regularFlipRotation\n  }) {\n    var _a;\n    const sideFlag = this.label.getSideFlag();\n    const anySeriesActive = this.isAnySeriesActive();\n    (_a = this.crossLines) == null ? void 0 : _a.forEach((crossLine) => {\n      var _a2;\n      crossLine.sideFlag = -sideFlag;\n      crossLine.direction = rotation === -Math.PI / 2 ? \"x\" /* X */ : \"y\" /* Y */;\n      if (crossLine instanceof CartesianCrossLine) {\n        crossLine.label.parallel = (_a2 = crossLine.label.parallel) != null ? _a2 : this.label.parallel;\n      }\n      crossLine.parallelFlipRotation = parallelFlipRotation;\n      crossLine.regularFlipRotation = regularFlipRotation;\n      crossLine.update(anySeriesActive);\n    });\n  }\n  updateTickLines() {\n    const { tick, label } = this;\n    const sideFlag = label.getSideFlag();\n    this.tickLineGroupSelection.each((line) => {\n      line.strokeWidth = tick.width;\n      line.stroke = tick.color;\n      line.x1 = sideFlag * this.getTickSize();\n      line.x2 = 0;\n    });\n  }\n  calculateAvailableRange() {\n    return findRangeExtent(this.range);\n  }\n  /**\n   * Calculates the available range with an additional \"bleed\" beyond the canvas that encompasses the full axis when\n   * the visible range is only a portion of the axis.\n   */\n  calculateRangeWithBleed() {\n    const visibleScale = 1 / findRangeExtent(this.visibleRange);\n    return round(this.calculateAvailableRange() * visibleScale, 2);\n  }\n  calculateDomain() {\n    const visibleSeries = this.boundSeries.filter((s) => this.includeInvisibleDomains || s.isEnabled());\n    const domains = visibleSeries.flatMap((series) => series.getDomain(this.direction));\n    this.setDomain(domains);\n  }\n  getAxisTransform() {\n    return {\n      rotation: toRadians(this.rotation),\n      rotationCenterX: 0,\n      rotationCenterY: 0,\n      translationX: Math.floor(this.translation.x),\n      translationY: Math.floor(this.translation.y)\n    };\n  }\n  updatePosition() {\n    const { crossLineGroup, axisGroup, gridGroup, translation, gridLineGroupSelection, gridPadding, gridLength } = this;\n    const { rotation } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    const translationX = Math.floor(translation.x);\n    const translationY = Math.floor(translation.y);\n    crossLineGroup.setProperties({ rotation, translationX, translationY });\n    gridGroup.setProperties({ rotation, translationX, translationY });\n    axisGroup.datum = this.getAxisTransform();\n    gridLineGroupSelection.each((line) => {\n      line.x1 = gridPadding;\n      line.x2 = -sideFlag * gridLength + gridPadding;\n    });\n  }\n  updateSecondaryAxisTicks(_primaryTickCount) {\n    throw new Error(\"AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.\");\n  }\n  updateSelections(lineData, data, params) {\n    this.lineNode.datum = lineData;\n    this.gridLineGroupSelection.update(\n      this.gridLength ? data : [],\n      (group2) => group2.append(new Line()),\n      (datum) => datum.tickId\n    );\n    this.tickLineGroupSelection.update(\n      data,\n      (group2) => group2.appendChild(new Line()),\n      (datum) => datum.tickId\n    );\n    this.tickLabelGroupSelection.update(\n      data.map((d) => this.getTickLabelProps(d, params)),\n      (group2) => group2.appendChild(new Text()),\n      (datum) => datum.tickId\n    );\n  }\n  updateAxisLine() {\n    const { line } = this;\n    const strokeWidth = line.enabled ? line.width : 0;\n    this.lineNode.setProperties({\n      stroke: line.color,\n      strokeWidth\n    });\n  }\n  updateGridLines(sideFlag) {\n    const {\n      gridLine: { style, width },\n      gridPadding,\n      gridLength\n    } = this;\n    if (gridLength === 0 || style.length === 0) {\n      return;\n    }\n    this.gridLineGroupSelection.each((line, _, index) => {\n      const { stroke, lineDash } = style[index % style.length];\n      line.setProperties({\n        x1: gridPadding,\n        x2: -sideFlag * gridLength + gridPadding,\n        fill: void 0,\n        stroke,\n        strokeWidth: width,\n        lineDash\n      });\n    });\n  }\n  updateLabels() {\n    const { label } = this;\n    if (!label.enabled) {\n      return;\n    }\n    this.tickLabelGroupSelection.each((node, datum) => {\n      node.setProperties(datum, [\n        \"fill\",\n        \"fontFamily\",\n        \"fontSize\",\n        \"fontStyle\",\n        \"fontWeight\",\n        \"text\",\n        \"textAlign\",\n        \"textBaseline\"\n      ]);\n    });\n  }\n  wrapLabels(tickData, index, labelProps) {\n    const { parallel, maxWidth, maxHeight } = this.label;\n    let defaultMaxWidth = this.maxThickness;\n    let defaultMaxHeight = Math.round(this.calculateAvailableRange() / tickData.labelCount);\n    if (parallel) {\n      [defaultMaxWidth, defaultMaxHeight] = [defaultMaxHeight, defaultMaxWidth];\n    }\n    tickData.ticks.forEach((tickDatum) => {\n      const { text } = Text.wrap(\n        tickDatum.tickLabel,\n        maxWidth != null ? maxWidth : defaultMaxWidth,\n        maxHeight != null ? maxHeight : defaultMaxHeight,\n        labelProps,\n        \"hyphenate\"\n      );\n      tickDatum.tickLabel = text;\n    });\n    return { tickData, index, autoRotation: 0, terminate: true };\n  }\n  updateTitle(params) {\n    const { rotation, title, _titleCaption, lineNode, tickLineGroup, tickLabelGroup } = this;\n    if (!title) {\n      _titleCaption.enabled = false;\n      return;\n    }\n    let spacing = 0;\n    if (title.enabled && params.anyTickVisible) {\n      const tickBBox = Group.computeBBox([tickLineGroup, tickLabelGroup, lineNode]);\n      const tickWidth = rotation === 0 ? tickBBox.width : tickBBox.height;\n      spacing += tickWidth + (this.tickLabelGroup.visible ? 0 : this.seriesAreaPadding);\n    }\n    this.setTitleProps(_titleCaption, { spacing });\n  }\n  // For formatting (nice rounded) tick values.\n  formatTick(datum, index) {\n    return this.datumFormatter(index)(datum);\n  }\n  // For formatting arbitrary values between the ticks.\n  formatDatum(datum) {\n    return String(datum);\n  }\n  datumFormatter(index = 0) {\n    const {\n      label,\n      labelFormatter,\n      fractionDigits,\n      moduleCtx: { callbackCache }\n    } = this;\n    if (label.formatter) {\n      return (datum) => {\n        var _a;\n        return (_a = callbackCache.call(label.formatter, {\n          value: fractionDigits > 0 ? datum : String(datum),\n          index,\n          fractionDigits,\n          formatter: labelFormatter\n        })) != null ? _a : datum;\n      };\n    } else if (labelFormatter) {\n      return (datum) => {\n        var _a;\n        return (_a = callbackCache.call(labelFormatter, datum)) != null ? _a : String(datum);\n      };\n    }\n    return (datum) => String(datum);\n  }\n  computeBBox() {\n    return this.axisGroup.computeBBox();\n  }\n  initCrossLine(crossLine) {\n    crossLine.scale = this.scale;\n    crossLine.gridLength = this.gridLength;\n  }\n  isAnySeriesActive() {\n    return this.boundSeries.some((s) => this.includeInvisibleDomains || s.isEnabled());\n  }\n  clipTickLines(x, y, width, height) {\n    this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n  }\n  clipGrid(x, y, width, height) {\n    this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n  }\n  calculatePadding(min, max) {\n    const padding = Math.abs(this.reverse ? max : min) * 0.01;\n    return [padding, padding];\n  }\n  getTitleFormatterParams() {\n    var _a;\n    const boundSeries = this.boundSeries.reduce((acc, next) => {\n      const keys = next.getKeys(this.direction);\n      const names = next.getNames(this.direction);\n      for (let idx = 0; idx < keys.length; idx++) {\n        acc.push({ key: keys[idx], name: names[idx] });\n      }\n      return acc;\n    }, []);\n    return {\n      direction: this.direction,\n      boundSeries,\n      defaultValue: (_a = this.title) == null ? void 0 : _a.text\n    };\n  }\n  normaliseDataDomain(d) {\n    return { domain: [...d], clipped: false };\n  }\n  getLayoutState() {\n    return __spreadValues({\n      rect: this.computeBBox(),\n      gridPadding: this.gridPadding,\n      seriesAreaPadding: this.seriesAreaPadding,\n      tickSize: this.getTickSize(),\n      direction: this.direction,\n      domain: this.dataDomain.domain,\n      scale: this.scale\n    }, this.layout);\n  }\n  getModuleMap() {\n    return this.moduleMap;\n  }\n  createModuleContext() {\n    var _a;\n    (_a = this.axisContext) != null ? _a : this.axisContext = this.createAxisContext();\n    return __spreadProps(__spreadValues({}, this.moduleCtx), { parent: this.axisContext });\n  }\n  createAxisContext() {\n    return {\n      axisId: this.id,\n      direction: this.direction,\n      continuous: ContinuousScale.is(this.scale),\n      keys: () => this.boundSeries.flatMap((s) => s.getKeys(this.direction)),\n      seriesKeyProperties: () => this.boundSeries.reduce((keys, series) => {\n        const seriesKeys = series.getKeyProperties(this.direction);\n        seriesKeys.forEach((key) => {\n          if (keys.indexOf(key) < 0) {\n            keys.push(key);\n          }\n        });\n        return keys;\n      }, []),\n      scaleValueFormatter: (specifier) => {\n        var _a, _b;\n        return specifier ? (_b = (_a = this.scale).tickFormat) == null ? void 0 : _b.call(_a, { specifier }) : this.formatDatum;\n      },\n      scaleBandwidth: () => {\n        var _a;\n        return (_a = this.scale.bandwidth) != null ? _a : 0;\n      },\n      scaleConvert: (val) => this.scale.convert(val),\n      scaleInvert: (val) => {\n        var _a, _b;\n        return (_b = (_a = this.scale).invert) == null ? void 0 : _b.call(_a, val);\n      }\n    };\n  }\n  animateReadyUpdate(diff2) {\n    const { animationManager } = this.moduleCtx;\n    const selectionCtx = prepareAxisAnimationContext(this);\n    const fns = prepareAxisAnimationFunctions(selectionCtx);\n    fromToMotion(this.id, \"axis-group\", animationManager, [this.axisGroup], fns.group);\n    fromToMotion(this.id, \"line\", animationManager, [this.lineNode], fns.line);\n    fromToMotion(\n      this.id,\n      \"line-paths\",\n      animationManager,\n      [this.gridLineGroupSelection, this.tickLineGroupSelection],\n      fns.tick,\n      (_, d) => d.tickId,\n      diff2\n    );\n    fromToMotion(\n      this.id,\n      \"tick-labels\",\n      animationManager,\n      [this.tickLabelGroupSelection],\n      fns.label,\n      (_, d) => d.tickId,\n      diff2\n    );\n  }\n  resetSelectionNodes() {\n    const { gridLineGroupSelection, tickLineGroupSelection, tickLabelGroupSelection, lineNode } = this;\n    const selectionCtx = prepareAxisAnimationContext(this);\n    resetMotion([this.axisGroup], resetAxisGroupFn());\n    resetMotion([gridLineGroupSelection, tickLineGroupSelection], resetAxisSelectionFn(selectionCtx));\n    resetMotion([tickLabelGroupSelection], resetAxisLabelSelectionFn());\n    resetMotion([lineNode], resetAxisLineSelectionFn());\n  }\n  calculateUpdateDiff(previous, tickData) {\n    const added = /* @__PURE__ */ new Set();\n    const removed = /* @__PURE__ */ new Set();\n    const tickMap = {};\n    const tickCount = Math.max(previous.length, tickData.ticks.length);\n    for (let i = 0; i < tickCount; i++) {\n      const tickDatum = tickData.ticks[i];\n      const prev = previous[i];\n      const tick = tickDatum == null ? void 0 : tickDatum.tickId;\n      tickMap[tick != null ? tick : prev] = tickDatum;\n      if (prev === tick) {\n        continue;\n      }\n      if (removed.has(tick)) {\n        removed.delete(tick);\n      } else if (tick) {\n        added.add(tick);\n      }\n      if (added.has(prev)) {\n        added.delete(prev);\n      } else if (prev) {\n        removed.add(prev);\n      }\n    }\n    return { changed: added.size > 0 || removed.size > 0, added, removed };\n  }\n  isReversed() {\n    return this.reverse;\n  }\n};\n_Axis.defaultTickMinSpacing = 50;\n__decorateClass([\n  Validate(BOOLEAN)\n], _Axis.prototype, \"nice\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], _Axis.prototype, \"reverse\", 2);\n__decorateClass([\n  Validate(STRING_ARRAY)\n], _Axis.prototype, \"keys\", 2);\n__decorateClass([\n  Validate(OBJECT, { optional: true })\n], _Axis.prototype, \"title\", 2);\n__decorateClass([\n  ObserveChanges((target, value, oldValue) => target.onGridLengthChange(value, oldValue))\n], _Axis.prototype, \"gridLength\", 2);\nvar Axis = _Axis;\n\n// packages/ag-charts-community/src/chart/axis/cartesianAxisLabel.ts\nvar CartesianAxisLabel = class extends AxisLabel {\n  constructor() {\n    super(...arguments);\n    this.autoRotateAngle = 335;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], CartesianAxisLabel.prototype, \"autoRotate\", 2);\n__decorateClass([\n  Validate(DEGREE)\n], CartesianAxisLabel.prototype, \"autoRotateAngle\", 2);\n\n// packages/ag-charts-community/src/chart/axis/cartesianAxis.ts\nvar _CartesianAxis = class _CartesianAxis extends Axis {\n  constructor() {\n    super(...arguments);\n    this.thickness = 0;\n    this.position = \"left\";\n  }\n  static is(value) {\n    return value instanceof _CartesianAxis;\n  }\n  get direction() {\n    return [\"top\", \"bottom\"].includes(this.position) ? \"x\" /* X */ : \"y\" /* Y */;\n  }\n  updateDirection() {\n    switch (this.position) {\n      case \"top\":\n        this.rotation = -90;\n        this.label.mirrored = true;\n        this.label.parallel = true;\n        break;\n      case \"right\":\n        this.rotation = 0;\n        this.label.mirrored = true;\n        this.label.parallel = false;\n        break;\n      case \"bottom\":\n        this.rotation = -90;\n        this.label.mirrored = false;\n        this.label.parallel = true;\n        break;\n      case \"left\":\n        this.rotation = 0;\n        this.label.mirrored = false;\n        this.label.parallel = false;\n        break;\n    }\n    if (this.axisContext) {\n      this.axisContext.position = this.position;\n      this.axisContext.direction = this.direction;\n    }\n  }\n  update(primaryTickCount, animated) {\n    this.updateDirection();\n    return super.update(primaryTickCount, animated);\n  }\n  calculateLayout(primaryTickCount) {\n    this.updateDirection();\n    return super.calculateLayout(primaryTickCount);\n  }\n  createAxisContext() {\n    return __spreadProps(__spreadValues({}, super.createAxisContext()), {\n      position: this.position\n    });\n  }\n  assignCrossLineArrayConstructor(crossLines) {\n    assignJsonApplyConstructedArray(crossLines, CartesianCrossLine);\n  }\n  createLabel() {\n    return new CartesianAxisLabel();\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], _CartesianAxis.prototype, \"thickness\", 2);\n__decorateClass([\n  Validate(POSITION2)\n], _CartesianAxis.prototype, \"position\", 2);\nvar CartesianAxis = _CartesianAxis;\n\n// packages/ag-charts-community/src/chart/axis/categoryAxis.ts\nvar CategoryAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n  }\n};\n__decorateClass([\n  Validate(MIN_SPACING),\n  Default(NaN)\n], CategoryAxisTick.prototype, \"minSpacing\", 2);\nvar CategoryAxis = class extends CartesianAxis {\n  constructor(moduleCtx, scale2 = new BandScale()) {\n    super(moduleCtx, scale2);\n    this._paddingOverrideEnabled = false;\n    this.groupPaddingInner = 0.1;\n    this.includeInvisibleDomains = true;\n  }\n  set paddingInner(value) {\n    this._paddingOverrideEnabled = true;\n    this.scale.paddingInner = value;\n  }\n  get paddingInner() {\n    this._paddingOverrideEnabled = true;\n    return this.scale.paddingInner;\n  }\n  set paddingOuter(value) {\n    this.scale.paddingOuter = value;\n  }\n  get paddingOuter() {\n    return this.scale.paddingOuter;\n  }\n  createTick() {\n    return new CategoryAxisTick();\n  }\n  normaliseDataDomain(d) {\n    const domain = [];\n    const uniqueValues = /* @__PURE__ */ new Set();\n    for (const v of d) {\n      const key = v instanceof Date ? v.getTime() : v;\n      if (!uniqueValues.has(key)) {\n        uniqueValues.add(key);\n        domain.push(v);\n      }\n    }\n    return { domain, clipped: false };\n  }\n  calculateDomain() {\n    if (!this._paddingOverrideEnabled) {\n      const paddings = this.boundSeries.map((s) => {\n        var _a;\n        return (_a = s.getBandScalePadding) == null ? void 0 : _a.call(s);\n      }).filter((p) => p != null);\n      if (paddings.length > 0) {\n        this.scale.paddingInner = Math.min(...paddings.map((p) => p.inner));\n        this.scale.paddingOuter = Math.max(...paddings.map((p) => p.outer));\n      }\n    }\n    return super.calculateDomain();\n  }\n};\nCategoryAxis.className = \"CategoryAxis\";\nCategoryAxis.type = \"category\";\n__decorateClass([\n  Validate(RATIO)\n], CategoryAxis.prototype, \"groupPaddingInner\", 2);\n\n// packages/ag-charts-community/src/chart/axis/tree.ts\nvar TreeNode = class {\n  // current number in sibling group (index)\n  constructor(label = \"\", parent, number = 0) {\n    this.x = 0;\n    this.y = 0;\n    this.subtreeLeft = NaN;\n    this.subtreeRight = NaN;\n    this.screenX = 0;\n    this.screenY = 0;\n    this.children = [];\n    this.leafCount = 0;\n    this.prelim = 0;\n    this.mod = 0;\n    this.ancestor = this;\n    this.change = 0;\n    this.shift = 0;\n    this.label = label;\n    this.parent = parent;\n    this.depth = parent ? parent.depth + 1 : 0;\n    this.number = number;\n  }\n  getLeftSibling() {\n    return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : void 0;\n  }\n  getLeftmostSibling() {\n    return this.number > 0 && this.parent ? this.parent.children[0] : void 0;\n  }\n  // traverse the left contour of a subtree, return the successor of v on this contour\n  nextLeft() {\n    return this.children ? this.children[0] : this.thread;\n  }\n  // traverse the right contour of a subtree, return the successor of v on this contour\n  nextRight() {\n    return this.children ? this.children[this.children.length - 1] : this.thread;\n  }\n  getSiblings() {\n    return this.parent ? this.parent.children.filter((_, i) => i !== this.number) : [];\n  }\n};\nfunction ticksToTree(ticks, pad2 = true) {\n  const root = new TreeNode();\n  let depth = 0;\n  if (pad2) {\n    ticks.forEach((tick) => depth = Math.max(depth, tick.labels.length));\n  }\n  ticks.forEach((tick) => {\n    if (pad2) {\n      while (tick.labels.length < depth) {\n        tick.labels.unshift(\"\");\n      }\n    }\n    insertTick(root, tick);\n  });\n  return root;\n}\nfunction insertTick(root, tick) {\n  const pathParts = tick.labels.slice().reverse();\n  const lastPartIndex = pathParts.length - 1;\n  pathParts.forEach((pathPart, partIndex) => {\n    const children = root.children;\n    const existingNode = children.find((child) => child.label === pathPart);\n    const isNotLeaf = partIndex !== lastPartIndex;\n    if (existingNode && isNotLeaf) {\n      root = existingNode;\n    } else {\n      const node = new TreeNode(pathPart, root);\n      node.number = children.length;\n      children.push(node);\n      if (isNotLeaf) {\n        root = node;\n      }\n    }\n  });\n}\nfunction moveSubtree(wm, wp, shift) {\n  const subtrees = wp.number - wm.number;\n  const ratio = shift / subtrees;\n  wp.change -= ratio;\n  wp.shift += shift;\n  wm.change += ratio;\n  wp.prelim += shift;\n  wp.mod += shift;\n}\nfunction ancestor(vim, v, defaultAncestor) {\n  return v.getSiblings().indexOf(vim.ancestor) >= 0 ? vim.ancestor : defaultAncestor;\n}\nfunction executeShifts(v) {\n  const children = v.children;\n  if (children) {\n    let shift = 0;\n    let change = 0;\n    for (let i = children.length - 1; i >= 0; i--) {\n      const w = children[i];\n      w.prelim += shift;\n      w.mod += shift;\n      change += w.change;\n      shift += w.shift + change;\n    }\n  }\n}\nfunction apportion(v, defaultAncestor, distance2) {\n  const w = v.getLeftSibling();\n  if (w) {\n    let vop = v;\n    let vip = v;\n    let vim = w;\n    let vom = vip.getLeftmostSibling();\n    let sip = vip.mod;\n    let sop = vop.mod;\n    let sim = vim.mod;\n    let som = vom.mod;\n    while (vim.nextRight() && vip.nextLeft()) {\n      vim = vim.nextRight();\n      vip = vip.nextLeft();\n      vom = vom.nextLeft();\n      vop = vop.nextRight();\n      vop.ancestor = v;\n      const shift = vim.prelim + sim - (vip.prelim + sip) + distance2;\n      if (shift > 0) {\n        moveSubtree(ancestor(vim, v, defaultAncestor), v, shift);\n        sip += shift;\n        sop += shift;\n      }\n      sim += vim.mod;\n      sip += vip.mod;\n      som += vom.mod;\n      sop += vop.mod;\n    }\n    if (vim.nextRight() && !vop.nextRight()) {\n      vop.thread = vim.nextRight();\n      vop.mod += sim - sop;\n    } else {\n      if (vip.nextLeft() && !vom.nextLeft()) {\n        vom.thread = vip.nextLeft();\n        vom.mod += sip - som;\n      }\n      defaultAncestor = v;\n    }\n  }\n  return defaultAncestor;\n}\nfunction firstWalk(node, distance2) {\n  const children = node.children;\n  if (children.length) {\n    let defaultAncestor = children[0];\n    children.forEach((child) => {\n      firstWalk(child, distance2);\n      defaultAncestor = apportion(child, defaultAncestor, distance2);\n    });\n    executeShifts(node);\n    const midpoint = (children[0].prelim + children.at(-1).prelim) / 2;\n    const leftSibling = node.getLeftSibling();\n    if (leftSibling) {\n      node.prelim = leftSibling.prelim + distance2;\n      node.mod = node.prelim - midpoint;\n    } else {\n      node.prelim = midpoint;\n    }\n  } else {\n    const leftSibling = node.getLeftSibling();\n    node.prelim = leftSibling ? leftSibling.prelim + distance2 : 0;\n  }\n}\nvar Dimensions = class {\n  constructor() {\n    this.top = Infinity;\n    this.right = -Infinity;\n    this.bottom = -Infinity;\n    this.left = Infinity;\n  }\n  update(node, xy) {\n    const { x, y } = xy(node);\n    if (x > this.right) {\n      this.right = x;\n    }\n    if (x < this.left) {\n      this.left = x;\n    }\n    if (y > this.bottom) {\n      this.bottom = y;\n    }\n    if (y < this.top) {\n      this.top = y;\n    }\n  }\n};\nfunction secondWalk(v, m, layout) {\n  v.x = v.prelim + m;\n  v.y = v.depth;\n  layout.update(v);\n  v.children.forEach((w) => secondWalk(w, m + v.mod, layout));\n}\nfunction thirdWalk(v) {\n  const children = v.children;\n  let leafCount = 0;\n  children.forEach((w) => {\n    thirdWalk(w);\n    if (w.children.length) {\n      leafCount += w.leafCount;\n    } else {\n      leafCount++;\n    }\n  });\n  v.leafCount = leafCount;\n  if (children.length) {\n    v.subtreeLeft = children[0].subtreeLeft;\n    v.subtreeRight = children[v.children.length - 1].subtreeRight;\n    v.x = (v.subtreeLeft + v.subtreeRight) / 2;\n  } else {\n    v.subtreeLeft = v.x;\n    v.subtreeRight = v.x;\n  }\n}\nfunction treeLayout(root) {\n  const layout = new TreeLayout();\n  firstWalk(root, 1);\n  secondWalk(root, -root.prelim, layout);\n  thirdWalk(root);\n  return layout;\n}\nvar TreeLayout = class {\n  constructor() {\n    this.dimensions = new Dimensions();\n    this.leafCount = 0;\n    this.nodes = [];\n    // One might want to process leaf nodes separately from the rest of the tree.\n    // For example, position labels corresponding to leafs vertically, rather than horizontally.\n    this.leafNodes = [];\n    this.nonLeafNodes = [];\n    this.depth = 0;\n  }\n  update(node) {\n    this.dimensions.update(node, (n) => ({ x: n.x, y: n.y }));\n    if (node.children.length) {\n      this.nonLeafNodes.push(node);\n    } else {\n      this.leafCount++;\n      this.leafNodes.push(node);\n    }\n    if (node.depth > this.depth) {\n      this.depth = node.depth;\n    }\n    this.nodes.push(node);\n  }\n  resize(width, height, shiftX = 0, shiftY = 0, flipX = false) {\n    const xSteps = this.leafCount - 1;\n    const ySteps = this.depth;\n    const dimensions = this.dimensions;\n    let scalingX = 1;\n    let scalingY = 1;\n    if (width > 0 && xSteps) {\n      const existingSpacingX = (dimensions.right - dimensions.left) / xSteps;\n      const desiredSpacingX = width / xSteps;\n      scalingX = desiredSpacingX / existingSpacingX;\n      if (flipX) {\n        scalingX = -scalingX;\n      }\n    }\n    if (height > 0 && ySteps) {\n      const existingSpacingY = (dimensions.bottom - dimensions.top) / ySteps;\n      const desiredSpacingY = height / ySteps;\n      scalingY = desiredSpacingY / existingSpacingY;\n    }\n    const screenDimensions = new Dimensions();\n    this.nodes.forEach((node) => {\n      node.screenX = node.x * scalingX;\n      node.screenY = node.y * scalingY;\n      screenDimensions.update(node, (n) => ({ x: n.screenX, y: n.screenY }));\n    });\n    const offsetX = -screenDimensions.left;\n    const offsetY = -screenDimensions.top;\n    this.nodes.forEach((node) => {\n      node.screenX += offsetX + shiftX;\n      node.screenY += offsetY + shiftY;\n    });\n  }\n};\n\n// packages/ag-charts-community/src/chart/axis/groupedCategoryAxis.ts\nvar GroupedCategoryAxisLabel = class extends AxisLabel {\n  constructor() {\n    super(...arguments);\n    this.grid = false;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], GroupedCategoryAxisLabel.prototype, \"grid\", 2);\nvar GroupedCategoryAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new BandScale());\n    // Label scale (labels are positioned between ticks, tick count = label count + 1).\n    // We don't call is `labelScale` for consistency with other axes.\n    this.tickScale = new BandScale();\n    this.line = new AxisLine();\n    this.label = new GroupedCategoryAxisLabel();\n    this.labelColor = \"rgba(87, 87, 87, 1)\";\n    this.includeInvisibleDomains = true;\n    const { tickLineGroup, tickLabelGroup, gridLineGroup, tickScale, scale: scale2 } = this;\n    scale2.paddingOuter = 0.1;\n    scale2.paddingInner = scale2.paddingOuter * 2;\n    this.refreshScale();\n    tickScale.paddingInner = 1;\n    tickScale.paddingOuter = 0;\n    this.gridLineSelection = Selection.select(gridLineGroup, Line);\n    this.axisLineSelection = Selection.select(tickLineGroup, Line);\n    this.separatorSelection = Selection.select(tickLineGroup, Line);\n    this.labelSelection = Selection.select(tickLabelGroup, Text);\n  }\n  updateRange() {\n    const { range: rr, visibleRange: vr, scale: scale2 } = this;\n    const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n    const shift = span * vr[0];\n    const start = rr[0] - shift;\n    this.tickScale.range = scale2.range = [start, start + span];\n    this.resizeTickTree();\n  }\n  resizeTickTree() {\n    var _a;\n    const s = this.scale;\n    const range3 = s.domain.length ? [s.convert(s.domain[0]), s.convert(s.domain[s.domain.length - 1])] : s.range;\n    const layout = this.tickTreeLayout;\n    const lineHeight = this.lineHeight;\n    if (layout) {\n      layout.resize(\n        Math.abs(range3[1] - range3[0]),\n        layout.depth * lineHeight,\n        (Math.min(range3[0], range3[1]) || 0) + ((_a = s.bandwidth) != null ? _a : 0) / 2,\n        -layout.depth * lineHeight,\n        range3[1] - range3[0] < 0\n      );\n    }\n  }\n  get lineHeight() {\n    return this.label.fontSize * 1.5;\n  }\n  /**\n   * The length of the grid. The grid is only visible in case of a non-zero value.\n   */\n  onGridVisibilityChange() {\n    this.gridLineSelection.clear();\n    this.labelSelection.clear();\n  }\n  createTick() {\n    return new CategoryAxisTick();\n  }\n  calculateDomain() {\n    var _a;\n    const { direction } = this;\n    let isNumericX = null;\n    const flatDomains = this.boundSeries.filter((s) => s.visible).flatMap((series) => {\n      if (direction === \"y\" /* Y */ || isNumericX) {\n        return series.getDomain(direction);\n      }\n      if (isNumericX === null) {\n        const domain2 = series.getDomain(direction);\n        isNumericX = isNumber(domain2[0]);\n        return domain2;\n      }\n      return [];\n    });\n    this.setDomain((_a = extent(flatDomains)) != null ? _a : unique(flatDomains));\n    const { domain } = this.dataDomain;\n    this.tickTreeLayout = treeLayout(ticksToTree(domain));\n    this.tickScale.domain = domain.concat(\"\");\n    this.resizeTickTree();\n  }\n  /**\n   * Creates/removes/updates the scene graph nodes that constitute the axis.\n   * Supposed to be called _manually_ after changing _any_ of the axis properties.\n   * This allows to bulk set axis properties before updating the nodes.\n   * The node changes made by this method are rendered on the next animation frame.\n   * We could schedule this method call automatically on the next animation frame\n   * when any of the axis properties change (the way we do when properties of scene graph's\n   * nodes change), but this will mean that we first wait for the next animation\n   * frame to make changes to the nodes of the axis, then wait for another animation\n   * frame to render those changes. It's nice to have everything update automatically,\n   * but this extra level of async indirection will not just introduce an unwanted delay,\n   * it will also make it harder to reason about the program.\n   */\n  update() {\n    if (!this.computedLayout) {\n      return;\n    }\n    this.updatePosition();\n    this.updateTitleCaption();\n    this.updateCategoryLabels();\n    this.updateSeparators();\n    this.updateAxisLines();\n    this.updateCategoryGridLines();\n    this.resetSelectionNodes();\n  }\n  updateTitleCaption() {\n    const { _titleCaption } = this;\n    _titleCaption.node.visible = false;\n  }\n  updateCategoryLabels() {\n    if (!this.computedLayout)\n      return;\n    const { tickLabelLayout } = this.computedLayout;\n    const labelSelection = this.labelSelection.update(tickLabelLayout);\n    labelSelection.each((node, datum) => {\n      node.setProperties(datum);\n    });\n  }\n  updateSeparators() {\n    if (!this.computedLayout)\n      return;\n    const { separatorLayout } = this.computedLayout;\n    const { range: range3 } = this;\n    const epsilon2 = 1e-7;\n    const separatorSelection = this.separatorSelection.update(separatorLayout);\n    separatorSelection.each((line, datum) => {\n      line.x1 = datum.x1;\n      line.x2 = datum.x2;\n      line.y1 = datum.y;\n      line.y2 = datum.y;\n      line.visible = datum.y >= range3[0] - epsilon2 && datum.y <= range3[1] + epsilon2;\n      line.stroke = this.tick.color;\n      line.fill = void 0;\n      line.strokeWidth = 1;\n    });\n  }\n  updateAxisLines() {\n    if (!this.computedLayout)\n      return;\n    const { axisLineLayout } = this.computedLayout;\n    const axisLineSelection = this.axisLineSelection.update(axisLineLayout);\n    axisLineSelection.each((line, datum) => {\n      line.setProperties(__spreadProps(__spreadValues({}, datum), {\n        stroke: this.line.color,\n        strokeWidth: this.line.width\n      }));\n      line.x1 = datum.x;\n      line.x2 = datum.x;\n      line.y1 = datum.y1;\n      line.y2 = datum.y2;\n      line.strokeWidth = this.line.width;\n      line.stroke = this.line.color;\n    });\n  }\n  updateCategoryGridLines() {\n    const { gridLength, gridLine, label, range: range3, tickScale } = this;\n    const ticks = tickScale.ticks();\n    const sideFlag = label.getSideFlag();\n    const gridSelection = this.gridLineSelection.update(gridLength ? ticks : []);\n    if (gridLength) {\n      const { width, style } = gridLine;\n      const styleCount = style.length;\n      gridSelection.each((line, datum, index) => {\n        const y = Math.round(tickScale.convert(datum));\n        line.x1 = 0;\n        line.x2 = -sideFlag * gridLength;\n        line.y1 = y;\n        line.y2 = y;\n        line.visible = y >= range3[0] && y <= range3[1];\n        const { stroke, lineDash } = style[index % styleCount];\n        line.stroke = stroke;\n        line.strokeWidth = width;\n        line.lineDash = lineDash;\n        line.fill = void 0;\n      });\n    }\n  }\n  computeLayout() {\n    this.updateDirection();\n    this.calculateDomain();\n    this.updateRange();\n    const {\n      scale: scale2,\n      label,\n      label: { parallel },\n      moduleCtx: { callbackCache },\n      range: range3,\n      title,\n      title: { formatter = (p) => p.defaultValue } = {}\n    } = this;\n    const rangeStart = scale2.range[0];\n    const rangeEnd = scale2.range[1];\n    const rangeLength = Math.abs(rangeEnd - rangeStart);\n    const bandwidth = rangeLength / scale2.domain.length || 0;\n    const keepEvery = Math.ceil(label.fontSize / bandwidth);\n    const rotation = toRadians(this.rotation);\n    const isHorizontal = Math.abs(Math.cos(rotation)) < 1e-8;\n    const sideFlag = label.getSideFlag();\n    const lineHeight = this.lineHeight;\n    const tickTreeLayout = this.tickTreeLayout;\n    const labels = scale2.ticks();\n    const treeLabels = tickTreeLayout ? tickTreeLayout.nodes : [];\n    const isLabelTree = tickTreeLayout ? tickTreeLayout.depth > 1 : false;\n    const { defaultRotation, configuredRotation, parallelFlipFlag } = calculateLabelRotation({\n      rotation: label.rotation,\n      parallel,\n      regularFlipRotation: normalizeAngle360(rotation - Math.PI / 2),\n      parallelFlipRotation: normalizeAngle360(rotation)\n    });\n    const tickLabelLayout = [];\n    const copyLabelProps = (node) => {\n      return {\n        fill: node.fill,\n        fontFamily: node.fontFamily,\n        fontSize: node.fontSize,\n        fontStyle: node.fontStyle,\n        fontWeight: node.fontWeight,\n        rotation: node.rotation,\n        rotationCenterX: node.rotationCenterX,\n        rotationCenterY: node.rotationCenterY,\n        text: node.text,\n        textAlign: node.textAlign,\n        textBaseline: node.textBaseline,\n        translationX: node.translationX,\n        translationY: node.translationY,\n        visible: node.visible,\n        x: node.x,\n        y: node.y\n      };\n    };\n    const labelBBoxes = /* @__PURE__ */ new Map();\n    let maxLeafLabelWidth = 0;\n    const tempText = new Text();\n    const setLabelProps = (datum, index) => {\n      var _a;\n      tempText.setProperties({\n        fill: label.color,\n        fontFamily: label.fontFamily,\n        fontSize: label.fontSize,\n        fontStyle: label.fontStyle,\n        fontWeight: label.fontWeight,\n        textAlign: \"center\",\n        textBaseline: parallelFlipFlag === -1 ? \"bottom\" : \"hanging\",\n        translationX: datum.screenY - label.fontSize * 0.25,\n        translationY: datum.screenX\n      });\n      if (index === 0) {\n        const isCaptionEnabled = (title == null ? void 0 : title.enabled) && labels.length > 0;\n        if (!isCaptionEnabled) {\n          return false;\n        }\n        const text = callbackCache.call(formatter, this.getTitleFormatterParams());\n        tempText.setProperties({\n          fill: title.color,\n          fontFamily: title.fontFamily,\n          fontSize: title.fontSize,\n          fontStyle: title.fontStyle,\n          fontWeight: title.fontWeight,\n          text,\n          textBaseline: \"hanging\",\n          translationX: datum.screenY - label.fontSize * 0.25,\n          translationY: datum.screenX\n        });\n      } else if (index % keepEvery === 0) {\n        const isInRange = datum.screenX >= range3[0] && datum.screenX <= range3[1];\n        if (!isInRange) {\n          return false;\n        }\n        if (label.formatter) {\n          tempText.text = (_a = callbackCache.call(label.formatter, {\n            value: String(datum.label),\n            index\n          })) != null ? _a : String(datum.label);\n        } else {\n          tempText.text = String(datum.label);\n        }\n      } else {\n        return false;\n      }\n      return true;\n    };\n    treeLabels.forEach((datum, index) => {\n      const isVisible = setLabelProps(datum, index);\n      if (!isVisible)\n        return;\n      const bbox2 = tempText.computeTransformedBBox();\n      if (!bbox2)\n        return;\n      labelBBoxes.set(index, bbox2);\n      const isLeaf = !datum.children.length;\n      if (isLeaf && bbox2.width > maxLeafLabelWidth) {\n        maxLeafLabelWidth = bbox2.width;\n      }\n    });\n    const labelX = sideFlag * label.padding;\n    const labelGrid = this.label.grid;\n    const separatorData = [];\n    treeLabels.forEach((datum, index) => {\n      let visible = setLabelProps(datum, index);\n      const id = index;\n      tempText.x = labelX;\n      tempText.rotationCenterX = labelX;\n      const isLeaf = !datum.children.length;\n      if (isLeaf) {\n        tempText.rotation = configuredRotation;\n        tempText.textAlign = \"end\";\n        tempText.textBaseline = \"middle\";\n      } else {\n        tempText.translationX -= maxLeafLabelWidth - lineHeight + this.label.padding;\n        const availableRange = datum.leafCount * bandwidth;\n        const bbox2 = labelBBoxes.get(id);\n        if (bbox2 && bbox2.width > availableRange) {\n          visible = false;\n          labelBBoxes.delete(id);\n        } else if (isHorizontal) {\n          tempText.rotation = defaultRotation;\n        } else {\n          tempText.rotation = -Math.PI / 2;\n        }\n      }\n      if (datum.parent && isLabelTree) {\n        const y = isLeaf ? datum.screenX - bandwidth / 2 : datum.screenX - datum.leafCount * bandwidth / 2;\n        if (isLeaf) {\n          if (datum.number !== datum.children.length - 1 || labelGrid) {\n            separatorData.push({\n              y,\n              x1: 0,\n              x2: -maxLeafLabelWidth - this.label.padding * 2\n            });\n          }\n        } else {\n          const x = -maxLeafLabelWidth - this.label.padding * 2 + datum.screenY;\n          separatorData.push({\n            y,\n            x1: x + lineHeight,\n            x2: x\n          });\n        }\n      }\n      let props;\n      if (visible) {\n        const bbox2 = tempText.computeTransformedBBox();\n        if (bbox2) {\n          labelBBoxes.set(index, bbox2);\n        }\n        props = __spreadProps(__spreadValues({}, copyLabelProps(tempText)), { visible });\n      } else {\n        labelBBoxes.delete(index);\n        props = { visible };\n      }\n      tickLabelLayout.push(props);\n    });\n    let minX = 0;\n    separatorData.forEach((d) => minX = Math.min(minX, d.x2));\n    separatorData.push({\n      y: Math.max(rangeStart, rangeEnd),\n      x1: 0,\n      x2: minX\n    });\n    const separatorLayout = [];\n    const separatorBoxes = [];\n    const epsilon2 = 1e-7;\n    separatorData.forEach((datum) => {\n      if (datum.y >= range3[0] - epsilon2 && datum.y <= range3[1] + epsilon2) {\n        const { x1, x2, y } = datum;\n        const separatorBox = new BBox(Math.min(x1, x2), y, Math.abs(x1 - x2), 0);\n        separatorBoxes.push(separatorBox);\n        separatorLayout.push({ x1, x2, y });\n      }\n    });\n    const axisLineLayout = [];\n    const axisLineBoxes = [];\n    const lineCount = tickTreeLayout ? tickTreeLayout.depth + 1 : 1;\n    for (let i = 0; i < lineCount; i++) {\n      const visible = labels.length > 0 && (i === 0 || labelGrid && isLabelTree);\n      const x = i > 0 ? -maxLeafLabelWidth - this.label.padding * 2 - (i - 1) * lineHeight : 0;\n      const lineBox = new BBox(x, Math.min(...range3), 0, Math.abs(range3[1] - range3[0]));\n      axisLineBoxes.push(lineBox);\n      axisLineLayout.push({ x, y1: range3[0], y2: range3[1], visible });\n    }\n    const getTransformBox = (bbox2) => {\n      const matrix = new Matrix();\n      const {\n        rotation: axisRotation,\n        translationX,\n        translationY,\n        rotationCenterX,\n        rotationCenterY\n      } = this.getAxisTransform();\n      Matrix.updateTransformMatrix(matrix, 1, 1, axisRotation, translationX, translationY, {\n        scalingCenterX: 0,\n        scalingCenterY: 0,\n        rotationCenterX,\n        rotationCenterY\n      });\n      return matrix.transformBBox(bbox2);\n    };\n    const bbox = BBox.merge([...labelBBoxes.values(), ...separatorBoxes, ...axisLineBoxes]);\n    const transformedBBox = getTransformBox(bbox);\n    return {\n      bbox: transformedBBox,\n      tickLabelLayout,\n      separatorLayout,\n      axisLineLayout\n    };\n  }\n  calculateLayout() {\n    const { axisLineLayout, separatorLayout, tickLabelLayout, bbox } = this.computeLayout();\n    this.computedLayout = {\n      axisLineLayout,\n      separatorLayout,\n      tickLabelLayout\n    };\n    return { bbox, primaryTickCount: void 0 };\n  }\n};\nGroupedCategoryAxis.className = \"GroupedCategoryAxis\";\nGroupedCategoryAxis.type = \"grouped-category\";\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], GroupedCategoryAxis.prototype, \"labelColor\", 2);\n\n// packages/ag-charts-community/src/util/userAgent.ts\nfunction hasConstrainedCanvasMemory() {\n  if (typeof navigator === \"undefined\") {\n    return false;\n  }\n  const iPhoneOSMatch = navigator.userAgent.match(/\\(iPhone; CPU iPhone OS (\\d+_\\d+_\\d+) like Mac OS X\\)/);\n  if (iPhoneOSMatch == null) {\n    return false;\n  }\n  const [major, minor] = iPhoneOSMatch[1].split(\"_\").map(Number);\n  return major < 16 || major === 16 && minor < 6;\n}\n\n// packages/ag-charts-community/src/scene/canvas/hdpiCanvas.ts\nvar _HdpiCanvas = class _HdpiCanvas {\n  constructor(options) {\n    this.enabled = true;\n    this.width = 600;\n    this.height = 300;\n    const { width, height, pixelRatio, position, insertAsFirstChild } = options;\n    this.insertAsFirstChild = insertAsFirstChild != null ? insertAsFirstChild : false;\n    this.pixelRatio = hasConstrainedCanvasMemory() ? 1 : pixelRatio != null ? pixelRatio : getWindow(\"devicePixelRatio\");\n    this.element = createElement(\"canvas\");\n    this.element.width = Math.round((width != null ? width : this.width) * this.pixelRatio);\n    this.element.height = Math.round((height != null ? height : this.height) * this.pixelRatio);\n    if (position) {\n      this.element.style.position = position;\n    }\n    this.context = this.element.getContext(\"2d\");\n    this.onEnabledChange();\n    this.resize(width != null ? width : 0, height != null ? height : 0);\n    _HdpiCanvas.debugContext(this.context);\n  }\n  static is(value) {\n    return value instanceof _HdpiCanvas;\n  }\n  drawImage(context, dx = 0, dy = 0) {\n    return context.drawImage(this.context.canvas, dx, dy);\n  }\n  toDataURL(type) {\n    return this.element.toDataURL(type);\n  }\n  resize(width, height) {\n    if (!(width > 0 && height > 0))\n      return;\n    const { element: element2, context, pixelRatio } = this;\n    element2.width = Math.round(width * pixelRatio);\n    element2.height = Math.round(height * pixelRatio);\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    element2.style.width = width + \"px\";\n    element2.style.height = height + \"px\";\n    this.width = width;\n    this.height = height;\n  }\n  snapshot() {\n  }\n  clear() {\n    this.context.save();\n    this.context.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n    this.context.clearRect(0, 0, this.width, this.height);\n    this.context.restore();\n  }\n  destroy() {\n    this.element.remove();\n    this.element.width = 0;\n    this.element.height = 0;\n    this.context.clearRect(0, 0, 0, 0);\n    Object.freeze(this);\n  }\n  onContainerChange(newValue, oldValue) {\n    var _a, _b, _c, _d;\n    if (newValue === oldValue)\n      return;\n    (_a = this.element.parentNode) == null ? void 0 : _a.removeChild(this.element);\n    if (this.insertAsFirstChild && ((_b = this.container) == null ? void 0 : _b.firstChild)) {\n      (_c = this.container) == null ? void 0 : _c.insertBefore(this.element, this.container.firstChild);\n    } else {\n      (_d = this.container) == null ? void 0 : _d.appendChild(this.element);\n    }\n  }\n  onEnabledChange() {\n    if (this.element) {\n      this.element.style.display = this.enabled ? \"block\" : \"none\";\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n  static debugContext(ctx) {\n    if (Debug.check(\"canvas\")) {\n      const save = ctx.save.bind(ctx);\n      const restore = ctx.restore.bind(ctx);\n      let depth = 0;\n      Object.assign(ctx, {\n        save() {\n          save();\n          depth++;\n        },\n        restore() {\n          if (depth === 0) {\n            throw new Error(\"AG Charts - Unable to restore() past depth 0\");\n          }\n          restore();\n          depth--;\n        },\n        verifyDepthZero() {\n          if (depth !== 0) {\n            throw new Error(`AG Charts - Save/restore depth is non-zero: ${depth}`);\n          }\n        }\n      });\n    }\n  }\n};\n__decorateClass([\n  ObserveChanges((target) => target.onEnabledChange())\n], _HdpiCanvas.prototype, \"enabled\", 2);\n__decorateClass([\n  ObserveChanges((target, newValue, oldValue) => target.onContainerChange(newValue, oldValue))\n], _HdpiCanvas.prototype, \"container\", 2);\nvar HdpiCanvas = _HdpiCanvas;\n\n// packages/ag-charts-community/src/scene/layersManager.ts\nvar LayersManager = class _LayersManager {\n  constructor(canvas, markDirty) {\n    this.canvas = canvas;\n    this.markDirty = markDirty;\n    this.debug = Debug.create(true, \"scene\");\n    this.layersMap = /* @__PURE__ */ new Map();\n    this.nextZIndex = 0;\n    this.nextLayerId = 0;\n  }\n  static sortLayers(a, b) {\n    var _a, _b;\n    return compoundAscending(\n      [a.zIndex, ...(_a = a.zIndexSubOrder) != null ? _a : [void 0, void 0], a.id],\n      [b.zIndex, ...(_b = b.zIndexSubOrder) != null ? _b : [void 0, void 0], b.id],\n      ascendingStringNumberUndefined\n    );\n  }\n  get size() {\n    return this.layersMap.size;\n  }\n  forEach(callback) {\n    Array.from(this.layersMap.values()).sort(_LayersManager.sortLayers).forEach(callback);\n  }\n  resize(width, height) {\n    this.canvas.resize(width, height);\n    this.layersMap.forEach(({ canvas }) => canvas.resize(width, height));\n  }\n  addLayer(opts) {\n    const { width, height, pixelRatio } = this.canvas;\n    const { zIndex = this.nextZIndex++, name, zIndexSubOrder, getComputedOpacity, getVisibility } = opts;\n    const canvas = new HdpiCanvas({ width, height, pixelRatio, position: \"absolute\" });\n    const newLayer = {\n      id: this.nextLayerId++,\n      name,\n      canvas,\n      zIndex,\n      zIndexSubOrder,\n      getComputedOpacity,\n      getVisibility\n    };\n    if (zIndex >= this.nextZIndex) {\n      this.nextZIndex = zIndex + 1;\n    }\n    this.layersMap.set(canvas, newLayer);\n    this.debug(\"Scene.addLayer() - layers\", this.layersMap);\n    return newLayer.canvas;\n  }\n  removeLayer(canvas) {\n    if (this.layersMap.has(canvas)) {\n      this.layersMap.delete(canvas);\n      canvas.destroy();\n      this.markDirty();\n      this.debug(\"Scene.removeLayer() -  layers\", this.layersMap);\n    }\n  }\n  moveLayer(canvas, newZIndex, newZIndexSubOrder) {\n    const layer = this.layersMap.get(canvas);\n    if (layer) {\n      layer.zIndex = newZIndex;\n      layer.zIndexSubOrder = newZIndexSubOrder;\n      this.markDirty();\n      this.debug(\"Scene.moveLayer() -  layers\", this.layersMap);\n    }\n  }\n  clear() {\n    this.layersMap.clear();\n  }\n};\n\n// packages/ag-charts-community/src/scene/sceneDebug.ts\nfunction debugStats(layersManager, debugSplitTimes, ctx, renderCtxStats, extraDebugStats = {}) {\n  if (!Debug.check(\"scene:stats\" /* SCENE_STATS */, \"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */))\n    return;\n  const { layersRendered = 0, layersSkipped = 0, nodesRendered = 0, nodesSkipped = 0 } = renderCtxStats != null ? renderCtxStats : {};\n  const end = performance.now();\n  const _a = debugSplitTimes, { start } = _a, durations = __objRest(_a, [\"start\"]);\n  const splits = Object.entries(durations).map(([n, t]) => {\n    return time(n, t);\n  }).filter((v) => v != null).join(\" + \");\n  const extras = Object.entries(extraDebugStats).map(([k, v]) => `${k}: ${v}`).join(\" ; \");\n  const detailedStats = Debug.check(\"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */);\n  const stats = [\n    `${time(\"\\u23F1\\uFE0F\", start, end)} (${splits})`,\n    `${extras}`,\n    `Layers: ${detailedStats ? pct(layersRendered, layersSkipped) : layersManager.size}`,\n    detailedStats ? `Nodes: ${pct(nodesRendered, nodesSkipped)}` : null\n  ].filter(isString);\n  const statsSize = new Map(stats.map((t) => [t, Text.getTextSize(t, ctx.font)]));\n  const width = Math.max(...Array.from(statsSize.values(), (s) => s.width));\n  const height = accumulate(statsSize.values(), (s) => s.height);\n  ctx.save();\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(0, 0, width, height);\n  ctx.fillStyle = \"black\";\n  let y = 0;\n  for (const [stat, size] of statsSize.entries()) {\n    y += size.height;\n    ctx.fillText(stat, 2, y);\n  }\n  ctx.restore();\n}\nfunction debugSceneNodeHighlight(ctx, debugNodes) {\n  ctx.save();\n  for (const [name, node] of Object.entries(debugNodes)) {\n    const bbox = node.computeTransformedBBox();\n    if (!bbox) {\n      Logger.log(`Scene.render() - no bbox for debugged node [${name}].`);\n      continue;\n    }\n    ctx.globalAlpha = 0.8;\n    ctx.strokeStyle = \"red\";\n    ctx.lineWidth = 1;\n    ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);\n    ctx.fillStyle = \"red\";\n    ctx.strokeStyle = \"white\";\n    ctx.font = \"16px sans-serif\";\n    ctx.textBaseline = \"top\";\n    ctx.textAlign = \"left\";\n    ctx.lineWidth = 2;\n    ctx.strokeText(name, bbox.x, bbox.y, bbox.width);\n    ctx.fillText(name, bbox.x, bbox.y, bbox.width);\n  }\n  ctx.restore();\n}\nfunction buildTree(node) {\n  var _a, _b;\n  if (!Debug.check(true, \"scene\" /* SCENE */))\n    return {};\n  return __spreadValues(__spreadValues({\n    node,\n    name: (_a = node instanceof Group ? node.name : null) != null ? _a : node.id,\n    dirty: RedrawType[node.dirty]\n  }, ((_b = node.parent) == null ? void 0 : _b.isVirtual) ? {\n    virtualParentDirty: RedrawType[node.parent.dirty],\n    virtualParent: node.parent\n  } : {}), node.children.map((c) => buildTree(c)).reduce((result, childTree) => {\n    let { name: treeNodeName } = childTree;\n    const {\n      node: { visible, opacity, zIndex, zIndexSubOrder },\n      node: childNode,\n      virtualParent\n    } = childTree;\n    if (!visible || opacity <= 0) {\n      treeNodeName = `(${treeNodeName})`;\n    }\n    if (childNode instanceof Group && childNode.isLayer()) {\n      treeNodeName = `*${treeNodeName}*`;\n    }\n    const key = [\n      `${treeNodeName != null ? treeNodeName : \"<unknown>\"}`,\n      `z: ${zIndex}`,\n      zIndexSubOrder && `zo: ${zIndexSubOrder.map((v) => typeof v === \"function\" ? `${v()} (fn)` : v).join(\" / \")}`,\n      virtualParent && `(virtual parent)`\n    ].filter((v) => !!v).join(\" \");\n    let selectedKey = key;\n    let index = 1;\n    while (result[selectedKey] != null && index < 100) {\n      selectedKey = `${key} (${index++})`;\n    }\n    result[selectedKey] = childTree;\n    return result;\n  }, {}));\n}\nfunction buildDirtyTree(node) {\n  var _a;\n  if (node.dirty === 0 /* NONE */) {\n    return { dirtyTree: {}, paths: [] };\n  }\n  const childrenDirtyTree = node.children.map((c) => buildDirtyTree(c)).filter((c) => c.paths.length > 0);\n  const name = Group.is(node) ? (_a = node.name) != null ? _a : node.id : node.id;\n  const paths = childrenDirtyTree.length ? childrenDirtyTree.flatMap((c) => c.paths).map((p) => `${name}.${p}`) : [name];\n  return {\n    dirtyTree: __spreadValues({\n      name,\n      node,\n      dirty: RedrawType[node.dirty]\n    }, childrenDirtyTree.map((c) => c.dirtyTree).filter((t) => t.dirty != null).reduce((result, childTree) => {\n      var _a2;\n      result[(_a2 = childTree.name) != null ? _a2 : \"<unknown>\"] = childTree;\n      return result;\n    }, {})),\n    paths\n  };\n}\nfunction pct(rendered, skipped) {\n  const total = rendered + skipped;\n  return `${rendered} / ${total} (${Math.round(100 * rendered / total)}%)`;\n}\nfunction time(name, start, end) {\n  const duration = end != null ? end - start : start;\n  return `${name}: ${Math.round(duration * 100) / 100}ms`;\n}\nfunction accumulate(iterator, mapper) {\n  let sum2 = 0;\n  for (const item of iterator) {\n    sum2 += mapper(item);\n  }\n  return sum2;\n}\n\n// packages/ag-charts-community/src/scene/scene.ts\nvar Scene = class {\n  constructor({ width, height, pixelRatio, canvasPosition }) {\n    this.debug = Debug.create(true, \"scene\" /* SCENE */);\n    this.id = createId(this);\n    this.root = null;\n    this.isDirty = false;\n    this.canvas = new HdpiCanvas({\n      width,\n      height,\n      pixelRatio,\n      position: canvasPosition,\n      insertAsFirstChild: canvasPosition === \"absolute\"\n    });\n    this.layersManager = new LayersManager(this.canvas, () => {\n      this.isDirty = true;\n    });\n  }\n  get width() {\n    var _a, _b;\n    return (_b = (_a = this.pendingSize) == null ? void 0 : _a[0]) != null ? _b : this.canvas.width;\n  }\n  get height() {\n    var _a, _b;\n    return (_b = (_a = this.pendingSize) == null ? void 0 : _a[1]) != null ? _b : this.canvas.height;\n  }\n  setContainer(value) {\n    this.canvas.container = value;\n    return this;\n  }\n  setRoot(node) {\n    var _a;\n    if (this.root === node) {\n      return this;\n    }\n    this.isDirty = true;\n    (_a = this.root) == null ? void 0 : _a._setLayerManager();\n    this.root = node;\n    if (node) {\n      node.visible = true;\n      node._setLayerManager(this.layersManager);\n    }\n    return this;\n  }\n  attachNode(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.appendChild(node);\n    return () => this.removeChild(node);\n  }\n  appendChild(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.appendChild(node);\n    return this;\n  }\n  removeChild(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.removeChild(node);\n    return this;\n  }\n  download(fileName, fileFormat) {\n    var _a;\n    downloadUrl(this.canvas.toDataURL(fileFormat), (_a = fileName == null ? void 0 : fileName.trim()) != null ? _a : \"image\");\n  }\n  /** NOTE: Integrated Charts undocumented image download method. */\n  getDataURL(fileFormat) {\n    return this.canvas.toDataURL(fileFormat);\n  }\n  resize(width, height) {\n    width = Math.round(width);\n    height = Math.round(height);\n    if (width > 0 && height > 0 && (width !== this.width || height !== this.height)) {\n      this.pendingSize = [width, height];\n      this.isDirty = true;\n      return true;\n    }\n    return false;\n  }\n  render(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const { debugSplitTimes = { start: performance.now() }, extraDebugStats } = opts != null ? opts : {};\n      const { canvas, canvas: { context: ctx } = {}, root, pendingSize } = this;\n      if (!ctx) {\n        return;\n      }\n      const renderStartTime = performance.now();\n      if (pendingSize) {\n        this.layersManager.resize(...pendingSize);\n        this.pendingSize = void 0;\n      }\n      if (root && !root.visible) {\n        this.isDirty = false;\n        return;\n      }\n      if (root && !this.isDirty) {\n        if (this.debug.check()) {\n          this.debug(\"Scene.render() - no-op\", {\n            redrawType: RedrawType[root.dirty],\n            tree: buildTree(root)\n          });\n        }\n        debugStats(this.layersManager, debugSplitTimes, ctx, void 0, extraDebugStats);\n        return;\n      }\n      const renderCtx = {\n        ctx,\n        devicePixelRatio: (_a = this.canvas.pixelRatio) != null ? _a : 1,\n        forceRender: true,\n        resized: Boolean(pendingSize),\n        debugNodes: {}\n      };\n      if (Debug.check(\"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */)) {\n        renderCtx.stats = { layersRendered: 0, layersSkipped: 0, nodesRendered: 0, nodesSkipped: 0 };\n      }\n      let canvasCleared = false;\n      if (!root || root.dirty >= 1 /* TRIVIAL */) {\n        canvasCleared = true;\n        canvas.clear();\n      }\n      if (root && Debug.check(\"scene:dirtyTree\" /* SCENE_DIRTY_TREE */)) {\n        const { dirtyTree, paths } = buildDirtyTree(root);\n        Debug.create(\"scene:dirtyTree\" /* SCENE_DIRTY_TREE */)(\"Scene.render() - dirtyTree\", { dirtyTree, paths });\n      }\n      if (root && canvasCleared) {\n        this.debug(\"Scene.render() - before\", {\n          redrawType: RedrawType[root.dirty],\n          canvasCleared,\n          tree: buildTree(root)\n        });\n        if (root.visible) {\n          root.preRender();\n          ctx.save();\n          root.render(renderCtx);\n          ctx.restore();\n        }\n      }\n      debugSplitTimes[\"\\u270D\\uFE0F\"] = performance.now() - renderStartTime;\n      if (this.layersManager.size && canvasCleared) {\n        const layerRenderStart = performance.now();\n        ctx.save();\n        ctx.resetTransform();\n        this.layersManager.forEach((layer) => {\n          if (layer.canvas.enabled && layer.getVisibility()) {\n            ctx.globalAlpha = layer.getComputedOpacity();\n            layer.canvas.drawImage(ctx);\n          }\n        });\n        ctx.restore();\n        debugSplitTimes[\"\\u26D9\"] = performance.now() - layerRenderStart;\n      }\n      (_b = ctx.verifyDepthZero) == null ? void 0 : _b.call(ctx);\n      this.isDirty = false;\n      debugStats(this.layersManager, debugSplitTimes, ctx, renderCtx.stats, extraDebugStats);\n      debugSceneNodeHighlight(ctx, renderCtx.debugNodes);\n      if (root && this.debug.check()) {\n        this.debug(\"Scene.render() - after\", {\n          redrawType: RedrawType[root.dirty],\n          tree: buildTree(root),\n          canvasCleared\n        });\n      }\n    });\n  }\n  /** Alternative to destroy() that preserves re-usable resources. */\n  strip() {\n    const { context, pixelRatio } = this.canvas;\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    this.layersManager.clear();\n    this.setRoot(null);\n    this.isDirty = false;\n  }\n  destroy() {\n    this.canvas.container = void 0;\n    this.strip();\n    this.canvas.destroy();\n    Object.assign(this, { canvas: void 0 });\n  }\n};\nScene.className = \"Scene\";\n\n// packages/ag-charts-community/src/styles/icons.ts\nvar icons_default = `\n[class^='ag-charts-icon'] {\n    display: block;\n    /* speak: none; */\n    mask-size: contain;\n    mask-repeat: no-repeat;\n    background-color: currentColor;\n}\n\n.ag-charts-icon-zoom-in {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+);\n}\n\n.ag-charts-icon-zoom-out {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-reset {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXJvdGF0ZS1jY3ciPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDEgMCA5LTkgOS43NSA5Ljc1IDAgMCAwLTYuNzQgMi43NEwzIDgiLz48cGF0aCBkPSJNMyAzdjVoNSIvPjwvc3ZnPg==);\n}\n\n.ag-charts-icon-pan-left {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGVmdCI+PHBhdGggZD0ibTE1IDE4LTYtNiA2LTYiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-pan-right {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tcmlnaHQiPjxwYXRoIGQ9Im05IDE4IDYtNi02LTYiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-pan-start {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==);\n}\n\n.ag-charts-icon-pan-end {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+);\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/reset.ts\nvar reset_default = `\n[class^='ag-charts'],\n[class^='ag-charts']:focus,\n[class^='ag-charts']:after,\n[class^='ag-charts']:before {\n    box-sizing: border-box;\n    outline: none;\n}\n\nbutton[class^='ag-charts'] {\n    background: none;\n    border: 0;\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/theme-default.ts\nvar theme_default_default = `\n.ag-charts-theme-default,\n.ag-charts-theme-default-dark {\n    /* Colors */\n    --ag-charts-active-color: var(--ag-active-color, #2196f3);\n    --ag-charts-background-color: var(--ag-background-color, #fff);\n    --ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);\n    --ag-charts-border-color: var(--ag-border-color, #dddddd);\n\n    /* Sizing */\n    --ag-charts-font-size: var(--ag-font-size, 14px);\n    --ag-charts-size: var(--ag-grid-size, 8px);\n\n    /* Borders */\n    --ag-charts-border: var(--ag-borders, solid 1px);\n    --ag-charts-border-critical: var(--ag-borders-critical, solid 1px);\n\n    /* Toolbar */\n    --ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));\n    --ag-charts-toolbar-background-color: var(\n        --ag-header-background-color,\n        color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%)\n    );\n    --ag-charts-toolbar-size: var(--ag-header-height, 48px);\n    --ag-charts-toolbar-padding: calc(var(--ag-charts-size) * 2);\n    --ag-charts-toolbar-border: var(--ag-charts-border, solid 1px) var(--ag-charts-border-color);\n    --ag-charts-toolbar-border-critical: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);\n    --ag-charts-toolbar-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);\n    --ag-charts-toolbar-disabled-foreground-color: var(\n        --ag-disabled-foreground-color,\n        color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%)\n    );\n    --ag-charts-toolbar-disabled-background-color: var(\n        --ag-input-disabled-background-color,\n        color-mix(in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6%)\n    );\n    --ag-charts-toolbar-gap: var(--ag-charts-size);\n\n    /* Buttons */\n    --ag-charts-button-padding: var(--ag-charts-size);\n    --ag-charts-button-radius: var(--ag-border-radius, 4px);\n\n    /* Focus Indicator */\n    --ag-charts-focus-border: solid 2px var(--ag-input-focus-border-color, var(--ag-charts-active-color));\n    --ag-charts-focus-border-shadow: var(--ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-focus-border) 47%));\n\n    /* Icons */\n    --ag-charts-icon-font-family: 'agChartsDefault';\n    --ag-charts-icon-font-weight: normal;\n    --ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/theme-default-dark.ts\nvar theme_default_dark_default = `\n.ag-charts-theme-default-dark {\n    /* Colors */\n    --ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));\n    --ag-charts-foreground-color: var(--ag-foreground-color, #fff);\n    --ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, 0.16));\n    --ag-charts-hover-color: var(\n        --ag-row-hover-color,\n        color-mix(in srgb, transparent, var(--ag-charts-active-color) 20%)\n    );\n\n    /* Toolbar */\n    --ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/styles.ts\nvar styles_default = `\n/* Reset */\n${reset_default}\n\n/* Icons */\n${icons_default}\n\n/* AG Charts Theme Default */\n${theme_default_default}\n\n/* AG Charts Theme Default Dark */\n${theme_default_dark_default}\n`;\n\n// packages/ag-charts-community/src/util/async.ts\nfunction sleep(sleepTimeoutMs) {\n  return new Promise((resolve) => {\n    setTimeout(() => resolve(void 0), sleepTimeoutMs);\n  });\n}\n\n// packages/ag-charts-community/src/util/mutex.ts\nvar Mutex = class {\n  constructor() {\n    this.available = true;\n    this.acquireQueue = [];\n  }\n  acquire(cb) {\n    return new Promise((resolve) => {\n      this.acquireQueue.push([cb, resolve]);\n      if (this.available) {\n        this.dispatchNext().catch((e) => Logger.errorOnce(e));\n      }\n    });\n  }\n  acquireImmediately(cb) {\n    return __async(this, null, function* () {\n      if (!this.available) {\n        return false;\n      }\n      yield this.acquire(cb);\n      return true;\n    });\n  }\n  waitForClearAcquireQueue() {\n    return __async(this, null, function* () {\n      return this.acquire(() => __async(this, null, function* () {\n        return void 0;\n      }));\n    });\n  }\n  dispatchNext() {\n    return __async(this, null, function* () {\n      var _a, _b;\n      this.available = false;\n      let [next, done] = (_a = this.acquireQueue.shift()) != null ? _a : [];\n      while (next) {\n        try {\n          yield next();\n          done == null ? void 0 : done();\n        } catch (error) {\n          Logger.error(\"mutex callback error\", error);\n          done == null ? void 0 : done();\n        }\n        [next, done] = (_b = this.acquireQueue.shift()) != null ? _b : [];\n      }\n      this.available = true;\n    });\n  }\n};\n\n// packages/ag-charts-community/src/util/observable.ts\nvar Observable = class {\n  constructor() {\n    this.eventListeners = /* @__PURE__ */ new Map();\n  }\n  addEventListener(eventType, listener) {\n    if (typeof listener !== \"function\") {\n      throw new Error(\"AG Charts - listener must be a Function\");\n    }\n    const eventTypeListeners = this.eventListeners.get(eventType);\n    if (eventTypeListeners) {\n      eventTypeListeners.add(listener);\n    } else {\n      this.eventListeners.set(eventType, /* @__PURE__ */ new Set([listener]));\n    }\n  }\n  removeEventListener(type, listener) {\n    var _a;\n    (_a = this.eventListeners.get(type)) == null ? void 0 : _a.delete(listener);\n    if (this.eventListeners.size === 0) {\n      this.eventListeners.delete(type);\n    }\n  }\n  hasEventListener(type) {\n    return this.eventListeners.has(type);\n  }\n  clearEventListeners() {\n    this.eventListeners.clear();\n  }\n  fireEvent(event) {\n    var _a;\n    (_a = this.eventListeners.get(event.type)) == null ? void 0 : _a.forEach((listener) => listener(event));\n  }\n};\n\n// packages/ag-charts-community/src/util/padding.ts\nvar Padding = class extends BaseProperties {\n  constructor(top = 0, right = top, bottom = top, left = right) {\n    super();\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n  clear() {\n    this.top = this.right = this.bottom = this.left = 0;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"top\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"right\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"bottom\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"left\", 2);\n\n// packages/ag-charts-community/src/util/render.ts\nfunction debouncedAnimationFrame(cb) {\n  return buildScheduler((innerCb, _delayMs) => requestAnimationFrame(innerCb), cb);\n}\nfunction debouncedCallback(cb) {\n  return buildScheduler((innerCb, delayMs = 0) => setTimeout(innerCb, delayMs), cb);\n}\nfunction buildScheduler(scheduleFn, cb) {\n  let scheduleCount = 0;\n  let promiseRunning = false;\n  let awaitingPromise;\n  let awaitingDone;\n  const busy = () => {\n    return promiseRunning;\n  };\n  const done = () => {\n    promiseRunning = false;\n    awaitingDone == null ? void 0 : awaitingDone();\n    awaitingDone = void 0;\n    awaitingPromise = void 0;\n    if (scheduleCount > 0) {\n      scheduleFn(scheduleCb);\n    }\n  };\n  const scheduleCb = () => {\n    const count = scheduleCount;\n    scheduleCount = 0;\n    promiseRunning = true;\n    const maybePromise = cb({ count });\n    if (!maybePromise) {\n      done();\n      return;\n    }\n    maybePromise.then(done, done);\n  };\n  return {\n    schedule(delayMs) {\n      if (scheduleCount === 0 && !busy()) {\n        scheduleFn(scheduleCb, delayMs);\n      }\n      scheduleCount++;\n    },\n    await() {\n      return __async(this, null, function* () {\n        if (!busy()) {\n          return;\n        }\n        if (awaitingPromise == null) {\n          awaitingPromise = new Promise((resolve) => {\n            awaitingDone = resolve;\n          });\n        }\n        while (busy()) {\n          yield awaitingPromise;\n        }\n      });\n    }\n  };\n}\n\n// packages/ag-charts-community/src/util/sizeMonitor.ts\nvar SizeMonitor = class {\n  constructor() {\n    this.elements = /* @__PURE__ */ new Map();\n    this.documentReady = false;\n    this.queuedObserveRequests = [];\n    this.onLoad = () => {\n      this.documentReady = true;\n      this.queuedObserveRequests.forEach(([el, cb]) => this.observe(el, cb));\n      this.queuedObserveRequests = [];\n    };\n    var _a;\n    if (typeof ResizeObserver === \"undefined\")\n      return;\n    this.resizeObserver = new ResizeObserver((entries) => {\n      for (const { target, contentRect } of entries) {\n        const { width, height } = contentRect;\n        this.checkSize(this.elements.get(target), target, width, height);\n      }\n    });\n    this.documentReady = getDocument(\"readyState\") === \"complete\";\n    if (!this.documentReady) {\n      (_a = getWindow()) == null ? void 0 : _a.addEventListener(\"load\", this.onLoad);\n    }\n  }\n  destroy() {\n    var _a, _b;\n    (_a = getWindow()) == null ? void 0 : _a.removeEventListener(\"load\", this.onLoad);\n    (_b = this.resizeObserver) == null ? void 0 : _b.disconnect();\n    this.resizeObserver = null;\n  }\n  checkSize(entry, element2, width, height) {\n    var _a, _b;\n    if (!entry)\n      return;\n    if (width !== ((_a = entry.size) == null ? void 0 : _a.width) || height !== ((_b = entry.size) == null ? void 0 : _b.height)) {\n      entry.size = { width, height };\n      entry.cb(entry.size, element2);\n    }\n  }\n  // Only a single callback is supported.\n  observe(element2, cb) {\n    var _a;\n    if (!this.documentReady) {\n      this.queuedObserveRequests.push([element2, cb]);\n      return;\n    }\n    if (this.elements.has(element2)) {\n      this.removeFromQueue(element2);\n    } else {\n      (_a = this.resizeObserver) == null ? void 0 : _a.observe(element2);\n    }\n    this.elements.set(element2, { cb });\n  }\n  unobserve(element2) {\n    var _a;\n    (_a = this.resizeObserver) == null ? void 0 : _a.unobserve(element2);\n    this.elements.delete(element2);\n    this.removeFromQueue(element2);\n    if (!this.elements.size) {\n      this.destroy();\n    }\n  }\n  removeFromQueue(element2) {\n    this.queuedObserveRequests = this.queuedObserveRequests.filter(([el]) => el !== element2);\n  }\n};\n\n// packages/ag-charts-community/src/util/callbackCache.ts\nvar CallbackCache = class {\n  constructor() {\n    this.cache = /* @__PURE__ */ new WeakMap();\n  }\n  call(fn, ...params) {\n    let serialisedParams;\n    let paramCache = this.cache.get(fn);\n    const invoke = () => {\n      try {\n        const result = fn(...params);\n        if (paramCache && serialisedParams != null) {\n          paramCache.set(serialisedParams, result);\n        }\n        return result;\n      } catch (e) {\n        Logger.warnOnce(`User callback errored, ignoring`, e);\n        return;\n      }\n    };\n    try {\n      serialisedParams = JSON.stringify(params);\n    } catch (e) {\n      return invoke();\n    }\n    if (paramCache == null) {\n      paramCache = /* @__PURE__ */ new Map();\n      this.cache.set(fn, paramCache);\n    }\n    if (!paramCache.has(serialisedParams)) {\n      return invoke();\n    }\n    return paramCache.get(serialisedParams);\n  }\n  invalidateCache() {\n    this.cache = /* @__PURE__ */ new WeakMap();\n  }\n};\n\n// packages/ag-charts-community/src/chart/annotation/annotationManager.ts\nvar AnnotationManager = class {\n  constructor(annotationRoot) {\n    this.annotationRoot = annotationRoot;\n  }\n  attachNode(node) {\n    this.annotationRoot.append(node);\n    return () => {\n      var _a;\n      (_a = this.annotationRoot) == null ? void 0 : _a.removeChild(node);\n      return this;\n    };\n  }\n  setAnnotationStyles(styles) {\n    this.styles = styles;\n  }\n  getAnnotationTypeStyles(type) {\n    var _a;\n    return (_a = this.styles) == null ? void 0 : _a[type];\n  }\n};\n\n// packages/ag-charts-community/src/util/listeners.ts\nvar Listeners = class {\n  constructor() {\n    this.registeredListeners = /* @__PURE__ */ new Map();\n  }\n  addListener(eventType, handler) {\n    const record = { symbol: Symbol(eventType), handler };\n    if (this.registeredListeners.has(eventType)) {\n      this.registeredListeners.get(eventType).push(record);\n    } else {\n      this.registeredListeners.set(eventType, [record]);\n    }\n    return () => this.removeListener(record.symbol);\n  }\n  removeListener(eventSymbol) {\n    for (const [type, listeners] of this.registeredListeners.entries()) {\n      const matchIndex = listeners.findIndex((listener) => listener.symbol === eventSymbol);\n      if (matchIndex >= 0) {\n        listeners.splice(matchIndex, 1);\n        if (listeners.length === 0) {\n          this.registeredListeners.delete(type);\n        }\n        break;\n      }\n    }\n  }\n  dispatch(eventType, ...params) {\n    for (const listener of this.getListenersByType(eventType)) {\n      try {\n        listener.handler(...params);\n      } catch (e) {\n        Logger.errorOnce(e);\n      }\n    }\n  }\n  dispatchWrapHandlers(eventType, wrapFn, ...params) {\n    for (const listener of this.getListenersByType(eventType)) {\n      try {\n        wrapFn(listener.handler, ...params);\n      } catch (e) {\n        Logger.errorOnce(e);\n      }\n    }\n  }\n  getListenersByType(eventType) {\n    var _a;\n    return (_a = this.registeredListeners.get(eventType)) != null ? _a : [];\n  }\n  destroy() {\n    this.registeredListeners.clear();\n  }\n};\n\n// packages/ag-charts-community/src/chart/data/dataService.ts\nvar DataService = class extends Listeners {\n  constructor(animationManager) {\n    super();\n    this.animationManager = animationManager;\n    this.dispatchOnlyLatest = true;\n    this.dispatchThrottle = 0;\n    this.requestThrottle = 300;\n    this.isLoadingInitialData = false;\n    this.isLoadingData = false;\n    this.freshRequests = [];\n    this.requestCounter = 0;\n    this.debug = Debug.create(true, \"data-model\", \"data-source\");\n    this.throttledFetch = this.createThrottledFetch(this.requestThrottle);\n    this.throttledDispatch = this.createThrottledDispatch(this.dispatchThrottle);\n  }\n  updateCallback(dataSourceCallback) {\n    if (typeof dataSourceCallback !== \"function\")\n      return;\n    this.debug(\"DataService - updated data source callback\");\n    this.dataSourceCallback = dataSourceCallback;\n    this.isLoadingInitialData = true;\n    this.animationManager.skip();\n    this.dispatch(\"data-source-change\");\n  }\n  clearCallback() {\n    this.dataSourceCallback = void 0;\n  }\n  load(params) {\n    this.isLoadingData = true;\n    this.throttledFetch(params);\n  }\n  isLazy() {\n    return this.dataSourceCallback != null;\n  }\n  isLoading() {\n    return this.isLazy() && (this.isLoadingInitialData || this.isLoadingData);\n  }\n  createThrottledFetch(requestThrottle) {\n    return throttle((params) => this.fetch(params), requestThrottle, {\n      leading: false,\n      trailing: true\n    });\n  }\n  createThrottledDispatch(dispatchThrottle) {\n    return throttle(\n      (id, data) => {\n        this.debug(`DataService - dispatching 'data-load' | ${id}`);\n        this.dispatch(\"data-load\", { type: \"data-load\", data });\n      },\n      dispatchThrottle,\n      {\n        leading: true,\n        trailing: true\n      }\n    );\n  }\n  fetch(params) {\n    return __async(this, null, function* () {\n      if (!this.dataSourceCallback) {\n        throw new Error(\"DataService - [dataSource.getData] callback not initialised\");\n      }\n      const start = performance.now();\n      const id = this.requestCounter++;\n      this.debug(`DataService - requesting | ${id}`);\n      this.freshRequests.push(id);\n      let response;\n      try {\n        response = yield this.dataSourceCallback(params);\n        this.debug(`DataService - response | ${performance.now() - start}ms | ${id}`);\n      } catch (error) {\n        this.debug(`DataService - request failed | ${id}`);\n        Logger.errorOnce(`DataService - request failed | [${error}]`);\n      }\n      this.isLoadingInitialData = false;\n      const requestIndex = this.freshRequests.findIndex((rid) => rid === id);\n      if (requestIndex === -1 || this.dispatchOnlyLatest && requestIndex !== this.freshRequests.length - 1) {\n        this.debug(`DataService - discarding stale request | ${id}`);\n        return;\n      }\n      this.freshRequests = this.freshRequests.slice(requestIndex + 1);\n      if (this.freshRequests.length === 0) {\n        this.isLoadingData = false;\n      }\n      if (Array.isArray(response)) {\n        this.throttledDispatch(id, response);\n      } else {\n        this.dispatch(\"data-error\");\n      }\n    });\n  }\n};\n__decorateClass([\n  ActionOnSet({\n    newValue(dispatchThrottle) {\n      this.throttledDispatch = this.createThrottledDispatch(dispatchThrottle);\n    }\n  })\n], DataService.prototype, \"dispatchThrottle\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(requestThrottle) {\n      this.throttledFetch = this.createThrottledFetch(requestThrottle);\n    }\n  })\n], DataService.prototype, \"requestThrottle\", 2);\n\n// packages/ag-charts-community/src/chart/interaction/animationBatch.ts\nvar AnimationBatch = class {\n  constructor(maxAnimationTime) {\n    this.maxAnimationTime = maxAnimationTime;\n    this.debug = Debug.create(true, \"animation\");\n    this.controllers = /* @__PURE__ */ new Map();\n    this.stoppedCbs = /* @__PURE__ */ new Set();\n    this.currentPhase = 0;\n    this.phases = new Map(PHASE_ORDER.map((p) => [p, []]));\n    this.skipAnimations = false;\n    this.animationTimeConsumed = 0;\n    /** Guard against premature animation execution. */\n    this.isReady = false;\n  }\n  get size() {\n    return this.controllers.size;\n  }\n  get consumedTimeMs() {\n    return this.animationTimeConsumed;\n  }\n  isActive() {\n    return this.controllers.size > 0;\n  }\n  getActiveControllers() {\n    var _a;\n    return (_a = this.phases.get(PHASE_ORDER[this.currentPhase])) != null ? _a : [];\n  }\n  checkOverlappingId(id) {\n    if (id != null && this.controllers.has(id)) {\n      this.controllers.get(id).stop();\n      this.debug(`Skipping animation batch due to update of existing animation: ${id}`);\n      this.skip();\n    }\n  }\n  addAnimation(animation) {\n    var _a;\n    if (animation.isComplete)\n      return;\n    const animationPhaseIdx = PHASE_ORDER.indexOf(animation.phase);\n    if (animationPhaseIdx < this.currentPhase) {\n      this.debug(`Skipping animation due to being for an earlier phase`, animation.id);\n      animation.stop();\n      return;\n    }\n    this.controllers.set(animation.id, animation);\n    (_a = this.phases.get(animation.phase)) == null ? void 0 : _a.push(animation);\n  }\n  removeAnimation(animation) {\n    this.controllers.delete(animation.id);\n    const phase = this.phases.get(animation.phase);\n    const index = phase == null ? void 0 : phase.indexOf(animation);\n    if (index != null && index >= 0) {\n      phase == null ? void 0 : phase.splice(index, 1);\n    }\n  }\n  progress(deltaTime) {\n    if (!this.isReady)\n      return;\n    let unusedTime = deltaTime === 0 ? 0.01 : deltaTime;\n    const refresh = () => {\n      const phase2 = PHASE_ORDER[this.currentPhase];\n      return {\n        phaseControllers: [...this.getActiveControllers()],\n        phase: phase2,\n        phaseMeta: PHASE_METADATA[phase2]\n      };\n    };\n    let { phase, phaseControllers, phaseMeta } = refresh();\n    const arePhasesComplete = () => PHASE_ORDER[this.currentPhase] == null;\n    const progressPhase = () => {\n      ({ phase, phaseControllers, phaseMeta } = refresh());\n      while (!arePhasesComplete() && phaseControllers.length === 0) {\n        this.currentPhase++;\n        ({ phase, phaseControllers, phaseMeta } = refresh());\n        this.debug(`AnimationBatch - phase changing to ${phase}`, { unusedTime }, phaseControllers);\n      }\n    };\n    const total = this.controllers.size;\n    this.debug(`AnimationBatch - ${deltaTime}ms; phase ${phase} with ${phaseControllers == null ? void 0 : phaseControllers.length} of ${total}`);\n    do {\n      const phaseDeltaTime = unusedTime;\n      const skipPhase = phaseMeta.skipIfNoEarlierAnimations && this.animationTimeConsumed === 0;\n      let completeCount = 0;\n      for (const controller of phaseControllers) {\n        if (skipPhase) {\n          controller.stop();\n        } else {\n          unusedTime = Math.min(controller.update(phaseDeltaTime), unusedTime);\n        }\n        if (controller.isComplete) {\n          completeCount++;\n          this.removeAnimation(controller);\n        }\n      }\n      this.animationTimeConsumed += phaseDeltaTime - unusedTime;\n      this.debug(`AnimationBatch - updated ${phaseControllers.length} controllers; ${completeCount} completed`);\n      this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`);\n      progressPhase();\n    } while (unusedTime > 0 && !arePhasesComplete());\n    if (this.animationTimeConsumed > this.maxAnimationTime) {\n      Logger.warnOnce(\n        \"Animation batch exceeded max animation time, skipping.\",\n        new Map(this.controllers.entries())\n      );\n      this.stop();\n    }\n  }\n  ready() {\n    if (this.isReady)\n      return;\n    this.isReady = true;\n    this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`, [...this.controllers]);\n    let skipAll = true;\n    for (const [, controller] of this.controllers) {\n      if (controller.duration > 0 && PHASE_METADATA[controller.phase].skipIfNoEarlierAnimations !== true) {\n        skipAll = false;\n        break;\n      }\n    }\n    if (!skipAll) {\n      for (const [, controller] of this.controllers) {\n        if (controller.autoplay) {\n          controller.play(true);\n        }\n      }\n    }\n  }\n  skip(skip = true) {\n    if (this.skipAnimations === false && skip === true) {\n      for (const controller of this.controllers.values()) {\n        controller.stop();\n      }\n      this.controllers.clear();\n    }\n    this.skipAnimations = skip;\n  }\n  play() {\n    for (const controller of this.controllers.values()) {\n      controller.play();\n    }\n  }\n  pause() {\n    for (const controller of this.controllers.values()) {\n      controller.pause();\n    }\n  }\n  stop() {\n    for (const controller of this.controllers.values()) {\n      try {\n        controller.stop();\n        this.removeAnimation(controller);\n      } catch (error) {\n        Logger.error(\"Error during animation stop\", error);\n      }\n    }\n    this.dispatchStopped();\n  }\n  stopByAnimationId(id) {\n    if (id != null && this.controllers.has(id)) {\n      const controller = this.controllers.get(id);\n      if (controller) {\n        controller.stop();\n        this.removeAnimation(controller);\n      }\n    }\n  }\n  stopByAnimationGroupId(id) {\n    for (const controller of this.controllers.values()) {\n      if (controller.groupId === id) {\n        this.stopByAnimationId(controller.id);\n      }\n    }\n  }\n  dispatchStopped() {\n    this.stoppedCbs.forEach((cb) => cb());\n    this.stoppedCbs.clear();\n  }\n  isSkipped() {\n    return this.skipAnimations;\n  }\n  destroy() {\n    this.stop();\n    this.controllers.clear();\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/baseManager.ts\nvar BaseManager = class {\n  constructor() {\n    this.listeners = new Listeners();\n    this.destroyFns = [];\n  }\n  addListener(type, handler) {\n    return this.listeners.addListener(type, handler);\n  }\n  removeListener(listenerSymbol) {\n    this.listeners.removeListener(listenerSymbol);\n  }\n  destroy() {\n    this.listeners.destroy();\n    this.destroyFns.forEach((fn) => fn());\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/consumableEvent.ts\nfunction buildConsumable(obj) {\n  const builtEvent = __spreadProps(__spreadValues({}, obj), {\n    consumed: false,\n    consume() {\n      var _a, _b;\n      builtEvent.consumed = true;\n      if (obj.sourceEvent instanceof Event) {\n        (_a = obj.sourceEvent) == null ? void 0 : _a.preventDefault();\n      } else {\n        (_b = obj.sourceEvent) == null ? void 0 : _b.consume();\n      }\n    }\n  });\n  return builtEvent;\n}\nfunction buildConsumptionHandler() {\n  return (handler, e) => {\n    if (!e.consumed) {\n      handler(e);\n    }\n  };\n}\nfunction dispatchTypedConsumable(listeners, type, event) {\n  listeners.dispatchWrapHandlers(type, buildConsumptionHandler(), event);\n}\n\n// packages/ag-charts-community/src/chart/interaction/interactionManager.ts\nvar POINTER_INTERACTION_TYPES = [\n  \"click\",\n  \"dblclick\",\n  \"contextmenu\",\n  \"hover\",\n  \"drag-start\",\n  \"drag\",\n  \"drag-end\",\n  \"leave\",\n  \"enter\",\n  \"page-left\",\n  \"wheel\"\n];\nvar FOCUS_INTERACTION_TYPES = [\"blur\", \"focus\"];\nvar KEY_INTERACTION_TYPES = [\"keydown\", \"keyup\"];\nvar WINDOW_EVENT_HANDLERS = [\"pagehide\", \"mousemove\", \"mouseup\"];\nvar EVENT_HANDLERS = [\n  \"click\",\n  \"dblclick\",\n  \"contextmenu\",\n  \"mousedown\",\n  \"mouseout\",\n  \"mouseenter\",\n  \"touchstart\",\n  \"touchmove\",\n  \"touchend\",\n  \"touchcancel\",\n  \"wheel\",\n  \"blur\",\n  \"focus\",\n  \"keydown\",\n  \"keyup\"\n];\nvar CSS = `\n.ag-chart-wrapper {\n    touch-action: none;\n}\n`;\nvar InteractionState = /* @__PURE__ */ ((InteractionState2) => {\n  InteractionState2[InteractionState2[\"Default\"] = 16] = \"Default\";\n  InteractionState2[InteractionState2[\"ZoomDrag\"] = 8] = \"ZoomDrag\";\n  InteractionState2[InteractionState2[\"Annotations\"] = 4] = \"Annotations\";\n  InteractionState2[InteractionState2[\"ContextMenu\"] = 2] = \"ContextMenu\";\n  InteractionState2[InteractionState2[\"Animation\"] = 1] = \"Animation\";\n  InteractionState2[InteractionState2[\"All\"] = 31] = \"All\";\n  return InteractionState2;\n})(InteractionState || {});\nvar _InteractionManager = class _InteractionManager extends BaseManager {\n  constructor(keyboardOptions, element2) {\n    super();\n    this.keyboardOptions = keyboardOptions;\n    this.debug = Debug.create(true, \"interaction\");\n    this.eventHandler = (event) => this.processEvent(event);\n    this.mouseDown = false;\n    this.touchDown = false;\n    this.clickHistory = [{ offsetX: NaN, offsetY: NaN, type: \"mousedown\" }];\n    this.dblclickHistory = [\n      { offsetX: NaN, offsetY: NaN, type: \"mousedown\" },\n      { offsetX: NaN, offsetY: NaN, type: \"mouseup\" },\n      { offsetX: NaN, offsetY: NaN, type: \"mousedown\" }\n    ];\n    this.stateQueue = 16 /* Default */ | 1 /* Animation */;\n    this.rootElement = getDocument(\"body\");\n    this.element = element2;\n    for (const type of EVENT_HANDLERS) {\n      if (type.startsWith(\"touch\")) {\n        element2.addEventListener(type, this.eventHandler, { passive: true });\n      } else if (type === \"wheel\") {\n        element2.addEventListener(type, this.eventHandler, { passive: false });\n      } else {\n        element2.addEventListener(type, this.eventHandler);\n      }\n    }\n    for (const type of WINDOW_EVENT_HANDLERS) {\n      getWindow().addEventListener(type, this.eventHandler);\n    }\n    injectStyle(CSS, \"interactionManager\");\n  }\n  destroy() {\n    super.destroy();\n    for (const type of WINDOW_EVENT_HANDLERS) {\n      getWindow().removeEventListener(type, this.eventHandler);\n    }\n    for (const type of EVENT_HANDLERS) {\n      this.element.removeEventListener(type, this.eventHandler);\n    }\n  }\n  // Wrapper to only broadcast events when the InteractionManager is a given state.\n  addListener(type, handler, triggeringStates = 16 /* Default */) {\n    return super.addListener(type, (e) => {\n      const currentState = this.getState();\n      if (currentState & triggeringStates) {\n        handler(e);\n      }\n    });\n  }\n  pushState(state) {\n    this.stateQueue |= state;\n  }\n  popState(state) {\n    this.stateQueue &= ~state;\n  }\n  getState() {\n    return this.stateQueue & -this.stateQueue;\n  }\n  processEvent(event) {\n    const types = this.decideInteractionEventTypes(event);\n    if (types.length > 0) {\n      this.dispatchEvent(event, types).catch((e) => Logger.errorOnce(e));\n    }\n  }\n  dispatchEvent(event, types) {\n    return __async(this, null, function* () {\n      if (allInStringUnion(POINTER_INTERACTION_TYPES, types)) {\n        this.dispatchPointerEvent(event, types);\n      } else if (allInStringUnion(FOCUS_INTERACTION_TYPES, types)) {\n        for (const type of types) {\n          dispatchTypedConsumable(\n            this.listeners,\n            type,\n            buildConsumable({ type, sourceEvent: event })\n          );\n        }\n      } else if (allInStringUnion(KEY_INTERACTION_TYPES, types)) {\n        for (const type of types) {\n          dispatchTypedConsumable(\n            this.listeners,\n            type,\n            buildConsumable({ type, sourceEvent: event })\n          );\n        }\n      }\n    });\n  }\n  dispatchPointerEvent(event, types) {\n    const coords = this.calculateCoordinates(event);\n    if (coords == null) {\n      return;\n    }\n    for (const type of types) {\n      dispatchTypedConsumable(this.listeners, type, this.buildPointerEvent(__spreadValues({ type, event }, coords)));\n    }\n  }\n  recordDown(event) {\n    if (event instanceof MouseEvent) {\n      partialAssign([\"offsetX\", \"offsetY\"], this.clickHistory[0], event);\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[2], this.dblclickHistory[0]);\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[0], event);\n    }\n    this.dragStartElement = event.target;\n  }\n  recordUp(event) {\n    if (event instanceof MouseEvent) {\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[1], event);\n    }\n    this.dragStartElement = void 0;\n  }\n  decideInteractionEventTypes(event) {\n    const dragStart = \"drag-start\";\n    switch (event.type) {\n      case \"blur\":\n      case \"focus\":\n      case \"keydown\":\n      case \"keyup\":\n        return this.keyboardOptions.enabled ? [event.type] : [];\n      case \"click\":\n      case \"dblclick\":\n      case \"contextmenu\":\n      case \"wheel\":\n        return [event.type];\n      case \"mousedown\":\n        if (!this.isEventOverElement(event)) {\n          return [];\n        }\n        this.mouseDown = true;\n        this.recordDown(event);\n        return [dragStart];\n      case \"touchstart\":\n        if (!this.isEventOverElement(event)) {\n          return [];\n        }\n        this.touchDown = true;\n        this.recordDown(event);\n        return [dragStart];\n      case \"touchmove\":\n      case \"mousemove\":\n        if (!this.mouseDown && !this.touchDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        return this.mouseDown || this.touchDown ? [\"drag\"] : [\"hover\"];\n      case \"mouseup\":\n        if (!this.mouseDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        this.mouseDown = false;\n        this.recordUp(event);\n        return [\"drag-end\"];\n      case \"touchend\":\n        if (!this.touchDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        this.touchDown = false;\n        this.recordUp(event);\n        return [\"drag-end\"];\n      case \"mouseout\":\n      case \"touchcancel\":\n        return [\"leave\"];\n      case \"mouseenter\":\n        const mouseButtonDown = event instanceof MouseEvent && (event.buttons & 1) === 1;\n        if (this.mouseDown !== mouseButtonDown) {\n          this.mouseDown = mouseButtonDown;\n          return [mouseButtonDown ? dragStart : \"drag-end\"];\n        }\n        return [\"enter\"];\n      case \"pagehide\":\n        return [\"page-left\"];\n    }\n    return [];\n  }\n  isEventOverElement(event) {\n    var _a, _b, _c;\n    return event.target === this.element || ((_a = event.target) == null ? void 0 : _a.parentElement) === this.element || ((_c = (_b = event.target) == null ? void 0 : _b.parentElement) == null ? void 0 : _c.parentElement) === this.element;\n  }\n  calculateCoordinates(event) {\n    var _a;\n    if (event instanceof MouseEvent) {\n      return this.getMouseEventCoords(event);\n    } else if (typeof TouchEvent !== \"undefined\" && event instanceof TouchEvent) {\n      const lastTouch = (_a = event.touches[0]) != null ? _a : event.changedTouches[0];\n      const { clientX, clientY, pageX, pageY } = lastTouch;\n      return __spreadProps(__spreadValues({}, _InteractionManager.NULL_COORDS), { clientX, clientY, pageX, pageY });\n    } else if (event instanceof PageTransitionEvent) {\n      if (event.persisted) {\n        return;\n      }\n      return _InteractionManager.NULL_COORDS;\n    }\n  }\n  getMouseEventCoords(event) {\n    const { clientX, clientY, pageX, pageY } = event;\n    let { offsetX, offsetY } = event;\n    const offsets = (el) => {\n      let x = 0;\n      let y = 0;\n      while (el) {\n        x += el.offsetLeft;\n        y += el.offsetTop;\n        el = el.offsetParent;\n      }\n      return { x, y };\n    };\n    if (this.dragStartElement != null && event.target !== this.dragStartElement) {\n      const offsetDragStart = offsets(this.dragStartElement);\n      const offsetEvent = offsets(event.target);\n      offsetX -= offsetDragStart.x - offsetEvent.x;\n      offsetY -= offsetDragStart.y - offsetEvent.y;\n    }\n    return { clientX, clientY, pageX, pageY, offsetX, offsetY };\n  }\n  isWheelEvent(event) {\n    return event.type === \"wheel\";\n  }\n  buildPointerEvent(opts) {\n    const { type, event, clientX, clientY } = opts;\n    let { offsetX, offsetY, pageX, pageY } = opts;\n    if (!isFiniteNumber(offsetX) || !isFiniteNumber(offsetY)) {\n      const rect = this.element.getBoundingClientRect();\n      offsetX = clientX - rect.left;\n      offsetY = clientY - rect.top;\n    }\n    if (!isFiniteNumber(pageX) || !isFiniteNumber(pageY)) {\n      const pageRect = this.rootElement.getBoundingClientRect();\n      pageX = clientX - pageRect.left;\n      pageY = clientY - pageRect.top;\n    }\n    let [deltaX, deltaY] = [NaN, NaN];\n    if (this.isWheelEvent(event)) {\n      const factor = event.deltaMode === 0 ? 0.01 : 1;\n      deltaX = event.deltaX * factor;\n      deltaY = event.deltaY * factor;\n    }\n    let pointerHistory = [];\n    if (event.type === \"click\") {\n      pointerHistory = this.clickHistory;\n    } else if (event.type === \"dblclick\") {\n      pointerHistory = this.dblclickHistory;\n    }\n    const builtEvent = buildConsumable({\n      type,\n      offsetX,\n      offsetY,\n      pageX,\n      pageY,\n      deltaX,\n      deltaY,\n      pointerHistory,\n      sourceEvent: event\n    });\n    this.debug(\"InteractionManager - builtEvent: \", builtEvent);\n    return builtEvent;\n  }\n};\n_InteractionManager.NULL_COORDS = {\n  clientX: -Infinity,\n  clientY: -Infinity,\n  pageX: -Infinity,\n  pageY: -Infinity,\n  offsetX: -Infinity,\n  offsetY: -Infinity\n};\nvar InteractionManager = _InteractionManager;\n\n// packages/ag-charts-community/src/chart/interaction/animationManager.ts\nfunction validAnimationDuration(testee) {\n  if (testee == null)\n    return true;\n  return !isNaN(testee) && testee >= 0 && testee <= 2;\n}\nvar AnimationManager = class extends BaseManager {\n  constructor(interactionManager, chartUpdateMutex) {\n    super();\n    this.interactionManager = interactionManager;\n    this.chartUpdateMutex = chartUpdateMutex;\n    this.defaultDuration = 1e3;\n    this.batch = new AnimationBatch(this.defaultDuration * 1.5);\n    this.debug = Debug.create(true, \"animation\");\n    this.rafAvailable = typeof requestAnimationFrame !== \"undefined\";\n    this.isPlaying = false;\n    this.requestId = null;\n    this.skipAnimations = false;\n  }\n  /**\n   * Create an animation to tween a value between the `from` and `to` properties. If an animation already exists\n   * with the same `id`, immediately stop it.\n   */\n  animate(_a) {\n    var opts = __objRest(_a, []);\n    var _a2;\n    const batch = this.batch;\n    try {\n      batch.checkOverlappingId(opts.id);\n    } catch (error) {\n      this.failsafeOnError(error);\n      return;\n    }\n    const id = (_a2 = opts.id) != null ? _a2 : Math.random().toString();\n    const skip = this.isSkipped() || opts.phase === \"none\";\n    if (skip) {\n      this.debug(\"AnimationManager - skipping animation\");\n    }\n    const { delay, duration } = opts;\n    if (!validAnimationDuration(delay)) {\n      throw new Error(`Animation delay of ${delay} is unsupported (${id})`);\n    }\n    if (!validAnimationDuration(duration)) {\n      throw new Error(`Animation duration of ${duration} is unsupported (${id})`);\n    }\n    const animation = new Animation(__spreadProps(__spreadValues({}, opts), {\n      id,\n      skip,\n      autoplay: this.isPlaying ? opts.autoplay : false,\n      phase: opts.phase,\n      defaultDuration: this.defaultDuration\n    }));\n    if (this.forceTimeJump(animation, this.defaultDuration)) {\n      return;\n    }\n    this.batch.addAnimation(animation);\n    return animation;\n  }\n  play() {\n    if (this.isPlaying) {\n      return;\n    }\n    this.isPlaying = true;\n    this.debug(\"AnimationManager.play()\");\n    try {\n      this.batch.play();\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n    this.requestAnimation();\n  }\n  pause() {\n    if (!this.isPlaying) {\n      return;\n    }\n    this.isPlaying = false;\n    this.cancelAnimation();\n    this.debug(\"AnimationManager.pause()\");\n    try {\n      this.batch.pause();\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  stop() {\n    this.isPlaying = false;\n    this.cancelAnimation();\n    this.debug(\"AnimationManager.stop()\");\n    this.batch.stop();\n  }\n  stopByAnimationId(id) {\n    try {\n      this.batch.stopByAnimationId(id);\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  stopByAnimationGroupId(id) {\n    try {\n      this.batch.stopByAnimationGroupId(id);\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  reset() {\n    if (this.isPlaying) {\n      this.stop();\n      this.play();\n    } else {\n      this.stop();\n    }\n  }\n  skip(skip = true) {\n    this.skipAnimations = skip;\n  }\n  isSkipped() {\n    return !this.rafAvailable || this.skipAnimations || this.batch.isSkipped();\n  }\n  isActive() {\n    return this.isPlaying && this.batch.isActive();\n  }\n  skipCurrentBatch() {\n    if (this.debug.check()) {\n      this.debug(`AnimationManager - skipCurrentBatch()`, { stack: new Error().stack });\n    }\n    this.batch.skip();\n  }\n  /** Mocking point for tests to guarantee that animation updates happen. */\n  isSkippingFrames() {\n    return true;\n  }\n  /** Mocking point for tests to capture requestAnimationFrame callbacks. */\n  scheduleAnimationFrame(cb) {\n    this.requestId = requestAnimationFrame(cb);\n  }\n  /** Mocking point for tests to skip animations to a specific point in time. */\n  forceTimeJump(_animation, _defaultDuration) {\n    return false;\n  }\n  requestAnimation() {\n    if (!this.rafAvailable)\n      return;\n    if (!this.batch.isActive() || this.requestId !== null)\n      return;\n    let prevTime;\n    const onAnimationFrame = (time2) => __async(this, null, function* () {\n      const executeAnimationFrame = () => __async(this, null, function* () {\n        const deltaTime = time2 - (prevTime != null ? prevTime : time2);\n        prevTime = time2;\n        this.debug(\"AnimationManager - onAnimationFrame()\", {\n          controllersCount: this.batch.size,\n          deltaTime\n        });\n        this.interactionManager.pushState(1 /* Animation */);\n        try {\n          this.batch.progress(deltaTime);\n        } catch (error) {\n          this.failsafeOnError(error);\n        }\n        this.listeners.dispatch(\"animation-frame\", {\n          type: \"animation-frame\",\n          deltaMs: deltaTime\n        });\n      });\n      if (this.isSkippingFrames()) {\n        yield this.chartUpdateMutex.acquireImmediately(executeAnimationFrame);\n      } else {\n        yield this.chartUpdateMutex.acquire(executeAnimationFrame);\n      }\n      if (this.batch.isActive()) {\n        this.scheduleAnimationFrame(onAnimationFrame);\n      } else {\n        this.batch.stop();\n        this.listeners.dispatch(\"animation-stop\", {\n          type: \"animation-stop\",\n          deltaMs: this.batch.consumedTimeMs\n        });\n      }\n    });\n    this.listeners.dispatch(\"animation-start\", {\n      type: \"animation-start\",\n      deltaMs: 0\n    });\n    this.scheduleAnimationFrame(onAnimationFrame);\n  }\n  cancelAnimation() {\n    if (this.requestId === null)\n      return;\n    cancelAnimationFrame(this.requestId);\n    this.requestId = null;\n    this.startBatch();\n  }\n  failsafeOnError(error, cancelAnimation = true) {\n    Logger.error(\"Error during animation, skipping animations\", error);\n    if (cancelAnimation) {\n      this.cancelAnimation();\n    }\n  }\n  startBatch(skipAnimations) {\n    this.debug(`AnimationManager - startBatch() with skipAnimations=${skipAnimations}.`);\n    this.reset();\n    this.batch.stop();\n    this.batch.destroy();\n    this.batch = new AnimationBatch(this.defaultDuration * 1.5);\n    if (skipAnimations === true) {\n      this.batch.skip();\n    }\n  }\n  endBatch() {\n    if (this.batch.isActive()) {\n      this.batch.ready();\n      this.requestAnimation();\n    } else {\n      this.interactionManager.popState(1 /* Animation */);\n      if (this.batch.isSkipped()) {\n        this.batch.skip(false);\n      }\n    }\n  }\n  onBatchStop(cb) {\n    this.batch.stoppedCbs.add(cb);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/ariaAnnouncementServices.ts\nvar AriaAnnouncementService = class _AriaAnnouncementService {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.debug = Debug.create(true, \"aria\");\n    this.canvas.appendChild(this.liveElem = _AriaAnnouncementService.createAnnouncer());\n  }\n  static createAnnouncer() {\n    const e = getDocument().createElement(\"div\");\n    e.classList.add(\"ag-charts-aria-announcer\");\n    setAttribute(e, \"role\", \"status\");\n    setAttribute(e, \"aria-live\", \"assertive\");\n    return e;\n  }\n  destroy() {\n    this.canvas.removeChild(this.liveElem);\n  }\n  announceValue(value) {\n    this.debug(`AriaAnnouncementService - announceValue: ${value}`);\n    this.liveElem.textContent = value;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/chartEventManager.ts\nvar ChartEventManager = class extends BaseManager {\n  legendItemClick(series, itemId, enabled, legendItemName) {\n    const event = {\n      type: \"legend-item-click\",\n      series,\n      itemId,\n      enabled,\n      legendItemName\n    };\n    this.listeners.dispatch(\"legend-item-click\", event);\n  }\n  legendItemDoubleClick(series, itemId, enabled, numVisibleItems, legendItemName) {\n    const event = {\n      type: \"legend-item-double-click\",\n      series,\n      itemId,\n      enabled,\n      legendItemName,\n      numVisibleItems\n    };\n    this.listeners.dispatch(\"legend-item-double-click\", event);\n  }\n  axisHover(axisId, direction) {\n    const event = {\n      type: \"axis-hover\",\n      axisId,\n      direction\n    };\n    this.listeners.dispatch(\"axis-hover\", event);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/contextMenuRegistry.ts\nvar ContextMenuRegistry = class {\n  constructor() {\n    this.defaultActions = [];\n    this.disabledActions = /* @__PURE__ */ new Set();\n  }\n  copyDefaultActions() {\n    return [...this.defaultActions];\n  }\n  registerDefaultAction(action) {\n    if (action.id && this.defaultActions.find(({ id }) => id === action.id)) {\n      return;\n    }\n    this.defaultActions.push(action);\n  }\n  enableAction(actionId) {\n    this.disabledActions.delete(actionId);\n  }\n  disableAction(actionId) {\n    this.disabledActions.add(actionId);\n  }\n  isDisabled(actionId) {\n    return this.disabledActions.has(actionId);\n  }\n};\n\n// packages/ag-charts-community/src/util/stateTracker.ts\nvar StateTracker = class extends Map {\n  constructor(defaultValue, defaultState) {\n    super();\n    this.defaultValue = defaultValue;\n    this.defaultState = defaultState;\n  }\n  set(key, value) {\n    this.delete(key);\n    if (typeof value !== \"undefined\") {\n      super.set(key, value);\n    }\n    return this;\n  }\n  stateId() {\n    var _a;\n    return (_a = Array.from(this.keys()).pop()) != null ? _a : this.defaultState;\n  }\n  stateValue() {\n    var _a;\n    return (_a = Array.from(this.values()).pop()) != null ? _a : this.defaultValue;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/cursorManager.ts\nvar CursorManager = class {\n  constructor(element2) {\n    this.element = element2;\n    this.stateTracker = new StateTracker(\"default\");\n  }\n  updateCursor(callerId, style) {\n    this.stateTracker.set(callerId, style);\n    this.element.style.cursor = this.stateTracker.stateValue();\n  }\n  getCursor() {\n    return this.element.style.cursor;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/gestureDetector.ts\nfunction distanceSquared(finger1, finger2) {\n  const dx = finger1.screenX - finger2.screenX;\n  const dy = finger1.screenY - finger2.screenY;\n  return dx * dx + dy * dy;\n}\nfunction distance(finger1, finger2) {\n  return Math.sqrt(distanceSquared(finger1, finger2));\n}\nvar MIN_DISTANCE_TO_START_PINCH = 1;\nvar GestureDetector = class extends BaseManager {\n  constructor(element2) {\n    super();\n    this.touchstart = (event) => this.onTouchStart(event);\n    this.touchmove = (event) => this.onTouchMove(event);\n    this.touchend = (event) => this.onTouchEnd(event);\n    this.touchcancel = (event) => this.onTouchCancel(event);\n    this.pinch = {\n      finger1: { identifier: NaN, screenX: NaN, screenY: NaN },\n      finger2: { identifier: NaN, screenX: NaN, screenY: NaN },\n      origin: { x: NaN, y: NaN },\n      distance: NaN,\n      status: 0 /* Off */\n    };\n    this.element = element2;\n    element2.addEventListener(\"touchstart\", this.touchstart, { passive: true });\n    element2.addEventListener(\"touchmove\", this.touchmove, { passive: true });\n    element2.addEventListener(\"touchend\", this.touchend);\n    element2.addEventListener(\"touchcancel\", this.touchcancel);\n  }\n  destroy() {\n    const { element: element2 } = this;\n    element2.removeEventListener(\"touchstart\", this.touchstart);\n    element2.removeEventListener(\"touchmove\", this.touchmove);\n    element2.removeEventListener(\"touchend\", this.touchend);\n    element2.removeEventListener(\"touchcancel\", this.touchcancel);\n  }\n  findPinchTouches(moveEvent) {\n    const { touches } = moveEvent;\n    const { finger1, finger2 } = this.pinch;\n    if (this.pinch.status !== 0 /* Off */ && touches.length === 2) {\n      if (touches[0].identifier === finger1.identifier && touches[1].identifier === finger2.identifier) {\n        return [touches[0], touches[1]];\n      }\n      if (touches[0].identifier === finger2.identifier && touches[1].identifier === finger1.identifier) {\n        return [touches[1], touches[0]];\n      }\n    }\n  }\n  copyTouchData(event) {\n    const keys = [\"identifier\", \"screenX\", \"screenY\"];\n    partialAssign(keys, this.pinch.finger1, event.touches[0]);\n    partialAssign(keys, this.pinch.finger2, event.touches[1]);\n    this.pinch.distance = distance(this.pinch.finger1, this.pinch.finger2);\n  }\n  dispatchPinchEvent(type, deltaDistance) {\n    const { finger1, finger2, origin } = this.pinch;\n    const newEvent = { type, finger1, finger2, deltaDistance, origin };\n    this.listeners.dispatch(type, newEvent);\n  }\n  onTouchStart(event) {\n    this.stopPinchTracking();\n    const { pinch } = this;\n    if (event.touches.length === 2) {\n      pinch.status = 1 /* Initialized */;\n      this.copyTouchData(event);\n      pinch.origin.x = (event.touches[0].clientX + event.touches[1].clientX) / 2;\n      pinch.origin.y = (event.touches[0].clientY + event.touches[1].clientY) / 2;\n    }\n  }\n  onTouchMove(event) {\n    const pinchTouches = this.findPinchTouches(event);\n    if (pinchTouches !== void 0) {\n      const [touch1, touch2] = pinchTouches;\n      const { pinch } = this;\n      const newDistance = distance(touch1, touch2);\n      const deltaDistance = newDistance - pinch.distance;\n      if (pinch.status === 1 /* Initialized */) {\n        if (Math.abs(deltaDistance) > MIN_DISTANCE_TO_START_PINCH) {\n          pinch.status = 2 /* Running */;\n          this.copyTouchData(event);\n          this.dispatchPinchEvent(\"pinch-start\", 0);\n        }\n      } else if (pinch.status === 2 /* Running */) {\n        pinch.distance = newDistance;\n        this.copyTouchData(event);\n        this.dispatchPinchEvent(\"pinch-move\", deltaDistance);\n      } else {\n        Logger.error(`unexpected pinch.status: ${pinch.status}`);\n      }\n    }\n  }\n  onTouchEnd(_event) {\n    this.stopPinchTracking();\n  }\n  onTouchCancel(_event) {\n    this.stopPinchTracking();\n  }\n  stopPinchTracking() {\n    const { pinch } = this;\n    if (pinch.status === 2 /* Running */) {\n      this.dispatchPinchEvent(\"pinch-end\", 0);\n    }\n    this.pinch.status = 0 /* Off */;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/highlightManager.ts\nvar HighlightManager = class extends BaseManager {\n  constructor() {\n    super(...arguments);\n    this.highlightStates = new StateTracker();\n    this.pickedStates = new StateTracker();\n  }\n  updateHighlight(callerId, highlightedDatum) {\n    const { activeHighlight: previousHighlight } = this;\n    this.highlightStates.set(callerId, highlightedDatum);\n    this.activeHighlight = this.highlightStates.stateValue();\n    if (!this.isEqual(this.activeHighlight, previousHighlight)) {\n      this.listeners.dispatch(\"highlight-change\", {\n        type: \"highlight-change\",\n        currentHighlight: this.activeHighlight,\n        previousHighlight\n      });\n    }\n  }\n  getActiveHighlight() {\n    return this.activeHighlight;\n  }\n  updatePicked(callerId, clickableDatum) {\n    this.pickedStates.set(callerId, clickableDatum);\n    this.activePicked = this.pickedStates.stateValue();\n  }\n  getActivePicked() {\n    return this.activePicked;\n  }\n  isEqual(a, b) {\n    return a === b || (a == null ? void 0 : a.series) === (b == null ? void 0 : b.series) && (a == null ? void 0 : a.itemId) === (b == null ? void 0 : b.itemId) && (a == null ? void 0 : a.datum) === (b == null ? void 0 : b.datum);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/keyNavManager.ts\nvar KeyNavManager = class extends BaseManager {\n  constructor(interactionManager) {\n    super();\n    this.hasBrowserFocus = false;\n    this.isMouseBlurred = false;\n    this.isClicking = false;\n    this.destroyFns.push(\n      interactionManager.addListener(\"drag-start\", (e) => this.onClickStart(e), 31 /* All */),\n      interactionManager.addListener(\"click\", (e) => this.onClickStop(e), 31 /* All */),\n      interactionManager.addListener(\"drag-end\", (e) => this.onClickStop(e), 31 /* All */),\n      interactionManager.addListener(\"wheel\", (e) => this.mouseBlur(e)),\n      interactionManager.addListener(\"hover\", (e) => this.mouseBlur(e)),\n      interactionManager.addListener(\"drag\", (e) => this.mouseBlur(e)),\n      interactionManager.addListener(\"blur\", (e) => this.onBlur(e), 31 /* All */),\n      interactionManager.addListener(\"focus\", (e) => this.onFocus(e), 31 /* All */),\n      interactionManager.addListener(\"keydown\", (e) => this.onKeyDown(e), 31 /* All */)\n    );\n  }\n  destroy() {\n    super.destroy();\n  }\n  onClickStart(event) {\n    this.isClicking = true;\n    this.mouseBlur(event);\n  }\n  onClickStop(event) {\n    this.isClicking = false;\n    this.mouseBlur(event);\n  }\n  mouseBlur(event) {\n    if (!this.hasBrowserFocus)\n      return;\n    if (!this.isMouseBlurred) {\n      this.dispatch(\"blur\", 0, event);\n      this.isMouseBlurred = true;\n    }\n  }\n  onBlur(event) {\n    this.hasBrowserFocus = false;\n    this.isMouseBlurred = false;\n    this.dispatch(\"blur\", 0, event);\n  }\n  onFocus(event) {\n    this.hasBrowserFocus = true;\n    if (this.isClicking) {\n      this.isMouseBlurred = true;\n    } else {\n      this.dispatch(\"browserfocus\", 1, event);\n      this.dispatch(\"tab\", 0, event);\n    }\n  }\n  onKeyDown(event) {\n    if (!this.hasBrowserFocus || this.isClicking)\n      return;\n    this.isMouseBlurred = false;\n    switch (event.sourceEvent.code) {\n      case \"Tab\":\n        if (event.sourceEvent.shiftKey) {\n          return this.dispatch(\"tab\", -1, event);\n        } else {\n          return this.dispatch(\"tab\", 1, event);\n        }\n      case \"ArrowDown\":\n        return this.dispatch(\"nav-vert\", 1, event);\n      case \"ArrowUp\":\n        return this.dispatch(\"nav-vert\", -1, event);\n      case \"ArrowLeft\":\n        return this.dispatch(\"nav-hori\", -1, event);\n      case \"ArrowRight\":\n        return this.dispatch(\"nav-hori\", 1, event);\n      case \"Space\":\n      case \"Enter\":\n        return this.dispatch(\"submit\", 0, event);\n    }\n  }\n  dispatch(type, delta2, interactionEvent) {\n    const event = buildConsumable({ type, delta: delta2, sourceEvent: interactionEvent });\n    dispatchTypedConsumable(this.listeners, type, event);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/focusStyles.ts\nvar focusStyles_exports = {};\n__export(focusStyles_exports, {\n  block: () => block,\n  css: () => css,\n  elements: () => elements,\n  modifiers: () => modifiers\n});\nvar block = \"ag-charts-focus\";\nvar elements = {\n  wrapper: `${block}__wrapper`,\n  indicator: `${block}__indicator`\n};\nvar modifiers = {\n  hidden: `${block}--hidden`\n};\nvar css = `\n.${block}.${elements.wrapper} {\n    position: relative;\n    display: block;\n    pointer-events: none;\n    user-select: none;\n    overflow: hidden;\n    top: 0;\n    left: 0;\n}\n\n.${block}.${elements.indicator} {\n    position: absolute;\n    display: block;\n    pointer-events: none;\n    user-select: none;\n    border: var(--ag-charts-focus-border);\n    box-shadow: var(--ag-charts-focus-border-shadow);\n}\n\n.${modifiers.hidden} {\n    visibility: hidden;\n}\n`;\n\n// packages/ag-charts-community/src/chart/interaction/regionManager.ts\nvar REGION_TAB_ORDERING = [\"series\", \"legend\"];\nvar RegionListeners = class extends Listeners {\n};\nvar RegionManager = class {\n  constructor(interactionManager, keyNavManager, canvasElement, element2) {\n    this.interactionManager = interactionManager;\n    this.keyNavManager = keyNavManager;\n    this.canvasElement = canvasElement;\n    this.currentTabIndex = 0;\n    this.isDragging = false;\n    this.leftCanvas = false;\n    this.regions = /* @__PURE__ */ new Map();\n    this.destroyFns = [];\n    this.destroyFns.push(\n      ...POINTER_INTERACTION_TYPES.map(\n        (eventName) => interactionManager.addListener(eventName, this.processPointerEvent.bind(this), 31 /* All */)\n      ),\n      this.keyNavManager.addListener(\"blur\", this.onNav.bind(this)),\n      this.keyNavManager.addListener(\"browserfocus\", this.onFocus.bind(this)),\n      this.keyNavManager.addListener(\"tab\", this.onTab.bind(this)),\n      this.keyNavManager.addListener(\"nav-vert\", this.onNav.bind(this)),\n      this.keyNavManager.addListener(\"nav-hori\", this.onNav.bind(this)),\n      this.keyNavManager.addListener(\"submit\", this.onNav.bind(this))\n    );\n    injectStyle(css, block);\n    this.focusWrapper = getDocument().createElement(\"div\");\n    this.focusIndicator = getDocument().createElement(\"div\");\n    this.focusWrapper.appendChild(this.focusIndicator);\n    element2.appendChild(this.focusWrapper);\n    const { block: block3, elements: elements3, modifiers: modifiers3 } = focusStyles_exports;\n    this.focusWrapper.classList.add(block3, elements3.wrapper);\n    this.focusIndicator.classList.add(block3, elements3.indicator, modifiers3.hidden);\n  }\n  destroy() {\n    this.destroyFns.forEach((fn) => fn());\n    this.currentRegion = void 0;\n    for (const region of this.regions.values()) {\n      region.listeners.destroy();\n    }\n    this.focusWrapper.remove();\n    this.regions.clear();\n  }\n  addRegionFromProperties(properties) {\n    const region = { properties, listeners: new RegionListeners() };\n    this.regions.set(properties.name, region);\n    return this.makeObserver(region);\n  }\n  addRegion(name, bboxprovider, ...extraProviders) {\n    return this.addRegionFromProperties({\n      name,\n      bboxproviders: [bboxprovider, ...extraProviders],\n      canInteraction: () => true\n    });\n  }\n  getRegion(name) {\n    return this.makeObserver(this.regions.get(name));\n  }\n  find(x, y) {\n    const matches = [];\n    for (const [_name, region] of this.regions.entries()) {\n      for (const provider of region.properties.bboxproviders) {\n        const bbox = provider.getCachedBBox();\n        if (bbox.containsPoint(x, y)) {\n          matches.push([region, bbox.width * bbox.height]);\n        }\n      }\n    }\n    return matches.sort((a, b) => a[1] - b[1]).map((m) => m[0]);\n  }\n  // This method return a wrapper object that matches the interface of InteractionManager.addListener.\n  // The intent is to allow the InteractionManager and RegionManager to be used almost interchangeably.\n  makeObserver(region) {\n    const { interactionManager } = this;\n    class ObservableRegionImplementation {\n      addListener(type, handler, triggeringStates = 16 /* Default */) {\n        var _a;\n        return (_a = region == null ? void 0 : region.listeners.addListener(type, (e) => {\n          if (!e.consumed) {\n            const currentState = interactionManager.getState();\n            if (currentState & triggeringStates) {\n              handler(e);\n            }\n          }\n        })) != null ? _a : () => {\n        };\n      }\n    }\n    return new ObservableRegionImplementation();\n  }\n  checkPointerHistory(targetRegion, event) {\n    for (const historyEvent of event.pointerHistory) {\n      const historyRegion = this.pickRegion(historyEvent.offsetX, historyEvent.offsetY);\n      if (targetRegion.properties.name !== (historyRegion == null ? void 0 : historyRegion.properties.name)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  dispatch(region, event) {\n    region == null ? void 0 : region.listeners.dispatch(event.type, event);\n  }\n  // Process events during a drag action. Returns false if this event should follow the standard\n  // RegionManager.processEvent flow, or true if this event already processed by this function.\n  handleDragging(event) {\n    const { currentRegion } = this;\n    switch (event.type) {\n      case \"drag-start\":\n        this.isDragging = true;\n        this.leftCanvas = false;\n        break;\n      case \"leave\":\n        this.leftCanvas = true;\n        return this.isDragging;\n      case \"enter\":\n        this.leftCanvas = false;\n        return this.isDragging;\n      case \"drag\":\n        if (this.isDragging) {\n          this.dispatch(currentRegion, event);\n          return true;\n        }\n        break;\n      case \"drag-end\":\n        if (this.isDragging) {\n          this.isDragging = false;\n          this.dispatch(currentRegion, event);\n          if (this.leftCanvas) {\n            this.dispatch(currentRegion, __spreadProps(__spreadValues({}, event), { type: \"leave\" }));\n          }\n          return true;\n        }\n        break;\n    }\n    return false;\n  }\n  processPointerEvent(event) {\n    if (this.handleDragging(event)) {\n      return;\n    }\n    const { currentRegion } = this;\n    const newRegion = this.pickRegion(event.offsetX, event.offsetY);\n    if (currentRegion !== void 0 && (newRegion == null ? void 0 : newRegion.properties.name) !== currentRegion.properties.name) {\n      this.dispatch(currentRegion, __spreadProps(__spreadValues({}, event), { type: \"leave\" }));\n    }\n    if (newRegion !== void 0 && newRegion.properties.name !== (currentRegion == null ? void 0 : currentRegion.properties.name)) {\n      this.dispatch(newRegion, __spreadProps(__spreadValues({}, event), { type: \"enter\" }));\n    }\n    if (newRegion !== void 0 && this.checkPointerHistory(newRegion, event)) {\n      this.dispatch(newRegion, event);\n    }\n    this.currentRegion = newRegion;\n  }\n  pickRegion(x, y) {\n    const matchingRegions = this.find(x, y);\n    return matchingRegions.length > 0 ? matchingRegions[0] : void 0;\n  }\n  getTabRegion(tabIndex) {\n    if (tabIndex !== void 0 && tabIndex >= 0 && tabIndex < REGION_TAB_ORDERING.length) {\n      return this.regions.get(REGION_TAB_ORDERING[tabIndex]);\n    }\n    return void 0;\n  }\n  dispatchTabStart(event) {\n    const { delta: delta2, sourceEvent } = event;\n    const startEvent = buildConsumable({\n      type: \"tab-start\",\n      delta: delta2,\n      sourceEvent\n    });\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    this.dispatch(focusedRegion, startEvent);\n    return !!startEvent.consumed;\n  }\n  getNextInteractableTabIndex(currentIndex, delta2) {\n    const direction = delta2 < 0 ? -1 : 1;\n    let i = currentIndex;\n    while (delta2 !== 0) {\n      const region = this.getTabRegion(i + direction);\n      if (region === void 0) {\n        return void 0;\n      } else if (region.properties.canInteraction()) {\n        delta2 = delta2 - direction;\n      }\n      i = i + direction;\n    }\n    return i;\n  }\n  validateCurrentTabIndex() {\n    var _a;\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (focusedRegion !== void 0 && !focusedRegion.properties.canInteraction()) {\n      this.currentTabIndex = (_a = this.getNextInteractableTabIndex(-1, 1)) != null ? _a : 0;\n    }\n  }\n  onFocus(event) {\n    const { delta: delta2, sourceEvent } = event;\n    const newIndex = delta2 > 0 ? this.getNextInteractableTabIndex(-1, 1) : this.getNextInteractableTabIndex(REGION_TAB_ORDERING.length, -1);\n    this.currentTabIndex = newIndex != null ? newIndex : 0;\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (focusedRegion) {\n      this.dispatch(focusedRegion, buildConsumable({ type: \"tab\", delta: delta2, sourceEvent }));\n    }\n  }\n  onTab(event) {\n    const consumed = this.dispatchTabStart(event);\n    if (consumed)\n      return;\n    this.validateCurrentTabIndex();\n    const newTabIndex = this.getNextInteractableTabIndex(this.currentTabIndex, event.delta);\n    const newRegion = this.getTabRegion(newTabIndex);\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (newTabIndex !== void 0) {\n      this.currentTabIndex = newTabIndex;\n    }\n    if (focusedRegion !== void 0 && (newRegion == null ? void 0 : newRegion.properties.name) !== focusedRegion.properties.name) {\n      const { delta: delta2, sourceEvent } = event;\n      const blurEvent = buildConsumable({ type: \"blur\", delta: delta2, sourceEvent });\n      this.dispatch(focusedRegion, blurEvent);\n    }\n    if (newRegion === void 0 || !newRegion.properties.canInteraction()) {\n      this.updateFocusIndicatorRect(void 0);\n    } else {\n      this.dispatch(newRegion, event);\n    }\n  }\n  onNav(event) {\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    this.dispatch(focusedRegion, event);\n  }\n  updateFocusWrapperRect() {\n    this.focusWrapper.style.width = this.canvasElement.style.width;\n    this.focusWrapper.style.height = this.canvasElement.style.height;\n  }\n  updateFocusIndicatorRect(rect) {\n    if (rect == null) {\n      this.focusIndicator.classList.add(modifiers.hidden);\n      return;\n    }\n    this.updateFocusWrapperRect();\n    this.focusIndicator.classList.remove(modifiers.hidden);\n    this.focusIndicator.style.width = `${rect.width}px`;\n    this.focusIndicator.style.height = `${rect.height}px`;\n    this.focusIndicator.style.left = `${rect.x}px`;\n    this.focusIndicator.style.top = `${rect.y}px`;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/toolbarManager.ts\nvar ToolbarManager = class extends BaseManager {\n  constructor(element2) {\n    super();\n    this.element = element2;\n  }\n  static isGroup(group2, event) {\n    return event.group === group2;\n  }\n  pressButton(group2, value) {\n    this.listeners.dispatch(\"button-pressed\", { type: \"button-pressed\", group: group2, value });\n  }\n  toggleGroup(group2, visible) {\n    this.listeners.dispatch(\"group-toggled\", { type: \"group-toggled\", group: group2, visible });\n  }\n  toggleButton(group2, value, enabled) {\n    this.listeners.dispatch(\"button-toggled\", { type: \"button-toggled\", group: group2, value, enabled });\n  }\n  proxyGroupOptions(group2, options) {\n    this.listeners.dispatch(\"proxy-group-options\", { type: \"proxy-group-options\", group: group2, options });\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/tooltipManager.ts\nvar defaultTooltipCss = `\n.${DEFAULT_TOOLTIP_CLASS} {\n    transition: transform 0.1s ease;\n    max-width: 100%;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: rgb(70, 70, 70);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-always {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: none;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-hyphenate {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: auto;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-on-space {\n    overflow-wrap: normal;\n    word-break: normal;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-never {\n    white-space: pre;\n    text-overflow: ellipsis;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-no-animation {\n    transition: none !important;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-hidden {\n    visibility: hidden;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-title {\n    overflow: hidden;\n    position: relative;\n    padding: 8px 14px;\n    border-top-left-radius: 2px;\n    border-top-right-radius: 2px;\n    color: white;\n    background-color: #888888;\n    z-index: 1;\n    text-overflow: inherit;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-title:only-child {\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-content {\n    overflow: hidden;\n    padding: 6px 14px;\n    line-height: 1.7em;\n    background: white;\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    text-overflow: inherit;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-arrow::before {\n    content: \"\";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid #d9d9d9;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-arrow::after {\n    content: \"\";\n\n    position: absolute;\n    top: calc(100% - 1px);\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid white;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n`;\nvar TooltipManager = class {\n  constructor(canvasElement, tooltip) {\n    this.canvasElement = canvasElement;\n    this.tooltip = tooltip;\n    this.stateTracker = new StateTracker();\n    this.appliedState = null;\n    if (typeof IntersectionObserver !== \"undefined\") {\n      const observer = new IntersectionObserver(\n        (entries) => {\n          for (const entry of entries) {\n            if (entry.target === this.canvasElement && entry.intersectionRatio === 0) {\n              this.tooltip.toggle(false);\n            }\n          }\n        },\n        { root: this.tooltip.root }\n      );\n      observer.observe(this.canvasElement);\n      this.observer = observer;\n    }\n    injectStyle(defaultTooltipCss, \"tooltip\");\n  }\n  updateTooltip(callerId, meta, content) {\n    var _a;\n    if (!this.tooltip.enabled)\n      return;\n    content != null ? content : content = (_a = this.stateTracker.get(callerId)) == null ? void 0 : _a.content;\n    this.stateTracker.set(callerId, { content, meta });\n    this.applyStates();\n  }\n  removeTooltip(callerId) {\n    if (!this.tooltip.enabled)\n      return;\n    this.stateTracker.delete(callerId);\n    this.applyStates();\n  }\n  getTooltipMeta(callerId) {\n    var _a;\n    return (_a = this.stateTracker.get(callerId)) == null ? void 0 : _a.meta;\n  }\n  destroy() {\n    var _a;\n    (_a = this.observer) == null ? void 0 : _a.unobserve(this.canvasElement);\n  }\n  applyStates() {\n    var _a;\n    const id = this.stateTracker.stateId();\n    const state = id ? this.stateTracker.get(id) : null;\n    if ((state == null ? void 0 : state.meta) == null || (state == null ? void 0 : state.content) == null) {\n      this.appliedState = null;\n      this.tooltip.toggle(false);\n      return;\n    }\n    const canvasRect = this.canvasElement.getBoundingClientRect();\n    if (((_a = this.appliedState) == null ? void 0 : _a.content) === (state == null ? void 0 : state.content)) {\n      const renderInstantly = this.tooltip.isVisible();\n      this.tooltip.show(canvasRect, state == null ? void 0 : state.meta, null, renderInstantly);\n    } else {\n      this.tooltip.show(canvasRect, state == null ? void 0 : state.meta, state == null ? void 0 : state.content);\n    }\n    this.appliedState = state;\n  }\n  static makeTooltipMeta(event, datum) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const { offsetX, offsetY } = event;\n    const { tooltip } = datum.series.properties;\n    const meta = {\n      offsetX,\n      offsetY,\n      enableInteraction: (_b = (_a = tooltip.interaction) == null ? void 0 : _a.enabled) != null ? _b : false,\n      lastPointerEvent: { type: event.type, offsetX, offsetY },\n      showArrow: tooltip.showArrow,\n      position: {\n        type: tooltip.position.type,\n        xOffset: tooltip.position.xOffset,\n        yOffset: tooltip.position.yOffset\n      }\n    };\n    const refPoint = (_g = (_d = (_c = datum.yBar) == null ? void 0 : _c.upperPoint) != null ? _d : datum.midPoint) != null ? _g : (_f = (_e = datum.series).datumMidPoint) == null ? void 0 : _f.call(_e, datum);\n    if (tooltip.position.type === \"node\" && refPoint) {\n      const { x, y } = refPoint;\n      const point = datum.series.contentGroup.inverseTransformPoint(x, y);\n      return __spreadProps(__spreadValues({}, meta), {\n        offsetX: Math.round(point.x),\n        offsetY: Math.round(point.y)\n      });\n    }\n    return meta;\n  }\n};\n\n// packages/ag-charts-community/src/chart/layout/layoutService.ts\nvar LayoutService = class extends Listeners {\n  constructor() {\n    super(...arguments);\n    this.layoutComplete = \"layout-complete\";\n  }\n  addListener(eventType, handler) {\n    if (this.isLayoutStage(eventType) || this.isLayoutComplete(eventType)) {\n      return super.addListener(eventType, handler);\n    }\n    throw new Error(`AG Charts - unsupported listener type: ${eventType}`);\n  }\n  dispatchPerformLayout(stage, ctx) {\n    if (this.isLayoutStage(stage)) {\n      return this.getListenersByType(stage).reduce((result, listener) => {\n        try {\n          return listener.handler(result);\n        } catch (e) {\n          Logger.errorOnce(e);\n          return result;\n        }\n      }, ctx);\n    }\n    return ctx;\n  }\n  dispatchLayoutComplete(event) {\n    this.dispatch(this.layoutComplete, event);\n  }\n  isLayoutStage(eventType) {\n    return eventType !== this.layoutComplete;\n  }\n  isLayoutComplete(eventType) {\n    return eventType === this.layoutComplete;\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/seriesStateManager.ts\nvar SeriesStateManager = class {\n  constructor() {\n    this.groups = {};\n  }\n  registerSeries({\n    id,\n    seriesGrouping,\n    visible,\n    type\n  }) {\n    var _a, _b;\n    if (!seriesGrouping)\n      return;\n    (_b = (_a = this.groups)[type]) != null ? _b : _a[type] = {};\n    this.groups[type][id] = { grouping: seriesGrouping, visible };\n  }\n  deregisterSeries({ id, type }) {\n    if (this.groups[type]) {\n      delete this.groups[type][id];\n    }\n    if (this.groups[type] && Object.keys(this.groups[type]).length === 0) {\n      delete this.groups[type];\n    }\n  }\n  getVisiblePeerGroupIndex({\n    type,\n    seriesGrouping,\n    visible\n  }) {\n    var _a;\n    if (!seriesGrouping)\n      return { visibleGroupCount: visible ? 1 : 0, visibleSameStackCount: visible ? 1 : 0, index: 0 };\n    const visibleGroupsSet = /* @__PURE__ */ new Set();\n    const visibleSameStackSet = /* @__PURE__ */ new Set();\n    for (const entry of Object.values((_a = this.groups[type]) != null ? _a : {})) {\n      if (!entry.visible)\n        continue;\n      visibleGroupsSet.add(entry.grouping.groupIndex);\n      if (entry.grouping.groupIndex === seriesGrouping.groupIndex) {\n        visibleSameStackSet.add(entry.grouping.stackIndex);\n      }\n    }\n    const visibleGroups = Array.from(visibleGroupsSet);\n    visibleGroups.sort((a, b) => a - b);\n    return {\n      visibleGroupCount: visibleGroups.length,\n      visibleSameStackCount: visibleSameStackSet.size,\n      index: visibleGroups.indexOf(seriesGrouping.groupIndex)\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartUpdateType.ts\nvar ChartUpdateType = /* @__PURE__ */ ((ChartUpdateType2) => {\n  ChartUpdateType2[ChartUpdateType2[\"FULL\"] = 0] = \"FULL\";\n  ChartUpdateType2[ChartUpdateType2[\"UPDATE_DATA\"] = 1] = \"UPDATE_DATA\";\n  ChartUpdateType2[ChartUpdateType2[\"PROCESS_DATA\"] = 2] = \"PROCESS_DATA\";\n  ChartUpdateType2[ChartUpdateType2[\"PERFORM_LAYOUT\"] = 3] = \"PERFORM_LAYOUT\";\n  ChartUpdateType2[ChartUpdateType2[\"SERIES_UPDATE\"] = 4] = \"SERIES_UPDATE\";\n  ChartUpdateType2[ChartUpdateType2[\"TOOLTIP_RECALCULATION\"] = 5] = \"TOOLTIP_RECALCULATION\";\n  ChartUpdateType2[ChartUpdateType2[\"SCENE_RENDER\"] = 6] = \"SCENE_RENDER\";\n  ChartUpdateType2[ChartUpdateType2[\"NONE\"] = 7] = \"NONE\";\n  return ChartUpdateType2;\n})(ChartUpdateType || {});\n\n// packages/ag-charts-community/src/chart/updateService.ts\nvar UpdateService = class extends Listeners {\n  constructor(updateCallback) {\n    super();\n    this.updateCallback = updateCallback;\n  }\n  update(type = 0 /* FULL */, options) {\n    this.updateCallback(type, options);\n  }\n  dispatchUpdateComplete(rects) {\n    this.dispatch(\"update-complete\", {\n      type: \"update-complete\",\n      minRect: rects == null ? void 0 : rects.minRect,\n      minVisibleRect: rects == null ? void 0 : rects.minVisibleRect\n    });\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartContext.ts\nvar ChartContext = class {\n  constructor(chart, vars) {\n    const { scene, syncManager, element: element2, updateCallback, updateMutex } = vars;\n    this.chartService = chart;\n    this.scene = scene;\n    this.syncManager = syncManager;\n    this.zoomManager = chart.zoomManager;\n    this.annotationManager = new AnnotationManager(chart.annotationRoot);\n    this.ariaAnnouncementService = new AriaAnnouncementService(scene.canvas.element);\n    this.chartEventManager = new ChartEventManager();\n    this.contextMenuRegistry = new ContextMenuRegistry();\n    this.cursorManager = new CursorManager(element2);\n    this.highlightManager = new HighlightManager();\n    this.interactionManager = new InteractionManager(chart.keyboard, element2);\n    this.keyNavManager = new KeyNavManager(this.interactionManager);\n    this.regionManager = new RegionManager(\n      this.interactionManager,\n      this.keyNavManager,\n      this.scene.canvas.element,\n      element2\n    );\n    this.toolbarManager = new ToolbarManager(element2);\n    this.gestureDetector = new GestureDetector(element2);\n    this.layoutService = new LayoutService();\n    this.updateService = new UpdateService(updateCallback);\n    this.seriesStateManager = new SeriesStateManager();\n    this.callbackCache = new CallbackCache();\n    this.animationManager = new AnimationManager(this.interactionManager, updateMutex);\n    this.animationManager.skip();\n    this.animationManager.play();\n    this.dataService = new DataService(this.animationManager);\n    this.tooltipManager = new TooltipManager(this.scene.canvas.element, chart.tooltip);\n  }\n  destroy() {\n    this.tooltipManager.destroy();\n    this.regionManager.destroy();\n    this.keyNavManager.destroy();\n    this.interactionManager.destroy();\n    this.animationManager.stop();\n    this.animationManager.destroy();\n    this.ariaAnnouncementService.destroy();\n    this.chartEventManager.destroy();\n    this.highlightManager.destroy();\n    this.callbackCache.invalidateCache();\n    this.animationManager.reset();\n    this.syncManager.destroy();\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartHighlight.ts\nvar ChartHighlight = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.range = \"tooltip\";\n  }\n};\n__decorateClass([\n  Validate(UNION([\"tooltip\", \"node\"], \"a range\"))\n], ChartHighlight.prototype, \"range\", 2);\n\n// packages/ag-charts-community/src/chart/data/dataDomain.ts\nvar DiscreteDomain = class _DiscreteDomain {\n  constructor() {\n    this.domain = /* @__PURE__ */ new Set();\n  }\n  static is(value) {\n    return value instanceof _DiscreteDomain;\n  }\n  extend(val) {\n    this.domain.add(val);\n  }\n  getDomain() {\n    return Array.from(this.domain);\n  }\n};\nvar ContinuousDomain = class _ContinuousDomain {\n  constructor() {\n    this.domain = [Infinity, -Infinity];\n  }\n  static is(value) {\n    return value instanceof _ContinuousDomain;\n  }\n  static extendDomain(values, domain = [Infinity, -Infinity]) {\n    for (const value of values) {\n      if (typeof value !== \"number\") {\n        continue;\n      }\n      if (domain[0] > value) {\n        domain[0] = value;\n      }\n      if (domain[1] < value) {\n        domain[1] = value;\n      }\n    }\n    return domain;\n  }\n  extend(value) {\n    if (this.domain[0] > value) {\n      this.domain[0] = value;\n    }\n    if (this.domain[1] < value) {\n      this.domain[1] = value;\n    }\n  }\n  getDomain() {\n    return [...this.domain];\n  }\n};\n\n// packages/ag-charts-community/src/chart/data/dataModel.ts\nfunction toKeyString(keys) {\n  return keys.map((key) => isObject(key) ? JSON.stringify(key) : key).join(\"-\");\n}\nfunction round2(val) {\n  const accuracy = 1e4;\n  if (Number.isInteger(val)) {\n    return val;\n  } else if (Math.abs(val) > accuracy) {\n    return Math.trunc(val);\n  }\n  return Math.round(val * accuracy) / accuracy;\n}\nfunction fixNumericExtentInternal(extent2) {\n  if (extent2 == null) {\n    return [];\n  }\n  let [min, max] = extent2.map(Number);\n  if (min === 0 && max === 0) {\n    return [0, 1];\n  }\n  if (min === Infinity && max === -Infinity) {\n    return [];\n  } else if (min === Infinity) {\n    min = 0;\n  } else if (max === -Infinity) {\n    max = 0;\n  }\n  return isFiniteNumber(min) && isFiniteNumber(max) ? [min, max] : [];\n}\nfunction fixNumericExtent(extent2, axis) {\n  var _a;\n  const fixedExtent = fixNumericExtentInternal(extent2);\n  if (fixedExtent.length === 0) {\n    return fixedExtent;\n  }\n  let [min, max] = fixedExtent;\n  if (min === max) {\n    const [paddingMin, paddingMax] = (_a = axis == null ? void 0 : axis.calculatePadding(min, max)) != null ? _a : [1, 1];\n    min -= paddingMin;\n    max += paddingMax;\n  }\n  return [min, max];\n}\nfunction getMissCount(scopeProvider, missMap) {\n  var _a;\n  return (_a = missMap == null ? void 0 : missMap.get(scopeProvider.id)) != null ? _a : 0;\n}\nvar INVALID_VALUE = Symbol(\"invalid\");\nvar DataModel = class {\n  constructor(opts, mode = \"standalone\") {\n    this.opts = opts;\n    this.mode = mode;\n    this.debug = Debug.create(true, \"data-model\");\n    this.scopeCache = /* @__PURE__ */ new Map();\n    this.keys = [];\n    this.values = [];\n    this.aggregates = [];\n    this.groupProcessors = [];\n    this.propertyProcessors = [];\n    this.reducers = [];\n    this.processors = [];\n    let keys = true;\n    for (const next of opts.props) {\n      if (next.type === \"key\" && !keys) {\n        throw new Error(\"AG Charts - internal config error: keys must come before values.\");\n      }\n      if (next.type === \"value\" && keys) {\n        keys = false;\n      }\n    }\n    const verifyMatchGroupId = ({ matchGroupIds = [] }) => {\n      for (const matchGroupId of matchGroupIds) {\n        if (this.values.every((def) => def.groupId !== matchGroupId)) {\n          throw new Error(\n            `AG Charts - internal config error: matchGroupIds properties must match defined groups (${matchGroupId}).`\n          );\n        }\n      }\n    };\n    for (const def of opts.props) {\n      switch (def.type) {\n        case \"key\":\n          this.keys.push(__spreadProps(__spreadValues({}, def), { index: this.keys.length, missing: /* @__PURE__ */ new Map() }));\n          break;\n        case \"value\":\n          if (def.property == null) {\n            throw new Error(\n              `AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(\n                def\n              )}`\n            );\n          }\n          this.values.push(__spreadProps(__spreadValues({}, def), { index: this.values.length, missing: /* @__PURE__ */ new Map() }));\n          break;\n        case \"aggregate\":\n          verifyMatchGroupId(def);\n          this.aggregates.push(__spreadProps(__spreadValues({}, def), { index: this.aggregates.length }));\n          break;\n        case \"group-value-processor\":\n          verifyMatchGroupId(def);\n          this.groupProcessors.push(__spreadProps(__spreadValues({}, def), { index: this.groupProcessors.length }));\n          break;\n        case \"property-value-processor\":\n          this.propertyProcessors.push(__spreadProps(__spreadValues({}, def), { index: this.propertyProcessors.length }));\n          break;\n        case \"reducer\":\n          this.reducers.push(__spreadProps(__spreadValues({}, def), { index: this.reducers.length }));\n          break;\n        case \"processor\":\n          this.processors.push(__spreadProps(__spreadValues({}, def), { index: this.processors.length }));\n          break;\n      }\n    }\n  }\n  resolveProcessedDataDefById(scope, searchId) {\n    var _a;\n    const def = (_a = this.scopeCache.get(scope.id)) == null ? void 0 : _a.get(searchId);\n    if (!def) {\n      throw new Error(`AG Charts - didn't find property definition for [${searchId}, ${scope.id}]`);\n    }\n    return { index: def.index, def };\n  }\n  resolveProcessedDataIndexById(scope, searchId) {\n    return this.resolveProcessedDataDefById(scope, searchId).index;\n  }\n  resolveProcessedDataDefsByIds(scope, searchIds) {\n    return searchIds.map((searchId) => [searchId, this.resolveProcessedDataDefById(scope, searchId)]);\n  }\n  resolveProcessedDataDefsValues(defs, { keys, values }) {\n    const result = {};\n    for (const [searchId, { index, def }] of defs) {\n      const processedData = def.type === \"key\" ? keys : values;\n      result[searchId] = processedData[index];\n    }\n    return result;\n  }\n  getDomain(scope, searchId, type = \"value\", processedData) {\n    var _a;\n    const domains = this.getDomainsByType(type, processedData);\n    return (_a = domains == null ? void 0 : domains[this.resolveProcessedDataIndexById(scope, searchId)]) != null ? _a : [];\n  }\n  getDomainsByType(type, processedData) {\n    switch (type) {\n      case \"key\":\n        return processedData.domain.keys;\n      case \"value\":\n        return processedData.domain.values;\n      case \"aggregate\":\n        return processedData.domain.aggValues;\n      case \"group-value-processor\":\n        return processedData.domain.groups;\n      default:\n        return null;\n    }\n  }\n  processData(data, sources) {\n    var _a;\n    const {\n      opts: { groupByKeys, groupByFn },\n      aggregates,\n      groupProcessors,\n      reducers,\n      processors,\n      propertyProcessors\n    } = this;\n    const start = performance.now();\n    if (groupByKeys && this.keys.length === 0) {\n      return;\n    }\n    let processedData = this.extractData(data, sources);\n    if (groupByKeys) {\n      processedData = this.groupData(processedData);\n    } else if (groupByFn) {\n      processedData = this.groupData(processedData, groupByFn(processedData));\n    }\n    if (groupProcessors.length > 0) {\n      this.postProcessGroups(processedData);\n    }\n    if (aggregates.length > 0) {\n      this.aggregateData(processedData);\n    }\n    if (propertyProcessors.length > 0) {\n      this.postProcessProperties(processedData);\n    }\n    if (reducers.length > 0) {\n      this.reduceData(processedData);\n    }\n    if (processors.length > 0) {\n      this.postProcessData(processedData);\n    }\n    if (data.length > 0) {\n      for (const def of iterate(this.keys, this.values)) {\n        for (const [scope, missCount] of def.missing) {\n          if (missCount >= data.length) {\n            const scopeHint = scope == null ? \"\" : ` for ${scope}`;\n            Logger.warnOnce(`the key '${def.property}' was not found in any data element${scopeHint}.`);\n          }\n        }\n      }\n    }\n    const end = performance.now();\n    processedData.time = end - start;\n    if (this.debug.check()) {\n      logProcessedData(processedData);\n    }\n    this.scopeCache.clear();\n    for (const def of iterate(this.keys, this.values, this.aggregates)) {\n      if (!def.idsMap)\n        continue;\n      for (const [scope, ids] of def.idsMap) {\n        for (const id of ids) {\n          if (!this.scopeCache.has(scope)) {\n            this.scopeCache.set(scope, /* @__PURE__ */ new Map([[id, def]]));\n          } else if ((_a = this.scopeCache.get(scope)) == null ? void 0 : _a.has(id)) {\n            throw new Error(\"duplicate definition ids on the same scope are not allowed.\");\n          } else {\n            this.scopeCache.get(scope).set(id, def);\n          }\n        }\n      }\n    }\n    return processedData;\n  }\n  valueGroupIdxLookup({ matchGroupIds }) {\n    const result = [];\n    for (const [index, def] of this.values.entries()) {\n      if (!matchGroupIds || def.groupId && matchGroupIds.includes(def.groupId)) {\n        result.push(index);\n      }\n    }\n    return result;\n  }\n  valueIdxLookup(scopes, prop) {\n    const noScopesToMatch = scopes == null || scopes.length === 0;\n    const propId = typeof prop === \"string\" ? prop : prop.id;\n    const hasMatchingScopeId = (def) => {\n      if (def.idsMap) {\n        for (const [scope, ids] of def.idsMap) {\n          if ((scopes == null ? void 0 : scopes.includes(scope)) && ids.has(propId)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const result = this.values.findIndex((def) => {\n      const validDefScopes = def.scopes == null || noScopesToMatch && !def.scopes.length || def.scopes.some((s) => scopes == null ? void 0 : scopes.includes(s));\n      return validDefScopes && (def.property === propId || def.id === propId || hasMatchingScopeId(def));\n    });\n    if (result === -1) {\n      throw new Error(\n        `AG Charts - configuration error, unknown property ${JSON.stringify(prop)} in scope(s) ${JSON.stringify(\n          scopes\n        )}`\n      );\n    }\n    return result;\n  }\n  extractData(data, sources) {\n    var _a, _b, _c, _d;\n    const { dataDomain, processValue, scopes, allScopesHaveSameDefs } = this.initDataDomainProcessor();\n    const sourcesById = new Map(sources == null ? void 0 : sources.map((s) => [s.id, s]));\n    const { keys: keyDefs, values: valueDefs } = this;\n    const resultData = new Array(data.length);\n    let resultDataIdx = 0;\n    let partialValidDataCount = 0;\n    for (const [datumIdx, datum] of data.entries()) {\n      const sourceDatums = {};\n      const validScopes = scopes.size > 0 ? new Set(scopes) : void 0;\n      const keys = new Array(keyDefs.length);\n      let keyIdx = 0;\n      let key;\n      for (const def of keyDefs) {\n        key = processValue(def, datum, key);\n        if (key === INVALID_VALUE)\n          break;\n        if (keys) {\n          keys[keyIdx++] = key;\n        }\n      }\n      if (key === INVALID_VALUE)\n        continue;\n      const values = valueDefs.length > 0 ? new Array(valueDefs.length) : void 0;\n      let value;\n      for (const [valueDefIdx, def] of valueDefs.entries()) {\n        for (const scope of (_a = def.scopes) != null ? _a : scopes) {\n          const source = sourcesById.get(scope);\n          const valueDatum = (_b = source == null ? void 0 : source.data[datumIdx]) != null ? _b : datum;\n          value = processValue(def, valueDatum, value, scope);\n          if (value === INVALID_VALUE || !values)\n            continue;\n          if (source != null && def.includeProperty !== false) {\n            const property = def.includeProperty && def.id != null ? def.id : def.property;\n            (_c = sourceDatums[scope]) != null ? _c : sourceDatums[scope] = {};\n            sourceDatums[scope][property] = value;\n          }\n          values[valueDefIdx] = value;\n        }\n        if (value === INVALID_VALUE) {\n          if (allScopesHaveSameDefs)\n            break;\n          for (const scope of (_d = def.scopes) != null ? _d : scopes) {\n            validScopes == null ? void 0 : validScopes.delete(scope);\n          }\n          if ((validScopes == null ? void 0 : validScopes.size) === 0)\n            break;\n        }\n      }\n      if (value === INVALID_VALUE && allScopesHaveSameDefs)\n        continue;\n      if ((validScopes == null ? void 0 : validScopes.size) === 0)\n        continue;\n      const result = { datum: __spreadValues(__spreadValues({}, datum), sourceDatums), keys, values };\n      if (!allScopesHaveSameDefs && validScopes && validScopes.size < scopes.size) {\n        partialValidDataCount++;\n        result.validScopes = new Set(validScopes);\n      }\n      resultData[resultDataIdx++] = result;\n    }\n    resultData.length = resultDataIdx;\n    const propertyDomain = (def) => {\n      const defDomain = dataDomain.get(def);\n      const result = defDomain.getDomain();\n      if (ContinuousDomain.is(defDomain) && result[0] > result[1]) {\n        return [];\n      }\n      return result;\n    };\n    return {\n      type: \"ungrouped\",\n      input: { count: data.length },\n      data: resultData,\n      domain: {\n        keys: keyDefs.map(propertyDomain),\n        values: valueDefs.map(propertyDomain)\n      },\n      defs: {\n        allScopesHaveSameDefs,\n        keys: keyDefs,\n        values: valueDefs\n      },\n      partialValidDataCount,\n      time: 0\n    };\n  }\n  groupData(data, groupingFn) {\n    var _a;\n    const processedData = /* @__PURE__ */ new Map();\n    for (const dataEntry of data.data) {\n      const { keys, values, datum, validScopes } = dataEntry;\n      const group2 = (_a = groupingFn == null ? void 0 : groupingFn(dataEntry)) != null ? _a : keys;\n      const groupStr = toKeyString(group2);\n      if (processedData.has(groupStr)) {\n        const existingData = processedData.get(groupStr);\n        existingData.values.push(values);\n        existingData.datum.push(datum);\n        if (validScopes != null && existingData.validScopes != null) {\n          for (const scope of existingData.validScopes) {\n            if (!validScopes.has(scope)) {\n              existingData.validScopes.delete(scope);\n            }\n          }\n        }\n      } else {\n        processedData.set(groupStr, {\n          keys: group2,\n          values: [values],\n          datum: [datum],\n          validScopes\n        });\n      }\n    }\n    const resultData = new Array(processedData.size);\n    const resultGroups = new Array(processedData.size);\n    let dataIndex = 0;\n    for (const { keys, values, datum, validScopes } of processedData.values()) {\n      if ((validScopes == null ? void 0 : validScopes.size) === 0)\n        continue;\n      resultGroups[dataIndex] = keys;\n      resultData[dataIndex++] = {\n        keys,\n        values,\n        datum,\n        validScopes\n      };\n    }\n    return __spreadProps(__spreadValues({}, data), {\n      type: \"grouped\",\n      data: resultData,\n      domain: __spreadProps(__spreadValues({}, data.domain), {\n        groups: resultGroups\n      })\n    });\n  }\n  aggregateData(processedData) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const isUngrouped = processedData.type === \"ungrouped\";\n    processedData.domain.aggValues = [];\n    for (const [index, def] of this.aggregates.entries()) {\n      const indices = this.valueGroupIdxLookup(def);\n      const domain = [Infinity, -Infinity];\n      for (const datum of processedData.data) {\n        (_a = datum.aggValues) != null ? _a : datum.aggValues = new Array(this.aggregates.length);\n        if (datum.validScopes)\n          continue;\n        const values = isUngrouped ? [datum.values] : datum.values;\n        let groupAggValues = (_c = (_b = def.groupAggregateFunction) == null ? void 0 : _b.call(def)) != null ? _c : [Infinity, -Infinity];\n        for (const distinctValues of values) {\n          const valuesToAgg = indices.map((valueIdx) => distinctValues[valueIdx]);\n          const valuesAgg = def.aggregateFunction(valuesToAgg, datum.keys);\n          if (valuesAgg) {\n            groupAggValues = (_e = (_d = def.groupAggregateFunction) == null ? void 0 : _d.call(def, valuesAgg, groupAggValues)) != null ? _e : ContinuousDomain.extendDomain(valuesAgg, groupAggValues);\n          }\n        }\n        const finalValues = ((_g = (_f = def.finalFunction) == null ? void 0 : _f.call(def, groupAggValues)) != null ? _g : groupAggValues).map((v) => round2(v));\n        datum.aggValues[index] = finalValues;\n        ContinuousDomain.extendDomain(finalValues, domain);\n      }\n      processedData.domain.aggValues.push(domain);\n    }\n  }\n  postProcessGroups(processedData) {\n    var _a, _b;\n    const { groupProcessors } = this;\n    const affectedIndices = /* @__PURE__ */ new Set();\n    const updatedDomains = /* @__PURE__ */ new Map();\n    const groupProcessorIndices = /* @__PURE__ */ new Map();\n    const groupProcessorInitFns = /* @__PURE__ */ new Map();\n    for (const processor of groupProcessors) {\n      const indices = this.valueGroupIdxLookup(processor);\n      groupProcessorIndices.set(processor, indices);\n      groupProcessorInitFns.set(processor, processor.adjust());\n      for (const idx of indices) {\n        const valueDef = this.values[idx];\n        const isDiscrete = valueDef.valueType === \"category\";\n        affectedIndices.add(idx);\n        updatedDomains.set(idx, isDiscrete ? new DiscreteDomain() : new ContinuousDomain());\n      }\n    }\n    const updateDomains = (values) => {\n      var _a2;\n      for (const valueIndex of affectedIndices) {\n        (_a2 = updatedDomains.get(valueIndex)) == null ? void 0 : _a2.extend(values[valueIndex]);\n      }\n    };\n    for (const group2 of processedData.data) {\n      for (const processor of groupProcessors) {\n        if (group2.validScopes)\n          continue;\n        const valueIndexes = (_a = groupProcessorIndices.get(processor)) != null ? _a : [];\n        const adjustFn = (_b = groupProcessorInitFns.get(processor)) == null ? void 0 : _b();\n        if (!adjustFn)\n          continue;\n        if (processedData.type === \"grouped\") {\n          for (const values of group2.values) {\n            if (values) {\n              adjustFn(values, valueIndexes);\n            }\n          }\n        } else if (group2.values) {\n          adjustFn(group2.values, valueIndexes);\n        }\n      }\n      if (processedData.type === \"grouped\") {\n        for (const values of group2.values) {\n          updateDomains(values);\n        }\n      } else {\n        updateDomains(group2.values);\n      }\n    }\n    for (const [idx, dataDomain] of updatedDomains) {\n      processedData.domain.values[idx] = dataDomain.getDomain();\n    }\n  }\n  postProcessProperties(processedData) {\n    for (const { adjust, property, scopes } of this.propertyProcessors) {\n      adjust()(processedData, this.valueIdxLookup(scopes, property));\n    }\n  }\n  reduceData(processedData) {\n    var _a, _b;\n    (_a = processedData.reduced) != null ? _a : processedData.reduced = {};\n    for (const def of this.reducers) {\n      const reducer = def.reducer();\n      let accValue = def.initialValue;\n      for (const datum of processedData.data) {\n        if (!datum.validScopes || ((_b = def.scopes) == null ? void 0 : _b.some((s) => {\n          var _a2;\n          return (_a2 = datum.validScopes) == null ? void 0 : _a2.has(s);\n        }))) {\n          accValue = reducer(accValue, datum);\n        }\n      }\n      processedData.reduced[def.property] = accValue;\n    }\n  }\n  postProcessData(processedData) {\n    var _a;\n    (_a = processedData.reduced) != null ? _a : processedData.reduced = {};\n    for (const def of this.processors) {\n      processedData.reduced[def.property] = def.calculate(processedData);\n    }\n  }\n  initDataDomainProcessor() {\n    const { keys: keyDefs, values: valueDefs } = this;\n    const scopes = /* @__PURE__ */ new Set();\n    for (const valueDef of valueDefs) {\n      if (!valueDef.scopes)\n        continue;\n      for (const scope of valueDef.scopes) {\n        scopes.add(scope);\n      }\n    }\n    const dataDomain = /* @__PURE__ */ new Map();\n    const processorFns = /* @__PURE__ */ new Map();\n    let allScopesHaveSameDefs = true;\n    const initDataDomain = () => {\n      var _a;\n      for (const def of iterate(keyDefs, valueDefs)) {\n        if (def.valueType === \"category\") {\n          dataDomain.set(def, new DiscreteDomain());\n        } else {\n          dataDomain.set(def, new ContinuousDomain());\n          allScopesHaveSameDefs && (allScopesHaveSameDefs = ((_a = def.scopes) != null ? _a : []).length === scopes.size);\n        }\n      }\n    };\n    initDataDomain();\n    const accessors = this.buildAccessors(iterate(keyDefs, valueDefs));\n    const processValue = (def, datum, previousDatum, scope) => {\n      var _a, _b, _c, _d, _e;\n      let valueInDatum;\n      let value;\n      if (accessors.has(def.property)) {\n        try {\n          value = accessors.get(def.property)(datum);\n        } catch (error) {\n        }\n        valueInDatum = value != null;\n      } else {\n        valueInDatum = def.property in datum;\n        value = valueInDatum ? datum[def.property] : def.missingValue;\n      }\n      if (def.forceValue != null) {\n        const valueNegative = valueInDatum && isNegative(value);\n        value = valueNegative ? -1 * def.forceValue : def.forceValue;\n        valueInDatum = true;\n      }\n      const missingValueDef = \"missingValue\" in def;\n      if (!valueInDatum && !missingValueDef) {\n        const missCount = (_a = def.missing.get(scope)) != null ? _a : 0;\n        def.missing.set(scope, missCount + 1);\n      }\n      if (!dataDomain.has(def)) {\n        initDataDomain();\n      }\n      if (valueInDatum && !((_c = (_b = def.validation) == null ? void 0 : _b.call(def, value, datum)) != null ? _c : true)) {\n        if (\"invalidValue\" in def) {\n          value = def.invalidValue;\n        } else {\n          if (this.mode !== \"integrated\") {\n            Logger.warnOnce(`invalid value of type [${typeof value}] ignored:`, `[${value}]`);\n          }\n          return INVALID_VALUE;\n        }\n      }\n      if (def.processor) {\n        if (!processorFns.has(def)) {\n          processorFns.set(def, def.processor());\n        }\n        value = (_d = processorFns.get(def)) == null ? void 0 : _d(value, previousDatum === INVALID_VALUE ? void 0 : previousDatum);\n      }\n      (_e = dataDomain.get(def)) == null ? void 0 : _e.extend(value);\n      return value;\n    };\n    return { dataDomain, processValue, initDataDomain, scopes, allScopesHaveSameDefs };\n  }\n  buildAccessors(defs) {\n    const result = /* @__PURE__ */ new Map();\n    if (this.mode === \"integrated\") {\n      return result;\n    }\n    for (const def of defs) {\n      const isPath = def.property.includes(\".\") || def.property.includes(\"[\");\n      if (!isPath)\n        continue;\n      let fnBody;\n      if (def.property.startsWith(\"[\")) {\n        fnBody = `return datum${def.property};`;\n      } else {\n        fnBody = `return datum.${def.property};`;\n      }\n      result.set(def.property, new Function(\"datum\", fnBody));\n    }\n    return result;\n  }\n};\nfunction logProcessedData(processedData) {\n  var _a, _b;\n  const logValues = (name, data) => {\n    if (data.length > 0) {\n      Logger.log(`DataModel.processData() - ${name}`);\n      Logger.table(data);\n    }\n  };\n  Logger.log(\"DataModel.processData() - processedData\", processedData);\n  logValues(\"Key Domains\", processedData.domain.keys);\n  logValues(\"Group Domains\", (_a = processedData.domain.groups) != null ? _a : []);\n  logValues(\"Value Domains\", processedData.domain.values);\n  logValues(\"Aggregate Domains\", (_b = processedData.domain.aggValues) != null ? _b : []);\n  if (processedData.type === \"grouped\") {\n    const flattenedValues = processedData.data.reduce((acc, next) => {\n      var _a2, _b2;\n      const keys = (_a2 = next.keys) != null ? _a2 : [];\n      const aggValues = (_b2 = next.aggValues) != null ? _b2 : [];\n      const skipKeys = next.keys.map(() => void 0);\n      const skipAggValues = aggValues == null ? void 0 : aggValues.map(() => void 0);\n      acc.push(\n        ...next.values.map((v, i) => [\n          ...i === 0 ? keys : skipKeys,\n          ...v != null ? v : [],\n          ...i == 0 ? aggValues : skipAggValues\n        ])\n      );\n      return acc;\n    }, []);\n    logValues(\"Values\", flattenedValues);\n  } else {\n    const flattenedValues = processedData.data.reduce((acc, next) => {\n      var _a2;\n      const aggValues = (_a2 = next.aggValues) != null ? _a2 : [];\n      acc.push([...next.keys, ...next.values, ...aggValues]);\n      return acc;\n    }, []);\n    logValues(\"Values\", flattenedValues);\n  }\n}\n\n// packages/ag-charts-community/src/chart/data/dataController.ts\nvar _DataController = class _DataController {\n  constructor(mode) {\n    this.mode = mode;\n    this.debug = Debug.create(true, \"data-model\");\n    this.requested = [];\n    this.status = \"setup\";\n  }\n  request(id, data, opts) {\n    return __async(this, null, function* () {\n      if (this.status !== \"setup\") {\n        throw new Error(`AG Charts - data request after data setup phase.`);\n      }\n      return new Promise((resolve, reject) => {\n        this.requested.push({ id, opts, data, resolve, reject });\n      });\n    });\n  }\n  execute() {\n    if (this.status !== \"setup\") {\n      throw new Error(`AG Charts - data request after data setup phase.`);\n    }\n    this.status = \"executed\";\n    this.debug(\"DataController.execute() - requested\", this.requested);\n    const valid = this.validateRequests(this.requested);\n    this.debug(\"DataController.execute() - validated\", valid);\n    const merged = this.mergeRequested(valid);\n    this.debug(\"DataController.execute() - merged\", merged);\n    if (this.debug.check()) {\n      getWindow().processedData = [];\n    }\n    const scopes = this.requested.map(({ id }) => id);\n    const needsValueExtraction = this.hasMultipleDataSources(valid);\n    for (const { opts, data, resolves, rejects, ids } of merged) {\n      try {\n        const dataModel = new DataModel(opts, this.mode);\n        const processedData = dataModel.processData(data, valid);\n        if (this.debug.check()) {\n          getWindow(\"processedData\").push(processedData);\n        }\n        if ((processedData == null ? void 0 : processedData.partialValidDataCount) === 0) {\n          resolves.forEach(\n            (resolve, requestIdx) => resolve({\n              dataModel,\n              processedData: this.processScopedData(\n                ids[requestIdx],\n                processedData,\n                scopes,\n                needsValueExtraction\n              )\n            })\n          );\n        } else if (processedData) {\n          this.splitResult(dataModel, processedData, ids, resolves);\n        } else {\n          rejects.forEach((cb) => cb(new Error(`AG Charts - no processed data generated`)));\n        }\n      } catch (error) {\n        rejects.forEach((cb) => cb(error));\n      }\n    }\n  }\n  hasMultipleDataSources(validRequests) {\n    if (validRequests.length) {\n      const [{ data }, ...restRequests] = validRequests;\n      return restRequests.some((v) => data !== v.data);\n    }\n    return false;\n  }\n  processScopedData(id, processedData, ids, needsValueExtraction) {\n    const extractDatum = (datum) => {\n      if (Array.isArray(datum)) {\n        return datum.map(extractDatum);\n      }\n      const extracted = needsValueExtraction ? __spreadValues(__spreadValues({}, datum), datum[id]) : datum;\n      for (const otherId of ids) {\n        delete extracted[otherId];\n      }\n      return extracted;\n    };\n    const extractValues = (values) => {\n      var _a;\n      if (Array.isArray(values)) {\n        return values.map(extractValues);\n      }\n      return (_a = values == null ? void 0 : values[id]) != null ? _a : values;\n    };\n    return __spreadProps(__spreadValues({}, processedData), {\n      data: processedData.data.map((datum) => {\n        var _a;\n        return __spreadProps(__spreadValues({}, datum), {\n          datum: extractDatum(datum.datum),\n          values: needsValueExtraction ? (_a = datum.values) == null ? void 0 : _a.map(extractValues) : datum.values\n        });\n      })\n    });\n  }\n  validateRequests(requested) {\n    const valid = [];\n    for (const [index, request] of requested.entries()) {\n      if (index > 0 && request.data.length !== requested[0].data.length && request.opts.groupByData === false) {\n        request.reject(\n          new Error(\"all series[].data arrays must be of the same length and have matching keys.\")\n        );\n      } else {\n        valid.push(request);\n      }\n    }\n    return valid;\n  }\n  mergeRequested(requested) {\n    const grouped = [];\n    for (const request of requested) {\n      const match = grouped.find(_DataController.groupMatch(request));\n      if (match) {\n        match.push(request);\n      } else {\n        grouped.push([request]);\n      }\n    }\n    return grouped.map(_DataController.mergeRequests);\n  }\n  splitResult(dataModel, processedData, scopes, resolves) {\n    for (let i = 0; i < scopes.length; i++) {\n      const scope = scopes[i];\n      const resolve = resolves[i];\n      resolve({\n        dataModel,\n        processedData: __spreadProps(__spreadValues({}, processedData), {\n          data: processedData.data.filter(({ validScopes }) => {\n            var _a;\n            return (_a = validScopes == null ? void 0 : validScopes.has(scope)) != null ? _a : true;\n          })\n        })\n      });\n    }\n  }\n  static groupMatch({ data, opts }) {\n    function keys(props) {\n      return props.filter((p) => p.type === \"key\").map((p) => p.property).join(\";\");\n    }\n    return ([group2]) => (opts.groupByData === false || group2.data === data) && group2.opts.groupByKeys === opts.groupByKeys && group2.opts.groupByFn === opts.groupByFn && keys(group2.opts.props) === keys(opts.props);\n  }\n  static mergeRequests(requests) {\n    return requests.reduce(\n      (result, _a) => {\n        var { id, data, resolve, reject, opts: _b } = _a, _c = _b, { props } = _c, opts = __objRest(_c, [\"props\"]);\n        var _a2, _b2, _c2, _d, _e;\n        result.ids.push(id);\n        result.rejects.push(reject);\n        result.resolves.push(resolve);\n        (_a2 = result.data) != null ? _a2 : result.data = data;\n        (_b2 = result.opts) != null ? _b2 : result.opts = __spreadProps(__spreadValues({}, opts), { props: [] });\n        for (const prop of props) {\n          const clone = __spreadProps(__spreadValues({}, prop), { scopes: [id] });\n          _DataController.createIdsMap(id, clone);\n          const match = result.opts.props.find(\n            (existing) => existing.type === clone.type && _DataController.deepEqual(existing, clone)\n          );\n          if (!match) {\n            result.opts.props.push(clone);\n            continue;\n          }\n          (_c2 = match.scopes) != null ? _c2 : match.scopes = [];\n          match.scopes.push(...(_d = clone.scopes) != null ? _d : []);\n          if ((match.type === \"key\" || match.type === \"value\") && ((_e = clone.idsMap) == null ? void 0 : _e.size)) {\n            _DataController.mergeIdsMap(clone.idsMap, match.idsMap);\n          }\n        }\n        return result;\n      },\n      { ids: [], rejects: [], resolves: [], data: null, opts: null }\n    );\n  }\n  static mergeIdsMap(fromMap, toMap) {\n    for (const [scope, ids] of fromMap) {\n      if (toMap.has(scope)) {\n        for (const id of ids) {\n          toMap.get(scope).add(id);\n        }\n      } else {\n        toMap.set(scope, new Set(ids));\n      }\n    }\n  }\n  static createIdsMap(scope, prop) {\n    var _a;\n    if (prop.id == null)\n      return;\n    (_a = prop.idsMap) != null ? _a : prop.idsMap = /* @__PURE__ */ new Map();\n    if (prop.idsMap.has(scope)) {\n      prop.idsMap.get(scope).add(prop.id);\n    } else {\n      prop.idsMap.set(scope, /* @__PURE__ */ new Set([prop.id]));\n    }\n  }\n  static deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n    if (a && b && typeof a == \"object\" && typeof b == \"object\") {\n      if (a.constructor !== b.constructor) {\n        return false;\n      }\n      let i, length;\n      if (Array.isArray(a)) {\n        length = a.length;\n        if (length !== b.length) {\n          return false;\n        }\n        for (i = length - 1; i >= 0; i--) {\n          if (!_DataController.deepEqual(a[i], b[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      const keys = Object.keys(a);\n      length = keys.length;\n      if (length !== Object.keys(b).length) {\n        return false;\n      }\n      for (i = length - 1; i >= 0; i--) {\n        const key = keys[i];\n        if (!_DataController.skipKeys.has(key) && (!Object.hasOwn(b, key) || !_DataController.deepEqual(a[key], b[key]))) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n};\n// optimized version of deep equality for `mergeRequests` which can potentially loop over 1M times\n_DataController.skipKeys = /* @__PURE__ */ new Set([\"id\", \"idsMap\", \"type\", \"scopes\"]);\nvar DataController = _DataController;\n\n// packages/ag-charts-community/src/chart/interaction/syncManager.ts\nvar _SyncManager = class _SyncManager extends BaseManager {\n  constructor(chart) {\n    super();\n    this.chart = chart;\n  }\n  subscribe(groupId = _SyncManager.DEFAULT_GROUP) {\n    let syncGroup = this.get(groupId);\n    if (!syncGroup) {\n      syncGroup = /* @__PURE__ */ new Set();\n      _SyncManager.chartsGroups.set(groupId, syncGroup);\n    }\n    syncGroup.add(this.chart);\n    return this;\n  }\n  unsubscribe(groupId = _SyncManager.DEFAULT_GROUP) {\n    var _a;\n    (_a = this.get(groupId)) == null ? void 0 : _a.delete(this.chart);\n    return this;\n  }\n  getChart() {\n    return this.chart;\n  }\n  getGroup(groupId = _SyncManager.DEFAULT_GROUP) {\n    const syncGroup = this.get(groupId);\n    return syncGroup ? Array.from(syncGroup) : [];\n  }\n  getGroupSiblings(groupId = _SyncManager.DEFAULT_GROUP) {\n    return this.getGroup(groupId).filter((chart) => chart !== this.chart);\n  }\n  get(groupId) {\n    return _SyncManager.chartsGroups.get(groupId);\n  }\n};\n_SyncManager.chartsGroups = /* @__PURE__ */ new Map();\n_SyncManager.DEFAULT_GROUP = Symbol(\"sync-group-default\");\nvar SyncManager = _SyncManager;\n\n// packages/ag-charts-community/src/chart/interaction/zoomManager.ts\nvar ZoomManager = class extends BaseManager {\n  constructor() {\n    super(...arguments);\n    this.axisZoomManagers = /* @__PURE__ */ new Map();\n    this.state = new StateTracker(void 0, \"initial\");\n    this.rejectCallbacks = /* @__PURE__ */ new Map();\n  }\n  updateAxes(axes) {\n    var _a;\n    const zoomManagers = new Map(axes.map((axis) => [axis.id, this.axisZoomManagers.get(axis.id)]));\n    this.axisZoomManagers.clear();\n    for (const axis of axes) {\n      this.axisZoomManagers.set(axis.id, (_a = zoomManagers.get(axis.id)) != null ? _a : new AxisZoomManager(axis));\n    }\n    if (this.state.size > 0 && axes.length > 0) {\n      this.updateZoom(this.state.stateId(), this.state.stateValue());\n    }\n  }\n  updateZoom(callerId, newZoom, canChangeInitial = true, rejectCallback) {\n    var _a;\n    if (rejectCallback) {\n      this.rejectCallbacks.set(callerId, rejectCallback);\n    }\n    if (this.axisZoomManagers.size === 0) {\n      const stateId = this.state.stateId();\n      if (stateId === \"initial\" || stateId === callerId || canChangeInitial) {\n        this.state.set(callerId, newZoom);\n        if (stateId !== callerId) {\n          (_a = this.rejectCallbacks.get(stateId)) == null ? void 0 : _a(callerId);\n        }\n      } else {\n        rejectCallback == null ? void 0 : rejectCallback(stateId);\n      }\n      return;\n    }\n    this.state.set(callerId, newZoom);\n    this.axisZoomManagers.forEach((axis) => {\n      axis.updateZoom(callerId, newZoom == null ? void 0 : newZoom[axis.getDirection()]);\n    });\n    this.applyChanges(callerId);\n  }\n  updateAxisZoom(callerId, axisId, newZoom) {\n    var _a;\n    (_a = this.axisZoomManagers.get(axisId)) == null ? void 0 : _a.updateZoom(callerId, newZoom);\n    this.applyChanges(callerId);\n  }\n  // Fire this event to signal to listeners that the view is changing through a zoom and/or pan change.\n  fireZoomPanStartEvent(callerId) {\n    this.listeners.dispatch(\"zoom-pan-start\", { type: \"zoom-pan-start\", callerId });\n  }\n  getZoom() {\n    let x;\n    let y;\n    this.axisZoomManagers.forEach((axis) => {\n      if (axis.getDirection() === \"x\" /* X */) {\n        x != null ? x : x = axis.getZoom();\n      } else if (axis.getDirection() === \"y\" /* Y */) {\n        y != null ? y : y = axis.getZoom();\n      }\n    });\n    if (x || y) {\n      return { x, y };\n    }\n  }\n  getAxisZoom(axisId) {\n    var _a, _b;\n    return (_b = (_a = this.axisZoomManagers.get(axisId)) == null ? void 0 : _a.getZoom()) != null ? _b : { min: 0, max: 1 };\n  }\n  getAxisZooms() {\n    const axes = {};\n    for (const [axisId, axis] of this.axisZoomManagers.entries()) {\n      axes[axisId] = {\n        direction: axis.getDirection(),\n        zoom: axis.getZoom()\n      };\n    }\n    return axes;\n  }\n  applyChanges(callerId) {\n    const changed = Array.from(this.axisZoomManagers.values(), (axis) => axis.applyChanges()).some(Boolean);\n    if (!changed) {\n      return;\n    }\n    const axes = {};\n    for (const [axisId, axis] of this.axisZoomManagers.entries()) {\n      axes[axisId] = axis.getZoom();\n    }\n    this.listeners.dispatch(\"zoom-change\", __spreadProps(__spreadValues({ type: \"zoom-change\" }, this.getZoom()), { axes, callerId }));\n  }\n};\nvar AxisZoomManager = class {\n  constructor(axis) {\n    this.axis = axis;\n    const [min = 0, max = 1] = axis.visibleRange;\n    this.state = new StateTracker({ min, max });\n    this.currentZoom = this.state.stateValue();\n  }\n  getDirection() {\n    return this.axis.direction;\n  }\n  updateZoom(callerId, newZoom) {\n    this.state.set(callerId, newZoom);\n  }\n  getZoom() {\n    return deepClone(this.state.stateValue());\n  }\n  applyChanges() {\n    const prevZoom = this.currentZoom;\n    this.currentZoom = this.state.stateValue();\n    return prevZoom.min !== this.currentZoom.min || prevZoom.max !== this.currentZoom.max;\n  }\n};\n\n// packages/ag-charts-community/src/chart/keyboard.ts\nvar Keyboard = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], Keyboard.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], Keyboard.prototype, \"tabIndex\", 2);\n\n// packages/ag-charts-community/src/chart/keyboardUtil.ts\nfunction makeKeyboardPointerEvent(regionManager, pick) {\n  const { bbox, showFocusBox } = pick;\n  if (showFocusBox) {\n    regionManager.updateFocusIndicatorRect(pick.bbox);\n  }\n  if (bbox !== void 0) {\n    const { x: offsetX, y: offsetY } = bbox.computeCenter();\n    return { type: \"keyboard\", offsetX, offsetY };\n  }\n  return void 0;\n}\n\n// packages/ag-charts-community/src/chart/mapping/prepareAxis.ts\nvar CARTESIAN_AXIS_POSITIONS = [\"top\", \"right\", \"bottom\", \"left\"];\nvar CARTESIAN_AXIS_TYPES = [\n  \"category\",\n  \"grouped-category\",\n  \"ordinal-time\",\n  \"number\",\n  \"log\",\n  \"time\"\n];\nfunction hasCartesianAxisPosition(axis) {\n  const allowedTypes = CARTESIAN_AXIS_TYPES;\n  return allowedTypes.includes(axis.type);\n}\nfunction isCartesianAxisOptions(options) {\n  const allowedTypes = CARTESIAN_AXIS_TYPES;\n  return allowedTypes.includes(options.type);\n}\nfunction isAxisPosition(position) {\n  const allowedPositions = CARTESIAN_AXIS_POSITIONS;\n  return typeof position === \"string\" && allowedPositions.includes(position);\n}\nvar AxisPositionGuesser = class {\n  constructor() {\n    this.result = [];\n    this.valid = [];\n    this.invalid = [];\n  }\n  push(axis, options) {\n    const { result, valid, invalid } = this;\n    if (isCartesianAxisOptions(options)) {\n      if (isAxisPosition(options.position)) {\n        valid.push(axis);\n      } else {\n        invalid.push(axis);\n      }\n    }\n    result.push(axis);\n  }\n  guessInvalidPositions() {\n    const takenPosition = this.valid.filter((v) => hasCartesianAxisPosition(v)).map((v) => v.position).filter((v) => v !== void 0);\n    const guesses = [\"top\", \"right\", \"bottom\", \"left\"];\n    for (const invalidAxis of this.invalid) {\n      let nextGuess = guesses.pop();\n      while (takenPosition.includes(nextGuess) && nextGuess !== void 0) {\n        nextGuess = guesses.pop();\n      }\n      if (nextGuess === void 0)\n        break;\n      invalidAxis.position = nextGuess;\n    }\n    return this.result;\n  }\n};\n\n// packages/ag-charts-community/src/chart/mapping/prepareSeries.ts\nvar MATCHING_KEYS = [\n  \"direction\",\n  \"xKey\",\n  \"yKey\",\n  \"sizeKey\",\n  \"angleKey\",\n  \"radiusKey\",\n  \"normalizedTo\",\n  \"stacked\",\n  \"grouped\",\n  \"stackGroup\"\n];\nfunction matchSeriesOptions(series, optSeries, oldOptsSeries) {\n  var _a, _b, _c, _d;\n  const generateKey = (type, i) => {\n    const result = [type];\n    for (const key of MATCHING_KEYS) {\n      if (key in i && i[key] != null)\n        result.push(`${key}=${i[key]}`);\n    }\n    return result.join(\";\");\n  };\n  const seriesMap = /* @__PURE__ */ new Map();\n  let idx = 0;\n  for (const s of series) {\n    const key = generateKey(s.type, s.properties);\n    if (!seriesMap.has(key)) {\n      seriesMap.set(key, []);\n    }\n    (_a = seriesMap.get(key)) == null ? void 0 : _a.push([s, idx++]);\n  }\n  const optsMap = /* @__PURE__ */ new Map();\n  for (const o of optSeries) {\n    const key = generateKey(o.type, o);\n    if (!optsMap.has(key)) {\n      optsMap.set(key, []);\n    }\n    (_b = optsMap.get(key)) == null ? void 0 : _b.push(o);\n  }\n  const overlap = [...seriesMap.keys()].some((k) => optsMap.has(k));\n  if (!overlap) {\n    return { status: \"no-overlap\", oldKeys: seriesMap.keys(), newKeys: optsMap.keys() };\n  }\n  const changes = [];\n  let targetIdx = -1;\n  for (const [key, optArray] of optsMap.entries()) {\n    for (const opts of optArray) {\n      targetIdx++;\n      const seriesArray = seriesMap.get(key);\n      if (seriesArray == null || seriesArray.length < 1) {\n        changes.push({ opts, idx: targetIdx, status: \"add\" });\n        seriesMap.delete(key);\n        continue;\n      }\n      const [outputSeries, outputIdx] = seriesArray.shift();\n      const previousOpts = (_c = oldOptsSeries == null ? void 0 : oldOptsSeries[outputIdx]) != null ? _c : {};\n      const diff2 = jsonDiff(previousOpts, opts != null ? opts : {});\n      const { groupIndex, stackIndex } = (_d = diff2 == null ? void 0 : diff2.seriesGrouping) != null ? _d : {};\n      if (groupIndex != null || stackIndex != null) {\n        changes.push({ opts, series: outputSeries, diff: diff2, idx: outputIdx, status: \"series-grouping\" });\n      } else if (diff2) {\n        changes.push({ opts, series: outputSeries, diff: diff2, idx: outputIdx, status: \"update\" });\n      } else {\n        changes.push({ opts, series: outputSeries, idx: outputIdx, status: \"no-op\" });\n      }\n      if (seriesArray.length === 0) {\n        seriesMap.delete(key);\n      }\n    }\n  }\n  for (const seriesArray of seriesMap.values()) {\n    for (const [outputSeries, outputIdx] of seriesArray) {\n      changes.push({ series: outputSeries, idx: outputIdx, status: \"remove\" });\n    }\n  }\n  return { status: \"overlap\", changes };\n}\n\n// packages/ag-charts-community/src/chart/modulesManager.ts\nvar ModulesManager = class extends ModuleMap {\n  applyOptions(options) {\n    for (const m of this.moduleMap.values()) {\n      if (m.module.optionsKey in options && isProperties(m.moduleInstance)) {\n        m.moduleInstance.set(options[m.module.optionsKey]);\n      }\n    }\n  }\n  *legends() {\n    for (const { module, moduleInstance } of this.moduleMap.values()) {\n      if (module.type !== \"legend\")\n        continue;\n      yield {\n        legendType: module.identifier,\n        legend: moduleInstance\n      };\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/overlay/overlay.ts\nvar DEFAULT_OVERLAY_CLASS = \"ag-chart-overlay\";\nvar DEFAULT_OVERLAY_DARK_CLASS = \"ag-chart-dark-overlay\";\nvar Overlay = class extends BaseProperties {\n  constructor(className, defaultText) {\n    super();\n    this.className = className;\n    this.defaultText = defaultText;\n    this.darkTheme = false;\n  }\n  getText() {\n    var _a;\n    return (_a = this.text) != null ? _a : this.defaultText;\n  }\n  getElement(animationManager, rect) {\n    var _a;\n    (_a = this.element) != null ? _a : this.element = createElement(\"div\", DEFAULT_OVERLAY_CLASS, { position: \"absolute\" });\n    this.element.classList.toggle(DEFAULT_OVERLAY_DARK_CLASS, this.darkTheme);\n    this.focusBox = rect;\n    const element2 = this.element;\n    element2.style.left = `${rect.x}px`;\n    element2.style.top = `${rect.y}px`;\n    element2.style.width = `${rect.width}px`;\n    element2.style.height = `${rect.height}px`;\n    if (this.renderer) {\n      const htmlContent = this.renderer();\n      if (htmlContent instanceof HTMLElement) {\n        element2.replaceChildren(htmlContent);\n      } else {\n        element2.innerHTML = htmlContent;\n      }\n    } else {\n      const content = createElement(\"div\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        boxSizing: \"border-box\",\n        height: \"100%\",\n        margin: \"8px\",\n        font: \"12px Verdana, sans-serif\"\n      });\n      content.innerText = this.getText();\n      element2.replaceChildren(content);\n      animationManager == null ? void 0 : animationManager.animate({\n        from: 0,\n        to: 1,\n        id: \"overlay\",\n        phase: \"add\",\n        groupId: \"opacity\",\n        onUpdate(value) {\n          element2.style.opacity = String(value);\n        },\n        onStop() {\n          element2.style.opacity = \"1\";\n        }\n      });\n    }\n    return this.element;\n  }\n  removeElement(animationManager) {\n    if (!this.element)\n      return;\n    if (animationManager) {\n      const { element: element2 } = this;\n      animationManager.animate({\n        from: 1,\n        to: 0,\n        phase: \"remove\",\n        id: \"overlay\",\n        groupId: \"opacity\",\n        onUpdate(value) {\n          element2.style.opacity = String(value);\n        },\n        onStop() {\n          element2.remove();\n        }\n      });\n    } else {\n      this.element.remove();\n    }\n    this.element = void 0;\n    this.focusBox = void 0;\n  }\n};\n__decorateClass([\n  Validate(STRING, { optional: true })\n], Overlay.prototype, \"text\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], Overlay.prototype, \"renderer\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], Overlay.prototype, \"darkTheme\", 2);\n\n// packages/ag-charts-community/src/chart/overlay/chartOverlays.ts\nvar ChartOverlays = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.loading = new Overlay(\"ag-chart-loading-overlay\", \"Loading data...\");\n    this.noData = new Overlay(\"ag-chart-no-data-overlay\", \"No data to display\");\n    this.noVisibleSeries = new Overlay(\"ag-chart-no-visible-series\", \"No visible series\");\n  }\n  getFocusInfo() {\n    for (const overlay of [this.loading, this.noData, this.noVisibleSeries]) {\n      if (overlay.focusBox !== void 0) {\n        return { text: overlay.getText(), rect: overlay.focusBox };\n      }\n    }\n    return void 0;\n  }\n  destroy() {\n    this.loading.removeElement();\n    this.noData.removeElement();\n    this.noVisibleSeries.removeElement();\n  }\n};\n__decorateClass([\n  Validate(OBJECT)\n], ChartOverlays.prototype, \"loading\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], ChartOverlays.prototype, \"noData\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], ChartOverlays.prototype, \"noVisibleSeries\", 2);\n\n// packages/ag-charts-community/src/chart/overlay/loadingSpinner.ts\nvar defaultOverlayCss = `\n.${DEFAULT_OVERLAY_CLASS} {\n    color: #181d1f;\n}\n\n.${DEFAULT_OVERLAY_CLASS}.${DEFAULT_OVERLAY_DARK_CLASS} {\n    color: #ffffff;\n}\n\n.${DEFAULT_OVERLAY_CLASS}--loading {\n    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */\n}\n\n.${DEFAULT_OVERLAY_CLASS}__loading-background {\n    background: white; /* DEFAULT_BACKGROUND_FILL */\n}\n\n.${DEFAULT_OVERLAY_CLASS}.${DEFAULT_OVERLAY_DARK_CLASS} .${DEFAULT_OVERLAY_CLASS}__loading-background {\n    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */\n}\n`;\nfunction getLoadingSpinner(text, defaultDuration) {\n  const { animationDuration } = PHASE_METADATA[\"add\"];\n  const duration = animationDuration * defaultDuration;\n  const container = createElement(\"div\", `${DEFAULT_OVERLAY_CLASS}--loading`, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    boxSizing: \"border-box\",\n    font: \"13px Verdana, sans-serif\",\n    // FONT_SIZE.MEDIUM\n    userSelect: \"none\",\n    animation: `ag-charts-loading ${duration}ms linear 50ms both`\n  });\n  const matrix = createElement(\"span\", {\n    width: \"45px\",\n    height: \"40px\",\n    backgroundImage: [\n      \"linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), \",\n      \"linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), \",\n      \"linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)\"\n    ].join(\"\"),\n    backgroundSize: \"10px 400%\",\n    backgroundRepeat: \"no-repeat\",\n    animation: \"ag-charts-loading-matrix 1s infinite linear\"\n  });\n  const label = createElement(\"p\", { marginTop: \"1em\" });\n  label.innerText = text;\n  const background = createElement(\"div\", `${DEFAULT_OVERLAY_CLASS}__loading-background`, {\n    position: \"absolute\",\n    inset: \"0\",\n    opacity: \"0.5\",\n    zIndex: \"-1\"\n  });\n  const animationStyles = createElement(\"style\");\n  animationStyles.innerText = [\n    \"@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }\",\n    \"@keyframes ag-charts-loading-matrix {\",\n    \"0% { background-position: 0% 0%, 50% 0%, 100% 0%; }\",\n    \"100% { background-position: 0% 100%, 50% 100%, 100% 100%; }\",\n    \"}\"\n  ].join(\" \");\n  container.replaceChildren(animationStyles, matrix, label, background);\n  injectStyle(defaultOverlayCss, \"chartOverlays\");\n  return container;\n}\n\n// packages/ag-charts-community/src/chart/data/aggregateFunctions.ts\nfunction sumValues(values, accumulator = [0, 0]) {\n  for (const value of values) {\n    if (typeof value !== \"number\") {\n      continue;\n    }\n    if (value < 0) {\n      accumulator[0] += value;\n    }\n    if (value > 0) {\n      accumulator[1] += value;\n    }\n  }\n  return accumulator;\n}\nfunction sum(id, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: [matchGroupId],\n    type: \"aggregate\",\n    aggregateFunction: (values) => sumValues(values)\n  };\n  return result;\n}\nfunction groupSum(id, matchGroupId) {\n  return {\n    id,\n    type: \"aggregate\",\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    aggregateFunction: (values) => sumValues(values),\n    groupAggregateFunction: (next, acc = [0, 0]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      return acc;\n    }\n  };\n}\nfunction range2(id, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: [matchGroupId],\n    type: \"aggregate\",\n    aggregateFunction: (values) => ContinuousDomain.extendDomain(values)\n  };\n  return result;\n}\nfunction groupCount(id) {\n  return {\n    id,\n    type: \"aggregate\",\n    aggregateFunction: () => [0, 1],\n    groupAggregateFunction: (next, acc = [0, 0]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      return acc;\n    }\n  };\n}\nfunction groupAverage(id, matchGroupId) {\n  const def = {\n    id,\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    type: \"aggregate\",\n    aggregateFunction: (values) => sumValues(values),\n    groupAggregateFunction: (next, acc = [0, 0, -1]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      acc[2]++;\n      return acc;\n    },\n    finalFunction: (acc = [0, 0, 0]) => {\n      const result = acc[0] + acc[1];\n      if (result >= 0) {\n        return [0, result / acc[2]];\n      }\n      return [result / acc[2], 0];\n    }\n  };\n  return def;\n}\nfunction area(id, aggFn, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    type: \"aggregate\",\n    aggregateFunction: (values, keyRange = []) => {\n      const keyWidth = keyRange[1] - keyRange[0];\n      return aggFn.aggregateFunction(values).map((v) => v / keyWidth);\n    }\n  };\n  if (aggFn.groupAggregateFunction) {\n    result.groupAggregateFunction = aggFn.groupAggregateFunction;\n  }\n  return result;\n}\nfunction accumulatedValue(onlyPositive) {\n  return () => {\n    let value = 0;\n    return (datum) => {\n      if (!isFiniteNumber(datum)) {\n        return datum;\n      }\n      value += onlyPositive ? Math.max(0, datum) : datum;\n      return value;\n    };\n  };\n}\nfunction trailingAccumulatedValue() {\n  return () => {\n    let value = 0;\n    return (datum) => {\n      if (!isFiniteNumber(datum)) {\n        return datum;\n      }\n      const trailingValue = value;\n      value += datum;\n      return trailingValue;\n    };\n  };\n}\n\n// packages/ag-charts-community/src/chart/data/processors.ts\nvar SMALLEST_KEY_INTERVAL = {\n  type: \"reducer\",\n  property: \"smallestKeyInterval\",\n  initialValue: Infinity,\n  reducer: () => {\n    let prevX = NaN;\n    return (smallestSoFar = Infinity, next) => {\n      const nextX = next.keys[0];\n      const interval = Math.abs(nextX - prevX);\n      prevX = nextX;\n      if (!isNaN(interval) && interval > 0 && interval < smallestSoFar) {\n        return interval;\n      }\n      return smallestSoFar;\n    };\n  }\n};\nvar SORT_DOMAIN_GROUPS = {\n  type: \"processor\",\n  property: \"sortedGroupDomain\",\n  calculate: ({ domain: { groups } }) => groups == null ? void 0 : groups.slice().sort((a, b) => {\n    for (let i = 0; i < a.length; i++) {\n      const result = a[i] - b[i];\n      if (result !== 0) {\n        return result;\n      }\n    }\n    return 0;\n  })\n};\nfunction normaliseFnBuilder({ normaliseTo, mode }) {\n  const normalise = (val, extent2) => {\n    const result = val * normaliseTo / extent2;\n    if (result >= 0) {\n      return Math.min(normaliseTo, result);\n    }\n    return Math.max(-normaliseTo, result);\n  };\n  return () => () => (values, valueIndexes) => {\n    const valuesExtent = [0, 0];\n    for (const valueIdx of valueIndexes) {\n      const value = values[valueIdx];\n      const valIdx = value < 0 ? 0 : 1;\n      if (mode === \"sum\") {\n        valuesExtent[valIdx] += value;\n      } else if (valIdx === 0) {\n        valuesExtent[valIdx] = Math.min(valuesExtent[valIdx], value);\n      } else {\n        valuesExtent[valIdx] = Math.max(valuesExtent[valIdx], value);\n      }\n    }\n    const extent2 = Math.max(Math.abs(valuesExtent[0]), valuesExtent[1]);\n    for (const valueIdx of valueIndexes) {\n      values[valueIdx] = normalise(values[valueIdx], extent2);\n    }\n  };\n}\nfunction normaliseGroupTo(matchGroupIds, normaliseTo, mode = \"sum\") {\n  return {\n    type: \"group-value-processor\",\n    matchGroupIds,\n    adjust: memo({ normaliseTo, mode }, normaliseFnBuilder)\n  };\n}\nfunction normalisePropertyFnBuilder({\n  normaliseTo,\n  zeroDomain,\n  rangeMin,\n  rangeMax\n}) {\n  const normaliseSpan = normaliseTo[1] - normaliseTo[0];\n  const normalise = (val, start, span) => {\n    const result = normaliseTo[0] + (val - start) / span * normaliseSpan;\n    if (span === 0) {\n      return zeroDomain;\n    } else if (result >= normaliseTo[1]) {\n      return normaliseTo[1];\n    } else if (result < normaliseTo[0]) {\n      return normaliseTo[0];\n    }\n    return result;\n  };\n  return () => (pData, pIdx) => {\n    let [start, end] = pData.domain.values[pIdx];\n    if (rangeMin != null)\n      start = rangeMin;\n    if (rangeMax != null)\n      end = rangeMax;\n    const span = end - start;\n    pData.domain.values[pIdx] = [normaliseTo[0], normaliseTo[1]];\n    for (const group2 of pData.data) {\n      let groupValues = group2.values;\n      if (pData.type === \"ungrouped\") {\n        groupValues = [groupValues];\n      }\n      for (const values of groupValues) {\n        values[pIdx] = normalise(values[pIdx], start, span);\n      }\n    }\n  };\n}\nfunction normalisePropertyTo(property, normaliseTo, zeroDomain, rangeMin, rangeMax) {\n  return {\n    type: \"property-value-processor\",\n    property,\n    adjust: memo({ normaliseTo, rangeMin, rangeMax, zeroDomain }, normalisePropertyFnBuilder)\n  };\n}\nfunction animationValidation(valueKeyIds) {\n  return {\n    type: \"processor\",\n    property: \"animationValidation\",\n    calculate(result) {\n      const { keys, values } = result.defs;\n      const { input, data } = result;\n      let uniqueKeys = true;\n      let orderedKeys = true;\n      const valueKeys = [];\n      for (let k = 0; k < values.length; k++) {\n        if (!(valueKeyIds == null ? void 0 : valueKeyIds.includes(values[k].id)))\n          continue;\n        valueKeys.push([k, values[k]]);\n      }\n      const processKey = (idx, def, type) => {\n        var _a;\n        if (def.valueType === \"category\") {\n          const keyValues = result.domain[type][idx];\n          uniqueKeys && (uniqueKeys = keyValues.length === input.count);\n          return;\n        }\n        let lastValue = (_a = data[0]) == null ? void 0 : _a[type][idx];\n        for (let d = 1; (uniqueKeys || orderedKeys) && d < data.length; d++) {\n          const keyValue = data[d][type][idx];\n          orderedKeys && (orderedKeys = lastValue <= keyValue);\n          uniqueKeys && (uniqueKeys = lastValue !== keyValue);\n          lastValue = keyValue;\n        }\n      };\n      for (let k = 0; (uniqueKeys || orderedKeys) && k < keys.length; k++) {\n        processKey(k, keys[k], \"keys\");\n      }\n      for (let k = 0; (uniqueKeys || orderedKeys) && k < valueKeys.length; k++) {\n        const [idx, key] = valueKeys[k];\n        processKey(idx, key, \"values\");\n      }\n      return { uniqueKeys, orderedKeys };\n    }\n  };\n}\nfunction buildGroupAccFn({ mode, separateNegative }) {\n  return () => () => (values, valueIndexes) => {\n    const acc = [0, 0];\n    for (const valueIdx of valueIndexes) {\n      const currentVal = values[valueIdx];\n      const accIndex = isNegative(currentVal) && separateNegative ? 0 : 1;\n      if (!isFiniteNumber(currentVal))\n        continue;\n      if (mode === \"normal\")\n        acc[accIndex] += currentVal;\n      values[valueIdx] = acc[accIndex];\n      if (mode === \"trailing\")\n        acc[accIndex] += currentVal;\n    }\n  };\n}\nfunction buildGroupWindowAccFn({ mode, sum: sum2 }) {\n  return () => {\n    const lastValues = [];\n    let firstRow = true;\n    return () => {\n      return (values, valueIndexes) => {\n        let acc = 0;\n        for (const valueIdx of valueIndexes) {\n          const currentVal = values[valueIdx];\n          const lastValue = firstRow && sum2 === \"current\" ? 0 : lastValues[valueIdx];\n          lastValues[valueIdx] = currentVal;\n          const sumValue = sum2 === \"current\" ? currentVal : lastValue;\n          if (!isFiniteNumber(currentVal) || !isFiniteNumber(lastValue)) {\n            values[valueIdx] = acc;\n            continue;\n          }\n          if (mode === \"normal\") {\n            acc += sumValue;\n          }\n          values[valueIdx] = acc;\n          if (mode === \"trailing\") {\n            acc += sumValue;\n          }\n        }\n        firstRow = false;\n      };\n    };\n  };\n}\nfunction accumulateGroup(matchGroupId, mode, sum2, separateNegative = false) {\n  let adjust;\n  if (mode.startsWith(\"window\")) {\n    const modeParam = mode.endsWith(\"-trailing\") ? \"trailing\" : \"normal\";\n    adjust = memo({ mode: modeParam, sum: sum2 }, buildGroupWindowAccFn);\n  } else {\n    adjust = memo({ mode, separateNegative }, buildGroupAccFn);\n  }\n  return {\n    type: \"group-value-processor\",\n    matchGroupIds: [matchGroupId],\n    adjust\n  };\n}\nfunction diff(previousData, updateMovedData = true) {\n  return {\n    type: \"processor\",\n    property: \"diff\",\n    calculate: (processedData) => {\n      const moved = /* @__PURE__ */ new Map();\n      const added = /* @__PURE__ */ new Map();\n      const updated = /* @__PURE__ */ new Map();\n      const removed = /* @__PURE__ */ new Map();\n      const length = Math.max(previousData.data.length, processedData.data.length);\n      for (let i = 0; i < length; i++) {\n        const prev = previousData.data[i];\n        const datum = processedData.data[i];\n        const prevId = prev ? createDatumId(prev.keys) : \"\";\n        const datumId = datum ? createDatumId(datum.keys) : \"\";\n        if (datum && prev && prevId === datumId) {\n          if (!arraysEqual(prev.values, datum.values)) {\n            updated.set(datumId, datum);\n          }\n          continue;\n        }\n        if (removed.has(datumId)) {\n          if (updateMovedData || !arraysEqual(removed.get(datumId).values, datum.values)) {\n            updated.set(datumId, datum);\n            moved.set(datumId, datum);\n          }\n          removed.delete(datumId);\n        } else if (datum) {\n          added.set(datumId, datum);\n        }\n        if (added.has(prevId)) {\n          if (updateMovedData || !arraysEqual(added.get(prevId).values, prev.values)) {\n            updated.set(prevId, prev);\n            moved.set(prevId, prev);\n          }\n          added.delete(prevId);\n        } else if (prev) {\n          updated.delete(prevId);\n          removed.set(prevId, prev);\n        }\n      }\n      const changed = added.size > 0 || updated.size > 0 || removed.size > 0;\n      return { changed, added, updated, removed, moved };\n    }\n  };\n}\nfunction createDatumId(keys, ...extraKeys) {\n  let result;\n  if (isArray(keys)) {\n    result = keys.map((key) => transformIntegratedCategoryValue(key)).join(\"___\");\n  } else {\n    result = transformIntegratedCategoryValue(keys);\n  }\n  const primitiveType = typeof result === \"string\" || typeof result === \"number\" || result instanceof Date;\n  if (primitiveType && extraKeys.length > 0) {\n    result += `___${extraKeys.join(\"___\")}`;\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/chart/series/series.ts\nvar SeriesNodePickMode = /* @__PURE__ */ ((SeriesNodePickMode2) => {\n  SeriesNodePickMode2[SeriesNodePickMode2[\"EXACT_SHAPE_MATCH\"] = 0] = \"EXACT_SHAPE_MATCH\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_BY_MAIN_AXIS_FIRST\"] = 1] = \"NEAREST_BY_MAIN_AXIS_FIRST\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\"] = 2] = \"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_NODE\"] = 3] = \"NEAREST_NODE\";\n  return SeriesNodePickMode2;\n})(SeriesNodePickMode || {});\nfunction basicContinuousCheckDatumValidation(value) {\n  return value != null && isContinuous(value);\n}\nfunction basicDiscreteCheckDatumValidation(value) {\n  return value != null;\n}\nfunction getValidationFn(scaleType) {\n  switch (scaleType) {\n    case \"number\":\n    case \"log\":\n    case \"ordinal-time\":\n    case \"time\":\n    case \"color\":\n      return basicContinuousCheckDatumValidation;\n    default:\n      return basicDiscreteCheckDatumValidation;\n  }\n}\nfunction getValueType(scaleType) {\n  switch (scaleType) {\n    case \"number\":\n    case \"log\":\n    case \"time\":\n    case \"color\":\n      return \"range\";\n    default:\n      return \"category\";\n  }\n}\nfunction keyProperty(propName, scaleType, opts = {}) {\n  const result = __spreadValues({\n    property: propName,\n    type: \"key\",\n    valueType: getValueType(scaleType),\n    validation: getValidationFn(scaleType)\n  }, opts);\n  return result;\n}\nfunction valueProperty(propName, scaleType, opts = {}) {\n  const result = __spreadValues({\n    property: propName,\n    type: \"value\",\n    valueType: getValueType(scaleType),\n    validation: getValidationFn(scaleType)\n  }, opts);\n  return result;\n}\nfunction rangedValueProperty(propName, opts = {}) {\n  const _a = opts, { min = -Infinity, max = Infinity } = _a, defOpts = __objRest(_a, [\"min\", \"max\"]);\n  return __spreadValues({\n    type: \"value\",\n    property: propName,\n    valueType: \"range\",\n    validation: basicContinuousCheckDatumValidation,\n    processor: () => (datum) => isFiniteNumber(datum) ? clamp(min, datum, max) : datum\n  }, defOpts);\n}\nfunction accumulativeValueProperty(propName, scaleType, opts = {}) {\n  const _a = opts, { onlyPositive } = _a, defOpts = __objRest(_a, [\"onlyPositive\"]);\n  const result = __spreadProps(__spreadValues({}, valueProperty(propName, scaleType, defOpts)), {\n    processor: accumulatedValue(onlyPositive)\n  });\n  return result;\n}\nfunction trailingAccumulatedValueProperty(propName, scaleType, opts = {}) {\n  const result = __spreadProps(__spreadValues({}, valueProperty(propName, scaleType, opts)), {\n    processor: trailingAccumulatedValue()\n  });\n  return result;\n}\nfunction groupAccumulativeValueProperty(propName, mode, sum2 = \"current\", opts, scaleType) {\n  return [\n    valueProperty(propName, scaleType, opts),\n    accumulateGroup(opts.groupId, mode, sum2, opts.separateNegative),\n    ...opts.rangeId != null ? [range2(opts.rangeId, opts.groupId)] : []\n  ];\n}\nvar SeriesNodeEvent = class {\n  constructor(type, event, { datum }, series) {\n    this.type = type;\n    this.event = event;\n    this.datum = datum;\n    this.seriesId = series.id;\n  }\n};\nvar SeriesGroupingChangedEvent = class {\n  constructor(series, seriesGrouping, oldGrouping) {\n    this.series = series;\n    this.seriesGrouping = seriesGrouping;\n    this.oldGrouping = oldGrouping;\n    this.type = \"groupingChanged\";\n  }\n};\nvar Series = class extends Observable {\n  constructor(seriesOpts) {\n    super();\n    this.destroyFns = [];\n    this.seriesGrouping = void 0;\n    this.NodeEvent = SeriesNodeEvent;\n    this.internalId = createId(this);\n    // The group node that contains all the nodes used to render this series.\n    this.rootGroup = new Group({ name: \"seriesRoot\", isVirtual: true });\n    this.axes = {\n      [\"x\" /* X */]: void 0,\n      [\"y\" /* Y */]: void 0\n    };\n    this.directions = [\"x\" /* X */, \"y\" /* Y */];\n    // Flag to determine if we should recalculate node data.\n    this.nodeDataRefresh = true;\n    this.moduleMap = new ModuleMap();\n    this._declarationOrder = -1;\n    this.seriesListeners = new Listeners();\n    const {\n      moduleCtx,\n      pickModes = [1 /* NEAREST_BY_MAIN_AXIS_FIRST */],\n      directionKeys = {},\n      directionNames = {},\n      contentGroupVirtual = true,\n      canHaveAxes = false\n    } = seriesOpts;\n    this.ctx = moduleCtx;\n    this.directionKeys = directionKeys;\n    this.directionNames = directionNames;\n    this.canHaveAxes = canHaveAxes;\n    this.contentGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.internalId}-content`,\n        isVirtual: contentGroupVirtual,\n        zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"data\")\n      })\n    );\n    this.highlightGroup = new Group({\n      name: `${this.internalId}-highlight`,\n      isVirtual: contentGroupVirtual,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"highlight\")\n    });\n    this.highlightNode = this.highlightGroup.appendChild(new Group({ name: \"highlightNode\", zIndex: 0 }));\n    this.highlightLabel = this.highlightGroup.appendChild(new Group({ name: \"highlightLabel\", zIndex: 10 }));\n    this.pickModes = pickModes;\n    this.labelGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.internalId}-series-labels`,\n        zIndex: 8 /* SERIES_LABEL_ZINDEX */\n      })\n    );\n    this.annotationGroup = new Group({\n      name: `${this.id}-annotation`,\n      isVirtual: contentGroupVirtual,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"annotation\")\n    });\n  }\n  get id() {\n    var _a, _b;\n    return (_b = (_a = this.properties) == null ? void 0 : _a.id) != null ? _b : this.internalId;\n  }\n  get type() {\n    var _a;\n    return (_a = this.constructor.type) != null ? _a : \"\";\n  }\n  get data() {\n    var _a;\n    return (_a = this._data) != null ? _a : this._chartData;\n  }\n  set visible(value) {\n    this.properties.visible = value;\n    this.visibleChanged();\n  }\n  get visible() {\n    return this.properties.visible;\n  }\n  get hasData() {\n    return this.data != null && this.data.length > 0;\n  }\n  get tooltipEnabled() {\n    var _a, _b;\n    return (_b = (_a = this.properties.tooltip) == null ? void 0 : _a.enabled) != null ? _b : false;\n  }\n  onDataChange() {\n    this.nodeDataRefresh = true;\n  }\n  setOptionsData(input) {\n    this._data = input;\n    this.onDataChange();\n  }\n  setChartData(input) {\n    this._chartData = input;\n    if (this.data === input) {\n      this.onDataChange();\n    }\n  }\n  onSeriesGroupingChange(prev, next) {\n    const { internalId, type, visible } = this;\n    if (prev) {\n      this.ctx.seriesStateManager.deregisterSeries({ id: internalId, type });\n    }\n    if (next) {\n      this.ctx.seriesStateManager.registerSeries({ id: internalId, type, visible, seriesGrouping: next });\n    }\n    this.fireEvent(new SeriesGroupingChangedEvent(this, next, prev));\n  }\n  getBandScalePadding() {\n    return { inner: 1, outer: 0 };\n  }\n  getGroupZIndexSubOrder(type, subIndex = 0) {\n    let mainAdjust = 0;\n    switch (type) {\n      case \"data\":\n      case \"paths\":\n        break;\n      case \"labels\":\n        mainAdjust += 2e4;\n        break;\n      case \"marker\":\n        mainAdjust += 1e4;\n        break;\n      case \"highlight\":\n        subIndex += 15e3;\n        break;\n      case \"annotation\":\n        mainAdjust += 15e3;\n        break;\n    }\n    const main = () => this._declarationOrder + mainAdjust;\n    return [main, subIndex];\n  }\n  addListener(type, listener) {\n    return this.seriesListeners.addListener(type, listener);\n  }\n  dispatch(type, event) {\n    this.seriesListeners.dispatch(type, event);\n  }\n  addChartEventListeners() {\n    return;\n  }\n  destroy() {\n    this.destroyFns.forEach((f) => f());\n    this.destroyFns = [];\n    this.ctx.seriesStateManager.deregisterSeries(this);\n  }\n  getDirectionValues(direction, properties) {\n    const resolvedDirection = this.resolveKeyDirection(direction);\n    const keys = properties == null ? void 0 : properties[resolvedDirection];\n    const values = [];\n    if (!keys) {\n      return values;\n    }\n    const addValues = (...items) => {\n      for (const value of items) {\n        if (Array.isArray(value)) {\n          addValues(...value);\n        } else if (typeof value === \"object\") {\n          addValues(...Object.values(value));\n        } else {\n          values.push(value);\n        }\n      }\n    };\n    addValues(...keys.map((key) => this.properties[key]));\n    return values;\n  }\n  getKeys(direction) {\n    return this.getDirectionValues(direction, this.directionKeys);\n  }\n  getKeyProperties(direction) {\n    var _a;\n    return (_a = this.directionKeys[this.resolveKeyDirection(direction)]) != null ? _a : [];\n  }\n  getNames(direction) {\n    return this.getDirectionValues(direction, this.directionNames);\n  }\n  resolveKeyDirection(direction) {\n    return direction;\n  }\n  // The union of the series domain ('community') and series-option domains ('enterprise').\n  getDomain(direction) {\n    const seriesDomain = this.getSeriesDomain(direction);\n    const moduleDomains = this.moduleMap.mapModules((module) => module.getDomain(direction));\n    return seriesDomain.concat(moduleDomains.flat());\n  }\n  // Indicate that something external changed and we should recalculate nodeData.\n  markNodeDataDirty() {\n    this.nodeDataRefresh = true;\n  }\n  visibleChanged() {\n    this.ctx.seriesStateManager.registerSeries(this);\n  }\n  getOpacity() {\n    const defaultOpacity = 1;\n    const { dimOpacity = 1, enabled = true } = this.properties.highlightStyle.series;\n    if (!enabled || dimOpacity === defaultOpacity) {\n      return defaultOpacity;\n    }\n    switch (this.isItemIdHighlighted()) {\n      case 0 /* None */:\n      case 1 /* This */:\n        return defaultOpacity;\n      case 2 /* Other */:\n      default:\n        return dimOpacity;\n    }\n  }\n  getStrokeWidth(defaultStrokeWidth) {\n    const { strokeWidth, enabled = true } = this.properties.highlightStyle.series;\n    if (!enabled || strokeWidth === void 0) {\n      return defaultStrokeWidth;\n    }\n    switch (this.isItemIdHighlighted()) {\n      case 1 /* This */:\n        return strokeWidth;\n      case 0 /* None */:\n      case 2 /* Other */:\n        return defaultStrokeWidth;\n    }\n  }\n  isItemIdHighlighted() {\n    var _a, _b;\n    const series = (_b = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight()) == null ? void 0 : _b.series;\n    if (series == null) {\n      return 0 /* None */;\n    }\n    if (series !== this) {\n      return 2 /* Other */;\n    }\n    return 1 /* This */;\n  }\n  getModuleTooltipParams() {\n    return this.moduleMap.mapModules((module) => module.getTooltipParams()).reduce((total, current) => Object.assign(total, current), {});\n  }\n  pickNode(point, limitPickModes) {\n    const { pickModes, visible, rootGroup } = this;\n    if (!visible || !rootGroup.visible) {\n      return;\n    }\n    for (const pickMode of pickModes) {\n      if (limitPickModes && !limitPickModes.includes(pickMode)) {\n        continue;\n      }\n      let match;\n      switch (pickMode) {\n        case 0 /* EXACT_SHAPE_MATCH */:\n          match = this.pickNodeExactShape(point);\n          break;\n        case 1 /* NEAREST_BY_MAIN_AXIS_FIRST */:\n        case 2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */:\n          match = this.pickNodeMainAxisFirst(\n            point,\n            pickMode === 2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */\n          );\n          break;\n        case 3 /* NEAREST_NODE */:\n          match = this.pickNodeClosestDatum(point);\n          break;\n      }\n      if (match) {\n        return { pickMode, match: match.datum, distance: match.distance };\n      }\n    }\n  }\n  pickNodeExactShape(point) {\n    const match = this.contentGroup.pickNode(point.x, point.y);\n    if (match && match.datum.missing !== true) {\n      return { datum: match.datum, distance: 0 };\n    }\n    return void 0;\n  }\n  pickNodeClosestDatum(_point) {\n    throw new Error(\"AG Charts - Series.pickNodeClosestDatum() not implemented\");\n  }\n  pickNodeNearestDistantObject(point, items) {\n    const match = nearestSquared(point.x, point.y, items);\n    if (match.nearest !== void 0 && match.nearest.datum.missing !== true) {\n      return { datum: match.nearest.datum, distance: Math.sqrt(match.distanceSquared) };\n    }\n    return void 0;\n  }\n  pickNodeMainAxisFirst(_point, _requireCategoryAxis) {\n    throw new Error(\"AG Charts - Series.pickNodeMainAxisFirst() not implemented\");\n  }\n  fireNodeClickEvent(event, datum) {\n    this.fireEvent(new this.NodeEvent(\"nodeClick\", event, datum, this));\n  }\n  fireNodeDoubleClickEvent(event, datum) {\n    this.fireEvent(new this.NodeEvent(\"nodeDoubleClick\", event, datum, this));\n  }\n  createNodeContextMenuActionEvent(event, datum) {\n    return new this.NodeEvent(\"nodeContextMenuAction\", event, datum, this);\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.visible = enabled;\n    this.nodeDataRefresh = true;\n    this.dispatch(\"visibility-changed\", { itemId, enabled });\n  }\n  isEnabled() {\n    return this.visible;\n  }\n  getModuleMap() {\n    return this.moduleMap;\n  }\n  createModuleContext() {\n    return __spreadProps(__spreadValues({}, this.ctx), { series: this });\n  }\n  getLabelText(label, params, defaultFormatter = String) {\n    var _a;\n    if (label.formatter) {\n      return (_a = this.ctx.callbackCache.call(label.formatter, __spreadValues({ seriesId: this.id }, params))) != null ? _a : defaultFormatter(params.value);\n    }\n    return defaultFormatter(params.value);\n  }\n  getMarkerStyle(marker, params, defaultStyle = marker.getStyle()) {\n    var _a, _b;\n    const defaultSize = { size: (_b = (_a = params.datum.point) == null ? void 0 : _a.size) != null ? _b : 0 };\n    const markerStyle = mergeDefaults(defaultSize, defaultStyle);\n    if (marker.formatter) {\n      const style = this.ctx.callbackCache.call(marker.formatter, __spreadProps(__spreadValues(__spreadValues({\n        seriesId: this.id\n      }, markerStyle), params), {\n        datum: params.datum.datum\n      }));\n      return mergeDefaults(style, markerStyle);\n    }\n    return markerStyle;\n  }\n  updateMarkerStyle(markerNode, marker, params, defaultStyle = marker.getStyle(), { applyTranslation = true } = {}) {\n    const { point } = params.datum;\n    const activeStyle = this.getMarkerStyle(marker, params, defaultStyle);\n    const visible = this.visible && activeStyle.size > 0 && point && !isNaN(point.x) && !isNaN(point.y);\n    if (applyTranslation) {\n      markerNode.setProperties(__spreadProps(__spreadValues({ visible }, activeStyle), { translationX: point == null ? void 0 : point.x, translationY: point == null ? void 0 : point.y }));\n    } else {\n      markerNode.setProperties(__spreadValues({ visible }, activeStyle));\n    }\n    if (typeof marker.shape === \"function\" && !markerNode.dirtyPath) {\n      markerNode.path.clear(true);\n      markerNode.updatePath();\n      markerNode.checkPathDirty();\n    }\n  }\n  getMinRects(_width, _height) {\n    return;\n  }\n  get nodeDataDependencies() {\n    var _a;\n    return (_a = this._nodeDataDependencies) != null ? _a : { seriesRectWidth: NaN, seriesRectHeight: NaN };\n  }\n  checkResize(newSeriesRect) {\n    const { width: seriesRectWidth, height: seriesRectHeight } = newSeriesRect != null ? newSeriesRect : { width: NaN, height: NaN };\n    const newNodeDataDependencies = newSeriesRect ? { seriesRectWidth, seriesRectHeight } : void 0;\n    const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n    if (resize) {\n      this._nodeDataDependencies = newNodeDataDependencies;\n      this.markNodeDataDirty();\n    }\n    return resize;\n  }\n  pickFocus(_opts) {\n    return void 0;\n  }\n};\nSeries.highlightedZIndex = 1e12;\n__decorateClass([\n  ActionOnSet({\n    changeValue: function(newVal, oldVal) {\n      this.onSeriesGroupingChange(oldVal, newVal);\n    }\n  })\n], Series.prototype, \"seriesGrouping\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesLayerManager.ts\nvar SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION = 30;\nvar SeriesLayerManager = class {\n  constructor(seriesRoot, highlightRoot, annotationRoot) {\n    this.seriesRoot = seriesRoot;\n    this.highlightRoot = highlightRoot;\n    this.annotationRoot = annotationRoot;\n    this.groups = {};\n    this.series = {};\n    this.expectedSeriesCount = 1;\n    this.mode = \"normal\";\n  }\n  setSeriesCount(count) {\n    this.expectedSeriesCount = count;\n  }\n  requestGroup(seriesConfig) {\n    var _a, _b, _c, _d;\n    const {\n      internalId,\n      type,\n      rootGroup: seriesRootGroup,\n      highlightGroup: seriesHighlightGroup,\n      annotationGroup: seriesAnnotationGroup,\n      seriesGrouping\n    } = seriesConfig;\n    const { groupIndex = internalId } = seriesGrouping != null ? seriesGrouping : {};\n    if (this.series[internalId] != null) {\n      throw new Error(`AG Charts - series already has an allocated layer: ${this.series[internalId]}`);\n    }\n    if (Object.keys(this.series).length === 0) {\n      this.mode = this.expectedSeriesCount >= SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION ? \"aggressive-grouping\" : \"normal\";\n    }\n    (_b = (_a = this.groups)[type]) != null ? _b : _a[type] = {};\n    const lookupIndex = this.lookupIdx(groupIndex);\n    let groupInfo = this.groups[type][lookupIndex];\n    if (!groupInfo) {\n      groupInfo = (_d = (_c = this.groups[type])[lookupIndex]) != null ? _d : _c[lookupIndex] = {\n        seriesIds: [],\n        group: this.seriesRoot.appendChild(\n          new Group({\n            name: `${type}-content`,\n            layer: true,\n            zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n            zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"data\")\n          })\n        ),\n        highlight: this.highlightRoot.appendChild(\n          new Group({\n            name: `${type}-highlight`,\n            zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n            zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"highlight\")\n          })\n        ),\n        annotation: this.annotationRoot.appendChild(\n          new Group({\n            name: `${type}-annotation`,\n            zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n            zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"annotation\")\n          })\n        )\n      };\n    }\n    this.series[internalId] = { layerState: groupInfo, seriesConfig };\n    groupInfo.seriesIds.push(internalId);\n    groupInfo.group.appendChild(seriesRootGroup);\n    groupInfo.highlight.appendChild(seriesHighlightGroup);\n    groupInfo.annotation.appendChild(seriesAnnotationGroup);\n    return groupInfo.group;\n  }\n  changeGroup(seriesConfig) {\n    var _a, _b;\n    const { internalId, seriesGrouping, type, rootGroup, highlightGroup, annotationGroup, oldGrouping } = seriesConfig;\n    const { groupIndex = internalId } = seriesGrouping != null ? seriesGrouping : {};\n    if ((_b = (_a = this.groups[type]) == null ? void 0 : _a[groupIndex]) == null ? void 0 : _b.seriesIds.includes(internalId)) {\n      return;\n    }\n    if (this.series[internalId] != null) {\n      this.releaseGroup({\n        internalId,\n        seriesGrouping: oldGrouping,\n        type,\n        rootGroup,\n        highlightGroup,\n        annotationGroup\n      });\n    }\n    this.requestGroup(seriesConfig);\n  }\n  releaseGroup(seriesConfig) {\n    var _a, _b, _c, _d, _e;\n    const { internalId, seriesGrouping, rootGroup, highlightGroup, annotationGroup, type } = seriesConfig;\n    const { groupIndex = internalId } = seriesGrouping != null ? seriesGrouping : {};\n    if (this.series[internalId] == null) {\n      throw new Error(`AG Charts - series doesn't have an allocated layer: ${internalId}`);\n    }\n    const lookupIndex = this.lookupIdx(groupIndex);\n    const groupInfo = (_c = (_a = this.groups[type]) == null ? void 0 : _a[lookupIndex]) != null ? _c : (_b = this.series[internalId]) == null ? void 0 : _b.layerState;\n    if (groupInfo) {\n      groupInfo.seriesIds = groupInfo.seriesIds.filter((v) => v !== internalId);\n      groupInfo.group.removeChild(rootGroup);\n      groupInfo.highlight.removeChild(highlightGroup);\n      groupInfo.annotation.removeChild(annotationGroup);\n    }\n    if ((groupInfo == null ? void 0 : groupInfo.seriesIds.length) === 0) {\n      this.seriesRoot.removeChild(groupInfo.group);\n      this.highlightRoot.removeChild(groupInfo.highlight);\n      this.annotationRoot.removeChild(groupInfo.annotation);\n      delete this.groups[type][lookupIndex];\n      delete this.groups[type][internalId];\n    } else if ((groupInfo == null ? void 0 : groupInfo.seriesIds.length) > 0) {\n      const leadSeriesConfig = (_e = this.series[(_d = groupInfo == null ? void 0 : groupInfo.seriesIds) == null ? void 0 : _d[0]]) == null ? void 0 : _e.seriesConfig;\n      groupInfo.group.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"data\");\n      groupInfo.highlight.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"highlight\");\n      groupInfo.annotation.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"annotation\");\n    }\n    delete this.series[internalId];\n  }\n  lookupIdx(groupIndex) {\n    if (this.mode === \"normal\") {\n      return groupIndex;\n    }\n    if (typeof groupIndex === \"string\") {\n      groupIndex = Number(groupIndex.split(\"-\").slice(-1)[0]);\n      if (!groupIndex) {\n        return 0;\n      }\n    }\n    return Math.floor(\n      clamp(0, groupIndex / this.expectedSeriesCount, 1) * SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION\n    );\n  }\n  destroy() {\n    for (const groups of Object.values(this.groups)) {\n      for (const groupInfo of Object.values(groups)) {\n        this.seriesRoot.removeChild(groupInfo.group);\n        this.highlightRoot.removeChild(groupInfo.highlight);\n        this.annotationRoot.removeChild(groupInfo.annotation);\n      }\n    }\n    this.groups = {};\n    this.series = {};\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/baseLayoutProcessor.ts\nvar BaseLayoutProcessor = class {\n  constructor(chartLike, layoutService) {\n    this.chartLike = chartLike;\n    this.layoutService = layoutService;\n    this.destroyFns = [];\n    this.destroyFns.push(\n      // eslint-disable-next-line sonarjs/no-duplicate-string\n      this.layoutService.addListener(\"start-layout\", (e) => this.positionPadding(e.shrinkRect)),\n      this.layoutService.addListener(\"start-layout\", (e) => this.positionCaptions(e.shrinkRect))\n    );\n  }\n  destroy() {\n    this.destroyFns.forEach((cb) => cb());\n  }\n  positionPadding(shrinkRect) {\n    const { padding } = this.chartLike;\n    shrinkRect.shrink(padding.left, \"left\");\n    shrinkRect.shrink(padding.top, \"top\");\n    shrinkRect.shrink(padding.right, \"right\");\n    shrinkRect.shrink(padding.bottom, \"bottom\");\n    return { shrinkRect };\n  }\n  positionCaptions(shrinkRect) {\n    var _a, _b;\n    const { title, subtitle, footnote } = this.chartLike;\n    const newShrinkRect = shrinkRect.clone();\n    const updateCaption = (caption) => {\n      var _a2;\n      const defaultCaptionHeight = shrinkRect.height / 10;\n      const captionLineHeight = (_a2 = caption.lineHeight) != null ? _a2 : caption.fontSize * Text.defaultLineHeightRatio;\n      const maxWidth = shrinkRect.width;\n      const maxHeight = Math.max(captionLineHeight, defaultCaptionHeight);\n      caption.computeTextWrap(maxWidth, maxHeight);\n    };\n    const computeX = (align) => {\n      if (align === \"left\") {\n        return newShrinkRect.x;\n      } else if (align === \"right\") {\n        return newShrinkRect.x + newShrinkRect.width;\n      } else if (align !== \"center\") {\n        Logger.error(`invalid textAlign value: ${align}`);\n      }\n      return newShrinkRect.x + newShrinkRect.width / 2;\n    };\n    const positionTopAndShrinkBBox = (caption, spacing) => {\n      const baseY = newShrinkRect.y;\n      caption.node.x = computeX(caption.textAlign);\n      caption.node.y = baseY;\n      caption.node.textBaseline = \"top\";\n      updateCaption(caption);\n      const bbox = caption.node.computeBBox();\n      const bboxHeight = Math.ceil(bbox.y - baseY + bbox.height + spacing);\n      newShrinkRect.shrink(bboxHeight, \"top\");\n    };\n    const positionBottomAndShrinkBBox = (caption, spacing) => {\n      const baseY = newShrinkRect.y + newShrinkRect.height;\n      caption.node.x = computeX(caption.textAlign);\n      caption.node.y = baseY;\n      caption.node.textBaseline = \"bottom\";\n      updateCaption(caption);\n      const bbox = caption.node.computeBBox();\n      const bboxHeight = Math.ceil(baseY - bbox.y + spacing);\n      newShrinkRect.shrink(bboxHeight, \"bottom\");\n    };\n    title.node.visible = title.enabled;\n    subtitle.node.visible = subtitle.enabled;\n    footnote.node.visible = footnote.enabled;\n    if (title.enabled) {\n      const { spacing = subtitle.enabled ? Caption.SMALL_PADDING : Caption.LARGE_PADDING } = title;\n      positionTopAndShrinkBBox(title, spacing);\n    }\n    if (subtitle.enabled) {\n      positionTopAndShrinkBBox(subtitle, (_a = subtitle.spacing) != null ? _a : 0);\n    }\n    if (footnote.enabled) {\n      positionBottomAndShrinkBBox(footnote, (_b = footnote.spacing) != null ? _b : 0);\n    }\n    return { shrinkRect: newShrinkRect };\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/dataWindowProcessor.ts\nvar DataWindowProcessor = class {\n  constructor(chart, dataService, updateService, zoomManager) {\n    this.chart = chart;\n    this.dataService = dataService;\n    this.updateService = updateService;\n    this.zoomManager = zoomManager;\n    this.dirtyZoom = false;\n    this.dirtyDataSource = false;\n    this.lastAxisZooms = /* @__PURE__ */ new Map();\n    this.destroyFns = [];\n    this.destroyFns.push(\n      this.dataService.addListener(\"data-source-change\", () => this.onDataSourceChange()),\n      this.dataService.addListener(\"data-load\", () => this.onDataLoad()),\n      this.dataService.addListener(\"data-error\", () => this.onDataError()),\n      this.updateService.addListener(\"update-complete\", () => this.onUpdateComplete()),\n      this.zoomManager.addListener(\"zoom-change\", () => this.onZoomChange())\n    );\n  }\n  destroy() {\n    this.destroyFns.forEach((cb) => cb());\n  }\n  onDataLoad() {\n    this.updateService.update(1 /* UPDATE_DATA */);\n  }\n  onDataError() {\n    this.updateService.update(3 /* PERFORM_LAYOUT */);\n  }\n  onDataSourceChange() {\n    this.dirtyDataSource = true;\n  }\n  onUpdateComplete() {\n    if (!this.dirtyZoom && !this.dirtyDataSource)\n      return;\n    this.updateWindow().catch((e) => Logger.errorOnce(e));\n  }\n  onZoomChange() {\n    this.dirtyZoom = true;\n  }\n  updateWindow() {\n    return __async(this, null, function* () {\n      if (!this.dataService.isLazy())\n        return;\n      const axis = this.getValidAxis();\n      let window2;\n      let shouldRefresh = true;\n      if (axis) {\n        const zoom2 = this.zoomManager.getAxisZoom(axis.id);\n        window2 = this.getAxisWindow(axis, zoom2);\n        shouldRefresh = this.shouldRefresh(axis, zoom2);\n      }\n      this.dirtyZoom = false;\n      this.dirtyDataSource = false;\n      if (!shouldRefresh)\n        return;\n      this.dataService.load({ windowStart: window2 == null ? void 0 : window2.min, windowEnd: window2 == null ? void 0 : window2.max });\n    });\n  }\n  getValidAxis() {\n    return this.chart.axes.find((axis) => axis.type === \"time\");\n  }\n  shouldRefresh(axis, zoom2) {\n    if (this.dirtyDataSource)\n      return true;\n    if (!this.dirtyZoom)\n      return false;\n    const lastZoom = this.lastAxisZooms.get(axis.id);\n    if (lastZoom && zoom2.min === lastZoom.min && zoom2.max === lastZoom.max) {\n      return false;\n    }\n    this.lastAxisZooms.set(axis.id, zoom2);\n    return true;\n  }\n  getAxisWindow(axis, zoom2) {\n    var _a, _b;\n    const domain = (_b = (_a = axis.scale).getDomain) == null ? void 0 : _b.call(_a);\n    if (!zoom2 || !domain || domain.length === 0 || isNaN(Number(domain[0])))\n      return;\n    const diff2 = Number(domain[1]) - Number(domain[0]);\n    const min = new Date(Number(domain[0]) + diff2 * zoom2.min);\n    const max = new Date(Number(domain[0]) + diff2 * zoom2.max);\n    return { min, max };\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/overlaysProcessor.ts\nvar OverlaysProcessor = class {\n  constructor(chartLike, overlays, dataService, layoutService, animationManager) {\n    this.chartLike = chartLike;\n    this.overlays = overlays;\n    this.dataService = dataService;\n    this.layoutService = layoutService;\n    this.animationManager = animationManager;\n    this.destroyFns = [];\n    this.destroyFns.push(this.layoutService.addListener(\"layout-complete\", (e) => this.onLayoutComplete(e)));\n  }\n  destroy() {\n    this.destroyFns.forEach((cb) => cb());\n  }\n  onLayoutComplete({ series: { rect } }) {\n    const isLoading = this.dataService.isLoading();\n    const hasData = this.chartLike.series.some((s) => s.hasData);\n    const anySeriesVisible = this.chartLike.series.some((s) => s.visible);\n    this.toggleOverlay(this.overlays.loading, rect, isLoading);\n    this.toggleOverlay(this.overlays.noData, rect, !isLoading && !hasData);\n    this.toggleOverlay(this.overlays.noVisibleSeries, rect, hasData && !anySeriesVisible);\n  }\n  toggleOverlay(overlay, seriesRect, visible) {\n    if (visible) {\n      const element2 = overlay.getElement(this.animationManager, seriesRect);\n      this.chartLike.element.append(element2);\n    } else {\n      overlay.removeElement(this.animationManager);\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/chart.ts\nvar debug = Debug.create(true, \"opts\");\nvar SeriesArea = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.padding = new Padding(0);\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], SeriesArea.prototype, \"clip\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], SeriesArea.prototype, \"padding\", 2);\nvar _Chart = class _Chart extends Observable {\n  constructor(options, resources) {\n    var _a, _b, _c;\n    super();\n    this.id = createId(this);\n    this.seriesRoot = new Group({ name: `${this.id}-series-root` });\n    this.highlightRoot = new Group({\n      name: `${this.id}-highlight-root`,\n      layer: true,\n      zIndex: 5 /* SERIES_HIGHLIGHT_ZINDEX */,\n      nonEmptyChildDerivedZIndex: true\n    });\n    this.annotationRoot = new Group({\n      name: `${this.id}-annotation-root`,\n      layer: true,\n      zIndex: 10 /* SERIES_ANNOTATION_ZINDEX */\n    });\n    this.debug = Debug.create();\n    this.extraDebugStats = {};\n    this.data = [];\n    this._firstAutoSize = true;\n    this.padding = new Padding(20);\n    this.seriesArea = new SeriesArea();\n    this.title = new Caption();\n    this.subtitle = new Caption();\n    this.footnote = new Caption();\n    this.keyboard = new Keyboard();\n    this.mode = \"standalone\";\n    this.destroyed = false;\n    this._skipSync = false;\n    this._destroyFns = [];\n    this.chartAnimationPhase = \"initial\";\n    this.modulesManager = new ModulesManager();\n    // FIXME: zoomManager should be owned by ctx, but it can't because it is used by CartesianChart.onAxisChange before ctx is initialised\n    this.zoomManager = new ZoomManager();\n    this.processors = [];\n    this.processedOptions = {};\n    this.userOptions = {};\n    this.queuedUserOptions = [];\n    this._pendingFactoryUpdatesCount = 0;\n    this._performUpdateNoRenderCount = 0;\n    this._performUpdateSkipAnimations = false;\n    this.performUpdateType = 7 /* NONE */;\n    this.updateShortcutCount = 0;\n    this.seriesToUpdate = /* @__PURE__ */ new Set();\n    this.updateMutex = new Mutex();\n    this.updateRequestors = {};\n    this.performUpdateTrigger = debouncedCallback((_0) => __async(this, [_0], function* ({ count }) {\n      if (this.destroyed)\n        return;\n      this.updateMutex.acquire(() => __async(this, null, function* () {\n        try {\n          yield this.performUpdate(count);\n        } catch (error) {\n          Logger.error(\"update error\", error);\n        }\n      })).catch((e) => Logger.errorOnce(e));\n    }));\n    this._performUpdateSplits = {};\n    this.axes = [];\n    this.series = [];\n    this.focus = {\n      hasFocus: false,\n      series: void 0,\n      seriesIndex: 0,\n      datumIndex: 0,\n      datum: void 0\n    };\n    this.pointerScheduler = debouncedAnimationFrame(() => {\n      if (!this.lastInteractionEvent)\n        return;\n      if (this.performUpdateType <= 4 /* SERIES_UPDATE */) {\n        this.pointerScheduler.schedule();\n        return;\n      }\n      this.handlePointer(this.lastInteractionEvent, false);\n      this.lastInteractionEvent = void 0;\n    });\n    this.onSeriesNodeClick = (event) => {\n      const seriesNodeClickEvent = __spreadProps(__spreadValues({}, event), {\n        type: \"seriesNodeClick\"\n      });\n      Object.defineProperty(seriesNodeClickEvent, \"series\", {\n        enumerable: false,\n        // Should display the deprecation warning\n        get: () => event.series\n      });\n      this.fireEvent(seriesNodeClickEvent);\n    };\n    this.onSeriesNodeDoubleClick = (event) => {\n      const seriesNodeDoubleClick = __spreadProps(__spreadValues({}, event), {\n        type: \"seriesNodeDoubleClick\"\n      });\n      this.fireEvent(seriesNodeDoubleClick);\n    };\n    this.seriesGroupingChanged = (event) => {\n      if (!(event instanceof SeriesGroupingChangedEvent))\n        return;\n      const { series, seriesGrouping, oldGrouping } = event;\n      if (series.rootGroup.parent == null)\n        return;\n      this.seriesLayerManager.changeGroup({\n        internalId: series.internalId,\n        type: series.type,\n        rootGroup: series.rootGroup,\n        highlightGroup: series.highlightGroup,\n        annotationGroup: series.annotationGroup,\n        getGroupZIndexSubOrder: (type) => series.getGroupZIndexSubOrder(type),\n        seriesGrouping,\n        oldGrouping\n      });\n    };\n    this.dataProcessListeners = /* @__PURE__ */ new Set();\n    this.chartOptions = options;\n    let scene = resources == null ? void 0 : resources.scene;\n    const element2 = (_a = resources == null ? void 0 : resources.element) != null ? _a : createElement(\"div\", \"ag-chart-wrapper\", { position: \"relative\", userSelect: \"none\" });\n    const container = resources == null ? void 0 : resources.container;\n    this.element = element2;\n    const root = new Group({ name: \"root\" });\n    root.visible = false;\n    root.append(this.seriesRoot);\n    root.append(this.highlightRoot);\n    root.append(this.annotationRoot);\n    this.axisGridGroup = new Group({ name: \"Axes-Grids\", layer: true, zIndex: 1 /* AXIS_GRID_ZINDEX */ });\n    root.appendChild(this.axisGridGroup);\n    this.axisGroup = new Group({ name: \"Axes\", layer: true, zIndex: 2 /* AXIS_ZINDEX */ });\n    root.appendChild(this.axisGroup);\n    this.sizeMonitor = new SizeMonitor();\n    this.sizeMonitor.observe(this.element, (size) => this.rawResize(size));\n    const { overrideDevicePixelRatio } = options.specialOverrides;\n    scene != null ? scene : scene = new Scene({ pixelRatio: overrideDevicePixelRatio, canvasPosition: \"absolute\" });\n    scene.setRoot(root).setContainer(element2);\n    this.autoSize = true;\n    this.tooltip = new Tooltip();\n    this.seriesLayerManager = new SeriesLayerManager(this.seriesRoot, this.highlightRoot, this.annotationRoot);\n    const ctx = this.ctx = new ChartContext(this, {\n      scene,\n      syncManager: new SyncManager(this),\n      element: element2,\n      updateCallback: (type = 0 /* FULL */, opts) => this.update(type, opts),\n      updateMutex: this.updateMutex\n    });\n    this.overlays = new ChartOverlays();\n    (_c = (_b = this.overlays.loading).renderer) != null ? _c : _b.renderer = () => getLoadingSpinner(this.overlays.loading.getText(), ctx.animationManager.defaultDuration);\n    this.processors = [\n      new BaseLayoutProcessor(this, ctx.layoutService),\n      new DataWindowProcessor(this, ctx.dataService, ctx.updateService, ctx.zoomManager),\n      new OverlaysProcessor(this, this.overlays, ctx.dataService, ctx.layoutService, ctx.animationManager)\n    ];\n    this.highlight = new ChartHighlight();\n    this.container = container;\n    const { All } = InteractionState;\n    const moduleContext = this.getModuleContext();\n    const seriesRegion = ctx.regionManager.addRegion(\"series\", this.seriesRoot, this.axisGroup);\n    ctx.regionManager.addRegion(\"root\", root);\n    this._destroyFns.push(\n      ctx.dataService.addListener(\"data-load\", (event) => {\n        this.data = event.data;\n      }),\n      ctx.scene.attachNode(this.title.node),\n      ctx.scene.attachNode(this.subtitle.node),\n      ctx.scene.attachNode(this.footnote.node),\n      this.title.registerInteraction(moduleContext, \"title\"),\n      this.subtitle.registerInteraction(moduleContext, \"subtitle\"),\n      this.footnote.registerInteraction(moduleContext, \"footnote\"),\n      ctx.interactionManager.addListener(\"click\", (event) => this.onClick(event)),\n      ctx.interactionManager.addListener(\"dblclick\", (event) => this.onDoubleClick(event)),\n      seriesRegion.addListener(\"hover\", (event) => this.onMouseMove(event)),\n      seriesRegion.addListener(\"leave\", (event) => this.onLeave(event)),\n      seriesRegion.addListener(\"blur\", () => this.onBlur()),\n      seriesRegion.addListener(\"tab\", (event) => this.onTab(event)),\n      seriesRegion.addListener(\"nav-vert\", (event) => this.onNavVert(event)),\n      seriesRegion.addListener(\"nav-hori\", (event) => this.onNavHori(event)),\n      seriesRegion.addListener(\"submit\", (event) => this.onSubmit(event)),\n      ctx.keyNavManager.addListener(\"browserfocus\", (event) => this.onBrowserFocus(event)),\n      ctx.interactionManager.addListener(\"page-left\", () => this.destroy()),\n      ctx.interactionManager.addListener(\"contextmenu\", (event) => this.onContextMenu(event), All),\n      ctx.animationManager.addListener(\"animation-start\", () => this.onAnimationStart()),\n      ctx.animationManager.addListener(\"animation-frame\", () => {\n        this.update(6 /* SCENE_RENDER */);\n      }),\n      ctx.highlightManager.addListener(\"highlight-change\", (event) => this.changeHighlightDatum(event)),\n      ctx.zoomManager.addListener(\"zoom-pan-start\", () => this.resetPointer()),\n      ctx.zoomManager.addListener(\"zoom-change\", () => {\n        this.resetPointer();\n        this.series.map((s) => {\n          var _a2;\n          return (_a2 = s.animationState) == null ? void 0 : _a2.transition(\"updateData\");\n        });\n        const skipAnimations = this.chartAnimationPhase !== \"initial\";\n        this.update(3 /* PERFORM_LAYOUT */, { forceNodeDataRefresh: true, skipAnimations });\n      })\n    );\n  }\n  static getInstance(element2) {\n    return _Chart.chartsInstances.get(element2);\n  }\n  /** NOTE: This is exposed for use by Integrated charts only. */\n  get canvasElement() {\n    return this.ctx.scene.canvas.element;\n  }\n  /** NOTE: This is exposed for use by Integrated charts only. */\n  getCanvasDataURL(fileFormat) {\n    return this.ctx.scene.getDataURL(fileFormat);\n  }\n  onAutoSizeChange(value) {\n    const { style } = this.element;\n    if (value) {\n      style.display = \"block\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      if (!this._lastAutoSize) {\n        return;\n      }\n      this.resize(void 0, void 0, \"autoSize option\");\n    } else {\n      style.display = \"inline-block\";\n      style.width = \"auto\";\n      style.height = \"auto\";\n    }\n  }\n  download(fileName, fileFormat) {\n    this.ctx.scene.download(fileName, fileFormat);\n  }\n  getOptions() {\n    var _a;\n    return (_a = this.queuedUserOptions.at(-1)) != null ? _a : this.userOptions;\n  }\n  getModuleContext() {\n    return this.ctx;\n  }\n  getAriaLabel() {\n    var _a;\n    const captionText = [this.title, this.subtitle, this.footnote].filter((caption) => caption.enabled && caption.text).map((caption) => caption.text).join(\". \");\n    const nSeries = (_a = this.series.length) != null ? _a : 0;\n    return `chart, ${nSeries} series, ${captionText}`;\n  }\n  resetAnimations() {\n    this.chartAnimationPhase = \"initial\";\n    for (const series of this.series) {\n      series.resetAnimation(this.chartAnimationPhase);\n    }\n    for (const axis of this.axes) {\n      axis.resetAnimation(this.chartAnimationPhase);\n    }\n    this.animationRect = void 0;\n    this.ctx.animationManager.reset();\n  }\n  skipAnimations() {\n    this.ctx.animationManager.skipCurrentBatch();\n    this._performUpdateSkipAnimations = true;\n  }\n  destroy(opts) {\n    if (this.destroyed) {\n      return;\n    }\n    const keepTransferableResources = opts == null ? void 0 : opts.keepTransferableResources;\n    let result;\n    this.performUpdateType = 7 /* NONE */;\n    this._destroyFns.forEach((fn) => fn());\n    this.processors.forEach((p) => p.destroy());\n    this.tooltip.destroy();\n    this.overlays.destroy();\n    this.sizeMonitor.unobserve(this.element);\n    this.modulesManager.destroy();\n    if (keepTransferableResources) {\n      this.ctx.scene.strip();\n      result = { container: this.container, scene: this.ctx.scene, element: this.element };\n    } else {\n      this.ctx.scene.destroy();\n      this.container = void 0;\n    }\n    this.destroySeries(this.series);\n    this.seriesLayerManager.destroy();\n    this.axes.forEach((a) => a.destroy());\n    this.axes = [];\n    this.animationRect = void 0;\n    this.ctx.destroy();\n    this.zoomManager.destroy();\n    this.destroyed = true;\n    Object.freeze(this);\n    return result;\n  }\n  resetPointer(highlightOnly = false) {\n    if (!highlightOnly) {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n    }\n    this.ctx.highlightManager.updateHighlight(this.id);\n    this.lastInteractionEvent = void 0;\n  }\n  requestFactoryUpdate(cb) {\n    if (this.destroyed)\n      return;\n    this._pendingFactoryUpdatesCount++;\n    this.updateMutex.acquire(() => __async(this, null, function* () {\n      if (this.destroyed)\n        return;\n      yield cb(this);\n      if (this.destroyed)\n        return;\n      this._pendingFactoryUpdatesCount--;\n    })).catch((e) => Logger.errorOnce(e));\n  }\n  update(type = 0 /* FULL */, opts) {\n    var _a, _b;\n    const {\n      forceNodeDataRefresh = false,\n      skipAnimations,\n      seriesToUpdate = this.series,\n      newAnimationBatch\n    } = opts != null ? opts : {};\n    if (forceNodeDataRefresh) {\n      this.series.forEach((series) => series.markNodeDataDirty());\n    }\n    for (const series of seriesToUpdate) {\n      this.seriesToUpdate.add(series);\n    }\n    if (skipAnimations) {\n      this.ctx.animationManager.skipCurrentBatch();\n      this._performUpdateSkipAnimations = true;\n    }\n    if (newAnimationBatch && this.ctx.animationManager.isActive()) {\n      this._performUpdateSkipAnimations = true;\n    }\n    this._skipSync = (_a = opts == null ? void 0 : opts.skipSync) != null ? _a : false;\n    if (this.debug.check()) {\n      let stack = (_b = new Error().stack) != null ? _b : \"<unknown>\";\n      stack = stack.replace(/\\([^)]*/g, \"\");\n      this.updateRequestors[stack] = type;\n    }\n    if (type < this.performUpdateType) {\n      this.performUpdateType = type;\n      this.performUpdateTrigger.schedule(opts == null ? void 0 : opts.backOffMs);\n    }\n  }\n  performUpdate(count) {\n    return __async(this, null, function* () {\n      var _a;\n      const { performUpdateType, extraDebugStats, _performUpdateSplits: splits, ctx } = this;\n      const seriesToUpdate = [...this.seriesToUpdate];\n      this.performUpdateType = 7 /* NONE */;\n      this.seriesToUpdate.clear();\n      if (this.updateShortcutCount === 0 && performUpdateType < 6 /* SCENE_RENDER */) {\n        ctx.animationManager.startBatch(this._performUpdateSkipAnimations);\n        ctx.animationManager.onBatchStop(() => this.chartAnimationPhase = \"ready\");\n      }\n      this.debug(\"Chart.performUpdate() - start\", ChartUpdateType[performUpdateType]);\n      let previousSplit = performance.now();\n      (_a = splits.start) != null ? _a : splits.start = previousSplit;\n      const updateSplits = (splitName) => {\n        var _a2;\n        (_a2 = splits[splitName]) != null ? _a2 : splits[splitName] = 0;\n        splits[splitName] += performance.now() - previousSplit;\n        previousSplit = performance.now();\n      };\n      let updateDeferred = false;\n      switch (performUpdateType) {\n        case 0 /* FULL */:\n          this.updateDOM();\n        case 1 /* UPDATE_DATA */:\n          yield this.updateData();\n          updateSplits(\"\\u2B07\\uFE0F\");\n        case 2 /* PROCESS_DATA */:\n          yield this.processData();\n          this.resetPointer(true);\n          updateSplits(\"\\u{1F3ED}\");\n        case 3 /* PERFORM_LAYOUT */:\n          if (this.checkUpdateShortcut(3 /* PERFORM_LAYOUT */))\n            break;\n          if (!this.checkFirstAutoSize(seriesToUpdate)) {\n            updateDeferred = true;\n            break;\n          }\n          yield this.processLayout();\n          updateSplits(\"\\u2316\");\n        case 4 /* SERIES_UPDATE */:\n          if (this.checkUpdateShortcut(4 /* SERIES_UPDATE */))\n            break;\n          const { seriesRect } = this;\n          yield Promise.all(seriesToUpdate.map((series) => series.update({ seriesRect })));\n          updateSplits(\"\\u{1F914}\");\n        case 5 /* TOOLTIP_RECALCULATION */:\n          if (this.checkUpdateShortcut(5 /* TOOLTIP_RECALCULATION */))\n            break;\n          const tooltipMeta = ctx.tooltipManager.getTooltipMeta(this.id);\n          if (performUpdateType <= 4 /* SERIES_UPDATE */ && (tooltipMeta == null ? void 0 : tooltipMeta.lastPointerEvent) != null) {\n            this.handlePointer(tooltipMeta.lastPointerEvent, true);\n          }\n          updateSplits(\"\\u2196\");\n        case 6 /* SCENE_RENDER */:\n          if (this.checkUpdateShortcut(6 /* SCENE_RENDER */))\n            break;\n          ctx.animationManager.endBatch();\n          extraDebugStats[\"updateShortcutCount\"] = this.updateShortcutCount;\n          yield ctx.scene.render({ debugSplitTimes: splits, extraDebugStats });\n          this.ctx.regionManager.updateFocusWrapperRect();\n          this.extraDebugStats = {};\n          for (const key in splits) {\n            delete splits[key];\n          }\n        case 7 /* NONE */:\n          this.updateShortcutCount = 0;\n          this.updateRequestors = {};\n          this._performUpdateSkipAnimations = false;\n          ctx.animationManager.endBatch();\n      }\n      if (!updateDeferred) {\n        ctx.updateService.dispatchUpdateComplete(this.getMinRects());\n      }\n      const end = performance.now();\n      this.debug(\"Chart.performUpdate() - end\", {\n        chart: this,\n        durationMs: Math.round((end - splits[\"start\"]) * 100) / 100,\n        count,\n        performUpdateType: ChartUpdateType[performUpdateType]\n      });\n    });\n  }\n  updateThemeClassName() {\n    const {\n      element: element2,\n      processedOptions: { theme }\n    } = this;\n    const themeClassNamePrefix = \"ag-charts-theme-\";\n    const validThemeClassNames = [`${themeClassNamePrefix}default`, `${themeClassNamePrefix}default-dark`];\n    let themeClassName = validThemeClassNames[0];\n    let isDark = false;\n    if (typeof theme === \"string\") {\n      themeClassName = theme.replace(\"ag-\", themeClassNamePrefix);\n      isDark = theme.includes(\"-dark\");\n    } else if (typeof (theme == null ? void 0 : theme.baseTheme) === \"string\") {\n      themeClassName = theme.baseTheme.replace(\"ag-\", themeClassNamePrefix);\n      isDark = theme.baseTheme.includes(\"-dark\");\n    }\n    if (!validThemeClassNames.includes(themeClassName)) {\n      themeClassName = isDark ? validThemeClassNames[1] : validThemeClassNames[0];\n    }\n    element2.classList.forEach((className) => {\n      if (className.startsWith(themeClassNamePrefix) && className !== themeClassName) {\n        element2.classList.remove(className);\n      }\n    });\n    element2.classList.add(themeClassName);\n  }\n  updateDOM() {\n    this.updateThemeClassName();\n    const { enabled, tabIndex } = this.keyboard;\n    this.element.tabIndex = enabled ? tabIndex != null ? tabIndex : 0 : -1;\n    setAttribute(this.ctx.scene.canvas.element, \"role\", \"figure\");\n    setAttribute(this.ctx.scene.canvas.element, \"aria-label\", this.getAriaLabel());\n  }\n  checkUpdateShortcut(checkUpdateType) {\n    const maxShortcuts = 3;\n    if (this.updateShortcutCount > maxShortcuts) {\n      Logger.warn(\n        `exceeded the maximum number of simultaneous updates (${maxShortcuts + 1}), discarding changes and rendering`,\n        this.updateRequestors\n      );\n      return false;\n    }\n    if (this.performUpdateType <= checkUpdateType) {\n      this.updateShortcutCount++;\n      return true;\n    }\n    return false;\n  }\n  checkFirstAutoSize(seriesToUpdate) {\n    if (this.autoSize && !this._lastAutoSize) {\n      const count = this._performUpdateNoRenderCount++;\n      const backOffMs = __pow(count + 1, 2) * 40;\n      if (count < 8) {\n        this.update(3 /* PERFORM_LAYOUT */, { seriesToUpdate, backOffMs });\n        this.debug(\"Chart.checkFirstAutoSize() - backing off until first size update\", backOffMs);\n        return false;\n      }\n      this.debug(\"Chart.checkFirstAutoSize() - timeout for first size update.\");\n    }\n    this._performUpdateNoRenderCount = 0;\n    return true;\n  }\n  onAxisChange(newValue, oldValue = []) {\n    for (const axis of oldValue) {\n      if (newValue.includes(axis))\n        continue;\n      axis.detachAxis(this.axisGroup, this.axisGridGroup);\n      axis.destroy();\n    }\n    for (const axis of newValue) {\n      if (oldValue == null ? void 0 : oldValue.includes(axis))\n        continue;\n      axis.attachAxis(this.axisGroup, this.axisGridGroup);\n    }\n  }\n  onSeriesChange(newValue, oldValue) {\n    var _a, _b;\n    const seriesToDestroy = (_a = oldValue == null ? void 0 : oldValue.filter((series) => !newValue.includes(series))) != null ? _a : [];\n    this.destroySeries(seriesToDestroy);\n    (_b = this.seriesLayerManager) == null ? void 0 : _b.setSeriesCount(newValue.length);\n    for (const series of newValue) {\n      if (oldValue == null ? void 0 : oldValue.includes(series))\n        continue;\n      if (series.rootGroup.parent == null) {\n        this.seriesLayerManager.requestGroup(series);\n      }\n      const chart = this;\n      series.chart = {\n        get mode() {\n          return chart.mode;\n        },\n        get isMiniChart() {\n          return false;\n        },\n        get seriesRect() {\n          return chart.seriesRect;\n        },\n        placeLabels() {\n          return chart.placeLabels();\n        }\n      };\n      series.resetAnimation(this.chartAnimationPhase);\n      this.addSeriesListeners(series);\n      series.addChartEventListeners();\n    }\n  }\n  destroySeries(allSeries) {\n    allSeries == null ? void 0 : allSeries.forEach((series) => {\n      series.removeEventListener(\"nodeClick\", this.onSeriesNodeClick);\n      series.removeEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n      series.removeEventListener(\"groupingChanged\", this.seriesGroupingChanged);\n      series.destroy();\n      this.seriesLayerManager.releaseGroup(series);\n      series.chart = void 0;\n    });\n  }\n  addSeriesListeners(series) {\n    if (this.hasEventListener(\"seriesNodeClick\")) {\n      series.addEventListener(\"nodeClick\", this.onSeriesNodeClick);\n    }\n    if (this.hasEventListener(\"seriesNodeDoubleClick\")) {\n      series.addEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n    }\n    series.addEventListener(\"groupingChanged\", this.seriesGroupingChanged);\n  }\n  updateAllSeriesListeners() {\n    this.series.forEach((series) => {\n      series.removeEventListener(\"nodeClick\", this.onSeriesNodeClick);\n      series.removeEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n      this.addSeriesListeners(series);\n    });\n  }\n  assignSeriesToAxes() {\n    this.axes.forEach((axis) => {\n      axis.boundSeries = this.series.filter((s) => {\n        const seriesAxis = s.axes[axis.direction];\n        return seriesAxis === axis;\n      });\n    });\n  }\n  assignAxesToSeries() {\n    const directionToAxesMap = groupBy(this.axes, (axis) => axis.direction);\n    this.series.forEach((series) => {\n      series.directions.forEach((direction) => {\n        const directionAxes = directionToAxesMap[direction];\n        if (!directionAxes) {\n          Logger.warnOnce(\n            `no available axis for direction [${direction}]; check series and axes configuration.`\n          );\n          return;\n        }\n        const seriesKeys = series.getKeys(direction);\n        const newAxis = directionAxes.find(\n          (axis) => !axis.keys.length || seriesKeys.some((key) => axis.keys.includes(key))\n        );\n        if (!newAxis) {\n          Logger.warnOnce(\n            `no matching axis for direction [${direction}] and keys [${seriesKeys}]; check series and axes configuration.`\n          );\n          return;\n        }\n        series.axes[direction] = newAxis;\n      });\n    });\n  }\n  rawResize({ width, height }) {\n    var _a;\n    if (!this.autoSize)\n      return;\n    width = Math.floor(width);\n    height = Math.floor(height);\n    if (width === 0 && height === 0)\n      return;\n    const [autoWidth = 0, authHeight = 0] = (_a = this._lastAutoSize) != null ? _a : [];\n    if (autoWidth === width && authHeight === height)\n      return;\n    this._lastAutoSize = [width, height];\n    this.resize(void 0, void 0, \"SizeMonitor\");\n  }\n  resize(width, height, source) {\n    var _a, _b, _c, _d;\n    const { scene, animationManager } = this.ctx;\n    width != null ? width : width = (_b = this.width) != null ? _b : this.autoSize ? (_a = this._lastAutoSize) == null ? void 0 : _a[0] : scene.canvas.width;\n    height != null ? height : height = (_d = this.height) != null ? _d : this.autoSize ? (_c = this._lastAutoSize) == null ? void 0 : _c[1] : scene.canvas.height;\n    this.debug(`Chart.resize() from ${source}`, { width, height, stack: new Error().stack });\n    if (!width || !height || !isFiniteNumber(width) || !isFiniteNumber(height))\n      return;\n    if (scene.resize(width, height)) {\n      this.resetPointer();\n      animationManager.reset();\n      let skipAnimations = true;\n      if (this.autoSize && this._firstAutoSize) {\n        skipAnimations = false;\n        this._firstAutoSize = false;\n      }\n      this.update(3 /* PERFORM_LAYOUT */, { forceNodeDataRefresh: true, skipAnimations });\n    }\n  }\n  updateData() {\n    return __async(this, null, function* () {\n      this.series.forEach((s) => s.setChartData(this.data));\n      const modulePromises = this.modulesManager.mapModules((m) => {\n        var _a;\n        return (_a = m.updateData) == null ? void 0 : _a.call(m, { data: this.data });\n      });\n      yield Promise.all(modulePromises);\n    });\n  }\n  processData() {\n    return __async(this, null, function* () {\n      if (this.series.some((s) => s.canHaveAxes)) {\n        this.assignAxesToSeries();\n        const syncModule = this.modulesManager.getModule(\"sync\");\n        if (syncModule == null ? void 0 : syncModule.enabled) {\n          syncModule.syncAxes(this._skipSync);\n        } else {\n          this.assignSeriesToAxes();\n        }\n      }\n      const dataController = new DataController(this.mode);\n      const seriesPromises = this.series.map((s) => s.processData(dataController));\n      const modulePromises = this.modulesManager.mapModules((m) => {\n        var _a;\n        return (_a = m.processData) == null ? void 0 : _a.call(m, { dataController });\n      });\n      dataController.execute();\n      yield Promise.all([...seriesPromises, ...modulePromises]);\n      for (const { legendType, legend } of this.modulesManager.legends()) {\n        legend.data = this.getLegendData(legendType, this.mode !== \"integrated\");\n      }\n      this.dataProcessListeners.forEach((resolve) => resolve());\n      this.dataProcessListeners.clear();\n    });\n  }\n  placeLabels() {\n    const visibleSeries = [];\n    const data = [];\n    for (const series of this.series) {\n      if (!series.visible)\n        continue;\n      const labelData = series.getLabelData();\n      if (isPointLabelDatum(labelData == null ? void 0 : labelData[0])) {\n        data.push(labelData);\n        visibleSeries.push(series);\n      }\n    }\n    const { seriesRect } = this;\n    const { top, right, bottom, left } = this.seriesArea.padding;\n    const labels = seriesRect && data.length > 0 ? placeLabels(data, {\n      x: -left,\n      y: -top,\n      width: seriesRect.width + left + right,\n      height: seriesRect.height + top + bottom\n    }) : [];\n    return new Map(labels.map((l, i) => [visibleSeries[i], l]));\n  }\n  getLegendData(legendType, warnConflicts) {\n    var _a, _b, _c;\n    const legendData = this.series.filter((s) => s.properties.showInLegend).flatMap((s) => s.getLegendData(legendType));\n    const isCategoryLegendData = (data) => data.every((d) => d.legendType === \"category\");\n    if (warnConflicts && isCategoryLegendData(legendData)) {\n      const seriesMarkerFills = {};\n      const seriesTypeMap = new Map(this.series.map((s) => [s.id, s.type]));\n      for (const { seriesId, marker, label } of legendData) {\n        if (marker.fill == null)\n          continue;\n        const seriesType = seriesTypeMap.get(seriesId);\n        const markerFill = (_a = seriesMarkerFills[seriesType]) != null ? _a : seriesMarkerFills[seriesType] = {};\n        (_c = markerFill[_b = label.text]) != null ? _c : markerFill[_b] = marker.fill;\n        if (markerFill[label.text] !== marker.fill) {\n          Logger.warnOnce(\n            `legend item '${label.text}' has multiple fill colors, this may cause unexpected behaviour.`\n          );\n        }\n      }\n    }\n    return legendData;\n  }\n  processLayout() {\n    return __async(this, null, function* () {\n      var _a;\n      const oldRect = this.animationRect;\n      yield this.performLayout();\n      if (oldRect && !((_a = this.animationRect) == null ? void 0 : _a.equals(oldRect))) {\n        this.ctx.animationManager.skipCurrentBatch();\n      }\n      this.debug(\"Chart.performUpdate() - seriesRect\", this.seriesRect);\n    });\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const { width, height } = this.ctx.scene;\n      let ctx = { shrinkRect: new BBox(0, 0, width, height) };\n      ctx = this.ctx.layoutService.dispatchPerformLayout(\"start-layout\", ctx);\n      ctx = this.ctx.layoutService.dispatchPerformLayout(\"before-series\", ctx);\n      const modulePromises = this.modulesManager.mapModules((m) => __async(this, null, function* () {\n        if (m.performLayout != null) {\n          ctx = yield m.performLayout(ctx);\n        }\n      }));\n      yield Promise.all(modulePromises);\n      return ctx.shrinkRect;\n    });\n  }\n  // x/y are local canvas coordinates in CSS pixels, not actual pixels\n  pickSeriesNode(point, exactMatchOnly, maxDistance) {\n    var _a, _b;\n    const start = performance.now();\n    const pickModes = exactMatchOnly ? [0 /* EXACT_SHAPE_MATCH */] : void 0;\n    const reverseSeries = [...this.series].reverse();\n    let result;\n    for (const series of reverseSeries) {\n      if (!series.visible || !series.rootGroup.visible) {\n        continue;\n      }\n      const { match, distance: distance2 } = (_a = series.pickNode(point, pickModes)) != null ? _a : {};\n      if (!match || distance2 == null) {\n        continue;\n      }\n      if ((!result || result.distance > distance2) && distance2 <= (maxDistance != null ? maxDistance : Infinity)) {\n        result = { series, distance: distance2, datum: match };\n      }\n      if (distance2 === 0) {\n        break;\n      }\n    }\n    this.extraDebugStats[\"pickSeriesNode\"] = Math.round(\n      ((_b = this.extraDebugStats[\"pickSeriesNode\"]) != null ? _b : 0) + (performance.now() - start)\n    );\n    return result;\n  }\n  onMouseMove(event) {\n    this.lastInteractionEvent = event;\n    this.pointerScheduler.schedule();\n    this.extraDebugStats[\"mouseX\"] = event.offsetX;\n    this.extraDebugStats[\"mouseY\"] = event.offsetY;\n    this.update(6 /* SCENE_RENDER */);\n  }\n  onLeave(event) {\n    if (!this.tooltip.pointerLeftOntoTooltip(event)) {\n      this.resetPointer();\n      this.update(6 /* SCENE_RENDER */);\n      this.ctx.cursorManager.updateCursor(\"chart\");\n    }\n  }\n  onBrowserFocus(event) {\n    if (event.delta > 0) {\n      this.focus.datum = void 0;\n      this.focus.series = void 0;\n      this.focus.datumIndex = 0;\n      this.focus.seriesIndex = 0;\n    } else {\n      this.focus.datum = void 0;\n      this.focus.series = void 0;\n      this.focus.datumIndex = Infinity;\n      this.focus.seriesIndex = Infinity;\n    }\n  }\n  onAnimationStart() {\n    if (this.focus.hasFocus) {\n      this.onBlur();\n    }\n  }\n  onBlur() {\n    this.ctx.regionManager.updateFocusIndicatorRect(void 0);\n    this.resetPointer();\n    this.focus.hasFocus = false;\n  }\n  onTab(event) {\n    this.handleFocus();\n    event.consume();\n    this.focus.hasFocus = true;\n  }\n  onNavVert(event) {\n    this.focus.seriesIndex += event.delta;\n    this.handleFocus();\n    event.consume();\n  }\n  onNavHori(event) {\n    this.focus.datumIndex += event.delta;\n    this.handleFocus(event.delta);\n    event.consume();\n  }\n  onSubmit(event) {\n    const { series, datum } = this.focus;\n    const sourceEvent = event.sourceEvent.sourceEvent;\n    if (series !== void 0 && datum !== void 0) {\n      series.fireNodeClickEvent(sourceEvent, datum);\n    } else {\n      this.fireEvent({\n        type: \"click\",\n        event: sourceEvent\n      });\n    }\n  }\n  onContextMenu(event) {\n    this.ctx.tooltipManager.removeTooltip(this.id);\n    const { Default: Default2, ContextMenu } = InteractionState;\n    if (this.ctx.interactionManager.getState() & (Default2 | ContextMenu)) {\n      this.checkSeriesNodeRange(event, () => {\n        this.ctx.highlightManager.updateHighlight(this.id);\n      });\n    }\n  }\n  handleFocus(datumIndexDelta) {\n    this.focus.hasFocus = true;\n    const overlayFocus = this.overlays.getFocusInfo();\n    if (overlayFocus == null) {\n      this.handleSeriesFocus(datumIndexDelta != null ? datumIndexDelta : 0);\n    } else {\n      this.ctx.regionManager.updateFocusIndicatorRect(overlayFocus.rect);\n      this.ctx.ariaAnnouncementService.announceValue(overlayFocus.text);\n    }\n  }\n  handleSeriesFocus(datumIndexDelta) {\n    const { series, seriesRect, focus } = this;\n    const visibleSeries = series.filter((s) => s.visible);\n    if (visibleSeries.length === 0)\n      return;\n    focus.seriesIndex = clamp(0, focus.seriesIndex, visibleSeries.length - 1);\n    focus.series = visibleSeries[focus.seriesIndex];\n    const pick = focus.series.pickFocus({ datumIndex: focus.datumIndex, datumIndexDelta, seriesRect });\n    if (pick === void 0)\n      return;\n    const { datum, datumIndex } = pick;\n    focus.datumIndex = datumIndex;\n    focus.datum = datum;\n    const keyboardEvent = makeKeyboardPointerEvent(this.ctx.regionManager, pick);\n    if (keyboardEvent !== void 0) {\n      this.lastInteractionEvent = keyboardEvent;\n      const html = focus.series.getTooltipHtml(datum);\n      const meta = TooltipManager.makeTooltipMeta(this.lastInteractionEvent, datum);\n      this.ctx.highlightManager.updateHighlight(this.id, datum);\n      this.ctx.tooltipManager.updateTooltip(this.id, meta, html);\n      this.ctx.ariaAnnouncementService.announceValue(html.ariaLabel);\n    }\n  }\n  static isHoverEvent(event) {\n    return event !== void 0 && event.type === \"hover\";\n  }\n  handlePointer(event, redisplay) {\n    if (this.ctx.interactionManager.getState() !== 16 /* Default */ || !_Chart.isHoverEvent(event)) {\n      return;\n    }\n    const { lastPick, hoverRect } = this;\n    const { offsetX, offsetY } = event;\n    const disablePointer = (highlightOnly = false) => {\n      if (lastPick) {\n        this.resetPointer(highlightOnly);\n      }\n    };\n    if (redisplay ? this.ctx.animationManager.isActive() : !(hoverRect == null ? void 0 : hoverRect.containsPoint(offsetX, offsetY))) {\n      disablePointer();\n      return;\n    }\n    this.handlePointerTooltip(event, disablePointer);\n    this.handlePointerNode(event);\n  }\n  handlePointerTooltip(event, disablePointer) {\n    const { lastPick, tooltip } = this;\n    const { range: range3 } = tooltip;\n    const { offsetX, offsetY } = event;\n    let pixelRange;\n    if (isFiniteNumber(range3)) {\n      pixelRange = range3;\n    }\n    const pick = this.pickSeriesNode({ x: offsetX, y: offsetY }, range3 === \"exact\", pixelRange);\n    if (!pick) {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n      if (this.highlight.range === \"tooltip\") {\n        disablePointer(true);\n      }\n      return;\n    }\n    const isNewDatum = this.highlight.range === \"node\" || !lastPick || lastPick !== pick.datum;\n    let html;\n    if (isNewDatum) {\n      html = pick.series.getTooltipHtml(pick.datum);\n      if (this.highlight.range === \"tooltip\") {\n        this.ctx.highlightManager.updateHighlight(this.id, pick.datum);\n      }\n    }\n    const isPixelRange = pixelRange != null;\n    const tooltipEnabled = this.tooltip.enabled && pick.series.tooltipEnabled;\n    const exactlyMatched = range3 === \"exact\" && pick.distance === 0;\n    const rangeMatched = range3 === \"nearest\" || isPixelRange || exactlyMatched;\n    const shouldUpdateTooltip = tooltipEnabled && rangeMatched && (!isNewDatum || html !== void 0);\n    const meta = TooltipManager.makeTooltipMeta(event, pick.datum);\n    if (shouldUpdateTooltip) {\n      this.ctx.tooltipManager.updateTooltip(this.id, meta, html);\n    }\n  }\n  handlePointerNode(event) {\n    const found = this.checkSeriesNodeRange(event, (series, datum) => {\n      if (series.hasEventListener(\"nodeClick\") || series.hasEventListener(\"nodeDoubleClick\")) {\n        this.ctx.cursorManager.updateCursor(\"chart\", \"pointer\");\n      }\n      if (this.highlight.range === \"node\") {\n        this.ctx.highlightManager.updateHighlight(this.id, datum);\n      }\n    });\n    if (!found) {\n      this.ctx.cursorManager.updateCursor(\"chart\");\n      if (this.highlight.range === \"node\") {\n        this.ctx.highlightManager.updateHighlight(this.id);\n      }\n    }\n  }\n  onClick(event) {\n    if (this.checkSeriesNodeClick(event)) {\n      this.update(4 /* SERIES_UPDATE */);\n      return;\n    }\n    this.fireEvent({\n      type: \"click\",\n      event: event.sourceEvent\n    });\n  }\n  onDoubleClick(event) {\n    if (this.checkSeriesNodeDoubleClick(event)) {\n      this.update(4 /* SERIES_UPDATE */);\n      return;\n    }\n    this.fireEvent({\n      type: \"doubleClick\",\n      event: event.sourceEvent\n    });\n  }\n  checkSeriesNodeClick(event) {\n    return this.checkSeriesNodeRange(event, (series, datum) => series.fireNodeClickEvent(event.sourceEvent, datum));\n  }\n  checkSeriesNodeDoubleClick(event) {\n    return this.checkSeriesNodeRange(\n      event,\n      (series, datum) => series.fireNodeDoubleClickEvent(event.sourceEvent, datum)\n    );\n  }\n  checkSeriesNodeRange(event, callback) {\n    var _a;\n    const nearestNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, false);\n    const datum = nearestNode == null ? void 0 : nearestNode.datum;\n    const nodeClickRange = datum == null ? void 0 : datum.series.properties.nodeClickRange;\n    let pixelRange;\n    if (isFiniteNumber(nodeClickRange)) {\n      pixelRange = nodeClickRange;\n    }\n    let pickedNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, true);\n    if (pickedNode) {\n      this.ctx.highlightManager.updatePicked(this.id, pickedNode.datum);\n    } else {\n      this.ctx.highlightManager.updatePicked(this.id);\n    }\n    if (datum && nodeClickRange === \"nearest\") {\n      callback(datum.series, datum);\n      return true;\n    }\n    if (nodeClickRange !== \"exact\") {\n      pickedNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, false, pixelRange);\n    }\n    if (!pickedNode)\n      return false;\n    const isPixelRange = pixelRange != null;\n    const exactlyMatched = nodeClickRange === \"exact\" && pickedNode.distance === 0;\n    if (isPixelRange || exactlyMatched) {\n      const allMatch = event.pointerHistory === void 0 || ((_a = event.pointerHistory) == null ? void 0 : _a.every((pastEvent) => {\n        const historyPoint = { x: pastEvent.offsetX, y: pastEvent.offsetY };\n        const historyNode = this.pickSeriesNode(historyPoint, false, pixelRange);\n        return (historyNode == null ? void 0 : historyNode.datum) === (pickedNode == null ? void 0 : pickedNode.datum);\n      }));\n      if (allMatch) {\n        callback(pickedNode.series, pickedNode.datum);\n        return true;\n      }\n    }\n    return false;\n  }\n  changeHighlightDatum(event) {\n    var _a, _b;\n    const seriesToUpdate = /* @__PURE__ */ new Set();\n    const { series: newSeries = void 0, datum: newDatum } = (_a = event.currentHighlight) != null ? _a : {};\n    const { series: lastSeries = void 0, datum: lastDatum } = (_b = event.previousHighlight) != null ? _b : {};\n    if (lastSeries) {\n      seriesToUpdate.add(lastSeries);\n    }\n    if (newSeries) {\n      seriesToUpdate.add(newSeries);\n    }\n    if ((lastSeries == null ? void 0 : lastSeries.properties.cursor) && lastDatum) {\n      this.ctx.cursorManager.updateCursor(lastSeries.id);\n    }\n    if ((newSeries == null ? void 0 : newSeries.properties.cursor) && newDatum) {\n      this.ctx.cursorManager.updateCursor(newSeries.id, newSeries.properties.cursor);\n    }\n    this.lastPick = event.currentHighlight;\n    const updateAll = newSeries == null || lastSeries == null;\n    if (updateAll) {\n      this.update(4 /* SERIES_UPDATE */);\n    } else {\n      this.update(4 /* SERIES_UPDATE */, { seriesToUpdate });\n    }\n  }\n  waitForUpdate(timeoutMs = 1e4, failOnTimeout = false) {\n    return __async(this, null, function* () {\n      const start = performance.now();\n      if (this._pendingFactoryUpdatesCount > 0) {\n        yield this.updateMutex.waitForClearAcquireQueue();\n      }\n      while (this.performUpdateType !== 7 /* NONE */) {\n        if (performance.now() - start > timeoutMs) {\n          const message = `Chart.waitForUpdate() timeout of ${timeoutMs} reached - first chart update taking too long.`;\n          if (failOnTimeout) {\n            throw new Error(message);\n          } else {\n            Logger.warnOnce(message);\n          }\n        }\n        yield sleep(50);\n      }\n      yield this.updateMutex.waitForClearAcquireQueue();\n    });\n  }\n  waitForDataProcess(timeout) {\n    return new Promise((resolve) => {\n      this.dataProcessListeners.add(resolve);\n      if (isNumber(timeout)) {\n        setTimeout(() => {\n          if (this.dataProcessListeners.has(resolve)) {\n            this.dataProcessListeners.delete(resolve);\n            resolve();\n          }\n        }, timeout);\n      }\n    });\n  }\n  getMinRects() {\n    const { width, height } = this.ctx.scene;\n    const minRects = this.series.map((series) => series.getMinRects(width, height)).filter(isDefined);\n    if (minRects.length === 0)\n      return;\n    let maxWidth = 0;\n    let maxHeight = 0;\n    let maxVisibleWidth = 0;\n    let maxVisibleHeight = 0;\n    for (const { minRect: minRect2, minVisibleRect: minVisibleRect2 } of minRects) {\n      maxWidth = Math.max(maxWidth, minRect2.width);\n      maxHeight = Math.max(maxHeight, minRect2.height);\n      maxVisibleWidth = Math.max(maxVisibleWidth, minVisibleRect2.width);\n      maxVisibleHeight = Math.max(maxVisibleHeight, minVisibleRect2.height);\n    }\n    const minRect = new BBox(0, 0, maxWidth, maxHeight);\n    let minVisibleRect = minRect.clone();\n    if (maxVisibleWidth > 0 && maxVisibleHeight > 0) {\n      minVisibleRect = new BBox(0, 0, maxVisibleWidth, maxVisibleHeight);\n    }\n    return { minRect, minVisibleRect };\n  }\n  filterMiniChartSeries(series) {\n    return series == null ? void 0 : series.filter((s) => s.showInMiniChart !== false);\n  }\n  applyOptions(chartOptions) {\n    var _a, _b, _c, _d, _e;\n    const oldOpts = this.processedOptions;\n    const deltaOptions = chartOptions.diffOptions(oldOpts);\n    const userOptions = chartOptions.userOptions;\n    if (deltaOptions == null)\n      return;\n    debug(\"AgChartV2.updateDelta() - applying delta\", deltaOptions);\n    const completeOptions = mergeDefaults(deltaOptions, oldOpts);\n    const modulesChanged = this.applyModules(completeOptions);\n    const skip = [\n      \"type\",\n      \"data\",\n      \"series\",\n      \"listeners\",\n      \"theme\",\n      \"legend.listeners\",\n      \"navigator.miniChart.series\",\n      \"navigator.miniChart.label\",\n      \"axes\",\n      \"topology\"\n    ];\n    if (deltaOptions.listeners) {\n      this.registerListeners(this, deltaOptions.listeners);\n    }\n    jsonApply(this, deltaOptions, { skip });\n    let forceNodeDataRefresh = false;\n    let seriesStatus = \"no-op\";\n    if ((_a = deltaOptions.series) == null ? void 0 : _a.length) {\n      seriesStatus = this.applySeries(this, deltaOptions.series, oldOpts == null ? void 0 : oldOpts.series);\n      forceNodeDataRefresh = true;\n    }\n    if (seriesStatus === \"replaced\") {\n      this.resetAnimations();\n    }\n    if (this.applyAxes(this, completeOptions, oldOpts, seriesStatus)) {\n      forceNodeDataRefresh = true;\n    }\n    if (deltaOptions.data) {\n      this.data = deltaOptions.data;\n    }\n    if (((_b = deltaOptions.legend) == null ? void 0 : _b.listeners) && this.modulesManager.isEnabled(\"legend\")) {\n      Object.assign(this.legend.listeners, deltaOptions.legend.listeners);\n    }\n    if (deltaOptions.listeners) {\n      this.updateAllSeriesListeners();\n    }\n    this.chartOptions = chartOptions;\n    this.processedOptions = completeOptions;\n    this.userOptions = mergeDefaults(userOptions, this.userOptions);\n    const navigatorModule = this.modulesManager.getModule(\"navigator\");\n    const zoomModule = this.modulesManager.getModule(\"zoom\");\n    if (!(navigatorModule == null ? void 0 : navigatorModule.enabled) && !(zoomModule == null ? void 0 : zoomModule.enabled)) {\n      this.ctx.zoomManager.updateZoom(\"chart\");\n    }\n    const miniChart = navigatorModule == null ? void 0 : navigatorModule.miniChart;\n    const miniChartSeries = (_e = (_d = (_c = completeOptions.navigator) == null ? void 0 : _c.miniChart) == null ? void 0 : _d.series) != null ? _e : completeOptions.series;\n    if ((miniChart == null ? void 0 : miniChart.enabled) === true && miniChartSeries != null) {\n      this.applyMiniChartOptions(miniChart, miniChartSeries, completeOptions, oldOpts);\n    } else if ((miniChart == null ? void 0 : miniChart.enabled) === false) {\n      miniChart.series = [];\n      miniChart.axes = [];\n    }\n    injectStyle(styles_default, \"chart\");\n    this.ctx.annotationManager.setAnnotationStyles(chartOptions.annotationThemes);\n    forceNodeDataRefresh || (forceNodeDataRefresh = this.shouldForceNodeDataRefresh(deltaOptions, seriesStatus));\n    const majorChange = forceNodeDataRefresh || modulesChanged;\n    const updateType = majorChange ? 0 /* FULL */ : 3 /* PERFORM_LAYOUT */;\n    this.maybeResetAnimations(seriesStatus);\n    debug(\"AgChartV2.applyChartOptions() - update type\", ChartUpdateType[updateType], {\n      seriesStatus,\n      forceNodeDataRefresh\n    });\n    this.update(updateType, { forceNodeDataRefresh, newAnimationBatch: true });\n  }\n  maybeResetAnimations(seriesStatus) {\n    if (this.mode !== \"standalone\")\n      return;\n    switch (seriesStatus) {\n      case \"series-grouping-change\":\n      case \"replaced\":\n        this.resetAnimations();\n        break;\n      default:\n    }\n  }\n  shouldForceNodeDataRefresh(deltaOptions, seriesStatus) {\n    const seriesDataUpdate = !!deltaOptions.data || seriesStatus === \"data-change\" || seriesStatus === \"replaced\";\n    const legendKeys = legendRegistry.getKeys();\n    const optionsHaveLegend = Object.values(legendKeys).some(\n      (legendKey) => deltaOptions[legendKey] != null\n    );\n    const otherRefreshUpdate = deltaOptions.title != null && deltaOptions.subtitle != null;\n    return seriesDataUpdate || optionsHaveLegend || otherRefreshUpdate;\n  }\n  applyMiniChartOptions(miniChart, miniChartSeries, completeOptions, oldOpts) {\n    var _a, _b, _c, _d, _e;\n    const oldSeries = (_c = (_b = (_a = oldOpts == null ? void 0 : oldOpts.navigator) == null ? void 0 : _a.miniChart) == null ? void 0 : _b.series) != null ? _c : oldOpts == null ? void 0 : oldOpts.series;\n    const miniChartSeriesStatus = this.applySeries(\n      miniChart,\n      this.filterMiniChartSeries(miniChartSeries),\n      this.filterMiniChartSeries(oldSeries)\n    );\n    this.applyAxes(miniChart, completeOptions, oldOpts, miniChartSeriesStatus, [\n      \"axes[].tick\",\n      \"axes[].thickness\",\n      \"axes[].title\",\n      \"axes[].crosshair\",\n      \"axes[].gridLine\",\n      \"axes[].label\"\n    ]);\n    const axes = miniChart.axes;\n    const horizontalAxis = axes.find((axis) => axis.direction === \"x\" /* X */);\n    for (const axis of axes) {\n      axis.gridLine.enabled = false;\n      axis.label.enabled = axis === horizontalAxis;\n      axis.tick.enabled = false;\n      axis.interactionEnabled = false;\n    }\n    if (horizontalAxis != null) {\n      const miniChartOpts = (_d = completeOptions.navigator) == null ? void 0 : _d.miniChart;\n      const labelOptions = miniChartOpts == null ? void 0 : miniChartOpts.label;\n      const intervalOptions = (_e = miniChartOpts == null ? void 0 : miniChartOpts.label) == null ? void 0 : _e.interval;\n      horizontalAxis.line.enabled = false;\n      horizontalAxis.label.set(\n        without(labelOptions, [\"interval\", \"rotation\", \"minSpacing\", \"autoRotate\", \"autoRotateAngle\"])\n      );\n      horizontalAxis.tick.set(\n        without(intervalOptions, [\"enabled\", \"width\", \"size\", \"color\", \"interval\", \"step\"])\n      );\n      const step = intervalOptions == null ? void 0 : intervalOptions.step;\n      if (step != null) {\n        horizontalAxis.tick.interval = step;\n      }\n    }\n  }\n  applyModules(options) {\n    var _a;\n    const { type: chartType2 } = this.constructor;\n    let modulesChanged = false;\n    for (const module of moduleRegistry.byType(\"root\", \"legend\")) {\n      const isConfigured = options[module.optionsKey] != null;\n      const shouldBeEnabled = isConfigured && module.chartTypes.includes(chartType2);\n      if (shouldBeEnabled === this.modulesManager.isEnabled(module))\n        continue;\n      if (shouldBeEnabled) {\n        this.modulesManager.addModule(module, (m) => new m.instanceConstructor(this.getModuleContext()));\n        if (module.type === \"legend\") {\n          (_a = this.modulesManager.getModule(module)) == null ? void 0 : _a.attachLegend(this.ctx.scene);\n        }\n        this[module.optionsKey] = this.modulesManager.getModule(module);\n      } else {\n        this.modulesManager.removeModule(module);\n        delete this[module.optionsKey];\n      }\n      modulesChanged = true;\n    }\n    return modulesChanged;\n  }\n  applySeries(chart, optSeries, oldOptSeries) {\n    var _a;\n    if (!optSeries) {\n      return \"no-change\";\n    }\n    const matchResult = matchSeriesOptions(chart.series, optSeries, oldOptSeries);\n    if (matchResult.status === \"no-overlap\") {\n      debug(\n        `AgChartV2.applySeries() - creating new series instances, status: ${matchResult.status}`,\n        matchResult\n      );\n      chart.series = optSeries.map((opts) => this.createSeries(opts));\n      return \"replaced\";\n    }\n    debug(`AgChartV2.applySeries() - matchResult`, matchResult);\n    const seriesInstances = [];\n    let dataChanged = false;\n    let groupingChanged = false;\n    let isUpdated = false;\n    for (const change of matchResult.changes) {\n      groupingChanged || (groupingChanged = change.status === \"series-grouping\");\n      dataChanged || (dataChanged = ((_a = change.diff) == null ? void 0 : _a.data) != null);\n      isUpdated || (isUpdated = change.status !== \"no-op\");\n      switch (change.status) {\n        case \"add\":\n          const newSeries = this.createSeries(change.opts);\n          seriesInstances.push(newSeries);\n          debug(`AgChartV2.applySeries() - created new series`, newSeries);\n          break;\n        case \"remove\":\n          debug(`AgChartV2.applySeries() - removing series at previous idx ${change.idx}`, change.series);\n          break;\n        case \"no-op\":\n          seriesInstances.push(change.series);\n          debug(`AgChartV2.applySeries() - no change to series at previous idx ${change.idx}`, change.series);\n          break;\n        case \"series-grouping\":\n        case \"update\":\n        default:\n          const { series, diff: diff2, idx } = change;\n          debug(`AgChartV2.applySeries() - applying series diff previous idx ${idx}`, diff2, series);\n          this.applySeriesValues(series, diff2);\n          series.markNodeDataDirty();\n          seriesInstances.push(series);\n      }\n    }\n    for (let idx = 0; idx < seriesInstances.length; idx++) {\n      seriesInstances[idx]._declarationOrder = idx;\n    }\n    debug(`AgChartV2.applySeries() - final series instances`, seriesInstances);\n    chart.series = seriesInstances;\n    if (groupingChanged) {\n      return \"series-grouping-change\";\n    }\n    if (dataChanged) {\n      return \"data-change\";\n    }\n    return isUpdated ? \"updated\" : \"no-op\";\n  }\n  applyAxes(chart, options, oldOpts, seriesStatus, skip = []) {\n    if (!(\"axes\" in options) || !options.axes) {\n      return false;\n    }\n    skip = [\"axes[].type\", ...skip];\n    const { axes } = options;\n    const forceRecreate = seriesStatus === \"replaced\";\n    const matchingTypes = !forceRecreate && chart.axes.length === axes.length && chart.axes.every((a, i) => a.type === axes[i].type);\n    if (matchingTypes && isAgCartesianChartOptions(oldOpts)) {\n      chart.axes.forEach((axis, index) => {\n        var _a, _b;\n        const previousOpts = (_b = (_a = oldOpts.axes) == null ? void 0 : _a[index]) != null ? _b : {};\n        const axisDiff = jsonDiff(previousOpts, axes[index]);\n        debug(`AgChartV2.applyAxes() - applying axis diff idx ${index}`, axisDiff);\n        const path = `axes[${index}]`;\n        jsonApply(axis, axisDiff, __spreadProps(__spreadValues({}, JSON_APPLY_PLUGINS), { path, skip }));\n      });\n      return true;\n    }\n    debug(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${seriesStatus}`);\n    chart.axes = this.createAxis(axes, skip);\n    return true;\n  }\n  createSeries(seriesOptions) {\n    const seriesInstance = seriesRegistry.create(seriesOptions.type, this.getModuleContext());\n    this.applySeriesOptionModules(seriesInstance, seriesOptions);\n    this.applySeriesValues(seriesInstance, seriesOptions);\n    return seriesInstance;\n  }\n  applySeriesOptionModules(series, options) {\n    const moduleContext = series.createModuleContext();\n    const moduleMap = series.getModuleMap();\n    for (const module of moduleRegistry.byType(\"series-option\")) {\n      if (module.optionsKey in options && module.seriesTypes.includes(series.type)) {\n        moduleMap.addModule(module, (m) => new m.instanceConstructor(moduleContext));\n      }\n    }\n  }\n  applySeriesValues(target, options) {\n    const moduleMap = target.getModuleMap();\n    const _a = options, { type: _, data, listeners, seriesGrouping, showInMiniChart: __ } = _a, seriesOptions = __objRest(_a, [\"type\", \"data\", \"listeners\", \"seriesGrouping\", \"showInMiniChart\"]);\n    for (const moduleDef of EXPECTED_ENTERPRISE_MODULES) {\n      if (moduleDef.type !== \"series-option\")\n        continue;\n      if (moduleDef.optionsKey in seriesOptions) {\n        const module = moduleMap.getModule(moduleDef.optionsKey);\n        const moduleOptions = seriesOptions[moduleDef.optionsKey];\n        delete seriesOptions[moduleDef.optionsKey];\n        module.properties.set(moduleOptions);\n      }\n    }\n    target.properties.set(seriesOptions);\n    if (\"data\" in options) {\n      target.setOptionsData(data);\n    }\n    if (listeners) {\n      this.registerListeners(target, listeners);\n    }\n    if (\"seriesGrouping\" in options) {\n      if (seriesGrouping == null) {\n        target.seriesGrouping = void 0;\n      } else {\n        target.seriesGrouping = __spreadValues(__spreadValues({}, target.seriesGrouping), seriesGrouping);\n      }\n    }\n  }\n  createAxis(options, skip) {\n    const guesser = new AxisPositionGuesser();\n    const moduleContext = this.getModuleContext();\n    for (let index = 0; index < options.length; index++) {\n      const axisOptions = options[index];\n      const axis = axisRegistry.create(axisOptions.type, moduleContext);\n      this.applyAxisModules(axis, axisOptions);\n      jsonApply(axis, axisOptions, __spreadProps(__spreadValues({}, JSON_APPLY_PLUGINS), { path: `axes[${index}]`, skip }));\n      guesser.push(axis, axisOptions);\n    }\n    return guesser.guessInvalidPositions();\n  }\n  applyAxisModules(axis, options) {\n    const moduleContext = axis.createModuleContext();\n    const moduleMap = axis.getModuleMap();\n    for (const module of moduleRegistry.byType(\"axis-option\")) {\n      const shouldBeEnabled = options[module.optionsKey] != null;\n      if (shouldBeEnabled === moduleMap.isEnabled(module))\n        continue;\n      if (shouldBeEnabled) {\n        moduleMap.addModule(module, (m) => new m.instanceConstructor(moduleContext));\n        axis[module.optionsKey] = moduleMap.getModule(module);\n      } else {\n        moduleMap.removeModule(module);\n        delete axis[module.optionsKey];\n      }\n    }\n  }\n  registerListeners(source, listeners) {\n    source.clearEventListeners();\n    for (const [property, listener] of Object.entries(listeners)) {\n      if (isFunction(listener)) {\n        source.addEventListener(property, listener);\n      }\n    }\n  }\n};\n_Chart.chartsInstances = /* @__PURE__ */ new WeakMap();\n__decorateClass([\n  ActionOnSet({\n    newValue(value) {\n      if (this.destroyed)\n        return;\n      value.setAttribute(\"data-ag-charts\", \"\");\n      value.appendChild(this.element);\n      _Chart.chartsInstances.set(value, this);\n    },\n    oldValue(value) {\n      value.removeAttribute(\"data-ag-charts\");\n      value.removeChild(this.element);\n      _Chart.chartsInstances.delete(value);\n    }\n  })\n], _Chart.prototype, \"container\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(value) {\n      this.resize(value, void 0, \"width option\");\n    }\n  })\n], _Chart.prototype, \"width\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(value) {\n      this.resize(void 0, value, \"height option\");\n    }\n  })\n], _Chart.prototype, \"height\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(value) {\n      this.onAutoSizeChange(value);\n    }\n  }),\n  Validate(BOOLEAN)\n], _Chart.prototype, \"autoSize\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"padding\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"seriesArea\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"title\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"subtitle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"footnote\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"keyboard\", 2);\n__decorateClass([\n  Validate(UNION([\"standalone\", \"integrated\"], \"a chart mode\"))\n], _Chart.prototype, \"mode\", 2);\n__decorateClass([\n  ActionOnSet({\n    changeValue(newValue, oldValue) {\n      this.onAxisChange(newValue, oldValue);\n    }\n  })\n], _Chart.prototype, \"axes\", 2);\n__decorateClass([\n  ActionOnSet({\n    changeValue(newValue, oldValue) {\n      this.onSeriesChange(newValue, oldValue);\n    }\n  })\n], _Chart.prototype, \"series\", 2);\nvar Chart = _Chart;\n\n// packages/ag-charts-community/src/scene/polyRoots.ts\nfunction linearRoot(a, b) {\n  const t = -b / a;\n  return a !== 0 && t >= 0 && t <= 1 ? [t] : [];\n}\nfunction quadraticRoots(a, b, c) {\n  if (a === 0) {\n    return linearRoot(b, c);\n  }\n  const D = b * b - 4 * a * c;\n  const roots = [];\n  if (D === 0) {\n    const t = -b / (2 * a);\n    if (t >= 0 && t <= 1) {\n      roots.push(t);\n    }\n  } else if (D > 0) {\n    const rD = Math.sqrt(D);\n    const t1 = (-b - rD) / (2 * a);\n    const t2 = (-b + rD) / (2 * a);\n    if (t1 >= 0 && t1 <= 1) {\n      roots.push(t1);\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      roots.push(t2);\n    }\n  }\n  return roots;\n}\nfunction cubicRoots(a, b, c, d) {\n  if (a === 0) {\n    return quadraticRoots(b, c, d);\n  }\n  const A = b / a;\n  const B = c / a;\n  const C = d / a;\n  const Q = (3 * B - A * A) / 9;\n  const R = (9 * A * B - 27 * C - 2 * A * A * A) / 54;\n  const D = Q * Q * Q + R * R;\n  const third = 1 / 3;\n  const roots = [];\n  if (D >= 0) {\n    const rD = Math.sqrt(D);\n    const S = Math.sign(R + rD) * Math.pow(Math.abs(R + rD), third);\n    const T = Math.sign(R - rD) * Math.pow(Math.abs(R - rD), third);\n    const Im = Math.abs(Math.sqrt(3) * (S - T) / 2);\n    const t = -third * A + (S + T);\n    if (t >= 0 && t <= 1) {\n      roots.push(t);\n    }\n    if (Im === 0) {\n      const t2 = -third * A - (S + T) / 2;\n      if (t2 >= 0 && t2 <= 1) {\n        roots.push(t2);\n      }\n    }\n  } else {\n    const theta = Math.acos(R / Math.sqrt(-Q * Q * Q));\n    const thirdA = third * A;\n    const twoSqrtQ = 2 * Math.sqrt(-Q);\n    const t1 = twoSqrtQ * Math.cos(third * theta) - thirdA;\n    const t2 = twoSqrtQ * Math.cos(third * (theta + 2 * Math.PI)) - thirdA;\n    const t3 = twoSqrtQ * Math.cos(third * (theta + 4 * Math.PI)) - thirdA;\n    if (t1 >= 0 && t1 <= 1) {\n      roots.push(t1);\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      roots.push(t2);\n    }\n    if (t3 >= 0 && t3 <= 1) {\n      roots.push(t3);\n    }\n  }\n  return roots;\n}\n\n// packages/ag-charts-community/src/scene/intersection.ts\nfunction segmentIntersection(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\n  const d = (ax2 - ax1) * (by2 - by1) - (ay2 - ay1) * (bx2 - bx1);\n  if (d === 0) {\n    return 0;\n  }\n  const ua = ((bx2 - bx1) * (ay1 - by1) - (ax1 - bx1) * (by2 - by1)) / d;\n  const ub = ((ax2 - ax1) * (ay1 - by1) - (ay2 - ay1) * (ax1 - bx1)) / d;\n  if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n    return 1;\n  }\n  return 0;\n}\nfunction cubicSegmentIntersections(px1, py1, px2, py2, px3, py3, px4, py4, x1, y1, x2, y2) {\n  let intersections = 0;\n  const A = y1 - y2;\n  const B = x2 - x1;\n  const C = x1 * (y2 - y1) - y1 * (x2 - x1);\n  const bx = bezierCoefficients(px1, px2, px3, px4);\n  const by = bezierCoefficients(py1, py2, py3, py4);\n  const a = A * bx[0] + B * by[0];\n  const b = A * bx[1] + B * by[1];\n  const c = A * bx[2] + B * by[2];\n  const d = A * bx[3] + B * by[3] + C;\n  const roots = cubicRoots(a, b, c, d);\n  for (const t of roots) {\n    const tt = t * t;\n    const ttt = t * tt;\n    const x = bx[0] * ttt + bx[1] * tt + bx[2] * t + bx[3];\n    const y = by[0] * ttt + by[1] * tt + by[2] * t + by[3];\n    let s;\n    if (x1 === x2) {\n      s = (y - y1) / (y2 - y1);\n    } else {\n      s = (x - x1) / (x2 - x1);\n    }\n    if (s >= 0 && s <= 1) {\n      intersections++;\n    }\n  }\n  return intersections;\n}\nfunction bezierCoefficients(P1, P2, P3, P4) {\n  return [\n    // Bzier expressed as matrix operations:\n    -P1 + 3 * P2 - 3 * P3 + P4,\n    //                 |-1  3 -3  1| |P1|\n    3 * P1 - 6 * P2 + 3 * P3,\n    //   [t^3 t^2 t 1] | 3 -6  3  0| |P2|\n    -3 * P1 + 3 * P2,\n    //                 |-3  3  0  0| |P3|\n    P1\n    //                 | 1  0  0  0| |P4|\n  ];\n}\nfunction arcIntersections(cx, cy, r, startAngle, endAngle, counterClockwise, x1, y1, x2, y2) {\n  if (isNaN(cx) || isNaN(cy)) {\n    return 0;\n  }\n  if (counterClockwise) {\n    [endAngle, startAngle] = [startAngle, endAngle];\n  }\n  const k = (y2 - y1) / (x2 - x1);\n  const y0 = y1 - k * x1;\n  const a = Math.pow(k, 2) + 1;\n  const b = 2 * (k * (y0 - cy) - cx);\n  const c = Math.pow(cx, 2) + Math.pow(y0 - cy, 2) - Math.pow(r, 2);\n  const d = Math.pow(b, 2) - 4 * a * c;\n  if (d < 0) {\n    return 0;\n  }\n  const i1x = (-b + Math.sqrt(d)) / 2 / a;\n  const i2x = (-b - Math.sqrt(d)) / 2 / a;\n  let intersections = 0;\n  [i1x, i2x].forEach((x) => {\n    const isXInsideLine = x >= Math.min(x1, x2) && x <= Math.max(x1, x2);\n    if (!isXInsideLine) {\n      return;\n    }\n    const y = k * x + y0;\n    const adjacent = x - cx;\n    const opposite = y - cy;\n    const angle = Math.atan2(opposite, adjacent);\n    if (isBetweenAngles(angle, startAngle, endAngle)) {\n      intersections++;\n    }\n  });\n  return intersections;\n}\n\n// packages/ag-charts-community/src/scene/extendedPath2D.ts\nvar ExtendedPath2D = class {\n  constructor() {\n    // The methods of this class will likely be called many times per animation frame,\n    // and any allocation can trigger a GC cycle during animation, so we attempt\n    // to minimize the number of allocations.\n    this.path2d = new Path2D();\n    this.previousCommands = [];\n    this.previousParams = [];\n    this.previousClosedPath = false;\n    this.commands = [];\n    this.params = [];\n    this.openedPath = false;\n    this.closedPath = false;\n  }\n  isDirty() {\n    return this.closedPath !== this.previousClosedPath || this.previousCommands.length !== this.commands.length || this.previousParams.length !== this.params.length || this.previousCommands.toString() !== this.commands.toString() || this.previousParams.toString() !== this.params.toString();\n  }\n  getPath2D() {\n    return this.path2d;\n  }\n  moveTo(x, y) {\n    this.openedPath = true;\n    this.path2d.moveTo(x, y);\n    this.commands.push(0 /* Move */);\n    this.params.push(x, y);\n  }\n  lineTo(x, y) {\n    if (this.openedPath) {\n      this.path2d.lineTo(x, y);\n      this.commands.push(1 /* Line */);\n      this.params.push(x, y);\n    } else {\n      this.moveTo(x, y);\n    }\n  }\n  rect(x, y, width, height) {\n    this.moveTo(x, y);\n    this.lineTo(x + width, y);\n    this.lineTo(x + width, y + height);\n    this.lineTo(x, y + height);\n    this.closePath();\n  }\n  roundRect(x, y, width, height, radii) {\n    radii = Math.min(radii, width / 2, height / 2);\n    this.moveTo(x, y + radii);\n    this.arc(x + radii, y + radii, radii, Math.PI, 1.5 * Math.PI);\n    this.lineTo(x + radii, y);\n    this.lineTo(x + width - radii, y);\n    this.arc(x + width - radii, y + radii, radii, 1.5 * Math.PI, 2 * Math.PI);\n    this.lineTo(x + width, y + radii);\n    this.lineTo(x + width, y + height - radii);\n    this.arc(x + width - radii, y + height - radii, radii, 0, Math.PI / 2);\n    this.lineTo(x + width - radii, y + height);\n    this.lineTo(x + radii, y + height);\n    this.arc(x + +radii, y + height - radii, radii, Math.PI / 2, Math.PI);\n    this.lineTo(x, y + height - radii);\n    this.closePath();\n  }\n  arc(x, y, r, sAngle, eAngle, counterClockwise) {\n    this.openedPath = true;\n    this.path2d.arc(x, y, r, sAngle, eAngle, counterClockwise);\n    this.commands.push(2 /* Arc */);\n    this.params.push(x, y, r, sAngle, eAngle, counterClockwise ? 1 : 0);\n  }\n  cubicCurveTo(cx1, cy1, cx2, cy2, x, y) {\n    if (!this.openedPath) {\n      this.moveTo(cx1, cy1);\n    }\n    this.path2d.bezierCurveTo(cx1, cy1, cx2, cy2, x, y);\n    this.commands.push(3 /* Curve */);\n    this.params.push(cx1, cy1, cx2, cy2, x, y);\n  }\n  closePath() {\n    if (this.openedPath) {\n      this.path2d.closePath();\n      this.commands.push(4 /* ClosePath */);\n      this.openedPath = false;\n      this.closedPath = true;\n    }\n  }\n  clear(trackChanges) {\n    if (trackChanges) {\n      this.previousCommands = this.commands;\n      this.previousParams = this.params;\n      this.previousClosedPath = this.closedPath;\n    }\n    this.path2d = new Path2D();\n    this.openedPath = false;\n    this.closedPath = false;\n    this.commands = [];\n    this.params = [];\n  }\n  isPointInPath(x, y) {\n    const commands = this.commands;\n    const params = this.params;\n    const cn = commands.length;\n    const ox = -1e4;\n    const oy = -1e4;\n    let sx = NaN;\n    let sy = NaN;\n    let px = 0;\n    let py = 0;\n    let intersectionCount = 0;\n    for (let ci = 0, pi = 0; ci < cn; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n          intersectionCount += segmentIntersection(sx, sy, px, py, ox, oy, x, y);\n          px = params[pi++];\n          sx = px;\n          py = params[pi++];\n          sy = py;\n          break;\n        case 1 /* Line */:\n          intersectionCount += segmentIntersection(px, py, params[pi++], params[pi++], ox, oy, x, y);\n          px = params[pi - 2];\n          py = params[pi - 1];\n          break;\n        case 3 /* Curve */:\n          intersectionCount += cubicSegmentIntersections(\n            px,\n            py,\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            ox,\n            oy,\n            x,\n            y\n          );\n          px = params[pi - 2];\n          py = params[pi - 1];\n          break;\n        case 2 /* Arc */:\n          const cx = params[pi++];\n          const cy = params[pi++];\n          const r = params[pi++];\n          const startAngle = params[pi++];\n          const endAngle = params[pi++];\n          const counterClockwise = Boolean(params[pi++]);\n          intersectionCount += arcIntersections(\n            cx,\n            cy,\n            r,\n            startAngle,\n            endAngle,\n            counterClockwise,\n            ox,\n            oy,\n            x,\n            y\n          );\n          if (!isNaN(sx)) {\n            const startX = cx + Math.cos(startAngle) * r;\n            const startY = cy + Math.sin(startAngle) * r;\n            intersectionCount += segmentIntersection(px, py, startX, startY, ox, oy, x, y);\n          }\n          px = cx + Math.cos(endAngle) * r;\n          py = cy + Math.sin(endAngle) * r;\n          break;\n        case 4 /* ClosePath */:\n          intersectionCount += segmentIntersection(sx, sy, px, py, ox, oy, x, y);\n          break;\n      }\n    }\n    return intersectionCount % 2 === 1;\n  }\n  distanceSquared(x, y) {\n    let best = Infinity;\n    const commands = this.commands;\n    const params = this.params;\n    const cn = commands.length;\n    let sx = NaN;\n    let sy = NaN;\n    let px = 0;\n    let py = 0;\n    for (let ci = 0, pi = 0; ci < cn; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n          px = sx = params[pi++];\n          py = sy = params[pi++];\n          break;\n        case 1 /* Line */: {\n          const nx = params[pi++];\n          const ny = params[pi++];\n          best = lineDistanceSquared(x, y, px, py, nx, ny, best);\n          break;\n        }\n        case 3 /* Curve */:\n          Logger.error(\"Command.Curve distanceSquare not implemented\");\n          break;\n        case 2 /* Arc */: {\n          const cx = params[pi++];\n          const cy = params[pi++];\n          const r = params[pi++];\n          const startAngle = params[pi++];\n          const endAngle = params[pi++];\n          const startX = cx + Math.cos(startAngle) * r;\n          const startY = cy + Math.sin(startAngle) * r;\n          const counterClockwise = Boolean(params[pi++]);\n          best = lineDistanceSquared(x, y, px, py, startX, startY, best);\n          best = arcDistanceSquared(x, y, cx, cy, r, startAngle, endAngle, counterClockwise, best);\n          px = cx + Math.cos(endAngle) * r;\n          py = cy + Math.sin(endAngle) * r;\n          break;\n        }\n        case 4 /* ClosePath */:\n          best = lineDistanceSquared(x, y, px, py, sx, sy, best);\n          break;\n      }\n    }\n    return best;\n  }\n  getPoints() {\n    const { commands, params } = this;\n    const coords = [];\n    let pi = 0;\n    for (let ci = 0; ci < commands.length; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n        case 1 /* Line */:\n          coords.push({ x: params[pi++], y: params[pi++] });\n          break;\n        case 3 /* Curve */:\n          pi += 4;\n          coords.push({ x: params[pi++], y: params[pi++] });\n          break;\n        case 2 /* Arc */:\n          coords.push({ x: params[pi++], y: params[pi++] });\n          pi += 4;\n          break;\n        case 4 /* ClosePath */:\n          break;\n      }\n    }\n    return coords;\n  }\n};\n\n// packages/ag-charts-community/src/scene/shape/path.ts\nfunction ScenePathChangeDetection(opts) {\n  const { redraw = 3 /* MAJOR */, changeCb, convertor } = opts != null ? opts : {};\n  return SceneChangeDetection({ redraw, type: \"path\", convertor, changeCb });\n}\nvar Path = class extends Shape {\n  constructor() {\n    super(...arguments);\n    /**\n     * Declare a path to retain for later rendering and hit testing\n     * using custom Path2D class. Think of it as a TypeScript version\n     * of the native Path2D (with some differences) that works in all browsers.\n     */\n    this.path = new ExtendedPath2D();\n    this._clipX = NaN;\n    this._clipY = NaN;\n    /**\n     * The path only has to be updated when certain attributes change.\n     * For example, if transform attributes (such as `translationX`)\n     * are changed, we don't have to update the path. The `dirtyPath` flag\n     * is how we keep track if the path has to be updated or not.\n     */\n    this._dirtyPath = true;\n  }\n  set clipX(value) {\n    this._clipX = value;\n    this.dirtyPath = true;\n  }\n  set clipY(value) {\n    this._clipY = value;\n    this.dirtyPath = true;\n  }\n  set dirtyPath(value) {\n    if (this._dirtyPath !== value) {\n      this._dirtyPath = value;\n      if (value) {\n        this.markDirty(this, 3 /* MAJOR */);\n      }\n    }\n  }\n  get dirtyPath() {\n    return this._dirtyPath;\n  }\n  checkPathDirty() {\n    var _a, _b, _c, _d;\n    if (this._dirtyPath) {\n      return;\n    }\n    this.dirtyPath = this.path.isDirty() || ((_b = (_a = this.fillShadow) == null ? void 0 : _a.isDirty()) != null ? _b : false) || ((_d = (_c = this._clipPath) == null ? void 0 : _c.isDirty()) != null ? _d : false);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    return this.path.closedPath && this.path.isPointInPath(point.x, point.y);\n  }\n  distanceSquared(x, y) {\n    const point = this.transformPoint(x, y);\n    return this.path.distanceSquared(point.x, point.y);\n  }\n  isDirtyPath() {\n    return false;\n  }\n  updatePath() {\n  }\n  render(renderCtx) {\n    var _a, _b, _c, _d, _e;\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    if (this.dirtyPath || this.isDirtyPath()) {\n      this.updatePath();\n      this.dirtyPath = false;\n    }\n    if (!isNaN(this._clipX) && !isNaN(this._clipY) && this.clipMode != null) {\n      ctx.save();\n      const margin = this.strokeWidth / 2;\n      (_a = this._clipPath) != null ? _a : this._clipPath = new ExtendedPath2D();\n      this._clipPath.clear();\n      this._clipPath.rect(-margin, -margin, this._clipX + margin, this._clipY + margin + margin);\n      if (this.clipMode === \"normal\") {\n        ctx.clip((_b = this._clipPath) == null ? void 0 : _b.getPath2D());\n      }\n      if (this._clipX > 0 && this._clipY > 0) {\n        this.drawPath(ctx);\n      }\n      if (this.clipMode === \"punch-out\") {\n        ctx.clip((_c = this._clipPath) == null ? void 0 : _c.getPath2D());\n        const { x = -1e4, y = -1e4, width = 2e4, height = 2e4 } = (_d = this.computeBBox()) != null ? _d : {};\n        ctx.clearRect(x, y, width, height);\n      }\n      ctx.restore();\n    } else {\n      this.drawPath(ctx);\n    }\n    (_e = this.fillShadow) == null ? void 0 : _e.markClean();\n    super.render(renderCtx);\n  }\n  drawPath(ctx) {\n    this.fillStroke(ctx, this.path.getPath2D());\n  }\n};\nPath.className = \"Path\";\n__decorateClass([\n  ScenePathChangeDetection()\n], Path.prototype, \"clipMode\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Path.prototype, \"clipX\", 1);\n__decorateClass([\n  ScenePathChangeDetection()\n], Path.prototype, \"clipY\", 1);\n\n// packages/ag-charts-community/src/scene/util/quadtree.ts\nvar QuadtreeNearest = class {\n  constructor(capacity, maxdepth, boundary) {\n    this.root = new QuadtreeNodeNearest(capacity, maxdepth, boundary);\n  }\n  clear(boundary) {\n    this.root.clear(boundary);\n  }\n  addValue(hitTester, value) {\n    const elem = {\n      hitTester,\n      value,\n      distanceSquared: (x, y) => {\n        return hitTester.distanceSquared(x, y);\n      }\n    };\n    this.root.addElem(elem);\n  }\n  find(x, y) {\n    const arg = { best: { nearest: void 0, distanceSquared: Infinity } };\n    this.root.find(x, y, arg);\n    return arg.best;\n  }\n};\nvar QuadtreeSubdivisions = class {\n  constructor(nw, ne, sw, se) {\n    this.nw = nw;\n    this.ne = ne;\n    this.sw = sw;\n    this.se = se;\n  }\n  addElem(elem) {\n    this.nw.addElem(elem);\n    this.ne.addElem(elem);\n    this.sw.addElem(elem);\n    this.se.addElem(elem);\n  }\n  find(x, y, arg) {\n    this.nw.find(x, y, arg);\n    this.ne.find(x, y, arg);\n    this.sw.find(x, y, arg);\n    this.se.find(x, y, arg);\n  }\n};\nvar QuadtreeNode = class {\n  constructor(capacity, maxdepth, boundary) {\n    this.capacity = capacity;\n    this.maxdepth = maxdepth;\n    this.boundary = boundary != null ? boundary : BBox.NaN;\n    this.elems = [];\n    this.subdivisions = void 0;\n  }\n  clear(boundary) {\n    this.elems.length = 0;\n    this.boundary = boundary;\n    this.subdivisions = void 0;\n  }\n  addElem(e) {\n    if (this.addCondition(e)) {\n      if (this.subdivisions === void 0) {\n        if (this.maxdepth === 0 || this.elems.length < this.capacity) {\n          this.elems.push(e);\n        } else {\n          this.subdivide(e);\n        }\n      } else {\n        this.subdivisions.addElem(e);\n      }\n    }\n  }\n  find(x, y, arg) {\n    if (this.findCondition(x, y, arg)) {\n      if (this.subdivisions === void 0) {\n        this.findAction(x, y, arg);\n      } else {\n        this.subdivisions.find(x, y, arg);\n      }\n    }\n  }\n  subdivide(newElem) {\n    this.subdivisions = this.makeSubdivisions();\n    for (const e of this.elems) {\n      this.subdivisions.addElem(e);\n    }\n    this.subdivisions.addElem(newElem);\n    this.elems.length = 0;\n  }\n  makeSubdivisions() {\n    const { x, y, width, height } = this.boundary;\n    const { capacity } = this;\n    const depth = this.maxdepth - 1;\n    const halfWidth = width / 2;\n    const halfHeight = height / 2;\n    const nwBoundary = new BBox(x, y, halfWidth, halfHeight);\n    const neBoundary = new BBox(x + halfWidth, y, halfWidth, halfHeight);\n    const swBoundary = new BBox(x, y + halfHeight, halfWidth, halfHeight);\n    const seBoundary = new BBox(x + halfWidth, y + halfHeight, halfWidth, halfHeight);\n    return new QuadtreeSubdivisions(\n      this.child(capacity, depth, nwBoundary),\n      this.child(capacity, depth, neBoundary),\n      this.child(capacity, depth, swBoundary),\n      this.child(capacity, depth, seBoundary)\n    );\n  }\n};\nvar QuadtreeNodeNearest = class _QuadtreeNodeNearest extends QuadtreeNode {\n  addCondition(e) {\n    const { x, y } = e.hitTester.midPoint;\n    return this.boundary.containsPoint(x, y);\n  }\n  findCondition(x, y, arg) {\n    const { best } = arg;\n    return best.distanceSquared !== 0 && this.boundary.distanceSquared(x, y) < best.distanceSquared;\n  }\n  findAction(x, y, arg) {\n    const other = nearestSquared(x, y, this.elems, arg.best.distanceSquared);\n    if (other.nearest !== void 0 && other.distanceSquared < arg.best.distanceSquared) {\n      arg.best = other;\n    }\n  }\n  child(capacity, depth, boundary) {\n    return new _QuadtreeNodeNearest(capacity, depth, boundary);\n  }\n};\n\n// packages/ag-charts-community/src/chart/marker/marker.ts\nvar Marker = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.x = 0;\n    this.y = 0;\n    this.size = 12;\n  }\n  computeBBox() {\n    const { x, y, size } = this;\n    const { center } = this.constructor;\n    return new BBox(x - size * center.x, y - size * center.y, size, size);\n  }\n  applyPath(s, moves) {\n    const { path } = this;\n    let { x, y } = this;\n    if (this.repeat != null) {\n      x = 0;\n      y = 0;\n    }\n    path.clear();\n    for (const { x: mx, y: my, t } of moves) {\n      x += mx * s;\n      y += my * s;\n      if (t === \"move\") {\n        path.moveTo(x, y);\n      } else {\n        path.lineTo(x, y);\n      }\n    }\n    path.closePath();\n  }\n  executeFill(ctx, path) {\n    if (!path)\n      return;\n    if (this.repeat == null) {\n      return super.executeFill(ctx, path);\n    }\n    ctx.save();\n    let x = this.translationX;\n    let y = this.translationY;\n    for (const translation of this.repeat) {\n      ctx.translate(translation.x - x, translation.y - y);\n      ctx.fill(path);\n      x = translation.x;\n      y = translation.y;\n    }\n    ctx.restore();\n  }\n  executeStroke(ctx, path) {\n    if (!path)\n      return;\n    if (this.repeat == null) {\n      return super.executeStroke(ctx, path);\n    }\n    ctx.save();\n    let x = this.translationX;\n    let y = this.translationY;\n    for (const translation of this.repeat) {\n      ctx.translate(translation.x - x, translation.y - y);\n      ctx.stroke(path);\n      x = translation.x;\n      y = translation.y;\n    }\n    ctx.restore();\n  }\n};\nMarker.center = { x: 0.5, y: 0.5 };\n__decorateClass([\n  ScenePathChangeDetection()\n], Marker.prototype, \"x\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Marker.prototype, \"y\", 2);\n__decorateClass([\n  ScenePathChangeDetection({ convertor: Math.abs })\n], Marker.prototype, \"size\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Marker.prototype, \"repeat\", 2);\n\n// packages/ag-charts-community/src/chart/marker/circle.ts\nvar Circle = class extends Marker {\n  updatePath() {\n    const { x, y, path, size } = this;\n    const r = size / 2;\n    path.clear();\n    path.arc(x, y, r, 0, Math.PI * 2);\n    path.closePath();\n  }\n};\nCircle.className = \"Circle\";\n\n// packages/ag-charts-community/src/chart/marker/cross.ts\nvar _Cross = class _Cross extends Marker {\n  updatePath() {\n    const s = this.size / 4.2;\n    super.applyPath(s, _Cross.moves);\n  }\n};\n_Cross.className = \"Cross\";\n_Cross.moves = [\n  { x: -1, y: 0, t: \"move\" },\n  { x: -1, y: -1 },\n  { x: 1, y: -1 },\n  { x: 1, y: 1 },\n  { x: 1, y: -1 },\n  { x: 1, y: 1 },\n  { x: -1, y: 1 },\n  { x: 1, y: 1 },\n  { x: -1, y: 1 },\n  { x: -1, y: -1 },\n  { x: -1, y: 1 },\n  { x: -1, y: -1 }\n];\nvar Cross = _Cross;\n\n// packages/ag-charts-community/src/chart/marker/diamond.ts\nvar _Diamond = class _Diamond extends Marker {\n  updatePath() {\n    const s = this.size / 2;\n    super.applyPath(s, _Diamond.moves);\n  }\n};\n_Diamond.className = \"Diamond\";\n_Diamond.moves = [\n  { x: 0, y: -1, t: \"move\" },\n  { x: 1, y: 1 },\n  { x: -1, y: 1 },\n  { x: -1, y: -1 },\n  { x: 1, y: -1 }\n];\nvar Diamond = _Diamond;\n\n// packages/ag-charts-community/src/chart/marker/heart.ts\nvar Heart = class extends Marker {\n  rad(degree) {\n    return degree / 180 * Math.PI;\n  }\n  updatePath() {\n    const { x, path, size, rad } = this;\n    const r = size / 4;\n    const y = this.y + r / 2;\n    path.clear();\n    path.arc(x - r, y - r, r, rad(130), rad(330));\n    path.arc(x + r, y - r, r, rad(220), rad(50));\n    path.lineTo(x, y + r);\n    path.closePath();\n  }\n};\nHeart.className = \"Heart\";\n\n// packages/ag-charts-community/src/chart/marker/pin.ts\nvar Pin = class extends Marker {\n  updatePath() {\n    const { path, x, y } = this;\n    const s = this.size;\n    const cx = 0.5;\n    const cy = 1;\n    path.clear();\n    path.moveTo(x + (0.15625 - cx) * s, y + (0.34375 - cy) * s);\n    path.cubicCurveTo(\n      x + (0.15625 - cx) * s,\n      y + (0.151491 - cy) * s,\n      x + (0.307741 - cx) * s,\n      y + (0 - cy) * s,\n      x + (0.5 - cx) * s,\n      y + (0 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.692259 - cx) * s,\n      y + (0 - cy) * s,\n      x + (0.84375 - cx) * s,\n      y + (0.151491 - cy) * s,\n      x + (0.84375 - cx) * s,\n      y + (0.34375 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.84375 - cx) * s,\n      y + (0.493824 - cy) * s,\n      x + (0.784625 - cx) * s,\n      y + (0.600181 - cy) * s,\n      x + (0.716461 - cx) * s,\n      y + (0.695393 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.699009 - cx) * s,\n      y + (0.719769 - cy) * s,\n      x + (0.681271 - cx) * s,\n      y + (0.743104 - cy) * s,\n      x + (0.663785 - cx) * s,\n      y + (0.766105 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.611893 - cx) * s,\n      y + (0.834367 - cy) * s,\n      x + (0.562228 - cx) * s,\n      y + (0.899699 - cy) * s,\n      x + (0.528896 - cx) * s,\n      y + (0.980648 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.524075 - cx) * s,\n      y + (0.992358 - cy) * s,\n      x + (0.512663 - cx) * s,\n      y + (1 - cy) * s,\n      x + (0.5 - cx) * s,\n      y + (1 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.487337 - cx) * s,\n      y + (1 - cy) * s,\n      x + (0.475925 - cx) * s,\n      y + (0.992358 - cy) * s,\n      x + (0.471104 - cx) * s,\n      y + (0.980648 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.487337 - cx) * s,\n      y + (1 - cy) * s,\n      x + (0.475925 - cx) * s,\n      y + (0.992358 - cy) * s,\n      x + (0.471104 - cx) * s,\n      y + (0.980648 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.437772 - cx) * s,\n      y + (0.899699 - cy) * s,\n      x + (0.388107 - cx) * s,\n      y + (0.834367 - cy) * s,\n      x + (0.336215 - cx) * s,\n      y + (0.766105 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.318729 - cx) * s,\n      y + (0.743104 - cy) * s,\n      x + (0.300991 - cx) * s,\n      y + (0.719769 - cy) * s,\n      x + (0.283539 - cx) * s,\n      y + (0.695393 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.215375 - cx) * s,\n      y + (0.600181 - cy) * s,\n      x + (0.15625 - cx) * s,\n      y + (0.493824 - cy) * s,\n      x + (0.15625 - cx) * s,\n      y + (0.34375 - cy) * s\n    );\n    path.closePath();\n  }\n};\nPin.className = \"MapPin\";\nPin.center = { x: 0.5, y: 1 };\n\n// packages/ag-charts-community/src/chart/marker/plus.ts\nvar _Plus = class _Plus extends Marker {\n  updatePath() {\n    const s = this.size / 3;\n    super.applyPath(s, _Plus.moves);\n  }\n};\n_Plus.className = \"Plus\";\n_Plus.moves = [\n  { x: -0.5, y: -0.5, t: \"move\" },\n  { x: 0, y: -1 },\n  { x: 1, y: 0 },\n  { x: 0, y: 1 },\n  { x: 1, y: 0 },\n  { x: 0, y: 1 },\n  { x: -1, y: 0 },\n  { x: 0, y: 1 },\n  { x: -1, y: 0 },\n  { x: 0, y: -1 },\n  { x: -1, y: 0 },\n  { x: 0, y: -1 }\n];\nvar Plus = _Plus;\n\n// packages/ag-charts-community/src/chart/marker/square.ts\nvar Square = class extends Marker {\n  updatePath() {\n    const { path, x, y } = this;\n    const hs = this.size / 2;\n    path.clear();\n    path.moveTo(this.align(x - hs), this.align(y - hs));\n    path.lineTo(this.align(x + hs), this.align(y - hs));\n    path.lineTo(this.align(x + hs), this.align(y + hs));\n    path.lineTo(this.align(x - hs), this.align(y + hs));\n    path.closePath();\n  }\n};\nSquare.className = \"Square\";\n\n// packages/ag-charts-community/src/chart/marker/star.ts\nvar Star = class extends Marker {\n  updatePath() {\n    const { x, y, path, size } = this;\n    const spikes = 5;\n    const innerRadius = size / 2;\n    const rotation = Math.PI / 2;\n    path.clear();\n    for (let i = 0; i < spikes * 2; i++) {\n      const radius = i % 2 === 0 ? size : innerRadius;\n      const angle = i * Math.PI / spikes - rotation;\n      const xCoordinate = x + Math.cos(angle) * radius;\n      const yCoordinate = y + Math.sin(angle) * radius;\n      path.lineTo(xCoordinate, yCoordinate);\n    }\n    path.closePath();\n  }\n};\nStar.className = \"Star\";\n\n// packages/ag-charts-community/src/chart/marker/triangle.ts\nvar _Triangle = class _Triangle extends Marker {\n  updatePath() {\n    const s = this.size * 1.1;\n    super.applyPath(s, _Triangle.moves);\n  }\n};\n_Triangle.className = \"Triangle\";\n_Triangle.moves = [\n  { x: 0, y: -0.48, t: \"move\" },\n  { x: 0.5, y: 0.87 },\n  { x: -1, y: 0 }\n];\nvar Triangle = _Triangle;\n\n// packages/ag-charts-community/src/chart/marker/util.ts\nvar MARKER_SHAPES = {\n  circle: Circle,\n  cross: Cross,\n  diamond: Diamond,\n  heart: Heart,\n  pin: Pin,\n  plus: Plus,\n  square: Square,\n  star: Star,\n  triangle: Triangle\n};\nvar MARKER_SUPPORTED_SHAPES = Object.keys(MARKER_SHAPES);\nfunction isMarkerShape(shape) {\n  return typeof shape === \"string\" && MARKER_SUPPORTED_SHAPES.includes(shape);\n}\nfunction getMarker(shape = Square) {\n  if (isMarkerShape(shape)) {\n    return MARKER_SHAPES[shape];\n  }\n  if (typeof shape === \"function\") {\n    return shape;\n  }\n  return Square;\n}\n\n// packages/ag-charts-community/src/chart/series/dataModelSeries.ts\nvar DataModelSeries = class extends Series {\n  constructor() {\n    super(...arguments);\n    this.showFocusBox = true;\n  }\n  getScaleInformation({\n    xScale,\n    yScale\n  }) {\n    const isContinuousX = ContinuousScale.is(xScale);\n    const isContinuousY = ContinuousScale.is(yScale);\n    return { isContinuousX, isContinuousY, xScaleType: xScale == null ? void 0 : xScale.type, yScaleType: yScale == null ? void 0 : yScale.type };\n  }\n  getModulePropertyDefinitions() {\n    var _a, _b;\n    const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n    const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n    return this.moduleMap.mapModules((mod2) => mod2.getPropertyDefinitions(this.getScaleInformation({ xScale, yScale }))).flat();\n  }\n  // Request data, but with message dispatching to series-options (modules).\n  requestDataModel(dataController, data, opts) {\n    return __async(this, null, function* () {\n      opts.props.push(...this.getModulePropertyDefinitions());\n      const { dataModel, processedData } = yield dataController.request(this.id, data != null ? data : [], opts);\n      this.dataModel = dataModel;\n      this.processedData = processedData;\n      this.dispatch(\"data-processed\", { dataModel, processedData });\n      return { dataModel, processedData };\n    });\n  }\n  isProcessedDataAnimatable() {\n    var _a, _b;\n    const validationResults = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation;\n    if (!validationResults) {\n      return true;\n    }\n    const { orderedKeys, uniqueKeys } = validationResults;\n    return orderedKeys && uniqueKeys;\n  }\n  checkProcessedDataAnimatable() {\n    if (!this.isProcessedDataAnimatable()) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  pickFocus(opts) {\n    return this.doPickFocus(opts, this);\n  }\n  // The legend behaves differently for Pie and Donut series. We need to use a seriesItemEnabled\n  // array to determine whether a datum has been toggled on/off using the legend.\n  doPickFocus(opts, derivedSeries) {\n    const nodeData = this.getNodeData();\n    if (nodeData === void 0 || nodeData.length === 0) {\n      return void 0;\n    }\n    const { datumIndexDelta, seriesRect } = opts;\n    const datumIndex = this.computeFocusDatumIndex(opts, nodeData, derivedSeries.seriesItemEnabled);\n    if (datumIndex === void 0) {\n      return void 0;\n    }\n    const { showFocusBox } = this;\n    const datum = nodeData[datumIndex];\n    const bbox = this.computeFocusBounds({ datumIndex, datumIndexDelta, seriesRect });\n    if (bbox !== void 0) {\n      return { bbox, showFocusBox, datum, datumIndex };\n    }\n  }\n  computeFocusDatumIndex(opts, nodeData, seriesItemEnabled) {\n    if (seriesItemEnabled && nodeData.length !== seriesItemEnabled.length) {\n      Logger.error(\n        `invalid state: nodeData.length (${nodeData.length} !== seriesItemEnabled.length (${seriesItemEnabled == null ? void 0 : seriesItemEnabled.length})`\n      );\n    }\n    const isDatumEnabled = (datumIndex2) => {\n      const nodeDatum = nodeData[datumIndex2];\n      return (nodeDatum.missing === void 0 || nodeDatum.missing === false) && (seriesItemEnabled === void 0 || seriesItemEnabled[datumIndex2]);\n    };\n    const searchBackward = (datumIndex2) => {\n      while (datumIndex2 >= 0 && !isDatumEnabled(datumIndex2)) {\n        datumIndex2--;\n      }\n      return datumIndex2 === -1 ? void 0 : datumIndex2;\n    };\n    const searchForward = (datumIndex2) => {\n      while (datumIndex2 < nodeData.length && !isDatumEnabled(datumIndex2)) {\n        datumIndex2++;\n      }\n      return datumIndex2 === nodeData.length ? void 0 : datumIndex2;\n    };\n    let datumIndex;\n    const clampedIndex = clamp(0, opts.datumIndex, nodeData.length - 1);\n    if (opts.datumIndexDelta < 0) {\n      datumIndex = searchBackward(clampedIndex);\n    } else if (opts.datumIndexDelta > 0) {\n      datumIndex = searchForward(clampedIndex);\n    } else {\n      datumIndex != null ? datumIndex : datumIndex = searchForward(clampedIndex);\n      datumIndex != null ? datumIndex : datumIndex = searchBackward(clampedIndex);\n    }\n    if (datumIndex === void 0) {\n      if (opts.datumIndexDelta === 0) {\n        return void 0;\n      } else {\n        return opts.datumIndex - opts.datumIndexDelta;\n      }\n    } else {\n      return datumIndex;\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/seriesProperties.ts\nvar SeriesItemHighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"rgba(255,255,255, 0.33)\";\n    this.stroke = `rgba(0, 0, 0, 0.4)`;\n    this.strokeWidth = 2;\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"lineDashOffset\", 2);\nvar SeriesHighlightStyle = class extends BaseProperties {\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], SeriesHighlightStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], SeriesHighlightStyle.prototype, \"dimOpacity\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], SeriesHighlightStyle.prototype, \"enabled\", 2);\nvar TextHighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.color = \"black\";\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], TextHighlightStyle.prototype, \"color\", 2);\nvar HighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.item = new SeriesItemHighlightStyle();\n    this.series = new SeriesHighlightStyle();\n    this.text = new TextHighlightStyle();\n  }\n};\n__decorateClass([\n  Validate(OBJECT)\n], HighlightStyle.prototype, \"item\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], HighlightStyle.prototype, \"series\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], HighlightStyle.prototype, \"text\", 2);\nvar SeriesProperties = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.visible = true;\n    this.showInLegend = true;\n    this.cursor = \"default\";\n    this.nodeClickRange = \"exact\";\n    this.highlightStyle = new HighlightStyle();\n  }\n};\n__decorateClass([\n  Validate(STRING, { optional: true })\n], SeriesProperties.prototype, \"id\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], SeriesProperties.prototype, \"visible\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], SeriesProperties.prototype, \"showInLegend\", 2);\n__decorateClass([\n  Validate(STRING)\n], SeriesProperties.prototype, \"cursor\", 2);\n__decorateClass([\n  Validate(INTERACTION_RANGE)\n], SeriesProperties.prototype, \"nodeClickRange\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], SeriesProperties.prototype, \"highlightStyle\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/cartesianSeries.ts\nvar DEFAULT_CARTESIAN_DIRECTION_KEYS = {\n  [\"x\" /* X */]: [\"xKey\"],\n  [\"y\" /* Y */]: [\"yKey\"]\n};\nvar DEFAULT_CARTESIAN_DIRECTION_NAMES = {\n  [\"x\" /* X */]: [\"xName\"],\n  [\"y\" /* Y */]: [\"yName\"]\n};\nvar CartesianSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.xKey = series.properties.xKey;\n    this.yKey = series.properties.yKey;\n  }\n};\nvar CartesianSeriesProperties = class extends SeriesProperties {\n};\n__decorateClass([\n  Validate(STRING, { optional: true })\n], CartesianSeriesProperties.prototype, \"legendItemName\", 2);\nvar CartesianSeries = class extends DataModelSeries {\n  constructor(_a) {\n    var _b = _a, {\n      pathsPerSeries = 1,\n      hasMarkers = false,\n      hasHighlightedLabels = false,\n      pathsZIndexSubOrderOffset = [],\n      datumSelectionGarbageCollection = true,\n      markerSelectionGarbageCollection = true,\n      animationAlwaysUpdateSelections = false,\n      animationResetFns,\n      directionKeys,\n      directionNames\n    } = _b, otherOpts = __objRest(_b, [\n      \"pathsPerSeries\",\n      \"hasMarkers\",\n      \"hasHighlightedLabels\",\n      \"pathsZIndexSubOrderOffset\",\n      \"datumSelectionGarbageCollection\",\n      \"markerSelectionGarbageCollection\",\n      \"animationAlwaysUpdateSelections\",\n      \"animationResetFns\",\n      \"directionKeys\",\n      \"directionNames\"\n    ]);\n    super(__spreadValues({\n      directionKeys,\n      directionNames,\n      canHaveAxes: true\n    }, otherOpts));\n    this.NodeEvent = CartesianSeriesNodeEvent;\n    this.dataNodeGroup = this.contentGroup.appendChild(\n      new Group({\n        name: `${this.id}-series-dataNodes`,\n        zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"data\")\n      })\n    );\n    this.markerGroup = this.contentGroup.appendChild(\n      new Group({\n        name: `${this.id}-series-markers`,\n        zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"marker\")\n      })\n    );\n    this.labelGroup = this.contentGroup.appendChild(\n      new Group({\n        name: `${this.id}-series-labels`,\n        zIndex: 8 /* SERIES_LABEL_ZINDEX */,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"labels\")\n      })\n    );\n    this.labelSelection = Selection.select(this.labelGroup, Text);\n    this.highlightSelection = Selection.select(\n      this.highlightNode,\n      () => this.opts.hasMarkers ? this.markerFactory() : this.nodeFactory()\n    );\n    this.highlightLabelSelection = Selection.select(this.highlightLabel, Text);\n    this.annotationSelections = /* @__PURE__ */ new Set();\n    this.minRectsCache = {\n      dirtyNodeData: true\n    };\n    this.debug = Debug.create();\n    if (!directionKeys || !directionNames)\n      throw new Error(`Unable to initialise series type ${this.type}`);\n    this.opts = {\n      pathsPerSeries,\n      hasMarkers,\n      hasHighlightedLabels,\n      pathsZIndexSubOrderOffset,\n      directionKeys,\n      directionNames,\n      animationResetFns,\n      animationAlwaysUpdateSelections,\n      datumSelectionGarbageCollection,\n      markerSelectionGarbageCollection\n    };\n    this.paths = [];\n    for (let index = 0; index < pathsPerSeries; index++) {\n      this.paths[index] = new Path();\n      this.paths[index].zIndex = 4 /* SERIES_LAYER_ZINDEX */;\n      this.paths[index].zIndexSubOrder = this.getGroupZIndexSubOrder(\"paths\", index);\n      this.contentGroup.appendChild(this.paths[index]);\n    }\n    this.datumSelection = Selection.select(\n      this.dataNodeGroup,\n      () => this.nodeFactory(),\n      datumSelectionGarbageCollection\n    );\n    this.markerSelection = Selection.select(\n      this.markerGroup,\n      () => this.markerFactory(),\n      markerSelectionGarbageCollection\n    );\n    this.animationState = new StateMachine(\n      \"empty\",\n      {\n        empty: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateEmptyUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\",\n          disable: \"disabled\"\n        },\n        ready: {\n          updateData: \"waiting\",\n          clear: \"clearing\",\n          highlight: (data) => this.animateReadyHighlight(data),\n          highlightMarkers: (data) => this.animateReadyHighlightMarkers(data),\n          resize: (data) => this.animateReadyResize(data),\n          reset: \"empty\",\n          skip: \"ready\",\n          disable: \"disabled\"\n        },\n        waiting: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateWaitingUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\",\n          disable: \"disabled\"\n        },\n        disabled: {\n          update: (data) => this.resetAllAnimation(data),\n          reset: \"empty\"\n        },\n        clearing: {\n          update: {\n            target: \"empty\",\n            action: (data) => this.animateClearingUpdateEmpty(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        }\n      },\n      () => this.checkProcessedDataAnimatable()\n    );\n  }\n  get contextNodeData() {\n    return this._contextNodeData;\n  }\n  getNodeData() {\n    var _a;\n    return (_a = this.contextNodeData) == null ? void 0 : _a.nodeData;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    } else if (phase === \"disabled\") {\n      this.animationState.transition(\"disable\");\n    }\n  }\n  addChartEventListeners() {\n    this.destroyFns.push(\n      this.ctx.chartEventManager.addListener(\"legend-item-click\", (event) => this.onLegendItemClick(event)),\n      this.ctx.chartEventManager.addListener(\n        \"legend-item-double-click\",\n        (event) => this.onLegendItemDoubleClick(event)\n      )\n    );\n  }\n  destroy() {\n    super.destroy();\n    this._contextNodeData = void 0;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      var _a, _b;\n      const { visible, _contextNodeData: previousContextData } = this;\n      const series = (_b = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight()) == null ? void 0 : _b.series;\n      const seriesHighlighted = series === this;\n      const resize = this.checkResize(seriesRect);\n      const highlightItems = yield this.updateHighlightSelection(seriesHighlighted);\n      yield this.updateSelections(visible);\n      yield this.updateNodes(highlightItems, seriesHighlighted, visible);\n      const animationData = this.getAnimationData(seriesRect, previousContextData);\n      if (!animationData)\n        return;\n      if (resize) {\n        this.animationState.transition(\"resize\", animationData);\n      }\n      this.animationState.transition(\"update\", animationData);\n    });\n  }\n  updateSelections(anySeriesItemEnabled) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const animationSkipUpdate = !this.opts.animationAlwaysUpdateSelections && this.ctx.animationManager.isSkipped();\n      if (!anySeriesItemEnabled && animationSkipUpdate) {\n        return;\n      }\n      if (!this.nodeDataRefresh && !this.isPathOrSelectionDirty()) {\n        return;\n      }\n      if (this.nodeDataRefresh) {\n        this.nodeDataRefresh = false;\n        this.debug(`CartesianSeries.updateSelections() - calling createNodeData() for`, this.id);\n        this.markQuadtreeDirty();\n        this._contextNodeData = yield this.createNodeData();\n        const animationValid = this.isProcessedDataAnimatable();\n        if (this._contextNodeData) {\n          (_b = (_a = this._contextNodeData).animationValid) != null ? _b : _a.animationValid = animationValid;\n        }\n        this.minRectsCache.dirtyNodeData = true;\n        const { dataModel, processedData } = this;\n        if (dataModel !== void 0 && processedData !== void 0) {\n          this.dispatch(\"data-update\", { dataModel, processedData });\n        }\n      }\n      yield this.updateSeriesSelections();\n    });\n  }\n  updateSeriesSelections(seriesHighlighted) {\n    return __async(this, null, function* () {\n      const { datumSelection, labelSelection, markerSelection, paths } = this;\n      const contextData = this._contextNodeData;\n      if (!contextData)\n        return;\n      const { nodeData, labelData, itemId } = contextData;\n      yield this.updatePaths({ seriesHighlighted, itemId, contextData, paths });\n      this.datumSelection = yield this.updateDatumSelection({ nodeData, datumSelection });\n      this.labelSelection = yield this.updateLabelSelection({ labelData, labelSelection });\n      if (this.opts.hasMarkers) {\n        this.markerSelection = yield this.updateMarkerSelection({ nodeData, markerSelection });\n      }\n    });\n  }\n  markerFactory() {\n    const MarkerShape = getMarker();\n    return new MarkerShape();\n  }\n  getGroupZIndexSubOrder(type, subIndex = 0) {\n    var _a;\n    const result = super.getGroupZIndexSubOrder(type, subIndex);\n    if (type === \"paths\") {\n      const [superFn] = result;\n      const pathOffset = (_a = this.opts.pathsZIndexSubOrderOffset[subIndex]) != null ? _a : 0;\n      result[0] = isFunction(superFn) ? () => Number(superFn()) + pathOffset : Number(superFn) + pathOffset;\n    }\n    return result;\n  }\n  updateNodes(highlightedItems, seriesHighlighted, anySeriesItemEnabled) {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        highlightSelection,\n        highlightLabelSelection,\n        opts: { hasMarkers, hasHighlightedLabels }\n      } = this;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const visible = this.visible && this._contextNodeData != null && anySeriesItemEnabled;\n      this.rootGroup.visible = animationEnabled || visible;\n      this.contentGroup.visible = animationEnabled || visible;\n      this.highlightGroup.visible = (animationEnabled || visible) && seriesHighlighted;\n      const opacity = this.getOpacity();\n      if (hasMarkers) {\n        yield this.updateMarkerNodes({\n          markerSelection: highlightSelection,\n          isHighlight: true\n        });\n        this.animationState.transition(\"highlightMarkers\", highlightSelection);\n      } else {\n        yield this.updateDatumNodes({\n          datumSelection: highlightSelection,\n          isHighlight: true\n        });\n        this.animationState.transition(\"highlight\", highlightSelection);\n      }\n      if (hasHighlightedLabels) {\n        yield this.updateLabelNodes({ labelSelection: highlightLabelSelection });\n      }\n      const { dataNodeGroup, markerGroup, datumSelection, labelSelection, markerSelection, paths, labelGroup } = this;\n      const { itemId } = (_a = this.contextNodeData) != null ? _a : {};\n      dataNodeGroup.opacity = opacity;\n      dataNodeGroup.visible = animationEnabled || visible;\n      labelGroup.visible = visible;\n      if (hasMarkers) {\n        markerGroup.opacity = opacity;\n        markerGroup.zIndex = dataNodeGroup.zIndex >= 4 /* SERIES_LAYER_ZINDEX */ ? dataNodeGroup.zIndex : dataNodeGroup.zIndex + 1;\n        markerGroup.visible = visible;\n      }\n      if (labelGroup) {\n        labelGroup.opacity = opacity;\n      }\n      yield this.updatePathNodes({\n        seriesHighlighted,\n        itemId,\n        paths,\n        opacity,\n        visible,\n        animationEnabled\n      });\n      if (!dataNodeGroup.visible) {\n        return;\n      }\n      yield this.updateDatumNodes({ datumSelection, highlightedItems, isHighlight: false });\n      yield this.updateLabelNodes({ labelSelection });\n      if (hasMarkers) {\n        yield this.updateMarkerNodes({ markerSelection, isHighlight: false });\n      }\n    });\n  }\n  getHighlightLabelData(labelData, highlightedItem) {\n    const labelItems = labelData.filter(\n      (ld) => ld.datum === highlightedItem.datum && ld.itemId === highlightedItem.itemId\n    );\n    return labelItems.length === 0 ? void 0 : labelItems;\n  }\n  getHighlightData(_nodeData, highlightedItem) {\n    return highlightedItem ? [highlightedItem] : void 0;\n  }\n  updateHighlightSelection(seriesHighlighted) {\n    return __async(this, null, function* () {\n      var _a;\n      const { highlightSelection, highlightLabelSelection, _contextNodeData: contextNodeData } = this;\n      if (!contextNodeData)\n        return;\n      const highlightedDatum = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight();\n      const item = seriesHighlighted && (highlightedDatum == null ? void 0 : highlightedDatum.datum) ? highlightedDatum : void 0;\n      let labelItems;\n      let highlightItems;\n      if (item != null) {\n        const labelsEnabled = this.isLabelEnabled();\n        const { labelData, nodeData } = contextNodeData;\n        highlightItems = this.getHighlightData(nodeData, item);\n        labelItems = labelsEnabled ? this.getHighlightLabelData(labelData, item) : void 0;\n      }\n      this.highlightSelection = yield this.updateHighlightSelectionItem({\n        items: highlightItems,\n        highlightSelection\n      });\n      this.highlightLabelSelection = yield this.updateHighlightSelectionLabel({\n        items: labelItems,\n        highlightLabelSelection\n      });\n      return highlightItems;\n    });\n  }\n  markQuadtreeDirty() {\n    this.quadtree = void 0;\n  }\n  *datumNodesIter() {\n    for (const { node } of this.datumSelection) {\n      if (node.datum.missing === true)\n        continue;\n      yield node;\n    }\n  }\n  getQuadTree() {\n    if (this.quadtree === void 0) {\n      const { width, height } = this.ctx.scene.canvas;\n      const canvasRect = new BBox(0, 0, width, height);\n      this.quadtree = new QuadtreeNearest(100, 10, canvasRect);\n      this.initQuadTree(this.quadtree);\n    }\n    return this.quadtree;\n  }\n  initQuadTree(_quadtree) {\n  }\n  pickNodeExactShape(point) {\n    var _a;\n    const result = super.pickNodeExactShape(point);\n    if (result) {\n      return result;\n    }\n    const { x, y } = point;\n    const {\n      opts: { hasMarkers }\n    } = this;\n    let match;\n    const { dataNodeGroup, markerGroup } = this;\n    match = dataNodeGroup.pickNode(x, y);\n    if (!match && hasMarkers) {\n      match = markerGroup == null ? void 0 : markerGroup.pickNode(x, y);\n    }\n    if (match && match.datum.missing !== true) {\n      return { datum: match.datum, distance: 0 };\n    }\n    for (const mod2 of this.moduleMap.modules()) {\n      const { datum } = (_a = mod2.pickNodeExact(point)) != null ? _a : {};\n      if (datum == null)\n        continue;\n      if ((datum == null ? void 0 : datum.missing) === true)\n        continue;\n      return { datum, distance: 0 };\n    }\n  }\n  pickNodeClosestDatum(point) {\n    var _a, _b;\n    const { x, y } = point;\n    const { axes, rootGroup, _contextNodeData: contextNodeData } = this;\n    if (!contextNodeData)\n      return;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const hitPoint = rootGroup.transformPoint(x, y);\n    let minDistance = Infinity;\n    let closestDatum;\n    for (const datum of contextNodeData.nodeData) {\n      const { point: { x: datumX = NaN, y: datumY = NaN } = {} } = datum;\n      if (isNaN(datumX) || isNaN(datumY)) {\n        continue;\n      }\n      const isInRange = (xAxis == null ? void 0 : xAxis.inRange(datumX)) && (yAxis == null ? void 0 : yAxis.inRange(datumY));\n      if (!isInRange) {\n        continue;\n      }\n      const distance2 = Math.max(__pow(hitPoint.x - datumX, 2) + __pow(hitPoint.y - datumY, 2), 0);\n      if (distance2 < minDistance) {\n        minDistance = distance2;\n        closestDatum = datum;\n      }\n    }\n    for (const mod2 of this.moduleMap.modules()) {\n      const modPick = mod2.pickNodeNearest(point);\n      if (modPick !== void 0 && modPick.distanceSquared < minDistance) {\n        minDistance = modPick.distanceSquared;\n        closestDatum = modPick.datum;\n        break;\n      }\n    }\n    if (closestDatum) {\n      const distance2 = Math.max(Math.sqrt(minDistance) - ((_b = (_a = closestDatum.point) == null ? void 0 : _a.size) != null ? _b : 0), 0);\n      return { datum: closestDatum, distance: distance2 };\n    }\n  }\n  pickNodeMainAxisFirst(point, requireCategoryAxis) {\n    var _a, _b, _c, _d;\n    const { x, y } = point;\n    const { axes, rootGroup, _contextNodeData: contextNodeData } = this;\n    if (!contextNodeData)\n      return;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const directions2 = [xAxis, yAxis].filter((a) => a instanceof CategoryAxis).map((a) => a.direction);\n    if (requireCategoryAxis && directions2.length === 0) {\n      return;\n    }\n    const [primaryDirection = \"x\" /* X */] = directions2;\n    const hitPoint = rootGroup.transformPoint(x, y);\n    const hitPointCoords = primaryDirection === \"x\" /* X */ ? [hitPoint.x, hitPoint.y] : [hitPoint.y, hitPoint.x];\n    const minDistance = [Infinity, Infinity];\n    let closestDatum;\n    for (const datum of contextNodeData.nodeData) {\n      const { x: datumX = NaN, y: datumY = NaN } = (_b = (_a = datum.point) != null ? _a : datum.midPoint) != null ? _b : {};\n      if (isNaN(datumX) || isNaN(datumY) || datum.missing === true) {\n        continue;\n      }\n      const isInRange = (xAxis == null ? void 0 : xAxis.inRange(datumX)) && (yAxis == null ? void 0 : yAxis.inRange(datumY));\n      if (!isInRange) {\n        continue;\n      }\n      const datumPoint = primaryDirection === \"x\" /* X */ ? [datumX, datumY] : [datumY, datumX];\n      let newMinDistance = true;\n      for (let i = 0; i < datumPoint.length; i++) {\n        const dist = Math.abs(datumPoint[i] - hitPointCoords[i]);\n        if (dist > minDistance[i]) {\n          newMinDistance = false;\n          break;\n        }\n        if (dist < minDistance[i]) {\n          minDistance[i] = dist;\n          minDistance.fill(Infinity, i + 1, minDistance.length);\n        }\n      }\n      if (newMinDistance) {\n        closestDatum = datum;\n      }\n    }\n    if (closestDatum) {\n      let closestDistanceSquared = Math.max(\n        __pow(minDistance[0], 2) + __pow(minDistance[1], 2) - ((_d = (_c = closestDatum.point) == null ? void 0 : _c.size) != null ? _d : 0),\n        0\n      );\n      for (const mod2 of this.moduleMap.modules()) {\n        const modPick = mod2.pickNodeMainAxisFirst(point);\n        if (modPick !== void 0 && modPick.distanceSquared < closestDistanceSquared) {\n          closestDatum = modPick.datum;\n          closestDistanceSquared = modPick.distanceSquared;\n          break;\n        }\n      }\n      return { datum: closestDatum, distance: Math.sqrt(closestDistanceSquared) };\n    }\n  }\n  onLegendItemClick(event) {\n    const { legendItemName } = this.properties;\n    const { enabled, itemId, series } = event;\n    const matchedLegendItemName = legendItemName != null && legendItemName === event.legendItemName;\n    if (series.id === this.id || matchedLegendItemName) {\n      this.toggleSeriesItem(itemId, enabled);\n    }\n  }\n  onLegendItemDoubleClick(event) {\n    const { enabled, itemId, series, numVisibleItems } = event;\n    const { legendItemName } = this.properties;\n    const matchedLegendItemName = legendItemName != null && legendItemName === event.legendItemName;\n    if (series.id === this.id || matchedLegendItemName) {\n      this.toggleSeriesItem(itemId, true);\n    } else if (enabled && numVisibleItems === 1) {\n      this.toggleSeriesItem(itemId, true);\n    } else {\n      this.toggleSeriesItem(itemId, false);\n    }\n  }\n  isPathOrSelectionDirty() {\n    return false;\n  }\n  getLabelData() {\n    return [];\n  }\n  shouldFlipXY() {\n    return false;\n  }\n  /**\n   * Get the minimum bounding box that contains any adjacent two nodes. The axes are treated independently, so this\n   * may not represent the same two points for both directions. The dimensions represent the greatest distance\n   * between any two adjacent nodes.\n   */\n  getMinRects(width, height) {\n    const { dirtyNodeData, sizeCache, minRect, minVisibleRect } = this.minRectsCache;\n    const newSizeCache = JSON.stringify({ width, height });\n    const dirtySize = newSizeCache !== sizeCache;\n    if (!dirtySize && !dirtyNodeData && minRect && minVisibleRect) {\n      return { minRect, minVisibleRect };\n    }\n    const rects = this.computeMinRects(width, height);\n    this.minRectsCache = {\n      dirtyNodeData: false,\n      sizeCache: newSizeCache,\n      minRect: rects == null ? void 0 : rects.minRect,\n      minVisibleRect: rects == null ? void 0 : rects.minVisibleRect\n    };\n    return rects;\n  }\n  computeMinRects(width, height) {\n    var _a, _b;\n    const context = this._contextNodeData;\n    if (!(context == null ? void 0 : context.nodeData.length)) {\n      return;\n    }\n    const { nodeData } = context;\n    const minRectXs = Array(nodeData.length);\n    const minRectYs = Array(nodeData.length);\n    for (const [i, { midPoint }] of nodeData.entries()) {\n      minRectXs[i] = (_a = midPoint == null ? void 0 : midPoint.x) != null ? _a : 0;\n      minRectYs[i] = (_b = midPoint == null ? void 0 : midPoint.y) != null ? _b : 0;\n    }\n    minRectXs.sort((a, b) => a - b);\n    minRectYs.sort((a, b) => a - b);\n    let zeroX, widthX, zeroY, heightY;\n    let maxWidth = 0;\n    let maxHeight = 0;\n    for (let i = 1; i < nodeData.length; i++) {\n      if (minRectXs[i] >= 0)\n        zeroX != null ? zeroX : zeroX = i;\n      if (minRectXs[i] > width)\n        widthX != null ? widthX : widthX = i;\n      if (minRectYs[i] >= 0)\n        zeroY != null ? zeroY : zeroY = i;\n      if (minRectYs[i] > height)\n        heightY != null ? heightY : heightY = i;\n      maxWidth = Math.max(maxWidth, minRectXs[i] - minRectXs[i - 1]);\n      maxHeight = Math.max(maxHeight, minRectYs[i] - minRectYs[i - 1]);\n    }\n    widthX != null ? widthX : widthX = nodeData.length;\n    heightY != null ? heightY : heightY = nodeData.length;\n    const minVisibleRectXs = zeroX != null && widthX != null ? minRectXs.slice(zeroX, widthX) : [];\n    const minVisibleRectYs = zeroY != null && heightY != null ? minRectYs.slice(zeroY, heightY) : [];\n    let maxVisibleWidth = 0;\n    let maxVisibleHeight = 0;\n    for (let i = 1; i < Math.max(minVisibleRectXs.length, minVisibleRectYs.length); i++) {\n      const x1 = minVisibleRectXs[i];\n      const x2 = minVisibleRectXs[i - 1];\n      const y1 = minVisibleRectYs[i];\n      const y2 = minVisibleRectYs[i - 1];\n      if (x1 != null && x2 != null) {\n        maxVisibleWidth = Math.max(maxVisibleWidth, x1 - x2);\n      }\n      if (y1 != null && y2 != null) {\n        maxVisibleHeight = Math.max(maxVisibleHeight, y1 - y2);\n      }\n    }\n    const minRect = new BBox(0, 0, maxWidth, maxHeight);\n    const minVisibleRect = new BBox(0, 0, maxVisibleWidth, maxVisibleHeight);\n    return { minRect, minVisibleRect };\n  }\n  updateHighlightSelectionItem(opts) {\n    const {\n      opts: { hasMarkers }\n    } = this;\n    const { items, highlightSelection } = opts;\n    const nodeData = items != null ? items : [];\n    if (hasMarkers) {\n      const markerSelection = highlightSelection;\n      return this.updateMarkerSelection({ nodeData, markerSelection });\n    } else {\n      return this.updateDatumSelection({\n        nodeData,\n        datumSelection: highlightSelection\n      });\n    }\n  }\n  updateHighlightSelectionLabel(opts) {\n    var _a;\n    return this.updateLabelSelection({\n      labelData: (_a = opts.items) != null ? _a : [],\n      labelSelection: opts.highlightLabelSelection\n    });\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.datumSelection;\n    });\n  }\n  updateDatumNodes(_opts) {\n    return __async(this, null, function* () {\n    });\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.markerSelection;\n    });\n  }\n  updateMarkerNodes(_opts) {\n    return __async(this, null, function* () {\n    });\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      opts.paths.forEach((p) => p.visible = false);\n    });\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const { paths, opacity, visible } = opts;\n      for (const path of paths) {\n        path.opacity = opacity;\n        path.visible = visible;\n      }\n    });\n  }\n  resetAllAnimation(data) {\n    var _a, _b, _c;\n    const { path, datum, label, marker } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (path) {\n      data.paths.forEach((paths) => {\n        resetMotion([paths], path);\n      });\n    }\n    if (datum) {\n      resetMotion([data.datumSelection], datum);\n    }\n    if (label) {\n      resetMotion([data.labelSelection], label);\n    }\n    if (marker && this.opts.hasMarkers) {\n      resetMotion([data.markerSelection], marker);\n    }\n    if (((_c = data.contextData) == null ? void 0 : _c.animationValid) === false) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  animateEmptyUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateWaitingUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateReadyHighlight(data) {\n    var _a, _b;\n    const { datum } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    if (datum) {\n      resetMotion([data], datum);\n    }\n  }\n  animateReadyHighlightMarkers(data) {\n    var _a, _b;\n    const { marker } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    if (marker) {\n      resetMotion([data], marker);\n    }\n  }\n  animateReadyResize(data) {\n    this.resetAllAnimation(data);\n  }\n  animateClearingUpdateEmpty(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animationTransitionClear() {\n    const animationData = this.getAnimationData();\n    if (!animationData)\n      return;\n    this.animationState.transition(\"clear\", animationData);\n  }\n  getAnimationData(seriesRect, previousContextData) {\n    const { _contextNodeData: contextData } = this;\n    if (!contextData)\n      return;\n    const animationData = {\n      datumSelection: this.datumSelection,\n      markerSelection: this.markerSelection,\n      labelSelection: this.labelSelection,\n      annotationSelections: [...this.annotationSelections],\n      contextData,\n      previousContextData,\n      paths: this.paths,\n      seriesRect\n    };\n    return animationData;\n  }\n  calculateScaling() {\n    const result = {};\n    for (const direction of Object.values(ChartAxisDirection)) {\n      const axis = this.axes[direction];\n      if (!axis)\n        continue;\n      if (axis.scale instanceof LogScale) {\n        const { range: range3, domain } = axis.scale;\n        result[direction] = {\n          type: \"log\",\n          convert: (d) => axis.scale.convert(d),\n          domain: [domain[0], domain[1]],\n          range: [range3[0], range3[1]]\n        };\n      } else if (axis.scale instanceof ContinuousScale) {\n        const { range: range3 } = axis.scale;\n        const domain = axis.scale.getDomain();\n        result[direction] = {\n          type: \"continuous\",\n          domain: [domain[0], domain[1]],\n          range: [range3[0], range3[1]]\n        };\n      } else if (axis.scale) {\n        const { domain } = axis.scale;\n        result[direction] = {\n          type: \"category\",\n          domain,\n          range: domain.map((d) => axis.scale.convert(d))\n        };\n      }\n    }\n    return result;\n  }\n};\n\n// packages/ag-charts-community/src/chart/cartesianChart.ts\nvar directions = [\"top\", \"right\", \"bottom\", \"left\"];\nvar _CartesianChart = class _CartesianChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    /** Integrated Charts feature state - not used in Standalone Charts. */\n    this.paired = true;\n    this.firstSeriesTranslation = true;\n    this._lastCrossLineIds = void 0;\n    this._lastAxisWidths = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n    this._lastClipSeries = false;\n    this._lastVisibility = {\n      crossLines: true,\n      series: true\n    };\n  }\n  onAxisChange(newValue, oldValue) {\n    super.onAxisChange(newValue, oldValue);\n    this.zoomManager.updateAxes(newValue);\n  }\n  destroySeries(series) {\n    super.destroySeries(series);\n    this.firstSeriesTranslation = true;\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_CartesianChart.prototype, this, \"performLayout\").call(this);\n      const { firstSeriesTranslation, seriesRoot, annotationRoot, highlightRoot } = this;\n      const { animationRect, seriesRect, visibility, clipSeries } = this.updateAxes(shrinkRect);\n      this.seriesRoot.visible = visibility.series;\n      this.seriesRect = seriesRect;\n      this.animationRect = animationRect;\n      const { x, y } = seriesRect;\n      if (firstSeriesTranslation) {\n        for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n          group2.translationX = Math.floor(x);\n          group2.translationY = Math.floor(y);\n        }\n        this.firstSeriesTranslation = false;\n      } else {\n        const { translationX, translationY } = seriesRoot;\n        staticFromToMotion(\n          this.id,\n          \"seriesRect\",\n          this.ctx.animationManager,\n          [seriesRoot, highlightRoot, annotationRoot],\n          { translationX, translationY },\n          { translationX: Math.floor(x), translationY: Math.floor(y) },\n          { phase: \"update\" }\n        );\n      }\n      const seriesPaddedRect = seriesRect.clone().grow(this.seriesArea.padding);\n      this.hoverRect = seriesPaddedRect;\n      const clipRect = this.seriesArea.clip || clipSeries ? seriesPaddedRect : void 0;\n      seriesRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      highlightRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      annotationRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries,\n        series: {\n          rect: seriesRect,\n          paddedRect: seriesPaddedRect,\n          visible: visibility.series,\n          shouldFlipXY: this.shouldFlipXY()\n        },\n        axes: this.axes.map((axis) => __spreadValues({ id: axis.id }, axis.getLayoutState()))\n      });\n      const modulePromises = this.modulesManager.mapModules((m) => {\n        var _a;\n        return (_a = m.performCartesianLayout) == null ? void 0 : _a.call(m, { seriesRect });\n      });\n      yield Promise.all(modulePromises);\n      return shrinkRect;\n    });\n  }\n  updateAxes(inputShrinkRect) {\n    var _a;\n    const crossLineIds = this.axes.flatMap((axis) => {\n      var _a2;\n      return (_a2 = axis.crossLines) != null ? _a2 : [];\n    }).map((crossLine) => crossLine.id);\n    const axesValid = this._lastCrossLineIds != null && this._lastCrossLineIds.length === crossLineIds.length && this._lastCrossLineIds.every((id, index) => crossLineIds[index] === id);\n    let axisWidths;\n    let clipSeries;\n    let visibility;\n    if (axesValid) {\n      axisWidths = __spreadValues({}, this._lastAxisWidths);\n      clipSeries = this._lastClipSeries;\n      visibility = __spreadValues({}, this._lastVisibility);\n    } else {\n      axisWidths = { top: 0, bottom: 0, left: 0, right: 0 };\n      clipSeries = false;\n      visibility = { crossLines: true, series: true };\n      this._lastCrossLineIds = crossLineIds;\n    }\n    const liveAxisWidths = new Set(this.axes.map((a) => a.position));\n    for (const position of Object.keys(axisWidths)) {\n      if (!liveAxisWidths.has(position)) {\n        delete axisWidths[position];\n      }\n    }\n    const stableOutputs = (otherAxisWidths, otherClipSeries, otherVisibility) => {\n      if (Object.keys(otherAxisWidths).some((k) => axisWidths[k] == null)) {\n        return false;\n      }\n      return visibility.crossLines === otherVisibility.crossLines && visibility.series === otherVisibility.series && // Check for existing axis positions and equality.\n      Object.entries(axisWidths).every(([p, w]) => {\n        const otherW = otherAxisWidths[p];\n        if (w != null || otherW != null) {\n          return w === otherW;\n        }\n        return true;\n      }) && clipSeries === otherClipSeries;\n    };\n    const ceilValues = (records) => mapValues(records, (value) => {\n      if (value && Math.abs(value) === Infinity) {\n        return 0;\n      }\n      return value != null ? Math.ceil(value) : value;\n    });\n    let lastPassAxisWidths = {};\n    let lastPassVisibility = {};\n    let lastPassClipSeries = false;\n    let seriesRect = (_a = this.seriesRect) == null ? void 0 : _a.clone();\n    let count = 0;\n    let primaryTickCounts = {};\n    do {\n      Object.assign(axisWidths, lastPassAxisWidths);\n      clipSeries = lastPassClipSeries;\n      Object.assign(visibility, lastPassVisibility);\n      const result = this.updateAxesPass(axisWidths, inputShrinkRect.clone(), seriesRect);\n      lastPassAxisWidths = ceilValues(result.axisWidths);\n      lastPassVisibility = result.visibility;\n      lastPassClipSeries = result.clipSeries;\n      seriesRect = result.seriesRect;\n      primaryTickCounts = result.primaryTickCounts;\n      if (count++ > 10) {\n        Logger.warn(\"unable to find stable axis layout.\");\n        break;\n      }\n    } while (!stableOutputs(lastPassAxisWidths, lastPassClipSeries, lastPassVisibility));\n    this.axes.forEach((axis) => {\n      axis.update(primaryTickCounts[axis.direction]);\n    });\n    const clipRectPadding = 5;\n    this.axes.forEach((axis) => {\n      axis.setCrossLinesVisible(visibility.crossLines);\n      if (!seriesRect) {\n        return;\n      }\n      axis.clipGrid(\n        seriesRect.x,\n        seriesRect.y,\n        seriesRect.width + clipRectPadding,\n        seriesRect.height + clipRectPadding\n      );\n      switch (axis.position) {\n        case \"left\":\n        case \"right\":\n          axis.clipTickLines(\n            inputShrinkRect.x,\n            seriesRect.y,\n            inputShrinkRect.width + clipRectPadding,\n            seriesRect.height + clipRectPadding\n          );\n          break;\n        case \"top\":\n        case \"bottom\":\n          axis.clipTickLines(\n            seriesRect.x,\n            inputShrinkRect.y,\n            seriesRect.width + clipRectPadding,\n            inputShrinkRect.height + clipRectPadding\n          );\n          break;\n      }\n    });\n    this._lastAxisWidths = axisWidths;\n    this._lastVisibility = visibility;\n    return { seriesRect, animationRect: inputShrinkRect, visibility, clipSeries };\n  }\n  updateAxesPass(axisWidths, bounds, lastPassSeriesRect) {\n    const visited = {};\n    const newAxisWidths = {};\n    const visibility = {\n      series: true,\n      crossLines: true\n    };\n    let clipSeries = false;\n    const primaryTickCounts = {};\n    const paddedBounds = this.applySeriesPadding(bounds);\n    const crossLinePadding = lastPassSeriesRect ? this.buildCrossLinePadding(axisWidths) : {};\n    const axisBound = this.buildAxisBound(paddedBounds, axisWidths, crossLinePadding, visibility);\n    const seriesRect = this.buildSeriesRect(axisBound, axisWidths);\n    this.axes.forEach((axis) => {\n      var _a, _b;\n      const { position = \"left\" } = axis;\n      const {\n        clipSeries: newClipSeries,\n        axisThickness,\n        axisOffset\n      } = this.calculateAxisDimensions({\n        axis,\n        seriesRect,\n        paddedBounds,\n        axisWidths,\n        newAxisWidths,\n        primaryTickCounts,\n        clipSeries,\n        addInterAxisPadding: ((_a = visited[position]) != null ? _a : 0) > 0\n      });\n      visited[position] = ((_b = visited[position]) != null ? _b : 0) + 1;\n      clipSeries = clipSeries || newClipSeries;\n      this.positionAxis({\n        axis,\n        axisBound,\n        axisOffset,\n        axisThickness,\n        axisWidths,\n        primaryTickCounts,\n        seriesRect\n      });\n    });\n    return { clipSeries, seriesRect, axisWidths: newAxisWidths, visibility, primaryTickCounts };\n  }\n  buildCrossLinePadding(axisWidths) {\n    var _a;\n    const crossLinePadding = {};\n    this.axes.forEach((axis) => {\n      if (axis.crossLines) {\n        axis.crossLines.forEach((crossLine) => {\n          var _a2;\n          (_a2 = crossLine.calculatePadding) == null ? void 0 : _a2.call(crossLine, crossLinePadding);\n        });\n      }\n    });\n    for (const [side, padding = 0] of Object.entries(crossLinePadding)) {\n      crossLinePadding[side] = Math.max(padding - ((_a = axisWidths[side]) != null ? _a : 0), 0);\n    }\n    return crossLinePadding;\n  }\n  applySeriesPadding(bounds) {\n    const paddedRect = bounds.clone();\n    const reversedAxes = this.axes.slice().reverse();\n    directions.forEach((dir) => {\n      const padding = this.seriesArea.padding[dir];\n      const axis = reversedAxes.find((a) => a.position === dir);\n      if (axis) {\n        axis.seriesAreaPadding = padding;\n      } else {\n        paddedRect.shrink(padding, dir);\n      }\n    });\n    return paddedRect;\n  }\n  buildAxisBound(bounds, axisWidths, crossLinePadding, visibility) {\n    var _a, _b, _c, _d;\n    const result = bounds.clone();\n    const { top = 0, right = 0, bottom = 0, left = 0 } = crossLinePadding;\n    const horizontalPadding = left + right;\n    const verticalPadding = top + bottom;\n    const totalWidth = ((_a = axisWidths.left) != null ? _a : 0) + ((_b = axisWidths.right) != null ? _b : 0) + horizontalPadding;\n    const totalHeight = ((_c = axisWidths.top) != null ? _c : 0) + ((_d = axisWidths.bottom) != null ? _d : 0) + verticalPadding;\n    if (result.width <= totalWidth || result.height <= totalHeight) {\n      visibility.crossLines = false;\n      visibility.series = false;\n      return result;\n    }\n    result.x += left;\n    result.y += top;\n    result.width -= horizontalPadding;\n    result.height -= verticalPadding;\n    return result;\n  }\n  buildSeriesRect(axisBound, axisWidths) {\n    const result = axisBound.clone();\n    const { top, bottom, left, right } = axisWidths;\n    result.x += left != null ? left : 0;\n    result.y += top != null ? top : 0;\n    result.width -= (left != null ? left : 0) + (right != null ? right : 0);\n    result.height -= (top != null ? top : 0) + (bottom != null ? bottom : 0);\n    result.width = Math.max(0, result.width);\n    result.height = Math.max(0, result.height);\n    return result;\n  }\n  clampToOutsideSeriesRect(seriesRect, value, dimension, direction) {\n    const { x, y, width, height } = seriesRect;\n    const clampBounds = [x, y, x + width, y + height];\n    const compareTo = clampBounds[(dimension === \"x\" ? 0 : 1) + (direction === 1 ? 0 : 2)];\n    const clampFn = direction === 1 ? Math.min : Math.max;\n    return clampFn(value, compareTo);\n  }\n  calculateAxisDimensions(opts) {\n    var _a, _b, _c, _d;\n    const { axis, seriesRect, paddedBounds, axisWidths, newAxisWidths, primaryTickCounts, addInterAxisPadding } = opts;\n    let { clipSeries } = opts;\n    const { position = \"left\", direction } = axis;\n    const isCategory = axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis;\n    const isLeftRight = position === \"left\" || position === \"right\";\n    const axisOffset = (_a = newAxisWidths[position]) != null ? _a : 0;\n    const { min, max } = this.ctx.zoomManager.getAxisZoom(axis.id);\n    if (isLeftRight) {\n      if (isCategory) {\n        axis.range = [0, seriesRect.height];\n        axis.visibleRange = [1 - max, 1 - min];\n      } else {\n        axis.range = [seriesRect.height, 0];\n        axis.visibleRange = [min, max];\n      }\n      axis.gridLength = seriesRect.width;\n    } else {\n      axis.range = [0, seriesRect.width];\n      axis.visibleRange = [min, max];\n      axis.gridLength = seriesRect.height;\n    }\n    let primaryTickCount = axis.nice ? primaryTickCounts[direction] : void 0;\n    const isVertical = direction === \"y\" /* Y */;\n    const paddedBoundsCoefficient = 0.3;\n    if (axis.thickness) {\n      axis.maxThickness = axis.thickness;\n    } else {\n      axis.maxThickness = (isVertical ? paddedBounds.width : paddedBounds.height) * paddedBoundsCoefficient;\n    }\n    const layout = axis.calculateLayout(primaryTickCount);\n    primaryTickCount = layout.primaryTickCount;\n    (_b = primaryTickCounts[direction]) != null ? _b : primaryTickCounts[direction] = primaryTickCount;\n    clipSeries || (clipSeries = axis.dataDomain.clipped || axis.visibleRange[0] > 0 || axis.visibleRange[1] < 1);\n    let axisThickness;\n    if (axis.thickness != null && axis.thickness > 0) {\n      axisThickness = axis.thickness;\n    } else {\n      const { bbox } = layout;\n      axisThickness = isVertical ? bbox.width : bbox.height;\n    }\n    const axisPadding = 15;\n    if (addInterAxisPadding) {\n      axisThickness += axisPadding;\n    }\n    axisThickness = Math.ceil(axisThickness);\n    newAxisWidths[position] = ((_c = newAxisWidths[position]) != null ? _c : 0) + axisThickness;\n    axis.gridPadding = ((_d = axisWidths[position]) != null ? _d : 0) - newAxisWidths[position];\n    return { clipSeries, axisThickness, axisOffset, primaryTickCount };\n  }\n  positionAxis(opts) {\n    var _a, _b, _c, _d;\n    const { axis, axisBound, axisWidths, seriesRect, axisOffset, axisThickness } = opts;\n    const { position } = axis;\n    switch (position) {\n      case \"top\":\n        axis.translation.x = axisBound.x + ((_a = axisWidths.left) != null ? _a : 0);\n        axis.translation.y = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.y + 1 + axisOffset + axisThickness,\n          \"y\",\n          1\n        );\n        break;\n      case \"bottom\":\n        axis.translation.x = axisBound.x + ((_b = axisWidths.left) != null ? _b : 0);\n        axis.translation.y = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.y + axisBound.height + 1 - axisThickness - axisOffset,\n          \"y\",\n          -1\n        );\n        break;\n      case \"left\":\n        axis.translation.y = axisBound.y + ((_c = axisWidths.top) != null ? _c : 0);\n        axis.translation.x = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.x + axisOffset + axisThickness,\n          \"x\",\n          1\n        );\n        break;\n      case \"right\":\n        axis.translation.y = axisBound.y + ((_d = axisWidths.top) != null ? _d : 0);\n        axis.translation.x = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.x + axisBound.width - axisThickness - axisOffset,\n          \"x\",\n          -1\n        );\n        break;\n    }\n    axis.updatePosition({ rotation: toRadians(axis.rotation), sideFlag: axis.label.getSideFlag() });\n  }\n  shouldFlipXY() {\n    return !this.series.some((series) => !(series instanceof CartesianSeries && series.shouldFlipXY()));\n  }\n};\n_CartesianChart.className = \"CartesianChart\";\n_CartesianChart.type = \"cartesian\";\nvar CartesianChart = _CartesianChart;\n\n// packages/ag-charts-community/src/chart/chartProxy.ts\nvar _AgChartInstanceProxy = class _AgChartInstanceProxy {\n  static isInstance(x) {\n    var _a;\n    if (x instanceof _AgChartInstanceProxy) {\n      return true;\n    }\n    if (((_a = x.constructor) == null ? void 0 : _a.name) === \"AgChartInstanceProxy\" && x.chart != null) {\n      return true;\n    }\n    return x.chart != null && this.validateImplementation(x);\n  }\n  static validateImplementation(x) {\n    var _a;\n    const chartProps = [\"getOptions\", \"destroy\"];\n    const signatureProps = Object.keys((_a = Object.getPrototypeOf(x)) != null ? _a : {});\n    return chartProps.every((prop) => signatureProps.includes(prop));\n  }\n  constructor(chart) {\n    this.chart = chart;\n  }\n  getOptions() {\n    return deepClone(this.chart.getOptions());\n  }\n  resetAnimations() {\n    this.chart.resetAnimations();\n  }\n  skipAnimations() {\n    this.chart.skipAnimations();\n  }\n  destroy() {\n    this.chart.destroy();\n  }\n};\n_AgChartInstanceProxy.chartInstances = /* @__PURE__ */ new WeakMap();\n__decorateClass([\n  ActionOnSet({\n    oldValue(chart) {\n      _AgChartInstanceProxy.chartInstances.delete(chart);\n    },\n    newValue(chart) {\n      _AgChartInstanceProxy.chartInstances.set(chart, this);\n    }\n  })\n], _AgChartInstanceProxy.prototype, \"chart\", 2);\nvar AgChartInstanceProxy = _AgChartInstanceProxy;\n\n// packages/ag-charts-community/src/scale/linearScale.ts\nvar LinearScale = class extends ContinuousScale {\n  constructor() {\n    super([0, 1], [0, 1]);\n    this.type = \"number\";\n  }\n  toDomain(d) {\n    return d;\n  }\n  ticks() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    if (!this.domain || this.domain.length < 2 || count < 1 || this.domain.some((d) => !isFinite(d))) {\n      return [];\n    }\n    this.refresh();\n    const [d0, d1] = this.getDomain();\n    const { interval } = this;\n    if (interval) {\n      const step = Math.abs(interval);\n      const availableRange = this.getPixelRange();\n      if (!isDenseInterval({ start: d0, stop: d1, interval: step, availableRange })) {\n        return range(d0, d1, step);\n      }\n    }\n    return ticks_default(d0, d1, count, this.minTickCount, this.maxTickCount);\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  getTickStep(start, stop) {\n    var _a, _b;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    return (_b = this.interval) != null ? _b : tickStep(start, stop, count, this.minTickCount, this.maxTickCount);\n  }\n  /**\n   * Extends the domain so that it starts and ends on nice round values.\n   */\n  updateNiceDomain() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    if (count < 1) {\n      this.niceDomain = [...this.domain];\n      return;\n    }\n    let [start, stop] = this.domain;\n    if (count === 1) {\n      [start, stop] = singleTickDomain(start, stop);\n    } else {\n      const roundStart = start > stop ? Math.ceil : Math.floor;\n      const roundStop = stop < start ? Math.floor : Math.ceil;\n      const maxAttempts = 4;\n      for (let i = 0; i < maxAttempts; i++) {\n        const prev0 = start;\n        const prev1 = stop;\n        const step = this.getTickStep(start, stop);\n        const [d0, d1] = this.domain;\n        if (step >= 1) {\n          start = roundStart(d0 / step) * step;\n          stop = roundStop(d1 / step) * step;\n        } else {\n          const s = 1 / step;\n          start = roundStart(d0 * s) / s;\n          stop = roundStop(d1 * s) / s;\n        }\n        if (start === prev0 && stop === prev1) {\n          break;\n        }\n      }\n    }\n    this.niceDomain = [start, stop];\n  }\n  tickFormat({ ticks: specifiedTicks, specifier }) {\n    return tickFormat(specifiedTicks != null ? specifiedTicks : this.ticks(), specifier);\n  }\n};\n\n// packages/ag-charts-community/src/util/secondaryAxisTicks.ts\nfunction calculateNiceSecondaryAxis(domain, primaryTickCount, reverse) {\n  let [start, stop] = findMinMax(domain);\n  start = calculateNiceStart(Math.floor(start), stop, primaryTickCount);\n  const step = getTickStep(start, stop, primaryTickCount);\n  const segments = primaryTickCount - 1;\n  stop = start + segments * step;\n  const d = reverse ? [stop, start] : [start, stop];\n  const ticks = getTicks(start, step, primaryTickCount);\n  return [d, ticks];\n}\nfunction calculateNiceStart(a, b, count) {\n  const rawStep = Math.abs(b - a) / (count - 1);\n  const order = Math.floor(Math.log10(rawStep));\n  const magnitude = Math.pow(10, order);\n  return Math.floor(a / magnitude) * magnitude;\n}\nfunction getTicks(start, step, count) {\n  const stepPower = Math.floor(Math.log10(step));\n  const fractionDigits = step > 0 && step < 1 ? Math.abs(stepPower) : 0;\n  const f = Math.pow(10, fractionDigits);\n  const ticks = createNumericTicks(fractionDigits);\n  for (let i = 0; i < count; i++) {\n    const tick = start + step * i;\n    ticks[i] = Math.round(tick * f) / f;\n  }\n  return ticks;\n}\nfunction getTickStep(start, stop, count) {\n  const segments = count - 1;\n  const rawStep = (stop - start) / segments;\n  return calculateNextNiceStep(rawStep);\n}\nfunction calculateNextNiceStep(rawStep) {\n  const order = Math.floor(Math.log10(rawStep));\n  const magnitude = Math.pow(10, order);\n  const step = rawStep / magnitude * 10;\n  if (step > 0 && step <= 1) {\n    return magnitude / 10;\n  }\n  if (step > 1 && step <= 2) {\n    return 2 * magnitude / 10;\n  }\n  if (step > 1 && step <= 5) {\n    return 5 * magnitude / 10;\n  }\n  if (step > 5 && step <= 10) {\n    return 10 * magnitude / 10;\n  }\n  if (step > 10 && step <= 20) {\n    return 20 * magnitude / 10;\n  }\n  if (step > 20 && step <= 40) {\n    return 40 * magnitude / 10;\n  }\n  if (step > 40 && step <= 50) {\n    return 50 * magnitude / 10;\n  }\n  if (step > 50 && step <= 100) {\n    return 100 * magnitude / 10;\n  }\n  return step;\n}\n\n// packages/ag-charts-community/src/chart/axis/numberAxis.ts\nvar NumberAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n    this.maxSpacing = NaN;\n  }\n};\n__decorateClass([\n  Validate(MIN_SPACING),\n  Default(NaN)\n], NumberAxisTick.prototype, \"minSpacing\", 2);\n__decorateClass([\n  Validate(MAX_SPACING),\n  Default(NaN)\n], NumberAxisTick.prototype, \"maxSpacing\", 2);\nvar NumberAxis = class extends CartesianAxis {\n  constructor(moduleCtx, scale2 = new LinearScale()) {\n    super(moduleCtx, scale2);\n    this.min = NaN;\n    this.max = NaN;\n  }\n  normaliseDataDomain(d) {\n    const { min, max } = this;\n    const { extent: extent2, clipped } = normalisedExtentWithMetadata(d, min, max);\n    return { domain: extent2, clipped };\n  }\n  createTick() {\n    return new NumberAxisTick();\n  }\n  updateSecondaryAxisTicks(primaryTickCount) {\n    if (this.dataDomain == null) {\n      throw new Error(\"AG Charts - dataDomain not calculated, cannot perform tick calculation.\");\n    }\n    if (this.dataDomain.domain.length === 0)\n      return [];\n    const [d, ticks] = calculateNiceSecondaryAxis(this.dataDomain.domain, primaryTickCount != null ? primaryTickCount : 0, this.reverse);\n    this.scale.nice = false;\n    this.scale.domain = d;\n    this.scale.update();\n    return ticks;\n  }\n  formatDatum(datum) {\n    if (typeof datum === \"number\") {\n      return datum.toFixed(2);\n    } else {\n      return String(datum);\n    }\n  }\n};\nNumberAxis.className = \"NumberAxis\";\nNumberAxis.type = \"number\";\n__decorateClass([\n  Validate(AND(NUMBER_OR_NAN, LESS_THAN(\"max\"))),\n  Default(NaN)\n], NumberAxis.prototype, \"min\", 2);\n__decorateClass([\n  Validate(AND(NUMBER_OR_NAN, GREATER_THAN(\"min\"))),\n  Default(NaN)\n], NumberAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/axis/logAxis.ts\nvar NON_ZERO_NUMBER = predicateWithMessage((value) => isNumber(value) && value !== 0, \"a non-zero number\");\nvar LogAxis = class extends NumberAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new LogScale());\n    this.min = NaN;\n    this.max = NaN;\n  }\n  normaliseDataDomain(d) {\n    const { min, max } = this;\n    const { extent: extent2, clipped } = normalisedExtentWithMetadata(d, min, max);\n    const isInverted = extent2[0] > extent2[1];\n    const crossesZero = extent2[0] < 0 && extent2[1] > 0;\n    const hasZeroExtent = extent2[0] === 0 && extent2[1] === 0;\n    const invalidDomain = isInverted || crossesZero || hasZeroExtent;\n    if (invalidDomain) {\n      if (crossesZero) {\n        Logger.warn(\n          `the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information.`\n        );\n      } else if (hasZeroExtent) {\n        Logger.warn(`the data domain has 0 extent, no data is rendered.`);\n      }\n    }\n    if (extent2[0] === 0) {\n      extent2[0] = 1;\n    }\n    if (extent2[1] === 0) {\n      extent2[1] = -1;\n    }\n    return { domain: extent2, clipped };\n  }\n  set base(value) {\n    this.scale.base = value;\n  }\n  get base() {\n    return this.scale.base;\n  }\n};\nLogAxis.className = \"LogAxis\";\nLogAxis.type = \"log\";\n__decorateClass([\n  Validate(AND(NUMBER_OR_NAN, NON_ZERO_NUMBER, LESS_THAN(\"max\"))),\n  Default(NaN)\n], LogAxis.prototype, \"min\", 2);\n__decorateClass([\n  Validate(AND(NUMBER_OR_NAN, NON_ZERO_NUMBER, GREATER_THAN(\"min\"))),\n  Default(NaN)\n], LogAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/axis/timeAxis.ts\nvar TimeAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n    this.maxSpacing = NaN;\n  }\n};\n__decorateClass([\n  Validate(MIN_SPACING),\n  Default(NaN)\n], TimeAxisTick.prototype, \"minSpacing\", 2);\n__decorateClass([\n  Validate(MAX_SPACING),\n  Default(NaN)\n], TimeAxisTick.prototype, \"maxSpacing\", 2);\nvar TimeAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new TimeScale());\n    this.min = void 0;\n    this.max = void 0;\n    this.refreshScale();\n  }\n  normaliseDataDomain(d) {\n    var _a;\n    let { min, max } = this;\n    let clipped = false;\n    if (typeof min === \"number\") {\n      min = new Date(min);\n    }\n    if (typeof max === \"number\") {\n      max = new Date(max);\n    }\n    if (d.length > 2) {\n      d = ((_a = extent(d)) != null ? _a : [0, 1e3]).map((x) => new Date(x));\n    }\n    if (min instanceof Date) {\n      clipped || (clipped = min > d[0]);\n      d = [min, d[1]];\n    }\n    if (max instanceof Date) {\n      clipped || (clipped = max < d[1]);\n      d = [d[0], max];\n    }\n    if (d[0] > d[1]) {\n      d = [];\n    }\n    return { domain: d, clipped };\n  }\n  createTick() {\n    return new TimeAxisTick();\n  }\n  onLabelFormatChange(ticks, domain, format2) {\n    if (format2) {\n      super.onLabelFormatChange(ticks, domain, format2);\n    } else {\n      this.labelFormatter = this.scale.tickFormat({ ticks, domain });\n    }\n  }\n  calculatePadding() {\n    return [0, 0];\n  }\n  formatDatum(datum) {\n    var _a;\n    const formatter = this.scale.tickFormat({\n      specifier: \"%m/%d/%y, %H:%M:%S\"\n    });\n    return (_a = this.moduleCtx.callbackCache.call(formatter, datum)) != null ? _a : String(datum);\n  }\n};\nTimeAxis.className = \"TimeAxis\";\nTimeAxis.type = \"time\";\n__decorateClass([\n  Validate(AND(DATE_OR_DATETIME_MS, LESS_THAN(\"max\")), { optional: true })\n], TimeAxis.prototype, \"min\", 2);\n__decorateClass([\n  Validate(AND(DATE_OR_DATETIME_MS, GREATER_THAN(\"min\")), { optional: true })\n], TimeAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/scene/shape/rect.ts\nvar epsilon = 1e-6;\nvar cornerEdges = (leadingEdge, trailingEdge, leadingInset, trailingInset, cornerRadius) => {\n  let leadingClipped = false;\n  let trailingClipped = false;\n  let leading0 = trailingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(leadingInset, 2), 0));\n  let leading1 = 0;\n  let trailing0 = 0;\n  let trailing1 = leadingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(trailingInset, 2), 0));\n  if (leading0 > leadingEdge) {\n    leadingClipped = true;\n    leading0 = leadingEdge;\n    leading1 = leadingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(trailingInset - leadingEdge, 2)));\n  } else if (leading0 < epsilon) {\n    leading0 = 0;\n  }\n  if (trailing1 > trailingEdge) {\n    trailingClipped = true;\n    trailing0 = trailingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(leadingInset - trailingEdge, 2)));\n    trailing1 = trailingEdge;\n  } else if (trailing1 < epsilon) {\n    trailing1 = 0;\n  }\n  return { leading0, leading1, trailing0, trailing1, leadingClipped, trailingClipped };\n};\nvar drawCorner = (path, { x0, y0, x1, y1, cx, cy }, cornerRadius, move) => {\n  if (move) {\n    path.moveTo(x0, y0);\n  }\n  if (x0 !== x1 || y0 !== y1) {\n    const r0 = Math.atan2(y0 - cy, x0 - cx);\n    const r1 = Math.atan2(y1 - cy, x1 - cx);\n    path.arc(cx, cy, cornerRadius, r0, r1);\n  } else {\n    path.lineTo(x0, y0);\n  }\n};\nvar insetCornerRadiusRect = (path, x, y, width, height, cornerRadii, clipBBox) => {\n  let {\n    topLeft: topLeftCornerRadius,\n    topRight: topRightCornerRadius,\n    bottomRight: bottomRightCornerRadius,\n    bottomLeft: bottomLeftCornerRadius\n  } = cornerRadii;\n  const maxVerticalCornerRadius = Math.max(\n    topLeftCornerRadius + bottomLeftCornerRadius,\n    topRightCornerRadius + bottomRightCornerRadius\n  );\n  const maxHorizontalCornerRadius = Math.max(\n    topLeftCornerRadius + topRightCornerRadius,\n    bottomLeftCornerRadius + bottomRightCornerRadius\n  );\n  if (maxVerticalCornerRadius <= 0 && maxHorizontalCornerRadius <= 0) {\n    if (clipBBox == null) {\n      path.rect(x, y, width, height);\n    } else {\n      path.rect(clipBBox.x, clipBBox.y, clipBBox.width, clipBBox.height);\n    }\n    return;\n  } else if (clipBBox == null && topLeftCornerRadius === topRightCornerRadius && topLeftCornerRadius === bottomRightCornerRadius && topLeftCornerRadius === bottomLeftCornerRadius) {\n    path.roundRect(x, y, width, height, topLeftCornerRadius);\n    return;\n  }\n  if (width < 0) {\n    x += width;\n    width = Math.abs(width);\n  }\n  if (height < 0) {\n    y += height;\n    height = Math.abs(height);\n  }\n  if (width <= 0 || height <= 0)\n    return;\n  if (clipBBox == null) {\n    clipBBox = new BBox(x, y, width, height);\n  } else {\n    const x0 = Math.max(x, clipBBox.x);\n    const x1 = Math.min(x + width, clipBBox.x + clipBBox.width);\n    const y0 = Math.max(y, clipBBox.y);\n    const y1 = Math.min(y + height, clipBBox.y + clipBBox.height);\n    clipBBox = new BBox(x0, y0, x1 - x0, y1 - y0);\n  }\n  const borderScale = Math.max(maxVerticalCornerRadius / height, maxHorizontalCornerRadius / width, 1);\n  if (borderScale > 1) {\n    topLeftCornerRadius /= borderScale;\n    topRightCornerRadius /= borderScale;\n    bottomRightCornerRadius /= borderScale;\n    bottomLeftCornerRadius /= borderScale;\n  }\n  let drawTopLeftCorner = true;\n  let drawTopRightCorner = true;\n  let drawBottomRightCorner = true;\n  let drawBottomLeftCorner = true;\n  let topLeftCorner;\n  let topRightCorner;\n  let bottomRightCorner;\n  let bottomLeftCorner;\n  if (drawTopLeftCorner) {\n    const nodes = cornerEdges(\n      clipBBox.height,\n      clipBBox.width,\n      Math.max(x + topLeftCornerRadius - clipBBox.x, 0),\n      Math.max(y + topLeftCornerRadius - clipBBox.y, 0),\n      topLeftCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawBottomLeftCorner = false;\n    if (nodes.trailingClipped)\n      drawTopRightCorner = false;\n    const x0 = Math.max(clipBBox.x + nodes.leading1, clipBBox.x);\n    const y0 = Math.max(clipBBox.y + nodes.leading0, clipBBox.y);\n    const x1 = Math.max(clipBBox.x + nodes.trailing1, clipBBox.x);\n    const y1 = Math.max(clipBBox.y + nodes.trailing0, clipBBox.y);\n    const cx = x + topLeftCornerRadius;\n    const cy = y + topLeftCornerRadius;\n    topLeftCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  if (drawTopRightCorner) {\n    const nodes = cornerEdges(\n      clipBBox.width,\n      clipBBox.height,\n      Math.max(y + topRightCornerRadius - clipBBox.y, 0),\n      Math.max(clipBBox.x + clipBBox.width - (x + width - topRightCornerRadius), 0),\n      topRightCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawTopLeftCorner = false;\n    if (nodes.trailingClipped)\n      drawBottomRightCorner = false;\n    const x0 = Math.min(clipBBox.x + clipBBox.width - nodes.leading0, clipBBox.x + clipBBox.width);\n    const y0 = Math.max(clipBBox.y + nodes.leading1, clipBBox.y);\n    const x1 = Math.min(clipBBox.x + clipBBox.width - nodes.trailing0, clipBBox.x + clipBBox.width);\n    const y1 = Math.max(clipBBox.y + nodes.trailing1, clipBBox.y);\n    const cx = x + width - topRightCornerRadius;\n    const cy = y + topRightCornerRadius;\n    topRightCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  if (drawBottomRightCorner) {\n    const nodes = cornerEdges(\n      clipBBox.height,\n      clipBBox.width,\n      Math.max(clipBBox.x + clipBBox.width - (x + width - bottomRightCornerRadius), 0),\n      Math.max(clipBBox.y + clipBBox.height - (y + height - bottomRightCornerRadius), 0),\n      bottomRightCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawTopRightCorner = false;\n    if (nodes.trailingClipped)\n      drawBottomLeftCorner = false;\n    const x0 = Math.min(clipBBox.x + clipBBox.width - nodes.leading1, clipBBox.x + clipBBox.width);\n    const y0 = Math.min(clipBBox.y + clipBBox.height - nodes.leading0, clipBBox.y + clipBBox.height);\n    const x1 = Math.min(clipBBox.x + clipBBox.width - nodes.trailing1, clipBBox.x + clipBBox.width);\n    const y1 = Math.min(clipBBox.y + clipBBox.height - nodes.trailing0, clipBBox.y + clipBBox.height);\n    const cx = x + width - bottomRightCornerRadius;\n    const cy = y + height - bottomRightCornerRadius;\n    bottomRightCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  if (drawBottomLeftCorner) {\n    const nodes = cornerEdges(\n      clipBBox.width,\n      clipBBox.height,\n      Math.max(clipBBox.y + clipBBox.height - (y + height - bottomLeftCornerRadius), 0),\n      Math.max(x + bottomLeftCornerRadius - clipBBox.x, 0),\n      bottomLeftCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawBottomRightCorner = false;\n    if (nodes.trailingClipped)\n      drawTopLeftCorner = false;\n    const x0 = Math.max(clipBBox.x + nodes.leading0, clipBBox.x);\n    const y0 = Math.min(clipBBox.y + clipBBox.height - nodes.leading1, clipBBox.y + clipBBox.height);\n    const x1 = Math.max(clipBBox.x + nodes.trailing0, clipBBox.x);\n    const y1 = Math.min(clipBBox.y + clipBBox.height - nodes.trailing1, clipBBox.y + clipBBox.height);\n    const cx = x + bottomLeftCornerRadius;\n    const cy = y + height - bottomLeftCornerRadius;\n    bottomLeftCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  let didMove = false;\n  if (drawTopLeftCorner && topLeftCorner != null) {\n    drawCorner(path, topLeftCorner, topLeftCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawTopRightCorner && topRightCorner != null) {\n    drawCorner(path, topRightCorner, topRightCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawBottomRightCorner && bottomRightCorner != null) {\n    drawCorner(path, bottomRightCorner, bottomRightCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawBottomLeftCorner && bottomLeftCorner != null) {\n    drawCorner(path, bottomLeftCorner, bottomLeftCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  path.closePath();\n};\nvar Rect = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.borderPath = new ExtendedPath2D();\n    this.x = 0;\n    this.y = 0;\n    this.width = 10;\n    this.height = 10;\n    this.topLeftCornerRadius = 0;\n    this.topRightCornerRadius = 0;\n    this.bottomRightCornerRadius = 0;\n    this.bottomLeftCornerRadius = 0;\n    this.clipBBox = void 0;\n    this.crisp = false;\n    this.lastUpdatePathStrokeWidth = Shape.defaultStyles.strokeWidth;\n    this.effectiveStrokeWidth = Shape.defaultStyles.strokeWidth;\n    this.hittester = super.isPointInPath;\n    this.distanceCalculator = super.distanceSquared;\n    /**\n     * When the rectangle's width or height is less than a pixel\n     * and crisp mode is on, the rectangle will still fit into the pixel,\n     * but will be less opaque to make an effect of holding less space.\n     */\n    this.microPixelEffectOpacity = 1;\n  }\n  set cornerRadius(cornerRadius) {\n    this.topLeftCornerRadius = cornerRadius;\n    this.topRightCornerRadius = cornerRadius;\n    this.bottomRightCornerRadius = cornerRadius;\n    this.bottomLeftCornerRadius = cornerRadius;\n  }\n  isDirtyPath() {\n    return this.lastUpdatePathStrokeWidth !== this.strokeWidth || Boolean(this.path.isDirty() || this.borderPath.isDirty());\n  }\n  updatePath() {\n    var _a, _b, _c;\n    const {\n      path,\n      borderPath,\n      crisp,\n      topLeftCornerRadius: topLeft,\n      topRightCornerRadius: topRight,\n      bottomRightCornerRadius: bottomRight,\n      bottomLeftCornerRadius: bottomLeft\n    } = this;\n    let { x, y, width: w, height: h, strokeWidth, clipBBox } = this;\n    const pixelRatio = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas.pixelRatio) != null ? _b : 1;\n    const pixelSize = 1 / pixelRatio;\n    let microPixelEffectOpacity = 1;\n    path.clear(true);\n    borderPath.clear(true);\n    if (crisp) {\n      if (w <= pixelSize) {\n        microPixelEffectOpacity *= w / pixelSize;\n      }\n      if (h <= pixelSize) {\n        microPixelEffectOpacity *= h / pixelSize;\n      }\n      w = this.align(x, w);\n      h = this.align(y, h);\n      x = this.align(x);\n      y = this.align(y);\n      clipBBox = clipBBox != null ? new BBox(\n        this.align(clipBBox.x),\n        this.align(clipBBox.y),\n        this.align(clipBBox.x, clipBBox.width),\n        this.align(clipBBox.y, clipBBox.height)\n      ) : void 0;\n    }\n    if (strokeWidth) {\n      if (w < pixelSize) {\n        const lx = x + pixelSize / 2;\n        borderPath.moveTo(lx, y);\n        borderPath.lineTo(lx, y + h);\n        strokeWidth = pixelSize;\n        this.borderClipPath = void 0;\n      } else if (h < pixelSize) {\n        const ly = y + pixelSize / 2;\n        borderPath.moveTo(x, ly);\n        borderPath.lineTo(x + w, ly);\n        strokeWidth = pixelSize;\n        this.borderClipPath = void 0;\n      } else if (strokeWidth < w && strokeWidth < h) {\n        const halfStrokeWidth = strokeWidth / 2;\n        x += halfStrokeWidth;\n        y += halfStrokeWidth;\n        w -= strokeWidth;\n        h -= strokeWidth;\n        const adjustedClipBBox = clipBBox == null ? void 0 : clipBBox.clone().shrink(halfStrokeWidth);\n        const cornerRadii = {\n          topLeft: topLeft > 0 ? topLeft - strokeWidth : 0,\n          topRight: topRight > 0 ? topRight - strokeWidth : 0,\n          bottomRight: bottomRight > 0 ? bottomRight - strokeWidth : 0,\n          bottomLeft: bottomLeft > 0 ? bottomLeft - strokeWidth : 0\n        };\n        this.borderClipPath = void 0;\n        if (w > 0 && h > 0 && (adjustedClipBBox == null || (adjustedClipBBox == null ? void 0 : adjustedClipBBox.width) > 0 && (adjustedClipBBox == null ? void 0 : adjustedClipBBox.height) > 0)) {\n          insetCornerRadiusRect(path, x, y, w, h, cornerRadii, adjustedClipBBox);\n          insetCornerRadiusRect(borderPath, x, y, w, h, cornerRadii, adjustedClipBBox);\n        }\n      } else {\n        this.borderClipPath = (_c = this.borderClipPath) != null ? _c : new ExtendedPath2D();\n        this.borderClipPath.clear(true);\n        this.borderClipPath.rect(x, y, w, h);\n        borderPath.rect(x, y, w, h);\n      }\n    } else {\n      const cornerRadii = { topLeft, topRight, bottomRight, bottomLeft };\n      this.borderClipPath = void 0;\n      insetCornerRadiusRect(path, x, y, w, h, cornerRadii, clipBBox);\n    }\n    if ([topLeft, topRight, bottomRight, bottomLeft].every((r) => r === 0)) {\n      this.hittester = (hitX, hitY) => {\n        const point = this.transformPoint(hitX, hitY);\n        return this.getCachedBBox().containsPoint(point.x, point.y);\n      };\n      this.distanceSquared = (hitX, hitY) => this.getCachedBBox().distanceSquared(hitX, hitY);\n    } else {\n      this.hittester = super.isPointInPath;\n      this.distanceCalculator = super.distanceSquared;\n    }\n    this.effectiveStrokeWidth = strokeWidth;\n    this.lastUpdatePathStrokeWidth = strokeWidth;\n    this.microPixelEffectOpacity = microPixelEffectOpacity;\n  }\n  computeBBox() {\n    var _a;\n    const { x, y, width, height, clipBBox } = this;\n    return (_a = clipBBox == null ? void 0 : clipBBox.clone()) != null ? _a : new BBox(x, y, width, height);\n  }\n  isPointInPath(x, y) {\n    return this.hittester(x, y);\n  }\n  get midPoint() {\n    return { x: this.x + this.width / 2, y: this.y + this.height / 2 };\n  }\n  distanceSquared(x, y) {\n    return this.distanceCalculator(x, y);\n  }\n  applyFillAlpha(ctx) {\n    const { fillOpacity, microPixelEffectOpacity, opacity } = this;\n    ctx.globalAlpha *= opacity * fillOpacity * microPixelEffectOpacity;\n  }\n  renderStroke(ctx) {\n    const { stroke, effectiveStrokeWidth } = this;\n    if (stroke && effectiveStrokeWidth) {\n      const { globalAlpha } = ctx;\n      const {\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        lineCap,\n        lineJoin,\n        borderPath,\n        borderClipPath,\n        opacity,\n        microPixelEffectOpacity\n      } = this;\n      if (borderClipPath) {\n        ctx.clip(borderClipPath.getPath2D());\n      }\n      ctx.strokeStyle = stroke;\n      ctx.globalAlpha *= opacity * strokeOpacity * microPixelEffectOpacity;\n      ctx.lineWidth = effectiveStrokeWidth;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      ctx.stroke(borderPath.getPath2D());\n      ctx.globalAlpha = globalAlpha;\n    }\n  }\n};\nRect.className = \"Rect\";\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"x\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"y\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"width\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"height\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"topLeftCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"topRightCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"bottomRightCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"bottomLeftCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"clipBBox\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"crisp\", 2);\n\n// packages/ag-charts-community/src/chart/background/background.ts\nvar Background = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.node = new Group({ name: \"background\", zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */ });\n    this.rectNode = new Rect();\n    this.visible = true;\n    this.fill = \"white\";\n    this.node.appendChild(this.rectNode);\n    this.destroyFns.push(\n      ctx.scene.attachNode(this.node),\n      ctx.layoutService.addListener(\"layout-complete\", (e) => this.onLayoutComplete(e))\n    );\n  }\n  onLayoutComplete(e) {\n    const { width, height } = e.chart;\n    this.rectNode.width = width;\n    this.rectNode.height = height;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN),\n  ProxyPropertyOnWrite(\"node\", \"visible\")\n], Background.prototype, \"visible\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true }),\n  ProxyPropertyOnWrite(\"rectNode\", \"fill\")\n], Background.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(OBJECT, { optional: true })\n], Background.prototype, \"image\", 2);\n\n// packages/ag-charts-community/src/chart/background/backgroundModule.ts\nvar BackgroundModule = {\n  type: \"root\",\n  optionsKey: \"background\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  instanceConstructor: Background\n};\n\n// packages/ag-charts-community/src/chart/gridLayout.ts\nfunction gridLayout({\n  orientation,\n  bboxes,\n  maxHeight,\n  maxWidth,\n  itemPaddingY = 0,\n  itemPaddingX = 0,\n  forceResult = false\n}) {\n  const horizontal = orientation === \"horizontal\";\n  const primary = {\n    max: horizontal ? maxWidth : maxHeight,\n    fn: horizontal ? (b) => b.width : (b) => b.height,\n    padding: horizontal ? itemPaddingX : itemPaddingY\n  };\n  const secondary = {\n    max: horizontal ? maxHeight : maxWidth,\n    fn: horizontal ? (b) => b.height : (b) => b.width,\n    padding: horizontal ? itemPaddingY : itemPaddingX\n  };\n  let processedBBoxCount = 0;\n  const rawPages = [];\n  while (processedBBoxCount < bboxes.length) {\n    const unprocessedBBoxes = bboxes.slice(processedBBoxCount);\n    const result = processBBoxes(unprocessedBBoxes, processedBBoxCount, primary, secondary, forceResult);\n    if (!result) {\n      return;\n    }\n    processedBBoxCount += result.processedBBoxCount;\n    rawPages.push(result.pageIndices);\n  }\n  return buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX);\n}\nfunction processBBoxes(bboxes, indexOffset, primary, secondary, forceResult) {\n  const minGuess = 1;\n  let startingGuess = estimateStartingGuess(bboxes, primary);\n  if (startingGuess < minGuess) {\n    if (!forceResult) {\n      return;\n    }\n    startingGuess = minGuess;\n  }\n  let guess = startingGuess;\n  while (guess >= minGuess) {\n    const pageIndices = calculatePage(bboxes, indexOffset, guess, primary, secondary, forceResult);\n    if (pageIndices == null && guess <= minGuess) {\n      return;\n    }\n    if (pageIndices == null) {\n      guess--;\n      continue;\n    }\n    if (typeof pageIndices === \"number\") {\n      if (pageIndices <= minGuess) {\n        return;\n      }\n      guess = pageIndices < guess && pageIndices > minGuess ? pageIndices : guess;\n      guess--;\n      continue;\n    }\n    const processedBBoxCount = pageIndices.length * pageIndices[0].length;\n    return { processedBBoxCount, pageIndices };\n  }\n}\nfunction calculatePage(bboxes, indexOffset, primaryCount, primary, secondary, forceResult) {\n  var _a;\n  const result = [];\n  let sumSecondary = 0;\n  let currentMaxSecondary = 0;\n  let currentPrimaryIndices = [];\n  const maxPrimaryValues = [];\n  for (let bboxIndex = 0; bboxIndex < bboxes.length; bboxIndex++) {\n    const primaryValueIdx = (bboxIndex + primaryCount) % primaryCount;\n    if (primaryValueIdx === 0) {\n      sumSecondary += currentMaxSecondary;\n      currentMaxSecondary = 0;\n      if (currentPrimaryIndices.length > 0) {\n        result.push(currentPrimaryIndices);\n      }\n      currentPrimaryIndices = [];\n    }\n    const primaryValue = primary.fn(bboxes[bboxIndex]) + primary.padding;\n    maxPrimaryValues[primaryValueIdx] = Math.max((_a = maxPrimaryValues[primaryValueIdx]) != null ? _a : 0, primaryValue);\n    currentMaxSecondary = Math.max(currentMaxSecondary, secondary.fn(bboxes[bboxIndex]) + secondary.padding);\n    const currentSecondaryDimension = sumSecondary + currentMaxSecondary;\n    const returnResult = !forceResult || result.length > 0;\n    if (currentSecondaryDimension > secondary.max && returnResult) {\n      currentPrimaryIndices = [];\n      break;\n    }\n    const sumPrimary = maxPrimaryValues.reduce((sum2, next) => sum2 + next, 0);\n    if (sumPrimary > primary.max && !forceResult) {\n      if (maxPrimaryValues.length < primaryCount) {\n        return maxPrimaryValues.length;\n      }\n      return;\n    }\n    currentPrimaryIndices.push(bboxIndex + indexOffset);\n  }\n  if (currentPrimaryIndices.length > 0) {\n    result.push(currentPrimaryIndices);\n  }\n  return result.length > 0 ? result : void 0;\n}\nfunction buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX) {\n  let maxPageWidth = 0;\n  let maxPageHeight = 0;\n  const pages = rawPages.map((indices) => {\n    if (orientation === \"horizontal\") {\n      indices = transpose(indices);\n    }\n    let endIndex = 0;\n    const columns = indices.map((colIndices) => {\n      const colBBoxes = colIndices.map((bboxIndex) => {\n        endIndex = Math.max(bboxIndex, endIndex);\n        return bboxes[bboxIndex];\n      });\n      let columnHeight = 0;\n      let columnWidth = 0;\n      colBBoxes.forEach((bbox) => {\n        columnHeight += bbox.height + itemPaddingY;\n        columnWidth = Math.max(columnWidth, bbox.width + itemPaddingX);\n      });\n      return {\n        indices: colIndices,\n        bboxes: colBBoxes,\n        columnHeight: Math.ceil(columnHeight),\n        columnWidth: Math.ceil(columnWidth)\n      };\n    });\n    let pageWidth = 0;\n    let pageHeight = 0;\n    columns.forEach((column) => {\n      pageWidth += column.columnWidth;\n      pageHeight = Math.max(pageHeight, column.columnHeight);\n    });\n    maxPageWidth = Math.max(pageWidth, maxPageWidth);\n    maxPageHeight = Math.max(pageHeight, maxPageHeight);\n    return {\n      columns,\n      startIndex: indices[0][0],\n      endIndex,\n      pageWidth,\n      pageHeight\n    };\n  });\n  return { pages, maxPageWidth, maxPageHeight };\n}\nfunction transpose(data) {\n  const result = [];\n  for (const _ of data[0]) {\n    result.push([]);\n  }\n  data.forEach((innerData, dataIdx) => {\n    innerData.forEach((item, itemIdx) => {\n      result[itemIdx][dataIdx] = item;\n    });\n  });\n  return result;\n}\nfunction estimateStartingGuess(bboxes, primary) {\n  const n = bboxes.length;\n  let primarySum = 0;\n  for (let bboxIndex = 0; bboxIndex < n; bboxIndex++) {\n    primarySum += primary.fn(bboxes[bboxIndex]) + primary.padding;\n    if (primarySum > primary.max) {\n      const ratio = n / bboxIndex;\n      if (ratio < 2) {\n        return Math.ceil(n / 2);\n      }\n      return bboxIndex;\n    }\n  }\n  return n;\n}\n\n// packages/ag-charts-community/src/chart/markerLabel.ts\nvar MarkerLabel = class extends Group {\n  constructor() {\n    super({ name: \"markerLabelGroup\" });\n    this.label = new Text();\n    this.line = new Line();\n    this._marker = new Square();\n    this._markerSize = 15;\n    this._spacing = 8;\n    const { marker, label, line } = this;\n    label.textBaseline = \"middle\";\n    label.fontSize = 12;\n    label.fontFamily = \"Verdana, sans-serif\";\n    label.fill = \"black\";\n    label.y = 1;\n    this.append([line, marker, label]);\n    this.update();\n  }\n  set marker(value) {\n    if (this._marker !== value) {\n      this.removeChild(this._marker);\n      this._marker = value;\n      this.appendChild(value);\n      this.update();\n    }\n  }\n  get marker() {\n    return this._marker;\n  }\n  set markerSize(value) {\n    if (this._markerSize !== value) {\n      this._markerSize = value;\n      this.update();\n    }\n  }\n  get markerSize() {\n    return this._markerSize;\n  }\n  set spacing(value) {\n    if (this._spacing !== value) {\n      this._spacing = value;\n      this.update();\n    }\n  }\n  get spacing() {\n    return this._spacing;\n  }\n  setSeriesStrokeOffset(xOff) {\n    const offset4 = this.marker.size / 2 + xOff;\n    this.line.x1 = -offset4;\n    this.line.x2 = offset4;\n    this.line.y1 = 0;\n    this.line.y2 = 0;\n    this.line.markDirtyTransform();\n    this.update();\n  }\n  update() {\n    const { markerSize } = this;\n    const center = this.marker.constructor.center;\n    this.marker.size = markerSize;\n    this.marker.x = (center.x - 0.5) * markerSize;\n    this.marker.y = (center.y - 0.5) * markerSize;\n    const lineEnd = this.line.visible ? this.line.x2 : -Infinity;\n    const markerEnd = markerSize / 2;\n    this.label.x = Math.max(lineEnd, markerEnd) + this.spacing;\n  }\n  render(renderCtx) {\n    this.marker.opacity = this.opacity;\n    this.label.opacity = this.opacity;\n    this.line.opacity = this.opacity;\n    super.render(renderCtx);\n  }\n};\nMarkerLabel.className = \"MarkerLabel\";\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"text\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontStyle\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontWeight\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontSize\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontFamily\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\", \"fill\")\n], MarkerLabel.prototype, \"color\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"fill\")\n], MarkerLabel.prototype, \"markerFill\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"stroke\")\n], MarkerLabel.prototype, \"markerStroke\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"strokeWidth\")\n], MarkerLabel.prototype, \"markerStrokeWidth\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"fillOpacity\")\n], MarkerLabel.prototype, \"markerFillOpacity\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"strokeOpacity\")\n], MarkerLabel.prototype, \"markerStrokeOpacity\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"visible\")\n], MarkerLabel.prototype, \"markerVisible\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"line\", \"stroke\")\n], MarkerLabel.prototype, \"lineStroke\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"line\", \"strokeWidth\")\n], MarkerLabel.prototype, \"lineStrokeWidth\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"line\", \"strokeOpacity\")\n], MarkerLabel.prototype, \"lineStrokeOpacity\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"line\", \"lineDash\")\n], MarkerLabel.prototype, \"lineLineDash\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"line\", \"visible\")\n], MarkerLabel.prototype, \"lineVisible\", 2);\n\n// packages/ag-charts-community/src/chart/pagination/pagination.ts\nvar PaginationLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.color = \"black\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING)\n], PaginationLabel.prototype, \"color\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], PaginationLabel.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], PaginationLabel.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PaginationLabel.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], PaginationLabel.prototype, \"fontFamily\", 2);\nvar PaginationMarkerStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.size = 15;\n    this.fill = void 0;\n    this.fillOpacity = void 0;\n    this.stroke = void 0;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarkerStyle.prototype, \"size\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], PaginationMarkerStyle.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], PaginationMarkerStyle.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], PaginationMarkerStyle.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarkerStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PaginationMarkerStyle.prototype, \"strokeOpacity\", 2);\nvar PaginationMarker = class extends BaseProperties {\n  constructor(parent) {\n    super();\n    this.parent = parent;\n    this.shape = Triangle;\n    this.size = 15;\n    this.padding = 8;\n  }\n};\n__decorateClass([\n  ActionOnSet({\n    changeValue() {\n      if (this.parent.marker === this) {\n        this.parent.onMarkerShapeChange();\n      }\n    }\n  })\n], PaginationMarker.prototype, \"shape\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarker.prototype, \"size\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarker.prototype, \"padding\", 2);\nvar Pagination = class extends BaseProperties {\n  constructor(chartUpdateCallback, pageUpdateCallback, regionManager, cursorManager) {\n    super();\n    this.chartUpdateCallback = chartUpdateCallback;\n    this.pageUpdateCallback = pageUpdateCallback;\n    this.regionManager = regionManager;\n    this.cursorManager = cursorManager;\n    this.id = createId(this);\n    this.marker = new PaginationMarker(this);\n    this.activeStyle = new PaginationMarkerStyle();\n    this.inactiveStyle = new PaginationMarkerStyle();\n    this.highlightStyle = new PaginationMarkerStyle();\n    this.label = new PaginationLabel();\n    this.group = new Group({ name: \"pagination\" });\n    this.labelNode = new Text();\n    this.destroyFns = [];\n    this.totalPages = 0;\n    this.currentPage = 0;\n    this.translationX = 0;\n    this.translationY = 0;\n    this.nextButtonDisabled = false;\n    this.previousButtonDisabled = false;\n    this._visible = true;\n    this._enabled = true;\n    this._orientation = \"vertical\";\n    this._nextButton = new Triangle();\n    this._previousButton = new Triangle();\n    this.labelNode.setProperties({\n      textBaseline: \"middle\",\n      fontSize: 12,\n      fontFamily: \"Verdana, sans-serif\",\n      fill: \"black\",\n      y: 1\n    });\n    this.group.append([this.nextButton, this.previousButton, this.labelNode]);\n    const region = this.regionManager.addRegion(\"pagination\", this.group);\n    this.destroyFns.push(\n      region.addListener(\"click\", (event) => this.onPaginationClick(event)),\n      region.addListener(\"hover\", (event) => this.onPaginationMouseMove(event))\n    );\n    this.update();\n    this.updateMarkers();\n  }\n  destroy() {\n    this.destroyFns.forEach((f) => f());\n  }\n  set visible(value) {\n    this._visible = value;\n    this.updateGroupVisibility();\n  }\n  get visible() {\n    return this._visible;\n  }\n  set enabled(value) {\n    this._enabled = value;\n    this.updateGroupVisibility();\n  }\n  get enabled() {\n    return this._enabled;\n  }\n  updateGroupVisibility() {\n    this.group.visible = this.enabled && this.visible;\n  }\n  set orientation(value) {\n    this._orientation = value;\n    switch (value) {\n      case \"horizontal\": {\n        this.previousButton.rotation = -Math.PI / 2;\n        this.nextButton.rotation = Math.PI / 2;\n        break;\n      }\n      case \"vertical\":\n      default: {\n        this.previousButton.rotation = 0;\n        this.nextButton.rotation = Math.PI;\n      }\n    }\n  }\n  get orientation() {\n    return this._orientation;\n  }\n  set nextButton(value) {\n    if (this._nextButton !== value) {\n      this.group.removeChild(this._nextButton);\n      this._nextButton = value;\n      this.group.appendChild(value);\n    }\n  }\n  get nextButton() {\n    return this._nextButton;\n  }\n  set previousButton(value) {\n    if (this._previousButton !== value) {\n      this.group.removeChild(this._previousButton);\n      this._previousButton = value;\n      this.group.appendChild(value);\n    }\n  }\n  get previousButton() {\n    return this._previousButton;\n  }\n  update() {\n    this.updateLabel();\n    this.updatePositions();\n    this.enableOrDisableButtons();\n  }\n  updatePositions() {\n    this.group.translationX = this.translationX;\n    this.group.translationY = this.translationY;\n    this.updateLabelPosition();\n    this.updateNextButtonPosition();\n  }\n  updateLabelPosition() {\n    const { size: markerSize, padding: markerPadding } = this.marker;\n    this.nextButton.size = markerSize;\n    this.previousButton.size = markerSize;\n    this.labelNode.x = markerSize / 2 + markerPadding;\n  }\n  updateNextButtonPosition() {\n    const labelBBox = this.labelNode.computeBBox();\n    this.nextButton.translationX = labelBBox.x + labelBBox.width + this.marker.size / 2 + this.marker.padding;\n  }\n  updateLabel() {\n    const {\n      currentPage,\n      totalPages: pages,\n      labelNode,\n      label: { color, fontStyle, fontWeight, fontSize, fontFamily }\n    } = this;\n    labelNode.text = `${currentPage + 1} / ${pages}`;\n    labelNode.fill = color;\n    labelNode.fontStyle = fontStyle;\n    labelNode.fontWeight = fontWeight;\n    labelNode.fontSize = fontSize;\n    labelNode.fontFamily = fontFamily;\n  }\n  updateMarkers() {\n    const {\n      nextButton,\n      previousButton,\n      nextButtonDisabled,\n      previousButtonDisabled,\n      activeStyle,\n      inactiveStyle,\n      highlightStyle,\n      highlightActive\n    } = this;\n    const buttonStyle = (button, disabled) => {\n      if (disabled) {\n        return inactiveStyle;\n      } else if (button === highlightActive) {\n        return highlightStyle;\n      }\n      return activeStyle;\n    };\n    this.updateMarker(nextButton, buttonStyle(\"next\", nextButtonDisabled));\n    this.updateMarker(previousButton, buttonStyle(\"previous\", previousButtonDisabled));\n  }\n  updateMarker(marker, style) {\n    var _a;\n    const { size } = this.marker;\n    marker.size = size;\n    marker.fill = style.fill;\n    marker.fillOpacity = (_a = style.fillOpacity) != null ? _a : 1;\n    marker.stroke = style.stroke;\n    marker.strokeWidth = style.strokeWidth;\n    marker.strokeOpacity = style.strokeOpacity;\n  }\n  enableOrDisableButtons() {\n    const { currentPage, totalPages } = this;\n    const zeroPagesToDisplay = totalPages === 0;\n    const onLastPage = currentPage === totalPages - 1;\n    const onFirstPage = currentPage === 0;\n    this.nextButtonDisabled = onLastPage || zeroPagesToDisplay;\n    this.previousButtonDisabled = onFirstPage || zeroPagesToDisplay;\n  }\n  nextButtonContainsPoint(offsetX, offsetY) {\n    return !this.nextButtonDisabled && this.nextButton.containsPoint(offsetX, offsetY);\n  }\n  previousButtonContainsPoint(offsetX, offsetY) {\n    return !this.previousButtonDisabled && this.previousButton.containsPoint(offsetX, offsetY);\n  }\n  clickNext() {\n    this.incrementPage();\n    this.onPaginationChanged();\n  }\n  clickPrevious() {\n    this.decrementPage();\n    this.onPaginationChanged();\n  }\n  setPage(pageNumber) {\n    pageNumber = clamp(0, pageNumber, this.totalPages - 1);\n    if (this.currentPage !== pageNumber) {\n      this.currentPage = pageNumber;\n      this.onPaginationChanged();\n    }\n  }\n  onPaginationClick(event) {\n    const { offsetX, offsetY } = event;\n    if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n      this.clickNext();\n      event.consume();\n    } else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n      this.clickPrevious();\n      event.consume();\n    }\n  }\n  onPaginationMouseMove(event) {\n    const { offsetX, offsetY } = event;\n    if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n      this.cursorManager.updateCursor(this.id, \"pointer\");\n      this.highlightActive = \"next\";\n    } else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n      this.cursorManager.updateCursor(this.id, \"pointer\");\n      this.highlightActive = \"previous\";\n    } else {\n      this.cursorManager.updateCursor(this.id);\n      this.highlightActive = void 0;\n    }\n    this.updateMarkers();\n    this.chartUpdateCallback(6 /* SCENE_RENDER */);\n  }\n  onPaginationChanged() {\n    this.pageUpdateCallback(this.currentPage);\n  }\n  incrementPage() {\n    this.currentPage = Math.min(this.currentPage + 1, this.totalPages - 1);\n  }\n  decrementPage() {\n    this.currentPage = Math.max(this.currentPage - 1, 0);\n  }\n  onMarkerShapeChange() {\n    const Marker2 = getMarker(this.marker.shape || Triangle);\n    this.previousButton = new Marker2();\n    this.nextButton = new Marker2();\n    this.updatePositions();\n    this.updateMarkers();\n    this.chartUpdateCallback(6 /* SCENE_RENDER */);\n  }\n  attachPagination(node) {\n    node.append(this.group);\n  }\n  computeBBox() {\n    return this.group.computeBBox();\n  }\n};\nPagination.className = \"Pagination\";\n__decorateClass([\n  Validate(OBJECT)\n], Pagination.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Pagination.prototype, \"activeStyle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Pagination.prototype, \"inactiveStyle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Pagination.prototype, \"highlightStyle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Pagination.prototype, \"label\", 2);\n\n// packages/ag-charts-community/src/chart/legend.ts\nvar LegendLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.maxLength = void 0;\n    this.color = \"black\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.formatter = void 0;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendLabel.prototype, \"maxLength\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], LegendLabel.prototype, \"color\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], LegendLabel.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], LegendLabel.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LegendLabel.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], LegendLabel.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], LegendLabel.prototype, \"formatter\", 2);\nvar LegendMarker = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.size = 15;\n    this.padding = 8;\n    this.enabled = true;\n  }\n};\n__decorateClass([\n  ObserveChanges((target) => {\n    var _a;\n    return (_a = target.parent) == null ? void 0 : _a.onMarkerShapeChange();\n  })\n], LegendMarker.prototype, \"shape\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LegendMarker.prototype, \"size\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LegendMarker.prototype, \"padding\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendMarker.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], LegendMarker.prototype, \"enabled\", 2);\nvar LegendLine = class extends BaseProperties {\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendLine.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendLine.prototype, \"length\", 2);\nvar LegendItem = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.paddingX = 16;\n    this.paddingY = 8;\n    this.toggleSeriesVisible = true;\n    this.showSeriesStroke = false;\n    this.marker = new LegendMarker();\n    this.label = new LegendLabel();\n    this.line = new LegendLine();\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendItem.prototype, \"maxWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LegendItem.prototype, \"paddingX\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LegendItem.prototype, \"paddingY\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], LegendItem.prototype, \"toggleSeriesVisible\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], LegendItem.prototype, \"showSeriesStroke\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LegendItem.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LegendItem.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LegendItem.prototype, \"line\", 2);\nvar LegendListeners = class extends BaseProperties {\n};\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], LegendListeners.prototype, \"legendItemClick\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], LegendListeners.prototype, \"legendItemDoubleClick\", 2);\nvar Legend = class extends BaseProperties {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.id = createId(this);\n    this.group = new Group({ name: \"legend\", layer: true, zIndex: 11 /* LEGEND_ZINDEX */ });\n    this.itemSelection = Selection.select(this.group, MarkerLabel);\n    this.oldSize = [0, 0];\n    this.pages = [];\n    this.maxPageSize = [0, 0];\n    /** Item index to track on re-pagination, so current page updates appropriately. */\n    this.paginationTrackingIndex = 0;\n    this.truncatedItems = /* @__PURE__ */ new Set();\n    this._data = [];\n    this.item = new LegendItem();\n    this.listeners = new LegendListeners();\n    this.enabled = true;\n    this.position = \"bottom\";\n    this.spacing = 20;\n    this.characterWidths = /* @__PURE__ */ new Map();\n    this.destroyFns = [];\n    this.size = [0, 0];\n    this._visible = true;\n    this.focus = { mode: \"item\", index: 0 };\n    this.item.marker.parent = this;\n    this.pagination = new Pagination(\n      (type) => ctx.updateService.update(type),\n      (page) => this.updatePageNumber(page),\n      ctx.regionManager,\n      ctx.cursorManager\n    );\n    this.pagination.attachPagination(this.group);\n    this.item.marker.parent = this;\n    const animationState = 16 /* Default */ | 1 /* Animation */;\n    const region = ctx.regionManager.addRegionFromProperties({\n      name: \"legend\",\n      bboxproviders: [this.group],\n      canInteraction: () => this.enabled && this.group.visible\n    });\n    this.destroyFns.push(\n      region.addListener(\"click\", (e) => this.checkLegendClick(e), animationState),\n      region.addListener(\"dblclick\", (e) => this.checkLegendDoubleClick(e), animationState),\n      region.addListener(\"hover\", (e) => this.handleLegendMouseMove(e)),\n      region.addListener(\"leave\", (e) => this.handleLegendMouseExit(e), animationState),\n      region.addListener(\"enter\", (e) => this.handleLegendMouseEnter(e), animationState),\n      region.addListener(\"blur\", (e) => this.onBlur(e)),\n      region.addListener(\"tab\", (e) => this.onTab(e)),\n      region.addListener(\"tab-start\", (e) => this.onTabStart(e)),\n      region.addListener(\"nav-vert\", (e) => this.onNav(e)),\n      region.addListener(\"nav-hori\", (e) => this.onNav(e)),\n      region.addListener(\"submit\", (e) => this.onSubmit(e)),\n      ctx.layoutService.addListener(\"start-layout\", (e) => this.positionLegend(e.shrinkRect)),\n      () => this.detachLegend()\n    );\n  }\n  set data(value) {\n    this._data = value;\n    this.updateGroupVisibility();\n  }\n  get data() {\n    return this._data;\n  }\n  destroy() {\n    this.destroyFns.forEach((f) => f());\n    this.pagination.destroy();\n  }\n  onMarkerShapeChange() {\n    this.itemSelection.clear();\n    this.group.markDirty(this.group, 2 /* MINOR */);\n  }\n  getOrientation() {\n    if (this.orientation !== void 0) {\n      return this.orientation;\n    }\n    switch (this.position) {\n      case \"right\":\n      case \"left\":\n        return \"vertical\";\n      case \"bottom\":\n      case \"top\":\n        return \"horizontal\";\n    }\n  }\n  getCharacterWidths(font) {\n    const { characterWidths } = this;\n    if (characterWidths.has(font)) {\n      return characterWidths.get(font);\n    }\n    const cw = {\n      \"...\": Text.getTextSize(\"...\", font).width\n    };\n    characterWidths.set(font, cw);\n    return cw;\n  }\n  set visible(value) {\n    this._visible = value;\n    this.updateGroupVisibility();\n  }\n  get visible() {\n    return this._visible;\n  }\n  updateGroupVisibility() {\n    this.group.visible = this.enabled && this.visible && this.data.length > 0;\n  }\n  attachLegend(scene) {\n    scene.appendChild(this.group);\n  }\n  detachLegend() {\n    var _a;\n    (_a = this.group.parent) == null ? void 0 : _a.removeChild(this.group);\n  }\n  getItemLabel(datum) {\n    const {\n      ctx: { callbackCache }\n    } = this;\n    const { formatter } = this.item.label;\n    if (formatter) {\n      return callbackCache.call(formatter, {\n        itemId: datum.itemId,\n        value: datum.label.text,\n        seriesId: datum.seriesId\n      });\n    }\n    return datum.label.text;\n  }\n  /**\n   * The method is given the desired size of the legend, which only serves as a hint.\n   * The vertically oriented legend will take as much horizontal space as needed, but will\n   * respect the height constraints, and the horizontal legend will take as much vertical\n   * space as needed in an attempt not to exceed the given width.\n   * After the layout is done, the {@link size} will contain the actual size of the legend.\n   * If the actual size is not the same as the previous actual size, the legend will fire\n   * the 'layoutChange' event to communicate that another layout is needed, and the above\n   * process should be repeated.\n   * @param width\n   * @param height\n   */\n  calcLayout(width, height) {\n    const {\n      paddingX,\n      paddingY,\n      label,\n      maxWidth,\n      marker: { size: markerSize, padding: markerPadding, shape: markerShape },\n      label: { maxLength = Infinity, fontStyle, fontWeight, fontSize, fontFamily },\n      line: itemLine,\n      showSeriesStroke\n    } = this.item;\n    const data = [...this.data];\n    if (this.reverseOrder) {\n      data.reverse();\n    }\n    this.itemSelection.update(data);\n    const bboxes = [];\n    const font = getFont(label);\n    const itemMaxWidthPercentage = 0.8;\n    const maxItemWidth = maxWidth != null ? maxWidth : width * itemMaxWidthPercentage;\n    const paddedMarkerWidth = markerSize + markerPadding + paddingX;\n    this.itemSelection.each((markerLabel, datum) => {\n      var _a, _b, _c;\n      const Marker2 = getMarker(markerShape != null ? markerShape : datum.marker.shape);\n      const markerEnabled = (_a = datum.marker.enabled) != null ? _a : this.item.marker.enabled;\n      if (!(markerLabel.marker && markerLabel.marker instanceof Marker2)) {\n        markerLabel.marker = new Marker2();\n      }\n      markerLabel.markerSize = markerSize;\n      markerLabel.spacing = markerPadding;\n      markerLabel.fontStyle = fontStyle;\n      markerLabel.fontWeight = fontWeight;\n      markerLabel.fontSize = fontSize;\n      markerLabel.fontFamily = fontFamily;\n      const id = (_b = datum.itemId) != null ? _b : datum.id;\n      const labelText = this.getItemLabel(datum);\n      const text = (labelText != null ? labelText : \"<unknown>\").replace(/\\r?\\n/g, \" \");\n      markerLabel.text = this.truncate(text, maxLength, maxItemWidth, paddedMarkerWidth, font, id);\n      if (showSeriesStroke && datum.line !== void 0) {\n        markerLabel.lineVisible = true;\n        markerLabel.markerVisible = markerEnabled;\n        markerLabel.setSeriesStrokeOffset((_c = itemLine.length) != null ? _c : 5);\n      } else {\n        markerLabel.lineVisible = false;\n        markerLabel.markerVisible = true;\n      }\n      bboxes.push(markerLabel.computeBBox());\n    });\n    width = Math.max(1, width);\n    height = Math.max(1, height);\n    if (!isFinite(width)) {\n      return false;\n    }\n    const size = this.size;\n    const oldSize = this.oldSize;\n    size[0] = width;\n    size[1] = height;\n    if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      oldSize[0] = size[0];\n      oldSize[1] = size[1];\n    }\n    const { pages, maxPageHeight, maxPageWidth } = this.updatePagination(bboxes, width, height);\n    this.pages = pages;\n    this.maxPageSize = [maxPageWidth - paddingX, maxPageHeight - paddingY];\n    const pageNumber = this.pagination.currentPage;\n    const page = this.pages[pageNumber];\n    if (this.pages.length < 1 || !page) {\n      this.visible = false;\n      return;\n    }\n    this.visible = true;\n    this.updatePositions(pageNumber);\n    this.update();\n  }\n  truncate(text, maxCharLength, maxItemWidth, paddedMarkerWidth, font, id) {\n    const ellipsis2 = `...`;\n    const textChars = text.split(\"\");\n    let addEllipsis = false;\n    if (text.length > maxCharLength) {\n      text = `${text.substring(0, maxCharLength)}`;\n      addEllipsis = true;\n    }\n    const labelWidth = Math.floor(paddedMarkerWidth + Text.getTextSize(text, font).width);\n    if (labelWidth > maxItemWidth) {\n      let truncatedText = \"\";\n      const characterWidths = this.getCharacterWidths(font);\n      let cumulativeWidth = paddedMarkerWidth + characterWidths[ellipsis2];\n      for (const char of textChars) {\n        if (!characterWidths[char]) {\n          characterWidths[char] = Text.getTextSize(char, font).width;\n        }\n        cumulativeWidth += characterWidths[char];\n        if (cumulativeWidth > maxItemWidth) {\n          break;\n        }\n        truncatedText += char;\n      }\n      text = truncatedText;\n      addEllipsis = true;\n    }\n    if (addEllipsis) {\n      text += ellipsis2;\n      this.truncatedItems.add(id);\n    } else {\n      this.truncatedItems.delete(id);\n    }\n    return text;\n  }\n  updatePagination(bboxes, width, height) {\n    const orientation = this.getOrientation();\n    const trackingIndex = Math.min(this.paginationTrackingIndex, bboxes.length);\n    this.pagination.orientation = orientation;\n    this.pagination.translationX = 0;\n    this.pagination.translationY = 0;\n    const { pages, maxPageHeight, maxPageWidth, paginationBBox, paginationVertical } = this.calculatePagination(\n      bboxes,\n      width,\n      height\n    );\n    const newCurrentPage = pages.findIndex((p) => p.endIndex >= trackingIndex);\n    this.pagination.currentPage = clamp(0, newCurrentPage, pages.length - 1);\n    const { paddingX: itemPaddingX, paddingY: itemPaddingY } = this.item;\n    const paginationComponentPadding = 8;\n    const legendItemsWidth = maxPageWidth - itemPaddingX;\n    const legendItemsHeight = maxPageHeight - itemPaddingY;\n    let paginationX = 0;\n    let paginationY = -paginationBBox.y - this.item.marker.size / 2;\n    if (paginationVertical) {\n      paginationY += legendItemsHeight + paginationComponentPadding;\n    } else {\n      paginationX += -paginationBBox.x + legendItemsWidth + paginationComponentPadding;\n      paginationY += (legendItemsHeight - paginationBBox.height) / 2;\n    }\n    this.pagination.translationX = paginationX;\n    this.pagination.translationY = paginationY;\n    this.pagination.update();\n    this.pagination.updateMarkers();\n    return {\n      maxPageHeight,\n      maxPageWidth,\n      pages\n    };\n  }\n  calculatePagination(bboxes, width, height) {\n    var _a, _b, _c;\n    const { paddingX: itemPaddingX, paddingY: itemPaddingY } = this.item;\n    const orientation = this.getOrientation();\n    const paginationVertical = [\"left\", \"right\"].includes(this.position);\n    let paginationBBox = this.pagination.computeBBox();\n    let lastPassPaginationBBox = new BBox(0, 0, 0, 0);\n    let pages = [];\n    let maxPageWidth = 0;\n    let maxPageHeight = 0;\n    let count = 0;\n    const stableOutput = (bbox) => {\n      return bbox.width === paginationBBox.width && bbox.height === paginationBBox.height;\n    };\n    const forceResult = this.maxWidth !== void 0 && this.maxHeight !== void 0;\n    do {\n      if (count++ > 10) {\n        Logger.warn(\"unable to find stable legend layout.\");\n        break;\n      }\n      paginationBBox = lastPassPaginationBBox;\n      const maxWidth = width - (paginationVertical ? 0 : paginationBBox.width);\n      const maxHeight = height - (paginationVertical ? paginationBBox.height : 0);\n      const layout = gridLayout({\n        orientation,\n        bboxes,\n        maxHeight,\n        maxWidth,\n        itemPaddingY,\n        itemPaddingX,\n        forceResult\n      });\n      pages = (_a = layout == null ? void 0 : layout.pages) != null ? _a : [];\n      maxPageWidth = (_b = layout == null ? void 0 : layout.maxPageWidth) != null ? _b : 0;\n      maxPageHeight = (_c = layout == null ? void 0 : layout.maxPageHeight) != null ? _c : 0;\n      const totalPages = pages.length;\n      this.pagination.visible = totalPages > 1;\n      this.pagination.totalPages = totalPages;\n      this.pagination.update();\n      lastPassPaginationBBox = this.pagination.computeBBox();\n      if (!this.pagination.visible) {\n        break;\n      }\n    } while (!stableOutput(lastPassPaginationBBox));\n    return { maxPageWidth, maxPageHeight, pages, paginationBBox, paginationVertical };\n  }\n  getPageItemCount(pageNumber) {\n    let count = 0;\n    for (const col of this.pages[pageNumber].columns) {\n      count += col.indices.length;\n    }\n    return count;\n  }\n  getNodeIndexFromFocusIndex() {\n    const { index } = this.focus;\n    const page = this.pages[this.pagination.currentPage];\n    let itemCount = 0;\n    for (const col of page.columns) {\n      if (index < itemCount + col.indices.length) {\n        return col.indices[index - itemCount];\n      } else {\n        itemCount += col.indices.length;\n      }\n    }\n    return -1;\n  }\n  updatePositions(pageNumber = 0) {\n    const {\n      item: { paddingY },\n      itemSelection,\n      pages\n    } = this;\n    if (pages.length < 1 || !pages[pageNumber]) {\n      return;\n    }\n    const { columns, startIndex: visibleStart, endIndex: visibleEnd } = pages[pageNumber];\n    let x = 0;\n    let y = 0;\n    const columnCount = columns.length;\n    const rowCount = columns[0].indices.length;\n    const horizontal = this.getOrientation() === \"horizontal\";\n    const itemHeight = columns[0].bboxes[0].height + paddingY;\n    const rowSumColumnWidths = [];\n    itemSelection.each((markerLabel, _, i) => {\n      var _a, _b;\n      if (i < visibleStart || i > visibleEnd) {\n        markerLabel.visible = false;\n        return;\n      }\n      const pageIndex = i - visibleStart;\n      let columnIndex = 0;\n      let rowIndex = 0;\n      if (horizontal) {\n        columnIndex = pageIndex % columnCount;\n        rowIndex = Math.floor(pageIndex / columnCount);\n      } else {\n        columnIndex = Math.floor(pageIndex / rowCount);\n        rowIndex = pageIndex % rowCount;\n      }\n      markerLabel.visible = true;\n      const column = columns[columnIndex];\n      if (!column) {\n        return;\n      }\n      y = itemHeight * rowIndex;\n      x = (_a = rowSumColumnWidths[rowIndex]) != null ? _a : 0;\n      rowSumColumnWidths[rowIndex] = ((_b = rowSumColumnWidths[rowIndex]) != null ? _b : 0) + column.columnWidth;\n      markerLabel.translationX = Math.floor(x);\n      markerLabel.translationY = Math.floor(y);\n    });\n  }\n  updatePageNumber(pageNumber) {\n    const { pages } = this;\n    const { startIndex, endIndex } = pages[pageNumber];\n    if (startIndex === 0) {\n      this.paginationTrackingIndex = 0;\n    } else if (pageNumber === pages.length - 1) {\n      this.paginationTrackingIndex = endIndex;\n    } else {\n      this.paginationTrackingIndex = Math.floor((startIndex + endIndex) / 2);\n    }\n    this.pagination.update();\n    this.pagination.updateMarkers();\n    this.updatePositions(pageNumber);\n    this.ctx.updateService.update(6 /* SCENE_RENDER */);\n  }\n  update() {\n    const {\n      label: { color },\n      marker: itemMarker,\n      line: itemLine,\n      showSeriesStroke\n    } = this.item;\n    this.itemSelection.each((markerLabel, datum) => {\n      var _a, _b;\n      const marker = datum.marker;\n      markerLabel.markerFill = marker.fill;\n      markerLabel.markerStroke = marker.stroke;\n      markerLabel.markerStrokeWidth = (_a = itemMarker.strokeWidth) != null ? _a : Math.min(2, marker.strokeWidth);\n      markerLabel.markerFillOpacity = marker.fillOpacity;\n      markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n      markerLabel.opacity = datum.enabled ? 1 : 0.5;\n      markerLabel.color = color;\n      const { line } = datum;\n      if (showSeriesStroke && line !== void 0) {\n        markerLabel.lineStroke = line.stroke;\n        markerLabel.lineStrokeOpacity = line.strokeOpacity;\n        markerLabel.lineStrokeWidth = (_b = itemLine.strokeWidth) != null ? _b : Math.min(2, line.strokeWidth);\n        markerLabel.lineLineDash = line.lineDash;\n      }\n    });\n  }\n  getDatumForPoint(x, y) {\n    const visibleChildBBoxes = [];\n    const closestLeftTop = { dist: Infinity, datum: void 0 };\n    for (const child of this.group.children) {\n      if (!child.visible)\n        continue;\n      if (!(child instanceof MarkerLabel))\n        continue;\n      const childBBox = child.computeBBox();\n      childBBox.grow(this.item.paddingX / 2, \"horizontal\");\n      childBBox.grow(this.item.paddingY / 2, \"vertical\");\n      if (childBBox.containsPoint(x, y)) {\n        return child.datum;\n      }\n      const distX = x - childBBox.x - this.item.paddingX / 2;\n      const distY = y - childBBox.y - this.item.paddingY / 2;\n      const dist = __pow(distX, 2) + __pow(distY, 2);\n      const toTheLeftTop = distX >= 0 && distY >= 0;\n      if (toTheLeftTop && dist < closestLeftTop.dist) {\n        closestLeftTop.dist = dist;\n        closestLeftTop.datum = child.datum;\n      }\n      visibleChildBBoxes.push(childBBox);\n    }\n    const pageBBox = BBox.merge(visibleChildBBoxes);\n    if (!pageBBox.containsPoint(x, y)) {\n      return;\n    }\n    return closestLeftTop.datum;\n  }\n  computePagedBBox() {\n    const actualBBox = this.group.computeBBox();\n    if (this.pages.length <= 1) {\n      return actualBBox;\n    }\n    const [maxPageWidth, maxPageHeight] = this.maxPageSize;\n    actualBBox.height = Math.max(maxPageHeight, actualBBox.height);\n    actualBBox.width = Math.max(maxPageWidth, actualBBox.width);\n    return actualBBox;\n  }\n  checkLegendClick(event) {\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (this.doClick(datum)) {\n      event.consume();\n    }\n  }\n  doClick(datum) {\n    const {\n      listeners: { legendItemClick },\n      ctx: { chartService, highlightManager },\n      item: { toggleSeriesVisible },\n      preventHidingAll\n    } = this;\n    if (!datum) {\n      return false;\n    }\n    const { id, itemId, enabled } = datum;\n    const series = chartService.series.find((s) => s.id === id);\n    if (!series) {\n      return false;\n    }\n    let newEnabled = enabled;\n    if (toggleSeriesVisible) {\n      newEnabled = !enabled;\n      if (preventHidingAll && !newEnabled) {\n        const numVisibleItems = chartService.series.flatMap((s) => s.getLegendData(\"category\")).filter((d) => d.enabled).length;\n        if (numVisibleItems < 2) {\n          newEnabled = true;\n        }\n      }\n      const status = newEnabled ? \"visible\" : \"hidden\";\n      this.ctx.ariaAnnouncementService.announceValue(`${status}`);\n      this.ctx.chartEventManager.legendItemClick(series, itemId, newEnabled, datum.legendItemName);\n    }\n    if (newEnabled) {\n      highlightManager.updateHighlight(this.id, {\n        series,\n        itemId,\n        datum: void 0\n      });\n    } else {\n      highlightManager.updateHighlight(this.id);\n    }\n    this.ctx.updateService.update(2 /* PROCESS_DATA */, { forceNodeDataRefresh: true });\n    legendItemClick == null ? void 0 : legendItemClick({ type: \"click\", enabled: newEnabled, itemId, seriesId: series.id });\n    return true;\n  }\n  checkLegendDoubleClick(event) {\n    var _a;\n    const {\n      listeners: { legendItemDoubleClick },\n      ctx: { chartService },\n      item: { toggleSeriesVisible }\n    } = this;\n    if (chartService.mode === \"integrated\") {\n      return;\n    }\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (!datum) {\n      return;\n    }\n    const { id, itemId, seriesId } = datum;\n    const series = chartService.series.find((s) => s.id === id);\n    if (!series) {\n      return;\n    }\n    event.consume();\n    if (toggleSeriesVisible) {\n      const legendData = chartService.series.flatMap((s) => s.getLegendData(\"category\"));\n      const numVisibleItems = legendData.filter((d) => d.enabled).length;\n      const clickedItem = legendData.find((d) => d.itemId === itemId && d.seriesId === seriesId);\n      this.ctx.chartEventManager.legendItemDoubleClick(\n        series,\n        itemId,\n        (_a = clickedItem == null ? void 0 : clickedItem.enabled) != null ? _a : false,\n        numVisibleItems,\n        clickedItem == null ? void 0 : clickedItem.legendItemName\n      );\n    }\n    this.ctx.updateService.update(2 /* PROCESS_DATA */, { forceNodeDataRefresh: true });\n    legendItemDoubleClick == null ? void 0 : legendItemDoubleClick({ type: \"dblclick\", enabled: true, itemId, seriesId: series.id });\n  }\n  handleLegendMouseMove(event) {\n    if (!this.enabled) {\n      return;\n    }\n    const { offsetX, offsetY } = event;\n    event.consume();\n    const datum = this.getDatumForPoint(offsetX, offsetY);\n    this.doHover(event, datum);\n  }\n  doHover(event, datum) {\n    var _a;\n    const {\n      item: { toggleSeriesVisible },\n      listeners\n    } = this;\n    if (event === void 0 || datum === void 0) {\n      this.ctx.cursorManager.updateCursor(this.id);\n      this.ctx.highlightManager.updateHighlight(this.id);\n      return;\n    }\n    const series = datum ? this.ctx.chartService.series.find((s) => s.id === (datum == null ? void 0 : datum.id)) : void 0;\n    if (datum && this.truncatedItems.has((_a = datum.itemId) != null ? _a : datum.id)) {\n      const { offsetX, offsetY } = event;\n      this.ctx.tooltipManager.updateTooltip(\n        this.id,\n        { offsetX, offsetY, lastPointerEvent: event, showArrow: false },\n        toTooltipHtml({ content: this.getItemLabel(datum) })\n      );\n    } else {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n    }\n    if (toggleSeriesVisible || listeners.legendItemClick != null || listeners.legendItemDoubleClick != null) {\n      this.ctx.cursorManager.updateCursor(this.id, \"pointer\");\n    }\n    if ((datum == null ? void 0 : datum.enabled) && series) {\n      this.ctx.highlightManager.updateHighlight(this.id, {\n        series,\n        itemId: datum == null ? void 0 : datum.itemId,\n        datum: void 0\n      });\n    } else {\n      this.ctx.highlightManager.updateHighlight(this.id);\n    }\n  }\n  handleLegendMouseExit(_event) {\n    this.doMouseExit();\n  }\n  doMouseExit() {\n    this.ctx.cursorManager.updateCursor(this.id);\n    this.ctx.tooltipManager.removeTooltip(this.id);\n    if (this.ctx.interactionManager.getState() === 16 /* Default */) {\n      this.ctx.highlightManager.updateHighlight(this.id);\n    }\n  }\n  handleLegendMouseEnter(event) {\n    const {\n      enabled,\n      item: { toggleSeriesVisible: toggle },\n      listeners: { legendItemClick: clickListener, legendItemDoubleClick: dblclickListener }\n    } = this;\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (enabled && datum !== void 0 && (toggle || clickListener != null || dblclickListener != null)) {\n      this.ctx.cursorManager.updateCursor(this.id, \"pointer\");\n    }\n  }\n  onBlur(_event) {\n    this.doMouseExit();\n    this.focus.mode = \"item\";\n    this.ctx.regionManager.updateFocusIndicatorRect(void 0);\n  }\n  onTab(event) {\n    this.updateFocus();\n    event.consume();\n  }\n  onTabStart(event) {\n    if (!this.pagination.visible || !this.pagination.enabled)\n      return;\n    const consumeTabStart = (newMode) => {\n      this.focus.mode = newMode;\n      this.updateFocus();\n      event.consume();\n    };\n    if (this.focus.mode === \"item\" && event.delta === 1) {\n      this.focus.index = this.pagination.currentPage === 0 ? 1 : 0;\n      consumeTabStart(\"page\");\n    } else if (this.focus.mode === \"page\" && event.delta === -1) {\n      this.focus.index = 0;\n      consumeTabStart(\"item\");\n    }\n  }\n  onNav(event) {\n    if (this.focus.mode === \"item\") {\n      const newIndex = this.focus.index + event.delta;\n      const pageItemCount = this.getPageItemCount(this.pagination.currentPage);\n      this.focus.index = clamp(-1, newIndex, pageItemCount);\n      this.updateFocus();\n      event.consume();\n    } else if (this.focus.mode === \"page\") {\n      if (event.delta < 0)\n        this.focus.index = 0;\n      if (event.delta > 0)\n        this.focus.index = 1;\n      this.updateFocus();\n      event.consume();\n    }\n  }\n  onSubmit(_event) {\n    if (this.focus.mode === \"item\") {\n      this.doClick(this.getFocusedItem().datum);\n    } else if (this.focus.mode === \"page\") {\n      if (this.focus.index === 0)\n        this.pagination.clickPrevious();\n      if (this.focus.index === 1)\n        this.pagination.clickNext();\n      this.ctx.ariaAnnouncementService.announceValue(\n        `Legend page ${this.pagination.currentPage + 1} of ${this.pages.length}`\n      );\n    }\n  }\n  maybeChangeFocusPage() {\n    const oldPage = this.pagination.currentPage;\n    const oldPageItemCount = this.getPageItemCount(oldPage);\n    if (this.focus.index === -1) {\n      this.pagination.setPage(oldPage - 1);\n    } else if (this.focus.index === oldPageItemCount) {\n      this.pagination.setPage(oldPage + 1);\n    } else {\n      return;\n    }\n    const { currentPage } = this.pagination;\n    if (oldPage === currentPage) {\n      this.focus.index = clamp(0, this.focus.index, oldPageItemCount - 1);\n    } else if (this.focus.index === -1) {\n      this.focus.index = this.getPageItemCount(currentPage) - 1;\n    } else {\n      this.focus.index = 0;\n    }\n  }\n  getFocusedItem() {\n    if (this.focus.mode !== \"item\") {\n      Logger.error(`getFocusedItem() should be called only when focus.mode is 'item'`);\n      return { nodeIndex: -1, node: void 0, datum: void 0 };\n    }\n    this.maybeChangeFocusPage();\n    const nodeIndex = this.getNodeIndexFromFocusIndex();\n    if (nodeIndex < 0) {\n      Logger.error(`Cannot access negative nodeIndex ${nodeIndex}`);\n      return { nodeIndex: -1, node: void 0, datum: void 0 };\n    }\n    const node = this.itemSelection.nodes()[nodeIndex];\n    const data = this.data;\n    let datum;\n    if (nodeIndex < data.length) {\n      datum = this.data[nodeIndex];\n    } else {\n      Logger.error(`Cannot access datum[${nodeIndex}]`);\n    }\n    return { nodeIndex, node, datum };\n  }\n  updateFocus() {\n    const { focus, pagination } = this;\n    if (focus.mode === \"item\") {\n      const { nodeIndex, node, datum } = this.getFocusedItem();\n      if (datum === void 0)\n        return;\n      const bbox = node == null ? void 0 : node.computeTransformedBBox();\n      this.doHover(makeKeyboardPointerEvent(this.ctx.regionManager, { bbox, showFocusBox: true }), datum);\n      const label = datum && this.getItemLabel(datum);\n      if (label) {\n        const visibility = datum.enabled ? \"visible\" : \"hidden\";\n        this.ctx.ariaAnnouncementService.announceValue(\n          `Legend item ${nodeIndex + 1} of ${this.data.length}, ${label}, ${visibility}`\n        );\n      }\n    } else if (focus.mode === \"page\") {\n      const button = focus.index === 0 ? pagination.previousButton : pagination.nextButton;\n      this.ctx.regionManager.updateFocusIndicatorRect(button.computeTransformedBBox());\n      const value = [\"Previous legend page\", \"Next legend page\"][focus.index];\n      this.ctx.ariaAnnouncementService.announceValue(`${value}, button`);\n    }\n  }\n  positionLegend(shrinkRect) {\n    const newShrinkRect = shrinkRect.clone();\n    if (!this.enabled || !this.data.length) {\n      return { shrinkRect: newShrinkRect };\n    }\n    const [legendWidth, legendHeight] = this.calculateLegendDimensions(shrinkRect);\n    this.group.translationX = 0;\n    this.group.translationY = 0;\n    this.calcLayout(legendWidth, legendHeight);\n    const legendBBox = this.computePagedBBox();\n    const calculateTranslationPerpendicularDimension = () => {\n      switch (this.position) {\n        case \"top\":\n        case \"left\":\n          return 0;\n        case \"bottom\":\n          return shrinkRect.height - legendBBox.height;\n        case \"right\":\n        default:\n          return shrinkRect.width - legendBBox.width;\n      }\n    };\n    if (this.visible) {\n      let translationX;\n      let translationY;\n      switch (this.position) {\n        case \"top\":\n        case \"bottom\":\n          translationX = (shrinkRect.width - legendBBox.width) / 2;\n          translationY = calculateTranslationPerpendicularDimension();\n          newShrinkRect.shrink(legendBBox.height, this.position);\n          break;\n        case \"left\":\n        case \"right\":\n        default:\n          translationX = calculateTranslationPerpendicularDimension();\n          translationY = (shrinkRect.height - legendBBox.height) / 2;\n          newShrinkRect.shrink(legendBBox.width, this.position);\n      }\n      this.group.translationX = Math.floor(-legendBBox.x + shrinkRect.x + translationX);\n      this.group.translationY = Math.floor(-legendBBox.y + shrinkRect.y + translationY);\n    }\n    if (this.visible && this.enabled && this.data.length) {\n      const legendPadding = this.spacing;\n      newShrinkRect.shrink(legendPadding, this.position);\n      const legendPositionedBBox = legendBBox.clone();\n      legendPositionedBBox.x += this.group.translationX;\n      legendPositionedBBox.y += this.group.translationY;\n    }\n    return { shrinkRect: newShrinkRect };\n  }\n  calculateLegendDimensions(shrinkRect) {\n    const { width, height } = shrinkRect;\n    const aspectRatio = width / height;\n    const maxCoefficient = 0.5;\n    const minHeightCoefficient = 0.2;\n    const minWidthCoefficient = 0.25;\n    let legendWidth, legendHeight;\n    switch (this.position) {\n      case \"top\":\n      case \"bottom\":\n        const heightCoefficient = aspectRatio < 1 ? Math.min(maxCoefficient, minHeightCoefficient * (1 / aspectRatio)) : minHeightCoefficient;\n        legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : width;\n        legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : Math.round(height * heightCoefficient);\n        break;\n      case \"left\":\n      case \"right\":\n      default:\n        const widthCoefficient = aspectRatio > 1 ? Math.min(maxCoefficient, minWidthCoefficient * aspectRatio) : minWidthCoefficient;\n        legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : Math.round(width * widthCoefficient);\n        legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : height;\n    }\n    return [legendWidth, legendHeight];\n  }\n};\nLegend.className = \"Legend\";\n__decorateClass([\n  Validate(OBJECT)\n], Legend.prototype, \"pagination\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Legend.prototype, \"item\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Legend.prototype, \"listeners\", 2);\n__decorateClass([\n  ObserveChanges((target) => target.updateGroupVisibility()),\n  Validate(BOOLEAN)\n], Legend.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(POSITION2)\n], Legend.prototype, \"position\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Legend.prototype, \"maxWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Legend.prototype, \"maxHeight\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], Legend.prototype, \"reverseOrder\", 2);\n__decorateClass([\n  Validate(UNION([\"horizontal\", \"vertical\"], \"an orientation\"), { optional: true })\n], Legend.prototype, \"orientation\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], Legend.prototype, \"preventHidingAll\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Legend.prototype, \"spacing\", 2);\n\n// packages/ag-charts-community/src/chart/legendModule.ts\nvar CommunityLegendModule = {\n  type: \"legend\",\n  optionsKey: \"legend\",\n  identifier: \"category\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  instanceConstructor: Legend,\n  packageType: \"community\"\n};\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeHandle.ts\nvar RangeHandle = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.zIndex = 3;\n    this._fill = \"#f2f2f2\";\n    this._stroke = \"#999999\";\n    this._strokeWidth = 1;\n    this._lineCap = \"square\";\n    this._centerX = 0;\n    this._centerY = 0;\n    this._width = 8;\n    this._gripLineGap = 2;\n    this._gripLineLength = 8;\n    this._height = 16;\n  }\n  set centerX(value) {\n    if (this._centerX !== value) {\n      this._centerX = value;\n      this.dirtyPath = true;\n    }\n  }\n  get centerX() {\n    return this._centerX;\n  }\n  set centerY(value) {\n    if (this._centerY !== value) {\n      this._centerY = value;\n      this.dirtyPath = true;\n    }\n  }\n  get centerY() {\n    return this._centerY;\n  }\n  set width(value) {\n    if (this._width !== value) {\n      this._width = value;\n      this.dirtyPath = true;\n    }\n  }\n  get width() {\n    return this._width;\n  }\n  set gripLineGap(value) {\n    if (this._gripLineGap !== value) {\n      this._gripLineGap = value;\n      this.dirtyPath = true;\n    }\n  }\n  get gripLineGap() {\n    return this._gripLineGap;\n  }\n  set gripLineLength(value) {\n    if (this._gripLineLength !== value) {\n      this._gripLineLength = value;\n      this.dirtyPath = true;\n    }\n  }\n  get gripLineLength() {\n    return this._gripLineLength;\n  }\n  set height(value) {\n    if (this._height !== value) {\n      this._height = value;\n      this.dirtyPath = true;\n    }\n  }\n  get height() {\n    return this._height;\n  }\n  layout(x, y) {\n    this.centerX = x;\n    this.centerY = y;\n  }\n  static align(minHandle, maxHandle, x, y, width, height, min, max) {\n    const handlePixelAlign = minHandle.strokeWidth / 2;\n    const minHandleX = minHandle.align(x + width * min) + handlePixelAlign;\n    const maxHandleX = minHandleX + minHandle.align(x + width * min, width * (max - min)) - 2 * handlePixelAlign;\n    const handleY = minHandle.align(y + height / 2) + handlePixelAlign;\n    minHandle.layout(minHandleX, handleY);\n    maxHandle.layout(maxHandleX, handleY);\n  }\n  computeBBox() {\n    const { centerX, centerY, width, height } = this;\n    const x = centerX - width / 2;\n    const y = centerY - height / 2;\n    return new BBox(x, y, width, height);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return bbox.containsPoint(point.x, point.y);\n  }\n  updatePath() {\n    var _a, _b, _c;\n    const { centerX, centerY, path, strokeWidth, gripLineGap, gripLineLength } = this;\n    const pixelRatio = (_c = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas) == null ? void 0 : _b.pixelRatio) != null ? _c : 1;\n    path.clear();\n    const halfWidth = Math.floor(this.width / 2 * pixelRatio) / pixelRatio;\n    const halfHeight = Math.floor(this.height / 2 * pixelRatio) / pixelRatio;\n    path.moveTo(centerX - halfWidth, centerY - halfHeight);\n    path.lineTo(centerX + halfWidth, centerY - halfHeight);\n    path.lineTo(centerX + halfWidth, centerY + halfHeight);\n    path.lineTo(centerX - halfWidth, centerY + halfHeight);\n    path.closePath();\n    const dx = Math.floor((gripLineGap + strokeWidth) / 2 * pixelRatio) / pixelRatio;\n    const dy = Math.floor(gripLineLength / 2 * pixelRatio) / pixelRatio;\n    path.moveTo(centerX - dx, centerY - dy);\n    path.lineTo(centerX - dx, centerY + dy);\n    path.moveTo(centerX + dx, centerY - dy);\n    path.lineTo(centerX + dx, centerY + dy);\n  }\n};\nRangeHandle.className = \"RangeHandle\";\n__decorateClass([\n  Validate(COLOR_STRING)\n], RangeHandle.prototype, \"_fill\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], RangeHandle.prototype, \"_stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_strokeWidth\", 2);\n__decorateClass([\n  Validate(LINE_CAP)\n], RangeHandle.prototype, \"_lineCap\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_width\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_gripLineGap\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_gripLineLength\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_height\", 2);\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeMask.ts\nvar RangeMask = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.zIndex = 2;\n    this.x = 0;\n    this.y = 0;\n    this.width = 200;\n    this.height = 30;\n    this.min = 0;\n    this.max = 1;\n  }\n  layout(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.dirtyPath = true;\n  }\n  update(min, max) {\n    this.min = isNaN(min) ? this.min : min;\n    this.max = isNaN(max) ? this.max : max;\n    this.dirtyPath = true;\n  }\n  computeBBox() {\n    const { x, y, width, height } = this;\n    return new BBox(x, y, width, height);\n  }\n  computeVisibleRangeBBox() {\n    const { x, y, width, height, min, max } = this;\n    const minX = x + width * min;\n    const maxX = x + width * max;\n    return new BBox(minX, y, maxX - minX, height);\n  }\n  updatePath() {\n    const { path, x, y, width, height, min, max, strokeWidth } = this;\n    const pixelAlign = strokeWidth / 2;\n    path.clear();\n    const ax = this.align(x) + pixelAlign;\n    const ay = this.align(y) + pixelAlign;\n    const axw = ax + this.align(x, width) - 2 * pixelAlign;\n    const ayh = ay + this.align(y, height) - 2 * pixelAlign;\n    path.moveTo(ax, ay);\n    path.lineTo(axw, ay);\n    path.lineTo(axw, ayh);\n    path.lineTo(ax, ayh);\n    path.closePath();\n    const minX = this.align(x + width * min) + pixelAlign;\n    const maxX = minX + this.align(x + width * min, width * (max - min)) - 2 * pixelAlign;\n    path.moveTo(minX, ay);\n    path.lineTo(minX, ayh);\n    path.lineTo(maxX, ayh);\n    path.lineTo(maxX, ay);\n    path.closePath();\n  }\n};\nRangeMask.className = \"RangeMask\";\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeSelector.ts\nvar RangeSelector = class extends Group {\n  constructor(children) {\n    super({ name: \"rangeSelectorGroup\", layer: true, zIndex: 12 /* NAVIGATOR_ZINDEX */ });\n    this.x = 0;\n    this.y = 0;\n    this.width = 200;\n    this.height = 30;\n    this.lOffset = 0;\n    this.rOffset = 0;\n    this.isContainerNode = true;\n    this.background = new Group({ name: \"navigator-background\" });\n    this.background.zIndex = 1;\n    this.appendChild(this.background);\n    this.append(children);\n  }\n  layout(x, y, width, height, lOffset, rOffset) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.lOffset = lOffset;\n    this.rOffset = rOffset;\n    this.background.translationX = x;\n    this.background.translationY = y;\n  }\n  updateBackground(oldGroup, newGroup) {\n    if (oldGroup != null) {\n      this.background.removeChild(oldGroup);\n    }\n    if (newGroup != null) {\n      this.background.appendChild(newGroup);\n    }\n  }\n  computeBBox() {\n    const { x, y, width, height, lOffset, rOffset } = this;\n    return new BBox(x - lOffset, y, width + (lOffset + rOffset), height);\n  }\n};\n\n// packages/ag-charts-community/src/chart/navigator/navigator.ts\nvar Navigator = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.miniChart = void 0;\n    this.enabled = false;\n    this.mask = new RangeMask();\n    this.minHandle = new RangeHandle();\n    this.maxHandle = new RangeHandle();\n    this.height = 30;\n    this.margin = 10;\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.rangeSelector = new RangeSelector([this.mask, this.minHandle, this.maxHandle]);\n    this._min = 0;\n    this._max = 1;\n    this.minRange = 1e-3;\n    const region = ctx.regionManager.addRegion(\"navigator\", this.rangeSelector);\n    const dragStates = 16 /* Default */ | 1 /* Animation */ | 8 /* ZoomDrag */;\n    this.destroyFns.push(\n      ctx.scene.attachNode(this.rangeSelector),\n      region.addListener(\"hover\", (event) => this.onHover(event), dragStates),\n      region.addListener(\"drag-start\", (event) => this.onDragStart(event), dragStates),\n      region.addListener(\"drag\", (event) => this.onDrag(event), dragStates),\n      region.addListener(\"drag-end\", () => this.onDragEnd(), dragStates),\n      region.addListener(\"leave\", (event) => this.onLeave(event), dragStates),\n      ctx.zoomManager.addListener(\"zoom-change\", (event) => this.onZoomChange(event))\n    );\n    this.updateGroupVisibility();\n  }\n  updateBackground(oldGroup, newGroup) {\n    var _a;\n    (_a = this.rangeSelector) == null ? void 0 : _a.updateBackground(oldGroup, newGroup);\n  }\n  updateGroupVisibility() {\n    const { enabled } = this;\n    if (this.rangeSelector == null || enabled === this.rangeSelector.visible)\n      return;\n    this.rangeSelector.visible = enabled;\n    if (enabled) {\n      this.updateZoom();\n    } else {\n      this.ctx.zoomManager.updateZoom(\"navigator\");\n    }\n  }\n  performLayout(_0) {\n    return __async(this, arguments, function* ({ shrinkRect }) {\n      if (this.enabled) {\n        const navigatorTotalHeight = this.height + this.margin;\n        shrinkRect.shrink(navigatorTotalHeight, \"bottom\");\n        this.y = shrinkRect.y + shrinkRect.height + this.margin;\n      } else {\n        this.y = 0;\n      }\n      return { shrinkRect };\n    });\n  }\n  performCartesianLayout(opts) {\n    return __async(this, null, function* () {\n      const { x, width } = opts.seriesRect;\n      if (this.enabled) {\n        const { y, height } = this;\n        this.layoutNodes(x, y, width, height);\n      }\n      this.x = x;\n      this.width = width;\n    });\n  }\n  onHover(event) {\n    if (!this.enabled)\n      return;\n    const { mask, minHandle, maxHandle } = this;\n    const { offsetX, offsetY } = event;\n    if (minHandle.containsPoint(offsetX, offsetY) || maxHandle.containsPoint(offsetX, offsetY)) {\n      this.ctx.cursorManager.updateCursor(\"navigator\", \"ew-resize\");\n    } else if (mask.computeVisibleRangeBBox().containsPoint(offsetX, offsetY)) {\n      this.ctx.cursorManager.updateCursor(\"navigator\", \"grab\");\n    } else {\n      this.ctx.cursorManager.updateCursor(\"navigator\");\n    }\n  }\n  onDragStart(event) {\n    if (!this.enabled)\n      return;\n    const { mask, minHandle, maxHandle, x, width, _min: min } = this;\n    const { offsetX, offsetY } = event;\n    if (minHandle.zIndex < maxHandle.zIndex) {\n      if (maxHandle.containsPoint(offsetX, offsetY)) {\n        this.dragging = \"max\";\n      } else if (minHandle.containsPoint(offsetX, offsetY)) {\n        this.dragging = \"min\";\n      }\n    } else if (minHandle.containsPoint(offsetX, offsetY)) {\n      this.dragging = \"min\";\n    } else if (maxHandle.containsPoint(offsetX, offsetY)) {\n      this.dragging = \"max\";\n    }\n    if (this.dragging == null && mask.computeVisibleRangeBBox().containsPoint(offsetX, offsetY)) {\n      this.dragging = \"pan\";\n      this.panStart = (offsetX - x) / width - min;\n    }\n    if (this.dragging != null) {\n      this.ctx.zoomManager.fireZoomPanStartEvent(\"navigator\");\n    }\n  }\n  onDrag(event) {\n    if (!this.enabled || this.dragging == null)\n      return;\n    const { dragging, minRange, panStart, x, width } = this;\n    let { _min: min, _max: max } = this;\n    const { offsetX } = event;\n    const ratio = (offsetX - x) / width;\n    if (dragging === \"min\") {\n      min = clamp(0, ratio, max - minRange);\n    } else if (dragging === \"max\") {\n      max = clamp(min + minRange, ratio, 1);\n    } else if (dragging === \"pan\" && panStart != null) {\n      const span = max - min;\n      min = clamp(0, ratio - panStart, 1 - span);\n      max = min + span;\n    }\n    this._min = min;\n    this._max = max;\n    this.updateZoom();\n  }\n  onDragEnd() {\n    this.dragging = void 0;\n  }\n  onLeave(_event) {\n    this.ctx.cursorManager.updateCursor(\"navigator\");\n  }\n  onZoomChange(event) {\n    const { x } = event;\n    if (!x)\n      return;\n    this._min = x.min;\n    this._max = x.max;\n    this.updateNodes(x.min, x.max);\n  }\n  layoutNodes(x, y, width, height) {\n    const { rangeSelector, mask, minHandle, maxHandle, _min: min, _max: max } = this;\n    rangeSelector.layout(x, y, width, height, minHandle.width / 2, maxHandle.width / 2);\n    mask.layout(x, y, width, height);\n    RangeHandle.align(minHandle, maxHandle, x, y, width, height, min, max);\n    if (min + (max - min) / 2 < 0.5) {\n      minHandle.zIndex = 3;\n      maxHandle.zIndex = 4;\n    } else {\n      minHandle.zIndex = 4;\n      maxHandle.zIndex = 3;\n    }\n  }\n  updateNodes(min, max) {\n    this.mask.update(min, max);\n  }\n  updateZoom() {\n    if (!this.enabled)\n      return;\n    const { _min: min, _max: max } = this;\n    const zoom2 = this.ctx.zoomManager.getZoom();\n    if (min == null || max == null)\n      return;\n    const warnOnConflict = (stateId) => {\n      if (this.min == null && this.max == null)\n        return;\n      Logger.warnOnce(\n        `Could not apply [navigator.min] or [navigator.max] as [${stateId}] has modified the initial zoom state.`\n      );\n    };\n    return this.ctx.zoomManager.updateZoom(\"navigator\", { x: { min, max }, y: zoom2 == null ? void 0 : zoom2.y }, false, warnOnConflict);\n  }\n};\n__decorateClass([\n  Validate(OBJECT, { optional: true })\n], Navigator.prototype, \"miniChart\", 2);\n__decorateClass([\n  Validate(BOOLEAN),\n  ObserveChanges((target) => target.updateGroupVisibility())\n], Navigator.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Navigator.prototype, \"height\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Navigator.prototype, \"margin\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(min) {\n      this._min = min;\n      this.updateZoom();\n    }\n  }),\n  Validate(AND(RATIO, LESS_THAN(\"max\")), { optional: true })\n], Navigator.prototype, \"min\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(max) {\n      this._max = max;\n      this.updateZoom();\n    }\n  }),\n  Validate(AND(RATIO, GREATER_THAN(\"min\")), { optional: true })\n], Navigator.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/navigator/navigatorModule.ts\nvar NavigatorModule = {\n  type: \"root\",\n  optionsKey: \"navigator\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  instanceConstructor: Navigator,\n  themeTemplate: {\n    navigator: {\n      enabled: false,\n      height: 30,\n      mask: {\n        fill: \"#999999\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        fillOpacity: 0.2\n      },\n      minHandle: {\n        fill: \"#f2f2f2\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        width: 9,\n        height: 16,\n        gripLineGap: 1,\n        gripLineLength: 8\n      },\n      maxHandle: {\n        fill: \"#f2f2f2\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        width: 9,\n        height: 16,\n        gripLineGap: 1,\n        gripLineLength: 8\n      }\n    }\n  }\n};\n\n// packages/ag-charts-community/src/module/theme.ts\nvar singleSeriesPaletteFactory = ({ takeColors }) => {\n  const {\n    fills: [fill],\n    strokes: [stroke]\n  } = takeColors(1);\n  return { fill, stroke };\n};\nvar markerPaletteFactory = (params) => {\n  const { fill, stroke } = singleSeriesPaletteFactory(params);\n  return { marker: { fill, stroke } };\n};\n\n// packages/ag-charts-community/src/motion/pathMotion.ts\nfunction pathMotion(groupId, subId, animationManager, paths, fns) {\n  const { addPhaseFn, updatePhaseFn, removePhaseFn } = fns;\n  const animate = (phase, path, updateFn) => {\n    animationManager.animate({\n      id: `${groupId}_${subId}_${path.id}_${phase}`,\n      groupId,\n      from: 0,\n      to: 1,\n      ease: easeOut,\n      collapsable: false,\n      onUpdate(ratio, preInit) {\n        if (preInit && phase !== \"removed\")\n          return;\n        path.path.clear(true);\n        updateFn(ratio, path);\n        path.checkPathDirty();\n      },\n      onStop() {\n        if (phase !== \"added\")\n          return;\n        path.path.clear(true);\n        updateFn(1, path);\n        path.checkPathDirty();\n      },\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase]\n    });\n  };\n  for (const path of paths) {\n    if (!animationManager.isSkipped()) {\n      animate(\"removed\", path, removePhaseFn);\n      animate(\"updated\", path, updatePhaseFn);\n    }\n    animate(\"added\", path, addPhaseFn);\n  }\n}\n\n// packages/ag-charts-community/src/util/sanitize.ts\nvar element = null;\nfunction sanitizeHtml(text) {\n  if (text == null) {\n    return;\n  } else if (text === \"\") {\n    return \"\";\n  }\n  element != null ? element : element = createElement(\"div\");\n  element.textContent = String(text);\n  return element.innerHTML;\n}\n\n// packages/ag-charts-community/src/chart/series/seriesLabelUtil.ts\nfunction seriesLabelFadeInAnimation({ id }, subId, animationManager, ...labelSelections) {\n  staticFromToMotion(\n    id,\n    subId,\n    animationManager,\n    labelSelections,\n    { opacity: 0 },\n    { opacity: 1 },\n    { phase: \"trailing\" }\n  );\n}\nfunction seriesLabelFadeOutAnimation({ id }, subId, animationManager, ...labelSelections) {\n  staticFromToMotion(\n    id,\n    subId,\n    animationManager,\n    labelSelections,\n    { opacity: 1 },\n    { opacity: 0 },\n    { phase: \"remove\" }\n  );\n}\nfunction resetLabelFn(_node) {\n  return { opacity: 1 };\n}\n\n// packages/ag-charts-community/src/scene/util/changeDetectableProperties.ts\nvar ChangeDetectableProperties = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this._dirty = 3 /* MAJOR */;\n  }\n  markDirty(_source, type = 1 /* TRIVIAL */) {\n    if (this._dirty < type) {\n      this._dirty = type;\n    }\n  }\n  markClean(_opts) {\n    this._dirty = 0 /* NONE */;\n  }\n  isDirty() {\n    return this._dirty > 0 /* NONE */;\n  }\n};\n\n// packages/ag-charts-community/src/scene/dropShadow.ts\nvar DropShadow = class extends ChangeDetectableProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.color = \"rgba(0, 0, 0, 0.5)\";\n    this.xOffset = 0;\n    this.yOffset = 0;\n    this.blur = 5;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], DropShadow.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(COLOR_STRING),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], DropShadow.prototype, \"color\", 2);\n__decorateClass([\n  Validate(NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], DropShadow.prototype, \"xOffset\", 2);\n__decorateClass([\n  Validate(NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], DropShadow.prototype, \"yOffset\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], DropShadow.prototype, \"blur\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesMarker.ts\nvar MARKER_SHAPE = predicateWithMessage(\n  (value) => isMarkerShape(value) || typeof Marker === \"function\" && Object.create(value.prototype) instanceof Marker,\n  `a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class`\n);\nvar SeriesMarker = class extends ChangeDetectableProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.shape = Circle;\n    this.size = 6;\n    this.fillOpacity = 1;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n  }\n  getStyle() {\n    const { size, fill, fillOpacity, stroke, strokeWidth, strokeOpacity } = this;\n    return { size, fill, fillOpacity, stroke, strokeWidth, strokeOpacity };\n  }\n  getDiameter() {\n    return this.size + this.strokeWidth;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(MARKER_SHAPE),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"shape\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"size\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true }),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true }),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true }),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"formatter\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesTooltip.ts\nvar SeriesTooltipInteraction = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], SeriesTooltipInteraction.prototype, \"enabled\", 2);\nvar SeriesTooltip = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.interaction = new SeriesTooltipInteraction();\n    this.position = new TooltipPosition();\n  }\n  toTooltipHtml(defaults, params) {\n    if (this.renderer) {\n      return toTooltipHtml(this.renderer(params), defaults);\n    }\n    return toTooltipHtml(defaults);\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], SeriesTooltip.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], SeriesTooltip.prototype, \"showArrow\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], SeriesTooltip.prototype, \"renderer\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], SeriesTooltip.prototype, \"interaction\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], SeriesTooltip.prototype, \"position\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeriesProperties.ts\nvar AreaSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.xName = void 0;\n    this.fill = \"#c16068\";\n    this.fillOpacity = 1;\n    this.stroke = \"#874349\";\n    this.strokeWidth = 2;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.shadow = new DropShadow();\n    this.marker = new SeriesMarker();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n    this.connectMissingData = false;\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], AreaSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], AreaSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING)\n], AreaSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], AreaSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AreaSeriesProperties.prototype, \"normalizedTo\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], AreaSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO)\n], AreaSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], AreaSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AreaSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO)\n], AreaSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], AreaSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AreaSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], AreaSeriesProperties.prototype, \"connectMissingData\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/markerUtil.ts\nfunction markerFadeInAnimation({ id }, animationManager, status, ...markerSelections) {\n  const params = { phase: status ? NODE_UPDATE_STATE_TO_PHASE_MAPPING[status] : \"trailing\" };\n  staticFromToMotion(id, \"markers\", animationManager, markerSelections, { opacity: 0 }, { opacity: 1 }, params);\n  markerSelections.forEach((s) => s.cleanup());\n}\nfunction markerScaleInAnimation({ id }, animationManager, ...markerSelections) {\n  staticFromToMotion(\n    id,\n    \"markers\",\n    animationManager,\n    markerSelections,\n    { scalingX: 0, scalingY: 0 },\n    { scalingX: 1, scalingY: 1 },\n    { phase: \"initial\" }\n  );\n  markerSelections.forEach((s) => s.cleanup());\n}\nfunction markerSwipeScaleInAnimation({ id, nodeDataDependencies }, animationManager, ...markerSelections) {\n  const seriesWidth = nodeDataDependencies.seriesRectWidth;\n  const fromFn = (_, datum) => {\n    var _a, _b;\n    const x = (_b = (_a = datum.midPoint) == null ? void 0 : _a.x) != null ? _b : seriesWidth;\n    let delay = clamp(0, inverseEaseOut(x / seriesWidth), 1);\n    if (isNaN(delay)) {\n      delay = 0;\n    }\n    return { scalingX: 0, scalingY: 0, delay, duration: QUICK_TRANSITION, phase: \"initial\" };\n  };\n  const toFn = () => {\n    return { scalingX: 1, scalingY: 1 };\n  };\n  fromToMotion(id, \"markers\", animationManager, markerSelections, { fromFn, toFn });\n}\nfunction resetMarkerFn(_node) {\n  return { opacity: 1, scalingX: 1, scalingY: 1 };\n}\nfunction resetMarkerPositionFn(_node, datum) {\n  var _a, _b, _c, _d;\n  return {\n    translationX: (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : NaN,\n    translationY: (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : NaN\n  };\n}\nfunction prepareMarkerAnimation(pairMap, parentStatus) {\n  const readFirstPair = (xValue, type) => {\n    const val = pairMap[type][xValue];\n    return Array.isArray(val) ? val[0] : val;\n  };\n  const markerStatus = (datum) => {\n    const { xValue } = datum;\n    if (pairMap.moved[xValue]) {\n      return { point: readFirstPair(xValue, \"moved\"), status: \"updated\" };\n    } else if (pairMap.removed[xValue]) {\n      return { point: readFirstPair(xValue, \"removed\"), status: \"removed\" };\n    } else if (pairMap.added[xValue]) {\n      return { point: readFirstPair(xValue, \"added\"), status: \"added\" };\n    }\n    return { status: \"unknown\" };\n  };\n  const fromFn = (marker, datum) => {\n    var _a, _b, _c, _d, _e, _f;\n    const { status, point } = markerStatus(datum);\n    if (status === \"unknown\")\n      return { opacity: 0 };\n    const defaults = {\n      translationX: (_b = (_a = point == null ? void 0 : point.from) == null ? void 0 : _a.x) != null ? _b : marker.translationX,\n      translationY: (_d = (_c = point == null ? void 0 : point.from) == null ? void 0 : _c.y) != null ? _d : marker.translationY,\n      opacity: marker.opacity,\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n    };\n    if (parentStatus === \"added\") {\n      return __spreadProps(__spreadValues({}, defaults), {\n        opacity: 0,\n        translationX: (_e = point == null ? void 0 : point.to) == null ? void 0 : _e.x,\n        translationY: (_f = point == null ? void 0 : point.to) == null ? void 0 : _f.y,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"added\"]\n      });\n    }\n    if (status === \"added\") {\n      defaults.opacity = 0;\n    }\n    return defaults;\n  };\n  const toFn = (_marker, datum) => {\n    var _a, _b;\n    const { status, point } = markerStatus(datum);\n    if (status === \"unknown\")\n      return { opacity: 0 };\n    const defaults = {\n      translationX: datum.point.x,\n      translationY: datum.point.y,\n      opacity: 1,\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n    };\n    if (status === \"removed\" || parentStatus === \"removed\") {\n      return __spreadProps(__spreadValues({}, defaults), {\n        translationX: (_a = point == null ? void 0 : point.to) == null ? void 0 : _a.x,\n        translationY: (_b = point == null ? void 0 : point.to) == null ? void 0 : _b.y,\n        opacity: 0,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"removed\"]\n      });\n    }\n    return defaults;\n  };\n  return { fromFn, toFn };\n}\nfunction computeMarkerFocusBounds(series, { datumIndex }) {\n  const nodeData = series.getNodeData();\n  if (nodeData === void 0)\n    return void 0;\n  const datum = nodeData[datumIndex];\n  if (datum === void 0 || datum.point === void 0)\n    return void 0;\n  const size = series.getFormattedMarkerStyle(datum).size;\n  const radius = size / 2;\n  const { x, y } = series.contentGroup.inverseTransformPoint(datum.point.x - radius, datum.point.y - radius);\n  return new BBox(x, y, size, size);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/pathUtil.ts\nfunction minMax(nodeData) {\n  return nodeData.reduce(\n    ({ min, max }, node) => {\n      if (min == null || min.point.x > node.point.x) {\n        min = node;\n      }\n      if (max == null || max.point.x < node.point.x) {\n        max = node;\n      }\n      return { min, max };\n    },\n    {}\n  );\n}\nfunction intersectionOnLine(a, b, targetX) {\n  const m = (b.y - a.y) / (b.x - a.x);\n  const y = (targetX - a.x) * m + a.y;\n  return { x: targetX, y };\n}\nfunction backfillPathPoint(results, process, skip, processFn) {\n  let prevMarkerIdx = -1, nextMarkerIdx = 0;\n  const toProcess = [];\n  while (nextMarkerIdx < results.length) {\n    if (results[nextMarkerIdx].change === process) {\n      toProcess.push(results[nextMarkerIdx]);\n      nextMarkerIdx++;\n      continue;\n    }\n    if (results[nextMarkerIdx].change === skip) {\n      nextMarkerIdx++;\n      continue;\n    }\n    if (toProcess.length > 0) {\n      processFn(toProcess, prevMarkerIdx, nextMarkerIdx);\n      toProcess.length = 0;\n    }\n    prevMarkerIdx = nextMarkerIdx;\n    nextMarkerIdx++;\n  }\n  if (toProcess.length > 0) {\n    processFn(toProcess, prevMarkerIdx, nextMarkerIdx);\n  }\n}\nfunction backfillPathPointData(result, splitMode) {\n  backfillPathPoint(result, \"out\", \"in\", (toProcess, sIdx, eIdx) => {\n    var _a, _b;\n    if (sIdx === -1 && result[eIdx]) {\n      toProcess.forEach((d) => d.to = result[eIdx].from);\n    } else if (eIdx === result.length && result[sIdx]) {\n      toProcess.forEach((d) => d.to = result[sIdx].from);\n    } else if (splitMode === \"intersect\" && ((_a = result[sIdx]) == null ? void 0 : _a.from) && ((_b = result[eIdx]) == null ? void 0 : _b.from)) {\n      toProcess.forEach((d) => d.to = intersectionOnLine(result[sIdx].from, result[eIdx].from, d.from.x));\n    } else {\n      toProcess.forEach((d) => d.to = d.from);\n    }\n  });\n  backfillPathPoint(result, \"in\", \"out\", (toProcess, sIdx, eIdx) => {\n    var _a, _b;\n    if (sIdx === -1 && result[eIdx]) {\n      toProcess.forEach((d) => d.from = result[eIdx].to);\n    } else if (eIdx === result.length && result[sIdx]) {\n      toProcess.forEach((d) => d.from = result[sIdx].to);\n    } else if (splitMode === \"intersect\" && ((_a = result[sIdx]) == null ? void 0 : _a.to) && ((_b = result[eIdx]) == null ? void 0 : _b.to)) {\n      toProcess.forEach((d) => d.from = intersectionOnLine(result[sIdx].to, result[eIdx].to, d.to.x));\n    } else {\n      toProcess.forEach((d) => d.from = d.to);\n    }\n  });\n}\nfunction calculatePoint(from, to, ratio) {\n  const x1 = isNaN(from.x) ? to.x : from.x;\n  const y1 = isNaN(from.y) ? to.y : from.y;\n  const xd = to.x - from.x;\n  const yd = to.y - from.y;\n  const xr = isNaN(xd) ? 0 : xd * ratio;\n  const yr = isNaN(yd) ? 0 : yd * ratio;\n  return {\n    x: x1 + xr,\n    y: y1 + yr\n  };\n}\nfunction renderPartialPath(pairData, ratios, path) {\n  const { path: linePath } = path;\n  let previousTo;\n  for (const data of pairData) {\n    const { from, to } = data;\n    const ratio = ratios[data.change];\n    if (ratio == null || from == null || to == null)\n      continue;\n    const { x, y } = calculatePoint(from, to, ratio);\n    if (data.moveTo === false) {\n      linePath.lineTo(x, y);\n    } else if (data.moveTo === true || !previousTo) {\n      linePath.moveTo(x, y);\n    } else if (previousTo) {\n      const moveToRatio = data.moveTo === \"in\" ? ratio : 1 - ratio;\n      const { x: midPointX, y: midPointY } = calculatePoint(previousTo, { x, y }, moveToRatio);\n      linePath.lineTo(midPointX, midPointY);\n      linePath.moveTo(x, y);\n    }\n    previousTo = { x, y };\n  }\n}\nfunction pathSwipeInAnimation({ id, visible, nodeDataDependencies }, animationManager, ...paths) {\n  const { seriesRectWidth: width, seriesRectHeight: height } = nodeDataDependencies;\n  staticFromToMotion(\n    id,\n    \"path_properties\",\n    animationManager,\n    paths,\n    { clipX: 0 },\n    { clipX: width },\n    {\n      phase: \"initial\",\n      start: { clipMode: \"normal\", clipY: height, visible },\n      finish: { clipMode: void 0, visible }\n    }\n  );\n}\nfunction pathFadeInAnimation({ id }, subId, animationManager, phase = \"add\", ...selection) {\n  staticFromToMotion(id, subId, animationManager, selection, { opacity: 0 }, { opacity: 1 }, { phase });\n}\nfunction pathFadeOutAnimation({ id }, subId, animationManager, ...selection) {\n  staticFromToMotion(id, subId, animationManager, selection, { opacity: 1 }, { opacity: 0 }, { phase: \"remove\" });\n}\nfunction buildResetPathFn(opts) {\n  return (_node) => {\n    return { opacity: opts.getOpacity(), clipScalingX: 1, clipMode: void 0 };\n  };\n}\nfunction updateClipPath({ nodeDataDependencies }, path) {\n  const toFinite = (value) => isFinite(value) ? value : 0;\n  path.clipX = toFinite(nodeDataDependencies.seriesRectWidth);\n  path.clipY = toFinite(nodeDataDependencies.seriesRectHeight);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/scaling.ts\nfunction isContinuousScaling(scaling) {\n  return scaling.type === \"continuous\" || scaling.type === \"log\";\n}\nfunction isCategoryScaling(scaling) {\n  return scaling.type === \"category\";\n}\nfunction areEqual(a, b) {\n  return a.domain.length === b.domain.length && a.range.length === b.range.length && a.domain.every((val, index) => val === b.domain[index]) && a.range.every((val, index) => val === b.range[index]);\n}\nfunction areScalingEqual(a, b) {\n  if (a === void 0 || b === void 0) {\n    return a !== void 0 || b !== void 0;\n  }\n  if (isContinuousScaling(a) && isContinuousScaling(b)) {\n    return a.type === b.type && areEqual(a, b);\n  }\n  if (isCategoryScaling(a) && isCategoryScaling(b)) {\n    return areEqual(a, b);\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineUtil.ts\nfunction scale(val, scaling) {\n  if (!scaling)\n    return NaN;\n  if (val instanceof Date) {\n    val = val.getTime();\n  }\n  if (scaling.type === \"continuous\" && typeof val === \"number\") {\n    const domainRatio = (val - scaling.domain[0]) / (scaling.domain[1] - scaling.domain[0]);\n    return domainRatio * (scaling.range[1] - scaling.range[0]) + scaling.range[0];\n  }\n  if (scaling.type === \"log\" && typeof val === \"number\") {\n    return scaling.convert(val);\n  }\n  const matchingIndex = scaling.domain.findIndex((d) => d === val);\n  if (matchingIndex >= 0) {\n    return scaling.range[matchingIndex];\n  }\n  return NaN;\n}\nfunction scalesChanged(newData, oldData) {\n  return !areScalingEqual(newData.scales.x, oldData.scales.x) || !areScalingEqual(newData.scales.y, oldData.scales.y);\n}\nfunction closeMatch(a, b) {\n  const an = Number(a);\n  const bn = Number(b);\n  if (!isNaN(an) && !isNaN(bn)) {\n    return Math.abs(bn - an) < 0.25;\n  }\n  return a === b;\n}\nfunction calculateMoveTo(from = false, to = false) {\n  if (from === to) {\n    return Boolean(from);\n  }\n  return from ? \"in\" : \"out\";\n}\nfunction pairContinuousData(newData, oldData, opts = {}) {\n  var _a, _b, _c, _d;\n  const { backfillSplitMode = \"intersect\" } = opts;\n  const toNewScale = (oldDatum) => {\n    var _a2, _b2;\n    return {\n      x: scale((_a2 = oldDatum.xValue) != null ? _a2 : NaN, newData.scales.x),\n      y: scale((_b2 = oldDatum.yValue) != null ? _b2 : NaN, newData.scales.y)\n    };\n  };\n  const toOldScale = (newDatum) => {\n    var _a2, _b2;\n    return {\n      x: scale((_a2 = newDatum.xValue) != null ? _a2 : NaN, oldData.scales.x),\n      y: scale((_b2 = newDatum.yValue) != null ? _b2 : NaN, oldData.scales.y)\n    };\n  };\n  const result = [];\n  const resultMap = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const pairUp = (from, to, xValue, change = \"move\") => {\n    if (from && (isNaN(from.point.x) || isNaN(from.point.y))) {\n      from = to;\n    }\n    const resultPoint = {\n      from: from == null ? void 0 : from.point,\n      to: to == null ? void 0 : to.point,\n      moveTo: calculateMoveTo(from == null ? void 0 : from.point.moveTo, to == null ? void 0 : to.point.moveTo),\n      change\n    };\n    if (change === \"move\") {\n      resultMap.moved[xValue] = resultPoint;\n      oldIdx++;\n      newIdx++;\n    } else if (change === \"in\") {\n      resultMap.added[xValue] = resultPoint;\n      newIdx++;\n    } else if (change === \"out\") {\n      resultMap.removed[xValue] = resultPoint;\n      oldIdx++;\n    }\n    result.push(resultPoint);\n  };\n  const { min: minFromNode, max: maxFromNode } = minMax(oldData.nodeData);\n  const { min: minToNode, max: maxToNode } = minMax(newData.nodeData);\n  let oldIdx = 0;\n  let newIdx = 0;\n  while (oldIdx < oldData.nodeData.length || newIdx < newData.nodeData.length) {\n    const from = oldData.nodeData[oldIdx];\n    const to = newData.nodeData[newIdx];\n    const fromShifted = from ? toNewScale(from) : void 0;\n    const toUnshifted = to ? toOldScale(to) : void 0;\n    const NA = void 0;\n    if (fromShifted && closeMatch(fromShifted.x, to == null ? void 0 : to.point.x)) {\n      pairUp(from, to, to.xValue, \"move\");\n    } else if (fromShifted && fromShifted.x < ((_a = minToNode == null ? void 0 : minToNode.point.x) != null ? _a : -Infinity)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (fromShifted && fromShifted.x > ((_b = maxToNode == null ? void 0 : maxToNode.point.x) != null ? _b : Infinity)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (toUnshifted && toUnshifted.x < ((_c = minFromNode == null ? void 0 : minFromNode.point.x) != null ? _c : -Infinity)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (toUnshifted && toUnshifted.x > ((_d = maxFromNode == null ? void 0 : maxFromNode.point.x) != null ? _d : Infinity)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (fromShifted && fromShifted.x < (to == null ? void 0 : to.point.x)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (toUnshifted && toUnshifted.x < (from == null ? void 0 : from.point.x)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (from) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (to) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else {\n      throw new Error(\"Unable to process points\");\n    }\n  }\n  backfillPathPointData(result, backfillSplitMode);\n  return { result, resultMap };\n}\nfunction pairCategoryData(newData, oldData, diff2, opts = {}) {\n  var _a, _b, _c;\n  const { backfillSplitMode = \"intersect\", multiDatum = false } = opts;\n  const result = [];\n  const resultMapSingle = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const resultMapMulti = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const pointResultMapping = {\n    in: \"added\",\n    move: \"moved\",\n    out: \"removed\"\n  };\n  let previousResultPoint = void 0;\n  let previousXValue = void 0;\n  const addToResultMap = (xValue, newPoint) => {\n    var _a2, _b2;\n    const type = pointResultMapping[newPoint.change];\n    if (multiDatum) {\n      (_b2 = (_a2 = resultMapMulti[type])[xValue]) != null ? _b2 : _a2[xValue] = [];\n      resultMapMulti[type][xValue].push(newPoint);\n    } else {\n      resultMapSingle[type][xValue] = newPoint;\n    }\n    previousResultPoint = newPoint;\n    previousXValue = transformIntegratedCategoryValue(xValue);\n  };\n  let oldIndex = 0;\n  let newIndex = 0;\n  let isXUnordered = false;\n  while (oldIndex < oldData.nodeData.length || newIndex < newData.nodeData.length) {\n    const before = oldData.nodeData[oldIndex];\n    const after = newData.nodeData[newIndex];\n    const bXValue = transformIntegratedCategoryValue(before == null ? void 0 : before.xValue);\n    const aXValue = transformIntegratedCategoryValue(after == null ? void 0 : after.xValue);\n    let resultPoint;\n    if (bXValue === aXValue) {\n      resultPoint = {\n        change: \"move\",\n        moveTo: calculateMoveTo((_a = before.point.moveTo) != null ? _a : false, after.point.moveTo),\n        from: before.point,\n        to: after.point\n      };\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n      newIndex++;\n    } else if (diff2 == null ? void 0 : diff2.removed.has(String(bXValue))) {\n      resultPoint = {\n        change: \"out\",\n        moveTo: (_b = before.point.moveTo) != null ? _b : false,\n        from: before.point\n      };\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n    } else if (diff2 == null ? void 0 : diff2.added.has(String(aXValue))) {\n      resultPoint = {\n        change: \"in\",\n        moveTo: (_c = after.point.moveTo) != null ? _c : false,\n        to: after.point\n      };\n      addToResultMap(after == null ? void 0 : after.xValue, resultPoint);\n      newIndex++;\n    } else if (multiDatum && previousResultPoint && previousXValue === bXValue) {\n      resultPoint = __spreadValues({}, previousResultPoint);\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n    } else if (multiDatum && previousResultPoint && previousXValue === aXValue) {\n      resultPoint = __spreadValues({}, previousResultPoint);\n      addToResultMap(after == null ? void 0 : after.xValue, resultPoint);\n      newIndex++;\n    } else {\n      isXUnordered = true;\n      break;\n    }\n    result.push(resultPoint);\n  }\n  let previousX = -Infinity;\n  isXUnordered || (isXUnordered = result.some((pathPoint) => {\n    const { change: marker, to: { x = -Infinity } = {} } = pathPoint;\n    if (marker === \"out\")\n      return;\n    const unordered = x < previousX;\n    previousX = x;\n    return unordered;\n  }));\n  if (isXUnordered) {\n    return { result: void 0, resultMap: void 0 };\n  }\n  backfillPathPointData(result, backfillSplitMode);\n  return { result, resultMap: multiDatum ? resultMapMulti : resultMapSingle };\n}\nfunction determinePathStatus(newData, oldData, pairData) {\n  var _a, _b, _c, _d;\n  let status = \"updated\";\n  const visible = (data) => {\n    return data.visible;\n  };\n  if (!visible(oldData) && visible(newData)) {\n    status = \"added\";\n  } else if (visible(oldData) && !visible(newData)) {\n    status = \"removed\";\n  } else {\n    for (let i = 0; i < pairData.length; i++) {\n      if (pairData[i].change !== \"move\")\n        break;\n      if (((_a = pairData[i].from) == null ? void 0 : _a.x) !== ((_b = pairData[i].to) == null ? void 0 : _b.x))\n        break;\n      if (((_c = pairData[i].from) == null ? void 0 : _c.y) !== ((_d = pairData[i].to) == null ? void 0 : _d.y))\n        break;\n      if (i === pairData.length - 1)\n        return \"no-op\";\n    }\n  }\n  return status;\n}\nfunction prepareLinePathPropertyAnimation(status, visibleToggleMode) {\n  const phase = visibleToggleMode === \"none\" ? \"updated\" : status;\n  const result = {\n    fromFn: (_path) => {\n      let mixin;\n      if (status === \"removed\") {\n        mixin = { finish: { visible: false } };\n      } else if (status === \"added\") {\n        mixin = { start: { visible: true } };\n      } else {\n        mixin = {};\n      }\n      return __spreadValues({ phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase] }, mixin);\n    },\n    toFn: (_path) => {\n      return { phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase] };\n    }\n  };\n  if (visibleToggleMode === \"fade\") {\n    return {\n      fromFn: (path) => {\n        const opacity = status === \"added\" ? 0 : path.opacity;\n        return __spreadValues({ opacity }, result.fromFn(path));\n      },\n      toFn: (path) => {\n        const opacity = status === \"removed\" ? 0 : 1;\n        return __spreadValues({ opacity }, result.toFn(path));\n      }\n    };\n  }\n  return result;\n}\nfunction prepareLinePathAnimationFns(newData, oldData, pairData, visibleToggleMode, render) {\n  const status = determinePathStatus(newData, oldData, pairData);\n  const removePhaseFn = (ratio, path) => {\n    render(pairData, { move: 0, out: ratio }, path);\n  };\n  const updatePhaseFn = (ratio, path) => {\n    render(pairData, { move: ratio }, path);\n  };\n  const addPhaseFn = (ratio, path) => {\n    render(pairData, { move: 1, in: ratio }, path);\n  };\n  const pathProperties = prepareLinePathPropertyAnimation(status, visibleToggleMode);\n  return { status, path: { addPhaseFn, updatePhaseFn, removePhaseFn }, pathProperties };\n}\nfunction prepareLinePathAnimation(newData, oldData, diff2) {\n  var _a, _b, _c;\n  const isCategoryBased = ((_a = newData.scales.x) == null ? void 0 : _a.type) === \"category\";\n  const wasCategoryBased = ((_b = oldData.scales.x) == null ? void 0 : _b.type) === \"category\";\n  if (isCategoryBased !== wasCategoryBased) {\n    return;\n  }\n  const { result: pairData, resultMap: pairMap } = isCategoryBased ? pairCategoryData(newData, oldData, diff2) : pairContinuousData(newData, oldData);\n  let status = \"updated\";\n  if (oldData.visible && !newData.visible) {\n    status = \"removed\";\n  } else if (!oldData.visible && newData.visible) {\n    status = \"added\";\n  }\n  if (pairData === void 0 || pairMap === void 0) {\n    return;\n  }\n  const hasMotion = ((_c = diff2 == null ? void 0 : diff2.changed) != null ? _c : true) || scalesChanged(newData, oldData) || status !== \"updated\";\n  const pathFns = prepareLinePathAnimationFns(newData, oldData, pairData, \"fade\", renderPartialPath);\n  const marker = prepareMarkerAnimation(pairMap, status);\n  return __spreadProps(__spreadValues({}, pathFns), { marker, hasMotion });\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaUtil.ts\nvar AreaSeriesTag = /* @__PURE__ */ ((AreaSeriesTag2) => {\n  AreaSeriesTag2[AreaSeriesTag2[\"Fill\"] = 0] = \"Fill\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Stroke\"] = 1] = \"Stroke\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Marker\"] = 2] = \"Marker\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Label\"] = 3] = \"Label\";\n  return AreaSeriesTag2;\n})(AreaSeriesTag || {});\nfunction splitFillPoints(context) {\n  const { points, phantomPoints } = context.fillData;\n  return { top: points, bottom: phantomPoints };\n}\nfunction prepPoints(key, ctx, points) {\n  return {\n    scales: ctx.scales,\n    nodeData: points[key],\n    visible: ctx.visible\n  };\n}\nfunction pairFillCategoryData(newData, oldData, diff2) {\n  const oldPoints = splitFillPoints(oldData);\n  const newPoints = splitFillPoints(newData);\n  const pairOpts = { multiDatum: true };\n  return {\n    top: pairCategoryData(\n      prepPoints(\"top\", newData, newPoints),\n      prepPoints(\"top\", oldData, oldPoints),\n      diff2,\n      pairOpts\n    ),\n    bottom: pairCategoryData(\n      prepPoints(\"bottom\", newData, newPoints),\n      prepPoints(\"bottom\", oldData, oldPoints),\n      diff2,\n      pairOpts\n    )\n  };\n}\nfunction pairFillContinuousData(newData, oldData) {\n  const oldPoints = splitFillPoints(oldData);\n  const newPoints = splitFillPoints(newData);\n  return {\n    top: pairContinuousData(prepPoints(\"top\", newData, newPoints), prepPoints(\"top\", oldData, oldPoints)),\n    bottom: pairContinuousData(prepPoints(\"bottom\", newData, newPoints), prepPoints(\"bottom\", oldData, oldPoints))\n  };\n}\nfunction prepareAreaPathAnimation(newData, oldData, diff2) {\n  var _a, _b;\n  const isCategoryBased = ((_a = newData.scales.x) == null ? void 0 : _a.type) === \"category\";\n  const wasCategoryBased = ((_b = oldData.scales.x) == null ? void 0 : _b.type) === \"category\";\n  if (isCategoryBased !== wasCategoryBased) {\n    return;\n  }\n  let status = \"updated\";\n  if (oldData.visible && !newData.visible) {\n    status = \"removed\";\n  } else if (!oldData.visible && newData.visible) {\n    status = \"added\";\n  }\n  const prepareMarkerPairs = () => {\n    if (isCategoryBased) {\n      return pairCategoryData(newData, oldData, diff2, { backfillSplitMode: \"static\", multiDatum: true });\n    }\n    return pairContinuousData(newData, oldData, { backfillSplitMode: \"static\" });\n  };\n  const prepareFillPairs = () => {\n    if (isCategoryBased) {\n      return pairFillCategoryData(newData, oldData, diff2);\n    }\n    return pairFillContinuousData(newData, oldData);\n  };\n  const { resultMap: markerPairMap } = prepareMarkerPairs();\n  const { top, bottom } = prepareFillPairs();\n  if (markerPairMap === void 0 || top.result === void 0 || bottom.result === void 0) {\n    return;\n  }\n  const pairData = [...top.result, ...bottom.result.reverse()];\n  const stackVisible = oldData.stackVisible ? newData.stackVisible : false;\n  const fadeMode = stackVisible ? \"none\" : \"fade\";\n  const fill = prepareLinePathAnimationFns(newData, oldData, pairData, fadeMode, renderPartialPath);\n  const marker = prepareMarkerAnimation(markerPairMap, status);\n  return { status: fill.status, fill, marker };\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeries.ts\nvar AreaSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pathsPerSeries: 2,\n      pathsZIndexSubOrderOffset: [0, 1e3],\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      pickModes: [1 /* NEAREST_BY_MAIN_AXIS_FIRST */, 0 /* EXACT_SHAPE_MATCH */],\n      animationResetFns: {\n        path: buildResetPathFn({ getOpacity: () => this.getOpacity() }),\n        label: resetLabelFn,\n        marker: (node, datum) => __spreadValues(__spreadValues({}, resetMarkerFn(node)), resetMarkerPositionFn(node, datum))\n      }\n    });\n    this.properties = new AreaSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      const { data, visible, seriesGrouping: { groupIndex = this.id, stackCount = 1 } = {} } = this;\n      const { xKey, yKey, connectMissingData, normalizedTo } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const { isContinuousX, xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const ids = [\n        `area-stack-${groupIndex}-yValues`,\n        `area-stack-${groupIndex}-yValues-trailing`,\n        `area-stack-${groupIndex}-yValues-prev`,\n        `area-stack-${groupIndex}-yValues-trailing-prev`,\n        `area-stack-${groupIndex}-yValues-marker`\n      ];\n      const extraProps = [];\n      if (isDefined(normalizedTo)) {\n        extraProps.push(normaliseGroupTo([ids[0], ids[1], ids[4]], normalizedTo, \"range\"));\n        extraProps.push(normaliseGroupTo([ids[2], ids[3]], normalizedTo, \"range\"));\n      }\n      if (!isContinuousX && animationEnabled && this.processedData) {\n        extraProps.push(diff(this.processedData));\n      }\n      if (animationEnabled) {\n        extraProps.push(animationValidation());\n      }\n      const common = { invalidValue: null };\n      if (connectMissingData && stackCount > 1) {\n        common.invalidValue = 0;\n      }\n      if (!visible) {\n        common.forceValue = 0;\n      }\n      yield this.requestDataModel(dataController, data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xValue\" }),\n          valueProperty(yKey, yScaleType, __spreadValues({ id: `yValueRaw` }, common)),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window\",\n            \"current\",\n            __spreadProps(__spreadValues({\n              id: `yValueEnd`\n            }, common), {\n              groupId: ids[0]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window-trailing\",\n            \"current\",\n            __spreadProps(__spreadValues({\n              id: `yValueStart`\n            }, common), {\n              groupId: ids[1]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window\",\n            \"last\",\n            __spreadProps(__spreadValues({\n              id: `yValuePreviousEnd`\n            }, common), {\n              groupId: ids[2]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window-trailing\",\n            \"last\",\n            __spreadProps(__spreadValues({\n              id: `yValuePreviousStart`\n            }, common), {\n              groupId: ids[3]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"normal\",\n            \"current\",\n            __spreadProps(__spreadValues({\n              id: `yValueCumulative`\n            }, common), {\n              groupId: ids[4]\n            }),\n            yScaleType\n          ),\n          ...extraProps\n        ],\n        groupByKeys: true,\n        groupByData: false\n      });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { processedData, dataModel, axes } = this;\n    if (!processedData || !dataModel || processedData.data.length === 0)\n      return [];\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const keyDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    const keys = dataModel.getDomain(this, `xValue`, \"key\", processedData);\n    const yExtent = dataModel.getDomain(this, `yValueEnd`, \"value\", processedData);\n    if (direction === \"x\" /* X */) {\n      if ((keyDef == null ? void 0 : keyDef.def.type) === \"key\" && keyDef.def.valueType === \"category\") {\n        return keys;\n      }\n      return fixNumericExtent(extent(keys), xAxis);\n    } else if (yAxis instanceof LogAxis || yAxis instanceof TimeAxis) {\n      return fixNumericExtent(yExtent, yAxis);\n    } else {\n      const fixedYExtent = [yExtent[0] > 0 ? 0 : yExtent[0], yExtent[1] < 0 ? 0 : yExtent[1]];\n      return fixNumericExtent(fixedYExtent, yAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      const { axes, data, processedData: { data: groupedData } = {}, dataModel } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!xAxis || !yAxis || !data || !dataModel || !this.properties.isValid()) {\n        return;\n      }\n      const {\n        yKey,\n        xKey,\n        marker,\n        label,\n        fill: seriesFill,\n        stroke: seriesStroke,\n        connectMissingData\n      } = this.properties;\n      const { scale: xScale } = xAxis;\n      const { scale: yScale } = yAxis;\n      const { isContinuousY } = this.getScaleInformation({ xScale, yScale });\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const defs = dataModel.resolveProcessedDataDefsByIds(this, [\n        `yValueStart`,\n        `yValueEnd`,\n        `yValueRaw`,\n        `yValuePreviousStart`,\n        `yValuePreviousEnd`,\n        `yValueCumulative`\n      ]);\n      const createMovePoint = (plainPoint) => __spreadProps(__spreadValues({}, plainPoint), {\n        point: __spreadProps(__spreadValues({}, plainPoint.point), { moveTo: true })\n      });\n      const createPathCoordinates = (xValue, lastYEnd, yEnd) => {\n        const x = xScale.convert(xValue) + xOffset;\n        const prevYCoordinate = yScale.convert(lastYEnd);\n        const currYCoordinate = yScale.convert(yEnd);\n        return [\n          { point: { x, y: currYCoordinate }, yValue: yEnd, xValue },\n          { point: { x, y: prevYCoordinate }, yValue: lastYEnd, xValue }\n        ];\n      };\n      const createMarkerCoordinate = (xDatum, yEnd, rawYDatum) => {\n        let currY;\n        if (isDefined(this.properties.normalizedTo) ? isContinuousY && isContinuous(rawYDatum) : !isNaN(rawYDatum)) {\n          currY = yEnd;\n        }\n        return {\n          x: xScale.convert(xDatum) + xOffset,\n          y: yScale.convert(currY),\n          size: marker.size\n        };\n      };\n      const itemId = yKey;\n      const labelData = [];\n      const markerData = [];\n      const { visibleSameStackCount } = this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);\n      const context = {\n        itemId,\n        fillData: { itemId, points: [], phantomPoints: [] },\n        strokeData: { itemId, points: [] },\n        labelData,\n        nodeData: markerData,\n        scales: this.calculateScaling(),\n        visible: this.visible,\n        stackVisible: visibleSameStackCount > 0\n      };\n      const fillPoints = context.fillData.points;\n      const fillPhantomPoints = context.fillData.phantomPoints;\n      const strokePoints = context.strokeData.points;\n      let datumIdx = -1;\n      let lastXDatum;\n      let lastYDatum = -Infinity;\n      groupedData == null ? void 0 : groupedData.forEach((datumGroup) => {\n        const {\n          keys,\n          keys: [xDatum],\n          datum: datumArray,\n          values: valuesArray\n        } = datumGroup;\n        valuesArray.forEach((values, valueIdx) => {\n          var _a2, _b, _c;\n          datumIdx++;\n          const seriesDatum = datumArray[valueIdx];\n          const dataValues = dataModel.resolveProcessedDataDefsValues(defs, { keys, values });\n          const { yValueRaw: yDatum, yValueCumulative } = dataValues;\n          let { yValueStart, yValueEnd, yValuePreviousStart, yValuePreviousEnd } = dataValues;\n          const validPoint = yDatum != null;\n          const point = createMarkerCoordinate(xDatum, +yValueCumulative, yDatum);\n          if (validPoint && marker) {\n            markerData.push({\n              index: datumIdx,\n              series: this,\n              itemId,\n              datum: seriesDatum,\n              midPoint: { x: point.x, y: point.y },\n              cumulativeValue: yValueEnd,\n              yValue: yDatum,\n              xValue: xDatum,\n              yKey,\n              xKey,\n              point,\n              fill: (_a2 = marker.fill) != null ? _a2 : seriesFill,\n              stroke: (_b = marker.stroke) != null ? _b : seriesStroke,\n              strokeWidth: (_c = marker.strokeWidth) != null ? _c : this.getStrokeWidth(this.properties.strokeWidth)\n            });\n          }\n          if (validPoint && label) {\n            const labelText = this.getLabelText(\n              label,\n              {\n                value: yDatum,\n                datum: seriesDatum,\n                xKey,\n                yKey,\n                xName: this.properties.xName,\n                yName: this.properties.yName\n              },\n              (value) => isFiniteNumber(value) ? value.toFixed(2) : String(value)\n            );\n            labelData.push({\n              index: datumIdx,\n              series: this,\n              itemId: yKey,\n              datum: seriesDatum,\n              x: point.x,\n              y: point.y,\n              label: labelText ? {\n                text: labelText,\n                fontStyle: label.fontStyle,\n                fontWeight: label.fontWeight,\n                fontSize: label.fontSize,\n                fontFamily: label.fontFamily,\n                textAlign: \"center\",\n                textBaseline: \"bottom\",\n                fill: label.color\n              } : void 0\n            });\n          }\n          const xValid = lastXDatum != null && xDatum != null;\n          const yValid = lastYDatum != null && validPoint;\n          if (!yValid) {\n            yValueStart = yValueStart != null ? yValueStart : 0;\n            yValueEnd = yValueStart != null ? yValueStart : 0;\n            yValuePreviousStart = yValuePreviousStart != null ? yValuePreviousStart : 0;\n            yValuePreviousEnd = yValuePreviousStart != null ? yValuePreviousStart : 0;\n          }\n          const [prevTop, prevBottom] = createPathCoordinates(lastXDatum, yValuePreviousStart, yValuePreviousEnd);\n          const [top, bottom] = createPathCoordinates(xDatum, yValueStart, yValueEnd);\n          if (xValid && (!connectMissingData || yValid)) {\n            fillPoints.push(prevTop, top);\n            fillPhantomPoints.push(prevBottom, bottom);\n          }\n          if (yValid && datumIdx > 0) {\n            strokePoints.push(createMovePoint(prevTop), top);\n          }\n          lastXDatum = xDatum;\n          lastYDatum = yDatum;\n        });\n      });\n      if (strokePoints.length > 0) {\n        strokePoints[0] = createMovePoint(strokePoints[0]);\n      }\n      return context;\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const { opacity, visible, animationEnabled } = opts;\n      const [fill, stroke] = opts.paths;\n      const strokeWidth = this.getStrokeWidth(this.properties.strokeWidth);\n      stroke.setProperties({\n        tag: 1 /* Stroke */,\n        fill: void 0,\n        lineJoin: stroke.lineCap = \"round\",\n        pointerEvents: 1 /* None */,\n        stroke: this.properties.stroke,\n        strokeWidth,\n        strokeOpacity: this.properties.strokeOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset,\n        opacity,\n        visible\n      });\n      fill.setProperties({\n        tag: 0 /* Fill */,\n        stroke: void 0,\n        lineJoin: \"round\",\n        pointerEvents: 1 /* None */,\n        fill: this.properties.fill,\n        fillOpacity: this.properties.fillOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset,\n        strokeOpacity: this.properties.strokeOpacity,\n        fillShadow: this.properties.shadow,\n        opacity,\n        visible: visible || animationEnabled,\n        strokeWidth\n      });\n      updateClipPath(this, stroke);\n      updateClipPath(this, fill);\n    });\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      this.updateAreaPaths(opts.paths, opts.contextData);\n    });\n  }\n  updateAreaPaths(paths, contextData) {\n    this.updateFillPath(paths, contextData);\n    this.updateStrokePath(paths, contextData);\n  }\n  updateFillPath(paths, contextData) {\n    const { fillData } = contextData;\n    const [fill] = paths;\n    const { path: fillPath } = fill;\n    fillPath.clear(true);\n    let lastPoint;\n    for (const { point } of iterate(fillData.points, iterateReverseArray(fillData.phantomPoints))) {\n      if (point.moveTo) {\n        fillPath.moveTo(point.x, point.y);\n      } else if ((lastPoint == null ? void 0 : lastPoint.y) !== point.y) {\n        if (lastPoint) {\n          fillPath.lineTo(lastPoint.x, lastPoint.y);\n        }\n        fillPath.lineTo(point.x, point.y);\n      }\n      lastPoint = point;\n    }\n    if (lastPoint) {\n      fillPath.lineTo(lastPoint.x, lastPoint.y);\n    }\n    fillPath.closePath();\n    fill.checkPathDirty();\n  }\n  updateStrokePath(paths, contextData) {\n    const { strokeData } = contextData;\n    const [, stroke] = paths;\n    const { path: strokePath } = stroke;\n    strokePath.clear(true);\n    for (const { point } of strokeData.points) {\n      if (point.moveTo) {\n        strokePath.moveTo(point.x, point.y);\n      } else {\n        strokePath.lineTo(point.x, point.y);\n      }\n    }\n    stroke.checkPathDirty();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, markerSelection } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(this.properties.marker.enabled ? nodeData : []);\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, marker, fill, stroke, strokeWidth, fillOpacity, strokeOpacity, highlightStyle } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle(), {\n        fill,\n        stroke,\n        strokeWidth,\n        fillOpacity,\n        strokeOpacity\n      });\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey }, baseStyle);\n      });\n      if (!highlighted) {\n        this.properties.marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const { labelData, labelSelection } = opts;\n      return labelSelection.update(labelData, (text) => {\n        text.tag = 3 /* Label */;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { labelSelection } = opts;\n      const { enabled: labelEnabled, fontStyle, fontWeight, fontSize, fontFamily, color } = this.properties.label;\n      labelSelection.each((text, datum) => {\n        const { x, y, label } = datum;\n        if (label && labelEnabled && this.visible) {\n          text.fontStyle = fontStyle;\n          text.fontWeight = fontWeight;\n          text.fontSize = fontSize;\n          text.fontFamily = fontFamily;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n          text.text = label.text;\n          text.x = x;\n          text.y = y - 10;\n          text.fill = color;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    const { id: seriesId, axes, dataModel } = this;\n    const { xKey, xName, yName, tooltip, marker } = this.properties;\n    const { yKey, xValue, yValue, datum, itemId } = nodeDatum;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !(xAxis && yAxis && isFiniteNumber(yValue)) || !dataModel) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml(yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    const baseStyle = mergeDefaults({ fill: this.properties.fill }, marker.getStyle(), {\n      stroke: this.properties.stroke,\n      strokeWidth: this.properties.strokeWidth\n    });\n    const { fill: color } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, xKey, yKey, highlighted: false },\n      baseStyle\n    );\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      {\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        color,\n        title,\n        seriesId\n      }\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    const { yKey, yName, fill, stroke, fillOpacity, strokeOpacity, strokeWidth, lineDash, marker, visible } = this.properties;\n    const useAreaFill = !marker.enabled || marker.fill === void 0;\n    return [\n      {\n        legendType,\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: yName != null ? yName : yKey\n        },\n        marker: {\n          shape: marker.shape,\n          fill: useAreaFill ? fill : marker.fill,\n          fillOpacity: useAreaFill ? fillOpacity : marker.fillOpacity,\n          stroke: (_b = marker.stroke) != null ? _b : stroke,\n          strokeOpacity: (_c = marker.strokeOpacity) != null ? _c : strokeOpacity,\n          strokeWidth: (_d = marker.strokeWidth) != null ? _d : 0,\n          enabled: marker.enabled || strokeWidth <= 0\n        },\n        line: {\n          stroke,\n          strokeOpacity,\n          strokeWidth,\n          lineDash\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady(animationData) {\n    const { markerSelection, labelSelection, contextData, paths } = animationData;\n    const { animationManager } = this.ctx;\n    this.updateAreaPaths(paths, contextData);\n    pathSwipeInAnimation(this, animationManager, ...paths);\n    resetMotion([markerSelection], resetMarkerPositionFn);\n    markerSwipeScaleInAnimation(this, animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n  }\n  animateReadyResize(animationData) {\n    const { contextData, paths } = animationData;\n    this.updateAreaPaths(paths, contextData);\n    super.animateReadyResize(animationData);\n  }\n  animateWaitingUpdateReady(animationData) {\n    var _a, _b;\n    const { animationManager } = this.ctx;\n    const { markerSelection, labelSelection, contextData, paths, previousContextData } = animationData;\n    const [fill, stroke] = paths;\n    if (fill == null && stroke == null)\n      return;\n    super.resetAllAnimation(animationData);\n    const update = () => {\n      this.updateAreaPaths(paths, contextData);\n      this.updateStrokePath(paths, contextData);\n    };\n    const skip = () => {\n      animationManager.skipCurrentBatch();\n      update();\n    };\n    if (contextData == null || previousContextData == null) {\n      update();\n      markerFadeInAnimation(this, animationManager, \"added\", markerSelection);\n      pathFadeInAnimation(this, \"fill_path_properties\", animationManager, \"add\", fill);\n      pathFadeInAnimation(this, \"stroke\", animationManager, \"trailing\", stroke);\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n      return;\n    }\n    const fns = prepareAreaPathAnimation(contextData, previousContextData, (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff);\n    if (fns === void 0) {\n      skip();\n      return;\n    } else if (fns.status === \"no-op\") {\n      return;\n    }\n    markerFadeInAnimation(this, animationManager, void 0, markerSelection);\n    fromToMotion(this.id, \"fill_path_properties\", animationManager, [fill], fns.fill.pathProperties);\n    pathMotion(this.id, \"fill_path_update\", animationManager, [fill], fns.fill.path);\n    this.updateStrokePath(paths, contextData);\n    pathFadeInAnimation(this, \"stroke\", animationManager, \"trailing\", stroke);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const { xKey, yKey } = datum;\n    return this.getMarkerStyle(this.properties.marker, { datum, xKey, yKey, highlighted: true });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nAreaSeries.className = \"AreaSeries\";\nAreaSeries.type = \"area\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeriesModule.ts\nvar AreaSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"area\",\n  instanceConstructor: AreaSeries,\n  stackable: true,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    },\n    {\n      type: \"category\" /* CATEGORY */,\n      position: \"bottom\" /* BOTTOM */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      nodeClickRange: \"nearest\",\n      tooltip: { position: { type: \"node\" } },\n      fillOpacity: 0.8,\n      strokeOpacity: 1,\n      strokeWidth: 0,\n      lineDash: [0],\n      lineDashOffset: 0,\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        enabled: false,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 0\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  paletteFactory: (params) => {\n    const { marker } = markerPaletteFactory(params);\n    return { fill: marker.fill, stroke: marker.stroke, marker };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/quadtreeUtil.ts\nfunction* childrenIter(parent) {\n  for (const node of parent.children) {\n    yield node;\n  }\n}\nfunction addHitTestersToQuadtree(quadtree, hitTesters) {\n  for (const node of hitTesters) {\n    const datum = node.datum;\n    if (datum === void 0) {\n      Logger.error(\"undefined datum\");\n    } else {\n      quadtree.addValue(node, datum);\n    }\n  }\n}\nfunction findQuadtreeMatch(series, point) {\n  const { x, y } = series.contentGroup.transformPoint(point.x, point.y);\n  const { nearest, distanceSquared: distanceSquared2 } = series.getQuadTree().find(x, y);\n  if (nearest !== void 0) {\n    return { datum: nearest.value, distance: Math.sqrt(distanceSquared2) };\n  }\n  return void 0;\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/abstractBarSeries.ts\nvar AbstractBarSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.direction = \"vertical\";\n  }\n};\n__decorateClass([\n  Validate(DIRECTION)\n], AbstractBarSeriesProperties.prototype, \"direction\", 2);\nvar AbstractBarSeries = class extends CartesianSeries {\n  constructor() {\n    super(...arguments);\n    /**\n     * Used to get the position of bars within each group.\n     */\n    this.groupScale = new BandScale();\n    this.smallestDataInterval = void 0;\n  }\n  getBandScalePadding() {\n    return { inner: 0.2, outer: 0.1 };\n  }\n  shouldFlipXY() {\n    return !this.isVertical();\n  }\n  isVertical() {\n    return this.properties.direction === \"vertical\";\n  }\n  getBarDirection() {\n    return this.shouldFlipXY() ? \"x\" /* X */ : \"y\" /* Y */;\n  }\n  getCategoryDirection() {\n    return this.shouldFlipXY() ? \"y\" /* Y */ : \"x\" /* X */;\n  }\n  getValueAxis() {\n    const direction = this.getBarDirection();\n    return this.axes[direction];\n  }\n  getCategoryAxis() {\n    const direction = this.getCategoryDirection();\n    return this.axes[direction];\n  }\n  updateGroupScale(xAxis) {\n    const {\n      groupScale,\n      smallestDataInterval,\n      ctx: { seriesStateManager }\n    } = this;\n    const xScale = xAxis.scale;\n    const xBandWidth = ContinuousScale.is(xScale) ? xScale.calcBandwidth(smallestDataInterval) : xScale.bandwidth;\n    const domain = [];\n    const { index: groupIndex, visibleGroupCount } = seriesStateManager.getVisiblePeerGroupIndex(this);\n    for (let groupIdx = 0; groupIdx < visibleGroupCount; groupIdx++) {\n      domain.push(String(groupIdx));\n    }\n    groupScale.domain = domain;\n    groupScale.range = [0, xBandWidth != null ? xBandWidth : 0];\n    if (xAxis instanceof CategoryAxis) {\n      groupScale.paddingInner = xAxis.groupPaddingInner;\n    } else if (xAxis instanceof GroupedCategoryAxis) {\n      groupScale.padding = 0.1;\n    } else {\n      groupScale.padding = 0;\n    }\n    groupScale.round = groupScale.padding !== 0;\n    const barWidth = groupScale.bandwidth >= 1 ? (\n      // Pixel-rounded value for low-volume bar charts.\n      groupScale.bandwidth\n    ) : (\n      // Handle high-volume bar charts gracefully.\n      groupScale.rawBandwidth\n    );\n    return { barWidth, groupIndex };\n  }\n  resolveKeyDirection(direction) {\n    if (this.getBarDirection() === \"x\" /* X */) {\n      if (direction === \"x\" /* X */) {\n        return \"y\" /* Y */;\n      }\n      return \"x\" /* X */;\n    }\n    return direction;\n  }\n  initQuadTree(quadtree) {\n    addHitTestersToQuadtree(quadtree, this.datumNodesIter());\n  }\n  pickNodeClosestDatum(point) {\n    return findQuadtreeMatch(this, point);\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeriesProperties.ts\nvar BarSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"inside\";\n  }\n};\n__decorateClass([\n  Validate(PLACEMENT)\n], BarSeriesLabel.prototype, \"placement\", 2);\nvar BarSeriesProperties = class extends AbstractBarSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"#c16068\";\n    this.fillOpacity = 1;\n    this.stroke = \"#874349\";\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.shadow = new DropShadow();\n    this.label = new BarSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], BarSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BarSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING)\n], BarSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BarSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BarSeriesProperties.prototype, \"stackGroup\", 2);\n__decorateClass([\n  Validate(NUMBER, { optional: true })\n], BarSeriesProperties.prototype, \"normalizedTo\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], BarSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO)\n], BarSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], BarSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], BarSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO)\n], BarSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], BarSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], BarSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], BarSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], BarSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([\n  Validate(OBJECT, { optional: true })\n], BarSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], BarSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], BarSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/barUtil.ts\nfunction updateRect({ rect, config }) {\n  const {\n    crisp = true,\n    fill,\n    stroke,\n    strokeWidth,\n    fillOpacity,\n    strokeOpacity,\n    lineDash,\n    lineDashOffset,\n    fillShadow,\n    cornerRadius = 0,\n    topLeftCornerRadius = true,\n    topRightCornerRadius = true,\n    bottomRightCornerRadius = true,\n    bottomLeftCornerRadius = true,\n    visible = true\n  } = config;\n  rect.crisp = crisp;\n  rect.fill = fill;\n  rect.stroke = stroke;\n  rect.strokeWidth = strokeWidth;\n  rect.fillOpacity = fillOpacity;\n  rect.strokeOpacity = strokeOpacity;\n  rect.lineDash = lineDash;\n  rect.lineDashOffset = lineDashOffset;\n  rect.fillShadow = fillShadow;\n  rect.topLeftCornerRadius = topLeftCornerRadius ? cornerRadius : 0;\n  rect.topRightCornerRadius = topRightCornerRadius ? cornerRadius : 0;\n  rect.bottomRightCornerRadius = bottomRightCornerRadius ? cornerRadius : 0;\n  rect.bottomLeftCornerRadius = bottomLeftCornerRadius ? cornerRadius : 0;\n  rect.visible = visible;\n}\nfunction getRectConfig(_a) {\n  var _b = _a, {\n    datum,\n    isHighlighted,\n    style,\n    highlightStyle,\n    formatter,\n    seriesId,\n    ctx: { callbackCache }\n  } = _b, opts = __objRest(_b, [\n    \"datum\",\n    \"isHighlighted\",\n    \"style\",\n    \"highlightStyle\",\n    \"formatter\",\n    \"seriesId\",\n    \"ctx\"\n  ]);\n  var _a2, _b2, _c, _d, _e, _f;\n  const { fill, fillOpacity, stroke, strokeWidth } = mergeDefaults(isHighlighted && highlightStyle, style);\n  const {\n    strokeOpacity,\n    fillShadow,\n    lineDash,\n    lineDashOffset,\n    cornerRadius = 0,\n    topLeftCornerRadius = true,\n    topRightCornerRadius = true,\n    bottomRightCornerRadius = true,\n    bottomLeftCornerRadius = true\n  } = style;\n  let format2;\n  if (formatter) {\n    format2 = callbackCache.call(formatter, __spreadValues({\n      datum: datum.datum,\n      xKey: datum.xKey,\n      fill,\n      stroke,\n      strokeWidth,\n      cornerRadius,\n      highlighted: isHighlighted,\n      seriesId\n    }, opts));\n  }\n  return {\n    fill: (_a2 = format2 == null ? void 0 : format2.fill) != null ? _a2 : fill,\n    stroke: (_b2 = format2 == null ? void 0 : format2.stroke) != null ? _b2 : stroke,\n    strokeWidth: (_c = format2 == null ? void 0 : format2.strokeWidth) != null ? _c : strokeWidth,\n    fillOpacity: (_d = format2 == null ? void 0 : format2.fillOpacity) != null ? _d : fillOpacity,\n    strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity,\n    lineDash,\n    lineDashOffset,\n    fillShadow,\n    cornerRadius: (_f = format2 == null ? void 0 : format2.cornerRadius) != null ? _f : cornerRadius,\n    topLeftCornerRadius,\n    topRightCornerRadius,\n    bottomRightCornerRadius,\n    bottomLeftCornerRadius\n  };\n}\nfunction checkCrisp(visibleRange = []) {\n  const [visibleMin, visibleMax] = visibleRange;\n  const isZoomed = visibleMin !== 0 || visibleMax !== 1;\n  return !isZoomed;\n}\nvar isDatumNegative = (datum) => {\n  var _a;\n  return isNegative((_a = datum.yValue) != null ? _a : 0);\n};\nfunction collapsedStartingBarPosition(isVertical, axes, mode) {\n  const { startingX, startingY } = getStartingValues(isVertical, axes);\n  const calculate = (datum, prevDatum) => {\n    let x = isVertical ? datum.x : startingX;\n    let y = isVertical ? startingY : datum.y;\n    let width = isVertical ? datum.width : 0;\n    let height = isVertical ? 0 : datum.height;\n    const { opacity } = datum;\n    if (prevDatum && (isNaN(x) || isNaN(y))) {\n      ({ x, y } = prevDatum);\n      width = isVertical ? prevDatum.width : 0;\n      height = isVertical ? 0 : prevDatum.height;\n      if (isVertical && !isDatumNegative(prevDatum)) {\n        y += prevDatum.height;\n      } else if (!isVertical && isDatumNegative(prevDatum)) {\n        x += prevDatum.width;\n      }\n    }\n    let clipBBox;\n    if (datum.clipBBox == null) {\n      clipBBox = void 0;\n    } else if (isDatumNegative(datum)) {\n      clipBBox = isVertical ? new BBox(x, y - height, width, height) : new BBox(x - width, y, width, height);\n    } else {\n      clipBBox = new BBox(x, y, width, height);\n    }\n    return { x, y, width, height, clipBBox, opacity };\n  };\n  return { isVertical, calculate, mode };\n}\nfunction midpointStartingBarPosition(isVertical, mode) {\n  return {\n    isVertical,\n    calculate: (datum) => {\n      return {\n        x: isVertical ? datum.x : datum.x + datum.width / 2,\n        y: isVertical ? datum.y + datum.height / 2 : datum.y,\n        width: isVertical ? datum.width : 0,\n        height: isVertical ? 0 : datum.height,\n        clipBBox: datum.clipBBox,\n        opacity: datum.opacity\n      };\n    },\n    mode\n  };\n}\nfunction prepareBarAnimationFunctions(initPos) {\n  const isRemoved = (datum) => datum == null || isNaN(datum.x) || isNaN(datum.y);\n  const fromFn = (rect, datum, status) => {\n    if (status === \"updated\" && isRemoved(datum)) {\n      status = \"removed\";\n    } else if (status === \"updated\" && isRemoved(rect.previousDatum)) {\n      status = \"added\";\n    }\n    let source;\n    if (status === \"added\" && rect.previousDatum == null && initPos.mode === \"fade\") {\n      source = __spreadProps(__spreadValues({}, resetBarSelectionsFn(rect, datum)), { opacity: 0 });\n    } else if (status === \"unknown\" || status === \"added\") {\n      source = initPos.calculate(datum, rect.previousDatum);\n    } else {\n      source = {\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height,\n        clipBBox: rect.clipBBox,\n        opacity: rect.opacity\n      };\n    }\n    const phase = NODE_UPDATE_STATE_TO_PHASE_MAPPING[status];\n    return __spreadProps(__spreadValues({}, source), { phase });\n  };\n  const toFn = (rect, datum, status) => {\n    let source;\n    if (status === \"removed\" && rect.datum == null && initPos.mode === \"fade\") {\n      source = __spreadProps(__spreadValues({}, resetBarSelectionsFn(rect, datum)), { opacity: 0 });\n    } else if (status === \"removed\" || isRemoved(datum)) {\n      source = initPos.calculate(datum, rect.previousDatum);\n    } else {\n      source = {\n        x: datum.x,\n        y: datum.y,\n        width: datum.width,\n        height: datum.height,\n        clipBBox: datum.clipBBox,\n        opacity: datum.opacity\n      };\n    }\n    return source;\n  };\n  return { toFn, fromFn };\n}\nfunction getStartingValues(isVertical, axes) {\n  const axis = axes[isVertical ? \"y\" /* Y */ : \"x\" /* X */];\n  let startingX = Infinity;\n  let startingY = 0;\n  if (!axis) {\n    return { startingX, startingY };\n  }\n  if (isVertical) {\n    startingY = axis.scale.convert(ContinuousScale.is(axis.scale) ? 0 : Math.max(...axis.range));\n  } else {\n    startingX = axis.scale.convert(ContinuousScale.is(axis.scale) ? 0 : Math.min(...axis.range));\n  }\n  return { startingX, startingY };\n}\nfunction resetBarSelectionsFn(_node, { x, y, width, height, clipBBox, opacity }) {\n  return { x, y, width, height, clipBBox, opacity };\n}\nfunction computeBarFocusBounds(datum, barGroup, seriesRect) {\n  if (datum === void 0)\n    return void 0;\n  const { x, y, width, height } = datum;\n  return barGroup.inverseTransformBBox(new BBox(x, y, width, height)).clip(seriesRect);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/labelUtil.ts\nfunction updateLabelNode(textNode, label, labelDatum) {\n  if (label.enabled && labelDatum) {\n    const { x, y, text, textAlign, textBaseline } = labelDatum;\n    const { color: fill, fontStyle, fontWeight, fontSize, fontFamily } = label;\n    textNode.setProperties({\n      visible: true,\n      x,\n      y,\n      text,\n      fill,\n      fontStyle,\n      fontWeight,\n      fontSize,\n      fontFamily,\n      textAlign,\n      textBaseline\n    });\n  } else {\n    textNode.visible = false;\n  }\n}\nfunction adjustLabelPlacement({\n  isPositive,\n  isVertical,\n  placement,\n  padding = 0,\n  rect\n}) {\n  let x = rect.x + rect.width / 2;\n  let y = rect.y + rect.height / 2;\n  let textAlign = \"center\";\n  let textBaseline = \"middle\";\n  switch (placement) {\n    case \"start\": {\n      if (isVertical) {\n        y = isPositive ? rect.y + rect.height + padding : rect.y - padding;\n        textBaseline = isPositive ? \"top\" : \"bottom\";\n      } else {\n        x = isPositive ? rect.x - padding : rect.x + rect.width + padding;\n        textAlign = isPositive ? \"start\" : \"end\";\n      }\n      break;\n    }\n    case \"outside\":\n    case \"end\": {\n      if (isVertical) {\n        y = isPositive ? rect.y - padding : rect.y + rect.height + padding;\n        textBaseline = isPositive ? \"bottom\" : \"top\";\n      } else {\n        x = isPositive ? rect.x + rect.width + padding : rect.x - padding;\n        textAlign = isPositive ? \"start\" : \"end\";\n      }\n      break;\n    }\n  }\n  return { x, y, textAlign, textBaseline };\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeries.ts\nvar BarSeries = class extends AbstractBarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      pathsPerSeries: 0,\n      hasHighlightedLabels: true,\n      datumSelectionGarbageCollection: false,\n      animationAlwaysUpdateSelections: true,\n      animationResetFns: {\n        datum: resetBarSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new BarSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      if (!this.properties.isValid() || !this.data) {\n        return;\n      }\n      const { seriesGrouping: { groupIndex = this.id } = {}, data = [] } = this;\n      const { xKey, yKey, normalizedTo } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.getCategoryAxis()) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.getValueAxis()) == null ? void 0 : _b.scale;\n      const { isContinuousX, xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const stackGroupName = `bar-stack-${groupIndex}-yValues`;\n      const stackGroupTrailingName = `${stackGroupName}-trailing`;\n      const extraProps = [];\n      if (isFiniteNumber(normalizedTo)) {\n        extraProps.push(\n          normaliseGroupTo([stackGroupName, stackGroupTrailingName], Math.abs(normalizedTo), \"range\")\n        );\n      }\n      if (animationEnabled && this.processedData) {\n        extraProps.push(diff(this.processedData));\n      }\n      if (animationEnabled) {\n        extraProps.push(animationValidation());\n      }\n      const visibleProps = this.visible ? {} : { forceValue: 0 };\n      const { processedData } = yield this.requestDataModel(dataController, data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xValue\" }),\n          valueProperty(yKey, yScaleType, __spreadValues({ id: `yValue-raw`, invalidValue: null }, visibleProps)),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"normal\",\n            \"current\",\n            __spreadValues({\n              id: `yValue-end`,\n              rangeId: `yValue-range`,\n              invalidValue: null,\n              missingValue: 0,\n              groupId: stackGroupName,\n              separateNegative: true\n            }, visibleProps),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"trailing\",\n            \"current\",\n            __spreadValues({\n              id: `yValue-start`,\n              invalidValue: null,\n              missingValue: 0,\n              groupId: stackGroupTrailingName,\n              separateNegative: true\n            }, visibleProps),\n            yScaleType\n          ),\n          ...isContinuousX ? [SMALLEST_KEY_INTERVAL] : [],\n          ...extraProps\n        ],\n        groupByKeys: true,\n        groupByData: false\n      });\n      this.smallestDataInterval = (_c = processedData.reduced) == null ? void 0 : _c.smallestKeyInterval;\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    var _a;\n    const { processedData, dataModel, smallestDataInterval } = this;\n    if (!processedData || !dataModel || processedData.data.length === 0)\n      return [];\n    const categoryAxis = this.getCategoryAxis();\n    const valueAxis = this.getValueAxis();\n    const keyDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    const keys = dataModel.getDomain(this, `xValue`, \"key\", processedData);\n    const yExtent = dataModel.getDomain(this, `yValue-end`, \"value\", processedData);\n    if (direction === this.getCategoryDirection()) {\n      if ((keyDef == null ? void 0 : keyDef.def.type) === \"key\" && keyDef.def.valueType === \"category\") {\n        return keys;\n      }\n      const scalePadding = isFiniteNumber(smallestDataInterval) ? smallestDataInterval * 0.5 : 0;\n      const keysExtent = (_a = extent(keys)) != null ? _a : [NaN, NaN];\n      const d0 = keysExtent[0] + -scalePadding;\n      const d1 = keysExtent[1] + scalePadding;\n      return fixNumericExtent([d0, d1], categoryAxis);\n    } else if (this.getValueAxis() instanceof LogAxis) {\n      return fixNumericExtent(yExtent, valueAxis);\n    } else {\n      const fixedYExtent = [Math.min(0, yExtent[0]), Math.max(0, yExtent[1])];\n      return fixNumericExtent(fixedYExtent, valueAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const { dataModel } = this;\n      const xAxis = this.getCategoryAxis();\n      const yAxis = this.getValueAxis();\n      if (!dataModel || !xAxis || !yAxis || !this.properties.isValid())\n        return;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const { xKey, yKey, xName, yName, fill, stroke, strokeWidth, cornerRadius, legendItemName, label } = this.properties;\n      const yReversed = yAxis.isReversed();\n      const { barWidth, groupIndex } = this.updateGroupScale(xAxis);\n      const barOffset = ContinuousScale.is(xScale) ? barWidth * -0.5 : 0;\n      const xIndex = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yRawIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-raw`);\n      const yStartIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-start`);\n      const yEndIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-end`);\n      const yRangeIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-range`);\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const context = {\n        itemId: yKey,\n        nodeData: [],\n        labelData: [],\n        scales: this.calculateScaling(),\n        visible: this.visible || animationEnabled\n      };\n      const { groupScale, processedData } = this;\n      processedData == null ? void 0 : processedData.data.forEach(({ keys, datum: seriesDatum, values, aggValues }) => {\n        values.forEach((value, valueIndex) => {\n          var _a;\n          const xValue = keys[xIndex];\n          const x = xScale.convert(xValue);\n          const currY = +value[yEndIndex];\n          const prevY = +value[yStartIndex];\n          const yRawValue = value[yRawIndex];\n          const isPositive = yRawValue >= 0 && !Object.is(yRawValue, -0);\n          const isUpward = isPositive !== yReversed;\n          const yRange = (_a = aggValues == null ? void 0 : aggValues[yRangeIndex][isPositive ? 1 : 0]) != null ? _a : 0;\n          const barX = x + groupScale.convert(String(groupIndex)) + barOffset;\n          if (isNaN(currY))\n            return;\n          const y = yScale.convert(currY);\n          const bottomY = yScale.convert(prevY);\n          const barAlongX = this.getBarDirection() === \"x\" /* X */;\n          const bboxHeight = yScale.convert(yRange);\n          const bboxBottom = yScale.convert(0);\n          const rect = {\n            x: barAlongX ? Math.min(y, bottomY) : barX,\n            y: barAlongX ? barX : Math.min(y, bottomY),\n            width: barAlongX ? Math.abs(bottomY - y) : barWidth,\n            height: barAlongX ? barWidth : Math.abs(bottomY - y)\n          };\n          const clipBBox = new BBox(rect.x, rect.y, rect.width, rect.height);\n          const barRect = {\n            x: barAlongX ? Math.min(bboxBottom, bboxHeight) : barX,\n            y: barAlongX ? barX : Math.min(bboxBottom, bboxHeight),\n            width: barAlongX ? Math.abs(bboxBottom - bboxHeight) : barWidth,\n            height: barAlongX ? barWidth : Math.abs(bboxBottom - bboxHeight),\n            clipBBox\n          };\n          const {\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily,\n            color: labelColor,\n            placement\n          } = label;\n          const labelText = this.getLabelText(\n            this.properties.label,\n            {\n              datum: seriesDatum[valueIndex],\n              value: yRawValue,\n              xKey,\n              yKey,\n              xName,\n              yName,\n              legendItemName\n            },\n            (v) => isFiniteNumber(v) ? v.toFixed(2) : String(v)\n          );\n          const labelDatum = labelText ? __spreadValues({\n            text: labelText,\n            fill: labelColor,\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily\n          }, adjustLabelPlacement({\n            isPositive,\n            isVertical: !barAlongX,\n            placement,\n            rect\n          })) : void 0;\n          const lengthRatioMultiplier = this.shouldFlipXY() ? rect.height : rect.width;\n          const nodeData = {\n            series: this,\n            itemId: yKey,\n            datum: seriesDatum[valueIndex],\n            valueIndex,\n            cumulativeValue: currY,\n            xValue,\n            yValue: yRawValue,\n            yKey,\n            xKey,\n            capDefaults: {\n              lengthRatioMultiplier,\n              lengthMax: lengthRatioMultiplier\n            },\n            x: barRect.x,\n            y: barRect.y,\n            width: barRect.width,\n            height: barRect.height,\n            midPoint: { x: rect.x + rect.width / 2, y: rect.y + rect.height / 2 },\n            fill,\n            stroke,\n            opacity: 1,\n            strokeWidth,\n            cornerRadius,\n            topLeftCornerRadius: barAlongX !== isUpward,\n            topRightCornerRadius: isUpward,\n            bottomRightCornerRadius: barAlongX === isUpward,\n            bottomLeftCornerRadius: !isUpward,\n            clipBBox,\n            label: labelDatum,\n            missing: yRawValue == null\n          };\n          context.nodeData.push(nodeData);\n          context.labelData.push(nodeData);\n        });\n      });\n      return context;\n    });\n  }\n  nodeFactory() {\n    return new Rect();\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.datumSelection.update(\n        opts.nodeData,\n        (rect) => {\n          rect.tag = 0 /* Bar */;\n        },\n        (datum) => createDatumId(datum.xValue, datum.valueIndex)\n      );\n    });\n  }\n  updateDatumNodes(opts) {\n    return __async(this, null, function* () {\n      if (!this.properties.isValid()) {\n        return;\n      }\n      const {\n        yKey,\n        stackGroup,\n        fill,\n        fillOpacity,\n        stroke,\n        strokeWidth,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        formatter,\n        shadow,\n        highlightStyle: { item: itemHighlightStyle }\n      } = this.properties;\n      const xAxis = this.axes[\"x\" /* X */];\n      const crisp = checkCrisp(xAxis == null ? void 0 : xAxis.visibleRange);\n      const categoryAlongX = this.getCategoryDirection() === \"x\" /* X */;\n      opts.datumSelection.each((rect, datum) => {\n        var _a, _b, _c, _d;\n        const style = {\n          fill,\n          stroke,\n          fillOpacity,\n          strokeOpacity,\n          lineDash,\n          lineDashOffset,\n          fillShadow: shadow,\n          strokeWidth: this.getStrokeWidth(strokeWidth),\n          cornerRadius: datum.cornerRadius,\n          topLeftCornerRadius: datum.topLeftCornerRadius,\n          topRightCornerRadius: datum.topRightCornerRadius,\n          bottomRightCornerRadius: datum.bottomRightCornerRadius,\n          bottomLeftCornerRadius: datum.bottomLeftCornerRadius\n        };\n        const visible = categoryAlongX ? ((_b = (_a = datum.clipBBox) == null ? void 0 : _a.width) != null ? _b : datum.width) > 0 : ((_d = (_c = datum.clipBBox) == null ? void 0 : _c.height) != null ? _d : datum.height) > 0;\n        const config = getRectConfig({\n          datum,\n          ctx: this.ctx,\n          seriesId: this.id,\n          isHighlighted: opts.isHighlight,\n          highlightStyle: itemHighlightStyle,\n          yKey,\n          style,\n          formatter,\n          stackGroup\n        });\n        config.crisp = crisp;\n        config.visible = visible;\n        updateRect({ rect, config });\n      });\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const data = this.isLabelEnabled() ? opts.labelData : [];\n      return opts.labelSelection.update(data, (text) => {\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      opts.labelSelection.each((textNode, datum) => {\n        updateLabelNode(textNode, this.properties.label, datum.label);\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const {\n      id: seriesId,\n      processedData,\n      ctx: { callbackCache }\n    } = this;\n    const xAxis = this.getCategoryAxis();\n    const yAxis = this.getValueAxis();\n    if (!processedData || !this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, xName, yName, fill, stroke, strokeWidth, tooltip, formatter, stackGroup, legendItemName } = this.properties;\n    const { xValue, yValue, datum, itemId } = nodeDatum;\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml(yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        seriesId,\n        datum,\n        xKey,\n        yKey,\n        stackGroup,\n        fill,\n        stroke,\n        strokeWidth: this.getStrokeWidth(strokeWidth),\n        highlighted: false\n      });\n    }\n    const color = (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill;\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      __spreadValues({\n        seriesId,\n        itemId,\n        datum,\n        xKey,\n        yKey,\n        xName,\n        yName,\n        stackGroup,\n        title,\n        color,\n        legendItemName\n      }, this.getModuleTooltipParams())\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b;\n    const { showInLegend } = this.properties;\n    if (legendType !== \"category\" || !((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || !showInLegend) {\n      return [];\n    }\n    const { yKey, yName, fill, stroke, strokeWidth, fillOpacity, strokeOpacity, legendItemName, visible } = this.properties;\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: { text: (_b = legendItemName != null ? legendItemName : yName) != null ? _b : yKey },\n        marker: { fill, fillOpacity, stroke, strokeWidth, strokeOpacity },\n        legendItemName\n      }\n    ];\n  }\n  animateEmptyUpdateReady({ datumSelection, labelSelection, annotationSelections }) {\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(), this.axes, \"normal\"));\n    fromToMotion(this.id, \"nodes\", this.ctx.animationManager, [datumSelection], fns);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n  }\n  animateWaitingUpdateReady(data) {\n    var _a, _b, _c;\n    const { datumSelection, labelSelection, annotationSelections, previousContextData } = data;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const dataDiff = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff;\n    const mode = previousContextData == null ? \"fade\" : \"normal\";\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(), this.axes, mode));\n    fromToMotion(\n      this.id,\n      \"nodes\",\n      this.ctx.animationManager,\n      [datumSelection],\n      fns,\n      (_, datum) => createDatumId(datum.xValue, datum.valueIndex),\n      dataDiff\n    );\n    const hasMotion = (_c = dataDiff == null ? void 0 : dataDiff.changed) != null ? _c : true;\n    if (hasMotion) {\n      seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n      seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n    }\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  computeFocusBounds({ datumIndex, seriesRect }) {\n    var _a;\n    const datumBox = (_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex].clipBBox;\n    return computeBarFocusBounds(datumBox, this.contentGroup, seriesRect);\n  }\n};\nBarSeries.className = \"BarSeries\";\nBarSeries.type = \"bar\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeriesModule.ts\nvar BarSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bar\",\n  instanceConstructor: BarSeries,\n  stackable: true,\n  groupable: true,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    },\n    {\n      type: \"category\" /* CATEGORY */,\n      position: \"bottom\" /* BOTTOM */\n    }\n  ],\n  swapDefaultAxesCondition: (series) => (series == null ? void 0 : series.direction) === \"horizontal\",\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      direction: \"vertical\",\n      fillOpacity: 1,\n      strokeWidth: 0,\n      lineDash: [0],\n      lineDashOffset: 0,\n      label: {\n        enabled: false,\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n        placement: \"inside\"\n      },\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 0.3\n        }\n      }\n    }\n  },\n  paletteFactory: singleSeriesPaletteFactory\n};\n\n// packages/ag-charts-community/src/scale/colorScale.ts\nvar convertColorStringToOklcha = (v) => {\n  const color = Color.fromString(v);\n  const [l, c, h] = Color.RGBtoOKLCH(color.r, color.g, color.b);\n  return { l, c, h, a: color.a };\n};\nvar interpolateOklch = (x, y, d) => {\n  d = clamp(0, d, 1);\n  let h;\n  let c;\n  if (Number.isNaN(x.h) && Number.isNaN(y.h)) {\n    h = 0;\n    c = 0;\n  } else if (Number.isNaN(x.h)) {\n    h = y.h;\n    c = y.c;\n  } else if (Number.isNaN(y.h)) {\n    h = x.h;\n    c = x.c;\n  } else {\n    const xH = x.h;\n    let yH = y.h;\n    const deltaH = y.h - x.h;\n    if (deltaH > 180) {\n      yH -= 360;\n    } else if (deltaH < -180) {\n      yH += 360;\n    }\n    h = xH * (1 - d) + yH * d;\n    c = x.c * (1 - d) + y.c * d;\n  }\n  const l = x.l * (1 - d) + y.l * d;\n  const a = x.a * (1 - d) + y.a * d;\n  return Color.fromOKLCH(l, c, h, a);\n};\nvar ColorScale = class {\n  constructor() {\n    this.type = \"color\";\n    this.invalid = true;\n    this.domain = [0, 1];\n    this.range = [\"red\", \"blue\"];\n    this.parsedRange = this.range.map(convertColorStringToOklcha);\n  }\n  update() {\n    const { domain, range: range3 } = this;\n    if (domain.length < 2) {\n      Logger.warnOnce(\"`colorDomain` should have at least 2 values.\");\n      if (domain.length === 0) {\n        domain.push(0, 1);\n      } else if (domain.length === 1) {\n        domain.push(domain[0] + 1);\n      }\n    }\n    for (let i = 1; i < domain.length; i++) {\n      const a = domain[i - 1];\n      const b = domain[i];\n      if (a >= b) {\n        Logger.warnOnce(\"`colorDomain` values should be supplied in ascending order.\");\n        domain.sort((a2, b2) => a2 - b2);\n        break;\n      }\n    }\n    if (range3.length < domain.length) {\n      for (let i = range3.length; i < domain.length; i++) {\n        range3.push(range3.length > 0 ? range3[0] : \"black\");\n      }\n    }\n    this.parsedRange = this.range.map(convertColorStringToOklcha);\n  }\n  convert(x) {\n    this.refresh();\n    const { domain, range: range3, parsedRange } = this;\n    const d0 = domain[0];\n    const d1 = domain.at(-1);\n    const r0 = range3[0];\n    const r1 = range3[range3.length - 1];\n    if (x <= d0) {\n      return r0;\n    }\n    if (x >= d1) {\n      return r1;\n    }\n    let index;\n    let q;\n    if (domain.length === 2) {\n      const t = (x - d0) / (d1 - d0);\n      const step = 1 / (range3.length - 1);\n      index = range3.length <= 2 ? 0 : Math.min(Math.floor(t * (range3.length - 1)), range3.length - 2);\n      q = (t - index * step) / step;\n    } else {\n      for (index = 0; index < domain.length - 2; index++) {\n        if (x < domain[index + 1]) {\n          break;\n        }\n      }\n      const a = domain[index];\n      const b = domain[index + 1];\n      q = (x - a) / (b - a);\n    }\n    const c0 = parsedRange[index];\n    const c1 = parsedRange[index + 1];\n    return interpolateOklch(c0, c1, q).toRgbaString();\n  }\n  refresh() {\n    if (!this.invalid)\n      return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n};\n__decorateClass([\n  Invalidating\n], ColorScale.prototype, \"domain\", 2);\n__decorateClass([\n  Invalidating\n], ColorScale.prototype, \"range\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeriesProperties.ts\nvar BubbleSeriesMarker = class extends SeriesMarker {\n  constructor() {\n    super(...arguments);\n    this.maxSize = 30;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], BubbleSeriesMarker.prototype, \"maxSize\", 2);\n__decorateClass([\n  Validate(NUMBER_ARRAY, { optional: true }),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], BubbleSeriesMarker.prototype, \"domain\", 2);\nvar BubbleSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"top\";\n  }\n};\n__decorateClass([\n  Validate(LABEL_PLACEMENT)\n], BubbleSeriesLabel.prototype, \"placement\", 2);\nvar BubbleSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.colorRange = [\"#ffff00\", \"#00ff00\", \"#0000ff\"];\n    this.marker = new BubbleSeriesMarker();\n    this.label = new BubbleSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], BubbleSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING)\n], BubbleSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING)\n], BubbleSeriesProperties.prototype, \"sizeKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"labelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"sizeName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"labelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([\n  Validate(NUMBER_ARRAY, { optional: true })\n], BubbleSeriesProperties.prototype, \"colorDomain\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], BubbleSeriesProperties.prototype, \"colorRange\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"title\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], BubbleSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], BubbleSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], BubbleSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeries.ts\nvar BubbleSeriesNodeEvent = class extends CartesianSeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.sizeKey = series.properties.sizeKey;\n  }\n};\nvar BubbleSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [\n        2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */,\n        3 /* NEAREST_NODE */,\n        0 /* EXACT_SHAPE_MATCH */\n      ],\n      pathsPerSeries: 0,\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        label: resetLabelFn,\n        marker: resetMarkerFn\n      }\n    });\n    this.NodeEvent = BubbleSeriesNodeEvent;\n    this.properties = new BubbleSeriesProperties();\n    this.sizeScale = new LinearScale();\n    this.colorScale = new ColorScale();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d;\n      if (!this.properties.isValid() || this.data == null || !this.visible)\n        return;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const { xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const colorScaleType = this.colorScale.type;\n      const sizeScaleType = this.sizeScale.type;\n      const { xKey, yKey, sizeKey, labelKey, colorDomain, colorRange, colorKey, marker } = this.properties;\n      const { dataModel, processedData } = yield this.requestDataModel(dataController, this.data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xKey-raw\" }),\n          keyProperty(yKey, yScaleType, { id: \"yKey-raw\" }),\n          ...labelKey ? [keyProperty(labelKey, \"band\", { id: `labelKey-raw` })] : [],\n          valueProperty(xKey, xScaleType, { id: `xValue` }),\n          valueProperty(yKey, yScaleType, { id: `yValue` }),\n          valueProperty(sizeKey, sizeScaleType, { id: `sizeValue` }),\n          ...colorKey ? [valueProperty(colorKey, colorScaleType, { id: `colorValue` })] : [],\n          ...labelKey ? [valueProperty(labelKey, \"band\", { id: `labelValue` })] : []\n        ]\n      });\n      const sizeKeyIdx = dataModel.resolveProcessedDataIndexById(this, `sizeValue`);\n      const processedSize = (_c = processedData.domain.values[sizeKeyIdx]) != null ? _c : [];\n      this.sizeScale.domain = marker.domain ? marker.domain : processedSize;\n      if (colorKey) {\n        const colorKeyIdx = dataModel.resolveProcessedDataIndexById(this, `colorValue`);\n        this.colorScale.domain = (_d = colorDomain != null ? colorDomain : processedData.domain.values[colorKeyIdx]) != null ? _d : [];\n        this.colorScale.range = colorRange;\n        this.colorScale.update();\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { dataModel, processedData } = this;\n    if (!processedData || !dataModel)\n      return [];\n    const id = direction === \"x\" /* X */ ? `xValue` : `yValue`;\n    const dataDef = dataModel.resolveProcessedDataDefById(this, id);\n    const domain = dataModel.getDomain(this, id, \"value\", processedData);\n    if ((dataDef == null ? void 0 : dataDef.def.type) === \"value\" && (dataDef == null ? void 0 : dataDef.def.valueType) === \"category\") {\n      return domain;\n    }\n    const axis = this.axes[direction];\n    return fixNumericExtent(extent(domain), axis);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { axes, dataModel, processedData, colorScale, sizeScale } = this;\n      const { xKey, yKey, sizeKey, labelKey, xName, yName, sizeName, labelName, label, colorKey, marker, visible } = this.properties;\n      const markerShape = getMarker(marker.shape);\n      const { placement } = label;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!(dataModel && processedData && visible && xAxis && yAxis)) {\n        return;\n      }\n      const xDataIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yDataIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      const sizeDataIdx = sizeKey ? dataModel.resolveProcessedDataIndexById(this, `sizeValue`) : -1;\n      const colorDataIdx = colorKey ? dataModel.resolveProcessedDataIndexById(this, `colorValue`) : -1;\n      const labelDataIdx = labelKey ? dataModel.resolveProcessedDataIndexById(this, `labelValue`) : -1;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      sizeScale.range = [marker.size, marker.maxSize];\n      const font = label.getFont();\n      for (const { values, datum } of (_c = processedData.data) != null ? _c : []) {\n        const xDatum = values[xDataIdx];\n        const yDatum = values[yDataIdx];\n        const x = xScale.convert(xDatum) + xOffset;\n        const y = yScale.convert(yDatum) + yOffset;\n        const labelText = this.getLabelText(label, {\n          value: labelKey ? values[labelDataIdx] : yDatum,\n          datum,\n          xKey,\n          yKey,\n          sizeKey,\n          labelKey,\n          xName,\n          yName,\n          sizeName,\n          labelName\n        });\n        const size = Text.getTextSize(String(labelText), font);\n        const markerSize = sizeKey ? sizeScale.convert(values[sizeDataIdx]) : marker.size;\n        const fill = colorKey ? colorScale.convert(values[colorDataIdx]) : void 0;\n        nodeData.push({\n          series: this,\n          itemId: yKey,\n          yKey,\n          xKey,\n          datum,\n          xValue: xDatum,\n          yValue: yDatum,\n          sizeValue: values[sizeDataIdx],\n          point: { x, y, size: markerSize },\n          midPoint: { x, y },\n          fill,\n          label: __spreadValues({ text: labelText }, size),\n          marker: markerShape,\n          placement\n        });\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  getLabelData() {\n    var _a, _b;\n    return (_b = (_a = this.contextNodeData) == null ? void 0 : _a.labelData) != null ? _b : [];\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, markerSelection } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      const data = this.properties.marker.enabled ? nodeData : [];\n      return markerSelection.update(\n        data,\n        void 0,\n        (datum) => createDatumId([datum.xValue, datum.yValue, datum.label.text])\n      );\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, sizeKey, labelKey, marker } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && this.properties.highlightStyle.item, marker.getStyle());\n      this.sizeScale.range = [marker.size, marker.maxSize];\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey, sizeKey, labelKey }, baseStyle);\n      });\n      if (!highlighted) {\n        this.properties.marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const placedLabels = this.properties.label.enabled ? (_b = (_a = this.chart) == null ? void 0 : _a.placeLabels().get(this)) != null ? _b : [] : [];\n      return opts.labelSelection.update(\n        placedLabels.map((v) => __spreadProps(__spreadValues({}, v.datum), {\n          point: {\n            x: v.x,\n            y: v.y,\n            size: v.datum.point.size\n          }\n        }))\n      );\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { label } = this.properties;\n      opts.labelSelection.each((text, datum) => {\n        var _a, _b, _c, _d;\n        text.text = datum.label.text;\n        text.fill = label.color;\n        text.x = (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : 0;\n        text.y = (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : 0;\n        text.fontStyle = label.fontStyle;\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = \"left\";\n        text.textBaseline = \"top\";\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, sizeKey, labelKey, xName, yName, sizeName, labelName, marker, tooltip } = this.properties;\n    const title = (_a = this.properties.title) != null ? _a : yName;\n    const baseStyle = mergeDefaults(\n      { fill: nodeDatum.fill, strokeWidth: this.getStrokeWidth(marker.strokeWidth) },\n      marker.getStyle()\n    );\n    const { fill: color = \"gray\" } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, highlighted: false, xKey, yKey, sizeKey, labelKey },\n      baseStyle\n    );\n    const {\n      datum,\n      xValue,\n      yValue,\n      sizeValue,\n      label: { text: labelText },\n      itemId\n    } = nodeDatum;\n    const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n    const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n    let content = `<b>${sanitizeHtml(xName != null ? xName : xKey)}</b>: ${xString}<br><b>${sanitizeHtml(yName != null ? yName : yKey)}</b>: ${yString}`;\n    if (sizeKey) {\n      content += `<br><b>${sanitizeHtml(sizeName != null ? sizeName : sizeKey)}</b>: ${sanitizeHtml(String(sizeValue))}`;\n    }\n    if (labelKey) {\n      content = `<b>${sanitizeHtml(labelName != null ? labelName : labelKey)}</b>: ${sanitizeHtml(labelText)}<br>` + content;\n    }\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      {\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        sizeKey,\n        sizeName,\n        labelKey,\n        labelName,\n        title,\n        color,\n        seriesId: this.id\n      }\n    );\n  }\n  getLegendData() {\n    var _a, _b;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid()) {\n      return [];\n    }\n    const { yKey, yName, title, marker, visible } = this.properties;\n    const { shape, fill, stroke, fillOpacity, strokeOpacity, strokeWidth } = marker;\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_b = title != null ? title : yName) != null ? _b : yKey\n        },\n        marker: {\n          shape,\n          fill: fill != null ? fill : \"rgba(0, 0, 0, 0)\",\n          stroke: stroke != null ? stroke : \"rgba(0, 0, 0, 0)\",\n          fillOpacity: fillOpacity != null ? fillOpacity : 1,\n          strokeOpacity: strokeOpacity != null ? strokeOpacity : 1,\n          strokeWidth: strokeWidth != null ? strokeWidth : 0\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady({ markerSelection, labelSelection }) {\n    markerScaleInAnimation(this, this.ctx.animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const { xKey, yKey, sizeKey, labelKey } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, {\n      datum,\n      xKey,\n      yKey,\n      sizeKey,\n      labelKey,\n      highlighted: false\n    });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nBubbleSeries.className = \"BubbleSeries\";\nBubbleSeries.type = \"bubble\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeriesModule.ts\nvar BubbleSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bubble\",\n  instanceConstructor: BubbleSeries,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"bottom\" /* BOTTOM */\n    },\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: { position: { type: \"node\" } },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        maxSize: 30,\n        fillOpacity: 0.8\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  paletteFactory: markerPaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeriesProperties.ts\nvar HistogramSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fillOpacity = 1;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.areaPlot = false;\n    this.aggregation = \"sum\";\n    this.shadow = new DropShadow();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], HistogramSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO)\n], HistogramSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], HistogramSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO)\n], HistogramSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], HistogramSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], HistogramSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], HistogramSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], HistogramSeriesProperties.prototype, \"areaPlot\", 2);\n__decorateClass([\n  Validate(ARRAY, { optional: true })\n], HistogramSeriesProperties.prototype, \"bins\", 2);\n__decorateClass([\n  Validate(UNION([\"count\", \"sum\", \"mean\"], \"a histogram aggregation\"))\n], HistogramSeriesProperties.prototype, \"aggregation\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], HistogramSeriesProperties.prototype, \"binCount\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], HistogramSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], HistogramSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], HistogramSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeries.ts\nvar defaultBinCount = 10;\nvar HistogramSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      datumSelectionGarbageCollection: false,\n      animationResetFns: {\n        datum: resetBarSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new HistogramSeriesProperties();\n    this.calculatedBins = [];\n  }\n  // During processData phase, used to unify different ways of the user specifying\n  // the bins. Returns bins in format[[min1, max1], [min2, max2], ... ].\n  deriveBins(xDomain) {\n    const binStarts = ticks_default(xDomain[0], xDomain[1], defaultBinCount);\n    const binSize = tickStep(xDomain[0], xDomain[1], defaultBinCount);\n    const [firstBinEnd] = binStarts;\n    const expandStartToBin = (n) => [n, n + binSize];\n    return [[firstBinEnd - binSize, firstBinEnd], ...binStarts.map(expandStartToBin)];\n  }\n  calculateNiceBins(domain, binCount) {\n    const startGuess = Math.floor(domain[0]);\n    const stop = domain[1];\n    const segments = binCount || 1;\n    const { start, binSize } = this.calculateNiceStart(startGuess, stop, segments);\n    return this.getBins(start, stop, binSize, segments);\n  }\n  getBins(start, stop, step, count) {\n    const bins = [];\n    const precision = this.calculatePrecision(step);\n    for (let i = 0; i < count; i++) {\n      const a = Math.round((start + i * step) * precision) / precision;\n      let b = Math.round((start + (i + 1) * step) * precision) / precision;\n      if (i === count - 1) {\n        b = Math.max(b, stop);\n      }\n      bins[i] = [a, b];\n    }\n    return bins;\n  }\n  calculatePrecision(step) {\n    let precision = 10;\n    if (isFinite(step) && step > 0) {\n      while (step < 1) {\n        precision *= 10;\n        step *= 10;\n      }\n    }\n    return precision;\n  }\n  calculateNiceStart(a, b, segments) {\n    const binSize = Math.abs(b - a) / segments;\n    const order = Math.floor(Math.log10(binSize));\n    const magnitude = Math.pow(10, order);\n    const start = Math.floor(a / magnitude) * magnitude;\n    return {\n      start,\n      binSize\n    };\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (!this.visible) {\n        this.processedData = void 0;\n        this.animationState.transition(\"updateData\");\n      }\n      const { xKey, yKey, areaPlot, aggregation } = this.properties;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const { xScaleType, yScaleType } = this.getScaleInformation({ yScale, xScale });\n      const props = [keyProperty(xKey, xScaleType), SORT_DOMAIN_GROUPS];\n      if (yKey) {\n        let aggProp = groupCount(\"groupAgg\");\n        if (aggregation === \"count\") {\n        } else if (aggregation === \"sum\") {\n          aggProp = groupSum(\"groupAgg\");\n        } else if (aggregation === \"mean\") {\n          aggProp = groupAverage(\"groupAgg\");\n        }\n        if (areaPlot) {\n          aggProp = area(\"groupAgg\", aggProp);\n        }\n        props.push(valueProperty(yKey, yScaleType, { invalidValue: void 0 }), aggProp);\n      } else {\n        let aggProp = groupCount(\"groupAgg\");\n        if (areaPlot) {\n          aggProp = area(\"groupAgg\", aggProp);\n        }\n        props.push(aggProp);\n      }\n      const groupByFn = (dataSet) => {\n        var _a2;\n        const xExtent = fixNumericExtent(dataSet.domain.keys[0]);\n        if (xExtent.length === 0) {\n          dataSet.domain.groups = [];\n          return () => [];\n        }\n        const bins = isNumber(this.properties.binCount) ? this.calculateNiceBins(xExtent, this.properties.binCount) : (_a2 = this.properties.bins) != null ? _a2 : this.deriveBins(xExtent);\n        const binCount = bins.length;\n        this.calculatedBins = [...bins];\n        return (item) => {\n          const xValue = item.keys[0];\n          for (let i = 0; i < binCount; i++) {\n            const nextBin = bins[i];\n            if (xValue >= nextBin[0] && xValue < nextBin[1]) {\n              return nextBin;\n            }\n            if (i === binCount - 1 && xValue <= nextBin[1]) {\n              return nextBin;\n            }\n          }\n          return [];\n        };\n      };\n      if (!this.ctx.animationManager.isSkipped() && this.processedData) {\n        props.push(diff(this.processedData, false));\n      }\n      yield this.requestDataModel(dataController, this.data, { props, groupByFn });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    var _a, _b, _c, _d;\n    const { processedData, dataModel } = this;\n    if (!processedData || !dataModel || !this.calculatedBins.length)\n      return [];\n    const yDomain = dataModel.getDomain(this, `groupAgg`, \"aggregate\", processedData);\n    const xDomainMin = (_a = this.calculatedBins) == null ? void 0 : _a[0][0];\n    const xDomainMax = (_d = this.calculatedBins) == null ? void 0 : _d[((_c = (_b = this.calculatedBins) == null ? void 0 : _b.length) != null ? _c : 0) - 1][1];\n    if (direction === \"x\" /* X */) {\n      return fixNumericExtent([xDomainMin, xDomainMax]);\n    }\n    return fixNumericExtent(yDomain);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        id: seriesId,\n        axes,\n        processedData,\n        ctx: { callbackCache }\n      } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!xAxis || !yAxis) {\n        return;\n      }\n      const { scale: xScale } = xAxis;\n      const { scale: yScale } = yAxis;\n      const { xKey, yKey, xName, yName, fill, stroke, strokeWidth, cornerRadius } = this.properties;\n      const {\n        formatter: labelFormatter = (params) => String(params.value),\n        fontStyle: labelFontStyle,\n        fontWeight: labelFontWeight,\n        fontSize: labelFontSize,\n        fontFamily: labelFontFamily,\n        color: labelColor\n      } = this.properties.label;\n      const nodeData = [];\n      const context = {\n        itemId: (_a = this.properties.yKey) != null ? _a : this.id,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        animationValid: true,\n        visible: this.visible\n      };\n      if (!this.visible || !processedData || processedData.type !== \"grouped\")\n        return context;\n      processedData.data.forEach((group2) => {\n        var _a2;\n        const {\n          aggValues: [[negativeAgg, positiveAgg]] = [[0, 0]],\n          datum,\n          datum: { length: frequency },\n          keys: domain,\n          keys: [xDomainMin, xDomainMax]\n        } = group2;\n        const xMinPx = xScale.convert(xDomainMin);\n        const xMaxPx = xScale.convert(xDomainMax);\n        const total = negativeAgg + positiveAgg;\n        const yZeroPx = yScale.convert(0);\n        const yMaxPx = yScale.convert(total);\n        const w = Math.abs(xMaxPx - xMinPx);\n        const h = Math.abs(yMaxPx - yZeroPx);\n        const x = Math.min(xMinPx, xMaxPx);\n        const y = Math.min(yZeroPx, yMaxPx);\n        let selectionDatumLabel = void 0;\n        if (total !== 0) {\n          selectionDatumLabel = {\n            text: (_a2 = callbackCache.call(labelFormatter, {\n              value: total,\n              datum,\n              seriesId,\n              xKey,\n              yKey,\n              xName,\n              yName\n            })) != null ? _a2 : String(total),\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily,\n            fill: labelColor,\n            x: x + w / 2,\n            y: y + h / 2\n          };\n        }\n        const nodeMidPoint = {\n          x: x + w / 2,\n          y: y + h / 2\n        };\n        const yAxisReversed = yAxis.isReversed();\n        nodeData.push({\n          series: this,\n          datum,\n          // required by SeriesNodeDatum, but might not make sense here\n          // since each selection is an aggregation of multiple data.\n          aggregatedValue: total,\n          frequency,\n          domain,\n          yKey,\n          xKey,\n          x,\n          y,\n          xValue: xMinPx,\n          yValue: yMaxPx,\n          width: w,\n          height: h,\n          midPoint: nodeMidPoint,\n          fill,\n          stroke,\n          cornerRadius,\n          topLeftCornerRadius: !yAxisReversed,\n          topRightCornerRadius: !yAxisReversed,\n          bottomRightCornerRadius: yAxisReversed,\n          bottomLeftCornerRadius: yAxisReversed,\n          opacity: 1,\n          strokeWidth,\n          label: selectionDatumLabel\n        });\n      });\n      nodeData.sort((a, b) => a.x - b.x);\n      return context;\n    });\n  }\n  nodeFactory() {\n    return new Rect();\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, datumSelection } = opts;\n      return datumSelection.update(\n        nodeData,\n        (rect) => {\n          rect.tag = 0 /* Bin */;\n          rect.crisp = true;\n        },\n        (datum) => datum.domain.join(\"_\")\n      );\n    });\n  }\n  updateDatumNodes(opts) {\n    return __async(this, null, function* () {\n      const { isHighlight: isDatumHighlighted } = opts;\n      const {\n        fillOpacity: seriesFillOpacity,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        shadow,\n        highlightStyle: {\n          item: {\n            fill: highlightedFill,\n            fillOpacity: highlightFillOpacity = seriesFillOpacity,\n            stroke: highlightedStroke,\n            strokeWidth: highlightedDatumStrokeWidth\n          }\n        }\n      } = this.properties;\n      opts.datumSelection.each((rect, datum, index) => {\n        var _a, _b;\n        const {\n          cornerRadius,\n          topLeftCornerRadius,\n          topRightCornerRadius,\n          bottomRightCornerRadius,\n          bottomLeftCornerRadius\n        } = datum;\n        const strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== void 0 ? highlightedDatumStrokeWidth : datum.strokeWidth;\n        const fillOpacity = isDatumHighlighted ? highlightFillOpacity : seriesFillOpacity;\n        rect.fill = (_a = isDatumHighlighted ? highlightedFill : void 0) != null ? _a : datum.fill;\n        rect.stroke = (_b = isDatumHighlighted ? highlightedStroke : void 0) != null ? _b : datum.stroke;\n        rect.fillOpacity = fillOpacity;\n        rect.strokeOpacity = strokeOpacity;\n        rect.strokeWidth = strokeWidth;\n        rect.lineDash = lineDash;\n        rect.lineDashOffset = lineDashOffset;\n        rect.topLeftCornerRadius = topLeftCornerRadius ? cornerRadius : 0;\n        rect.topRightCornerRadius = topRightCornerRadius ? cornerRadius : 0;\n        rect.bottomRightCornerRadius = bottomRightCornerRadius ? cornerRadius : 0;\n        rect.bottomLeftCornerRadius = bottomLeftCornerRadius ? cornerRadius : 0;\n        rect.fillShadow = shadow;\n        rect.zIndex = isDatumHighlighted ? Series.highlightedZIndex : index;\n        rect.visible = datum.height > 0;\n      });\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const { labelData, labelSelection } = opts;\n      return labelSelection.update(labelData, (text) => {\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const labelEnabled = this.isLabelEnabled();\n      opts.labelSelection.each((text, datum) => {\n        const label = datum.label;\n        if (label && labelEnabled) {\n          text.text = label.text;\n          text.x = label.x;\n          text.y = label.y;\n          text.fontStyle = label.fontStyle;\n          text.fontWeight = label.fontWeight;\n          text.fontSize = label.fontSize;\n          text.fontFamily = label.fontFamily;\n          text.fill = label.fill;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  initQuadTree(quadtree) {\n    addHitTestersToQuadtree(quadtree, childrenIter(this.contentGroup.children[0]));\n  }\n  pickNodeClosestDatum(point) {\n    return findQuadtreeMatch(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, xName, yName, fill: color, aggregation, tooltip } = this.properties;\n    const {\n      aggregatedValue,\n      frequency,\n      domain: [rangeMin, rangeMax],\n      itemId\n    } = nodeDatum;\n    const title = `${sanitizeHtml(xName != null ? xName : xKey)}: ${xAxis.formatDatum(rangeMin)} - ${xAxis.formatDatum(rangeMax)}`;\n    let content = yKey ? `<b>${sanitizeHtml(yName != null ? yName : yKey)} (${aggregation})</b>: ${yAxis.formatDatum(aggregatedValue)}<br>` : \"\";\n    content += `<b>Frequency</b>: ${frequency}`;\n    const defaults = {\n      title,\n      backgroundColor: color,\n      content\n    };\n    return tooltip.toTooltipHtml(defaults, {\n      datum: {\n        data: nodeDatum.datum,\n        aggregatedValue: nodeDatum.aggregatedValue,\n        domain: nodeDatum.domain,\n        frequency: nodeDatum.frequency\n      },\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      color,\n      title,\n      seriesId: this.id\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || legendType !== \"category\") {\n      return [];\n    }\n    const { xKey, yName, fill, fillOpacity, stroke, strokeWidth, strokeOpacity, visible } = this.properties;\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: xKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_b = yName != null ? yName : xKey) != null ? _b : \"Frequency\"\n        },\n        marker: {\n          fill: fill != null ? fill : \"rgba(0, 0, 0, 0)\",\n          stroke: stroke != null ? stroke : \"rgba(0, 0, 0, 0)\",\n          fillOpacity,\n          strokeOpacity,\n          strokeWidth\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady({ datumSelection, labelSelection }) {\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(true, this.axes, \"normal\"));\n    fromToMotion(this.id, \"datums\", this.ctx.animationManager, [datumSelection], fns);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n  }\n  animateWaitingUpdateReady(data) {\n    var _a, _b;\n    const dataDiff = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff;\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(true, this.axes, \"normal\"));\n    fromToMotion(\n      this.id,\n      \"datums\",\n      this.ctx.animationManager,\n      [data.datumSelection],\n      fns,\n      (_, datum) => createDatumId(datum.domain),\n      dataDiff\n    );\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, data.labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  computeFocusBounds({ datumIndex, seriesRect }) {\n    var _a;\n    return computeBarFocusBounds((_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex], this.contentGroup, seriesRect);\n  }\n};\nHistogramSeries.className = \"HistogramSeries\";\nHistogramSeries.type = \"histogram\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeriesModule.ts\nvar HistogramSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"histogram\",\n  instanceConstructor: HistogramSeries,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"bottom\" /* BOTTOM */\n    },\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      strokeWidth: 1,\n      fillOpacity: 1,\n      strokeOpacity: 1,\n      lineDash: [0],\n      lineDashOffset: 0,\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR\n      },\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      }\n    }\n  },\n  paletteFactory: ({ takeColors }) => {\n    const {\n      fills: [fill],\n      strokes: [stroke]\n    } = takeColors(1);\n    return { fill, stroke };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeriesProperties.ts\nvar LineSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.stroke = \"#874349\";\n    this.strokeWidth = 2;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.marker = new SeriesMarker();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n    this.connectMissingData = false;\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], LineSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING)\n], LineSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], LineSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], LineSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], LineSeriesProperties.prototype, \"title\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], LineSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LineSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO)\n], LineSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], LineSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LineSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LineSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LineSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LineSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], LineSeriesProperties.prototype, \"connectMissingData\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeries.ts\nvar LineSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      hasMarkers: true,\n      pickModes: [\n        2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */,\n        3 /* NEAREST_NODE */,\n        0 /* EXACT_SHAPE_MATCH */\n      ],\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        path: buildResetPathFn({ getOpacity: () => this.getOpacity() }),\n        label: resetLabelFn,\n        marker: (node, datum) => __spreadValues(__spreadValues({}, resetMarkerFn(node)), resetMarkerPositionFn(node, datum))\n      }\n    });\n    this.properties = new LineSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (!this.properties.isValid() || this.data == null) {\n        return;\n      }\n      const { xKey, yKey } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const { isContinuousX, xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const props = [];\n      if (!isContinuousX) {\n        props.push(keyProperty(xKey, xScaleType, { id: \"xKey\" }));\n      }\n      if (animationEnabled) {\n        props.push(animationValidation(isContinuousX ? [\"xValue\"] : void 0));\n        if (this.processedData) {\n          props.push(diff(this.processedData));\n        }\n      }\n      props.push(\n        valueProperty(xKey, xScaleType, { id: \"xValue\" }),\n        valueProperty(yKey, yScaleType, { id: \"yValue\", invalidValue: void 0 })\n      );\n      yield this.requestDataModel(dataController, this.data, { props });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { axes, dataModel, processedData } = this;\n    if (!processedData || !dataModel)\n      return [];\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const xDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    if (direction === \"x\" /* X */) {\n      const domain = dataModel.getDomain(this, `xValue`, \"value\", processedData);\n      if ((xDef == null ? void 0 : xDef.def.type) === \"value\" && xDef.def.valueType === \"category\") {\n        return domain;\n      }\n      return fixNumericExtent(extent(domain), xAxis);\n    } else {\n      const domain = dataModel.getDomain(this, `yValue`, \"value\", processedData);\n      return fixNumericExtent(domain, yAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { processedData, dataModel, axes } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!processedData || !dataModel || !xAxis || !yAxis) {\n        return;\n      }\n      const { xKey, yKey, xName, yName, marker, label, connectMissingData, legendItemName } = this.properties;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      const size = marker.enabled ? marker.size : 0;\n      const xIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      let moveTo = true;\n      let nextPoint;\n      for (let i = 0; i < processedData.data.length; i++) {\n        const { datum, values } = nextPoint != null ? nextPoint : processedData.data[i];\n        const xDatum = values[xIdx];\n        const yDatum = values[yIdx];\n        if (yDatum === void 0) {\n          moveTo = !connectMissingData;\n        } else {\n          const x = xScale.convert(xDatum) + xOffset;\n          if (isNaN(x)) {\n            moveTo = !connectMissingData;\n            nextPoint = void 0;\n            continue;\n          }\n          nextPoint = ((_c = processedData.data[i + 1]) == null ? void 0 : _c.values[yIdx]) === void 0 ? void 0 : processedData.data[i + 1];\n          const y = yScale.convert(yDatum) + yOffset;\n          const labelText = this.getLabelText(\n            label,\n            { value: yDatum, datum, xKey, yKey, xName, yName, legendItemName },\n            (value) => isFiniteNumber(value) ? value.toFixed(2) : String(value)\n          );\n          nodeData.push({\n            series: this,\n            datum,\n            yKey,\n            xKey,\n            point: { x, y, moveTo, size },\n            midPoint: { x, y },\n            yValue: yDatum,\n            xValue: xDatum,\n            capDefaults: { lengthRatioMultiplier: this.properties.marker.getDiameter(), lengthMax: Infinity },\n            label: labelText ? {\n              text: labelText,\n              fontStyle: label.fontStyle,\n              fontWeight: label.fontWeight,\n              fontSize: label.fontSize,\n              fontFamily: label.fontFamily,\n              textAlign: \"center\",\n              textBaseline: \"bottom\",\n              fill: label.color\n            } : void 0\n          });\n          moveTo = false;\n        }\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        paths: [lineNode],\n        opacity,\n        visible,\n        animationEnabled\n      } = opts;\n      lineNode.setProperties({\n        fill: void 0,\n        lineJoin: \"round\",\n        pointerEvents: 1 /* None */,\n        opacity,\n        stroke: this.properties.stroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.properties.strokeOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset\n      });\n      if (!animationEnabled) {\n        lineNode.visible = visible;\n      }\n      updateClipPath(this, lineNode);\n    });\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      let { nodeData } = opts;\n      const { markerSelection } = opts;\n      const { shape, enabled } = this.properties.marker;\n      nodeData = shape && enabled ? nodeData : [];\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(nodeData, void 0, (datum) => createDatumId(datum.xValue));\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, stroke, strokeWidth, strokeOpacity, marker, highlightStyle } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle(), {\n        stroke,\n        strokeWidth,\n        strokeOpacity\n      });\n      const applyTranslation = this.ctx.animationManager.isSkipped();\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey }, baseStyle, { applyTranslation });\n      });\n      if (!highlighted) {\n        marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.labelSelection.update(this.isLabelEnabled() ? opts.labelData : []);\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { enabled, fontStyle, fontWeight, fontSize, fontFamily, color } = this.properties.label;\n      opts.labelSelection.each((text, datum) => {\n        const { point, label } = datum;\n        if (datum && label && enabled) {\n          text.fontStyle = fontStyle;\n          text.fontWeight = fontWeight;\n          text.fontSize = fontSize;\n          text.fontFamily = fontFamily;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n          text.text = label.text;\n          text.x = point.x;\n          text.y = point.y - 10;\n          text.fill = color;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, xName, yName, strokeWidth, marker, tooltip } = this.properties;\n    const { datum, xValue, yValue, itemId } = nodeDatum;\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml((_a = this.properties.title) != null ? _a : yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    const baseStyle = mergeDefaults({ fill: marker.stroke }, marker.getStyle(), { strokeWidth });\n    const { fill: color } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, xKey, yKey, highlighted: false },\n      baseStyle\n    );\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      __spreadValues({\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        title,\n        color,\n        seriesId: this.id\n      }, this.getModuleTooltipParams())\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    if (!(((_a = this.data) == null ? void 0 : _a.length) && this.properties.isValid() && legendType === \"category\")) {\n      return [];\n    }\n    const { yKey, yName, stroke, strokeOpacity, strokeWidth, lineDash, title, marker, visible, legendItemName } = this.properties;\n    const color0 = \"rgba(0, 0, 0, 0)\";\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        legendItemName,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_c = (_b = legendItemName != null ? legendItemName : title) != null ? _b : yName) != null ? _c : yKey\n        },\n        marker: {\n          shape: marker.shape,\n          fill: (_d = marker.fill) != null ? _d : color0,\n          stroke: (_f = (_e = marker.stroke) != null ? _e : stroke) != null ? _f : color0,\n          fillOpacity: (_g = marker.fillOpacity) != null ? _g : 1,\n          strokeOpacity: (_i = (_h = marker.strokeOpacity) != null ? _h : strokeOpacity) != null ? _i : 1,\n          strokeWidth: (_j = marker.strokeWidth) != null ? _j : 0,\n          enabled: marker.enabled\n        },\n        line: {\n          stroke: stroke != null ? stroke : color0,\n          strokeOpacity,\n          strokeWidth,\n          lineDash\n        }\n      }\n    ];\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      this.updateLinePaths(opts.paths, opts.contextData);\n    });\n  }\n  updateLinePaths(paths, contextData) {\n    const { nodeData } = contextData;\n    const [lineNode] = paths;\n    const { path: linePath } = lineNode;\n    linePath.clear(true);\n    for (const data of nodeData) {\n      if (data.point.moveTo) {\n        linePath.moveTo(data.point.x, data.point.y);\n      } else {\n        linePath.lineTo(data.point.x, data.point.y);\n      }\n    }\n    lineNode.checkPathDirty();\n  }\n  animateEmptyUpdateReady(animationData) {\n    const { markerSelection, labelSelection, annotationSelections, contextData, paths } = animationData;\n    const { animationManager } = this.ctx;\n    this.updateLinePaths(paths, contextData);\n    pathSwipeInAnimation(this, animationManager, ...paths);\n    resetMotion([markerSelection], resetMarkerPositionFn);\n    markerSwipeScaleInAnimation(this, animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n  }\n  animateReadyResize(animationData) {\n    const { contextData, paths } = animationData;\n    this.updateLinePaths(paths, contextData);\n    super.animateReadyResize(animationData);\n  }\n  animateWaitingUpdateReady(animationData) {\n    var _a, _b;\n    const { animationManager } = this.ctx;\n    const {\n      markerSelection: markerSelections,\n      labelSelection: labelSelections,\n      annotationSelections,\n      contextData,\n      paths,\n      previousContextData\n    } = animationData;\n    const [path] = paths;\n    super.resetAllAnimation(animationData);\n    const update = () => {\n      this.updateLinePaths(paths, contextData);\n    };\n    const skip = () => {\n      animationManager.skipCurrentBatch();\n      update();\n    };\n    if (contextData == null || previousContextData == null) {\n      update();\n      markerFadeInAnimation(this, animationManager, \"added\", markerSelections);\n      pathFadeInAnimation(this, \"path_properties\", animationManager, \"add\", path);\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelections);\n      seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n      return;\n    }\n    const fns = prepareLinePathAnimation(contextData, previousContextData, (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff);\n    if (fns === void 0) {\n      skip();\n      return;\n    } else if (fns.status === \"no-op\") {\n      return;\n    }\n    markerFadeInAnimation(this, animationManager, void 0, markerSelections);\n    fromToMotion(this.id, \"path_properties\", animationManager, [path], fns.pathProperties);\n    pathMotion(this.id, \"path_update\", animationManager, [path], fns.path);\n    if (fns.hasMotion) {\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelections);\n      seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n    }\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  getBandScalePadding() {\n    return { inner: 1, outer: 0.1 };\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const { xKey, yKey } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, { datum, xKey, yKey, highlighted: true });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nLineSeries.className = \"LineSeries\";\nLineSeries.type = \"line\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeriesModule.ts\nvar LineSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"line\",\n  instanceConstructor: LineSeries,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    },\n    {\n      type: \"category\" /* CATEGORY */,\n      position: \"bottom\" /* BOTTOM */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: { position: { type: \"node\" } },\n      strokeWidth: 2,\n      strokeOpacity: 1,\n      lineDash: [0],\n      lineDashOffset: 0,\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 0\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 1\n        }\n      }\n    }\n  },\n  paletteFactory: (params) => {\n    const { marker } = markerPaletteFactory(params);\n    return { stroke: marker.fill, marker };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeriesProperties.ts\nvar ScatterSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"top\";\n  }\n};\n__decorateClass([\n  Validate(LABEL_PLACEMENT)\n], ScatterSeriesLabel.prototype, \"placement\", 2);\nvar ScatterSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.colorRange = [\"#ffff00\", \"#00ff00\", \"#0000ff\"];\n    this.marker = new SeriesMarker();\n    this.label = new ScatterSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], ScatterSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING)\n], ScatterSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"labelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"labelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([\n  Validate(NUMBER_ARRAY, { optional: true })\n], ScatterSeriesProperties.prototype, \"colorDomain\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], ScatterSeriesProperties.prototype, \"colorRange\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"title\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], ScatterSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], ScatterSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], ScatterSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeries.ts\nvar ScatterSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [\n        2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */,\n        3 /* NEAREST_NODE */,\n        0 /* EXACT_SHAPE_MATCH */\n      ],\n      pathsPerSeries: 0,\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        marker: resetMarkerFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new ScatterSeriesProperties();\n    this.colorScale = new ColorScale();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      if (!this.properties.isValid() || this.data == null || !this.visible)\n        return;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const { xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const colorScaleType = this.colorScale.type;\n      const { xKey, yKey, labelKey, colorKey, colorDomain, colorRange } = this.properties;\n      const { dataModel, processedData } = yield this.requestDataModel(dataController, this.data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xKey-raw\" }),\n          keyProperty(yKey, yScaleType, { id: \"yKey-raw\" }),\n          ...labelKey ? [keyProperty(labelKey, \"band\", { id: `labelKey-raw` })] : [],\n          valueProperty(xKey, xScaleType, { id: `xValue` }),\n          valueProperty(yKey, yScaleType, { id: `yValue` }),\n          ...colorKey ? [valueProperty(colorKey, colorScaleType, { id: `colorValue` })] : [],\n          ...labelKey ? [valueProperty(labelKey, \"band\", { id: `labelValue` })] : []\n        ]\n      });\n      if (colorKey) {\n        const colorKeyIdx = dataModel.resolveProcessedDataIndexById(this, `colorValue`);\n        this.colorScale.domain = (_c = colorDomain != null ? colorDomain : processedData.domain.values[colorKeyIdx]) != null ? _c : [];\n        this.colorScale.range = colorRange;\n        this.colorScale.update();\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { dataModel, processedData } = this;\n    if (!processedData || !dataModel)\n      return [];\n    const id = direction === \"x\" /* X */ ? `xValue` : `yValue`;\n    const dataDef = dataModel.resolveProcessedDataDefById(this, id);\n    const domain = dataModel.getDomain(this, id, \"value\", processedData);\n    if ((dataDef == null ? void 0 : dataDef.def.type) === \"value\" && (dataDef == null ? void 0 : dataDef.def.valueType) === \"category\") {\n      return domain;\n    }\n    const axis = this.axes[direction];\n    return fixNumericExtent(extent(domain), axis);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { axes, dataModel, processedData, colorScale } = this;\n      const { xKey, yKey, labelKey, colorKey, xName, yName, labelName, marker, label, visible } = this.properties;\n      const { placement } = label;\n      const markerShape = getMarker(marker.shape);\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!(dataModel && processedData && visible && xAxis && yAxis)) {\n        return;\n      }\n      const xDataIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yDataIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      const colorDataIdx = colorKey ? dataModel.resolveProcessedDataIndexById(this, `colorValue`) : -1;\n      const labelDataIdx = labelKey ? dataModel.resolveProcessedDataIndexById(this, `labelValue`) : -1;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      const font = label.getFont();\n      for (const { values, datum } of (_c = processedData.data) != null ? _c : []) {\n        const xDatum = values[xDataIdx];\n        const yDatum = values[yDataIdx];\n        const x = xScale.convert(xDatum) + xOffset;\n        const y = yScale.convert(yDatum) + yOffset;\n        const labelText = this.getLabelText(label, {\n          value: labelKey ? values[labelDataIdx] : yDatum,\n          datum,\n          xKey,\n          yKey,\n          labelKey,\n          xName,\n          yName,\n          labelName\n        });\n        const size = Text.getTextSize(labelText, font);\n        const fill = colorKey ? colorScale.convert(values[colorDataIdx]) : void 0;\n        nodeData.push({\n          series: this,\n          itemId: yKey,\n          yKey,\n          xKey,\n          datum,\n          xValue: xDatum,\n          yValue: yDatum,\n          capDefaults: { lengthRatioMultiplier: marker.getDiameter(), lengthMax: Infinity },\n          point: { x, y, size: marker.size },\n          midPoint: { x, y },\n          fill,\n          label: __spreadValues({ text: labelText }, size),\n          marker: markerShape,\n          placement\n        });\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  getLabelData() {\n    var _a, _b;\n    return (_b = (_a = this.contextNodeData) == null ? void 0 : _a.labelData) != null ? _b : [];\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, markerSelection } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(this.properties.marker.enabled ? nodeData : []);\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, labelKey, marker, highlightStyle } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle());\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey, labelKey }, baseStyle);\n      });\n      if (!highlighted) {\n        marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const placedLabels = this.isLabelEnabled() ? (_b = (_a = this.chart) == null ? void 0 : _a.placeLabels().get(this)) != null ? _b : [] : [];\n      return opts.labelSelection.update(\n        placedLabels.map(({ datum, x, y }) => __spreadProps(__spreadValues({}, datum), {\n          point: { x, y, size: datum.point.size },\n          placement: \"top\"\n        })),\n        (text) => {\n          text.pointerEvents = 1 /* None */;\n        }\n      );\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { label } = this.properties;\n      opts.labelSelection.each((text, datum) => {\n        var _a, _b, _c, _d;\n        text.text = datum.label.text;\n        text.fill = label.color;\n        text.x = (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : 0;\n        text.y = (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : 0;\n        text.fontStyle = label.fontStyle;\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = \"left\";\n        text.textBaseline = \"top\";\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, labelKey, xName, yName, labelName, title = yName, marker, tooltip } = this.properties;\n    const { datum, xValue, yValue, label, itemId } = nodeDatum;\n    const baseStyle = mergeDefaults(\n      { fill: nodeDatum.fill, strokeWidth: this.getStrokeWidth(marker.strokeWidth) },\n      marker.getStyle()\n    );\n    const { fill: color = \"gray\" } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, highlighted: false, xKey, yKey, labelKey },\n      baseStyle\n    );\n    const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n    const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n    let content = `<b>${sanitizeHtml(xName != null ? xName : xKey)}</b>: ${xString}<br><b>${sanitizeHtml(yName != null ? yName : yKey)}</b>: ${yString}`;\n    if (labelKey) {\n      content = `<b>${sanitizeHtml(labelName != null ? labelName : labelKey)}</b>: ${sanitizeHtml(label.text)}<br>` + content;\n    }\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      __spreadValues({\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        labelKey,\n        labelName,\n        title,\n        color,\n        seriesId: this.id\n      }, this.getModuleTooltipParams())\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e, _f;\n    const { yKey, yName, title, marker, visible } = this.properties;\n    const { fill, stroke, fillOpacity, strokeOpacity, strokeWidth } = marker;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_b = title != null ? title : yName) != null ? _b : yKey\n        },\n        marker: {\n          shape: marker.shape,\n          fill: (_d = (_c = marker.fill) != null ? _c : fill) != null ? _d : \"rgba(0, 0, 0, 0)\",\n          stroke: (_f = (_e = marker.stroke) != null ? _e : stroke) != null ? _f : \"rgba(0, 0, 0, 0)\",\n          fillOpacity: fillOpacity != null ? fillOpacity : 1,\n          strokeOpacity: strokeOpacity != null ? strokeOpacity : 1,\n          strokeWidth: strokeWidth != null ? strokeWidth : 0\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady(data) {\n    const { markerSelection, labelSelection, annotationSelections } = data;\n    markerScaleInAnimation(this, this.ctx.animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const { xKey, yKey, labelKey } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, { datum, xKey, yKey, labelKey, highlighted: true });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nScatterSeries.className = \"ScatterSeries\";\nScatterSeries.type = \"scatter\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeriesModule.ts\nvar ScatterSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"scatter\",\n  instanceConstructor: ScatterSeries,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"bottom\" /* BOTTOM */\n    },\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: { position: { type: \"node\" } },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        fillOpacity: 0.8\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 1\n        }\n      }\n    }\n  },\n  paletteFactory: markerPaletteFactory\n};\n\n// packages/ag-charts-community/src/scene/sectorBox.ts\nvar SectorBox = class _SectorBox {\n  constructor(startAngle, endAngle, innerRadius, outerRadius) {\n    this.startAngle = startAngle;\n    this.endAngle = endAngle;\n    this.innerRadius = innerRadius;\n    this.outerRadius = outerRadius;\n  }\n  clone() {\n    const { startAngle, endAngle, innerRadius, outerRadius } = this;\n    return new _SectorBox(startAngle, endAngle, innerRadius, outerRadius);\n  }\n  [interpolate](other, d) {\n    return new _SectorBox(\n      this.startAngle * (1 - d) + other.startAngle * d,\n      this.endAngle * (1 - d) + other.endAngle * d,\n      this.innerRadius * (1 - d) + other.innerRadius * d,\n      this.outerRadius * (1 - d) + other.outerRadius * d\n    );\n  }\n};\n\n// packages/ag-charts-community/src/scene/util/sector.ts\nfunction isPointInSector(x, y, sector) {\n  const radius = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n  const { innerRadius, outerRadius } = sector;\n  if (sector.startAngle === sector.endAngle || radius < Math.min(innerRadius, outerRadius) || radius > Math.max(innerRadius, outerRadius)) {\n    return false;\n  }\n  const startAngle = normalizeAngle180(sector.startAngle);\n  const endAngle = normalizeAngle180(sector.endAngle);\n  const angle = Math.atan2(y, x);\n  return startAngle < endAngle ? angle <= endAngle && angle >= startAngle : angle <= endAngle && angle >= -Math.PI || angle >= startAngle && angle <= Math.PI;\n}\nfunction lineCollidesSector(line, sector) {\n  const { startAngle, endAngle, innerRadius, outerRadius } = sector;\n  const outerStart = { x: outerRadius * Math.cos(startAngle), y: outerRadius * Math.sin(startAngle) };\n  const outerEnd = { x: outerRadius * Math.cos(endAngle), y: outerRadius * Math.sin(endAngle) };\n  const innerStart = innerRadius === 0 ? { x: 0, y: 0 } : { x: innerRadius * Math.cos(startAngle), y: innerRadius * Math.sin(startAngle) };\n  const innerEnd = innerRadius === 0 ? { x: 0, y: 0 } : { x: innerRadius * Math.cos(endAngle), y: innerRadius * Math.sin(endAngle) };\n  return segmentIntersection(\n    line.start.x,\n    line.start.y,\n    line.end.x,\n    line.end.y,\n    outerStart.x,\n    outerStart.y,\n    innerStart.x,\n    innerStart.y\n  ) || segmentIntersection(\n    line.start.x,\n    line.start.y,\n    line.end.x,\n    line.end.y,\n    outerEnd.x,\n    outerEnd.y,\n    innerEnd.x,\n    innerEnd.y\n  ) || arcIntersections(\n    0,\n    0,\n    outerRadius,\n    startAngle,\n    endAngle,\n    true,\n    line.start.x,\n    line.start.y,\n    line.end.x,\n    line.end.y\n  );\n}\nfunction boxCollidesSector(box, sector) {\n  const topLeft = { x: box.x, y: box.y };\n  const topRight = { x: box.x + box.width, y: box.y };\n  const bottomLeft = { x: box.x, y: box.y + box.height };\n  const bottomRight = { x: box.x + box.width, y: box.y + box.height };\n  return lineCollidesSector({ start: topLeft, end: topRight }, sector) || lineCollidesSector({ start: bottomLeft, end: bottomRight }, sector);\n}\nfunction radiiScalingFactor(r, sweep, a, b) {\n  if (a === 0 && b === 0)\n    return 0;\n  const fs1 = Math.asin(Math.abs(1 * a) / (r + 1 * a)) + Math.asin(Math.abs(1 * b) / (r + 1 * b)) - sweep;\n  if (fs1 < 0)\n    return 1;\n  let start = 0;\n  let end = 1;\n  for (let i = 0; i < 8; i += 1) {\n    const s = (start + end) / 2;\n    const fs = Math.asin(Math.abs(s * a) / (r + s * a)) + Math.asin(Math.abs(s * b) / (r + s * b)) - sweep;\n    if (fs < 0) {\n      start = s;\n    } else {\n      end = s;\n    }\n  }\n  return start;\n}\nvar delta = 1e-6;\nfunction clockwiseAngle(angle, relativeToStartAngle) {\n  if (angleBetween(angle, relativeToStartAngle) < delta) {\n    return relativeToStartAngle;\n  } else {\n    return normalizeAngle360(angle - relativeToStartAngle) + relativeToStartAngle;\n  }\n}\nfunction clockwiseAngles(startAngle, endAngle, relativeToStartAngle = 0) {\n  const fullPie = Math.abs(endAngle - startAngle) >= 2 * Math.PI;\n  const sweepAngle = fullPie ? 2 * Math.PI : normalizeAngle360(endAngle - startAngle);\n  startAngle = clockwiseAngle(startAngle, relativeToStartAngle);\n  endAngle = startAngle + sweepAngle;\n  return { startAngle, endAngle };\n}\nfunction arcRadialLineIntersectionAngle(cx, cy, r, startAngle, endAngle, clipAngle) {\n  const sinA = Math.sin(clipAngle);\n  const cosA = Math.cos(clipAngle);\n  const c = __pow(cx, 2) + __pow(cy, 2) - __pow(r, 2);\n  let p0x = NaN;\n  let p0y = NaN;\n  let p1x = NaN;\n  let p1y = NaN;\n  if (cosA > 0.5) {\n    const tanA = sinA / cosA;\n    const a = 1 + __pow(tanA, 2);\n    const b = -2 * (cx + cy * tanA);\n    const d = __pow(b, 2) - 4 * a * c;\n    if (d < 0)\n      return;\n    const x0 = (-b + Math.sqrt(d)) / (2 * a);\n    const x1 = (-b - Math.sqrt(d)) / (2 * a);\n    p0x = x0;\n    p0y = x0 * tanA;\n    p1x = x1;\n    p1y = x1 * tanA;\n  } else {\n    const cotA = cosA / sinA;\n    const a = 1 + __pow(cotA, 2);\n    const b = -2 * (cy + cx * cotA);\n    const d = __pow(b, 2) - 4 * a * c;\n    if (d < 0)\n      return;\n    const y0 = (-b + Math.sqrt(d)) / (2 * a);\n    const y1 = (-b - Math.sqrt(d)) / (2 * a);\n    p0x = y0 * cotA;\n    p0y = y0;\n    p1x = y1 * cotA;\n    p1y = y1;\n  }\n  const normalisedX = cosA;\n  const normalisedY = sinA;\n  const p0DotNormalized = p0x * normalisedX + p0y * normalisedY;\n  const p1DotNormalized = p1x * normalisedX + p1y * normalisedY;\n  const a0 = p0DotNormalized > 0 ? clockwiseAngle(Math.atan2(p0y - cy, p0x - cx), startAngle) : NaN;\n  const a1 = p1DotNormalized > 0 ? clockwiseAngle(Math.atan2(p1y - cy, p1x - cx), startAngle) : NaN;\n  if (a0 >= startAngle && a0 <= endAngle) {\n    return a0;\n  } else if (a1 >= startAngle && a1 <= endAngle) {\n    return a1;\n  }\n}\nfunction arcCircleIntersectionAngle(cx, cy, r, startAngle, endAngle, circleR) {\n  const d = Math.hypot(cx, cy);\n  const d1 = (__pow(d, 2) - __pow(r, 2) + __pow(circleR, 2)) / (2 * d);\n  const d2 = d - d1;\n  const theta = Math.atan2(cy, cx);\n  const deltaTheta = Math.acos(-d2 / r);\n  const a0 = clockwiseAngle(theta + deltaTheta, startAngle);\n  const a1 = clockwiseAngle(theta - deltaTheta, startAngle);\n  if (a0 >= startAngle && a0 <= endAngle) {\n    return a0;\n  } else if (a1 >= startAngle && a1 <= endAngle) {\n    return a1;\n  }\n}\n\n// packages/ag-charts-community/src/scene/shape/sector.ts\nvar Arc = class {\n  constructor(cx, cy, r, a0, a1) {\n    this.cx = cx;\n    this.cy = cy;\n    this.r = r;\n    this.a0 = a0;\n    this.a1 = a1;\n    if (this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n  isValid() {\n    return Number.isFinite(this.a0) && Number.isFinite(this.a1);\n  }\n  pointAt(a) {\n    return {\n      x: this.cx + this.r * Math.cos(a),\n      y: this.cy + this.r * Math.sin(a)\n    };\n  }\n  clipStart(a) {\n    if (a == null || !this.isValid() || a < this.a0)\n      return;\n    this.a0 = a;\n    if (Number.isNaN(a) || this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n  clipEnd(a) {\n    if (a == null || !this.isValid() || a > this.a1)\n      return;\n    this.a1 = a;\n    if (Number.isNaN(a) || this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n};\nvar Sector = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.centerX = 0;\n    this.centerY = 0;\n    this.innerRadius = 10;\n    this.outerRadius = 20;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.clipSector = void 0;\n    this.concentricEdgeInset = 0;\n    this.radialEdgeInset = 0;\n    this.startOuterCornerRadius = 0;\n    this.endOuterCornerRadius = 0;\n    this.startInnerCornerRadius = 0;\n    this.endInnerCornerRadius = 0;\n  }\n  set inset(value) {\n    this.concentricEdgeInset = value;\n    this.radialEdgeInset = value;\n  }\n  set cornerRadius(value) {\n    this.startOuterCornerRadius = value;\n    this.endOuterCornerRadius = value;\n    this.startInnerCornerRadius = value;\n    this.endInnerCornerRadius = value;\n  }\n  computeBBox() {\n    const radius = this.outerRadius;\n    return new BBox(this.centerX - radius, this.centerY - radius, radius * 2, radius * 2);\n  }\n  normalizedRadii() {\n    const { concentricEdgeInset } = this;\n    return {\n      innerRadius: Math.max(Math.min(this.innerRadius, this.outerRadius) + concentricEdgeInset, 0),\n      outerRadius: Math.max(Math.max(this.innerRadius, this.outerRadius) - concentricEdgeInset, 0)\n    };\n  }\n  normalizedClipSector() {\n    const { clipSector } = this;\n    if (clipSector == null)\n      return;\n    const { startAngle, endAngle } = clockwiseAngles(this.startAngle, this.endAngle);\n    const { innerRadius, outerRadius } = this.normalizedRadii();\n    const clipAngles = clockwiseAngles(clipSector.startAngle, clipSector.endAngle, startAngle);\n    return new SectorBox(\n      Math.max(startAngle, clipAngles.startAngle),\n      Math.min(endAngle, clipAngles.endAngle),\n      Math.max(innerRadius, clipSector.innerRadius),\n      Math.min(outerRadius, clipSector.outerRadius)\n    );\n  }\n  getAngleOffset(radius) {\n    return radius > 0 ? this.radialEdgeInset / radius : 0;\n  }\n  arc(r, angleSweep, a0, a1, outerArc, innerArc, start, inner) {\n    if (r <= 0)\n      return;\n    const { startAngle, endAngle } = clockwiseAngles(this.startAngle, this.endAngle);\n    const { innerRadius, outerRadius } = this.normalizedRadii();\n    const clipSector = this.normalizedClipSector();\n    if (inner && innerRadius <= 0)\n      return;\n    const innerAngleOffset = this.getAngleOffset(innerRadius);\n    const outerAngleOffset = this.getAngleOffset(outerRadius);\n    const angleOffset = inner ? this.getAngleOffset(innerRadius + r) : this.getAngleOffset(outerRadius - r);\n    const angle = start ? startAngle + angleOffset + angleSweep : endAngle - angleOffset - angleSweep;\n    const radius = inner ? innerRadius + r : outerRadius - r;\n    const cx = radius * Math.cos(angle);\n    const cy = radius * Math.sin(angle);\n    if (clipSector != null) {\n      const delta2 = 1e-6;\n      if (!start && !(angle >= startAngle - delta2 && angle <= clipSector.endAngle - delta2))\n        return;\n      if (start && !(angle >= clipSector.startAngle + delta2 && angle <= endAngle - delta2))\n        return;\n      if (inner && !(radius >= clipSector.innerRadius - delta2))\n        return;\n      if (!inner && !(radius <= clipSector.outerRadius + delta2))\n        return;\n    }\n    const arc = new Arc(cx, cy, r, a0, a1);\n    if (clipSector != null) {\n      if (inner) {\n        arc.clipStart(\n          arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.endAngle - innerAngleOffset)\n        );\n        arc.clipEnd(\n          arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.startAngle + innerAngleOffset)\n        );\n      } else {\n        arc.clipStart(\n          arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.startAngle + outerAngleOffset)\n        );\n        arc.clipEnd(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.endAngle - outerAngleOffset));\n      }\n      let circleClipStart;\n      let circleClipEnd;\n      if (start) {\n        circleClipStart = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.innerRadius);\n        circleClipEnd = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.outerRadius);\n      } else {\n        circleClipStart = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.outerRadius);\n        circleClipEnd = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.innerRadius);\n      }\n      arc.clipStart(circleClipStart);\n      arc.clipEnd(circleClipEnd);\n      if (circleClipStart != null) {\n        const { x: x2, y: y2 } = arc.pointAt(circleClipStart);\n        const theta2 = clockwiseAngle(Math.atan2(y2, x2), startAngle);\n        if (start) {\n          innerArc == null ? void 0 : innerArc.clipStart(theta2);\n        } else {\n          outerArc.clipEnd(theta2);\n        }\n      }\n      if (circleClipEnd != null) {\n        const { x: x2, y: y2 } = arc.pointAt(circleClipEnd);\n        const theta2 = clockwiseAngle(Math.atan2(y2, x2), startAngle);\n        if (start) {\n          outerArc.clipStart(theta2);\n        } else {\n          innerArc == null ? void 0 : innerArc.clipEnd(theta2);\n        }\n      }\n    }\n    if (clipSector != null) {\n      const { x: x2, y: y2 } = arc.pointAt((arc.a0 + arc.a1) / 2);\n      if (!isPointInSector(x2, y2, clipSector))\n        return;\n    }\n    const { x, y } = arc.pointAt(start === inner ? arc.a0 : arc.a1);\n    const theta = clockwiseAngle(Math.atan2(y, x), startAngle);\n    const radialArc = inner ? innerArc : outerArc;\n    if (start) {\n      radialArc == null ? void 0 : radialArc.clipStart(theta);\n    } else {\n      radialArc == null ? void 0 : radialArc.clipEnd(theta);\n    }\n    return arc;\n  }\n  updatePath() {\n    var _a, _b, _c, _d, _e;\n    const delta2 = 1e-6;\n    const { path, centerX, centerY, concentricEdgeInset, radialEdgeInset } = this;\n    let { startOuterCornerRadius, endOuterCornerRadius, startInnerCornerRadius, endInnerCornerRadius } = this;\n    const { startAngle, endAngle } = clockwiseAngles(this.startAngle, this.endAngle);\n    const { innerRadius, outerRadius } = this.normalizedRadii();\n    const clipSector = this.normalizedClipSector();\n    const sweepAngle = endAngle - startAngle;\n    const fullPie = sweepAngle >= 2 * Math.PI - delta2;\n    path.clear();\n    if (((_a = clipSector == null ? void 0 : clipSector.startAngle) != null ? _a : startAngle) === ((_b = clipSector == null ? void 0 : clipSector.endAngle) != null ? _b : endAngle)) {\n      return;\n    } else if (fullPie && this.clipSector == null && startOuterCornerRadius === 0 && endOuterCornerRadius === 0 && startInnerCornerRadius === 0 && endInnerCornerRadius === 0) {\n      path.moveTo(centerX + outerRadius * Math.cos(startAngle), centerY + outerRadius * Math.sin(startAngle));\n      path.arc(centerX, centerY, outerRadius, startAngle, endAngle);\n      if (innerRadius > concentricEdgeInset) {\n        path.moveTo(centerX + innerRadius * Math.cos(endAngle), centerY + innerRadius * Math.sin(endAngle));\n        path.arc(centerX, centerY, innerRadius, endAngle, startAngle, true);\n      }\n      path.closePath();\n      return;\n    }\n    const innerAngleOffset = this.getAngleOffset(innerRadius);\n    const outerAngleOffset = this.getAngleOffset(outerRadius);\n    const outerAngleExceeded = sweepAngle < 2 * outerAngleOffset;\n    if (outerAngleExceeded)\n      return;\n    const hasInnerSweep = ((_c = clipSector == null ? void 0 : clipSector.innerRadius) != null ? _c : innerRadius) > concentricEdgeInset;\n    const innerAngleExceeded = innerRadius < concentricEdgeInset || sweepAngle < 2 * innerAngleOffset;\n    const radialLength = outerRadius - innerRadius;\n    const maxRadialLength = Math.max(\n      startOuterCornerRadius,\n      startInnerCornerRadius,\n      endOuterCornerRadius,\n      endInnerCornerRadius\n    );\n    const initialScalingFactor = maxRadialLength > 0 ? Math.min(radialLength / maxRadialLength, 1) : 1;\n    startOuterCornerRadius *= initialScalingFactor;\n    endOuterCornerRadius *= initialScalingFactor;\n    startInnerCornerRadius *= initialScalingFactor;\n    endInnerCornerRadius *= initialScalingFactor;\n    const outerScalingFactor = radiiScalingFactor(\n      outerRadius,\n      sweepAngle - 2 * outerAngleOffset,\n      -startOuterCornerRadius,\n      -endOuterCornerRadius\n    );\n    startOuterCornerRadius *= outerScalingFactor;\n    endOuterCornerRadius *= outerScalingFactor;\n    if (!innerAngleExceeded && hasInnerSweep) {\n      const innerScalingFactor = radiiScalingFactor(\n        innerRadius,\n        sweepAngle - 2 * innerAngleOffset,\n        startInnerCornerRadius,\n        endInnerCornerRadius\n      );\n      startInnerCornerRadius *= innerScalingFactor;\n      endInnerCornerRadius *= innerScalingFactor;\n    } else {\n      startInnerCornerRadius = 0;\n      endInnerCornerRadius = 0;\n    }\n    const maxCombinedRadialLength = Math.max(\n      startOuterCornerRadius + startInnerCornerRadius,\n      endOuterCornerRadius + endInnerCornerRadius\n    );\n    const edgesScalingFactor = maxCombinedRadialLength > 0 ? Math.min(radialLength / maxCombinedRadialLength, 1) : 1;\n    startOuterCornerRadius *= edgesScalingFactor;\n    endOuterCornerRadius *= edgesScalingFactor;\n    startInnerCornerRadius *= edgesScalingFactor;\n    endInnerCornerRadius *= edgesScalingFactor;\n    let startOuterCornerRadiusAngleSweep = 0;\n    let endOuterCornerRadiusAngleSweep = 0;\n    const startOuterCornerRadiusSweep = startOuterCornerRadius / (outerRadius - startOuterCornerRadius);\n    const endOuterCornerRadiusSweep = endOuterCornerRadius / (outerRadius - endOuterCornerRadius);\n    if (startOuterCornerRadiusSweep >= 0 && startOuterCornerRadiusSweep < 1 - delta2) {\n      startOuterCornerRadiusAngleSweep = Math.asin(startOuterCornerRadiusSweep);\n    } else {\n      startOuterCornerRadiusAngleSweep = sweepAngle / 2;\n      const maxStartOuterCornerRadius = outerRadius / (1 / Math.sin(startOuterCornerRadiusAngleSweep) + 1);\n      startOuterCornerRadius = Math.min(maxStartOuterCornerRadius, startOuterCornerRadius);\n    }\n    if (endOuterCornerRadiusSweep >= 0 && endOuterCornerRadiusSweep < 1 - delta2) {\n      endOuterCornerRadiusAngleSweep = Math.asin(endOuterCornerRadiusSweep);\n    } else {\n      endOuterCornerRadiusAngleSweep = sweepAngle / 2;\n      const maxEndOuterCornerRadius = outerRadius / (1 / Math.sin(endOuterCornerRadiusAngleSweep) + 1);\n      endOuterCornerRadius = Math.min(maxEndOuterCornerRadius, endOuterCornerRadius);\n    }\n    const startInnerCornerRadiusAngleSweep = Math.asin(\n      startInnerCornerRadius / (innerRadius + startInnerCornerRadius)\n    );\n    const endInnerCornerRadiusAngleSweep = Math.asin(endInnerCornerRadius / (innerRadius + endInnerCornerRadius));\n    const outerArcRadius = (_d = clipSector == null ? void 0 : clipSector.outerRadius) != null ? _d : outerRadius;\n    const outerArcRadiusOffset = this.getAngleOffset(outerArcRadius);\n    const outerArc = new Arc(\n      0,\n      0,\n      outerArcRadius,\n      startAngle + outerArcRadiusOffset,\n      endAngle - outerArcRadiusOffset\n    );\n    const innerArcRadius = (_e = clipSector == null ? void 0 : clipSector.innerRadius) != null ? _e : innerRadius;\n    const innerArcRadiusOffset = this.getAngleOffset(innerArcRadius);\n    const innerArc = hasInnerSweep ? new Arc(0, 0, innerArcRadius, startAngle + innerArcRadiusOffset, endAngle - innerArcRadiusOffset) : void 0;\n    if (clipSector != null) {\n      outerArc.clipStart(clipSector.startAngle);\n      outerArc.clipEnd(clipSector.endAngle);\n      innerArc == null ? void 0 : innerArc.clipStart(clipSector.startAngle);\n      innerArc == null ? void 0 : innerArc.clipEnd(clipSector.endAngle);\n    }\n    const startOuterArc = this.arc(\n      startOuterCornerRadius,\n      startOuterCornerRadiusAngleSweep,\n      startAngle - Math.PI * 0.5,\n      startAngle + startOuterCornerRadiusAngleSweep,\n      outerArc,\n      innerArc,\n      true,\n      false\n    );\n    const endOuterArc = this.arc(\n      endOuterCornerRadius,\n      endOuterCornerRadiusAngleSweep,\n      endAngle - endOuterCornerRadiusAngleSweep,\n      endAngle + Math.PI * 0.5,\n      outerArc,\n      innerArc,\n      false,\n      false\n    );\n    const endInnerArc = this.arc(\n      endInnerCornerRadius,\n      endInnerCornerRadiusAngleSweep,\n      endAngle + Math.PI * 0.5,\n      endAngle + Math.PI - endInnerCornerRadiusAngleSweep,\n      outerArc,\n      innerArc,\n      false,\n      true\n    );\n    const startInnerArc = this.arc(\n      startInnerCornerRadius,\n      startInnerCornerRadiusAngleSweep,\n      startAngle + Math.PI + startInnerCornerRadiusAngleSweep,\n      startAngle + Math.PI * 1.5,\n      outerArc,\n      innerArc,\n      true,\n      true\n    );\n    if (innerAngleExceeded) {\n      const x = sweepAngle < Math.PI * 0.5 ? radialEdgeInset * (1 + Math.cos(sweepAngle)) / Math.sin(sweepAngle) : NaN;\n      let r;\n      if (x > 0 && x < outerRadius) {\n        r = Math.max(Math.hypot(radialEdgeInset, x), innerRadius);\n      } else {\n        r = innerRadius;\n      }\n      const midAngle = startAngle + sweepAngle * 0.5;\n      path.moveTo(centerX + r * Math.cos(midAngle), centerY + r * Math.sin(midAngle));\n    } else if ((startInnerArc == null ? void 0 : startInnerArc.isValid()) === true) {\n      const { x, y } = startInnerArc.pointAt(startInnerArc.a1);\n      path.moveTo(centerX + x, centerY + y);\n    } else if ((innerArc == null ? void 0 : innerArc.isValid()) === true) {\n      const { x, y } = innerArc.pointAt(innerArc.a0);\n      path.moveTo(centerX + x, centerY + y);\n    } else {\n      const midAngle = startAngle + sweepAngle / 2;\n      const cx = innerRadius * Math.cos(midAngle);\n      const cy = innerRadius * Math.sin(midAngle);\n      path.moveTo(centerX + cx, centerY + cy);\n    }\n    if ((startOuterArc == null ? void 0 : startOuterArc.isValid()) === true) {\n      const { cx, cy, r, a0, a1 } = startOuterArc;\n      path.arc(centerX + cx, centerY + cy, r, a0, a1);\n    }\n    if (outerArc.isValid()) {\n      const { r, a0, a1 } = outerArc;\n      path.arc(centerX, centerY, r, a0, a1);\n    }\n    if ((endOuterArc == null ? void 0 : endOuterArc.isValid()) === true) {\n      const { cx, cy, r, a0, a1 } = endOuterArc;\n      path.arc(centerX + cx, centerY + cy, r, a0, a1);\n    }\n    if (!innerAngleExceeded) {\n      if ((endInnerArc == null ? void 0 : endInnerArc.isValid()) === true) {\n        const { cx, cy, r, a0, a1 } = endInnerArc;\n        path.arc(centerX + cx, centerY + cy, r, a0, a1);\n      }\n      if ((innerArc == null ? void 0 : innerArc.isValid()) === true) {\n        const { r, a0, a1 } = innerArc;\n        path.arc(centerX, centerY, r, a1, a0, true);\n      }\n      if ((startInnerArc == null ? void 0 : startInnerArc.isValid()) === true) {\n        const { cx, cy, r, a0, a1 } = startInnerArc;\n        path.arc(centerX + cx, centerY + cy, r, a0, a1);\n      }\n    }\n    path.closePath();\n  }\n  isPointInPath(x, y) {\n    var _a;\n    const point = this.transformPoint(x, y);\n    const { startAngle, endAngle, innerRadius, outerRadius } = (_a = this.clipSector) != null ? _a : this;\n    return isPointInSector(point.x, point.y, {\n      startAngle,\n      endAngle,\n      innerRadius: Math.min(innerRadius, outerRadius),\n      outerRadius: Math.max(innerRadius, outerRadius)\n    });\n  }\n};\nSector.className = \"Sector\";\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"centerX\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"centerY\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"innerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"outerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"startAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"endAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"clipSector\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"concentricEdgeInset\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"radialEdgeInset\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"startOuterCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"endOuterCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"startInnerCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"endInnerCornerRadius\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeriesProperties.ts\nvar DonutTitle = class extends Caption {\n  constructor() {\n    super(...arguments);\n    this.showInLegend = false;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], DonutTitle.prototype, \"showInLegend\", 2);\nvar DonutInnerLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.margin = 2;\n  }\n  set(properties, _reset) {\n    return super.set(properties);\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], DonutInnerLabel.prototype, \"text\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], DonutInnerLabel.prototype, \"margin\", 2);\nvar DonutInnerCircle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"transparent\";\n    this.fillOpacity = 1;\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING)\n], DonutInnerCircle.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO)\n], DonutInnerCircle.prototype, \"fillOpacity\", 2);\nvar DonutSeriesCalloutLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.offset = 3;\n    this.minAngle = 0;\n    this.minSpacing = 4;\n    this.maxCollisionOffset = 50;\n    this.avoidCollisions = true;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLabel.prototype, \"offset\", 2);\n__decorateClass([\n  Validate(DEGREE)\n], DonutSeriesCalloutLabel.prototype, \"minAngle\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLabel.prototype, \"minSpacing\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLabel.prototype, \"maxCollisionOffset\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], DonutSeriesCalloutLabel.prototype, \"avoidCollisions\", 2);\nvar DonutSeriesSectorLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.positionOffset = 0;\n    this.positionRatio = 0.5;\n  }\n};\n__decorateClass([\n  Validate(NUMBER)\n], DonutSeriesSectorLabel.prototype, \"positionOffset\", 2);\n__decorateClass([\n  Validate(RATIO)\n], DonutSeriesSectorLabel.prototype, \"positionRatio\", 2);\nvar DonutSeriesCalloutLine = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.length = 10;\n    this.strokeWidth = 1;\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY, { optional: true })\n], DonutSeriesCalloutLine.prototype, \"colors\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLine.prototype, \"length\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLine.prototype, \"strokeWidth\", 2);\nvar DonutSeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.rotation = 0;\n    this.outerRadiusOffset = 0;\n    this.outerRadiusRatio = 1;\n    this.strokeWidth = 1;\n    this.sectorSpacing = void 0;\n    this.innerLabels = new PropertiesArray(DonutInnerLabel);\n    this.title = new DonutTitle();\n    this.innerCircle = new DonutInnerCircle();\n    this.shadow = new DropShadow();\n    this.calloutLabel = new DonutSeriesCalloutLabel();\n    this.sectorLabel = new DonutSeriesSectorLabel();\n    this.calloutLine = new DonutSeriesCalloutLine();\n    this.tooltip = new SeriesTooltip();\n    this.__BACKGROUND_COLOR_DO_NOT_USE = void 0;\n  }\n  isValid() {\n    const superIsValid = super.isValid();\n    if (this.innerRadiusRatio == null && this.innerRadiusOffset == null) {\n      Logger.warnOnce(\n        \"Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series.\"\n      );\n      return false;\n    }\n    return superIsValid;\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], DonutSeriesProperties.prototype, \"angleKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"angleName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusName\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusMin\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusMax\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"calloutLabelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"calloutLabelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"sectorLabelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"sectorLabelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"legendItemKey\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], DonutSeriesProperties.prototype, \"fills\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], DonutSeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([\n  Validate(RATIO)\n], DonutSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(RATIO)\n], DonutSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], DonutSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], DonutSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([\n  Validate(DEGREE)\n], DonutSeriesProperties.prototype, \"rotation\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], DonutSeriesProperties.prototype, \"outerRadiusOffset\", 2);\n__decorateClass([\n  Validate(RATIO)\n], DonutSeriesProperties.prototype, \"outerRadiusRatio\", 2);\n__decorateClass([\n  Validate(NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"innerRadiusOffset\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], DonutSeriesProperties.prototype, \"innerRadiusRatio\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"sectorSpacing\", 2);\n__decorateClass([\n  Validate(OBJECT_ARRAY)\n], DonutSeriesProperties.prototype, \"innerLabels\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"title\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"innerCircle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"calloutLabel\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"sectorLabel\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"calloutLine\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"__BACKGROUND_COLOR_DO_NOT_USE\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/pieUtil.ts\nfunction preparePieSeriesAnimationFunctions(initialLoad, rotationDegrees, scaleFn, oldScaleFn) {\n  const scale2 = [scaleFn.convert(0), scaleFn.convert(1)];\n  const oldScale = [oldScaleFn.convert(0), oldScaleFn.convert(1)];\n  const rotation = Math.PI / -2 + toRadians(rotationDegrees);\n  const phase = initialLoad ? \"initial\" : \"update\";\n  const scaleToNewRadius = ({ radius }) => {\n    return { innerRadius: scale2[0], outerRadius: scale2[0] + (scale2[1] - scale2[0]) * radius };\n  };\n  const scaleToOldRadius = ({ radius }) => {\n    return { innerRadius: oldScale[0], outerRadius: oldScale[0] + (oldScale[1] - oldScale[0]) * radius };\n  };\n  const fromFn = (sect, datum, status, { prevFromProps }) => {\n    var _a, _b, _c, _d, _e, _f;\n    let { startAngle, endAngle, innerRadius, outerRadius } = sect;\n    let { fill, stroke } = datum.sectorFormat;\n    if (status === \"unknown\" || status === \"added\" && !prevFromProps) {\n      startAngle = rotation;\n      endAngle = rotation;\n      innerRadius = datum.innerRadius;\n      outerRadius = datum.outerRadius;\n    } else if (status === \"added\" && prevFromProps) {\n      startAngle = (_a = prevFromProps.endAngle) != null ? _a : rotation;\n      endAngle = (_b = prevFromProps.endAngle) != null ? _b : rotation;\n      innerRadius = (_c = prevFromProps.innerRadius) != null ? _c : datum.innerRadius;\n      outerRadius = (_d = prevFromProps.outerRadius) != null ? _d : datum.outerRadius;\n    }\n    if (status === \"added\" && !initialLoad) {\n      const radii = scaleToOldRadius(datum);\n      innerRadius = radii.innerRadius;\n      outerRadius = radii.outerRadius;\n    }\n    if (status === \"updated\") {\n      fill = (_e = sect.fill) != null ? _e : fill;\n      stroke = (_f = sect.stroke) != null ? _f : stroke;\n    }\n    return { startAngle, endAngle, innerRadius, outerRadius, fill, stroke, phase };\n  };\n  const toFn = (_sect, datum, status, { prevLive }) => {\n    var _a, _b;\n    let { startAngle, endAngle, innerRadius, outerRadius } = datum;\n    const { stroke, fill } = datum.sectorFormat;\n    if (status === \"removed\" && prevLive) {\n      startAngle = (_a = prevLive.datum) == null ? void 0 : _a.endAngle;\n      endAngle = (_b = prevLive.datum) == null ? void 0 : _b.endAngle;\n    } else if (status === \"removed\" && !prevLive) {\n      startAngle = rotation;\n      endAngle = rotation;\n    }\n    if (status === \"removed\") {\n      const radii = scaleToNewRadius(datum);\n      innerRadius = radii.innerRadius;\n      outerRadius = radii.outerRadius;\n    }\n    return { startAngle, endAngle, outerRadius, innerRadius, stroke, fill };\n  };\n  const innerCircleFromFn = (node, _) => {\n    var _a, _b, _c;\n    return { size: (_c = (_b = (_a = node.previousDatum) == null ? void 0 : _a.radius) != null ? _b : node.size) != null ? _c : 0, phase };\n  };\n  const innerCircleToFn = (_, datum) => {\n    var _a;\n    return { size: (_a = datum.radius) != null ? _a : 0 };\n  };\n  return { nodes: { toFn, fromFn }, innerCircle: { fromFn: innerCircleFromFn, toFn: innerCircleToFn } };\n}\nfunction resetPieSelectionsFn(_node, datum) {\n  return {\n    startAngle: datum.startAngle,\n    endAngle: datum.endAngle,\n    innerRadius: datum.innerRadius,\n    outerRadius: datum.outerRadius,\n    fill: datum.sectorFormat.fill,\n    stroke: datum.sectorFormat.stroke\n  };\n}\nfunction pickByMatchingAngle(series, point) {\n  const dy = point.y - series.centerY;\n  const dx = point.x - series.centerX;\n  const angle = Math.atan2(dy, dx);\n  const sectors = series.getItemNodes();\n  for (const sector of sectors) {\n    if (sector.datum.missing === true)\n      continue;\n    if (isBetweenAngles(angle, sector.startAngle, sector.endAngle)) {\n      const radius = Math.sqrt(dx * dx + dy * dy);\n      let distance2 = 0;\n      if (radius < sector.innerRadius) {\n        distance2 = sector.innerRadius - radius;\n      } else if (radius > sector.outerRadius) {\n        distance2 = radius - sector.outerRadius;\n      }\n      return { datum: sector.datum, distance: distance2 };\n    }\n  }\n  return void 0;\n}\nfunction computeSectorFocusBounds(series, opts) {\n  const nodeData = series.getNodeData();\n  if (nodeData === void 0)\n    return void 0;\n  const { centerX, centerY } = series;\n  const datum = nodeData[opts.datumIndex];\n  const pointVars = [\n    { radius: datum.innerRadius, angle: datum.startAngle },\n    { radius: datum.innerRadius, angle: datum.endAngle },\n    { radius: datum.outerRadius, angle: datum.startAngle },\n    { radius: datum.outerRadius, angle: datum.endAngle }\n  ];\n  const rightAngles = [0, Math.PI / 2, Math.PI, 3 * Math.PI / 2];\n  for (const rightAngle of rightAngles) {\n    if (isBetweenAngles(rightAngle, datum.startAngle, datum.endAngle)) {\n      pointVars.push({ radius: datum.outerRadius, angle: rightAngle });\n    }\n  }\n  const points = pointVars.map(({ radius, angle }) => displacePointFromVector(centerX, centerY, radius, angle));\n  const xs = points.map((p) => p.x);\n  const ys = points.map((p) => p.y);\n  const x = Math.min(...xs);\n  const y = Math.min(...ys);\n  const width = Math.max(...xs) - x;\n  const height = Math.max(...ys) - y;\n  return new BBox(x, y, width, height);\n}\n\n// packages/ag-charts-community/src/chart/series/polar/polarSeries.ts\nvar PolarSeries = class extends DataModelSeries {\n  constructor(_a) {\n    var _b = _a, {\n      useLabelLayer = false,\n      pickModes = [0 /* EXACT_SHAPE_MATCH */],\n      canHaveAxes = false,\n      animationResetFns\n    } = _b, opts = __objRest(_b, [\n      \"useLabelLayer\",\n      \"pickModes\",\n      \"canHaveAxes\",\n      \"animationResetFns\"\n    ]);\n    super(__spreadProps(__spreadValues({}, opts), {\n      useLabelLayer,\n      pickModes,\n      contentGroupVirtual: false,\n      directionKeys: {\n        [\"x\" /* X */]: [\"angleKey\"],\n        [\"y\" /* Y */]: [\"radiusKey\"]\n      },\n      directionNames: {\n        [\"x\" /* X */]: [\"angleName\"],\n        [\"y\" /* Y */]: [\"radiusName\"]\n      },\n      canHaveAxes\n    }));\n    this.itemGroup = this.contentGroup.appendChild(new Group());\n    this.nodeData = [];\n    this.itemSelection = Selection.select(\n      this.itemGroup,\n      () => this.nodeFactory(),\n      false\n    );\n    this.labelSelection = Selection.select(this.labelGroup, Text, false);\n    this.highlightSelection = Selection.select(\n      this.highlightGroup,\n      () => this.nodeFactory()\n    );\n    /**\n     * The center of the polar series (for example, the center of a pie).\n     * If the polar chart has multiple series, all of them will have their\n     * center set to the same value as a result of the polar chart layout.\n     * The center coordinates are not supposed to be set by the user.\n     */\n    this.centerX = 0;\n    this.centerY = 0;\n    /**\n     * The maximum radius the series can use.\n     * This value is set automatically as a result of the polar chart layout\n     * and is not supposed to be set by the user.\n     */\n    this.radius = 0;\n    this.showFocusBox = false;\n    this.itemGroup.zIndexSubOrder = [() => this._declarationOrder, 1];\n    this.animationResetFns = animationResetFns;\n    this.animationState = new StateMachine(\n      \"empty\",\n      {\n        empty: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateEmptyUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        ready: {\n          updateData: \"waiting\",\n          clear: \"clearing\",\n          highlight: (data) => this.animateReadyHighlight(data),\n          highlightMarkers: (data) => this.animateReadyHighlightMarkers(data),\n          resize: (data) => this.animateReadyResize(data),\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        waiting: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateWaitingUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        clearing: {\n          update: {\n            target: \"empty\",\n            action: (data) => this.animateClearingUpdateEmpty(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        }\n      },\n      () => this.checkProcessedDataAnimatable()\n    );\n  }\n  getItemNodes() {\n    return this.itemGroup.children;\n  }\n  getNodeData() {\n    return this.nodeData;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    }\n  }\n  getLabelData() {\n    return [];\n  }\n  computeLabelsBBox(_options, _seriesRect) {\n    return null;\n  }\n  resetAllAnimation() {\n    var _a;\n    const { item, label } = (_a = this.animationResetFns) != null ? _a : {};\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (item) {\n      resetMotion([this.itemSelection, this.highlightSelection], item);\n    }\n    if (label) {\n      resetMotion([this.labelSelection], label);\n    }\n    this.itemSelection.cleanup();\n    this.labelSelection.cleanup();\n    this.highlightSelection.cleanup();\n  }\n  animateEmptyUpdateReady(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animateWaitingUpdateReady(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animateReadyHighlight(_data) {\n    var _a;\n    const { item } = (_a = this.animationResetFns) != null ? _a : {};\n    if (item) {\n      resetMotion([this.highlightSelection], item);\n    }\n  }\n  animateReadyHighlightMarkers(_data) {\n  }\n  animateReadyResize(_data) {\n    this.resetAllAnimation();\n  }\n  animateClearingUpdateEmpty(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animationTransitionClear() {\n    this.animationState.transition(\"clear\", this.getAnimationData());\n  }\n  getAnimationData(seriesRect) {\n    return { seriesRect };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeries.ts\nvar DonutSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.angleKey = series.properties.angleKey;\n    this.radiusKey = series.properties.radiusKey;\n    this.calloutLabelKey = series.properties.calloutLabelKey;\n    this.sectorLabelKey = series.properties.sectorLabelKey;\n  }\n};\nvar DonutSeries = class extends PolarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      useLabelLayer: true,\n      animationResetFns: { item: resetPieSelectionsFn, label: resetLabelFn }\n    });\n    this.properties = new DonutSeriesProperties();\n    this.previousRadiusScale = new LinearScale();\n    this.radiusScale = new LinearScale();\n    // The group node that contains the background graphics.\n    this.backgroundGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.id}-background`,\n        layer: true,\n        zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */\n      })\n    );\n    // AG-6193 If the sum of all datums is 0, then we'll draw 1 or 2 rings to represent the empty series.\n    this.zerosumRingsGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-zerosumRings` }));\n    this.zerosumOuterRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.zerosumInnerRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.innerCircleGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-innerCircle` }));\n    // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n    this.seriesItemEnabled = [];\n    this.surroundingRadius = void 0;\n    this.NodeEvent = DonutSeriesNodeEvent;\n    this.angleScale = new LinearScale();\n    this.angleScale.domain = [0, 1];\n    this.angleScale.range = [-Math.PI, Math.PI].map((angle) => angle + Math.PI / 2);\n    const pieCalloutLabels = new Group({ name: \"pieCalloutLabels\" });\n    const pieSectorLabels = new Group({ name: \"pieSectorLabels\" });\n    const innerLabels = new Group({ name: \"innerLabels\" });\n    this.labelGroup.append(pieCalloutLabels);\n    this.labelGroup.append(pieSectorLabels);\n    this.labelGroup.append(innerLabels);\n    this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n    this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n    this.innerLabelsSelection = Selection.select(innerLabels, Text);\n    this.innerCircleSelection = Selection.select(this.innerCircleGroup, Circle);\n  }\n  addChartEventListeners() {\n    var _a;\n    this.destroyFns.push(\n      (_a = this.ctx.chartEventManager) == null ? void 0 : _a.addListener(\"legend-item-click\", (event) => this.onLegendItemClick(event))\n    );\n  }\n  get visible() {\n    return super.visible && (this.seriesItemEnabled.length === 0 || this.seriesItemEnabled.some((visible) => visible));\n  }\n  nodeFactory() {\n    return new Sector();\n  }\n  getSeriesDomain(direction) {\n    if (direction === \"x\" /* X */) {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      let { data } = this;\n      const { visible, seriesItemEnabled } = this;\n      const { angleKey, radiusKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const extraKeyProps = [];\n      const extraProps = [];\n      if (legendItemKey) {\n        extraKeyProps.push(keyProperty(legendItemKey, \"band\", { id: `legendItemKey` }));\n      } else if (calloutLabelKey) {\n        extraKeyProps.push(keyProperty(calloutLabelKey, \"band\", { id: `calloutLabelKey` }));\n      } else if (sectorLabelKey) {\n        extraKeyProps.push(keyProperty(sectorLabelKey, \"band\", { id: `sectorLabelKey` }));\n      }\n      const radiusScaleType = this.radiusScale.type;\n      const angleScaleType = this.radiusScale.type;\n      if (radiusKey) {\n        extraProps.push(\n          rangedValueProperty(radiusKey, {\n            id: \"radiusValue\",\n            min: (_a = this.properties.radiusMin) != null ? _a : 0,\n            max: this.properties.radiusMax\n          }),\n          valueProperty(radiusKey, radiusScaleType, { id: `radiusRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo(\n            { id: \"radiusValue\" },\n            [0, 1],\n            1,\n            (_b = this.properties.radiusMin) != null ? _b : 0,\n            this.properties.radiusMax\n          )\n        );\n      }\n      if (calloutLabelKey) {\n        extraProps.push(valueProperty(calloutLabelKey, \"band\", { id: `calloutLabelValue` }));\n      }\n      if (sectorLabelKey) {\n        extraProps.push(valueProperty(sectorLabelKey, \"band\", { id: `sectorLabelValue` }));\n      }\n      if (legendItemKey) {\n        extraProps.push(valueProperty(legendItemKey, \"band\", { id: `legendItemValue` }));\n      }\n      if (animationEnabled && this.processedData && extraKeyProps.length > 0) {\n        extraProps.push(diff(this.processedData));\n      }\n      extraProps.push(animationValidation());\n      data = data.map((d, idx) => visible && seriesItemEnabled[idx] ? d : __spreadProps(__spreadValues({}, d), { [angleKey]: 0 }));\n      yield this.requestDataModel(dataController, data, {\n        props: [\n          ...extraKeyProps,\n          accumulativeValueProperty(angleKey, angleScaleType, { id: `angleValue`, onlyPositive: true }),\n          valueProperty(angleKey, angleScaleType, { id: `angleRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo({ id: \"angleValue\" }, [0, 1], 0, 0),\n          ...extraProps\n        ]\n      });\n      for (const valueDef of (_e = (_d = (_c = this.processedData) == null ? void 0 : _c.defs) == null ? void 0 : _d.values) != null ? _e : []) {\n        const { id, missing, property } = valueDef;\n        const missCount = getMissCount(this, missing);\n        if (id !== \"angleRaw\" && missCount > 0) {\n          Logger.warnOnce(\n            `no value was found for the key '${String(property)}' on ${missCount} data element${missCount > 1 ? \"s\" : \"\"}`\n          );\n        }\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  maybeRefreshNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.nodeDataRefresh)\n        return;\n      const { nodeData = [] } = (_a = yield this.createNodeData()) != null ? _a : {};\n      this.nodeData = nodeData;\n      this.nodeDataRefresh = false;\n    });\n  }\n  getProcessedDataIndexes(dataModel) {\n    const angleIdx = dataModel.resolveProcessedDataIndexById(this, `angleValue`);\n    const radiusIdx = this.properties.radiusKey ? dataModel.resolveProcessedDataIndexById(this, `radiusValue`) : -1;\n    const calloutLabelIdx = this.properties.calloutLabelKey ? dataModel.resolveProcessedDataIndexById(this, `calloutLabelValue`) : -1;\n    const sectorLabelIdx = this.properties.sectorLabelKey ? dataModel.resolveProcessedDataIndexById(this, `sectorLabelValue`) : -1;\n    const legendItemIdx = this.properties.legendItemKey ? dataModel.resolveProcessedDataIndexById(this, `legendItemValue`) : -1;\n    return { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx };\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const { id: seriesId, processedData, dataModel, angleScale } = this;\n      const { rotation, innerRadiusRatio } = this.properties;\n      if (!this.properties.isValid()) {\n        this.zerosumOuterRing.visible = true;\n        this.zerosumInnerRing.visible = true;\n        return { itemId: seriesId, nodeData: [], labelData: [] };\n      }\n      if (!processedData || !dataModel || processedData.type !== \"ungrouped\")\n        return;\n      const { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n      let currentStart = 0;\n      let sum2 = 0;\n      const nodeData = processedData.data.map((group2, index) => {\n        var _a;\n        const { datum, values } = group2;\n        const currentValue = values[angleIdx];\n        const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        currentStart = currentValue;\n        sum2 += currentValue;\n        const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        const span = Math.abs(endAngle - startAngle);\n        const midAngle = startAngle + span / 2;\n        const angleValue = values[angleIdx + 1];\n        const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) != null ? _a : 1 : 1;\n        const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : void 0;\n        const legendItemValue = legendItemIdx >= 0 ? values[legendItemIdx] : void 0;\n        const labels = this.getLabels(\n          datum,\n          midAngle,\n          span,\n          true,\n          values[calloutLabelIdx],\n          values[sectorLabelIdx],\n          legendItemValue\n        );\n        const sectorFormat = this.getSectorFormat(datum, index, false);\n        return __spreadValues({\n          itemId: index,\n          series: this,\n          datum,\n          index,\n          angleValue,\n          midAngle,\n          midCos: Math.cos(midAngle),\n          midSin: Math.sin(midAngle),\n          startAngle,\n          endAngle,\n          sectorFormat,\n          radiusValue,\n          radius,\n          innerRadius: Math.max(this.radiusScale.convert(0), 0),\n          outerRadius: Math.max(this.radiusScale.convert(radius), 0),\n          legendItemValue\n        }, labels);\n      });\n      this.zerosumOuterRing.visible = sum2 === 0;\n      this.zerosumInnerRing.visible = sum2 === 0 && innerRadiusRatio != null && innerRadiusRatio !== 1 && innerRadiusRatio > 0;\n      return { itemId: seriesId, nodeData, labelData: nodeData };\n    });\n  }\n  getLabels(datum, midAngle, span, skipDisabled, calloutLabelValue, sectorLabelValue, legendItemValue) {\n    const { calloutLabel, sectorLabel, legendItemKey } = this.properties;\n    const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.properties.calloutLabelKey : void 0;\n    const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.properties.sectorLabelKey : void 0;\n    if (!calloutLabelKey && !sectorLabelKey && !legendItemKey) {\n      return {};\n    }\n    const labelFormatterParams = {\n      datum,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    };\n    const result = {};\n    if (calloutLabelKey && span > toRadians(calloutLabel.minAngle)) {\n      result.calloutLabel = __spreadProps(__spreadValues({}, this.getTextAlignment(midAngle)), {\n        text: this.getLabelText(calloutLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: calloutLabelValue\n        })),\n        hidden: false,\n        collisionTextAlign: void 0,\n        collisionOffsetY: 0,\n        box: void 0\n      });\n    }\n    if (sectorLabelKey) {\n      result.sectorLabel = {\n        text: this.getLabelText(sectorLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: sectorLabelValue\n        }))\n      };\n    }\n    if (legendItemKey != null && legendItemValue != null) {\n      result.legendItem = { key: legendItemKey, text: legendItemValue };\n    }\n    return result;\n  }\n  getTextAlignment(midAngle) {\n    const quadrantTextOpts = [\n      { textAlign: \"center\", textBaseline: \"bottom\" },\n      { textAlign: \"left\", textBaseline: \"middle\" },\n      { textAlign: \"center\", textBaseline: \"hanging\" },\n      { textAlign: \"right\", textBaseline: \"middle\" }\n    ];\n    const midAngle180 = normalizeAngle180(midAngle);\n    const quadrantStart = -0.75 * Math.PI;\n    const quadrantOffset = midAngle180 - quadrantStart;\n    const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n    const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n    return quadrantTextOpts[quadrantIndex];\n  }\n  getSectorFormat(datum, formatIndex, highlight) {\n    var _a, _b, _c, _d, _e;\n    const { callbackCache, highlightManager } = this.ctx;\n    const { angleKey, radiusKey, fills, strokes, formatter, sectorSpacing, __BACKGROUND_COLOR_DO_NOT_USE } = this.properties;\n    const highlightedDatum = highlightManager.getActiveHighlight();\n    const isDatumHighlighted = highlight && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && formatIndex === highlightedDatum.itemId;\n    let defaultStroke = strokes[formatIndex % strokes.length];\n    if (sectorSpacing == null && defaultStroke == null) {\n      defaultStroke = __BACKGROUND_COLOR_DO_NOT_USE;\n    }\n    const { fill, fillOpacity, stroke, strokeWidth, strokeOpacity } = mergeDefaults(\n      isDatumHighlighted && this.properties.highlightStyle.item,\n      {\n        fill: fills.length > 0 ? fills[formatIndex % fills.length] : void 0,\n        fillOpacity: this.properties.fillOpacity,\n        stroke: defaultStroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.getOpacity()\n      }\n    );\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        datum,\n        angleKey,\n        radiusKey,\n        fill,\n        stroke,\n        fills,\n        strokes,\n        strokeWidth,\n        highlighted: isDatumHighlighted,\n        seriesId: this.id\n      });\n    }\n    return {\n      fill: (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill,\n      fillOpacity: (_b = format2 == null ? void 0 : format2.fillOpacity) != null ? _b : fillOpacity,\n      stroke: (_c = format2 == null ? void 0 : format2.stroke) != null ? _c : stroke,\n      strokeWidth: (_d = format2 == null ? void 0 : format2.strokeWidth) != null ? _d : strokeWidth,\n      strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity\n    };\n  }\n  getInnerRadius() {\n    const { radius } = this;\n    const { innerRadiusRatio = 1, innerRadiusOffset = 0 } = this.properties;\n    const innerRadius = radius * innerRadiusRatio + innerRadiusOffset;\n    if (innerRadius === radius || innerRadius < 0) {\n      return 0;\n    }\n    return innerRadius;\n  }\n  getOuterRadius() {\n    const { outerRadiusRatio, outerRadiusOffset } = this.properties;\n    return Math.max(this.radius * outerRadiusRatio + outerRadiusOffset, 0);\n  }\n  updateRadiusScale(resize) {\n    const newRange = [this.getInnerRadius(), this.getOuterRadius()];\n    this.radiusScale.range = newRange;\n    if (resize) {\n      this.previousRadiusScale.range = newRange;\n    }\n    this.nodeData = this.nodeData.map((_a) => {\n      var _b = _a, { radius } = _b, d = __objRest(_b, [\"radius\"]);\n      return __spreadProps(__spreadValues({}, d), {\n        radius,\n        innerRadius: Math.max(this.radiusScale.convert(0), 0),\n        outerRadius: Math.max(this.radiusScale.convert(radius), 0)\n      });\n    });\n  }\n  getTitleTranslationY() {\n    var _a, _b;\n    const outerRadius = Math.max(0, this.radiusScale.range[1]);\n    if (outerRadius === 0) {\n      return NaN;\n    }\n    const spacing = (_b = (_a = this.properties.title) == null ? void 0 : _a.spacing) != null ? _b : 0;\n    const titleOffset = 2 + spacing;\n    const dy = Math.max(0, -outerRadius);\n    return -outerRadius - titleOffset - dy;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      const { title } = this.properties;\n      const newNodeDataDependencies = {\n        seriesRectWidth: seriesRect == null ? void 0 : seriesRect.width,\n        seriesRectHeight: seriesRect == null ? void 0 : seriesRect.height\n      };\n      const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n      if (resize) {\n        this._nodeDataDependencies = newNodeDataDependencies;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateTitleNodes();\n      this.updateRadiusScale(resize);\n      this.contentGroup.translationX = this.centerX;\n      this.contentGroup.translationY = this.centerY;\n      this.highlightGroup.translationX = this.centerX;\n      this.highlightGroup.translationY = this.centerY;\n      this.backgroundGroup.translationX = this.centerX;\n      this.backgroundGroup.translationY = this.centerY;\n      if (this.labelGroup) {\n        this.labelGroup.translationX = this.centerX;\n        this.labelGroup.translationY = this.centerY;\n      }\n      if (title) {\n        const dy = this.getTitleTranslationY();\n        const titleBox = title.node.computeBBox();\n        title.node.visible = title.enabled && isFinite(dy) && !this.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n        title.node.translationY = isFinite(dy) ? dy : 0;\n      }\n      for (const circle of [this.zerosumInnerRing, this.zerosumOuterRing]) {\n        circle.fillOpacity = 0;\n        circle.stroke = this.properties.calloutLabel.color;\n        circle.strokeWidth = 1;\n        circle.strokeOpacity = 1;\n      }\n      this.updateNodeMidPoint();\n      yield this.updateSelections();\n      yield this.updateNodes(seriesRect);\n    });\n  }\n  updateTitleNodes() {\n    var _a, _b;\n    const { oldTitle } = this;\n    const { title } = this.properties;\n    if (oldTitle !== title) {\n      if (oldTitle) {\n        (_a = this.labelGroup) == null ? void 0 : _a.removeChild(oldTitle.node);\n      }\n      if (title) {\n        title.node.textBaseline = \"bottom\";\n        (_b = this.labelGroup) == null ? void 0 : _b.appendChild(title.node);\n      }\n      this.oldTitle = title;\n    }\n  }\n  updateNodeMidPoint() {\n    this.nodeData.forEach((d) => {\n      const radius = d.innerRadius + (d.outerRadius - d.innerRadius) / 2;\n      d.midPoint = {\n        x: d.midCos * Math.max(0, radius),\n        y: d.midSin * Math.max(0, radius)\n      };\n    });\n  }\n  updateSelections() {\n    return __async(this, null, function* () {\n      yield this.updateGroupSelection();\n      this.updateInnerCircleSelection();\n    });\n  }\n  updateGroupSelection() {\n    return __async(this, null, function* () {\n      const { itemSelection, highlightSelection, calloutLabelSelection, sectorLabelSelection, innerLabelsSelection } = this;\n      const update = (selection, clone) => {\n        let nodeData = this.nodeData;\n        if (clone) {\n          nodeData = nodeData.map((datum) => __spreadProps(__spreadValues({}, datum), { sectorFormat: __spreadValues({}, datum.sectorFormat) }));\n        }\n        selection.update(nodeData, void 0, (datum) => this.getDatumId(datum));\n        if (this.ctx.animationManager.isSkipped()) {\n          selection.cleanup();\n        }\n      };\n      update(itemSelection, false);\n      update(highlightSelection, true);\n      calloutLabelSelection.update(this.nodeData, (group2) => {\n        const line = new Line();\n        line.tag = 0 /* Callout */;\n        line.pointerEvents = 1 /* None */;\n        group2.appendChild(line);\n        const text = new Text();\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        group2.appendChild(text);\n      });\n      sectorLabelSelection.update(this.nodeData, (node) => {\n        node.pointerEvents = 1 /* None */;\n      });\n      innerLabelsSelection.update(this.properties.innerLabels, (node) => {\n        node.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateInnerCircleSelection() {\n    const { innerCircle } = this.properties;\n    let radius = 0;\n    const innerRadius = this.getInnerRadius();\n    if (innerRadius > 0) {\n      const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n      const antiAliasingPadding = 1;\n      radius = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n    }\n    const datums = innerCircle ? [{ radius }] : [];\n    this.innerCircleSelection.update(datums);\n  }\n  updateNodes(seriesRect) {\n    return __async(this, null, function* () {\n      const highlightedDatum = this.ctx.highlightManager.getActiveHighlight();\n      const isVisible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n      this.rootGroup.visible = isVisible;\n      this.backgroundGroup.visible = isVisible;\n      this.contentGroup.visible = isVisible;\n      this.highlightGroup.visible = isVisible && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this;\n      if (this.labelGroup) {\n        this.labelGroup.visible = isVisible;\n      }\n      this.contentGroup.opacity = this.getOpacity();\n      this.innerCircleSelection.each((node, { radius }) => {\n        var _a, _b;\n        node.setProperties({\n          fill: (_a = this.properties.innerCircle) == null ? void 0 : _a.fill,\n          opacity: (_b = this.properties.innerCircle) == null ? void 0 : _b.fillOpacity,\n          size: radius\n        });\n      });\n      const updateSectorFn = (sector, datum, _index, isDatumHighlighted) => {\n        const format2 = this.getSectorFormat(datum.datum, datum.itemId, isDatumHighlighted);\n        datum.sectorFormat.fill = format2.fill;\n        datum.sectorFormat.stroke = format2.stroke;\n        const animationDisabled = this.ctx.animationManager.isSkipped();\n        if (animationDisabled) {\n          sector.startAngle = datum.startAngle;\n          sector.endAngle = datum.endAngle;\n          sector.innerRadius = datum.innerRadius;\n          sector.outerRadius = datum.outerRadius;\n        }\n        if (isDatumHighlighted || animationDisabled) {\n          sector.fill = format2.fill;\n          sector.stroke = format2.stroke;\n        }\n        sector.strokeWidth = format2.strokeWidth;\n        sector.fillOpacity = format2.fillOpacity;\n        sector.strokeOpacity = this.properties.strokeOpacity;\n        sector.lineDash = this.properties.lineDash;\n        sector.lineDashOffset = this.properties.lineDashOffset;\n        sector.fillShadow = this.properties.shadow;\n        sector.cornerRadius = this.properties.cornerRadius;\n        sector.inset = this.properties.sectorSpacing != null ? (this.properties.sectorSpacing + (format2.stroke != null ? format2.strokeWidth : 0)) / 2 : 0;\n        sector.lineJoin = this.properties.sectorSpacing != null ? \"miter\" : \"round\";\n      };\n      this.itemSelection.each((node, datum, index) => updateSectorFn(node, datum, index, false));\n      this.highlightSelection.each((node, datum, index) => {\n        const isDatumHighlighted = (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n        updateSectorFn(node, datum, index, true);\n        node.visible = isDatumHighlighted;\n      });\n      this.updateCalloutLineNodes();\n      this.updateCalloutLabelNodes(seriesRect);\n      this.updateSectorLabelNodes();\n      this.updateInnerLabelNodes();\n      this.updateZerosumRings();\n      this.animationState.transition(\"update\");\n    });\n  }\n  updateCalloutLineNodes() {\n    var _a;\n    const { calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const calloutStrokeWidth = calloutLine.strokeWidth;\n    const calloutColors = (_a = calloutLine.colors) != null ? _a : this.properties.strokes;\n    const { offset: offset4 } = this.properties.calloutLabel;\n    this.calloutLabelSelection.selectByTag(0 /* Callout */).forEach((line, index) => {\n      var _a2;\n      const datum = line.datum;\n      const { calloutLabel: label, outerRadius } = datum;\n      if ((label == null ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n        line.visible = true;\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.fill = void 0;\n        const x1 = datum.midCos * outerRadius;\n        const y1 = datum.midSin * outerRadius;\n        let x2 = datum.midCos * (outerRadius + calloutLength);\n        let y2 = datum.midSin * (outerRadius + calloutLength);\n        const isMoved = (_a2 = label.collisionTextAlign) != null ? _a2 : label.collisionOffsetY !== 0;\n        if (isMoved && label.box != null) {\n          const box = label.box;\n          let cx = x2;\n          let cy = y2;\n          if (x2 < box.x) {\n            cx = box.x;\n          } else if (x2 > box.x + box.width) {\n            cx = box.x + box.width;\n          }\n          if (y2 < box.y) {\n            cy = box.y;\n          } else if (y2 > box.y + box.height) {\n            cy = box.y + box.height;\n          }\n          const dx = cx - x2;\n          const dy = cy - y2;\n          const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n          const paddedLength = length - offset4;\n          if (paddedLength > 0) {\n            x2 = x2 + dx * paddedLength / length;\n            y2 = y2 + dy * paddedLength / length;\n          }\n        }\n        line.x1 = x1;\n        line.y1 = y1;\n        line.x2 = x2;\n        line.y2 = y2;\n      } else {\n        line.visible = false;\n      }\n    });\n  }\n  getLabelOverflow(text, box, seriesRect) {\n    const seriesLeft = seriesRect.x - this.centerX;\n    const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n    const seriesTop = seriesRect.y - this.centerY;\n    const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n    const errPx = 1;\n    let visibleTextPart = 1;\n    if (box.x + errPx < seriesLeft) {\n      visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n    } else if (box.x + box.width - errPx > seriesRight) {\n      visibleTextPart = (seriesRight - box.x) / box.width;\n    }\n    const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n    const textLength = visibleTextPart === 1 ? text.length : Math.floor(text.length * visibleTextPart) - 1;\n    const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n    return { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow };\n  }\n  bboxIntersectsSurroundingSeries(box, dx = 0, dy = 0) {\n    const { surroundingRadius } = this;\n    if (surroundingRadius == null) {\n      return false;\n    }\n    const corners = [\n      { x: box.x + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + box.height + dy },\n      { x: box.x + dx, y: box.y + box.height + dy }\n    ];\n    const sur2 = __pow(surroundingRadius, 2);\n    return corners.some((corner) => __pow(corner.x, 2) + __pow(corner.y, 2) > sur2);\n  }\n  computeCalloutLabelCollisionOffsets() {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const { offset: offset4, minSpacing } = calloutLabel;\n    const innerRadius = radiusScale.convert(0);\n    const shouldSkip = (datum) => {\n      const label = datum.calloutLabel;\n      return !label || datum.outerRadius === 0;\n    };\n    const fullData = this.nodeData;\n    const data = this.nodeData.filter((t) => !shouldSkip(t));\n    data.forEach((datum) => {\n      const label = datum.calloutLabel;\n      if (label == null)\n        return;\n      label.hidden = false;\n      label.collisionTextAlign = void 0;\n      label.collisionOffsetY = 0;\n    });\n    if (data.length <= 1) {\n      return;\n    }\n    const leftLabels = data.filter((d) => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n    const rightLabels = data.filter((d) => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n    const topLabels = data.filter((d) => {\n      var _a;\n      return d.midSin < 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const bottomLabels = data.filter((d) => {\n      var _a;\n      return d.midSin >= 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const tempTextNode = new Text();\n    const getTextBBox = (datum) => {\n      var _a;\n      const label = datum.calloutLabel;\n      if (label == null)\n        return new BBox(0, 0, 0, 0);\n      const labelRadius = datum.outerRadius + calloutLine.length + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign({\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      });\n      return tempTextNode.computeBBox();\n    };\n    const avoidNeighbourYCollision = (label, next, direction) => {\n      const box = getTextBBox(label).grow(minSpacing / 2);\n      const other = getTextBBox(next).grow(minSpacing / 2);\n      const collidesOrBehind = box.x < other.x + other.width && box.x + box.width > other.x && (direction === \"to-top\" ? box.y < other.y + other.height : box.y + box.height > other.y);\n      if (collidesOrBehind) {\n        const dy = direction === \"to-top\" ? box.y - other.y - other.height : box.y + box.height - other.y;\n        next.calloutLabel.collisionOffsetY = dy;\n      }\n    };\n    const avoidYCollisions = (labels) => {\n      const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n      const midIndex = labels.indexOf(midLabel);\n      for (let i = midIndex - 1; i >= 0; i--) {\n        const prev = labels[i + 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-top\");\n      }\n      for (let i = midIndex + 1; i < labels.length; i++) {\n        const prev = labels[i - 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-bottom\");\n      }\n    };\n    const avoidXCollisions = (labels) => {\n      const labelsCollideLabelsByY = data.some((datum) => datum.calloutLabel.collisionOffsetY !== 0);\n      const boxes = labels.map((label) => getTextBBox(label));\n      const paddedBoxes = boxes.map((box) => box.clone().grow(minSpacing / 2));\n      let labelsCollideLabelsByX = false;\n      for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n        const box = paddedBoxes[i];\n        for (let j = i + 1; j < labels.length; j++) {\n          const other = paddedBoxes[j];\n          if (box.collidesBBox(other)) {\n            labelsCollideLabelsByX = true;\n            break;\n          }\n        }\n      }\n      const sectors = fullData.map((datum) => {\n        const { startAngle, endAngle, outerRadius } = datum;\n        return { startAngle, endAngle, innerRadius, outerRadius };\n      });\n      const labelsCollideSectors = boxes.some((box) => {\n        return sectors.some((sector) => boxCollidesSector(box, sector));\n      });\n      if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n        return;\n      }\n      labels.filter((d) => d.calloutLabel.textAlign === \"center\").forEach((d) => {\n        const label = d.calloutLabel;\n        if (d.midCos < 0) {\n          label.collisionTextAlign = \"right\";\n        } else if (d.midCos > 0) {\n          label.collisionTextAlign = \"left\";\n        } else {\n          label.collisionTextAlign = \"center\";\n        }\n      });\n    };\n    avoidYCollisions(leftLabels);\n    avoidYCollisions(rightLabels);\n    avoidXCollisions(topLabels);\n    avoidXCollisions(bottomLabels);\n  }\n  updateCalloutLabelNodes(seriesRect) {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const { offset: offset4, color } = calloutLabel;\n    const tempTextNode = new Text();\n    this.calloutLabelSelection.selectByTag(1 /* Label */).forEach((text) => {\n      var _a;\n      const { datum } = text;\n      const label = datum.calloutLabel;\n      const radius = radiusScale.convert(datum.radius);\n      const outerRadius = Math.max(0, radius);\n      if (!(label == null ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n        text.visible = false;\n        return;\n      }\n      const labelRadius = outerRadius + calloutLength + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      const align = {\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      };\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign(align);\n      const box = tempTextNode.computeBBox();\n      let displayText = label.text;\n      let visible = true;\n      if (calloutLabel.avoidCollisions) {\n        const { textLength, hasVerticalOverflow } = this.getLabelOverflow(label.text, box, seriesRect);\n        displayText = label.text.length === textLength ? label.text : `${label.text.substring(0, textLength)}\\u2026`;\n        visible = !hasVerticalOverflow;\n      }\n      text.text = displayText;\n      text.x = x;\n      text.y = y;\n      text.setFont(this.properties.calloutLabel);\n      text.setAlign(align);\n      text.fill = color;\n      text.visible = visible;\n    });\n  }\n  computeLabelsBBox(options, seriesRect) {\n    return __async(this, null, function* () {\n      const { calloutLabel, calloutLine } = this.properties;\n      const calloutLength = calloutLine.length;\n      const { offset: offset4, maxCollisionOffset, minSpacing } = calloutLabel;\n      if (!calloutLabel.avoidCollisions) {\n        return null;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateRadiusScale(false);\n      this.computeCalloutLabelCollisionOffsets();\n      const textBoxes = [];\n      const text = new Text();\n      let titleBox;\n      const { title } = this.properties;\n      if ((title == null ? void 0 : title.text) && title.enabled) {\n        const dy = this.getTitleTranslationY();\n        if (isFinite(dy)) {\n          text.text = title.text;\n          text.x = 0;\n          text.y = dy;\n          text.setFont(title);\n          text.setAlign({\n            textBaseline: \"bottom\",\n            textAlign: \"center\"\n          });\n          titleBox = text.computeBBox();\n          textBoxes.push(titleBox);\n        }\n      }\n      this.nodeData.forEach((datum) => {\n        var _a;\n        const label = datum.calloutLabel;\n        if (!label || datum.outerRadius === 0) {\n          return null;\n        }\n        const labelRadius = datum.outerRadius + calloutLength + offset4;\n        const x = datum.midCos * labelRadius;\n        const y = datum.midSin * labelRadius + label.collisionOffsetY;\n        text.text = label.text;\n        text.x = x;\n        text.y = y;\n        text.setFont(this.properties.calloutLabel);\n        text.setAlign({\n          textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n          textBaseline: label.textBaseline\n        });\n        const box = text.computeBBox();\n        label.box = box;\n        if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n          label.hidden = true;\n          return;\n        }\n        if (titleBox) {\n          const seriesTop = seriesRect.y - this.centerY;\n          const titleCleanArea = new BBox(\n            titleBox.x - minSpacing,\n            seriesTop,\n            titleBox.width + 2 * minSpacing,\n            titleBox.y + titleBox.height + minSpacing - seriesTop\n          );\n          if (box.collidesBBox(titleCleanArea)) {\n            label.hidden = true;\n            return;\n          }\n        }\n        if (options.hideWhenNecessary) {\n          const { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow } = this.getLabelOverflow(\n            label.text,\n            box,\n            seriesRect\n          );\n          const isTooShort = label.text.length > 2 && textLength < 2;\n          if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n            label.hidden = true;\n            return;\n          }\n        }\n        label.hidden = false;\n        textBoxes.push(box);\n      });\n      if (textBoxes.length === 0) {\n        return null;\n      }\n      return BBox.merge(textBoxes);\n    });\n  }\n  updateSectorLabelNodes() {\n    const { radiusScale } = this;\n    const innerRadius = radiusScale.convert(0);\n    const { fontSize, fontStyle, fontWeight, fontFamily, positionOffset, positionRatio, color } = this.properties.sectorLabel;\n    this.sectorLabelSelection.each((text, datum) => {\n      const { sectorLabel, outerRadius } = datum;\n      let isTextVisible = false;\n      if (sectorLabel && outerRadius !== 0) {\n        const labelRadius = innerRadius * (1 - positionRatio) + outerRadius * positionRatio + positionOffset;\n        text.fill = color;\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.text = sectorLabel.text;\n        text.x = datum.midCos * labelRadius;\n        text.y = datum.midSin * labelRadius;\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n        const bbox = text.computeBBox();\n        const corners = [\n          [bbox.x, bbox.y],\n          [bbox.x + bbox.width, bbox.y],\n          [bbox.x + bbox.width, bbox.y + bbox.height],\n          [bbox.x, bbox.y + bbox.height]\n        ];\n        const { startAngle, endAngle } = datum;\n        const sectorBounds = { startAngle, endAngle, innerRadius, outerRadius };\n        if (corners.every(([x, y]) => isPointInSector(x, y, sectorBounds))) {\n          isTextVisible = true;\n        }\n      }\n      text.visible = isTextVisible;\n    });\n  }\n  updateInnerLabelNodes() {\n    const textBBoxes = [];\n    const margins = [];\n    this.innerLabelsSelection.each((text, datum) => {\n      const { fontStyle, fontWeight, fontSize, fontFamily, color } = datum;\n      text.fontStyle = fontStyle;\n      text.fontWeight = fontWeight;\n      text.fontSize = fontSize;\n      text.fontFamily = fontFamily;\n      text.text = datum.text;\n      text.x = 0;\n      text.y = 0;\n      text.fill = color;\n      text.textAlign = \"center\";\n      text.textBaseline = \"alphabetic\";\n      textBBoxes.push(text.computeBBox());\n      margins.push(datum.margin);\n    });\n    const getMarginTop = (index) => index === 0 ? 0 : margins[index];\n    const getMarginBottom = (index) => index === margins.length - 1 ? 0 : margins[index];\n    const totalHeight = textBBoxes.reduce((sum2, bbox, i) => {\n      return sum2 + bbox.height + getMarginTop(i) + getMarginBottom(i);\n    }, 0);\n    const totalWidth = Math.max(...textBBoxes.map((bbox) => bbox.width));\n    const innerRadius = this.getInnerRadius();\n    const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n    const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n    const textBottoms = [];\n    for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n      const bbox = textBBoxes[i];\n      const bottom = bbox.height + prev + getMarginTop(i);\n      textBottoms.push(bottom);\n      prev = bottom + getMarginBottom(i);\n    }\n    this.innerLabelsSelection.each((text, _datum, index) => {\n      text.y = textBottoms[index];\n      text.visible = labelsVisible;\n    });\n  }\n  updateZerosumRings() {\n    this.zerosumOuterRing.size = this.getOuterRadius() * 2;\n    this.zerosumInnerRing.size = this.getInnerRadius() * 2;\n  }\n  getDatumLegendName(nodeDatum) {\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    const { sectorLabel, calloutLabel, legendItem } = nodeDatum;\n    if (legendItemKey && legendItem !== void 0) {\n      return legendItem.text;\n    } else if (calloutLabelKey && calloutLabelKey !== angleKey && (calloutLabel == null ? void 0 : calloutLabel.text) !== void 0) {\n      return calloutLabel.text;\n    } else if (sectorLabelKey && sectorLabelKey !== angleKey && (sectorLabel == null ? void 0 : sectorLabel.text) !== void 0) {\n      return sectorLabel.text;\n    }\n  }\n  pickNodeClosestDatum(point) {\n    return pickByMatchingAngle(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    if (!this.properties.isValid()) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      datum,\n      angleValue,\n      sectorFormat: { fill: color },\n      itemId\n    } = nodeDatum;\n    const title = sanitizeHtml((_a = this.properties.title) == null ? void 0 : _a.text);\n    const content = isFiniteNumber(angleValue) ? toFixed(angleValue) : String(angleValue);\n    const labelText = this.getDatumLegendName(nodeDatum);\n    return this.properties.tooltip.toTooltipHtml(\n      {\n        title: title != null ? title : labelText,\n        content: title && labelText ? `${labelText}: ${content}` : content,\n        backgroundColor: color\n      },\n      {\n        datum,\n        itemId,\n        title,\n        color,\n        seriesId: this.id,\n        angleKey: this.properties.angleKey,\n        angleName: this.properties.angleName,\n        radiusKey: this.properties.radiusKey,\n        radiusName: this.properties.radiusName,\n        calloutLabelKey: this.properties.calloutLabelKey,\n        calloutLabelName: this.properties.calloutLabelName,\n        sectorLabelKey: this.properties.sectorLabelKey,\n        sectorLabelName: this.properties.sectorLabelName,\n        legendItemKey: this.properties.legendItemKey\n      }\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e;\n    const { visible, processedData, dataModel } = this;\n    if (!dataModel || !(processedData == null ? void 0 : processedData.data.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!legendItemKey && (!calloutLabelKey || calloutLabelKey === angleKey) && (!sectorLabelKey || sectorLabelKey === angleKey))\n      return [];\n    const { calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n    const titleText = ((_a = this.properties.title) == null ? void 0 : _a.showInLegend) && this.properties.title.text;\n    const legendData = [];\n    for (let index = 0; index < processedData.data.length; index++) {\n      const { datum, values } = processedData.data[index];\n      const labelParts = [];\n      if (titleText) {\n        labelParts.push(titleText);\n      }\n      const labels = this.getLabels(\n        datum,\n        2 * Math.PI,\n        2 * Math.PI,\n        false,\n        values[calloutLabelIdx],\n        values[sectorLabelIdx],\n        values[legendItemIdx]\n      );\n      if (legendItemKey && labels.legendItem !== void 0) {\n        labelParts.push(labels.legendItem.text);\n      } else if (calloutLabelKey && calloutLabelKey !== angleKey && ((_b = labels.calloutLabel) == null ? void 0 : _b.text) !== void 0) {\n        labelParts.push((_c = labels.calloutLabel) == null ? void 0 : _c.text);\n      } else if (sectorLabelKey && sectorLabelKey !== angleKey && ((_d = labels.sectorLabel) == null ? void 0 : _d.text) !== void 0) {\n        labelParts.push((_e = labels.sectorLabel) == null ? void 0 : _e.text);\n      }\n      if (labelParts.length === 0)\n        continue;\n      const sectorFormat = this.getSectorFormat(datum, index, false);\n      legendData.push({\n        legendType: \"category\",\n        id: this.id,\n        itemId: index,\n        seriesId: this.id,\n        enabled: visible && this.seriesItemEnabled[index],\n        label: {\n          text: labelParts.join(\" - \")\n        },\n        marker: {\n          fill: sectorFormat.fill,\n          stroke: sectorFormat.stroke,\n          fillOpacity: this.properties.fillOpacity,\n          strokeOpacity: this.properties.strokeOpacity,\n          strokeWidth: this.properties.strokeWidth\n        },\n        legendItemName: legendItemKey != null ? datum[legendItemKey] : void 0\n      });\n    }\n    return legendData;\n  }\n  onLegendItemClick(event) {\n    const { enabled, itemId, series, legendItemName } = event;\n    if (series.id === this.id) {\n      this.toggleSeriesItem(itemId, enabled);\n    } else if (legendItemName != null) {\n      this.toggleOtherSeriesItems(legendItemName, enabled);\n    }\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.nodeDataRefresh = true;\n  }\n  toggleOtherSeriesItems(legendItemName, enabled) {\n    var _a;\n    if (!this.properties.legendItemKey || !this.dataModel) {\n      return;\n    }\n    const legendItemIdx = this.dataModel.resolveProcessedDataIndexById(this, `legendItemValue`);\n    (_a = this.processedData) == null ? void 0 : _a.data.forEach(({ values }, datumItemId) => {\n      if (values[legendItemIdx] === legendItemName) {\n        this.toggleSeriesItem(datumItemId, enabled);\n      }\n    });\n  }\n  animateEmptyUpdateReady(_data) {\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      true,\n      this.properties.rotation,\n      this.radiusScale,\n      this.previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [this.itemSelection, this.highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateWaitingUpdateReady() {\n    var _a, _b, _c, _d, _e, _f;\n    const { itemSelection, highlightSelection, processedData, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const dataDiff = (_a = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _a.diff;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const supportedDiff = ((_b = dataDiff == null ? void 0 : dataDiff.moved.size) != null ? _b : 0) === 0;\n    const hasKeys = ((_c = processedData == null ? void 0 : processedData.defs.keys.length) != null ? _c : 0) > 0;\n    const hasUniqueKeys = (_f = (_e = (_d = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _d.animationValidation) == null ? void 0 : _e.uniqueKeys) != null ? _f : true;\n    if (!supportedDiff || !hasKeys || !hasUniqueKeys) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(\n      this.id,\n      \"nodes\",\n      animationManager,\n      [itemSelection, highlightSelection],\n      fns.nodes,\n      (_, datum) => this.getDatumId(datum),\n      dataDiff\n    );\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateClearingUpdateEmpty() {\n    const { itemSelection, highlightSelection, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeOutAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  getDatumIdFromData(datum) {\n    var _a, _b, _c;\n    const { calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!((_c = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation) == null ? void 0 : _c.uniqueKeys)) {\n      return;\n    }\n    if (legendItemKey) {\n      return datum[legendItemKey];\n    } else if (calloutLabelKey) {\n      return datum[calloutLabelKey];\n    } else if (sectorLabelKey) {\n      return datum[sectorLabelKey];\n    }\n  }\n  getDatumId(datum) {\n    const { index } = datum;\n    const datumId = this.getDatumIdFromData(datum.datum);\n    return datumId != null ? String(datumId) : `${index}`;\n  }\n  onDataChange() {\n    var _a;\n    const { data, seriesItemEnabled } = this;\n    this.seriesItemEnabled = (_a = data == null ? void 0 : data.map((_, index) => {\n      var _a2;\n      return (_a2 = seriesItemEnabled[index]) != null ? _a2 : true;\n    })) != null ? _a : [];\n  }\n  computeFocusBounds(opts) {\n    return computeSectorFocusBounds(this, opts);\n  }\n};\nDonutSeries.className = \"DonutSeries\";\nDonutSeries.type = \"donut\";\n\n// packages/ag-charts-community/src/chart/series/polar/pieTheme.ts\nvar pieTheme = {\n  series: {\n    __extends__: EXTENDS_SERIES_DEFAULTS,\n    title: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: \"normal\" /* NORMAL */,\n      fontSize: 14,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_MUTED_LABEL_COLOUR,\n      spacing: 5\n    },\n    calloutLabel: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: void 0,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_LABEL_COLOUR,\n      offset: 3,\n      minAngle: 0\n    },\n    sectorLabel: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: \"normal\" /* NORMAL */,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n      positionOffset: 0,\n      positionRatio: 0.5\n    },\n    calloutLine: {\n      length: 10,\n      strokeWidth: 2\n    },\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    strokeWidth: 1,\n    lineDash: [0],\n    lineDashOffset: 0,\n    rotation: 0,\n    // @todo(AG-10275) Uncomment this\n    // sectorSpacing: 1,\n    shadow: {\n      enabled: false,\n      color: DEFAULT_SHADOW_COLOUR,\n      xOffset: 3,\n      yOffset: 3,\n      blur: 5\n    },\n    innerLabels: {\n      fontStyle: void 0,\n      fontWeight: void 0,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_LABEL_COLOUR,\n      margin: 2\n    },\n    // @todo(AG-10275) Remove this\n    // @ts-expect-error\n    __BACKGROUND_COLOR_DO_NOT_USE: DEFAULT_BACKGROUND_COLOUR\n  }\n};\nvar piePaletteFactory = ({ takeColors, colorsCount, userPalette }) => {\n  const { fills, strokes } = takeColors(colorsCount);\n  return {\n    fills,\n    strokes: userPalette ? strokes : [],\n    calloutLine: {\n      colors: strokes\n    }\n  };\n};\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeriesModule.ts\nvar DonutSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"polar\"],\n  identifier: \"donut\",\n  instanceConstructor: DonutSeries,\n  themeTemplate: pieTheme,\n  paletteFactory: piePaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeriesProperties.ts\nvar PieTitle = class extends Caption {\n  constructor() {\n    super(...arguments);\n    this.showInLegend = false;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], PieTitle.prototype, \"showInLegend\", 2);\nvar DonutInnerLabel2 = class extends Label {\n  set(properties, _reset) {\n    return super.set(properties);\n  }\n};\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(STRING, { optional: true })\n], DonutInnerLabel2.prototype, \"text\", 2);\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(NUMBER, { optional: true })\n], DonutInnerLabel2.prototype, \"margin\", 2);\nvar DonutInnerCircle2 = class extends BaseProperties {\n};\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(COLOR_STRING, { optional: true })\n], DonutInnerCircle2.prototype, \"fill\", 2);\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(RATIO, { optional: true })\n], DonutInnerCircle2.prototype, \"fillOpacity\", 2);\nvar PieSeriesCalloutLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.offset = 3;\n    this.minAngle = 0;\n    this.minSpacing = 4;\n    this.maxCollisionOffset = 50;\n    this.avoidCollisions = true;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLabel.prototype, \"offset\", 2);\n__decorateClass([\n  Validate(DEGREE)\n], PieSeriesCalloutLabel.prototype, \"minAngle\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLabel.prototype, \"minSpacing\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLabel.prototype, \"maxCollisionOffset\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], PieSeriesCalloutLabel.prototype, \"avoidCollisions\", 2);\nvar PieSeriesSectorLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.positionOffset = 0;\n    this.positionRatio = 0.5;\n  }\n};\n__decorateClass([\n  Validate(NUMBER)\n], PieSeriesSectorLabel.prototype, \"positionOffset\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PieSeriesSectorLabel.prototype, \"positionRatio\", 2);\nvar PieSeriesCalloutLine = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.length = 10;\n    this.strokeWidth = 1;\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY, { optional: true })\n], PieSeriesCalloutLine.prototype, \"colors\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLine.prototype, \"length\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLine.prototype, \"strokeWidth\", 2);\nvar PieSeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.rotation = 0;\n    this.outerRadiusOffset = 0;\n    this.outerRadiusRatio = 1;\n    this.strokeWidth = 1;\n    this.sectorSpacing = void 0;\n    this.innerLabels = new PropertiesArray(DonutInnerLabel2);\n    this.title = new PieTitle();\n    this.innerCircle = new DonutInnerCircle2();\n    this.shadow = new DropShadow();\n    this.calloutLabel = new PieSeriesCalloutLabel();\n    this.sectorLabel = new PieSeriesSectorLabel();\n    this.calloutLine = new PieSeriesCalloutLine();\n    this.tooltip = new SeriesTooltip();\n    this.__BACKGROUND_COLOR_DO_NOT_USE = void 0;\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], PieSeriesProperties.prototype, \"angleKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"angleName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"radiusKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"radiusName\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"radiusMin\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"radiusMax\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"calloutLabelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"calloutLabelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"sectorLabelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"sectorLabelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"legendItemKey\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], PieSeriesProperties.prototype, \"fills\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], PieSeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PieSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PieSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], PieSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], PieSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([\n  Validate(DEGREE)\n], PieSeriesProperties.prototype, \"rotation\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], PieSeriesProperties.prototype, \"outerRadiusOffset\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PieSeriesProperties.prototype, \"outerRadiusRatio\", 2);\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"innerRadiusOffset\", 2);\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(RATIO, { optional: true })\n], PieSeriesProperties.prototype, \"innerRadiusRatio\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"sectorSpacing\", 2);\n__decorateClass([\n  Validate(OBJECT_ARRAY)\n], PieSeriesProperties.prototype, \"innerLabels\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"title\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"innerCircle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"calloutLabel\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"sectorLabel\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"calloutLine\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"__BACKGROUND_COLOR_DO_NOT_USE\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeries.ts\nvar PieSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.angleKey = series.properties.angleKey;\n    this.radiusKey = series.properties.radiusKey;\n    this.calloutLabelKey = series.properties.calloutLabelKey;\n    this.sectorLabelKey = series.properties.sectorLabelKey;\n  }\n};\nvar PieSeries = class extends PolarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      useLabelLayer: true,\n      animationResetFns: { item: resetPieSelectionsFn, label: resetLabelFn }\n    });\n    this.properties = new PieSeriesProperties();\n    this.previousRadiusScale = new LinearScale();\n    this.radiusScale = new LinearScale();\n    // The group node that contains the background graphics.\n    this.backgroundGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.id}-background`,\n        layer: true,\n        zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */\n      })\n    );\n    // AG-6193 If the sum of all datums is 0, then we'll draw 1 or 2 rings to represent the empty series.\n    this.zerosumRingsGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-zerosumRings` }));\n    this.zerosumOuterRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.zerosumInnerRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.innerCircleGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-innerCircle` }));\n    // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n    this.seriesItemEnabled = [];\n    this.surroundingRadius = void 0;\n    this.NodeEvent = PieSeriesNodeEvent;\n    this.angleScale = new LinearScale();\n    this.angleScale.domain = [0, 1];\n    this.angleScale.range = [-Math.PI, Math.PI].map((angle) => angle + Math.PI / 2);\n    const pieCalloutLabels = new Group({ name: \"pieCalloutLabels\" });\n    const pieSectorLabels = new Group({ name: \"pieSectorLabels\" });\n    const innerLabels = new Group({ name: \"innerLabels\" });\n    this.labelGroup.append(pieCalloutLabels);\n    this.labelGroup.append(pieSectorLabels);\n    this.labelGroup.append(innerLabels);\n    this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n    this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n    this.innerLabelsSelection = Selection.select(innerLabels, Text);\n    this.innerCircleSelection = Selection.select(this.innerCircleGroup, Circle);\n  }\n  addChartEventListeners() {\n    var _a;\n    this.destroyFns.push(\n      (_a = this.ctx.chartEventManager) == null ? void 0 : _a.addListener(\"legend-item-click\", (event) => this.onLegendItemClick(event))\n    );\n  }\n  get visible() {\n    return super.visible && (this.seriesItemEnabled.length === 0 || this.seriesItemEnabled.some((visible) => visible));\n  }\n  nodeFactory() {\n    return new Sector();\n  }\n  getSeriesDomain(direction) {\n    if (direction === \"x\" /* X */) {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      let { data } = this;\n      const { visible, seriesItemEnabled } = this;\n      const { angleKey, radiusKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const extraKeyProps = [];\n      const extraProps = [];\n      if (legendItemKey) {\n        extraKeyProps.push(keyProperty(legendItemKey, \"band\", { id: `legendItemKey` }));\n      } else if (calloutLabelKey) {\n        extraKeyProps.push(keyProperty(calloutLabelKey, \"band\", { id: `calloutLabelKey` }));\n      } else if (sectorLabelKey) {\n        extraKeyProps.push(keyProperty(sectorLabelKey, \"band\", { id: `sectorLabelKey` }));\n      }\n      const radiusScaleType = this.radiusScale.type;\n      const angleScaleType = this.radiusScale.type;\n      if (radiusKey) {\n        extraProps.push(\n          rangedValueProperty(radiusKey, {\n            id: \"radiusValue\",\n            min: (_a = this.properties.radiusMin) != null ? _a : 0,\n            max: this.properties.radiusMax\n          }),\n          valueProperty(radiusKey, radiusScaleType, { id: `radiusRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo(\n            { id: \"radiusValue\" },\n            [0, 1],\n            1,\n            (_b = this.properties.radiusMin) != null ? _b : 0,\n            this.properties.radiusMax\n          )\n        );\n      }\n      if (calloutLabelKey) {\n        extraProps.push(valueProperty(calloutLabelKey, \"band\", { id: `calloutLabelValue` }));\n      }\n      if (sectorLabelKey) {\n        extraProps.push(valueProperty(sectorLabelKey, \"band\", { id: `sectorLabelValue` }));\n      }\n      if (legendItemKey) {\n        extraProps.push(valueProperty(legendItemKey, \"band\", { id: `legendItemValue` }));\n      }\n      if (animationEnabled && this.processedData && extraKeyProps.length > 0) {\n        extraProps.push(diff(this.processedData));\n      }\n      extraProps.push(animationValidation());\n      data = data.map((d, idx) => visible && seriesItemEnabled[idx] ? d : __spreadProps(__spreadValues({}, d), { [angleKey]: 0 }));\n      yield this.requestDataModel(dataController, data, {\n        props: [\n          ...extraKeyProps,\n          accumulativeValueProperty(angleKey, angleScaleType, { id: `angleValue`, onlyPositive: true }),\n          valueProperty(angleKey, angleScaleType, { id: `angleRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo({ id: \"angleValue\" }, [0, 1], 0, 0),\n          ...extraProps\n        ]\n      });\n      for (const valueDef of (_e = (_d = (_c = this.processedData) == null ? void 0 : _c.defs) == null ? void 0 : _d.values) != null ? _e : []) {\n        const { id, missing, property } = valueDef;\n        const missCount = getMissCount(this, missing);\n        if (id !== \"angleRaw\" && missCount > 0) {\n          Logger.warnOnce(\n            `no value was found for the key '${String(property)}' on ${missCount} data element${missCount > 1 ? \"s\" : \"\"}`\n          );\n        }\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  maybeRefreshNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.nodeDataRefresh)\n        return;\n      const { nodeData = [] } = (_a = yield this.createNodeData()) != null ? _a : {};\n      this.nodeData = nodeData;\n      this.nodeDataRefresh = false;\n    });\n  }\n  getProcessedDataIndexes(dataModel) {\n    const angleIdx = dataModel.resolveProcessedDataIndexById(this, `angleValue`);\n    const radiusIdx = this.properties.radiusKey ? dataModel.resolveProcessedDataIndexById(this, `radiusValue`) : -1;\n    const calloutLabelIdx = this.properties.calloutLabelKey ? dataModel.resolveProcessedDataIndexById(this, `calloutLabelValue`) : -1;\n    const sectorLabelIdx = this.properties.sectorLabelKey ? dataModel.resolveProcessedDataIndexById(this, `sectorLabelValue`) : -1;\n    const legendItemIdx = this.properties.legendItemKey ? dataModel.resolveProcessedDataIndexById(this, `legendItemValue`) : -1;\n    return { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx };\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const { id: seriesId, processedData, dataModel, angleScale } = this;\n      const { rotation } = this.properties;\n      if (!processedData || !dataModel || processedData.type !== \"ungrouped\")\n        return;\n      const { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n      let currentStart = 0;\n      let sum2 = 0;\n      const nodeData = processedData.data.map((group2, index) => {\n        var _a;\n        const { datum, values } = group2;\n        const currentValue = values[angleIdx];\n        const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        currentStart = currentValue;\n        sum2 += currentValue;\n        const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        const span = Math.abs(endAngle - startAngle);\n        const midAngle = startAngle + span / 2;\n        const angleValue = values[angleIdx + 1];\n        const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) != null ? _a : 1 : 1;\n        const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : void 0;\n        const legendItemValue = legendItemIdx >= 0 ? values[legendItemIdx] : void 0;\n        const labels = this.getLabels(\n          datum,\n          midAngle,\n          span,\n          true,\n          values[calloutLabelIdx],\n          values[sectorLabelIdx],\n          legendItemValue\n        );\n        const sectorFormat = this.getSectorFormat(datum, index, false);\n        return __spreadValues({\n          itemId: index,\n          series: this,\n          datum,\n          index,\n          angleValue,\n          midAngle,\n          midCos: Math.cos(midAngle),\n          midSin: Math.sin(midAngle),\n          startAngle,\n          endAngle,\n          sectorFormat,\n          radiusValue,\n          radius,\n          innerRadius: Math.max(this.radiusScale.convert(0), 0),\n          outerRadius: Math.max(this.radiusScale.convert(radius), 0),\n          legendItemValue\n        }, labels);\n      });\n      this.zerosumOuterRing.visible = sum2 === 0;\n      const { innerRadiusRatio = 1 } = this.properties;\n      this.zerosumInnerRing.visible = sum2 === 0 && innerRadiusRatio !== 1 && innerRadiusRatio > 0;\n      return { itemId: seriesId, nodeData, labelData: nodeData };\n    });\n  }\n  getLabels(datum, midAngle, span, skipDisabled, calloutLabelValue, sectorLabelValue, legendItemValue) {\n    const { calloutLabel, sectorLabel, legendItemKey } = this.properties;\n    const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.properties.calloutLabelKey : void 0;\n    const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.properties.sectorLabelKey : void 0;\n    if (!calloutLabelKey && !sectorLabelKey && !legendItemKey) {\n      return {};\n    }\n    const labelFormatterParams = {\n      datum,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    };\n    const result = {};\n    if (calloutLabelKey && span > toRadians(calloutLabel.minAngle)) {\n      result.calloutLabel = __spreadProps(__spreadValues({}, this.getTextAlignment(midAngle)), {\n        text: this.getLabelText(calloutLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: calloutLabelValue\n        })),\n        hidden: false,\n        collisionTextAlign: void 0,\n        collisionOffsetY: 0,\n        box: void 0\n      });\n    }\n    if (sectorLabelKey) {\n      result.sectorLabel = {\n        text: this.getLabelText(sectorLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: sectorLabelValue\n        }))\n      };\n    }\n    if (legendItemKey != null && legendItemValue != null) {\n      result.legendItem = { key: legendItemKey, text: legendItemValue };\n    }\n    return result;\n  }\n  getTextAlignment(midAngle) {\n    const quadrantTextOpts = [\n      { textAlign: \"center\", textBaseline: \"bottom\" },\n      { textAlign: \"left\", textBaseline: \"middle\" },\n      { textAlign: \"center\", textBaseline: \"hanging\" },\n      { textAlign: \"right\", textBaseline: \"middle\" }\n    ];\n    const midAngle180 = normalizeAngle180(midAngle);\n    const quadrantStart = -0.75 * Math.PI;\n    const quadrantOffset = midAngle180 - quadrantStart;\n    const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n    const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n    return quadrantTextOpts[quadrantIndex];\n  }\n  getSectorFormat(datum, formatIndex, highlight) {\n    var _a, _b, _c, _d, _e;\n    const { callbackCache, highlightManager } = this.ctx;\n    const { angleKey, radiusKey, fills, strokes, formatter, sectorSpacing, __BACKGROUND_COLOR_DO_NOT_USE } = this.properties;\n    const highlightedDatum = highlightManager.getActiveHighlight();\n    const isDatumHighlighted = highlight && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && formatIndex === highlightedDatum.itemId;\n    let defaultStroke = strokes[formatIndex % strokes.length];\n    if (sectorSpacing != null) {\n      defaultStroke != null ? defaultStroke : defaultStroke = __BACKGROUND_COLOR_DO_NOT_USE;\n    }\n    const { fill, fillOpacity, stroke, strokeWidth, strokeOpacity } = mergeDefaults(\n      isDatumHighlighted && this.properties.highlightStyle.item,\n      {\n        fill: fills.length > 0 ? fills[formatIndex % fills.length] : void 0,\n        fillOpacity: this.properties.fillOpacity,\n        stroke: defaultStroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.getOpacity()\n      }\n    );\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        datum,\n        angleKey,\n        radiusKey,\n        fill,\n        stroke,\n        fills,\n        strokes,\n        strokeWidth,\n        highlighted: isDatumHighlighted,\n        seriesId: this.id\n      });\n    }\n    return {\n      fill: (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill,\n      fillOpacity: (_b = format2 == null ? void 0 : format2.fillOpacity) != null ? _b : fillOpacity,\n      stroke: (_c = format2 == null ? void 0 : format2.stroke) != null ? _c : stroke,\n      strokeWidth: (_d = format2 == null ? void 0 : format2.strokeWidth) != null ? _d : strokeWidth,\n      strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity\n    };\n  }\n  getInnerRadius() {\n    const { radius } = this;\n    const { innerRadiusRatio = 1, innerRadiusOffset = 0 } = this.properties;\n    const innerRadius = radius * innerRadiusRatio + innerRadiusOffset;\n    if (innerRadius === radius || innerRadius < 0) {\n      return 0;\n    }\n    return innerRadius;\n  }\n  getOuterRadius() {\n    return Math.max(this.radius * this.properties.outerRadiusRatio + this.properties.outerRadiusOffset, 0);\n  }\n  updateRadiusScale(resize) {\n    const newRange = [this.getInnerRadius(), this.getOuterRadius()];\n    this.radiusScale.range = newRange;\n    if (resize) {\n      this.previousRadiusScale.range = newRange;\n    }\n    this.nodeData = this.nodeData.map((_a) => {\n      var _b = _a, { radius } = _b, d = __objRest(_b, [\"radius\"]);\n      return __spreadProps(__spreadValues({}, d), {\n        radius,\n        innerRadius: Math.max(this.radiusScale.convert(0), 0),\n        outerRadius: Math.max(this.radiusScale.convert(radius), 0)\n      });\n    });\n  }\n  getTitleTranslationY() {\n    var _a, _b;\n    const outerRadius = Math.max(0, this.radiusScale.range[1]);\n    if (outerRadius === 0) {\n      return NaN;\n    }\n    const spacing = (_b = (_a = this.properties.title) == null ? void 0 : _a.spacing) != null ? _b : 0;\n    const titleOffset = 2 + spacing;\n    const dy = Math.max(0, -outerRadius);\n    return -outerRadius - titleOffset - dy;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      const { title } = this.properties;\n      const newNodeDataDependencies = {\n        seriesRectWidth: seriesRect == null ? void 0 : seriesRect.width,\n        seriesRectHeight: seriesRect == null ? void 0 : seriesRect.height\n      };\n      const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n      if (resize) {\n        this._nodeDataDependencies = newNodeDataDependencies;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateTitleNodes();\n      this.updateRadiusScale(resize);\n      this.contentGroup.translationX = this.centerX;\n      this.contentGroup.translationY = this.centerY;\n      this.highlightGroup.translationX = this.centerX;\n      this.highlightGroup.translationY = this.centerY;\n      this.backgroundGroup.translationX = this.centerX;\n      this.backgroundGroup.translationY = this.centerY;\n      if (this.labelGroup) {\n        this.labelGroup.translationX = this.centerX;\n        this.labelGroup.translationY = this.centerY;\n      }\n      if (title) {\n        const dy = this.getTitleTranslationY();\n        const titleBox = title.node.computeBBox();\n        title.node.visible = title.enabled && isFinite(dy) && !this.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n        title.node.translationY = isFinite(dy) ? dy : 0;\n      }\n      for (const circle of [this.zerosumInnerRing, this.zerosumOuterRing]) {\n        circle.fillOpacity = 0;\n        circle.stroke = this.properties.calloutLabel.color;\n        circle.strokeWidth = 1;\n        circle.strokeOpacity = 1;\n      }\n      this.updateNodeMidPoint();\n      yield this.updateSelections();\n      yield this.updateNodes(seriesRect);\n    });\n  }\n  updateTitleNodes() {\n    var _a, _b;\n    const { oldTitle } = this;\n    const { title } = this.properties;\n    if (oldTitle !== title) {\n      if (oldTitle) {\n        (_a = this.labelGroup) == null ? void 0 : _a.removeChild(oldTitle.node);\n      }\n      if (title) {\n        title.node.textBaseline = \"bottom\";\n        (_b = this.labelGroup) == null ? void 0 : _b.appendChild(title.node);\n      }\n      this.oldTitle = title;\n    }\n  }\n  updateNodeMidPoint() {\n    this.nodeData.forEach((d) => {\n      const radius = d.innerRadius + (d.outerRadius - d.innerRadius) / 2;\n      d.midPoint = {\n        x: d.midCos * Math.max(0, radius),\n        y: d.midSin * Math.max(0, radius)\n      };\n    });\n  }\n  updateSelections() {\n    return __async(this, null, function* () {\n      yield this.updateGroupSelection();\n      this.updateInnerCircleSelection();\n    });\n  }\n  updateGroupSelection() {\n    return __async(this, null, function* () {\n      const { itemSelection, highlightSelection, calloutLabelSelection, sectorLabelSelection, innerLabelsSelection } = this;\n      const update = (selection, clone) => {\n        let nodeData = this.nodeData;\n        if (clone) {\n          nodeData = nodeData.map((datum) => __spreadProps(__spreadValues({}, datum), { sectorFormat: __spreadValues({}, datum.sectorFormat) }));\n        }\n        selection.update(nodeData, void 0, (datum) => this.getDatumId(datum));\n        if (this.ctx.animationManager.isSkipped()) {\n          selection.cleanup();\n        }\n      };\n      update(itemSelection, false);\n      update(highlightSelection, true);\n      calloutLabelSelection.update(this.nodeData, (group2) => {\n        const line = new Line();\n        line.tag = 0 /* Callout */;\n        line.pointerEvents = 1 /* None */;\n        group2.appendChild(line);\n        const text = new Text();\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        group2.appendChild(text);\n      });\n      sectorLabelSelection.update(this.nodeData, (node) => {\n        node.pointerEvents = 1 /* None */;\n      });\n      innerLabelsSelection.update(this.properties.innerLabels, (node) => {\n        node.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateInnerCircleSelection() {\n    const { innerCircle } = this.properties;\n    let radius = 0;\n    const innerRadius = this.getInnerRadius();\n    if (innerRadius > 0) {\n      const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n      const antiAliasingPadding = 1;\n      radius = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n    }\n    const datums = innerCircle ? [{ radius }] : [];\n    this.innerCircleSelection.update(datums);\n  }\n  updateNodes(seriesRect) {\n    return __async(this, null, function* () {\n      const highlightedDatum = this.ctx.highlightManager.getActiveHighlight();\n      const isVisible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n      this.rootGroup.visible = isVisible;\n      this.backgroundGroup.visible = isVisible;\n      this.contentGroup.visible = isVisible;\n      this.highlightGroup.visible = isVisible && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this;\n      if (this.labelGroup) {\n        this.labelGroup.visible = isVisible;\n      }\n      this.contentGroup.opacity = this.getOpacity();\n      this.innerCircleSelection.each((node, { radius }) => {\n        var _a, _b;\n        node.setProperties({\n          fill: (_a = this.properties.innerCircle) == null ? void 0 : _a.fill,\n          opacity: (_b = this.properties.innerCircle) == null ? void 0 : _b.fillOpacity,\n          size: radius\n        });\n      });\n      const updateSectorFn = (sector, datum, _index, isDatumHighlighted) => {\n        const format2 = this.getSectorFormat(datum.datum, datum.itemId, isDatumHighlighted);\n        datum.sectorFormat.fill = format2.fill;\n        datum.sectorFormat.stroke = format2.stroke;\n        const animationDisabled = this.ctx.animationManager.isSkipped();\n        if (animationDisabled) {\n          sector.startAngle = datum.startAngle;\n          sector.endAngle = datum.endAngle;\n          sector.innerRadius = datum.innerRadius;\n          sector.outerRadius = datum.outerRadius;\n        }\n        if (isDatumHighlighted || animationDisabled) {\n          sector.fill = format2.fill;\n          sector.stroke = format2.stroke;\n        }\n        sector.strokeWidth = format2.strokeWidth;\n        sector.fillOpacity = format2.fillOpacity;\n        sector.strokeOpacity = this.properties.strokeOpacity;\n        sector.lineDash = this.properties.lineDash;\n        sector.lineDashOffset = this.properties.lineDashOffset;\n        sector.fillShadow = this.properties.shadow;\n        sector.cornerRadius = this.properties.cornerRadius;\n        sector.inset = this.properties.sectorSpacing != null ? (this.properties.sectorSpacing + (format2.stroke != null ? format2.strokeWidth : 0)) / 2 : 0;\n        sector.lineJoin = this.properties.sectorSpacing != null ? \"miter\" : \"round\";\n      };\n      this.itemSelection.each((node, datum, index) => updateSectorFn(node, datum, index, false));\n      this.highlightSelection.each((node, datum, index) => {\n        const isDatumHighlighted = (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n        updateSectorFn(node, datum, index, true);\n        node.visible = isDatumHighlighted;\n      });\n      this.updateCalloutLineNodes();\n      this.updateCalloutLabelNodes(seriesRect);\n      this.updateSectorLabelNodes();\n      this.updateInnerLabelNodes();\n      this.updateZerosumRings();\n      this.animationState.transition(\"update\");\n    });\n  }\n  updateCalloutLineNodes() {\n    var _a;\n    const { calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const calloutStrokeWidth = calloutLine.strokeWidth;\n    const calloutColors = (_a = calloutLine.colors) != null ? _a : this.properties.strokes;\n    const { offset: offset4 } = this.properties.calloutLabel;\n    this.calloutLabelSelection.selectByTag(0 /* Callout */).forEach((line, index) => {\n      var _a2;\n      const datum = line.datum;\n      const { calloutLabel: label, outerRadius } = datum;\n      if ((label == null ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n        line.visible = true;\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.fill = void 0;\n        const x1 = datum.midCos * outerRadius;\n        const y1 = datum.midSin * outerRadius;\n        let x2 = datum.midCos * (outerRadius + calloutLength);\n        let y2 = datum.midSin * (outerRadius + calloutLength);\n        const isMoved = (_a2 = label.collisionTextAlign) != null ? _a2 : label.collisionOffsetY !== 0;\n        if (isMoved && label.box != null) {\n          const box = label.box;\n          let cx = x2;\n          let cy = y2;\n          if (x2 < box.x) {\n            cx = box.x;\n          } else if (x2 > box.x + box.width) {\n            cx = box.x + box.width;\n          }\n          if (y2 < box.y) {\n            cy = box.y;\n          } else if (y2 > box.y + box.height) {\n            cy = box.y + box.height;\n          }\n          const dx = cx - x2;\n          const dy = cy - y2;\n          const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n          const paddedLength = length - offset4;\n          if (paddedLength > 0) {\n            x2 = x2 + dx * paddedLength / length;\n            y2 = y2 + dy * paddedLength / length;\n          }\n        }\n        line.x1 = x1;\n        line.y1 = y1;\n        line.x2 = x2;\n        line.y2 = y2;\n      } else {\n        line.visible = false;\n      }\n    });\n  }\n  getLabelOverflow(text, box, seriesRect) {\n    const seriesLeft = seriesRect.x - this.centerX;\n    const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n    const seriesTop = seriesRect.y - this.centerY;\n    const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n    const errPx = 1;\n    let visibleTextPart = 1;\n    if (box.x + errPx < seriesLeft) {\n      visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n    } else if (box.x + box.width - errPx > seriesRight) {\n      visibleTextPart = (seriesRight - box.x) / box.width;\n    }\n    const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n    const textLength = visibleTextPart === 1 ? text.length : Math.floor(text.length * visibleTextPart) - 1;\n    const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n    return { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow };\n  }\n  bboxIntersectsSurroundingSeries(box, dx = 0, dy = 0) {\n    const { surroundingRadius } = this;\n    if (surroundingRadius == null) {\n      return false;\n    }\n    const corners = [\n      { x: box.x + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + box.height + dy },\n      { x: box.x + dx, y: box.y + box.height + dy }\n    ];\n    const sur2 = __pow(surroundingRadius, 2);\n    return corners.some((corner) => __pow(corner.x, 2) + __pow(corner.y, 2) > sur2);\n  }\n  computeCalloutLabelCollisionOffsets() {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const { offset: offset4, minSpacing } = calloutLabel;\n    const innerRadius = radiusScale.convert(0);\n    const shouldSkip = (datum) => {\n      const label = datum.calloutLabel;\n      return !label || datum.outerRadius === 0;\n    };\n    const fullData = this.nodeData;\n    const data = this.nodeData.filter((t) => !shouldSkip(t));\n    data.forEach((datum) => {\n      const label = datum.calloutLabel;\n      if (label == null)\n        return;\n      label.hidden = false;\n      label.collisionTextAlign = void 0;\n      label.collisionOffsetY = 0;\n    });\n    if (data.length <= 1) {\n      return;\n    }\n    const leftLabels = data.filter((d) => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n    const rightLabels = data.filter((d) => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n    const topLabels = data.filter((d) => {\n      var _a;\n      return d.midSin < 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const bottomLabels = data.filter((d) => {\n      var _a;\n      return d.midSin >= 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const tempTextNode = new Text();\n    const getTextBBox = (datum) => {\n      var _a;\n      const label = datum.calloutLabel;\n      if (label == null)\n        return new BBox(0, 0, 0, 0);\n      const labelRadius = datum.outerRadius + calloutLine.length + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign({\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      });\n      return tempTextNode.computeBBox();\n    };\n    const avoidNeighbourYCollision = (label, next, direction) => {\n      const box = getTextBBox(label).grow(minSpacing / 2);\n      const other = getTextBBox(next).grow(minSpacing / 2);\n      const collidesOrBehind = box.x < other.x + other.width && box.x + box.width > other.x && (direction === \"to-top\" ? box.y < other.y + other.height : box.y + box.height > other.y);\n      if (collidesOrBehind) {\n        const dy = direction === \"to-top\" ? box.y - other.y - other.height : box.y + box.height - other.y;\n        next.calloutLabel.collisionOffsetY = dy;\n      }\n    };\n    const avoidYCollisions = (labels) => {\n      const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n      const midIndex = labels.indexOf(midLabel);\n      for (let i = midIndex - 1; i >= 0; i--) {\n        const prev = labels[i + 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-top\");\n      }\n      for (let i = midIndex + 1; i < labels.length; i++) {\n        const prev = labels[i - 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-bottom\");\n      }\n    };\n    const avoidXCollisions = (labels) => {\n      const labelsCollideLabelsByY = data.some((datum) => datum.calloutLabel.collisionOffsetY !== 0);\n      const boxes = labels.map((label) => getTextBBox(label));\n      const paddedBoxes = boxes.map((box) => box.clone().grow(minSpacing / 2));\n      let labelsCollideLabelsByX = false;\n      for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n        const box = paddedBoxes[i];\n        for (let j = i + 1; j < labels.length; j++) {\n          const other = paddedBoxes[j];\n          if (box.collidesBBox(other)) {\n            labelsCollideLabelsByX = true;\n            break;\n          }\n        }\n      }\n      const sectors = fullData.map((datum) => {\n        const { startAngle, endAngle, outerRadius } = datum;\n        return { startAngle, endAngle, innerRadius, outerRadius };\n      });\n      const labelsCollideSectors = boxes.some((box) => {\n        return sectors.some((sector) => boxCollidesSector(box, sector));\n      });\n      if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n        return;\n      }\n      labels.filter((d) => d.calloutLabel.textAlign === \"center\").forEach((d) => {\n        const label = d.calloutLabel;\n        if (d.midCos < 0) {\n          label.collisionTextAlign = \"right\";\n        } else if (d.midCos > 0) {\n          label.collisionTextAlign = \"left\";\n        } else {\n          label.collisionTextAlign = \"center\";\n        }\n      });\n    };\n    avoidYCollisions(leftLabels);\n    avoidYCollisions(rightLabels);\n    avoidXCollisions(topLabels);\n    avoidXCollisions(bottomLabels);\n  }\n  updateCalloutLabelNodes(seriesRect) {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const { offset: offset4, color } = calloutLabel;\n    const tempTextNode = new Text();\n    this.calloutLabelSelection.selectByTag(1 /* Label */).forEach((text) => {\n      var _a;\n      const { datum } = text;\n      const label = datum.calloutLabel;\n      const radius = radiusScale.convert(datum.radius);\n      const outerRadius = Math.max(0, radius);\n      if (!(label == null ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n        text.visible = false;\n        return;\n      }\n      const labelRadius = outerRadius + calloutLength + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      const align = {\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      };\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign(align);\n      const box = tempTextNode.computeBBox();\n      let displayText = label.text;\n      let visible = true;\n      if (calloutLabel.avoidCollisions) {\n        const { textLength, hasVerticalOverflow } = this.getLabelOverflow(label.text, box, seriesRect);\n        displayText = label.text.length === textLength ? label.text : `${label.text.substring(0, textLength)}\\u2026`;\n        visible = !hasVerticalOverflow;\n      }\n      text.text = displayText;\n      text.x = x;\n      text.y = y;\n      text.setFont(this.properties.calloutLabel);\n      text.setAlign(align);\n      text.fill = color;\n      text.visible = visible;\n    });\n  }\n  computeLabelsBBox(options, seriesRect) {\n    return __async(this, null, function* () {\n      const { calloutLabel, calloutLine } = this.properties;\n      const calloutLength = calloutLine.length;\n      const { offset: offset4, maxCollisionOffset, minSpacing } = calloutLabel;\n      if (!calloutLabel.avoidCollisions) {\n        return null;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateRadiusScale(false);\n      this.computeCalloutLabelCollisionOffsets();\n      const textBoxes = [];\n      const text = new Text();\n      let titleBox;\n      const { title } = this.properties;\n      if ((title == null ? void 0 : title.text) && title.enabled) {\n        const dy = this.getTitleTranslationY();\n        if (isFinite(dy)) {\n          text.text = title.text;\n          text.x = 0;\n          text.y = dy;\n          text.setFont(title);\n          text.setAlign({\n            textBaseline: \"bottom\",\n            textAlign: \"center\"\n          });\n          titleBox = text.computeBBox();\n          textBoxes.push(titleBox);\n        }\n      }\n      this.nodeData.forEach((datum) => {\n        var _a;\n        const label = datum.calloutLabel;\n        if (!label || datum.outerRadius === 0) {\n          return null;\n        }\n        const labelRadius = datum.outerRadius + calloutLength + offset4;\n        const x = datum.midCos * labelRadius;\n        const y = datum.midSin * labelRadius + label.collisionOffsetY;\n        text.text = label.text;\n        text.x = x;\n        text.y = y;\n        text.setFont(this.properties.calloutLabel);\n        text.setAlign({\n          textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n          textBaseline: label.textBaseline\n        });\n        const box = text.computeBBox();\n        label.box = box;\n        if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n          label.hidden = true;\n          return;\n        }\n        if (titleBox) {\n          const seriesTop = seriesRect.y - this.centerY;\n          const titleCleanArea = new BBox(\n            titleBox.x - minSpacing,\n            seriesTop,\n            titleBox.width + 2 * minSpacing,\n            titleBox.y + titleBox.height + minSpacing - seriesTop\n          );\n          if (box.collidesBBox(titleCleanArea)) {\n            label.hidden = true;\n            return;\n          }\n        }\n        if (options.hideWhenNecessary) {\n          const { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow } = this.getLabelOverflow(\n            label.text,\n            box,\n            seriesRect\n          );\n          const isTooShort = label.text.length > 2 && textLength < 2;\n          if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n            label.hidden = true;\n            return;\n          }\n        }\n        label.hidden = false;\n        textBoxes.push(box);\n      });\n      if (textBoxes.length === 0) {\n        return null;\n      }\n      return BBox.merge(textBoxes);\n    });\n  }\n  updateSectorLabelNodes() {\n    const { radiusScale } = this;\n    const innerRadius = radiusScale.convert(0);\n    const { fontSize, fontStyle, fontWeight, fontFamily, positionOffset, positionRatio, color } = this.properties.sectorLabel;\n    const isDonut = innerRadius > 0;\n    const singleVisibleSector = this.seriesItemEnabled.filter(Boolean).length === 1;\n    this.sectorLabelSelection.each((text, datum) => {\n      const { sectorLabel, outerRadius } = datum;\n      let isTextVisible = false;\n      if (sectorLabel && outerRadius !== 0) {\n        const labelRadius = innerRadius * (1 - positionRatio) + outerRadius * positionRatio + positionOffset;\n        text.fill = color;\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.text = sectorLabel.text;\n        const shouldPutTextInCenter = !isDonut && singleVisibleSector;\n        if (shouldPutTextInCenter) {\n          text.x = 0;\n          text.y = 0;\n        } else {\n          text.x = datum.midCos * labelRadius;\n          text.y = datum.midSin * labelRadius;\n        }\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n        const bbox = text.computeBBox();\n        const corners = [\n          [bbox.x, bbox.y],\n          [bbox.x + bbox.width, bbox.y],\n          [bbox.x + bbox.width, bbox.y + bbox.height],\n          [bbox.x, bbox.y + bbox.height]\n        ];\n        const { startAngle, endAngle } = datum;\n        const sectorBounds = { startAngle, endAngle, innerRadius, outerRadius };\n        if (corners.every(([x, y]) => isPointInSector(x, y, sectorBounds))) {\n          isTextVisible = true;\n        }\n      }\n      text.visible = isTextVisible;\n    });\n  }\n  updateInnerLabelNodes() {\n    const textBBoxes = [];\n    const margins = [];\n    this.innerLabelsSelection.each((text, datum) => {\n      const { fontStyle, fontWeight, fontSize, fontFamily, color, margin = 2 } = datum;\n      text.fontStyle = fontStyle;\n      text.fontWeight = fontWeight;\n      text.fontSize = fontSize;\n      text.fontFamily = fontFamily;\n      text.text = datum.text;\n      text.x = 0;\n      text.y = 0;\n      text.fill = color;\n      text.textAlign = \"center\";\n      text.textBaseline = \"alphabetic\";\n      textBBoxes.push(text.computeBBox());\n      margins.push(margin);\n    });\n    const getMarginTop = (index) => index === 0 ? 0 : margins[index];\n    const getMarginBottom = (index) => index === margins.length - 1 ? 0 : margins[index];\n    const totalHeight = textBBoxes.reduce((sum2, bbox, i) => {\n      return sum2 + bbox.height + getMarginTop(i) + getMarginBottom(i);\n    }, 0);\n    const totalWidth = Math.max(...textBBoxes.map((bbox) => bbox.width));\n    const innerRadius = this.getInnerRadius();\n    const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n    const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n    const textBottoms = [];\n    for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n      const bbox = textBBoxes[i];\n      const bottom = bbox.height + prev + getMarginTop(i);\n      textBottoms.push(bottom);\n      prev = bottom + getMarginBottom(i);\n    }\n    this.innerLabelsSelection.each((text, _datum, index) => {\n      text.y = textBottoms[index];\n      text.visible = labelsVisible;\n    });\n  }\n  updateZerosumRings() {\n    this.zerosumOuterRing.size = this.getOuterRadius() * 2;\n    this.zerosumInnerRing.size = this.getInnerRadius() * 2;\n  }\n  getDatumLegendName(nodeDatum) {\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    const { sectorLabel, calloutLabel, legendItem } = nodeDatum;\n    if (legendItemKey && legendItem !== void 0) {\n      return legendItem.text;\n    } else if (calloutLabelKey && calloutLabelKey !== angleKey && (calloutLabel == null ? void 0 : calloutLabel.text) !== void 0) {\n      return calloutLabel.text;\n    } else if (sectorLabelKey && sectorLabelKey !== angleKey && (sectorLabel == null ? void 0 : sectorLabel.text) !== void 0) {\n      return sectorLabel.text;\n    }\n  }\n  pickNodeClosestDatum(point) {\n    return pickByMatchingAngle(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    if (!this.properties.isValid()) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      datum,\n      angleValue,\n      sectorFormat: { fill: color },\n      itemId\n    } = nodeDatum;\n    const title = sanitizeHtml((_a = this.properties.title) == null ? void 0 : _a.text);\n    const content = isFiniteNumber(angleValue) ? toFixed(angleValue) : String(angleValue);\n    const labelText = this.getDatumLegendName(nodeDatum);\n    return this.properties.tooltip.toTooltipHtml(\n      {\n        title: title != null ? title : labelText,\n        content: title && labelText ? `${labelText}: ${content}` : content,\n        backgroundColor: color\n      },\n      {\n        datum,\n        itemId,\n        title,\n        color,\n        seriesId: this.id,\n        angleKey: this.properties.angleKey,\n        angleName: this.properties.angleName,\n        radiusKey: this.properties.radiusKey,\n        radiusName: this.properties.radiusName,\n        calloutLabelKey: this.properties.calloutLabelKey,\n        calloutLabelName: this.properties.calloutLabelName,\n        sectorLabelKey: this.properties.sectorLabelKey,\n        sectorLabelName: this.properties.sectorLabelName,\n        legendItemKey: this.properties.legendItemKey\n      }\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e;\n    const { visible, processedData, dataModel } = this;\n    if (!dataModel || !(processedData == null ? void 0 : processedData.data.length) || legendType !== \"category\") {\n      return [];\n    }\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!legendItemKey && (!calloutLabelKey || calloutLabelKey === angleKey) && (!sectorLabelKey || sectorLabelKey === angleKey)) {\n      return [];\n    }\n    const { calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n    const titleText = ((_a = this.properties.title) == null ? void 0 : _a.showInLegend) && this.properties.title.text;\n    const legendData = [];\n    for (let index = 0; index < processedData.data.length; index++) {\n      const { datum, values } = processedData.data[index];\n      const labelParts = [];\n      if (titleText) {\n        labelParts.push(titleText);\n      }\n      const labels = this.getLabels(\n        datum,\n        2 * Math.PI,\n        2 * Math.PI,\n        false,\n        values[calloutLabelIdx],\n        values[sectorLabelIdx],\n        values[legendItemIdx]\n      );\n      if (legendItemKey && labels.legendItem !== void 0) {\n        labelParts.push(labels.legendItem.text);\n      } else if (calloutLabelKey && calloutLabelKey !== angleKey && ((_b = labels.calloutLabel) == null ? void 0 : _b.text) !== void 0) {\n        labelParts.push((_c = labels.calloutLabel) == null ? void 0 : _c.text);\n      } else if (sectorLabelKey && sectorLabelKey !== angleKey && ((_d = labels.sectorLabel) == null ? void 0 : _d.text) !== void 0) {\n        labelParts.push((_e = labels.sectorLabel) == null ? void 0 : _e.text);\n      }\n      if (labelParts.length === 0)\n        continue;\n      const sectorFormat = this.getSectorFormat(datum, index, false);\n      legendData.push({\n        legendType: \"category\",\n        id: this.id,\n        itemId: index,\n        seriesId: this.id,\n        enabled: visible && this.seriesItemEnabled[index],\n        label: {\n          text: labelParts.join(\" - \")\n        },\n        marker: {\n          fill: sectorFormat.fill,\n          stroke: sectorFormat.stroke,\n          fillOpacity: this.properties.fillOpacity,\n          strokeOpacity: this.properties.strokeOpacity,\n          strokeWidth: this.properties.strokeWidth\n        },\n        legendItemName: legendItemKey != null ? datum[legendItemKey] : void 0\n      });\n    }\n    return legendData;\n  }\n  onLegendItemClick(event) {\n    const { enabled, itemId, series, legendItemName } = event;\n    if (series.id === this.id) {\n      this.toggleSeriesItem(itemId, enabled);\n    } else if (legendItemName != null) {\n      this.toggleOtherSeriesItems(legendItemName, enabled);\n    }\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.nodeDataRefresh = true;\n  }\n  toggleOtherSeriesItems(legendItemName, enabled) {\n    var _a;\n    if (!this.properties.legendItemKey || !this.dataModel) {\n      return;\n    }\n    const legendItemIdx = this.dataModel.resolveProcessedDataIndexById(this, `legendItemValue`);\n    (_a = this.processedData) == null ? void 0 : _a.data.forEach(({ values }, datumItemId) => {\n      if (values[legendItemIdx] === legendItemName) {\n        this.toggleSeriesItem(datumItemId, enabled);\n      }\n    });\n  }\n  animateEmptyUpdateReady(_data) {\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      true,\n      this.properties.rotation,\n      this.radiusScale,\n      this.previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [this.itemSelection, this.highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateWaitingUpdateReady() {\n    var _a, _b, _c, _d, _e, _f;\n    const { itemSelection, highlightSelection, processedData, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const dataDiff = (_a = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _a.diff;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const supportedDiff = ((_b = dataDiff == null ? void 0 : dataDiff.moved.size) != null ? _b : 0) === 0;\n    const hasKeys = ((_c = processedData == null ? void 0 : processedData.defs.keys.length) != null ? _c : 0) > 0;\n    const hasUniqueKeys = (_f = (_e = (_d = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _d.animationValidation) == null ? void 0 : _e.uniqueKeys) != null ? _f : true;\n    if (!supportedDiff || !hasKeys || !hasUniqueKeys) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(\n      this.id,\n      \"nodes\",\n      animationManager,\n      [itemSelection, highlightSelection],\n      fns.nodes,\n      (_, datum) => this.getDatumId(datum),\n      dataDiff\n    );\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateClearingUpdateEmpty() {\n    const { itemSelection, highlightSelection, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeOutAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  getDatumIdFromData(datum) {\n    var _a, _b, _c;\n    const { calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!((_c = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation) == null ? void 0 : _c.uniqueKeys)) {\n      return;\n    }\n    if (legendItemKey) {\n      return datum[legendItemKey];\n    } else if (calloutLabelKey) {\n      return datum[calloutLabelKey];\n    } else if (sectorLabelKey) {\n      return datum[sectorLabelKey];\n    }\n  }\n  getDatumId(datum) {\n    const { index } = datum;\n    const datumId = this.getDatumIdFromData(datum.datum);\n    return datumId != null ? String(datumId) : `${index}`;\n  }\n  onDataChange() {\n    var _a;\n    const { data, seriesItemEnabled } = this;\n    this.seriesItemEnabled = (_a = data == null ? void 0 : data.map((_, index) => {\n      var _a2;\n      return (_a2 = seriesItemEnabled[index]) != null ? _a2 : true;\n    })) != null ? _a : [];\n  }\n  computeFocusBounds(opts) {\n    return computeSectorFocusBounds(this, opts);\n  }\n};\nPieSeries.className = \"PieSeries\";\nPieSeries.type = \"pie\";\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeriesModule.ts\nvar PieSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"polar\"],\n  identifier: \"pie\",\n  instanceConstructor: PieSeries,\n  themeTemplate: pieTheme,\n  paletteFactory: piePaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarTypes.ts\nvar TOOLBAR_ALIGNMENTS = [\"start\", \"center\", \"end\"];\nvar TOOLBAR_GROUPS = [\"annotations\", \"ranges\", \"zoom\"];\nvar ToolbarPosition = /* @__PURE__ */ ((ToolbarPosition2) => {\n  ToolbarPosition2[\"Top\"] = \"top\";\n  ToolbarPosition2[\"Right\"] = \"right\";\n  ToolbarPosition2[\"Bottom\"] = \"bottom\";\n  ToolbarPosition2[\"Left\"] = \"left\";\n  ToolbarPosition2[\"FloatingTop\"] = \"floating-top\";\n  ToolbarPosition2[\"FloatingBottom\"] = \"floating-bottom\";\n  return ToolbarPosition2;\n})(ToolbarPosition || {});\nvar TOOLBAR_POSITIONS = Object.values(ToolbarPosition);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarProperties.ts\nvar ToolbarGroupProperties = class extends BaseProperties {\n  constructor(onChange, onButtonsChange) {\n    super();\n    this.onChange = onChange;\n    this.onButtonsChange = onButtonsChange;\n    this.align = \"start\";\n    this.position = \"top\" /* Top */;\n  }\n};\n__decorateClass([\n  ObserveChanges((target) => {\n    target.onChange(target.enabled);\n  }),\n  Validate(BOOLEAN)\n], ToolbarGroupProperties.prototype, \"enabled\", 2);\n__decorateClass([\n  ObserveChanges((target) => {\n    target.onChange(target.enabled);\n  }),\n  Validate(UNION([\"start\", \"center\", \"end\"]), { optional: true })\n], ToolbarGroupProperties.prototype, \"align\", 2);\n__decorateClass([\n  ObserveChanges((target) => {\n    target.onChange(target.enabled);\n  }),\n  Validate(UNION([\"top\", \"right\", \"bottom\", \"left\", \"floating-top\", \"floating-bottom\"]), { optional: true })\n], ToolbarGroupProperties.prototype, \"position\", 2);\n__decorateClass([\n  ObserveChanges((target) => {\n    target.onButtonsChange(target.buttons);\n  }),\n  Validate(ARRAY, { optional: true })\n], ToolbarGroupProperties.prototype, \"buttons\", 2);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarStyles.ts\nvar block2 = \"ag-charts-toolbar\";\nvar elements2 = {\n  align: `${block2}__align`,\n  button: `${block2}__button`,\n  icon: `${block2}__icon`,\n  label: `${block2}__label`\n};\nvar modifiers2 = {\n  [\"top\" /* Top */]: `${block2}--top`,\n  [\"right\" /* Right */]: `${block2}--right`,\n  [\"bottom\" /* Bottom */]: `${block2}--bottom`,\n  [\"left\" /* Left */]: `${block2}--left`,\n  [\"floating-top\" /* FloatingTop */]: `${block2}--floating-top`,\n  [\"floating-bottom\" /* FloatingBottom */]: `${block2}--floating-bottom`,\n  hidden: `${block2}--hidden`,\n  preventFlash: `${block2}--prevent-flash`,\n  floatingHidden: `${block2}--floating-hidden`,\n  align: {\n    start: `${elements2.align}--start`,\n    center: `${elements2.align}--center`,\n    end: `${elements2.align}--end`\n  },\n  button: {\n    hidden: `${elements2.button}--hidden`\n  }\n};\nvar css2 = `\n.${block2} {\n    align-items: center;\n    background: var(--ag-charts-toolbar-background-color);\n    border-bottom: var(--ag-charts-toolbar-border-critical);\n    border-top: var(--ag-charts-toolbar-border-critical);\n    border-left: var(--ag-charts-toolbar-border);\n    border-right: var(--ag-charts-toolbar-border);\n    display: flex;\n    flex-wrap: nowrap;\n    opacity: 1;\n    position: absolute;\n    transform: translateY(0);\n    transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.${modifiers2.hidden},\n.${modifiers2.preventFlash} {\n    visibility: hidden;\n}\n\n.${modifiers2.floatingHidden} {\n    opacity: 0;\n    transition: opacity 0.4s ease-in-out;\n}\n\n.${modifiers2[\"top\" /* Top */]},\n.${modifiers2[\"bottom\" /* Bottom */]} {\n    flex-direction: row;\n    height: var(--ag-charts-toolbar-size);\n    padding: 0 var(--ag-charts-toolbar-padding);\n    width: 100%;\n}\n\n.${modifiers2[\"left\" /* Left */]},\n.${modifiers2[\"right\" /* Right */]} {\n    flex-direction: column;\n    padding: var(--ag-charts-toolbar-padding) 0;\n    width: var(--ag-charts-toolbar-size);\n}\n\n.${modifiers2[\"floating-top\" /* FloatingTop */]},\n.${modifiers2[\"floating-bottom\" /* FloatingBottom */]} {\n    background: none;\n    border: none;\n    flex-direction: row;\n    height: var(--ag-charts-toolbar-size);\n    overflow: hidden;\n    padding: 0 var(--ag-charts-toolbar-padding);\n    pointer-events: none;\n    width: 100%;\n}\n\n.${elements2.align} {\n    display: flex;\n    flex-direction: inherit;\n    flex-wrap: inherit;\n    max-width: 100%;\n}\n\n.${modifiers2.align.center},\n.${modifiers2.align.end} {\n    margin-left: auto;\n}\n\n.${modifiers2[\"left\" /* Left */]} .${modifiers2.align.center},\n.${modifiers2[\"left\" /* Left */]} .${modifiers2.align.end},\n.${modifiers2[\"right\" /* Right */]} .${modifiers2.align.center},\n.${modifiers2[\"right\" /* Right */]} .${modifiers2.align.end} {\n    margin-left: 0;\n    margin-top: auto;\n}\n\n.${modifiers2[\"floating-top\" /* FloatingTop */]} .${elements2.align},\n.${modifiers2[\"floating-bottom\" /* FloatingBottom */]} .${elements2.align} {\n    gap: var(--ag-charts-toolbar-gap);\n    transition: transform 0.4s ease-in-out;\n}\n\n.${elements2.button} {\n    align-items: center;\n    border-radius: var(--ag-charts-button-radius);\n    color: var(--ag-charts-toolbar-foreground-color);\n    display: flex;\n    font-size: 14px;\n    font-weight: 500;\n    justify-content: center;\n    margin: 0;\n    padding: var(--ag-charts-button-padding);\n    pointer-events: all;\n    transition: background-color .25s ease-in-out;\n}\n\n.${modifiers2[\"left\" /* Left */]} .${elements2.button},\n.${modifiers2[\"right\" /* Right */]} .${elements2.button} {\n    height: var(--ag-charts-toolbar-size);\n    max-width: 100%;\n    overflow: hidden;\n}\n\n.${modifiers2[\"floating-top\" /* FloatingTop */]} .${elements2.button},\n.${modifiers2[\"floating-bottom\" /* FloatingBottom */]} .${elements2.button} {\n    background: var(--ag-charts-toolbar-background-color);\n    border: var(--ag-charts-toolbar-border-critical);\n}\n\n.${modifiers2.button.hidden} {\n    display: none;\n}\n\n.${elements2.button}:hover {\n    background: var(--ag-charts-toolbar-hover-color);\n}\n\n.${elements2.button}:disabled {\n    background: var(--ag-charts-toolbar-disabled-background-color);\n    color: var(--ag-charts-toolbar-disabled-foreground-color);\n}\n\n.${elements2.button}:not([disabled]) {\n    cursor: pointer;\n}\n\n.${elements2.icon} {\n    height: 1.2em;\n    width: 1.2em;\n}\n\n.${elements2.icon} + .${elements2.label} {\n    margin-left: var(--ag-charts-size);\n}\n\n.${elements2.icon},\n.${elements2.label} {\n    pointer-events: none;\n}\n\n`;\n\n// packages/ag-charts-community/src/chart/toolbar/toolbar.ts\nvar Toolbar = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.enabled = true;\n    this.annotations = new ToolbarGroupProperties(\n      this.onGroupChanged.bind(this, \"annotations\"),\n      this.onGroupButtonsChanged.bind(this, \"annotations\")\n    );\n    this.ranges = new ToolbarGroupProperties(\n      this.onGroupChanged.bind(this, \"ranges\"),\n      this.onGroupButtonsChanged.bind(this, \"ranges\")\n    );\n    this.zoom = new ToolbarGroupProperties(\n      this.onGroupChanged.bind(this, \"zoom\"),\n      this.onGroupButtonsChanged.bind(this, \"zoom\")\n    );\n    this.margin = 10;\n    this.floatingDetectionRange = 28;\n    this.positions = {\n      [\"top\" /* Top */]: /* @__PURE__ */ new Set(),\n      [\"right\" /* Right */]: /* @__PURE__ */ new Set(),\n      [\"bottom\" /* Bottom */]: /* @__PURE__ */ new Set(),\n      [\"left\" /* Left */]: /* @__PURE__ */ new Set(),\n      [\"floating-top\" /* FloatingTop */]: /* @__PURE__ */ new Set(),\n      [\"floating-bottom\" /* FloatingBottom */]: /* @__PURE__ */ new Set()\n    };\n    this.positionAlignments = {\n      [\"top\" /* Top */]: {},\n      [\"right\" /* Right */]: {},\n      [\"bottom\" /* Bottom */]: {},\n      [\"left\" /* Left */]: {},\n      [\"floating-top\" /* FloatingTop */]: {},\n      [\"floating-bottom\" /* FloatingBottom */]: {}\n    };\n    this.groupCallers = {\n      annotations: 0,\n      ranges: 0,\n      zoom: 0\n    };\n    this.groupButtons = {\n      annotations: [],\n      ranges: [],\n      zoom: []\n    };\n    this.pendingButtonToggledEvents = [];\n    this.groupProxied = /* @__PURE__ */ new Set();\n    this.container = ctx.toolbarManager.element;\n    this.elements = {\n      [\"top\" /* Top */]: this.container.appendChild(createElement(\"div\")),\n      [\"right\" /* Right */]: this.container.appendChild(createElement(\"div\")),\n      [\"bottom\" /* Bottom */]: this.container.appendChild(createElement(\"div\")),\n      [\"left\" /* Left */]: this.container.appendChild(createElement(\"div\")),\n      [\"floating-top\" /* FloatingTop */]: this.container.appendChild(createElement(\"div\")),\n      [\"floating-bottom\" /* FloatingBottom */]: this.container.appendChild(createElement(\"div\"))\n    };\n    injectStyle(css2, block2);\n    this.renderToolbar(\"top\" /* Top */);\n    this.renderToolbar(\"right\" /* Right */);\n    this.renderToolbar(\"bottom\" /* Bottom */);\n    this.renderToolbar(\"left\" /* Left */);\n    this.renderToolbar(\"floating-top\" /* FloatingTop */);\n    this.renderToolbar(\"floating-bottom\" /* FloatingBottom */);\n    this.toggleVisibilities();\n    this.destroyFns.push(\n      ctx.interactionManager.addListener(\"hover\", this.onHover.bind(this), 31 /* All */),\n      ctx.interactionManager.addListener(\"leave\", this.onLeave.bind(this), 31 /* All */),\n      ctx.toolbarManager.addListener(\"button-toggled\", this.onButtonToggled.bind(this)),\n      ctx.toolbarManager.addListener(\"group-toggled\", this.onGroupToggled.bind(this)),\n      ctx.toolbarManager.addListener(\"proxy-group-options\", this.onProxyGroupOptions.bind(this)),\n      ctx.layoutService.addListener(\"layout-complete\", this.onLayoutComplete.bind(this)),\n      () => this.destroyElements()\n    );\n  }\n  destroyElements() {\n    for (const element2 of Object.values(this.elements)) {\n      element2.remove();\n    }\n  }\n  onHover(event) {\n    const {\n      enabled,\n      elements: elements3,\n      floatingDetectionRange,\n      ctx: { scene }\n    } = this;\n    const {\n      offsetY,\n      sourceEvent: { target }\n    } = event;\n    const { FloatingBottom, FloatingTop } = ToolbarPosition;\n    if (!enabled)\n      return;\n    const bottom = elements3[FloatingBottom];\n    const top = elements3[FloatingTop];\n    const bottomDetectionY = bottom.offsetTop - floatingDetectionRange;\n    const bottomVisible = offsetY > bottomDetectionY && offsetY < scene.canvas.element.offsetHeight || target === bottom;\n    const topDetectionY = top.offsetTop + top.offsetHeight + floatingDetectionRange;\n    const topVisible = offsetY > 0 && offsetY < topDetectionY || target === top;\n    bottom.classList.toggle(modifiers2.floatingHidden, !bottomVisible);\n    top.classList.toggle(modifiers2.floatingHidden, !topVisible);\n    this.translateFloatingElements(FloatingBottom, bottomVisible);\n    this.translateFloatingElements(FloatingTop, topVisible);\n  }\n  onLeave(event) {\n    const {\n      enabled,\n      elements: elements3,\n      ctx: { scene }\n    } = this;\n    const { relatedTarget, target } = event.sourceEvent;\n    const { FloatingBottom, FloatingTop } = ToolbarPosition;\n    if (!enabled || target !== scene.canvas.element)\n      return;\n    const isTargetButton = TOOLBAR_GROUPS.some(\n      (group2) => this.groupButtons[group2].some((button) => button === relatedTarget)\n    );\n    if (isTargetButton)\n      return;\n    elements3[FloatingBottom].classList.add(modifiers2.floatingHidden);\n    elements3[FloatingTop].classList.add(modifiers2.floatingHidden);\n    this.translateFloatingElements(FloatingBottom, false);\n    this.translateFloatingElements(FloatingTop, false);\n  }\n  onGroupChanged(group2) {\n    if (this[group2] == null || this.groupProxied.has(group2))\n      return;\n    this.createGroup(group2);\n    this.toggleVisibilities();\n  }\n  onGroupButtonsChanged(group2, buttons) {\n    if (!this.enabled || this.groupProxied.has(group2))\n      return;\n    this.createGroupButtons(group2, buttons);\n    this.toggleVisibilities();\n  }\n  onLayoutComplete() {\n    for (const position of TOOLBAR_POSITIONS) {\n      this.elements[position].classList.remove(modifiers2.preventFlash);\n    }\n  }\n  onButtonToggled(event) {\n    const { group: group2, value, enabled } = event;\n    if (this.groupButtons[group2].length === 0) {\n      this.pendingButtonToggledEvents.push(event);\n      return;\n    }\n    for (const button of this.groupButtons[group2]) {\n      if (button.dataset.toolbarValue !== `${value}`)\n        continue;\n      button.disabled = !enabled;\n    }\n  }\n  onGroupToggled(event) {\n    const { group: group2, visible } = event;\n    this.toggleGroup(group2, visible);\n    this.toggleVisibilities();\n  }\n  onProxyGroupOptions(event) {\n    const { group: group2, options } = event;\n    this.groupProxied.add(group2);\n    this.createGroup(group2, options.enabled, options.position);\n    this.createGroupButtons(group2, options.buttons);\n    this.toggleGroup(group2, options.enabled);\n    this[group2].set(options);\n  }\n  createGroup(group2, enabled, position) {\n    enabled != null ? enabled : enabled = this[group2].enabled;\n    position != null ? position : position = this[group2].position;\n    for (const pos of TOOLBAR_POSITIONS) {\n      if (enabled && position === pos) {\n        this.positions[pos].add(group2);\n      } else {\n        this.positions[pos].delete(group2);\n      }\n    }\n  }\n  createGroupButtons(group2, buttons) {\n    var _a, _b;\n    for (const button of this.groupButtons[group2]) {\n      button.remove();\n    }\n    this.groupButtons[group2] = [];\n    const align = (_a = this[group2].align) != null ? _a : \"start\";\n    const position = (_b = this[group2].position) != null ? _b : \"top\";\n    const parent = this.positionAlignments[position][align];\n    for (const options of buttons != null ? buttons : []) {\n      const button = this.createButtonElement(group2, options);\n      parent == null ? void 0 : parent.appendChild(button);\n      this.groupButtons[group2].push(button);\n    }\n  }\n  toggleGroup(group2, enabled) {\n    if (enabled) {\n      this.groupCallers[group2] += 1;\n    } else {\n      this.groupCallers[group2] = Math.max(0, this.groupCallers[group2] - 1);\n    }\n  }\n  processPendingEvents() {\n    var _a;\n    const pendingButtonToggledEvents = ((_a = this.pendingButtonToggledEvents) != null ? _a : []).slice();\n    for (const event of pendingButtonToggledEvents) {\n      this.onButtonToggled(event);\n    }\n    this.pendingButtonToggledEvents = [];\n  }\n  performLayout(_0) {\n    return __async(this, arguments, function* ({ shrinkRect }) {\n      const { elements: elements3, margin } = this;\n      if (!elements3.top.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.top.offsetHeight + margin * 2, \"top\");\n      }\n      if (!elements3.right.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.right.offsetWidth + margin, \"right\");\n      }\n      if (!elements3.bottom.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.bottom.offsetHeight + margin * 2, \"bottom\");\n      }\n      if (!elements3.left.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.left.offsetWidth + margin, \"left\");\n      }\n      return { shrinkRect };\n    });\n  }\n  performCartesianLayout(opts) {\n    return __async(this, null, function* () {\n      const { elements: elements3, margin } = this;\n      const { seriesRect } = opts;\n      const { FloatingBottom, FloatingTop } = ToolbarPosition;\n      elements3.top.style.top = `${seriesRect.y - elements3.top.offsetHeight - margin * 2}px`;\n      elements3.top.style.left = `${margin}px`;\n      elements3.top.style.width = `calc(100% - ${margin * 2}px)`;\n      elements3.right.style.top = `${seriesRect.y + margin}px`;\n      elements3.right.style.right = `${margin}px`;\n      elements3.right.style.height = `calc(100% - ${seriesRect.y + margin * 2}px)`;\n      elements3.bottom.style.bottom = `${margin}px`;\n      elements3.bottom.style.left = `${margin}px`;\n      elements3.bottom.style.width = `calc(100% - ${margin * 2}px)`;\n      elements3.left.style.top = `${seriesRect.y}px`;\n      elements3.left.style.left = `${margin}px`;\n      elements3.left.style.height = `calc(100% - ${seriesRect.y + margin * 2}px)`;\n      elements3[FloatingTop].style.top = `${seriesRect.y}px`;\n      elements3[FloatingTop].style.paddingTop = `${margin}px`;\n      elements3[FloatingBottom].style.top = `${seriesRect.y + seriesRect.height - elements3[FloatingBottom].offsetHeight}px`;\n      elements3[FloatingBottom].style.paddingBottom = `${margin}px`;\n    });\n  }\n  toggleVisibilities() {\n    var _a;\n    if (this.elements == null)\n      return;\n    const isGroupVisible = (group2) => this[group2].enabled && this.groupCallers[group2] > 0;\n    const isButtonVisible = (element2) => (button) => typeof button.value !== \"string\" && typeof button.value !== \"number\" || `${button.value}` === element2.dataset.toolbarValue;\n    for (const position of TOOLBAR_POSITIONS) {\n      const visible = this.enabled && Array.from(this.positions[position].values()).some(isGroupVisible);\n      this.elements[position].classList.toggle(modifiers2.hidden, !visible);\n    }\n    for (const group2 of TOOLBAR_GROUPS) {\n      if (this[group2] == null)\n        continue;\n      const visible = isGroupVisible(group2);\n      for (const button of this.groupButtons[group2]) {\n        const buttonVisible = visible && ((_a = this[group2].buttons) == null ? void 0 : _a.some(isButtonVisible(button)));\n        button.classList.toggle(modifiers2.button.hidden, !buttonVisible);\n      }\n    }\n  }\n  translateFloatingElements(position, visible) {\n    const { elements: elements3, margin, positionAlignments } = this;\n    const element2 = elements3[position];\n    const alignments = Object.values(positionAlignments[position]);\n    for (const align of alignments) {\n      align.style.transform = visible && align.style.transform !== \"\" ? \"translateY(0)\" : `translateY(${element2.offsetHeight + margin}px)`;\n    }\n  }\n  renderToolbar(position = \"top\" /* Top */) {\n    const element2 = this.elements[position];\n    element2.classList.add(block2, modifiers2[position], modifiers2.preventFlash);\n    if (position === \"floating-top\" /* FloatingTop */ || position === \"floating-bottom\" /* FloatingBottom */) {\n      element2.classList.add(modifiers2.floatingHidden);\n    }\n    for (const align of TOOLBAR_ALIGNMENTS) {\n      const alignmentElement = createElement(\"div\");\n      alignmentElement.classList.add(elements2.align, modifiers2.align[align]);\n      element2.appendChild(alignmentElement);\n      this.positionAlignments[position][align] = alignmentElement;\n    }\n  }\n  createButtonElement(group2, options) {\n    const button = createElement(\"button\");\n    button.classList.add(elements2.button);\n    button.dataset.toolbarGroup = group2;\n    button.tabIndex = -1;\n    if (typeof options.value === \"string\" || typeof options.value === \"number\") {\n      button.dataset.toolbarValue = `${options.value}`;\n    }\n    if (options.tooltip) {\n      button.title = options.tooltip;\n    }\n    let inner = \"\";\n    if (options.icon != null) {\n      inner = `<span class=\"ag-charts-icon-${options.icon} ${elements2.icon}\"></span>`;\n    }\n    if (options.label != null) {\n      inner = `${inner}<span class=\"${elements2.label}\">${options.label}</span>`;\n    }\n    button.innerHTML = inner;\n    button.onclick = this.onButtonPress.bind(this, group2, options.value);\n    this.destroyFns.push(() => button.remove());\n    return button;\n  }\n  onButtonPress(group2, value) {\n    this.ctx.toolbarManager.pressButton(group2, value);\n  }\n};\n__decorateClass([\n  ObserveChanges((target) => {\n    target.processPendingEvents();\n    target.toggleVisibilities();\n  }),\n  Validate(BOOLEAN)\n], Toolbar.prototype, \"enabled\", 2);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarModule.ts\nvar DAY = 1e3 * 60 * 60 * 24;\nvar MONTH = DAY * 30;\nvar YEAR = DAY * 365;\nvar annotations = {\n  enabled: false,\n  position: \"left\",\n  align: \"start\",\n  buttons: [\n    { label: \"Li\", value: \"line\" },\n    { label: \"PCh\", value: \"parallel-channel\" }\n  ]\n};\nvar ranges = {\n  enabled: false,\n  position: \"top\",\n  align: \"start\",\n  buttons: [\n    { label: \"1m\", value: MONTH },\n    { label: \"3m\", value: 3 * MONTH },\n    { label: \"6m\", value: 6 * MONTH },\n    { label: \"YTD\", value: (_start, end) => [(/* @__PURE__ */ new Date(`${new Date(end).getFullYear()}-01-01`)).getTime(), end] },\n    { label: \"1y\", value: YEAR },\n    { label: \"All\", value: (start, end) => [start, end] }\n  ]\n};\nvar zoom = {\n  enabled: false,\n  position: \"top\",\n  align: \"end\",\n  buttons: [\n    {\n      icon: \"zoom-out\",\n      tooltip: \"Zoom out\",\n      value: \"zoom-out\"\n    },\n    {\n      icon: \"zoom-in\",\n      tooltip: \"Zoom in\",\n      value: \"zoom-in\"\n    },\n    {\n      icon: \"pan-left\",\n      tooltip: \"Pan left\",\n      value: \"pan-left\"\n    },\n    {\n      icon: \"pan-right\",\n      tooltip: \"Pan right\",\n      value: \"pan-right\"\n    },\n    {\n      icon: \"pan-start\",\n      tooltip: \"Pan to the start\",\n      value: \"pan-start\"\n    },\n    {\n      icon: \"pan-end\",\n      tooltip: \"Pan to the end\",\n      value: \"pan-end\"\n    },\n    {\n      icon: \"reset\",\n      tooltip: \"Reset the zoom\",\n      value: \"reset\"\n    }\n  ]\n};\nvar ToolbarModule = {\n  type: \"root\",\n  optionsKey: \"toolbar\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  instanceConstructor: Toolbar,\n  themeTemplate: {\n    toolbar: {\n      enabled: true,\n      annotations,\n      ranges,\n      zoom\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/factory/registerInbuiltModules.ts\nfunction registerInbuiltModules() {\n  moduleRegistry.register(\n    BackgroundModule,\n    CommunityLegendModule,\n    NavigatorModule,\n    ToolbarModule,\n    AreaSeriesModule,\n    BarSeriesModule,\n    BubbleSeriesModule,\n    LineSeriesModule,\n    ScatterSeriesModule,\n    DonutSeriesModule,\n    PieSeriesModule,\n    HistogramSeriesModule\n  );\n  for (const AxisConstructor of [NumberAxis, CategoryAxis, TimeAxis, GroupedCategoryAxis, LogAxis]) {\n    axisRegistry.register(AxisConstructor.type, {\n      instanceConstructor: AxisConstructor,\n      hidden: AxisConstructor === GroupedCategoryAxis\n    });\n  }\n}\n\n// packages/ag-charts-community/src/chart/factory/setupModules.ts\nfunction setupModules() {\n  for (const m of moduleRegistry.modules) {\n    if (m.packageType === \"enterprise\" && !verifyIfModuleExpected(m)) {\n      Logger.errorOnce(\"Unexpected enterprise module registered: \" + m.identifier);\n    }\n    if (m.type === \"root\" && m.themeTemplate) {\n      for (const chartType2 of m.chartTypes) {\n        chartDefaults.set(chartType2, m.themeTemplate);\n      }\n    }\n    if (m.type === \"series\") {\n      if (m.chartTypes.length > 1) {\n        throw new Error(`AG Charts - Module definition error: ${m.identifier}`);\n      }\n      seriesRegistry.register(m.identifier, m);\n    }\n    if (m.type === \"series-option\" && m.themeTemplate) {\n      for (const seriesType of m.seriesTypes) {\n        seriesRegistry.setThemeTemplate(seriesType, m.themeTemplate);\n      }\n    }\n    if (m.type === \"axis-option\" && m.themeTemplate) {\n      for (const axisType of m.axisTypes) {\n        const axisTypeTheme = m.themeTemplate[axisType];\n        const theme = __spreadValues(__spreadValues({}, m.themeTemplate), axisTypeTheme);\n        for (const innerAxisType of m.axisTypes) {\n          delete theme[innerAxisType];\n        }\n        axisRegistry.setThemeTemplate(axisType, theme);\n      }\n    }\n    if (m.type === \"axis\") {\n      axisRegistry.register(m.identifier, m);\n    }\n    if (m.type === \"legend\") {\n      legendRegistry.register(m.identifier, m);\n    }\n  }\n  if (moduleRegistry.hasEnterpriseModules()) {\n    const expectedButUnused = getUnusedExpectedModules();\n    if (expectedButUnused.length > 0) {\n      Logger.errorOnce(\"Enterprise modules expected but not registered: \", expectedButUnused);\n    }\n  }\n}\n\n// packages/ag-charts-community/src/chart/hierarchyChart.ts\nvar _HierarchyChart = class _HierarchyChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_HierarchyChart.prototype, this, \"performLayout\").call(this);\n      const {\n        seriesArea: { padding },\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const fullSeriesRect = shrinkRect.clone();\n      shrinkRect.shrink(padding.left, \"left\");\n      shrinkRect.shrink(padding.top, \"top\");\n      shrinkRect.shrink(padding.right, \"right\");\n      shrinkRect.shrink(padding.bottom, \"bottom\");\n      this.seriesRect = shrinkRect;\n      this.animationRect = shrinkRect;\n      this.hoverRect = shrinkRect;\n      for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n        group2.translationX = Math.floor(shrinkRect.x);\n        group2.translationY = Math.floor(shrinkRect.y);\n      }\n      yield Promise.all(\n        this.series.map((series) => __async(this, null, function* () {\n          yield series.update({ seriesRect: shrinkRect });\n        }))\n      );\n      seriesRoot.visible = this.series[0].visible;\n      seriesRoot.setClipRectInGroupCoordinateSpace(\n        new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height)\n      );\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries: false,\n        series: { rect: fullSeriesRect, paddedRect: shrinkRect, visible: true },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n};\n_HierarchyChart.className = \"HierarchyChart\";\n_HierarchyChart.type = \"hierarchy\";\nvar HierarchyChart = _HierarchyChart;\n\n// packages/ag-charts-community/src/chart/axis/polarAxis.ts\nvar PolarAxis = class extends Axis {\n  constructor() {\n    super(...arguments);\n    this.shape = \"polygon\";\n    this.innerRadiusRatio = 0;\n    this.defaultTickMinSpacing = 20;\n  }\n  computeLabelsBBox(_options, _seriesRect) {\n    return null;\n  }\n};\n__decorateClass([\n  Validate(UNION([\"polygon\", \"circle\"], \"a polar axis shape\"))\n], PolarAxis.prototype, \"shape\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PolarAxis.prototype, \"innerRadiusRatio\", 2);\n\n// packages/ag-charts-community/src/chart/polarChart.ts\nvar _PolarChart = class _PolarChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.padding = new Padding(40);\n    this.axisGroup.zIndex = 6 /* AXIS_FOREGROUND_ZINDEX */;\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_PolarChart.prototype, this, \"performLayout\").call(this);\n      const fullSeriesRect = shrinkRect.clone();\n      this.computeSeriesRect(shrinkRect);\n      yield this.computeCircle(shrinkRect);\n      this.axes.forEach((axis) => axis.update());\n      this.hoverRect = shrinkRect;\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries: false,\n        series: { rect: fullSeriesRect, paddedRect: shrinkRect, visible: true },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n  updateAxes(cx, cy, radius) {\n    var _a, _b;\n    const angleAxis = this.axes.find((axis) => axis.direction === \"x\" /* X */);\n    const radiusAxis = this.axes.find((axis) => axis.direction === \"y\" /* Y */);\n    if (!(angleAxis instanceof PolarAxis) || !(radiusAxis instanceof PolarAxis)) {\n      return;\n    }\n    const angleScale = angleAxis.scale;\n    const angles = (_a = angleScale.ticks) == null ? void 0 : _a.call(angleScale).map((value) => angleScale.convert(value));\n    const innerRadiusRatio = radiusAxis.innerRadiusRatio;\n    angleAxis.innerRadiusRatio = innerRadiusRatio;\n    (_b = angleAxis.computeRange) == null ? void 0 : _b.call(angleAxis);\n    angleAxis.gridLength = radius;\n    radiusAxis.gridAngles = angles;\n    radiusAxis.gridRange = angleAxis.range;\n    radiusAxis.range = [radius, radius * innerRadiusRatio];\n    [angleAxis, radiusAxis].forEach((axis) => {\n      axis.translation.x = cx;\n      axis.translation.y = cy;\n      axis.calculateLayout();\n    });\n  }\n  computeSeriesRect(shrinkRect) {\n    const {\n      seriesArea: { padding }\n    } = this;\n    shrinkRect.shrink(padding.left, \"left\");\n    shrinkRect.shrink(padding.top, \"top\");\n    shrinkRect.shrink(padding.right, \"right\");\n    shrinkRect.shrink(padding.bottom, \"bottom\");\n    this.seriesRect = shrinkRect;\n    this.animationRect = shrinkRect;\n  }\n  computeCircle(seriesBox) {\n    return __async(this, null, function* () {\n      const polarSeries = this.series.filter((series) => {\n        return series instanceof PolarSeries;\n      });\n      const polarAxes = this.axes.filter((axis) => {\n        return axis instanceof PolarAxis;\n      });\n      const setSeriesCircle = (cx, cy, r) => {\n        this.updateAxes(cx, cy, r);\n        polarSeries.forEach((series) => {\n          series.centerX = cx;\n          series.centerY = cy;\n          series.radius = r;\n        });\n        const pieSeries = polarSeries.filter((s) => {\n          return s instanceof PieSeries || s instanceof DonutSeries;\n        });\n        if (pieSeries.length > 1) {\n          const innerRadii = pieSeries.map((series) => {\n            const innerRadius = series.getInnerRadius();\n            return { series, innerRadius };\n          }).sort((a, b) => a.innerRadius - b.innerRadius);\n          innerRadii.at(-1).series.surroundingRadius = void 0;\n          for (let i = 0; i < innerRadii.length - 1; i++) {\n            innerRadii[i].series.surroundingRadius = innerRadii[i + 1].innerRadius;\n          }\n        }\n      };\n      const centerX = seriesBox.x + seriesBox.width / 2;\n      const centerY = seriesBox.y + seriesBox.height / 2;\n      const initialRadius = Math.max(0, Math.min(seriesBox.width, seriesBox.height) / 2);\n      let radius = initialRadius;\n      setSeriesCircle(centerX, centerY, radius);\n      const shake = (..._0) => __async(this, [..._0], function* ({ hideWhenNecessary = false } = {}) {\n        const labelBoxes = [];\n        for (const series of [...polarAxes, ...polarSeries]) {\n          const box = yield series.computeLabelsBBox({ hideWhenNecessary }, seriesBox);\n          if (box) {\n            labelBoxes.push(box);\n          }\n        }\n        if (labelBoxes.length === 0) {\n          setSeriesCircle(centerX, centerY, initialRadius);\n          return;\n        }\n        const labelBox = BBox.merge(labelBoxes);\n        const refined = this.refineCircle(labelBox, radius, seriesBox);\n        setSeriesCircle(refined.centerX, refined.centerY, refined.radius);\n        if (refined.radius === radius) {\n          return;\n        }\n        radius = refined.radius;\n      });\n      yield shake();\n      yield shake();\n      yield shake();\n      yield shake({ hideWhenNecessary: true });\n      yield shake({ hideWhenNecessary: true });\n      return { radius, centerX, centerY };\n    });\n  }\n  refineCircle(labelsBox, radius, seriesBox) {\n    const minCircleRatio = 0.5;\n    const circleLeft = -radius;\n    const circleTop = -radius;\n    const circleRight = radius;\n    const circleBottom = radius;\n    let padLeft = Math.max(0, circleLeft - labelsBox.x);\n    let padTop = Math.max(0, circleTop - labelsBox.y);\n    let padRight = Math.max(0, labelsBox.x + labelsBox.width - circleRight);\n    let padBottom = Math.max(0, labelsBox.y + labelsBox.height - circleBottom);\n    padLeft = padRight = Math.max(padLeft, padRight);\n    padTop = padBottom = Math.max(padTop, padBottom);\n    const availCircleWidth = seriesBox.width - padLeft - padRight;\n    const availCircleHeight = seriesBox.height - padTop - padBottom;\n    let newRadius = Math.min(availCircleWidth, availCircleHeight) / 2;\n    const minHorizontalRadius = minCircleRatio * seriesBox.width / 2;\n    const minVerticalRadius = minCircleRatio * seriesBox.height / 2;\n    const minRadius = Math.min(minHorizontalRadius, minVerticalRadius);\n    if (newRadius < minRadius) {\n      newRadius = minRadius;\n      const horizontalPadding = padLeft + padRight;\n      const verticalPadding = padTop + padBottom;\n      if (2 * newRadius + verticalPadding > seriesBox.height) {\n        const padHeight = seriesBox.height - 2 * newRadius;\n        if (Math.min(padTop, padBottom) * 2 > padHeight) {\n          padTop = padHeight / 2;\n          padBottom = padHeight / 2;\n        } else if (padTop > padBottom) {\n          padTop = padHeight - padBottom;\n        } else {\n          padBottom = padHeight - padTop;\n        }\n      }\n      if (2 * newRadius + horizontalPadding > seriesBox.width) {\n        const padWidth = seriesBox.width - 2 * newRadius;\n        if (Math.min(padLeft, padRight) * 2 > padWidth) {\n          padLeft = padWidth / 2;\n          padRight = padWidth / 2;\n        } else if (padLeft > padRight) {\n          padLeft = padWidth - padRight;\n        } else {\n          padRight = padWidth - padLeft;\n        }\n      }\n    }\n    const newWidth = padLeft + 2 * newRadius + padRight;\n    const newHeight = padTop + 2 * newRadius + padBottom;\n    return {\n      centerX: seriesBox.x + (seriesBox.width - newWidth) / 2 + padLeft + newRadius,\n      centerY: seriesBox.y + (seriesBox.height - newHeight) / 2 + padTop + newRadius,\n      radius: newRadius\n    };\n  }\n};\n_PolarChart.className = \"PolarChart\";\n_PolarChart.type = \"polar\";\nvar PolarChart = _PolarChart;\n\n// packages/ag-charts-community/src/chart/series/topology/mercatorScale.ts\nvar radsInDeg = Math.PI / 180;\nvar lonX = (lon) => lon * radsInDeg;\nvar latY = (lat) => -Math.log(Math.tan(Math.PI * 0.25 + lat * radsInDeg * 0.5));\nvar xLon = (x) => x / radsInDeg;\nvar yLat = (y) => (Math.atan(Math.exp(-y)) - Math.PI * 0.25) / (radsInDeg * 0.5);\nvar MercatorScale = class _MercatorScale {\n  constructor(domain, range3) {\n    this.domain = domain;\n    this.range = range3;\n    this.type = \"mercator\";\n    this.bounds = _MercatorScale.bounds(domain);\n  }\n  static bounds(domain) {\n    const [[lon0, lat0], [lon1, lat1]] = domain;\n    const x0 = lonX(lon0);\n    const y0 = latY(lat0);\n    const x1 = lonX(lon1);\n    const y1 = latY(lat1);\n    return new BBox(Math.min(x0, x1), Math.min(y0, y1), Math.abs(x1 - x0), Math.abs(y1 - y0));\n  }\n  static fixedScale() {\n    return new _MercatorScale(\n      [\n        [xLon(0), yLat(0)],\n        [xLon(1), yLat(1)]\n      ],\n      [\n        [0, 0],\n        [1, 1]\n      ]\n    );\n  }\n  convert([lon, lat]) {\n    const [[x0, y0], [x1, y1]] = this.range;\n    const xScale = (x1 - x0) / this.bounds.width;\n    const yScale = (y1 - y0) / this.bounds.height;\n    return [(lonX(lon) - this.bounds.x) * xScale + x0, (latY(lat) - this.bounds.y) * yScale + y0];\n  }\n  invert([x, y]) {\n    const [[x0, y0], [x1, y1]] = this.range;\n    const xScale = (x1 - x0) / this.bounds.width;\n    const yScale = (y1 - y0) / this.bounds.height;\n    return [xLon((x - x0) / xScale + this.bounds.x), yLat((y - y0) / yScale + this.bounds.y)];\n  }\n};\n\n// packages/ag-charts-community/src/chart/topologyChart.ts\nfunction isTopologySeries(series) {\n  return series.type === \"map-shape\" || series.type === \"map-line\" || series.type === \"map-marker\" || series.type === \"map-shape-background\" || series.type === \"map-line-background\";\n}\nvar _TopologyChart = class _TopologyChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.xAxis = new NumberAxis(this.getModuleContext());\n    this.xAxis.position = \"bottom\";\n    this.yAxis = new NumberAxis(this.getModuleContext());\n    this.yAxis.position = \"left\";\n    this.ctx.zoomManager.updateAxes([this.xAxis, this.yAxis]);\n  }\n  updateData() {\n    return __async(this, null, function* () {\n      yield __superGet(_TopologyChart.prototype, this, \"updateData\").call(this);\n      const { topology } = this.getOptions();\n      this.series.forEach((series) => {\n        if (isTopologySeries(series)) {\n          series.setChartTopology(topology);\n        }\n      });\n    });\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_TopologyChart.prototype, this, \"performLayout\").call(this);\n      const {\n        seriesArea: { padding },\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const fullSeriesRect = shrinkRect.clone();\n      shrinkRect.shrink(padding.left, \"left\");\n      shrinkRect.shrink(padding.top, \"top\");\n      shrinkRect.shrink(padding.right, \"right\");\n      shrinkRect.shrink(padding.bottom, \"bottom\");\n      this.seriesRect = shrinkRect;\n      this.animationRect = shrinkRect;\n      this.hoverRect = shrinkRect;\n      const mapSeries = this.series.filter(isTopologySeries);\n      const combinedBbox = mapSeries.reduce((combined, series) => {\n        if (!series.visible)\n          return combined;\n        const bbox = series.topologyBounds;\n        if (bbox == null)\n          return combined;\n        if (combined == null)\n          return bbox;\n        combined.merge(bbox);\n        return combined;\n      }, void 0);\n      let scale2;\n      if (combinedBbox != null) {\n        const { lon0, lat0, lon1, lat1 } = combinedBbox;\n        const domain = [\n          [lon0, lat0],\n          [lon1, lat1]\n        ];\n        const bounds = MercatorScale.bounds(domain);\n        const { width, height } = shrinkRect;\n        const viewBoxScale = Math.min(width / bounds.width, height / bounds.height);\n        const viewBoxWidth = bounds.width * viewBoxScale;\n        const viewBoxHeight = bounds.height * viewBoxScale;\n        const viewBoxOriginX = (width - viewBoxWidth) / 2;\n        const viewBoxOriginY = (height - viewBoxHeight) / 2;\n        const x0 = viewBoxOriginX;\n        const y0 = viewBoxOriginY;\n        const x1 = viewBoxOriginX + viewBoxWidth;\n        const y1 = viewBoxOriginY + viewBoxHeight;\n        const xZoom = this.ctx.zoomManager.getAxisZoom(this.xAxis.id);\n        const yZoom = this.ctx.zoomManager.getAxisZoom(this.yAxis.id);\n        const xSpan = (x1 - x0) / (xZoom.max - xZoom.min);\n        const xStart = x0 - xSpan * xZoom.min;\n        const ySpan = (y1 - y0) / (1 - yZoom.min - (1 - yZoom.max));\n        const yStart = y0 - ySpan * (1 - yZoom.max);\n        scale2 = new MercatorScale(domain, [\n          [xStart, yStart],\n          [xStart + xSpan, yStart + ySpan]\n        ]);\n      }\n      mapSeries.forEach((series) => {\n        series.scale = scale2;\n      });\n      const seriesVisible = this.series.some((s) => s.visible);\n      seriesRoot.visible = seriesVisible;\n      for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n        group2.translationX = Math.floor(shrinkRect.x);\n        group2.translationY = Math.floor(shrinkRect.y);\n        group2.setClipRectInGroupCoordinateSpace(\n          new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height)\n        );\n      }\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries: false,\n        series: { rect: fullSeriesRect, paddedRect: shrinkRect, visible: seriesVisible },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n};\n_TopologyChart.className = \"TopologyChart\";\n_TopologyChart.type = \"topology\";\nvar TopologyChart = _TopologyChart;\n\n// packages/ag-charts-community/src/chart/agChartV2.ts\nvar debug2 = Debug.create(true, \"opts\");\nfunction chartType(options) {\n  if (isAgCartesianChartOptions(options)) {\n    return \"cartesian\";\n  } else if (isAgPolarChartOptions(options)) {\n    return \"polar\";\n  } else if (isAgHierarchyChartOptions(options)) {\n    return \"hierarchy\";\n  } else if (isAgTopologyChartOptions(options)) {\n    return \"topology\";\n  }\n  throw new Error(`AG Chart - unknown type of chart for options with type: ${options.type}`);\n}\nvar _AgCharts = class _AgCharts {\n  static licenseCheck(options) {\n    var _a, _b, _c, _d;\n    if (this.licenseChecked)\n      return;\n    this.licenseManager = (_b = (_a = enterpriseModule).licenseManager) == null ? void 0 : _b.call(_a, options);\n    (_c = this.licenseManager) == null ? void 0 : _c.setLicenseKey(this.licenseKey, this.gridContext);\n    (_d = this.licenseManager) == null ? void 0 : _d.validateLicense();\n    this.licenseChecked = true;\n  }\n  static setLicenseKey(licenseKey) {\n    this.licenseKey = licenseKey;\n  }\n  static setGridContext(gridContext) {\n    this.gridContext = gridContext;\n  }\n  static getLicenseDetails(licenseKey) {\n    var _a, _b;\n    return (_b = (_a = enterpriseModule).licenseManager) == null ? void 0 : _b.call(_a, {}).getLicenseDetails(licenseKey);\n  }\n  /**\n   * Returns the `AgChartInstance` for a DOM node, if there is one.\n   */\n  static getInstance(element2) {\n    return AgChartsInternal.getInstance(element2);\n  }\n  /**\n   * Create a new `AgChartInstance` based upon the given configuration options.\n   */\n  static create(options) {\n    var _a, _b, _c;\n    this.licenseCheck(options);\n    const chart = AgChartsInternal.createOrUpdate(options);\n    if ((_a = this.licenseManager) == null ? void 0 : _a.isDisplayWatermark()) {\n      (_c = (_b = enterpriseModule).injectWatermark) == null ? void 0 : _c.call(_b, chart.chart.element, this.licenseManager.getWatermarkMessage());\n    }\n    return chart;\n  }\n  /**\n   * Update an existing `AgChartInstance`. Options provided should be complete and not\n   * partial.\n   *\n   * __NOTE__: As each call could trigger a chart redraw, multiple calls to update options in\n   * quick succession could result in undesirable flickering, so callers should batch up and/or\n   * debounce changes to avoid unintended partial update renderings.\n   */\n  static update(chart, options) {\n    if (!AgChartInstanceProxy.isInstance(chart)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.createOrUpdate(options, chart);\n  }\n  /**\n   * Update an existing `AgChartInstance` by applying a partial set of option changes.\n   *\n   * __NOTE__: As each call could trigger a chart redraw, each individual delta options update\n   * should leave the chart in a valid options state. Also, multiple calls to update options in\n   * quick succession could result in undesirable flickering, so callers should batch up and/or\n   * debounce changes to avoid unintended partial update renderings.\n   */\n  static updateDelta(chart, deltaOptions) {\n    if (!AgChartInstanceProxy.isInstance(chart)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.updateUserDelta(chart, deltaOptions);\n  }\n  /**\n   * Starts a browser-based image download for the given `AgChartInstance`.\n   */\n  static download(chart, options) {\n    if (!(chart instanceof AgChartInstanceProxy)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.download(chart, options).catch((e) => Logger.errorOnce(e));\n  }\n  /**\n   * Returns a base64-encoded image data URL for the given `AgChartInstance`.\n   */\n  static getImageDataURL(chart, options) {\n    if (!(chart instanceof AgChartInstanceProxy)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    return AgChartsInternal.getImageDataURL(chart, options);\n  }\n};\n_AgCharts.INVALID_CHART_REF_MESSAGE = \"AG Charts - invalid chart reference passed\";\n_AgCharts.licenseChecked = false;\n_AgCharts.gridContext = false;\nvar AgCharts = _AgCharts;\nvar AgChart = class {\n  static warnDeprecated(memberName) {\n    const warnDeprecated = createDeprecationWarning();\n    warnDeprecated(`AgChart.${memberName}`, `Use AgCharts.${memberName} instead`);\n  }\n  static create(options) {\n    this.warnDeprecated(\"create\");\n    return AgCharts.create(options);\n  }\n  static update(chart, options) {\n    this.warnDeprecated(\"update\");\n    return AgCharts.update(chart, options);\n  }\n  static updateDelta(chart, deltaOptions) {\n    this.warnDeprecated(\"updateDelta\");\n    return AgCharts.updateDelta(chart, deltaOptions);\n  }\n  static download(chart, options) {\n    this.warnDeprecated(\"download\");\n    return AgCharts.download(chart, options);\n  }\n  static getImageDataURL(chart, options) {\n    this.warnDeprecated(\"getImageDataURL\");\n    return AgCharts.getImageDataURL(chart, options);\n  }\n};\nvar _AgChartsInternal = class _AgChartsInternal {\n  static getInstance(element2) {\n    const chart = Chart.getInstance(element2);\n    return chart ? AgChartInstanceProxy.chartInstances.get(chart) : void 0;\n  }\n  static initialiseModules() {\n    if (_AgChartsInternal.initialised)\n      return;\n    registerInbuiltModules();\n    setupModules();\n    _AgChartsInternal.initialised = true;\n  }\n  static createOrUpdate(options, proxy) {\n    var _b;\n    _AgChartsInternal.initialiseModules();\n    debug2(\">>> AgChartV2.createOrUpdate() user options\", options);\n    const _a = options, { overrideDevicePixelRatio, document: document2, window: userWindow } = _a, userOptions = __objRest(_a, [\"overrideDevicePixelRatio\", \"document\", \"window\"]);\n    const chartOptions = new ChartOptions(userOptions, { overrideDevicePixelRatio, document: document2, window: userWindow });\n    let chart = proxy == null ? void 0 : proxy.chart;\n    if (chart == null || chartType(userOptions) !== chartType(chart.processedOptions)) {\n      chart = _AgChartsInternal.createChartInstance(chartOptions, chart);\n    }\n    if (proxy == null) {\n      proxy = new AgChartInstanceProxy(chart);\n    } else {\n      proxy.chart = chart;\n    }\n    if (debug2.check() && typeof window !== \"undefined\") {\n      (_b = window.agChartInstances) != null ? _b : window.agChartInstances = {};\n      window.agChartInstances[chart.id] = chart;\n    }\n    chart.queuedUserOptions.push(userOptions);\n    chart.requestFactoryUpdate((chartRef) => {\n      chartRef.applyOptions(chartOptions);\n      chartRef.queuedUserOptions.splice(0, chartRef.queuedUserOptions.indexOf(userOptions));\n    });\n    return proxy;\n  }\n  static updateUserDelta(proxy, deltaOptions) {\n    deltaOptions = deepClone(deltaOptions, { shallow: [\"data\"] });\n    jsonWalk(\n      deltaOptions,\n      (node) => {\n        if (typeof node !== \"object\")\n          return;\n        for (const [key, value] of Object.entries(node)) {\n          if (typeof value === \"undefined\") {\n            Object.assign(node, { [key]: Symbol(\"UNSET\") });\n          }\n        }\n      },\n      { skip: [\"data\"] }\n    );\n    const { chart } = proxy;\n    const lastUpdateOptions = chart.getOptions();\n    const userOptions = mergeDefaults(deltaOptions, lastUpdateOptions);\n    debug2(\">>> AgChartV2.updateUserDelta() user delta\", deltaOptions);\n    debug2(\"AgChartV2.updateUserDelta() - base options\", lastUpdateOptions);\n    _AgChartsInternal.createOrUpdate(userOptions, proxy);\n  }\n  /**\n   * Returns the content of the current canvas as an image.\n   */\n  static download(proxy, opts) {\n    return __async(this, null, function* () {\n      try {\n        const clone = yield _AgChartsInternal.prepareResizedChart(proxy, opts);\n        clone.chart.ctx.scene.download(opts == null ? void 0 : opts.fileName, opts == null ? void 0 : opts.fileFormat);\n        clone.destroy();\n      } catch (error) {\n        Logger.errorOnce(error);\n      }\n    });\n  }\n  static getImageDataURL(proxy, opts) {\n    return __async(this, null, function* () {\n      const clone = yield _AgChartsInternal.prepareResizedChart(proxy, opts);\n      const result = clone.chart.ctx.scene.getDataURL(opts == null ? void 0 : opts.fileFormat);\n      clone.destroy();\n      return result;\n    });\n  }\n  static prepareResizedChart(_0) {\n    return __async(this, arguments, function* ({ chart }, opts = {}) {\n      var _a, _b, _c, _d;\n      const width = (_b = (_a = opts.width) != null ? _a : chart.width) != null ? _b : chart.ctx.scene.canvas.width;\n      const height = (_d = (_c = opts.height) != null ? _c : chart.height) != null ? _d : chart.ctx.scene.canvas.height;\n      const options = mergeDefaults(\n        {\n          container: document.createElement(\"div\"),\n          overrideDevicePixelRatio: 1,\n          autoSize: false,\n          width,\n          height\n        },\n        // Disable enterprise features that may interfere with image generation.\n        moduleRegistry.hasEnterpriseModules() && { animation: { enabled: false } },\n        chart.userOptions\n      );\n      const cloneProxy = _AgChartsInternal.createOrUpdate(options);\n      cloneProxy.chart.ctx.zoomManager.updateZoom(\"agChartV2\", chart.ctx.zoomManager.getZoom());\n      chart.series.forEach((series, index) => {\n        if (!series.visible) {\n          cloneProxy.chart.series[index].visible = false;\n        }\n      });\n      chart.update(0 /* FULL */, { forceNodeDataRefresh: true });\n      yield cloneProxy.chart.waitForUpdate();\n      return cloneProxy;\n    });\n  }\n  static createChartInstance(options, oldChart) {\n    const transferableResource = oldChart == null ? void 0 : oldChart.destroy({ keepTransferableResources: true });\n    const ChartConstructor = _AgChartsInternal.getChartByOptions(options.processedOptions);\n    return new ChartConstructor(options, transferableResource);\n  }\n  static getChartByOptions(options) {\n    if (isAgCartesianChartOptions(options)) {\n      return CartesianChart;\n    } else if (isAgHierarchyChartOptions(options)) {\n      return HierarchyChart;\n    } else if (isAgPolarChartOptions(options)) {\n      return PolarChart;\n    } else if (isAgTopologyChartOptions(options)) {\n      return TopologyChart;\n    }\n    throw new Error(\n      `AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified`\n    );\n  }\n};\n_AgChartsInternal.initialised = false;\nvar AgChartsInternal = _AgChartsInternal;\n\n// packages/ag-charts-community/src/version.ts\nvar VERSION = \"9.3.1\";\n\n// packages/ag-charts-community/src/integrated-charts-scene.ts\nvar integrated_charts_scene_exports = {};\n__export(integrated_charts_scene_exports, {\n  Arc: () => Arc2,\n  BBox: () => BBox,\n  BandScale: () => BandScale,\n  Caption: () => Caption,\n  ChangeDetectableProperties: () => ChangeDetectableProperties,\n  Circle: () => Circle,\n  ContinuousScale: () => ContinuousScale,\n  Diamond: () => Diamond,\n  DropShadow: () => DropShadow,\n  ExtendedPath2D: () => ExtendedPath2D,\n  Group: () => Group,\n  HdpiCanvas: () => HdpiCanvas,\n  Image: () => Image,\n  Label: () => Label,\n  Line: () => Line,\n  LinearGradientFill: () => LinearGradientFill,\n  LinearScale: () => LinearScale,\n  Marker: () => Marker,\n  Node: () => Node,\n  OrdinalTimeScale: () => OrdinalTimeScale,\n  Path: () => Path,\n  PointerEvents: () => PointerEvents,\n  RadialColumnShape: () => RadialColumnShape,\n  Rect: () => Rect,\n  RedrawType: () => RedrawType,\n  Scene: () => Scene,\n  SceneChangeDetection: () => SceneChangeDetection,\n  ScenePathChangeDetection: () => ScenePathChangeDetection,\n  Sector: () => Sector,\n  SectorBox: () => SectorBox,\n  Selection: () => Selection,\n  Shape: () => Shape,\n  Square: () => Square,\n  Text: () => Text,\n  Tooltip: () => Tooltip,\n  Triangle: () => Triangle,\n  easing: () => easing_exports,\n  getFont: () => getFont,\n  getMarker: () => getMarker,\n  getRadialColumnWidth: () => getRadialColumnWidth,\n  motion: () => motion,\n  nearestSquared: () => nearestSquared,\n  nearestSquaredInContainer: () => nearestSquaredInContainer,\n  toRadians: () => toRadians,\n  toTooltipHtml: () => toTooltipHtml\n});\n\n// packages/ag-charts-community/src/scene/shape/arc.ts\nvar Arc2 = class extends Path {\n  constructor() {\n    super();\n    this.centerX = 0;\n    this.centerY = 0;\n    this.radius = 10;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.counterClockwise = false;\n    this.type = 0 /* Open */;\n    this.restoreOwnStyles();\n  }\n  get fullPie() {\n    return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n  }\n  updatePath() {\n    const path = this.path;\n    path.clear();\n    path.arc(this.centerX, this.centerY, this.radius, this.startAngle, this.endAngle, this.counterClockwise);\n    if (this.type === 1 /* Chord */) {\n      path.closePath();\n    } else if (this.type === 2 /* Round */ && !this.fullPie) {\n      path.lineTo(this.centerX, this.centerY);\n      path.closePath();\n    }\n  }\n  computeBBox() {\n    return new BBox(this.centerX - this.radius, this.centerY - this.radius, this.radius * 2, this.radius * 2);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return this.type !== 0 /* Open */ && bbox.containsPoint(point.x, point.y) && this.path.isPointInPath(point.x, point.y);\n  }\n};\nArc2.className = \"Arc\";\nArc2.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  lineWidth: 1,\n  fillStyle: null\n});\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"centerX\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"centerY\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"radius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"startAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"endAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"counterClockwise\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"type\", 2);\n\n// packages/ag-charts-community/src/scene/shape/linearGradientFill.ts\nvar LinearGradientFill = class extends Shape {\n  constructor() {\n    super(...arguments);\n    this.direction = \"to-right\";\n    this.stops = void 0;\n    this._mask = void 0;\n  }\n  get mask() {\n    return this._mask;\n  }\n  set mask(newMask) {\n    if (this._mask != null) {\n      this.removeChild(this._mask);\n    }\n    if (newMask != null) {\n      this.appendChild(newMask);\n    }\n    this._mask = newMask;\n  }\n  isPointInPath(x, y) {\n    var _a, _b;\n    return (_b = (_a = this.mask) == null ? void 0 : _a.isPointInPath(x, y)) != null ? _b : false;\n  }\n  computeBBox() {\n    var _a;\n    return (_a = this.mask) == null ? void 0 : _a.computeBBox();\n  }\n  render(renderCtx) {\n    const { mask, stops } = this;\n    const { ctx, devicePixelRatio } = renderCtx;\n    const pixelLength = 1 / devicePixelRatio;\n    const maskBbox = mask == null ? void 0 : mask.computeTransformedBBox();\n    if (mask == null || stops == null || maskBbox == null)\n      return;\n    if (mask.dirtyPath) {\n      mask.updatePath();\n      mask.dirtyPath = false;\n    }\n    ctx.save();\n    ctx.clip(mask.path.getPath2D());\n    ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);\n    const x0 = Math.floor(maskBbox.x);\n    const x1 = Math.ceil(maskBbox.x + maskBbox.width);\n    const y0 = Math.floor(maskBbox.y);\n    const y1 = Math.ceil(maskBbox.y + maskBbox.height);\n    const colorScale = new ColorScale();\n    const [i0, i1] = this.direction === \"to-right\" ? [x0, x1] : [y0, y1];\n    colorScale.domain = stops.map((_, index) => {\n      return i0 + (i1 - i0) * index / (stops.length - 1);\n    });\n    colorScale.range = stops;\n    colorScale.update();\n    if (this.direction === \"to-right\") {\n      const height = y1 - y0;\n      for (let x = x0; x <= x1; x += pixelLength) {\n        ctx.fillStyle = colorScale.convert(x);\n        ctx.fillRect(x, y0, pixelLength, height);\n      }\n    } else {\n      const width = x1 - x0;\n      for (let y = y0; y <= y1; y += pixelLength) {\n        ctx.fillStyle = colorScale.convert(y);\n        ctx.fillRect(x0, y, width, pixelLength);\n      }\n    }\n    ctx.restore();\n  }\n};\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], LinearGradientFill.prototype, \"direction\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], LinearGradientFill.prototype, \"stops\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], LinearGradientFill.prototype, \"_mask\", 2);\n\n// packages/ag-charts-community/src/scene/shape/radialColumnShape.ts\nfunction rotatePoint(x, y, rotation) {\n  const radius = Math.sqrt(__pow(x, 2) + __pow(y, 2));\n  const angle = Math.atan2(y, x);\n  const rotated = angle + rotation;\n  return {\n    x: Math.cos(rotated) * radius,\n    y: Math.sin(rotated) * radius\n  };\n}\nvar RadialColumnShape = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.borderPath = new ExtendedPath2D();\n    this.isBeveled = true;\n    this.columnWidth = 0;\n    this.startAngle = 0;\n    this.endAngle = 0;\n    this.outerRadius = 0;\n    this.innerRadius = 0;\n    this.axisInnerRadius = 0;\n    this.axisOuterRadius = 0;\n    this.isRadiusAxisReversed = false;\n  }\n  getRotation() {\n    const { startAngle, endAngle } = this;\n    const midAngle = angleBetween(startAngle, endAngle);\n    return normalizeAngle360(startAngle + midAngle / 2 + Math.PI / 2);\n  }\n  updatePath() {\n    const { isBeveled } = this;\n    if (isBeveled) {\n      this.updateBeveledPath();\n    } else {\n      this.updateRectangularPath();\n    }\n    this.checkPathDirty();\n  }\n  updateRectangularPath() {\n    const { columnWidth, innerRadius, outerRadius, path } = this;\n    const left = -columnWidth / 2;\n    const right = columnWidth / 2;\n    const top = -outerRadius;\n    const bottom = -innerRadius;\n    const rotation = this.getRotation();\n    const points = [\n      [left, bottom],\n      [left, top],\n      [right, top],\n      [right, bottom],\n      [left, bottom]\n    ].map(([x, y]) => rotatePoint(x, y, rotation));\n    path.clear(true);\n    path.moveTo(points[0].x, points[0].y);\n    path.lineTo(points[1].x, points[1].y);\n    path.lineTo(points[2].x, points[2].y);\n    path.lineTo(points[3].x, points[3].y);\n    path.lineTo(points[0].x, points[0].y);\n    path.closePath();\n  }\n  updateBeveledPath() {\n    const { columnWidth, path, outerRadius, innerRadius, axisInnerRadius, axisOuterRadius, isRadiusAxisReversed } = this;\n    const isStackBottom = isEqual(innerRadius, axisInnerRadius);\n    const sideRotation = Math.asin(columnWidth / 2 / innerRadius);\n    const pointRotation = this.getRotation();\n    const rotate = (x, y) => rotatePoint(x, y, pointRotation);\n    const getTriangleHypotenuse = (leg, otherLeg) => Math.sqrt(__pow(leg, 2) + __pow(otherLeg, 2));\n    const getTriangleLeg = (hypotenuse, otherLeg) => {\n      if (otherLeg > hypotenuse) {\n        return 0;\n      }\n      return Math.sqrt(__pow(hypotenuse, 2) - __pow(otherLeg, 2));\n    };\n    const compare = (value, otherValue, lessThan) => lessThan ? value < otherValue : value > otherValue;\n    const shouldConnectBottomCircle = isStackBottom && !isNaN(sideRotation) && sideRotation < Math.PI / 6;\n    let left = -columnWidth / 2;\n    let right = columnWidth / 2;\n    const top = -outerRadius;\n    const bottom = -innerRadius * (shouldConnectBottomCircle ? Math.cos(sideRotation) : 1);\n    const hasBottomIntersection = compare(\n      axisOuterRadius,\n      getTriangleHypotenuse(innerRadius, columnWidth / 2),\n      !isRadiusAxisReversed\n    );\n    if (hasBottomIntersection) {\n      const bottomIntersectionX = getTriangleLeg(axisOuterRadius, innerRadius);\n      left = -bottomIntersectionX;\n      right = bottomIntersectionX;\n    }\n    path.clear(true);\n    const bottomLeftPt = rotate(left, bottom);\n    path.moveTo(bottomLeftPt.x, bottomLeftPt.y);\n    const isEmpty = isEqual(innerRadius, outerRadius);\n    const hasSideIntersection = compare(\n      axisOuterRadius,\n      getTriangleHypotenuse(outerRadius, columnWidth / 2),\n      !isRadiusAxisReversed\n    );\n    if (isEmpty && shouldConnectBottomCircle) {\n      path.arc(\n        0,\n        0,\n        innerRadius,\n        normalizeAngle360(-sideRotation - Math.PI / 2) + pointRotation,\n        normalizeAngle360(sideRotation - Math.PI / 2) + pointRotation,\n        false\n      );\n    } else if (hasSideIntersection) {\n      const sideIntersectionY = -getTriangleLeg(axisOuterRadius, columnWidth / 2);\n      const topIntersectionX = getTriangleLeg(axisOuterRadius, outerRadius);\n      if (!hasBottomIntersection) {\n        const topLeftPt = rotate(left, sideIntersectionY);\n        path.lineTo(topLeftPt.x, topLeftPt.y);\n      }\n      path.arc(\n        0,\n        0,\n        axisOuterRadius,\n        Math.atan2(sideIntersectionY, left) + pointRotation,\n        Math.atan2(top, -topIntersectionX) + pointRotation,\n        false\n      );\n      if (!isEqual(topIntersectionX, 0)) {\n        const topRightBevelPt = rotate(topIntersectionX, top);\n        path.lineTo(topRightBevelPt.x, topRightBevelPt.y);\n      }\n      path.arc(\n        0,\n        0,\n        axisOuterRadius,\n        Math.atan2(top, topIntersectionX) + pointRotation,\n        Math.atan2(sideIntersectionY, right) + pointRotation,\n        false\n      );\n    } else {\n      const topLeftPt = rotate(left, top);\n      const topRightPt = rotate(right, top);\n      path.lineTo(topLeftPt.x, topLeftPt.y);\n      path.lineTo(topRightPt.x, topRightPt.y);\n    }\n    const bottomRightPt = rotate(right, bottom);\n    path.lineTo(bottomRightPt.x, bottomRightPt.y);\n    if (shouldConnectBottomCircle) {\n      path.arc(\n        0,\n        0,\n        innerRadius,\n        normalizeAngle360(sideRotation - Math.PI / 2) + pointRotation,\n        normalizeAngle360(-sideRotation - Math.PI / 2) + pointRotation,\n        true\n      );\n    } else {\n      const rotatedBottomLeftPt = rotate(left, bottom);\n      path.lineTo(rotatedBottomLeftPt.x, rotatedBottomLeftPt.y);\n    }\n    path.closePath();\n  }\n};\nRadialColumnShape.className = \"RadialColumnShape\";\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"isBeveled\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"columnWidth\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"startAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"endAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"outerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"innerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"axisInnerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"axisOuterRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"isRadiusAxisReversed\", 2);\nfunction getRadialColumnWidth(startAngle, endAngle, axisOuterRadius, columnWidthRatio, maxColumnWidthRatio) {\n  const rotation = angleBetween(startAngle, endAngle);\n  const pad2 = rotation * (1 - columnWidthRatio) / 2;\n  startAngle += pad2;\n  endAngle -= pad2;\n  if (rotation < 1e-3) {\n    return 2 * axisOuterRadius * maxColumnWidthRatio;\n  }\n  if (rotation >= 2 * Math.PI) {\n    const midAngle = startAngle + rotation / 2;\n    startAngle = midAngle - Math.PI;\n    endAngle = midAngle + Math.PI;\n  }\n  const startX = axisOuterRadius * Math.cos(startAngle);\n  const startY = axisOuterRadius * Math.sin(startAngle);\n  const endX = axisOuterRadius * Math.cos(endAngle);\n  const endY = axisOuterRadius * Math.sin(endAngle);\n  const colWidth = Math.floor(Math.sqrt(__pow(startX - endX, 2) + __pow(startY - endY, 2)));\n  const maxWidth = 2 * axisOuterRadius * maxColumnWidthRatio;\n  return Math.max(1, Math.min(maxWidth, colWidth));\n}\n\n// packages/ag-charts-community/src/scene/image.ts\nvar Image = class extends Node {\n  constructor(sourceImage) {\n    super();\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.height = 0;\n    this.opacity = 1;\n    this.sourceImage = sourceImage;\n  }\n  render(renderCtx) {\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats)\n        stats.nodesSkipped++;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    const image = this.sourceImage;\n    ctx.globalAlpha = this.opacity;\n    ctx.drawImage(image, 0, 0, image.width, image.height, this.x, this.y, this.width, this.height);\n    super.render(renderCtx);\n  }\n};\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Image.prototype, \"x\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Image.prototype, \"y\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Image.prototype, \"width\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Image.prototype, \"height\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Image.prototype, \"opacity\", 2);\n\n// packages/ag-charts-community/src/integrated-charts-scene.ts\nvar motion = __spreadValues(__spreadValues({}, fromToMotion_exports), resetMotion_exports);\n\n// packages/ag-charts-community/src/integrated-charts-theme.ts\nvar integrated_charts_theme_exports = {};\n__export(integrated_charts_theme_exports, {\n  CARTESIAN_AXIS_TYPE: () => CARTESIAN_AXIS_TYPE,\n  ChartTheme: () => ChartTheme,\n  DEFAULT_ANNOTATION_BACKGROUND_FILL: () => DEFAULT_ANNOTATION_BACKGROUND_FILL,\n  DEFAULT_ANNOTATION_HANDLE_FILL: () => DEFAULT_ANNOTATION_HANDLE_FILL,\n  DEFAULT_ANNOTATION_STROKE: () => DEFAULT_ANNOTATION_STROKE,\n  DEFAULT_AXIS_GRID_COLOUR: () => DEFAULT_AXIS_GRID_COLOUR,\n  DEFAULT_AXIS_LINE_COLOUR: () => DEFAULT_AXIS_LINE_COLOUR,\n  DEFAULT_BACKGROUND_COLOUR: () => DEFAULT_BACKGROUND_COLOUR,\n  DEFAULT_COLOURS: () => DEFAULT_COLOURS,\n  DEFAULT_CROSS_LINES_COLOUR: () => DEFAULT_CROSS_LINES_COLOUR,\n  DEFAULT_DIVERGING_SERIES_COLOUR_RANGE: () => DEFAULT_DIVERGING_SERIES_COLOUR_RANGE,\n  DEFAULT_FONT_FAMILY: () => DEFAULT_FONT_FAMILY,\n  DEFAULT_HIERARCHY_FILLS: () => DEFAULT_HIERARCHY_FILLS,\n  DEFAULT_HIERARCHY_STROKES: () => DEFAULT_HIERARCHY_STROKES,\n  DEFAULT_INSIDE_SERIES_LABEL_COLOUR: () => DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n  DEFAULT_INVERTED_LABEL_COLOUR: () => DEFAULT_INVERTED_LABEL_COLOUR,\n  DEFAULT_LABEL_COLOUR: () => DEFAULT_LABEL_COLOUR,\n  DEFAULT_MUTED_LABEL_COLOUR: () => DEFAULT_MUTED_LABEL_COLOUR,\n  DEFAULT_POLAR_SERIES_STROKE: () => DEFAULT_POLAR_SERIES_STROKE,\n  DEFAULT_SHADOW_COLOUR: () => DEFAULT_SHADOW_COLOUR,\n  DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE: () => DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n  DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS: () => DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n  DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS: () => DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n  DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS: () => DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n  EXTENDS_AXES_DEFAULTS: () => EXTENDS_AXES_DEFAULTS,\n  EXTENDS_AXES_GRID_LINE_DEFAULTS: () => EXTENDS_AXES_GRID_LINE_DEFAULTS,\n  EXTENDS_AXES_LINE_DEFAULTS: () => EXTENDS_AXES_LINE_DEFAULTS,\n  EXTENDS_AXES_TICK_DEFAULTS: () => EXTENDS_AXES_TICK_DEFAULTS,\n  EXTENDS_CARTESIAN_MARKER_DEFAULTS: () => EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n  EXTENDS_SERIES_DEFAULTS: () => EXTENDS_SERIES_DEFAULTS,\n  FONT_SIZE: () => FONT_SIZE,\n  FONT_WEIGHT: () => FONT_WEIGHT,\n  IS_DARK_THEME: () => IS_DARK_THEME,\n  POLAR_AXIS_SHAPE: () => POLAR_AXIS_SHAPE,\n  POLAR_AXIS_TYPE: () => POLAR_AXIS_TYPE,\n  POSITION: () => POSITION,\n  getChartTheme: () => getChartTheme,\n  markerPaletteFactory: () => markerPaletteFactory,\n  singleSeriesPaletteFactory: () => singleSeriesPaletteFactory,\n  themes: () => themes2\n});\nvar themes2 = mapValues(themes, (themeFactory) => themeFactory == null ? void 0 : themeFactory());\n\n// packages/ag-charts-community/src/sparklines-scale.ts\nvar sparklines_scale_exports = {};\n__export(sparklines_scale_exports, {\n  BandScale: () => BandScale,\n  ColorScale: () => ColorScale,\n  ContinuousScale: () => ContinuousScale,\n  Invalidating: () => Invalidating,\n  LinearScale: () => LinearScale,\n  OrdinalTimeScale: () => OrdinalTimeScale,\n  TimeScale: () => TimeScale\n});\n\n// packages/ag-charts-community/src/sparklines-util.ts\nvar sparklines_util_exports = {};\n__export(sparklines_util_exports, {\n  Color: () => Color,\n  Logger: () => Logger,\n  Padding: () => Padding,\n  angleBetween: () => angleBetween,\n  areArrayItemsStrictlyEqual: () => areArrayItemsStrictlyEqual,\n  areArrayNumbersEqual: () => areArrayNumbersEqual,\n  bifurcate: () => bifurcate,\n  checkDatum: () => checkDatum,\n  clamp: () => clamp,\n  clampArray: () => clampArray,\n  countFractionDigits: () => countFractionDigits,\n  createId: () => createId,\n  deepClone: () => deepClone,\n  displacePointFromVector: () => displacePointFromVector,\n  extent: () => extent,\n  findMinMax: () => findMinMax,\n  findRangeExtent: () => findRangeExtent,\n  isBetweenAngles: () => isBetweenAngles,\n  isContinuous: () => isContinuous,\n  isDate: () => isValidDate,\n  isDenseInterval: () => isDenseInterval,\n  isEqual: () => isEqual,\n  isNegative: () => isNegative,\n  isNumber: () => isFiniteNumber,\n  isNumberEqual: () => isEqual,\n  isNumberObject: () => isNumberObject,\n  isString: () => isString,\n  isStringObject: () => isStringObject,\n  jsonApply: () => jsonApply,\n  jsonDiff: () => jsonDiff,\n  jsonWalk: () => jsonWalk,\n  mod: () => mod,\n  normalisedExtent: () => normalisedExtent,\n  normalisedExtentWithMetadata: () => normalisedExtentWithMetadata,\n  normalizeAngle180: () => normalizeAngle180,\n  normalizeAngle360: () => normalizeAngle360,\n  normalizeAngle360Inclusive: () => normalizeAngle360Inclusive,\n  range: () => range,\n  resetIds: () => resetIds,\n  round: () => round,\n  sanitizeHtml: () => sanitizeHtml,\n  setAttribute: () => setAttribute,\n  shallowClone: () => shallowClone,\n  tickFormat: () => tickFormat,\n  tickStep: () => tickStep,\n  ticks: () => ticks_default,\n  toDegrees: () => toDegrees,\n  toFixed: () => toFixed,\n  toRadians: () => toRadians,\n  transformIntegratedCategoryValue: () => transformIntegratedCategoryValue,\n  zipObject: () => zipObject\n});\n\n// packages/ag-charts-community/src/util/zip.ts\nfunction zipObject(keys, values) {\n  const zipped = {};\n  if (Array.isArray(values)) {\n    for (let i = 0; i < keys.length; i++) {\n      zipped[`${keys[i]}`] = values[i];\n    }\n  } else {\n    for (let i = 0; i < keys.length; i++) {\n      zipped[`${keys[i]}`] = values;\n    }\n  }\n  return zipped;\n}\n\n// packages/ag-charts-community/src/module-support.ts\nvar module_support_exports = {};\n__export(module_support_exports, {\n  AND: () => AND,\n  ARRAY: () => ARRAY,\n  ARRAY_OF: () => ARRAY_OF,\n  AbstractBarSeries: () => AbstractBarSeries,\n  AbstractBarSeriesProperties: () => AbstractBarSeriesProperties,\n  ActionOnSet: () => ActionOnSet,\n  Animation: () => Animation,\n  AnimationManager: () => AnimationManager,\n  AreaSeriesTag: () => AreaSeriesTag,\n  Axis: () => Axis,\n  AxisLabel: () => AxisLabel,\n  AxisTick: () => AxisTick,\n  BOOLEAN: () => BOOLEAN,\n  BOOLEAN_ARRAY: () => BOOLEAN_ARRAY,\n  Background: () => Background,\n  BackgroundModule: () => BackgroundModule,\n  BaseModuleInstance: () => BaseModuleInstance,\n  BaseProperties: () => BaseProperties,\n  COLOR_STRING: () => COLOR_STRING,\n  COLOR_STRING_ARRAY: () => COLOR_STRING_ARRAY,\n  CartesianAxis: () => CartesianAxis,\n  CartesianSeries: () => CartesianSeries,\n  CartesianSeriesNodeEvent: () => CartesianSeriesNodeEvent,\n  CartesianSeriesProperties: () => CartesianSeriesProperties,\n  CategoryAxis: () => CategoryAxis,\n  CategoryAxisTick: () => CategoryAxisTick,\n  ChartAxisDirection: () => ChartAxisDirection,\n  ChartEventManager: () => ChartEventManager,\n  ChartOptions: () => ChartOptions,\n  ChartUpdateType: () => ChartUpdateType,\n  ContextMenuRegistry: () => ContextMenuRegistry,\n  CursorManager: () => CursorManager,\n  DATE: () => DATE,\n  DATE_ARRAY: () => DATE_ARRAY,\n  DATE_OR_DATETIME_MS: () => DATE_OR_DATETIME_MS,\n  DEFAULT_CARTESIAN_DIRECTION_KEYS: () => DEFAULT_CARTESIAN_DIRECTION_KEYS,\n  DEFAULT_CARTESIAN_DIRECTION_NAMES: () => DEFAULT_CARTESIAN_DIRECTION_NAMES,\n  DEFAULT_TOOLTIP_CLASS: () => DEFAULT_TOOLTIP_CLASS,\n  DEFAULT_TOOLTIP_DARK_CLASS: () => DEFAULT_TOOLTIP_DARK_CLASS,\n  DEGREE: () => DEGREE,\n  DIRECTION: () => DIRECTION,\n  DataController: () => DataController,\n  DataModel: () => DataModel,\n  DataModelSeries: () => DataModelSeries,\n  DataService: () => DataService,\n  Default: () => Default,\n  Deprecated: () => Deprecated,\n  DeprecatedAndRenamedTo: () => DeprecatedAndRenamedTo,\n  EMPTY_TOOLTIP_CONTENT: () => EMPTY_TOOLTIP_CONTENT,\n  FONT_STYLE: () => FONT_STYLE,\n  FONT_WEIGHT: () => FONT_WEIGHT2,\n  FUNCTION: () => FUNCTION,\n  GREATER_THAN: () => GREATER_THAN,\n  GestureDetector: () => GestureDetector,\n  GroupedCategoryAxis: () => GroupedCategoryAxis,\n  HierarchyNode: () => HierarchyNode,\n  HierarchySeries: () => HierarchySeries,\n  HierarchySeriesProperties: () => HierarchySeriesProperties,\n  HighlightManager: () => HighlightManager,\n  HighlightStyle: () => HighlightStyle,\n  INTERACTION_RANGE: () => INTERACTION_RANGE,\n  InteractionManager: () => InteractionManager,\n  InteractionState: () => InteractionState,\n  LABEL_PLACEMENT: () => LABEL_PLACEMENT,\n  LESS_THAN: () => LESS_THAN,\n  LINE_CAP: () => LINE_CAP,\n  LINE_DASH: () => LINE_DASH,\n  LINE_JOIN: () => LINE_JOIN,\n  Layers: () => Layers,\n  LayoutService: () => LayoutService,\n  LonLatBBox: () => LonLatBBox,\n  MARKER_SHAPE: () => MARKER_SHAPE,\n  MATCHING_CROSSLINE_TYPE: () => MATCHING_CROSSLINE_TYPE,\n  MAX_SPACING: () => MAX_SPACING,\n  MIN_SPACING: () => MIN_SPACING,\n  MercatorScale: () => MercatorScale,\n  Motion: () => easing_exports,\n  NAN: () => NAN,\n  NODE_UPDATE_STATE_TO_PHASE_MAPPING: () => NODE_UPDATE_STATE_TO_PHASE_MAPPING,\n  NUMBER: () => NUMBER,\n  NUMBER_ARRAY: () => NUMBER_ARRAY,\n  NUMBER_OR_NAN: () => NUMBER_OR_NAN,\n  Navigator: () => Navigator,\n  NavigatorModule: () => NavigatorModule,\n  OBJECT: () => OBJECT,\n  OBJECT_ARRAY: () => OBJECT_ARRAY,\n  OR: () => OR,\n  OVERFLOW_STRATEGY: () => OVERFLOW_STRATEGY,\n  ObserveChanges: () => ObserveChanges,\n  PHASE_METADATA: () => PHASE_METADATA,\n  PHASE_ORDER: () => PHASE_ORDER,\n  PLACEMENT: () => PLACEMENT,\n  PLAIN_OBJECT: () => PLAIN_OBJECT,\n  POINTER_INTERACTION_TYPES: () => POINTER_INTERACTION_TYPES,\n  POSITION: () => POSITION2,\n  POSITIVE_NUMBER: () => POSITIVE_NUMBER,\n  PolarAxis: () => PolarAxis,\n  PolarSeries: () => PolarSeries,\n  PropertiesArray: () => PropertiesArray,\n  ProxyOnWrite: () => ProxyOnWrite,\n  ProxyProperty: () => ProxyProperty,\n  ProxyPropertyOnWrite: () => ProxyPropertyOnWrite,\n  QUICK_TRANSITION: () => QUICK_TRANSITION,\n  RATIO: () => RATIO,\n  RepeatType: () => RepeatType,\n  SMALLEST_KEY_INTERVAL: () => SMALLEST_KEY_INTERVAL,\n  SORT_DOMAIN_GROUPS: () => SORT_DOMAIN_GROUPS,\n  STRING: () => STRING,\n  STRING_ARRAY: () => STRING_ARRAY,\n  Series: () => Series,\n  SeriesGroupingChangedEvent: () => SeriesGroupingChangedEvent,\n  SeriesItemHighlightStyle: () => SeriesItemHighlightStyle,\n  SeriesMarker: () => SeriesMarker,\n  SeriesNodeEvent: () => SeriesNodeEvent,\n  SeriesNodePickMode: () => SeriesNodePickMode,\n  SeriesProperties: () => SeriesProperties,\n  SeriesTooltip: () => SeriesTooltip,\n  StateMachine: () => StateMachine,\n  TEXT_ALIGN: () => TEXT_ALIGN,\n  TEXT_WRAP: () => TEXT_WRAP,\n  ToolbarManager: () => ToolbarManager,\n  Tooltip: () => Tooltip,\n  TooltipManager: () => TooltipManager,\n  TooltipPosition: () => TooltipPosition,\n  UNION: () => UNION,\n  UpdateService: () => UpdateService,\n  VERTICAL_ALIGN: () => VERTICAL_ALIGN,\n  Validate: () => Validate,\n  ZoomManager: () => ZoomManager,\n  __FORCE_MODULE_DETECTION: () => __FORCE_MODULE_DETECTION2,\n  accumulateGroup: () => accumulateGroup,\n  accumulatedValue: () => accumulatedValue,\n  accumulativeValueProperty: () => accumulativeValueProperty,\n  addHitTestersToQuadtree: () => addHitTestersToQuadtree,\n  adjustLabelPlacement: () => adjustLabelPlacement,\n  allInStringUnion: () => allInStringUnion,\n  animationValidation: () => animationValidation,\n  area: () => area,\n  arraysEqual: () => arraysEqual,\n  assignJsonApplyConstructedArray: () => assignJsonApplyConstructedArray,\n  backfillPathPointData: () => backfillPathPointData,\n  basicContinuousCheckDatumValidation: () => basicContinuousCheckDatumValidation,\n  bifurcate: () => bifurcate,\n  buildFormatter: () => buildFormatter,\n  buildResetPathFn: () => buildResetPathFn,\n  calculateDefaultTimeTickFormat: () => calculateDefaultTimeTickFormat,\n  calculatePlacement: () => calculatePlacement,\n  checkCrisp: () => checkCrisp,\n  childrenIter: () => childrenIter,\n  circularSliceArray: () => circularSliceArray,\n  clamp: () => clamp,\n  clampArray: () => clampArray,\n  collapsedStartingBarPosition: () => collapsedStartingBarPosition,\n  computeBarFocusBounds: () => computeBarFocusBounds,\n  computeMarkerFocusBounds: () => computeMarkerFocusBounds,\n  computeSectorFocusBounds: () => computeSectorFocusBounds,\n  convertValuesToScaleByDefs: () => convertValuesToScaleByDefs,\n  countFractionDigits: () => countFractionDigits,\n  createDatumId: () => createDatumId,\n  createDeprecationWarning: () => createDeprecationWarning,\n  createElement: () => createElement,\n  dateToNumber: () => dateToNumber,\n  deconstructSelectionsOrNodes: () => deconstructSelectionsOrNodes,\n  deepClone: () => deepClone,\n  deepMerge: () => deepMerge,\n  defaultTimeTickFormat: () => defaultTimeTickFormat,\n  determinePathStatus: () => determinePathStatus,\n  diff: () => diff,\n  downloadUrl: () => downloadUrl,\n  enterpriseModule: () => enterpriseModule,\n  extent: () => extent,\n  extractDecoratedProperties: () => extractDecoratedProperties,\n  findMinMax: () => findMinMax,\n  findQuadtreeMatch: () => findQuadtreeMatch,\n  findRangeExtent: () => findRangeExtent,\n  fixNumericExtent: () => fixNumericExtent,\n  fromToMotion: () => fromToMotion,\n  getDocument: () => getDocument,\n  getMissCount: () => getMissCount,\n  getPath: () => getPath,\n  getRectConfig: () => getRectConfig,\n  getWindow: () => getWindow,\n  groupAccumulativeValueProperty: () => groupAccumulativeValueProperty,\n  groupAverage: () => groupAverage,\n  groupBy: () => groupBy,\n  groupCount: () => groupCount,\n  groupSum: () => groupSum,\n  injectStyle: () => injectStyle,\n  isArray: () => isArray,\n  isBoolean: () => isBoolean,\n  isDate: () => isDate,\n  isDecoratedObject: () => isDecoratedObject,\n  isDefined: () => isDefined,\n  isEnumKey: () => isEnumKey,\n  isEnumValue: () => isEnumValue,\n  isEqual: () => isEqual,\n  isFiniteNumber: () => isFiniteNumber,\n  isFunction: () => isFunction,\n  isHtmlElement: () => isHtmlElement,\n  isNegative: () => isNegative,\n  isNumber: () => isNumber,\n  isObject: () => isObject,\n  isObjectLike: () => isObjectLike,\n  isPlainObject: () => isPlainObject,\n  isProperties: () => isProperties,\n  isRegExp: () => isRegExp,\n  isString: () => isString,\n  isSymbol: () => isSymbol,\n  isValidDate: () => isValidDate,\n  jsonApply: () => jsonApply,\n  jsonDiff: () => jsonDiff,\n  jsonWalk: () => jsonWalk,\n  keyProperty: () => keyProperty,\n  listDecoratedProperties: () => listDecoratedProperties,\n  mapIterable: () => mapIterable,\n  mapValues: () => mapValues,\n  markerFadeInAnimation: () => markerFadeInAnimation,\n  markerPaletteFactory: () => markerPaletteFactory,\n  markerScaleInAnimation: () => markerScaleInAnimation,\n  markerSwipeScaleInAnimation: () => markerSwipeScaleInAnimation,\n  mergeArrayDefaults: () => mergeArrayDefaults,\n  mergeDefaults: () => mergeDefaults,\n  midpointStartingBarPosition: () => midpointStartingBarPosition,\n  minMax: () => minMax,\n  mod: () => mod,\n  moduleRegistry: () => moduleRegistry,\n  normaliseGroupTo: () => normaliseGroupTo,\n  normalisePropertyTo: () => normalisePropertyTo,\n  normalisedExtent: () => normalisedExtent,\n  normalisedExtentWithMetadata: () => normalisedExtentWithMetadata,\n  pairCategoryData: () => pairCategoryData,\n  pairContinuousData: () => pairContinuousData,\n  partialAssign: () => partialAssign,\n  pathFadeInAnimation: () => pathFadeInAnimation,\n  pathFadeOutAnimation: () => pathFadeOutAnimation,\n  pathSwipeInAnimation: () => pathSwipeInAnimation,\n  pickByMatchingAngle: () => pickByMatchingAngle,\n  predicateWithMessage: () => predicateWithMessage,\n  prepareAreaPathAnimation: () => prepareAreaPathAnimation,\n  prepareAxisAnimationContext: () => prepareAxisAnimationContext,\n  prepareAxisAnimationFunctions: () => prepareAxisAnimationFunctions,\n  prepareBarAnimationFunctions: () => prepareBarAnimationFunctions,\n  prepareLinePathAnimation: () => prepareLinePathAnimation,\n  prepareLinePathAnimationFns: () => prepareLinePathAnimationFns,\n  prepareMarkerAnimation: () => prepareMarkerAnimation,\n  preparePieSeriesAnimationFunctions: () => preparePieSeriesAnimationFunctions,\n  range: () => range2,\n  rangedValueProperty: () => rangedValueProperty,\n  renderPartialPath: () => renderPartialPath,\n  resetAxisGroupFn: () => resetAxisGroupFn,\n  resetAxisLabelSelectionFn: () => resetAxisLabelSelectionFn,\n  resetAxisLineSelectionFn: () => resetAxisLineSelectionFn,\n  resetAxisSelectionFn: () => resetAxisSelectionFn,\n  resetBarSelectionsFn: () => resetBarSelectionsFn,\n  resetIds: () => resetIds,\n  resetLabelFn: () => resetLabelFn,\n  resetMarkerFn: () => resetMarkerFn,\n  resetMarkerPositionFn: () => resetMarkerPositionFn,\n  resetMotion: () => resetMotion,\n  resetPieSelectionsFn: () => resetPieSelectionsFn,\n  round: () => round,\n  seriesLabelFadeInAnimation: () => seriesLabelFadeInAnimation,\n  seriesLabelFadeOutAnimation: () => seriesLabelFadeOutAnimation,\n  setDocument: () => setDocument,\n  setPath: () => setPath,\n  setWindow: () => setWindow,\n  shallowClone: () => shallowClone,\n  singleSeriesPaletteFactory: () => singleSeriesPaletteFactory,\n  staticFromToMotion: () => staticFromToMotion,\n  stringify: () => stringify,\n  sum: () => sum,\n  sumValues: () => sumValues,\n  toArray: () => toArray,\n  toFixed: () => toFixed,\n  toTooltipHtml: () => toTooltipHtml,\n  trailingAccumulatedValue: () => trailingAccumulatedValue,\n  trailingAccumulatedValueProperty: () => trailingAccumulatedValueProperty,\n  unique: () => unique,\n  updateClipPath: () => updateClipPath,\n  updateLabelNode: () => updateLabelNode,\n  updateRect: () => updateRect,\n  validateCrossLineValues: () => validateCrossLineValues,\n  valueProperty: () => valueProperty,\n  without: () => without\n});\n\n// packages/ag-charts-community/src/chart/series/util.ts\nfunction convertValuesToScaleByDefs({\n  defs,\n  values,\n  xAxis,\n  yAxis\n}) {\n  if (!(xAxis && yAxis)) {\n    throw new Error(\"Axes must be defined\");\n  }\n  const result = {};\n  for (const [searchId, { def }] of defs) {\n    if (Object.hasOwn(values, searchId)) {\n      const { scale: scale2 } = def.type === \"key\" ? xAxis : yAxis;\n      result[searchId] = Math.round(scale2.convert(values[searchId]));\n    }\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/chart/series/hierarchy/hierarchySeries.ts\nvar _HierarchyNode = class _HierarchyNode {\n  constructor(series, index, datum, size, colorValue, fill, stroke, sumSize, depth, parent, children) {\n    this.series = series;\n    this.index = index;\n    this.datum = datum;\n    this.size = size;\n    this.colorValue = colorValue;\n    this.fill = fill;\n    this.stroke = stroke;\n    this.sumSize = sumSize;\n    this.depth = depth;\n    this.parent = parent;\n    this.children = children;\n    this.midPoint = { x: 0, y: 0 };\n  }\n  contains(other) {\n    let current = other;\n    while (current != null && current.index >= this.index) {\n      if (current === this) {\n        return true;\n      }\n      current = current.parent;\n    }\n    return false;\n  }\n  walk(callback, order = _HierarchyNode.Walk.PreOrder) {\n    if (order === _HierarchyNode.Walk.PreOrder) {\n      callback(this);\n    }\n    this.children.forEach((child) => {\n      child.walk(callback, order);\n    });\n    if (order === _HierarchyNode.Walk.PostOrder) {\n      callback(this);\n    }\n  }\n  *[Symbol.iterator]() {\n    yield this;\n    for (const child of this.children) {\n      yield* __yieldStar(child);\n    }\n  }\n};\n_HierarchyNode.Walk = {\n  PreOrder: 0,\n  PostOrder: 1\n};\nvar HierarchyNode = _HierarchyNode;\nvar HierarchySeries = class extends Series {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      contentGroupVirtual: false\n    });\n    this.rootNode = new HierarchyNode(\n      this,\n      0,\n      void 0,\n      0,\n      void 0,\n      void 0,\n      void 0,\n      0,\n      void 0,\n      void 0,\n      []\n    );\n    this.colorDomain = [0, 0];\n    this.maxDepth = 0;\n    this.animationState = new StateMachine(\n      \"empty\",\n      {\n        empty: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateEmptyUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        ready: {\n          updateData: \"waiting\",\n          clear: \"clearing\",\n          highlight: (data) => this.animateReadyHighlight(data),\n          resize: (data) => this.animateReadyResize(data),\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        waiting: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateWaitingUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        clearing: {\n          update: {\n            target: \"empty\",\n            action: (data) => this.animateClearingUpdateEmpty(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        }\n      },\n      () => this.checkProcessedDataAnimatable()\n    );\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    }\n  }\n  processData() {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const { childrenKey, sizeKey, colorKey, fills, strokes, colorRange } = this.properties;\n      let index = 0;\n      const getIndex = () => {\n        index += 1;\n        return index;\n      };\n      let maxDepth = 0;\n      let minColor = Infinity;\n      let maxColor = -Infinity;\n      const colors = new Array(((_b = (_a = this.data) == null ? void 0 : _a.length) != null ? _b : 0) + 1).fill(void 0);\n      const createNode = (datum, parent) => {\n        const nodeIndex = getIndex();\n        const depth = parent.depth != null ? parent.depth + 1 : 0;\n        const children = childrenKey != null ? datum[childrenKey] : void 0;\n        const isLeaf = children == null || children.length === 0;\n        let size = sizeKey != null ? datum[sizeKey] : void 0;\n        if (Number.isFinite(size)) {\n          size = Math.max(size, 0);\n        } else {\n          size = isLeaf ? 1 : 0;\n        }\n        const sumSize = size;\n        maxDepth = Math.max(maxDepth, depth);\n        const color = colorKey != null ? datum[colorKey] : void 0;\n        if (typeof color === \"number\") {\n          colors[nodeIndex] = color;\n          minColor = Math.min(minColor, color);\n          maxColor = Math.max(maxColor, color);\n        }\n        return appendChildren(\n          new HierarchyNode(\n            this,\n            nodeIndex,\n            datum,\n            size,\n            color,\n            void 0,\n            void 0,\n            sumSize,\n            depth,\n            parent,\n            []\n          ),\n          children\n        );\n      };\n      const appendChildren = (node, data) => {\n        data == null ? void 0 : data.forEach((datum) => {\n          const child = createNode(datum, node);\n          node.children.push(child);\n          node.sumSize += child.sumSize;\n        });\n        return node;\n      };\n      const rootNode = appendChildren(\n        new HierarchyNode(\n          this,\n          0,\n          void 0,\n          0,\n          void 0,\n          void 0,\n          void 0,\n          0,\n          void 0,\n          void 0,\n          []\n        ),\n        this.data\n      );\n      const colorDomain = [minColor, maxColor];\n      let colorScale;\n      if (colorRange != null && Number.isFinite(minColor) && Number.isFinite(maxColor)) {\n        colorScale = new ColorScale();\n        colorScale.domain = colorDomain;\n        colorScale.range = colorRange;\n        colorScale.update();\n      }\n      rootNode.children.forEach((child, childIndex) => {\n        child.walk((node) => {\n          let fill;\n          const color = colors[node.index];\n          if (color != null) {\n            fill = colorScale == null ? void 0 : colorScale.convert(color);\n          }\n          fill != null ? fill : fill = fills == null ? void 0 : fills[childIndex % fills.length];\n          node.fill = fill;\n          node.stroke = colorScale == null ? strokes == null ? void 0 : strokes[childIndex % strokes.length] : \"rgba(0, 0, 0, 0.2)\";\n        });\n      });\n      this.rootNode = rootNode;\n      this.maxDepth = maxDepth;\n      this.colorDomain = colorDomain;\n    });\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      yield this.updateSelections();\n      yield this.updateNodes();\n      const animationData = this.getAnimationData();\n      const resize = this.checkResize(seriesRect);\n      if (resize) {\n        this.animationState.transition(\"resize\", animationData);\n      }\n      this.animationState.transition(\"update\", animationData);\n    });\n  }\n  resetAllAnimation(data) {\n    var _a;\n    const datum = (_a = this.animationResetFns) == null ? void 0 : _a.datum;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (datum != null) {\n      resetMotion(data.datumSelections, datum);\n    }\n  }\n  animateEmptyUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateWaitingUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateReadyHighlight(data) {\n    var _a;\n    const datum = (_a = this.animationResetFns) == null ? void 0 : _a.datum;\n    if (datum != null) {\n      resetMotion([data], datum);\n    }\n  }\n  animateReadyResize(data) {\n    this.resetAllAnimation(data);\n  }\n  animateClearingUpdateEmpty(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animationTransitionClear() {\n    this.animationState.transition(\"clear\", this.getAnimationData());\n  }\n  getAnimationData() {\n    const animationData = {\n      datumSelections: [this.groupSelection]\n    };\n    return animationData;\n  }\n  isProcessedDataAnimatable() {\n    return true;\n  }\n  checkProcessedDataAnimatable() {\n    if (!this.isProcessedDataAnimatable()) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  getLabelData() {\n    return [];\n  }\n  getSeriesDomain() {\n    return [NaN, NaN];\n  }\n  getLegendData(legendType) {\n    const { colorKey, colorName, colorRange, visible } = this.properties;\n    return legendType === \"gradient\" && colorKey != null && colorRange != null ? [\n      {\n        legendType: \"gradient\",\n        enabled: visible,\n        seriesId: this.id,\n        colorName,\n        colorRange,\n        colorDomain: this.colorDomain\n      }\n    ] : [];\n  }\n  getDatumIdFromData(node) {\n    return `${node.index}`;\n  }\n  getDatumId(node) {\n    return this.getDatumIdFromData(node);\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/hierarchy/hierarchySeriesProperties.ts\nvar HierarchySeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.childrenKey = \"children\";\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], HierarchySeriesProperties.prototype, \"childrenKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HierarchySeriesProperties.prototype, \"sizeKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HierarchySeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HierarchySeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], HierarchySeriesProperties.prototype, \"fills\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], HierarchySeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY, { optional: true })\n], HierarchySeriesProperties.prototype, \"colorRange\", 2);\n\n// packages/ag-charts-community/src/chart/series/topology/lonLatBbox.ts\nvar LonLatBBox = class {\n  constructor(lon0, lat0, lon1, lat1) {\n    this.lon0 = lon0;\n    this.lat0 = lat0;\n    this.lon1 = lon1;\n    this.lat1 = lat1;\n  }\n  merge(other) {\n    this.lon0 = Math.min(this.lon0, other.lon0);\n    this.lat0 = Math.min(this.lat0, other.lat0);\n    this.lon1 = Math.max(this.lon1, other.lon1);\n    this.lat1 = Math.max(this.lat1, other.lat1);\n  }\n};\n\n// packages/ag-charts-community/src/chart/legendDatum.ts\nvar __FORCE_MODULE_DETECTION2 = 0;\nexport {\n  AgChart,\n  AgCharts,\n  AgErrorBarSupportedSeriesTypes,\n  AgTooltipPositionType,\n  Marker,\n  VERSION,\n  module_support_exports as _ModuleSupport,\n  sparklines_scale_exports as _Scale,\n  integrated_charts_scene_exports as _Scene,\n  integrated_charts_theme_exports as _Theme,\n  sparklines_util_exports as _Util,\n  __FORCE_MODULE_DETECTION,\n  time_exports as time\n};\n"],"mappings":"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C,MAAM;IAC3C9U,OAAO,CAAClvC,YAAY,CAACqhD,UAAU,EAAE,CAAC,EAAE,CAAC,EAAEA,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC;IACxD,IAAI,CAACxB,aAAa,CAAC9sD,KAAK,CAAC,CAAC;IAC1B,IAAI,CAACssF,OAAO,CAAC,IAAI,CAAC;IAClB,IAAI,CAACvxD,OAAO,GAAG,KAAK;EACtB;EACAjyB,OAAOA,CAAA,EAAG;IACR,IAAI,CAACmoD,MAAM,CAAC55B,SAAS,GAAG,KAAK,CAAC;IAC9B,IAAI,CAAC21D,KAAK,CAAC,CAAC;IACZ,IAAI,CAAC/7B,MAAM,CAACnoD,OAAO,CAAC,CAAC;IACrBpQ,MAAM,CAAC2I,MAAM,CAAC,IAAI,EAAE;MAAE4vD,MAAM,EAAE,KAAK;IAAE,CAAC,CAAC;EACzC;AACF,CAAC;AACDi7B,KAAK,CAAC92E,SAAS,GAAG,OAAO;;AAEzB;AACA,IAAI63E,aAAa,GAAG;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,IAAIC,aAAa,GAAG;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,IAAIC,qBAAqB,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,IAAIC,0BAA0B,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA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AQ,CAAC,gBAAgB,EAAE;MAAE7nF,IAAI,EAAE,gBAAgB;MAAEqkD,KAAK,EAAE4R,MAAM;MAAEnlE,KAAK;MAAEmkB;IAAQ,CAAC,CAAC;EACtG;EACAylF,iBAAiBA,CAACzkC,MAAM,EAAEj/D,OAAO,EAAE;IACjC,IAAI,CAAC4gB,SAAS,CAACiwE,QAAQ,CAAC,qBAAqB,EAAE;MAAE7nF,IAAI,EAAE,qBAAqB;MAAEqkD,KAAK,EAAE4R,MAAM;MAAEj/D;IAAQ,CAAC,CAAC;EACzG;AACF,CAAC;;AAED;AACA,IAAI2jG,iBAAiB,GAAG;AACxB,GAAG/2B,qBAAqB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,IAAIg3B,cAAc,GAAG,MAAM;EACzBjiG,WAAWA,CAAC82D,aAAa,EAAE74C,OAAO,EAAE;IAClC,IAAI,CAAC64C,aAAa,GAAGA,aAAa;IAClC,IAAI,CAAC74C,OAAO,GAAGA,OAAO;IACtB,IAAI,CAAC48E,YAAY,GAAG,IAAIL,YAAY,CAAC,CAAC;IACtC,IAAI,CAAC0H,YAAY,GAAG,IAAI;IACxB,IAAI,OAAOC,oBAAoB,KAAK,WAAW,EAAE;MAC/C,MAAMC,QAAQ,GAAG,IAAID,oBAAoB,CACtCh0F,OAAO,IAAK;QACX,KAAK,MAAMu4D,KAAK,IAAIv4D,OAAO,EAAE;UAC3B,IAAIu4D,KAAK,CAAC1tE,MAAM,KAAK,IAAI,CAAC89D,aAAa,IAAI4P,KAAK,CAAC27B,iBAAiB,KAAK,CAAC,EAAE;YACxE,IAAI,CAACpkF,OAAO,CAAC8uD,MAAM,CAAC,KAAK,CAAC;UAC5B;QACF;MACF,CAAC,EACD;QAAER,IAAI,EAAE,IAAI,CAACtuD,OAAO,CAACsuD;MAAK,CAC5B,CAAC;MACD61B,QAAQ,CAACzU,OAAO,CAAC,IAAI,CAAC72B,aAAa,CAAC;MACpC,IAAI,CAACsrC,QAAQ,GAAGA,QAAQ;IAC1B;IACA34E,WAAW,CAACu4E,iBAAiB,EAAE,SAAS,CAAC;EAC3C;EACApyB,aAAaA,CAACmrB,QAAQ,EAAEnuB,IAAI,EAAErM,OAAO,EAAE;IACrC,IAAIz/D,EAAE;IACN,IAAI,CAAC,IAAI,CAACmd,OAAO,CAAC3B,OAAO,EACvB;IACFikD,OAAO,IAAI,IAAI,GAAGA,OAAO,GAAGA,OAAO,GAAG,CAACz/D,EAAE,GAAG,IAAI,CAAC+5F,YAAY,CAACtjG,GAAG,CAACwjG,QAAQ,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGj6F,EAAE,CAACy/D,OAAO;IAC1G,IAAI,CAACs6B,YAAY,CAACp9F,GAAG,CAACs9F,QAAQ,EAAE;MAAEx6B,OAAO;MAAEqM;IAAK,CAAC,CAAC;IAClD,IAAI,CAAC01B,WAAW,CAAC,CAAC;EACpB;EACAryB,aAAaA,CAAC8qB,QAAQ,EAAE;IACtB,IAAI,CAAC,IAAI,CAAC98E,OAAO,CAAC3B,OAAO,EACvB;IACF,IAAI,CAACu+E,YAAY,CAAC1nF,MAAM,CAAC4nF,QAAQ,CAAC;IAClC,IAAI,CAACuH,WAAW,CAAC,CAAC;EACpB;EACAC,cAAcA,CAACxH,QAAQ,EAAE;IACvB,IAAIj6F,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAAC+5F,YAAY,CAACtjG,GAAG,CAACwjG,QAAQ,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGj6F,EAAE,CAAC8rE,IAAI;EAC1E;EACApmE,OAAOA,CAAA,EAAG;IACR,IAAI1F,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACshG,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGthG,EAAE,CAACotF,SAAS,CAAC,IAAI,CAACp3B,aAAa,CAAC;EAC1E;EACAwrC,WAAWA,CAAA,EAAG;IACZ,IAAIxhG,EAAE;IACN,MAAMg8B,EAAE,GAAG,IAAI,CAAC+9D,YAAY,CAACH,OAAO,CAAC,CAAC;IACtC,MAAM16B,KAAK,GAAGljC,EAAE,GAAG,IAAI,CAAC+9D,YAAY,CAACtjG,GAAG,CAACulC,EAAE,CAAC,GAAG,IAAI;IACnD,IAAI,CAACkjC,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC4M,IAAI,KAAK,IAAI,IAAI,CAAC5M,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACO,OAAO,KAAK,IAAI,EAAE;MACrG,IAAI,CAAC2hC,YAAY,GAAG,IAAI;MACxB,IAAI,CAACjkF,OAAO,CAAC8uD,MAAM,CAAC,KAAK,CAAC;MAC1B;IACF;IACA,MAAMJ,UAAU,GAAG,IAAI,CAAC7V,aAAa,CAACigC,qBAAqB,CAAC,CAAC;IAC7D,IAAI,CAAC,CAACj2F,EAAE,GAAG,IAAI,CAACohG,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGphG,EAAE,CAACy/D,OAAO,OAAOP,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACO,OAAO,CAAC,EAAE;MACzG,MAAMiiC,eAAe,GAAG,IAAI,CAACvkF,OAAO,CAACuuD,SAAS,CAAC,CAAC;MAChD,IAAI,CAACvuD,OAAO,CAACyuD,IAAI,CAACC,UAAU,EAAE3M,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC4M,IAAI,EAAE,IAAI,EAAE41B,eAAe,CAAC;IAC3F,CAAC,MAAM;MACL,IAAI,CAACvkF,OAAO,CAACyuD,IAAI,CAACC,UAAU,EAAE3M,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC4M,IAAI,EAAE5M,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACO,OAAO,CAAC;IAC5G;IACA,IAAI,CAAC2hC,YAAY,GAAGliC,KAAK;EAC3B;EACA,OAAOyiC,eAAeA,CAACviC,KAAK,EAAExiC,KAAK,EAAE;IACnC,IAAI58B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE,EAAEkkB,EAAE,EAAEC,EAAE;IAC9B,MAAM;MAAEg9B,OAAO;MAAEjc;IAAQ,CAAC,GAAGuN,KAAK;IAClC,MAAM;MAAEjiD;IAAQ,CAAC,GAAGyf,KAAK,CAACpsB,MAAM,CAACuB,UAAU;IAC3C,MAAM+5D,IAAI,GAAG;MACXgC,OAAO;MACPjc,OAAO;MACPsZ,iBAAiB,EAAE,CAAC76D,EAAE,GAAG,CAACtQ,EAAE,GAAGmd,OAAO,CAACykF,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG5hG,EAAE,CAACwb,OAAO,KAAK,IAAI,GAAGlL,EAAE,GAAG,KAAK;MACvG0+D,gBAAgB,EAAE;QAAEzoE,IAAI,EAAE64D,KAAK,CAAC74D,IAAI;QAAEunE,OAAO;QAAEjc;MAAQ,CAAC;MACxD8a,SAAS,EAAExvD,OAAO,CAACwvD,SAAS;MAC5BzuD,QAAQ,EAAE;QACR3X,IAAI,EAAE4W,OAAO,CAACe,QAAQ,CAAC3X,IAAI;QAC3B2pB,OAAO,EAAE/S,OAAO,CAACe,QAAQ,CAACgS,OAAO;QACjCC,OAAO,EAAEhT,OAAO,CAACe,QAAQ,CAACiS;MAC5B;IACF,CAAC;IACD,MAAM0xE,QAAQ,GAAG,CAAC/wD,EAAE,GAAG,CAAC5/B,EAAE,GAAG,CAACX,EAAE,GAAGqsB,KAAK,CAACklE,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvxF,EAAE,CAACwxF,UAAU,KAAK,IAAI,GAAG7wF,EAAE,GAAG0rB,KAAK,CAAColE,QAAQ,KAAK,IAAI,GAAGlxD,EAAE,GAAG,CAACD,EAAE,GAAG,CAAClkB,EAAE,GAAGiQ,KAAK,CAACpsB,MAAM,EAAEyxF,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGpxD,EAAE,CAACh5C,IAAI,CAAC80B,EAAE,EAAEiQ,KAAK,CAAC;IAC7M,IAAIzf,OAAO,CAACe,QAAQ,CAAC3X,IAAI,KAAK,MAAM,IAAIs7F,QAAQ,EAAE;MAChD,MAAM;QAAEjoG,CAAC;QAAE85B;MAAE,CAAC,GAAGmuE,QAAQ;MACzB,MAAMvwC,KAAK,GAAG10B,KAAK,CAACpsB,MAAM,CAAC0xF,YAAY,CAAChkE,qBAAqB,CAACtkC,CAAC,EAAE85B,CAAC,CAAC;MACnE,OAAO57B,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEq0E,IAAI,CAAC,EAAE;QAC7CgC,OAAO,EAAE92E,IAAI,CAAC8J,KAAK,CAACwwD,KAAK,CAAC13D,CAAC,CAAC;QAC5Bi4D,OAAO,EAAE76D,IAAI,CAAC8J,KAAK,CAACwwD,KAAK,CAAC59B,CAAC;MAC7B,CAAC,CAAC;IACJ;IACA,OAAOo4C,IAAI;EACb;AACF,CAAC;;AAED;AACA,IAAIq2B,aAAa,GAAG,cAAcrU,SAAS,CAAC;EAC1C5uF,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC4kD,cAAc,GAAG,iBAAiB;EACzC;EACA1zB,WAAWA,CAACsc,SAAS,EAAEgD,OAAO,EAAE;IAC9B,IAAI,IAAI,CAACqU,aAAa,CAACrX,SAAS,CAAC,IAAI,IAAI,CAACsX,gBAAgB,CAACtX,SAAS,CAAC,EAAE;MACrE,OAAO,KAAK,CAACtc,WAAW,CAACsc,SAAS,EAAEgD,OAAO,CAAC;IAC9C;IACA,MAAM,IAAI7mF,KAAK,CAAC,0CAA0C6jF,SAAS,EAAE,CAAC;EACxE;EACAuX,qBAAqBA,CAACC,KAAK,EAAE9oE,GAAG,EAAE;IAChC,IAAI,IAAI,CAAC2oE,aAAa,CAACG,KAAK,CAAC,EAAE;MAC7B,OAAO,IAAI,CAACnU,kBAAkB,CAACmU,KAAK,CAAC,CAAC73F,MAAM,CAAC,CAAClS,MAAM,EAAEwyF,QAAQ,KAAK;QACjE,IAAI;UACF,OAAOA,QAAQ,CAAC+C,OAAO,CAACv1F,MAAM,CAAC;QACjC,CAAC,CAAC,OAAOgB,CAAC,EAAE;UACV8E,MAAM,CAACS,SAAS,CAACvF,CAAC,CAAC;UACnB,OAAOhB,MAAM;QACf;MACF,CAAC,EAAEihC,GAAG,CAAC;IACT;IACA,OAAOA,GAAG;EACZ;EACA+oE,sBAAsBA,CAACrjC,KAAK,EAAE;IAC5B,IAAI,CAACgvB,QAAQ,CAAC,IAAI,CAACgU,cAAc,EAAEhjC,KAAK,CAAC;EAC3C;EACAijC,aAAaA,CAACrX,SAAS,EAAE;IACvB,OAAOA,SAAS,KAAK,IAAI,CAACoX,cAAc;EAC1C;EACAE,gBAAgBA,CAACtX,SAAS,EAAE;IAC1B,OAAOA,SAAS,KAAK,IAAI,CAACoX,cAAc;EAC1C;AACF,CAAC;;AAED;AACA,IAAIM,kBAAkB,GAAG,MAAM;EAC7BxjG,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACq9B,MAAM,GAAG,CAAC,CAAC;EAClB;EACAomE,cAAcA,CAAC;IACb3mE,EAAE;IACFtM,cAAc;IACd5S,OAAO;IACPvW;EACF,CAAC,EAAE;IACD,IAAIvG,EAAE,EAAEsQ,EAAE;IACV,IAAI,CAACof,cAAc,EACjB;IACF,CAACpf,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACu8B,MAAM,EAAEh2B,IAAI,CAAC,KAAK,IAAI,GAAG+J,EAAE,GAAGtQ,EAAE,CAACuG,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5D,IAAI,CAACg2B,MAAM,CAACh2B,IAAI,CAAC,CAACy1B,EAAE,CAAC,GAAG;MAAE4mE,QAAQ,EAAElzE,cAAc;MAAE5S;IAAQ,CAAC;EAC/D;EACA+lF,gBAAgBA,CAAC;IAAE7mE,EAAE;IAAEz1B;EAAK,CAAC,EAAE;IAC7B,IAAI,IAAI,CAACg2B,MAAM,CAACh2B,IAAI,CAAC,EAAE;MACrB,OAAO,IAAI,CAACg2B,MAAM,CAACh2B,IAAI,CAAC,CAACy1B,EAAE,CAAC;IAC9B;IACA,IAAI,IAAI,CAACO,MAAM,CAACh2B,IAAI,CAAC,IAAIjR,MAAM,CAAC4S,IAAI,CAAC,IAAI,CAACq0B,MAAM,CAACh2B,IAAI,CAAC,CAAC,CAAC5N,MAAM,KAAK,CAAC,EAAE;MACpE,OAAO,IAAI,CAAC4jC,MAAM,CAACh2B,IAAI,CAAC;IAC1B;EACF;EACAu8F,wBAAwBA,CAAC;IACvBv8F,IAAI;IACJmpB,cAAc;IACd5S;EACF,CAAC,EAAE;IACD,IAAI9c,EAAE;IACN,IAAI,CAAC0vB,cAAc,EACjB,OAAO;MAAEqzE,iBAAiB,EAAEjmF,OAAO,GAAG,CAAC,GAAG,CAAC;MAAEkmF,qBAAqB,EAAElmF,OAAO,GAAG,CAAC,GAAG,CAAC;MAAEnW,KAAK,EAAE;IAAE,CAAC;IACjG,MAAMs8F,gBAAgB,GAAG,eAAgB,IAAIl9F,GAAG,CAAC,CAAC;IAClD,MAAMm9F,mBAAmB,GAAG,eAAgB,IAAIn9F,GAAG,CAAC,CAAC;IACrD,KAAK,MAAM6/D,KAAK,IAAItwE,MAAM,CAACiX,MAAM,CAAC,CAACvM,EAAE,GAAG,IAAI,CAACu8B,MAAM,CAACh2B,IAAI,CAAC,KAAK,IAAI,GAAGvG,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE;MAC7E,IAAI,CAAC4lE,KAAK,CAAC9oD,OAAO,EAChB;MACFmmF,gBAAgB,CAAC57F,GAAG,CAACu+D,KAAK,CAACg9B,QAAQ,CAACpzE,UAAU,CAAC;MAC/C,IAAIo2C,KAAK,CAACg9B,QAAQ,CAACpzE,UAAU,KAAKE,cAAc,CAACF,UAAU,EAAE;QAC3D0zE,mBAAmB,CAAC77F,GAAG,CAACu+D,KAAK,CAACg9B,QAAQ,CAACnzE,UAAU,CAAC;MACpD;IACF;IACA,MAAM0zE,aAAa,GAAG74F,KAAK,CAACC,IAAI,CAAC04F,gBAAgB,CAAC;IAClDE,aAAa,CAAC39C,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;IACnC,OAAO;MACLorG,iBAAiB,EAAEI,aAAa,CAACxqG,MAAM;MACvCqqG,qBAAqB,EAAEE,mBAAmB,CAAC5lF,IAAI;MAC/C3W,KAAK,EAAEw8F,aAAa,CAAChrG,OAAO,CAACu3B,cAAc,CAACF,UAAU;IACxD,CAAC;EACH;AACF,CAAC;;AAED;AACA,IAAI4zE,eAAe,GAAG,eAAgB,CAAEC,gBAAgB,IAAK;EAC3DA,gBAAgB,CAACA,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM;EACvDA,gBAAgB,CAACA,gBAAgB,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,GAAG,aAAa;EACrEA,gBAAgB,CAACA,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,GAAG,cAAc;EACvEA,gBAAgB,CAACA,gBAAgB,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,GAAG,gBAAgB;EAC3EA,gBAAgB,CAACA,gBAAgB,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,GAAG,eAAe;EACzEA,gBAAgB,CAACA,gBAAgB,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC,GAAG,uBAAuB;EACzFA,gBAAgB,CAACA,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,GAAG,cAAc;EACvEA,gBAAgB,CAACA,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM;EACvD,OAAOA,gBAAgB;AACzB,CAAC,EAAED,eAAe,IAAI,CAAC,CAAC,CAAC;;AAEzB;AACA,IAAIE,aAAa,GAAG,cAAcxV,SAAS,CAAC;EAC1C5uF,WAAWA,CAACkwF,cAAc,EAAE;IAC1B,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,cAAc,GAAGA,cAAc;EACtC;EACAv/C,MAAMA,CAACtpC,IAAI,GAAG,CAAC,CAAC,YAAYhJ,OAAO,EAAE;IACnC,IAAI,CAAC6xF,cAAc,CAAC7oF,IAAI,EAAEhJ,OAAO,CAAC;EACpC;EACAgmG,sBAAsBA,CAACC,KAAK,EAAE;IAC5B,IAAI,CAACpV,QAAQ,CAAC,iBAAiB,EAAE;MAC/B7nF,IAAI,EAAE,iBAAiB;MACvBitE,OAAO,EAAEgwB,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAChwB,OAAO;MAC/CiwB,cAAc,EAAED,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACC;IACjD,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AACA,IAAIC,YAAY,GAAG,MAAM;EACvBxkG,WAAWA,CAACm0E,KAAK,EAAEswB,IAAI,EAAE;IACvB,MAAM;MAAEC,KAAK;MAAEC,WAAW;MAAEr4B,OAAO,EAAEzjD,QAAQ;MAAEqnE,cAAc;MAAE0U;IAAY,CAAC,GAAGH,IAAI;IACnF,IAAI,CAACI,YAAY,GAAG1wB,KAAK;IACzB,IAAI,CAACuwB,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACG,WAAW,GAAG3wB,KAAK,CAAC2wB,WAAW;IACpC,IAAI,CAACC,iBAAiB,GAAG,IAAIvW,iBAAiB,CAACra,KAAK,CAACsa,cAAc,CAAC;IACpE,IAAI,CAACuW,uBAAuB,GAAG,IAAI7L,uBAAuB,CAACuL,KAAK,CAAC/1C,MAAM,CAAC2d,OAAO,CAAC;IAChF,IAAI,CAAC6J,iBAAiB,GAAG,IAAIsjB,iBAAiB,CAAC,CAAC;IAChD,IAAI,CAACwL,mBAAmB,GAAG,IAAIlL,mBAAmB,CAAC,CAAC;IACpD,IAAI,CAACmL,aAAa,GAAG,IAAItK,aAAa,CAAC/xE,QAAQ,CAAC;IAChD,IAAI,CAACs8E,gBAAgB,GAAG,IAAIvI,gBAAgB,CAAC,CAAC;IAC9C,IAAI,CAAClF,kBAAkB,GAAG,IAAIJ,kBAAkB,CAACnjB,KAAK,CAACx1D,QAAQ,EAAEkK,QAAQ,CAAC;IAC1E,IAAI,CAACk2E,aAAa,GAAG,IAAItB,aAAa,CAAC,IAAI,CAAC/F,kBAAkB,CAAC;IAC/D,IAAI,CAACzoB,aAAa,GAAG,IAAI6vB,aAAa,CACpC,IAAI,CAACpH,kBAAkB,EACvB,IAAI,CAACqH,aAAa,EAClB,IAAI,CAAC2F,KAAK,CAAC/1C,MAAM,CAAC2d,OAAO,EACzBzjD,QACF,CAAC;IACD,IAAI,CAACu8E,cAAc,GAAG,IAAI1D,cAAc,CAAC74E,QAAQ,CAAC;IAClD,IAAI,CAACw8E,eAAe,GAAG,IAAI/J,eAAe,CAACzyE,QAAQ,CAAC;IACpD,IAAI,CAACqrD,aAAa,GAAG,IAAI+uB,aAAa,CAAC,CAAC;IACxC,IAAI,CAAC5uB,aAAa,GAAG,IAAI+vB,aAAa,CAAClU,cAAc,CAAC;IACtD,IAAI,CAACoV,kBAAkB,GAAG,IAAI9B,kBAAkB,CAAC,CAAC;IAClD,IAAI,CAACprB,aAAa,GAAG,IAAI+V,aAAa,CAAC,CAAC;IACxC,IAAI,CAACx6C,gBAAgB,GAAG,IAAI8jD,gBAAgB,CAAC,IAAI,CAACC,kBAAkB,EAAEkN,WAAW,CAAC;IAClF,IAAI,CAACjxD,gBAAgB,CAAC7/B,IAAI,CAAC,CAAC;IAC5B,IAAI,CAAC6/B,gBAAgB,CAACf,IAAI,CAAC,CAAC;IAC5B,IAAI,CAAC2yD,WAAW,GAAG,IAAIjW,WAAW,CAAC,IAAI,CAAC37C,gBAAgB,CAAC;IACzD,IAAI,CAACk8B,cAAc,GAAG,IAAIoyB,cAAc,CAAC,IAAI,CAACyC,KAAK,CAAC/1C,MAAM,CAAC2d,OAAO,EAAE6H,KAAK,CAACl2D,OAAO,CAAC;EACpF;EACAzX,OAAOA,CAAA,EAAG;IACR,IAAI,CAACqpE,cAAc,CAACrpE,OAAO,CAAC,CAAC;IAC7B,IAAI,CAACyoE,aAAa,CAACzoE,OAAO,CAAC,CAAC;IAC5B,IAAI,CAACu4F,aAAa,CAACv4F,OAAO,CAAC,CAAC;IAC5B,IAAI,CAACkxF,kBAAkB,CAAClxF,OAAO,CAAC,CAAC;IACjC,IAAI,CAACmtC,gBAAgB,CAAC/yC,IAAI,CAAC,CAAC;IAC5B,IAAI,CAAC+yC,gBAAgB,CAACntC,OAAO,CAAC,CAAC;IAC/B,IAAI,CAACw+F,uBAAuB,CAACx+F,OAAO,CAAC,CAAC;IACtC,IAAI,CAAC2vE,iBAAiB,CAAC3vE,OAAO,CAAC,CAAC;IAChC,IAAI,CAAC2+F,gBAAgB,CAAC3+F,OAAO,CAAC,CAAC;IAC/B,IAAI,CAAC4xE,aAAa,CAACmW,eAAe,CAAC,CAAC;IACpC,IAAI,CAAC56C,gBAAgB,CAACzgC,KAAK,CAAC,CAAC;IAC7B,IAAI,CAACyxF,WAAW,CAACn+F,OAAO,CAAC,CAAC;EAC5B;AACF,CAAC;;AAED;AACA,IAAIg/F,cAAc,GAAG,cAAc5yF,cAAc,CAAC;EAChD5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC59C,KAAK,GAAG,SAAS;EACxB;AACF,CAAC;AACDtH,eAAe,CAAC,CACdugD,QAAQ,CAACiD,KAAK,CAAC,CAAC,SAAS,EAAE,MAAM,CAAC,EAAE,SAAS,CAAC,CAAC,CAChD,EAAE4oD,cAAc,CAACvuG,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;;AAExC;AACA,IAAIwuG,cAAc,GAAG,MAAMC,eAAe,CAAC;EACzC1lG,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACk4C,MAAM,GAAG,eAAgB,IAAIrxC,GAAG,CAAC,CAAC;EACzC;EACA,OAAO+sB,EAAEA,CAACz7B,KAAK,EAAE;IACf,OAAOA,KAAK,YAAYutG,eAAe;EACzC;EACA7kG,MAAMA,CAACgL,GAAG,EAAE;IACV,IAAI,CAACqsC,MAAM,CAAC/vC,GAAG,CAAC0D,GAAG,CAAC;EACtB;EACA0zC,SAASA,CAAA,EAAG;IACV,OAAOn0C,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC6sC,MAAM,CAAC;EAChC;AACF,CAAC;AACD,IAAIytD,gBAAgB,GAAG,MAAMC,iBAAiB,CAAC;EAC7C5lG,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACk4C,MAAM,GAAG,CAACtxB,QAAQ,EAAE,CAACA,QAAQ,CAAC;EACrC;EACA,OAAOgN,EAAEA,CAACz7B,KAAK,EAAE;IACf,OAAOA,KAAK,YAAYytG,iBAAiB;EAC3C;EACA,OAAOC,YAAYA,CAACx4F,MAAM,EAAE6qC,MAAM,GAAG,CAACtxB,QAAQ,EAAE,CAACA,QAAQ,CAAC,EAAE;IAC1D,KAAK,MAAMzuB,KAAK,IAAIkV,MAAM,EAAE;MAC1B,IAAI,OAAOlV,KAAK,KAAK,QAAQ,EAAE;QAC7B;MACF;MACA,IAAI+/C,MAAM,CAAC,CAAC,CAAC,GAAG//C,KAAK,EAAE;QACrB+/C,MAAM,CAAC,CAAC,CAAC,GAAG//C,KAAK;MACnB;MACA,IAAI+/C,MAAM,CAAC,CAAC,CAAC,GAAG//C,KAAK,EAAE;QACrB+/C,MAAM,CAAC,CAAC,CAAC,GAAG//C,KAAK;MACnB;IACF;IACA,OAAO+/C,MAAM;EACf;EACAr3C,MAAMA,CAAC1I,KAAK,EAAE;IACZ,IAAI,IAAI,CAAC+/C,MAAM,CAAC,CAAC,CAAC,GAAG//C,KAAK,EAAE;MAC1B,IAAI,CAAC+/C,MAAM,CAAC,CAAC,CAAC,GAAG//C,KAAK;IACxB;IACA,IAAI,IAAI,CAAC+/C,MAAM,CAAC,CAAC,CAAC,GAAG//C,KAAK,EAAE;MAC1B,IAAI,CAAC+/C,MAAM,CAAC,CAAC,CAAC,GAAG//C,KAAK;IACxB;EACF;EACAonD,SAASA,CAAA,EAAG;IACV,OAAO,CAAC,GAAG,IAAI,CAACrH,MAAM,CAAC;EACzB;AACF,CAAC;;AAED;AACA,SAAS4tD,WAAWA,CAAC98F,IAAI,EAAE;EACzB,OAAOA,IAAI,CAAC8E,GAAG,CAAE5V,GAAG,IAAKoU,QAAQ,CAACpU,GAAG,CAAC,GAAGimD,IAAI,CAAClE,SAAS,CAAC/hD,GAAG,CAAC,GAAGA,GAAG,CAAC,CAACya,IAAI,CAAC,GAAG,CAAC;AAC/E;AACA,SAASozF,MAAMA,CAACl6F,GAAG,EAAE;EACnB,MAAMm6F,QAAQ,GAAG,GAAG;EACpB,IAAIvlG,MAAM,CAACwlG,SAAS,CAACp6F,GAAG,CAAC,EAAE;IACzB,OAAOA,GAAG;EACZ,CAAC,MAAM,IAAI/T,IAAI,CAAC27B,GAAG,CAAC5nB,GAAG,CAAC,GAAGm6F,QAAQ,EAAE;IACnC,OAAOluG,IAAI,CAACu9D,KAAK,CAACxpD,GAAG,CAAC;EACxB;EACA,OAAO/T,IAAI,CAAC8J,KAAK,CAACiK,GAAG,GAAGm6F,QAAQ,CAAC,GAAGA,QAAQ;AAC9C;AACA,SAASE,wBAAwBA,CAAC/gD,OAAO,EAAE;EACzC,IAAIA,OAAO,IAAI,IAAI,EAAE;IACnB,OAAO,EAAE;EACX;EACA,IAAI,CAACx+B,GAAG,EAAEhlB,GAAG,CAAC,GAAGwjD,OAAO,CAACr3C,GAAG,CAACrN,MAAM,CAAC;EACpC,IAAIkmB,GAAG,KAAK,CAAC,IAAIhlB,GAAG,KAAK,CAAC,EAAE;IAC1B,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;EACf;EACA,IAAIglB,GAAG,KAAKC,QAAQ,IAAIjlB,GAAG,KAAK,CAACilB,QAAQ,EAAE;IACzC,OAAO,EAAE;EACX,CAAC,MAAM,IAAID,GAAG,KAAKC,QAAQ,EAAE;IAC3BD,GAAG,GAAG,CAAC;EACT,CAAC,MAAM,IAAIhlB,GAAG,KAAK,CAACilB,QAAQ,EAAE;IAC5BjlB,GAAG,GAAG,CAAC;EACT;EACA,OAAOgL,cAAc,CAACga,GAAG,CAAC,IAAIha,cAAc,CAAChL,GAAG,CAAC,GAAG,CAACglB,GAAG,EAAEhlB,GAAG,CAAC,GAAG,EAAE;AACrE;AACA,SAASwkG,gBAAgBA,CAAChhD,OAAO,EAAE7yC,IAAI,EAAE;EACvC,IAAIxR,EAAE;EACN,MAAMslG,WAAW,GAAGF,wBAAwB,CAAC/gD,OAAO,CAAC;EACrD,IAAIihD,WAAW,CAAC3sG,MAAM,KAAK,CAAC,EAAE;IAC5B,OAAO2sG,WAAW;EACpB;EACA,IAAI,CAACz/E,GAAG,EAAEhlB,GAAG,CAAC,GAAGykG,WAAW;EAC5B,IAAIz/E,GAAG,KAAKhlB,GAAG,EAAE;IACf,MAAM,CAAC0kG,UAAU,EAAEC,UAAU,CAAC,GAAG,CAACxlG,EAAE,GAAGwR,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACosD,gBAAgB,CAAC/3C,GAAG,EAAEhlB,GAAG,CAAC,KAAK,IAAI,GAAGb,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACrH6lB,GAAG,IAAI0/E,UAAU;IACjB1kG,GAAG,IAAI2kG,UAAU;EACnB;EACA,OAAO,CAAC3/E,GAAG,EAAEhlB,GAAG,CAAC;AACnB;AACA,SAAS4kG,YAAYA,CAACC,aAAa,EAAEC,OAAO,EAAE;EAC5C,IAAI3lG,EAAE;EACN,OAAO,CAACA,EAAE,GAAG2lG,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAClvG,GAAG,CAACivG,aAAa,CAAC1pE,EAAE,CAAC,KAAK,IAAI,GAAGh8B,EAAE,GAAG,CAAC;AACzF;AACA,IAAI4lG,aAAa,GAAG/uG,MAAM,CAAC,SAAS,CAAC;AACrC,IAAIgvG,SAAS,GAAG,MAAM;EACpB3mG,WAAWA,CAACwU,IAAI,EAAE9B,IAAI,GAAG,YAAY,EAAE;IACrC,IAAI,CAAC8B,IAAI,GAAGA,IAAI;IAChB,IAAI,CAAC9B,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACwrB,KAAK,GAAGtT,KAAK,CAAC/hB,MAAM,CAAC,IAAI,EAAE,YAAY,CAAC;IAC7C,IAAI,CAAC+9F,UAAU,GAAG,eAAgB,IAAIvpG,GAAG,CAAC,CAAC;IAC3C,IAAI,CAAC2L,IAAI,GAAG,EAAE;IACd,IAAI,CAACqE,MAAM,GAAG,EAAE;IAChB,IAAI,CAACw5F,UAAU,GAAG,EAAE;IACpB,IAAI,CAACC,eAAe,GAAG,EAAE;IACzB,IAAI,CAACC,kBAAkB,GAAG,EAAE;IAC5B,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,UAAU,GAAG,EAAE;IACpB,IAAIj+F,IAAI,GAAG,IAAI;IACf,KAAK,MAAM1O,IAAI,IAAIka,IAAI,CAAC+gC,KAAK,EAAE;MAC7B,IAAIj7C,IAAI,CAAC+M,IAAI,KAAK,KAAK,IAAI,CAAC2B,IAAI,EAAE;QAChC,MAAM,IAAIf,KAAK,CAAC,kEAAkE,CAAC;MACrF;MACA,IAAI3N,IAAI,CAAC+M,IAAI,KAAK,OAAO,IAAI2B,IAAI,EAAE;QACjCA,IAAI,GAAG,KAAK;MACd;IACF;IACA,MAAMk+F,kBAAkB,GAAGA,CAAC;MAAEC,aAAa,GAAG;IAAG,CAAC,KAAK;MACrD,KAAK,MAAMC,YAAY,IAAID,aAAa,EAAE;QACxC,IAAI,IAAI,CAAC95F,MAAM,CAAC7L,KAAK,CAAE2wB,GAAG,IAAKA,GAAG,CAACpB,OAAO,KAAKq2E,YAAY,CAAC,EAAE;UAC5D,MAAM,IAAIn/F,KAAK,CACb,0FAA0Fm/F,YAAY,IACxG,CAAC;QACH;MACF;IACF,CAAC;IACD,KAAK,MAAMj1E,GAAG,IAAI3d,IAAI,CAAC+gC,KAAK,EAAE;MAC5B,QAAQpjB,GAAG,CAAC9qB,IAAI;QACd,KAAK,KAAK;UACR,IAAI,CAAC2B,IAAI,CAAC7H,IAAI,CAACvI,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE45B,GAAG,CAAC,EAAE;YAAE1qB,KAAK,EAAE,IAAI,CAACuB,IAAI,CAACvP,MAAM;YAAE4tG,OAAO,EAAE,eAAgB,IAAIhqG,GAAG,CAAC;UAAE,CAAC,CAAC,CAAC;UACvH;QACF,KAAK,OAAO;UACV,IAAI80B,GAAG,CAAC/c,QAAQ,IAAI,IAAI,EAAE;YACxB,MAAM,IAAInN,KAAK,CACb,qFAAqFk2C,IAAI,CAAClE,SAAS,CACjG9nB,GACF,CAAC,EACH,CAAC;UACH;UACA,IAAI,CAAC9kB,MAAM,CAAClM,IAAI,CAACvI,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE45B,GAAG,CAAC,EAAE;YAAE1qB,KAAK,EAAE,IAAI,CAAC4F,MAAM,CAAC5T,MAAM;YAAE4tG,OAAO,EAAE,eAAgB,IAAIhqG,GAAG,CAAC;UAAE,CAAC,CAAC,CAAC;UAC3H;QACF,KAAK,WAAW;UACd6pG,kBAAkB,CAAC/0E,GAAG,CAAC;UACvB,IAAI,CAAC00E,UAAU,CAAC1lG,IAAI,CAACvI,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE45B,GAAG,CAAC,EAAE;YAAE1qB,KAAK,EAAE,IAAI,CAACo/F,UAAU,CAACptG;UAAO,CAAC,CAAC,CAAC;UAC/F;QACF,KAAK,uBAAuB;UAC1BytG,kBAAkB,CAAC/0E,GAAG,CAAC;UACvB,IAAI,CAAC20E,eAAe,CAAC3lG,IAAI,CAACvI,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE45B,GAAG,CAAC,EAAE;YAAE1qB,KAAK,EAAE,IAAI,CAACq/F,eAAe,CAACrtG;UAAO,CAAC,CAAC,CAAC;UACzG;QACF,KAAK,0BAA0B;UAC7B,IAAI,CAACstG,kBAAkB,CAAC5lG,IAAI,CAACvI,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE45B,GAAG,CAAC,EAAE;YAAE1qB,KAAK,EAAE,IAAI,CAACs/F,kBAAkB,CAACttG;UAAO,CAAC,CAAC,CAAC;UAC/G;QACF,KAAK,SAAS;UACZ,IAAI,CAACutG,QAAQ,CAAC7lG,IAAI,CAACvI,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE45B,GAAG,CAAC,EAAE;YAAE1qB,KAAK,EAAE,IAAI,CAACu/F,QAAQ,CAACvtG;UAAO,CAAC,CAAC,CAAC;UAC3F;QACF,KAAK,WAAW;UACd,IAAI,CAACwtG,UAAU,CAAC9lG,IAAI,CAACvI,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE45B,GAAG,CAAC,EAAE;YAAE1qB,KAAK,EAAE,IAAI,CAACw/F,UAAU,CAACxtG;UAAO,CAAC,CAAC,CAAC;UAC/F;MACJ;IACF;EACF;EACA6tG,2BAA2BA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IAC3C,IAAI1mG,EAAE;IACN,MAAMqxB,GAAG,GAAG,CAACrxB,EAAE,GAAG,IAAI,CAAC8lG,UAAU,CAACrvG,GAAG,CAACgwG,KAAK,CAACzqE,EAAE,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGh8B,EAAE,CAACvJ,GAAG,CAACiwG,QAAQ,CAAC;IACpF,IAAI,CAACr1E,GAAG,EAAE;MACR,MAAM,IAAIlqB,KAAK,CAAC,oDAAoDu/F,QAAQ,KAAKD,KAAK,CAACzqE,EAAE,GAAG,CAAC;IAC/F;IACA,OAAO;MAAEr1B,KAAK,EAAE0qB,GAAG,CAAC1qB,KAAK;MAAE0qB;IAAI,CAAC;EAClC;EACAs1E,6BAA6BA,CAACF,KAAK,EAAEC,QAAQ,EAAE;IAC7C,OAAO,IAAI,CAACF,2BAA2B,CAACC,KAAK,EAAEC,QAAQ,CAAC,CAAC//F,KAAK;EAChE;EACAigG,6BAA6BA,CAACH,KAAK,EAAEI,SAAS,EAAE;IAC9C,OAAOA,SAAS,CAAC75F,GAAG,CAAE05F,QAAQ,IAAK,CAACA,QAAQ,EAAE,IAAI,CAACF,2BAA2B,CAACC,KAAK,EAAEC,QAAQ,CAAC,CAAC,CAAC;EACnG;EACAI,8BAA8BA,CAACC,IAAI,EAAE;IAAE7+F,IAAI;IAAEqE;EAAO,CAAC,EAAE;IACrD,MAAM9T,MAAM,GAAG,CAAC,CAAC;IACjB,KAAK,MAAM,CAACiuG,QAAQ,EAAE;MAAE//F,KAAK;MAAE0qB;IAAI,CAAC,CAAC,IAAI01E,IAAI,EAAE;MAC7C,MAAMC,aAAa,GAAG31E,GAAG,CAAC9qB,IAAI,KAAK,KAAK,GAAG2B,IAAI,GAAGqE,MAAM;MACxD9T,MAAM,CAACiuG,QAAQ,CAAC,GAAGM,aAAa,CAACrgG,KAAK,CAAC;IACzC;IACA,OAAOlO,MAAM;EACf;EACAgmD,SAASA,CAACgoD,KAAK,EAAEC,QAAQ,EAAEngG,IAAI,GAAG,OAAO,EAAEygG,aAAa,EAAE;IACxD,IAAIhnG,EAAE;IACN,MAAM47E,OAAO,GAAG,IAAI,CAACqrB,gBAAgB,CAAC1gG,IAAI,EAAEygG,aAAa,CAAC;IAC1D,OAAO,CAAChnG,EAAE,GAAG47E,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC,IAAI,CAAC+qB,6BAA6B,CAACF,KAAK,EAAEC,QAAQ,CAAC,CAAC,KAAK,IAAI,GAAG1mG,EAAE,GAAG,EAAE;EACzH;EACAinG,gBAAgBA,CAAC1gG,IAAI,EAAEygG,aAAa,EAAE;IACpC,QAAQzgG,IAAI;MACV,KAAK,KAAK;QACR,OAAOygG,aAAa,CAAC5vD,MAAM,CAAClvC,IAAI;MAClC,KAAK,OAAO;QACV,OAAO8+F,aAAa,CAAC5vD,MAAM,CAAC7qC,MAAM;MACpC,KAAK,WAAW;QACd,OAAOy6F,aAAa,CAAC5vD,MAAM,CAAC8vD,SAAS;MACvC,KAAK,uBAAuB;QAC1B,OAAOF,aAAa,CAAC5vD,MAAM,CAAC7a,MAAM;MACpC;QACE,OAAO,IAAI;IACf;EACF;EACA4qE,WAAWA,CAACpyF,IAAI,EAAErI,OAAO,EAAE;IACzB,IAAI1M,EAAE;IACN,MAAM;MACJ0T,IAAI,EAAE;QAAE0zF,WAAW;QAAEC;MAAU,CAAC;MAChCtB,UAAU;MACVC,eAAe;MACfE,QAAQ;MACRC,UAAU;MACVF;IACF,CAAC,GAAG,IAAI;IACR,MAAMpmG,KAAK,GAAGsnF,WAAW,CAAC19D,GAAG,CAAC,CAAC;IAC/B,IAAI29E,WAAW,IAAI,IAAI,CAACl/F,IAAI,CAACvP,MAAM,KAAK,CAAC,EAAE;MACzC;IACF;IACA,IAAIquG,aAAa,GAAG,IAAI,CAACM,WAAW,CAACvyF,IAAI,EAAErI,OAAO,CAAC;IACnD,IAAI06F,WAAW,EAAE;MACfJ,aAAa,GAAG,IAAI,CAACO,SAAS,CAACP,aAAa,CAAC;IAC/C,CAAC,MAAM,IAAIK,SAAS,EAAE;MACpBL,aAAa,GAAG,IAAI,CAACO,SAAS,CAACP,aAAa,EAAEK,SAAS,CAACL,aAAa,CAAC,CAAC;IACzE;IACA,IAAIhB,eAAe,CAACrtG,MAAM,GAAG,CAAC,EAAE;MAC9B,IAAI,CAAC6uG,iBAAiB,CAACR,aAAa,CAAC;IACvC;IACA,IAAIjB,UAAU,CAACptG,MAAM,GAAG,CAAC,EAAE;MACzB,IAAI,CAAC8uG,aAAa,CAACT,aAAa,CAAC;IACnC;IACA,IAAIf,kBAAkB,CAACttG,MAAM,GAAG,CAAC,EAAE;MACjC,IAAI,CAAC+uG,qBAAqB,CAACV,aAAa,CAAC;IAC3C;IACA,IAAId,QAAQ,CAACvtG,MAAM,GAAG,CAAC,EAAE;MACvB,IAAI,CAACgvG,UAAU,CAACX,aAAa,CAAC;IAChC;IACA,IAAIb,UAAU,CAACxtG,MAAM,GAAG,CAAC,EAAE;MACzB,IAAI,CAACivG,eAAe,CAACZ,aAAa,CAAC;IACrC;IACA,IAAIjyF,IAAI,CAACpc,MAAM,GAAG,CAAC,EAAE;MACnB,KAAK,MAAM04B,GAAG,IAAIv0B,OAAO,CAAC,IAAI,CAACoL,IAAI,EAAE,IAAI,CAACqE,MAAM,CAAC,EAAE;QACjD,KAAK,MAAM,CAACk6F,KAAK,EAAEoB,SAAS,CAAC,IAAIx2E,GAAG,CAACk1E,OAAO,EAAE;UAC5C,IAAIsB,SAAS,IAAI9yF,IAAI,CAACpc,MAAM,EAAE;YAC5B,MAAMmvG,SAAS,GAAGrB,KAAK,IAAI,IAAI,GAAG,EAAE,GAAG,QAAQA,KAAK,EAAE;YACtDloG,MAAM,CAACQ,QAAQ,CAAC,YAAYsyB,GAAG,CAAC/c,QAAQ,sCAAsCwzF,SAAS,GAAG,CAAC;UAC7F;QACF;MACF;IACF;IACA,MAAM/3D,GAAG,GAAGo3C,WAAW,CAAC19D,GAAG,CAAC,CAAC;IAC7Bu9E,aAAa,CAAC1f,IAAI,GAAGv3C,GAAG,GAAGlwC,KAAK;IAChC,IAAI,IAAI,CAACu9B,KAAK,CAACnT,KAAK,CAAC,CAAC,EAAE;MACtB89E,gBAAgB,CAACf,aAAa,CAAC;IACjC;IACA,IAAI,CAAClB,UAAU,CAAClpG,KAAK,CAAC,CAAC;IACvB,KAAK,MAAMy0B,GAAG,IAAIv0B,OAAO,CAAC,IAAI,CAACoL,IAAI,EAAE,IAAI,CAACqE,MAAM,EAAE,IAAI,CAACw5F,UAAU,CAAC,EAAE;MAClE,IAAI,CAAC10E,GAAG,CAAC22E,MAAM,EACb;MACF,KAAK,MAAM,CAACvB,KAAK,EAAEwB,GAAG,CAAC,IAAI52E,GAAG,CAAC22E,MAAM,EAAE;QACrC,KAAK,MAAMhsE,EAAE,IAAIisE,GAAG,EAAE;UACpB,IAAI,CAAC,IAAI,CAACnC,UAAU,CAACppG,GAAG,CAAC+pG,KAAK,CAAC,EAAE;YAC/B,IAAI,CAACX,UAAU,CAACnpG,GAAG,CAAC8pG,KAAK,EAAE,eAAgB,IAAIlqG,GAAG,CAAC,CAAC,CAACy/B,EAAE,EAAE3K,GAAG,CAAC,CAAC,CAAC,CAAC;UAClE,CAAC,MAAM,IAAI,CAACrxB,EAAE,GAAG,IAAI,CAAC8lG,UAAU,CAACrvG,GAAG,CAACgwG,KAAK,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGzmG,EAAE,CAACtD,GAAG,CAACs/B,EAAE,CAAC,EAAE;YAC1E,MAAM,IAAI70B,KAAK,CAAC,6DAA6D,CAAC;UAChF,CAAC,MAAM;YACL,IAAI,CAAC2+F,UAAU,CAACrvG,GAAG,CAACgwG,KAAK,CAAC,CAAC9pG,GAAG,CAACq/B,EAAE,EAAE3K,GAAG,CAAC;UACzC;QACF;MACF;IACF;IACA,OAAO21E,aAAa;EACtB;EACAkB,mBAAmBA,CAAC;IAAE7B;EAAc,CAAC,EAAE;IACrC,MAAM5tG,MAAM,GAAG,EAAE;IACjB,KAAK,MAAM,CAACkO,KAAK,EAAE0qB,GAAG,CAAC,IAAI,IAAI,CAAC9kB,MAAM,CAACc,OAAO,CAAC,CAAC,EAAE;MAChD,IAAI,CAACg5F,aAAa,IAAIh1E,GAAG,CAACpB,OAAO,IAAIo2E,aAAa,CAACn/F,QAAQ,CAACmqB,GAAG,CAACpB,OAAO,CAAC,EAAE;QACxEx3B,MAAM,CAAC4H,IAAI,CAACsG,KAAK,CAAC;MACpB;IACF;IACA,OAAOlO,MAAM;EACf;EACA0vG,cAAcA,CAACC,MAAM,EAAExwG,IAAI,EAAE;IAC3B,MAAMywG,eAAe,GAAGD,MAAM,IAAI,IAAI,IAAIA,MAAM,CAACzvG,MAAM,KAAK,CAAC;IAC7D,MAAM2vG,MAAM,GAAG,OAAO1wG,IAAI,KAAK,QAAQ,GAAGA,IAAI,GAAGA,IAAI,CAACokC,EAAE;IACxD,MAAMusE,kBAAkB,GAAIl3E,GAAG,IAAK;MAClC,IAAIA,GAAG,CAAC22E,MAAM,EAAE;QACd,KAAK,MAAM,CAACvB,KAAK,EAAEwB,GAAG,CAAC,IAAI52E,GAAG,CAAC22E,MAAM,EAAE;UACrC,IAAI,CAACI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAClhG,QAAQ,CAACu/F,KAAK,CAAC,KAAKwB,GAAG,CAACvrG,GAAG,CAAC4rG,MAAM,CAAC,EAAE;YACzE,OAAO,IAAI;UACb;QACF;MACF;MACA,OAAO,KAAK;IACd,CAAC;IACD,MAAM7vG,MAAM,GAAG,IAAI,CAAC8T,MAAM,CAACkrC,SAAS,CAAEpmB,GAAG,IAAK;MAC5C,MAAMm3E,cAAc,GAAGn3E,GAAG,CAAC+2E,MAAM,IAAI,IAAI,IAAIC,eAAe,IAAI,CAACh3E,GAAG,CAAC+2E,MAAM,CAACzvG,MAAM,IAAI04B,GAAG,CAAC+2E,MAAM,CAACthG,IAAI,CAAErG,CAAC,IAAK2nG,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAClhG,QAAQ,CAACzG,CAAC,CAAC,CAAC;MAC1J,OAAO+nG,cAAc,KAAKn3E,GAAG,CAAC/c,QAAQ,KAAKg0F,MAAM,IAAIj3E,GAAG,CAAC2K,EAAE,KAAKssE,MAAM,IAAIC,kBAAkB,CAACl3E,GAAG,CAAC,CAAC;IACpG,CAAC,CAAC;IACF,IAAI54B,MAAM,KAAK,CAAC,CAAC,EAAE;MACjB,MAAM,IAAI0O,KAAK,CACb,qDAAqDk2C,IAAI,CAAClE,SAAS,CAACvhD,IAAI,CAAC,gBAAgBylD,IAAI,CAAClE,SAAS,CACrGivD,MACF,CAAC,EACH,CAAC;IACH;IACA,OAAO3vG,MAAM;EACf;EACA6uG,WAAWA,CAACvyF,IAAI,EAAErI,OAAO,EAAE;IACzB,IAAI1M,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,MAAM;MAAE8/D,UAAU;MAAEy3B,YAAY;MAAEL,MAAM;MAAEM;IAAsB,CAAC,GAAG,IAAI,CAACC,uBAAuB,CAAC,CAAC;IAClG,MAAMC,WAAW,GAAG,IAAIrsG,GAAG,CAACmQ,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACM,GAAG,CAAEvM,CAAC,IAAK,CAACA,CAAC,CAACu7B,EAAE,EAAEv7B,CAAC,CAAC,CAAC,CAAC;IACrF,MAAM;MAAEyH,IAAI,EAAE2gG,OAAO;MAAEt8F,MAAM,EAAEu8F;IAAU,CAAC,GAAG,IAAI;IACjD,MAAMC,UAAU,GAAG,IAAIz+F,KAAK,CAACyK,IAAI,CAACpc,MAAM,CAAC;IACzC,IAAIqwG,aAAa,GAAG,CAAC;IACrB,IAAIC,qBAAqB,GAAG,CAAC;IAC7B,KAAK,MAAM,CAACC,QAAQ,EAAEtsE,KAAK,CAAC,IAAI7nB,IAAI,CAAC1H,OAAO,CAAC,CAAC,EAAE;MAC9C,MAAM87F,YAAY,GAAG,CAAC,CAAC;MACvB,MAAMC,WAAW,GAAGhB,MAAM,CAAC9qF,IAAI,GAAG,CAAC,GAAG,IAAIvX,GAAG,CAACqiG,MAAM,CAAC,GAAG,KAAK,CAAC;MAC9D,MAAMlgG,IAAI,GAAG,IAAIoC,KAAK,CAACu+F,OAAO,CAAClwG,MAAM,CAAC;MACtC,IAAI0wG,MAAM,GAAG,CAAC;MACd,IAAIjyG,GAAG;MACP,KAAK,MAAMi6B,GAAG,IAAIw3E,OAAO,EAAE;QACzBzxG,GAAG,GAAGqxG,YAAY,CAACp3E,GAAG,EAAEuL,KAAK,EAAExlC,GAAG,CAAC;QACnC,IAAIA,GAAG,KAAKwuG,aAAa,EACvB;QACF,IAAI19F,IAAI,EAAE;UACRA,IAAI,CAACmhG,MAAM,EAAE,CAAC,GAAGjyG,GAAG;QACtB;MACF;MACA,IAAIA,GAAG,KAAKwuG,aAAa,EACvB;MACF,MAAMr5F,MAAM,GAAGu8F,SAAS,CAACnwG,MAAM,GAAG,CAAC,GAAG,IAAI2R,KAAK,CAACw+F,SAAS,CAACnwG,MAAM,CAAC,GAAG,KAAK,CAAC;MAC1E,IAAItB,KAAK;MACT,KAAK,MAAM,CAACiyG,WAAW,EAAEj4E,GAAG,CAAC,IAAIy3E,SAAS,CAACz7F,OAAO,CAAC,CAAC,EAAE;QACpD,KAAK,MAAMo5F,KAAK,IAAI,CAACzmG,EAAE,GAAGqxB,GAAG,CAAC+2E,MAAM,KAAK,IAAI,GAAGpoG,EAAE,GAAGooG,MAAM,EAAE;UAC3D,MAAMpwG,MAAM,GAAG4wG,WAAW,CAACnyG,GAAG,CAACgwG,KAAK,CAAC;UACrC,MAAM8C,UAAU,GAAG,CAACj5F,EAAE,GAAGtY,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAC+c,IAAI,CAACm0F,QAAQ,CAAC,KAAK,IAAI,GAAG54F,EAAE,GAAGssB,KAAK;UAC9FvlC,KAAK,GAAGoxG,YAAY,CAACp3E,GAAG,EAAEk4E,UAAU,EAAElyG,KAAK,EAAEovG,KAAK,CAAC;UACnD,IAAIpvG,KAAK,KAAKuuG,aAAa,IAAI,CAACr5F,MAAM,EACpC;UACF,IAAIvU,MAAM,IAAI,IAAI,IAAIq5B,GAAG,CAACm4E,eAAe,KAAK,KAAK,EAAE;YACnD,MAAMl1F,QAAQ,GAAG+c,GAAG,CAACm4E,eAAe,IAAIn4E,GAAG,CAAC2K,EAAE,IAAI,IAAI,GAAG3K,GAAG,CAAC2K,EAAE,GAAG3K,GAAG,CAAC/c,QAAQ;YAC9E,CAAC/D,EAAE,GAAG44F,YAAY,CAAC1C,KAAK,CAAC,KAAK,IAAI,GAAGl2F,EAAE,GAAG44F,YAAY,CAAC1C,KAAK,CAAC,GAAG,CAAC,CAAC;YAClE0C,YAAY,CAAC1C,KAAK,CAAC,CAACnyF,QAAQ,CAAC,GAAGjd,KAAK;UACvC;UACAkV,MAAM,CAAC+8F,WAAW,CAAC,GAAGjyG,KAAK;QAC7B;QACA,IAAIA,KAAK,KAAKuuG,aAAa,EAAE;UAC3B,IAAI8C,qBAAqB,EACvB;UACF,KAAK,MAAMjC,KAAK,IAAI,CAACv1F,EAAE,GAAGmgB,GAAG,CAAC+2E,MAAM,KAAK,IAAI,GAAGl3F,EAAE,GAAGk3F,MAAM,EAAE;YAC3DgB,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC/2F,MAAM,CAACo0F,KAAK,CAAC;UAC1D;UACA,IAAI,CAAC2C,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC9rF,IAAI,MAAM,CAAC,EACzD;QACJ;MACF;MACA,IAAIjmB,KAAK,KAAKuuG,aAAa,IAAI8C,qBAAqB,EAClD;MACF,IAAI,CAACU,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC9rF,IAAI,MAAM,CAAC,EACzD;MACF,MAAM7kB,MAAM,GAAG;QAAEmkC,KAAK,EAAEnlC,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAEmlC,KAAK,CAAC,EAAEusE,YAAY,CAAC;QAAEjhG,IAAI;QAAEqE;MAAO,CAAC;MAC/F,IAAI,CAACm8F,qBAAqB,IAAIU,WAAW,IAAIA,WAAW,CAAC9rF,IAAI,GAAG8qF,MAAM,CAAC9qF,IAAI,EAAE;QAC3E2rF,qBAAqB,EAAE;QACvBxwG,MAAM,CAAC2wG,WAAW,GAAG,IAAIrjG,GAAG,CAACqjG,WAAW,CAAC;MAC3C;MACAL,UAAU,CAACC,aAAa,EAAE,CAAC,GAAGvwG,MAAM;IACtC;IACAswG,UAAU,CAACpwG,MAAM,GAAGqwG,aAAa;IACjC,MAAMS,cAAc,GAAIp4E,GAAG,IAAK;MAC9B,MAAMq4E,SAAS,GAAG14B,UAAU,CAACv6E,GAAG,CAAC46B,GAAG,CAAC;MACrC,MAAM54B,MAAM,GAAGixG,SAAS,CAACjrD,SAAS,CAAC,CAAC;MACpC,IAAIomD,gBAAgB,CAAC/xE,EAAE,CAAC42E,SAAS,CAAC,IAAIjxG,MAAM,CAAC,CAAC,CAAC,GAAGA,MAAM,CAAC,CAAC,CAAC,EAAE;QAC3D,OAAO,EAAE;MACX;MACA,OAAOA,MAAM;IACf,CAAC;IACD,OAAO;MACL8N,IAAI,EAAE,WAAW;MACjB8J,KAAK,EAAE;QAAEue,KAAK,EAAE7Z,IAAI,CAACpc;MAAO,CAAC;MAC7Boc,IAAI,EAAEg0F,UAAU;MAChB3xD,MAAM,EAAE;QACNlvC,IAAI,EAAE2gG,OAAO,CAAC77F,GAAG,CAACy8F,cAAc,CAAC;QACjCl9F,MAAM,EAAEu8F,SAAS,CAAC97F,GAAG,CAACy8F,cAAc;MACtC,CAAC;MACD1C,IAAI,EAAE;QACJ2B,qBAAqB;QACrBxgG,IAAI,EAAE2gG,OAAO;QACbt8F,MAAM,EAAEu8F;MACV,CAAC;MACDG,qBAAqB;MACrB3hB,IAAI,EAAE;IACR,CAAC;EACH;EACAigB,SAASA,CAACxyF,IAAI,EAAE40F,UAAU,EAAE;IAC1B,IAAI3pG,EAAE;IACN,MAAMgnG,aAAa,GAAG,eAAgB,IAAIzqG,GAAG,CAAC,CAAC;IAC/C,KAAK,MAAMqtG,SAAS,IAAI70F,IAAI,CAACA,IAAI,EAAE;MACjC,MAAM;QAAE7M,IAAI;QAAEqE,MAAM;QAAEqwB,KAAK;QAAEwsE;MAAY,CAAC,GAAGQ,SAAS;MACtD,MAAMptC,MAAM,GAAG,CAACx8D,EAAE,GAAG2pG,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACC,SAAS,CAAC,KAAK,IAAI,GAAG5pG,EAAE,GAAGkI,IAAI;MAC7F,MAAM2hG,QAAQ,GAAG7E,WAAW,CAACxoC,MAAM,CAAC;MACpC,IAAIwqC,aAAa,CAACtqG,GAAG,CAACmtG,QAAQ,CAAC,EAAE;QAC/B,MAAMC,YAAY,GAAG9C,aAAa,CAACvwG,GAAG,CAACozG,QAAQ,CAAC;QAChDC,YAAY,CAACv9F,MAAM,CAAClM,IAAI,CAACkM,MAAM,CAAC;QAChCu9F,YAAY,CAACltE,KAAK,CAACv8B,IAAI,CAACu8B,KAAK,CAAC;QAC9B,IAAIwsE,WAAW,IAAI,IAAI,IAAIU,YAAY,CAACV,WAAW,IAAI,IAAI,EAAE;UAC3D,KAAK,MAAM3C,KAAK,IAAIqD,YAAY,CAACV,WAAW,EAAE;YAC5C,IAAI,CAACA,WAAW,CAAC1sG,GAAG,CAAC+pG,KAAK,CAAC,EAAE;cAC3BqD,YAAY,CAACV,WAAW,CAAC/2F,MAAM,CAACo0F,KAAK,CAAC;YACxC;UACF;QACF;MACF,CAAC,MAAM;QACLO,aAAa,CAACrqG,GAAG,CAACktG,QAAQ,EAAE;UAC1B3hG,IAAI,EAAEs0D,MAAM;UACZjwD,MAAM,EAAE,CAACA,MAAM,CAAC;UAChBqwB,KAAK,EAAE,CAACA,KAAK,CAAC;UACdwsE;QACF,CAAC,CAAC;MACJ;IACF;IACA,MAAML,UAAU,GAAG,IAAIz+F,KAAK,CAAC08F,aAAa,CAAC1pF,IAAI,CAAC;IAChD,MAAMysF,YAAY,GAAG,IAAIz/F,KAAK,CAAC08F,aAAa,CAAC1pF,IAAI,CAAC;IAClD,IAAI0sF,SAAS,GAAG,CAAC;IACjB,KAAK,MAAM;MAAE9hG,IAAI;MAAEqE,MAAM;MAAEqwB,KAAK;MAAEwsE;IAAY,CAAC,IAAIpC,aAAa,CAACz6F,MAAM,CAAC,CAAC,EAAE;MACzE,IAAI,CAAC68F,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC9rF,IAAI,MAAM,CAAC,EACzD;MACFysF,YAAY,CAACC,SAAS,CAAC,GAAG9hG,IAAI;MAC9B6gG,UAAU,CAACiB,SAAS,EAAE,CAAC,GAAG;QACxB9hG,IAAI;QACJqE,MAAM;QACNqwB,KAAK;QACLwsE;MACF,CAAC;IACH;IACA,OAAOtxG,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEsd,IAAI,CAAC,EAAE;MAC7CxO,IAAI,EAAE,SAAS;MACfwO,IAAI,EAAEg0F,UAAU;MAChB3xD,MAAM,EAAEt/C,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEsd,IAAI,CAACqiC,MAAM,CAAC,EAAE;QACrD7a,MAAM,EAAEwtE;MACV,CAAC;IACH,CAAC,CAAC;EACJ;EACAtC,aAAaA,CAACT,aAAa,EAAE;IAC3B,IAAIhnG,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE,EAAEkkB,EAAE,EAAEC,EAAE;IAC9B,MAAMm5D,WAAW,GAAGjD,aAAa,CAACzgG,IAAI,KAAK,WAAW;IACtDygG,aAAa,CAAC5vD,MAAM,CAAC8vD,SAAS,GAAG,EAAE;IACnC,KAAK,MAAM,CAACvgG,KAAK,EAAE0qB,GAAG,CAAC,IAAI,IAAI,CAAC00E,UAAU,CAAC14F,OAAO,CAAC,CAAC,EAAE;MACpD,MAAM68F,OAAO,GAAG,IAAI,CAAChC,mBAAmB,CAAC72E,GAAG,CAAC;MAC7C,MAAM+lB,MAAM,GAAG,CAACtxB,QAAQ,EAAE,CAACA,QAAQ,CAAC;MACpC,KAAK,MAAM8W,KAAK,IAAIoqE,aAAa,CAACjyF,IAAI,EAAE;QACtC,CAAC/U,EAAE,GAAG48B,KAAK,CAACsqE,SAAS,KAAK,IAAI,GAAGlnG,EAAE,GAAG48B,KAAK,CAACsqE,SAAS,GAAG,IAAI58F,KAAK,CAAC,IAAI,CAACy7F,UAAU,CAACptG,MAAM,CAAC;QACzF,IAAIikC,KAAK,CAACwsE,WAAW,EACnB;QACF,MAAM78F,MAAM,GAAG09F,WAAW,GAAG,CAACrtE,KAAK,CAACrwB,MAAM,CAAC,GAAGqwB,KAAK,CAACrwB,MAAM;QAC1D,IAAI49F,cAAc,GAAG,CAAC55F,EAAE,GAAG,CAACD,EAAE,GAAG+gB,GAAG,CAAC+4E,sBAAsB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG95F,EAAE,CAACzY,IAAI,CAACw5B,GAAG,CAAC,KAAK,IAAI,GAAG9gB,EAAE,GAAG,CAACuV,QAAQ,EAAE,CAACA,QAAQ,CAAC;QAClI,KAAK,MAAMukF,cAAc,IAAI99F,MAAM,EAAE;UACnC,MAAM+9F,WAAW,GAAGJ,OAAO,CAACl9F,GAAG,CAAEu9F,QAAQ,IAAKF,cAAc,CAACE,QAAQ,CAAC,CAAC;UACvE,MAAMC,SAAS,GAAGn5E,GAAG,CAACo5E,iBAAiB,CAACH,WAAW,EAAE1tE,KAAK,CAAC10B,IAAI,CAAC;UAChE,IAAIsiG,SAAS,EAAE;YACbL,cAAc,GAAG,CAACx9E,EAAE,GAAG,CAACzb,EAAE,GAAGmgB,GAAG,CAAC+4E,sBAAsB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGl5F,EAAE,CAACrZ,IAAI,CAACw5B,GAAG,EAAEm5E,SAAS,EAAEL,cAAc,CAAC,KAAK,IAAI,GAAGx9E,EAAE,GAAGk4E,gBAAgB,CAACE,YAAY,CAACyF,SAAS,EAAEL,cAAc,CAAC;UAC9L;QACF;QACA,MAAMO,WAAW,GAAG,CAAC,CAAC55D,EAAE,GAAG,CAACD,EAAE,GAAGxf,GAAG,CAACs5E,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG95D,EAAE,CAACh5C,IAAI,CAACw5B,GAAG,EAAE84E,cAAc,CAAC,KAAK,IAAI,GAAGr5D,EAAE,GAAGq5D,cAAc,EAAEn9F,GAAG,CAAExS,CAAC,IAAKyqG,MAAM,CAACzqG,CAAC,CAAC,CAAC;QACzJoiC,KAAK,CAACsqE,SAAS,CAACvgG,KAAK,CAAC,GAAG+jG,WAAW;QACpC7F,gBAAgB,CAACE,YAAY,CAAC2F,WAAW,EAAEtzD,MAAM,CAAC;MACpD;MACA4vD,aAAa,CAAC5vD,MAAM,CAAC8vD,SAAS,CAAC7mG,IAAI,CAAC+2C,MAAM,CAAC;IAC7C;EACF;EACAowD,iBAAiBA,CAACR,aAAa,EAAE;IAC/B,IAAIhnG,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAE01F;IAAgB,CAAC,GAAG,IAAI;IAChC,MAAM4E,eAAe,GAAG,eAAgB,IAAI7kG,GAAG,CAAC,CAAC;IACjD,MAAM8kG,cAAc,GAAG,eAAgB,IAAItuG,GAAG,CAAC,CAAC;IAChD,MAAMuuG,qBAAqB,GAAG,eAAgB,IAAIvuG,GAAG,CAAC,CAAC;IACvD,MAAMwuG,qBAAqB,GAAG,eAAgB,IAAIxuG,GAAG,CAAC,CAAC;IACvD,KAAK,MAAMyuG,SAAS,IAAIhF,eAAe,EAAE;MACvC,MAAMkE,OAAO,GAAG,IAAI,CAAChC,mBAAmB,CAAC8C,SAAS,CAAC;MACnDF,qBAAqB,CAACnuG,GAAG,CAACquG,SAAS,EAAEd,OAAO,CAAC;MAC7Ca,qBAAqB,CAACpuG,GAAG,CAACquG,SAAS,EAAEA,SAAS,CAACC,MAAM,CAAC,CAAC,CAAC;MACxD,KAAK,MAAM9hD,GAAG,IAAI+gD,OAAO,EAAE;QACzB,MAAMgB,QAAQ,GAAG,IAAI,CAAC3+F,MAAM,CAAC48C,GAAG,CAAC;QACjC,MAAMgiD,UAAU,GAAGD,QAAQ,CAACE,SAAS,KAAK,UAAU;QACpDR,eAAe,CAACvjG,GAAG,CAAC8hD,GAAG,CAAC;QACxB0hD,cAAc,CAACluG,GAAG,CAACwsD,GAAG,EAAEgiD,UAAU,GAAG,IAAIxG,cAAc,CAAC,CAAC,GAAG,IAAIE,gBAAgB,CAAC,CAAC,CAAC;MACrF;IACF;IACA,MAAMwG,aAAa,GAAI9+F,MAAM,IAAK;MAChC,IAAI8hB,GAAG;MACP,KAAK,MAAMi9E,UAAU,IAAIV,eAAe,EAAE;QACxC,CAACv8E,GAAG,GAAGw8E,cAAc,CAACp0G,GAAG,CAAC60G,UAAU,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGj9E,GAAG,CAACtuB,MAAM,CAACwM,MAAM,CAAC++F,UAAU,CAAC,CAAC;MAC1F;IACF,CAAC;IACD,KAAK,MAAM9uC,MAAM,IAAIwqC,aAAa,CAACjyF,IAAI,EAAE;MACvC,KAAK,MAAMi2F,SAAS,IAAIhF,eAAe,EAAE;QACvC,IAAIxpC,MAAM,CAAC4sC,WAAW,EACpB;QACF,MAAMmC,YAAY,GAAG,CAACvrG,EAAE,GAAG8qG,qBAAqB,CAACr0G,GAAG,CAACu0G,SAAS,CAAC,KAAK,IAAI,GAAGhrG,EAAE,GAAG,EAAE;QAClF,MAAMwrG,QAAQ,GAAG,CAACl7F,EAAE,GAAGy6F,qBAAqB,CAACt0G,GAAG,CAACu0G,SAAS,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG16F,EAAE,CAAC,CAAC;QACpF,IAAI,CAACk7F,QAAQ,EACX;QACF,IAAIxE,aAAa,CAACzgG,IAAI,KAAK,SAAS,EAAE;UACpC,KAAK,MAAMgG,MAAM,IAAIiwD,MAAM,CAACjwD,MAAM,EAAE;YAClC,IAAIA,MAAM,EAAE;cACVi/F,QAAQ,CAACj/F,MAAM,EAAEg/F,YAAY,CAAC;YAChC;UACF;QACF,CAAC,MAAM,IAAI/uC,MAAM,CAACjwD,MAAM,EAAE;UACxBi/F,QAAQ,CAAChvC,MAAM,CAACjwD,MAAM,EAAEg/F,YAAY,CAAC;QACvC;MACF;MACA,IAAIvE,aAAa,CAACzgG,IAAI,KAAK,SAAS,EAAE;QACpC,KAAK,MAAMgG,MAAM,IAAIiwD,MAAM,CAACjwD,MAAM,EAAE;UAClC8+F,aAAa,CAAC9+F,MAAM,CAAC;QACvB;MACF,CAAC,MAAM;QACL8+F,aAAa,CAAC7uC,MAAM,CAACjwD,MAAM,CAAC;MAC9B;IACF;IACA,KAAK,MAAM,CAAC48C,GAAG,EAAE6nB,UAAU,CAAC,IAAI65B,cAAc,EAAE;MAC9C7D,aAAa,CAAC5vD,MAAM,CAAC7qC,MAAM,CAAC48C,GAAG,CAAC,GAAG6nB,UAAU,CAACvyB,SAAS,CAAC,CAAC;IAC3D;EACF;EACAipD,qBAAqBA,CAACV,aAAa,EAAE;IACnC,KAAK,MAAM;MAAEiE,MAAM;MAAE32F,QAAQ;MAAE8zF;IAAO,CAAC,IAAI,IAAI,CAACnC,kBAAkB,EAAE;MAClEgF,MAAM,CAAC,CAAC,CAACjE,aAAa,EAAE,IAAI,CAACmB,cAAc,CAACC,MAAM,EAAE9zF,QAAQ,CAAC,CAAC;IAChE;EACF;EACAqzF,UAAUA,CAACX,aAAa,EAAE;IACxB,IAAIhnG,EAAE,EAAEsQ,EAAE;IACV,CAACtQ,EAAE,GAAGgnG,aAAa,CAACyE,OAAO,KAAK,IAAI,GAAGzrG,EAAE,GAAGgnG,aAAa,CAACyE,OAAO,GAAG,CAAC,CAAC;IACtE,KAAK,MAAMp6E,GAAG,IAAI,IAAI,CAAC60E,QAAQ,EAAE;MAC/B,MAAMwF,OAAO,GAAGr6E,GAAG,CAACq6E,OAAO,CAAC,CAAC;MAC7B,IAAIC,QAAQ,GAAGt6E,GAAG,CAACu6E,YAAY;MAC/B,KAAK,MAAMhvE,KAAK,IAAIoqE,aAAa,CAACjyF,IAAI,EAAE;QACtC,IAAI,CAAC6nB,KAAK,CAACwsE,WAAW,KAAK,CAAC94F,EAAE,GAAG+gB,GAAG,CAAC+2E,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG93F,EAAE,CAACxJ,IAAI,CAAErG,CAAC,IAAK;UAC7E,IAAI4tB,GAAG;UACP,OAAO,CAACA,GAAG,GAAGuO,KAAK,CAACwsE,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/6E,GAAG,CAAC3xB,GAAG,CAAC+D,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC,EAAE;UACHkrG,QAAQ,GAAGD,OAAO,CAACC,QAAQ,EAAE/uE,KAAK,CAAC;QACrC;MACF;MACAoqE,aAAa,CAACyE,OAAO,CAACp6E,GAAG,CAAC/c,QAAQ,CAAC,GAAGq3F,QAAQ;IAChD;EACF;EACA/D,eAAeA,CAACZ,aAAa,EAAE;IAC7B,IAAIhnG,EAAE;IACN,CAACA,EAAE,GAAGgnG,aAAa,CAACyE,OAAO,KAAK,IAAI,GAAGzrG,EAAE,GAAGgnG,aAAa,CAACyE,OAAO,GAAG,CAAC,CAAC;IACtE,KAAK,MAAMp6E,GAAG,IAAI,IAAI,CAAC80E,UAAU,EAAE;MACjCa,aAAa,CAACyE,OAAO,CAACp6E,GAAG,CAAC/c,QAAQ,CAAC,GAAG+c,GAAG,CAACw6E,SAAS,CAAC7E,aAAa,CAAC;IACpE;EACF;EACA2B,uBAAuBA,CAAA,EAAG;IACxB,MAAM;MAAEzgG,IAAI,EAAE2gG,OAAO;MAAEt8F,MAAM,EAAEu8F;IAAU,CAAC,GAAG,IAAI;IACjD,MAAMV,MAAM,GAAG,eAAgB,IAAIriG,GAAG,CAAC,CAAC;IACxC,KAAK,MAAMmlG,QAAQ,IAAIpC,SAAS,EAAE;MAChC,IAAI,CAACoC,QAAQ,CAAC9C,MAAM,EAClB;MACF,KAAK,MAAM3B,KAAK,IAAIyE,QAAQ,CAAC9C,MAAM,EAAE;QACnCA,MAAM,CAAC/gG,GAAG,CAACo/F,KAAK,CAAC;MACnB;IACF;IACA,MAAMz1B,UAAU,GAAG,eAAgB,IAAIz0E,GAAG,CAAC,CAAC;IAC5C,MAAMuvG,YAAY,GAAG,eAAgB,IAAIvvG,GAAG,CAAC,CAAC;IAC9C,IAAImsG,qBAAqB,GAAG,IAAI;IAChC,MAAMqD,cAAc,GAAGA,CAAA,KAAM;MAC3B,IAAI/rG,EAAE;MACN,KAAK,MAAMqxB,GAAG,IAAIv0B,OAAO,CAAC+rG,OAAO,EAAEC,SAAS,CAAC,EAAE;QAC7C,IAAIz3E,GAAG,CAAC+5E,SAAS,KAAK,UAAU,EAAE;UAChCp6B,UAAU,CAACr0E,GAAG,CAAC00B,GAAG,EAAE,IAAIszE,cAAc,CAAC,CAAC,CAAC;QAC3C,CAAC,MAAM;UACL3zB,UAAU,CAACr0E,GAAG,CAAC00B,GAAG,EAAE,IAAIwzE,gBAAgB,CAAC,CAAC,CAAC;UAC3C6D,qBAAqB,KAAKA,qBAAqB,GAAG,CAAC,CAAC1oG,EAAE,GAAGqxB,GAAG,CAAC+2E,MAAM,KAAK,IAAI,GAAGpoG,EAAE,GAAG,EAAE,EAAErH,MAAM,KAAKyvG,MAAM,CAAC9qF,IAAI,CAAC;QACjH;MACF;IACF,CAAC;IACDyuF,cAAc,CAAC,CAAC;IAChB,MAAMC,SAAS,GAAG,IAAI,CAACC,cAAc,CAACnvG,OAAO,CAAC+rG,OAAO,EAAEC,SAAS,CAAC,CAAC;IAClE,MAAML,YAAY,GAAGA,CAACp3E,GAAG,EAAEuL,KAAK,EAAEG,aAAa,EAAE0pE,KAAK,KAAK;MACzD,IAAIzmG,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;MACtB,IAAIu/E,YAAY;MAChB,IAAI70G,KAAK;MACT,IAAI20G,SAAS,CAACtvG,GAAG,CAAC20B,GAAG,CAAC/c,QAAQ,CAAC,EAAE;QAC/B,IAAI;UACFjd,KAAK,GAAG20G,SAAS,CAACv1G,GAAG,CAAC46B,GAAG,CAAC/c,QAAQ,CAAC,CAACsoB,KAAK,CAAC;QAC5C,CAAC,CAAC,OAAO/9B,KAAK,EAAE,CAChB;QACAqtG,YAAY,GAAG70G,KAAK,IAAI,IAAI;MAC9B,CAAC,MAAM;QACL60G,YAAY,GAAG76E,GAAG,CAAC/c,QAAQ,IAAIsoB,KAAK;QACpCvlC,KAAK,GAAG60G,YAAY,GAAGtvE,KAAK,CAACvL,GAAG,CAAC/c,QAAQ,CAAC,GAAG+c,GAAG,CAAC86E,YAAY;MAC/D;MACA,IAAI96E,GAAG,CAAC+6E,UAAU,IAAI,IAAI,EAAE;QAC1B,MAAMC,aAAa,GAAGH,YAAY,IAAIt5E,UAAU,CAACv7B,KAAK,CAAC;QACvDA,KAAK,GAAGg1G,aAAa,GAAG,CAAC,CAAC,GAAGh7E,GAAG,CAAC+6E,UAAU,GAAG/6E,GAAG,CAAC+6E,UAAU;QAC5DF,YAAY,GAAG,IAAI;MACrB;MACA,MAAMI,eAAe,IAAG,cAAc,IAAIj7E,GAAG;MAC7C,IAAI,CAAC66E,YAAY,IAAI,CAACI,eAAe,EAAE;QACrC,MAAMzE,SAAS,GAAG,CAAC7nG,EAAE,GAAGqxB,GAAG,CAACk1E,OAAO,CAAC9vG,GAAG,CAACgwG,KAAK,CAAC,KAAK,IAAI,GAAGzmG,EAAE,GAAG,CAAC;QAChEqxB,GAAG,CAACk1E,OAAO,CAAC5pG,GAAG,CAAC8pG,KAAK,EAAEoB,SAAS,GAAG,CAAC,CAAC;MACvC;MACA,IAAI,CAAC72B,UAAU,CAACt0E,GAAG,CAAC20B,GAAG,CAAC,EAAE;QACxB06E,cAAc,CAAC,CAAC;MAClB;MACA,IAAIG,YAAY,IAAI,EAAE,CAAC37F,EAAE,GAAG,CAACD,EAAE,GAAG+gB,GAAG,CAACk7E,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGj8F,EAAE,CAACzY,IAAI,CAACw5B,GAAG,EAAEh6B,KAAK,EAAEulC,KAAK,CAAC,KAAK,IAAI,GAAGrsB,EAAE,GAAG,IAAI,CAAC,EAAE;QACrH,IAAI,cAAc,IAAI8gB,GAAG,EAAE;UACzBh6B,KAAK,GAAGg6B,GAAG,CAACm7E,YAAY;QAC1B,CAAC,MAAM;UACL,IAAI,IAAI,CAAC56F,IAAI,KAAK,YAAY,EAAE;YAC9BrT,MAAM,CAACQ,QAAQ,CAAC,0BAA0B,OAAO1H,KAAK,YAAY,EAAE,IAAIA,KAAK,GAAG,CAAC;UACnF;UACA,OAAOuuG,aAAa;QACtB;MACF;MACA,IAAIv0E,GAAG,CAAC25E,SAAS,EAAE;QACjB,IAAI,CAACc,YAAY,CAACpvG,GAAG,CAAC20B,GAAG,CAAC,EAAE;UAC1By6E,YAAY,CAACnvG,GAAG,CAAC00B,GAAG,EAAEA,GAAG,CAAC25E,SAAS,CAAC,CAAC,CAAC;QACxC;QACA3zG,KAAK,GAAG,CAAC6Z,EAAE,GAAG46F,YAAY,CAACr1G,GAAG,CAAC46B,GAAG,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGngB,EAAE,CAAC7Z,KAAK,EAAE0lC,aAAa,KAAK6oE,aAAa,GAAG,KAAK,CAAC,GAAG7oE,aAAa,CAAC;MAC7H;MACA,CAACpQ,EAAE,GAAGqkD,UAAU,CAACv6E,GAAG,CAAC46B,GAAG,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG1E,EAAE,CAAC5sB,MAAM,CAAC1I,KAAK,CAAC;MAC9D,OAAOA,KAAK;IACd,CAAC;IACD,OAAO;MAAE25E,UAAU;MAAEy3B,YAAY;MAAEsD,cAAc;MAAE3D,MAAM;MAAEM;IAAsB,CAAC;EACpF;EACAuD,cAAcA,CAAClF,IAAI,EAAE;IACnB,MAAMtuG,MAAM,GAAG,eAAgB,IAAI8D,GAAG,CAAC,CAAC;IACxC,IAAI,IAAI,CAACqV,IAAI,KAAK,YAAY,EAAE;MAC9B,OAAOnZ,MAAM;IACf;IACA,KAAK,MAAM44B,GAAG,IAAI01E,IAAI,EAAE;MACtB,MAAM0F,MAAM,GAAGp7E,GAAG,CAAC/c,QAAQ,CAACpN,QAAQ,CAAC,GAAG,CAAC,IAAImqB,GAAG,CAAC/c,QAAQ,CAACpN,QAAQ,CAAC,GAAG,CAAC;MACvE,IAAI,CAACulG,MAAM,EACT;MACF,IAAIC,MAAM;MACV,IAAIr7E,GAAG,CAAC/c,QAAQ,CAACi5C,UAAU,CAAC,GAAG,CAAC,EAAE;QAChCm/C,MAAM,GAAG,eAAer7E,GAAG,CAAC/c,QAAQ,GAAG;MACzC,CAAC,MAAM;QACLo4F,MAAM,GAAG,gBAAgBr7E,GAAG,CAAC/c,QAAQ,GAAG;MAC1C;MACA7b,MAAM,CAACkE,GAAG,CAAC00B,GAAG,CAAC/c,QAAQ,EAAE,IAAIgiB,QAAQ,CAAC,OAAO,EAAEo2E,MAAM,CAAC,CAAC;IACzD;IACA,OAAOj0G,MAAM;EACf;AACF,CAAC;AACD,SAASsvG,gBAAgBA,CAACf,aAAa,EAAE;EACvC,IAAIhnG,EAAE,EAAEsQ,EAAE;EACV,MAAMq8F,SAAS,GAAGA,CAACh2G,IAAI,EAAEoe,IAAI,KAAK;IAChC,IAAIA,IAAI,CAACpc,MAAM,GAAG,CAAC,EAAE;MACnB4F,MAAM,CAACC,GAAG,CAAC,6BAA6B7H,IAAI,EAAE,CAAC;MAC/C4H,MAAM,CAACO,KAAK,CAACiW,IAAI,CAAC;IACpB;EACF,CAAC;EACDxW,MAAM,CAACC,GAAG,CAAC,yCAAyC,EAAEwoG,aAAa,CAAC;EACpE2F,SAAS,CAAC,aAAa,EAAE3F,aAAa,CAAC5vD,MAAM,CAAClvC,IAAI,CAAC;EACnDykG,SAAS,CAAC,eAAe,EAAE,CAAC3sG,EAAE,GAAGgnG,aAAa,CAAC5vD,MAAM,CAAC7a,MAAM,KAAK,IAAI,GAAGv8B,EAAE,GAAG,EAAE,CAAC;EAChF2sG,SAAS,CAAC,eAAe,EAAE3F,aAAa,CAAC5vD,MAAM,CAAC7qC,MAAM,CAAC;EACvDogG,SAAS,CAAC,mBAAmB,EAAE,CAACr8F,EAAE,GAAG02F,aAAa,CAAC5vD,MAAM,CAAC8vD,SAAS,KAAK,IAAI,GAAG52F,EAAE,GAAG,EAAE,CAAC;EACvF,IAAI02F,aAAa,CAACzgG,IAAI,KAAK,SAAS,EAAE;IACpC,MAAMqmG,eAAe,GAAG5F,aAAa,CAACjyF,IAAI,CAACpK,MAAM,CAAC,CAAC2xE,GAAG,EAAE9iF,IAAI,KAAK;MAC/D,IAAI60B,GAAG,EAAEC,GAAG;MACZ,MAAMpmB,IAAI,GAAG,CAACmmB,GAAG,GAAG70B,IAAI,CAAC0O,IAAI,KAAK,IAAI,GAAGmmB,GAAG,GAAG,EAAE;MACjD,MAAM64E,SAAS,GAAG,CAAC54E,GAAG,GAAG90B,IAAI,CAAC0tG,SAAS,KAAK,IAAI,GAAG54E,GAAG,GAAG,EAAE;MAC3D,MAAMu+E,QAAQ,GAAGrzG,IAAI,CAAC0O,IAAI,CAAC8E,GAAG,CAAC,MAAM,KAAK,CAAC,CAAC;MAC5C,MAAM8/F,aAAa,GAAG5F,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACl6F,GAAG,CAAC,MAAM,KAAK,CAAC,CAAC;MAC9EsvE,GAAG,CAACj8E,IAAI,CACN,GAAG7G,IAAI,CAAC+S,MAAM,CAACS,GAAG,CAAC,CAACxS,CAAC,EAAE9B,CAAC,KAAK,CAC3B,IAAGA,CAAC,KAAK,CAAC,GAAGwP,IAAI,GAAG2kG,QAAQ,GAC5B,IAAGryG,CAAC,IAAI,IAAI,GAAGA,CAAC,GAAG,EAAE,GACrB,IAAG9B,CAAC,IAAI,CAAC,GAAGwuG,SAAS,GAAG4F,aAAa,EACtC,CACH,CAAC;MACD,OAAOxwB,GAAG;IACZ,CAAC,EAAE,EAAE,CAAC;IACNqwB,SAAS,CAAC,QAAQ,EAAEC,eAAe,CAAC;EACtC,CAAC,MAAM;IACL,MAAMA,eAAe,GAAG5F,aAAa,CAACjyF,IAAI,CAACpK,MAAM,CAAC,CAAC2xE,GAAG,EAAE9iF,IAAI,KAAK;MAC/D,IAAI60B,GAAG;MACP,MAAM64E,SAAS,GAAG,CAAC74E,GAAG,GAAG70B,IAAI,CAAC0tG,SAAS,KAAK,IAAI,GAAG74E,GAAG,GAAG,EAAE;MAC3DiuD,GAAG,CAACj8E,IAAI,CAAC,CAAC,GAAG7G,IAAI,CAAC0O,IAAI,EAAE,GAAG1O,IAAI,CAAC+S,MAAM,EAAE,GAAG26F,SAAS,CAAC,CAAC;MACtD,OAAO5qB,GAAG;IACZ,CAAC,EAAE,EAAE,CAAC;IACNqwB,SAAS,CAAC,QAAQ,EAAEC,eAAe,CAAC;EACtC;AACF;;AAEA;AACA,IAAIG,eAAe,GAAG,MAAMA,eAAe,CAAC;EAC1C7tG,WAAWA,CAAC0S,IAAI,EAAE;IAChB,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACwrB,KAAK,GAAGtT,KAAK,CAAC/hB,MAAM,CAAC,IAAI,EAAE,YAAY,CAAC;IAC7C,IAAI,CAACilG,SAAS,GAAG,EAAE;IACnB,IAAI,CAACh5D,MAAM,GAAG,OAAO;EACvB;EACAi5D,OAAOA,CAACjxE,EAAE,EAAEjnB,IAAI,EAAErB,IAAI,EAAE;IACtB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAI,IAAI,CAACi7C,MAAM,KAAK,OAAO,EAAE;QAC3B,MAAM,IAAI7sC,KAAK,CAAC,kDAAkD,CAAC;MACrE;MACA,OAAO,IAAIhO,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACtC,IAAI,CAAC2zG,SAAS,CAAC3sG,IAAI,CAAC;UAAE27B,EAAE;UAAEtoB,IAAI;UAAEqB,IAAI;UAAE3b,OAAO;UAAEC;QAAO,CAAC,CAAC;MAC1D,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA6zG,OAAOA,CAAA,EAAG;IACR,IAAI,IAAI,CAACl5D,MAAM,KAAK,OAAO,EAAE;MAC3B,MAAM,IAAI7sC,KAAK,CAAC,kDAAkD,CAAC;IACrE;IACA,IAAI,CAAC6sC,MAAM,GAAG,UAAU;IACxB,IAAI,CAAC5W,KAAK,CAAC,sCAAsC,EAAE,IAAI,CAAC4vE,SAAS,CAAC;IAClE,MAAMv6F,KAAK,GAAG,IAAI,CAAC06F,gBAAgB,CAAC,IAAI,CAACH,SAAS,CAAC;IACnD,IAAI,CAAC5vE,KAAK,CAAC,sCAAsC,EAAE3qB,KAAK,CAAC;IACzD,MAAM26F,MAAM,GAAG,IAAI,CAACC,cAAc,CAAC56F,KAAK,CAAC;IACzC,IAAI,CAAC2qB,KAAK,CAAC,mCAAmC,EAAEgwE,MAAM,CAAC;IACvD,IAAI,IAAI,CAAChwE,KAAK,CAACnT,KAAK,CAAC,CAAC,EAAE;MACtBrC,SAAS,CAAC,CAAC,CAACo/E,aAAa,GAAG,EAAE;IAChC;IACA,MAAMoB,MAAM,GAAG,IAAI,CAAC4E,SAAS,CAAChgG,GAAG,CAAC,CAAC;MAAEgvB;IAAG,CAAC,KAAKA,EAAE,CAAC;IACjD,MAAMsxE,oBAAoB,GAAG,IAAI,CAACC,sBAAsB,CAAC96F,KAAK,CAAC;IAC/D,KAAK,MAAM;MAAEiB,IAAI;MAAEqB,IAAI;MAAEy4F,QAAQ;MAAE58E,OAAO;MAAEq3E;IAAI,CAAC,IAAImF,MAAM,EAAE;MAC3D,IAAI;QACF,MAAMK,SAAS,GAAG,IAAI5H,SAAS,CAACnyF,IAAI,EAAE,IAAI,CAAC9B,IAAI,CAAC;QAChD,MAAMo1F,aAAa,GAAGyG,SAAS,CAACtG,WAAW,CAACpyF,IAAI,EAAEtC,KAAK,CAAC;QACxD,IAAI,IAAI,CAAC2qB,KAAK,CAACnT,KAAK,CAAC,CAAC,EAAE;UACtBrC,SAAS,CAAC,eAAe,CAAC,CAACvnB,IAAI,CAAC2mG,aAAa,CAAC;QAChD;QACA,IAAI,CAACA,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACiC,qBAAqB,MAAM,CAAC,EAAE;UAChFuE,QAAQ,CAAC/7F,OAAO,CACd,CAACrY,OAAO,EAAEs0G,UAAU,KAAKt0G,OAAO,CAAC;YAC/Bq0G,SAAS;YACTzG,aAAa,EAAE,IAAI,CAAC2G,iBAAiB,CACnC1F,GAAG,CAACyF,UAAU,CAAC,EACf1G,aAAa,EACboB,MAAM,EACNkF,oBACF;UACF,CAAC,CACH,CAAC;QACH,CAAC,MAAM,IAAItG,aAAa,EAAE;UACxB,IAAI,CAAC4G,WAAW,CAACH,SAAS,EAAEzG,aAAa,EAAEiB,GAAG,EAAEuF,QAAQ,CAAC;QAC3D,CAAC,MAAM;UACL58E,OAAO,CAACnf,OAAO,CAAE+4E,EAAE,IAAKA,EAAE,CAAC,IAAIrjF,KAAK,CAAC,yCAAyC,CAAC,CAAC,CAAC;QACnF;MACF,CAAC,CAAC,OAAOtI,KAAK,EAAE;QACd+xB,OAAO,CAACnf,OAAO,CAAE+4E,EAAE,IAAKA,EAAE,CAAC3rF,KAAK,CAAC,CAAC;MACpC;IACF;EACF;EACA0uG,sBAAsBA,CAACM,aAAa,EAAE;IACpC,IAAIA,aAAa,CAACl1G,MAAM,EAAE;MACxB,MAAM,CAAC;QAAEoc;MAAK,CAAC,EAAE,GAAG+4F,YAAY,CAAC,GAAGD,aAAa;MACjD,OAAOC,YAAY,CAAChnG,IAAI,CAAEtM,CAAC,IAAKua,IAAI,KAAKva,CAAC,CAACua,IAAI,CAAC;IAClD;IACA,OAAO,KAAK;EACd;EACA44F,iBAAiBA,CAAC3xE,EAAE,EAAEgrE,aAAa,EAAEiB,GAAG,EAAEqF,oBAAoB,EAAE;IAC9D,MAAMS,YAAY,GAAInxE,KAAK,IAAK;MAC9B,IAAItyB,KAAK,CAACU,OAAO,CAAC4xB,KAAK,CAAC,EAAE;QACxB,OAAOA,KAAK,CAAC5vB,GAAG,CAAC+gG,YAAY,CAAC;MAChC;MACA,MAAMC,SAAS,GAAGV,oBAAoB,GAAG71G,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAEmlC,KAAK,CAAC,EAAEA,KAAK,CAACZ,EAAE,CAAC,CAAC,GAAGY,KAAK;MACrG,KAAK,MAAMqxE,OAAO,IAAIhG,GAAG,EAAE;QACzB,OAAO+F,SAAS,CAACC,OAAO,CAAC;MAC3B;MACA,OAAOD,SAAS;IAClB,CAAC;IACD,MAAME,aAAa,GAAI3hG,MAAM,IAAK;MAChC,IAAIvM,EAAE;MACN,IAAIsK,KAAK,CAACU,OAAO,CAACuB,MAAM,CAAC,EAAE;QACzB,OAAOA,MAAM,CAACS,GAAG,CAACkhG,aAAa,CAAC;MAClC;MACA,OAAO,CAACluG,EAAE,GAAGuM,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACyvB,EAAE,CAAC,KAAK,IAAI,GAAGh8B,EAAE,GAAGuM,MAAM;IAC1E,CAAC;IACD,OAAOzU,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEuvG,aAAa,CAAC,EAAE;MACtDjyF,IAAI,EAAEiyF,aAAa,CAACjyF,IAAI,CAAC/H,GAAG,CAAE4vB,KAAK,IAAK;QACtC,IAAI58B,EAAE;QACN,OAAOlI,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEmlC,KAAK,CAAC,EAAE;UAC9CA,KAAK,EAAEmxE,YAAY,CAACnxE,KAAK,CAACA,KAAK,CAAC;UAChCrwB,MAAM,EAAE+gG,oBAAoB,GAAG,CAACttG,EAAE,GAAG48B,KAAK,CAACrwB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvM,EAAE,CAACgN,GAAG,CAACkhG,aAAa,CAAC,GAAGtxE,KAAK,CAACrwB;QACtG,CAAC,CAAC;MACJ,CAAC;IACH,CAAC,CAAC;EACJ;EACA4gG,gBAAgBA,CAACH,SAAS,EAAE;IAC1B,MAAMv6F,KAAK,GAAG,EAAE;IAChB,KAAK,MAAM,CAAC9L,KAAK,EAAEsmG,OAAO,CAAC,IAAID,SAAS,CAAC3/F,OAAO,CAAC,CAAC,EAAE;MAClD,IAAI1G,KAAK,GAAG,CAAC,IAAIsmG,OAAO,CAACl4F,IAAI,CAACpc,MAAM,KAAKq0G,SAAS,CAAC,CAAC,CAAC,CAACj4F,IAAI,CAACpc,MAAM,IAAIs0G,OAAO,CAACv5F,IAAI,CAACy6F,WAAW,KAAK,KAAK,EAAE;QACvGlB,OAAO,CAAC5zG,MAAM,CACZ,IAAI8N,KAAK,CAAC,6EAA6E,CACzF,CAAC;MACH,CAAC,MAAM;QACLsL,KAAK,CAACpS,IAAI,CAAC4sG,OAAO,CAAC;MACrB;IACF;IACA,OAAOx6F,KAAK;EACd;EACA46F,cAAcA,CAACL,SAAS,EAAE;IACxB,MAAMn+E,OAAO,GAAG,EAAE;IAClB,KAAK,MAAMo+E,OAAO,IAAID,SAAS,EAAE;MAC/B,MAAM3sC,KAAK,GAAGxxC,OAAO,CAACxoB,IAAI,CAAC0mG,eAAe,CAACqB,UAAU,CAACnB,OAAO,CAAC,CAAC;MAC/D,IAAI5sC,KAAK,EAAE;QACTA,KAAK,CAAChgE,IAAI,CAAC4sG,OAAO,CAAC;MACrB,CAAC,MAAM;QACLp+E,OAAO,CAACxuB,IAAI,CAAC,CAAC4sG,OAAO,CAAC,CAAC;MACzB;IACF;IACA,OAAOp+E,OAAO,CAAC7hB,GAAG,CAAC+/F,eAAe,CAACsB,aAAa,CAAC;EACnD;EACAT,WAAWA,CAACH,SAAS,EAAEzG,aAAa,EAAEoB,MAAM,EAAEoF,QAAQ,EAAE;IACtD,KAAK,IAAI90G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0vG,MAAM,CAACzvG,MAAM,EAAED,CAAC,EAAE,EAAE;MACtC,MAAM+tG,KAAK,GAAG2B,MAAM,CAAC1vG,CAAC,CAAC;MACvB,MAAMU,OAAO,GAAGo0G,QAAQ,CAAC90G,CAAC,CAAC;MAC3BU,OAAO,CAAC;QACNq0G,SAAS;QACTzG,aAAa,EAAElvG,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEuvG,aAAa,CAAC,EAAE;UAC9DjyF,IAAI,EAAEiyF,aAAa,CAACjyF,IAAI,CAAC3M,MAAM,CAAC,CAAC;YAAEghG;UAAY,CAAC,KAAK;YACnD,IAAIppG,EAAE;YACN,OAAO,CAACA,EAAE,GAAGopG,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC1sG,GAAG,CAAC+pG,KAAK,CAAC,KAAK,IAAI,GAAGzmG,EAAE,GAAG,IAAI;UACzF,CAAC;QACH,CAAC;MACH,CAAC,CAAC;IACJ;EACF;EACA,OAAOouG,UAAUA,CAAC;IAAEr5F,IAAI;IAAErB;EAAK,CAAC,EAAE;IAChC,SAASxL,IAAIA,CAACusC,KAAK,EAAE;MACnB,OAAOA,KAAK,CAACrsC,MAAM,CAAE84B,CAAC,IAAKA,CAAC,CAAC36B,IAAI,KAAK,KAAK,CAAC,CAACyG,GAAG,CAAEk0B,CAAC,IAAKA,CAAC,CAAC5sB,QAAQ,CAAC,CAACzC,IAAI,CAAC,GAAG,CAAC;IAC/E;IACA,OAAO,CAAC,CAAC2qD,MAAM,CAAC,KAAK,CAAC9oD,IAAI,CAACy6F,WAAW,KAAK,KAAK,IAAI3xC,MAAM,CAACznD,IAAI,KAAKA,IAAI,KAAKynD,MAAM,CAAC9oD,IAAI,CAAC0zF,WAAW,KAAK1zF,IAAI,CAAC0zF,WAAW,IAAI5qC,MAAM,CAAC9oD,IAAI,CAAC2zF,SAAS,KAAK3zF,IAAI,CAAC2zF,SAAS,IAAIn/F,IAAI,CAACs0D,MAAM,CAAC9oD,IAAI,CAAC+gC,KAAK,CAAC,KAAKvsC,IAAI,CAACwL,IAAI,CAAC+gC,KAAK,CAAC;EACvN;EACA,OAAO45D,aAAaA,CAACC,QAAQ,EAAE;IAC7B,OAAOA,QAAQ,CAAC3jG,MAAM,CACpB,CAAClS,MAAM,EAAEuH,EAAE,KAAK;MACd,IAAI;UAAEg8B,EAAE;UAAEjnB,IAAI;UAAE3b,OAAO;UAAEC,MAAM;UAAEqa,IAAI,EAAEpD;QAAG,CAAC,GAAGtQ,EAAE;QAAEuQ,EAAE,GAAGD,EAAE;QAAE;UAAEmkC;QAAM,CAAC,GAAGlkC,EAAE;QAAEmD,IAAI,GAAG3b,SAAS,CAACwY,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC;MAC1G,IAAI8d,GAAG,EAAEC,GAAG,EAAEigF,GAAG,EAAEr9F,EAAE,EAAEyb,EAAE;MACzBl0B,MAAM,CAACwvG,GAAG,CAAC5nG,IAAI,CAAC27B,EAAE,CAAC;MACnBvjC,MAAM,CAACm4B,OAAO,CAACvwB,IAAI,CAAChH,MAAM,CAAC;MAC3BZ,MAAM,CAAC+0G,QAAQ,CAACntG,IAAI,CAACjH,OAAO,CAAC;MAC7B,CAACi1B,GAAG,GAAG51B,MAAM,CAACsc,IAAI,KAAK,IAAI,GAAGsZ,GAAG,GAAG51B,MAAM,CAACsc,IAAI,GAAGA,IAAI;MACtD,CAACuZ,GAAG,GAAG71B,MAAM,CAACib,IAAI,KAAK,IAAI,GAAG4a,GAAG,GAAG71B,MAAM,CAACib,IAAI,GAAG5b,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEic,IAAI,CAAC,EAAE;QAAE+gC,KAAK,EAAE;MAAG,CAAC,CAAC;MACxG,KAAK,MAAM78C,IAAI,IAAI68C,KAAK,EAAE;QACxB,MAAMlnC,KAAK,GAAGzV,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEG,IAAI,CAAC,EAAE;UAAEwwG,MAAM,EAAE,CAACpsE,EAAE;QAAE,CAAC,CAAC;QACvE+wE,eAAe,CAACyB,YAAY,CAACxyE,EAAE,EAAEzuB,KAAK,CAAC;QACvC,MAAM8yD,KAAK,GAAG5nE,MAAM,CAACib,IAAI,CAAC+gC,KAAK,CAACpuC,IAAI,CACjCooG,QAAQ,IAAKA,QAAQ,CAACloG,IAAI,KAAKgH,KAAK,CAAChH,IAAI,IAAIwmG,eAAe,CAAC2B,SAAS,CAACD,QAAQ,EAAElhG,KAAK,CACzF,CAAC;QACD,IAAI,CAAC8yD,KAAK,EAAE;UACV5nE,MAAM,CAACib,IAAI,CAAC+gC,KAAK,CAACp0C,IAAI,CAACkN,KAAK,CAAC;UAC7B;QACF;QACA,CAACghG,GAAG,GAAGluC,KAAK,CAAC+nC,MAAM,KAAK,IAAI,GAAGmG,GAAG,GAAGluC,KAAK,CAAC+nC,MAAM,GAAG,EAAE;QACtD/nC,KAAK,CAAC+nC,MAAM,CAAC/nG,IAAI,CAAC,IAAG,CAAC6Q,EAAE,GAAG3D,KAAK,CAAC66F,MAAM,KAAK,IAAI,GAAGl3F,EAAE,GAAG,EAAE,EAAC;QAC3D,IAAI,CAACmvD,KAAK,CAAC95D,IAAI,KAAK,KAAK,IAAI85D,KAAK,CAAC95D,IAAI,KAAK,OAAO,MAAM,CAAComB,EAAE,GAAGpf,KAAK,CAACy6F,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGr7E,EAAE,CAACrP,IAAI,CAAC,EAAE;UACxGyvF,eAAe,CAAC4B,WAAW,CAACphG,KAAK,CAACy6F,MAAM,EAAE3nC,KAAK,CAAC2nC,MAAM,CAAC;QACzD;MACF;MACA,OAAOvvG,MAAM;IACf,CAAC,EACD;MAAEwvG,GAAG,EAAE,EAAE;MAAEr3E,OAAO,EAAE,EAAE;MAAE48E,QAAQ,EAAE,EAAE;MAAEz4F,IAAI,EAAE,IAAI;MAAErB,IAAI,EAAE;IAAK,CAC/D,CAAC;EACH;EACA,OAAOi7F,WAAWA,CAACC,OAAO,EAAEC,KAAK,EAAE;IACjC,KAAK,MAAM,CAACpI,KAAK,EAAEwB,GAAG,CAAC,IAAI2G,OAAO,EAAE;MAClC,IAAIC,KAAK,CAACnyG,GAAG,CAAC+pG,KAAK,CAAC,EAAE;QACpB,KAAK,MAAMzqE,EAAE,IAAIisE,GAAG,EAAE;UACpB4G,KAAK,CAACp4G,GAAG,CAACgwG,KAAK,CAAC,CAACp/F,GAAG,CAAC20B,EAAE,CAAC;QAC1B;MACF,CAAC,MAAM;QACL6yE,KAAK,CAAClyG,GAAG,CAAC8pG,KAAK,EAAE,IAAI1gG,GAAG,CAACkiG,GAAG,CAAC,CAAC;MAChC;IACF;EACF;EACA,OAAOuG,YAAYA,CAAC/H,KAAK,EAAE7uG,IAAI,EAAE;IAC/B,IAAIoI,EAAE;IACN,IAAIpI,IAAI,CAACokC,EAAE,IAAI,IAAI,EACjB;IACF,CAACh8B,EAAE,GAAGpI,IAAI,CAACowG,MAAM,KAAK,IAAI,GAAGhoG,EAAE,GAAGpI,IAAI,CAACowG,MAAM,GAAG,eAAgB,IAAIzrG,GAAG,CAAC,CAAC;IACzE,IAAI3E,IAAI,CAACowG,MAAM,CAACtrG,GAAG,CAAC+pG,KAAK,CAAC,EAAE;MAC1B7uG,IAAI,CAACowG,MAAM,CAACvxG,GAAG,CAACgwG,KAAK,CAAC,CAACp/F,GAAG,CAACzP,IAAI,CAACokC,EAAE,CAAC;IACrC,CAAC,MAAM;MACLpkC,IAAI,CAACowG,MAAM,CAACrrG,GAAG,CAAC8pG,KAAK,EAAE,eAAgB,IAAI1gG,GAAG,CAAC,CAACnO,IAAI,CAACokC,EAAE,CAAC,CAAC,CAAC;IAC5D;EACF;EACA,OAAO0yE,SAASA,CAACh3G,CAAC,EAAEC,CAAC,EAAE;IACrB,IAAID,CAAC,KAAKC,CAAC,EAAE;MACX,OAAO,IAAI;IACb;IACA,IAAID,CAAC,IAAIC,CAAC,IAAI,OAAOD,CAAC,IAAI,QAAQ,IAAI,OAAOC,CAAC,IAAI,QAAQ,EAAE;MAC1D,IAAID,CAAC,CAACwH,WAAW,KAAKvH,CAAC,CAACuH,WAAW,EAAE;QACnC,OAAO,KAAK;MACd;MACA,IAAIxG,CAAC,EAAEC,MAAM;MACb,IAAI2R,KAAK,CAACU,OAAO,CAACtT,CAAC,CAAC,EAAE;QACpBiB,MAAM,GAAGjB,CAAC,CAACiB,MAAM;QACjB,IAAIA,MAAM,KAAKhB,CAAC,CAACgB,MAAM,EAAE;UACvB,OAAO,KAAK;QACd;QACA,KAAKD,CAAC,GAAGC,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;UAChC,IAAI,CAACq0G,eAAe,CAAC2B,SAAS,CAACh3G,CAAC,CAACgB,CAAC,CAAC,EAAEf,CAAC,CAACe,CAAC,CAAC,CAAC,EAAE;YAC1C,OAAO,KAAK;UACd;QACF;QACA,OAAO,IAAI;MACb;MACA,MAAMwP,IAAI,GAAG5S,MAAM,CAAC4S,IAAI,CAACxQ,CAAC,CAAC;MAC3BiB,MAAM,GAAGuP,IAAI,CAACvP,MAAM;MACpB,IAAIA,MAAM,KAAKrD,MAAM,CAAC4S,IAAI,CAACvQ,CAAC,CAAC,CAACgB,MAAM,EAAE;QACpC,OAAO,KAAK;MACd;MACA,KAAKD,CAAC,GAAGC,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;QAChC,MAAMtB,GAAG,GAAG8Q,IAAI,CAACxP,CAAC,CAAC;QACnB,IAAI,CAACq0G,eAAe,CAACF,QAAQ,CAACnwG,GAAG,CAACtF,GAAG,CAAC,KAAK,CAAC9B,MAAM,CAACuV,MAAM,CAAClT,CAAC,EAAEP,GAAG,CAAC,IAAI,CAAC21G,eAAe,CAAC2B,SAAS,CAACh3G,CAAC,CAACN,GAAG,CAAC,EAAEO,CAAC,CAACP,GAAG,CAAC,CAAC,CAAC,EAAE;UAChH,OAAO,KAAK;QACd;MACF;MACA,OAAO,IAAI;IACb;IACA,OAAO,KAAK;EACd;AACF,CAAC;AACD;AACA21G,eAAe,CAACF,QAAQ,GAAG,eAAgB,IAAI9mG,GAAG,CAAC,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;AACtF,IAAI+oG,cAAc,GAAG/B,eAAe;;AAEpC;AACA,IAAIgC,YAAY,GAAG,MAAMA,YAAY,SAASjd,WAAW,CAAC;EACxD5yF,WAAWA,CAACm0E,KAAK,EAAE;IACjB,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,KAAK,GAAGA,KAAK;EACpB;EACA27B,SAASA,CAAC/+E,OAAO,GAAG8+E,YAAY,CAACE,aAAa,EAAE;IAC9C,IAAIC,SAAS,GAAG,IAAI,CAACz4G,GAAG,CAACw5B,OAAO,CAAC;IACjC,IAAI,CAACi/E,SAAS,EAAE;MACdA,SAAS,GAAG,eAAgB,IAAInpG,GAAG,CAAC,CAAC;MACrCgpG,YAAY,CAACI,YAAY,CAACxyG,GAAG,CAACszB,OAAO,EAAEi/E,SAAS,CAAC;IACnD;IACAA,SAAS,CAAC7nG,GAAG,CAAC,IAAI,CAACgsE,KAAK,CAAC;IACzB,OAAO,IAAI;EACb;EACA+7B,WAAWA,CAACn/E,OAAO,GAAG8+E,YAAY,CAACE,aAAa,EAAE;IAChD,IAAIjvG,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACvJ,GAAG,CAACw5B,OAAO,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjwB,EAAE,CAACqS,MAAM,CAAC,IAAI,CAACghE,KAAK,CAAC;IACjE,OAAO,IAAI;EACb;EACAg8B,QAAQA,CAAA,EAAG;IACT,OAAO,IAAI,CAACh8B,KAAK;EACnB;EACAi8B,QAAQA,CAACr/E,OAAO,GAAG8+E,YAAY,CAACE,aAAa,EAAE;IAC7C,MAAMC,SAAS,GAAG,IAAI,CAACz4G,GAAG,CAACw5B,OAAO,CAAC;IACnC,OAAOi/E,SAAS,GAAG5kG,KAAK,CAACC,IAAI,CAAC2kG,SAAS,CAAC,GAAG,EAAE;EAC/C;EACAK,gBAAgBA,CAACt/E,OAAO,GAAG8+E,YAAY,CAACE,aAAa,EAAE;IACrD,OAAO,IAAI,CAACK,QAAQ,CAACr/E,OAAO,CAAC,CAAC7nB,MAAM,CAAEirE,KAAK,IAAKA,KAAK,KAAK,IAAI,CAACA,KAAK,CAAC;EACvE;EACA58E,GAAGA,CAACw5B,OAAO,EAAE;IACX,OAAO8+E,YAAY,CAACI,YAAY,CAAC14G,GAAG,CAACw5B,OAAO,CAAC;EAC/C;AACF,CAAC;AACD8+E,YAAY,CAACI,YAAY,GAAG,eAAgB,IAAI5yG,GAAG,CAAC,CAAC;AACrDwyG,YAAY,CAACE,aAAa,GAAGp4G,MAAM,CAAC,oBAAoB,CAAC;AACzD,IAAI24G,WAAW,GAAGT,YAAY;;AAE9B;AACA,IAAIU,WAAW,GAAG,cAAc3d,WAAW,CAAC;EAC1C5yF,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACkyD,gBAAgB,GAAG,eAAgB,IAAInzG,GAAG,CAAC,CAAC;IACjD,IAAI,CAAC2iE,KAAK,GAAG,IAAIw6B,YAAY,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC;IAChD,IAAI,CAACiW,eAAe,GAAG,eAAgB,IAAIpzG,GAAG,CAAC,CAAC;EAClD;EACAqzG,UAAUA,CAACr+F,IAAI,EAAE;IACf,IAAIvR,EAAE;IACN,MAAM6vG,YAAY,GAAG,IAAItzG,GAAG,CAACgV,IAAI,CAACvE,GAAG,CAAEwE,IAAI,IAAK,CAACA,IAAI,CAACwqB,EAAE,EAAE,IAAI,CAAC0zE,gBAAgB,CAACj5G,GAAG,CAAC+a,IAAI,CAACwqB,EAAE,CAAC,CAAC,CAAC,CAAC;IAC/F,IAAI,CAAC0zE,gBAAgB,CAAC9yG,KAAK,CAAC,CAAC;IAC7B,KAAK,MAAM4U,IAAI,IAAID,IAAI,EAAE;MACvB,IAAI,CAACm+F,gBAAgB,CAAC/yG,GAAG,CAAC6U,IAAI,CAACwqB,EAAE,EAAE,CAACh8B,EAAE,GAAG6vG,YAAY,CAACp5G,GAAG,CAAC+a,IAAI,CAACwqB,EAAE,CAAC,KAAK,IAAI,GAAGh8B,EAAE,GAAG,IAAI8vG,eAAe,CAACt+F,IAAI,CAAC,CAAC;IAC/G;IACA,IAAI,IAAI,CAAC0tD,KAAK,CAAC5hD,IAAI,GAAG,CAAC,IAAI/L,IAAI,CAAC5Y,MAAM,GAAG,CAAC,EAAE;MAC1C,IAAI,CAACo3G,UAAU,CAAC,IAAI,CAAC7wC,KAAK,CAAC06B,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC16B,KAAK,CAAC26B,UAAU,CAAC,CAAC,CAAC;IAChE;EACF;EACAkW,UAAUA,CAAC9V,QAAQ,EAAE+V,OAAO,EAAEC,gBAAgB,GAAG,IAAI,EAAEC,cAAc,EAAE;IACrE,IAAIlwG,EAAE;IACN,IAAIkwG,cAAc,EAAE;MAClB,IAAI,CAACP,eAAe,CAAChzG,GAAG,CAACs9F,QAAQ,EAAEiW,cAAc,CAAC;IACpD;IACA,IAAI,IAAI,CAACR,gBAAgB,CAACpyF,IAAI,KAAK,CAAC,EAAE;MACpC,MAAMs8E,OAAO,GAAG,IAAI,CAAC16B,KAAK,CAAC06B,OAAO,CAAC,CAAC;MACpC,IAAIA,OAAO,KAAK,SAAS,IAAIA,OAAO,KAAKK,QAAQ,IAAIgW,gBAAgB,EAAE;QACrE,IAAI,CAAC/wC,KAAK,CAACviE,GAAG,CAACs9F,QAAQ,EAAE+V,OAAO,CAAC;QACjC,IAAIpW,OAAO,KAAKK,QAAQ,EAAE;UACxB,CAACj6F,EAAE,GAAG,IAAI,CAAC2vG,eAAe,CAACl5G,GAAG,CAACmjG,OAAO,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG55F,EAAE,CAACi6F,QAAQ,CAAC;QAC1E;MACF,CAAC,MAAM;QACLiW,cAAc,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,cAAc,CAACtW,OAAO,CAAC;MAC3D;MACA;IACF;IACA,IAAI,CAAC16B,KAAK,CAACviE,GAAG,CAACs9F,QAAQ,EAAE+V,OAAO,CAAC;IACjC,IAAI,CAACN,gBAAgB,CAACj+F,OAAO,CAAED,IAAI,IAAK;MACtCA,IAAI,CAACu+F,UAAU,CAAC9V,QAAQ,EAAE+V,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACx+F,IAAI,CAAC2+F,YAAY,CAAC,CAAC,CAAC,CAAC;IACpF,CAAC,CAAC;IACF,IAAI,CAACC,YAAY,CAACnW,QAAQ,CAAC;EAC7B;EACAoW,cAAcA,CAACpW,QAAQ,EAAEld,MAAM,EAAEizB,OAAO,EAAE;IACxC,IAAIhwG,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAAC0vG,gBAAgB,CAACj5G,GAAG,CAACsmF,MAAM,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/8E,EAAE,CAAC+vG,UAAU,CAAC9V,QAAQ,EAAE+V,OAAO,CAAC;IAC5F,IAAI,CAACI,YAAY,CAACnW,QAAQ,CAAC;EAC7B;EACA;EACAqW,qBAAqBA,CAACrW,QAAQ,EAAE;IAC9B,IAAI,CAAC97E,SAAS,CAACiwE,QAAQ,CAAC,gBAAgB,EAAE;MAAE7nF,IAAI,EAAE,gBAAgB;MAAE0zF;IAAS,CAAC,CAAC;EACjF;EACAsW,OAAOA,CAAA,EAAG;IACR,IAAI32G,CAAC;IACL,IAAI85B,CAAC;IACL,IAAI,CAACg8E,gBAAgB,CAACj+F,OAAO,CAAED,IAAI,IAAK;MACtC,IAAIA,IAAI,CAAC2+F,YAAY,CAAC,CAAC,KAAK,GAAG,CAAC,SAAS;QACvCv2G,CAAC,IAAI,IAAI,GAAGA,CAAC,GAAGA,CAAC,GAAG4X,IAAI,CAAC++F,OAAO,CAAC,CAAC;MACpC,CAAC,MAAM,IAAI/+F,IAAI,CAAC2+F,YAAY,CAAC,CAAC,KAAK,GAAG,CAAC,SAAS;QAC9Cz8E,CAAC,IAAI,IAAI,GAAGA,CAAC,GAAGA,CAAC,GAAGliB,IAAI,CAAC++F,OAAO,CAAC,CAAC;MACpC;IACF,CAAC,CAAC;IACF,IAAI32G,CAAC,IAAI85B,CAAC,EAAE;MACV,OAAO;QAAE95B,CAAC;QAAE85B;MAAE,CAAC;IACjB;EACF;EACA88E,WAAWA,CAACzzB,MAAM,EAAE;IAClB,IAAI/8E,EAAE,EAAEsQ,EAAE;IACV,OAAO,CAACA,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC0vG,gBAAgB,CAACj5G,GAAG,CAACsmF,MAAM,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/8E,EAAE,CAACuwG,OAAO,CAAC,CAAC,KAAK,IAAI,GAAGjgG,EAAE,GAAG;MAAEuV,GAAG,EAAE,CAAC;MAAEhlB,GAAG,EAAE;IAAE,CAAC;EAC1H;EACA4vG,YAAYA,CAAA,EAAG;IACb,MAAMl/F,IAAI,GAAG,CAAC,CAAC;IACf,KAAK,MAAM,CAACwrE,MAAM,EAAEvrE,IAAI,CAAC,IAAI,IAAI,CAACk+F,gBAAgB,CAACriG,OAAO,CAAC,CAAC,EAAE;MAC5DkE,IAAI,CAACwrE,MAAM,CAAC,GAAG;QACb9gB,SAAS,EAAEzqD,IAAI,CAAC2+F,YAAY,CAAC,CAAC;QAC9BO,IAAI,EAAEl/F,IAAI,CAAC++F,OAAO,CAAC;MACrB,CAAC;IACH;IACA,OAAOh/F,IAAI;EACb;EACA6+F,YAAYA,CAACnW,QAAQ,EAAE;IACrB,MAAMvc,OAAO,GAAGpzE,KAAK,CAACC,IAAI,CAAC,IAAI,CAACmlG,gBAAgB,CAACnjG,MAAM,CAAC,CAAC,EAAGiF,IAAI,IAAKA,IAAI,CAAC4+F,YAAY,CAAC,CAAC,CAAC,CAACtpG,IAAI,CAACwmB,OAAO,CAAC;IACvG,IAAI,CAACowD,OAAO,EAAE;MACZ;IACF;IACA,MAAMnsE,IAAI,GAAG,CAAC,CAAC;IACf,KAAK,MAAM,CAACwrE,MAAM,EAAEvrE,IAAI,CAAC,IAAI,IAAI,CAACk+F,gBAAgB,CAACriG,OAAO,CAAC,CAAC,EAAE;MAC5DkE,IAAI,CAACwrE,MAAM,CAAC,GAAGvrE,IAAI,CAAC++F,OAAO,CAAC,CAAC;IAC/B;IACA,IAAI,CAACpyF,SAAS,CAACiwE,QAAQ,CAAC,aAAa,EAAEt2F,aAAa,CAACL,cAAc,CAAC;MAAE8O,IAAI,EAAE;IAAc,CAAC,EAAE,IAAI,CAACgqG,OAAO,CAAC,CAAC,CAAC,EAAE;MAAEh/F,IAAI;MAAE0oF;IAAS,CAAC,CAAC,CAAC;EACpI;AACF,CAAC;AACD,IAAI6V,eAAe,GAAG,MAAM;EAC1B5wG,WAAWA,CAACsS,IAAI,EAAE;IAChB,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,MAAM,CAACqU,GAAG,GAAG,CAAC,EAAEhlB,GAAG,GAAG,CAAC,CAAC,GAAG2Q,IAAI,CAAC2gE,YAAY;IAC5C,IAAI,CAACjT,KAAK,GAAG,IAAIw6B,YAAY,CAAC;MAAE7zE,GAAG;MAAEhlB;IAAI,CAAC,CAAC;IAC3C,IAAI,CAAC8vG,WAAW,GAAG,IAAI,CAACzxC,KAAK,CAAC26B,UAAU,CAAC,CAAC;EAC5C;EACAsW,YAAYA,CAAA,EAAG;IACb,OAAO,IAAI,CAAC3+F,IAAI,CAACyqD,SAAS;EAC5B;EACA8zC,UAAUA,CAAC9V,QAAQ,EAAE+V,OAAO,EAAE;IAC5B,IAAI,CAAC9wC,KAAK,CAACviE,GAAG,CAACs9F,QAAQ,EAAE+V,OAAO,CAAC;EACnC;EACAO,OAAOA,CAAA,EAAG;IACR,OAAOp9F,SAAS,CAAC,IAAI,CAAC+rD,KAAK,CAAC26B,UAAU,CAAC,CAAC,CAAC;EAC3C;EACAuW,YAAYA,CAAA,EAAG;IACb,MAAMQ,QAAQ,GAAG,IAAI,CAACD,WAAW;IACjC,IAAI,CAACA,WAAW,GAAG,IAAI,CAACzxC,KAAK,CAAC26B,UAAU,CAAC,CAAC;IAC1C,OAAO+W,QAAQ,CAAC/qF,GAAG,KAAK,IAAI,CAAC8qF,WAAW,CAAC9qF,GAAG,IAAI+qF,QAAQ,CAAC/vG,GAAG,KAAK,IAAI,CAAC8vG,WAAW,CAAC9vG,GAAG;EACvF;AACF,CAAC;;AAED;AACA,IAAIgwG,QAAQ,GAAG,cAAc/+F,cAAc,CAAC;EAC1C5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAChiC,OAAO,GAAG,KAAK;EACtB;AACF,CAAC;AACDljB,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAE62D,QAAQ,CAAC16G,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACpCmC,eAAe,CAAC,CACdugD,QAAQ,CAACsB,MAAM,CAAC,CACjB,EAAE02D,QAAQ,CAAC16G,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;;AAErC;AACA,SAAS26G,wBAAwBA,CAAC3iC,aAAa,EAAE4iC,IAAI,EAAE;EACrD,MAAM;IAAEj4E,IAAI;IAAEk4E;EAAa,CAAC,GAAGD,IAAI;EACnC,IAAIC,YAAY,EAAE;IAChB7iC,aAAa,CAACuyB,wBAAwB,CAACqQ,IAAI,CAACj4E,IAAI,CAAC;EACnD;EACA,IAAIA,IAAI,KAAK,KAAK,CAAC,EAAE;IACnB,MAAM;MAAEl/B,CAAC,EAAEk0E,OAAO;MAAEp6C,CAAC,EAAEm+B;IAAQ,CAAC,GAAG/4B,IAAI,CAACjE,aAAa,CAAC,CAAC;IACvD,OAAO;MAAEtuB,IAAI,EAAE,UAAU;MAAEunE,OAAO;MAAEjc;IAAQ,CAAC;EAC/C;EACA,OAAO,KAAK,CAAC;AACf;;AAEA;AACA,IAAIo/C,wBAAwB,GAAG,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAC;AACjE,IAAIC,oBAAoB,GAAG,CACzB,UAAU,EACV,kBAAkB,EAClB,cAAc,EACd,QAAQ,EACR,KAAK,EACL,MAAM,CACP;AACD,SAASC,wBAAwBA,CAAC3/F,IAAI,EAAE;EACtC,MAAM4/F,YAAY,GAAGF,oBAAoB;EACzC,OAAOE,YAAY,CAAClqG,QAAQ,CAACsK,IAAI,CAACjL,IAAI,CAAC;AACzC;AACA,SAAS8qG,sBAAsBA,CAAC9zG,OAAO,EAAE;EACvC,MAAM6zG,YAAY,GAAGF,oBAAoB;EACzC,OAAOE,YAAY,CAAClqG,QAAQ,CAAC3J,OAAO,CAACgJ,IAAI,CAAC;AAC5C;AACA,SAAS+qG,cAAcA,CAACpzF,QAAQ,EAAE;EAChC,MAAMqzF,gBAAgB,GAAGN,wBAAwB;EACjD,OAAO,OAAO/yF,QAAQ,KAAK,QAAQ,IAAIqzF,gBAAgB,CAACrqG,QAAQ,CAACgX,QAAQ,CAAC;AAC5E;AACA,IAAIszF,mBAAmB,GAAG,MAAM;EAC9BtyG,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACzG,MAAM,GAAG,EAAE;IAChB,IAAI,CAACga,KAAK,GAAG,EAAE;IACf,IAAI,CAACgkC,OAAO,GAAG,EAAE;EACnB;EACAp2C,IAAIA,CAACmR,IAAI,EAAEjU,OAAO,EAAE;IAClB,MAAM;MAAE9E,MAAM;MAAEga,KAAK;MAAEgkC;IAAQ,CAAC,GAAG,IAAI;IACvC,IAAI46D,sBAAsB,CAAC9zG,OAAO,CAAC,EAAE;MACnC,IAAI+zG,cAAc,CAAC/zG,OAAO,CAAC2gB,QAAQ,CAAC,EAAE;QACpCzL,KAAK,CAACpS,IAAI,CAACmR,IAAI,CAAC;MAClB,CAAC,MAAM;QACLilC,OAAO,CAACp2C,IAAI,CAACmR,IAAI,CAAC;MACpB;IACF;IACA/Y,MAAM,CAAC4H,IAAI,CAACmR,IAAI,CAAC;EACnB;EACAigG,qBAAqBA,CAAA,EAAG;IACtB,MAAMC,aAAa,GAAG,IAAI,CAACj/F,KAAK,CAACrK,MAAM,CAAE5N,CAAC,IAAK22G,wBAAwB,CAAC32G,CAAC,CAAC,CAAC,CAACwS,GAAG,CAAExS,CAAC,IAAKA,CAAC,CAAC0jB,QAAQ,CAAC,CAAC9V,MAAM,CAAE5N,CAAC,IAAKA,CAAC,KAAK,KAAK,CAAC,CAAC;IAC9H,MAAMm3G,OAAO,GAAG,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAC;IAClD,KAAK,MAAMC,WAAW,IAAI,IAAI,CAACn7D,OAAO,EAAE;MACtC,IAAIo7D,SAAS,GAAGF,OAAO,CAAC1jG,GAAG,CAAC,CAAC;MAC7B,OAAOyjG,aAAa,CAACxqG,QAAQ,CAAC2qG,SAAS,CAAC,IAAIA,SAAS,KAAK,KAAK,CAAC,EAAE;QAChEA,SAAS,GAAGF,OAAO,CAAC1jG,GAAG,CAAC,CAAC;MAC3B;MACA,IAAI4jG,SAAS,KAAK,KAAK,CAAC,EACtB;MACFD,WAAW,CAAC1zF,QAAQ,GAAG2zF,SAAS;IAClC;IACA,OAAO,IAAI,CAACp5G,MAAM;EACpB;AACF,CAAC;;AAED;AACA,IAAIq5G,aAAa,GAAG,CAClB,WAAW,EACX,MAAM,EACN,MAAM,EACN,SAAS,EACT,UAAU,EACV,WAAW,EACX,cAAc,EACd,SAAS,EACT,SAAS,EACT,YAAY,CACb;AACD,SAASC,kBAAkBA,CAACvhG,MAAM,EAAEwhG,SAAS,EAAEC,aAAa,EAAE;EAC5D,IAAIjyG,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;EAClB,MAAMghG,WAAW,GAAGA,CAAC3rG,IAAI,EAAE7N,CAAC,KAAK;IAC/B,MAAMD,MAAM,GAAG,CAAC8N,IAAI,CAAC;IACrB,KAAK,MAAMnP,GAAG,IAAI06G,aAAa,EAAE;MAC/B,IAAI16G,GAAG,IAAIsB,CAAC,IAAIA,CAAC,CAACtB,GAAG,CAAC,IAAI,IAAI,EAC5BqB,MAAM,CAAC4H,IAAI,CAAC,GAAGjJ,GAAG,IAAIsB,CAAC,CAACtB,GAAG,CAAC,EAAE,CAAC;IACnC;IACA,OAAOqB,MAAM,CAACoZ,IAAI,CAAC,GAAG,CAAC;EACzB,CAAC;EACD,MAAMqD,SAAS,GAAG,eAAgB,IAAI3Y,GAAG,CAAC,CAAC;EAC3C,IAAI4sD,GAAG,GAAG,CAAC;EACX,KAAK,MAAM1oD,CAAC,IAAI+P,MAAM,EAAE;IACtB,MAAMpZ,GAAG,GAAG86G,WAAW,CAACzxG,CAAC,CAAC8F,IAAI,EAAE9F,CAAC,CAACsR,UAAU,CAAC;IAC7C,IAAI,CAACmD,SAAS,CAACxY,GAAG,CAACtF,GAAG,CAAC,EAAE;MACvB8d,SAAS,CAACvY,GAAG,CAACvF,GAAG,EAAE,EAAE,CAAC;IACxB;IACA,CAAC4I,EAAE,GAAGkV,SAAS,CAACze,GAAG,CAACW,GAAG,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG4I,EAAE,CAACK,IAAI,CAAC,CAACI,CAAC,EAAE0oD,GAAG,EAAE,CAAC,CAAC;EAClE;EACA,MAAMgpD,OAAO,GAAG,eAAgB,IAAI51G,GAAG,CAAC,CAAC;EACzC,KAAK,MAAMk6D,CAAC,IAAIu7C,SAAS,EAAE;IACzB,MAAM56G,GAAG,GAAG86G,WAAW,CAACz7C,CAAC,CAAClwD,IAAI,EAAEkwD,CAAC,CAAC;IAClC,IAAI,CAAC07C,OAAO,CAACz1G,GAAG,CAACtF,GAAG,CAAC,EAAE;MACrB+6G,OAAO,CAACx1G,GAAG,CAACvF,GAAG,EAAE,EAAE,CAAC;IACtB;IACA,CAACkZ,EAAE,GAAG6hG,OAAO,CAAC17G,GAAG,CAACW,GAAG,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGkZ,EAAE,CAACjQ,IAAI,CAACo2D,CAAC,CAAC;EACvD;EACA,MAAM27C,OAAO,GAAG,CAAC,GAAGl9F,SAAS,CAAChN,IAAI,CAAC,CAAC,CAAC,CAACpB,IAAI,CAAEvM,CAAC,IAAK43G,OAAO,CAACz1G,GAAG,CAACnC,CAAC,CAAC,CAAC;EACjE,IAAI,CAAC63G,OAAO,EAAE;IACZ,OAAO;MAAEp+D,MAAM,EAAE,YAAY;MAAEq+D,OAAO,EAAEn9F,SAAS,CAAChN,IAAI,CAAC,CAAC;MAAEoqG,OAAO,EAAEH,OAAO,CAACjqG,IAAI,CAAC;IAAE,CAAC;EACrF;EACA,MAAMqqG,OAAO,GAAG,EAAE;EAClB,IAAIC,SAAS,GAAG,CAAC,CAAC;EAClB,KAAK,MAAM,CAACp7G,GAAG,EAAEq7G,QAAQ,CAAC,IAAIN,OAAO,CAAC9kG,OAAO,CAAC,CAAC,EAAE;IAC/C,KAAK,MAAMqG,IAAI,IAAI++F,QAAQ,EAAE;MAC3BD,SAAS,EAAE;MACX,MAAME,WAAW,GAAGx9F,SAAS,CAACze,GAAG,CAACW,GAAG,CAAC;MACtC,IAAIs7G,WAAW,IAAI,IAAI,IAAIA,WAAW,CAAC/5G,MAAM,GAAG,CAAC,EAAE;QACjD45G,OAAO,CAAClyG,IAAI,CAAC;UAAEqT,IAAI;UAAEy1C,GAAG,EAAEqpD,SAAS;UAAEx+D,MAAM,EAAE;QAAM,CAAC,CAAC;QACrD9+B,SAAS,CAAC7C,MAAM,CAACjb,GAAG,CAAC;QACrB;MACF;MACA,MAAM,CAACu7G,YAAY,EAAEC,SAAS,CAAC,GAAGF,WAAW,CAACx+B,KAAK,CAAC,CAAC;MACrD,MAAM2+B,YAAY,GAAG,CAACtiG,EAAE,GAAG0hG,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACW,SAAS,CAAC,KAAK,IAAI,GAAGriG,EAAE,GAAG,CAAC,CAAC;MACvG,MAAM2C,KAAK,GAAGH,QAAQ,CAAC8/F,YAAY,EAAEn/F,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,CAAC,CAAC,CAAC;MAC9D,MAAM;QAAE8b,UAAU;QAAEC;MAAW,CAAC,GAAG,CAACve,EAAE,GAAGgC,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACwc,cAAc,KAAK,IAAI,GAAGxe,EAAE,GAAG,CAAC,CAAC;MACzG,IAAIse,UAAU,IAAI,IAAI,IAAIC,UAAU,IAAI,IAAI,EAAE;QAC5C8iF,OAAO,CAAClyG,IAAI,CAAC;UAAEqT,IAAI;UAAElD,MAAM,EAAEmiG,YAAY;UAAEG,IAAI,EAAE5/F,KAAK;UAAEi2C,GAAG,EAAEypD,SAAS;UAAE5+D,MAAM,EAAE;QAAkB,CAAC,CAAC;MACtG,CAAC,MAAM,IAAI9gC,KAAK,EAAE;QAChBq/F,OAAO,CAAClyG,IAAI,CAAC;UAAEqT,IAAI;UAAElD,MAAM,EAAEmiG,YAAY;UAAEG,IAAI,EAAE5/F,KAAK;UAAEi2C,GAAG,EAAEypD,SAAS;UAAE5+D,MAAM,EAAE;QAAS,CAAC,CAAC;MAC7F,CAAC,MAAM;QACLu+D,OAAO,CAAClyG,IAAI,CAAC;UAAEqT,IAAI;UAAElD,MAAM,EAAEmiG,YAAY;UAAExpD,GAAG,EAAEypD,SAAS;UAAE5+D,MAAM,EAAE;QAAQ,CAAC,CAAC;MAC/E;MACA,IAAI0+D,WAAW,CAAC/5G,MAAM,KAAK,CAAC,EAAE;QAC5Buc,SAAS,CAAC7C,MAAM,CAACjb,GAAG,CAAC;MACvB;IACF;EACF;EACA,KAAK,MAAMs7G,WAAW,IAAIx9F,SAAS,CAAC3I,MAAM,CAAC,CAAC,EAAE;IAC5C,KAAK,MAAM,CAAComG,YAAY,EAAEC,SAAS,CAAC,IAAIF,WAAW,EAAE;MACnDH,OAAO,CAAClyG,IAAI,CAAC;QAAEmQ,MAAM,EAAEmiG,YAAY;QAAExpD,GAAG,EAAEypD,SAAS;QAAE5+D,MAAM,EAAE;MAAS,CAAC,CAAC;IAC1E;EACF;EACA,OAAO;IAAEA,MAAM,EAAE,SAAS;IAAEu+D;EAAQ,CAAC;AACvC;;AAEA;AACA,IAAIQ,cAAc,GAAG,cAAc90C,SAAS,CAAC;EAC3C+0C,YAAYA,CAACz1G,OAAO,EAAE;IACpB,KAAK,MAAMwJ,CAAC,IAAI,IAAI,CAACm3D,SAAS,CAAC3xD,MAAM,CAAC,CAAC,EAAE;MACvC,IAAIxF,CAAC,CAACb,MAAM,CAACM,UAAU,IAAIjJ,OAAO,IAAI2U,YAAY,CAACnL,CAAC,CAACo3D,cAAc,CAAC,EAAE;QACpEp3D,CAAC,CAACo3D,cAAc,CAACxhE,GAAG,CAACY,OAAO,CAACwJ,CAAC,CAACb,MAAM,CAACM,UAAU,CAAC,CAAC;MACpD;IACF;EACF;EACA,CAACysG,OAAOA,CAAA,EAAG;IACT,KAAK,MAAM;MAAE/sG,MAAM;MAAEi4D;IAAe,CAAC,IAAI,IAAI,CAACD,SAAS,CAAC3xD,MAAM,CAAC,CAAC,EAAE;MAChE,IAAIrG,MAAM,CAACK,IAAI,KAAK,QAAQ,EAC1B;MACF,MAAM;QACJmQ,UAAU,EAAExQ,MAAM,CAACO,UAAU;QAC7BwX,MAAM,EAAEkgD;MACV,CAAC;IACH;EACF;AACF,CAAC;;AAED;AACA,IAAI+0C,qBAAqB,GAAG,kBAAkB;AAC9C,IAAIC,0BAA0B,GAAG,uBAAuB;AACxD,IAAIC,OAAO,GAAG,cAActhG,cAAc,CAAC;EACzC5S,WAAWA,CAAC8S,SAAS,EAAEqhG,WAAW,EAAE;IAClC,KAAK,CAAC,CAAC;IACP,IAAI,CAACrhG,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACqhG,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACz0F,SAAS,GAAG,KAAK;EACxB;EACA00F,OAAOA,CAAA,EAAG;IACR,IAAItzG,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAACyb,IAAI,KAAK,IAAI,GAAGzb,EAAE,GAAG,IAAI,CAACqzG,WAAW;EACzD;EACAE,UAAUA,CAAC1gE,gBAAgB,EAAEwY,IAAI,EAAE;IACjC,IAAIrrD,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACwrE,OAAO,KAAK,IAAI,GAAGxrE,EAAE,GAAG,IAAI,CAACwrE,OAAO,GAAG3jD,aAAa,CAAC,KAAK,EAAEqrF,qBAAqB,EAAE;MAAEh1F,QAAQ,EAAE;IAAW,CAAC,CAAC;IACvH,IAAI,CAACstD,OAAO,CAACxjD,SAAS,CAACikD,MAAM,CAACknC,0BAA0B,EAAE,IAAI,CAACv0F,SAAS,CAAC;IACzE,IAAI,CAAC40F,QAAQ,GAAGnoD,IAAI;IACpB,MAAMtjC,QAAQ,GAAG,IAAI,CAACyjD,OAAO;IAC7BzjD,QAAQ,CAACzL,KAAK,CAACsB,IAAI,GAAG,GAAGytC,IAAI,CAACzxD,CAAC,IAAI;IACnCmuB,QAAQ,CAACzL,KAAK,CAACmB,GAAG,GAAG,GAAG4tC,IAAI,CAAC33B,CAAC,IAAI;IAClC3L,QAAQ,CAACzL,KAAK,CAACH,KAAK,GAAG,GAAGkvC,IAAI,CAAClvC,KAAK,IAAI;IACxC4L,QAAQ,CAACzL,KAAK,CAACmY,MAAM,GAAG,GAAG42B,IAAI,CAAC52B,MAAM,IAAI;IAC1C,IAAI,IAAI,CAACg/E,QAAQ,EAAE;MACjB,MAAMC,WAAW,GAAG,IAAI,CAACD,QAAQ,CAAC,CAAC;MACnC,IAAIC,WAAW,YAAYznG,WAAW,EAAE;QACtC8b,QAAQ,CAAC4rF,eAAe,CAACD,WAAW,CAAC;MACvC,CAAC,MAAM;QACL3rF,QAAQ,CAACiB,SAAS,GAAG0qF,WAAW;MAClC;IACF,CAAC,MAAM;MACL,MAAMj0C,OAAO,GAAG53C,aAAa,CAAC,KAAK,EAAE;QACnCQ,OAAO,EAAE,MAAM;QACfurF,UAAU,EAAE,QAAQ;QACpBC,cAAc,EAAE,QAAQ;QACxBC,SAAS,EAAE,YAAY;QACvBr/E,MAAM,EAAE,MAAM;QACds/E,MAAM,EAAE,KAAK;QACbrjD,IAAI,EAAE;MACR,CAAC,CAAC;MACF+O,OAAO,CAACu0C,SAAS,GAAG,IAAI,CAACV,OAAO,CAAC,CAAC;MAClCvrF,QAAQ,CAAC4rF,eAAe,CAACl0C,OAAO,CAAC;MACjC5sB,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC2B,OAAO,CAAC;QAC3DjqC,IAAI,EAAE,CAAC;QACPmnC,EAAE,EAAE,CAAC;QACL1V,EAAE,EAAE,SAAS;QACbiV,KAAK,EAAE,KAAK;QACZhhB,OAAO,EAAE,SAAS;QAClBuhB,QAAQA,CAACn6C,KAAK,EAAE;UACd0wB,QAAQ,CAACzL,KAAK,CAAC+sC,OAAO,GAAG7S,MAAM,CAACn/C,KAAK,CAAC;QACxC,CAAC;QACDk6C,MAAMA,CAAA,EAAG;UACPxpB,QAAQ,CAACzL,KAAK,CAAC+sC,OAAO,GAAG,GAAG;QAC9B;MACF,CAAC,CAAC;IACJ;IACA,OAAO,IAAI,CAACmiB,OAAO;EACrB;EACAyoC,aAAaA,CAACphE,gBAAgB,EAAE;IAC9B,IAAI,CAAC,IAAI,CAAC24B,OAAO,EACf;IACF,IAAI34B,gBAAgB,EAAE;MACpB,MAAM;QAAE24B,OAAO,EAAEzjD;MAAS,CAAC,GAAG,IAAI;MAClC8qB,gBAAgB,CAAC2B,OAAO,CAAC;QACvBjqC,IAAI,EAAE,CAAC;QACPmnC,EAAE,EAAE,CAAC;QACLT,KAAK,EAAE,QAAQ;QACfjV,EAAE,EAAE,SAAS;QACb/L,OAAO,EAAE,SAAS;QAClBuhB,QAAQA,CAACn6C,KAAK,EAAE;UACd0wB,QAAQ,CAACzL,KAAK,CAAC+sC,OAAO,GAAG7S,MAAM,CAACn/C,KAAK,CAAC;QACxC,CAAC;QACDk6C,MAAMA,CAAA,EAAG;UACPxpB,QAAQ,CAAC6nB,MAAM,CAAC,CAAC;QACnB;MACF,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,IAAI,CAAC47B,OAAO,CAAC57B,MAAM,CAAC,CAAC;IACvB;IACA,IAAI,CAAC47B,OAAO,GAAG,KAAK,CAAC;IACrB,IAAI,CAACgoC,QAAQ,GAAG,KAAK,CAAC;EACxB;AACF,CAAC;AACDl7G,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE4gG,OAAO,CAACj9G,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAChCmC,eAAe,CAAC,CACdugD,QAAQ,CAACoB,QAAQ,EAAE;EAAEznC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACvC,EAAE4gG,OAAO,CAACj9G,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACpCmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEo5D,OAAO,CAACj9G,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;;AAErC;AACA,IAAI+9G,aAAa,GAAG,cAAcpiG,cAAc,CAAC;EAC/C5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACz+B,OAAO,GAAG,IAAIq0F,OAAO,CAAC,0BAA0B,EAAE,iBAAiB,CAAC;IACzE,IAAI,CAACp0F,MAAM,GAAG,IAAIo0F,OAAO,CAAC,0BAA0B,EAAE,oBAAoB,CAAC;IAC3E,IAAI,CAACn0F,eAAe,GAAG,IAAIm0F,OAAO,CAAC,4BAA4B,EAAE,mBAAmB,CAAC;EACvF;EACAe,YAAYA,CAAA,EAAG;IACb,KAAK,MAAMC,OAAO,IAAI,CAAC,IAAI,CAACr1F,OAAO,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACC,eAAe,CAAC,EAAE;MACvE,IAAIm1F,OAAO,CAACZ,QAAQ,KAAK,KAAK,CAAC,EAAE;QAC/B,OAAO;UAAE/3F,IAAI,EAAE24F,OAAO,CAACd,OAAO,CAAC,CAAC;UAAEjoD,IAAI,EAAE+oD,OAAO,CAACZ;QAAS,CAAC;MAC5D;IACF;IACA,OAAO,KAAK,CAAC;EACf;EACA9tG,OAAOA,CAAA,EAAG;IACR,IAAI,CAACqZ,OAAO,CAACk1F,aAAa,CAAC,CAAC;IAC5B,IAAI,CAACj1F,MAAM,CAACi1F,aAAa,CAAC,CAAC;IAC3B,IAAI,CAACh1F,eAAe,CAACg1F,aAAa,CAAC,CAAC;EACtC;AACF,CAAC;AACD37G,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEq6D,aAAa,CAAC/9G,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEq6D,aAAa,CAAC/9G,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACxCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEq6D,aAAa,CAAC/9G,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;;AAEjD;AACA,IAAIk+G,iBAAiB,GAAG;AACxB,GAAGnB,qBAAqB;AACxB;AACA;AACA;AACA,GAAGA,qBAAqB,IAAIC,0BAA0B;AACtD;AACA;AACA;AACA,GAAGD,qBAAqB;AACxB;AACA;AACA;AACA,GAAGA,qBAAqB;AACxB;AACA;AACA;AACA,GAAGA,qBAAqB,IAAIC,0BAA0B,KAAKD,qBAAqB;AAChF;AACA;AACA,CAAC;AACD,SAASoB,iBAAiBA,CAAC74F,IAAI,EAAE21B,eAAe,EAAE;EAChD,MAAM;IAAE1B;EAAkB,CAAC,GAAGF,cAAc,CAAC,KAAK,CAAC;EACnD,MAAM2B,QAAQ,GAAGzB,iBAAiB,GAAG0B,eAAe;EACpD,MAAMnd,SAAS,GAAGpM,aAAa,CAAC,KAAK,EAAE,GAAGqrF,qBAAqB,WAAW,EAAE;IAC1E7qF,OAAO,EAAE,MAAM;IACfurF,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,QAAQ;IACxBU,aAAa,EAAE,QAAQ;IACvB9/E,MAAM,EAAE,MAAM;IACdq/E,SAAS,EAAE,YAAY;IACvBpjD,IAAI,EAAE,0BAA0B;IAChC;IACA8jD,UAAU,EAAE,MAAM;IAClB5jB,SAAS,EAAE,qBAAqBz/C,QAAQ;EAC1C,CAAC,CAAC;EACF,MAAMpX,MAAM,GAAGlS,aAAa,CAAC,MAAM,EAAE;IACnC1L,KAAK,EAAE,MAAM;IACbsY,MAAM,EAAE,MAAM;IACdggF,eAAe,EAAE,CACf,iFAAiF,EACjF,iFAAiF,EACjF,+EAA+E,CAChF,CAAC5iG,IAAI,CAAC,EAAE,CAAC;IACV6iG,cAAc,EAAE,WAAW;IAC3BC,gBAAgB,EAAE,WAAW;IAC7B/jB,SAAS,EAAE;EACb,CAAC,CAAC;EACF,MAAM70E,KAAK,GAAG8L,aAAa,CAAC,GAAG,EAAE;IAAE+sF,SAAS,EAAE;EAAM,CAAC,CAAC;EACtD74F,KAAK,CAACi4F,SAAS,GAAGv4F,IAAI;EACtB,MAAM+B,UAAU,GAAGqK,aAAa,CAAC,KAAK,EAAE,GAAGqrF,qBAAqB,sBAAsB,EAAE;IACtFh1F,QAAQ,EAAE,UAAU;IACpB22F,KAAK,EAAE,GAAG;IACVxrD,OAAO,EAAE,KAAK;IACdxtB,MAAM,EAAE;EACV,CAAC,CAAC;EACF,MAAMi5E,eAAe,GAAGjtF,aAAa,CAAC,OAAO,CAAC;EAC9CitF,eAAe,CAACd,SAAS,GAAG,CAC1B,wEAAwE,EACxE,uCAAuC,EACvC,qDAAqD,EACrD,6DAA6D,EAC7D,GAAG,CACJ,CAACniG,IAAI,CAAC,GAAG,CAAC;EACXoiB,SAAS,CAAC0/E,eAAe,CAACmB,eAAe,EAAE/6E,MAAM,EAAEhe,KAAK,EAAEyB,UAAU,CAAC;EACrEmL,WAAW,CAAC0rF,iBAAiB,EAAE,eAAe,CAAC;EAC/C,OAAOpgF,SAAS;AAClB;;AAEA;AACA,SAAS8gF,SAASA,CAACxoG,MAAM,EAAEyoG,WAAW,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;EAC/C,KAAK,MAAM39G,KAAK,IAAIkV,MAAM,EAAE;IAC1B,IAAI,OAAOlV,KAAK,KAAK,QAAQ,EAAE;MAC7B;IACF;IACA,IAAIA,KAAK,GAAG,CAAC,EAAE;MACb29G,WAAW,CAAC,CAAC,CAAC,IAAI39G,KAAK;IACzB;IACA,IAAIA,KAAK,GAAG,CAAC,EAAE;MACb29G,WAAW,CAAC,CAAC,CAAC,IAAI39G,KAAK;IACzB;EACF;EACA,OAAO29G,WAAW;AACpB;AACA,SAASC,GAAGA,CAACj5E,EAAE,EAAEsqE,YAAY,EAAE;EAC7B,MAAM7tG,MAAM,GAAG;IACbujC,EAAE;IACFqqE,aAAa,EAAE,CAACC,YAAY,CAAC;IAC7B//F,IAAI,EAAE,WAAW;IACjBkkG,iBAAiB,EAAGl+F,MAAM,IAAKwoG,SAAS,CAACxoG,MAAM;EACjD,CAAC;EACD,OAAO9T,MAAM;AACf;AACA,SAASy8G,QAAQA,CAACl5E,EAAE,EAAEsqE,YAAY,EAAE;EAClC,OAAO;IACLtqE,EAAE;IACFz1B,IAAI,EAAE,WAAW;IACjB8/F,aAAa,EAAEC,YAAY,GAAG,CAACA,YAAY,CAAC,GAAG,KAAK,CAAC;IACrDmE,iBAAiB,EAAGl+F,MAAM,IAAKwoG,SAAS,CAACxoG,MAAM,CAAC;IAChD69F,sBAAsB,EAAEA,CAAC5wG,IAAI,EAAE8iF,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK;MAC9C,IAAIt8E,EAAE,EAAEsQ,EAAE;MACVgsE,GAAG,CAAC,CAAC,CAAC,IAAI,CAACt8E,EAAE,GAAGxG,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,GAAGwG,EAAE,GAAG,CAAC;MACjEs8E,GAAG,CAAC,CAAC,CAAC,IAAI,CAAChsE,EAAE,GAAG9W,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG8W,EAAE,GAAG,CAAC;MACjE,OAAOgsE,GAAG;IACZ;EACF,CAAC;AACH;AACA,SAAS64B,MAAMA,CAACn5E,EAAE,EAAEsqE,YAAY,EAAE;EAChC,MAAM7tG,MAAM,GAAG;IACbujC,EAAE;IACFqqE,aAAa,EAAE,CAACC,YAAY,CAAC;IAC7B//F,IAAI,EAAE,WAAW;IACjBkkG,iBAAiB,EAAGl+F,MAAM,IAAKs4F,gBAAgB,CAACE,YAAY,CAACx4F,MAAM;EACrE,CAAC;EACD,OAAO9T,MAAM;AACf;AACA,SAASk3B,UAAUA,CAACqM,EAAE,EAAE;EACtB,OAAO;IACLA,EAAE;IACFz1B,IAAI,EAAE,WAAW;IACjBkkG,iBAAiB,EAAEA,CAAA,KAAM,CAAC,CAAC,EAAE,CAAC,CAAC;IAC/BL,sBAAsB,EAAEA,CAAC5wG,IAAI,EAAE8iF,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK;MAC9C,IAAIt8E,EAAE,EAAEsQ,EAAE;MACVgsE,GAAG,CAAC,CAAC,CAAC,IAAI,CAACt8E,EAAE,GAAGxG,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,GAAGwG,EAAE,GAAG,CAAC;MACjEs8E,GAAG,CAAC,CAAC,CAAC,IAAI,CAAChsE,EAAE,GAAG9W,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG8W,EAAE,GAAG,CAAC;MACjE,OAAOgsE,GAAG;IACZ;EACF,CAAC;AACH;AACA,SAAS84B,YAAYA,CAACp5E,EAAE,EAAEsqE,YAAY,EAAE;EACtC,MAAMj1E,GAAG,GAAG;IACV2K,EAAE;IACFqqE,aAAa,EAAEC,YAAY,GAAG,CAACA,YAAY,CAAC,GAAG,KAAK,CAAC;IACrD//F,IAAI,EAAE,WAAW;IACjBkkG,iBAAiB,EAAGl+F,MAAM,IAAKwoG,SAAS,CAACxoG,MAAM,CAAC;IAChD69F,sBAAsB,EAAEA,CAAC5wG,IAAI,EAAE8iF,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK;MAClD,IAAIt8E,EAAE,EAAEsQ,EAAE;MACVgsE,GAAG,CAAC,CAAC,CAAC,IAAI,CAACt8E,EAAE,GAAGxG,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,GAAGwG,EAAE,GAAG,CAAC;MACjEs8E,GAAG,CAAC,CAAC,CAAC,IAAI,CAAChsE,EAAE,GAAG9W,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG8W,EAAE,GAAG,CAAC;MACjEgsE,GAAG,CAAC,CAAC,CAAC,EAAE;MACR,OAAOA,GAAG;IACZ,CAAC;IACDquB,aAAa,EAAEA,CAACruB,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK;MAClC,MAAM7jF,MAAM,GAAG6jF,GAAG,CAAC,CAAC,CAAC,GAAGA,GAAG,CAAC,CAAC,CAAC;MAC9B,IAAI7jF,MAAM,IAAI,CAAC,EAAE;QACf,OAAO,CAAC,CAAC,EAAEA,MAAM,GAAG6jF,GAAG,CAAC,CAAC,CAAC,CAAC;MAC7B;MACA,OAAO,CAAC7jF,MAAM,GAAG6jF,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAC7B;EACF,CAAC;EACD,OAAOjrD,GAAG;AACZ;AACA,SAASgkF,IAAIA,CAACr5E,EAAE,EAAEs5E,KAAK,EAAEhP,YAAY,EAAE;EACrC,MAAM7tG,MAAM,GAAG;IACbujC,EAAE;IACFqqE,aAAa,EAAEC,YAAY,GAAG,CAACA,YAAY,CAAC,GAAG,KAAK,CAAC;IACrD//F,IAAI,EAAE,WAAW;IACjBkkG,iBAAiB,EAAEA,CAACl+F,MAAM,EAAEgpG,QAAQ,GAAG,EAAE,KAAK;MAC5C,MAAMC,QAAQ,GAAGD,QAAQ,CAAC,CAAC,CAAC,GAAGA,QAAQ,CAAC,CAAC,CAAC;MAC1C,OAAOD,KAAK,CAAC7K,iBAAiB,CAACl+F,MAAM,CAAC,CAACS,GAAG,CAAExS,CAAC,IAAKA,CAAC,GAAGg7G,QAAQ,CAAC;IACjE;EACF,CAAC;EACD,IAAIF,KAAK,CAAClL,sBAAsB,EAAE;IAChC3xG,MAAM,CAAC2xG,sBAAsB,GAAGkL,KAAK,CAAClL,sBAAsB;EAC9D;EACA,OAAO3xG,MAAM;AACf;AACA,SAASg9G,gBAAgBA,CAACC,YAAY,EAAE;EACtC,OAAO,MAAM;IACX,IAAIr+G,KAAK,GAAG,CAAC;IACb,OAAQulC,KAAK,IAAK;MAChB,IAAI,CAAC/wB,cAAc,CAAC+wB,KAAK,CAAC,EAAE;QAC1B,OAAOA,KAAK;MACd;MACAvlC,KAAK,IAAIq+G,YAAY,GAAG1+G,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE+7B,KAAK,CAAC,GAAGA,KAAK;MAClD,OAAOvlC,KAAK;IACd,CAAC;EACH,CAAC;AACH;AACA,SAASs+G,wBAAwBA,CAAA,EAAG;EAClC,OAAO,MAAM;IACX,IAAIt+G,KAAK,GAAG,CAAC;IACb,OAAQulC,KAAK,IAAK;MAChB,IAAI,CAAC/wB,cAAc,CAAC+wB,KAAK,CAAC,EAAE;QAC1B,OAAOA,KAAK;MACd;MACA,MAAMg5E,aAAa,GAAGv+G,KAAK;MAC3BA,KAAK,IAAIulC,KAAK;MACd,OAAOg5E,aAAa;IACtB,CAAC;EACH,CAAC;AACH;;AAEA;AACA,IAAIC,qBAAqB,GAAG;EAC1BtvG,IAAI,EAAE,SAAS;EACf+N,QAAQ,EAAE,qBAAqB;EAC/Bs3F,YAAY,EAAE9lF,QAAQ;EACtB4lF,OAAO,EAAEA,CAAA,KAAM;IACb,IAAIoK,KAAK,GAAG3vF,GAAG;IACf,OAAO,CAAC4vF,aAAa,GAAGjwF,QAAQ,EAAEtsB,IAAI,KAAK;MACzC,MAAMw8G,KAAK,GAAGx8G,IAAI,CAAC0O,IAAI,CAAC,CAAC,CAAC;MAC1B,MAAMyuC,QAAQ,GAAG3/C,IAAI,CAAC27B,GAAG,CAACqjF,KAAK,GAAGF,KAAK,CAAC;MACxCA,KAAK,GAAGE,KAAK;MACb,IAAI,CAAC5qG,KAAK,CAACurC,QAAQ,CAAC,IAAIA,QAAQ,GAAG,CAAC,IAAIA,QAAQ,GAAGo/D,aAAa,EAAE;QAChE,OAAOp/D,QAAQ;MACjB;MACA,OAAOo/D,aAAa;IACtB,CAAC;EACH;AACF,CAAC;AACD,IAAIE,kBAAkB,GAAG;EACvB1vG,IAAI,EAAE,WAAW;EACjB+N,QAAQ,EAAE,mBAAmB;EAC7Bu3F,SAAS,EAAEA,CAAC;IAAEz0D,MAAM,EAAE;MAAE7a;IAAO;EAAE,CAAC,KAAKA,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACxuB,KAAK,CAAC,CAAC,CAACy3C,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAK;IAC7F,KAAK,IAAIe,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhB,CAAC,CAACiB,MAAM,EAAED,CAAC,EAAE,EAAE;MACjC,MAAMD,MAAM,GAAGf,CAAC,CAACgB,CAAC,CAAC,GAAGf,CAAC,CAACe,CAAC,CAAC;MAC1B,IAAID,MAAM,KAAK,CAAC,EAAE;QAChB,OAAOA,MAAM;MACf;IACF;IACA,OAAO,CAAC;EACV,CAAC;AACH,CAAC;AACD,SAASy9G,kBAAkBA,CAAC;EAAEC,WAAW;EAAEvkG;AAAK,CAAC,EAAE;EACjD,MAAMwkG,SAAS,GAAGA,CAACrrG,GAAG,EAAEs5C,OAAO,KAAK;IAClC,MAAM5rD,MAAM,GAAGsS,GAAG,GAAGorG,WAAW,GAAG9xD,OAAO;IAC1C,IAAI5rD,MAAM,IAAI,CAAC,EAAE;MACf,OAAOzB,IAAI,CAAC6uB,GAAG,CAACswF,WAAW,EAAE19G,MAAM,CAAC;IACtC;IACA,OAAOzB,IAAI,CAAC6J,GAAG,CAAC,CAACs1G,WAAW,EAAE19G,MAAM,CAAC;EACvC,CAAC;EACD,OAAO,MAAM,MAAM,CAAC8T,MAAM,EAAEg/F,YAAY,KAAK;IAC3C,MAAM8K,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,KAAK,MAAM9L,QAAQ,IAAIgB,YAAY,EAAE;MACnC,MAAMl0G,KAAK,GAAGkV,MAAM,CAACg+F,QAAQ,CAAC;MAC9B,MAAM+L,MAAM,GAAGj/G,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;MAChC,IAAIua,IAAI,KAAK,KAAK,EAAE;QAClBykG,YAAY,CAACC,MAAM,CAAC,IAAIj/G,KAAK;MAC/B,CAAC,MAAM,IAAIi/G,MAAM,KAAK,CAAC,EAAE;QACvBD,YAAY,CAACC,MAAM,CAAC,GAAGt/G,IAAI,CAAC6uB,GAAG,CAACwwF,YAAY,CAACC,MAAM,CAAC,EAAEj/G,KAAK,CAAC;MAC9D,CAAC,MAAM;QACLg/G,YAAY,CAACC,MAAM,CAAC,GAAGt/G,IAAI,CAAC6J,GAAG,CAACw1G,YAAY,CAACC,MAAM,CAAC,EAAEj/G,KAAK,CAAC;MAC9D;IACF;IACA,MAAMgtD,OAAO,GAAGrtD,IAAI,CAAC6J,GAAG,CAAC7J,IAAI,CAAC27B,GAAG,CAAC0jF,YAAY,CAAC,CAAC,CAAC,CAAC,EAAEA,YAAY,CAAC,CAAC,CAAC,CAAC;IACpE,KAAK,MAAM9L,QAAQ,IAAIgB,YAAY,EAAE;MACnCh/F,MAAM,CAACg+F,QAAQ,CAAC,GAAG6L,SAAS,CAAC7pG,MAAM,CAACg+F,QAAQ,CAAC,EAAElmD,OAAO,CAAC;IACzD;EACF,CAAC;AACH;AACA,SAASkyD,gBAAgBA,CAAClQ,aAAa,EAAE8P,WAAW,EAAEvkG,IAAI,GAAG,KAAK,EAAE;EAClE,OAAO;IACLrL,IAAI,EAAE,uBAAuB;IAC7B8/F,aAAa;IACb4E,MAAM,EAAEp7C,IAAI,CAAC;MAAEsmD,WAAW;MAAEvkG;IAAK,CAAC,EAAEskG,kBAAkB;EACxD,CAAC;AACH;AACA,SAASM,0BAA0BA,CAAC;EAClCL,WAAW;EACXM,UAAU;EACVC,QAAQ;EACRC;AACF,CAAC,EAAE;EACD,MAAMC,aAAa,GAAGT,WAAW,CAAC,CAAC,CAAC,GAAGA,WAAW,CAAC,CAAC,CAAC;EACrD,MAAMC,SAAS,GAAGA,CAACrrG,GAAG,EAAElL,KAAK,EAAEo0E,IAAI,KAAK;IACtC,MAAMx7E,MAAM,GAAG09G,WAAW,CAAC,CAAC,CAAC,GAAG,CAACprG,GAAG,GAAGlL,KAAK,IAAIo0E,IAAI,GAAG2iC,aAAa;IACpE,IAAI3iC,IAAI,KAAK,CAAC,EAAE;MACd,OAAOwiC,UAAU;IACnB,CAAC,MAAM,IAAIh+G,MAAM,IAAI09G,WAAW,CAAC,CAAC,CAAC,EAAE;MACnC,OAAOA,WAAW,CAAC,CAAC,CAAC;IACvB,CAAC,MAAM,IAAI19G,MAAM,GAAG09G,WAAW,CAAC,CAAC,CAAC,EAAE;MAClC,OAAOA,WAAW,CAAC,CAAC,CAAC;IACvB;IACA,OAAO19G,MAAM;EACf,CAAC;EACD,OAAO,MAAM,CAACo+G,KAAK,EAAEC,IAAI,KAAK;IAC5B,IAAI,CAACj3G,KAAK,EAAEkwC,GAAG,CAAC,GAAG8mE,KAAK,CAACz/D,MAAM,CAAC7qC,MAAM,CAACuqG,IAAI,CAAC;IAC5C,IAAIJ,QAAQ,IAAI,IAAI,EAClB72G,KAAK,GAAG62G,QAAQ;IAClB,IAAIC,QAAQ,IAAI,IAAI,EAClB5mE,GAAG,GAAG4mE,QAAQ;IAChB,MAAM1iC,IAAI,GAAGlkC,GAAG,GAAGlwC,KAAK;IACxBg3G,KAAK,CAACz/D,MAAM,CAAC7qC,MAAM,CAACuqG,IAAI,CAAC,GAAG,CAACX,WAAW,CAAC,CAAC,CAAC,EAAEA,WAAW,CAAC,CAAC,CAAC,CAAC;IAC5D,KAAK,MAAM35C,MAAM,IAAIq6C,KAAK,CAAC9hG,IAAI,EAAE;MAC/B,IAAIgiG,WAAW,GAAGv6C,MAAM,CAACjwD,MAAM;MAC/B,IAAIsqG,KAAK,CAACtwG,IAAI,KAAK,WAAW,EAAE;QAC9BwwG,WAAW,GAAG,CAACA,WAAW,CAAC;MAC7B;MACA,KAAK,MAAMxqG,MAAM,IAAIwqG,WAAW,EAAE;QAChCxqG,MAAM,CAACuqG,IAAI,CAAC,GAAGV,SAAS,CAAC7pG,MAAM,CAACuqG,IAAI,CAAC,EAAEj3G,KAAK,EAAEo0E,IAAI,CAAC;MACrD;IACF;EACF,CAAC;AACH;AACA,SAAS+iC,mBAAmBA,CAAC1iG,QAAQ,EAAE6hG,WAAW,EAAEM,UAAU,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EAClF,OAAO;IACLpwG,IAAI,EAAE,0BAA0B;IAChC+N,QAAQ;IACR22F,MAAM,EAAEp7C,IAAI,CAAC;MAAEsmD,WAAW;MAAEO,QAAQ;MAAEC,QAAQ;MAAEF;IAAW,CAAC,EAAED,0BAA0B;EAC1F,CAAC;AACH;AACA,SAASS,mBAAmBA,CAACC,WAAW,EAAE;EACxC,OAAO;IACL3wG,IAAI,EAAE,WAAW;IACjB+N,QAAQ,EAAE,qBAAqB;IAC/Bu3F,SAASA,CAACpzG,MAAM,EAAE;MAChB,MAAM;QAAEyP,IAAI;QAAEqE;MAAO,CAAC,GAAG9T,MAAM,CAACsuG,IAAI;MACpC,MAAM;QAAE12F,KAAK;QAAE0E;MAAK,CAAC,GAAGtc,MAAM;MAC9B,IAAI0+G,UAAU,GAAG,IAAI;MACrB,IAAIC,WAAW,GAAG,IAAI;MACtB,MAAMC,SAAS,GAAG,EAAE;MACpB,KAAK,IAAI98G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgS,MAAM,CAAC5T,MAAM,EAAE4B,CAAC,EAAE,EAAE;QACtC,IAAI,EAAE28G,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAChwG,QAAQ,CAACqF,MAAM,CAAChS,CAAC,CAAC,CAACyhC,EAAE,CAAC,CAAC,EACtE;QACFq7E,SAAS,CAACh3G,IAAI,CAAC,CAAC9F,CAAC,EAAEgS,MAAM,CAAChS,CAAC,CAAC,CAAC,CAAC;MAChC;MACA,MAAM+8G,UAAU,GAAGA,CAACnuD,GAAG,EAAE93B,GAAG,EAAE9qB,IAAI,KAAK;QACrC,IAAIvG,EAAE;QACN,IAAIqxB,GAAG,CAAC+5E,SAAS,KAAK,UAAU,EAAE;UAChC,MAAMmM,SAAS,GAAG9+G,MAAM,CAAC2+C,MAAM,CAAC7wC,IAAI,CAAC,CAAC4iD,GAAG,CAAC;UAC1CguD,UAAU,KAAKA,UAAU,GAAGI,SAAS,CAAC5+G,MAAM,KAAK0X,KAAK,CAACue,KAAK,CAAC;UAC7D;QACF;QACA,IAAIouB,SAAS,GAAG,CAACh9C,EAAE,GAAG+U,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/U,EAAE,CAACuG,IAAI,CAAC,CAAC4iD,GAAG,CAAC;QAC/D,KAAK,IAAI3pD,CAAC,GAAG,CAAC,EAAE,CAAC23G,UAAU,IAAIC,WAAW,KAAK53G,CAAC,GAAGuV,IAAI,CAACpc,MAAM,EAAE6G,CAAC,EAAE,EAAE;UACnE,MAAMg4G,QAAQ,GAAGziG,IAAI,CAACvV,CAAC,CAAC,CAAC+G,IAAI,CAAC,CAAC4iD,GAAG,CAAC;UACnCiuD,WAAW,KAAKA,WAAW,GAAGp6D,SAAS,IAAIw6D,QAAQ,CAAC;UACpDL,UAAU,KAAKA,UAAU,GAAGn6D,SAAS,KAAKw6D,QAAQ,CAAC;UACnDx6D,SAAS,GAAGw6D,QAAQ;QACtB;MACF,CAAC;MACD,KAAK,IAAIj9G,CAAC,GAAG,CAAC,EAAE,CAAC48G,UAAU,IAAIC,WAAW,KAAK78G,CAAC,GAAG2N,IAAI,CAACvP,MAAM,EAAE4B,CAAC,EAAE,EAAE;QACnE+8G,UAAU,CAAC/8G,CAAC,EAAE2N,IAAI,CAAC3N,CAAC,CAAC,EAAE,MAAM,CAAC;MAChC;MACA,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAE,CAAC48G,UAAU,IAAIC,WAAW,KAAK78G,CAAC,GAAG88G,SAAS,CAAC1+G,MAAM,EAAE4B,CAAC,EAAE,EAAE;QACxE,MAAM,CAAC4uD,GAAG,EAAE/xD,GAAG,CAAC,GAAGigH,SAAS,CAAC98G,CAAC,CAAC;QAC/B+8G,UAAU,CAACnuD,GAAG,EAAE/xD,GAAG,EAAE,QAAQ,CAAC;MAChC;MACA,OAAO;QAAE+/G,UAAU;QAAEC;MAAY,CAAC;IACpC;EACF,CAAC;AACH;AACA,SAASK,eAAeA,CAAC;EAAE7lG,IAAI;EAAE8lG;AAAiB,CAAC,EAAE;EACnD,OAAO,MAAM,MAAM,CAACnrG,MAAM,EAAEg/F,YAAY,KAAK;IAC3C,MAAMjvB,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClB,KAAK,MAAMiuB,QAAQ,IAAIgB,YAAY,EAAE;MACnC,MAAMoM,UAAU,GAAGprG,MAAM,CAACg+F,QAAQ,CAAC;MACnC,MAAMqN,QAAQ,GAAGhlF,UAAU,CAAC+kF,UAAU,CAAC,IAAID,gBAAgB,GAAG,CAAC,GAAG,CAAC;MACnE,IAAI,CAAC7rG,cAAc,CAAC8rG,UAAU,CAAC,EAC7B;MACF,IAAI/lG,IAAI,KAAK,QAAQ,EACnB0qE,GAAG,CAACs7B,QAAQ,CAAC,IAAID,UAAU;MAC7BprG,MAAM,CAACg+F,QAAQ,CAAC,GAAGjuB,GAAG,CAACs7B,QAAQ,CAAC;MAChC,IAAIhmG,IAAI,KAAK,UAAU,EACrB0qE,GAAG,CAACs7B,QAAQ,CAAC,IAAID,UAAU;IAC/B;EACF,CAAC;AACH;AACA,SAASE,qBAAqBA,CAAC;EAAEjmG,IAAI;EAAEqjG,GAAG,EAAE1/C;AAAK,CAAC,EAAE;EAClD,OAAO,MAAM;IACX,MAAMuiD,UAAU,GAAG,EAAE;IACrB,IAAIC,QAAQ,GAAG,IAAI;IACnB,OAAO,MAAM;MACX,OAAO,CAACxrG,MAAM,EAAEg/F,YAAY,KAAK;QAC/B,IAAIjvB,GAAG,GAAG,CAAC;QACX,KAAK,MAAMiuB,QAAQ,IAAIgB,YAAY,EAAE;UACnC,MAAMoM,UAAU,GAAGprG,MAAM,CAACg+F,QAAQ,CAAC;UACnC,MAAMvtD,SAAS,GAAG+6D,QAAQ,IAAIxiD,IAAI,KAAK,SAAS,GAAG,CAAC,GAAGuiD,UAAU,CAACvN,QAAQ,CAAC;UAC3EuN,UAAU,CAACvN,QAAQ,CAAC,GAAGoN,UAAU;UACjC,MAAMK,QAAQ,GAAGziD,IAAI,KAAK,SAAS,GAAGoiD,UAAU,GAAG36D,SAAS;UAC5D,IAAI,CAACnxC,cAAc,CAAC8rG,UAAU,CAAC,IAAI,CAAC9rG,cAAc,CAACmxC,SAAS,CAAC,EAAE;YAC7DzwC,MAAM,CAACg+F,QAAQ,CAAC,GAAGjuB,GAAG;YACtB;UACF;UACA,IAAI1qE,IAAI,KAAK,QAAQ,EAAE;YACrB0qE,GAAG,IAAI07B,QAAQ;UACjB;UACAzrG,MAAM,CAACg+F,QAAQ,CAAC,GAAGjuB,GAAG;UACtB,IAAI1qE,IAAI,KAAK,UAAU,EAAE;YACvB0qE,GAAG,IAAI07B,QAAQ;UACjB;QACF;QACAD,QAAQ,GAAG,KAAK;MAClB,CAAC;IACH,CAAC;EACH,CAAC;AACH;AACA,SAASE,eAAeA,CAAC3R,YAAY,EAAE10F,IAAI,EAAE2jD,IAAI,EAAEmiD,gBAAgB,GAAG,KAAK,EAAE;EAC3E,IAAIzM,MAAM;EACV,IAAIr5F,IAAI,CAAC27C,UAAU,CAAC,QAAQ,CAAC,EAAE;IAC7B,MAAM2qD,SAAS,GAAGtmG,IAAI,CAACumG,QAAQ,CAAC,WAAW,CAAC,GAAG,UAAU,GAAG,QAAQ;IACpElN,MAAM,GAAGp7C,IAAI,CAAC;MAAEj+C,IAAI,EAAEsmG,SAAS;MAAEjD,GAAG,EAAE1/C;IAAK,CAAC,EAAEsiD,qBAAqB,CAAC;EACtE,CAAC,MAAM;IACL5M,MAAM,GAAGp7C,IAAI,CAAC;MAAEj+C,IAAI;MAAE8lG;IAAiB,CAAC,EAAED,eAAe,CAAC;EAC5D;EACA,OAAO;IACLlxG,IAAI,EAAE,uBAAuB;IAC7B8/F,aAAa,EAAE,CAACC,YAAY,CAAC;IAC7B2E;EACF,CAAC;AACH;AACA,SAAS6H,IAAIA,CAACsF,YAAY,EAAEC,eAAe,GAAG,IAAI,EAAE;EAClD,OAAO;IACL9xG,IAAI,EAAE,WAAW;IACjB+N,QAAQ,EAAE,MAAM;IAChBu3F,SAAS,EAAG7E,aAAa,IAAK;MAC5B,MAAMsR,KAAK,GAAG,eAAgB,IAAI/7G,GAAG,CAAC,CAAC;MACvC,MAAMi2C,KAAK,GAAG,eAAgB,IAAIj2C,GAAG,CAAC,CAAC;MACvC,MAAMk2C,OAAO,GAAG,eAAgB,IAAIl2C,GAAG,CAAC,CAAC;MACzC,MAAMm2C,OAAO,GAAG,eAAgB,IAAIn2C,GAAG,CAAC,CAAC;MACzC,MAAM5D,MAAM,GAAG3B,IAAI,CAAC6J,GAAG,CAACu3G,YAAY,CAACrjG,IAAI,CAACpc,MAAM,EAAEquG,aAAa,CAACjyF,IAAI,CAACpc,MAAM,CAAC;MAC5E,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,MAAM,EAAED,CAAC,EAAE,EAAE;QAC/B,MAAMi7C,IAAI,GAAGykE,YAAY,CAACrjG,IAAI,CAACrc,CAAC,CAAC;QACjC,MAAMkkC,KAAK,GAAGoqE,aAAa,CAACjyF,IAAI,CAACrc,CAAC,CAAC;QACnC,MAAM6/G,MAAM,GAAG5kE,IAAI,GAAG6kE,aAAa,CAAC7kE,IAAI,CAACzrC,IAAI,CAAC,GAAG,EAAE;QACnD,MAAMq9D,OAAO,GAAG3oC,KAAK,GAAG47E,aAAa,CAAC57E,KAAK,CAAC10B,IAAI,CAAC,GAAG,EAAE;QACtD,IAAI00B,KAAK,IAAI+W,IAAI,IAAI4kE,MAAM,KAAKhzC,OAAO,EAAE;UACvC,IAAI,CAACn/C,WAAW,CAACutB,IAAI,CAACpnC,MAAM,EAAEqwB,KAAK,CAACrwB,MAAM,CAAC,EAAE;YAC3CkmC,OAAO,CAAC91C,GAAG,CAAC4oE,OAAO,EAAE3oC,KAAK,CAAC;UAC7B;UACA;QACF;QACA,IAAI8V,OAAO,CAACh2C,GAAG,CAAC6oE,OAAO,CAAC,EAAE;UACxB,IAAI8yC,eAAe,IAAI,CAACjyF,WAAW,CAACssB,OAAO,CAACj8C,GAAG,CAAC8uE,OAAO,CAAC,CAACh5D,MAAM,EAAEqwB,KAAK,CAACrwB,MAAM,CAAC,EAAE;YAC9EkmC,OAAO,CAAC91C,GAAG,CAAC4oE,OAAO,EAAE3oC,KAAK,CAAC;YAC3B07E,KAAK,CAAC37G,GAAG,CAAC4oE,OAAO,EAAE3oC,KAAK,CAAC;UAC3B;UACA8V,OAAO,CAACrgC,MAAM,CAACkzD,OAAO,CAAC;QACzB,CAAC,MAAM,IAAI3oC,KAAK,EAAE;UAChB4V,KAAK,CAAC71C,GAAG,CAAC4oE,OAAO,EAAE3oC,KAAK,CAAC;QAC3B;QACA,IAAI4V,KAAK,CAAC91C,GAAG,CAAC67G,MAAM,CAAC,EAAE;UACrB,IAAIF,eAAe,IAAI,CAACjyF,WAAW,CAACosB,KAAK,CAAC/7C,GAAG,CAAC8hH,MAAM,CAAC,CAAChsG,MAAM,EAAEonC,IAAI,CAACpnC,MAAM,CAAC,EAAE;YAC1EkmC,OAAO,CAAC91C,GAAG,CAAC47G,MAAM,EAAE5kE,IAAI,CAAC;YACzB2kE,KAAK,CAAC37G,GAAG,CAAC47G,MAAM,EAAE5kE,IAAI,CAAC;UACzB;UACAnB,KAAK,CAACngC,MAAM,CAACkmG,MAAM,CAAC;QACtB,CAAC,MAAM,IAAI5kE,IAAI,EAAE;UACflB,OAAO,CAACpgC,MAAM,CAACkmG,MAAM,CAAC;UACtB7lE,OAAO,CAAC/1C,GAAG,CAAC47G,MAAM,EAAE5kE,IAAI,CAAC;QAC3B;MACF;MACA,MAAM+pC,OAAO,GAAGlrC,KAAK,CAACl1B,IAAI,GAAG,CAAC,IAAIm1B,OAAO,CAACn1B,IAAI,GAAG,CAAC,IAAIo1B,OAAO,CAACp1B,IAAI,GAAG,CAAC;MACtE,OAAO;QAAEogE,OAAO;QAAElrC,KAAK;QAAEC,OAAO;QAAEC,OAAO;QAAE4lE;MAAM,CAAC;IACpD;EACF,CAAC;AACH;AACA,SAASE,aAAaA,CAACtwG,IAAI,EAAE,GAAGuwG,SAAS,EAAE;EACzC,IAAIhgH,MAAM;EACV,IAAIuS,OAAO,CAAC9C,IAAI,CAAC,EAAE;IACjBzP,MAAM,GAAGyP,IAAI,CAAC8E,GAAG,CAAE5V,GAAG,IAAKwhE,gCAAgC,CAACxhE,GAAG,CAAC,CAAC,CAACya,IAAI,CAAC,KAAK,CAAC;EAC/E,CAAC,MAAM;IACLpZ,MAAM,GAAGmgE,gCAAgC,CAAC1wD,IAAI,CAAC;EACjD;EACA,MAAMwwG,aAAa,GAAG,OAAOjgH,MAAM,KAAK,QAAQ,IAAI,OAAOA,MAAM,KAAK,QAAQ,IAAIA,MAAM,YAAYgH,IAAI;EACxG,IAAIi5G,aAAa,IAAID,SAAS,CAAC9/G,MAAM,GAAG,CAAC,EAAE;IACzCF,MAAM,IAAI,MAAMggH,SAAS,CAAC5mG,IAAI,CAAC,KAAK,CAAC,EAAE;EACzC;EACA,OAAOpZ,MAAM;AACf;;AAEA;AACA,IAAIkgH,kBAAkB,GAAG,eAAgB,CAAEC,mBAAmB,IAAK;EACjEA,mBAAmB,CAACA,mBAAmB,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,GAAG,mBAAmB;EACvFA,mBAAmB,CAACA,mBAAmB,CAAC,4BAA4B,CAAC,GAAG,CAAC,CAAC,GAAG,4BAA4B;EACzGA,mBAAmB,CAACA,mBAAmB,CAAC,qCAAqC,CAAC,GAAG,CAAC,CAAC,GAAG,qCAAqC;EAC3HA,mBAAmB,CAACA,mBAAmB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,GAAG,cAAc;EAC7E,OAAOA,mBAAmB;AAC5B,CAAC,EAAED,kBAAkB,IAAI,CAAC,CAAC,CAAC;AAC5B,SAASE,mCAAmCA,CAACxhH,KAAK,EAAE;EAClD,OAAOA,KAAK,IAAI,IAAI,IAAIohE,YAAY,CAACphE,KAAK,CAAC;AAC7C;AACA,SAASyhH,iCAAiCA,CAACzhH,KAAK,EAAE;EAChD,OAAOA,KAAK,IAAI,IAAI;AACtB;AACA,SAAS0hH,eAAeA,CAACC,SAAS,EAAE;EAClC,QAAQA,SAAS;IACf,KAAK,QAAQ;IACb,KAAK,KAAK;IACV,KAAK,cAAc;IACnB,KAAK,MAAM;IACX,KAAK,OAAO;MACV,OAAOH,mCAAmC;IAC5C;MACE,OAAOC,iCAAiC;EAC5C;AACF;AACA,SAASG,YAAYA,CAACD,SAAS,EAAE;EAC/B,QAAQA,SAAS;IACf,KAAK,QAAQ;IACb,KAAK,KAAK;IACV,KAAK,MAAM;IACX,KAAK,OAAO;MACV,OAAO,OAAO;IAChB;MACE,OAAO,UAAU;EACrB;AACF;AACA,SAASE,WAAWA,CAACC,QAAQ,EAAEH,SAAS,EAAEtlG,IAAI,GAAG,CAAC,CAAC,EAAE;EACnD,MAAMjb,MAAM,GAAGhB,cAAc,CAAC;IAC5B6c,QAAQ,EAAE6kG,QAAQ;IAClB5yG,IAAI,EAAE,KAAK;IACX6kG,SAAS,EAAE6N,YAAY,CAACD,SAAS,CAAC;IAClCzM,UAAU,EAAEwM,eAAe,CAACC,SAAS;EACvC,CAAC,EAAEtlG,IAAI,CAAC;EACR,OAAOjb,MAAM;AACf;AACA,SAAS2gH,aAAaA,CAACD,QAAQ,EAAEH,SAAS,EAAEtlG,IAAI,GAAG,CAAC,CAAC,EAAE;EACrD,MAAMjb,MAAM,GAAGhB,cAAc,CAAC;IAC5B6c,QAAQ,EAAE6kG,QAAQ;IAClB5yG,IAAI,EAAE,OAAO;IACb6kG,SAAS,EAAE6N,YAAY,CAACD,SAAS,CAAC;IAClCzM,UAAU,EAAEwM,eAAe,CAACC,SAAS;EACvC,CAAC,EAAEtlG,IAAI,CAAC;EACR,OAAOjb,MAAM;AACf;AACA,SAAS4gH,mBAAmBA,CAACF,QAAQ,EAAEzlG,IAAI,GAAG,CAAC,CAAC,EAAE;EAChD,MAAM1T,EAAE,GAAG0T,IAAI;IAAE;MAAEmS,GAAG,GAAG,CAACC,QAAQ;MAAEjlB,GAAG,GAAGilB;IAAS,CAAC,GAAG9lB,EAAE;IAAEs5G,OAAO,GAAGvhH,SAAS,CAACiI,EAAE,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;EAClG,OAAOvI,cAAc,CAAC;IACpB8O,IAAI,EAAE,OAAO;IACb+N,QAAQ,EAAE6kG,QAAQ;IAClB/N,SAAS,EAAE,OAAO;IAClBmB,UAAU,EAAEsM,mCAAmC;IAC/C7N,SAAS,EAAEA,CAAA,KAAOpuE,KAAK,IAAK/wB,cAAc,CAAC+wB,KAAK,CAAC,GAAGvK,KAAK,CAACxM,GAAG,EAAE+W,KAAK,EAAE/7B,GAAG,CAAC,GAAG+7B;EAC/E,CAAC,EAAE08E,OAAO,CAAC;AACb;AACA,SAASC,yBAAyBA,CAACJ,QAAQ,EAAEH,SAAS,EAAEtlG,IAAI,GAAG,CAAC,CAAC,EAAE;EACjE,MAAM1T,EAAE,GAAG0T,IAAI;IAAE;MAAEgiG;IAAa,CAAC,GAAG11G,EAAE;IAAEs5G,OAAO,GAAGvhH,SAAS,CAACiI,EAAE,EAAE,CAAC,cAAc,CAAC,CAAC;EACjF,MAAMvH,MAAM,GAAGX,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE2hH,aAAa,CAACD,QAAQ,EAAEH,SAAS,EAAEM,OAAO,CAAC,CAAC,EAAE;IAC5FtO,SAAS,EAAEyK,gBAAgB,CAACC,YAAY;EAC1C,CAAC,CAAC;EACF,OAAOj9G,MAAM;AACf;AACA,SAAS+gH,gCAAgCA,CAACL,QAAQ,EAAEH,SAAS,EAAEtlG,IAAI,GAAG,CAAC,CAAC,EAAE;EACxE,MAAMjb,MAAM,GAAGX,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE2hH,aAAa,CAACD,QAAQ,EAAEH,SAAS,EAAEtlG,IAAI,CAAC,CAAC,EAAE;IACzFs3F,SAAS,EAAE2K,wBAAwB,CAAC;EACtC,CAAC,CAAC;EACF,OAAOl9G,MAAM;AACf;AACA,SAASghH,8BAA8BA,CAACN,QAAQ,EAAEvnG,IAAI,EAAE2jD,IAAI,GAAG,SAAS,EAAE7hD,IAAI,EAAEslG,SAAS,EAAE;EACzF,OAAO,CACLI,aAAa,CAACD,QAAQ,EAAEH,SAAS,EAAEtlG,IAAI,CAAC,EACxCukG,eAAe,CAACvkG,IAAI,CAACuc,OAAO,EAAEre,IAAI,EAAE2jD,IAAI,EAAE7hD,IAAI,CAACgkG,gBAAgB,CAAC,EAChE,IAAGhkG,IAAI,CAACgmG,OAAO,IAAI,IAAI,GAAG,CAACvE,MAAM,CAACzhG,IAAI,CAACgmG,OAAO,EAAEhmG,IAAI,CAACuc,OAAO,CAAC,CAAC,GAAG,EAAE,EACpE;AACH;AACA,IAAI0pF,eAAe,GAAG,MAAM;EAC1Bz6G,WAAWA,CAACqH,IAAI,EAAE64D,KAAK,EAAE;IAAExiC;EAAM,CAAC,EAAEpsB,MAAM,EAAE;IAC1C,IAAI,CAACjK,IAAI,GAAGA,IAAI;IAChB,IAAI,CAAC64D,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACxiC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACg9E,QAAQ,GAAGppG,MAAM,CAACwrB,EAAE;EAC3B;AACF,CAAC;AACD,IAAI69E,0BAA0B,GAAG,MAAM;EACrC36G,WAAWA,CAACsR,MAAM,EAAEkf,cAAc,EAAEoqF,WAAW,EAAE;IAC/C,IAAI,CAACtpG,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACkf,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACoqF,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACvzG,IAAI,GAAG,iBAAiB;EAC/B;AACF,CAAC;AACD,IAAIwzG,MAAM,GAAG,cAAclvB,UAAU,CAAC;EACpC3rF,WAAWA,CAAC86G,UAAU,EAAE;IACtB,KAAK,CAAC,CAAC;IACP,IAAI,CAACv0G,UAAU,GAAG,EAAE;IACpB,IAAI,CAACiqB,cAAc,GAAG,KAAK,CAAC;IAC5B,IAAI,CAACuqF,SAAS,GAAGN,eAAe;IAChC,IAAI,CAACO,UAAU,GAAGloF,QAAQ,CAAC,IAAI,CAAC;IAChC;IACA,IAAI,CAACmoF,SAAS,GAAG,IAAIpuD,KAAK,CAAC;MAAEp1D,IAAI,EAAE,YAAY;MAAEglC,SAAS,EAAE;IAAK,CAAC,CAAC;IACnE,IAAI,CAACpqB,IAAI,GAAG;MACV,CAAC,GAAG,CAAC,UAAU,KAAK,CAAC;MACrB,CAAC,GAAG,CAAC,UAAU,KAAK;IACtB,CAAC;IACD,IAAI,CAAC6oG,UAAU,GAAG,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,QAAQ;IAC5C;IACA,IAAI,CAACC,eAAe,GAAG,IAAI;IAC3B,IAAI,CAACn8C,SAAS,GAAG,IAAID,SAAS,CAAC,CAAC;IAChC,IAAI,CAACq8C,iBAAiB,GAAG,CAAC,CAAC;IAC3B,IAAI,CAACC,eAAe,GAAG,IAAIzsB,SAAS,CAAC,CAAC;IACtC,MAAM;MACJ7f,SAAS;MACTusC,SAAS,GAAG,CAAC,CAAC,CAAC,iCAAiC;MAChDC,aAAa,GAAG,CAAC,CAAC;MAClBC,cAAc,GAAG,CAAC,CAAC;MACnBC,mBAAmB,GAAG,IAAI;MAC1BC,WAAW,GAAG;IAChB,CAAC,GAAGZ,UAAU;IACd,IAAI,CAACtgF,GAAG,GAAGu0C,SAAS;IACpB,IAAI,CAACwsC,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACC,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACE,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAAC1Y,YAAY,GAAG,IAAI,CAACiY,SAAS,CAAC3xF,WAAW,CAC5C,IAAIujC,KAAK,CAAC;MACRp1D,IAAI,EAAE,GAAG,IAAI,CAACujH,UAAU,UAAU;MAClCv+E,SAAS,EAAEg/E,mBAAmB;MAC9B9+E,MAAM,EAAE,CAAC,CAAC;MACVa,cAAc,EAAE,IAAI,CAACm+E,sBAAsB,CAAC,MAAM;IACpD,CAAC,CACH,CAAC;IACD,IAAI,CAACC,cAAc,GAAG,IAAI/uD,KAAK,CAAC;MAC9Bp1D,IAAI,EAAE,GAAG,IAAI,CAACujH,UAAU,YAAY;MACpCv+E,SAAS,EAAEg/E,mBAAmB;MAC9B9+E,MAAM,EAAE,CAAC,CAAC;MACVa,cAAc,EAAE,IAAI,CAACm+E,sBAAsB,CAAC,WAAW;IACzD,CAAC,CAAC;IACF,IAAI,CAACE,aAAa,GAAG,IAAI,CAACD,cAAc,CAACtyF,WAAW,CAAC,IAAIujC,KAAK,CAAC;MAAEp1D,IAAI,EAAE,eAAe;MAAEklC,MAAM,EAAE;IAAE,CAAC,CAAC,CAAC;IACrG,IAAI,CAACm/E,cAAc,GAAG,IAAI,CAACF,cAAc,CAACtyF,WAAW,CAAC,IAAIujC,KAAK,CAAC;MAAEp1D,IAAI,EAAE,gBAAgB;MAAEklC,MAAM,EAAE;IAAG,CAAC,CAAC,CAAC;IACxG,IAAI,CAAC2+E,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACr+C,UAAU,GAAG,IAAI,CAACg+C,SAAS,CAAC3xF,WAAW,CAC1C,IAAIujC,KAAK,CAAC;MACRp1D,IAAI,EAAE,GAAG,IAAI,CAACujH,UAAU,gBAAgB;MACxCr+E,MAAM,EAAE,CAAC,CAAC;IACZ,CAAC,CACH,CAAC;IACD,IAAI,CAACo/E,eAAe,GAAG,IAAIlvD,KAAK,CAAC;MAC/Bp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE,aAAa;MAC7BL,SAAS,EAAEg/E,mBAAmB;MAC9B9+E,MAAM,EAAE,CAAC,CAAC;MACVa,cAAc,EAAE,IAAI,CAACm+E,sBAAsB,CAAC,YAAY;IAC1D,CAAC,CAAC;EACJ;EACA,IAAI7+E,EAAEA,CAAA,EAAG;IACP,IAAIh8B,EAAE,EAAEsQ,EAAE;IACV,OAAO,CAACA,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC+R,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/R,EAAE,CAACg8B,EAAE,KAAK,IAAI,GAAG1rB,EAAE,GAAG,IAAI,CAAC4pG,UAAU;EAC9F;EACA,IAAI3zG,IAAIA,CAAA,EAAG;IACT,IAAIvG,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAACd,WAAW,CAACqH,IAAI,KAAK,IAAI,GAAGvG,EAAE,GAAG,EAAE;EACvD;EACA,IAAI+U,IAAIA,CAAA,EAAG;IACT,IAAI/U,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAACk7G,KAAK,KAAK,IAAI,GAAGl7G,EAAE,GAAG,IAAI,CAACm7G,UAAU;EACzD;EACA,IAAIr+F,OAAOA,CAACzlB,KAAK,EAAE;IACjB,IAAI,CAAC0a,UAAU,CAAC+K,OAAO,GAAGzlB,KAAK;IAC/B,IAAI,CAAC+jH,cAAc,CAAC,CAAC;EACvB;EACA,IAAIt+F,OAAOA,CAAA,EAAG;IACZ,OAAO,IAAI,CAAC/K,UAAU,CAAC+K,OAAO;EAChC;EACA,IAAIu+F,OAAOA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACtmG,IAAI,IAAI,IAAI,IAAI,IAAI,CAACA,IAAI,CAACpc,MAAM,GAAG,CAAC;EAClD;EACA,IAAI2iH,cAAcA,CAAA,EAAG;IACnB,IAAIt7G,EAAE,EAAEsQ,EAAE;IACV,OAAO,CAACA,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACoL,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGnd,EAAE,CAACwb,OAAO,KAAK,IAAI,GAAGlL,EAAE,GAAG,KAAK;EACjG;EACAirG,YAAYA,CAAA,EAAG;IACb,IAAI,CAAClB,eAAe,GAAG,IAAI;EAC7B;EACAmB,cAAcA,CAACnrG,KAAK,EAAE;IACpB,IAAI,CAAC6qG,KAAK,GAAG7qG,KAAK;IAClB,IAAI,CAACkrG,YAAY,CAAC,CAAC;EACrB;EACAE,YAAYA,CAACprG,KAAK,EAAE;IAClB,IAAI,CAAC8qG,UAAU,GAAG9qG,KAAK;IACvB,IAAI,IAAI,CAAC0E,IAAI,KAAK1E,KAAK,EAAE;MACvB,IAAI,CAACkrG,YAAY,CAAC,CAAC;IACrB;EACF;EACAG,sBAAsBA,CAAC/nE,IAAI,EAAEn6C,IAAI,EAAE;IACjC,MAAM;MAAE0gH,UAAU;MAAE3zG,IAAI;MAAEuW;IAAQ,CAAC,GAAG,IAAI;IAC1C,IAAI62B,IAAI,EAAE;MACR,IAAI,CAACja,GAAG,CAAC8qE,kBAAkB,CAAC3B,gBAAgB,CAAC;QAAE7mE,EAAE,EAAEk+E,UAAU;QAAE3zG;MAAK,CAAC,CAAC;IACxE;IACA,IAAI/M,IAAI,EAAE;MACR,IAAI,CAACkgC,GAAG,CAAC8qE,kBAAkB,CAAC7B,cAAc,CAAC;QAAE3mE,EAAE,EAAEk+E,UAAU;QAAE3zG,IAAI;QAAEuW,OAAO;QAAE4S,cAAc,EAAEl2B;MAAK,CAAC,CAAC;IACrG;IACA,IAAI,CAAC8xF,SAAS,CAAC,IAAIuuB,0BAA0B,CAAC,IAAI,EAAErgH,IAAI,EAAEm6C,IAAI,CAAC,CAAC;EAClE;EACA2qC,mBAAmBA,CAAA,EAAG;IACpB,OAAO;MAAEC,KAAK,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAE,CAAC;EAC/B;EACAq8B,sBAAsBA,CAACt0G,IAAI,EAAEo1G,QAAQ,GAAG,CAAC,EAAE;IACzC,IAAIC,UAAU,GAAG,CAAC;IAClB,QAAQr1G,IAAI;MACV,KAAK,MAAM;MACX,KAAK,OAAO;QACV;MACF,KAAK,QAAQ;QACXq1G,UAAU,IAAI,GAAG;QACjB;MACF,KAAK,QAAQ;QACXA,UAAU,IAAI,GAAG;QACjB;MACF,KAAK,WAAW;QACdD,QAAQ,IAAI,IAAI;QAChB;MACF,KAAK,YAAY;QACfC,UAAU,IAAI,IAAI;QAClB;IACJ;IACA,MAAMC,IAAI,GAAGA,CAAA,KAAM,IAAI,CAACvB,iBAAiB,GAAGsB,UAAU;IACtD,OAAO,CAACC,IAAI,EAAEF,QAAQ,CAAC;EACzB;EACAjtC,WAAWA,CAACnoE,IAAI,EAAE0kF,QAAQ,EAAE;IAC1B,OAAO,IAAI,CAACsvB,eAAe,CAAC7rC,WAAW,CAACnoE,IAAI,EAAE0kF,QAAQ,CAAC;EACzD;EACAmD,QAAQA,CAAC7nF,IAAI,EAAE64D,KAAK,EAAE;IACpB,IAAI,CAACm7C,eAAe,CAACnsB,QAAQ,CAAC7nF,IAAI,EAAE64D,KAAK,CAAC;EAC5C;EACA08C,sBAAsBA,CAAA,EAAG;IACvB;EACF;EACAp2G,OAAOA,CAAA,EAAG;IACR,IAAI,CAACD,UAAU,CAACgM,OAAO,CAAE/H,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC;IACnC,IAAI,CAACjE,UAAU,GAAG,EAAE;IACpB,IAAI,CAACi0B,GAAG,CAAC8qE,kBAAkB,CAAC3B,gBAAgB,CAAC,IAAI,CAAC;EACpD;EACAkZ,kBAAkBA,CAAC9/C,SAAS,EAAElqD,UAAU,EAAE;IACxC,MAAMiqG,iBAAiB,GAAG,IAAI,CAACC,mBAAmB,CAAChgD,SAAS,CAAC;IAC7D,MAAM/zD,IAAI,GAAG6J,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACiqG,iBAAiB,CAAC;IACxE,MAAMzvG,MAAM,GAAG,EAAE;IACjB,IAAI,CAACrE,IAAI,EAAE;MACT,OAAOqE,MAAM;IACf;IACA,MAAM2vG,SAAS,GAAGA,CAAC,GAAGC,KAAK,KAAK;MAC9B,KAAK,MAAM9kH,KAAK,IAAI8kH,KAAK,EAAE;QACzB,IAAI7xG,KAAK,CAACU,OAAO,CAAC3T,KAAK,CAAC,EAAE;UACxB6kH,SAAS,CAAC,GAAG7kH,KAAK,CAAC;QACrB,CAAC,MAAM,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;UACpC6kH,SAAS,CAAC,GAAG5mH,MAAM,CAACiX,MAAM,CAAClV,KAAK,CAAC,CAAC;QACpC,CAAC,MAAM;UACLkV,MAAM,CAAClM,IAAI,CAAChJ,KAAK,CAAC;QACpB;MACF;IACF,CAAC;IACD6kH,SAAS,CAAC,GAAGh0G,IAAI,CAAC8E,GAAG,CAAE5V,GAAG,IAAK,IAAI,CAAC2a,UAAU,CAAC3a,GAAG,CAAC,CAAC,CAAC;IACrD,OAAOmV,MAAM;EACf;EACAuK,OAAOA,CAACmlD,SAAS,EAAE;IACjB,OAAO,IAAI,CAAC8/C,kBAAkB,CAAC9/C,SAAS,EAAE,IAAI,CAACw+C,aAAa,CAAC;EAC/D;EACAv9B,gBAAgBA,CAACjhB,SAAS,EAAE;IAC1B,IAAIj8D,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAACy6G,aAAa,CAAC,IAAI,CAACwB,mBAAmB,CAAChgD,SAAS,CAAC,CAAC,KAAK,IAAI,GAAGj8D,EAAE,GAAG,EAAE;EACzF;EACAw8E,QAAQA,CAACvgB,SAAS,EAAE;IAClB,OAAO,IAAI,CAAC8/C,kBAAkB,CAAC9/C,SAAS,EAAE,IAAI,CAACy+C,cAAc,CAAC;EAChE;EACAuB,mBAAmBA,CAAChgD,SAAS,EAAE;IAC7B,OAAOA,SAAS;EAClB;EACA;EACAxd,SAASA,CAACwd,SAAS,EAAE;IACnB,MAAMmgD,YAAY,GAAG,IAAI,CAACC,eAAe,CAACpgD,SAAS,CAAC;IACpD,MAAMqgD,aAAa,GAAG,IAAI,CAACp+C,SAAS,CAACQ,UAAU,CAAEx4D,MAAM,IAAKA,MAAM,CAACu4C,SAAS,CAACwd,SAAS,CAAC,CAAC;IACxF,OAAOmgD,YAAY,CAAClhG,MAAM,CAACohG,aAAa,CAACC,IAAI,CAAC,CAAC,CAAC;EAClD;EACA;EACAC,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACnC,eAAe,GAAG,IAAI;EAC7B;EACAe,cAAcA,CAAA,EAAG;IACf,IAAI,CAAC1hF,GAAG,CAAC8qE,kBAAkB,CAAC7B,cAAc,CAAC,IAAI,CAAC;EAClD;EACA8Z,UAAUA,CAAA,EAAG;IACX,MAAMC,cAAc,GAAG,CAAC;IACxB,MAAM;MAAEz/F,UAAU,GAAG,CAAC;MAAEzB,OAAO,GAAG;IAAK,CAAC,GAAG,IAAI,CAACzJ,UAAU,CAACiL,cAAc,CAACxM,MAAM;IAChF,IAAI,CAACgL,OAAO,IAAIyB,UAAU,KAAKy/F,cAAc,EAAE;MAC7C,OAAOA,cAAc;IACvB;IACA,QAAQ,IAAI,CAACC,mBAAmB,CAAC,CAAC;MAChC,KAAK,CAAC,CAAC;MACP,KAAK,CAAC,CAAC;QACL,OAAOD,cAAc;MACvB,KAAK,CAAC,CAAC;MACP;QACE,OAAOz/F,UAAU;IACrB;EACF;EACA2/F,cAAcA,CAACC,kBAAkB,EAAE;IACjC,MAAM;MAAEjgG,WAAW;MAAEpB,OAAO,GAAG;IAAK,CAAC,GAAG,IAAI,CAACzJ,UAAU,CAACiL,cAAc,CAACxM,MAAM;IAC7E,IAAI,CAACgL,OAAO,IAAIoB,WAAW,KAAK,KAAK,CAAC,EAAE;MACtC,OAAOigG,kBAAkB;IAC3B;IACA,QAAQ,IAAI,CAACF,mBAAmB,CAAC,CAAC;MAChC,KAAK,CAAC,CAAC;QACL,OAAO//F,WAAW;MACpB,KAAK,CAAC,CAAC;MACP,KAAK,CAAC,CAAC;QACL,OAAOigG,kBAAkB;IAC7B;EACF;EACAF,mBAAmBA,CAAA,EAAG;IACpB,IAAI38G,EAAE,EAAEsQ,EAAE;IACV,MAAME,MAAM,GAAG,CAACF,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC05B,GAAG,CAAC2qE,gBAAgB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGrkG,EAAE,CAACs8F,kBAAkB,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhsF,EAAE,CAACE,MAAM;IAC9H,IAAIA,MAAM,IAAI,IAAI,EAAE;MAClB,OAAO,CAAC,CAAC;IACX;IACA,IAAIA,MAAM,KAAK,IAAI,EAAE;MACnB,OAAO,CAAC,CAAC;IACX;IACA,OAAO,CAAC,CAAC;EACX;EACAssG,sBAAsBA,CAAA,EAAG;IACvB,OAAO,IAAI,CAAC5+C,SAAS,CAACQ,UAAU,CAAEx4D,MAAM,IAAKA,MAAM,CAAC62G,gBAAgB,CAAC,CAAC,CAAC,CAACpyG,MAAM,CAAC,CAACk+E,KAAK,EAAEm0B,OAAO,KAAK1nH,MAAM,CAAC2I,MAAM,CAAC4qF,KAAK,EAAEm0B,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;EACvI;EACA1+E,QAAQA,CAACgzB,KAAK,EAAE2rD,cAAc,EAAE;IAC9B,MAAM;MAAEzC,SAAS;MAAE19F,OAAO;MAAEq9F;IAAU,CAAC,GAAG,IAAI;IAC9C,IAAI,CAACr9F,OAAO,IAAI,CAACq9F,SAAS,CAACr9F,OAAO,EAAE;MAClC;IACF;IACA,KAAK,MAAMogG,QAAQ,IAAI1C,SAAS,EAAE;MAChC,IAAIyC,cAAc,IAAI,CAACA,cAAc,CAAC/1G,QAAQ,CAACg2G,QAAQ,CAAC,EAAE;QACxD;MACF;MACA,IAAI78C,KAAK;MACT,QAAQ68C,QAAQ;QACd,KAAK,CAAC,CAAC;UACL78C,KAAK,GAAG,IAAI,CAAC88C,kBAAkB,CAAC7rD,KAAK,CAAC;UACtC;QACF,KAAK,CAAC,CAAC;QACP,KAAK,CAAC,CAAC;UACL+O,KAAK,GAAG,IAAI,CAAC+8C,qBAAqB,CAChC9rD,KAAK,EACL4rD,QAAQ,KAAK,CAAC,CAAC,yCACjB,CAAC;UACD;QACF,KAAK,CAAC,CAAC;UACL78C,KAAK,GAAG,IAAI,CAACg9C,oBAAoB,CAAC/rD,KAAK,CAAC;UACxC;MACJ;MACA,IAAI+O,KAAK,EAAE;QACT,OAAO;UAAE68C,QAAQ;UAAE78C,KAAK,EAAEA,KAAK,CAACzjC,KAAK;UAAE09D,QAAQ,EAAEj6B,KAAK,CAACi6B;QAAS,CAAC;MACnE;IACF;EACF;EACA6iB,kBAAkBA,CAAC7rD,KAAK,EAAE;IACxB,MAAM+O,KAAK,GAAG,IAAI,CAAC6hC,YAAY,CAAC5jE,QAAQ,CAACgzB,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;IAC1D,IAAI2sC,KAAK,IAAIA,KAAK,CAACzjC,KAAK,CAAC2pE,OAAO,KAAK,IAAI,EAAE;MACzC,OAAO;QAAE3pE,KAAK,EAAEyjC,KAAK,CAACzjC,KAAK;QAAE09D,QAAQ,EAAE;MAAE,CAAC;IAC5C;IACA,OAAO,KAAK,CAAC;EACf;EACA+iB,oBAAoBA,CAACC,MAAM,EAAE;IAC3B,MAAM,IAAIn2G,KAAK,CAAC,2DAA2D,CAAC;EAC9E;EACAo2G,4BAA4BA,CAACjsD,KAAK,EAAE6qD,KAAK,EAAE;IACzC,MAAM97C,KAAK,GAAG5sC,cAAc,CAAC69B,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,EAAEyoF,KAAK,CAAC;IACrD,IAAI97C,KAAK,CAACxsC,OAAO,KAAK,KAAK,CAAC,IAAIwsC,KAAK,CAACxsC,OAAO,CAAC+I,KAAK,CAAC2pE,OAAO,KAAK,IAAI,EAAE;MACpE,OAAO;QAAE3pE,KAAK,EAAEyjC,KAAK,CAACxsC,OAAO,CAAC+I,KAAK;QAAE09D,QAAQ,EAAEtjG,IAAI,CAACs1D,IAAI,CAAC+T,KAAK,CAACvsC,eAAe;MAAE,CAAC;IACnF;IACA,OAAO,KAAK,CAAC;EACf;EACAspF,qBAAqBA,CAACE,MAAM,EAAEE,oBAAoB,EAAE;IAClD,MAAM,IAAIr2G,KAAK,CAAC,4DAA4D,CAAC;EAC/E;EACAs2G,kBAAkBA,CAACr+C,KAAK,EAAExiC,KAAK,EAAE;IAC/B,IAAI,CAAC0uD,SAAS,CAAC,IAAI,IAAI,CAAC2uB,SAAS,CAAC,WAAW,EAAE76C,KAAK,EAAExiC,KAAK,EAAE,IAAI,CAAC,CAAC;EACrE;EACA8gF,wBAAwBA,CAACt+C,KAAK,EAAExiC,KAAK,EAAE;IACrC,IAAI,CAAC0uD,SAAS,CAAC,IAAI,IAAI,CAAC2uB,SAAS,CAAC,iBAAiB,EAAE76C,KAAK,EAAExiC,KAAK,EAAE,IAAI,CAAC,CAAC;EAC3E;EACA+gF,gCAAgCA,CAACv+C,KAAK,EAAExiC,KAAK,EAAE;IAC7C,OAAO,IAAI,IAAI,CAACq9E,SAAS,CAAC,uBAAuB,EAAE76C,KAAK,EAAExiC,KAAK,EAAE,IAAI,CAAC;EACxE;EACAghF,gBAAgBA,CAAC/kB,MAAM,EAAEr9E,OAAO,EAAE;IAChC,IAAI,CAACsB,OAAO,GAAGtB,OAAO;IACtB,IAAI,CAAC6+F,eAAe,GAAG,IAAI;IAC3B,IAAI,CAACjsB,QAAQ,CAAC,oBAAoB,EAAE;MAAEyK,MAAM;MAAEr9E;IAAQ,CAAC,CAAC;EAC1D;EACAijD,SAASA,CAAA,EAAG;IACV,OAAO,IAAI,CAAC3hD,OAAO;EACrB;EACA6/D,YAAYA,CAAA,EAAG;IACb,OAAO,IAAI,CAACze,SAAS;EACvB;EACA0e,mBAAmBA,CAAA,EAAG;IACpB,OAAO9kF,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE,IAAI,CAACiiC,GAAG,CAAC,EAAE;MAAElpB,MAAM,EAAE;IAAK,CAAC,CAAC;EACtE;EACAqtG,YAAYA,CAAC9hG,KAAK,EAAEhI,MAAM,EAAE+pG,gBAAgB,GAAGtnE,MAAM,EAAE;IACrD,IAAIx2C,EAAE;IACN,IAAI+b,KAAK,CAAConC,SAAS,EAAE;MACnB,OAAO,CAACnjD,EAAE,GAAG,IAAI,CAAC05B,GAAG,CAAC49C,aAAa,CAACz/E,IAAI,CAACkkB,KAAK,CAAConC,SAAS,EAAE1rD,cAAc,CAAC;QAAEmiH,QAAQ,EAAE,IAAI,CAAC59E;MAAG,CAAC,EAAEjoB,MAAM,CAAC,CAAC,KAAK,IAAI,GAAG/T,EAAE,GAAG89G,gBAAgB,CAAC/pG,MAAM,CAAC1c,KAAK,CAAC;IACzJ;IACA,OAAOymH,gBAAgB,CAAC/pG,MAAM,CAAC1c,KAAK,CAAC;EACvC;EACA0mH,cAAcA,CAACz/F,MAAM,EAAEvK,MAAM,EAAEiqG,YAAY,GAAG1/F,MAAM,CAAC2/F,QAAQ,CAAC,CAAC,EAAE;IAC/D,IAAIj+G,EAAE,EAAEsQ,EAAE;IACV,MAAM4tG,WAAW,GAAG;MAAE5gG,IAAI,EAAE,CAAChN,EAAE,GAAG,CAACtQ,EAAE,GAAG+T,MAAM,CAAC6oB,KAAK,CAAC00B,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtxD,EAAE,CAACsd,IAAI,KAAK,IAAI,GAAGhN,EAAE,GAAG;IAAE,CAAC;IAC1G,MAAM6tG,WAAW,GAAGxxG,aAAa,CAACuxG,WAAW,EAAEF,YAAY,CAAC;IAC5D,IAAI1/F,MAAM,CAAC6kC,SAAS,EAAE;MACpB,MAAM7mC,KAAK,GAAG,IAAI,CAACod,GAAG,CAAC49C,aAAa,CAACz/E,IAAI,CAACymB,MAAM,CAAC6kC,SAAS,EAAErrD,aAAa,CAACL,cAAc,CAACA,cAAc,CAAC;QACtGmiH,QAAQ,EAAE,IAAI,CAAC59E;MACjB,CAAC,EAAEmiF,WAAW,CAAC,EAAEpqG,MAAM,CAAC,EAAE;QACxB6oB,KAAK,EAAE7oB,MAAM,CAAC6oB,KAAK,CAACA;MACtB,CAAC,CAAC,CAAC;MACH,OAAOjwB,aAAa,CAAC2P,KAAK,EAAE6hG,WAAW,CAAC;IAC1C;IACA,OAAOA,WAAW;EACpB;EACAC,iBAAiBA,CAACC,UAAU,EAAE//F,MAAM,EAAEvK,MAAM,EAAEiqG,YAAY,GAAG1/F,MAAM,CAAC2/F,QAAQ,CAAC,CAAC,EAAE;IAAEK,gBAAgB,GAAG;EAAK,CAAC,GAAG,CAAC,CAAC,EAAE;IAChH,MAAM;MAAEhtD;IAAM,CAAC,GAAGv9C,MAAM,CAAC6oB,KAAK;IAC9B,MAAMle,WAAW,GAAG,IAAI,CAACq/F,cAAc,CAACz/F,MAAM,EAAEvK,MAAM,EAAEiqG,YAAY,CAAC;IACrE,MAAMlhG,OAAO,GAAG,IAAI,CAACA,OAAO,IAAI4B,WAAW,CAACpB,IAAI,GAAG,CAAC,IAAIg0C,KAAK,IAAI,CAAClmD,KAAK,CAACkmD,KAAK,CAAC13D,CAAC,CAAC,IAAI,CAACwR,KAAK,CAACkmD,KAAK,CAAC59B,CAAC,CAAC;IACnG,IAAI4qF,gBAAgB,EAAE;MACpBD,UAAU,CAAC1gF,aAAa,CAAC7lC,aAAa,CAACL,cAAc,CAAC;QAAEqlB;MAAQ,CAAC,EAAE4B,WAAW,CAAC,EAAE;QAAEyb,YAAY,EAAEm3B,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC13D,CAAC;QAAEwgC,YAAY,EAAEk3B,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC59B;MAAE,CAAC,CAAC,CAAC;IACvL,CAAC,MAAM;MACL2qF,UAAU,CAAC1gF,aAAa,CAAClmC,cAAc,CAAC;QAAEqlB;MAAQ,CAAC,EAAE4B,WAAW,CAAC,CAAC;IACpE;IACA,IAAI,OAAOJ,MAAM,CAACjB,KAAK,KAAK,UAAU,IAAI,CAACghG,UAAU,CAACE,SAAS,EAAE;MAC/DF,UAAU,CAAC5wG,IAAI,CAAC7Q,KAAK,CAAC,IAAI,CAAC;MAC3ByhH,UAAU,CAACG,UAAU,CAAC,CAAC;MACvBH,UAAU,CAACI,cAAc,CAAC,CAAC;IAC7B;EACF;EACAC,WAAWA,CAACC,MAAM,EAAEC,OAAO,EAAE;IAC3B;EACF;EACA,IAAIC,oBAAoBA,CAAA,EAAG;IACzB,IAAI7+G,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAAC8+G,qBAAqB,KAAK,IAAI,GAAG9+G,EAAE,GAAG;MAAE++G,eAAe,EAAE54F,GAAG;MAAE64F,gBAAgB,EAAE74F;IAAI,CAAC;EACzG;EACA84F,WAAWA,CAACC,aAAa,EAAE;IACzB,MAAM;MAAE/iG,KAAK,EAAE4iG,eAAe;MAAEtqF,MAAM,EAAEuqF;IAAiB,CAAC,GAAGE,aAAa,IAAI,IAAI,GAAGA,aAAa,GAAG;MAAE/iG,KAAK,EAAEgK,GAAG;MAAEsO,MAAM,EAAEtO;IAAI,CAAC;IAChI,MAAMg5F,uBAAuB,GAAGD,aAAa,GAAG;MAAEH,eAAe;MAAEC;IAAiB,CAAC,GAAG,KAAK,CAAC;IAC9F,MAAMhsC,MAAM,GAAGjgE,QAAQ,CAAC,IAAI,CAAC8rG,oBAAoB,EAAEM,uBAAuB,CAAC,IAAI,IAAI;IACnF,IAAInsC,MAAM,EAAE;MACV,IAAI,CAAC8rC,qBAAqB,GAAGK,uBAAuB;MACpD,IAAI,CAAC3C,iBAAiB,CAAC,CAAC;IAC1B;IACA,OAAOxpC,MAAM;EACf;EACAosC,SAASA,CAAC1nF,KAAK,EAAE;IACf,OAAO,KAAK,CAAC;EACf;AACF,CAAC;AACDqiF,MAAM,CAACsF,iBAAiB,GAAG,IAAI;AAC/B/mH,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACVG,WAAW,EAAE,SAAAA,CAAS81C,MAAM,EAAEC,MAAM,EAAE;IACpC,IAAI,CAAC7D,sBAAsB,CAAC6D,MAAM,EAAED,MAAM,CAAC;EAC7C;AACF,CAAC,CAAC,CACH,EAAEvF,MAAM,CAAC5jH,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;;AAEzC;AACA,IAAIqpH,+CAA+C,GAAG,EAAE;AACxD,IAAIC,kBAAkB,GAAG,MAAM;EAC7BvgH,WAAWA,CAACwgH,UAAU,EAAEC,aAAa,EAAEhyB,cAAc,EAAE;IACrD,IAAI,CAAC+xB,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,aAAa,GAAGA,aAAa;IAClC,IAAI,CAAChyB,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACpxD,MAAM,GAAG,CAAC,CAAC;IAChB,IAAI,CAAC/rB,MAAM,GAAG,CAAC,CAAC;IAChB,IAAI,CAACovG,mBAAmB,GAAG,CAAC;IAC5B,IAAI,CAAChuG,IAAI,GAAG,QAAQ;EACtB;EACAiuG,cAAcA,CAACjxF,KAAK,EAAE;IACpB,IAAI,CAACgxF,mBAAmB,GAAGhxF,KAAK;EAClC;EACAkxF,YAAYA,CAACC,YAAY,EAAE;IACzB,IAAI//G,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,MAAM;MACJgpG,UAAU;MACV3zG,IAAI;MACJ4zG,SAAS,EAAE6F,eAAe;MAC1BlF,cAAc,EAAEmF,oBAAoB;MACpChF,eAAe,EAAEiF,qBAAqB;MACtCxwF;IACF,CAAC,GAAGqwF,YAAY;IAChB,MAAM;MAAEvwF,UAAU,GAAG0qF;IAAW,CAAC,GAAGxqF,cAAc,IAAI,IAAI,GAAGA,cAAc,GAAG,CAAC,CAAC;IAChF,IAAI,IAAI,CAAClf,MAAM,CAAC0pG,UAAU,CAAC,IAAI,IAAI,EAAE;MACnC,MAAM,IAAI/yG,KAAK,CAAC,sDAAsD,IAAI,CAACqJ,MAAM,CAAC0pG,UAAU,CAAC,EAAE,CAAC;IAClG;IACA,IAAI5kH,MAAM,CAAC4S,IAAI,CAAC,IAAI,CAACsI,MAAM,CAAC,CAAC7X,MAAM,KAAK,CAAC,EAAE;MACzC,IAAI,CAACiZ,IAAI,GAAG,IAAI,CAACguG,mBAAmB,IAAIJ,+CAA+C,GAAG,qBAAqB,GAAG,QAAQ;IAC5H;IACA,CAAClvG,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACu8B,MAAM,EAAEh2B,IAAI,CAAC,KAAK,IAAI,GAAG+J,EAAE,GAAGtQ,EAAE,CAACuG,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5D,MAAM45G,WAAW,GAAG,IAAI,CAACC,SAAS,CAAC5wF,UAAU,CAAC;IAC9C,IAAI6wF,SAAS,GAAG,IAAI,CAAC9jF,MAAM,CAACh2B,IAAI,CAAC,CAAC45G,WAAW,CAAC;IAC9C,IAAI,CAACE,SAAS,EAAE;MACdA,SAAS,GAAG,CAACnvG,EAAE,GAAG,CAACX,EAAE,GAAG,IAAI,CAACgsB,MAAM,CAACh2B,IAAI,CAAC,EAAE45G,WAAW,CAAC,KAAK,IAAI,GAAGjvG,EAAE,GAAGX,EAAE,CAAC4vG,WAAW,CAAC,GAAG;QACxFG,SAAS,EAAE,EAAE;QACb11D,KAAK,EAAE,IAAI,CAAC80D,UAAU,CAACl3F,WAAW,CAChC,IAAIujC,KAAK,CAAC;UACRp1D,IAAI,EAAE,GAAG4P,IAAI,UAAU;UACvBgjD,KAAK,EAAE,IAAI;UACX1tB,MAAM,EAAE,CAAC,CAAC;UACVa,cAAc,EAAEqjF,YAAY,CAAClF,sBAAsB,CAAC,MAAM;QAC5D,CAAC,CACH,CAAC;QACD0F,SAAS,EAAE,IAAI,CAACZ,aAAa,CAACn3F,WAAW,CACvC,IAAIujC,KAAK,CAAC;UACRp1D,IAAI,EAAE,GAAG4P,IAAI,YAAY;UACzBs1B,MAAM,EAAE,CAAC,CAAC;UACVa,cAAc,EAAEqjF,YAAY,CAAClF,sBAAsB,CAAC,WAAW;QACjE,CAAC,CACH,CAAC;QACD2F,UAAU,EAAE,IAAI,CAAC7yB,cAAc,CAACnlE,WAAW,CACzC,IAAIujC,KAAK,CAAC;UACRp1D,IAAI,EAAE,GAAG4P,IAAI,aAAa;UAC1Bs1B,MAAM,EAAE,CAAC,CAAC;UACVa,cAAc,EAAEqjF,YAAY,CAAClF,sBAAsB,CAAC,YAAY;QAClE,CAAC,CACH;MACF,CAAC;IACH;IACA,IAAI,CAACrqG,MAAM,CAAC0pG,UAAU,CAAC,GAAG;MAAEuG,UAAU,EAAEJ,SAAS;MAAEN;IAAa,CAAC;IACjEM,SAAS,CAACC,SAAS,CAACjgH,IAAI,CAAC65G,UAAU,CAAC;IACpCmG,SAAS,CAACz1D,KAAK,CAACpiC,WAAW,CAACw3F,eAAe,CAAC;IAC5CK,SAAS,CAACE,SAAS,CAAC/3F,WAAW,CAACy3F,oBAAoB,CAAC;IACrDI,SAAS,CAACG,UAAU,CAACh4F,WAAW,CAAC03F,qBAAqB,CAAC;IACvD,OAAOG,SAAS,CAACz1D,KAAK;EACxB;EACA81D,WAAWA,CAACX,YAAY,EAAE;IACxB,IAAI//G,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAE4pG,UAAU;MAAExqF,cAAc;MAAEnpB,IAAI;MAAE4zG,SAAS;MAAEW,cAAc;MAAEG,eAAe;MAAEnB;IAAY,CAAC,GAAGiG,YAAY;IAClH,MAAM;MAAEvwF,UAAU,GAAG0qF;IAAW,CAAC,GAAGxqF,cAAc,IAAI,IAAI,GAAGA,cAAc,GAAG,CAAC,CAAC;IAChF,IAAI,CAACpf,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACu8B,MAAM,CAACh2B,IAAI,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvG,EAAE,CAACwvB,UAAU,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlf,EAAE,CAACgwG,SAAS,CAACp5G,QAAQ,CAACgzG,UAAU,CAAC,EAAE;MAC1H;IACF;IACA,IAAI,IAAI,CAAC1pG,MAAM,CAAC0pG,UAAU,CAAC,IAAI,IAAI,EAAE;MACnC,IAAI,CAACyG,YAAY,CAAC;QAChBzG,UAAU;QACVxqF,cAAc,EAAEoqF,WAAW;QAC3BvzG,IAAI;QACJ4zG,SAAS;QACTW,cAAc;QACdG;MACF,CAAC,CAAC;IACJ;IACA,IAAI,CAAC6E,YAAY,CAACC,YAAY,CAAC;EACjC;EACAY,YAAYA,CAACZ,YAAY,EAAE;IACzB,IAAI//G,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;IACtB,MAAM;MAAEutF,UAAU;MAAExqF,cAAc;MAAEyqF,SAAS;MAAEW,cAAc;MAAEG,eAAe;MAAE10G;IAAK,CAAC,GAAGw5G,YAAY;IACrG,MAAM;MAAEvwF,UAAU,GAAG0qF;IAAW,CAAC,GAAGxqF,cAAc,IAAI,IAAI,GAAGA,cAAc,GAAG,CAAC,CAAC;IAChF,IAAI,IAAI,CAAClf,MAAM,CAAC0pG,UAAU,CAAC,IAAI,IAAI,EAAE;MACnC,MAAM,IAAI/yG,KAAK,CAAC,uDAAuD+yG,UAAU,EAAE,CAAC;IACtF;IACA,MAAMiG,WAAW,GAAG,IAAI,CAACC,SAAS,CAAC5wF,UAAU,CAAC;IAC9C,MAAM6wF,SAAS,GAAG,CAAC9vG,EAAE,GAAG,CAACvQ,EAAE,GAAG,IAAI,CAACu8B,MAAM,CAACh2B,IAAI,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvG,EAAE,CAACmgH,WAAW,CAAC,KAAK,IAAI,GAAG5vG,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAACE,MAAM,CAAC0pG,UAAU,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG5pG,EAAE,CAACmwG,UAAU;IACnK,IAAIJ,SAAS,EAAE;MACbA,SAAS,CAACC,SAAS,GAAGD,SAAS,CAACC,SAAS,CAACl4G,MAAM,CAAE5N,CAAC,IAAKA,CAAC,KAAK0/G,UAAU,CAAC;MACzEmG,SAAS,CAACz1D,KAAK,CAACliC,WAAW,CAACyxF,SAAS,CAAC;MACtCkG,SAAS,CAACE,SAAS,CAAC73F,WAAW,CAACoyF,cAAc,CAAC;MAC/CuF,SAAS,CAACG,UAAU,CAAC93F,WAAW,CAACuyF,eAAe,CAAC;IACnD;IACA,IAAI,CAACoF,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACC,SAAS,CAAC3nH,MAAM,MAAM,CAAC,EAAE;MACnE,IAAI,CAAC+mH,UAAU,CAACh3F,WAAW,CAAC23F,SAAS,CAACz1D,KAAK,CAAC;MAC5C,IAAI,CAAC+0D,aAAa,CAACj3F,WAAW,CAAC23F,SAAS,CAACE,SAAS,CAAC;MACnD,IAAI,CAAC5yB,cAAc,CAACjlE,WAAW,CAAC23F,SAAS,CAACG,UAAU,CAAC;MACrD,OAAO,IAAI,CAACjkF,MAAM,CAACh2B,IAAI,CAAC,CAAC45G,WAAW,CAAC;MACrC,OAAO,IAAI,CAAC5jF,MAAM,CAACh2B,IAAI,CAAC,CAAC2zG,UAAU,CAAC;IACtC,CAAC,MAAM,IAAI,CAACmG,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACC,SAAS,CAAC3nH,MAAM,IAAI,CAAC,EAAE;MACxE,MAAMioH,gBAAgB,GAAG,CAACj0F,EAAE,GAAG,IAAI,CAACnc,MAAM,CAAC,CAACU,EAAE,GAAGmvG,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACC,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGpvG,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGyb,EAAE,CAACozF,YAAY;MAChKM,SAAS,CAACz1D,KAAK,CAACluB,cAAc,GAAGkkF,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC/F,sBAAsB,CAAC,MAAM,CAAC;MACpHwF,SAAS,CAACE,SAAS,CAAC7jF,cAAc,GAAGkkF,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC/F,sBAAsB,CAAC,WAAW,CAAC;MAC7HwF,SAAS,CAACG,UAAU,CAAC9jF,cAAc,GAAGkkF,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC/F,sBAAsB,CAAC,YAAY,CAAC;IACjI;IACA,OAAO,IAAI,CAACrqG,MAAM,CAAC0pG,UAAU,CAAC;EAChC;EACAkG,SAASA,CAAC5wF,UAAU,EAAE;IACpB,IAAI,IAAI,CAAC5d,IAAI,KAAK,QAAQ,EAAE;MAC1B,OAAO4d,UAAU;IACnB;IACA,IAAI,OAAOA,UAAU,KAAK,QAAQ,EAAE;MAClCA,UAAU,GAAG7vB,MAAM,CAAC6vB,UAAU,CAAC7hB,KAAK,CAAC,GAAG,CAAC,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvD,IAAI,CAACyhB,UAAU,EAAE;QACf,OAAO,CAAC;MACV;IACF;IACA,OAAOx4B,IAAI,CAACsI,KAAK,CACf+yB,KAAK,CAAC,CAAC,EAAE7C,UAAU,GAAG,IAAI,CAACowF,mBAAmB,EAAE,CAAC,CAAC,GAAGJ,+CACvD,CAAC;EACH;EACA95G,OAAOA,CAAA,EAAG;IACR,KAAK,MAAM62B,MAAM,IAAIjnC,MAAM,CAACiX,MAAM,CAAC,IAAI,CAACgwB,MAAM,CAAC,EAAE;MAC/C,KAAK,MAAM8jF,SAAS,IAAI/qH,MAAM,CAACiX,MAAM,CAACgwB,MAAM,CAAC,EAAE;QAC7C,IAAI,CAACmjF,UAAU,CAACh3F,WAAW,CAAC23F,SAAS,CAACz1D,KAAK,CAAC;QAC5C,IAAI,CAAC+0D,aAAa,CAACj3F,WAAW,CAAC23F,SAAS,CAACE,SAAS,CAAC;QACnD,IAAI,CAAC5yB,cAAc,CAACjlE,WAAW,CAAC23F,SAAS,CAACG,UAAU,CAAC;MACvD;IACF;IACA,IAAI,CAACjkF,MAAM,GAAG,CAAC,CAAC;IAChB,IAAI,CAAC/rB,MAAM,GAAG,CAAC,CAAC;EAClB;AACF,CAAC;;AAED;AACA,IAAIqwG,mBAAmB,GAAG,MAAM;EAC9B3hH,WAAWA,CAAC4hH,SAAS,EAAE1tC,aAAa,EAAE;IACpC,IAAI,CAAC0tC,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAAC1tC,aAAa,GAAGA,aAAa;IAClC,IAAI,CAAC3tE,UAAU,GAAG,EAAE;IACpB,IAAI,CAACA,UAAU,CAACpF,IAAI;IAClB;IACA,IAAI,CAAC+yE,aAAa,CAAC1E,WAAW,CAAC,cAAc,EAAGj1E,CAAC,IAAK,IAAI,CAACsnH,eAAe,CAACtnH,CAAC,CAACunH,UAAU,CAAC,CAAC,EACzF,IAAI,CAAC5tC,aAAa,CAAC1E,WAAW,CAAC,cAAc,EAAGj1E,CAAC,IAAK,IAAI,CAACwnH,gBAAgB,CAACxnH,CAAC,CAACunH,UAAU,CAAC,CAC3F,CAAC;EACH;EACAt7G,OAAOA,CAAA,EAAG;IACR,IAAI,CAACD,UAAU,CAACgM,OAAO,CAAE+4E,EAAE,IAAKA,EAAE,CAAC,CAAC,CAAC;EACvC;EACAu2B,eAAeA,CAACC,UAAU,EAAE;IAC1B,MAAM;MAAEhlG;IAAQ,CAAC,GAAG,IAAI,CAAC8kG,SAAS;IAClCE,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC4B,IAAI,EAAE,MAAM,CAAC;IACvCojG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAACyB,GAAG,EAAE,KAAK,CAAC;IACrCujG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC0B,KAAK,EAAE,OAAO,CAAC;IACzCsjG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC2B,MAAM,EAAE,QAAQ,CAAC;IAC3C,OAAO;MAAEqjG;IAAW,CAAC;EACvB;EACAC,gBAAgBA,CAACD,UAAU,EAAE;IAC3B,IAAIhhH,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAEiL,KAAK;MAAEwC,QAAQ;MAAEC;IAAS,CAAC,GAAG,IAAI,CAAC8iG,SAAS;IACpD,MAAMI,aAAa,GAAGF,UAAU,CAACzzG,KAAK,CAAC,CAAC;IACxC,MAAM4zG,aAAa,GAAIhqC,OAAO,IAAK;MACjC,IAAI9oD,GAAG;MACP,MAAM+yF,oBAAoB,GAAGJ,UAAU,CAACvsF,MAAM,GAAG,EAAE;MACnD,MAAM4sF,iBAAiB,GAAG,CAAChzF,GAAG,GAAG8oD,OAAO,CAACtmB,UAAU,KAAK,IAAI,GAAGxiC,GAAG,GAAG8oD,OAAO,CAACv7D,QAAQ,GAAG86C,IAAI,CAACjC,sBAAsB;MACnH,MAAMzC,QAAQ,GAAGgvD,UAAU,CAAC7kG,KAAK;MACjC,MAAM81C,SAAS,GAAGj7D,IAAI,CAAC6J,GAAG,CAACwgH,iBAAiB,EAAED,oBAAoB,CAAC;MACnEjqC,OAAO,CAACtI,eAAe,CAAC7c,QAAQ,EAAEC,SAAS,CAAC;IAC9C,CAAC;IACD,MAAMqvD,QAAQ,GAAI1zD,KAAK,IAAK;MAC1B,IAAIA,KAAK,KAAK,MAAM,EAAE;QACpB,OAAOszD,aAAa,CAACtnH,CAAC;MACxB,CAAC,MAAM,IAAIg0D,KAAK,KAAK,OAAO,EAAE;QAC5B,OAAOszD,aAAa,CAACtnH,CAAC,GAAGsnH,aAAa,CAAC/kG,KAAK;MAC9C,CAAC,MAAM,IAAIyxC,KAAK,KAAK,QAAQ,EAAE;QAC7BrvD,MAAM,CAACM,KAAK,CAAC,4BAA4B+uD,KAAK,EAAE,CAAC;MACnD;MACA,OAAOszD,aAAa,CAACtnH,CAAC,GAAGsnH,aAAa,CAAC/kG,KAAK,GAAG,CAAC;IAClD,CAAC;IACD,MAAMolG,wBAAwB,GAAGA,CAACpqC,OAAO,EAAEz7D,OAAO,KAAK;MACrD,MAAM8lG,KAAK,GAAGN,aAAa,CAACxtF,CAAC;MAC7ByjD,OAAO,CAACvjE,IAAI,CAACha,CAAC,GAAG0nH,QAAQ,CAACnqC,OAAO,CAAC5mB,SAAS,CAAC;MAC5C4mB,OAAO,CAACvjE,IAAI,CAAC8f,CAAC,GAAG8tF,KAAK;MACtBrqC,OAAO,CAACvjE,IAAI,CAAC48C,YAAY,GAAG,KAAK;MACjC2wD,aAAa,CAAChqC,OAAO,CAAC;MACtB,MAAMr+C,IAAI,GAAGq+C,OAAO,CAACvjE,IAAI,CAAC+qB,WAAW,CAAC,CAAC;MACvC,MAAM8iF,UAAU,GAAGzqH,IAAI,CAAC0I,IAAI,CAACo5B,IAAI,CAACpF,CAAC,GAAG8tF,KAAK,GAAG1oF,IAAI,CAACrE,MAAM,GAAG/Y,OAAO,CAAC;MACpEwlG,aAAa,CAAC1rF,MAAM,CAACisF,UAAU,EAAE,KAAK,CAAC;IACzC,CAAC;IACD,MAAMC,2BAA2B,GAAGA,CAACvqC,OAAO,EAAEz7D,OAAO,KAAK;MACxD,MAAM8lG,KAAK,GAAGN,aAAa,CAACxtF,CAAC,GAAGwtF,aAAa,CAACzsF,MAAM;MACpD0iD,OAAO,CAACvjE,IAAI,CAACha,CAAC,GAAG0nH,QAAQ,CAACnqC,OAAO,CAAC5mB,SAAS,CAAC;MAC5C4mB,OAAO,CAACvjE,IAAI,CAAC8f,CAAC,GAAG8tF,KAAK;MACtBrqC,OAAO,CAACvjE,IAAI,CAAC48C,YAAY,GAAG,QAAQ;MACpC2wD,aAAa,CAAChqC,OAAO,CAAC;MACtB,MAAMr+C,IAAI,GAAGq+C,OAAO,CAACvjE,IAAI,CAAC+qB,WAAW,CAAC,CAAC;MACvC,MAAM8iF,UAAU,GAAGzqH,IAAI,CAAC0I,IAAI,CAAC8hH,KAAK,GAAG1oF,IAAI,CAACpF,CAAC,GAAGhY,OAAO,CAAC;MACtDwlG,aAAa,CAAC1rF,MAAM,CAACisF,UAAU,EAAE,QAAQ,CAAC;IAC5C,CAAC;IACDlmG,KAAK,CAAC3H,IAAI,CAACkJ,OAAO,GAAGvB,KAAK,CAACC,OAAO;IAClCuC,QAAQ,CAACnK,IAAI,CAACkJ,OAAO,GAAGiB,QAAQ,CAACvC,OAAO;IACxCwC,QAAQ,CAACpK,IAAI,CAACkJ,OAAO,GAAGkB,QAAQ,CAACxC,OAAO;IACxC,IAAID,KAAK,CAACC,OAAO,EAAE;MACjB,MAAM;QAAEE,OAAO,GAAGqC,QAAQ,CAACvC,OAAO,GAAGuyD,OAAO,CAACqB,aAAa,GAAGrB,OAAO,CAACsB;MAAc,CAAC,GAAG9zD,KAAK;MAC5FgmG,wBAAwB,CAAChmG,KAAK,EAAEG,OAAO,CAAC;IAC1C;IACA,IAAIqC,QAAQ,CAACvC,OAAO,EAAE;MACpB+lG,wBAAwB,CAACxjG,QAAQ,EAAE,CAAC/d,EAAE,GAAG+d,QAAQ,CAACrC,OAAO,KAAK,IAAI,GAAG1b,EAAE,GAAG,CAAC,CAAC;IAC9E;IACA,IAAIge,QAAQ,CAACxC,OAAO,EAAE;MACpBkmG,2BAA2B,CAAC1jG,QAAQ,EAAE,CAAC1N,EAAE,GAAG0N,QAAQ,CAACtC,OAAO,KAAK,IAAI,GAAGpL,EAAE,GAAG,CAAC,CAAC;IACjF;IACA,OAAO;MAAE0wG,UAAU,EAAEE;IAAc,CAAC;EACtC;AACF,CAAC;;AAED;AACA,IAAIS,mBAAmB,GAAG,MAAM;EAC9BziH,WAAWA,CAACm0E,KAAK,EAAEoxB,WAAW,EAAElxB,aAAa,EAAEywB,WAAW,EAAE;IAC1D,IAAI,CAAC3wB,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACoxB,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAAClxB,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACywB,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAAC4d,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,eAAe,GAAG,KAAK;IAC5B,IAAI,CAACC,aAAa,GAAG,eAAgB,IAAIvlH,GAAG,CAAC,CAAC;IAC9C,IAAI,CAACkJ,UAAU,GAAG,EAAE;IACpB,IAAI,CAACA,UAAU,CAACpF,IAAI,CAClB,IAAI,CAACokG,WAAW,CAAC/1B,WAAW,CAAC,oBAAoB,EAAE,MAAM,IAAI,CAACqzC,kBAAkB,CAAC,CAAC,CAAC,EACnF,IAAI,CAACtd,WAAW,CAAC/1B,WAAW,CAAC,WAAW,EAAE,MAAM,IAAI,CAACszC,UAAU,CAAC,CAAC,CAAC,EAClE,IAAI,CAACvd,WAAW,CAAC/1B,WAAW,CAAC,YAAY,EAAE,MAAM,IAAI,CAACuzC,WAAW,CAAC,CAAC,CAAC,EACpE,IAAI,CAAC1uC,aAAa,CAAC7E,WAAW,CAAC,iBAAiB,EAAE,MAAM,IAAI,CAACwzC,gBAAgB,CAAC,CAAC,CAAC,EAChF,IAAI,CAACle,WAAW,CAACt1B,WAAW,CAAC,aAAa,EAAE,MAAM,IAAI,CAACyzC,YAAY,CAAC,CAAC,CACvE,CAAC;EACH;EACAz8G,OAAOA,CAAA,EAAG;IACR,IAAI,CAACD,UAAU,CAACgM,OAAO,CAAE+4E,EAAE,IAAKA,EAAE,CAAC,CAAC,CAAC;EACvC;EACAw3B,UAAUA,CAAA,EAAG;IACX,IAAI,CAACzuC,aAAa,CAAC1jC,MAAM,CAAC,CAAC,CAAC,iBAAiB,CAAC;EAChD;EACAoyE,WAAWA,CAAA,EAAG;IACZ,IAAI,CAAC1uC,aAAa,CAAC1jC,MAAM,CAAC,CAAC,CAAC,oBAAoB,CAAC;EACnD;EACAkyE,kBAAkBA,CAAA,EAAG;IACnB,IAAI,CAACF,eAAe,GAAG,IAAI;EAC7B;EACAK,gBAAgBA,CAAA,EAAG;IACjB,IAAI,CAAC,IAAI,CAACN,SAAS,IAAI,CAAC,IAAI,CAACC,eAAe,EAC1C;IACF,IAAI,CAACO,YAAY,CAAC,CAAC,CAAC13B,KAAK,CAAEjxF,CAAC,IAAK8E,MAAM,CAACS,SAAS,CAACvF,CAAC,CAAC,CAAC;EACvD;EACA0oH,YAAYA,CAAA,EAAG;IACb,IAAI,CAACP,SAAS,GAAG,IAAI;EACvB;EACAQ,YAAYA,CAAA,EAAG;IACb,OAAOrpH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAI,CAAC,IAAI,CAAC0rG,WAAW,CAACjV,MAAM,CAAC,CAAC,EAC5B;MACF,MAAMh+E,IAAI,GAAG,IAAI,CAAC6wG,YAAY,CAAC,CAAC;MAChC,IAAI/4F,OAAO;MACX,IAAIg5F,aAAa,GAAG,IAAI;MACxB,IAAI9wG,IAAI,EAAE;QACR,MAAM+wG,KAAK,GAAG,IAAI,CAACve,WAAW,CAACwM,WAAW,CAACh/F,IAAI,CAACwqB,EAAE,CAAC;QACnD1S,OAAO,GAAG,IAAI,CAACk5F,aAAa,CAAChxG,IAAI,EAAE+wG,KAAK,CAAC;QACzCD,aAAa,GAAG,IAAI,CAACA,aAAa,CAAC9wG,IAAI,EAAE+wG,KAAK,CAAC;MACjD;MACA,IAAI,CAACX,SAAS,GAAG,KAAK;MACtB,IAAI,CAACC,eAAe,GAAG,KAAK;MAC5B,IAAI,CAACS,aAAa,EAChB;MACF,IAAI,CAAC7d,WAAW,CAAClV,IAAI,CAAC;QAAEkzB,WAAW,EAAEn5F,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACzD,GAAG;QAAE68F,SAAS,EAAEp5F,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACzoB;MAAI,CAAC,CAAC;IACnI,CAAC,CAAC;EACJ;EACAwhH,YAAYA,CAAA,EAAG;IACb,OAAO,IAAI,CAAChvC,KAAK,CAAC9hE,IAAI,CAAClL,IAAI,CAAEmL,IAAI,IAAKA,IAAI,CAACjL,IAAI,KAAK,MAAM,CAAC;EAC7D;EACA+7G,aAAaA,CAAC9wG,IAAI,EAAE+wG,KAAK,EAAE;IACzB,IAAI,IAAI,CAACV,eAAe,EACtB,OAAO,IAAI;IACb,IAAI,CAAC,IAAI,CAACD,SAAS,EACjB,OAAO,KAAK;IACd,MAAMe,QAAQ,GAAG,IAAI,CAACb,aAAa,CAACrrH,GAAG,CAAC+a,IAAI,CAACwqB,EAAE,CAAC;IAChD,IAAI2mF,QAAQ,IAAIJ,KAAK,CAAC18F,GAAG,KAAK88F,QAAQ,CAAC98F,GAAG,IAAI08F,KAAK,CAAC1hH,GAAG,KAAK8hH,QAAQ,CAAC9hH,GAAG,EAAE;MACxE,OAAO,KAAK;IACd;IACA,IAAI,CAACihH,aAAa,CAACnlH,GAAG,CAAC6U,IAAI,CAACwqB,EAAE,EAAEumF,KAAK,CAAC;IACtC,OAAO,IAAI;EACb;EACAC,aAAaA,CAAChxG,IAAI,EAAE+wG,KAAK,EAAE;IACzB,IAAIviH,EAAE,EAAEsQ,EAAE;IACV,MAAM8mC,MAAM,GAAG,CAAC9mC,EAAE,GAAG,CAACtQ,EAAE,GAAGwR,IAAI,CAACsqD,KAAK,EAAErd,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGnuC,EAAE,CAACzY,IAAI,CAACmI,EAAE,CAAC;IAChF,IAAI,CAACuiH,KAAK,IAAI,CAACnrE,MAAM,IAAIA,MAAM,CAACz+C,MAAM,KAAK,CAAC,IAAIyS,KAAK,CAACzL,MAAM,CAACy3C,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EACtE;IACF,MAAMlkC,KAAK,GAAGvT,MAAM,CAACy3C,MAAM,CAAC,CAAC,CAAC,CAAC,GAAGz3C,MAAM,CAACy3C,MAAM,CAAC,CAAC,CAAC,CAAC;IACnD,MAAMvxB,GAAG,GAAG,IAAIpmB,IAAI,CAACE,MAAM,CAACy3C,MAAM,CAAC,CAAC,CAAC,CAAC,GAAGlkC,KAAK,GAAGqvG,KAAK,CAAC18F,GAAG,CAAC;IAC3D,MAAMhlB,GAAG,GAAG,IAAIpB,IAAI,CAACE,MAAM,CAACy3C,MAAM,CAAC,CAAC,CAAC,CAAC,GAAGlkC,KAAK,GAAGqvG,KAAK,CAAC1hH,GAAG,CAAC;IAC3D,OAAO;MAAEglB,GAAG;MAAEhlB;IAAI,CAAC;EACrB;AACF,CAAC;;AAED;AACA,IAAI+hH,iBAAiB,GAAG,MAAM;EAC5B1jH,WAAWA,CAAC4hH,SAAS,EAAEhiG,QAAQ,EAAE2lF,WAAW,EAAErxB,aAAa,EAAEvgC,gBAAgB,EAAE;IAC7E,IAAI,CAACiuE,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAAChiG,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAAC2lF,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACrxB,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACvgC,gBAAgB,GAAGA,gBAAgB;IACxC,IAAI,CAACptC,UAAU,GAAG,EAAE;IACpB,IAAI,CAACA,UAAU,CAACpF,IAAI,CAAC,IAAI,CAAC+yE,aAAa,CAAC1E,WAAW,CAAC,iBAAiB,EAAGj1E,CAAC,IAAK,IAAI,CAACopH,gBAAgB,CAACppH,CAAC,CAAC,CAAC,CAAC;EAC1G;EACAiM,OAAOA,CAAA,EAAG;IACR,IAAI,CAACD,UAAU,CAACgM,OAAO,CAAE+4E,EAAE,IAAKA,EAAE,CAAC,CAAC,CAAC;EACvC;EACAq4B,gBAAgBA,CAAC;IAAEryG,MAAM,EAAE;MAAE66C;IAAK;EAAE,CAAC,EAAE;IACrC,MAAMokC,SAAS,GAAG,IAAI,CAACgV,WAAW,CAAChV,SAAS,CAAC,CAAC;IAC9C,MAAM4rB,OAAO,GAAG,IAAI,CAACyF,SAAS,CAACtwG,MAAM,CAAC1J,IAAI,CAAErG,CAAC,IAAKA,CAAC,CAAC46G,OAAO,CAAC;IAC5D,MAAMyH,gBAAgB,GAAG,IAAI,CAAChC,SAAS,CAACtwG,MAAM,CAAC1J,IAAI,CAAErG,CAAC,IAAKA,CAAC,CAACqc,OAAO,CAAC;IACrE,IAAI,CAACimG,aAAa,CAAC,IAAI,CAACjkG,QAAQ,CAACC,OAAO,EAAEssC,IAAI,EAAEokC,SAAS,CAAC;IAC1D,IAAI,CAACszB,aAAa,CAAC,IAAI,CAACjkG,QAAQ,CAACE,MAAM,EAAEqsC,IAAI,EAAE,CAACokC,SAAS,IAAI,CAAC4rB,OAAO,CAAC;IACtE,IAAI,CAAC0H,aAAa,CAAC,IAAI,CAACjkG,QAAQ,CAACG,eAAe,EAAEosC,IAAI,EAAEgwD,OAAO,IAAI,CAACyH,gBAAgB,CAAC;EACvF;EACAC,aAAaA,CAAC3O,OAAO,EAAE4O,UAAU,EAAElmG,OAAO,EAAE;IAC1C,IAAIA,OAAO,EAAE;MACX,MAAMiL,QAAQ,GAAGqsF,OAAO,CAACb,UAAU,CAAC,IAAI,CAAC1gE,gBAAgB,EAAEmwE,UAAU,CAAC;MACtE,IAAI,CAAClC,SAAS,CAACt1C,OAAO,CAAC1tC,MAAM,CAAC/V,QAAQ,CAAC;IACzC,CAAC,MAAM;MACLqsF,OAAO,CAACH,aAAa,CAAC,IAAI,CAACphE,gBAAgB,CAAC;IAC9C;EACF;AACF,CAAC;;AAED;AACA,IAAIzV,KAAK,GAAGtT,KAAK,CAAC/hB,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC;AACtC,IAAIk7G,UAAU,GAAG,cAAcnxG,cAAc,CAAC;EAC5C5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACxhC,OAAO,GAAG,IAAIuvE,OAAO,CAAC,CAAC,CAAC;EAC/B;AACF,CAAC;AACDjzF,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,EAAE;EAAExnC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACtC,EAAEywG,UAAU,CAAC9sH,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEopE,UAAU,CAAC9sH,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACtC,IAAI+sH,MAAM,GAAG,MAAMA,MAAM,SAASr4B,UAAU,CAAC;EAC3C3rF,WAAWA,CAAC3B,OAAO,EAAE4lH,SAAS,EAAE;IAC9B,IAAInjH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,KAAK,CAAC,CAAC;IACP,IAAI,CAACyrB,EAAE,GAAGhK,QAAQ,CAAC,IAAI,CAAC;IACxB,IAAI,CAAC0tF,UAAU,GAAG,IAAI3zD,KAAK,CAAC;MAAEp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE;IAAe,CAAC,CAAC;IAC/D,IAAI,CAAC2jF,aAAa,GAAG,IAAI5zD,KAAK,CAAC;MAC7Bp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE,iBAAiB;MACjCutB,KAAK,EAAE,IAAI;MACX1tB,MAAM,EAAE,CAAC,CAAC;MACVouB,0BAA0B,EAAE;IAC9B,CAAC,CAAC;IACF,IAAI,CAAC0jC,cAAc,GAAG,IAAI5hC,KAAK,CAAC;MAC9Bp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE,kBAAkB;MAClCutB,KAAK,EAAE,IAAI;MACX1tB,MAAM,EAAE,EAAE,CAAC;IACb,CAAC,CAAC;IACF,IAAI,CAACuB,KAAK,GAAGtT,KAAK,CAAC/hB,MAAM,CAAC,CAAC;IAC3B,IAAI,CAACm/E,eAAe,GAAG,CAAC,CAAC;IACzB,IAAI,CAACnyE,IAAI,GAAG,EAAE;IACd,IAAI,CAACquG,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACpnG,OAAO,GAAG,IAAIuvE,OAAO,CAAC,EAAE,CAAC;IAC9B,IAAI,CAAC83B,UAAU,GAAG,IAAIJ,UAAU,CAAC,CAAC;IAClC,IAAI,CAAC1nG,KAAK,GAAG,IAAIwyD,OAAO,CAAC,CAAC;IAC1B,IAAI,CAAChwD,QAAQ,GAAG,IAAIgwD,OAAO,CAAC,CAAC;IAC7B,IAAI,CAAC/vD,QAAQ,GAAG,IAAI+vD,OAAO,CAAC,CAAC;IAC7B,IAAI,CAAClwD,QAAQ,GAAG,IAAIgzF,QAAQ,CAAC,CAAC;IAC9B,IAAI,CAACj/F,IAAI,GAAG,YAAY;IACxB,IAAI,CAAC0xG,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,WAAW,GAAG,EAAE;IACrB,IAAI,CAACC,mBAAmB,GAAG,SAAS;IACpC,IAAI,CAACC,cAAc,GAAG,IAAI3Q,cAAc,CAAC,CAAC;IAC1C;IACA,IAAI,CAAC/O,WAAW,GAAG,IAAIyL,WAAW,CAAC,CAAC;IACpC,IAAI,CAACtJ,UAAU,GAAG,EAAE;IACpB,IAAI,CAAC/6E,gBAAgB,GAAG,CAAC,CAAC;IAC1B,IAAI,CAACd,WAAW,GAAG,CAAC,CAAC;IACrB,IAAI,CAACq5F,iBAAiB,GAAG,EAAE;IAC3B,IAAI,CAACC,2BAA2B,GAAG,CAAC;IACpC,IAAI,CAACC,2BAA2B,GAAG,CAAC;IACpC,IAAI,CAACC,4BAA4B,GAAG,KAAK;IACzC,IAAI,CAACC,iBAAiB,GAAG,CAAC,CAAC;IAC3B,IAAI,CAACC,mBAAmB,GAAG,CAAC;IAC5B,IAAI,CAACC,cAAc,GAAG,eAAgB,IAAIl+G,GAAG,CAAC,CAAC;IAC/C,IAAI,CAAC+9F,WAAW,GAAG,IAAI1Z,KAAK,CAAC,CAAC;IAC9B,IAAI,CAAC85B,gBAAgB,GAAG,CAAC,CAAC;IAC1B,IAAI,CAACC,oBAAoB,GAAGt4B,iBAAiB,CAAEu4B,EAAE,IAAKrrH,OAAO,CAAC,IAAI,EAAE,CAACqrH,EAAE,CAAC,EAAE,WAAW;MAAEx1F;IAAM,CAAC,EAAE;MAC9F,IAAI,IAAI,CAAC00F,SAAS,EAChB;MACF,IAAI,CAACxf,WAAW,CAACvZ,OAAO,CAAC,MAAMxxF,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;QAC9D,IAAI;UACF,MAAM,IAAI,CAACsrH,aAAa,CAACz1F,KAAK,CAAC;QACjC,CAAC,CAAC,OAAO/vB,KAAK,EAAE;UACdN,MAAM,CAACM,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;QACrC;MACF,CAAC,CAAC,CAAC,CAAC6rF,KAAK,CAAEjxF,CAAC,IAAK8E,MAAM,CAACS,SAAS,CAACvF,CAAC,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IACH,IAAI,CAAC6qH,oBAAoB,GAAG,CAAC,CAAC;IAC9B,IAAI,CAAC/yG,IAAI,GAAG,EAAE;IACd,IAAI,CAACf,MAAM,GAAG,EAAE;IAChB,IAAI,CAAC+zG,KAAK,GAAG;MACXC,QAAQ,EAAE,KAAK;MACfh0G,MAAM,EAAE,KAAK,CAAC;MACdi0G,WAAW,EAAE,CAAC;MACdC,UAAU,EAAE,CAAC;MACb9nF,KAAK,EAAE,KAAK;IACd,CAAC;IACD,IAAI,CAAC+nF,gBAAgB,GAAGn5B,uBAAuB,CAAC,MAAM;MACpD,IAAI,CAAC,IAAI,CAACo5B,oBAAoB,EAC5B;MACF,IAAI,IAAI,CAACb,iBAAiB,IAAI,CAAC,CAAC,qBAAqB;QACnD,IAAI,CAACY,gBAAgB,CAACp4B,QAAQ,CAAC,CAAC;QAChC;MACF;MACA,IAAI,CAACs4B,aAAa,CAAC,IAAI,CAACD,oBAAoB,EAAE,KAAK,CAAC;MACpD,IAAI,CAACA,oBAAoB,GAAG,KAAK,CAAC;IACpC,CAAC,CAAC;IACF,IAAI,CAACE,iBAAiB,GAAI1lD,KAAK,IAAK;MAClC,MAAM2lD,oBAAoB,GAAGjtH,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE2nE,KAAK,CAAC,EAAE;QACpE74D,IAAI,EAAE;MACR,CAAC,CAAC;MACFjR,MAAM,CAACC,cAAc,CAACwvH,oBAAoB,EAAE,QAAQ,EAAE;QACpDztH,UAAU,EAAE,KAAK;QACjB;QACAb,GAAG,EAAEA,CAAA,KAAM2oE,KAAK,CAAC5uD;MACnB,CAAC,CAAC;MACF,IAAI,CAAC86E,SAAS,CAACy5B,oBAAoB,CAAC;IACtC,CAAC;IACD,IAAI,CAACC,uBAAuB,GAAI5lD,KAAK,IAAK;MACxC,MAAM6lD,qBAAqB,GAAGntH,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE2nE,KAAK,CAAC,EAAE;QACrE74D,IAAI,EAAE;MACR,CAAC,CAAC;MACF,IAAI,CAAC+kF,SAAS,CAAC25B,qBAAqB,CAAC;IACvC,CAAC;IACD,IAAI,CAACC,qBAAqB,GAAI9lD,KAAK,IAAK;MACtC,IAAI,EAAEA,KAAK,YAAYy6C,0BAA0B,CAAC,EAChD;MACF,MAAM;QAAErpG,MAAM;QAAEkf,cAAc;QAAEoqF;MAAY,CAAC,GAAG16C,KAAK;MACrD,IAAI5uD,MAAM,CAAC2pG,SAAS,CAAC58E,MAAM,IAAI,IAAI,EACjC;MACF,IAAI,CAAC4nF,kBAAkB,CAACzE,WAAW,CAAC;QAClCxG,UAAU,EAAE1pG,MAAM,CAAC0pG,UAAU;QAC7B3zG,IAAI,EAAEiK,MAAM,CAACjK,IAAI;QACjB4zG,SAAS,EAAE3pG,MAAM,CAAC2pG,SAAS;QAC3BW,cAAc,EAAEtqG,MAAM,CAACsqG,cAAc;QACrCG,eAAe,EAAEzqG,MAAM,CAACyqG,eAAe;QACvCJ,sBAAsB,EAAGt0G,IAAI,IAAKiK,MAAM,CAACqqG,sBAAsB,CAACt0G,IAAI,CAAC;QACrEmpB,cAAc;QACdoqF;MACF,CAAC,CAAC;IACJ,CAAC;IACD,IAAI,CAACsL,oBAAoB,GAAG,eAAgB,IAAIr/G,GAAG,CAAC,CAAC;IACrD,IAAI,CAACs/G,YAAY,GAAG9nH,OAAO;IAC3B,IAAIqmG,KAAK,GAAGuf,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACvf,KAAK;IACxD,MAAM77E,QAAQ,GAAG,CAAC/nB,EAAE,GAAGmjH,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAAC33C,OAAO,KAAK,IAAI,GAAGxrE,EAAE,GAAG6nB,aAAa,CAAC,KAAK,EAAE,kBAAkB,EAAE;MAAE3J,QAAQ,EAAE,UAAU;MAAEs2F,UAAU,EAAE;IAAO,CAAC,CAAC;IAC5K,MAAMvgF,SAAS,GAAGkvF,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAAClvF,SAAS;IAClE,IAAI,CAACu3C,OAAO,GAAGzjD,QAAQ;IACvB,MAAM0jD,IAAI,GAAG,IAAI1f,KAAK,CAAC;MAAEp1D,IAAI,EAAE;IAAO,CAAC,CAAC;IACxC80E,IAAI,CAAC3uD,OAAO,GAAG,KAAK;IACpB2uD,IAAI,CAAC3tC,MAAM,CAAC,IAAI,CAAC4hF,UAAU,CAAC;IAC5Bj0C,IAAI,CAAC3tC,MAAM,CAAC,IAAI,CAAC6hF,aAAa,CAAC;IAC/Bl0C,IAAI,CAAC3tC,MAAM,CAAC,IAAI,CAAC6vD,cAAc,CAAC;IAChC,IAAI,CAAC23B,aAAa,GAAG,IAAIv5D,KAAK,CAAC;MAAEp1D,IAAI,EAAE,YAAY;MAAE4yD,KAAK,EAAE,IAAI;MAAE1tB,MAAM,EAAE,CAAC,CAAC;IAAuB,CAAC,CAAC;IACrG4vC,IAAI,CAACjjD,WAAW,CAAC,IAAI,CAAC88F,aAAa,CAAC;IACpC,IAAI,CAACl0C,SAAS,GAAG,IAAIrlB,KAAK,CAAC;MAAEp1D,IAAI,EAAE,MAAM;MAAE4yD,KAAK,EAAE,IAAI;MAAE1tB,MAAM,EAAE,CAAC,CAAC;IAAkB,CAAC,CAAC;IACtF4vC,IAAI,CAACjjD,WAAW,CAAC,IAAI,CAAC4oD,SAAS,CAAC;IAChC,IAAI,CAACm0C,WAAW,GAAG,IAAI94B,WAAW,CAAC,CAAC;IACpC,IAAI,CAAC84B,WAAW,CAAC14B,OAAO,CAAC,IAAI,CAACrhB,OAAO,EAAGluD,IAAI,IAAK,IAAI,CAACkoG,SAAS,CAACloG,IAAI,CAAC,CAAC;IACtE,MAAM;MAAEmoG;IAAyB,CAAC,GAAGloH,OAAO,CAACgtB,gBAAgB;IAC7Dq5E,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGA,KAAK,GAAG,IAAI9a,KAAK,CAAC;MAAE59B,UAAU,EAAEu6D,wBAAwB;MAAE18B,cAAc,EAAE;IAAW,CAAC,CAAC;IAC/G6a,KAAK,CAAC1a,OAAO,CAACzd,IAAI,CAAC,CAACwd,YAAY,CAAClhE,QAAQ,CAAC;IAC1C,IAAI,CAAC29F,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACvoG,OAAO,GAAG,IAAI+tD,OAAO,CAAC,CAAC;IAC5B,IAAI,CAACi6C,kBAAkB,GAAG,IAAI1F,kBAAkB,CAAC,IAAI,CAACC,UAAU,EAAE,IAAI,CAACC,aAAa,EAAE,IAAI,CAAChyB,cAAc,CAAC;IAC1G,MAAMj0D,GAAG,GAAG,IAAI,CAACA,GAAG,GAAG,IAAIgqE,YAAY,CAAC,IAAI,EAAE;MAC5CE,KAAK;MACLC,WAAW,EAAE,IAAI2L,WAAW,CAAC,IAAI,CAAC;MAClChkC,OAAO,EAAEzjD,QAAQ;MACjBqnE,cAAc,EAAEA,CAAC7oF,IAAI,GAAG,CAAC,CAAC,YAAYmN,IAAI,KAAK,IAAI,CAACm8B,MAAM,CAACtpC,IAAI,EAAEmN,IAAI,CAAC;MACtEowF,WAAW,EAAE,IAAI,CAACA;IACpB,CAAC,CAAC;IACF,IAAI,CAAChlF,QAAQ,GAAG,IAAIo1F,aAAa,CAAC,CAAC;IACnC,CAAC3jG,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAACwO,QAAQ,CAACC,OAAO,EAAE00F,QAAQ,KAAK,IAAI,GAAGljG,EAAE,GAAGD,EAAE,CAACmjG,QAAQ,GAAG,MAAMa,iBAAiB,CAAC,IAAI,CAACx1F,QAAQ,CAACC,OAAO,CAACu0F,OAAO,CAAC,CAAC,EAAE55E,GAAG,CAACmZ,gBAAgB,CAACzB,eAAe,CAAC;IACxK,IAAI,CAAC+0D,UAAU,GAAG,CAChB,IAAI0a,mBAAmB,CAAC,IAAI,EAAEnnF,GAAG,CAAC05C,aAAa,CAAC,EAChD,IAAIuuC,mBAAmB,CAAC,IAAI,EAAEjoF,GAAG,CAAC+qE,WAAW,EAAE/qE,GAAG,CAAC65C,aAAa,EAAE75C,GAAG,CAACsqE,WAAW,CAAC,EAClF,IAAI4e,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC9jG,QAAQ,EAAE4a,GAAG,CAAC+qE,WAAW,EAAE/qE,GAAG,CAAC05C,aAAa,EAAE15C,GAAG,CAACmZ,gBAAgB,CAAC,CACrG;IACD,IAAI,CAAC0tE,SAAS,GAAG,IAAI7b,cAAc,CAAC,CAAC;IACrC,IAAI,CAACzwE,SAAS,GAAGA,SAAS;IAC1B,MAAM;MAAE0xF;IAAI,CAAC,GAAG9yB,gBAAgB;IAChC,MAAM7qF,aAAa,GAAG,IAAI,CAAC49G,gBAAgB,CAAC,CAAC;IAC7C,MAAMC,YAAY,GAAGnsF,GAAG,CAACy0C,aAAa,CAAC6wB,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC0gB,UAAU,EAAE,IAAI,CAACtuC,SAAS,CAAC;IAC3F13C,GAAG,CAACy0C,aAAa,CAAC6wB,SAAS,CAAC,MAAM,EAAEvzB,IAAI,CAAC;IACzC,IAAI,CAAC+3C,WAAW,CAACnjH,IAAI,CACnBq5B,GAAG,CAAC+qE,WAAW,CAAC/1B,WAAW,CAAC,WAAW,EAAGtP,KAAK,IAAK;MAClD,IAAI,CAACrqD,IAAI,GAAGqqD,KAAK,CAACrqD,IAAI;IACxB,CAAC,CAAC,EACF2kB,GAAG,CAACkqE,KAAK,CAACza,UAAU,CAAC,IAAI,CAAC5tE,KAAK,CAAC3H,IAAI,CAAC,EACrC8lB,GAAG,CAACkqE,KAAK,CAACza,UAAU,CAAC,IAAI,CAACprE,QAAQ,CAACnK,IAAI,CAAC,EACxC8lB,GAAG,CAACkqE,KAAK,CAACza,UAAU,CAAC,IAAI,CAACnrE,QAAQ,CAACpK,IAAI,CAAC,EACxC,IAAI,CAAC2H,KAAK,CAACizD,mBAAmB,CAACxmE,aAAa,EAAE,OAAO,CAAC,EACtD,IAAI,CAAC+V,QAAQ,CAACywD,mBAAmB,CAACxmE,aAAa,EAAE,UAAU,CAAC,EAC5D,IAAI,CAACgW,QAAQ,CAACwwD,mBAAmB,CAACxmE,aAAa,EAAE,UAAU,CAAC,EAC5D0xB,GAAG,CAACk9D,kBAAkB,CAACloB,WAAW,CAAC,OAAO,EAAGtP,KAAK,IAAK,IAAI,CAAC0mD,OAAO,CAAC1mD,KAAK,CAAC,CAAC,EAC3E1lC,GAAG,CAACk9D,kBAAkB,CAACloB,WAAW,CAAC,UAAU,EAAGtP,KAAK,IAAK,IAAI,CAAC2mD,aAAa,CAAC3mD,KAAK,CAAC,CAAC,EACpFymD,YAAY,CAACn3C,WAAW,CAAC,OAAO,EAAGtP,KAAK,IAAK,IAAI,CAAC4mD,WAAW,CAAC5mD,KAAK,CAAC,CAAC,EACrEymD,YAAY,CAACn3C,WAAW,CAAC,OAAO,EAAGtP,KAAK,IAAK,IAAI,CAAC6mD,OAAO,CAAC7mD,KAAK,CAAC,CAAC,EACjEymD,YAAY,CAACn3C,WAAW,CAAC,MAAM,EAAE,MAAM,IAAI,CAACwuB,MAAM,CAAC,CAAC,CAAC,EACrD2oB,YAAY,CAACn3C,WAAW,CAAC,KAAK,EAAGtP,KAAK,IAAK,IAAI,CAACq/B,KAAK,CAACr/B,KAAK,CAAC,CAAC,EAC7DymD,YAAY,CAACn3C,WAAW,CAAC,UAAU,EAAGtP,KAAK,IAAK,IAAI,CAAC8mD,SAAS,CAAC9mD,KAAK,CAAC,CAAC,EACtEymD,YAAY,CAACn3C,WAAW,CAAC,UAAU,EAAGtP,KAAK,IAAK,IAAI,CAAC+mD,SAAS,CAAC/mD,KAAK,CAAC,CAAC,EACtEymD,YAAY,CAACn3C,WAAW,CAAC,QAAQ,EAAGtP,KAAK,IAAK,IAAI,CAACgnD,QAAQ,CAAChnD,KAAK,CAAC,CAAC,EACnE1lC,GAAG,CAACukE,aAAa,CAACvvB,WAAW,CAAC,cAAc,EAAGtP,KAAK,IAAK,IAAI,CAACinD,cAAc,CAACjnD,KAAK,CAAC,CAAC,EACpF1lC,GAAG,CAACk9D,kBAAkB,CAACloB,WAAW,CAAC,WAAW,EAAE,MAAM,IAAI,CAAChpE,OAAO,CAAC,CAAC,CAAC,EACrEg0B,GAAG,CAACk9D,kBAAkB,CAACloB,WAAW,CAAC,aAAa,EAAGtP,KAAK,IAAK,IAAI,CAACknD,aAAa,CAAClnD,KAAK,CAAC,EAAEumD,GAAG,CAAC,EAC5FjsF,GAAG,CAACmZ,gBAAgB,CAAC67B,WAAW,CAAC,iBAAiB,EAAE,MAAM,IAAI,CAAC63C,gBAAgB,CAAC,CAAC,CAAC,EAClF7sF,GAAG,CAACmZ,gBAAgB,CAAC67B,WAAW,CAAC,iBAAiB,EAAE,MAAM;MACxD,IAAI,CAAC7+B,MAAM,CAAC,CAAC,CAAC,kBAAkB,CAAC;IACnC,CAAC,CAAC,EACFnW,GAAG,CAAC2qE,gBAAgB,CAAC31B,WAAW,CAAC,kBAAkB,EAAGtP,KAAK,IAAK,IAAI,CAAConD,oBAAoB,CAACpnD,KAAK,CAAC,CAAC,EACjG1lC,GAAG,CAACsqE,WAAW,CAACt1B,WAAW,CAAC,gBAAgB,EAAE,MAAM,IAAI,CAAC+3C,YAAY,CAAC,CAAC,CAAC,EACxE/sF,GAAG,CAACsqE,WAAW,CAACt1B,WAAW,CAAC,aAAa,EAAE,MAAM;MAC/C,IAAI,CAAC+3C,YAAY,CAAC,CAAC;MACnB,IAAI,CAACj2G,MAAM,CAACxD,GAAG,CAAEvM,CAAC,IAAK;QACrB,IAAI4tB,GAAG;QACP,OAAO,CAACA,GAAG,GAAG5tB,CAAC,CAACkyE,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtkD,GAAG,CAAC8wC,UAAU,CAAC,YAAY,CAAC;MACjF,CAAC,CAAC;MACF,MAAMixB,cAAc,GAAG,IAAI,CAACqzB,mBAAmB,KAAK,SAAS;MAC7D,IAAI,CAAC5zE,MAAM,CAAC,CAAC,CAAC,sBAAsB;QAAE62E,oBAAoB,EAAE,IAAI;QAAEt2B;MAAe,CAAC,CAAC;IACrF,CAAC,CACH,CAAC;EACH;EACA,OAAOu2B,WAAWA,CAAC5+F,QAAQ,EAAE;IAC3B,OAAOm7F,MAAM,CAAC0D,eAAe,CAACnwH,GAAG,CAACsxB,QAAQ,CAAC;EAC7C;EACA;EACA,IAAIiuC,aAAaA,CAAA,EAAG;IAClB,OAAO,IAAI,CAACt8B,GAAG,CAACkqE,KAAK,CAAC/1C,MAAM,CAAC2d,OAAO;EACtC;EACA;EACAq7C,gBAAgBA,CAACz9B,UAAU,EAAE;IAC3B,OAAO,IAAI,CAAC1vD,GAAG,CAACkqE,KAAK,CAACva,UAAU,CAACD,UAAU,CAAC;EAC9C;EACA09B,gBAAgBA,CAACzvH,KAAK,EAAE;IACtB,MAAM;MAAEilB;IAAM,CAAC,GAAG,IAAI,CAACkvD,OAAO;IAC9B,IAAIn0E,KAAK,EAAE;MACTilB,KAAK,CAAC+L,OAAO,GAAG,OAAO;MACvB/L,KAAK,CAACH,KAAK,GAAG,MAAM;MACpBG,KAAK,CAACmY,MAAM,GAAG,MAAM;MACrB,IAAI,CAAC,IAAI,CAACsyF,aAAa,EAAE;QACvB;MACF;MACA,IAAI,CAAC/zC,MAAM,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,iBAAiB,CAAC;IAChD,CAAC,MAAM;MACL12D,KAAK,CAAC+L,OAAO,GAAG,cAAc;MAC9B/L,KAAK,CAACH,KAAK,GAAG,MAAM;MACpBG,KAAK,CAACmY,MAAM,GAAG,MAAM;IACvB;EACF;EACAlM,QAAQA,CAACJ,QAAQ,EAAEihE,UAAU,EAAE;IAC7B,IAAI,CAAC1vD,GAAG,CAACkqE,KAAK,CAACr7E,QAAQ,CAACJ,QAAQ,EAAEihE,UAAU,CAAC;EAC/C;EACA19D,UAAUA,CAAA,EAAG;IACX,IAAI1rB,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAAC2jH,iBAAiB,CAACh9F,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG3mB,EAAE,GAAG,IAAI,CAACsqB,WAAW;EAC7E;EACAs7F,gBAAgBA,CAAA,EAAG;IACjB,OAAO,IAAI,CAAClsF,GAAG;EACjB;EACAstF,YAAYA,CAAA,EAAG;IACb,IAAIhnH,EAAE;IACN,MAAMinH,WAAW,GAAG,CAAC,IAAI,CAAC1rG,KAAK,EAAE,IAAI,CAACwC,QAAQ,EAAE,IAAI,CAACC,QAAQ,CAAC,CAAC5V,MAAM,CAAE+uE,OAAO,IAAKA,OAAO,CAAC37D,OAAO,IAAI27D,OAAO,CAAC17D,IAAI,CAAC,CAACzO,GAAG,CAAEmqE,OAAO,IAAKA,OAAO,CAAC17D,IAAI,CAAC,CAAC5J,IAAI,CAAC,IAAI,CAAC;IAC7J,MAAMq1G,OAAO,GAAG,CAAClnH,EAAE,GAAG,IAAI,CAACwQ,MAAM,CAAC7X,MAAM,KAAK,IAAI,GAAGqH,EAAE,GAAG,CAAC;IAC1D,OAAO,UAAUknH,OAAO,YAAYD,WAAW,EAAE;EACnD;EACAE,eAAeA,CAAA,EAAG;IAChB,IAAI,CAAC1D,mBAAmB,GAAG,SAAS;IACpC,KAAK,MAAMjzG,MAAM,IAAI,IAAI,CAACA,MAAM,EAAE;MAChCA,MAAM,CAACqjE,cAAc,CAAC,IAAI,CAAC4vC,mBAAmB,CAAC;IACjD;IACA,KAAK,MAAMjyG,IAAI,IAAI,IAAI,CAACD,IAAI,EAAE;MAC5BC,IAAI,CAACqiE,cAAc,CAAC,IAAI,CAAC4vC,mBAAmB,CAAC;IAC/C;IACA,IAAI,CAAC2D,aAAa,GAAG,KAAK,CAAC;IAC3B,IAAI,CAAC1tF,GAAG,CAACmZ,gBAAgB,CAACzgC,KAAK,CAAC,CAAC;EACnC;EACAg+E,cAAcA,CAAA,EAAG;IACf,IAAI,CAAC12D,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC5C,IAAI,CAACwsB,4BAA4B,GAAG,IAAI;EAC1C;EACAp+G,OAAOA,CAACgO,IAAI,EAAE;IACZ,IAAI,IAAI,CAAC4vG,SAAS,EAAE;MAClB;IACF;IACA,MAAM+D,yBAAyB,GAAG3zG,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC2zG,yBAAyB;IACxF,IAAI5uH,MAAM;IACV,IAAI,CAACsrH,iBAAiB,GAAG,CAAC,CAAC;IAC3B,IAAI,CAACP,WAAW,CAAC/xG,OAAO,CAAEnT,EAAE,IAAKA,EAAE,CAAC,CAAC,CAAC;IACtC,IAAI,CAAC6nG,UAAU,CAAC10F,OAAO,CAAEyvB,CAAC,IAAKA,CAAC,CAACx7B,OAAO,CAAC,CAAC,CAAC;IAC3C,IAAI,CAACyX,OAAO,CAACzX,OAAO,CAAC,CAAC;IACtB,IAAI,CAACoZ,QAAQ,CAACpZ,OAAO,CAAC,CAAC;IACvB,IAAI,CAAC6/G,WAAW,CAACn4B,SAAS,CAAC,IAAI,CAAC5hB,OAAO,CAAC;IACxC,IAAI,CAACk4C,cAAc,CAACh+G,OAAO,CAAC,CAAC;IAC7B,IAAI2hH,yBAAyB,EAAE;MAC7B,IAAI,CAAC3tF,GAAG,CAACkqE,KAAK,CAACha,KAAK,CAAC,CAAC;MACtBnxF,MAAM,GAAG;QAAEw7B,SAAS,EAAE,IAAI,CAACA,SAAS;QAAE2vE,KAAK,EAAE,IAAI,CAAClqE,GAAG,CAACkqE,KAAK;QAAEp4B,OAAO,EAAE,IAAI,CAACA;MAAQ,CAAC;IACtF,CAAC,MAAM;MACL,IAAI,CAAC9xC,GAAG,CAACkqE,KAAK,CAACl+F,OAAO,CAAC,CAAC;MACxB,IAAI,CAACuuB,SAAS,GAAG,KAAK,CAAC;IACzB;IACA,IAAI,CAACqzF,aAAa,CAAC,IAAI,CAAC92G,MAAM,CAAC;IAC/B,IAAI,CAAC20G,kBAAkB,CAACz/G,OAAO,CAAC,CAAC;IACjC,IAAI,CAAC6L,IAAI,CAACE,OAAO,CAAE/Z,CAAC,IAAKA,CAAC,CAACgO,OAAO,CAAC,CAAC,CAAC;IACrC,IAAI,CAAC6L,IAAI,GAAG,EAAE;IACd,IAAI,CAAC61G,aAAa,GAAG,KAAK,CAAC;IAC3B,IAAI,CAAC1tF,GAAG,CAACh0B,OAAO,CAAC,CAAC;IAClB,IAAI,CAACs+F,WAAW,CAACt+F,OAAO,CAAC,CAAC;IAC1B,IAAI,CAAC49G,SAAS,GAAG,IAAI;IACrBhuH,MAAM,CAACkqB,MAAM,CAAC,IAAI,CAAC;IACnB,OAAO/mB,MAAM;EACf;EACAguH,YAAYA,CAACc,aAAa,GAAG,KAAK,EAAE;IAClC,IAAI,CAACA,aAAa,EAAE;MAClB,IAAI,CAAC7tF,GAAG,CAACq1C,cAAc,CAACI,aAAa,CAAC,IAAI,CAACnzC,EAAE,CAAC;IAChD;IACA,IAAI,CAACtC,GAAG,CAAC2qE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,CAAC;IAClD,IAAI,CAAC4oF,oBAAoB,GAAG,KAAK,CAAC;EACpC;EACA4C,oBAAoBA,CAACh9B,EAAE,EAAE;IACvB,IAAI,IAAI,CAAC84B,SAAS,EAChB;IACF,IAAI,CAACM,2BAA2B,EAAE;IAClC,IAAI,CAAC9f,WAAW,CAACvZ,OAAO,CAAC,MAAMxxF,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MAC9D,IAAI,IAAI,CAACuqH,SAAS,EAChB;MACF,MAAM94B,EAAE,CAAC,IAAI,CAAC;MACd,IAAI,IAAI,CAAC84B,SAAS,EAChB;MACF,IAAI,CAACM,2BAA2B,EAAE;IACpC,CAAC,CAAC,CAAC,CAACl5B,KAAK,CAAEjxF,CAAC,IAAK8E,MAAM,CAACS,SAAS,CAACvF,CAAC,CAAC,CAAC;EACvC;EACAo2C,MAAMA,CAACtpC,IAAI,GAAG,CAAC,CAAC,YAAYmN,IAAI,EAAE;IAChC,IAAI1T,EAAE,EAAEsQ,EAAE;IACV,MAAM;MACJo2G,oBAAoB,GAAG,KAAK;MAC5Bt2B,cAAc;MACd6zB,cAAc,GAAG,IAAI,CAACzzG,MAAM;MAC5Bi3G;IACF,CAAC,GAAG/zG,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,CAAC,CAAC;IAC5B,IAAIgzG,oBAAoB,EAAE;MACxB,IAAI,CAACl2G,MAAM,CAACiB,OAAO,CAAEjB,MAAM,IAAKA,MAAM,CAACgsG,iBAAiB,CAAC,CAAC,CAAC;IAC7D;IACA,KAAK,MAAMhsG,MAAM,IAAIyzG,cAAc,EAAE;MACnC,IAAI,CAACA,cAAc,CAAC58G,GAAG,CAACmJ,MAAM,CAAC;IACjC;IACA,IAAI4/E,cAAc,EAAE;MAClB,IAAI,CAAC12D,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;MAC5C,IAAI,CAACwsB,4BAA4B,GAAG,IAAI;IAC1C;IACA,IAAI2D,iBAAiB,IAAI,IAAI,CAAC/tF,GAAG,CAACmZ,gBAAgB,CAAC29C,QAAQ,CAAC,CAAC,EAAE;MAC7D,IAAI,CAACszB,4BAA4B,GAAG,IAAI;IAC1C;IACA,IAAI,CAACP,SAAS,GAAG,CAACvjH,EAAE,GAAG0T,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACg0G,QAAQ,KAAK,IAAI,GAAG1nH,EAAE,GAAG,KAAK;IAClF,IAAI,IAAI,CAACo9B,KAAK,CAACnT,KAAK,CAAC,CAAC,EAAE;MACtB,IAAIstE,KAAK,GAAG,CAACjnF,EAAE,GAAG,IAAInJ,KAAK,CAAC,CAAC,CAACowF,KAAK,KAAK,IAAI,GAAGjnF,EAAE,GAAG,WAAW;MAC/DinF,KAAK,GAAGA,KAAK,CAACrjF,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;MACrC,IAAI,CAACgwG,gBAAgB,CAAC3sB,KAAK,CAAC,GAAGhxF,IAAI;IACrC;IACA,IAAIA,IAAI,GAAG,IAAI,CAACw9G,iBAAiB,EAAE;MACjC,IAAI,CAACA,iBAAiB,GAAGx9G,IAAI;MAC7B,IAAI,CAAC49G,oBAAoB,CAAC53B,QAAQ,CAAC74E,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACi0G,SAAS,CAAC;IAC5E;EACF;EACAtD,aAAaA,CAACz1F,KAAK,EAAE;IACnB,OAAO71B,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE;MACN,MAAM;QAAE+jH,iBAAiB;QAAE78B,eAAe;QAAEo9B,oBAAoB,EAAEj9B,MAAM;QAAE3tD;MAAI,CAAC,GAAG,IAAI;MACtF,MAAMuqF,cAAc,GAAG,CAAC,GAAG,IAAI,CAACA,cAAc,CAAC;MAC/C,IAAI,CAACF,iBAAiB,GAAG,CAAC,CAAC;MAC3B,IAAI,CAACE,cAAc,CAACrnH,KAAK,CAAC,CAAC;MAC3B,IAAI,IAAI,CAAConH,mBAAmB,KAAK,CAAC,IAAID,iBAAiB,GAAG,CAAC,CAAC,oBAAoB;QAC9ErqF,GAAG,CAACmZ,gBAAgB,CAACqlD,UAAU,CAAC,IAAI,CAAC4rB,4BAA4B,CAAC;QAClEpqF,GAAG,CAACmZ,gBAAgB,CAACulD,WAAW,CAAC,MAAM,IAAI,CAACqrB,mBAAmB,GAAG,OAAO,CAAC;MAC5E;MACA,IAAI,CAACrmF,KAAK,CAAC,+BAA+B,EAAEgmE,eAAe,CAAC2gB,iBAAiB,CAAC,CAAC;MAC/E,IAAI6D,aAAa,GAAGzgC,WAAW,CAAC19D,GAAG,CAAC,CAAC;MACrC,CAACzpB,EAAE,GAAGqnF,MAAM,CAACxnF,KAAK,KAAK,IAAI,GAAGG,EAAE,GAAGqnF,MAAM,CAACxnF,KAAK,GAAG+nH,aAAa;MAC/D,MAAMC,YAAY,GAAIC,SAAS,IAAK;QAClC,IAAIz5F,GAAG;QACP,CAACA,GAAG,GAAGg5D,MAAM,CAACygC,SAAS,CAAC,KAAK,IAAI,GAAGz5F,GAAG,GAAGg5D,MAAM,CAACygC,SAAS,CAAC,GAAG,CAAC;QAC/DzgC,MAAM,CAACygC,SAAS,CAAC,IAAI3gC,WAAW,CAAC19D,GAAG,CAAC,CAAC,GAAGm+F,aAAa;QACtDA,aAAa,GAAGzgC,WAAW,CAAC19D,GAAG,CAAC,CAAC;MACnC,CAAC;MACD,IAAIs+F,cAAc,GAAG,KAAK;MAC1B,QAAQhE,iBAAiB;QACvB,KAAK,CAAC,CAAC;UACL,IAAI,CAACiE,SAAS,CAAC,CAAC;QAClB,KAAK,CAAC,CAAC;UACL,MAAM,IAAI,CAACC,UAAU,CAAC,CAAC;UACvBJ,YAAY,CAAC,cAAc,CAAC;QAC9B,KAAK,CAAC,CAAC;UACL,MAAM,IAAI,CAAC1gB,WAAW,CAAC,CAAC;UACxB,IAAI,CAACsf,YAAY,CAAC,IAAI,CAAC;UACvBoB,YAAY,CAAC,WAAW,CAAC;QAC3B,KAAK,CAAC,CAAC;UACL,IAAI,IAAI,CAACK,mBAAmB,CAAC,CAAC,CAAC,oBAAoB,CAAC,EAClD;UACF,IAAI,CAAC,IAAI,CAACC,kBAAkB,CAAClE,cAAc,CAAC,EAAE;YAC5C8D,cAAc,GAAG,IAAI;YACrB;UACF;UACA,MAAM,IAAI,CAACK,aAAa,CAAC,CAAC;UAC1BP,YAAY,CAAC,QAAQ,CAAC;QACxB,KAAK,CAAC,CAAC;UACL,IAAI,IAAI,CAACK,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,EACjD;UACF,MAAM;YAAElF;UAAW,CAAC,GAAG,IAAI;UAC3B,MAAM7pH,OAAO,CAACd,GAAG,CAAC4rH,cAAc,CAACj3G,GAAG,CAAEwD,MAAM,IAAKA,MAAM,CAACq/B,MAAM,CAAC;YAAEmzE;UAAW,CAAC,CAAC,CAAC,CAAC;UAChF6E,YAAY,CAAC,WAAW,CAAC;QAC3B,KAAK,CAAC,CAAC;UACL,IAAI,IAAI,CAACK,mBAAmB,CAAC,CAAC,CAAC,2BAA2B,CAAC,EACzD;UACF,MAAMG,WAAW,GAAG3uF,GAAG,CAACq1C,cAAc,CAAC0yB,cAAc,CAAC,IAAI,CAACzlE,EAAE,CAAC;UAC9D,IAAI+nF,iBAAiB,IAAI,CAAC,CAAC,uBAAuB,CAACsE,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACr5C,gBAAgB,KAAK,IAAI,EAAE;YACvH,IAAI,CAAC61C,aAAa,CAACwD,WAAW,CAACr5C,gBAAgB,EAAE,IAAI,CAAC;UACxD;UACA64C,YAAY,CAAC,QAAQ,CAAC;QACxB,KAAK,CAAC,CAAC;UACL,IAAI,IAAI,CAACK,mBAAmB,CAAC,CAAC,CAAC,kBAAkB,CAAC,EAChD;UACFxuF,GAAG,CAACmZ,gBAAgB,CAACslD,QAAQ,CAAC,CAAC;UAC/BjR,eAAe,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC88B,mBAAmB;UACjE,MAAMtqF,GAAG,CAACkqE,KAAK,CAAC9kE,MAAM,CAAC;YAAEkoD,eAAe,EAAEK,MAAM;YAAEH;UAAgB,CAAC,CAAC;UACpE,IAAI,CAACxtD,GAAG,CAACy0C,aAAa,CAACwyB,sBAAsB,CAAC,CAAC;UAC/C,IAAI,CAACzZ,eAAe,GAAG,CAAC,CAAC;UACzB,KAAK,MAAM9vF,GAAG,IAAIiwF,MAAM,EAAE;YACxB,OAAOA,MAAM,CAACjwF,GAAG,CAAC;UACpB;QACF,KAAK,CAAC,CAAC;UACL,IAAI,CAAC4sH,mBAAmB,GAAG,CAAC;UAC5B,IAAI,CAACE,gBAAgB,GAAG,CAAC,CAAC;UAC1B,IAAI,CAACJ,4BAA4B,GAAG,KAAK;UACzCpqF,GAAG,CAACmZ,gBAAgB,CAACslD,QAAQ,CAAC,CAAC;MACnC;MACA,IAAI,CAAC4vB,cAAc,EAAE;QACnBruF,GAAG,CAAC65C,aAAa,CAACgwB,sBAAsB,CAAC,IAAI,CAACmb,WAAW,CAAC,CAAC,CAAC;MAC9D;MACA,MAAM3uE,GAAG,GAAGo3C,WAAW,CAAC19D,GAAG,CAAC,CAAC;MAC7B,IAAI,CAAC2T,KAAK,CAAC,6BAA6B,EAAE;QACxCi2C,KAAK,EAAE,IAAI;QACXi1C,UAAU,EAAEtxH,IAAI,CAAC8J,KAAK,CAAC,CAACivC,GAAG,GAAGs3C,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG;QAC3Dz4D,KAAK;QACLm1F,iBAAiB,EAAE3gB,eAAe,CAAC2gB,iBAAiB;MACtD,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAwE,oBAAoBA,CAAA,EAAG;IACrB,MAAM;MACJ/8C,OAAO,EAAEzjD,QAAQ;MACjBqD,gBAAgB,EAAE;QAAET;MAAM;IAC5B,CAAC,GAAG,IAAI;IACR,MAAM69F,oBAAoB,GAAG,kBAAkB;IAC/C,MAAMC,oBAAoB,GAAG,CAAC,GAAGD,oBAAoB,SAAS,EAAE,GAAGA,oBAAoB,cAAc,CAAC;IACtG,IAAIE,cAAc,GAAGD,oBAAoB,CAAC,CAAC,CAAC;IAC5C,IAAIE,MAAM,GAAG,KAAK;IAClB,IAAI,OAAOh+F,KAAK,KAAK,QAAQ,EAAE;MAC7B+9F,cAAc,GAAG/9F,KAAK,CAACzW,OAAO,CAAC,KAAK,EAAEs0G,oBAAoB,CAAC;MAC3DG,MAAM,GAAGh+F,KAAK,CAACzjB,QAAQ,CAAC,OAAO,CAAC;IAClC,CAAC,MAAM,IAAI,QAAQyjB,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACrF,SAAS,CAAC,KAAK,QAAQ,EAAE;MACzEojG,cAAc,GAAG/9F,KAAK,CAACrF,SAAS,CAACpR,OAAO,CAAC,KAAK,EAAEs0G,oBAAoB,CAAC;MACrEG,MAAM,GAAGh+F,KAAK,CAACrF,SAAS,CAACpe,QAAQ,CAAC,OAAO,CAAC;IAC5C;IACA,IAAI,CAACuhH,oBAAoB,CAACvhH,QAAQ,CAACwhH,cAAc,CAAC,EAAE;MAClDA,cAAc,GAAGC,MAAM,GAAGF,oBAAoB,CAAC,CAAC,CAAC,GAAGA,oBAAoB,CAAC,CAAC,CAAC;IAC7E;IACA1gG,QAAQ,CAACC,SAAS,CAACvW,OAAO,CAAEO,SAAS,IAAK;MACxC,IAAIA,SAAS,CAACu7C,UAAU,CAACi7D,oBAAoB,CAAC,IAAIx2G,SAAS,KAAK02G,cAAc,EAAE;QAC9E3gG,QAAQ,CAACC,SAAS,CAAC4nB,MAAM,CAAC59B,SAAS,CAAC;MACtC;IACF,CAAC,CAAC;IACF+V,QAAQ,CAACC,SAAS,CAAC3gB,GAAG,CAACqhH,cAAc,CAAC;EACxC;EACAV,SAASA,CAAA,EAAG;IACV,IAAI,CAACO,oBAAoB,CAAC,CAAC;IAC3B,MAAM;MAAE/sG,OAAO;MAAEwkF;IAAS,CAAC,GAAG,IAAI,CAACniF,QAAQ;IAC3C,IAAI,CAAC2tD,OAAO,CAACw0B,QAAQ,GAAGxkF,OAAO,GAAGwkF,QAAQ,IAAI,IAAI,GAAGA,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC;IACtEr2B,YAAY,CAAC,IAAI,CAACjwC,GAAG,CAACkqE,KAAK,CAAC/1C,MAAM,CAAC2d,OAAO,EAAE,MAAM,EAAE,QAAQ,CAAC;IAC7D7B,YAAY,CAAC,IAAI,CAACjwC,GAAG,CAACkqE,KAAK,CAAC/1C,MAAM,CAAC2d,OAAO,EAAE,YAAY,EAAE,IAAI,CAACw7C,YAAY,CAAC,CAAC,CAAC;EAChF;EACAkB,mBAAmBA,CAACU,eAAe,EAAE;IACnC,MAAMC,YAAY,GAAG,CAAC;IACtB,IAAI,IAAI,CAAC7E,mBAAmB,GAAG6E,YAAY,EAAE;MAC3CtqH,MAAM,CAACI,IAAI,CACT,wDAAwDkqH,YAAY,GAAG,CAAC,qCAAqC,EAC7G,IAAI,CAAC3E,gBACP,CAAC;MACD,OAAO,KAAK;IACd;IACA,IAAI,IAAI,CAACH,iBAAiB,IAAI6E,eAAe,EAAE;MAC7C,IAAI,CAAC5E,mBAAmB,EAAE;MAC1B,OAAO,IAAI;IACb;IACA,OAAO,KAAK;EACd;EACAmE,kBAAkBA,CAAClE,cAAc,EAAE;IACjC,IAAI,IAAI,CAACyB,QAAQ,IAAI,CAAC,IAAI,CAACqB,aAAa,EAAE;MACxC,MAAMn4F,KAAK,GAAG,IAAI,CAACi1F,2BAA2B,EAAE;MAChD,MAAM8D,SAAS,GAAG5wH,KAAK,CAAC63B,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE;MAC1C,IAAIA,KAAK,GAAG,CAAC,EAAE;QACb,IAAI,CAACihB,MAAM,CAAC,CAAC,CAAC,sBAAsB;UAAEo0E,cAAc;UAAE0D;QAAU,CAAC,CAAC;QAClE,IAAI,CAACvqF,KAAK,CAAC,kEAAkE,EAAEuqF,SAAS,CAAC;QACzF,OAAO,KAAK;MACd;MACA,IAAI,CAACvqF,KAAK,CAAC,6DAA6D,CAAC;IAC3E;IACA,IAAI,CAACymF,2BAA2B,GAAG,CAAC;IACpC,OAAO,IAAI;EACb;EACAiF,YAAYA,CAACh7G,QAAQ,EAAErE,QAAQ,GAAG,EAAE,EAAE;IACpC,KAAK,MAAM+H,IAAI,IAAI/H,QAAQ,EAAE;MAC3B,IAAIqE,QAAQ,CAAC5G,QAAQ,CAACsK,IAAI,CAAC,EACzB;MACFA,IAAI,CAAC+iE,UAAU,CAAC,IAAI,CAACnD,SAAS,EAAE,IAAI,CAACk0C,aAAa,CAAC;MACnD9zG,IAAI,CAAC9L,OAAO,CAAC,CAAC;IAChB;IACA,KAAK,MAAM8L,IAAI,IAAI1D,QAAQ,EAAE;MAC3B,IAAIrE,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACvC,QAAQ,CAACsK,IAAI,CAAC,EACrD;MACFA,IAAI,CAAC4iE,UAAU,CAAC,IAAI,CAAChD,SAAS,EAAE,IAAI,CAACk0C,aAAa,CAAC;IACrD;EACF;EACAyD,cAAcA,CAACj7G,QAAQ,EAAErE,QAAQ,EAAE;IACjC,IAAIzJ,EAAE,EAAEsQ,EAAE;IACV,MAAM04G,eAAe,GAAG,CAAChpH,EAAE,GAAGyJ,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACrB,MAAM,CAAEoI,MAAM,IAAK,CAAC1C,QAAQ,CAAC5G,QAAQ,CAACsJ,MAAM,CAAC,CAAC,KAAK,IAAI,GAAGxQ,EAAE,GAAG,EAAE;IACpI,IAAI,CAACsnH,aAAa,CAAC0B,eAAe,CAAC;IACnC,CAAC14G,EAAE,GAAG,IAAI,CAAC60G,kBAAkB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG70G,EAAE,CAACuvG,cAAc,CAAC/xG,QAAQ,CAACnV,MAAM,CAAC;IACpF,KAAK,MAAM6X,MAAM,IAAI1C,QAAQ,EAAE;MAC7B,IAAIrE,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACvC,QAAQ,CAACsJ,MAAM,CAAC,EACvD;MACF,IAAIA,MAAM,CAAC2pG,SAAS,CAAC58E,MAAM,IAAI,IAAI,EAAE;QACnC,IAAI,CAAC4nF,kBAAkB,CAACrF,YAAY,CAACtvG,MAAM,CAAC;MAC9C;MACA,MAAM6iE,KAAK,GAAG,IAAI;MAClB7iE,MAAM,CAAC6iE,KAAK,GAAG;QACb,IAAIzhE,IAAIA,CAAA,EAAG;UACT,OAAOyhE,KAAK,CAACzhE,IAAI;QACnB,CAAC;QACD,IAAIq3G,WAAWA,CAAA,EAAG;UAChB,OAAO,KAAK;QACd,CAAC;QACD,IAAIjG,UAAUA,CAAA,EAAG;UACf,OAAO3vC,KAAK,CAAC2vC,UAAU;QACzB,CAAC;QACDn7C,WAAWA,CAAA,EAAG;UACZ,OAAOwL,KAAK,CAACxL,WAAW,CAAC,CAAC;QAC5B;MACF,CAAC;MACDr3D,MAAM,CAACqjE,cAAc,CAAC,IAAI,CAAC4vC,mBAAmB,CAAC;MAC/C,IAAI,CAACyF,kBAAkB,CAAC14G,MAAM,CAAC;MAC/BA,MAAM,CAACsrG,sBAAsB,CAAC,CAAC;IACjC;EACF;EACAwL,aAAaA,CAACt4F,SAAS,EAAE;IACvBA,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACvd,OAAO,CAAEjB,MAAM,IAAK;MACzDA,MAAM,CAAC26E,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC25B,iBAAiB,CAAC;MAC/Dt0G,MAAM,CAAC26E,mBAAmB,CAAC,iBAAiB,EAAE,IAAI,CAAC65B,uBAAuB,CAAC;MAC3Ex0G,MAAM,CAAC26E,mBAAmB,CAAC,iBAAiB,EAAE,IAAI,CAAC+5B,qBAAqB,CAAC;MACzE10G,MAAM,CAAC9K,OAAO,CAAC,CAAC;MAChB,IAAI,CAACy/G,kBAAkB,CAACxE,YAAY,CAACnwG,MAAM,CAAC;MAC5CA,MAAM,CAAC6iE,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC,CAAC;EACJ;EACA61C,kBAAkBA,CAAC14G,MAAM,EAAE;IACzB,IAAI,IAAI,CAAC46E,gBAAgB,CAAC,iBAAiB,CAAC,EAAE;MAC5C56E,MAAM,CAACu6E,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC+5B,iBAAiB,CAAC;IAC9D;IACA,IAAI,IAAI,CAAC15B,gBAAgB,CAAC,uBAAuB,CAAC,EAAE;MAClD56E,MAAM,CAACu6E,gBAAgB,CAAC,iBAAiB,EAAE,IAAI,CAACi6B,uBAAuB,CAAC;IAC1E;IACAx0G,MAAM,CAACu6E,gBAAgB,CAAC,iBAAiB,EAAE,IAAI,CAACm6B,qBAAqB,CAAC;EACxE;EACAiE,wBAAwBA,CAAA,EAAG;IACzB,IAAI,CAAC34G,MAAM,CAACiB,OAAO,CAAEjB,MAAM,IAAK;MAC9BA,MAAM,CAAC26E,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC25B,iBAAiB,CAAC;MAC/Dt0G,MAAM,CAAC26E,mBAAmB,CAAC,iBAAiB,EAAE,IAAI,CAAC65B,uBAAuB,CAAC;MAC3E,IAAI,CAACkE,kBAAkB,CAAC14G,MAAM,CAAC;IACjC,CAAC,CAAC;EACJ;EACA44G,kBAAkBA,CAAA,EAAG;IACnB,IAAI,CAAC73G,IAAI,CAACE,OAAO,CAAED,IAAI,IAAK;MAC1BA,IAAI,CAACy/D,WAAW,GAAG,IAAI,CAACzgE,MAAM,CAACpI,MAAM,CAAE3H,CAAC,IAAK;QAC3C,MAAM4oH,UAAU,GAAG5oH,CAAC,CAAC8Q,IAAI,CAACC,IAAI,CAACyqD,SAAS,CAAC;QACzC,OAAOotD,UAAU,KAAK73G,IAAI;MAC5B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA83G,kBAAkBA,CAAA,EAAG;IACnB,MAAMC,kBAAkB,GAAGhjG,OAAO,CAAC,IAAI,CAAChV,IAAI,EAAGC,IAAI,IAAKA,IAAI,CAACyqD,SAAS,CAAC;IACvE,IAAI,CAACzrD,MAAM,CAACiB,OAAO,CAAEjB,MAAM,IAAK;MAC9BA,MAAM,CAAC4pG,UAAU,CAAC3oG,OAAO,CAAEwqD,SAAS,IAAK;QACvC,MAAMutD,aAAa,GAAGD,kBAAkB,CAACttD,SAAS,CAAC;QACnD,IAAI,CAACutD,aAAa,EAAE;UAClBjrH,MAAM,CAACQ,QAAQ,CACb,oCAAoCk9D,SAAS,yCAC/C,CAAC;UACD;QACF;QACA,MAAMghB,UAAU,GAAGzsE,MAAM,CAACsG,OAAO,CAACmlD,SAAS,CAAC;QAC5C,MAAMwtD,OAAO,GAAGD,aAAa,CAACnjH,IAAI,CAC/BmL,IAAI,IAAK,CAACA,IAAI,CAACtJ,IAAI,CAACvP,MAAM,IAAIskF,UAAU,CAACn2E,IAAI,CAAE1P,GAAG,IAAKoa,IAAI,CAACtJ,IAAI,CAAChB,QAAQ,CAAC9P,GAAG,CAAC,CACjF,CAAC;QACD,IAAI,CAACqyH,OAAO,EAAE;UACZlrH,MAAM,CAACQ,QAAQ,CACb,mCAAmCk9D,SAAS,eAAeghB,UAAU,yCACvE,CAAC;UACD;QACF;QACAzsE,MAAM,CAACe,IAAI,CAAC0qD,SAAS,CAAC,GAAGwtD,OAAO;MAClC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAjE,SAASA,CAAC;IAAErpG,KAAK;IAAEsY;EAAO,CAAC,EAAE;IAC3B,IAAIz0B,EAAE;IACN,IAAI,CAAC,IAAI,CAAC0lH,QAAQ,EAChB;IACFvpG,KAAK,GAAGnlB,IAAI,CAACsI,KAAK,CAAC6c,KAAK,CAAC;IACzBsY,MAAM,GAAGz9B,IAAI,CAACsI,KAAK,CAACm1B,MAAM,CAAC;IAC3B,IAAItY,KAAK,KAAK,CAAC,IAAIsY,MAAM,KAAK,CAAC,EAC7B;IACF,MAAM,CAACi1F,SAAS,GAAG,CAAC,EAAEC,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC3pH,EAAE,GAAG,IAAI,CAAC+mH,aAAa,KAAK,IAAI,GAAG/mH,EAAE,GAAG,EAAE;IACnF,IAAI0pH,SAAS,KAAKvtG,KAAK,IAAIwtG,UAAU,KAAKl1F,MAAM,EAC9C;IACF,IAAI,CAACsyF,aAAa,GAAG,CAAC5qG,KAAK,EAAEsY,MAAM,CAAC;IACpC,IAAI,CAACu+C,MAAM,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa,CAAC;EAC5C;EACAA,MAAMA,CAAC72D,KAAK,EAAEsY,MAAM,EAAEz8B,MAAM,EAAE;IAC5B,IAAIgI,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,MAAM;MAAE0yF,KAAK;MAAE/wD;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IAC5Cvd,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGA,KAAK,GAAG,CAAC7L,EAAE,GAAG,IAAI,CAAC6L,KAAK,KAAK,IAAI,GAAG7L,EAAE,GAAG,IAAI,CAACo1G,QAAQ,GAAG,CAAC1lH,EAAE,GAAG,IAAI,CAAC+mH,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/mH,EAAE,CAAC,CAAC,CAAC,GAAG4jG,KAAK,CAAC/1C,MAAM,CAAC1xC,KAAK;IACxJsY,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAGA,MAAM,GAAG,CAACvjB,EAAE,GAAG,IAAI,CAACujB,MAAM,KAAK,IAAI,GAAGvjB,EAAE,GAAG,IAAI,CAACw0G,QAAQ,GAAG,CAACn1G,EAAE,GAAG,IAAI,CAACw2G,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGx2G,EAAE,CAAC,CAAC,CAAC,GAAGqzF,KAAK,CAAC/1C,MAAM,CAACp5B,MAAM;IAC7J,IAAI,CAAC2I,KAAK,CAAC,uBAAuBplC,MAAM,EAAE,EAAE;MAAEmkB,KAAK;MAAEsY,MAAM;MAAE8iE,KAAK,EAAE,IAAIpwF,KAAK,CAAC,CAAC,CAACowF;IAAM,CAAC,CAAC;IACxF,IAAI,CAACp7E,KAAK,IAAI,CAACsY,MAAM,IAAI,CAAC5oB,cAAc,CAACsQ,KAAK,CAAC,IAAI,CAACtQ,cAAc,CAAC4oB,MAAM,CAAC,EACxE;IACF,IAAImvE,KAAK,CAAC5wB,MAAM,CAAC72D,KAAK,EAAEsY,MAAM,CAAC,EAAE;MAC/B,IAAI,CAACgyF,YAAY,CAAC,CAAC;MACnB5zE,gBAAgB,CAACzgC,KAAK,CAAC,CAAC;MACxB,IAAIg+E,cAAc,GAAG,IAAI;MACzB,IAAI,IAAI,CAACs1B,QAAQ,IAAI,IAAI,CAACtC,cAAc,EAAE;QACxChzB,cAAc,GAAG,KAAK;QACtB,IAAI,CAACgzB,cAAc,GAAG,KAAK;MAC7B;MACA,IAAI,CAACvzE,MAAM,CAAC,CAAC,CAAC,sBAAsB;QAAE62E,oBAAoB,EAAE,IAAI;QAAEt2B;MAAe,CAAC,CAAC;IACrF;EACF;EACA63B,UAAUA,CAAA,EAAG;IACX,OAAOlvH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAI,CAACyX,MAAM,CAACiB,OAAO,CAAEhR,CAAC,IAAKA,CAAC,CAACg7G,YAAY,CAAC,IAAI,CAAC1mG,IAAI,CAAC,CAAC;MACrD,MAAM60G,cAAc,GAAG,IAAI,CAAClG,cAAc,CAAChlD,UAAU,CAAE33D,CAAC,IAAK;QAC3D,IAAI/G,EAAE;QACN,OAAO,CAACA,EAAE,GAAG+G,CAAC,CAACkhH,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjoH,EAAE,CAACnI,IAAI,CAACkP,CAAC,EAAE;UAAEgO,IAAI,EAAE,IAAI,CAACA;QAAK,CAAC,CAAC;MAC/E,CAAC,CAAC;MACF,MAAM5b,OAAO,CAACd,GAAG,CAACuxH,cAAc,CAAC;IACnC,CAAC,CAAC;EACJ;EACAziB,WAAWA,CAAA,EAAG;IACZ,OAAOpuG,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAI,IAAI,CAACyX,MAAM,CAAC1J,IAAI,CAAErG,CAAC,IAAKA,CAAC,CAACm6G,WAAW,CAAC,EAAE;QAC1C,IAAI,CAAC0O,kBAAkB,CAAC,CAAC;QACzB,MAAMO,UAAU,GAAG,IAAI,CAACnG,cAAc,CAACllD,SAAS,CAAC,MAAM,CAAC;QACxD,IAAIqrD,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACruG,OAAO,EAAE;UACpDquG,UAAU,CAACC,QAAQ,CAAC,IAAI,CAACvG,SAAS,CAAC;QACrC,CAAC,MAAM;UACL,IAAI,CAAC6F,kBAAkB,CAAC,CAAC;QAC3B;MACF;MACA,MAAMW,cAAc,GAAG,IAAIjb,cAAc,CAAC,IAAI,CAACl9F,IAAI,CAAC;MACpD,MAAMo4G,cAAc,GAAG,IAAI,CAACx5G,MAAM,CAACxD,GAAG,CAAEvM,CAAC,IAAKA,CAAC,CAAC0mG,WAAW,CAAC4iB,cAAc,CAAC,CAAC;MAC5E,MAAMH,cAAc,GAAG,IAAI,CAAClG,cAAc,CAAChlD,UAAU,CAAE33D,CAAC,IAAK;QAC3D,IAAI/G,EAAE;QACN,OAAO,CAACA,EAAE,GAAG+G,CAAC,CAACogG,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGnnG,EAAE,CAACnI,IAAI,CAACkP,CAAC,EAAE;UAAEgjH;QAAe,CAAC,CAAC;MAC/E,CAAC,CAAC;MACFA,cAAc,CAAC7c,OAAO,CAAC,CAAC;MACxB,MAAM/zG,OAAO,CAACd,GAAG,CAAC,CAAC,GAAG2xH,cAAc,EAAE,GAAGJ,cAAc,CAAC,CAAC;MACzD,KAAK,MAAM;QAAElzG,UAAU;QAAEuH;MAAO,CAAC,IAAI,IAAI,CAACylG,cAAc,CAACzQ,OAAO,CAAC,CAAC,EAAE;QAClEh1F,MAAM,CAAClJ,IAAI,GAAG,IAAI,CAACk1G,aAAa,CAACvzG,UAAU,EAAE,IAAI,CAAC9E,IAAI,KAAK,YAAY,CAAC;MAC1E;MACA,IAAI,CAACwzG,oBAAoB,CAAC3zG,OAAO,CAAErY,OAAO,IAAKA,OAAO,CAAC,CAAC,CAAC;MACzD,IAAI,CAACgsH,oBAAoB,CAACxoH,KAAK,CAAC,CAAC;IACnC,CAAC,CAAC;EACJ;EACAirE,WAAWA,CAAA,EAAG;IACZ,MAAM8T,aAAa,GAAG,EAAE;IACxB,MAAM5mE,IAAI,GAAG,EAAE;IACf,KAAK,MAAMvE,MAAM,IAAI,IAAI,CAACA,MAAM,EAAE;MAChC,IAAI,CAACA,MAAM,CAACsM,OAAO,EACjB;MACF,MAAMy9D,SAAS,GAAG/pE,MAAM,CAAC05G,YAAY,CAAC,CAAC;MACvC,IAAIviD,iBAAiB,CAAC4S,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE;QAChExlE,IAAI,CAAC1U,IAAI,CAACk6E,SAAS,CAAC;QACpBoB,aAAa,CAACt7E,IAAI,CAACmQ,MAAM,CAAC;MAC5B;IACF;IACA,MAAM;MAAEwyG;IAAW,CAAC,GAAG,IAAI;IAC3B,MAAM;MAAEvlG,GAAG;MAAEC,KAAK;MAAEC,MAAM;MAAEC;IAAK,CAAC,GAAG,IAAI,CAACylG,UAAU,CAACrnG,OAAO;IAC5D,MAAM+rD,MAAM,GAAGi7C,UAAU,IAAIjuG,IAAI,CAACpc,MAAM,GAAG,CAAC,GAAGkvE,WAAW,CAAC9yD,IAAI,EAAE;MAC/Dnb,CAAC,EAAE,CAACgkB,IAAI;MACR8V,CAAC,EAAE,CAACjW,GAAG;MACPtB,KAAK,EAAE6mG,UAAU,CAAC7mG,KAAK,GAAGyB,IAAI,GAAGF,KAAK;MACtC+W,MAAM,EAAEuuF,UAAU,CAACvuF,MAAM,GAAGhX,GAAG,GAAGE;IACpC,CAAC,CAAC,GAAG,EAAE;IACP,OAAO,IAAIphB,GAAG,CAACwrE,MAAM,CAAC/6D,GAAG,CAAC,CAACg1B,CAAC,EAAEtpC,CAAC,KAAK,CAACijF,aAAa,CAACjjF,CAAC,CAAC,EAAEspC,CAAC,CAAC,CAAC,CAAC;EAC7D;EACAioF,aAAaA,CAACvzG,UAAU,EAAEyzG,aAAa,EAAE;IACvC,IAAInqH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,MAAM65G,UAAU,GAAG,IAAI,CAAC55G,MAAM,CAACpI,MAAM,CAAE3H,CAAC,IAAKA,CAAC,CAACsR,UAAU,CAACgL,YAAY,CAAC,CAACvS,OAAO,CAAE/J,CAAC,IAAKA,CAAC,CAACwpH,aAAa,CAACvzG,UAAU,CAAC,CAAC;IACnH,MAAM2zG,oBAAoB,GAAIt1G,IAAI,IAAKA,IAAI,CAACrU,KAAK,CAAElB,CAAC,IAAKA,CAAC,CAACkX,UAAU,KAAK,UAAU,CAAC;IACrF,IAAIyzG,aAAa,IAAIE,oBAAoB,CAACD,UAAU,CAAC,EAAE;MACrD,MAAME,iBAAiB,GAAG,CAAC,CAAC;MAC5B,MAAMC,aAAa,GAAG,IAAIhuH,GAAG,CAAC,IAAI,CAACiU,MAAM,CAACxD,GAAG,CAAEvM,CAAC,IAAK,CAACA,CAAC,CAACu7B,EAAE,EAAEv7B,CAAC,CAAC8F,IAAI,CAAC,CAAC,CAAC;MACrE,KAAK,MAAM;QAAEqzG,QAAQ;QAAEt7F,MAAM;QAAEvC;MAAM,CAAC,IAAIquG,UAAU,EAAE;QACpD,IAAI9rG,MAAM,CAAC5B,IAAI,IAAI,IAAI,EACrB;QACF,MAAMpO,UAAU,GAAGi8G,aAAa,CAAC9zH,GAAG,CAACmjH,QAAQ,CAAC;QAC9C,MAAM4Q,UAAU,GAAG,CAACxqH,EAAE,GAAGsqH,iBAAiB,CAACh8G,UAAU,CAAC,KAAK,IAAI,GAAGtO,EAAE,GAAGsqH,iBAAiB,CAACh8G,UAAU,CAAC,GAAG,CAAC,CAAC;QACzG,CAACiC,EAAE,GAAGi6G,UAAU,CAACl6G,EAAE,GAAGyL,KAAK,CAACN,IAAI,CAAC,KAAK,IAAI,GAAGlL,EAAE,GAAGi6G,UAAU,CAACl6G,EAAE,CAAC,GAAGgO,MAAM,CAAC5B,IAAI;QAC9E,IAAI8tG,UAAU,CAACzuG,KAAK,CAACN,IAAI,CAAC,KAAK6C,MAAM,CAAC5B,IAAI,EAAE;UAC1Cne,MAAM,CAACQ,QAAQ,CACb,gBAAgBgd,KAAK,CAACN,IAAI,kEAC5B,CAAC;QACH;MACF;IACF;IACA,OAAO2uG,UAAU;EACnB;EACAhC,aAAaA,CAAA,EAAG;IACd,OAAOrvH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE;MACN,MAAMyqH,OAAO,GAAG,IAAI,CAACrD,aAAa;MAClC,MAAM,IAAI,CAACsD,aAAa,CAAC,CAAC;MAC1B,IAAID,OAAO,IAAI,EAAE,CAACzqH,EAAE,GAAG,IAAI,CAAConH,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGpnH,EAAE,CAAC00B,MAAM,CAAC+1F,OAAO,CAAC,CAAC,EAAE;QACjF,IAAI,CAAC/wF,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;MAC9C;MACA,IAAI,CAACl6D,KAAK,CAAC,oCAAoC,EAAE,IAAI,CAAC4lF,UAAU,CAAC;IACnE,CAAC,CAAC;EACJ;EACA0H,aAAaA,CAAA,EAAG;IACd,OAAO3xH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEojB,KAAK;QAAEsY;MAAO,CAAC,GAAG,IAAI,CAACiF,GAAG,CAACkqE,KAAK;MACxC,IAAIlqE,GAAG,GAAG;QAAEsnF,UAAU,EAAE,IAAI9qF,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE/Z,KAAK,EAAEsY,MAAM;MAAE,CAAC;MACvDiF,GAAG,GAAG,IAAI,CAACA,GAAG,CAAC05C,aAAa,CAACmvB,qBAAqB,CAAC,cAAc,EAAE7oE,GAAG,CAAC;MACvEA,GAAG,GAAG,IAAI,CAACA,GAAG,CAAC05C,aAAa,CAACmvB,qBAAqB,CAAC,eAAe,EAAE7oE,GAAG,CAAC;MACxE,MAAMkwF,cAAc,GAAG,IAAI,CAAClG,cAAc,CAAChlD,UAAU,CAAE33D,CAAC,IAAKhO,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;QAC5F,IAAIgO,CAAC,CAAC2jH,aAAa,IAAI,IAAI,EAAE;UAC3BhxF,GAAG,GAAG,MAAM3yB,CAAC,CAAC2jH,aAAa,CAAChxF,GAAG,CAAC;QAClC;MACF,CAAC,CAAC,CAAC;MACH,MAAMvgC,OAAO,CAACd,GAAG,CAACuxH,cAAc,CAAC;MACjC,OAAOlwF,GAAG,CAACsnF,UAAU;IACvB,CAAC,CAAC;EACJ;EACA;EACA2J,cAAcA,CAACr5D,KAAK,EAAEs5D,cAAc,EAAEC,WAAW,EAAE;IACjD,IAAI7qH,EAAE,EAAEsQ,EAAE;IACV,MAAMzQ,KAAK,GAAGsnF,WAAW,CAAC19D,GAAG,CAAC,CAAC;IAC/B,MAAM+wF,SAAS,GAAGoQ,cAAc,GAAG,CAAC,CAAC,CAAC,wBAAwB,GAAG,KAAK,CAAC;IACvE,MAAME,aAAa,GAAG,CAAC,GAAG,IAAI,CAACt6G,MAAM,CAAC,CAAC5D,OAAO,CAAC,CAAC;IAChD,IAAInU,MAAM;IACV,KAAK,MAAM+X,MAAM,IAAIs6G,aAAa,EAAE;MAClC,IAAI,CAACt6G,MAAM,CAACsM,OAAO,IAAI,CAACtM,MAAM,CAAC2pG,SAAS,CAACr9F,OAAO,EAAE;QAChD;MACF;MACA,MAAM;QAAEujD,KAAK;QAAEi6B,QAAQ,EAAE1iD;MAAU,CAAC,GAAG,CAAC53C,EAAE,GAAGwQ,MAAM,CAAC8tB,QAAQ,CAACgzB,KAAK,EAAEkpD,SAAS,CAAC,KAAK,IAAI,GAAGx6G,EAAE,GAAG,CAAC,CAAC;MACjG,IAAI,CAACqgE,KAAK,IAAIzoB,SAAS,IAAI,IAAI,EAAE;QAC/B;MACF;MACA,IAAI,CAAC,CAACn/C,MAAM,IAAIA,MAAM,CAAC6hG,QAAQ,GAAG1iD,SAAS,KAAKA,SAAS,KAAKizE,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAG/kG,QAAQ,CAAC,EAAE;QAC3GrtB,MAAM,GAAG;UAAE+X,MAAM;UAAE8pF,QAAQ,EAAE1iD,SAAS;UAAEhb,KAAK,EAAEyjC;QAAM,CAAC;MACxD;MACA,IAAIzoB,SAAS,KAAK,CAAC,EAAE;QACnB;MACF;IACF;IACA,IAAI,CAACsvC,eAAe,CAAC,gBAAgB,CAAC,GAAGlwF,IAAI,CAAC8J,KAAK,CACjD,CAAC,CAACwP,EAAE,GAAG,IAAI,CAAC42E,eAAe,CAAC,gBAAgB,CAAC,KAAK,IAAI,GAAG52E,EAAE,GAAG,CAAC,KAAK62E,WAAW,CAAC19D,GAAG,CAAC,CAAC,GAAG5pB,KAAK,CAC/F,CAAC;IACD,OAAOpH,MAAM;EACf;EACAutH,WAAWA,CAAC5mD,KAAK,EAAE;IACjB,IAAI,CAACwlD,oBAAoB,GAAGxlD,KAAK;IACjC,IAAI,CAACulD,gBAAgB,CAACp4B,QAAQ,CAAC,CAAC;IAChC,IAAI,CAACrF,eAAe,CAAC,QAAQ,CAAC,GAAG9nB,KAAK,CAAC0O,OAAO;IAC9C,IAAI,CAACoZ,eAAe,CAAC,QAAQ,CAAC,GAAG9nB,KAAK,CAACvN,OAAO;IAC9C,IAAI,CAAChiB,MAAM,CAAC,CAAC,CAAC,kBAAkB,CAAC;EACnC;EACAo2E,OAAOA,CAAC7mD,KAAK,EAAE;IACb,IAAI,CAAC,IAAI,CAACjiD,OAAO,CAACowD,sBAAsB,CAACnO,KAAK,CAAC,EAAE;MAC/C,IAAI,CAACqnD,YAAY,CAAC,CAAC;MACnB,IAAI,CAAC52E,MAAM,CAAC,CAAC,CAAC,kBAAkB,CAAC;MACjC,IAAI,CAACnW,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,OAAO,CAAC;IAC9C;EACF;EACAqsB,cAAcA,CAACjnD,KAAK,EAAE;IACpB,IAAIA,KAAK,CAACjtB,KAAK,GAAG,CAAC,EAAE;MACnB,IAAI,CAACoyE,KAAK,CAAC3nF,KAAK,GAAG,KAAK,CAAC;MACzB,IAAI,CAAC2nF,KAAK,CAAC/zG,MAAM,GAAG,KAAK,CAAC;MAC1B,IAAI,CAAC+zG,KAAK,CAACG,UAAU,GAAG,CAAC;MACzB,IAAI,CAACH,KAAK,CAACE,WAAW,GAAG,CAAC;IAC5B,CAAC,MAAM;MACL,IAAI,CAACF,KAAK,CAAC3nF,KAAK,GAAG,KAAK,CAAC;MACzB,IAAI,CAAC2nF,KAAK,CAAC/zG,MAAM,GAAG,KAAK,CAAC;MAC1B,IAAI,CAAC+zG,KAAK,CAACG,UAAU,GAAG5+F,QAAQ;MAChC,IAAI,CAACy+F,KAAK,CAACE,WAAW,GAAG3+F,QAAQ;IACnC;EACF;EACAygG,gBAAgBA,CAAA,EAAG;IACjB,IAAI,IAAI,CAAChC,KAAK,CAACC,QAAQ,EAAE;MACvB,IAAI,CAACtnB,MAAM,CAAC,CAAC;IACf;EACF;EACAA,MAAMA,CAAA,EAAG;IACP,IAAI,CAACxjE,GAAG,CAACy0C,aAAa,CAACuyB,wBAAwB,CAAC,KAAK,CAAC,CAAC;IACvD,IAAI,CAAC+lB,YAAY,CAAC,CAAC;IACnB,IAAI,CAAClC,KAAK,CAACC,QAAQ,GAAG,KAAK;EAC7B;EACA/lB,KAAKA,CAACr/B,KAAK,EAAE;IACX,IAAI,CAAC2rD,WAAW,CAAC,CAAC;IAClB3rD,KAAK,CAAC6P,OAAO,CAAC,CAAC;IACf,IAAI,CAACs1C,KAAK,CAACC,QAAQ,GAAG,IAAI;EAC5B;EACA0B,SAASA,CAAC9mD,KAAK,EAAE;IACf,IAAI,CAACmlD,KAAK,CAACE,WAAW,IAAIrlD,KAAK,CAACjtB,KAAK;IACrC,IAAI,CAAC44E,WAAW,CAAC,CAAC;IAClB3rD,KAAK,CAAC6P,OAAO,CAAC,CAAC;EACjB;EACAk3C,SAASA,CAAC/mD,KAAK,EAAE;IACf,IAAI,CAACmlD,KAAK,CAACG,UAAU,IAAItlD,KAAK,CAACjtB,KAAK;IACpC,IAAI,CAAC44E,WAAW,CAAC3rD,KAAK,CAACjtB,KAAK,CAAC;IAC7BitB,KAAK,CAAC6P,OAAO,CAAC,CAAC;EACjB;EACAm3C,QAAQA,CAAChnD,KAAK,EAAE;IACd,MAAM;MAAE5uD,MAAM;MAAEosB;IAAM,CAAC,GAAG,IAAI,CAAC2nF,KAAK;IACpC,MAAM/2C,WAAW,GAAGpO,KAAK,CAACoO,WAAW,CAACA,WAAW;IACjD,IAAIh9D,MAAM,KAAK,KAAK,CAAC,IAAIosB,KAAK,KAAK,KAAK,CAAC,EAAE;MACzCpsB,MAAM,CAACitG,kBAAkB,CAACjwC,WAAW,EAAE5wC,KAAK,CAAC;IAC/C,CAAC,MAAM;MACL,IAAI,CAAC0uD,SAAS,CAAC;QACb/kF,IAAI,EAAE,OAAO;QACb64D,KAAK,EAAEoO;MACT,CAAC,CAAC;IACJ;EACF;EACA84C,aAAaA,CAAClnD,KAAK,EAAE;IACnB,IAAI,CAAC1lC,GAAG,CAACq1C,cAAc,CAACI,aAAa,CAAC,IAAI,CAACnzC,EAAE,CAAC;IAC9C,MAAM;MAAE0c,OAAO,EAAEsyE,QAAQ;MAAEC;IAAY,CAAC,GAAGp4B,gBAAgB;IAC3D,IAAI,IAAI,CAACn5D,GAAG,CAACk9D,kBAAkB,CAAChD,QAAQ,CAAC,CAAC,IAAIo3B,QAAQ,GAAGC,WAAW,CAAC,EAAE;MACrE,IAAI,CAACC,oBAAoB,CAAC9rD,KAAK,EAAE,MAAM;QACrC,IAAI,CAAC1lC,GAAG,CAAC2qE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,CAAC;MACpD,CAAC,CAAC;IACJ;EACF;EACA+uF,WAAWA,CAACI,eAAe,EAAE;IAC3B,IAAI,CAAC5G,KAAK,CAACC,QAAQ,GAAG,IAAI;IAC1B,MAAM4G,YAAY,GAAG,IAAI,CAACtsG,QAAQ,CAACq1F,YAAY,CAAC,CAAC;IACjD,IAAIiX,YAAY,IAAI,IAAI,EAAE;MACxB,IAAI,CAACC,iBAAiB,CAACF,eAAe,IAAI,IAAI,GAAGA,eAAe,GAAG,CAAC,CAAC;IACvE,CAAC,MAAM;MACL,IAAI,CAACzxF,GAAG,CAACy0C,aAAa,CAACuyB,wBAAwB,CAAC0qB,YAAY,CAAC//D,IAAI,CAAC;MAClE,IAAI,CAAC3xB,GAAG,CAACwqE,uBAAuB,CAACzL,aAAa,CAAC2yB,YAAY,CAAC3vG,IAAI,CAAC;IACnE;EACF;EACA4vG,iBAAiBA,CAACF,eAAe,EAAE;IACjC,MAAM;MAAE36G,MAAM;MAAEwyG,UAAU;MAAEuB;IAAM,CAAC,GAAG,IAAI;IAC1C,MAAM5oC,aAAa,GAAGnrE,MAAM,CAACpI,MAAM,CAAE3H,CAAC,IAAKA,CAAC,CAACqc,OAAO,CAAC;IACrD,IAAI6+D,aAAa,CAAChjF,MAAM,KAAK,CAAC,EAC5B;IACF4rH,KAAK,CAACE,WAAW,GAAGpyF,KAAK,CAAC,CAAC,EAAEkyF,KAAK,CAACE,WAAW,EAAE9oC,aAAa,CAAChjF,MAAM,GAAG,CAAC,CAAC;IACzE4rH,KAAK,CAAC/zG,MAAM,GAAGmrE,aAAa,CAAC4oC,KAAK,CAACE,WAAW,CAAC;IAC/C,MAAM1T,IAAI,GAAGwT,KAAK,CAAC/zG,MAAM,CAAC4uG,SAAS,CAAC;MAAEsF,UAAU,EAAEH,KAAK,CAACG,UAAU;MAAEyG,eAAe;MAAEnI;IAAW,CAAC,CAAC;IAClG,IAAIjS,IAAI,KAAK,KAAK,CAAC,EACjB;IACF,MAAM;MAAEn0E,KAAK;MAAE8nF;IAAW,CAAC,GAAG3T,IAAI;IAClCwT,KAAK,CAACG,UAAU,GAAGA,UAAU;IAC7BH,KAAK,CAAC3nF,KAAK,GAAGA,KAAK;IACnB,MAAM0uF,aAAa,GAAGxa,wBAAwB,CAAC,IAAI,CAACp3E,GAAG,CAACy0C,aAAa,EAAE4iC,IAAI,CAAC;IAC5E,IAAIua,aAAa,KAAK,KAAK,CAAC,EAAE;MAC5B,IAAI,CAAC1G,oBAAoB,GAAG0G,aAAa;MACzC,MAAMhhD,IAAI,GAAGi6C,KAAK,CAAC/zG,MAAM,CAAC+6G,cAAc,CAAC3uF,KAAK,CAAC;MAC/C,MAAMkvC,IAAI,GAAGq1B,cAAc,CAACQ,eAAe,CAAC,IAAI,CAACijB,oBAAoB,EAAEhoF,KAAK,CAAC;MAC7E,IAAI,CAAClD,GAAG,CAAC2qE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,EAAEY,KAAK,CAAC;MACzD,IAAI,CAAClD,GAAG,CAACq1C,cAAc,CAACD,aAAa,CAAC,IAAI,CAAC9yC,EAAE,EAAE8vC,IAAI,EAAExB,IAAI,CAAC;MAC1D,IAAI,CAAC5wC,GAAG,CAACwqE,uBAAuB,CAACzL,aAAa,CAACnuB,IAAI,CAACC,SAAS,CAAC;IAChE;EACF;EACA,OAAOihD,YAAYA,CAACpsD,KAAK,EAAE;IACzB,OAAOA,KAAK,KAAK,KAAK,CAAC,IAAIA,KAAK,CAAC74D,IAAI,KAAK,OAAO;EACnD;EACAs+G,aAAaA,CAACzlD,KAAK,EAAEqsD,SAAS,EAAE;IAC9B,IAAI,IAAI,CAAC/xF,GAAG,CAACk9D,kBAAkB,CAAChD,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC,iBAAiB,CAACsvB,MAAM,CAACsI,YAAY,CAACpsD,KAAK,CAAC,EAAE;MAC9F;IACF;IACA,MAAM;MAAEssD,QAAQ;MAAEC;IAAU,CAAC,GAAG,IAAI;IACpC,MAAM;MAAE79C,OAAO;MAAEjc;IAAQ,CAAC,GAAGuN,KAAK;IAClC,MAAMwsD,cAAc,GAAGA,CAACrE,aAAa,GAAG,KAAK,KAAK;MAChD,IAAImE,QAAQ,EAAE;QACZ,IAAI,CAACjF,YAAY,CAACc,aAAa,CAAC;MAClC;IACF,CAAC;IACD,IAAIkE,SAAS,GAAG,IAAI,CAAC/xF,GAAG,CAACmZ,gBAAgB,CAAC29C,QAAQ,CAAC,CAAC,GAAG,EAAEm7B,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACh3F,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC,CAAC,EAAE;MAChI+5D,cAAc,CAAC,CAAC;MAChB;IACF;IACA,IAAI,CAACC,oBAAoB,CAACzsD,KAAK,EAAEwsD,cAAc,CAAC;IAChD,IAAI,CAACE,iBAAiB,CAAC1sD,KAAK,CAAC;EAC/B;EACAysD,oBAAoBA,CAACzsD,KAAK,EAAEwsD,cAAc,EAAE;IAC1C,MAAM;MAAEF,QAAQ;MAAEvuG;IAAQ,CAAC,GAAG,IAAI;IAClC,MAAM;MAAEvd,KAAK,EAAEQ;IAAO,CAAC,GAAG+c,OAAO;IACjC,MAAM;MAAE2wD,OAAO;MAAEjc;IAAQ,CAAC,GAAGuN,KAAK;IAClC,IAAI2sD,UAAU;IACd,IAAIlgH,cAAc,CAACzL,MAAM,CAAC,EAAE;MAC1B2rH,UAAU,GAAG3rH,MAAM;IACrB;IACA,MAAM2wG,IAAI,GAAG,IAAI,CAAC4Z,cAAc,CAAC;MAAE/wH,CAAC,EAAEk0E,OAAO;MAAEp6C,CAAC,EAAEm+B;IAAQ,CAAC,EAAEzxD,MAAM,KAAK,OAAO,EAAE2rH,UAAU,CAAC;IAC5F,IAAI,CAAChb,IAAI,EAAE;MACT,IAAI,CAACr3E,GAAG,CAACq1C,cAAc,CAACI,aAAa,CAAC,IAAI,CAACnzC,EAAE,CAAC;MAC9C,IAAI,IAAI,CAACukF,SAAS,CAAC3gH,KAAK,KAAK,SAAS,EAAE;QACtCgsH,cAAc,CAAC,IAAI,CAAC;MACtB;MACA;IACF;IACA,MAAMI,UAAU,GAAG,IAAI,CAACzL,SAAS,CAAC3gH,KAAK,KAAK,MAAM,IAAI,CAAC8rH,QAAQ,IAAIA,QAAQ,KAAK3a,IAAI,CAACn0E,KAAK;IAC1F,IAAI0tC,IAAI;IACR,IAAI0hD,UAAU,EAAE;MACd1hD,IAAI,GAAGymC,IAAI,CAACvgG,MAAM,CAAC+6G,cAAc,CAACxa,IAAI,CAACn0E,KAAK,CAAC;MAC7C,IAAI,IAAI,CAAC2jF,SAAS,CAAC3gH,KAAK,KAAK,SAAS,EAAE;QACtC,IAAI,CAAC85B,GAAG,CAAC2qE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,EAAE+0E,IAAI,CAACn0E,KAAK,CAAC;MAChE;IACF;IACA,MAAMqvF,YAAY,GAAGF,UAAU,IAAI,IAAI;IACvC,MAAMzQ,cAAc,GAAG,IAAI,CAACn+F,OAAO,CAAC3B,OAAO,IAAIu1F,IAAI,CAACvgG,MAAM,CAAC8qG,cAAc;IACzE,MAAM4Q,cAAc,GAAG9rH,MAAM,KAAK,OAAO,IAAI2wG,IAAI,CAACzW,QAAQ,KAAK,CAAC;IAChE,MAAM6xB,YAAY,GAAG/rH,MAAM,KAAK,SAAS,IAAI6rH,YAAY,IAAIC,cAAc;IAC3E,MAAME,mBAAmB,GAAG9Q,cAAc,IAAI6Q,YAAY,KAAK,CAACH,UAAU,IAAI1hD,IAAI,KAAK,KAAK,CAAC,CAAC;IAC9F,MAAMwB,IAAI,GAAGq1B,cAAc,CAACQ,eAAe,CAACviC,KAAK,EAAE2xC,IAAI,CAACn0E,KAAK,CAAC;IAC9D,IAAIwvF,mBAAmB,EAAE;MACvB,IAAI,CAAC1yF,GAAG,CAACq1C,cAAc,CAACD,aAAa,CAAC,IAAI,CAAC9yC,EAAE,EAAE8vC,IAAI,EAAExB,IAAI,CAAC;IAC5D;EACF;EACAwhD,iBAAiBA,CAAC1sD,KAAK,EAAE;IACvB,MAAMitD,KAAK,GAAG,IAAI,CAACnB,oBAAoB,CAAC9rD,KAAK,EAAE,CAAC5uD,MAAM,EAAEosB,KAAK,KAAK;MAChE,IAAIpsB,MAAM,CAAC46E,gBAAgB,CAAC,WAAW,CAAC,IAAI56E,MAAM,CAAC46E,gBAAgB,CAAC,iBAAiB,CAAC,EAAE;QACtF,IAAI,CAAC1xD,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC;MACzD;MACA,IAAI,IAAI,CAACumB,SAAS,CAAC3gH,KAAK,KAAK,MAAM,EAAE;QACnC,IAAI,CAAC85B,GAAG,CAAC2qE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,EAAEY,KAAK,CAAC;MAC3D;IACF,CAAC,CAAC;IACF,IAAI,CAACyvF,KAAK,EAAE;MACV,IAAI,CAAC3yF,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,OAAO,CAAC;MAC5C,IAAI,IAAI,CAACumB,SAAS,CAAC3gH,KAAK,KAAK,MAAM,EAAE;QACnC,IAAI,CAAC85B,GAAG,CAAC2qE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,CAAC;MACpD;IACF;EACF;EACA8pF,OAAOA,CAAC1mD,KAAK,EAAE;IACb,IAAI,IAAI,CAACktD,oBAAoB,CAACltD,KAAK,CAAC,EAAE;MACpC,IAAI,CAACvvB,MAAM,CAAC,CAAC,CAAC,mBAAmB,CAAC;MAClC;IACF;IACA,IAAI,CAACy7C,SAAS,CAAC;MACb/kF,IAAI,EAAE,OAAO;MACb64D,KAAK,EAAEA,KAAK,CAACoO;IACf,CAAC,CAAC;EACJ;EACAu4C,aAAaA,CAAC3mD,KAAK,EAAE;IACnB,IAAI,IAAI,CAACmtD,0BAA0B,CAACntD,KAAK,CAAC,EAAE;MAC1C,IAAI,CAACvvB,MAAM,CAAC,CAAC,CAAC,mBAAmB,CAAC;MAClC;IACF;IACA,IAAI,CAACy7C,SAAS,CAAC;MACb/kF,IAAI,EAAE,aAAa;MACnB64D,KAAK,EAAEA,KAAK,CAACoO;IACf,CAAC,CAAC;EACJ;EACA8+C,oBAAoBA,CAACltD,KAAK,EAAE;IAC1B,OAAO,IAAI,CAAC8rD,oBAAoB,CAAC9rD,KAAK,EAAE,CAAC5uD,MAAM,EAAEosB,KAAK,KAAKpsB,MAAM,CAACitG,kBAAkB,CAACr+C,KAAK,CAACoO,WAAW,EAAE5wC,KAAK,CAAC,CAAC;EACjH;EACA2vF,0BAA0BA,CAACntD,KAAK,EAAE;IAChC,OAAO,IAAI,CAAC8rD,oBAAoB,CAC9B9rD,KAAK,EACL,CAAC5uD,MAAM,EAAEosB,KAAK,KAAKpsB,MAAM,CAACktG,wBAAwB,CAACt+C,KAAK,CAACoO,WAAW,EAAE5wC,KAAK,CAC7E,CAAC;EACH;EACAsuF,oBAAoBA,CAAC9rD,KAAK,EAAE/hE,QAAQ,EAAE;IACpC,IAAI2C,EAAE;IACN,MAAMwsH,WAAW,GAAG,IAAI,CAAC7B,cAAc,CAAC;MAAE/wH,CAAC,EAAEwlE,KAAK,CAAC0O,OAAO;MAAEp6C,CAAC,EAAE0rC,KAAK,CAACvN;IAAQ,CAAC,EAAE,KAAK,CAAC;IACtF,MAAMj1B,KAAK,GAAG4vF,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC5vF,KAAK;IAC9D,MAAM1f,cAAc,GAAG0f,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACpsB,MAAM,CAACuB,UAAU,CAACmL,cAAc;IACtF,IAAI6uG,UAAU;IACd,IAAIlgH,cAAc,CAACqR,cAAc,CAAC,EAAE;MAClC6uG,UAAU,GAAG7uG,cAAc;IAC7B;IACA,IAAIuvG,UAAU,GAAG,IAAI,CAAC9B,cAAc,CAAC;MAAE/wH,CAAC,EAAEwlE,KAAK,CAAC0O,OAAO;MAAEp6C,CAAC,EAAE0rC,KAAK,CAACvN;IAAQ,CAAC,EAAE,IAAI,CAAC;IAClF,IAAI46D,UAAU,EAAE;MACd,IAAI,CAAC/yF,GAAG,CAAC2qE,gBAAgB,CAAC9H,YAAY,CAAC,IAAI,CAACvgE,EAAE,EAAEywF,UAAU,CAAC7vF,KAAK,CAAC;IACnE,CAAC,MAAM;MACL,IAAI,CAAClD,GAAG,CAAC2qE,gBAAgB,CAAC9H,YAAY,CAAC,IAAI,CAACvgE,EAAE,CAAC;IACjD;IACA,IAAIY,KAAK,IAAI1f,cAAc,KAAK,SAAS,EAAE;MACzC7f,QAAQ,CAACu/B,KAAK,CAACpsB,MAAM,EAAEosB,KAAK,CAAC;MAC7B,OAAO,IAAI;IACb;IACA,IAAI1f,cAAc,KAAK,OAAO,EAAE;MAC9BuvG,UAAU,GAAG,IAAI,CAAC9B,cAAc,CAAC;QAAE/wH,CAAC,EAAEwlE,KAAK,CAAC0O,OAAO;QAAEp6C,CAAC,EAAE0rC,KAAK,CAACvN;MAAQ,CAAC,EAAE,KAAK,EAAEk6D,UAAU,CAAC;IAC7F;IACA,IAAI,CAACU,UAAU,EACb,OAAO,KAAK;IACd,MAAMR,YAAY,GAAGF,UAAU,IAAI,IAAI;IACvC,MAAMG,cAAc,GAAGhvG,cAAc,KAAK,OAAO,IAAIuvG,UAAU,CAACnyB,QAAQ,KAAK,CAAC;IAC9E,IAAI2xB,YAAY,IAAIC,cAAc,EAAE;MAClC,MAAMQ,QAAQ,GAAGttD,KAAK,CAACm3B,cAAc,KAAK,KAAK,CAAC,KAAK,CAACv2F,EAAE,GAAGo/D,KAAK,CAACm3B,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGv2F,EAAE,CAACU,KAAK,CAAEisH,SAAS,IAAK;QAC1H,MAAMC,YAAY,GAAG;UAAEhzH,CAAC,EAAE+yH,SAAS,CAAC7+C,OAAO;UAAEp6C,CAAC,EAAEi5F,SAAS,CAAC96D;QAAQ,CAAC;QACnE,MAAMg7D,WAAW,GAAG,IAAI,CAAClC,cAAc,CAACiC,YAAY,EAAE,KAAK,EAAEb,UAAU,CAAC;QACxE,OAAO,CAACc,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACjwF,KAAK,OAAO6vF,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAAC7vF,KAAK,CAAC;MAChH,CAAC,CAAC,CAAC;MACH,IAAI8vF,QAAQ,EAAE;QACZrvH,QAAQ,CAACovH,UAAU,CAACj8G,MAAM,EAAEi8G,UAAU,CAAC7vF,KAAK,CAAC;QAC7C,OAAO,IAAI;MACb;IACF;IACA,OAAO,KAAK;EACd;EACA4pF,oBAAoBA,CAACpnD,KAAK,EAAE;IAC1B,IAAIp/D,EAAE,EAAEsQ,EAAE;IACV,MAAM2zG,cAAc,GAAG,eAAgB,IAAIl+G,GAAG,CAAC,CAAC;IAChD,MAAM;MAAEyK,MAAM,EAAEs8G,SAAS,GAAG,KAAK,CAAC;MAAElwF,KAAK,EAAE4oC;IAAS,CAAC,GAAG,CAACxlE,EAAE,GAAGo/D,KAAK,CAACi9B,gBAAgB,KAAK,IAAI,GAAGr8F,EAAE,GAAG,CAAC,CAAC;IACvG,MAAM;MAAEwQ,MAAM,EAAEu8G,UAAU,GAAG,KAAK,CAAC;MAAEnwF,KAAK,EAAEowF;IAAU,CAAC,GAAG,CAAC18G,EAAE,GAAG8uD,KAAK,CAACg9B,iBAAiB,KAAK,IAAI,GAAG9rF,EAAE,GAAG,CAAC,CAAC;IAC1G,IAAIy8G,UAAU,EAAE;MACd9I,cAAc,CAAC58G,GAAG,CAAC0lH,UAAU,CAAC;IAChC;IACA,IAAID,SAAS,EAAE;MACb7I,cAAc,CAAC58G,GAAG,CAACylH,SAAS,CAAC;IAC/B;IACA,IAAI,CAACC,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACh7G,UAAU,CAACmoF,MAAM,KAAK8yB,SAAS,EAAE;MAC7E,IAAI,CAACtzF,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC+yB,UAAU,CAAC/wF,EAAE,CAAC;IACpD;IACA,IAAI,CAAC8wF,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAAC/6G,UAAU,CAACmoF,MAAM,KAAK10B,QAAQ,EAAE;MAC1E,IAAI,CAAC9rC,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC8yB,SAAS,CAAC9wF,EAAE,EAAE8wF,SAAS,CAAC/6G,UAAU,CAACmoF,MAAM,CAAC;IAChF;IACA,IAAI,CAACwxB,QAAQ,GAAGtsD,KAAK,CAACi9B,gBAAgB;IACtC,MAAM4wB,SAAS,GAAGH,SAAS,IAAI,IAAI,IAAIC,UAAU,IAAI,IAAI;IACzD,IAAIE,SAAS,EAAE;MACb,IAAI,CAACp9E,MAAM,CAAC,CAAC,CAAC,mBAAmB,CAAC;IACpC,CAAC,MAAM;MACL,IAAI,CAACA,MAAM,CAAC,CAAC,CAAC,qBAAqB;QAAEo0E;MAAe,CAAC,CAAC;IACxD;EACF;EACAiJ,aAAaA,CAACC,SAAS,GAAG,GAAG,EAAEC,aAAa,GAAG,KAAK,EAAE;IACpD,OAAOr0H,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM8G,KAAK,GAAGsnF,WAAW,CAAC19D,GAAG,CAAC,CAAC;MAC/B,IAAI,IAAI,CAACm6F,2BAA2B,GAAG,CAAC,EAAE;QACxC,MAAM,IAAI,CAAC9f,WAAW,CAAClZ,wBAAwB,CAAC,CAAC;MACnD;MACA,OAAO,IAAI,CAACm5B,iBAAiB,KAAK,CAAC,CAAC,YAAY;QAC9C,IAAI58B,WAAW,CAAC19D,GAAG,CAAC,CAAC,GAAG5pB,KAAK,GAAGstH,SAAS,EAAE;UACzC,MAAMvuH,OAAO,GAAG,oCAAoCuuH,SAAS,gDAAgD;UAC7G,IAAIC,aAAa,EAAE;YACjB,MAAM,IAAIjmH,KAAK,CAACvI,OAAO,CAAC;UAC1B,CAAC,MAAM;YACLL,MAAM,CAACQ,QAAQ,CAACH,OAAO,CAAC;UAC1B;QACF;QACA,MAAMsrF,KAAK,CAAC,EAAE,CAAC;MACjB;MACA,MAAM,IAAI,CAAC4Z,WAAW,CAAClZ,wBAAwB,CAAC,CAAC;IACnD,CAAC,CAAC;EACJ;EACAyiC,kBAAkBA,CAACC,OAAO,EAAE;IAC1B,OAAO,IAAIn0H,OAAO,CAAEC,OAAO,IAAK;MAC9B,IAAI,CAACgsH,oBAAoB,CAAC/9G,GAAG,CAACjO,OAAO,CAAC;MACtC,IAAIwS,QAAQ,CAAC0hH,OAAO,CAAC,EAAE;QACrBxvH,UAAU,CAAC,MAAM;UACf,IAAI,IAAI,CAACsnH,oBAAoB,CAAC1oH,GAAG,CAACtD,OAAO,CAAC,EAAE;YAC1C,IAAI,CAACgsH,oBAAoB,CAAC/yG,MAAM,CAACjZ,OAAO,CAAC;YACzCA,OAAO,CAAC,CAAC;UACX;QACF,CAAC,EAAEk0H,OAAO,CAAC;MACb;IACF,CAAC,CAAC;EACJ;EACA5O,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAEviG,KAAK;MAAEsY;IAAO,CAAC,GAAG,IAAI,CAACiF,GAAG,CAACkqE,KAAK;IACxC,MAAM2pB,QAAQ,GAAG,IAAI,CAAC/8G,MAAM,CAACxD,GAAG,CAAEwD,MAAM,IAAKA,MAAM,CAACkuG,WAAW,CAACviG,KAAK,EAAEsY,MAAM,CAAC,CAAC,CAACrsB,MAAM,CAAC0C,SAAS,CAAC;IACjG,IAAIyiH,QAAQ,CAAC50H,MAAM,KAAK,CAAC,EACvB;IACF,IAAIq5D,QAAQ,GAAG,CAAC;IAChB,IAAIC,SAAS,GAAG,CAAC;IACjB,IAAIu7D,eAAe,GAAG,CAAC;IACvB,IAAIC,gBAAgB,GAAG,CAAC;IACxB,KAAK,MAAM;MAAEj6C,OAAO,EAAEk6C,QAAQ;MAAEjqB,cAAc,EAAEkqB;IAAgB,CAAC,IAAIJ,QAAQ,EAAE;MAC7Ev7D,QAAQ,GAAGh7D,IAAI,CAAC6J,GAAG,CAACmxD,QAAQ,EAAE07D,QAAQ,CAACvxG,KAAK,CAAC;MAC7C81C,SAAS,GAAGj7D,IAAI,CAAC6J,GAAG,CAACoxD,SAAS,EAAEy7D,QAAQ,CAACj5F,MAAM,CAAC;MAChD+4F,eAAe,GAAGx2H,IAAI,CAAC6J,GAAG,CAAC2sH,eAAe,EAAEG,eAAe,CAACxxG,KAAK,CAAC;MAClEsxG,gBAAgB,GAAGz2H,IAAI,CAAC6J,GAAG,CAAC4sH,gBAAgB,EAAEE,eAAe,CAACl5F,MAAM,CAAC;IACvE;IACA,MAAM++C,OAAO,GAAG,IAAIt9C,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE87B,QAAQ,EAAEC,SAAS,CAAC;IACnD,IAAIwxC,cAAc,GAAGjwB,OAAO,CAACjmE,KAAK,CAAC,CAAC;IACpC,IAAIigH,eAAe,GAAG,CAAC,IAAIC,gBAAgB,GAAG,CAAC,EAAE;MAC/ChqB,cAAc,GAAG,IAAIvtE,IAAI,CAAC,CAAC,EAAE,CAAC,EAAEs3F,eAAe,EAAEC,gBAAgB,CAAC;IACpE;IACA,OAAO;MAAEj6C,OAAO;MAAEiwB;IAAe,CAAC;EACpC;EACAmqB,qBAAqBA,CAACp9G,MAAM,EAAE;IAC5B,OAAOA,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACpI,MAAM,CAAE3H,CAAC,IAAKA,CAAC,CAACotH,eAAe,KAAK,KAAK,CAAC;EACpF;EACA7a,YAAYA,CAACqS,YAAY,EAAE;IACzB,IAAIrlH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;IACtB,MAAMmhG,OAAO,GAAG,IAAI,CAAC1iG,gBAAgB;IACrC,MAAM2iG,YAAY,GAAG1I,YAAY,CAAC15F,WAAW,CAACmiG,OAAO,CAAC;IACtD,MAAMxjG,WAAW,GAAG+6F,YAAY,CAAC/6F,WAAW;IAC5C,IAAIyjG,YAAY,IAAI,IAAI,EACtB;IACF3wF,KAAK,CAAC,0CAA0C,EAAE2wF,YAAY,CAAC;IAC/D,MAAMC,eAAe,GAAGrhH,aAAa,CAACohH,YAAY,EAAED,OAAO,CAAC;IAC5D,MAAMG,cAAc,GAAG,IAAI,CAACC,YAAY,CAACF,eAAe,CAAC;IACzD,MAAMh7G,IAAI,GAAG,CACX,MAAM,EACN,MAAM,EACN,QAAQ,EACR,WAAW,EACX,OAAO,EACP,kBAAkB,EAClB,4BAA4B,EAC5B,2BAA2B,EAC3B,MAAM,EACN,UAAU,CACX;IACD,IAAI+6G,YAAY,CAAC5vG,SAAS,EAAE;MAC1B,IAAI,CAACgwG,iBAAiB,CAAC,IAAI,EAAEJ,YAAY,CAAC5vG,SAAS,CAAC;IACtD;IACArK,SAAS,CAAC,IAAI,EAAEi6G,YAAY,EAAE;MAAE/6G;IAAK,CAAC,CAAC;IACvC,IAAI0zG,oBAAoB,GAAG,KAAK;IAChC,IAAI0H,YAAY,GAAG,OAAO;IAC1B,IAAI,CAACpuH,EAAE,GAAG+tH,YAAY,CAACv9G,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGxQ,EAAE,CAACrH,MAAM,EAAE;MAC3Dy1H,YAAY,GAAG,IAAI,CAACC,WAAW,CAAC,IAAI,EAAEN,YAAY,CAACv9G,MAAM,EAAEs9G,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACt9G,MAAM,CAAC;MACrGk2G,oBAAoB,GAAG,IAAI;IAC7B;IACA,IAAI0H,YAAY,KAAK,UAAU,EAAE;MAC/B,IAAI,CAACjH,eAAe,CAAC,CAAC;IACxB;IACA,IAAI,IAAI,CAACmH,SAAS,CAAC,IAAI,EAAEN,eAAe,EAAEF,OAAO,EAAEM,YAAY,CAAC,EAAE;MAChE1H,oBAAoB,GAAG,IAAI;IAC7B;IACA,IAAIqH,YAAY,CAACh5G,IAAI,EAAE;MACrB,IAAI,CAACA,IAAI,GAAGg5G,YAAY,CAACh5G,IAAI;IAC/B;IACA,IAAI,CAAC,CAACzE,EAAE,GAAGy9G,YAAY,CAAC9vG,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG3N,EAAE,CAAC6N,SAAS,KAAK,IAAI,CAACulG,cAAc,CAACjlD,SAAS,CAAC,QAAQ,CAAC,EAAE;MAC3GnpE,MAAM,CAAC2I,MAAM,CAAC,IAAI,CAACggB,MAAM,CAACE,SAAS,EAAE4vG,YAAY,CAAC9vG,MAAM,CAACE,SAAS,CAAC;IACrE;IACA,IAAI4vG,YAAY,CAAC5vG,SAAS,EAAE;MAC1B,IAAI,CAACgrG,wBAAwB,CAAC,CAAC;IACjC;IACA,IAAI,CAAC9D,YAAY,GAAGA,YAAY;IAChC,IAAI,CAACj6F,gBAAgB,GAAG4iG,eAAe;IACvC,IAAI,CAAC1jG,WAAW,GAAG3d,aAAa,CAAC2d,WAAW,EAAE,IAAI,CAACA,WAAW,CAAC;IAC/D,MAAMikG,eAAe,GAAG,IAAI,CAAC7K,cAAc,CAACllD,SAAS,CAAC,WAAW,CAAC;IAClE,MAAMgwD,UAAU,GAAG,IAAI,CAAC9K,cAAc,CAACllD,SAAS,CAAC,MAAM,CAAC;IACxD,IAAI,EAAE+vD,eAAe,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,eAAe,CAAC/yG,OAAO,CAAC,IAAI,EAAEgzG,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAAChzG,OAAO,CAAC,EAAE;MACxH,IAAI,CAACke,GAAG,CAACsqE,WAAW,CAAC+L,UAAU,CAAC,OAAO,CAAC;IAC1C;IACA,MAAM3hF,SAAS,GAAGmgG,eAAe,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACngG,SAAS;IAC9E,MAAMF,eAAe,GAAG,CAACvB,EAAE,GAAG,CAACzb,EAAE,GAAG,CAACX,EAAE,GAAGy9G,eAAe,CAAC7/F,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG5d,EAAE,CAAC6d,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGld,EAAE,CAACV,MAAM,KAAK,IAAI,GAAGmc,EAAE,GAAGqhG,eAAe,CAACx9G,MAAM;IACzK,IAAI,CAAC4d,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAAC5S,OAAO,MAAM,IAAI,IAAI0S,eAAe,IAAI,IAAI,EAAE;MACxF,IAAI,CAACugG,qBAAqB,CAACrgG,SAAS,EAAEF,eAAe,EAAE8/F,eAAe,EAAEF,OAAO,CAAC;IAClF,CAAC,MAAM,IAAI,CAAC1/F,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAAC5S,OAAO,MAAM,KAAK,EAAE;MACrE4S,SAAS,CAAC5d,MAAM,GAAG,EAAE;MACrB4d,SAAS,CAAC7c,IAAI,GAAG,EAAE;IACrB;IACAoX,WAAW,CAACshE,cAAc,EAAE,OAAO,CAAC;IACpC,IAAI,CAACvwD,GAAG,CAACuqE,iBAAiB,CAACrW,mBAAmB,CAACy3B,YAAY,CAACqJ,gBAAgB,CAAC;IAC7EhI,oBAAoB,KAAKA,oBAAoB,GAAG,IAAI,CAACiI,0BAA0B,CAACZ,YAAY,EAAEK,YAAY,CAAC,CAAC;IAC5G,MAAMQ,WAAW,GAAGlI,oBAAoB,IAAIuH,cAAc;IAC1D,MAAMY,UAAU,GAAGD,WAAW,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;IAClD,IAAI,CAACE,oBAAoB,CAACV,YAAY,CAAC;IACvChxF,KAAK,CAAC,6CAA6C,EAAEgmE,eAAe,CAACyrB,UAAU,CAAC,EAAE;MAChFT,YAAY;MACZ1H;IACF,CAAC,CAAC;IACF,IAAI,CAAC72E,MAAM,CAACg/E,UAAU,EAAE;MAAEnI,oBAAoB;MAAEe,iBAAiB,EAAE;IAAK,CAAC,CAAC;EAC5E;EACAqH,oBAAoBA,CAACV,YAAY,EAAE;IACjC,IAAI,IAAI,CAACx8G,IAAI,KAAK,YAAY,EAC5B;IACF,QAAQw8G,YAAY;MAClB,KAAK,wBAAwB;MAC7B,KAAK,UAAU;QACb,IAAI,CAACjH,eAAe,CAAC,CAAC;QACtB;MACF;IACF;EACF;EACAwH,0BAA0BA,CAACZ,YAAY,EAAEK,YAAY,EAAE;IACrD,MAAMW,gBAAgB,GAAG,CAAC,CAAChB,YAAY,CAACh5G,IAAI,IAAIq5G,YAAY,KAAK,aAAa,IAAIA,YAAY,KAAK,UAAU;IAC7G,MAAMY,UAAU,GAAGh4G,cAAc,CAACF,OAAO,CAAC,CAAC;IAC3C,MAAMm4G,iBAAiB,GAAG35H,MAAM,CAACiX,MAAM,CAACyiH,UAAU,CAAC,CAACloH,IAAI,CACrDooH,SAAS,IAAKnB,YAAY,CAACmB,SAAS,CAAC,IAAI,IAC5C,CAAC;IACD,MAAMC,kBAAkB,GAAGpB,YAAY,CAACxyG,KAAK,IAAI,IAAI,IAAIwyG,YAAY,CAAChwG,QAAQ,IAAI,IAAI;IACtF,OAAOgxG,gBAAgB,IAAIE,iBAAiB,IAAIE,kBAAkB;EACpE;EACAV,qBAAqBA,CAACrgG,SAAS,EAAEF,eAAe,EAAE8/F,eAAe,EAAEF,OAAO,EAAE;IAC1E,IAAI9tH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;IACtB,MAAMyiG,SAAS,GAAG,CAAC7+G,EAAE,GAAG,CAACD,EAAE,GAAG,CAACtQ,EAAE,GAAG8tH,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC3/F,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGnuB,EAAE,CAACouB,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG9d,EAAE,CAACE,MAAM,KAAK,IAAI,GAAGD,EAAE,GAAGu9G,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACt9G,MAAM;IACzM,MAAM6+G,qBAAqB,GAAG,IAAI,CAAChB,WAAW,CAC5CjgG,SAAS,EACT,IAAI,CAACw/F,qBAAqB,CAAC1/F,eAAe,CAAC,EAC3C,IAAI,CAAC0/F,qBAAqB,CAACwB,SAAS,CACtC,CAAC;IACD,IAAI,CAACd,SAAS,CAAClgG,SAAS,EAAE4/F,eAAe,EAAEF,OAAO,EAAEuB,qBAAqB,EAAE,CACzE,aAAa,EACb,kBAAkB,EAClB,cAAc,EACd,kBAAkB,EAClB,iBAAiB,EACjB,cAAc,CACf,CAAC;IACF,MAAM99G,IAAI,GAAG6c,SAAS,CAAC7c,IAAI;IAC3B,MAAM+9G,cAAc,GAAG/9G,IAAI,CAAClL,IAAI,CAAEmL,IAAI,IAAKA,IAAI,CAACyqD,SAAS,KAAK,GAAG,CAAC,OAAO,CAAC;IAC1E,KAAK,MAAMzqD,IAAI,IAAID,IAAI,EAAE;MACvBC,IAAI,CAAC6K,QAAQ,CAACb,OAAO,GAAG,KAAK;MAC7BhK,IAAI,CAACuK,KAAK,CAACP,OAAO,GAAGhK,IAAI,KAAK89G,cAAc;MAC5C99G,IAAI,CAAC4K,IAAI,CAACZ,OAAO,GAAG,KAAK;MACzBhK,IAAI,CAAC2/D,kBAAkB,GAAG,KAAK;IACjC;IACA,IAAIm+C,cAAc,IAAI,IAAI,EAAE;MAC1B,MAAMC,aAAa,GAAG,CAACr+G,EAAE,GAAG88G,eAAe,CAAC7/F,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjd,EAAE,CAACkd,SAAS;MACtF,MAAMohG,YAAY,GAAGD,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACxzG,KAAK;MACzE,MAAM0zG,eAAe,GAAG,CAAC9iG,EAAE,GAAG4iG,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACxzG,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG4Q,EAAE,CAACgqB,QAAQ;MAClH24E,cAAc,CAACpzG,IAAI,CAACV,OAAO,GAAG,KAAK;MACnC8zG,cAAc,CAACvzG,KAAK,CAACpf,GAAG,CACtB2Q,OAAO,CAACkiH,YAAY,EAAE,CAAC,UAAU,EAAE,UAAU,EAAE,YAAY,EAAE,YAAY,EAAE,iBAAiB,CAAC,CAC/F,CAAC;MACDF,cAAc,CAAClzG,IAAI,CAACzf,GAAG,CACrB2Q,OAAO,CAACmiH,eAAe,EAAE,CAAC,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,MAAM,CAAC,CACpF,CAAC;MACD,MAAMl2H,IAAI,GAAGk2H,eAAe,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACl2H,IAAI;MACpE,IAAIA,IAAI,IAAI,IAAI,EAAE;QAChB+1H,cAAc,CAAClzG,IAAI,CAACu6B,QAAQ,GAAGp9C,IAAI;MACrC;IACF;EACF;EACA20H,YAAYA,CAAC3wH,OAAO,EAAE;IACpB,IAAIyC,EAAE;IACN,MAAM;MAAEuG,IAAI,EAAE2I;IAAW,CAAC,GAAG,IAAI,CAAChQ,WAAW;IAC7C,IAAI+uH,cAAc,GAAG,KAAK;IAC1B,KAAK,MAAM/nH,MAAM,IAAIoB,cAAc,CAACN,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,EAAE;MAC5D,MAAM0oH,YAAY,GAAGnyH,OAAO,CAAC2I,MAAM,CAACM,UAAU,CAAC,IAAI,IAAI;MACvD,MAAMmpH,eAAe,GAAGD,YAAY,IAAIxpH,MAAM,CAACkJ,UAAU,CAAClI,QAAQ,CAACgI,UAAU,CAAC;MAC9E,IAAIygH,eAAe,KAAK,IAAI,CAACjM,cAAc,CAACjlD,SAAS,CAACv4D,MAAM,CAAC,EAC3D;MACF,IAAIypH,eAAe,EAAE;QACnB,IAAI,CAACjM,cAAc,CAACtlD,SAAS,CAACl4D,MAAM,EAAGa,CAAC,IAAK,IAAIA,CAAC,CAACa,mBAAmB,CAAC,IAAI,CAACg+G,gBAAgB,CAAC,CAAC,CAAC,CAAC;QAChG,IAAI1/G,MAAM,CAACK,IAAI,KAAK,QAAQ,EAAE;UAC5B,CAACvG,EAAE,GAAG,IAAI,CAAC0jH,cAAc,CAACllD,SAAS,CAACt4D,MAAM,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlG,EAAE,CAAC4vH,YAAY,CAAC,IAAI,CAACl2F,GAAG,CAACkqE,KAAK,CAAC;QACjG;QACA,IAAI,CAAC19F,MAAM,CAACM,UAAU,CAAC,GAAG,IAAI,CAACk9G,cAAc,CAACllD,SAAS,CAACt4D,MAAM,CAAC;MACjE,CAAC,MAAM;QACL,IAAI,CAACw9G,cAAc,CAACplD,YAAY,CAACp4D,MAAM,CAAC;QACxC,OAAO,IAAI,CAACA,MAAM,CAACM,UAAU,CAAC;MAChC;MACAynH,cAAc,GAAG,IAAI;IACvB;IACA,OAAOA,cAAc;EACvB;EACAI,WAAWA,CAACh7C,KAAK,EAAE2+B,SAAS,EAAE6d,YAAY,EAAE;IAC1C,IAAI7vH,EAAE;IACN,IAAI,CAACgyG,SAAS,EAAE;MACd,OAAO,WAAW;IACpB;IACA,MAAM8d,WAAW,GAAG/d,kBAAkB,CAAC1+B,KAAK,CAAC7iE,MAAM,EAAEwhG,SAAS,EAAE6d,YAAY,CAAC;IAC7E,IAAIC,WAAW,CAAC97E,MAAM,KAAK,YAAY,EAAE;MACvC5W,KAAK,CACH,oEAAoE0yF,WAAW,CAAC97E,MAAM,EAAE,EACxF87E,WACF,CAAC;MACDz8C,KAAK,CAAC7iE,MAAM,GAAGwhG,SAAS,CAAChlG,GAAG,CAAE0G,IAAI,IAAK,IAAI,CAACq8G,YAAY,CAACr8G,IAAI,CAAC,CAAC;MAC/D,OAAO,UAAU;IACnB;IACA0pB,KAAK,CAAC,uCAAuC,EAAE0yF,WAAW,CAAC;IAC3D,MAAME,eAAe,GAAG,EAAE;IAC1B,IAAIC,WAAW,GAAG,KAAK;IACvB,IAAIC,eAAe,GAAG,KAAK;IAC3B,IAAIC,SAAS,GAAG,KAAK;IACrB,KAAK,MAAMjxC,MAAM,IAAI4wC,WAAW,CAACvd,OAAO,EAAE;MACxC2d,eAAe,KAAKA,eAAe,GAAGhxC,MAAM,CAAClrC,MAAM,KAAK,iBAAiB,CAAC;MAC1Ei8E,WAAW,KAAKA,WAAW,GAAG,CAAC,CAACjwH,EAAE,GAAGk/E,MAAM,CAAC4zB,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG9yG,EAAE,CAAC+U,IAAI,KAAK,IAAI,CAAC;MACtFo7G,SAAS,KAAKA,SAAS,GAAGjxC,MAAM,CAAClrC,MAAM,KAAK,OAAO,CAAC;MACpD,QAAQkrC,MAAM,CAAClrC,MAAM;QACnB,KAAK,KAAK;UACR,MAAM84E,SAAS,GAAG,IAAI,CAACiD,YAAY,CAAC7wC,MAAM,CAACxrE,IAAI,CAAC;UAChDs8G,eAAe,CAAC3vH,IAAI,CAACysH,SAAS,CAAC;UAC/B1vF,KAAK,CAAC,8CAA8C,EAAE0vF,SAAS,CAAC;UAChE;QACF,KAAK,QAAQ;UACX1vF,KAAK,CAAC,6DAA6D8hD,MAAM,CAAC/1B,GAAG,EAAE,EAAE+1B,MAAM,CAAC1uE,MAAM,CAAC;UAC/F;QACF,KAAK,OAAO;UACVw/G,eAAe,CAAC3vH,IAAI,CAAC6+E,MAAM,CAAC1uE,MAAM,CAAC;UACnC4sB,KAAK,CAAC,iEAAiE8hD,MAAM,CAAC/1B,GAAG,EAAE,EAAE+1B,MAAM,CAAC1uE,MAAM,CAAC;UACnG;QACF,KAAK,iBAAiB;QACtB,KAAK,QAAQ;QACb;UACE,MAAM;YAAEA,MAAM;YAAEsiG,IAAI,EAAE5/F,KAAK;YAAEi2C;UAAI,CAAC,GAAG+1B,MAAM;UAC3C9hD,KAAK,CAAC,+DAA+D+rB,GAAG,EAAE,EAAEj2C,KAAK,EAAE1C,MAAM,CAAC;UAC1F,IAAI,CAAC4/G,iBAAiB,CAAC5/G,MAAM,EAAE0C,KAAK,CAAC;UACrC1C,MAAM,CAACgsG,iBAAiB,CAAC,CAAC;UAC1BwT,eAAe,CAAC3vH,IAAI,CAACmQ,MAAM,CAAC;MAChC;IACF;IACA,KAAK,IAAI24C,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAG6mE,eAAe,CAACr3H,MAAM,EAAEwwD,GAAG,EAAE,EAAE;MACrD6mE,eAAe,CAAC7mE,GAAG,CAAC,CAACmxD,iBAAiB,GAAGnxD,GAAG;IAC9C;IACA/rB,KAAK,CAAC,kDAAkD,EAAE4yF,eAAe,CAAC;IAC1E38C,KAAK,CAAC7iE,MAAM,GAAGw/G,eAAe;IAC9B,IAAIE,eAAe,EAAE;MACnB,OAAO,wBAAwB;IACjC;IACA,IAAID,WAAW,EAAE;MACf,OAAO,aAAa;IACtB;IACA,OAAOE,SAAS,GAAG,SAAS,GAAG,OAAO;EACxC;EACA7B,SAASA,CAACj7C,KAAK,EAAE91E,OAAO,EAAEuwH,OAAO,EAAEM,YAAY,EAAEp7G,IAAI,GAAG,EAAE,EAAE;IAC1D,IAAI,EAAE,MAAM,IAAIzV,OAAO,CAAC,IAAI,CAACA,OAAO,CAACgU,IAAI,EAAE;MACzC,OAAO,KAAK;IACd;IACAyB,IAAI,GAAG,CAAC,aAAa,EAAE,GAAGA,IAAI,CAAC;IAC/B,MAAM;MAAEzB;IAAK,CAAC,GAAGhU,OAAO;IACxB,MAAM8yH,aAAa,GAAGjC,YAAY,KAAK,UAAU;IACjD,MAAMkC,aAAa,GAAG,CAACD,aAAa,IAAIh9C,KAAK,CAAC9hE,IAAI,CAAC5Y,MAAM,KAAK4Y,IAAI,CAAC5Y,MAAM,IAAI06E,KAAK,CAAC9hE,IAAI,CAAC7Q,KAAK,CAAC,CAAChJ,CAAC,EAAEgB,CAAC,KAAKhB,CAAC,CAAC6O,IAAI,KAAKgL,IAAI,CAAC7Y,CAAC,CAAC,CAAC6N,IAAI,CAAC;IAChI,IAAI+pH,aAAa,IAAI7/G,yBAAyB,CAACq9G,OAAO,CAAC,EAAE;MACvDz6C,KAAK,CAAC9hE,IAAI,CAACE,OAAO,CAAC,CAACD,IAAI,EAAE7K,KAAK,KAAK;QAClC,IAAI3G,EAAE,EAAEsQ,EAAE;QACV,MAAMuiG,YAAY,GAAG,CAACviG,EAAE,GAAG,CAACtQ,EAAE,GAAG8tH,OAAO,CAACv8G,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvR,EAAE,CAAC2G,KAAK,CAAC,KAAK,IAAI,GAAG2J,EAAE,GAAG,CAAC,CAAC;QAC9F,MAAMigH,QAAQ,GAAGx9G,QAAQ,CAAC8/F,YAAY,EAAEthG,IAAI,CAAC5K,KAAK,CAAC,CAAC;QACpDy2B,KAAK,CAAC,kDAAkDz2B,KAAK,EAAE,EAAE4pH,QAAQ,CAAC;QAC1E,MAAM9iH,IAAI,GAAG,QAAQ9G,KAAK,GAAG;QAC7BmN,SAAS,CAACtC,IAAI,EAAE++G,QAAQ,EAAEz4H,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEkmD,kBAAkB,CAAC,EAAE;UAAElwC,IAAI;UAAEuF;QAAK,CAAC,CAAC,CAAC;MAClG,CAAC,CAAC;MACF,OAAO,IAAI;IACb;IACAoqB,KAAK,CAAC,sEAAsEgxF,YAAY,EAAE,CAAC;IAC3F/6C,KAAK,CAAC9hE,IAAI,GAAG,IAAI,CAACi/G,UAAU,CAACj/G,IAAI,EAAEyB,IAAI,CAAC;IACxC,OAAO,IAAI;EACb;EACA+8G,YAAYA,CAAChiG,aAAa,EAAE;IAC1B,MAAM0iG,cAAc,GAAGl6G,cAAc,CAACxO,MAAM,CAACgmB,aAAa,CAACxnB,IAAI,EAAE,IAAI,CAACq/G,gBAAgB,CAAC,CAAC,CAAC;IACzF,IAAI,CAAC8K,wBAAwB,CAACD,cAAc,EAAE1iG,aAAa,CAAC;IAC5D,IAAI,CAACqiG,iBAAiB,CAACK,cAAc,EAAE1iG,aAAa,CAAC;IACrD,OAAO0iG,cAAc;EACvB;EACAC,wBAAwBA,CAAClgH,MAAM,EAAEjT,OAAO,EAAE;IACxC,MAAMyK,aAAa,GAAGwI,MAAM,CAACosE,mBAAmB,CAAC,CAAC;IAClD,MAAM1e,SAAS,GAAG1tD,MAAM,CAACmsE,YAAY,CAAC,CAAC;IACvC,KAAK,MAAMz2E,MAAM,IAAIoB,cAAc,CAACN,MAAM,CAAC,eAAe,CAAC,EAAE;MAC3D,IAAId,MAAM,CAACM,UAAU,IAAIjJ,OAAO,IAAI2I,MAAM,CAACyI,WAAW,CAACzH,QAAQ,CAACsJ,MAAM,CAACjK,IAAI,CAAC,EAAE;QAC5E23D,SAAS,CAACE,SAAS,CAACl4D,MAAM,EAAGa,CAAC,IAAK,IAAIA,CAAC,CAACa,mBAAmB,CAACI,aAAa,CAAC,CAAC;MAC9E;IACF;EACF;EACAooH,iBAAiBA,CAACl4H,MAAM,EAAEqF,OAAO,EAAE;IACjC,MAAM2gE,SAAS,GAAGhmE,MAAM,CAACykF,YAAY,CAAC,CAAC;IACvC,MAAM38E,EAAE,GAAGzC,OAAO;MAAE;QAAEgJ,IAAI,EAAE2kB,CAAC;QAAEnW,IAAI;QAAEoJ,SAAS;QAAEuR,cAAc;QAAEm+F,eAAe,EAAEh+F;MAAG,CAAC,GAAG7vB,EAAE;MAAE+tB,aAAa,GAAGh2B,SAAS,CAACiI,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,gBAAgB,EAAE,iBAAiB,CAAC,CAAC;IAC7L,KAAK,MAAM2wH,SAAS,IAAIphH,2BAA2B,EAAE;MACnD,IAAIohH,SAAS,CAACpqH,IAAI,KAAK,eAAe,EACpC;MACF,IAAIoqH,SAAS,CAACnqH,UAAU,IAAIunB,aAAa,EAAE;QACzC,MAAM7nB,MAAM,GAAGg4D,SAAS,CAACM,SAAS,CAACmyD,SAAS,CAACnqH,UAAU,CAAC;QACxD,MAAMoqH,aAAa,GAAG7iG,aAAa,CAAC4iG,SAAS,CAACnqH,UAAU,CAAC;QACzD,OAAOunB,aAAa,CAAC4iG,SAAS,CAACnqH,UAAU,CAAC;QAC1CN,MAAM,CAAC6L,UAAU,CAACpV,GAAG,CAACi0H,aAAa,CAAC;MACtC;IACF;IACA14H,MAAM,CAAC6Z,UAAU,CAACpV,GAAG,CAACoxB,aAAa,CAAC;IACpC,IAAI,MAAM,IAAIxwB,OAAO,EAAE;MACrBrF,MAAM,CAACsjH,cAAc,CAACzmG,IAAI,CAAC;IAC7B;IACA,IAAIoJ,SAAS,EAAE;MACb,IAAI,CAACgwG,iBAAiB,CAACj2H,MAAM,EAAEimB,SAAS,CAAC;IAC3C;IACA,IAAI,gBAAgB,IAAI5gB,OAAO,EAAE;MAC/B,IAAImyB,cAAc,IAAI,IAAI,EAAE;QAC1Bx3B,MAAM,CAACw3B,cAAc,GAAG,KAAK,CAAC;MAChC,CAAC,MAAM;QACLx3B,MAAM,CAACw3B,cAAc,GAAGj4B,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAES,MAAM,CAACw3B,cAAc,CAAC,EAAEA,cAAc,CAAC;MACnG;IACF;EACF;EACA8gG,UAAUA,CAACjzH,OAAO,EAAEyV,IAAI,EAAE;IACxB,MAAM69G,OAAO,GAAG,IAAIrf,mBAAmB,CAAC,CAAC;IACzC,MAAMxpG,aAAa,GAAG,IAAI,CAAC49G,gBAAgB,CAAC,CAAC;IAC7C,KAAK,IAAIj/G,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGpJ,OAAO,CAAC5E,MAAM,EAAEgO,KAAK,EAAE,EAAE;MACnD,MAAMqmB,WAAW,GAAGzvB,OAAO,CAACoJ,KAAK,CAAC;MAClC,MAAM6K,IAAI,GAAGlJ,YAAY,CAACP,MAAM,CAACilB,WAAW,CAACzmB,IAAI,EAAEyB,aAAa,CAAC;MACjE,IAAI,CAAC8oH,gBAAgB,CAACt/G,IAAI,EAAEwb,WAAW,CAAC;MACxClZ,SAAS,CAACtC,IAAI,EAAEwb,WAAW,EAAEl1B,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEkmD,kBAAkB,CAAC,EAAE;QAAElwC,IAAI,EAAE,QAAQ9G,KAAK,GAAG;QAAEqM;MAAK,CAAC,CAAC,CAAC;MACrH69G,OAAO,CAACxwH,IAAI,CAACmR,IAAI,EAAEwb,WAAW,CAAC;IACjC;IACA,OAAO6jG,OAAO,CAACpf,qBAAqB,CAAC,CAAC;EACxC;EACAqf,gBAAgBA,CAACt/G,IAAI,EAAEjU,OAAO,EAAE;IAC9B,MAAMyK,aAAa,GAAGwJ,IAAI,CAACorE,mBAAmB,CAAC,CAAC;IAChD,MAAM1e,SAAS,GAAG1sD,IAAI,CAACmrE,YAAY,CAAC,CAAC;IACrC,KAAK,MAAMz2E,MAAM,IAAIoB,cAAc,CAACN,MAAM,CAAC,aAAa,CAAC,EAAE;MACzD,MAAM2oH,eAAe,GAAGpyH,OAAO,CAAC2I,MAAM,CAACM,UAAU,CAAC,IAAI,IAAI;MAC1D,IAAImpH,eAAe,KAAKzxD,SAAS,CAACO,SAAS,CAACv4D,MAAM,CAAC,EACjD;MACF,IAAIypH,eAAe,EAAE;QACnBzxD,SAAS,CAACE,SAAS,CAACl4D,MAAM,EAAGa,CAAC,IAAK,IAAIA,CAAC,CAACa,mBAAmB,CAACI,aAAa,CAAC,CAAC;QAC5EwJ,IAAI,CAACtL,MAAM,CAACM,UAAU,CAAC,GAAG03D,SAAS,CAACM,SAAS,CAACt4D,MAAM,CAAC;MACvD,CAAC,MAAM;QACLg4D,SAAS,CAACI,YAAY,CAACp4D,MAAM,CAAC;QAC9B,OAAOsL,IAAI,CAACtL,MAAM,CAACM,UAAU,CAAC;MAChC;IACF;EACF;EACA2nH,iBAAiBA,CAACn2H,MAAM,EAAEmmB,SAAS,EAAE;IACnCnmB,MAAM,CAACqzF,mBAAmB,CAAC,CAAC;IAC5B,KAAK,MAAM,CAAC/2E,QAAQ,EAAE22E,QAAQ,CAAC,IAAI31F,MAAM,CAAC+X,OAAO,CAAC8Q,SAAS,CAAC,EAAE;MAC5D,IAAI5S,UAAU,CAAC0/E,QAAQ,CAAC,EAAE;QACxBjzF,MAAM,CAAC+yF,gBAAgB,CAACz2E,QAAQ,EAAE22E,QAAQ,CAAC;MAC7C;IACF;EACF;AACF,CAAC;AACDi4B,MAAM,CAAC0D,eAAe,GAAG,eAAgB,IAAI79G,OAAO,CAAC,CAAC;AACtDzQ,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACVv7D,QAAQA,CAACzW,KAAK,EAAE;IACd,IAAI,IAAI,CAACisH,SAAS,EAChB;IACFjsH,KAAK,CAACsyE,YAAY,CAAC,gBAAgB,EAAE,EAAE,CAAC;IACxCtyE,KAAK,CAACmxB,WAAW,CAAC,IAAI,CAACgjD,OAAO,CAAC;IAC/B03C,MAAM,CAAC0D,eAAe,CAACjqH,GAAG,CAACtF,KAAK,EAAE,IAAI,CAAC;EACzC,CAAC;EACDoS,QAAQA,CAACpS,KAAK,EAAE;IACdA,KAAK,CAACwyE,eAAe,CAAC,gBAAgB,CAAC;IACvCxyE,KAAK,CAACqxB,WAAW,CAAC,IAAI,CAAC8iD,OAAO,CAAC;IAC/B03C,MAAM,CAAC0D,eAAe,CAACv0G,MAAM,CAAChb,KAAK,CAAC;EACtC;AACF,CAAC,CAAC,CACH,EAAE6rH,MAAM,CAAC/sH,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACpCmC,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACVv7D,QAAQA,CAACzW,KAAK,EAAE;IACd,IAAI,CAAC27E,MAAM,CAAC37E,KAAK,EAAE,KAAK,CAAC,EAAE,cAAc,CAAC;EAC5C;AACF,CAAC,CAAC,CACH,EAAE6rH,MAAM,CAAC/sH,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAChCmC,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACVv7D,QAAQA,CAACzW,KAAK,EAAE;IACd,IAAI,CAAC27E,MAAM,CAAC,KAAK,CAAC,EAAE37E,KAAK,EAAE,eAAe,CAAC;EAC7C;AACF,CAAC,CAAC,CACH,EAAE6rH,MAAM,CAAC/sH,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACjCmC,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACVv7D,QAAQA,CAACzW,KAAK,EAAE;IACd,IAAI,CAACyvH,gBAAgB,CAACzvH,KAAK,CAAC;EAC9B;AACF,CAAC,CAAC,EACFwhD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEkpE,MAAM,CAAC/sH,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEqpE,MAAM,CAAC/sH,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAClCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEqpE,MAAM,CAAC/sH,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEqpE,MAAM,CAAC/sH,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAChCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEqpE,MAAM,CAAC/sH,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEqpE,MAAM,CAAC/sH,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEqpE,MAAM,CAAC/sH,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACdugD,QAAQ,CAACiD,KAAK,CAAC,CAAC,YAAY,EAAE,YAAY,CAAC,EAAE,cAAc,CAAC,CAAC,CAC9D,EAAEonE,MAAM,CAAC/sH,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC/BmC,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACVG,WAAWA,CAAC17D,QAAQ,EAAErE,QAAQ,EAAE;IAC9B,IAAI,CAACq/G,YAAY,CAACh7G,QAAQ,EAAErE,QAAQ,CAAC;EACvC;AACF,CAAC,CAAC,CACH,EAAEy5G,MAAM,CAAC/sH,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC/BmC,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACVG,WAAWA,CAAC17D,QAAQ,EAAErE,QAAQ,EAAE;IAC9B,IAAI,CAACs/G,cAAc,CAACj7G,QAAQ,EAAErE,QAAQ,CAAC;EACzC;AACF,CAAC,CAAC,CACH,EAAEy5G,MAAM,CAAC/sH,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACjC,IAAI46H,KAAK,GAAG7N,MAAM;;AAElB;AACA,SAAS8N,UAAUA,CAACt5H,CAAC,EAAEC,CAAC,EAAE;EACxB,MAAMkX,CAAC,GAAG,CAAClX,CAAC,GAAGD,CAAC;EAChB,OAAOA,CAAC,KAAK,CAAC,IAAImX,CAAC,IAAI,CAAC,IAAIA,CAAC,IAAI,CAAC,GAAG,CAACA,CAAC,CAAC,GAAG,EAAE;AAC/C;AACA,SAASoiH,cAAcA,CAACv5H,CAAC,EAAEC,CAAC,EAAEygC,CAAC,EAAE;EAC/B,IAAI1gC,CAAC,KAAK,CAAC,EAAE;IACX,OAAOs5H,UAAU,CAACr5H,CAAC,EAAEygC,CAAC,CAAC;EACzB;EACA,MAAM84F,CAAC,GAAGv5H,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAGD,CAAC,GAAG0gC,CAAC;EAC3B,MAAM+4F,KAAK,GAAG,EAAE;EAChB,IAAID,CAAC,KAAK,CAAC,EAAE;IACX,MAAMriH,CAAC,GAAG,CAAClX,CAAC,IAAI,CAAC,GAAGD,CAAC,CAAC;IACtB,IAAImX,CAAC,IAAI,CAAC,IAAIA,CAAC,IAAI,CAAC,EAAE;MACpBsiH,KAAK,CAAC9wH,IAAI,CAACwO,CAAC,CAAC;IACf;EACF,CAAC,MAAM,IAAIqiH,CAAC,GAAG,CAAC,EAAE;IAChB,MAAMx4F,EAAE,GAAG1hC,IAAI,CAACs1D,IAAI,CAAC4kE,CAAC,CAAC;IACvB,MAAMvqE,EAAE,GAAG,CAAC,CAAChvD,CAAC,GAAG+gC,EAAE,KAAK,CAAC,GAAGhhC,CAAC,CAAC;IAC9B,MAAM05H,EAAE,GAAG,CAAC,CAACz5H,CAAC,GAAG+gC,EAAE,KAAK,CAAC,GAAGhhC,CAAC,CAAC;IAC9B,IAAIivD,EAAE,IAAI,CAAC,IAAIA,EAAE,IAAI,CAAC,EAAE;MACtBwqE,KAAK,CAAC9wH,IAAI,CAACsmD,EAAE,CAAC;IAChB;IACA,IAAIyqE,EAAE,IAAI,CAAC,IAAIA,EAAE,IAAI,CAAC,EAAE;MACtBD,KAAK,CAAC9wH,IAAI,CAAC+wH,EAAE,CAAC;IAChB;EACF;EACA,OAAOD,KAAK;AACd;AACA,SAASE,UAAUA,CAAC35H,CAAC,EAAEC,CAAC,EAAEygC,CAAC,EAAE54B,CAAC,EAAE;EAC9B,IAAI9H,CAAC,KAAK,CAAC,EAAE;IACX,OAAOu5H,cAAc,CAACt5H,CAAC,EAAEygC,CAAC,EAAE54B,CAAC,CAAC;EAChC;EACA,MAAMy4B,CAAC,GAAGtgC,CAAC,GAAGD,CAAC;EACf,MAAMwgC,CAAC,GAAGE,CAAC,GAAG1gC,CAAC;EACf,MAAMygC,CAAC,GAAG34B,CAAC,GAAG9H,CAAC;EACf,MAAMiqD,CAAC,GAAG,CAAC,CAAC,GAAGzpB,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI,CAAC;EAC7B,MAAMq5F,CAAC,GAAG,CAAC,CAAC,GAAGr5F,CAAC,GAAGC,CAAC,GAAG,EAAE,GAAGC,CAAC,GAAG,CAAC,GAAGF,CAAC,GAAGA,CAAC,GAAGA,CAAC,IAAI,EAAE;EACnD,MAAMi5F,CAAC,GAAGvvE,CAAC,GAAGA,CAAC,GAAGA,CAAC,GAAG2vE,CAAC,GAAGA,CAAC;EAC3B,MAAMC,KAAK,GAAG,CAAC,GAAG,CAAC;EACnB,MAAMJ,KAAK,GAAG,EAAE;EAChB,IAAID,CAAC,IAAI,CAAC,EAAE;IACV,MAAMx4F,EAAE,GAAG1hC,IAAI,CAACs1D,IAAI,CAAC4kE,CAAC,CAAC;IACvB,MAAM9sF,CAAC,GAAGptC,IAAI,CAAC67B,IAAI,CAACy+F,CAAC,GAAG54F,EAAE,CAAC,GAAG1hC,IAAI,CAACC,GAAG,CAACD,IAAI,CAAC27B,GAAG,CAAC2+F,CAAC,GAAG54F,EAAE,CAAC,EAAE64F,KAAK,CAAC;IAC/D,MAAMC,CAAC,GAAGx6H,IAAI,CAAC67B,IAAI,CAACy+F,CAAC,GAAG54F,EAAE,CAAC,GAAG1hC,IAAI,CAACC,GAAG,CAACD,IAAI,CAAC27B,GAAG,CAAC2+F,CAAC,GAAG54F,EAAE,CAAC,EAAE64F,KAAK,CAAC;IAC/D,MAAME,EAAE,GAAGz6H,IAAI,CAAC27B,GAAG,CAAC37B,IAAI,CAACs1D,IAAI,CAAC,CAAC,CAAC,IAAIloB,CAAC,GAAGotF,CAAC,CAAC,GAAG,CAAC,CAAC;IAC/C,MAAM3iH,CAAC,GAAG,CAAC0iH,KAAK,GAAGt5F,CAAC,IAAImM,CAAC,GAAGotF,CAAC,CAAC;IAC9B,IAAI3iH,CAAC,IAAI,CAAC,IAAIA,CAAC,IAAI,CAAC,EAAE;MACpBsiH,KAAK,CAAC9wH,IAAI,CAACwO,CAAC,CAAC;IACf;IACA,IAAI4iH,EAAE,KAAK,CAAC,EAAE;MACZ,MAAML,EAAE,GAAG,CAACG,KAAK,GAAGt5F,CAAC,GAAG,CAACmM,CAAC,GAAGotF,CAAC,IAAI,CAAC;MACnC,IAAIJ,EAAE,IAAI,CAAC,IAAIA,EAAE,IAAI,CAAC,EAAE;QACtBD,KAAK,CAAC9wH,IAAI,CAAC+wH,EAAE,CAAC;MAChB;IACF;EACF,CAAC,MAAM;IACL,MAAMM,KAAK,GAAG16H,IAAI,CAAC26H,IAAI,CAACL,CAAC,GAAGt6H,IAAI,CAACs1D,IAAI,CAAC,CAAC3K,CAAC,GAAGA,CAAC,GAAGA,CAAC,CAAC,CAAC;IAClD,MAAMiwE,MAAM,GAAGL,KAAK,GAAGt5F,CAAC;IACxB,MAAM45F,QAAQ,GAAG,CAAC,GAAG76H,IAAI,CAACs1D,IAAI,CAAC,CAAC3K,CAAC,CAAC;IAClC,MAAMgF,EAAE,GAAGkrE,QAAQ,GAAG76H,IAAI,CAAC6jC,GAAG,CAAC02F,KAAK,GAAGG,KAAK,CAAC,GAAGE,MAAM;IACtD,MAAMR,EAAE,GAAGS,QAAQ,GAAG76H,IAAI,CAAC6jC,GAAG,CAAC02F,KAAK,IAAIG,KAAK,GAAG,CAAC,GAAG16H,IAAI,CAACwsC,EAAE,CAAC,CAAC,GAAGouF,MAAM;IACtE,MAAME,EAAE,GAAGD,QAAQ,GAAG76H,IAAI,CAAC6jC,GAAG,CAAC02F,KAAK,IAAIG,KAAK,GAAG,CAAC,GAAG16H,IAAI,CAACwsC,EAAE,CAAC,CAAC,GAAGouF,MAAM;IACtE,IAAIjrE,EAAE,IAAI,CAAC,IAAIA,EAAE,IAAI,CAAC,EAAE;MACtBwqE,KAAK,CAAC9wH,IAAI,CAACsmD,EAAE,CAAC;IAChB;IACA,IAAIyqE,EAAE,IAAI,CAAC,IAAIA,EAAE,IAAI,CAAC,EAAE;MACtBD,KAAK,CAAC9wH,IAAI,CAAC+wH,EAAE,CAAC;IAChB;IACA,IAAIU,EAAE,IAAI,CAAC,IAAIA,EAAE,IAAI,CAAC,EAAE;MACtBX,KAAK,CAAC9wH,IAAI,CAACyxH,EAAE,CAAC;IAChB;EACF;EACA,OAAOX,KAAK;AACd;;AAEA;AACA,SAASY,mBAAmBA,CAACC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAE;EACnE,MAAM/yH,CAAC,GAAG,CAAC0yH,GAAG,GAAGF,GAAG,KAAKO,GAAG,GAAGF,GAAG,CAAC,GAAG,CAACF,GAAG,GAAGF,GAAG,KAAKK,GAAG,GAAGF,GAAG,CAAC;EAC/D,IAAI5yH,CAAC,KAAK,CAAC,EAAE;IACX,OAAO,CAAC;EACV;EACA,MAAMgzH,EAAE,GAAG,CAAC,CAACF,GAAG,GAAGF,GAAG,KAAKH,GAAG,GAAGI,GAAG,CAAC,GAAG,CAACL,GAAG,GAAGI,GAAG,KAAKG,GAAG,GAAGF,GAAG,CAAC,IAAI7yH,CAAC;EACtE,MAAMizH,EAAE,GAAG,CAAC,CAACP,GAAG,GAAGF,GAAG,KAAKC,GAAG,GAAGI,GAAG,CAAC,GAAG,CAACF,GAAG,GAAGF,GAAG,KAAKD,GAAG,GAAGI,GAAG,CAAC,IAAI5yH,CAAC;EACtE,IAAIgzH,EAAE,IAAI,CAAC,IAAIA,EAAE,IAAI,CAAC,IAAIC,EAAE,IAAI,CAAC,IAAIA,EAAE,IAAI,CAAC,EAAE;IAC5C,OAAO,CAAC;EACV;EACA,OAAO,CAAC;AACV;AACA,SAASC,yBAAyBA,CAACC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAE99F,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE;EACzF,IAAI49F,aAAa,GAAG,CAAC;EACrB,MAAMl7F,CAAC,GAAG5C,EAAE,GAAGE,EAAE;EACjB,MAAM2C,CAAC,GAAG5C,EAAE,GAAGF,EAAE;EACjB,MAAM+C,CAAC,GAAG/C,EAAE,IAAIG,EAAE,GAAGF,EAAE,CAAC,GAAGA,EAAE,IAAIC,EAAE,GAAGF,EAAE,CAAC;EACzC,MAAMg+F,EAAE,GAAGC,kBAAkB,CAACV,GAAG,EAAEE,GAAG,EAAEE,GAAG,EAAEE,GAAG,CAAC;EACjD,MAAMK,EAAE,GAAGD,kBAAkB,CAACT,GAAG,EAAEE,GAAG,EAAEE,GAAG,EAAEE,GAAG,CAAC;EACjD,MAAMx7H,CAAC,GAAGugC,CAAC,GAAGm7F,EAAE,CAAC,CAAC,CAAC,GAAGl7F,CAAC,GAAGo7F,EAAE,CAAC,CAAC,CAAC;EAC/B,MAAM37H,CAAC,GAAGsgC,CAAC,GAAGm7F,EAAE,CAAC,CAAC,CAAC,GAAGl7F,CAAC,GAAGo7F,EAAE,CAAC,CAAC,CAAC;EAC/B,MAAMl7F,CAAC,GAAGH,CAAC,GAAGm7F,EAAE,CAAC,CAAC,CAAC,GAAGl7F,CAAC,GAAGo7F,EAAE,CAAC,CAAC,CAAC;EAC/B,MAAM9zH,CAAC,GAAGy4B,CAAC,GAAGm7F,EAAE,CAAC,CAAC,CAAC,GAAGl7F,CAAC,GAAGo7F,EAAE,CAAC,CAAC,CAAC,GAAGn7F,CAAC;EACnC,MAAMg5F,KAAK,GAAGE,UAAU,CAAC35H,CAAC,EAAEC,CAAC,EAAEygC,CAAC,EAAE54B,CAAC,CAAC;EACpC,KAAK,MAAMqP,CAAC,IAAIsiH,KAAK,EAAE;IACrB,MAAMoC,EAAE,GAAG1kH,CAAC,GAAGA,CAAC;IAChB,MAAM2kH,GAAG,GAAG3kH,CAAC,GAAG0kH,EAAE;IAClB,MAAM35H,CAAC,GAAGw5H,EAAE,CAAC,CAAC,CAAC,GAAGI,GAAG,GAAGJ,EAAE,CAAC,CAAC,CAAC,GAAGG,EAAE,GAAGH,EAAE,CAAC,CAAC,CAAC,GAAGvkH,CAAC,GAAGukH,EAAE,CAAC,CAAC,CAAC;IACtD,MAAM1/F,CAAC,GAAG4/F,EAAE,CAAC,CAAC,CAAC,GAAGE,GAAG,GAAGF,EAAE,CAAC,CAAC,CAAC,GAAGC,EAAE,GAAGD,EAAE,CAAC,CAAC,CAAC,GAAGzkH,CAAC,GAAGykH,EAAE,CAAC,CAAC,CAAC;IACtD,IAAI7yH,CAAC;IACL,IAAI20B,EAAE,KAAKE,EAAE,EAAE;MACb70B,CAAC,GAAG,CAACizB,CAAC,GAAG2B,EAAE,KAAKE,EAAE,GAAGF,EAAE,CAAC;IAC1B,CAAC,MAAM;MACL50B,CAAC,GAAG,CAAC7G,CAAC,GAAGw7B,EAAE,KAAKE,EAAE,GAAGF,EAAE,CAAC;IAC1B;IACA,IAAI30B,CAAC,IAAI,CAAC,IAAIA,CAAC,IAAI,CAAC,EAAE;MACpB0yH,aAAa,EAAE;IACjB;EACF;EACA,OAAOA,aAAa;AACtB;AACA,SAASE,kBAAkBA,CAACI,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE;EAC1C,OAAO;EACL;EACA,CAACH,EAAE,GAAG,CAAC,GAAGC,EAAE,GAAG,CAAC,GAAGC,EAAE,GAAGC,EAAE;EAC1B;EACA,CAAC,GAAGH,EAAE,GAAG,CAAC,GAAGC,EAAE,GAAG,CAAC,GAAGC,EAAE;EACxB;EACA,CAAC,CAAC,GAAGF,EAAE,GAAG,CAAC,GAAGC,EAAE;EAChB;EACAD;EACA;EAAA,CACD;AACH;AACA,SAASI,gBAAgBA,CAACx6F,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEs6B,UAAU,EAAEC,QAAQ,EAAE2wB,gBAAgB,EAAE/wC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE;EAC3F,IAAInqB,KAAK,CAACiuB,EAAE,CAAC,IAAIjuB,KAAK,CAACkuB,EAAE,CAAC,EAAE;IAC1B,OAAO,CAAC;EACV;EACA,IAAI6sC,gBAAgB,EAAE;IACpB,CAAC3wB,QAAQ,EAAED,UAAU,CAAC,GAAG,CAACA,UAAU,EAAEC,QAAQ,CAAC;EACjD;EACA,MAAMj7C,CAAC,GAAG,CAACg7B,EAAE,GAAGF,EAAE,KAAKC,EAAE,GAAGF,EAAE,CAAC;EAC/B,MAAMmxB,EAAE,GAAGlxB,EAAE,GAAG96B,CAAC,GAAG66B,EAAE;EACtB,MAAM19B,CAAC,GAAGV,IAAI,CAACC,GAAG,CAACsD,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;EAC5B,MAAM5C,CAAC,GAAG,CAAC,IAAI4C,CAAC,IAAIgsD,EAAE,GAAGjtB,EAAE,CAAC,GAAGD,EAAE,CAAC;EAClC,MAAMjB,CAAC,GAAGphC,IAAI,CAACC,GAAG,CAACoiC,EAAE,EAAE,CAAC,CAAC,GAAGriC,IAAI,CAACC,GAAG,CAACsvD,EAAE,GAAGjtB,EAAE,EAAE,CAAC,CAAC,GAAGtiC,IAAI,CAACC,GAAG,CAACgkB,CAAC,EAAE,CAAC,CAAC;EACjE,MAAMzb,CAAC,GAAGxI,IAAI,CAACC,GAAG,CAACU,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAGD,CAAC,GAAG0gC,CAAC;EACpC,IAAI54B,CAAC,GAAG,CAAC,EAAE;IACT,OAAO,CAAC;EACV;EACA,MAAMs0H,GAAG,GAAG,CAAC,CAACn8H,CAAC,GAAGX,IAAI,CAACs1D,IAAI,CAAC9sD,CAAC,CAAC,IAAI,CAAC,GAAG9H,CAAC;EACvC,MAAMq8H,GAAG,GAAG,CAAC,CAACp8H,CAAC,GAAGX,IAAI,CAACs1D,IAAI,CAAC9sD,CAAC,CAAC,IAAI,CAAC,GAAG9H,CAAC;EACvC,IAAIy7H,aAAa,GAAG,CAAC;EACrB,CAACW,GAAG,EAAEC,GAAG,CAAC,CAACtiH,OAAO,CAAE7X,CAAC,IAAK;IACxB,MAAMo6H,aAAa,GAAGp6H,CAAC,IAAI5C,IAAI,CAAC6uB,GAAG,CAACuP,EAAE,EAAEE,EAAE,CAAC,IAAI17B,CAAC,IAAI5C,IAAI,CAAC6J,GAAG,CAACu0B,EAAE,EAAEE,EAAE,CAAC;IACpE,IAAI,CAAC0+F,aAAa,EAAE;MAClB;IACF;IACA,MAAMtgG,CAAC,GAAGn5B,CAAC,GAAGX,CAAC,GAAG2sD,EAAE;IACpB,MAAM0tE,QAAQ,GAAGr6H,CAAC,GAAGy/B,EAAE;IACvB,MAAM66F,QAAQ,GAAGxgG,CAAC,GAAG4F,EAAE;IACvB,MAAM+c,KAAK,GAAGr/C,IAAI,CAACusC,KAAK,CAAC2wF,QAAQ,EAAED,QAAQ,CAAC;IAC5C,IAAI5+E,eAAe,CAACgB,KAAK,EAAEd,UAAU,EAAEC,QAAQ,CAAC,EAAE;MAChD29E,aAAa,EAAE;IACjB;EACF,CAAC,CAAC;EACF,OAAOA,aAAa;AACtB;;AAEA;AACA,IAAIgB,cAAc,GAAG,MAAM;EACzBj1H,WAAWA,CAAA,EAAG;IACZ;IACA;IACA;IACA,IAAI,CAACk1H,MAAM,GAAG,IAAIC,MAAM,CAAC,CAAC;IAC1B,IAAI,CAACC,gBAAgB,GAAG,EAAE;IAC1B,IAAI,CAACC,cAAc,GAAG,EAAE;IACxB,IAAI,CAACC,kBAAkB,GAAG,KAAK;IAC/B,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAAC1gH,MAAM,GAAG,EAAE;IAChB,IAAI,CAAC2gH,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,UAAU,GAAG,KAAK;EACzB;EACAh9F,OAAOA,CAAA,EAAG;IACR,OAAO,IAAI,CAACg9F,UAAU,KAAK,IAAI,CAACH,kBAAkB,IAAI,IAAI,CAACF,gBAAgB,CAAC37H,MAAM,KAAK,IAAI,CAAC87H,QAAQ,CAAC97H,MAAM,IAAI,IAAI,CAAC47H,cAAc,CAAC57H,MAAM,KAAK,IAAI,CAACob,MAAM,CAACpb,MAAM,IAAI,IAAI,CAAC27H,gBAAgB,CAACzrH,QAAQ,CAAC,CAAC,KAAK,IAAI,CAAC4rH,QAAQ,CAAC5rH,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC0rH,cAAc,CAAC1rH,QAAQ,CAAC,CAAC,KAAK,IAAI,CAACkL,MAAM,CAAClL,QAAQ,CAAC,CAAC;EAChS;EACA+rH,SAASA,CAAA,EAAG;IACV,OAAO,IAAI,CAACR,MAAM;EACpB;EACA7kE,MAAMA,CAAC31D,CAAC,EAAE85B,CAAC,EAAE;IACX,IAAI,CAACghG,UAAU,GAAG,IAAI;IACtB,IAAI,CAACN,MAAM,CAAC7kE,MAAM,CAAC31D,CAAC,EAAE85B,CAAC,CAAC;IACxB,IAAI,CAAC+gG,QAAQ,CAACp0H,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC;IAChC,IAAI,CAAC0T,MAAM,CAAC1T,IAAI,CAACzG,CAAC,EAAE85B,CAAC,CAAC;EACxB;EACA87B,MAAMA,CAAC51D,CAAC,EAAE85B,CAAC,EAAE;IACX,IAAI,IAAI,CAACghG,UAAU,EAAE;MACnB,IAAI,CAACN,MAAM,CAAC5kE,MAAM,CAAC51D,CAAC,EAAE85B,CAAC,CAAC;MACxB,IAAI,CAAC+gG,QAAQ,CAACp0H,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC;MAChC,IAAI,CAAC0T,MAAM,CAAC1T,IAAI,CAACzG,CAAC,EAAE85B,CAAC,CAAC;IACxB,CAAC,MAAM;MACL,IAAI,CAAC67B,MAAM,CAAC31D,CAAC,EAAE85B,CAAC,CAAC;IACnB;EACF;EACA23B,IAAIA,CAACzxD,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,EAAE;IACxB,IAAI,CAAC86B,MAAM,CAAC31D,CAAC,EAAE85B,CAAC,CAAC;IACjB,IAAI,CAAC87B,MAAM,CAAC51D,CAAC,GAAGuiB,KAAK,EAAEuX,CAAC,CAAC;IACzB,IAAI,CAAC87B,MAAM,CAAC51D,CAAC,GAAGuiB,KAAK,EAAEuX,CAAC,GAAGe,MAAM,CAAC;IAClC,IAAI,CAAC+6B,MAAM,CAAC51D,CAAC,EAAE85B,CAAC,GAAGe,MAAM,CAAC;IAC1B,IAAI,CAACg7B,SAAS,CAAC,CAAC;EAClB;EACAolE,SAASA,CAACj7H,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,EAAEqgG,KAAK,EAAE;IACpCA,KAAK,GAAG99H,IAAI,CAAC6uB,GAAG,CAACivG,KAAK,EAAE34G,KAAK,GAAG,CAAC,EAAEsY,MAAM,GAAG,CAAC,CAAC;IAC9C,IAAI,CAAC86B,MAAM,CAAC31D,CAAC,EAAE85B,CAAC,GAAGohG,KAAK,CAAC;IACzB,IAAI,CAACC,GAAG,CAACn7H,CAAC,GAAGk7H,KAAK,EAAEphG,CAAC,GAAGohG,KAAK,EAAEA,KAAK,EAAE99H,IAAI,CAACwsC,EAAE,EAAE,GAAG,GAAGxsC,IAAI,CAACwsC,EAAE,CAAC;IAC7D,IAAI,CAACgsB,MAAM,CAAC51D,CAAC,GAAGk7H,KAAK,EAAEphG,CAAC,CAAC;IACzB,IAAI,CAAC87B,MAAM,CAAC51D,CAAC,GAAGuiB,KAAK,GAAG24G,KAAK,EAAEphG,CAAC,CAAC;IACjC,IAAI,CAACqhG,GAAG,CAACn7H,CAAC,GAAGuiB,KAAK,GAAG24G,KAAK,EAAEphG,CAAC,GAAGohG,KAAK,EAAEA,KAAK,EAAE,GAAG,GAAG99H,IAAI,CAACwsC,EAAE,EAAE,CAAC,GAAGxsC,IAAI,CAACwsC,EAAE,CAAC;IACzE,IAAI,CAACgsB,MAAM,CAAC51D,CAAC,GAAGuiB,KAAK,EAAEuX,CAAC,GAAGohG,KAAK,CAAC;IACjC,IAAI,CAACtlE,MAAM,CAAC51D,CAAC,GAAGuiB,KAAK,EAAEuX,CAAC,GAAGe,MAAM,GAAGqgG,KAAK,CAAC;IAC1C,IAAI,CAACC,GAAG,CAACn7H,CAAC,GAAGuiB,KAAK,GAAG24G,KAAK,EAAEphG,CAAC,GAAGe,MAAM,GAAGqgG,KAAK,EAAEA,KAAK,EAAE,CAAC,EAAE99H,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC;IACtE,IAAI,CAACgsB,MAAM,CAAC51D,CAAC,GAAGuiB,KAAK,GAAG24G,KAAK,EAAEphG,CAAC,GAAGe,MAAM,CAAC;IAC1C,IAAI,CAAC+6B,MAAM,CAAC51D,CAAC,GAAGk7H,KAAK,EAAEphG,CAAC,GAAGe,MAAM,CAAC;IAClC,IAAI,CAACsgG,GAAG,CAACn7H,CAAC,GAAG,CAACk7H,KAAK,EAAEphG,CAAC,GAAGe,MAAM,GAAGqgG,KAAK,EAAEA,KAAK,EAAE99H,IAAI,CAACwsC,EAAE,GAAG,CAAC,EAAExsC,IAAI,CAACwsC,EAAE,CAAC;IACrE,IAAI,CAACgsB,MAAM,CAAC51D,CAAC,EAAE85B,CAAC,GAAGe,MAAM,GAAGqgG,KAAK,CAAC;IAClC,IAAI,CAACrlE,SAAS,CAAC,CAAC;EAClB;EACAslE,GAAGA,CAACn7H,CAAC,EAAE85B,CAAC,EAAEzY,CAAC,EAAE+5G,MAAM,EAAEC,MAAM,EAAE9uD,gBAAgB,EAAE;IAC7C,IAAI,CAACuuD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACN,MAAM,CAACW,GAAG,CAACn7H,CAAC,EAAE85B,CAAC,EAAEzY,CAAC,EAAE+5G,MAAM,EAAEC,MAAM,EAAE9uD,gBAAgB,CAAC;IAC1D,IAAI,CAACsuD,QAAQ,CAACp0H,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;IAC/B,IAAI,CAAC0T,MAAM,CAAC1T,IAAI,CAACzG,CAAC,EAAE85B,CAAC,EAAEzY,CAAC,EAAE+5G,MAAM,EAAEC,MAAM,EAAE9uD,gBAAgB,GAAG,CAAC,GAAG,CAAC,CAAC;EACrE;EACA+uD,YAAYA,CAACC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAE17H,CAAC,EAAE85B,CAAC,EAAE;IACrC,IAAI,CAAC,IAAI,CAACghG,UAAU,EAAE;MACpB,IAAI,CAACnlE,MAAM,CAAC4lE,GAAG,EAAEC,GAAG,CAAC;IACvB;IACA,IAAI,CAAChB,MAAM,CAACmB,aAAa,CAACJ,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAE17H,CAAC,EAAE85B,CAAC,CAAC;IACnD,IAAI,CAAC+gG,QAAQ,CAACp0H,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC;IACjC,IAAI,CAAC0T,MAAM,CAAC1T,IAAI,CAAC80H,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAE17H,CAAC,EAAE85B,CAAC,CAAC;EAC5C;EACA+7B,SAASA,CAAA,EAAG;IACV,IAAI,IAAI,CAACilE,UAAU,EAAE;MACnB,IAAI,CAACN,MAAM,CAAC3kE,SAAS,CAAC,CAAC;MACvB,IAAI,CAACglE,QAAQ,CAACp0H,IAAI,CAAC,CAAC,CAAC,eAAe,CAAC;MACrC,IAAI,CAACq0H,UAAU,GAAG,KAAK;MACvB,IAAI,CAACC,UAAU,GAAG,IAAI;IACxB;EACF;EACA/3H,KAAKA,CAAC44H,YAAY,EAAE;IAClB,IAAIA,YAAY,EAAE;MAChB,IAAI,CAAClB,gBAAgB,GAAG,IAAI,CAACG,QAAQ;MACrC,IAAI,CAACF,cAAc,GAAG,IAAI,CAACxgH,MAAM;MACjC,IAAI,CAACygH,kBAAkB,GAAG,IAAI,CAACG,UAAU;IAC3C;IACA,IAAI,CAACP,MAAM,GAAG,IAAIC,MAAM,CAAC,CAAC;IAC1B,IAAI,CAACK,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACF,QAAQ,GAAG,EAAE;IAClB,IAAI,CAAC1gH,MAAM,GAAG,EAAE;EAClB;EACAi7C,aAAaA,CAACp1D,CAAC,EAAE85B,CAAC,EAAE;IAClB,MAAM+gG,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC9B,MAAM1gH,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1B,MAAM0hH,EAAE,GAAGhB,QAAQ,CAAC97H,MAAM;IAC1B,MAAM+8H,EAAE,GAAG,CAAC,GAAG;IACf,MAAMC,EAAE,GAAG,CAAC,GAAG;IACf,IAAIp7F,EAAE,GAAGpU,GAAG;IACZ,IAAIqU,EAAE,GAAGrU,GAAG;IACZ,IAAIugD,EAAE,GAAG,CAAC;IACV,IAAIC,EAAE,GAAG,CAAC;IACV,IAAIivD,iBAAiB,GAAG,CAAC;IACzB,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAG,CAAC,EAAED,EAAE,GAAGJ,EAAE,EAAEI,EAAE,EAAE,EAAE;MACtC,QAAQpB,QAAQ,CAACoB,EAAE,CAAC;QAClB,KAAK,CAAC,CAAC;UACLD,iBAAiB,IAAI7D,mBAAmB,CAACx3F,EAAE,EAAEC,EAAE,EAAEksC,EAAE,EAAEC,EAAE,EAAE+uD,EAAE,EAAEC,EAAE,EAAE/7H,CAAC,EAAE85B,CAAC,CAAC;UACtEgzC,EAAE,GAAG3yD,MAAM,CAAC+hH,EAAE,EAAE,CAAC;UACjBv7F,EAAE,GAAGmsC,EAAE;UACPC,EAAE,GAAG5yD,MAAM,CAAC+hH,EAAE,EAAE,CAAC;UACjBt7F,EAAE,GAAGmsC,EAAE;UACP;QACF,KAAK,CAAC,CAAC;UACLivD,iBAAiB,IAAI7D,mBAAmB,CAACrrD,EAAE,EAAEC,EAAE,EAAE5yD,MAAM,CAAC+hH,EAAE,EAAE,CAAC,EAAE/hH,MAAM,CAAC+hH,EAAE,EAAE,CAAC,EAAEJ,EAAE,EAAEC,EAAE,EAAE/7H,CAAC,EAAE85B,CAAC,CAAC;UAC1FgzC,EAAE,GAAG3yD,MAAM,CAAC+hH,EAAE,GAAG,CAAC,CAAC;UACnBnvD,EAAE,GAAG5yD,MAAM,CAAC+hH,EAAE,GAAG,CAAC,CAAC;UACnB;QACF,KAAK,CAAC,CAAC;UACLF,iBAAiB,IAAIlD,yBAAyB,CAC5ChsD,EAAE,EACFC,EAAE,EACF5yD,MAAM,CAAC+hH,EAAE,EAAE,CAAC,EACZ/hH,MAAM,CAAC+hH,EAAE,EAAE,CAAC,EACZ/hH,MAAM,CAAC+hH,EAAE,EAAE,CAAC,EACZ/hH,MAAM,CAAC+hH,EAAE,EAAE,CAAC,EACZ/hH,MAAM,CAAC+hH,EAAE,EAAE,CAAC,EACZ/hH,MAAM,CAAC+hH,EAAE,EAAE,CAAC,EACZJ,EAAE,EACFC,EAAE,EACF/7H,CAAC,EACD85B,CACF,CAAC;UACDgzC,EAAE,GAAG3yD,MAAM,CAAC+hH,EAAE,GAAG,CAAC,CAAC;UACnBnvD,EAAE,GAAG5yD,MAAM,CAAC+hH,EAAE,GAAG,CAAC,CAAC;UACnB;QACF,KAAK,CAAC,CAAC;UACL,MAAMz8F,EAAE,GAAGtlB,MAAM,CAAC+hH,EAAE,EAAE,CAAC;UACvB,MAAMx8F,EAAE,GAAGvlB,MAAM,CAAC+hH,EAAE,EAAE,CAAC;UACvB,MAAM76G,CAAC,GAAGlH,MAAM,CAAC+hH,EAAE,EAAE,CAAC;UACtB,MAAMvgF,UAAU,GAAGxhC,MAAM,CAAC+hH,EAAE,EAAE,CAAC;UAC/B,MAAMtgF,QAAQ,GAAGzhC,MAAM,CAAC+hH,EAAE,EAAE,CAAC;UAC7B,MAAM3vD,gBAAgB,GAAG74C,OAAO,CAACvZ,MAAM,CAAC+hH,EAAE,EAAE,CAAC,CAAC;UAC9CF,iBAAiB,IAAI/B,gBAAgB,CACnCx6F,EAAE,EACFC,EAAE,EACFre,CAAC,EACDs6B,UAAU,EACVC,QAAQ,EACR2wB,gBAAgB,EAChBuvD,EAAE,EACFC,EAAE,EACF/7H,CAAC,EACD85B,CACF,CAAC;UACD,IAAI,CAACtoB,KAAK,CAACmvB,EAAE,CAAC,EAAE;YACd,MAAM6rC,MAAM,GAAG/sC,EAAE,GAAGriC,IAAI,CAAC6jC,GAAG,CAAC0a,UAAU,CAAC,GAAGt6B,CAAC;YAC5C,MAAMorD,MAAM,GAAG/sC,EAAE,GAAGtiC,IAAI,CAAC8jC,GAAG,CAACya,UAAU,CAAC,GAAGt6B,CAAC;YAC5C26G,iBAAiB,IAAI7D,mBAAmB,CAACrrD,EAAE,EAAEC,EAAE,EAAEP,MAAM,EAAEC,MAAM,EAAEqvD,EAAE,EAAEC,EAAE,EAAE/7H,CAAC,EAAE85B,CAAC,CAAC;UAChF;UACAgzC,EAAE,GAAGrtC,EAAE,GAAGriC,IAAI,CAAC6jC,GAAG,CAAC2a,QAAQ,CAAC,GAAGv6B,CAAC;UAChC0rD,EAAE,GAAGrtC,EAAE,GAAGtiC,IAAI,CAAC8jC,GAAG,CAAC0a,QAAQ,CAAC,GAAGv6B,CAAC;UAChC;QACF,KAAK,CAAC,CAAC;UACL26G,iBAAiB,IAAI7D,mBAAmB,CAACx3F,EAAE,EAAEC,EAAE,EAAEksC,EAAE,EAAEC,EAAE,EAAE+uD,EAAE,EAAEC,EAAE,EAAE/7H,CAAC,EAAE85B,CAAC,CAAC;UACtE;MACJ;IACF;IACA,OAAOkiG,iBAAiB,GAAG,CAAC,KAAK,CAAC;EACpC;EACA9hG,eAAeA,CAACl6B,CAAC,EAAE85B,CAAC,EAAE;IACpB,IAAIqyC,IAAI,GAAGjgD,QAAQ;IACnB,MAAM2uG,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC9B,MAAM1gH,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1B,MAAM0hH,EAAE,GAAGhB,QAAQ,CAAC97H,MAAM;IAC1B,IAAI4hC,EAAE,GAAGpU,GAAG;IACZ,IAAIqU,EAAE,GAAGrU,GAAG;IACZ,IAAIugD,EAAE,GAAG,CAAC;IACV,IAAIC,EAAE,GAAG,CAAC;IACV,KAAK,IAAIkvD,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAG,CAAC,EAAED,EAAE,GAAGJ,EAAE,EAAEI,EAAE,EAAE,EAAE;MACtC,QAAQpB,QAAQ,CAACoB,EAAE,CAAC;QAClB,KAAK,CAAC,CAAC;UACLnvD,EAAE,GAAGnsC,EAAE,GAAGxmB,MAAM,CAAC+hH,EAAE,EAAE,CAAC;UACtBnvD,EAAE,GAAGnsC,EAAE,GAAGzmB,MAAM,CAAC+hH,EAAE,EAAE,CAAC;UACtB;QACF,KAAK,CAAC,CAAC;UAAY;YACjB,MAAMC,EAAE,GAAGhiH,MAAM,CAAC+hH,EAAE,EAAE,CAAC;YACvB,MAAME,EAAE,GAAGjiH,MAAM,CAAC+hH,EAAE,EAAE,CAAC;YACvB/vD,IAAI,GAAGD,mBAAmB,CAAClsE,CAAC,EAAE85B,CAAC,EAAEgzC,EAAE,EAAEC,EAAE,EAAEovD,EAAE,EAAEC,EAAE,EAAEjwD,IAAI,CAAC;YACtD;UACF;QACA,KAAK,CAAC,CAAC;UACLxnE,MAAM,CAACM,KAAK,CAAC,8CAA8C,CAAC;UAC5D;QACF,KAAK,CAAC,CAAC;UAAW;YAChB,MAAMw6B,EAAE,GAAGtlB,MAAM,CAAC+hH,EAAE,EAAE,CAAC;YACvB,MAAMx8F,EAAE,GAAGvlB,MAAM,CAAC+hH,EAAE,EAAE,CAAC;YACvB,MAAM76G,CAAC,GAAGlH,MAAM,CAAC+hH,EAAE,EAAE,CAAC;YACtB,MAAMvgF,UAAU,GAAGxhC,MAAM,CAAC+hH,EAAE,EAAE,CAAC;YAC/B,MAAMtgF,QAAQ,GAAGzhC,MAAM,CAAC+hH,EAAE,EAAE,CAAC;YAC7B,MAAM1vD,MAAM,GAAG/sC,EAAE,GAAGriC,IAAI,CAAC6jC,GAAG,CAAC0a,UAAU,CAAC,GAAGt6B,CAAC;YAC5C,MAAMorD,MAAM,GAAG/sC,EAAE,GAAGtiC,IAAI,CAAC8jC,GAAG,CAACya,UAAU,CAAC,GAAGt6B,CAAC;YAC5C,MAAMkrD,gBAAgB,GAAG74C,OAAO,CAACvZ,MAAM,CAAC+hH,EAAE,EAAE,CAAC,CAAC;YAC9C/vD,IAAI,GAAGD,mBAAmB,CAAClsE,CAAC,EAAE85B,CAAC,EAAEgzC,EAAE,EAAEC,EAAE,EAAEP,MAAM,EAAEC,MAAM,EAAEN,IAAI,CAAC;YAC9DA,IAAI,GAAGG,kBAAkB,CAACtsE,CAAC,EAAE85B,CAAC,EAAE2F,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEs6B,UAAU,EAAEC,QAAQ,EAAE2wB,gBAAgB,EAAEJ,IAAI,CAAC;YACxFW,EAAE,GAAGrtC,EAAE,GAAGriC,IAAI,CAAC6jC,GAAG,CAAC2a,QAAQ,CAAC,GAAGv6B,CAAC;YAChC0rD,EAAE,GAAGrtC,EAAE,GAAGtiC,IAAI,CAAC8jC,GAAG,CAAC0a,QAAQ,CAAC,GAAGv6B,CAAC;YAChC;UACF;QACA,KAAK,CAAC,CAAC;UACL8qD,IAAI,GAAGD,mBAAmB,CAAClsE,CAAC,EAAE85B,CAAC,EAAEgzC,EAAE,EAAEC,EAAE,EAAEpsC,EAAE,EAAEC,EAAE,EAAEurC,IAAI,CAAC;UACtD;MACJ;IACF;IACA,OAAOA,IAAI;EACb;EACAkwD,SAASA,CAAA,EAAG;IACV,MAAM;MAAExB,QAAQ;MAAE1gH;IAAO,CAAC,GAAG,IAAI;IACjC,MAAMmgF,MAAM,GAAG,EAAE;IACjB,IAAI4hC,EAAE,GAAG,CAAC;IACV,KAAK,IAAID,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGpB,QAAQ,CAAC97H,MAAM,EAAEk9H,EAAE,EAAE,EAAE;MAC3C,QAAQpB,QAAQ,CAACoB,EAAE,CAAC;QAClB,KAAK,CAAC,CAAC;QACP,KAAK,CAAC,CAAC;UACL3hC,MAAM,CAAC7zF,IAAI,CAAC;YAAEzG,CAAC,EAAEma,MAAM,CAAC+hH,EAAE,EAAE,CAAC;YAAEpiG,CAAC,EAAE3f,MAAM,CAAC+hH,EAAE,EAAE;UAAE,CAAC,CAAC;UACjD;QACF,KAAK,CAAC,CAAC;UACLA,EAAE,IAAI,CAAC;UACP5hC,MAAM,CAAC7zF,IAAI,CAAC;YAAEzG,CAAC,EAAEma,MAAM,CAAC+hH,EAAE,EAAE,CAAC;YAAEpiG,CAAC,EAAE3f,MAAM,CAAC+hH,EAAE,EAAE;UAAE,CAAC,CAAC;UACjD;QACF,KAAK,CAAC,CAAC;UACL5hC,MAAM,CAAC7zF,IAAI,CAAC;YAAEzG,CAAC,EAAEma,MAAM,CAAC+hH,EAAE,EAAE,CAAC;YAAEpiG,CAAC,EAAE3f,MAAM,CAAC+hH,EAAE,EAAE;UAAE,CAAC,CAAC;UACjDA,EAAE,IAAI,CAAC;UACP;QACF,KAAK,CAAC,CAAC;UACL;MACJ;IACF;IACA,OAAO5hC,MAAM;EACf;AACF,CAAC;;AAED;AACA,SAASgiC,wBAAwBA,CAACxiH,IAAI,EAAE;EACtC,MAAM;IAAEojB,MAAM,GAAG,CAAC,CAAC;IAAaL,QAAQ;IAAEC;EAAU,CAAC,GAAGhjB,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,CAAC,CAAC;EAChF,OAAO8iB,oBAAoB,CAAC;IAAEM,MAAM;IAAEvwB,IAAI,EAAE,MAAM;IAAEmwB,SAAS;IAAED;EAAS,CAAC,CAAC;AAC5E;AACA,IAAI0/F,IAAI,GAAG,cAAclnE,KAAK,CAAC;EAC7B/vD,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB;AACJ;AACA;AACA;AACA;IACI,IAAI,CAAC/vC,IAAI,GAAG,IAAI0mH,cAAc,CAAC,CAAC;IAChC,IAAI,CAACiC,MAAM,GAAGjwG,GAAG;IACjB,IAAI,CAACkwG,MAAM,GAAGlwG,GAAG;IACjB;AACJ;AACA;AACA;AACA;AACA;IACI,IAAI,CAACiR,UAAU,GAAG,IAAI;EACxB;EACA,IAAIk/F,KAAKA,CAACj/H,KAAK,EAAE;IACf,IAAI,CAAC++H,MAAM,GAAG/+H,KAAK;IACnB,IAAI,CAACknH,SAAS,GAAG,IAAI;EACvB;EACA,IAAIgY,KAAKA,CAACl/H,KAAK,EAAE;IACf,IAAI,CAACg/H,MAAM,GAAGh/H,KAAK;IACnB,IAAI,CAACknH,SAAS,GAAG,IAAI;EACvB;EACA,IAAIA,SAASA,CAAClnH,KAAK,EAAE;IACnB,IAAI,IAAI,CAAC+/B,UAAU,KAAK//B,KAAK,EAAE;MAC7B,IAAI,CAAC+/B,UAAU,GAAG//B,KAAK;MACvB,IAAIA,KAAK,EAAE;QACT,IAAI,CAAC6/B,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,WAAW,CAAC;MACrC;IACF;EACF;EACA,IAAIqnF,SAASA,CAAA,EAAG;IACd,OAAO,IAAI,CAACnnF,UAAU;EACxB;EACAqnF,cAAcA,CAAA,EAAG;IACf,IAAIz+G,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,IAAI,IAAI,CAACkmB,UAAU,EAAE;MACnB;IACF;IACA,IAAI,CAACmnF,SAAS,GAAG,IAAI,CAAC9wG,IAAI,CAACkqB,OAAO,CAAC,CAAC,KAAK,CAACrnB,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACmtD,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGntD,EAAE,CAAC23B,OAAO,CAAC,CAAC,KAAK,IAAI,GAAGrnB,EAAE,GAAG,KAAK,CAAC,KAAK,CAACY,EAAE,GAAG,CAACX,EAAE,GAAG,IAAI,CAACimH,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjmH,EAAE,CAAConB,OAAO,CAAC,CAAC,KAAK,IAAI,GAAGzmB,EAAE,GAAG,KAAK,CAAC;EACrN;EACA89C,aAAaA,CAACp1D,CAAC,EAAE85B,CAAC,EAAE;IAClB,MAAM49B,KAAK,GAAG,IAAI,CAACl9B,cAAc,CAACx6B,CAAC,EAAE85B,CAAC,CAAC;IACvC,OAAO,IAAI,CAACjmB,IAAI,CAACknH,UAAU,IAAI,IAAI,CAAClnH,IAAI,CAACuhD,aAAa,CAACsC,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;EAC1E;EACAI,eAAeA,CAACl6B,CAAC,EAAE85B,CAAC,EAAE;IACpB,MAAM49B,KAAK,GAAG,IAAI,CAACl9B,cAAc,CAACx6B,CAAC,EAAE85B,CAAC,CAAC;IACvC,OAAO,IAAI,CAACjmB,IAAI,CAACqmB,eAAe,CAACw9B,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;EACpD;EACA+iG,WAAWA,CAAA,EAAG;IACZ,OAAO,KAAK;EACd;EACAjY,UAAUA,CAAA,EAAG,CACb;EACA1/E,MAAMA,CAACC,SAAS,EAAE;IAChB,IAAI/+B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;IACtB,MAAM;MAAE+M,GAAG;MAAE4wB,WAAW;MAAEtrB;IAAM,CAAC,GAAGD,SAAS;IAC7C,IAAI,IAAI,CAACI,KAAK,KAAK,CAAC,CAAC,cAAc,CAACmrB,WAAW,EAAE;MAC/C,IAAItrB,KAAK,EACPA,KAAK,CAAC+rB,YAAY,IAAI,IAAI,CAACxrB,SAAS,CAAC3Q,KAAK;MAC5C;IACF;IACA,IAAI,CAACqP,sBAAsB,CAAC,CAAC;IAC7B,IAAI,CAAClE,MAAM,CAACN,SAAS,CAACC,GAAG,CAAC;IAC1B,IAAI,IAAI,CAAC6kF,SAAS,IAAI,IAAI,CAACkY,WAAW,CAAC,CAAC,EAAE;MACxC,IAAI,CAACjY,UAAU,CAAC,CAAC;MACjB,IAAI,CAACD,SAAS,GAAG,KAAK;IACxB;IACA,IAAI,CAACnzG,KAAK,CAAC,IAAI,CAACgrH,MAAM,CAAC,IAAI,CAAChrH,KAAK,CAAC,IAAI,CAACirH,MAAM,CAAC,IAAI,IAAI,CAACK,QAAQ,IAAI,IAAI,EAAE;MACvEh9F,GAAG,CAACuxB,IAAI,CAAC,CAAC;MACV,MAAM8oD,MAAM,GAAG,IAAI,CAACn3F,WAAW,GAAG,CAAC;MACnC,CAAC5c,EAAE,GAAG,IAAI,CAACw2H,SAAS,KAAK,IAAI,GAAGx2H,EAAE,GAAG,IAAI,CAACw2H,SAAS,GAAG,IAAIrC,cAAc,CAAC,CAAC;MAC1E,IAAI,CAACqC,SAAS,CAAC55H,KAAK,CAAC,CAAC;MACtB,IAAI,CAAC45H,SAAS,CAACnrE,IAAI,CAAC,CAAC0oD,MAAM,EAAE,CAACA,MAAM,EAAE,IAAI,CAACqiB,MAAM,GAAGriB,MAAM,EAAE,IAAI,CAACsiB,MAAM,GAAGtiB,MAAM,GAAGA,MAAM,CAAC;MAC1F,IAAI,IAAI,CAAC2iB,QAAQ,KAAK,QAAQ,EAAE;QAC9Bh9F,GAAG,CAACxE,IAAI,CAAC,CAAC5kB,EAAE,GAAG,IAAI,CAACkmH,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlmH,EAAE,CAACskH,SAAS,CAAC,CAAC,CAAC;MACnE;MACA,IAAI,IAAI,CAACwB,MAAM,GAAG,CAAC,IAAI,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;QACtC,IAAI,CAACM,QAAQ,CAACj9F,GAAG,CAAC;MACpB;MACA,IAAI,IAAI,CAACg9F,QAAQ,KAAK,WAAW,EAAE;QACjCh9F,GAAG,CAACxE,IAAI,CAAC,CAAC3kB,EAAE,GAAG,IAAI,CAACimH,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjmH,EAAE,CAACqkH,SAAS,CAAC,CAAC,CAAC;QACjE,MAAM;UAAEh7H,CAAC,GAAG,CAAC,GAAG;UAAE85B,CAAC,GAAG,CAAC,GAAG;UAAEvX,KAAK,GAAG,GAAG;UAAEsY,MAAM,GAAG;QAAI,CAAC,GAAG,CAACvjB,EAAE,GAAG,IAAI,CAACytB,WAAW,CAAC,CAAC,KAAK,IAAI,GAAGztB,EAAE,GAAG,CAAC,CAAC;QACrGwoB,GAAG,CAACusD,SAAS,CAACrsF,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;MACpC;MACAiF,GAAG,CAACgyB,OAAO,CAAC,CAAC;IACf,CAAC,MAAM;MACL,IAAI,CAACirE,QAAQ,CAACj9F,GAAG,CAAC;IACpB;IACA,CAAC/M,EAAE,GAAG,IAAI,CAACwgC,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGxgC,EAAE,CAAC8K,SAAS,CAAC,CAAC;IACxD,KAAK,CAACqH,MAAM,CAACC,SAAS,CAAC;EACzB;EACA43F,QAAQA,CAACj9F,GAAG,EAAE;IACZ,IAAI,CAACq0B,UAAU,CAACr0B,GAAG,EAAE,IAAI,CAACjsB,IAAI,CAACmnH,SAAS,CAAC,CAAC,CAAC;EAC7C;AACF,CAAC;AACDuB,IAAI,CAACnkH,SAAS,GAAG,MAAM;AACvB1Z,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEC,IAAI,CAAChgI,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACjCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEC,IAAI,CAAChgI,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9BmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEC,IAAI,CAAChgI,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;;AAE9B;AACA,IAAIygI,eAAe,GAAG,MAAM;EAC1B13H,WAAWA,CAAC23H,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IACxC,IAAI,CAACtrD,IAAI,GAAG,IAAIurD,mBAAmB,CAACH,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,CAAC;EACnE;EACAn6H,KAAKA,CAACm6H,QAAQ,EAAE;IACd,IAAI,CAACtrD,IAAI,CAAC7uE,KAAK,CAACm6H,QAAQ,CAAC;EAC3B;EACAE,QAAQA,CAACC,SAAS,EAAE7/H,KAAK,EAAE;IACzB,MAAM8/H,IAAI,GAAG;MACXD,SAAS;MACT7/H,KAAK;MACLy8B,eAAe,EAAEA,CAACl6B,CAAC,EAAE85B,CAAC,KAAK;QACzB,OAAOwjG,SAAS,CAACpjG,eAAe,CAACl6B,CAAC,EAAE85B,CAAC,CAAC;MACxC;IACF,CAAC;IACD,IAAI,CAAC+3C,IAAI,CAAC2rD,OAAO,CAACD,IAAI,CAAC;EACzB;EACA9wH,IAAIA,CAACzM,CAAC,EAAE85B,CAAC,EAAE;IACT,MAAM2jG,GAAG,GAAG;MAAEtxD,IAAI,EAAE;QAAElyC,OAAO,EAAE,KAAK,CAAC;QAAEC,eAAe,EAAEhO;MAAS;IAAE,CAAC;IACpE,IAAI,CAAC2lD,IAAI,CAACplE,IAAI,CAACzM,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,CAAC;IACzB,OAAOA,GAAG,CAACtxD,IAAI;EACjB;AACF,CAAC;AACD,IAAIuxD,oBAAoB,GAAG,MAAM;EAC/Bp4H,WAAWA,CAACq4H,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE;IAC1B,IAAI,CAACH,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,EAAE,GAAGA,EAAE;EACd;EACAN,OAAOA,CAACD,IAAI,EAAE;IACZ,IAAI,CAACI,EAAE,CAACH,OAAO,CAACD,IAAI,CAAC;IACrB,IAAI,CAACK,EAAE,CAACJ,OAAO,CAACD,IAAI,CAAC;IACrB,IAAI,CAACM,EAAE,CAACL,OAAO,CAACD,IAAI,CAAC;IACrB,IAAI,CAACO,EAAE,CAACN,OAAO,CAACD,IAAI,CAAC;EACvB;EACA9wH,IAAIA,CAACzM,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,EAAE;IACd,IAAI,CAACE,EAAE,CAAClxH,IAAI,CAACzM,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,CAAC;IACvB,IAAI,CAACG,EAAE,CAACnxH,IAAI,CAACzM,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,CAAC;IACvB,IAAI,CAACI,EAAE,CAACpxH,IAAI,CAACzM,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,CAAC;IACvB,IAAI,CAACK,EAAE,CAACrxH,IAAI,CAACzM,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,CAAC;EACzB;AACF,CAAC;AACD,IAAIM,YAAY,GAAG,MAAM;EACvBz4H,WAAWA,CAAC23H,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IACxC,IAAI,CAACF,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,QAAQ,GAAGA,QAAQ,IAAI,IAAI,GAAGA,QAAQ,GAAG7gG,IAAI,CAAC/P,GAAG;IACtD,IAAI,CAACyxG,KAAK,GAAG,EAAE;IACf,IAAI,CAACC,YAAY,GAAG,KAAK,CAAC;EAC5B;EACAj7H,KAAKA,CAACm6H,QAAQ,EAAE;IACd,IAAI,CAACa,KAAK,CAACj/H,MAAM,GAAG,CAAC;IACrB,IAAI,CAACo+H,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACc,YAAY,GAAG,KAAK,CAAC;EAC5B;EACAT,OAAOA,CAAC39H,CAAC,EAAE;IACT,IAAI,IAAI,CAACq+H,YAAY,CAACr+H,CAAC,CAAC,EAAE;MACxB,IAAI,IAAI,CAACo+H,YAAY,KAAK,KAAK,CAAC,EAAE;QAChC,IAAI,IAAI,CAACf,QAAQ,KAAK,CAAC,IAAI,IAAI,CAACc,KAAK,CAACj/H,MAAM,GAAG,IAAI,CAACk+H,QAAQ,EAAE;UAC5D,IAAI,CAACe,KAAK,CAACv3H,IAAI,CAAC5G,CAAC,CAAC;QACpB,CAAC,MAAM;UACL,IAAI,CAACs+H,SAAS,CAACt+H,CAAC,CAAC;QACnB;MACF,CAAC,MAAM;QACL,IAAI,CAACo+H,YAAY,CAACT,OAAO,CAAC39H,CAAC,CAAC;MAC9B;IACF;EACF;EACA4M,IAAIA,CAACzM,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,EAAE;IACd,IAAI,IAAI,CAACW,aAAa,CAACp+H,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,CAAC,EAAE;MACjC,IAAI,IAAI,CAACQ,YAAY,KAAK,KAAK,CAAC,EAAE;QAChC,IAAI,CAACI,UAAU,CAACr+H,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,CAAC;MAC5B,CAAC,MAAM;QACL,IAAI,CAACQ,YAAY,CAACxxH,IAAI,CAACzM,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,CAAC;MACnC;IACF;EACF;EACAU,SAASA,CAACG,OAAO,EAAE;IACjB,IAAI,CAACL,YAAY,GAAG,IAAI,CAACM,gBAAgB,CAAC,CAAC;IAC3C,KAAK,MAAM1+H,CAAC,IAAI,IAAI,CAACm+H,KAAK,EAAE;MAC1B,IAAI,CAACC,YAAY,CAACT,OAAO,CAAC39H,CAAC,CAAC;IAC9B;IACA,IAAI,CAACo+H,YAAY,CAACT,OAAO,CAACc,OAAO,CAAC;IAClC,IAAI,CAACN,KAAK,CAACj/H,MAAM,GAAG,CAAC;EACvB;EACAw/H,gBAAgBA,CAAA,EAAG;IACjB,MAAM;MAAEv+H,CAAC;MAAE85B,CAAC;MAAEvX,KAAK;MAAEsY;IAAO,CAAC,GAAG,IAAI,CAACsiG,QAAQ;IAC7C,MAAM;MAAEF;IAAS,CAAC,GAAG,IAAI;IACzB,MAAM13C,KAAK,GAAG,IAAI,CAAC23C,QAAQ,GAAG,CAAC;IAC/B,MAAMsB,SAAS,GAAGj8G,KAAK,GAAG,CAAC;IAC3B,MAAMk8G,UAAU,GAAG5jG,MAAM,GAAG,CAAC;IAC7B,MAAM6jG,UAAU,GAAG,IAAIpiG,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,EAAE0kG,SAAS,EAAEC,UAAU,CAAC;IACxD,MAAME,UAAU,GAAG,IAAIriG,IAAI,CAACt8B,CAAC,GAAGw+H,SAAS,EAAE1kG,CAAC,EAAE0kG,SAAS,EAAEC,UAAU,CAAC;IACpE,MAAMG,UAAU,GAAG,IAAItiG,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,GAAG2kG,UAAU,EAAED,SAAS,EAAEC,UAAU,CAAC;IACrE,MAAMI,UAAU,GAAG,IAAIviG,IAAI,CAACt8B,CAAC,GAAGw+H,SAAS,EAAE1kG,CAAC,GAAG2kG,UAAU,EAAED,SAAS,EAAEC,UAAU,CAAC;IACjF,OAAO,IAAIf,oBAAoB,CAC7B,IAAI,CAACjjG,KAAK,CAACwiG,QAAQ,EAAE13C,KAAK,EAAEm5C,UAAU,CAAC,EACvC,IAAI,CAACjkG,KAAK,CAACwiG,QAAQ,EAAE13C,KAAK,EAAEo5C,UAAU,CAAC,EACvC,IAAI,CAAClkG,KAAK,CAACwiG,QAAQ,EAAE13C,KAAK,EAAEq5C,UAAU,CAAC,EACvC,IAAI,CAACnkG,KAAK,CAACwiG,QAAQ,EAAE13C,KAAK,EAAEs5C,UAAU,CACxC,CAAC;EACH;AACF,CAAC;AACD,IAAIzB,mBAAmB,GAAG,MAAM0B,oBAAoB,SAASf,YAAY,CAAC;EACxEG,YAAYA,CAACr+H,CAAC,EAAE;IACd,MAAM;MAAEG,CAAC;MAAE85B;IAAE,CAAC,GAAGj6B,CAAC,CAACy9H,SAAS,CAACl1B,QAAQ;IACrC,OAAO,IAAI,CAAC+0B,QAAQ,CAACpiG,aAAa,CAAC/6B,CAAC,EAAE85B,CAAC,CAAC;EAC1C;EACAskG,aAAaA,CAACp+H,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,EAAE;IACvB,MAAM;MAAEtxD;IAAK,CAAC,GAAGsxD,GAAG;IACpB,OAAOtxD,IAAI,CAACjyC,eAAe,KAAK,CAAC,IAAI,IAAI,CAACijG,QAAQ,CAACjjG,eAAe,CAACl6B,CAAC,EAAE85B,CAAC,CAAC,GAAGqyC,IAAI,CAACjyC,eAAe;EACjG;EACAmkG,UAAUA,CAACr+H,CAAC,EAAE85B,CAAC,EAAE2jG,GAAG,EAAE;IACpB,MAAM/wH,KAAK,GAAGmtB,cAAc,CAAC75B,CAAC,EAAE85B,CAAC,EAAE,IAAI,CAACkkG,KAAK,EAAEP,GAAG,CAACtxD,IAAI,CAACjyC,eAAe,CAAC;IACxE,IAAIxtB,KAAK,CAACutB,OAAO,KAAK,KAAK,CAAC,IAAIvtB,KAAK,CAACwtB,eAAe,GAAGujG,GAAG,CAACtxD,IAAI,CAACjyC,eAAe,EAAE;MAChFujG,GAAG,CAACtxD,IAAI,GAAGz/D,KAAK;IAClB;EACF;EACA+tB,KAAKA,CAACwiG,QAAQ,EAAE13C,KAAK,EAAE43C,QAAQ,EAAE;IAC/B,OAAO,IAAI2B,oBAAoB,CAAC7B,QAAQ,EAAE13C,KAAK,EAAE43C,QAAQ,CAAC;EAC5D;AACF,CAAC;;AAED;AACA,IAAI4B,MAAM,GAAG,cAAcxC,IAAI,CAAC;EAC9Bj3H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC5jD,CAAC,GAAG,CAAC;IACV,IAAI,CAAC85B,CAAC,GAAG,CAAC;IACV,IAAI,CAACpW,IAAI,GAAG,EAAE;EAChB;EACAqhB,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAE/kC,CAAC;MAAE85B,CAAC;MAAEpW;IAAK,CAAC,GAAG,IAAI;IAC3B,MAAM;MAAE2qD;IAAO,CAAC,GAAG,IAAI,CAAC/oE,WAAW;IACnC,OAAO,IAAIg3B,IAAI,CAACt8B,CAAC,GAAG0jB,IAAI,GAAG2qD,MAAM,CAACruE,CAAC,EAAE85B,CAAC,GAAGpW,IAAI,GAAG2qD,MAAM,CAACv0C,CAAC,EAAEpW,IAAI,EAAEA,IAAI,CAAC;EACvE;EACAs7G,SAASA,CAACn4H,CAAC,EAAEo4H,KAAK,EAAE;IAClB,MAAM;MAAEprH;IAAK,CAAC,GAAG,IAAI;IACrB,IAAI;MAAE7T,CAAC;MAAE85B;IAAE,CAAC,GAAG,IAAI;IACnB,IAAI,IAAI,CAAC+uB,MAAM,IAAI,IAAI,EAAE;MACvB7oD,CAAC,GAAG,CAAC;MACL85B,CAAC,GAAG,CAAC;IACP;IACAjmB,IAAI,CAAC7Q,KAAK,CAAC,CAAC;IACZ,KAAK,MAAM;MAAEhD,CAAC,EAAEk/H,EAAE;MAAEplG,CAAC,EAAEqlG,EAAE;MAAElqH;IAAE,CAAC,IAAIgqH,KAAK,EAAE;MACvCj/H,CAAC,IAAIk/H,EAAE,GAAGr4H,CAAC;MACXizB,CAAC,IAAIqlG,EAAE,GAAGt4H,CAAC;MACX,IAAIoO,CAAC,KAAK,MAAM,EAAE;QAChBpB,IAAI,CAAC8hD,MAAM,CAAC31D,CAAC,EAAE85B,CAAC,CAAC;MACnB,CAAC,MAAM;QACLjmB,IAAI,CAAC+hD,MAAM,CAAC51D,CAAC,EAAE85B,CAAC,CAAC;MACnB;IACF;IACAjmB,IAAI,CAACgiD,SAAS,CAAC,CAAC;EAClB;EACApB,WAAWA,CAAC30B,GAAG,EAAEjsB,IAAI,EAAE;IACrB,IAAI,CAACA,IAAI,EACP;IACF,IAAI,IAAI,CAACg1C,MAAM,IAAI,IAAI,EAAE;MACvB,OAAO,KAAK,CAAC4L,WAAW,CAAC30B,GAAG,EAAEjsB,IAAI,CAAC;IACrC;IACAisB,GAAG,CAACuxB,IAAI,CAAC,CAAC;IACV,IAAIrxD,CAAC,GAAG,IAAI,CAACugC,YAAY;IACzB,IAAIzG,CAAC,GAAG,IAAI,CAAC0G,YAAY;IACzB,KAAK,MAAM63C,WAAW,IAAI,IAAI,CAACxvB,MAAM,EAAE;MACrC/oB,GAAG,CAACs/F,SAAS,CAAC/mD,WAAW,CAACr4E,CAAC,GAAGA,CAAC,EAAEq4E,WAAW,CAACv+C,CAAC,GAAGA,CAAC,CAAC;MACnDgG,GAAG,CAAChd,IAAI,CAACjP,IAAI,CAAC;MACd7T,CAAC,GAAGq4E,WAAW,CAACr4E,CAAC;MACjB85B,CAAC,GAAGu+C,WAAW,CAACv+C,CAAC;IACnB;IACAgG,GAAG,CAACgyB,OAAO,CAAC,CAAC;EACf;EACAqD,aAAaA,CAACr1B,GAAG,EAAEjsB,IAAI,EAAE;IACvB,IAAI,CAACA,IAAI,EACP;IACF,IAAI,IAAI,CAACg1C,MAAM,IAAI,IAAI,EAAE;MACvB,OAAO,KAAK,CAACsM,aAAa,CAACr1B,GAAG,EAAEjsB,IAAI,CAAC;IACvC;IACAisB,GAAG,CAACuxB,IAAI,CAAC,CAAC;IACV,IAAIrxD,CAAC,GAAG,IAAI,CAACugC,YAAY;IACzB,IAAIzG,CAAC,GAAG,IAAI,CAAC0G,YAAY;IACzB,KAAK,MAAM63C,WAAW,IAAI,IAAI,CAACxvB,MAAM,EAAE;MACrC/oB,GAAG,CAACs/F,SAAS,CAAC/mD,WAAW,CAACr4E,CAAC,GAAGA,CAAC,EAAEq4E,WAAW,CAACv+C,CAAC,GAAGA,CAAC,CAAC;MACnDgG,GAAG,CAACnd,MAAM,CAAC9O,IAAI,CAAC;MAChB7T,CAAC,GAAGq4E,WAAW,CAACr4E,CAAC;MACjB85B,CAAC,GAAGu+C,WAAW,CAACv+C,CAAC;IACnB;IACAgG,GAAG,CAACgyB,OAAO,CAAC,CAAC;EACf;AACF,CAAC;AACDitE,MAAM,CAAC1wD,MAAM,GAAG;EAAEruE,CAAC,EAAE,GAAG;EAAE85B,CAAC,EAAE;AAAI,CAAC;AAClCp7B,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEyC,MAAM,CAACxiI,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC;AAC5BmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEyC,MAAM,CAACxiI,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC;AAC5BmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC;EAAEx/F,SAAS,EAAE1/B,IAAI,CAAC27B;AAAI,CAAC,CAAC,CAClD,EAAEgmG,MAAM,CAACxiI,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC/BmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEyC,MAAM,CAACxiI,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;;AAEjC;AACA,IAAI8iI,MAAM,GAAG,cAAcN,MAAM,CAAC;EAChCna,UAAUA,CAAA,EAAG;IACX,MAAM;MAAE5kH,CAAC;MAAE85B,CAAC;MAAEjmB,IAAI;MAAE6P;IAAK,CAAC,GAAG,IAAI;IACjC,MAAMrC,CAAC,GAAGqC,IAAI,GAAG,CAAC;IAClB7P,IAAI,CAAC7Q,KAAK,CAAC,CAAC;IACZ6Q,IAAI,CAACsnH,GAAG,CAACn7H,CAAC,EAAE85B,CAAC,EAAEzY,CAAC,EAAE,CAAC,EAAEjkB,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC;IACjC/1B,IAAI,CAACgiD,SAAS,CAAC,CAAC;EAClB;AACF,CAAC;AACDwpE,MAAM,CAACjnH,SAAS,GAAG,QAAQ;;AAE3B;AACA,IAAIknH,MAAM,GAAG,MAAMA,MAAM,SAASP,MAAM,CAAC;EACvCna,UAAUA,CAAA,EAAG;IACX,MAAM/9G,CAAC,GAAG,IAAI,CAAC6c,IAAI,GAAG,GAAG;IACzB,KAAK,CAACs7G,SAAS,CAACn4H,CAAC,EAAEy4H,MAAM,CAACL,KAAK,CAAC;EAClC;AACF,CAAC;AACDK,MAAM,CAAClnH,SAAS,GAAG,OAAO;AAC1BknH,MAAM,CAACL,KAAK,GAAG,CACb;EAAEj/H,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE,CAAC;EAAE7kB,CAAC,EAAE;AAAO,CAAC,EAC1B;EAAEjV,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE,CAAC;AAAE,CAAC,EAChB;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE,CAAC;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACd;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE,CAAC;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACd;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACd;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE,CAAC;AAAE,CAAC,EAChB;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE,CAAC;AAAE,CAAC,CACjB;AACD,IAAIylG,KAAK,GAAGD,MAAM;;AAElB;AACA,IAAIE,QAAQ,GAAG,MAAMA,QAAQ,SAAST,MAAM,CAAC;EAC3Cna,UAAUA,CAAA,EAAG;IACX,MAAM/9G,CAAC,GAAG,IAAI,CAAC6c,IAAI,GAAG,CAAC;IACvB,KAAK,CAACs7G,SAAS,CAACn4H,CAAC,EAAE24H,QAAQ,CAACP,KAAK,CAAC;EACpC;AACF,CAAC;AACDO,QAAQ,CAACpnH,SAAS,GAAG,SAAS;AAC9BonH,QAAQ,CAACP,KAAK,GAAG,CACf;EAAEj/H,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE,CAAC,CAAC;EAAE7kB,CAAC,EAAE;AAAO,CAAC,EAC1B;EAAEjV,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACd;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE,CAAC;AAAE,CAAC,EAChB;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE,CAAC;AAAE,CAAC,CAChB;AACD,IAAI2lG,OAAO,GAAGD,QAAQ;;AAEtB;AACA,IAAIE,KAAK,GAAG,cAAcX,MAAM,CAAC;EAC/BY,GAAGA,CAACC,MAAM,EAAE;IACV,OAAOA,MAAM,GAAG,GAAG,GAAGxiI,IAAI,CAACwsC,EAAE;EAC/B;EACAg7E,UAAUA,CAAA,EAAG;IACX,MAAM;MAAE5kH,CAAC;MAAE6T,IAAI;MAAE6P,IAAI;MAAEi8G;IAAI,CAAC,GAAG,IAAI;IACnC,MAAMt+G,CAAC,GAAGqC,IAAI,GAAG,CAAC;IAClB,MAAMoW,CAAC,GAAG,IAAI,CAACA,CAAC,GAAGzY,CAAC,GAAG,CAAC;IACxBxN,IAAI,CAAC7Q,KAAK,CAAC,CAAC;IACZ6Q,IAAI,CAACsnH,GAAG,CAACn7H,CAAC,GAAGqhB,CAAC,EAAEyY,CAAC,GAAGzY,CAAC,EAAEA,CAAC,EAAEs+G,GAAG,CAAC,GAAG,CAAC,EAAEA,GAAG,CAAC,GAAG,CAAC,CAAC;IAC7C9rH,IAAI,CAACsnH,GAAG,CAACn7H,CAAC,GAAGqhB,CAAC,EAAEyY,CAAC,GAAGzY,CAAC,EAAEA,CAAC,EAAEs+G,GAAG,CAAC,GAAG,CAAC,EAAEA,GAAG,CAAC,EAAE,CAAC,CAAC;IAC5C9rH,IAAI,CAAC+hD,MAAM,CAAC51D,CAAC,EAAE85B,CAAC,GAAGzY,CAAC,CAAC;IACrBxN,IAAI,CAACgiD,SAAS,CAAC,CAAC;EAClB;AACF,CAAC;AACD6pE,KAAK,CAACtnH,SAAS,GAAG,OAAO;;AAEzB;AACA,IAAIynH,GAAG,GAAG,cAAcd,MAAM,CAAC;EAC7Bna,UAAUA,CAAA,EAAG;IACX,MAAM;MAAE/wG,IAAI;MAAE7T,CAAC;MAAE85B;IAAE,CAAC,GAAG,IAAI;IAC3B,MAAMjzB,CAAC,GAAG,IAAI,CAAC6c,IAAI;IACnB,MAAM+b,EAAE,GAAG,GAAG;IACd,MAAMC,EAAE,GAAG,CAAC;IACZ7rB,IAAI,CAAC7Q,KAAK,CAAC,CAAC;IACZ6Q,IAAI,CAAC8hD,MAAM,CAAC31D,CAAC,GAAG,CAAC,OAAO,GAAGy/B,EAAE,IAAI54B,CAAC,EAAEizB,CAAC,GAAG,CAAC,OAAO,GAAG4F,EAAE,IAAI74B,CAAC,CAAC;IAC3DgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,OAAO,GAAGy/B,EAAE,IAAI54B,CAAC,EACtBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,CAAC,GAAG4F,EAAE,IAAI74B,CAAC,EAChB7G,CAAC,GAAG,CAAC,GAAG,GAAGy/B,EAAE,IAAI54B,CAAC,EAClBizB,CAAC,GAAG,CAAC,CAAC,GAAG4F,EAAE,IAAI74B,CACjB,CAAC;IACDgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,CAAC,GAAG4F,EAAE,IAAI74B,CAAC,EAChB7G,CAAC,GAAG,CAAC,OAAO,GAAGy/B,EAAE,IAAI54B,CAAC,EACtBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,OAAO,GAAGy/B,EAAE,IAAI54B,CAAC,EACtBizB,CAAC,GAAG,CAAC,OAAO,GAAG4F,EAAE,IAAI74B,CACvB,CAAC;IACDgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,OAAO,GAAGy/B,EAAE,IAAI54B,CAAC,EACtBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CACxB,CAAC;IACDgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CACxB,CAAC;IACDgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CACxB,CAAC;IACDgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,CAAC,GAAG4F,EAAE,IAAI74B,CAAC,EAChB7G,CAAC,GAAG,CAAC,GAAG,GAAGy/B,EAAE,IAAI54B,CAAC,EAClBizB,CAAC,GAAG,CAAC,CAAC,GAAG4F,EAAE,IAAI74B,CACjB,CAAC;IACDgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,CAAC,GAAG4F,EAAE,IAAI74B,CAAC,EAChB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CACxB,CAAC;IACDgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,CAAC,GAAG4F,EAAE,IAAI74B,CAAC,EAChB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CACxB,CAAC;IACDgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CACxB,CAAC;IACDgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CACxB,CAAC;IACDgN,IAAI,CAACynH,YAAY,CACft7H,CAAC,GAAG,CAAC,QAAQ,GAAGy/B,EAAE,IAAI54B,CAAC,EACvBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,OAAO,GAAGy/B,EAAE,IAAI54B,CAAC,EACtBizB,CAAC,GAAG,CAAC,QAAQ,GAAG4F,EAAE,IAAI74B,CAAC,EACvB7G,CAAC,GAAG,CAAC,OAAO,GAAGy/B,EAAE,IAAI54B,CAAC,EACtBizB,CAAC,GAAG,CAAC,OAAO,GAAG4F,EAAE,IAAI74B,CACvB,CAAC;IACDgN,IAAI,CAACgiD,SAAS,CAAC,CAAC;EAClB;AACF,CAAC;AACDgqE,GAAG,CAACznH,SAAS,GAAG,QAAQ;AACxBynH,GAAG,CAACxxD,MAAM,GAAG;EAAEruE,CAAC,EAAE,GAAG;EAAE85B,CAAC,EAAE;AAAE,CAAC;;AAE7B;AACA,IAAIgmG,KAAK,GAAG,MAAMA,KAAK,SAASf,MAAM,CAAC;EACrCna,UAAUA,CAAA,EAAG;IACX,MAAM/9G,CAAC,GAAG,IAAI,CAAC6c,IAAI,GAAG,CAAC;IACvB,KAAK,CAACs7G,SAAS,CAACn4H,CAAC,EAAEi5H,KAAK,CAACb,KAAK,CAAC;EACjC;AACF,CAAC;AACDa,KAAK,CAAC1nH,SAAS,GAAG,MAAM;AACxB0nH,KAAK,CAACb,KAAK,GAAG,CACZ;EAAEj/H,CAAC,EAAE,CAAC,GAAG;EAAE85B,CAAC,EAAE,CAAC,GAAG;EAAE7kB,CAAC,EAAE;AAAO,CAAC,EAC/B;EAAEjV,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE,CAAC;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACd;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACd;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACd;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACd;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACd;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE,CAAC;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,EACf;EAAE95B,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE,CAAC;AAAE,CAAC,CAChB;AACD,IAAIimG,IAAI,GAAGD,KAAK;;AAEhB;AACA,IAAIE,MAAM,GAAG,cAAcjB,MAAM,CAAC;EAChCna,UAAUA,CAAA,EAAG;IACX,MAAM;MAAE/wG,IAAI;MAAE7T,CAAC;MAAE85B;IAAE,CAAC,GAAG,IAAI;IAC3B,MAAMmmG,EAAE,GAAG,IAAI,CAACv8G,IAAI,GAAG,CAAC;IACxB7P,IAAI,CAAC7Q,KAAK,CAAC,CAAC;IACZ6Q,IAAI,CAAC8hD,MAAM,CAAC,IAAI,CAAC3B,KAAK,CAACh0D,CAAC,GAAGigI,EAAE,CAAC,EAAE,IAAI,CAACjsE,KAAK,CAACl6B,CAAC,GAAGmmG,EAAE,CAAC,CAAC;IACnDpsH,IAAI,CAAC+hD,MAAM,CAAC,IAAI,CAAC5B,KAAK,CAACh0D,CAAC,GAAGigI,EAAE,CAAC,EAAE,IAAI,CAACjsE,KAAK,CAACl6B,CAAC,GAAGmmG,EAAE,CAAC,CAAC;IACnDpsH,IAAI,CAAC+hD,MAAM,CAAC,IAAI,CAAC5B,KAAK,CAACh0D,CAAC,GAAGigI,EAAE,CAAC,EAAE,IAAI,CAACjsE,KAAK,CAACl6B,CAAC,GAAGmmG,EAAE,CAAC,CAAC;IACnDpsH,IAAI,CAAC+hD,MAAM,CAAC,IAAI,CAAC5B,KAAK,CAACh0D,CAAC,GAAGigI,EAAE,CAAC,EAAE,IAAI,CAACjsE,KAAK,CAACl6B,CAAC,GAAGmmG,EAAE,CAAC,CAAC;IACnDpsH,IAAI,CAACgiD,SAAS,CAAC,CAAC;EAClB;AACF,CAAC;AACDmqE,MAAM,CAAC5nH,SAAS,GAAG,QAAQ;;AAE3B;AACA,IAAI8nH,IAAI,GAAG,cAAcnB,MAAM,CAAC;EAC9Bna,UAAUA,CAAA,EAAG;IACX,MAAM;MAAE5kH,CAAC;MAAE85B,CAAC;MAAEjmB,IAAI;MAAE6P;IAAK,CAAC,GAAG,IAAI;IACjC,MAAMy8G,MAAM,GAAG,CAAC;IAChB,MAAMC,WAAW,GAAG18G,IAAI,GAAG,CAAC;IAC5B,MAAM4c,QAAQ,GAAGljC,IAAI,CAACwsC,EAAE,GAAG,CAAC;IAC5B/1B,IAAI,CAAC7Q,KAAK,CAAC,CAAC;IACZ,KAAK,IAAIlE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqhI,MAAM,GAAG,CAAC,EAAErhI,CAAC,EAAE,EAAE;MACnC,MAAM09C,MAAM,GAAG19C,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG4kB,IAAI,GAAG08G,WAAW;MAC/C,MAAM3jF,KAAK,GAAG39C,CAAC,GAAG1B,IAAI,CAACwsC,EAAE,GAAGu2F,MAAM,GAAG7/F,QAAQ;MAC7C,MAAM+/F,WAAW,GAAGrgI,CAAC,GAAG5C,IAAI,CAAC6jC,GAAG,CAACwb,KAAK,CAAC,GAAGD,MAAM;MAChD,MAAM8jF,WAAW,GAAGxmG,CAAC,GAAG18B,IAAI,CAAC8jC,GAAG,CAACub,KAAK,CAAC,GAAGD,MAAM;MAChD3oC,IAAI,CAAC+hD,MAAM,CAACyqE,WAAW,EAAEC,WAAW,CAAC;IACvC;IACAzsH,IAAI,CAACgiD,SAAS,CAAC,CAAC;EAClB;AACF,CAAC;AACDqqE,IAAI,CAAC9nH,SAAS,GAAG,MAAM;;AAEvB;AACA,IAAImoH,SAAS,GAAG,MAAMA,SAAS,SAASxB,MAAM,CAAC;EAC7Cna,UAAUA,CAAA,EAAG;IACX,MAAM/9G,CAAC,GAAG,IAAI,CAAC6c,IAAI,GAAG,GAAG;IACzB,KAAK,CAACs7G,SAAS,CAACn4H,CAAC,EAAE05H,SAAS,CAACtB,KAAK,CAAC;EACrC;AACF,CAAC;AACDsB,SAAS,CAACnoH,SAAS,GAAG,UAAU;AAChCmoH,SAAS,CAACtB,KAAK,GAAG,CAChB;EAAEj/H,CAAC,EAAE,CAAC;EAAE85B,CAAC,EAAE,CAAC,IAAI;EAAE7kB,CAAC,EAAE;AAAO,CAAC,EAC7B;EAAEjV,CAAC,EAAE,GAAG;EAAE85B,CAAC,EAAE;AAAK,CAAC,EACnB;EAAE95B,CAAC,EAAE,CAAC,CAAC;EAAE85B,CAAC,EAAE;AAAE,CAAC,CAChB;AACD,IAAI0mG,QAAQ,GAAGD,SAAS;;AAExB;AACA,IAAIE,aAAa,GAAG;EAClBC,MAAM,EAAErB,MAAM;EACdsB,KAAK,EAAEpB,KAAK;EACZqB,OAAO,EAAEnB,OAAO;EAChBoB,KAAK,EAAEnB,KAAK;EACZoB,GAAG,EAAEjB,GAAG;EACRkB,IAAI,EAAEhB,IAAI;EACViB,MAAM,EAAEhB,MAAM;EACdiB,IAAI,EAAEf,IAAI;EACVgB,QAAQ,EAAEV;AACZ,CAAC;AACD,IAAIW,uBAAuB,GAAGzlI,MAAM,CAAC4S,IAAI,CAACmyH,aAAa,CAAC;AACxD,SAASW,aAAaA,CAAC39G,KAAK,EAAE;EAC5B,OAAO,OAAOA,KAAK,KAAK,QAAQ,IAAI09G,uBAAuB,CAAC7zH,QAAQ,CAACmW,KAAK,CAAC;AAC7E;AACA,SAAS49G,SAASA,CAAC59G,KAAK,GAAGu8G,MAAM,EAAE;EACjC,IAAIoB,aAAa,CAAC39G,KAAK,CAAC,EAAE;IACxB,OAAOg9G,aAAa,CAACh9G,KAAK,CAAC;EAC7B;EACA,IAAI,OAAOA,KAAK,KAAK,UAAU,EAAE;IAC/B,OAAOA,KAAK;EACd;EACA,OAAOu8G,MAAM;AACf;;AAEA;AACA,IAAIsB,eAAe,GAAG,cAAcnhB,MAAM,CAAC;EACzC76G,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACwzD,YAAY,GAAG,IAAI;EAC1B;EACAmqB,mBAAmBA,CAAC;IAClBC,MAAM;IACNC;EACF,CAAC,EAAE;IACD,MAAMC,aAAa,GAAG97E,eAAe,CAAC1sB,EAAE,CAACsoG,MAAM,CAAC;IAChD,MAAMG,aAAa,GAAG/7E,eAAe,CAAC1sB,EAAE,CAACuoG,MAAM,CAAC;IAChD,OAAO;MAAEC,aAAa;MAAEC,aAAa;MAAEC,UAAU,EAAEJ,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAC70H,IAAI;MAAEk1H,UAAU,EAAEJ,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAC90H;IAAK,CAAC;EAC/I;EACAm1H,4BAA4BA,CAAA,EAAG;IAC7B,IAAI17H,EAAE,EAAEsQ,EAAE;IACV,MAAM8qH,MAAM,GAAG,CAACp7H,EAAE,GAAG,IAAI,CAACuR,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvR,EAAE,CAAC87D,KAAK;IACxE,MAAMu/D,MAAM,GAAG,CAAC/qH,EAAE,GAAG,IAAI,CAACiB,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjB,EAAE,CAACwrD,KAAK;IACxE,OAAO,IAAI,CAACoC,SAAS,CAACQ,UAAU,CAAEi9D,IAAI,IAAKA,IAAI,CAACC,sBAAsB,CAAC,IAAI,CAACT,mBAAmB,CAAC;MAAEC,MAAM;MAAEC;IAAO,CAAC,CAAC,CAAC,CAAC,CAAC9e,IAAI,CAAC,CAAC;EAC9H;EACA;EACAsf,gBAAgBA,CAAC9R,cAAc,EAAEh1G,IAAI,EAAErB,IAAI,EAAE;IAC3C,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC2a,IAAI,CAAC+gC,KAAK,CAACp0C,IAAI,CAAC,GAAG,IAAI,CAACq7H,4BAA4B,CAAC,CAAC,CAAC;MACvD,MAAM;QAAEjuB,SAAS;QAAEzG;MAAc,CAAC,GAAG,MAAM+iB,cAAc,CAAC9c,OAAO,CAAC,IAAI,CAACjxE,EAAE,EAAEjnB,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,EAAE,EAAErB,IAAI,CAAC;MAC1G,IAAI,CAAC+5F,SAAS,GAAGA,SAAS;MAC1B,IAAI,CAACzG,aAAa,GAAGA,aAAa;MAClC,IAAI,CAAC5Y,QAAQ,CAAC,gBAAgB,EAAE;QAAEqf,SAAS;QAAEzG;MAAc,CAAC,CAAC;MAC7D,OAAO;QAAEyG,SAAS;QAAEzG;MAAc,CAAC;IACrC,CAAC,CAAC;EACJ;EACA80B,yBAAyBA,CAAA,EAAG;IAC1B,IAAI97H,EAAE,EAAEsQ,EAAE;IACV,MAAMyrH,iBAAiB,GAAG,CAACzrH,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACgnG,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhnG,EAAE,CAACyrG,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGn7F,EAAE,CAAC2mG,mBAAmB;IAClI,IAAI,CAAC8kB,iBAAiB,EAAE;MACtB,OAAO,IAAI;IACb;IACA,MAAM;MAAE3kB,WAAW;MAAED;IAAW,CAAC,GAAG4kB,iBAAiB;IACrD,OAAO3kB,WAAW,IAAID,UAAU;EAClC;EACA6kB,4BAA4BA,CAAA,EAAG;IAC7B,IAAI,CAAC,IAAI,CAACF,yBAAyB,CAAC,CAAC,EAAE;MACrC,IAAI,CAACpiG,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC9C;EACF;EACA8nB,SAASA,CAAC1rG,IAAI,EAAE;IACd,OAAO,IAAI,CAACuoH,WAAW,CAACvoH,IAAI,EAAE,IAAI,CAAC;EACrC;EACA;EACA;EACAuoH,WAAWA,CAACvoH,IAAI,EAAEwoH,aAAa,EAAE;IAC/B,MAAMC,QAAQ,GAAG,IAAI,CAACC,WAAW,CAAC,CAAC;IACnC,IAAID,QAAQ,KAAK,KAAK,CAAC,IAAIA,QAAQ,CAACxjI,MAAM,KAAK,CAAC,EAAE;MAChD,OAAO,KAAK,CAAC;IACf;IACA,MAAM;MAAEwyH,eAAe;MAAEnI;IAAW,CAAC,GAAGtvG,IAAI;IAC5C,MAAMgxG,UAAU,GAAG,IAAI,CAAC2X,sBAAsB,CAAC3oH,IAAI,EAAEyoH,QAAQ,EAAED,aAAa,CAACI,iBAAiB,CAAC;IAC/F,IAAI5X,UAAU,KAAK,KAAK,CAAC,EAAE;MACzB,OAAO,KAAK,CAAC;IACf;IACA,MAAM;MAAE1T;IAAa,CAAC,GAAG,IAAI;IAC7B,MAAMp0E,KAAK,GAAGu/F,QAAQ,CAACzX,UAAU,CAAC;IAClC,MAAM5rF,IAAI,GAAG,IAAI,CAACyjG,kBAAkB,CAAC;MAAE7X,UAAU;MAAEyG,eAAe;MAAEnI;IAAW,CAAC,CAAC;IACjF,IAAIlqF,IAAI,KAAK,KAAK,CAAC,EAAE;MACnB,OAAO;QAAEA,IAAI;QAAEk4E,YAAY;QAAEp0E,KAAK;QAAE8nF;MAAW,CAAC;IAClD;EACF;EACA2X,sBAAsBA,CAAC3oH,IAAI,EAAEyoH,QAAQ,EAAEG,iBAAiB,EAAE;IACxD,IAAIA,iBAAiB,IAAIH,QAAQ,CAACxjI,MAAM,KAAK2jI,iBAAiB,CAAC3jI,MAAM,EAAE;MACrE4F,MAAM,CAACM,KAAK,CACV,mCAAmCs9H,QAAQ,CAACxjI,MAAM,kCAAkC2jI,iBAAiB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,iBAAiB,CAAC3jI,MAAM,GACnJ,CAAC;IACH;IACA,MAAM6jI,cAAc,GAAIC,WAAW,IAAK;MACtC,MAAMC,SAAS,GAAGP,QAAQ,CAACM,WAAW,CAAC;MACvC,OAAO,CAACC,SAAS,CAACn2B,OAAO,KAAK,KAAK,CAAC,IAAIm2B,SAAS,CAACn2B,OAAO,KAAK,KAAK,MAAM+1B,iBAAiB,KAAK,KAAK,CAAC,IAAIA,iBAAiB,CAACG,WAAW,CAAC,CAAC;IAC1I,CAAC;IACD,MAAME,cAAc,GAAIF,WAAW,IAAK;MACtC,OAAOA,WAAW,IAAI,CAAC,IAAI,CAACD,cAAc,CAACC,WAAW,CAAC,EAAE;QACvDA,WAAW,EAAE;MACf;MACA,OAAOA,WAAW,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,GAAGA,WAAW;IAClD,CAAC;IACD,MAAMG,aAAa,GAAIH,WAAW,IAAK;MACrC,OAAOA,WAAW,GAAGN,QAAQ,CAACxjI,MAAM,IAAI,CAAC6jI,cAAc,CAACC,WAAW,CAAC,EAAE;QACpEA,WAAW,EAAE;MACf;MACA,OAAOA,WAAW,KAAKN,QAAQ,CAACxjI,MAAM,GAAG,KAAK,CAAC,GAAG8jI,WAAW;IAC/D,CAAC;IACD,IAAI/X,UAAU;IACd,MAAMmY,YAAY,GAAGxqG,KAAK,CAAC,CAAC,EAAE3e,IAAI,CAACgxG,UAAU,EAAEyX,QAAQ,CAACxjI,MAAM,GAAG,CAAC,CAAC;IACnE,IAAI+a,IAAI,CAACy3G,eAAe,GAAG,CAAC,EAAE;MAC5BzG,UAAU,GAAGiY,cAAc,CAACE,YAAY,CAAC;IAC3C,CAAC,MAAM,IAAInpH,IAAI,CAACy3G,eAAe,GAAG,CAAC,EAAE;MACnCzG,UAAU,GAAGkY,aAAa,CAACC,YAAY,CAAC;IAC1C,CAAC,MAAM;MACLnY,UAAU,IAAI,IAAI,GAAGA,UAAU,GAAGA,UAAU,GAAGkY,aAAa,CAACC,YAAY,CAAC;MAC1EnY,UAAU,IAAI,IAAI,GAAGA,UAAU,GAAGA,UAAU,GAAGiY,cAAc,CAACE,YAAY,CAAC;IAC7E;IACA,IAAInY,UAAU,KAAK,KAAK,CAAC,EAAE;MACzB,IAAIhxG,IAAI,CAACy3G,eAAe,KAAK,CAAC,EAAE;QAC9B,OAAO,KAAK,CAAC;MACf,CAAC,MAAM;QACL,OAAOz3G,IAAI,CAACgxG,UAAU,GAAGhxG,IAAI,CAACy3G,eAAe;MAC/C;IACF,CAAC,MAAM;MACL,OAAOzG,UAAU;IACnB;EACF;AACF,CAAC;;AAED;AACA,IAAIoY,wBAAwB,GAAG,cAAchrH,cAAc,CAAC;EAC1D5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC9gC,IAAI,GAAG,yBAAyB;IACrC,IAAI,CAACH,MAAM,GAAG,oBAAoB;IAClC,IAAI,CAACK,WAAW,GAAG,CAAC;EACtB;AACF,CAAC;AACDtkB,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAEsqH,wBAAwB,CAAC3mI,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,EAAE;EAAEhoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACpC,EAAEsqH,wBAAwB,CAAC3mI,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACxDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAEsqH,wBAAwB,CAAC3mI,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAEsqH,wBAAwB,CAAC3mI,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACxDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,EAAE;EAAEhoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACpC,EAAEsqH,wBAAwB,CAAC3mI,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AAC1DmC,eAAe,CAAC,CACdugD,QAAQ,CAACmD,SAAS,EAAE;EAAExpC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACxC,EAAEsqH,wBAAwB,CAAC3mI,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAEsqH,wBAAwB,CAAC3mI,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AAC3D,IAAI4mI,oBAAoB,GAAG,cAAcjrH,cAAc,CAAC,EACvD;AACDxZ,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAEuqH,oBAAoB,CAAC5mI,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,EAAE;EAAEhoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACpC,EAAEuqH,oBAAoB,CAAC5mI,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,EAAE;EAAExnC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACtC,EAAEuqH,oBAAoB,CAAC5mI,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAChD,IAAI6mI,kBAAkB,GAAG,cAAclrH,cAAc,CAAC;EACpD5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC1hC,KAAK,GAAG,OAAO;EACtB;AACF,CAAC;AACDxjB,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAEwqH,kBAAkB,CAAC7mI,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC5C,IAAI8mI,cAAc,GAAG,cAAcnrH,cAAc,CAAC;EAChD5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACvwC,IAAI,GAAG,IAAI6vH,wBAAwB,CAAC,CAAC;IAC1C,IAAI,CAACtsH,MAAM,GAAG,IAAIusH,oBAAoB,CAAC,CAAC;IACxC,IAAI,CAACthH,IAAI,GAAG,IAAIuhH,kBAAkB,CAAC,CAAC;EACtC;AACF,CAAC;AACD1kI,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEojF,cAAc,CAAC9mI,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACvCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEojF,cAAc,CAAC9mI,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEojF,cAAc,CAAC9mI,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACvC,IAAI+mI,gBAAgB,GAAG,cAAcprH,cAAc,CAAC;EAClD5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC1gC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,YAAY,GAAG,IAAI;IACxB,IAAI,CAACm9E,MAAM,GAAG,SAAS;IACvB,IAAI,CAACh9E,cAAc,GAAG,OAAO;IAC7B,IAAI,CAACF,cAAc,GAAG,IAAIigH,cAAc,CAAC,CAAC;EAC5C;AACF,CAAC;AACD3kI,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE0qH,gBAAgB,CAAC/mI,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;AACvCmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEkjF,gBAAgB,CAAC/mI,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEkjF,gBAAgB,CAAC/mI,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAEgjF,gBAAgB,CAAC/mI,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC3CmC,eAAe,CAAC,CACdugD,QAAQ,CAAC6D,iBAAiB,CAAC,CAC5B,EAAEwgF,gBAAgB,CAAC/mI,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEqjF,gBAAgB,CAAC/mI,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;;AAEnD;AACA,IAAIgnI,gCAAgC,GAAG;EACrC,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC;EACvB,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM;AACxB,CAAC;AACD,IAAIC,iCAAiC,GAAG;EACtC,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC;EACxB,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO;AACzB,CAAC;AACD,IAAIC,wBAAwB,GAAG,cAAc1jB,eAAe,CAAC;EAC3Dz6G,WAAWA,CAACqH,IAAI,EAAE+2H,WAAW,EAAE1gG,KAAK,EAAEpsB,MAAM,EAAE;IAC5C,KAAK,CAACjK,IAAI,EAAE+2H,WAAW,EAAE1gG,KAAK,EAAEpsB,MAAM,CAAC;IACvC,IAAI,CAACuf,IAAI,GAAGvf,MAAM,CAACuB,UAAU,CAACge,IAAI;IAClC,IAAI,CAACwtG,IAAI,GAAG/sH,MAAM,CAACuB,UAAU,CAACwrH,IAAI;EACpC;AACF,CAAC;AACD,IAAIC,yBAAyB,GAAG,cAAcN,gBAAgB,CAAC,EAC9D;AACD5kI,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEgrH,yBAAyB,CAACrnI,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AAC5D,IAAIsnI,eAAe,GAAG,cAAcvC,eAAe,CAAC;EAClDh8H,WAAWA,CAACc,EAAE,EAAE;IACd,IAAIsQ,EAAE,GAAGtQ,EAAE;MAAE;QACX09H,cAAc,GAAG,CAAC;QAClBC,UAAU,GAAG,KAAK;QAClBC,oBAAoB,GAAG,KAAK;QAC5BC,yBAAyB,GAAG,EAAE;QAC9BC,+BAA+B,GAAG,IAAI;QACtCC,gCAAgC,GAAG,IAAI;QACvCC,+BAA+B,GAAG,KAAK;QACvCC,iBAAiB;QACjBxjB,aAAa;QACbC;MACF,CAAC,GAAGpqG,EAAE;MAAE4tH,SAAS,GAAGnmI,SAAS,CAACuY,EAAE,EAAE,CAChC,gBAAgB,EAChB,YAAY,EACZ,sBAAsB,EACtB,2BAA2B,EAC3B,iCAAiC,EACjC,kCAAkC,EAClC,iCAAiC,EACjC,mBAAmB,EACnB,eAAe,EACf,gBAAgB,CACjB,CAAC;IACF,KAAK,CAAC7Y,cAAc,CAAC;MACnBgjH,aAAa;MACbC,cAAc;MACdE,WAAW,EAAE;IACf,CAAC,EAAEsjB,SAAS,CAAC,CAAC;IACd,IAAI,CAACjkB,SAAS,GAAGojB,wBAAwB;IACzC,IAAI,CAACc,aAAa,GAAG,IAAI,CAACj8B,YAAY,CAAC15E,WAAW,CAChD,IAAIujC,KAAK,CAAC;MACRp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE,mBAAmB;MACnCH,MAAM,EAAE,CAAC,CAAC;MACVa,cAAc,EAAE,IAAI,CAACm+E,sBAAsB,CAAC,MAAM;IACpD,CAAC,CACH,CAAC;IACD,IAAI,CAACujB,WAAW,GAAG,IAAI,CAACl8B,YAAY,CAAC15E,WAAW,CAC9C,IAAIujC,KAAK,CAAC;MACRp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE,iBAAiB;MACjCH,MAAM,EAAE,CAAC,CAAC;MACVa,cAAc,EAAE,IAAI,CAACm+E,sBAAsB,CAAC,QAAQ;IACtD,CAAC,CACH,CAAC;IACD,IAAI,CAAC1+C,UAAU,GAAG,IAAI,CAAC+lC,YAAY,CAAC15E,WAAW,CAC7C,IAAIujC,KAAK,CAAC;MACRp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE,gBAAgB;MAChCH,MAAM,EAAE,CAAC,CAAC;MACVa,cAAc,EAAE,IAAI,CAACm+E,sBAAsB,CAAC,QAAQ;IACtD,CAAC,CACH,CAAC;IACD,IAAI,CAAC73B,cAAc,GAAG/e,SAAS,CAACU,MAAM,CAAC,IAAI,CAACxI,UAAU,EAAEzF,IAAI,CAAC;IAC7D,IAAI,CAAC2nE,kBAAkB,GAAGp6D,SAAS,CAACU,MAAM,CACxC,IAAI,CAACo2C,aAAa,EAClB,MAAM,IAAI,CAACrnG,IAAI,CAACiqH,UAAU,GAAG,IAAI,CAACW,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC75D,WAAW,CAAC,CACvE,CAAC;IACD,IAAI,CAAC85D,uBAAuB,GAAGt6D,SAAS,CAACU,MAAM,CAAC,IAAI,CAACq2C,cAAc,EAAEtkD,IAAI,CAAC;IAC1E,IAAI,CAAC8nE,oBAAoB,GAAG,eAAgB,IAAIz4H,GAAG,CAAC,CAAC;IACrD,IAAI,CAAC04H,aAAa,GAAG;MACnBC,aAAa,EAAE;IACjB,CAAC;IACD,IAAI,CAACthG,KAAK,GAAGtT,KAAK,CAAC/hB,MAAM,CAAC,CAAC;IAC3B,IAAI,CAAC0yG,aAAa,IAAI,CAACC,cAAc,EACnC,MAAM,IAAIvzG,KAAK,CAAC,oCAAoC,IAAI,CAACZ,IAAI,EAAE,CAAC;IAClE,IAAI,CAACmN,IAAI,GAAG;MACVgqH,cAAc;MACdC,UAAU;MACVC,oBAAoB;MACpBC,yBAAyB;MACzBpjB,aAAa;MACbC,cAAc;MACdujB,iBAAiB;MACjBD,+BAA+B;MAC/BF,+BAA+B;MAC/BC;IACF,CAAC;IACD,IAAI,CAACr1C,KAAK,GAAG,EAAE;IACf,KAAK,IAAI/hF,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG+2H,cAAc,EAAE/2H,KAAK,EAAE,EAAE;MACnD,IAAI,CAAC+hF,KAAK,CAAC/hF,KAAK,CAAC,GAAG,IAAIwvH,IAAI,CAAC,CAAC;MAC9B,IAAI,CAACztC,KAAK,CAAC/hF,KAAK,CAAC,CAACk1B,MAAM,GAAG,CAAC,CAAC;MAC7B,IAAI,CAAC6sD,KAAK,CAAC/hF,KAAK,CAAC,CAAC+1B,cAAc,GAAG,IAAI,CAACm+E,sBAAsB,CAAC,OAAO,EAAEl0G,KAAK,CAAC;MAC9E,IAAI,CAACu7F,YAAY,CAAC15E,WAAW,CAAC,IAAI,CAACkgE,KAAK,CAAC/hF,KAAK,CAAC,CAAC;IAClD;IACA,IAAI,CAACg4H,cAAc,GAAG16D,SAAS,CAACU,MAAM,CACpC,IAAI,CAACw5D,aAAa,EAClB,MAAM,IAAI,CAAC15D,WAAW,CAAC,CAAC,EACxBq5D,+BACF,CAAC;IACD,IAAI,CAACc,eAAe,GAAG36D,SAAS,CAACU,MAAM,CACrC,IAAI,CAACy5D,WAAW,EAChB,MAAM,IAAI,CAACE,aAAa,CAAC,CAAC,EAC1BP,gCACF,CAAC;IACD,IAAI,CAACprD,cAAc,GAAG,IAAI7T,YAAY,CACpC,OAAO,EACP;MACE8T,KAAK,EAAE;QACL/iC,MAAM,EAAE;UACN33C,MAAM,EAAE,OAAO;UACfsnE,MAAM,EAAGzqD,IAAI,IAAK,IAAI,CAAC8pH,uBAAuB,CAAC9pH,IAAI;QACrD,CAAC;QACD3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE,OAAO;QACb8rH,OAAO,EAAE;MACX,CAAC;MACDhsD,KAAK,EAAE;QACLm1C,UAAU,EAAE,SAAS;QACrBrrH,KAAK,EAAE,UAAU;QACjB2jH,SAAS,EAAGxrG,IAAI,IAAK,IAAI,CAACgqH,qBAAqB,CAAChqH,IAAI,CAAC;QACrDiqH,gBAAgB,EAAGjqH,IAAI,IAAK,IAAI,CAACkqH,4BAA4B,CAAClqH,IAAI,CAAC;QACnEi+D,MAAM,EAAGj+D,IAAI,IAAK,IAAI,CAACmqH,kBAAkB,CAACnqH,IAAI,CAAC;QAC/C3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE,OAAO;QACb8rH,OAAO,EAAE;MACX,CAAC;MACDK,OAAO,EAAE;QACPtvF,MAAM,EAAE;UACN33C,MAAM,EAAE,OAAO;UACfsnE,MAAM,EAAGzqD,IAAI,IAAK,IAAI,CAACqqH,yBAAyB,CAACrqH,IAAI;QACvD,CAAC;QACD3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE,OAAO;QACb8rH,OAAO,EAAE;MACX,CAAC;MACDO,QAAQ,EAAE;QACRxvF,MAAM,EAAG96B,IAAI,IAAK,IAAI,CAACuqH,iBAAiB,CAACvqH,IAAI,CAAC;QAC9C3C,KAAK,EAAE;MACT,CAAC;MACDmtH,QAAQ,EAAE;QACR1vF,MAAM,EAAE;UACN33C,MAAM,EAAE,OAAO;UACfsnE,MAAM,EAAGzqD,IAAI,IAAK,IAAI,CAACyqH,0BAA0B,CAACzqH,IAAI;QACxD,CAAC;QACD3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE;MACR;IACF,CAAC,EACD,MAAM,IAAI,CAACgpH,4BAA4B,CAAC,CAC1C,CAAC;EACH;EACA,IAAIyD,eAAeA,CAAA,EAAG;IACpB,OAAO,IAAI,CAACC,gBAAgB;EAC9B;EACAtD,WAAWA,CAAA,EAAG;IACZ,IAAIp8H,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAACy/H,eAAe,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGz/H,EAAE,CAACm8H,QAAQ;EACnE;EACAtoD,cAAcA,CAAC5iC,KAAK,EAAE;IACpB,IAAIA,KAAK,KAAK,SAAS,EAAE;MACvB,IAAI,CAAC0hC,cAAc,CAACxT,UAAU,CAAC,OAAO,CAAC;IACzC,CAAC,MAAM,IAAIluB,KAAK,KAAK,OAAO,EAAE;MAC5B,IAAI,CAAC0hC,cAAc,CAACxT,UAAU,CAAC,MAAM,CAAC;IACxC,CAAC,MAAM,IAAIluB,KAAK,KAAK,UAAU,EAAE;MAC/B,IAAI,CAAC0hC,cAAc,CAACxT,UAAU,CAAC,SAAS,CAAC;IAC3C;EACF;EACA28C,sBAAsBA,CAAA,EAAG;IACvB,IAAI,CAACr2G,UAAU,CAACpF,IAAI,CAClB,IAAI,CAACq5B,GAAG,CAAC27C,iBAAiB,CAAC3G,WAAW,CAAC,mBAAmB,EAAGtP,KAAK,IAAK,IAAI,CAACugE,iBAAiB,CAACvgE,KAAK,CAAC,CAAC,EACrG,IAAI,CAAC1lC,GAAG,CAAC27C,iBAAiB,CAAC3G,WAAW,CACpC,0BAA0B,EACzBtP,KAAK,IAAK,IAAI,CAACwgE,uBAAuB,CAACxgE,KAAK,CAC/C,CACF,CAAC;EACH;EACA15D,OAAOA,CAAA,EAAG;IACR,KAAK,CAACA,OAAO,CAAC,CAAC;IACf,IAAI,CAACg6H,gBAAgB,GAAG,KAAK,CAAC;EAChC;EACA7vF,MAAMA,CAACu0E,EAAE,EAAE;IACT,OAAOrrH,OAAO,CAAC,IAAI,EAAEykD,SAAS,EAAE,WAAW;MAAEwlE;IAAW,CAAC,EAAE;MACzD,IAAIhjH,EAAE,EAAEsQ,EAAE;MACV,MAAM;QAAEwM,OAAO;QAAE4iH,gBAAgB,EAAEG;MAAoB,CAAC,GAAG,IAAI;MAC/D,MAAMrvH,MAAM,GAAG,CAACF,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC05B,GAAG,CAAC2qE,gBAAgB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGrkG,EAAE,CAACs8F,kBAAkB,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhsF,EAAE,CAACE,MAAM;MAC9H,MAAMsvH,iBAAiB,GAAGtvH,MAAM,KAAK,IAAI;MACzC,MAAMwiE,MAAM,GAAG,IAAI,CAACisC,WAAW,CAAC+D,UAAU,CAAC;MAC3C,MAAM+c,cAAc,GAAG,MAAM,IAAI,CAACC,wBAAwB,CAACF,iBAAiB,CAAC;MAC7E,MAAM,IAAI,CAAC5pD,gBAAgB,CAACp5D,OAAO,CAAC;MACpC,MAAM,IAAI,CAAC4/C,WAAW,CAACqjE,cAAc,EAAED,iBAAiB,EAAEhjH,OAAO,CAAC;MAClE,MAAMmjH,aAAa,GAAG,IAAI,CAACC,gBAAgB,CAACld,UAAU,EAAE6c,mBAAmB,CAAC;MAC5E,IAAI,CAACI,aAAa,EAChB;MACF,IAAIjtD,MAAM,EAAE;QACV,IAAI,CAACL,cAAc,CAACxT,UAAU,CAAC,QAAQ,EAAE8gE,aAAa,CAAC;MACzD;MACA,IAAI,CAACttD,cAAc,CAACxT,UAAU,CAAC,QAAQ,EAAE8gE,aAAa,CAAC;IACzD,CAAC,CAAC;EACJ;EACA/pD,gBAAgBA,CAACiqD,oBAAoB,EAAE;IACrC,OAAOpnI,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE;MACV,MAAM8vH,mBAAmB,GAAG,CAAC,IAAI,CAAC1sH,IAAI,CAACsqH,+BAA+B,IAAI,IAAI,CAACtkG,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;MAC/G,IAAI,CAACgqD,oBAAoB,IAAIC,mBAAmB,EAAE;QAChD;MACF;MACA,IAAI,CAAC,IAAI,CAAC/lB,eAAe,IAAI,CAAC,IAAI,CAACgmB,sBAAsB,CAAC,CAAC,EAAE;QAC3D;MACF;MACA,IAAI,IAAI,CAAChmB,eAAe,EAAE;QACxB,IAAI,CAACA,eAAe,GAAG,KAAK;QAC5B,IAAI,CAACj9E,KAAK,CAAC,mEAAmE,EAAE,IAAI,CAACpB,EAAE,CAAC;QACxF,IAAI,CAACskG,iBAAiB,CAAC,CAAC;QACxB,IAAI,CAACZ,gBAAgB,GAAG,MAAM,IAAI,CAAC5iE,cAAc,CAAC,CAAC;QACnD,MAAMyjE,cAAc,GAAG,IAAI,CAACzE,yBAAyB,CAAC,CAAC;QACvD,IAAI,IAAI,CAAC4D,gBAAgB,EAAE;UACzB,CAACpvH,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC0/H,gBAAgB,EAAEa,cAAc,KAAK,IAAI,GAAGjwH,EAAE,GAAGtQ,EAAE,CAACugI,cAAc,GAAGA,cAAc;QACtG;QACA,IAAI,CAAC9B,aAAa,CAACC,aAAa,GAAG,IAAI;QACvC,MAAM;UAAEjxB,SAAS;UAAEzG;QAAc,CAAC,GAAG,IAAI;QACzC,IAAIyG,SAAS,KAAK,KAAK,CAAC,IAAIzG,aAAa,KAAK,KAAK,CAAC,EAAE;UACpD,IAAI,CAAC5Y,QAAQ,CAAC,aAAa,EAAE;YAAEqf,SAAS;YAAEzG;UAAc,CAAC,CAAC;QAC5D;MACF;MACA,MAAM,IAAI,CAACw5B,sBAAsB,CAAC,CAAC;IACrC,CAAC,CAAC;EACJ;EACAA,sBAAsBA,CAACV,iBAAiB,EAAE;IACxC,OAAO/mI,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAE4lI,cAAc;QAAE37C,cAAc;QAAE47C,eAAe;QAAEl2C;MAAM,CAAC,GAAG,IAAI;MACvE,MAAM+3C,WAAW,GAAG,IAAI,CAACf,gBAAgB;MACzC,IAAI,CAACe,WAAW,EACd;MACF,MAAM;QAAEtE,QAAQ;QAAE5hD,SAAS;QAAEse;MAAO,CAAC,GAAG4nC,WAAW;MACnD,MAAM,IAAI,CAACC,WAAW,CAAC;QAAEZ,iBAAiB;QAAEjnC,MAAM;QAAE4nC,WAAW;QAAE/3C;MAAM,CAAC,CAAC;MACzE,IAAI,CAACi2C,cAAc,GAAG,MAAM,IAAI,CAACgC,oBAAoB,CAAC;QAAExE,QAAQ;QAAEwC;MAAe,CAAC,CAAC;MACnF,IAAI,CAAC37C,cAAc,GAAG,MAAM,IAAI,CAAC49C,oBAAoB,CAAC;QAAErmD,SAAS;QAAEyI;MAAe,CAAC,CAAC;MACpF,IAAI,IAAI,CAACtvE,IAAI,CAACiqH,UAAU,EAAE;QACxB,IAAI,CAACiB,eAAe,GAAG,MAAM,IAAI,CAACiC,qBAAqB,CAAC;UAAE1E,QAAQ;UAAEyC;QAAgB,CAAC,CAAC;MACxF;IACF,CAAC,CAAC;EACJ;EACAN,aAAaA,CAAA,EAAG;IACd,MAAMwC,WAAW,GAAG7F,SAAS,CAAC,CAAC;IAC/B,OAAO,IAAI6F,WAAW,CAAC,CAAC;EAC1B;EACAjmB,sBAAsBA,CAACt0G,IAAI,EAAEo1G,QAAQ,GAAG,CAAC,EAAE;IACzC,IAAI37G,EAAE;IACN,MAAMvH,MAAM,GAAG,KAAK,CAACoiH,sBAAsB,CAACt0G,IAAI,EAAEo1G,QAAQ,CAAC;IAC3D,IAAIp1G,IAAI,KAAK,OAAO,EAAE;MACpB,MAAM,CAACw6H,OAAO,CAAC,GAAGtoI,MAAM;MACxB,MAAMuoI,UAAU,GAAG,CAAChhI,EAAE,GAAG,IAAI,CAAC0T,IAAI,CAACmqH,yBAAyB,CAACliB,QAAQ,CAAC,KAAK,IAAI,GAAG37G,EAAE,GAAG,CAAC;MACxFvH,MAAM,CAAC,CAAC,CAAC,GAAG8S,UAAU,CAACw1H,OAAO,CAAC,GAAG,MAAMphI,MAAM,CAACohI,OAAO,CAAC,CAAC,CAAC,GAAGC,UAAU,GAAGrhI,MAAM,CAACohI,OAAO,CAAC,GAAGC,UAAU;IACvG;IACA,OAAOvoI,MAAM;EACf;EACAikE,WAAWA,CAACukE,gBAAgB,EAAEnB,iBAAiB,EAAEK,oBAAoB,EAAE;IACrE,OAAOpnI,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE;MACN,MAAM;QACJq+H,kBAAkB;QAClBE,uBAAuB;QACvB7qH,IAAI,EAAE;UAAEiqH,UAAU;UAAEC;QAAqB;MAC3C,CAAC,GAAG,IAAI;MACR,MAAMsD,gBAAgB,GAAG,CAAC,IAAI,CAACxnG,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;MAC/D,MAAMr5D,OAAO,GAAG,IAAI,CAACA,OAAO,IAAI,IAAI,CAAC4iH,gBAAgB,IAAI,IAAI,IAAIS,oBAAoB;MACrF,IAAI,CAAChmB,SAAS,CAACr9F,OAAO,GAAGokH,gBAAgB,IAAIpkH,OAAO;MACpD,IAAI,CAAColF,YAAY,CAACplF,OAAO,GAAGokH,gBAAgB,IAAIpkH,OAAO;MACvD,IAAI,CAACg+F,cAAc,CAACh+F,OAAO,GAAG,CAACokH,gBAAgB,IAAIpkH,OAAO,KAAKgjH,iBAAiB;MAChF,MAAMz2E,OAAO,GAAG,IAAI,CAACozD,UAAU,CAAC,CAAC;MACjC,IAAIkhB,UAAU,EAAE;QACd,MAAM,IAAI,CAACwD,iBAAiB,CAAC;UAC3BvC,eAAe,EAAEP,kBAAkB;UACnC+C,WAAW,EAAE;QACf,CAAC,CAAC;QACF,IAAI,CAACzuD,cAAc,CAACxT,UAAU,CAAC,kBAAkB,EAAEk/D,kBAAkB,CAAC;MACxE,CAAC,MAAM;QACL,MAAM,IAAI,CAACgD,gBAAgB,CAAC;UAC1B1C,cAAc,EAAEN,kBAAkB;UAClC+C,WAAW,EAAE;QACf,CAAC,CAAC;QACF,IAAI,CAACzuD,cAAc,CAACxT,UAAU,CAAC,WAAW,EAAEk/D,kBAAkB,CAAC;MACjE;MACA,IAAIT,oBAAoB,EAAE;QACxB,MAAM,IAAI,CAAC0D,gBAAgB,CAAC;UAAEt+C,cAAc,EAAEu7C;QAAwB,CAAC,CAAC;MAC1E;MACA,MAAM;QAAEJ,aAAa;QAAEC,WAAW;QAAEO,cAAc;QAAE37C,cAAc;QAAE47C,eAAe;QAAEl2C,KAAK;QAAEvsB;MAAW,CAAC,GAAG,IAAI;MAC/G,MAAM;QAAE08B;MAAO,CAAC,GAAG,CAAC74F,EAAE,GAAG,IAAI,CAACy/H,eAAe,KAAK,IAAI,GAAGz/H,EAAE,GAAG,CAAC,CAAC;MAChEm+H,aAAa,CAAC90E,OAAO,GAAGA,OAAO;MAC/B80E,aAAa,CAACrhH,OAAO,GAAGokH,gBAAgB,IAAIpkH,OAAO;MACnDq/C,UAAU,CAACr/C,OAAO,GAAGA,OAAO;MAC5B,IAAI6gH,UAAU,EAAE;QACdS,WAAW,CAAC/0E,OAAO,GAAGA,OAAO;QAC7B+0E,WAAW,CAACviG,MAAM,GAAGsiG,aAAa,CAACtiG,MAAM,IAAI,CAAC,CAAC,4BAA4BsiG,aAAa,CAACtiG,MAAM,GAAGsiG,aAAa,CAACtiG,MAAM,GAAG,CAAC;QAC1HuiG,WAAW,CAACthH,OAAO,GAAGA,OAAO;MAC/B;MACA,IAAIq/C,UAAU,EAAE;QACdA,UAAU,CAAC9S,OAAO,GAAGA,OAAO;MAC9B;MACA,MAAM,IAAI,CAACk4E,eAAe,CAAC;QACzBzB,iBAAiB;QACjBjnC,MAAM;QACNnQ,KAAK;QACLr/B,OAAO;QACPvsC,OAAO;QACPokH;MACF,CAAC,CAAC;MACF,IAAI,CAAC/C,aAAa,CAACrhH,OAAO,EAAE;QAC1B;MACF;MACA,MAAM,IAAI,CAACukH,gBAAgB,CAAC;QAAE1C,cAAc;QAAEsC,gBAAgB;QAAEG,WAAW,EAAE;MAAM,CAAC,CAAC;MACrF,MAAM,IAAI,CAACE,gBAAgB,CAAC;QAAEt+C;MAAe,CAAC,CAAC;MAC/C,IAAI26C,UAAU,EAAE;QACd,MAAM,IAAI,CAACwD,iBAAiB,CAAC;UAAEvC,eAAe;UAAEwC,WAAW,EAAE;QAAM,CAAC,CAAC;MACvE;IACF,CAAC,CAAC;EACJ;EACAI,qBAAqBA,CAACjnD,SAAS,EAAEknD,eAAe,EAAE;IAChD,MAAMC,UAAU,GAAGnnD,SAAS,CAACnyE,MAAM,CAChCu5H,EAAE,IAAKA,EAAE,CAAC/kG,KAAK,KAAK6kG,eAAe,CAAC7kG,KAAK,IAAI+kG,EAAE,CAAC9oC,MAAM,KAAK4oC,eAAe,CAAC5oC,MAC9E,CAAC;IACD,OAAO6oC,UAAU,CAAC/oI,MAAM,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG+oI,UAAU;EACtD;EACAE,gBAAgBA,CAACC,SAAS,EAAEJ,eAAe,EAAE;IAC3C,OAAOA,eAAe,GAAG,CAACA,eAAe,CAAC,GAAG,KAAK,CAAC;EACrD;EACAzB,wBAAwBA,CAACF,iBAAiB,EAAE;IAC1C,OAAO/mI,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE;MACN,MAAM;QAAEq+H,kBAAkB;QAAEE,uBAAuB;QAAEmB,gBAAgB,EAAED;MAAgB,CAAC,GAAG,IAAI;MAC/F,IAAI,CAACA,eAAe,EAClB;MACF,MAAMvjC,gBAAgB,GAAG,CAACl8F,EAAE,GAAG,IAAI,CAAC05B,GAAG,CAAC2qE,gBAAgB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGrkG,EAAE,CAACs8F,kBAAkB,CAAC,CAAC;MACpG,MAAMrvF,IAAI,GAAG6yH,iBAAiB,KAAK5jC,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACt/D,KAAK,CAAC,GAAGs/D,gBAAgB,GAAG,KAAK,CAAC;MAC1H,IAAIwlC,UAAU;MACd,IAAI3B,cAAc;MAClB,IAAI9yH,IAAI,IAAI,IAAI,EAAE;QAChB,MAAM60H,aAAa,GAAG,IAAI,CAACC,cAAc,CAAC,CAAC;QAC3C,MAAM;UAAExnD,SAAS;UAAE4hD;QAAS,CAAC,GAAGsD,eAAe;QAC/CM,cAAc,GAAG,IAAI,CAAC6B,gBAAgB,CAACzF,QAAQ,EAAElvH,IAAI,CAAC;QACtDy0H,UAAU,GAAGI,aAAa,GAAG,IAAI,CAACN,qBAAqB,CAACjnD,SAAS,EAAEttE,IAAI,CAAC,GAAG,KAAK,CAAC;MACnF;MACA,IAAI,CAACoxH,kBAAkB,GAAG,MAAM,IAAI,CAAC2D,4BAA4B,CAAC;QAChE7lB,KAAK,EAAE4jB,cAAc;QACrB1B;MACF,CAAC,CAAC;MACF,IAAI,CAACE,uBAAuB,GAAG,MAAM,IAAI,CAAC0D,6BAA6B,CAAC;QACtE9lB,KAAK,EAAEulB,UAAU;QACjBnD;MACF,CAAC,CAAC;MACF,OAAOwB,cAAc;IACvB,CAAC,CAAC;EACJ;EACAO,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAAC4B,QAAQ,GAAG,KAAK,CAAC;EACxB;EACA,CAACC,cAAcA,CAAA,EAAG;IAChB,KAAK,MAAM;MAAEvuH;IAAK,CAAC,IAAI,IAAI,CAAC+qH,cAAc,EAAE;MAC1C,IAAI/qH,IAAI,CAACgpB,KAAK,CAAC2pE,OAAO,KAAK,IAAI,EAC7B;MACF,MAAM3yF,IAAI;IACZ;EACF;EACAwuH,WAAWA,CAAA,EAAG;IACZ,IAAI,IAAI,CAACF,QAAQ,KAAK,KAAK,CAAC,EAAE;MAC5B,MAAM;QAAE/lH,KAAK;QAAEsY;MAAO,CAAC,GAAG,IAAI,CAACiF,GAAG,CAACkqE,KAAK,CAAC/1C,MAAM;MAC/C,MAAMge,UAAU,GAAG,IAAI31C,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE/Z,KAAK,EAAEsY,MAAM,CAAC;MAChD,IAAI,CAACytG,QAAQ,GAAG,IAAItL,eAAe,CAAC,GAAG,EAAE,EAAE,EAAE/qD,UAAU,CAAC;MACxD,IAAI,CAACw2D,YAAY,CAAC,IAAI,CAACH,QAAQ,CAAC;IAClC;IACA,OAAO,IAAI,CAACA,QAAQ;EACtB;EACAG,YAAYA,CAACC,SAAS,EAAE,CACxB;EACAnlB,kBAAkBA,CAAC7rD,KAAK,EAAE;IACxB,IAAItxD,EAAE;IACN,MAAMvH,MAAM,GAAG,KAAK,CAAC0kH,kBAAkB,CAAC7rD,KAAK,CAAC;IAC9C,IAAI74D,MAAM,EAAE;MACV,OAAOA,MAAM;IACf;IACA,MAAM;MAAEmB,CAAC;MAAE85B;IAAE,CAAC,GAAG49B,KAAK;IACtB,MAAM;MACJ59C,IAAI,EAAE;QAAEiqH;MAAW;IACrB,CAAC,GAAG,IAAI;IACR,IAAIt9D,KAAK;IACT,MAAM;MAAE89D,aAAa;MAAEC;IAAY,CAAC,GAAG,IAAI;IAC3C/9D,KAAK,GAAG89D,aAAa,CAAC7/F,QAAQ,CAAC1kC,CAAC,EAAE85B,CAAC,CAAC;IACpC,IAAI,CAAC2sC,KAAK,IAAIs9D,UAAU,EAAE;MACxBt9D,KAAK,GAAG+9D,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC9/F,QAAQ,CAAC1kC,CAAC,EAAE85B,CAAC,CAAC;IACnE;IACA,IAAI2sC,KAAK,IAAIA,KAAK,CAACzjC,KAAK,CAAC2pE,OAAO,KAAK,IAAI,EAAE;MACzC,OAAO;QAAE3pE,KAAK,EAAEyjC,KAAK,CAACzjC,KAAK;QAAE09D,QAAQ,EAAE;MAAE,CAAC;IAC5C;IACA,KAAK,MAAMqhC,IAAI,IAAI,IAAI,CAACz9D,SAAS,CAACr4D,OAAO,CAAC,CAAC,EAAE;MAC3C,MAAM;QAAE+2B;MAAM,CAAC,GAAG,CAAC58B,EAAE,GAAG27H,IAAI,CAAC4G,aAAa,CAACjxE,KAAK,CAAC,KAAK,IAAI,GAAGtxD,EAAE,GAAG,CAAC,CAAC;MACpE,IAAI48B,KAAK,IAAI,IAAI,EACf;MACF,IAAI,CAACA,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC2pE,OAAO,MAAM,IAAI,EACnD;MACF,OAAO;QAAE3pE,KAAK;QAAE09D,QAAQ,EAAE;MAAE,CAAC;IAC/B;EACF;EACA+iB,oBAAoBA,CAAC/rD,KAAK,EAAE;IAC1B,IAAItxD,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAE1W,CAAC;MAAE85B;IAAE,CAAC,GAAG49B,KAAK;IACtB,MAAM;MAAE//C,IAAI;MAAE4oG,SAAS;MAAEulB,gBAAgB,EAAED;IAAgB,CAAC,GAAG,IAAI;IACnE,IAAI,CAACA,eAAe,EAClB;IACF,MAAM+C,KAAK,GAAGjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC/B,MAAMkxH,KAAK,GAAGlxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC/B,MAAMmxH,QAAQ,GAAGvoB,SAAS,CAAC/lF,cAAc,CAACx6B,CAAC,EAAE85B,CAAC,CAAC;IAC/C,IAAIikB,WAAW,GAAG7xB,QAAQ;IAC1B,IAAI68G,YAAY;IAChB,KAAK,MAAM/lG,KAAK,IAAI6iG,eAAe,CAACtD,QAAQ,EAAE;MAC5C,MAAM;QAAE7qE,KAAK,EAAE;UAAE13D,CAAC,EAAEgpI,MAAM,GAAGz8G,GAAG;UAAEuN,CAAC,EAAEmvG,MAAM,GAAG18G;QAAI,CAAC,GAAG,CAAC;MAAE,CAAC,GAAGyW,KAAK;MAClE,IAAIxxB,KAAK,CAACw3H,MAAM,CAAC,IAAIx3H,KAAK,CAACy3H,MAAM,CAAC,EAAE;QAClC;MACF;MACA,MAAMh+C,SAAS,GAAG,CAAC29C,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAChuD,OAAO,CAACouD,MAAM,CAAC,MAAMH,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACjuD,OAAO,CAACquD,MAAM,CAAC,CAAC;MACtH,IAAI,CAACh+C,SAAS,EAAE;QACd;MACF;MACA,MAAMjtC,SAAS,GAAG5gD,IAAI,CAAC6J,GAAG,CAAC9J,KAAK,CAAC2rI,QAAQ,CAAC9oI,CAAC,GAAGgpI,MAAM,EAAE,CAAC,CAAC,GAAG7rI,KAAK,CAAC2rI,QAAQ,CAAChvG,CAAC,GAAGmvG,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MAC5F,IAAIjrF,SAAS,GAAGD,WAAW,EAAE;QAC3BA,WAAW,GAAGC,SAAS;QACvB+qF,YAAY,GAAG/lG,KAAK;MACtB;IACF;IACA,KAAK,MAAM++F,IAAI,IAAI,IAAI,CAACz9D,SAAS,CAACr4D,OAAO,CAAC,CAAC,EAAE;MAC3C,MAAMi9H,OAAO,GAAGnH,IAAI,CAACoH,eAAe,CAACzxE,KAAK,CAAC;MAC3C,IAAIwxE,OAAO,KAAK,KAAK,CAAC,IAAIA,OAAO,CAAChvG,eAAe,GAAG6jB,WAAW,EAAE;QAC/DA,WAAW,GAAGmrF,OAAO,CAAChvG,eAAe;QACrC6uG,YAAY,GAAGG,OAAO,CAAClmG,KAAK;QAC5B;MACF;IACF;IACA,IAAI+lG,YAAY,EAAE;MAChB,MAAM/qF,SAAS,GAAG5gD,IAAI,CAAC6J,GAAG,CAAC7J,IAAI,CAACs1D,IAAI,CAAC3U,WAAW,CAAC,IAAI,CAACrnC,EAAE,GAAG,CAACtQ,EAAE,GAAG2iI,YAAY,CAACrxE,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtxD,EAAE,CAACsd,IAAI,KAAK,IAAI,GAAGhN,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;MACtI,OAAO;QAAEssB,KAAK,EAAE+lG,YAAY;QAAEroC,QAAQ,EAAE1iD;MAAU,CAAC;IACrD;EACF;EACAwlE,qBAAqBA,CAAC9rD,KAAK,EAAE0xE,mBAAmB,EAAE;IAChD,IAAIhjI,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,MAAM;MAAEtX,CAAC;MAAE85B;IAAE,CAAC,GAAG49B,KAAK;IACtB,MAAM;MAAE//C,IAAI;MAAE4oG,SAAS;MAAEulB,gBAAgB,EAAED;IAAgB,CAAC,GAAG,IAAI;IACnE,IAAI,CAACA,eAAe,EAClB;IACF,MAAM+C,KAAK,GAAGjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC/B,MAAMkxH,KAAK,GAAGlxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC/B,MAAM0xH,WAAW,GAAG,CAACT,KAAK,EAAEC,KAAK,CAAC,CAACr6H,MAAM,CAAE1Q,CAAC,IAAKA,CAAC,YAAYwmF,YAAY,CAAC,CAAClxE,GAAG,CAAEtV,CAAC,IAAKA,CAAC,CAACukE,SAAS,CAAC;IACnG,IAAI+mE,mBAAmB,IAAIC,WAAW,CAACtqI,MAAM,KAAK,CAAC,EAAE;MACnD;IACF;IACA,MAAM,CAACuqI,gBAAgB,GAAG,GAAG,CAAC,QAAQ,GAAGD,WAAW;IACpD,MAAMP,QAAQ,GAAGvoB,SAAS,CAAC/lF,cAAc,CAACx6B,CAAC,EAAE85B,CAAC,CAAC;IAC/C,MAAMyvG,cAAc,GAAGD,gBAAgB,KAAK,GAAG,CAAC,UAAU,CAACR,QAAQ,CAAC9oI,CAAC,EAAE8oI,QAAQ,CAAChvG,CAAC,CAAC,GAAG,CAACgvG,QAAQ,CAAChvG,CAAC,EAAEgvG,QAAQ,CAAC9oI,CAAC,CAAC;IAC7G,MAAM+9C,WAAW,GAAG,CAAC7xB,QAAQ,EAAEA,QAAQ,CAAC;IACxC,IAAI68G,YAAY;IAChB,KAAK,MAAM/lG,KAAK,IAAI6iG,eAAe,CAACtD,QAAQ,EAAE;MAC5C,MAAM;QAAEviI,CAAC,EAAEgpI,MAAM,GAAGz8G,GAAG;QAAEuN,CAAC,EAAEmvG,MAAM,GAAG18G;MAAI,CAAC,GAAG,CAAC7V,EAAE,GAAG,CAACtQ,EAAE,GAAG48B,KAAK,CAAC00B,KAAK,KAAK,IAAI,GAAGtxD,EAAE,GAAG48B,KAAK,CAAColE,QAAQ,KAAK,IAAI,GAAG1xF,EAAE,GAAG,CAAC,CAAC;MACtH,IAAIlF,KAAK,CAACw3H,MAAM,CAAC,IAAIx3H,KAAK,CAACy3H,MAAM,CAAC,IAAIjmG,KAAK,CAAC2pE,OAAO,KAAK,IAAI,EAAE;QAC5D;MACF;MACA,MAAM1hB,SAAS,GAAG,CAAC29C,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAChuD,OAAO,CAACouD,MAAM,CAAC,MAAMH,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACjuD,OAAO,CAACquD,MAAM,CAAC,CAAC;MACtH,IAAI,CAACh+C,SAAS,EAAE;QACd;MACF;MACA,MAAMu+C,UAAU,GAAGF,gBAAgB,KAAK,GAAG,CAAC,UAAU,CAACN,MAAM,EAAEC,MAAM,CAAC,GAAG,CAACA,MAAM,EAAED,MAAM,CAAC;MACzF,IAAIS,cAAc,GAAG,IAAI;MACzB,KAAK,IAAI3qI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0qI,UAAU,CAACzqI,MAAM,EAAED,CAAC,EAAE,EAAE;QAC1C,MAAM4qI,IAAI,GAAGtsI,IAAI,CAAC27B,GAAG,CAACywG,UAAU,CAAC1qI,CAAC,CAAC,GAAGyqI,cAAc,CAACzqI,CAAC,CAAC,CAAC;QACxD,IAAI4qI,IAAI,GAAG3rF,WAAW,CAACj/C,CAAC,CAAC,EAAE;UACzB2qI,cAAc,GAAG,KAAK;UACtB;QACF;QACA,IAAIC,IAAI,GAAG3rF,WAAW,CAACj/C,CAAC,CAAC,EAAE;UACzBi/C,WAAW,CAACj/C,CAAC,CAAC,GAAG4qI,IAAI;UACrB3rF,WAAW,CAACj7B,IAAI,CAACoJ,QAAQ,EAAEptB,CAAC,GAAG,CAAC,EAAEi/C,WAAW,CAACh/C,MAAM,CAAC;QACvD;MACF;MACA,IAAI0qI,cAAc,EAAE;QAClBV,YAAY,GAAG/lG,KAAK;MACtB;IACF;IACA,IAAI+lG,YAAY,EAAE;MAChB,IAAIY,sBAAsB,GAAGvsI,IAAI,CAAC6J,GAAG,CACnC9J,KAAK,CAAC4gD,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG5gD,KAAK,CAAC4gD,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAACzmC,EAAE,GAAG,CAACX,EAAE,GAAGoyH,YAAY,CAACrxE,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/gD,EAAE,CAAC+M,IAAI,KAAK,IAAI,GAAGpM,EAAE,GAAG,CAAC,CAAC,EACpI,CACF,CAAC;MACD,KAAK,MAAMyqH,IAAI,IAAI,IAAI,CAACz9D,SAAS,CAACr4D,OAAO,CAAC,CAAC,EAAE;QAC3C,MAAMi9H,OAAO,GAAGnH,IAAI,CAACve,qBAAqB,CAAC9rD,KAAK,CAAC;QACjD,IAAIwxE,OAAO,KAAK,KAAK,CAAC,IAAIA,OAAO,CAAChvG,eAAe,GAAGyvG,sBAAsB,EAAE;UAC1EZ,YAAY,GAAGG,OAAO,CAAClmG,KAAK;UAC5B2mG,sBAAsB,GAAGT,OAAO,CAAChvG,eAAe;UAChD;QACF;MACF;MACA,OAAO;QAAE8I,KAAK,EAAE+lG,YAAY;QAAEroC,QAAQ,EAAEtjG,IAAI,CAACs1D,IAAI,CAACi3E,sBAAsB;MAAE,CAAC;IAC7E;EACF;EACA5D,iBAAiBA,CAACvgE,KAAK,EAAE;IACvB,MAAM;MAAE05B;IAAe,CAAC,GAAG,IAAI,CAAC/mF,UAAU;IAC1C,MAAM;MAAEyJ,OAAO;MAAEq9E,MAAM;MAAEroF;IAAO,CAAC,GAAG4uD,KAAK;IACzC,MAAMokE,qBAAqB,GAAG1qC,cAAc,IAAI,IAAI,IAAIA,cAAc,KAAK15B,KAAK,CAAC05B,cAAc;IAC/F,IAAItoF,MAAM,CAACwrB,EAAE,KAAK,IAAI,CAACA,EAAE,IAAIwnG,qBAAqB,EAAE;MAClD,IAAI,CAAC5lB,gBAAgB,CAAC/kB,MAAM,EAAEr9E,OAAO,CAAC;IACxC;EACF;EACAokH,uBAAuBA,CAACxgE,KAAK,EAAE;IAC7B,MAAM;MAAE5jD,OAAO;MAAEq9E,MAAM;MAAEroF,MAAM;MAAEwoF;IAAgB,CAAC,GAAG55B,KAAK;IAC1D,MAAM;MAAE05B;IAAe,CAAC,GAAG,IAAI,CAAC/mF,UAAU;IAC1C,MAAMyxH,qBAAqB,GAAG1qC,cAAc,IAAI,IAAI,IAAIA,cAAc,KAAK15B,KAAK,CAAC05B,cAAc;IAC/F,IAAItoF,MAAM,CAACwrB,EAAE,KAAK,IAAI,CAACA,EAAE,IAAIwnG,qBAAqB,EAAE;MAClD,IAAI,CAAC5lB,gBAAgB,CAAC/kB,MAAM,EAAE,IAAI,CAAC;IACrC,CAAC,MAAM,IAAIr9E,OAAO,IAAIw9E,eAAe,KAAK,CAAC,EAAE;MAC3C,IAAI,CAAC4kB,gBAAgB,CAAC/kB,MAAM,EAAE,IAAI,CAAC;IACrC,CAAC,MAAM;MACL,IAAI,CAAC+kB,gBAAgB,CAAC/kB,MAAM,EAAE,KAAK,CAAC;IACtC;EACF;EACAwnC,sBAAsBA,CAAA,EAAG;IACvB,OAAO,KAAK;EACd;EACAnW,YAAYA,CAAA,EAAG;IACb,OAAO,EAAE;EACX;EACAuZ,YAAYA,CAAA,EAAG;IACb,OAAO,KAAK;EACd;EACA;AACF;AACA;AACA;AACA;EACE/kB,WAAWA,CAACviG,KAAK,EAAEsY,MAAM,EAAE;IACzB,MAAM;MAAEiqG,aAAa;MAAEgF,SAAS;MAAElwD,OAAO;MAAEiwB;IAAe,CAAC,GAAG,IAAI,CAACg7B,aAAa;IAChF,MAAMkF,YAAY,GAAGtmF,IAAI,CAAClE,SAAS,CAAC;MAAEh9B,KAAK;MAAEsY;IAAO,CAAC,CAAC;IACtD,MAAMmvG,SAAS,GAAGD,YAAY,KAAKD,SAAS;IAC5C,IAAI,CAACE,SAAS,IAAI,CAAClF,aAAa,IAAIlrD,OAAO,IAAIiwB,cAAc,EAAE;MAC7D,OAAO;QAAEjwB,OAAO;QAAEiwB;MAAe,CAAC;IACpC;IACA,MAAMD,KAAK,GAAG,IAAI,CAACqgC,eAAe,CAAC1nH,KAAK,EAAEsY,MAAM,CAAC;IACjD,IAAI,CAACgqG,aAAa,GAAG;MACnBC,aAAa,EAAE,KAAK;MACpBgF,SAAS,EAAEC,YAAY;MACvBnwD,OAAO,EAAEgwB,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAChwB,OAAO;MAC/CiwB,cAAc,EAAED,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACC;IACjD,CAAC;IACD,OAAOD,KAAK;EACd;EACAqgC,eAAeA,CAAC1nH,KAAK,EAAEsY,MAAM,EAAE;IAC7B,IAAIz0B,EAAE,EAAEsQ,EAAE;IACV,MAAMyoC,OAAO,GAAG,IAAI,CAAC2mF,gBAAgB;IACrC,IAAI,EAAE3mF,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACojF,QAAQ,CAACxjI,MAAM,CAAC,EAAE;MACzD;IACF;IACA,MAAM;MAAEwjI;IAAS,CAAC,GAAGpjF,OAAO;IAC5B,MAAM+qF,SAAS,GAAGx5H,KAAK,CAAC6xH,QAAQ,CAACxjI,MAAM,CAAC;IACxC,MAAMorI,SAAS,GAAGz5H,KAAK,CAAC6xH,QAAQ,CAACxjI,MAAM,CAAC;IACxC,KAAK,MAAM,CAACD,CAAC,EAAE;MAAEspG;IAAS,CAAC,CAAC,IAAIm6B,QAAQ,CAAC9uH,OAAO,CAAC,CAAC,EAAE;MAClDy2H,SAAS,CAACprI,CAAC,CAAC,GAAG,CAACsH,EAAE,GAAGgiG,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACpoG,CAAC,KAAK,IAAI,GAAGoG,EAAE,GAAG,CAAC;MAC7E+jI,SAAS,CAACrrI,CAAC,CAAC,GAAG,CAAC4X,EAAE,GAAG0xF,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACtuE,CAAC,KAAK,IAAI,GAAGpjB,EAAE,GAAG,CAAC;IAC/E;IACAwzH,SAAS,CAACt+E,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;IAC/BosI,SAAS,CAACv+E,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;IAC/B,IAAIqsI,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAEC,OAAO;IACjC,IAAInyE,QAAQ,GAAG,CAAC;IAChB,IAAIC,SAAS,GAAG,CAAC;IACjB,KAAK,IAAIv5D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyjI,QAAQ,CAACxjI,MAAM,EAAED,CAAC,EAAE,EAAE;MACxC,IAAIorI,SAAS,CAACprI,CAAC,CAAC,IAAI,CAAC,EACnBsrI,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGA,KAAK,GAAGtrI,CAAC;MACnC,IAAIorI,SAAS,CAACprI,CAAC,CAAC,GAAGyjB,KAAK,EACtB8nH,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAGA,MAAM,GAAGvrI,CAAC;MACtC,IAAIqrI,SAAS,CAACrrI,CAAC,CAAC,IAAI,CAAC,EACnBwrI,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGA,KAAK,GAAGxrI,CAAC;MACnC,IAAIqrI,SAAS,CAACrrI,CAAC,CAAC,GAAG+7B,MAAM,EACvB0vG,OAAO,IAAI,IAAI,GAAGA,OAAO,GAAGA,OAAO,GAAGzrI,CAAC;MACzCs5D,QAAQ,GAAGh7D,IAAI,CAAC6J,GAAG,CAACmxD,QAAQ,EAAE8xE,SAAS,CAACprI,CAAC,CAAC,GAAGorI,SAAS,CAACprI,CAAC,GAAG,CAAC,CAAC,CAAC;MAC9Du5D,SAAS,GAAGj7D,IAAI,CAAC6J,GAAG,CAACoxD,SAAS,EAAE8xE,SAAS,CAACrrI,CAAC,CAAC,GAAGqrI,SAAS,CAACrrI,CAAC,GAAG,CAAC,CAAC,CAAC;IAClE;IACAurI,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAGA,MAAM,GAAG9H,QAAQ,CAACxjI,MAAM;IAClDwrI,OAAO,IAAI,IAAI,GAAGA,OAAO,GAAGA,OAAO,GAAGhI,QAAQ,CAACxjI,MAAM;IACrD,MAAMyrI,gBAAgB,GAAGJ,KAAK,IAAI,IAAI,IAAIC,MAAM,IAAI,IAAI,GAAGH,SAAS,CAAC/1H,KAAK,CAACi2H,KAAK,EAAEC,MAAM,CAAC,GAAG,EAAE;IAC9F,MAAMI,gBAAgB,GAAGH,KAAK,IAAI,IAAI,IAAIC,OAAO,IAAI,IAAI,GAAGJ,SAAS,CAACh2H,KAAK,CAACm2H,KAAK,EAAEC,OAAO,CAAC,GAAG,EAAE;IAChG,IAAI3W,eAAe,GAAG,CAAC;IACvB,IAAIC,gBAAgB,GAAG,CAAC;IACxB,KAAK,IAAI/0H,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1B,IAAI,CAAC6J,GAAG,CAACujI,gBAAgB,CAACzrI,MAAM,EAAE0rI,gBAAgB,CAAC1rI,MAAM,CAAC,EAAED,CAAC,EAAE,EAAE;MACnF,MAAM08B,EAAE,GAAGgvG,gBAAgB,CAAC1rI,CAAC,CAAC;MAC9B,MAAM48B,EAAE,GAAG8uG,gBAAgB,CAAC1rI,CAAC,GAAG,CAAC,CAAC;MAClC,MAAM28B,EAAE,GAAGgvG,gBAAgB,CAAC3rI,CAAC,CAAC;MAC9B,MAAM68B,EAAE,GAAG8uG,gBAAgB,CAAC3rI,CAAC,GAAG,CAAC,CAAC;MAClC,IAAI08B,EAAE,IAAI,IAAI,IAAIE,EAAE,IAAI,IAAI,EAAE;QAC5Bk4F,eAAe,GAAGx2H,IAAI,CAAC6J,GAAG,CAAC2sH,eAAe,EAAEp4F,EAAE,GAAGE,EAAE,CAAC;MACtD;MACA,IAAID,EAAE,IAAI,IAAI,IAAIE,EAAE,IAAI,IAAI,EAAE;QAC5Bk4F,gBAAgB,GAAGz2H,IAAI,CAAC6J,GAAG,CAAC4sH,gBAAgB,EAAEp4F,EAAE,GAAGE,EAAE,CAAC;MACxD;IACF;IACA,MAAMi+C,OAAO,GAAG,IAAIt9C,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE87B,QAAQ,EAAEC,SAAS,CAAC;IACnD,MAAMwxC,cAAc,GAAG,IAAIvtE,IAAI,CAAC,CAAC,EAAE,CAAC,EAAEs3F,eAAe,EAAEC,gBAAgB,CAAC;IACxE,OAAO;MAAEj6C,OAAO;MAAEiwB;IAAe,CAAC;EACpC;EACAu+B,4BAA4BA,CAACtuH,IAAI,EAAE;IACjC,MAAM;MACJA,IAAI,EAAE;QAAEiqH;MAAW;IACrB,CAAC,GAAG,IAAI;IACR,MAAM;MAAExhB,KAAK;MAAEkiB;IAAmB,CAAC,GAAG3qH,IAAI;IAC1C,MAAMyoH,QAAQ,GAAGhgB,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAG,EAAE;IAC3C,IAAIwhB,UAAU,EAAE;MACd,MAAMiB,eAAe,GAAGP,kBAAkB;MAC1C,OAAO,IAAI,CAACwC,qBAAqB,CAAC;QAAE1E,QAAQ;QAAEyC;MAAgB,CAAC,CAAC;IAClE,CAAC,MAAM;MACL,OAAO,IAAI,CAAC+B,oBAAoB,CAAC;QAC/BxE,QAAQ;QACRwC,cAAc,EAAEN;MAClB,CAAC,CAAC;IACJ;EACF;EACA4D,6BAA6BA,CAACvuH,IAAI,EAAE;IAClC,IAAI1T,EAAE;IACN,OAAO,IAAI,CAAC4gI,oBAAoB,CAAC;MAC/BrmD,SAAS,EAAE,CAACv6E,EAAE,GAAG0T,IAAI,CAACyoG,KAAK,KAAK,IAAI,GAAGn8G,EAAE,GAAG,EAAE;MAC9CgjF,cAAc,EAAEtvE,IAAI,CAAC6qH;IACvB,CAAC,CAAC;EACJ;EACAoC,oBAAoBA,CAACjtH,IAAI,EAAE;IACzB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,OAAO2a,IAAI,CAACirH,cAAc;IAC5B,CAAC,CAAC;EACJ;EACA0C,gBAAgBA,CAAC3pG,KAAK,EAAE;IACtB,OAAO3+B,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa,CACxC,CAAC,CAAC;EACJ;EACA8nI,qBAAqBA,CAACntH,IAAI,EAAE;IAC1B,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,OAAO2a,IAAI,CAACkrH,eAAe;IAC7B,CAAC,CAAC;EACJ;EACAuC,iBAAiBA,CAACzpG,KAAK,EAAE;IACvB,OAAO3+B,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa,CACxC,CAAC,CAAC;EACJ;EACA2nI,WAAWA,CAAChtH,IAAI,EAAE;IAChB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC2a,IAAI,CAACg1E,KAAK,CAACj3E,OAAO,CAAEyvB,CAAC,IAAKA,CAAC,CAACpkB,OAAO,GAAG,KAAK,CAAC;IAC9C,CAAC,CAAC;EACJ;EACAykH,eAAeA,CAAC7tH,IAAI,EAAE;IACpB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAE2vF,KAAK;QAAEr/B,OAAO;QAAEvsC;MAAQ,CAAC,GAAGpJ,IAAI;MACxC,KAAK,MAAMjG,IAAI,IAAIi7E,KAAK,EAAE;QACxBj7E,IAAI,CAAC47C,OAAO,GAAGA,OAAO;QACtB57C,IAAI,CAACqP,OAAO,GAAGA,OAAO;MACxB;IACF,CAAC,CAAC;EACJ;EACAwiH,iBAAiBA,CAACvqH,IAAI,EAAE;IACtB,IAAI/U,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,MAAM;MAAE9C,IAAI;MAAEmvB,KAAK;MAAE7gB,KAAK;MAAEuC;IAAO,CAAC,GAAG,CAAChO,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC0T,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG1T,EAAE,CAACi+H,iBAAiB,KAAK,IAAI,GAAG3tH,EAAE,GAAG,CAAC,CAAC;IACxH,IAAI,CAACopB,GAAG,CAACmZ,gBAAgB,CAACg/C,sBAAsB,CAAC,IAAI,CAAC71D,EAAE,CAAC;IACzD,IAAIvuB,IAAI,EAAE;MACRsH,IAAI,CAAC2zE,KAAK,CAACj3E,OAAO,CAAEi3E,KAAK,IAAK;QAC5B9pB,WAAW,CAAC,CAAC8pB,KAAK,CAAC,EAAEj7E,IAAI,CAAC;MAC5B,CAAC,CAAC;IACJ;IACA,IAAImvB,KAAK,EAAE;MACTgiC,WAAW,CAAC,CAAC7pD,IAAI,CAAC4pH,cAAc,CAAC,EAAE/hG,KAAK,CAAC;IAC3C;IACA,IAAI7gB,KAAK,EAAE;MACT6iD,WAAW,CAAC,CAAC7pD,IAAI,CAACiuE,cAAc,CAAC,EAAEjnE,KAAK,CAAC;IAC3C;IACA,IAAIuC,MAAM,IAAI,IAAI,CAAC5K,IAAI,CAACiqH,UAAU,EAAE;MAClC/+D,WAAW,CAAC,CAAC7pD,IAAI,CAAC6pH,eAAe,CAAC,EAAEtgH,MAAM,CAAC;IAC7C;IACA,IAAI,CAAC,CAAC/N,EAAE,GAAGwE,IAAI,CAAC0rH,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlwH,EAAE,CAACgwH,cAAc,MAAM,KAAK,EAAE;MAC5E,IAAI,CAAC7mG,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC9C;EACF;EACAunC,uBAAuBA,CAAC9pH,IAAI,EAAE;IAC5B,IAAI,CAAC2kB,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC5C,IAAI,CAACgoC,iBAAiB,CAACvqH,IAAI,CAAC;EAC9B;EACAqqH,yBAAyBA,CAACrqH,IAAI,EAAE;IAC9B,IAAI,CAAC2kB,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC5C,IAAI,CAACgoC,iBAAiB,CAACvqH,IAAI,CAAC;EAC9B;EACAgqH,qBAAqBA,CAAChqH,IAAI,EAAE;IAC1B,IAAI/U,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAEssB;IAAM,CAAC,GAAG,CAACtsB,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC0T,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG1T,EAAE,CAACi+H,iBAAiB,KAAK,IAAI,GAAG3tH,EAAE,GAAG,CAAC,CAAC;IACnG,IAAIssB,KAAK,EAAE;MACTgiC,WAAW,CAAC,CAAC7pD,IAAI,CAAC,EAAE6nB,KAAK,CAAC;IAC5B;EACF;EACAqiG,4BAA4BA,CAAClqH,IAAI,EAAE;IACjC,IAAI/U,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAEgO;IAAO,CAAC,GAAG,CAAChO,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC0T,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG1T,EAAE,CAACi+H,iBAAiB,KAAK,IAAI,GAAG3tH,EAAE,GAAG,CAAC,CAAC;IACpG,IAAIgO,MAAM,EAAE;MACVsgD,WAAW,CAAC,CAAC7pD,IAAI,CAAC,EAAEuJ,MAAM,CAAC;IAC7B;EACF;EACA4gH,kBAAkBA,CAACnqH,IAAI,EAAE;IACvB,IAAI,CAACuqH,iBAAiB,CAACvqH,IAAI,CAAC;EAC9B;EACAyqH,0BAA0BA,CAACzqH,IAAI,EAAE;IAC/B,IAAI,CAAC2kB,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC5C,IAAI,CAACgoC,iBAAiB,CAACvqH,IAAI,CAAC;EAC9B;EACAuvH,wBAAwBA,CAAA,EAAG;IACzB,MAAMrE,aAAa,GAAG,IAAI,CAACC,gBAAgB,CAAC,CAAC;IAC7C,IAAI,CAACD,aAAa,EAChB;IACF,IAAI,CAACttD,cAAc,CAACxT,UAAU,CAAC,OAAO,EAAE8gE,aAAa,CAAC;EACxD;EACAC,gBAAgBA,CAACld,UAAU,EAAE6c,mBAAmB,EAAE;IAChD,MAAM;MAAEH,gBAAgB,EAAEe;IAAY,CAAC,GAAG,IAAI;IAC9C,IAAI,CAACA,WAAW,EACd;IACF,MAAMR,aAAa,GAAG;MACpBtB,cAAc,EAAE,IAAI,CAACA,cAAc;MACnCC,eAAe,EAAE,IAAI,CAACA,eAAe;MACrC57C,cAAc,EAAE,IAAI,CAACA,cAAc;MACnCw7C,oBAAoB,EAAE,CAAC,GAAG,IAAI,CAACA,oBAAoB,CAAC;MACpDiC,WAAW;MACXZ,mBAAmB;MACnBn3C,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBs6B;IACF,CAAC;IACD,OAAOid,aAAa;EACtB;EACAsE,gBAAgBA,CAAA,EAAG;IACjB,MAAM9rI,MAAM,GAAG,CAAC,CAAC;IACjB,KAAK,MAAMwjE,SAAS,IAAI3mE,MAAM,CAACiX,MAAM,CAACkxC,kBAAkB,CAAC,EAAE;MACzD,MAAMjsC,IAAI,GAAG,IAAI,CAACD,IAAI,CAAC0qD,SAAS,CAAC;MACjC,IAAI,CAACzqD,IAAI,EACP;MACF,IAAIA,IAAI,CAACsqD,KAAK,YAAYkI,QAAQ,EAAE;QAClC,MAAM;UAAEpkE,KAAK,EAAEQ,MAAM;UAAEg3C;QAAO,CAAC,GAAG5lC,IAAI,CAACsqD,KAAK;QAC5CrjE,MAAM,CAACwjE,SAAS,CAAC,GAAG;UAClB11D,IAAI,EAAE,KAAK;UACXgxC,OAAO,EAAG/3C,CAAC,IAAKgS,IAAI,CAACsqD,KAAK,CAACvkB,OAAO,CAAC/3C,CAAC,CAAC;UACrC43C,MAAM,EAAE,CAACA,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC;UAC9Bx3C,KAAK,EAAE,CAACQ,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC;QAC9B,CAAC;MACH,CAAC,MAAM,IAAIoR,IAAI,CAACsqD,KAAK,YAAYtc,eAAe,EAAE;QAChD,MAAM;UAAE5/C,KAAK,EAAEQ;QAAO,CAAC,GAAGoR,IAAI,CAACsqD,KAAK;QACpC,MAAM1kB,MAAM,GAAG5lC,IAAI,CAACsqD,KAAK,CAACrd,SAAS,CAAC,CAAC;QACrChmD,MAAM,CAACwjE,SAAS,CAAC,GAAG;UAClB11D,IAAI,EAAE,YAAY;UAClB6wC,MAAM,EAAE,CAACA,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC;UAC9Bx3C,KAAK,EAAE,CAACQ,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC;QAC9B,CAAC;MACH,CAAC,MAAM,IAAIoR,IAAI,CAACsqD,KAAK,EAAE;QACrB,MAAM;UAAE1kB;QAAO,CAAC,GAAG5lC,IAAI,CAACsqD,KAAK;QAC7BrjE,MAAM,CAACwjE,SAAS,CAAC,GAAG;UAClB11D,IAAI,EAAE,UAAU;UAChB6wC,MAAM;UACNx3C,KAAK,EAAEw3C,MAAM,CAACpqC,GAAG,CAAExN,CAAC,IAAKgS,IAAI,CAACsqD,KAAK,CAACvkB,OAAO,CAAC/3C,CAAC,CAAC;QAChD,CAAC;MACH;IACF;IACA,OAAO/G,MAAM;EACf;AACF,CAAC;;AAED;AACA,IAAI2hH,UAAU,GAAG,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAC;AACnD,IAAIoqB,eAAe,GAAG,MAAMA,eAAe,SAASzT,KAAK,CAAC;EACxD7xH,WAAWA,CAAC3B,OAAO,EAAE4lH,SAAS,EAAE;IAC9B,KAAK,CAAC5lH,OAAO,EAAE4lH,SAAS,CAAC;IACzB;IACA,IAAI,CAACshB,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,sBAAsB,GAAG,IAAI;IAClC,IAAI,CAACC,iBAAiB,GAAG,KAAK,CAAC;IAC/B,IAAI,CAACC,eAAe,GAAG;MACrBnnH,GAAG,EAAE,CAAC;MACNE,MAAM,EAAE,CAAC;MACTC,IAAI,EAAE,CAAC;MACPF,KAAK,EAAE;IACT,CAAC;IACD,IAAI,CAACmnH,eAAe,GAAG,KAAK;IAC5B,IAAI,CAACC,eAAe,GAAG;MACrBroH,UAAU,EAAE,IAAI;MAChBjM,MAAM,EAAE;IACV,CAAC;EACH;EACAs4G,YAAYA,CAACh7G,QAAQ,EAAErE,QAAQ,EAAE;IAC/B,KAAK,CAACq/G,YAAY,CAACh7G,QAAQ,EAAErE,QAAQ,CAAC;IACtC,IAAI,CAACu6F,WAAW,CAAC4L,UAAU,CAAC9hG,QAAQ,CAAC;EACvC;EACAw5G,aAAaA,CAAC92G,MAAM,EAAE;IACpB,KAAK,CAAC82G,aAAa,CAAC92G,MAAM,CAAC;IAC3B,IAAI,CAACk0H,sBAAsB,GAAG,IAAI;EACpC;EACAha,aAAaA,CAAA,EAAG;IACd,OAAO3xH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAMioH,UAAU,GAAG,MAAMnoH,UAAU,CAAC2rI,eAAe,CAACruI,SAAS,EAAE,IAAI,EAAE,eAAe,CAAC,CAAC0B,IAAI,CAAC,IAAI,CAAC;MAChG,MAAM;QAAE6sI,sBAAsB;QAAEhlB,UAAU;QAAE/xB,cAAc;QAAEgyB;MAAc,CAAC,GAAG,IAAI;MAClF,MAAM;QAAEyH,aAAa;QAAEpE,UAAU;QAAE+hB,UAAU;QAAEC;MAAW,CAAC,GAAG,IAAI,CAACp1B,UAAU,CAACoR,UAAU,CAAC;MACzF,IAAI,CAACtB,UAAU,CAAC5iG,OAAO,GAAGioH,UAAU,CAACv0H,MAAM;MAC3C,IAAI,CAACwyG,UAAU,GAAGA,UAAU;MAC5B,IAAI,CAACoE,aAAa,GAAGA,aAAa;MAClC,MAAM;QAAExtH,CAAC;QAAE85B;MAAE,CAAC,GAAGsvF,UAAU;MAC3B,IAAI0hB,sBAAsB,EAAE;QAC1B,KAAK,MAAMloE,MAAM,IAAI,CAACkjD,UAAU,EAAE/xB,cAAc,EAAEgyB,aAAa,CAAC,EAAE;UAChEnjD,MAAM,CAACriC,YAAY,GAAGnjC,IAAI,CAACsI,KAAK,CAAC1F,CAAC,CAAC;UACnC4iE,MAAM,CAACpiC,YAAY,GAAGpjC,IAAI,CAACsI,KAAK,CAACo0B,CAAC,CAAC;QACrC;QACA,IAAI,CAACgxG,sBAAsB,GAAG,KAAK;MACrC,CAAC,MAAM;QACL,MAAM;UAAEvqG,YAAY;UAAEC;QAAa,CAAC,GAAGslF,UAAU;QACjD7tF,kBAAkB,CAChB,IAAI,CAACmK,EAAE,EACP,YAAY,EACZ,IAAI,CAACtC,GAAG,CAACmZ,gBAAgB,EACzB,CAAC6sE,UAAU,EAAEC,aAAa,EAAEhyB,cAAc,CAAC,EAC3C;UAAExzD,YAAY;UAAEC;QAAa,CAAC,EAC9B;UAAED,YAAY,EAAEnjC,IAAI,CAACsI,KAAK,CAAC1F,CAAC,CAAC;UAAEwgC,YAAY,EAAEpjC,IAAI,CAACsI,KAAK,CAACo0B,CAAC;QAAE,CAAC,EAC5D;UAAEud,KAAK,EAAE;QAAS,CACpB,CAAC;MACH;MACA,MAAMg0F,gBAAgB,GAAGjiB,UAAU,CAACz1G,KAAK,CAAC,CAAC,CAACqoB,IAAI,CAAC,IAAI,CAACytF,UAAU,CAACrnG,OAAO,CAAC;MACzE,IAAI,CAAC2vG,SAAS,GAAGsZ,gBAAgB;MACjC,MAAM9vG,QAAQ,GAAG,IAAI,CAACkuF,UAAU,CAACnuF,IAAI,IAAI8vG,UAAU,GAAGC,gBAAgB,GAAG,KAAK,CAAC;MAC/EvlB,UAAU,CAAC5zD,iCAAiC,CAAC32B,QAAQ,CAAC;MACtDwqF,aAAa,CAAC7zD,iCAAiC,CAAC32B,QAAQ,CAAC;MACzDw4D,cAAc,CAAC7hC,iCAAiC,CAAC32B,QAAQ,CAAC;MAC1D,IAAI,CAACuE,GAAG,CAAC05C,aAAa,CAACqvB,sBAAsB,CAAC;QAC5Cl8F,IAAI,EAAE,iBAAiB;QACvB8sE,KAAK,EAAE;UAAEl3D,KAAK,EAAE,IAAI,CAACud,GAAG,CAACkqE,KAAK,CAACznF,KAAK;UAAEsY,MAAM,EAAE,IAAI,CAACiF,GAAG,CAACkqE,KAAK,CAACnvE;QAAO,CAAC;QACrEuwG,UAAU;QACVx0H,MAAM,EAAE;UACN66C,IAAI,EAAE23D,UAAU;UAChBkiB,UAAU,EAAED,gBAAgB;UAC5BnoH,OAAO,EAAEioH,UAAU,CAACv0H,MAAM;UAC1BizH,YAAY,EAAE,IAAI,CAACA,YAAY,CAAC;QAClC,CAAC;QACDlyH,IAAI,EAAE,IAAI,CAACA,IAAI,CAACvE,GAAG,CAAEwE,IAAI,IAAK/Z,cAAc,CAAC;UAAEukC,EAAE,EAAExqB,IAAI,CAACwqB;QAAG,CAAC,EAAExqB,IAAI,CAACirE,cAAc,CAAC,CAAC,CAAC;MACtF,CAAC,CAAC;MACF,MAAMmtC,cAAc,GAAG,IAAI,CAAClG,cAAc,CAAChlD,UAAU,CAAE33D,CAAC,IAAK;QAC3D,IAAI/G,EAAE;QACN,OAAO,CAACA,EAAE,GAAG+G,CAAC,CAACo+H,sBAAsB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGnlI,EAAE,CAACnI,IAAI,CAACkP,CAAC,EAAE;UAAEi8G;QAAW,CAAC,CAAC;MACtF,CAAC,CAAC;MACF,MAAM7pH,OAAO,CAACd,GAAG,CAACuxH,cAAc,CAAC;MACjC,OAAO5I,UAAU;IACnB,CAAC,CAAC;EACJ;EACApR,UAAUA,CAACw1B,eAAe,EAAE;IAC1B,IAAIplI,EAAE;IACN,MAAMqlI,YAAY,GAAG,IAAI,CAAC9zH,IAAI,CAAC/G,OAAO,CAAEgH,IAAI,IAAK;MAC/C,IAAI6c,GAAG;MACP,OAAO,CAACA,GAAG,GAAG7c,IAAI,CAACiL,UAAU,KAAK,IAAI,GAAG4R,GAAG,GAAG,EAAE;IACnD,CAAC,CAAC,CAACrhB,GAAG,CAAEymE,SAAS,IAAKA,SAAS,CAACz3C,EAAE,CAAC;IACnC,MAAMspG,SAAS,GAAG,IAAI,CAACX,iBAAiB,IAAI,IAAI,IAAI,IAAI,CAACA,iBAAiB,CAAChsI,MAAM,KAAK0sI,YAAY,CAAC1sI,MAAM,IAAI,IAAI,CAACgsI,iBAAiB,CAACjkI,KAAK,CAAC,CAACs7B,EAAE,EAAEr1B,KAAK,KAAK0+H,YAAY,CAAC1+H,KAAK,CAAC,KAAKq1B,EAAE,CAAC;IACpL,IAAIupG,UAAU;IACd,IAAIP,UAAU;IACd,IAAID,UAAU;IACd,IAAIO,SAAS,EAAE;MACbC,UAAU,GAAG9tI,cAAc,CAAC,CAAC,CAAC,EAAE,IAAI,CAACmtI,eAAe,CAAC;MACrDI,UAAU,GAAG,IAAI,CAACH,eAAe;MACjCE,UAAU,GAAGttI,cAAc,CAAC,CAAC,CAAC,EAAE,IAAI,CAACqtI,eAAe,CAAC;IACvD,CAAC,MAAM;MACLS,UAAU,GAAG;QAAE9nH,GAAG,EAAE,CAAC;QAAEE,MAAM,EAAE,CAAC;QAAEC,IAAI,EAAE,CAAC;QAAEF,KAAK,EAAE;MAAE,CAAC;MACrDsnH,UAAU,GAAG,KAAK;MAClBD,UAAU,GAAG;QAAEtoH,UAAU,EAAE,IAAI;QAAEjM,MAAM,EAAE;MAAK,CAAC;MAC/C,IAAI,CAACm0H,iBAAiB,GAAGU,YAAY;IACvC;IACA,MAAMG,cAAc,GAAG,IAAIz/H,GAAG,CAAC,IAAI,CAACwL,IAAI,CAACvE,GAAG,CAAEtV,CAAC,IAAKA,CAAC,CAACwmB,QAAQ,CAAC,CAAC;IAChE,KAAK,MAAMA,QAAQ,IAAI5oB,MAAM,CAAC4S,IAAI,CAACq9H,UAAU,CAAC,EAAE;MAC9C,IAAI,CAACC,cAAc,CAAC9oI,GAAG,CAACwhB,QAAQ,CAAC,EAAE;QACjC,OAAOqnH,UAAU,CAACrnH,QAAQ,CAAC;MAC7B;IACF;IACA,MAAMunH,aAAa,GAAGA,CAACC,eAAe,EAAEC,eAAe,EAAEC,eAAe,KAAK;MAC3E,IAAItwI,MAAM,CAAC4S,IAAI,CAACw9H,eAAe,CAAC,CAAC5+H,IAAI,CAAEvM,CAAC,IAAKgrI,UAAU,CAAChrI,CAAC,CAAC,IAAI,IAAI,CAAC,EAAE;QACnE,OAAO,KAAK;MACd;MACA,OAAOwqI,UAAU,CAACtoH,UAAU,KAAKmpH,eAAe,CAACnpH,UAAU,IAAIsoH,UAAU,CAACv0H,MAAM,KAAKo1H,eAAe,CAACp1H,MAAM;MAAI;MAC/Glb,MAAM,CAAC+X,OAAO,CAACk4H,UAAU,CAAC,CAAC7kI,KAAK,CAAC,CAAC,CAACwgC,CAAC,EAAE3H,CAAC,CAAC,KAAK;QAC3C,MAAMssG,MAAM,GAAGH,eAAe,CAACxkG,CAAC,CAAC;QACjC,IAAI3H,CAAC,IAAI,IAAI,IAAIssG,MAAM,IAAI,IAAI,EAAE;UAC/B,OAAOtsG,CAAC,KAAKssG,MAAM;QACrB;QACA,OAAO,IAAI;MACb,CAAC,CAAC,IAAIb,UAAU,KAAKW,eAAe;IACtC,CAAC;IACD,MAAMG,UAAU,GAAIC,OAAO,IAAK74H,SAAS,CAAC64H,OAAO,EAAG1uI,KAAK,IAAK;MAC5D,IAAIA,KAAK,IAAIL,IAAI,CAAC27B,GAAG,CAACt7B,KAAK,CAAC,KAAKyuB,QAAQ,EAAE;QACzC,OAAO,CAAC;MACV;MACA,OAAOzuB,KAAK,IAAI,IAAI,GAAGL,IAAI,CAAC0I,IAAI,CAACrI,KAAK,CAAC,GAAGA,KAAK;IACjD,CAAC,CAAC;IACF,IAAI2uI,kBAAkB,GAAG,CAAC,CAAC;IAC3B,IAAIC,kBAAkB,GAAG,CAAC,CAAC;IAC3B,IAAIC,kBAAkB,GAAG,KAAK;IAC9B,IAAIljB,UAAU,GAAG,CAAChjH,EAAE,GAAG,IAAI,CAACgjH,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhjH,EAAE,CAACuN,KAAK,CAAC,CAAC;IACrE,IAAIqhB,KAAK,GAAG,CAAC;IACb,IAAIu3G,iBAAiB,GAAG,CAAC,CAAC;IAC1B,GAAG;MACD7wI,MAAM,CAAC2I,MAAM,CAACsnI,UAAU,EAAES,kBAAkB,CAAC;MAC7ChB,UAAU,GAAGkB,kBAAkB;MAC/B5wI,MAAM,CAAC2I,MAAM,CAAC8mI,UAAU,EAAEkB,kBAAkB,CAAC;MAC7C,MAAMxtI,MAAM,GAAG,IAAI,CAAC2tI,cAAc,CAACb,UAAU,EAAEH,eAAe,CAAC73H,KAAK,CAAC,CAAC,EAAEy1G,UAAU,CAAC;MACnFgjB,kBAAkB,GAAGF,UAAU,CAACrtI,MAAM,CAAC8sI,UAAU,CAAC;MAClDU,kBAAkB,GAAGxtI,MAAM,CAACssI,UAAU;MACtCmB,kBAAkB,GAAGztI,MAAM,CAACusI,UAAU;MACtChiB,UAAU,GAAGvqH,MAAM,CAACuqH,UAAU;MAC9BmjB,iBAAiB,GAAG1tI,MAAM,CAAC0tI,iBAAiB;MAC5C,IAAIv3G,KAAK,EAAE,GAAG,EAAE,EAAE;QAChBrwB,MAAM,CAACI,IAAI,CAAC,oCAAoC,CAAC;QACjD;MACF;IACF,CAAC,QAAQ,CAAC8mI,aAAa,CAACO,kBAAkB,EAAEE,kBAAkB,EAAED,kBAAkB,CAAC;IACnF,IAAI,CAAC10H,IAAI,CAACE,OAAO,CAAED,IAAI,IAAK;MAC1BA,IAAI,CAACq+B,MAAM,CAACs2F,iBAAiB,CAAC30H,IAAI,CAACyqD,SAAS,CAAC,CAAC;IAChD,CAAC,CAAC;IACF,MAAMoqE,eAAe,GAAG,CAAC;IACzB,IAAI,CAAC90H,IAAI,CAACE,OAAO,CAAED,IAAI,IAAK;MAC1BA,IAAI,CAAC2iE,oBAAoB,CAAC4wD,UAAU,CAACtoH,UAAU,CAAC;MAChD,IAAI,CAACumG,UAAU,EAAE;QACf;MACF;MACAxxG,IAAI,CAAC6qE,QAAQ,CACX2mC,UAAU,CAACppH,CAAC,EACZopH,UAAU,CAACtvF,CAAC,EACZsvF,UAAU,CAAC7mG,KAAK,GAAGkqH,eAAe,EAClCrjB,UAAU,CAACvuF,MAAM,GAAG4xG,eACtB,CAAC;MACD,QAAQ70H,IAAI,CAAC0M,QAAQ;QACnB,KAAK,MAAM;QACX,KAAK,OAAO;UACV1M,IAAI,CAAC4qE,aAAa,CAChBgpD,eAAe,CAACxrI,CAAC,EACjBopH,UAAU,CAACtvF,CAAC,EACZ0xG,eAAe,CAACjpH,KAAK,GAAGkqH,eAAe,EACvCrjB,UAAU,CAACvuF,MAAM,GAAG4xG,eACtB,CAAC;UACD;QACF,KAAK,KAAK;QACV,KAAK,QAAQ;UACX70H,IAAI,CAAC4qE,aAAa,CAChB4mC,UAAU,CAACppH,CAAC,EACZwrI,eAAe,CAAC1xG,CAAC,EACjBsvF,UAAU,CAAC7mG,KAAK,GAAGkqH,eAAe,EAClCjB,eAAe,CAAC3wG,MAAM,GAAG4xG,eAC3B,CAAC;UACD;MACJ;IACF,CAAC,CAAC;IACF,IAAI,CAACzB,eAAe,GAAGW,UAAU;IACjC,IAAI,CAACT,eAAe,GAAGC,UAAU;IACjC,OAAO;MAAE/hB,UAAU;MAAEoE,aAAa,EAAEge,eAAe;MAAEL,UAAU;MAAEC;IAAW,CAAC;EAC/E;EACAoB,cAAcA,CAACb,UAAU,EAAEz9D,MAAM,EAAEw+D,kBAAkB,EAAE;IACrD,MAAMC,OAAO,GAAG,CAAC,CAAC;IAClB,MAAMC,aAAa,GAAG,CAAC,CAAC;IACxB,MAAMzB,UAAU,GAAG;MACjBv0H,MAAM,EAAE,IAAI;MACZiM,UAAU,EAAE;IACd,CAAC;IACD,IAAIuoH,UAAU,GAAG,KAAK;IACtB,MAAMmB,iBAAiB,GAAG,CAAC,CAAC;IAC5B,MAAMM,YAAY,GAAG,IAAI,CAACC,kBAAkB,CAAC5+D,MAAM,CAAC;IACpD,MAAM6+D,gBAAgB,GAAGL,kBAAkB,GAAG,IAAI,CAACM,qBAAqB,CAACrB,UAAU,CAAC,GAAG,CAAC,CAAC;IACzF,MAAMsB,SAAS,GAAG,IAAI,CAACC,cAAc,CAACL,YAAY,EAAElB,UAAU,EAAEoB,gBAAgB,EAAE5B,UAAU,CAAC;IAC7F,MAAM/hB,UAAU,GAAG,IAAI,CAAC+jB,eAAe,CAACF,SAAS,EAAEtB,UAAU,CAAC;IAC9D,IAAI,CAACh0H,IAAI,CAACE,OAAO,CAAED,IAAI,IAAK;MAC1B,IAAIxR,EAAE,EAAEsQ,EAAE;MACV,MAAM;QAAE4N,QAAQ,GAAG;MAAO,CAAC,GAAG1M,IAAI;MAClC,MAAM;QACJwzH,UAAU,EAAEgC,aAAa;QACzBC,aAAa;QACbC;MACF,CAAC,GAAG,IAAI,CAACC,uBAAuB,CAAC;QAC/B31H,IAAI;QACJwxG,UAAU;QACVyjB,YAAY;QACZlB,UAAU;QACViB,aAAa;QACbL,iBAAiB;QACjBnB,UAAU;QACVoC,mBAAmB,EAAE,CAAC,CAACpnI,EAAE,GAAGumI,OAAO,CAACroH,QAAQ,CAAC,KAAK,IAAI,GAAGle,EAAE,GAAG,CAAC,IAAI;MACrE,CAAC,CAAC;MACFumI,OAAO,CAACroH,QAAQ,CAAC,GAAG,CAAC,CAAC5N,EAAE,GAAGi2H,OAAO,CAACroH,QAAQ,CAAC,KAAK,IAAI,GAAG5N,EAAE,GAAG,CAAC,IAAI,CAAC;MACnE00H,UAAU,GAAGA,UAAU,IAAIgC,aAAa;MACxC,IAAI,CAACK,YAAY,CAAC;QAChB71H,IAAI;QACJq1H,SAAS;QACTK,UAAU;QACVD,aAAa;QACb1B,UAAU;QACVY,iBAAiB;QACjBnjB;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IACF,OAAO;MAAEgiB,UAAU;MAAEhiB,UAAU;MAAEuiB,UAAU,EAAEiB,aAAa;MAAEzB,UAAU;MAAEoB;IAAkB,CAAC;EAC7F;EACAS,qBAAqBA,CAACrB,UAAU,EAAE;IAChC,IAAIvlI,EAAE;IACN,MAAM2mI,gBAAgB,GAAG,CAAC,CAAC;IAC3B,IAAI,CAACp1H,IAAI,CAACE,OAAO,CAAED,IAAI,IAAK;MAC1B,IAAIA,IAAI,CAACiL,UAAU,EAAE;QACnBjL,IAAI,CAACiL,UAAU,CAAChL,OAAO,CAAEgiE,SAAS,IAAK;UACrC,IAAIplD,GAAG;UACP,CAACA,GAAG,GAAGolD,SAAS,CAAC7V,gBAAgB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvvC,GAAG,CAACx2B,IAAI,CAAC47E,SAAS,EAAEkzD,gBAAgB,CAAC;QAC7F,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;IACF,KAAK,MAAM,CAACW,IAAI,EAAEtrH,OAAO,GAAG,CAAC,CAAC,IAAI1mB,MAAM,CAAC+X,OAAO,CAACs5H,gBAAgB,CAAC,EAAE;MAClEA,gBAAgB,CAACW,IAAI,CAAC,GAAGtwI,IAAI,CAAC6J,GAAG,CAACmb,OAAO,IAAI,CAAChc,EAAE,GAAGulI,UAAU,CAAC+B,IAAI,CAAC,KAAK,IAAI,GAAGtnI,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5F;IACA,OAAO2mI,gBAAgB;EACzB;EACAD,kBAAkBA,CAAC5+D,MAAM,EAAE;IACzB,MAAMo9D,UAAU,GAAGp9D,MAAM,CAACv6D,KAAK,CAAC,CAAC;IACjC,MAAMg6H,YAAY,GAAG,IAAI,CAACh2H,IAAI,CAACxD,KAAK,CAAC,CAAC,CAACnB,OAAO,CAAC,CAAC;IAChDwtG,UAAU,CAAC3oG,OAAO,CAAE+1H,GAAG,IAAK;MAC1B,MAAMxrH,OAAO,GAAG,IAAI,CAACqnG,UAAU,CAACrnG,OAAO,CAACwrH,GAAG,CAAC;MAC5C,MAAMh2H,IAAI,GAAG+1H,YAAY,CAAClhI,IAAI,CAAE3O,CAAC,IAAKA,CAAC,CAACwmB,QAAQ,KAAKspH,GAAG,CAAC;MACzD,IAAIh2H,IAAI,EAAE;QACRA,IAAI,CAAC8gE,iBAAiB,GAAGt2D,OAAO;MAClC,CAAC,MAAM;QACLkpH,UAAU,CAAC1vG,MAAM,CAACxZ,OAAO,EAAEwrH,GAAG,CAAC;MACjC;IACF,CAAC,CAAC;IACF,OAAOtC,UAAU;EACnB;EACA4B,cAAcA,CAACh/D,MAAM,EAAEy9D,UAAU,EAAEoB,gBAAgB,EAAE5B,UAAU,EAAE;IAC/D,IAAI/kI,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,MAAMzY,MAAM,GAAGqvE,MAAM,CAACv6D,KAAK,CAAC,CAAC;IAC7B,MAAM;MAAEkQ,GAAG,GAAG,CAAC;MAAEC,KAAK,GAAG,CAAC;MAAEC,MAAM,GAAG,CAAC;MAAEC,IAAI,GAAG;IAAE,CAAC,GAAG+oH,gBAAgB;IACrE,MAAMc,iBAAiB,GAAG7pH,IAAI,GAAGF,KAAK;IACtC,MAAMgqH,eAAe,GAAGjqH,GAAG,GAAGE,MAAM;IACpC,MAAMgqH,UAAU,GAAG,CAAC,CAAC3nI,EAAE,GAAGulI,UAAU,CAAC3nH,IAAI,KAAK,IAAI,GAAG5d,EAAE,GAAG,CAAC,KAAK,CAACsQ,EAAE,GAAGi1H,UAAU,CAAC7nH,KAAK,KAAK,IAAI,GAAGpN,EAAE,GAAG,CAAC,CAAC,GAAGm3H,iBAAiB;IAC7H,MAAM71E,WAAW,GAAG,CAAC,CAACrhD,EAAE,GAAGg1H,UAAU,CAAC9nH,GAAG,KAAK,IAAI,GAAGlN,EAAE,GAAG,CAAC,KAAK,CAACW,EAAE,GAAGq0H,UAAU,CAAC5nH,MAAM,KAAK,IAAI,GAAGzM,EAAE,GAAG,CAAC,CAAC,GAAGw2H,eAAe;IAC5H,IAAIjvI,MAAM,CAAC0jB,KAAK,IAAIwrH,UAAU,IAAIlvI,MAAM,CAACg8B,MAAM,IAAIm9B,WAAW,EAAE;MAC9DmzE,UAAU,CAACtoH,UAAU,GAAG,KAAK;MAC7BsoH,UAAU,CAACv0H,MAAM,GAAG,KAAK;MACzB,OAAO/X,MAAM;IACf;IACAA,MAAM,CAACmB,CAAC,IAAIgkB,IAAI;IAChBnlB,MAAM,CAACi7B,CAAC,IAAIjW,GAAG;IACfhlB,MAAM,CAAC0jB,KAAK,IAAIsrH,iBAAiB;IACjChvI,MAAM,CAACg8B,MAAM,IAAIizG,eAAe;IAChC,OAAOjvI,MAAM;EACf;EACAsuI,eAAeA,CAACF,SAAS,EAAEtB,UAAU,EAAE;IACrC,MAAM9sI,MAAM,GAAGouI,SAAS,CAACt5H,KAAK,CAAC,CAAC;IAChC,MAAM;MAAEkQ,GAAG;MAAEE,MAAM;MAAEC,IAAI;MAAEF;IAAM,CAAC,GAAG6nH,UAAU;IAC/C9sI,MAAM,CAACmB,CAAC,IAAIgkB,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,CAAC;IACnCnlB,MAAM,CAACi7B,CAAC,IAAIjW,GAAG,IAAI,IAAI,GAAGA,GAAG,GAAG,CAAC;IACjChlB,MAAM,CAAC0jB,KAAK,IAAI,CAACyB,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,CAAC,KAAKF,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAG,CAAC,CAAC;IACvEjlB,MAAM,CAACg8B,MAAM,IAAI,CAAChX,GAAG,IAAI,IAAI,GAAGA,GAAG,GAAG,CAAC,KAAKE,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAG,CAAC,CAAC;IACxEllB,MAAM,CAAC0jB,KAAK,GAAGnlB,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEpI,MAAM,CAAC0jB,KAAK,CAAC;IACxC1jB,MAAM,CAACg8B,MAAM,GAAGz9B,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEpI,MAAM,CAACg8B,MAAM,CAAC;IAC1C,OAAOh8B,MAAM;EACf;EACAmvI,wBAAwBA,CAAC5kB,UAAU,EAAE3rH,KAAK,EAAEwwI,SAAS,EAAE5rE,SAAS,EAAE;IAChE,MAAM;MAAEriE,CAAC;MAAE85B,CAAC;MAAEvX,KAAK;MAAEsY;IAAO,CAAC,GAAGuuF,UAAU;IAC1C,MAAM8kB,WAAW,GAAG,CAACluI,CAAC,EAAE85B,CAAC,EAAE95B,CAAC,GAAGuiB,KAAK,EAAEuX,CAAC,GAAGe,MAAM,CAAC;IACjD,MAAMszG,SAAS,GAAGD,WAAW,CAAC,CAACD,SAAS,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK5rE,SAAS,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACtF,MAAM+rE,OAAO,GAAG/rE,SAAS,KAAK,CAAC,GAAGjlE,IAAI,CAAC6uB,GAAG,GAAG7uB,IAAI,CAAC6J,GAAG;IACrD,OAAOmnI,OAAO,CAAC3wI,KAAK,EAAE0wI,SAAS,CAAC;EAClC;EACAZ,uBAAuBA,CAACzzH,IAAI,EAAE;IAC5B,IAAI1T,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,MAAM;MAAEM,IAAI;MAAEwxG,UAAU;MAAEyjB,YAAY;MAAElB,UAAU;MAAEiB,aAAa;MAAEL,iBAAiB;MAAEiB;IAAoB,CAAC,GAAG1zH,IAAI;IAClH,IAAI;MAAEsxH;IAAW,CAAC,GAAGtxH,IAAI;IACzB,MAAM;MAAEwK,QAAQ,GAAG,MAAM;MAAE+9C;IAAU,CAAC,GAAGzqD,IAAI;IAC7C,MAAMy2H,UAAU,GAAGz2H,IAAI,YAAY0sE,YAAY,IAAI1sE,IAAI,YAAYkxE,mBAAmB;IACtF,MAAMwlD,WAAW,GAAGhqH,QAAQ,KAAK,MAAM,IAAIA,QAAQ,KAAK,OAAO;IAC/D,MAAMgpH,UAAU,GAAG,CAAClnI,EAAE,GAAGwmI,aAAa,CAACtoH,QAAQ,CAAC,KAAK,IAAI,GAAGle,EAAE,GAAG,CAAC;IAClE,MAAM;MAAE6lB,GAAG;MAAEhlB;IAAI,CAAC,GAAG,IAAI,CAAC64B,GAAG,CAACsqE,WAAW,CAACwM,WAAW,CAACh/F,IAAI,CAACwqB,EAAE,CAAC;IAC9D,IAAIksG,WAAW,EAAE;MACf,IAAID,UAAU,EAAE;QACdz2H,IAAI,CAAC5R,KAAK,GAAG,CAAC,CAAC,EAAEojH,UAAU,CAACvuF,MAAM,CAAC;QACnCjjB,IAAI,CAAC2gE,YAAY,GAAG,CAAC,CAAC,GAAGtxE,GAAG,EAAE,CAAC,GAAGglB,GAAG,CAAC;MACxC,CAAC,MAAM;QACLrU,IAAI,CAAC5R,KAAK,GAAG,CAACojH,UAAU,CAACvuF,MAAM,EAAE,CAAC,CAAC;QACnCjjB,IAAI,CAAC2gE,YAAY,GAAG,CAACtsD,GAAG,EAAEhlB,GAAG,CAAC;MAChC;MACA2Q,IAAI,CAACwqD,UAAU,GAAGgnD,UAAU,CAAC7mG,KAAK;IACpC,CAAC,MAAM;MACL3K,IAAI,CAAC5R,KAAK,GAAG,CAAC,CAAC,EAAEojH,UAAU,CAAC7mG,KAAK,CAAC;MAClC3K,IAAI,CAAC2gE,YAAY,GAAG,CAACtsD,GAAG,EAAEhlB,GAAG,CAAC;MAC9B2Q,IAAI,CAACwqD,UAAU,GAAGgnD,UAAU,CAACvuF,MAAM;IACrC;IACA,IAAIshD,gBAAgB,GAAGvkE,IAAI,CAACusC,IAAI,GAAGooF,iBAAiB,CAAClqE,SAAS,CAAC,GAAG,KAAK,CAAC;IACxE,MAAMksE,UAAU,GAAGlsE,SAAS,KAAK,GAAG,CAAC;IACrC,MAAMmsE,uBAAuB,GAAG,GAAG;IACnC,IAAI52H,IAAI,CAACssE,SAAS,EAAE;MAClBtsE,IAAI,CAACghE,YAAY,GAAGhhE,IAAI,CAACssE,SAAS;IACpC,CAAC,MAAM;MACLtsE,IAAI,CAACghE,YAAY,GAAG,CAAC21D,UAAU,GAAG1B,YAAY,CAACtqH,KAAK,GAAGsqH,YAAY,CAAChyG,MAAM,IAAI2zG,uBAAuB;IACvG;IACA,MAAMl2D,MAAM,GAAG1gE,IAAI,CAACmrD,eAAe,CAACoZ,gBAAgB,CAAC;IACrDA,gBAAgB,GAAG7D,MAAM,CAAC6D,gBAAgB;IAC1C,CAACzlE,EAAE,GAAG61H,iBAAiB,CAAClqE,SAAS,CAAC,KAAK,IAAI,GAAG3rD,EAAE,GAAG61H,iBAAiB,CAAClqE,SAAS,CAAC,GAAG8Z,gBAAgB;IAClGivD,UAAU,KAAKA,UAAU,GAAGxzH,IAAI,CAACw/D,UAAU,CAAC9qD,OAAO,IAAI1U,IAAI,CAAC2gE,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI3gE,IAAI,CAAC2gE,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC5G,IAAI80D,aAAa;IACjB,IAAIz1H,IAAI,CAACssE,SAAS,IAAI,IAAI,IAAItsE,IAAI,CAACssE,SAAS,GAAG,CAAC,EAAE;MAChDmpD,aAAa,GAAGz1H,IAAI,CAACssE,SAAS;IAChC,CAAC,MAAM;MACL,MAAM;QAAEhlD;MAAK,CAAC,GAAGo5C,MAAM;MACvB+0D,aAAa,GAAGkB,UAAU,GAAGrvG,IAAI,CAAC3c,KAAK,GAAG2c,IAAI,CAACrE,MAAM;IACvD;IACA,MAAM4zG,WAAW,GAAG,EAAE;IACtB,IAAIjB,mBAAmB,EAAE;MACvBH,aAAa,IAAIoB,WAAW;IAC9B;IACApB,aAAa,GAAGjwI,IAAI,CAAC0I,IAAI,CAACunI,aAAa,CAAC;IACxCT,aAAa,CAACtoH,QAAQ,CAAC,GAAG,CAAC,CAAC3N,EAAE,GAAGi2H,aAAa,CAACtoH,QAAQ,CAAC,KAAK,IAAI,GAAG3N,EAAE,GAAG,CAAC,IAAI02H,aAAa;IAC3Fz1H,IAAI,CAAC6gE,WAAW,GAAG,CAAC,CAACnhE,EAAE,GAAGq0H,UAAU,CAACrnH,QAAQ,CAAC,KAAK,IAAI,GAAGhN,EAAE,GAAG,CAAC,IAAIs1H,aAAa,CAACtoH,QAAQ,CAAC;IAC3F,OAAO;MAAE8mH,UAAU;MAAEiC,aAAa;MAAEC,UAAU;MAAEnxD;IAAiB,CAAC;EACpE;EACAsxD,YAAYA,CAAC3zH,IAAI,EAAE;IACjB,IAAI1T,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,MAAM;MAAEM,IAAI;MAAEq1H,SAAS;MAAEtB,UAAU;MAAEviB,UAAU;MAAEkkB,UAAU;MAAED;IAAc,CAAC,GAAGvzH,IAAI;IACnF,MAAM;MAAEwK;IAAS,CAAC,GAAG1M,IAAI;IACzB,QAAQ0M,QAAQ;MACd,KAAK,KAAK;QACR1M,IAAI,CAACygE,WAAW,CAACr4E,CAAC,GAAGitI,SAAS,CAACjtI,CAAC,IAAI,CAACoG,EAAE,GAAGulI,UAAU,CAAC3nH,IAAI,KAAK,IAAI,GAAG5d,EAAE,GAAG,CAAC,CAAC;QAC5EwR,IAAI,CAACygE,WAAW,CAACv+C,CAAC,GAAG,IAAI,CAACk0G,wBAAwB,CAChD5kB,UAAU,EACV6jB,SAAS,CAACnzG,CAAC,GAAG,CAAC,GAAGwzG,UAAU,GAAGD,aAAa,EAC5C,GAAG,EACH,CACF,CAAC;QACD;MACF,KAAK,QAAQ;QACXz1H,IAAI,CAACygE,WAAW,CAACr4E,CAAC,GAAGitI,SAAS,CAACjtI,CAAC,IAAI,CAAC0W,EAAE,GAAGi1H,UAAU,CAAC3nH,IAAI,KAAK,IAAI,GAAGtN,EAAE,GAAG,CAAC,CAAC;QAC5EkB,IAAI,CAACygE,WAAW,CAACv+C,CAAC,GAAG,IAAI,CAACk0G,wBAAwB,CAChD5kB,UAAU,EACV6jB,SAAS,CAACnzG,CAAC,GAAGmzG,SAAS,CAACpyG,MAAM,GAAG,CAAC,GAAGwyG,aAAa,GAAGC,UAAU,EAC/D,GAAG,EACH,CAAC,CACH,CAAC;QACD;MACF,KAAK,MAAM;QACT11H,IAAI,CAACygE,WAAW,CAACv+C,CAAC,GAAGmzG,SAAS,CAACnzG,CAAC,IAAI,CAACnjB,EAAE,GAAGg1H,UAAU,CAAC9nH,GAAG,KAAK,IAAI,GAAGlN,EAAE,GAAG,CAAC,CAAC;QAC3EiB,IAAI,CAACygE,WAAW,CAACr4E,CAAC,GAAG,IAAI,CAACguI,wBAAwB,CAChD5kB,UAAU,EACV6jB,SAAS,CAACjtI,CAAC,GAAGstI,UAAU,GAAGD,aAAa,EACxC,GAAG,EACH,CACF,CAAC;QACD;MACF,KAAK,OAAO;QACVz1H,IAAI,CAACygE,WAAW,CAACv+C,CAAC,GAAGmzG,SAAS,CAACnzG,CAAC,IAAI,CAACxiB,EAAE,GAAGq0H,UAAU,CAAC9nH,GAAG,KAAK,IAAI,GAAGvM,EAAE,GAAG,CAAC,CAAC;QAC3EM,IAAI,CAACygE,WAAW,CAACr4E,CAAC,GAAG,IAAI,CAACguI,wBAAwB,CAChD5kB,UAAU,EACV6jB,SAAS,CAACjtI,CAAC,GAAGitI,SAAS,CAAC1qH,KAAK,GAAG8qH,aAAa,GAAGC,UAAU,EAC1D,GAAG,EACH,CAAC,CACH,CAAC;QACD;IACJ;IACA11H,IAAI,CAACkkE,cAAc,CAAC;MAAEx7C,QAAQ,EAAEyb,SAAS,CAACnkC,IAAI,CAAC0oB,QAAQ,CAAC;MAAEw9B,QAAQ,EAAElmD,IAAI,CAACuK,KAAK,CAAC6zD,WAAW,CAAC;IAAE,CAAC,CAAC;EACjG;EACA6zD,YAAYA,CAAA,EAAG;IACb,OAAO,CAAC,IAAI,CAACjzH,MAAM,CAAC1J,IAAI,CAAE0J,MAAM,IAAK,EAAEA,MAAM,YAAYitH,eAAe,IAAIjtH,MAAM,CAACizH,YAAY,CAAC,CAAC,CAAC,CAAC;EACrG;AACF,CAAC;AACDe,eAAe,CAACxyH,SAAS,GAAG,gBAAgB;AAC5CwyH,eAAe,CAACj+H,IAAI,GAAG,WAAW;AAClC,IAAI+hI,cAAc,GAAG9D,eAAe;;AAEpC;AACA,IAAI+D,qBAAqB,GAAG,MAAMA,qBAAqB,CAAC;EACtD,OAAOC,UAAUA,CAAC5uI,CAAC,EAAE;IACnB,IAAIoG,EAAE;IACN,IAAIpG,CAAC,YAAY2uI,qBAAqB,EAAE;MACtC,OAAO,IAAI;IACb;IACA,IAAI,CAAC,CAACvoI,EAAE,GAAGpG,CAAC,CAACsF,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGc,EAAE,CAACrJ,IAAI,MAAM,sBAAsB,IAAIiD,CAAC,CAACy5E,KAAK,IAAI,IAAI,EAAE;MACnG,OAAO,IAAI;IACb;IACA,OAAOz5E,CAAC,CAACy5E,KAAK,IAAI,IAAI,IAAI,IAAI,CAACo1D,sBAAsB,CAAC7uI,CAAC,CAAC;EAC1D;EACA,OAAO6uI,sBAAsBA,CAAC7uI,CAAC,EAAE;IAC/B,IAAIoG,EAAE;IACN,MAAM0oI,UAAU,GAAG,CAAC,YAAY,EAAE,SAAS,CAAC;IAC5C,MAAMC,cAAc,GAAGrzI,MAAM,CAAC4S,IAAI,CAAC,CAAClI,EAAE,GAAG1K,MAAM,CAACW,cAAc,CAAC2D,CAAC,CAAC,KAAK,IAAI,GAAGoG,EAAE,GAAG,CAAC,CAAC,CAAC;IACrF,OAAO0oI,UAAU,CAAChoI,KAAK,CAAE9I,IAAI,IAAK+wI,cAAc,CAACzhI,QAAQ,CAACtP,IAAI,CAAC,CAAC;EAClE;EACAsH,WAAWA,CAACm0E,KAAK,EAAE;IACjB,IAAI,CAACA,KAAK,GAAGA,KAAK;EACpB;EACA3nD,UAAUA,CAAA,EAAG;IACX,OAAOvY,SAAS,CAAC,IAAI,CAACkgE,KAAK,CAAC3nD,UAAU,CAAC,CAAC,CAAC;EAC3C;EACAy7F,eAAeA,CAAA,EAAG;IAChB,IAAI,CAAC9zC,KAAK,CAAC8zC,eAAe,CAAC,CAAC;EAC9B;EACA/2B,cAAcA,CAAA,EAAG;IACf,IAAI,CAAC/c,KAAK,CAAC+c,cAAc,CAAC,CAAC;EAC7B;EACA1qF,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC2tE,KAAK,CAAC3tE,OAAO,CAAC,CAAC;EACtB;AACF,CAAC;AACD6iI,qBAAqB,CAACK,cAAc,GAAG,eAAgB,IAAI7/H,OAAO,CAAC,CAAC;AACpEzQ,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACV5/D,QAAQA,CAAC4pE,KAAK,EAAE;IACdk1D,qBAAqB,CAACK,cAAc,CAACv2H,MAAM,CAACghE,KAAK,CAAC;EACpD,CAAC;EACDvlE,QAAQA,CAACulE,KAAK,EAAE;IACdk1D,qBAAqB,CAACK,cAAc,CAACjsI,GAAG,CAAC02E,KAAK,EAAE,IAAI,CAAC;EACvD;AACF,CAAC,CAAC,CACH,EAAEk1D,qBAAqB,CAACpyI,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC/C,IAAI0yI,oBAAoB,GAAGN,qBAAqB;;AAEhD;AACA,IAAIO,WAAW,GAAG,cAActpF,eAAe,CAAC;EAC9CtgD,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACrB,IAAI,CAACqH,IAAI,GAAG,QAAQ;EACtB;EACA84C,QAAQA,CAAC7/C,CAAC,EAAE;IACV,OAAOA,CAAC;EACV;EACA83C,KAAKA,CAAA,EAAG;IACN,IAAIt3C,EAAE;IACN,MAAM4uB,KAAK,GAAG,CAAC5uB,EAAE,GAAG,IAAI,CAACg+C,SAAS,KAAK,IAAI,GAAGh+C,EAAE,GAAGw/C,eAAe,CAACvB,gBAAgB;IACnF,IAAI,CAAC,IAAI,CAAC7G,MAAM,IAAI,IAAI,CAACA,MAAM,CAACz+C,MAAM,GAAG,CAAC,IAAIi2B,KAAK,GAAG,CAAC,IAAI,IAAI,CAACwoB,MAAM,CAACtwC,IAAI,CAAEtH,CAAC,IAAK,CAACsM,QAAQ,CAACtM,CAAC,CAAC,CAAC,EAAE;MAChG,OAAO,EAAE;IACX;IACA,IAAI,CAAC23C,OAAO,CAAC,CAAC;IACd,MAAM,CAAC4H,EAAE,EAAEC,EAAE,CAAC,GAAG,IAAI,CAACP,SAAS,CAAC,CAAC;IACjC,MAAM;MAAE9H;IAAS,CAAC,GAAG,IAAI;IACzB,IAAIA,QAAQ,EAAE;MACZ,MAAMp9C,IAAI,GAAGvC,IAAI,CAAC27B,GAAG,CAACgkB,QAAQ,CAAC;MAC/B,MAAMqP,cAAc,GAAG,IAAI,CAAC1G,aAAa,CAAC,CAAC;MAC3C,IAAI,CAACyG,eAAe,CAAC;QAAElmD,KAAK,EAAEk/C,EAAE;QAAEj/C,IAAI,EAAEk/C,EAAE;QAAErI,QAAQ,EAAEp9C,IAAI;QAAEysD;MAAe,CAAC,CAAC,EAAE;QAC7E,OAAOpmD,KAAK,CAACm/C,EAAE,EAAEC,EAAE,EAAEzlD,IAAI,CAAC;MAC5B;IACF;IACA,OAAOwrD,aAAa,CAAChG,EAAE,EAAEC,EAAE,EAAEpwB,KAAK,EAAE,IAAI,CAACsvB,YAAY,EAAE,IAAI,CAACC,YAAY,CAAC;EAC3E;EACAtO,MAAMA,CAAA,EAAG;IACP,IAAI,CAAC,IAAI,CAACuH,MAAM,IAAI,IAAI,CAACA,MAAM,CAACz+C,MAAM,GAAG,CAAC,EAAE;MAC1C;IACF;IACA,IAAI,IAAI,CAAColD,IAAI,EAAE;MACb,IAAI,CAACwJ,gBAAgB,CAAC,CAAC;IACzB;EACF;EACAwhF,WAAWA,CAAClpI,KAAK,EAAEC,IAAI,EAAE;IACvB,IAAIE,EAAE,EAAEsQ,EAAE;IACV,MAAMse,KAAK,GAAG,CAAC5uB,EAAE,GAAG,IAAI,CAACg+C,SAAS,KAAK,IAAI,GAAGh+C,EAAE,GAAGw/C,eAAe,CAACvB,gBAAgB;IACnF,OAAO,CAAC3tC,EAAE,GAAG,IAAI,CAACqmC,QAAQ,KAAK,IAAI,GAAGrmC,EAAE,GAAG40C,QAAQ,CAACrlD,KAAK,EAAEC,IAAI,EAAE8uB,KAAK,EAAE,IAAI,CAACsvB,YAAY,EAAE,IAAI,CAACC,YAAY,CAAC;EAC/G;EACA;AACF;AACA;EACEoJ,gBAAgBA,CAAA,EAAG;IACjB,IAAIvnD,EAAE;IACN,MAAM4uB,KAAK,GAAG,CAAC5uB,EAAE,GAAG,IAAI,CAACg+C,SAAS,KAAK,IAAI,GAAGh+C,EAAE,GAAGw/C,eAAe,CAACvB,gBAAgB;IACnF,IAAIrvB,KAAK,GAAG,CAAC,EAAE;MACb,IAAI,CAACwvB,UAAU,GAAG,CAAC,GAAG,IAAI,CAAChH,MAAM,CAAC;MAClC;IACF;IACA,IAAI,CAACv3C,KAAK,EAAEC,IAAI,CAAC,GAAG,IAAI,CAACs3C,MAAM;IAC/B,IAAIxoB,KAAK,KAAK,CAAC,EAAE;MACf,CAAC/uB,KAAK,EAAEC,IAAI,CAAC,GAAG6lD,gBAAgB,CAAC9lD,KAAK,EAAEC,IAAI,CAAC;IAC/C,CAAC,MAAM;MACL,MAAM8lD,UAAU,GAAG/lD,KAAK,GAAGC,IAAI,GAAG9I,IAAI,CAAC0I,IAAI,GAAG1I,IAAI,CAACsI,KAAK;MACxD,MAAMumD,SAAS,GAAG/lD,IAAI,GAAGD,KAAK,GAAG7I,IAAI,CAACsI,KAAK,GAAGtI,IAAI,CAAC0I,IAAI;MACvD,MAAM8nD,WAAW,GAAG,CAAC;MACrB,KAAK,IAAI9uD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8uD,WAAW,EAAE9uD,CAAC,EAAE,EAAE;QACpC,MAAMswI,KAAK,GAAGnpI,KAAK;QACnB,MAAMopI,KAAK,GAAGnpI,IAAI;QAClB,MAAMvG,IAAI,GAAG,IAAI,CAACwvI,WAAW,CAAClpI,KAAK,EAAEC,IAAI,CAAC;QAC1C,MAAM,CAACi/C,EAAE,EAAEC,EAAE,CAAC,GAAG,IAAI,CAAC5H,MAAM;QAC5B,IAAI79C,IAAI,IAAI,CAAC,EAAE;UACbsG,KAAK,GAAG+lD,UAAU,CAAC7G,EAAE,GAAGxlD,IAAI,CAAC,GAAGA,IAAI;UACpCuG,IAAI,GAAG+lD,SAAS,CAAC7G,EAAE,GAAGzlD,IAAI,CAAC,GAAGA,IAAI;QACpC,CAAC,MAAM;UACL,MAAMkH,CAAC,GAAG,CAAC,GAAGlH,IAAI;UAClBsG,KAAK,GAAG+lD,UAAU,CAAC7G,EAAE,GAAGt+C,CAAC,CAAC,GAAGA,CAAC;UAC9BX,IAAI,GAAG+lD,SAAS,CAAC7G,EAAE,GAAGv+C,CAAC,CAAC,GAAGA,CAAC;QAC9B;QACA,IAAIZ,KAAK,KAAKmpI,KAAK,IAAIlpI,IAAI,KAAKmpI,KAAK,EAAE;UACrC;QACF;MACF;IACF;IACA,IAAI,CAAC7qF,UAAU,GAAG,CAACv+C,KAAK,EAAEC,IAAI,CAAC;EACjC;EACAunD,UAAUA,CAAC;IAAE/P,KAAK,EAAE4xF,cAAc;IAAE5hF;EAAU,CAAC,EAAE;IAC/C,OAAOD,UAAU,CAAC6hF,cAAc,IAAI,IAAI,GAAGA,cAAc,GAAG,IAAI,CAAC5xF,KAAK,CAAC,CAAC,EAAEgQ,SAAS,CAAC;EACtF;AACF,CAAC;;AAED;AACA,SAAS6hF,0BAA0BA,CAAC/xF,MAAM,EAAE2+B,gBAAgB,EAAEnpE,OAAO,EAAE;EACrE,IAAI,CAAC/M,KAAK,EAAEC,IAAI,CAAC,GAAGyyB,UAAU,CAAC6kB,MAAM,CAAC;EACtCv3C,KAAK,GAAGupI,kBAAkB,CAACpyI,IAAI,CAACsI,KAAK,CAACO,KAAK,CAAC,EAAEC,IAAI,EAAEi2E,gBAAgB,CAAC;EACrE,MAAMx8E,IAAI,GAAGwvI,WAAW,CAAClpI,KAAK,EAAEC,IAAI,EAAEi2E,gBAAgB,CAAC;EACvD,MAAMszD,QAAQ,GAAGtzD,gBAAgB,GAAG,CAAC;EACrCj2E,IAAI,GAAGD,KAAK,GAAGwpI,QAAQ,GAAG9vI,IAAI;EAC9B,MAAMiG,CAAC,GAAGoN,OAAO,GAAG,CAAC9M,IAAI,EAAED,KAAK,CAAC,GAAG,CAACA,KAAK,EAAEC,IAAI,CAAC;EACjD,MAAMw3C,KAAK,GAAG+iC,QAAQ,CAACx6E,KAAK,EAAEtG,IAAI,EAAEw8E,gBAAgB,CAAC;EACrD,OAAO,CAACv2E,CAAC,EAAE83C,KAAK,CAAC;AACnB;AACA,SAAS8xF,kBAAkBA,CAAC1xI,CAAC,EAAEC,CAAC,EAAEi3B,KAAK,EAAE;EACvC,MAAMwpB,OAAO,GAAGphD,IAAI,CAAC27B,GAAG,CAACh7B,CAAC,GAAGD,CAAC,CAAC,IAAIk3B,KAAK,GAAG,CAAC,CAAC;EAC7C,MAAM06G,KAAK,GAAGtyI,IAAI,CAACsI,KAAK,CAACtI,IAAI,CAACouD,KAAK,CAAChN,OAAO,CAAC,CAAC;EAC7C,MAAMmxF,SAAS,GAAGvyI,IAAI,CAACC,GAAG,CAAC,EAAE,EAAEqyI,KAAK,CAAC;EACrC,OAAOtyI,IAAI,CAACsI,KAAK,CAAC5H,CAAC,GAAG6xI,SAAS,CAAC,GAAGA,SAAS;AAC9C;AACA,SAASlvD,QAAQA,CAACx6E,KAAK,EAAEtG,IAAI,EAAEq1B,KAAK,EAAE;EACpC,MAAM46G,SAAS,GAAGxyI,IAAI,CAACsI,KAAK,CAACtI,IAAI,CAACouD,KAAK,CAAC7rD,IAAI,CAAC,CAAC;EAC9C,MAAMgpC,cAAc,GAAGhpC,IAAI,GAAG,CAAC,IAAIA,IAAI,GAAG,CAAC,GAAGvC,IAAI,CAAC27B,GAAG,CAAC62G,SAAS,CAAC,GAAG,CAAC;EACrE,MAAM9/H,CAAC,GAAG1S,IAAI,CAACC,GAAG,CAAC,EAAE,EAAEsrC,cAAc,CAAC;EACtC,MAAM+U,KAAK,GAAGuN,kBAAkB,CAACtiB,cAAc,CAAC;EAChD,KAAK,IAAI7pC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGk2B,KAAK,EAAEl2B,CAAC,EAAE,EAAE;IAC9B,MAAM0jB,IAAI,GAAGvc,KAAK,GAAGtG,IAAI,GAAGb,CAAC;IAC7B4+C,KAAK,CAAC5+C,CAAC,CAAC,GAAG1B,IAAI,CAAC8J,KAAK,CAACsb,IAAI,GAAG1S,CAAC,CAAC,GAAGA,CAAC;EACrC;EACA,OAAO4tC,KAAK;AACd;AACA,SAASyxF,WAAWA,CAAClpI,KAAK,EAAEC,IAAI,EAAE8uB,KAAK,EAAE;EACvC,MAAMy6G,QAAQ,GAAGz6G,KAAK,GAAG,CAAC;EAC1B,MAAMwpB,OAAO,GAAG,CAACt4C,IAAI,GAAGD,KAAK,IAAIwpI,QAAQ;EACzC,OAAOI,qBAAqB,CAACrxF,OAAO,CAAC;AACvC;AACA,SAASqxF,qBAAqBA,CAACrxF,OAAO,EAAE;EACtC,MAAMkxF,KAAK,GAAGtyI,IAAI,CAACsI,KAAK,CAACtI,IAAI,CAACouD,KAAK,CAAChN,OAAO,CAAC,CAAC;EAC7C,MAAMmxF,SAAS,GAAGvyI,IAAI,CAACC,GAAG,CAAC,EAAE,EAAEqyI,KAAK,CAAC;EACrC,MAAM/vI,IAAI,GAAG6+C,OAAO,GAAGmxF,SAAS,GAAG,EAAE;EACrC,IAAIhwI,IAAI,GAAG,CAAC,IAAIA,IAAI,IAAI,CAAC,EAAE;IACzB,OAAOgwI,SAAS,GAAG,EAAE;EACvB;EACA,IAAIhwI,IAAI,GAAG,CAAC,IAAIA,IAAI,IAAI,CAAC,EAAE;IACzB,OAAO,CAAC,GAAGgwI,SAAS,GAAG,EAAE;EAC3B;EACA,IAAIhwI,IAAI,GAAG,CAAC,IAAIA,IAAI,IAAI,CAAC,EAAE;IACzB,OAAO,CAAC,GAAGgwI,SAAS,GAAG,EAAE;EAC3B;EACA,IAAIhwI,IAAI,GAAG,CAAC,IAAIA,IAAI,IAAI,EAAE,EAAE;IAC1B,OAAO,EAAE,GAAGgwI,SAAS,GAAG,EAAE;EAC5B;EACA,IAAIhwI,IAAI,GAAG,EAAE,IAAIA,IAAI,IAAI,EAAE,EAAE;IAC3B,OAAO,EAAE,GAAGgwI,SAAS,GAAG,EAAE;EAC5B;EACA,IAAIhwI,IAAI,GAAG,EAAE,IAAIA,IAAI,IAAI,EAAE,EAAE;IAC3B,OAAO,EAAE,GAAGgwI,SAAS,GAAG,EAAE;EAC5B;EACA,IAAIhwI,IAAI,GAAG,EAAE,IAAIA,IAAI,IAAI,EAAE,EAAE;IAC3B,OAAO,EAAE,GAAGgwI,SAAS,GAAG,EAAE;EAC5B;EACA,IAAIhwI,IAAI,GAAG,EAAE,IAAIA,IAAI,IAAI,GAAG,EAAE;IAC5B,OAAO,GAAG,GAAGgwI,SAAS,GAAG,EAAE;EAC7B;EACA,OAAOhwI,IAAI;AACb;;AAEA;AACA,IAAImwI,cAAc,GAAG,cAAcnsF,QAAQ,CAAC;EAC1Cr+C,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC8Z,UAAU,GAAGnxC,GAAG;IACrB,IAAI,CAACyyD,UAAU,GAAGzyD,GAAG;EACvB;AACF,CAAC;AACD7tB,eAAe,CAAC,CACdugD,QAAQ,CAACgE,WAAW,CAAC,EACrBnE,OAAO,CAACvyB,GAAG,CAAC,CACb,EAAEujH,cAAc,CAACvzI,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACiE,WAAW,CAAC,EACrBpE,OAAO,CAACvyB,GAAG,CAAC,CACb,EAAEujH,cAAc,CAACvzI,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC7C,IAAIwzI,UAAU,GAAG,cAAc3rD,aAAa,CAAC;EAC3C9+E,WAAWA,CAAC+uE,SAAS,EAAElV,MAAM,GAAG,IAAI+vE,WAAW,CAAC,CAAC,EAAE;IACjD,KAAK,CAAC76D,SAAS,EAAElV,MAAM,CAAC;IACxB,IAAI,CAAClzC,GAAG,GAAGM,GAAG;IACd,IAAI,CAACtlB,GAAG,GAAGslB,GAAG;EAChB;EACAoyD,mBAAmBA,CAAC/4E,CAAC,EAAE;IACrB,MAAM;MAAEqmB,GAAG;MAAEhlB;IAAI,CAAC,GAAG,IAAI;IACzB,MAAM;MAAE+kB,MAAM,EAAEy+B,OAAO;MAAEn+B;IAAQ,CAAC,GAAGD,4BAA4B,CAACzmB,CAAC,EAAEqmB,GAAG,EAAEhlB,GAAG,CAAC;IAC9E,OAAO;MAAEu2C,MAAM,EAAEiN,OAAO;MAAEn+B;IAAQ,CAAC;EACrC;EACA4rD,UAAUA,CAAA,EAAG;IACX,OAAO,IAAI43D,cAAc,CAAC,CAAC;EAC7B;EACA9uD,wBAAwBA,CAAC7E,gBAAgB,EAAE;IACzC,IAAI,IAAI,CAAC/E,UAAU,IAAI,IAAI,EAAE;MAC3B,MAAM,IAAI7pE,KAAK,CAAC,yEAAyE,CAAC;IAC5F;IACA,IAAI,IAAI,CAAC6pE,UAAU,CAAC55B,MAAM,CAACz+C,MAAM,KAAK,CAAC,EACrC,OAAO,EAAE;IACX,MAAM,CAAC6G,CAAC,EAAE83C,KAAK,CAAC,GAAG6xF,0BAA0B,CAAC,IAAI,CAACn4D,UAAU,CAAC55B,MAAM,EAAE2+B,gBAAgB,IAAI,IAAI,GAAGA,gBAAgB,GAAG,CAAC,EAAE,IAAI,CAACnpE,OAAO,CAAC;IACpI,IAAI,CAACkvD,KAAK,CAAC/d,IAAI,GAAG,KAAK;IACvB,IAAI,CAAC+d,KAAK,CAAC1kB,MAAM,GAAG53C,CAAC;IACrB,IAAI,CAACs8D,KAAK,CAACjsB,MAAM,CAAC,CAAC;IACnB,OAAOyH,KAAK;EACd;EACA6kC,WAAWA,CAACv/C,KAAK,EAAE;IACjB,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAC7B,OAAOA,KAAK,CAAC/S,OAAO,CAAC,CAAC,CAAC;IACzB,CAAC,MAAM;MACL,OAAO2sB,MAAM,CAAC5Z,KAAK,CAAC;IACtB;EACF;AACF,CAAC;AACD+sG,UAAU,CAAC33H,SAAS,GAAG,YAAY;AACnC23H,UAAU,CAACpjI,IAAI,GAAG,QAAQ;AAC1BjO,eAAe,CAAC,CACdugD,QAAQ,CAACU,GAAG,CAACmB,aAAa,EAAEM,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAC9CtC,OAAO,CAACvyB,GAAG,CAAC,CACb,EAAEwjH,UAAU,CAACxzI,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;AAClCmC,eAAe,CAAC,CACdugD,QAAQ,CAACU,GAAG,CAACmB,aAAa,EAAEQ,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,EACjDxC,OAAO,CAACvyB,GAAG,CAAC,CACb,EAAEwjH,UAAU,CAACxzI,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;;AAElC;AACA,IAAIyzI,eAAe,GAAGlwF,oBAAoB,CAAEriD,KAAK,IAAKuU,QAAQ,CAACvU,KAAK,CAAC,IAAIA,KAAK,KAAK,CAAC,EAAE,mBAAmB,CAAC;AAC1G,IAAIwyI,OAAO,GAAG,cAAcF,UAAU,CAAC;EACrCzqI,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAACA,SAAS,EAAE,IAAIjK,QAAQ,CAAC,CAAC,CAAC;IAChC,IAAI,CAACn+C,GAAG,GAAGM,GAAG;IACd,IAAI,CAACtlB,GAAG,GAAGslB,GAAG;EAChB;EACAoyD,mBAAmBA,CAAC/4E,CAAC,EAAE;IACrB,MAAM;MAAEqmB,GAAG;MAAEhlB;IAAI,CAAC,GAAG,IAAI;IACzB,MAAM;MAAE+kB,MAAM,EAAEy+B,OAAO;MAAEn+B;IAAQ,CAAC,GAAGD,4BAA4B,CAACzmB,CAAC,EAAEqmB,GAAG,EAAEhlB,GAAG,CAAC;IAC9E,MAAMipI,UAAU,GAAGzlF,OAAO,CAAC,CAAC,CAAC,GAAGA,OAAO,CAAC,CAAC,CAAC;IAC1C,MAAM0lF,WAAW,GAAG1lF,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,IAAIA,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;IACpD,MAAM2lF,aAAa,GAAG3lF,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIA,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC;IAC1D,MAAM4lF,aAAa,GAAGH,UAAU,IAAIC,WAAW,IAAIC,aAAa;IAChE,IAAIC,aAAa,EAAE;MACjB,IAAIF,WAAW,EAAE;QACfxrI,MAAM,CAACI,IAAI,CACT,mHACF,CAAC;MACH,CAAC,MAAM,IAAIqrI,aAAa,EAAE;QACxBzrI,MAAM,CAACI,IAAI,CAAC,oDAAoD,CAAC;MACnE;IACF;IACA,IAAI0lD,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;MACpBA,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;IAChB;IACA,IAAIA,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;MACpBA,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACjB;IACA,OAAO;MAAEjN,MAAM,EAAEiN,OAAO;MAAEn+B;IAAQ,CAAC;EACrC;EACA,IAAIxF,IAAIA,CAACrpB,KAAK,EAAE;IACd,IAAI,CAACykE,KAAK,CAACp7C,IAAI,GAAGrpB,KAAK;EACzB;EACA,IAAIqpB,IAAIA,CAAA,EAAG;IACT,OAAO,IAAI,CAACo7C,KAAK,CAACp7C,IAAI;EACxB;AACF,CAAC;AACDmpH,OAAO,CAAC73H,SAAS,GAAG,SAAS;AAC7B63H,OAAO,CAACtjI,IAAI,GAAG,KAAK;AACpBjO,eAAe,CAAC,CACdugD,QAAQ,CAACU,GAAG,CAACmB,aAAa,EAAEkvF,eAAe,EAAE5uF,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAC/DtC,OAAO,CAACvyB,GAAG,CAAC,CACb,EAAE0jH,OAAO,CAAC1zI,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;AAC/BmC,eAAe,CAAC,CACdugD,QAAQ,CAACU,GAAG,CAACmB,aAAa,EAAEkvF,eAAe,EAAE1uF,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,EAClExC,OAAO,CAACvyB,GAAG,CAAC,CACb,EAAE0jH,OAAO,CAAC1zI,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;;AAE/B;AACA,IAAI+zI,YAAY,GAAG,cAAc3sF,QAAQ,CAAC;EACxCr+C,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC8Z,UAAU,GAAGnxC,GAAG;IACrB,IAAI,CAACyyD,UAAU,GAAGzyD,GAAG;EACvB;AACF,CAAC;AACD7tB,eAAe,CAAC,CACdugD,QAAQ,CAACgE,WAAW,CAAC,EACrBnE,OAAO,CAACvyB,GAAG,CAAC,CACb,EAAE+jH,YAAY,CAAC/zI,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC3CmC,eAAe,CAAC,CACdugD,QAAQ,CAACiE,WAAW,CAAC,EACrBpE,OAAO,CAACvyB,GAAG,CAAC,CACb,EAAE+jH,YAAY,CAAC/zI,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC3C,IAAIg0I,QAAQ,GAAG,cAAcnsD,aAAa,CAAC;EACzC9+E,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAACA,SAAS,EAAE,IAAIpmB,SAAS,CAAC,CAAC,CAAC;IACjC,IAAI,CAAChiC,GAAG,GAAG,KAAK,CAAC;IACjB,IAAI,CAAChlB,GAAG,GAAG,KAAK,CAAC;IACjB,IAAI,CAAC4xE,YAAY,CAAC,CAAC;EACrB;EACA8F,mBAAmBA,CAAC/4E,CAAC,EAAE;IACrB,IAAIQ,EAAE;IACN,IAAI;MAAE6lB,GAAG;MAAEhlB;IAAI,CAAC,GAAG,IAAI;IACvB,IAAIqlB,OAAO,GAAG,KAAK;IACnB,IAAI,OAAOL,GAAG,KAAK,QAAQ,EAAE;MAC3BA,GAAG,GAAG,IAAIpmB,IAAI,CAAComB,GAAG,CAAC;IACrB;IACA,IAAI,OAAOhlB,GAAG,KAAK,QAAQ,EAAE;MAC3BA,GAAG,GAAG,IAAIpB,IAAI,CAACoB,GAAG,CAAC;IACrB;IACA,IAAIrB,CAAC,CAAC7G,MAAM,GAAG,CAAC,EAAE;MAChB6G,CAAC,GAAG,CAAC,CAACQ,EAAE,GAAG4lB,MAAM,CAACpmB,CAAC,CAAC,KAAK,IAAI,GAAGQ,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,EAAEgN,GAAG,CAAEpT,CAAC,IAAK,IAAI6F,IAAI,CAAC7F,CAAC,CAAC,CAAC;IACxE;IACA,IAAIisB,GAAG,YAAYpmB,IAAI,EAAE;MACvBymB,OAAO,KAAKA,OAAO,GAAGL,GAAG,GAAGrmB,CAAC,CAAC,CAAC,CAAC,CAAC;MACjCA,CAAC,GAAG,CAACqmB,GAAG,EAAErmB,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB;IACA,IAAIqB,GAAG,YAAYpB,IAAI,EAAE;MACvBymB,OAAO,KAAKA,OAAO,GAAGrlB,GAAG,GAAGrB,CAAC,CAAC,CAAC,CAAC,CAAC;MACjCA,CAAC,GAAG,CAACA,CAAC,CAAC,CAAC,CAAC,EAAEqB,GAAG,CAAC;IACjB;IACA,IAAIrB,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,EAAE;MACfA,CAAC,GAAG,EAAE;IACR;IACA,OAAO;MAAE43C,MAAM,EAAE53C,CAAC;MAAE0mB;IAAQ,CAAC;EAC/B;EACA4rD,UAAUA,CAAA,EAAG;IACX,OAAO,IAAIo4D,YAAY,CAAC,CAAC;EAC3B;EACAx1D,mBAAmBA,CAACp9B,KAAK,EAAEF,MAAM,EAAEuM,OAAO,EAAE;IAC1C,IAAIA,OAAO,EAAE;MACX,KAAK,CAAC+wB,mBAAmB,CAACp9B,KAAK,EAAEF,MAAM,EAAEuM,OAAO,CAAC;IACnD,CAAC,MAAM;MACL,IAAI,CAACkxB,cAAc,GAAG,IAAI,CAAC/Y,KAAK,CAACzU,UAAU,CAAC;QAAE/P,KAAK;QAAEF;MAAO,CAAC,CAAC;IAChE;EACF;EACAwmB,gBAAgBA,CAAA,EAAG;IACjB,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;EACf;EACAue,WAAWA,CAACv/C,KAAK,EAAE;IACjB,IAAI58B,EAAE;IACN,MAAMmjD,SAAS,GAAG,IAAI,CAAC2Y,KAAK,CAACzU,UAAU,CAAC;MACtCC,SAAS,EAAE;IACb,CAAC,CAAC;IACF,OAAO,CAACtnD,EAAE,GAAG,IAAI,CAACiuE,SAAS,CAACqJ,aAAa,CAACz/E,IAAI,CAACsrD,SAAS,EAAEvmB,KAAK,CAAC,KAAK,IAAI,GAAG58B,EAAE,GAAGw2C,MAAM,CAAC5Z,KAAK,CAAC;EAChG;AACF,CAAC;AACDutG,QAAQ,CAACn4H,SAAS,GAAG,UAAU;AAC/Bm4H,QAAQ,CAAC5jI,IAAI,GAAG,MAAM;AACtBjO,eAAe,CAAC,CACdugD,QAAQ,CAACU,GAAG,CAAC6B,mBAAmB,EAAEJ,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE;EAAExoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACzE,EAAE23H,QAAQ,CAACh0I,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;AAChCmC,eAAe,CAAC,CACdugD,QAAQ,CAACU,GAAG,CAAC6B,mBAAmB,EAAEF,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE;EAAE1oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC5E,EAAE23H,QAAQ,CAACh0I,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;;AAEhC;AACA,IAAIi0I,OAAO,GAAG,IAAI;AAClB,IAAIC,WAAW,GAAGA,CAACC,WAAW,EAAEC,YAAY,EAAEC,YAAY,EAAEC,aAAa,EAAEC,YAAY,KAAK;EAC1F,IAAIC,cAAc,GAAG,KAAK;EAC1B,IAAIC,eAAe,GAAG,KAAK;EAC3B,IAAIC,QAAQ,GAAGJ,aAAa,GAAGzzI,IAAI,CAACs1D,IAAI,CAACt1D,IAAI,CAAC6J,GAAG,CAAC9J,KAAK,CAAC2zI,YAAY,EAAE,CAAC,CAAC,GAAG3zI,KAAK,CAACyzI,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACtG,IAAIM,QAAQ,GAAG,CAAC;EAChB,IAAIC,SAAS,GAAG,CAAC;EACjB,IAAIC,SAAS,GAAGR,YAAY,GAAGxzI,IAAI,CAACs1D,IAAI,CAACt1D,IAAI,CAAC6J,GAAG,CAAC9J,KAAK,CAAC2zI,YAAY,EAAE,CAAC,CAAC,GAAG3zI,KAAK,CAAC0zI,aAAa,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACvG,IAAII,QAAQ,GAAGP,WAAW,EAAE;IAC1BK,cAAc,GAAG,IAAI;IACrBE,QAAQ,GAAGP,WAAW;IACtBQ,QAAQ,GAAGN,YAAY,GAAGxzI,IAAI,CAACs1D,IAAI,CAACt1D,IAAI,CAAC6J,GAAG,CAAC9J,KAAK,CAAC2zI,YAAY,EAAE,CAAC,CAAC,GAAG3zI,KAAK,CAAC0zI,aAAa,GAAGH,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC;EAC/G,CAAC,MAAM,IAAIO,QAAQ,GAAGT,OAAO,EAAE;IAC7BS,QAAQ,GAAG,CAAC;EACd;EACA,IAAIG,SAAS,GAAGT,YAAY,EAAE;IAC5BK,eAAe,GAAG,IAAI;IACtBG,SAAS,GAAGN,aAAa,GAAGzzI,IAAI,CAACs1D,IAAI,CAACt1D,IAAI,CAAC6J,GAAG,CAAC9J,KAAK,CAAC2zI,YAAY,EAAE,CAAC,CAAC,GAAG3zI,KAAK,CAACyzI,YAAY,GAAGD,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;IAC/GS,SAAS,GAAGT,YAAY;EAC1B,CAAC,MAAM,IAAIS,SAAS,GAAGZ,OAAO,EAAE;IAC9BY,SAAS,GAAG,CAAC;EACf;EACA,OAAO;IAAEH,QAAQ;IAAEC,QAAQ;IAAEC,SAAS;IAAEC,SAAS;IAAEL,cAAc;IAAEC;EAAgB,CAAC;AACtF,CAAC;AACD,IAAIK,UAAU,GAAGA,CAACx9H,IAAI,EAAE;EAAE6qC,EAAE;EAAEiO,EAAE;EAAEnxB,EAAE;EAAEC,EAAE;EAAEgE,EAAE;EAAEC;AAAG,CAAC,EAAEoxG,YAAY,EAAEQ,IAAI,KAAK;EACzE,IAAIA,IAAI,EAAE;IACRz9H,IAAI,CAAC8hD,MAAM,CAACjX,EAAE,EAAEiO,EAAE,CAAC;EACrB;EACA,IAAIjO,EAAE,KAAKljB,EAAE,IAAImxB,EAAE,KAAKlxB,EAAE,EAAE;IAC1B,MAAM6iB,EAAE,GAAGlhD,IAAI,CAACusC,KAAK,CAACgjB,EAAE,GAAGjtB,EAAE,EAAEgf,EAAE,GAAGjf,EAAE,CAAC;IACvC,MAAM8e,EAAE,GAAGnhD,IAAI,CAACusC,KAAK,CAAClO,EAAE,GAAGiE,EAAE,EAAElE,EAAE,GAAGiE,EAAE,CAAC;IACvC5rB,IAAI,CAACsnH,GAAG,CAAC17F,EAAE,EAAEC,EAAE,EAAEoxG,YAAY,EAAExyF,EAAE,EAAEC,EAAE,CAAC;EACxC,CAAC,MAAM;IACL1qC,IAAI,CAAC+hD,MAAM,CAAClX,EAAE,EAAEiO,EAAE,CAAC;EACrB;AACF,CAAC;AACD,IAAI4kF,qBAAqB,GAAGA,CAAC19H,IAAI,EAAE7T,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,EAAE22G,WAAW,EAAE7gF,QAAQ,KAAK;EAChF,IAAI;IACFiP,OAAO,EAAE6xE,mBAAmB;IAC5B5xE,QAAQ,EAAE6xE,oBAAoB;IAC9B3xE,WAAW,EAAE4xE,uBAAuB;IACpC7xE,UAAU,EAAE8xE;EACd,CAAC,GAAGJ,WAAW;EACf,MAAMK,uBAAuB,GAAGz0I,IAAI,CAAC6J,GAAG,CACtCwqI,mBAAmB,GAAGG,sBAAsB,EAC5CF,oBAAoB,GAAGC,uBACzB,CAAC;EACD,MAAMG,yBAAyB,GAAG10I,IAAI,CAAC6J,GAAG,CACxCwqI,mBAAmB,GAAGC,oBAAoB,EAC1CE,sBAAsB,GAAGD,uBAC3B,CAAC;EACD,IAAIE,uBAAuB,IAAI,CAAC,IAAIC,yBAAyB,IAAI,CAAC,EAAE;IAClE,IAAInhF,QAAQ,IAAI,IAAI,EAAE;MACpB98C,IAAI,CAAC49C,IAAI,CAACzxD,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;IAChC,CAAC,MAAM;MACLhnB,IAAI,CAAC49C,IAAI,CAACd,QAAQ,CAAC3wD,CAAC,EAAE2wD,QAAQ,CAAC72B,CAAC,EAAE62B,QAAQ,CAACpuC,KAAK,EAAEouC,QAAQ,CAAC91B,MAAM,CAAC;IACpE;IACA;EACF,CAAC,MAAM,IAAI81B,QAAQ,IAAI,IAAI,IAAI8gF,mBAAmB,KAAKC,oBAAoB,IAAID,mBAAmB,KAAKE,uBAAuB,IAAIF,mBAAmB,KAAKG,sBAAsB,EAAE;IAChL/9H,IAAI,CAAConH,SAAS,CAACj7H,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,EAAE42G,mBAAmB,CAAC;IACxD;EACF;EACA,IAAIlvH,KAAK,GAAG,CAAC,EAAE;IACbviB,CAAC,IAAIuiB,KAAK;IACVA,KAAK,GAAGnlB,IAAI,CAAC27B,GAAG,CAACxW,KAAK,CAAC;EACzB;EACA,IAAIsY,MAAM,GAAG,CAAC,EAAE;IACdf,CAAC,IAAIe,MAAM;IACXA,MAAM,GAAGz9B,IAAI,CAAC27B,GAAG,CAAC8B,MAAM,CAAC;EAC3B;EACA,IAAItY,KAAK,IAAI,CAAC,IAAIsY,MAAM,IAAI,CAAC,EAC3B;EACF,IAAI81B,QAAQ,IAAI,IAAI,EAAE;IACpBA,QAAQ,GAAG,IAAIr0B,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;EAC1C,CAAC,MAAM;IACL,MAAM6jB,EAAE,GAAGthD,IAAI,CAAC6J,GAAG,CAACjH,CAAC,EAAE2wD,QAAQ,CAAC3wD,CAAC,CAAC;IAClC,MAAMw7B,EAAE,GAAGp+B,IAAI,CAAC6uB,GAAG,CAACjsB,CAAC,GAAGuiB,KAAK,EAAEouC,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,CAAC;IAC3D,MAAMoqC,EAAE,GAAGvvD,IAAI,CAAC6J,GAAG,CAAC6yB,CAAC,EAAE62B,QAAQ,CAAC72B,CAAC,CAAC;IAClC,MAAM2B,EAAE,GAAGr+B,IAAI,CAAC6uB,GAAG,CAAC6N,CAAC,GAAGe,MAAM,EAAE81B,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,CAAC;IAC7D81B,QAAQ,GAAG,IAAIr0B,IAAI,CAACoiB,EAAE,EAAEiO,EAAE,EAAEnxB,EAAE,GAAGkjB,EAAE,EAAEjjB,EAAE,GAAGkxB,EAAE,CAAC;EAC/C;EACA,MAAMolF,WAAW,GAAG30I,IAAI,CAAC6J,GAAG,CAAC4qI,uBAAuB,GAAGh3G,MAAM,EAAEi3G,yBAAyB,GAAGvvH,KAAK,EAAE,CAAC,CAAC;EACpG,IAAIwvH,WAAW,GAAG,CAAC,EAAE;IACnBN,mBAAmB,IAAIM,WAAW;IAClCL,oBAAoB,IAAIK,WAAW;IACnCJ,uBAAuB,IAAII,WAAW;IACtCH,sBAAsB,IAAIG,WAAW;EACvC;EACA,IAAIC,iBAAiB,GAAG,IAAI;EAC5B,IAAIC,kBAAkB,GAAG,IAAI;EAC7B,IAAIC,qBAAqB,GAAG,IAAI;EAChC,IAAIC,oBAAoB,GAAG,IAAI;EAC/B,IAAIC,aAAa;EACjB,IAAIC,cAAc;EAClB,IAAIC,iBAAiB;EACrB,IAAIC,gBAAgB;EACpB,IAAIP,iBAAiB,EAAE;IACrB,MAAM7tG,KAAK,GAAGssG,WAAW,CACvB9/E,QAAQ,CAAC91B,MAAM,EACf81B,QAAQ,CAACpuC,KAAK,EACdnlB,IAAI,CAAC6J,GAAG,CAACjH,CAAC,GAAGyxI,mBAAmB,GAAG9gF,QAAQ,CAAC3wD,CAAC,EAAE,CAAC,CAAC,EACjD5C,IAAI,CAAC6J,GAAG,CAAC6yB,CAAC,GAAG23G,mBAAmB,GAAG9gF,QAAQ,CAAC72B,CAAC,EAAE,CAAC,CAAC,EACjD23G,mBACF,CAAC;IACD,IAAIttG,KAAK,CAAC4sG,cAAc,EACtBoB,oBAAoB,GAAG,KAAK;IAC9B,IAAIhuG,KAAK,CAAC6sG,eAAe,EACvBiB,kBAAkB,GAAG,KAAK;IAC5B,MAAMvzF,EAAE,GAAGthD,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC3wD,CAAC,GAAGmkC,KAAK,CAAC+sG,QAAQ,EAAEvgF,QAAQ,CAAC3wD,CAAC,CAAC;IAC5D,MAAM2sD,EAAE,GAAGvvD,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC72B,CAAC,GAAGqK,KAAK,CAAC8sG,QAAQ,EAAEtgF,QAAQ,CAAC72B,CAAC,CAAC;IAC5D,MAAM0B,EAAE,GAAGp+B,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC3wD,CAAC,GAAGmkC,KAAK,CAACitG,SAAS,EAAEzgF,QAAQ,CAAC3wD,CAAC,CAAC;IAC7D,MAAMy7B,EAAE,GAAGr+B,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC72B,CAAC,GAAGqK,KAAK,CAACgtG,SAAS,EAAExgF,QAAQ,CAAC72B,CAAC,CAAC;IAC7D,MAAM2F,EAAE,GAAGz/B,CAAC,GAAGyxI,mBAAmB;IAClC,MAAM/xG,EAAE,GAAG5F,CAAC,GAAG23G,mBAAmB;IAClCW,aAAa,GAAG;MAAE1zF,EAAE;MAAEiO,EAAE;MAAEnxB,EAAE;MAAEC,EAAE;MAAEgE,EAAE;MAAEC;IAAG,CAAC;EAC5C;EACA,IAAIuyG,kBAAkB,EAAE;IACtB,MAAM9tG,KAAK,GAAGssG,WAAW,CACvB9/E,QAAQ,CAACpuC,KAAK,EACdouC,QAAQ,CAAC91B,MAAM,EACfz9B,IAAI,CAAC6J,GAAG,CAAC6yB,CAAC,GAAG43G,oBAAoB,GAAG/gF,QAAQ,CAAC72B,CAAC,EAAE,CAAC,CAAC,EAClD18B,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,IAAIviB,CAAC,GAAGuiB,KAAK,GAAGmvH,oBAAoB,CAAC,EAAE,CAAC,CAAC,EAC7EA,oBACF,CAAC;IACD,IAAIvtG,KAAK,CAAC4sG,cAAc,EACtBiB,iBAAiB,GAAG,KAAK;IAC3B,IAAI7tG,KAAK,CAAC6sG,eAAe,EACvBkB,qBAAqB,GAAG,KAAK;IAC/B,MAAMxzF,EAAE,GAAGthD,IAAI,CAAC6uB,GAAG,CAAC0kC,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,GAAG4hB,KAAK,CAAC8sG,QAAQ,EAAEtgF,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,CAAC;IAC9F,MAAMoqC,EAAE,GAAGvvD,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC72B,CAAC,GAAGqK,KAAK,CAAC+sG,QAAQ,EAAEvgF,QAAQ,CAAC72B,CAAC,CAAC;IAC5D,MAAM0B,EAAE,GAAGp+B,IAAI,CAAC6uB,GAAG,CAAC0kC,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,GAAG4hB,KAAK,CAACgtG,SAAS,EAAExgF,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,CAAC;IAC/F,MAAMkZ,EAAE,GAAGr+B,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC72B,CAAC,GAAGqK,KAAK,CAACitG,SAAS,EAAEzgF,QAAQ,CAAC72B,CAAC,CAAC;IAC7D,MAAM2F,EAAE,GAAGz/B,CAAC,GAAGuiB,KAAK,GAAGmvH,oBAAoB;IAC3C,MAAMhyG,EAAE,GAAG5F,CAAC,GAAG43G,oBAAoB;IACnCW,cAAc,GAAG;MAAE3zF,EAAE;MAAEiO,EAAE;MAAEnxB,EAAE;MAAEC,EAAE;MAAEgE,EAAE;MAAEC;IAAG,CAAC;EAC7C;EACA,IAAIwyG,qBAAqB,EAAE;IACzB,MAAM/tG,KAAK,GAAGssG,WAAW,CACvB9/E,QAAQ,CAAC91B,MAAM,EACf81B,QAAQ,CAACpuC,KAAK,EACdnlB,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,IAAIviB,CAAC,GAAGuiB,KAAK,GAAGovH,uBAAuB,CAAC,EAAE,CAAC,CAAC,EAChFv0I,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,IAAIf,CAAC,GAAGe,MAAM,GAAG82G,uBAAuB,CAAC,EAAE,CAAC,CAAC,EAClFA,uBACF,CAAC;IACD,IAAIxtG,KAAK,CAAC4sG,cAAc,EACtBkB,kBAAkB,GAAG,KAAK;IAC5B,IAAI9tG,KAAK,CAAC6sG,eAAe,EACvBmB,oBAAoB,GAAG,KAAK;IAC9B,MAAMzzF,EAAE,GAAGthD,IAAI,CAAC6uB,GAAG,CAAC0kC,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,GAAG4hB,KAAK,CAAC+sG,QAAQ,EAAEvgF,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,CAAC;IAC9F,MAAMoqC,EAAE,GAAGvvD,IAAI,CAAC6uB,GAAG,CAAC0kC,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,GAAGsJ,KAAK,CAAC8sG,QAAQ,EAAEtgF,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,CAAC;IAChG,MAAMW,EAAE,GAAGp+B,IAAI,CAAC6uB,GAAG,CAAC0kC,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,GAAG4hB,KAAK,CAACitG,SAAS,EAAEzgF,QAAQ,CAAC3wD,CAAC,GAAG2wD,QAAQ,CAACpuC,KAAK,CAAC;IAC/F,MAAMkZ,EAAE,GAAGr+B,IAAI,CAAC6uB,GAAG,CAAC0kC,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,GAAGsJ,KAAK,CAACgtG,SAAS,EAAExgF,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,CAAC;IACjG,MAAM4E,EAAE,GAAGz/B,CAAC,GAAGuiB,KAAK,GAAGovH,uBAAuB;IAC9C,MAAMjyG,EAAE,GAAG5F,CAAC,GAAGe,MAAM,GAAG82G,uBAAuB;IAC/CW,iBAAiB,GAAG;MAAE5zF,EAAE;MAAEiO,EAAE;MAAEnxB,EAAE;MAAEC,EAAE;MAAEgE,EAAE;MAAEC;IAAG,CAAC;EAChD;EACA,IAAIyyG,oBAAoB,EAAE;IACxB,MAAMhuG,KAAK,GAAGssG,WAAW,CACvB9/E,QAAQ,CAACpuC,KAAK,EACdouC,QAAQ,CAAC91B,MAAM,EACfz9B,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,IAAIf,CAAC,GAAGe,MAAM,GAAG+2G,sBAAsB,CAAC,EAAE,CAAC,CAAC,EACjFx0I,IAAI,CAAC6J,GAAG,CAACjH,CAAC,GAAG4xI,sBAAsB,GAAGjhF,QAAQ,CAAC3wD,CAAC,EAAE,CAAC,CAAC,EACpD4xI,sBACF,CAAC;IACD,IAAIztG,KAAK,CAAC4sG,cAAc,EACtBmB,qBAAqB,GAAG,KAAK;IAC/B,IAAI/tG,KAAK,CAAC6sG,eAAe,EACvBgB,iBAAiB,GAAG,KAAK;IAC3B,MAAMtzF,EAAE,GAAGthD,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC3wD,CAAC,GAAGmkC,KAAK,CAAC8sG,QAAQ,EAAEtgF,QAAQ,CAAC3wD,CAAC,CAAC;IAC5D,MAAM2sD,EAAE,GAAGvvD,IAAI,CAAC6uB,GAAG,CAAC0kC,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,GAAGsJ,KAAK,CAAC+sG,QAAQ,EAAEvgF,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,CAAC;IAChG,MAAMW,EAAE,GAAGp+B,IAAI,CAAC6J,GAAG,CAAC0pD,QAAQ,CAAC3wD,CAAC,GAAGmkC,KAAK,CAACgtG,SAAS,EAAExgF,QAAQ,CAAC3wD,CAAC,CAAC;IAC7D,MAAMy7B,EAAE,GAAGr+B,IAAI,CAAC6uB,GAAG,CAAC0kC,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,GAAGsJ,KAAK,CAACitG,SAAS,EAAEzgF,QAAQ,CAAC72B,CAAC,GAAG62B,QAAQ,CAAC91B,MAAM,CAAC;IACjG,MAAM4E,EAAE,GAAGz/B,CAAC,GAAG4xI,sBAAsB;IACrC,MAAMlyG,EAAE,GAAG5F,CAAC,GAAGe,MAAM,GAAG+2G,sBAAsB;IAC9CW,gBAAgB,GAAG;MAAE7zF,EAAE;MAAEiO,EAAE;MAAEnxB,EAAE;MAAEC,EAAE;MAAEgE,EAAE;MAAEC;IAAG,CAAC;EAC/C;EACA,IAAI8yG,OAAO,GAAG,KAAK;EACnB,IAAIR,iBAAiB,IAAII,aAAa,IAAI,IAAI,EAAE;IAC9Cf,UAAU,CAACx9H,IAAI,EAAEu+H,aAAa,EAAEX,mBAAmB,EAAE,CAACe,OAAO,CAAC;IAC9DA,OAAO,KAAKA,OAAO,GAAG,IAAI,CAAC;EAC7B;EACA,IAAIP,kBAAkB,IAAII,cAAc,IAAI,IAAI,EAAE;IAChDhB,UAAU,CAACx9H,IAAI,EAAEw+H,cAAc,EAAEX,oBAAoB,EAAE,CAACc,OAAO,CAAC;IAChEA,OAAO,KAAKA,OAAO,GAAG,IAAI,CAAC;EAC7B;EACA,IAAIN,qBAAqB,IAAII,iBAAiB,IAAI,IAAI,EAAE;IACtDjB,UAAU,CAACx9H,IAAI,EAAEy+H,iBAAiB,EAAEX,uBAAuB,EAAE,CAACa,OAAO,CAAC;IACtEA,OAAO,KAAKA,OAAO,GAAG,IAAI,CAAC;EAC7B;EACA,IAAIL,oBAAoB,IAAII,gBAAgB,IAAI,IAAI,EAAE;IACpDlB,UAAU,CAACx9H,IAAI,EAAE0+H,gBAAgB,EAAEX,sBAAsB,EAAE,CAACY,OAAO,CAAC;IACpEA,OAAO,KAAKA,OAAO,GAAG,IAAI,CAAC;EAC7B;EACA3+H,IAAI,CAACgiD,SAAS,CAAC,CAAC;AAClB,CAAC;AACD,IAAI48E,IAAI,GAAG,cAAclW,IAAI,CAAC;EAC5Bj3H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC8uF,UAAU,GAAG,IAAInY,cAAc,CAAC,CAAC;IACtC,IAAI,CAACv6H,CAAC,GAAG,CAAC;IACV,IAAI,CAAC85B,CAAC,GAAG,CAAC;IACV,IAAI,CAACvX,KAAK,GAAG,EAAE;IACf,IAAI,CAACsY,MAAM,GAAG,EAAE;IAChB,IAAI,CAAC42G,mBAAmB,GAAG,CAAC;IAC5B,IAAI,CAACC,oBAAoB,GAAG,CAAC;IAC7B,IAAI,CAACC,uBAAuB,GAAG,CAAC;IAChC,IAAI,CAACC,sBAAsB,GAAG,CAAC;IAC/B,IAAI,CAACjhF,QAAQ,GAAG,KAAK,CAAC;IACtB,IAAI,CAACgiF,KAAK,GAAG,KAAK;IAClB,IAAI,CAACC,yBAAyB,GAAGv9E,KAAK,CAAClC,aAAa,CAACnwC,WAAW;IAChE,IAAI,CAAC6vH,oBAAoB,GAAGx9E,KAAK,CAAClC,aAAa,CAACnwC,WAAW;IAC3D,IAAI,CAAC8vH,SAAS,GAAG,KAAK,CAAC19E,aAAa;IACpC,IAAI,CAAC29E,kBAAkB,GAAG,KAAK,CAAC74G,eAAe;IAC/C;AACJ;AACA;AACA;AACA;IACI,IAAI,CAAC84G,uBAAuB,GAAG,CAAC;EAClC;EACA,IAAIlC,YAAYA,CAACA,YAAY,EAAE;IAC7B,IAAI,CAACW,mBAAmB,GAAGX,YAAY;IACvC,IAAI,CAACY,oBAAoB,GAAGZ,YAAY;IACxC,IAAI,CAACa,uBAAuB,GAAGb,YAAY;IAC3C,IAAI,CAACc,sBAAsB,GAAGd,YAAY;EAC5C;EACAjU,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAAC+V,yBAAyB,KAAK,IAAI,CAAC5vH,WAAW,IAAI0Q,OAAO,CAAC,IAAI,CAAC7f,IAAI,CAACkqB,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC20G,UAAU,CAAC30G,OAAO,CAAC,CAAC,CAAC;EACzH;EACA6mF,UAAUA,CAAA,EAAG;IACX,IAAIx+G,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,MAAM;MACJ9C,IAAI;MACJ6+H,UAAU;MACVC,KAAK;MACLlB,mBAAmB,EAAE7xE,OAAO;MAC5B8xE,oBAAoB,EAAE7xE,QAAQ;MAC9B8xE,uBAAuB,EAAE5xE,WAAW;MACpC6xE,sBAAsB,EAAE9xE;IAC1B,CAAC,GAAG,IAAI;IACR,IAAI;MAAE9/D,CAAC;MAAE85B,CAAC;MAAEvX,KAAK,EAAEod,CAAC;MAAE9E,MAAM,EAAE+E,CAAC;MAAE5c,WAAW;MAAE2tC;IAAS,CAAC,GAAG,IAAI;IAC/D,MAAMW,UAAU,GAAG,CAAC56C,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACq9B,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGr9B,EAAE,CAAC6tD,MAAM,CAAC3C,UAAU,KAAK,IAAI,GAAG56C,EAAE,GAAG,CAAC;IAC3G,MAAMu8H,SAAS,GAAG,CAAC,GAAG3hF,UAAU;IAChC,IAAI0hF,uBAAuB,GAAG,CAAC;IAC/Bn/H,IAAI,CAAC7Q,KAAK,CAAC,IAAI,CAAC;IAChB0vI,UAAU,CAAC1vI,KAAK,CAAC,IAAI,CAAC;IACtB,IAAI2vI,KAAK,EAAE;MACT,IAAIhzG,CAAC,IAAIszG,SAAS,EAAE;QAClBD,uBAAuB,IAAIrzG,CAAC,GAAGszG,SAAS;MAC1C;MACA,IAAIrzG,CAAC,IAAIqzG,SAAS,EAAE;QAClBD,uBAAuB,IAAIpzG,CAAC,GAAGqzG,SAAS;MAC1C;MACAtzG,CAAC,GAAG,IAAI,CAACq0B,KAAK,CAACh0D,CAAC,EAAE2/B,CAAC,CAAC;MACpBC,CAAC,GAAG,IAAI,CAACo0B,KAAK,CAACl6B,CAAC,EAAE8F,CAAC,CAAC;MACpB5/B,CAAC,GAAG,IAAI,CAACg0D,KAAK,CAACh0D,CAAC,CAAC;MACjB85B,CAAC,GAAG,IAAI,CAACk6B,KAAK,CAACl6B,CAAC,CAAC;MACjB62B,QAAQ,GAAGA,QAAQ,IAAI,IAAI,GAAG,IAAIr0B,IAAI,CACpC,IAAI,CAAC03B,KAAK,CAACrD,QAAQ,CAAC3wD,CAAC,CAAC,EACtB,IAAI,CAACg0D,KAAK,CAACrD,QAAQ,CAAC72B,CAAC,CAAC,EACtB,IAAI,CAACk6B,KAAK,CAACrD,QAAQ,CAAC3wD,CAAC,EAAE2wD,QAAQ,CAACpuC,KAAK,CAAC,EACtC,IAAI,CAACyxC,KAAK,CAACrD,QAAQ,CAAC72B,CAAC,EAAE62B,QAAQ,CAAC91B,MAAM,CACxC,CAAC,GAAG,KAAK,CAAC;IACZ;IACA,IAAI7X,WAAW,EAAE;MACf,IAAI2c,CAAC,GAAGszG,SAAS,EAAE;QACjB,MAAMC,EAAE,GAAGlzI,CAAC,GAAGizI,SAAS,GAAG,CAAC;QAC5BP,UAAU,CAAC/8E,MAAM,CAACu9E,EAAE,EAAEp5G,CAAC,CAAC;QACxB44G,UAAU,CAAC98E,MAAM,CAACs9E,EAAE,EAAEp5G,CAAC,GAAG8F,CAAC,CAAC;QAC5B5c,WAAW,GAAGiwH,SAAS;QACvB,IAAI,CAACE,cAAc,GAAG,KAAK,CAAC;MAC9B,CAAC,MAAM,IAAIvzG,CAAC,GAAGqzG,SAAS,EAAE;QACxB,MAAMG,EAAE,GAAGt5G,CAAC,GAAGm5G,SAAS,GAAG,CAAC;QAC5BP,UAAU,CAAC/8E,MAAM,CAAC31D,CAAC,EAAEozI,EAAE,CAAC;QACxBV,UAAU,CAAC98E,MAAM,CAAC51D,CAAC,GAAG2/B,CAAC,EAAEyzG,EAAE,CAAC;QAC5BpwH,WAAW,GAAGiwH,SAAS;QACvB,IAAI,CAACE,cAAc,GAAG,KAAK,CAAC;MAC9B,CAAC,MAAM,IAAInwH,WAAW,GAAG2c,CAAC,IAAI3c,WAAW,GAAG4c,CAAC,EAAE;QAC7C,MAAMyzG,eAAe,GAAGrwH,WAAW,GAAG,CAAC;QACvChjB,CAAC,IAAIqzI,eAAe;QACpBv5G,CAAC,IAAIu5G,eAAe;QACpB1zG,CAAC,IAAI3c,WAAW;QAChB4c,CAAC,IAAI5c,WAAW;QAChB,MAAMswH,gBAAgB,GAAG3iF,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACh9C,KAAK,CAAC,CAAC,CAACioB,MAAM,CAACy3G,eAAe,CAAC;QAC7F,MAAM7B,WAAW,GAAG;UAClB5xE,OAAO,EAAEA,OAAO,GAAG,CAAC,GAAGA,OAAO,GAAG58C,WAAW,GAAG,CAAC;UAChD68C,QAAQ,EAAEA,QAAQ,GAAG,CAAC,GAAGA,QAAQ,GAAG78C,WAAW,GAAG,CAAC;UACnD+8C,WAAW,EAAEA,WAAW,GAAG,CAAC,GAAGA,WAAW,GAAG/8C,WAAW,GAAG,CAAC;UAC5D88C,UAAU,EAAEA,UAAU,GAAG,CAAC,GAAGA,UAAU,GAAG98C,WAAW,GAAG;QAC1D,CAAC;QACD,IAAI,CAACmwH,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAIxzG,CAAC,GAAG,CAAC,IAAIC,CAAC,GAAG,CAAC,KAAK0zG,gBAAgB,IAAI,IAAI,IAAI,CAACA,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC/wH,KAAK,IAAI,CAAC,IAAI,CAAC+wH,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACz4G,MAAM,IAAI,CAAC,CAAC,EAAE;UACzL02G,qBAAqB,CAAC19H,IAAI,EAAE7T,CAAC,EAAE85B,CAAC,EAAE6F,CAAC,EAAEC,CAAC,EAAE4xG,WAAW,EAAE8B,gBAAgB,CAAC;UACtE/B,qBAAqB,CAACmB,UAAU,EAAE1yI,CAAC,EAAE85B,CAAC,EAAE6F,CAAC,EAAEC,CAAC,EAAE4xG,WAAW,EAAE8B,gBAAgB,CAAC;QAC9E;MACF,CAAC,MAAM;QACL,IAAI,CAACH,cAAc,GAAG,CAACx8H,EAAE,GAAG,IAAI,CAACw8H,cAAc,KAAK,IAAI,GAAGx8H,EAAE,GAAG,IAAI4jH,cAAc,CAAC,CAAC;QACpF,IAAI,CAAC4Y,cAAc,CAACnwI,KAAK,CAAC,IAAI,CAAC;QAC/B,IAAI,CAACmwI,cAAc,CAAC1hF,IAAI,CAACzxD,CAAC,EAAE85B,CAAC,EAAE6F,CAAC,EAAEC,CAAC,CAAC;QACpC8yG,UAAU,CAACjhF,IAAI,CAACzxD,CAAC,EAAE85B,CAAC,EAAE6F,CAAC,EAAEC,CAAC,CAAC;MAC7B;IACF,CAAC,MAAM;MACL,MAAM4xG,WAAW,GAAG;QAAE5xE,OAAO;QAAEC,QAAQ;QAAEE,WAAW;QAAED;MAAW,CAAC;MAClE,IAAI,CAACqzE,cAAc,GAAG,KAAK,CAAC;MAC5B5B,qBAAqB,CAAC19H,IAAI,EAAE7T,CAAC,EAAE85B,CAAC,EAAE6F,CAAC,EAAEC,CAAC,EAAE4xG,WAAW,EAAE7gF,QAAQ,CAAC;IAChE;IACA,IAAI,CAACiP,OAAO,EAAEC,QAAQ,EAAEE,WAAW,EAAED,UAAU,CAAC,CAACh5D,KAAK,CAAEua,CAAC,IAAKA,CAAC,KAAK,CAAC,CAAC,EAAE;MACtE,IAAI,CAACyxH,SAAS,GAAG,CAACS,IAAI,EAAEC,IAAI,KAAK;QAC/B,MAAM97E,KAAK,GAAG,IAAI,CAACl9B,cAAc,CAAC+4G,IAAI,EAAEC,IAAI,CAAC;QAC7C,OAAO,IAAI,CAAC3uG,aAAa,CAAC,CAAC,CAAC9J,aAAa,CAAC28B,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;MAC7D,CAAC;MACD,IAAI,CAACI,eAAe,GAAG,CAACq5G,IAAI,EAAEC,IAAI,KAAK,IAAI,CAAC3uG,aAAa,CAAC,CAAC,CAAC3K,eAAe,CAACq5G,IAAI,EAAEC,IAAI,CAAC;IACzF,CAAC,MAAM;MACL,IAAI,CAACV,SAAS,GAAG,KAAK,CAAC19E,aAAa;MACpC,IAAI,CAAC29E,kBAAkB,GAAG,KAAK,CAAC74G,eAAe;IACjD;IACA,IAAI,CAAC24G,oBAAoB,GAAG7vH,WAAW;IACvC,IAAI,CAAC4vH,yBAAyB,GAAG5vH,WAAW;IAC5C,IAAI,CAACgwH,uBAAuB,GAAGA,uBAAuB;EACxD;EACAjuG,WAAWA,CAAA,EAAG;IACZ,IAAI3+B,EAAE;IACN,MAAM;MAAEpG,CAAC;MAAE85B,CAAC;MAAEvX,KAAK;MAAEsY,MAAM;MAAE81B;IAAS,CAAC,GAAG,IAAI;IAC9C,OAAO,CAACvqD,EAAE,GAAGuqD,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACh9C,KAAK,CAAC,CAAC,KAAK,IAAI,GAAGvN,EAAE,GAAG,IAAIk2B,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;EACzG;EACAu6B,aAAaA,CAACp1D,CAAC,EAAE85B,CAAC,EAAE;IAClB,OAAO,IAAI,CAACg5G,SAAS,CAAC9yI,CAAC,EAAE85B,CAAC,CAAC;EAC7B;EACA,IAAIsuE,QAAQA,CAAA,EAAG;IACb,OAAO;MAAEpoG,CAAC,EAAE,IAAI,CAACA,CAAC,GAAG,IAAI,CAACuiB,KAAK,GAAG,CAAC;MAAEuX,CAAC,EAAE,IAAI,CAACA,CAAC,GAAG,IAAI,CAACe,MAAM,GAAG;IAAE,CAAC;EACpE;EACAX,eAAeA,CAACl6B,CAAC,EAAE85B,CAAC,EAAE;IACpB,OAAO,IAAI,CAACi5G,kBAAkB,CAAC/yI,CAAC,EAAE85B,CAAC,CAAC;EACtC;EACAy6B,cAAcA,CAACz0B,GAAG,EAAE;IAClB,MAAM;MAAE/c,WAAW;MAAEiwH,uBAAuB;MAAEvjF;IAAQ,CAAC,GAAG,IAAI;IAC9D3vB,GAAG,CAAC4xB,WAAW,IAAIjC,OAAO,GAAG1sC,WAAW,GAAGiwH,uBAAuB;EACpE;EACA3+E,YAAYA,CAACv0B,GAAG,EAAE;IAChB,MAAM;MAAEnd,MAAM;MAAEkwH;IAAqB,CAAC,GAAG,IAAI;IAC7C,IAAIlwH,MAAM,IAAIkwH,oBAAoB,EAAE;MAClC,MAAM;QAAEnhF;MAAY,CAAC,GAAG5xB,GAAG;MAC3B,MAAM;QACJozB,aAAa;QACbtwC,QAAQ;QACRwwC,cAAc;QACdC,OAAO;QACPC,QAAQ;QACRo/E,UAAU;QACVS,cAAc;QACd1jF,OAAO;QACPujF;MACF,CAAC,GAAG,IAAI;MACR,IAAIG,cAAc,EAAE;QAClBrzG,GAAG,CAACxE,IAAI,CAAC63G,cAAc,CAACnY,SAAS,CAAC,CAAC,CAAC;MACtC;MACAl7F,GAAG,CAACk1B,WAAW,GAAGryC,MAAM;MACxBmd,GAAG,CAAC4xB,WAAW,IAAIjC,OAAO,GAAGyD,aAAa,GAAG8/E,uBAAuB;MACpElzG,GAAG,CAACm1B,SAAS,GAAG49E,oBAAoB;MACpC,IAAIjwH,QAAQ,EAAE;QACZkd,GAAG,CAACo1B,WAAW,CAACtyC,QAAQ,CAAC;MAC3B;MACA,IAAIwwC,cAAc,EAAE;QAClBtzB,GAAG,CAACszB,cAAc,GAAGA,cAAc;MACrC;MACA,IAAIC,OAAO,EAAE;QACXvzB,GAAG,CAACuzB,OAAO,GAAGA,OAAO;MACvB;MACA,IAAIC,QAAQ,EAAE;QACZxzB,GAAG,CAACwzB,QAAQ,GAAGA,QAAQ;MACzB;MACAxzB,GAAG,CAACnd,MAAM,CAAC+vH,UAAU,CAAC1X,SAAS,CAAC,CAAC,CAAC;MAClCl7F,GAAG,CAAC4xB,WAAW,GAAGA,WAAW;IAC/B;EACF;AACF,CAAC;AACD+gF,IAAI,CAACr6H,SAAS,GAAG,MAAM;AACvB1Z,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEmW,IAAI,CAACl2I,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC;AAC1BmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEmW,IAAI,CAACl2I,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC;AAC1BmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEmW,IAAI,CAACl2I,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9BmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEmW,IAAI,CAACl2I,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC/BmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEmW,IAAI,CAACl2I,SAAS,EAAE,qBAAqB,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEmW,IAAI,CAACl2I,SAAS,EAAE,sBAAsB,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEmW,IAAI,CAACl2I,SAAS,EAAE,yBAAyB,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEmW,IAAI,CAACl2I,SAAS,EAAE,wBAAwB,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEmW,IAAI,CAACl2I,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACjCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEmW,IAAI,CAACl2I,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;;AAE9B;AACA,IAAIk3I,UAAU,GAAG,cAAc7nI,kBAAkB,CAAC;EAChDtG,WAAWA,CAACw6B,GAAG,EAAE;IACf,KAAK,CAAC,CAAC;IACP,IAAI,CAAC9lB,IAAI,GAAG,IAAIm4C,KAAK,CAAC;MAAEp1D,IAAI,EAAE,YAAY;MAAEklC,MAAM,EAAE,CAAC,CAAC;IAA+B,CAAC,CAAC;IACvF,IAAI,CAACyxG,QAAQ,GAAG,IAAIjB,IAAI,CAAC,CAAC;IAC1B,IAAI,CAACvvH,OAAO,GAAG,IAAI;IACnB,IAAI,CAACJ,IAAI,GAAG,OAAO;IACnB,IAAI,CAAC9I,IAAI,CAAC4U,WAAW,CAAC,IAAI,CAAC8kH,QAAQ,CAAC;IACpC,IAAI,CAAC7nI,UAAU,CAACpF,IAAI,CAClBq5B,GAAG,CAACkqE,KAAK,CAACza,UAAU,CAAC,IAAI,CAACv1E,IAAI,CAAC,EAC/B8lB,GAAG,CAAC05C,aAAa,CAAC1E,WAAW,CAAC,iBAAiB,EAAGj1E,CAAC,IAAK,IAAI,CAACopH,gBAAgB,CAACppH,CAAC,CAAC,CAClF,CAAC;EACH;EACAopH,gBAAgBA,CAACppH,CAAC,EAAE;IAClB,MAAM;MAAE0iB,KAAK;MAAEsY;IAAO,CAAC,GAAGh7B,CAAC,CAAC45E,KAAK;IACjC,IAAI,CAACi6D,QAAQ,CAACnxH,KAAK,GAAGA,KAAK;IAC3B,IAAI,CAACmxH,QAAQ,CAAC74G,MAAM,GAAGA,MAAM;EAC/B;AACF,CAAC;AACDn8B,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,EACjBkvB,oBAAoB,CAAC,MAAM,EAAE,SAAS,CAAC,CACxC,EAAEmkE,UAAU,CAACl3I,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACtCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,EAC1C02D,oBAAoB,CAAC,UAAU,EAAE,MAAM,CAAC,CACzC,EAAEmkE,UAAU,CAACl3I,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,EAAE;EAAErnC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE66H,UAAU,CAACl3I,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;;AAEpC;AACA,IAAIo3I,gBAAgB,GAAG;EACrBhnI,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE,YAAY;EACxBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,WAAW,EAAE,OAAO,EAAE,WAAW,EAAE,UAAU,CAAC;EAC3DxH,mBAAmB,EAAEylI;AACvB,CAAC;;AAED;AACA,SAASG,UAAUA,CAAC;EAClBC,WAAW;EACXC,MAAM;EACNz7E,SAAS;EACTD,QAAQ;EACR27E,YAAY,GAAG,CAAC;EAChBC,YAAY,GAAG,CAAC;EAChBC,WAAW,GAAG;AAChB,CAAC,EAAE;EACD,MAAMC,UAAU,GAAGL,WAAW,KAAK,YAAY;EAC/C,MAAMM,OAAO,GAAG;IACdltI,GAAG,EAAEitI,UAAU,GAAG97E,QAAQ,GAAGC,SAAS;IACtC3zD,EAAE,EAAEwvI,UAAU,GAAIn2I,CAAC,IAAKA,CAAC,CAACwkB,KAAK,GAAIxkB,CAAC,IAAKA,CAAC,CAAC88B,MAAM;IACjDzY,OAAO,EAAE8xH,UAAU,GAAGF,YAAY,GAAGD;EACvC,CAAC;EACD,MAAMK,SAAS,GAAG;IAChBntI,GAAG,EAAEitI,UAAU,GAAG77E,SAAS,GAAGD,QAAQ;IACtC1zD,EAAE,EAAEwvI,UAAU,GAAIn2I,CAAC,IAAKA,CAAC,CAAC88B,MAAM,GAAI98B,CAAC,IAAKA,CAAC,CAACwkB,KAAK;IACjDH,OAAO,EAAE8xH,UAAU,GAAGH,YAAY,GAAGC;EACvC,CAAC;EACD,IAAIK,kBAAkB,GAAG,CAAC;EAC1B,MAAMC,QAAQ,GAAG,EAAE;EACnB,OAAOD,kBAAkB,GAAGP,MAAM,CAAC/0I,MAAM,EAAE;IACzC,MAAMw1I,iBAAiB,GAAGT,MAAM,CAAC3/H,KAAK,CAACkgI,kBAAkB,CAAC;IAC1D,MAAMx1I,MAAM,GAAG21I,aAAa,CAACD,iBAAiB,EAAEF,kBAAkB,EAAEF,OAAO,EAAEC,SAAS,EAAEH,WAAW,CAAC;IACpG,IAAI,CAACp1I,MAAM,EAAE;MACX;IACF;IACAw1I,kBAAkB,IAAIx1I,MAAM,CAACw1I,kBAAkB;IAC/CC,QAAQ,CAAC7tI,IAAI,CAAC5H,MAAM,CAAC41I,WAAW,CAAC;EACnC;EACA,OAAOC,UAAU,CAACJ,QAAQ,EAAET,WAAW,EAAEC,MAAM,EAAEC,YAAY,EAAEC,YAAY,CAAC;AAC9E;AACA,SAASQ,aAAaA,CAACV,MAAM,EAAEa,WAAW,EAAER,OAAO,EAAEC,SAAS,EAAEH,WAAW,EAAE;EAC3E,MAAMW,QAAQ,GAAG,CAAC;EAClB,IAAIC,aAAa,GAAGC,qBAAqB,CAAChB,MAAM,EAAEK,OAAO,CAAC;EAC1D,IAAIU,aAAa,GAAGD,QAAQ,EAAE;IAC5B,IAAI,CAACX,WAAW,EAAE;MAChB;IACF;IACAY,aAAa,GAAGD,QAAQ;EAC1B;EACA,IAAIG,KAAK,GAAGF,aAAa;EACzB,OAAOE,KAAK,IAAIH,QAAQ,EAAE;IACxB,MAAMH,WAAW,GAAGO,aAAa,CAAClB,MAAM,EAAEa,WAAW,EAAEI,KAAK,EAAEZ,OAAO,EAAEC,SAAS,EAAEH,WAAW,CAAC;IAC9F,IAAIQ,WAAW,IAAI,IAAI,IAAIM,KAAK,IAAIH,QAAQ,EAAE;MAC5C;IACF;IACA,IAAIH,WAAW,IAAI,IAAI,EAAE;MACvBM,KAAK,EAAE;MACP;IACF;IACA,IAAI,OAAON,WAAW,KAAK,QAAQ,EAAE;MACnC,IAAIA,WAAW,IAAIG,QAAQ,EAAE;QAC3B;MACF;MACAG,KAAK,GAAGN,WAAW,GAAGM,KAAK,IAAIN,WAAW,GAAGG,QAAQ,GAAGH,WAAW,GAAGM,KAAK;MAC3EA,KAAK,EAAE;MACP;IACF;IACA,MAAMV,kBAAkB,GAAGI,WAAW,CAAC11I,MAAM,GAAG01I,WAAW,CAAC,CAAC,CAAC,CAAC11I,MAAM;IACrE,OAAO;MAAEs1I,kBAAkB;MAAEI;IAAY,CAAC;EAC5C;AACF;AACA,SAASO,aAAaA,CAAClB,MAAM,EAAEa,WAAW,EAAEM,YAAY,EAAEd,OAAO,EAAEC,SAAS,EAAEH,WAAW,EAAE;EACzF,IAAI7tI,EAAE;EACN,MAAMvH,MAAM,GAAG,EAAE;EACjB,IAAIq2I,YAAY,GAAG,CAAC;EACpB,IAAIC,mBAAmB,GAAG,CAAC;EAC3B,IAAIC,qBAAqB,GAAG,EAAE;EAC9B,MAAMC,gBAAgB,GAAG,EAAE;EAC3B,KAAK,IAAIC,SAAS,GAAG,CAAC,EAAEA,SAAS,GAAGxB,MAAM,CAAC/0I,MAAM,EAAEu2I,SAAS,EAAE,EAAE;IAC9D,MAAMC,eAAe,GAAG,CAACD,SAAS,GAAGL,YAAY,IAAIA,YAAY;IACjE,IAAIM,eAAe,KAAK,CAAC,EAAE;MACzBL,YAAY,IAAIC,mBAAmB;MACnCA,mBAAmB,GAAG,CAAC;MACvB,IAAIC,qBAAqB,CAACr2I,MAAM,GAAG,CAAC,EAAE;QACpCF,MAAM,CAAC4H,IAAI,CAAC2uI,qBAAqB,CAAC;MACpC;MACAA,qBAAqB,GAAG,EAAE;IAC5B;IACA,MAAMI,YAAY,GAAGrB,OAAO,CAACzvI,EAAE,CAACovI,MAAM,CAACwB,SAAS,CAAC,CAAC,GAAGnB,OAAO,CAAC/xH,OAAO;IACpEizH,gBAAgB,CAACE,eAAe,CAAC,GAAGn4I,IAAI,CAAC6J,GAAG,CAAC,CAACb,EAAE,GAAGivI,gBAAgB,CAACE,eAAe,CAAC,KAAK,IAAI,GAAGnvI,EAAE,GAAG,CAAC,EAAEovI,YAAY,CAAC;IACrHL,mBAAmB,GAAG/3I,IAAI,CAAC6J,GAAG,CAACkuI,mBAAmB,EAAEf,SAAS,CAAC1vI,EAAE,CAACovI,MAAM,CAACwB,SAAS,CAAC,CAAC,GAAGlB,SAAS,CAAChyH,OAAO,CAAC;IACxG,MAAMqzH,yBAAyB,GAAGP,YAAY,GAAGC,mBAAmB;IACpE,MAAMO,YAAY,GAAG,CAACzB,WAAW,IAAIp1I,MAAM,CAACE,MAAM,GAAG,CAAC;IACtD,IAAI02I,yBAAyB,GAAGrB,SAAS,CAACntI,GAAG,IAAIyuI,YAAY,EAAE;MAC7DN,qBAAqB,GAAG,EAAE;MAC1B;IACF;IACA,MAAMO,UAAU,GAAGN,gBAAgB,CAACtkI,MAAM,CAAC,CAAC4qD,IAAI,EAAE/7D,IAAI,KAAK+7D,IAAI,GAAG/7D,IAAI,EAAE,CAAC,CAAC;IAC1E,IAAI+1I,UAAU,GAAGxB,OAAO,CAACltI,GAAG,IAAI,CAACgtI,WAAW,EAAE;MAC5C,IAAIoB,gBAAgB,CAACt2I,MAAM,GAAGk2I,YAAY,EAAE;QAC1C,OAAOI,gBAAgB,CAACt2I,MAAM;MAChC;MACA;IACF;IACAq2I,qBAAqB,CAAC3uI,IAAI,CAAC6uI,SAAS,GAAGX,WAAW,CAAC;EACrD;EACA,IAAIS,qBAAqB,CAACr2I,MAAM,GAAG,CAAC,EAAE;IACpCF,MAAM,CAAC4H,IAAI,CAAC2uI,qBAAqB,CAAC;EACpC;EACA,OAAOv2I,MAAM,CAACE,MAAM,GAAG,CAAC,GAAGF,MAAM,GAAG,KAAK,CAAC;AAC5C;AACA,SAAS61I,UAAUA,CAACJ,QAAQ,EAAET,WAAW,EAAEC,MAAM,EAAEC,YAAY,EAAEC,YAAY,EAAE;EAC7E,IAAI4B,YAAY,GAAG,CAAC;EACpB,IAAIC,aAAa,GAAG,CAAC;EACrB,MAAMC,KAAK,GAAGxB,QAAQ,CAAClhI,GAAG,CAAEk9F,OAAO,IAAK;IACtC,IAAIujC,WAAW,KAAK,YAAY,EAAE;MAChCvjC,OAAO,GAAGylC,SAAS,CAACzlC,OAAO,CAAC;IAC9B;IACA,IAAI0lC,QAAQ,GAAG,CAAC;IAChB,MAAMC,OAAO,GAAG3lC,OAAO,CAACl9F,GAAG,CAAE8iI,UAAU,IAAK;MAC1C,MAAMC,SAAS,GAAGD,UAAU,CAAC9iI,GAAG,CAAEkiI,SAAS,IAAK;QAC9CU,QAAQ,GAAG54I,IAAI,CAAC6J,GAAG,CAACquI,SAAS,EAAEU,QAAQ,CAAC;QACxC,OAAOlC,MAAM,CAACwB,SAAS,CAAC;MAC1B,CAAC,CAAC;MACF,IAAIc,YAAY,GAAG,CAAC;MACpB,IAAIC,WAAW,GAAG,CAAC;MACnBF,SAAS,CAACt+H,OAAO,CAAEqnB,IAAI,IAAK;QAC1Bk3G,YAAY,IAAIl3G,IAAI,CAACrE,MAAM,GAAGk5G,YAAY;QAC1CsC,WAAW,GAAGj5I,IAAI,CAAC6J,GAAG,CAACovI,WAAW,EAAEn3G,IAAI,CAAC3c,KAAK,GAAGyxH,YAAY,CAAC;MAChE,CAAC,CAAC;MACF,OAAO;QACL1jC,OAAO,EAAE4lC,UAAU;QACnBpC,MAAM,EAAEqC,SAAS;QACjBC,YAAY,EAAEh5I,IAAI,CAAC0I,IAAI,CAACswI,YAAY,CAAC;QACrCC,WAAW,EAAEj5I,IAAI,CAAC0I,IAAI,CAACuwI,WAAW;MACpC,CAAC;IACH,CAAC,CAAC;IACF,IAAIC,SAAS,GAAG,CAAC;IACjB,IAAIC,UAAU,GAAG,CAAC;IAClBN,OAAO,CAACp+H,OAAO,CAAE2+H,MAAM,IAAK;MAC1BF,SAAS,IAAIE,MAAM,CAACH,WAAW;MAC/BE,UAAU,GAAGn5I,IAAI,CAAC6J,GAAG,CAACsvI,UAAU,EAAEC,MAAM,CAACJ,YAAY,CAAC;IACxD,CAAC,CAAC;IACFR,YAAY,GAAGx4I,IAAI,CAAC6J,GAAG,CAACqvI,SAAS,EAAEV,YAAY,CAAC;IAChDC,aAAa,GAAGz4I,IAAI,CAAC6J,GAAG,CAACsvI,UAAU,EAAEV,aAAa,CAAC;IACnD,OAAO;MACLI,OAAO;MACPQ,UAAU,EAAEnmC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzB0lC,QAAQ;MACRM,SAAS;MACTC;IACF,CAAC;EACH,CAAC,CAAC;EACF,OAAO;IAAET,KAAK;IAAEF,YAAY;IAAEC;EAAc,CAAC;AAC/C;AACA,SAASE,SAASA,CAAC56H,IAAI,EAAE;EACvB,MAAMtc,MAAM,GAAG,EAAE;EACjB,KAAK,MAAMyyB,CAAC,IAAInW,IAAI,CAAC,CAAC,CAAC,EAAE;IACvBtc,MAAM,CAAC4H,IAAI,CAAC,EAAE,CAAC;EACjB;EACA0U,IAAI,CAACtD,OAAO,CAAC,CAAC6+H,SAAS,EAAEC,OAAO,KAAK;IACnCD,SAAS,CAAC7+H,OAAO,CAAC,CAACxE,IAAI,EAAEujI,OAAO,KAAK;MACnC/3I,MAAM,CAAC+3I,OAAO,CAAC,CAACD,OAAO,CAAC,GAAGtjI,IAAI;IACjC,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAOxU,MAAM;AACf;AACA,SAASi2I,qBAAqBA,CAAChB,MAAM,EAAEK,OAAO,EAAE;EAC9C,MAAMhoH,CAAC,GAAG2nH,MAAM,CAAC/0I,MAAM;EACvB,IAAI83I,UAAU,GAAG,CAAC;EAClB,KAAK,IAAIvB,SAAS,GAAG,CAAC,EAAEA,SAAS,GAAGnpH,CAAC,EAAEmpH,SAAS,EAAE,EAAE;IAClDuB,UAAU,IAAI1C,OAAO,CAACzvI,EAAE,CAACovI,MAAM,CAACwB,SAAS,CAAC,CAAC,GAAGnB,OAAO,CAAC/xH,OAAO;IAC7D,IAAIy0H,UAAU,GAAG1C,OAAO,CAACltI,GAAG,EAAE;MAC5B,MAAM0/E,KAAK,GAAGx6D,CAAC,GAAGmpH,SAAS;MAC3B,IAAI3uD,KAAK,GAAG,CAAC,EAAE;QACb,OAAOvpF,IAAI,CAAC0I,IAAI,CAACqmB,CAAC,GAAG,CAAC,CAAC;MACzB;MACA,OAAOmpH,SAAS;IAClB;EACF;EACA,OAAOnpH,CAAC;AACV;;AAEA;AACA,IAAI2qH,WAAW,GAAG,cAAc3kF,KAAK,CAAC;EACpC7sD,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC;MAAEvI,IAAI,EAAE;IAAmB,CAAC,CAAC;IACnC,IAAI,CAAColB,KAAK,GAAG,IAAI26C,IAAI,CAAC,CAAC;IACvB,IAAI,CAACx6C,IAAI,GAAG,IAAIuqD,IAAI,CAAC,CAAC;IACtB,IAAI,CAACkqE,OAAO,GAAG,IAAI/W,MAAM,CAAC,CAAC;IAC3B,IAAI,CAACgX,WAAW,GAAG,EAAE;IACrB,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,MAAM;MAAEvyH,MAAM;MAAEvC,KAAK;MAAEG;IAAK,CAAC,GAAG,IAAI;IACpCH,KAAK,CAACy0C,YAAY,GAAG,QAAQ;IAC7Bz0C,KAAK,CAACH,QAAQ,GAAG,EAAE;IACnBG,KAAK,CAACF,UAAU,GAAG,qBAAqB;IACxCE,KAAK,CAACW,IAAI,GAAG,OAAO;IACpBX,KAAK,CAAC2X,CAAC,GAAG,CAAC;IACX,IAAI,CAACoK,MAAM,CAAC,CAAC5hB,IAAI,EAAEoC,MAAM,EAAEvC,KAAK,CAAC,CAAC;IAClC,IAAI,CAAC8zB,MAAM,CAAC,CAAC;EACf;EACA,IAAIvxB,MAAMA,CAACjnB,KAAK,EAAE;IAChB,IAAI,IAAI,CAACs5I,OAAO,KAAKt5I,KAAK,EAAE;MAC1B,IAAI,CAACqxB,WAAW,CAAC,IAAI,CAACioH,OAAO,CAAC;MAC9B,IAAI,CAACA,OAAO,GAAGt5I,KAAK;MACpB,IAAI,CAACmxB,WAAW,CAACnxB,KAAK,CAAC;MACvB,IAAI,CAACw4C,MAAM,CAAC,CAAC;IACf;EACF;EACA,IAAIvxB,MAAMA,CAAA,EAAG;IACX,OAAO,IAAI,CAACqyH,OAAO;EACrB;EACA,IAAIG,UAAUA,CAACz5I,KAAK,EAAE;IACpB,IAAI,IAAI,CAACu5I,WAAW,KAAKv5I,KAAK,EAAE;MAC9B,IAAI,CAACu5I,WAAW,GAAGv5I,KAAK;MACxB,IAAI,CAACw4C,MAAM,CAAC,CAAC;IACf;EACF;EACA,IAAIihG,UAAUA,CAAA,EAAG;IACf,OAAO,IAAI,CAACF,WAAW;EACzB;EACA,IAAIl1H,OAAOA,CAACrkB,KAAK,EAAE;IACjB,IAAI,IAAI,CAACw5I,QAAQ,KAAKx5I,KAAK,EAAE;MAC3B,IAAI,CAACw5I,QAAQ,GAAGx5I,KAAK;MACrB,IAAI,CAACw4C,MAAM,CAAC,CAAC;IACf;EACF;EACA,IAAIn0B,OAAOA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACm1H,QAAQ;EACtB;EACAE,qBAAqBA,CAACC,IAAI,EAAE;IAC1B,MAAMrwI,OAAO,GAAG,IAAI,CAAC2d,MAAM,CAAChB,IAAI,GAAG,CAAC,GAAG0zH,IAAI;IAC3C,IAAI,CAAC90H,IAAI,CAACkZ,EAAE,GAAG,CAACz0B,OAAO;IACvB,IAAI,CAACub,IAAI,CAACoZ,EAAE,GAAG30B,OAAO;IACtB,IAAI,CAACub,IAAI,CAACmZ,EAAE,GAAG,CAAC;IAChB,IAAI,CAACnZ,IAAI,CAACqZ,EAAE,GAAG,CAAC;IAChB,IAAI,CAACrZ,IAAI,CAACib,kBAAkB,CAAC,CAAC;IAC9B,IAAI,CAAC0Y,MAAM,CAAC,CAAC;EACf;EACAA,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEihG;IAAW,CAAC,GAAG,IAAI;IAC3B,MAAM7oE,MAAM,GAAG,IAAI,CAAC3pD,MAAM,CAACpf,WAAW,CAAC+oE,MAAM;IAC7C,IAAI,CAAC3pD,MAAM,CAAChB,IAAI,GAAGwzH,UAAU;IAC7B,IAAI,CAACxyH,MAAM,CAAC1kB,CAAC,GAAG,CAACquE,MAAM,CAACruE,CAAC,GAAG,GAAG,IAAIk3I,UAAU;IAC7C,IAAI,CAACxyH,MAAM,CAACoV,CAAC,GAAG,CAACu0C,MAAM,CAACv0C,CAAC,GAAG,GAAG,IAAIo9G,UAAU;IAC7C,MAAMG,OAAO,GAAG,IAAI,CAAC/0H,IAAI,CAACY,OAAO,GAAG,IAAI,CAACZ,IAAI,CAACoZ,EAAE,GAAG,CAACxP,QAAQ;IAC5D,MAAMorH,SAAS,GAAGJ,UAAU,GAAG,CAAC;IAChC,IAAI,CAAC/0H,KAAK,CAACniB,CAAC,GAAG5C,IAAI,CAAC6J,GAAG,CAACowI,OAAO,EAAEC,SAAS,CAAC,GAAG,IAAI,CAACx1H,OAAO;EAC5D;EACAojB,MAAMA,CAACC,SAAS,EAAE;IAChB,IAAI,CAACzgB,MAAM,CAAC+qC,OAAO,GAAG,IAAI,CAACA,OAAO;IAClC,IAAI,CAACttC,KAAK,CAACstC,OAAO,GAAG,IAAI,CAACA,OAAO;IACjC,IAAI,CAACntC,IAAI,CAACmtC,OAAO,GAAG,IAAI,CAACA,OAAO;IAChC,KAAK,CAACvqB,MAAM,CAACC,SAAS,CAAC;EACzB;AACF,CAAC;AACD2xG,WAAW,CAAC1+H,SAAS,GAAG,aAAa;AACrC1Z,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,OAAO,CAAC,CAC9B,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACpCmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,OAAO,CAAC,CAC9B,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,OAAO,CAAC,CAC9B,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,OAAO,CAAC,CAC9B,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACxCmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,OAAO,CAAC,CAC9B,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,OAAO,EAAE,MAAM,CAAC,CACtC,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,QAAQ,EAAE,MAAM,CAAC,CACvC,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CACzC,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,QAAQ,EAAE,aAAa,CAAC,CAC9C,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,mBAAmB,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,QAAQ,EAAE,aAAa,CAAC,CAC9C,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,mBAAmB,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,QAAQ,EAAE,eAAe,CAAC,CAChD,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,qBAAqB,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAC1C,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,MAAM,EAAE,QAAQ,CAAC,CACvC,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,MAAM,EAAE,aAAa,CAAC,CAC5C,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,MAAM,EAAE,eAAe,CAAC,CAC9C,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,mBAAmB,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,MAAM,EAAE,UAAU,CAAC,CACzC,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACd4wE,oBAAoB,CAAC,MAAM,EAAE,SAAS,CAAC,CACxC,EAAEwnE,WAAW,CAACv6I,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;;AAE3C;AACA,IAAIg7I,eAAe,GAAG,cAAcr/H,cAAc,CAAC;EACjD5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC1hC,KAAK,GAAG,OAAO;IACpB,IAAI,CAAC85C,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAACj6C,UAAU,GAAG,KAAK,CAAC;IACxB,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,UAAU,GAAG,qBAAqB;EACzC;AACF,CAAC;AACDvjB,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,CACvB,EAAE61F,eAAe,CAACh7I,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACdugD,QAAQ,CAACqD,UAAU,EAAE;EAAE1pC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACzC,EAAE2+H,eAAe,CAACh7I,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACsD,YAAY,EAAE;EAAE3pC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAE2+H,eAAe,CAACh7I,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE62F,eAAe,CAACh7I,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAEi3F,eAAe,CAACh7I,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC9C,IAAIi7I,qBAAqB,GAAG,cAAct/H,cAAc,CAAC;EACvD5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAClgC,IAAI,GAAG,EAAE;IACd,IAAI,CAACZ,IAAI,GAAG,KAAK,CAAC;IAClB,IAAI,CAACC,WAAW,GAAG,KAAK,CAAC;IACzB,IAAI,CAACJ,MAAM,GAAG,KAAK,CAAC;IACpB,IAAI,CAACK,WAAW,GAAG,CAAC;IACpB,IAAI,CAACkwC,aAAa,GAAG,CAAC;EACxB;AACF,CAAC;AACDx0D,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE82F,qBAAqB,CAACj7I,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAE4+H,qBAAqB,CAACj7I,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,EAAE;EAAEhoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACpC,EAAE4+H,qBAAqB,CAACj7I,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAE4+H,qBAAqB,CAACj7I,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE82F,qBAAqB,CAACj7I,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE42F,qBAAqB,CAACj7I,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACvD,IAAIk7I,gBAAgB,GAAG,cAAcv/H,cAAc,CAAC;EAClD5S,WAAWA,CAACq+B,MAAM,EAAE;IAClB,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAAClgB,KAAK,GAAG+8G,QAAQ;IACrB,IAAI,CAAC98G,IAAI,GAAG,EAAE;IACd,IAAI,CAACtB,OAAO,GAAG,CAAC;EAClB;AACF,CAAC;AACD1jB,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACVG,WAAWA,CAAA,EAAG;IACZ,IAAI,IAAI,CAACjsC,MAAM,CAACjf,MAAM,KAAK,IAAI,EAAE;MAC/B,IAAI,CAACif,MAAM,CAAC+zG,mBAAmB,CAAC,CAAC;IACnC;EACF;AACF,CAAC,CAAC,CACH,EAAED,gBAAgB,CAACl7I,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE+2F,gBAAgB,CAACl7I,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE+2F,gBAAgB,CAACl7I,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAC5C,IAAIo7I,UAAU,GAAG,cAAcz/H,cAAc,CAAC;EAC5C5S,WAAWA,CAACsyI,mBAAmB,EAAEC,kBAAkB,EAAEtjE,aAAa,EAAEi2B,aAAa,EAAE;IACjF,KAAK,CAAC,CAAC;IACP,IAAI,CAACotC,mBAAmB,GAAGA,mBAAmB;IAC9C,IAAI,CAACC,kBAAkB,GAAGA,kBAAkB;IAC5C,IAAI,CAACtjE,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACi2B,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACpoE,EAAE,GAAGhK,QAAQ,CAAC,IAAI,CAAC;IACxB,IAAI,CAAC1T,MAAM,GAAG,IAAI+yH,gBAAgB,CAAC,IAAI,CAAC;IACxC,IAAI,CAAC3yH,WAAW,GAAG,IAAI0yH,qBAAqB,CAAC,CAAC;IAC9C,IAAI,CAACzyH,aAAa,GAAG,IAAIyyH,qBAAqB,CAAC,CAAC;IAChD,IAAI,CAACp0H,cAAc,GAAG,IAAIo0H,qBAAqB,CAAC,CAAC;IACjD,IAAI,CAACr1H,KAAK,GAAG,IAAIo1H,eAAe,CAAC,CAAC;IAClC,IAAI,CAACvmF,KAAK,GAAG,IAAImB,KAAK,CAAC;MAAEp1D,IAAI,EAAE;IAAa,CAAC,CAAC;IAC9C,IAAI,CAAC+6I,SAAS,GAAG,IAAIh7E,IAAI,CAAC,CAAC;IAC3B,IAAI,CAACjxD,UAAU,GAAG,EAAE;IACpB,IAAI,CAACksI,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACz3G,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,YAAY,GAAG,CAAC;IACrB,IAAI,CAACy3G,kBAAkB,GAAG,KAAK;IAC/B,IAAI,CAACC,sBAAsB,GAAG,KAAK;IACnC,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,YAAY,GAAG,UAAU;IAC9B,IAAI,CAACC,WAAW,GAAG,IAAI9X,QAAQ,CAAC,CAAC;IACjC,IAAI,CAAC+X,eAAe,GAAG,IAAI/X,QAAQ,CAAC,CAAC;IACrC,IAAI,CAACsX,SAAS,CAAC/zG,aAAa,CAAC;MAC3B6yB,YAAY,EAAE,QAAQ;MACtB50C,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,qBAAqB;MACjCa,IAAI,EAAE,OAAO;MACbgX,CAAC,EAAE;IACL,CAAC,CAAC;IACF,IAAI,CAACk3B,KAAK,CAAC9sB,MAAM,CAAC,CAAC,IAAI,CAACs0G,UAAU,EAAE,IAAI,CAACC,cAAc,EAAE,IAAI,CAACX,SAAS,CAAC,CAAC;IACzE,MAAMjjE,MAAM,GAAG,IAAI,CAACN,aAAa,CAAC6wB,SAAS,CAAC,YAAY,EAAE,IAAI,CAACp0C,KAAK,CAAC;IACrE,IAAI,CAACnlD,UAAU,CAACpF,IAAI,CAClBouE,MAAM,CAACC,WAAW,CAAC,OAAO,EAAGtP,KAAK,IAAK,IAAI,CAACkzE,iBAAiB,CAAClzE,KAAK,CAAC,CAAC,EACrEqP,MAAM,CAACC,WAAW,CAAC,OAAO,EAAGtP,KAAK,IAAK,IAAI,CAACmzE,qBAAqB,CAACnzE,KAAK,CAAC,CAC1E,CAAC;IACD,IAAI,CAACvvB,MAAM,CAAC,CAAC;IACb,IAAI,CAAC2iG,aAAa,CAAC,CAAC;EACtB;EACA9sI,OAAOA,CAAA,EAAG;IACR,IAAI,CAACD,UAAU,CAACgM,OAAO,CAAE/H,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC;EACrC;EACA,IAAIoT,OAAOA,CAACzlB,KAAK,EAAE;IACjB,IAAI,CAAC06I,QAAQ,GAAG16I,KAAK;IACrB,IAAI,CAACo7I,qBAAqB,CAAC,CAAC;EAC9B;EACA,IAAI31H,OAAOA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACi1H,QAAQ;EACtB;EACA,IAAIv2H,OAAOA,CAACnkB,KAAK,EAAE;IACjB,IAAI,CAAC26I,QAAQ,GAAG36I,KAAK;IACrB,IAAI,CAACo7I,qBAAqB,CAAC,CAAC;EAC9B;EACA,IAAIj3H,OAAOA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACw2H,QAAQ;EACtB;EACAS,qBAAqBA,CAAA,EAAG;IACtB,IAAI,CAAC7nF,KAAK,CAAC9tC,OAAO,GAAG,IAAI,CAACtB,OAAO,IAAI,IAAI,CAACsB,OAAO;EACnD;EACA,IAAI2wH,WAAWA,CAACp2I,KAAK,EAAE;IACrB,IAAI,CAAC46I,YAAY,GAAG56I,KAAK;IACzB,QAAQA,KAAK;MACX,KAAK,YAAY;QAAE;UACjB,IAAI,CAACg7I,cAAc,CAACn4G,QAAQ,GAAG,CAACljC,IAAI,CAACwsC,EAAE,GAAG,CAAC;UAC3C,IAAI,CAAC4uG,UAAU,CAACl4G,QAAQ,GAAGljC,IAAI,CAACwsC,EAAE,GAAG,CAAC;UACtC;QACF;MACA,KAAK,UAAU;MACf;QAAS;UACP,IAAI,CAAC6uG,cAAc,CAACn4G,QAAQ,GAAG,CAAC;UAChC,IAAI,CAACk4G,UAAU,CAACl4G,QAAQ,GAAGljC,IAAI,CAACwsC,EAAE;QACpC;IACF;EACF;EACA,IAAIiqG,WAAWA,CAAA,EAAG;IAChB,OAAO,IAAI,CAACwE,YAAY;EAC1B;EACA,IAAIG,UAAUA,CAAC/6I,KAAK,EAAE;IACpB,IAAI,IAAI,CAAC66I,WAAW,KAAK76I,KAAK,EAAE;MAC9B,IAAI,CAACuzD,KAAK,CAACliC,WAAW,CAAC,IAAI,CAACwpH,WAAW,CAAC;MACxC,IAAI,CAACA,WAAW,GAAG76I,KAAK;MACxB,IAAI,CAACuzD,KAAK,CAACpiC,WAAW,CAACnxB,KAAK,CAAC;IAC/B;EACF;EACA,IAAI+6I,UAAUA,CAAA,EAAG;IACf,OAAO,IAAI,CAACF,WAAW;EACzB;EACA,IAAIG,cAAcA,CAACh7I,KAAK,EAAE;IACxB,IAAI,IAAI,CAAC86I,eAAe,KAAK96I,KAAK,EAAE;MAClC,IAAI,CAACuzD,KAAK,CAACliC,WAAW,CAAC,IAAI,CAACypH,eAAe,CAAC;MAC5C,IAAI,CAACA,eAAe,GAAG96I,KAAK;MAC5B,IAAI,CAACuzD,KAAK,CAACpiC,WAAW,CAACnxB,KAAK,CAAC;IAC/B;EACF;EACA,IAAIg7I,cAAcA,CAAA,EAAG;IACnB,OAAO,IAAI,CAACF,eAAe;EAC7B;EACAtiG,MAAMA,CAAA,EAAG;IACP,IAAI,CAACstB,WAAW,CAAC,CAAC;IAClB,IAAI,CAACu1E,eAAe,CAAC,CAAC;IACtB,IAAI,CAACC,sBAAsB,CAAC,CAAC;EAC/B;EACAD,eAAeA,CAAA,EAAG;IAChB,IAAI,CAAC9nF,KAAK,CAACzwB,YAAY,GAAG,IAAI,CAACA,YAAY;IAC3C,IAAI,CAACywB,KAAK,CAACxwB,YAAY,GAAG,IAAI,CAACA,YAAY;IAC3C,IAAI,CAACw4G,mBAAmB,CAAC,CAAC;IAC1B,IAAI,CAACC,wBAAwB,CAAC,CAAC;EACjC;EACAD,mBAAmBA,CAAA,EAAG;IACpB,MAAM;MAAEt1H,IAAI,EAAEwzH,UAAU;MAAE90H,OAAO,EAAE82H;IAAc,CAAC,GAAG,IAAI,CAACx0H,MAAM;IAChE,IAAI,CAAC8zH,UAAU,CAAC90H,IAAI,GAAGwzH,UAAU;IACjC,IAAI,CAACuB,cAAc,CAAC/0H,IAAI,GAAGwzH,UAAU;IACrC,IAAI,CAACY,SAAS,CAAC93I,CAAC,GAAGk3I,UAAU,GAAG,CAAC,GAAGgC,aAAa;EACnD;EACAD,wBAAwBA,CAAA,EAAG;IACzB,MAAME,SAAS,GAAG,IAAI,CAACrB,SAAS,CAAC/yG,WAAW,CAAC,CAAC;IAC9C,IAAI,CAACyzG,UAAU,CAACj4G,YAAY,GAAG44G,SAAS,CAACn5I,CAAC,GAAGm5I,SAAS,CAAC52H,KAAK,GAAG,IAAI,CAACmC,MAAM,CAAChB,IAAI,GAAG,CAAC,GAAG,IAAI,CAACgB,MAAM,CAACtC,OAAO;EAC3G;EACAmhD,WAAWA,CAAA,EAAG;IACZ,MAAM;MACJy0E,WAAW;MACXD,UAAU,EAAEjC,KAAK;MACjBgC,SAAS;MACT31H,KAAK,EAAE;QAAED,KAAK;QAAE85C,SAAS;QAAEj6C,UAAU;QAAEC,QAAQ;QAAEC;MAAW;IAC9D,CAAC,GAAG,IAAI;IACR61H,SAAS,CAACj2H,IAAI,GAAG,GAAGm2H,WAAW,GAAG,CAAC,MAAMlC,KAAK,EAAE;IAChDgC,SAAS,CAACh1H,IAAI,GAAGZ,KAAK;IACtB41H,SAAS,CAAC97E,SAAS,GAAGA,SAAS;IAC/B87E,SAAS,CAAC/1H,UAAU,GAAGA,UAAU;IACjC+1H,SAAS,CAAC91H,QAAQ,GAAGA,QAAQ;IAC7B81H,SAAS,CAAC71H,UAAU,GAAGA,UAAU;EACnC;EACA22H,aAAaA,CAAA,EAAG;IACd,MAAM;MACJJ,UAAU;MACVC,cAAc;MACdR,kBAAkB;MAClBC,sBAAsB;MACtBpzH,WAAW;MACXC,aAAa;MACb3B,cAAc;MACdg2H;IACF,CAAC,GAAG,IAAI;IACR,MAAMC,WAAW,GAAGA,CAACC,MAAM,EAAE7T,QAAQ,KAAK;MACxC,IAAIA,QAAQ,EAAE;QACZ,OAAO1gH,aAAa;MACtB,CAAC,MAAM,IAAIu0H,MAAM,KAAKF,eAAe,EAAE;QACrC,OAAOh2H,cAAc;MACvB;MACA,OAAO0B,WAAW;IACpB,CAAC;IACD,IAAI,CAACy0H,YAAY,CAACf,UAAU,EAAEa,WAAW,CAAC,MAAM,EAAEpB,kBAAkB,CAAC,CAAC;IACtE,IAAI,CAACsB,YAAY,CAACd,cAAc,EAAEY,WAAW,CAAC,UAAU,EAAEnB,sBAAsB,CAAC,CAAC;EACpF;EACAqB,YAAYA,CAAC70H,MAAM,EAAEhC,KAAK,EAAE;IAC1B,IAAItc,EAAE;IACN,MAAM;MAAEsd;IAAK,CAAC,GAAG,IAAI,CAACgB,MAAM;IAC5BA,MAAM,CAAChB,IAAI,GAAGA,IAAI;IAClBgB,MAAM,CAAC5B,IAAI,GAAGJ,KAAK,CAACI,IAAI;IACxB4B,MAAM,CAAC3B,WAAW,GAAG,CAAC3c,EAAE,GAAGsc,KAAK,CAACK,WAAW,KAAK,IAAI,GAAG3c,EAAE,GAAG,CAAC;IAC9Dse,MAAM,CAAC/B,MAAM,GAAGD,KAAK,CAACC,MAAM;IAC5B+B,MAAM,CAAC1B,WAAW,GAAGN,KAAK,CAACM,WAAW;IACtC0B,MAAM,CAACwuC,aAAa,GAAGxwC,KAAK,CAACwwC,aAAa;EAC5C;EACA6lF,sBAAsBA,CAAA,EAAG;IACvB,MAAM;MAAEf,WAAW;MAAED;IAAW,CAAC,GAAG,IAAI;IACxC,MAAMyB,kBAAkB,GAAGzB,UAAU,KAAK,CAAC;IAC3C,MAAM0B,UAAU,GAAGzB,WAAW,KAAKD,UAAU,GAAG,CAAC;IACjD,MAAM2B,WAAW,GAAG1B,WAAW,KAAK,CAAC;IACrC,IAAI,CAACC,kBAAkB,GAAGwB,UAAU,IAAID,kBAAkB;IAC1D,IAAI,CAACtB,sBAAsB,GAAGwB,WAAW,IAAIF,kBAAkB;EACjE;EACAG,uBAAuBA,CAACzlE,OAAO,EAAEjc,OAAO,EAAE;IACxC,OAAO,CAAC,IAAI,CAACggF,kBAAkB,IAAI,IAAI,CAACO,UAAU,CAACz9G,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC;EACpF;EACA2hF,2BAA2BA,CAAC1lE,OAAO,EAAEjc,OAAO,EAAE;IAC5C,OAAO,CAAC,IAAI,CAACigF,sBAAsB,IAAI,IAAI,CAACO,cAAc,CAAC19G,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC;EAC5F;EACA4hF,SAASA,CAAA,EAAG;IACV,IAAI,CAACC,aAAa,CAAC,CAAC;IACpB,IAAI,CAACC,mBAAmB,CAAC,CAAC;EAC5B;EACAC,aAAaA,CAAA,EAAG;IACd,IAAI,CAACC,aAAa,CAAC,CAAC;IACpB,IAAI,CAACF,mBAAmB,CAAC,CAAC;EAC5B;EACAG,OAAOA,CAACC,UAAU,EAAE;IAClBA,UAAU,GAAG1hH,KAAK,CAAC,CAAC,EAAE0hH,UAAU,EAAE,IAAI,CAACpC,UAAU,GAAG,CAAC,CAAC;IACtD,IAAI,IAAI,CAACC,WAAW,KAAKmC,UAAU,EAAE;MACnC,IAAI,CAACnC,WAAW,GAAGmC,UAAU;MAC7B,IAAI,CAACJ,mBAAmB,CAAC,CAAC;IAC5B;EACF;EACArB,iBAAiBA,CAAClzE,KAAK,EAAE;IACvB,MAAM;MAAE0O,OAAO;MAAEjc;IAAQ,CAAC,GAAGuN,KAAK;IAClC,IAAI,IAAI,CAACm0E,uBAAuB,CAACzlE,OAAO,EAAEjc,OAAO,CAAC,EAAE;MAClD,IAAI,CAAC4hF,SAAS,CAAC,CAAC;MAChBr0E,KAAK,CAAC6P,OAAO,CAAC,CAAC;IACjB,CAAC,MAAM,IAAI,IAAI,CAACukE,2BAA2B,CAAC1lE,OAAO,EAAEjc,OAAO,CAAC,EAAE;MAC7D,IAAI,CAAC+hF,aAAa,CAAC,CAAC;MACpBx0E,KAAK,CAAC6P,OAAO,CAAC,CAAC;IACjB;EACF;EACAsjE,qBAAqBA,CAACnzE,KAAK,EAAE;IAC3B,MAAM;MAAE0O,OAAO;MAAEjc;IAAQ,CAAC,GAAGuN,KAAK;IAClC,IAAI,IAAI,CAACm0E,uBAAuB,CAACzlE,OAAO,EAAEjc,OAAO,CAAC,EAAE;MAClD,IAAI,CAACuyC,aAAa,CAACpK,YAAY,CAAC,IAAI,CAACh+D,EAAE,EAAE,SAAS,CAAC;MACnD,IAAI,CAACg3G,eAAe,GAAG,MAAM;IAC/B,CAAC,MAAM,IAAI,IAAI,CAACQ,2BAA2B,CAAC1lE,OAAO,EAAEjc,OAAO,CAAC,EAAE;MAC7D,IAAI,CAACuyC,aAAa,CAACpK,YAAY,CAAC,IAAI,CAACh+D,EAAE,EAAE,SAAS,CAAC;MACnD,IAAI,CAACg3G,eAAe,GAAG,UAAU;IACnC,CAAC,MAAM;MACL,IAAI,CAAC5uC,aAAa,CAACpK,YAAY,CAAC,IAAI,CAACh+D,EAAE,CAAC;MACxC,IAAI,CAACg3G,eAAe,GAAG,KAAK,CAAC;IAC/B;IACA,IAAI,CAACR,aAAa,CAAC,CAAC;IACpB,IAAI,CAAChB,mBAAmB,CAAC,CAAC,CAAC,kBAAkB,CAAC;EAChD;EACAmC,mBAAmBA,CAAA,EAAG;IACpB,IAAI,CAAClC,kBAAkB,CAAC,IAAI,CAACG,WAAW,CAAC;EAC3C;EACA8B,aAAaA,CAAA,EAAG;IACd,IAAI,CAAC9B,WAAW,GAAG56I,IAAI,CAAC6uB,GAAG,CAAC,IAAI,CAAC+rH,WAAW,GAAG,CAAC,EAAE,IAAI,CAACD,UAAU,GAAG,CAAC,CAAC;EACxE;EACAkC,aAAaA,CAAA,EAAG;IACd,IAAI,CAACjC,WAAW,GAAG56I,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAAC+wI,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC;EACtD;EACAN,mBAAmBA,CAAA,EAAG;IACpB,MAAM0C,OAAO,GAAG/Y,SAAS,CAAC,IAAI,CAAC38G,MAAM,CAACjB,KAAK,IAAI+8G,QAAQ,CAAC;IACxD,IAAI,CAACiY,cAAc,GAAG,IAAI2B,OAAO,CAAC,CAAC;IACnC,IAAI,CAAC5B,UAAU,GAAG,IAAI4B,OAAO,CAAC,CAAC;IAC/B,IAAI,CAACtB,eAAe,CAAC,CAAC;IACtB,IAAI,CAACF,aAAa,CAAC,CAAC;IACpB,IAAI,CAAChB,mBAAmB,CAAC,CAAC,CAAC,kBAAkB,CAAC;EAChD;EACAyC,gBAAgBA,CAACrgI,IAAI,EAAE;IACrBA,IAAI,CAACkqB,MAAM,CAAC,IAAI,CAAC8sB,KAAK,CAAC;EACzB;EACAjsB,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACisB,KAAK,CAACjsB,WAAW,CAAC,CAAC;EACjC;AACF,CAAC;AACD4yG,UAAU,CAACv/H,SAAS,GAAG,YAAY;AACnC1Z,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE03F,UAAU,CAACp7I,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE03F,UAAU,CAACp7I,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE03F,UAAU,CAACp7I,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE03F,UAAU,CAACp7I,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE03F,UAAU,CAACp7I,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;;AAEpC;AACA,IAAI+9I,WAAW,GAAG,cAAcpiI,cAAc,CAAC;EAC7C5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACpE,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAACt9B,KAAK,GAAG,OAAO;IACpB,IAAI,CAAC85C,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAACj6C,UAAU,GAAG,KAAK,CAAC;IACxB,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,UAAU,GAAG,qBAAqB;IACvC,IAAI,CAACsnC,SAAS,GAAG,KAAK,CAAC;EACzB;AACF,CAAC;AACD7qD,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE0hI,WAAW,CAAC/9I,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,CACvB,EAAE44F,WAAW,CAAC/9I,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdugD,QAAQ,CAACqD,UAAU,EAAE;EAAE1pC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACzC,EAAE0hI,WAAW,CAAC/9I,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACdugD,QAAQ,CAACsD,YAAY,EAAE;EAAE3pC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAE0hI,WAAW,CAAC/9I,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE45F,WAAW,CAAC/9I,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACxCmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAEg6F,WAAW,CAAC/9I,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACdugD,QAAQ,CAACoB,QAAQ,EAAE;EAAEznC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACvC,EAAE0hI,WAAW,CAAC/9I,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACzC,IAAIg+I,YAAY,GAAG,cAAcriI,cAAc,CAAC;EAC9C5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAClgC,IAAI,GAAG,EAAE;IACd,IAAI,CAACtB,OAAO,GAAG,CAAC;IAChB,IAAI,CAACR,OAAO,GAAG,IAAI;EACrB;AACF,CAAC;AACDljB,eAAe,CAAC,CACdoxE,cAAc,CAAExxE,MAAM,IAAK;EACzB,IAAI8H,EAAE;EACN,OAAO,CAACA,EAAE,GAAG9H,MAAM,CAACqlC,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGv9B,EAAE,CAACsxI,mBAAmB,CAAC,CAAC;AACzE,CAAC,CAAC,CACH,EAAE6C,YAAY,CAACh+I,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACtCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE65F,YAAY,CAACh+I,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE65F,YAAY,CAACh+I,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACxCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE2hI,YAAY,CAACh+I,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEm6F,YAAY,CAACh+I,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACxC,IAAIi+I,UAAU,GAAG,cAActiI,cAAc,CAAC,EAC7C;AACDxZ,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE4hI,UAAU,CAACj+I,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE4hI,UAAU,CAACj+I,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACrC,IAAIk+I,UAAU,GAAG,cAAcviI,cAAc,CAAC;EAC5C5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACp/B,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACE,mBAAmB,GAAG,IAAI;IAC/B,IAAI,CAAC+1H,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAACh2H,MAAM,GAAG,IAAI61H,YAAY,CAAC,CAAC;IAChC,IAAI,CAACp4H,KAAK,GAAG,IAAIm4H,WAAW,CAAC,CAAC;IAC9B,IAAI,CAACh4H,IAAI,GAAG,IAAIk4H,UAAU,CAAC,CAAC;EAC9B;AACF,CAAC;AACD97I,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE6hI,UAAU,CAACl+I,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACvCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE+5F,UAAU,CAACl+I,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACvCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE+5F,UAAU,CAACl+I,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACvCmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEq6F,UAAU,CAACl+I,SAAS,EAAE,qBAAqB,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEq6F,UAAU,CAACl+I,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEw6F,UAAU,CAACl+I,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEw6F,UAAU,CAACl+I,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACpCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEw6F,UAAU,CAACl+I,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACnC,IAAIo+I,eAAe,GAAG,cAAcziI,cAAc,CAAC,EAClD;AACDxZ,eAAe,CAAC,CACdugD,QAAQ,CAACoB,QAAQ,EAAE;EAAEznC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACvC,EAAE+hI,eAAe,CAACp+I,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACoB,QAAQ,EAAE;EAAEznC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACvC,EAAE+hI,eAAe,CAACp+I,SAAS,EAAE,uBAAuB,EAAE,CAAC,CAAC;AACzD,IAAIq+I,MAAM,GAAG,cAAc1iI,cAAc,CAAC;EACxC5S,WAAWA,CAACw6B,GAAG,EAAE;IACf,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,GAAG,GAAGA,GAAG;IACd,IAAI,CAACsC,EAAE,GAAGhK,QAAQ,CAAC,IAAI,CAAC;IACxB,IAAI,CAAC44B,KAAK,GAAG,IAAImB,KAAK,CAAC;MAAEp1D,IAAI,EAAE,QAAQ;MAAE4yD,KAAK,EAAE,IAAI;MAAE1tB,MAAM,EAAE,EAAE,CAAC;IAAoB,CAAC,CAAC;IACvF,IAAI,CAAC44G,aAAa,GAAGxwE,SAAS,CAACU,MAAM,CAAC,IAAI,CAAC/Z,KAAK,EAAE8lF,WAAW,CAAC;IAC9D,IAAI,CAACgE,OAAO,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACrB,IAAI,CAAChF,KAAK,GAAG,EAAE;IACf,IAAI,CAACiF,WAAW,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACzB;IACA,IAAI,CAACC,uBAAuB,GAAG,CAAC;IAChC,IAAI,CAACC,cAAc,GAAG,eAAgB,IAAI9uI,GAAG,CAAC,CAAC;IAC/C,IAAI,CAACm1G,KAAK,GAAG,EAAE;IACf,IAAI,CAACjuG,IAAI,GAAG,IAAIonI,UAAU,CAAC,CAAC;IAC5B,IAAI,CAACl2H,SAAS,GAAG,IAAIo2H,eAAe,CAAC,CAAC;IACtC,IAAI,CAAC/4H,OAAO,GAAG,IAAI;IACnB,IAAI,CAAC0C,QAAQ,GAAG,QAAQ;IACxB,IAAI,CAACxC,OAAO,GAAG,EAAE;IACjB,IAAI,CAACo5H,eAAe,GAAG,eAAgB,IAAIv4I,GAAG,CAAC,CAAC;IAChD,IAAI,CAACkJ,UAAU,GAAG,EAAE;IACpB,IAAI,CAAC6X,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClB,IAAI,CAACy0H,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACxtB,KAAK,GAAG;MAAE3yG,IAAI,EAAE,MAAM;MAAEjL,KAAK,EAAE;IAAE,CAAC;IACvC,IAAI,CAACsG,IAAI,CAACqR,MAAM,CAACif,MAAM,GAAG,IAAI;IAC9B,IAAI,CAAC9e,UAAU,GAAG,IAAI8yH,UAAU,CAC7BhrI,IAAI,IAAKmzB,GAAG,CAAC65C,aAAa,CAAC1jC,MAAM,CAACtpC,IAAI,CAAC,EACvCwuI,IAAI,IAAK,IAAI,CAACC,gBAAgB,CAACD,IAAI,CAAC,EACrCr7G,GAAG,CAACy0C,aAAa,EACjBz0C,GAAG,CAAC0qE,aACN,CAAC;IACD,IAAI,CAAC3lF,UAAU,CAACw1H,gBAAgB,CAAC,IAAI,CAACrpF,KAAK,CAAC;IAC5C,IAAI,CAAC39C,IAAI,CAACqR,MAAM,CAACif,MAAM,GAAG,IAAI;IAC9B,MAAMo1C,cAAc,GAAG,EAAE,CAAC,gBAAgB,CAAC,CAAC;IAC5C,MAAMlE,MAAM,GAAG/0C,GAAG,CAACy0C,aAAa,CAACE,uBAAuB,CAAC;MACvD13E,IAAI,EAAE,QAAQ;MACd23E,aAAa,EAAE,CAAC,IAAI,CAAC1jB,KAAK,CAAC;MAC3B2jB,cAAc,EAAEA,CAAA,KAAM,IAAI,CAAC/yD,OAAO,IAAI,IAAI,CAACovC,KAAK,CAAC9tC;IACnD,CAAC,CAAC;IACF,IAAI,CAACrX,UAAU,CAACpF,IAAI,CAClBouE,MAAM,CAACC,WAAW,CAAC,OAAO,EAAGj1E,CAAC,IAAK,IAAI,CAACw7I,gBAAgB,CAACx7I,CAAC,CAAC,EAAEk5E,cAAc,CAAC,EAC5ElE,MAAM,CAACC,WAAW,CAAC,UAAU,EAAGj1E,CAAC,IAAK,IAAI,CAACy7I,sBAAsB,CAACz7I,CAAC,CAAC,EAAEk5E,cAAc,CAAC,EACrFlE,MAAM,CAACC,WAAW,CAAC,OAAO,EAAGj1E,CAAC,IAAK,IAAI,CAAC07I,qBAAqB,CAAC17I,CAAC,CAAC,CAAC,EACjEg1E,MAAM,CAACC,WAAW,CAAC,OAAO,EAAGj1E,CAAC,IAAK,IAAI,CAAC27I,qBAAqB,CAAC37I,CAAC,CAAC,EAAEk5E,cAAc,CAAC,EACjFlE,MAAM,CAACC,WAAW,CAAC,OAAO,EAAGj1E,CAAC,IAAK,IAAI,CAAC47I,sBAAsB,CAAC57I,CAAC,CAAC,EAAEk5E,cAAc,CAAC,EAClFlE,MAAM,CAACC,WAAW,CAAC,MAAM,EAAGj1E,CAAC,IAAK,IAAI,CAACyjG,MAAM,CAACzjG,CAAC,CAAC,CAAC,EACjDg1E,MAAM,CAACC,WAAW,CAAC,KAAK,EAAGj1E,CAAC,IAAK,IAAI,CAACglG,KAAK,CAAChlG,CAAC,CAAC,CAAC,EAC/Cg1E,MAAM,CAACC,WAAW,CAAC,WAAW,EAAGj1E,CAAC,IAAK,IAAI,CAAC67I,UAAU,CAAC77I,CAAC,CAAC,CAAC,EAC1Dg1E,MAAM,CAACC,WAAW,CAAC,UAAU,EAAGj1E,CAAC,IAAK,IAAI,CAAC+kG,KAAK,CAAC/kG,CAAC,CAAC,CAAC,EACpDg1E,MAAM,CAACC,WAAW,CAAC,UAAU,EAAGj1E,CAAC,IAAK,IAAI,CAAC+kG,KAAK,CAAC/kG,CAAC,CAAC,CAAC,EACpDg1E,MAAM,CAACC,WAAW,CAAC,QAAQ,EAAGj1E,CAAC,IAAK,IAAI,CAAC2sH,QAAQ,CAAC3sH,CAAC,CAAC,CAAC,EACrDigC,GAAG,CAAC05C,aAAa,CAAC1E,WAAW,CAAC,cAAc,EAAGj1E,CAAC,IAAK,IAAI,CAAC87I,cAAc,CAAC97I,CAAC,CAACunH,UAAU,CAAC,CAAC,EACvF,MAAM,IAAI,CAACw0B,YAAY,CAAC,CAC1B,CAAC;EACH;EACA,IAAIzgI,IAAIA,CAAC1d,KAAK,EAAE;IACd,IAAI,CAAC6jH,KAAK,GAAG7jH,KAAK;IAClB,IAAI,CAACo7I,qBAAqB,CAAC,CAAC;EAC9B;EACA,IAAI19H,IAAIA,CAAA,EAAG;IACT,OAAO,IAAI,CAACmmG,KAAK;EACnB;EACAx1G,OAAOA,CAAA,EAAG;IACR,IAAI,CAACD,UAAU,CAACgM,OAAO,CAAE/H,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC;IACnC,IAAI,CAAC+U,UAAU,CAAC/Y,OAAO,CAAC,CAAC;EAC3B;EACA4rI,mBAAmBA,CAAA,EAAG;IACpB,IAAI,CAACmD,aAAa,CAAC73I,KAAK,CAAC,CAAC;IAC1B,IAAI,CAACguD,KAAK,CAAC1zB,SAAS,CAAC,IAAI,CAAC0zB,KAAK,EAAE,CAAC,CAAC,WAAW,CAAC;EACjD;EACA6qF,cAAcA,CAAA,EAAG;IACf,IAAI,IAAI,CAAChI,WAAW,KAAK,KAAK,CAAC,EAAE;MAC/B,OAAO,IAAI,CAACA,WAAW;IACzB;IACA,QAAQ,IAAI,CAACvvH,QAAQ;MACnB,KAAK,OAAO;MACZ,KAAK,MAAM;QACT,OAAO,UAAU;MACnB,KAAK,QAAQ;MACb,KAAK,KAAK;QACR,OAAO,YAAY;IACvB;EACF;EACAw3H,kBAAkBA,CAAChlF,IAAI,EAAE;IACvB,MAAM;MAAEokF;IAAgB,CAAC,GAAG,IAAI;IAChC,IAAIA,eAAe,CAACp4I,GAAG,CAACg0D,IAAI,CAAC,EAAE;MAC7B,OAAOokF,eAAe,CAACr+I,GAAG,CAACi6D,IAAI,CAAC;IAClC;IACA,MAAMilF,EAAE,GAAG;MACT,KAAK,EAAEj/E,IAAI,CAACP,WAAW,CAAC,KAAK,EAAEzF,IAAI,CAAC,CAACv0C;IACvC,CAAC;IACD24H,eAAe,CAACn4I,GAAG,CAAC+zD,IAAI,EAAEilF,EAAE,CAAC;IAC7B,OAAOA,EAAE;EACX;EACA,IAAI74H,OAAOA,CAACzlB,KAAK,EAAE;IACjB,IAAI,CAAC06I,QAAQ,GAAG16I,KAAK;IACrB,IAAI,CAACo7I,qBAAqB,CAAC,CAAC;EAC9B;EACA,IAAI31H,OAAOA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACi1H,QAAQ;EACtB;EACAU,qBAAqBA,CAAA,EAAG;IACtB,IAAI,CAAC7nF,KAAK,CAAC9tC,OAAO,GAAG,IAAI,CAACtB,OAAO,IAAI,IAAI,CAACsB,OAAO,IAAI,IAAI,CAAC/H,IAAI,CAACpc,MAAM,GAAG,CAAC;EAC3E;EACAi3H,YAAYA,CAAChsB,KAAK,EAAE;IAClBA,KAAK,CAACp7E,WAAW,CAAC,IAAI,CAACoiC,KAAK,CAAC;EAC/B;EACA4qF,YAAYA,CAAA,EAAG;IACb,IAAIx1I,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAAC4qD,KAAK,CAACrtB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGv9B,EAAE,CAAC0oB,WAAW,CAAC,IAAI,CAACkiC,KAAK,CAAC;EACxE;EACAgrF,YAAYA,CAACh5G,KAAK,EAAE;IAClB,MAAM;MACJlD,GAAG,EAAE;QAAE49C;MAAc;IACvB,CAAC,GAAG,IAAI;IACR,MAAM;MAAEn0B;IAAU,CAAC,GAAG,IAAI,CAACl2C,IAAI,CAAC8O,KAAK;IACrC,IAAIonC,SAAS,EAAE;MACb,OAAOm0B,aAAa,CAACz/E,IAAI,CAACsrD,SAAS,EAAE;QACnC01C,MAAM,EAAEj8D,KAAK,CAACi8D,MAAM;QACpBxhG,KAAK,EAAEulC,KAAK,CAAC7gB,KAAK,CAACN,IAAI;QACvBm+F,QAAQ,EAAEh9E,KAAK,CAACg9E;MAClB,CAAC,CAAC;IACJ;IACA,OAAOh9E,KAAK,CAAC7gB,KAAK,CAACN,IAAI;EACzB;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEo6H,UAAUA,CAAC15H,KAAK,EAAEsY,MAAM,EAAE;IACxB,MAAM;MACJrW,QAAQ;MACRC,QAAQ;MACRtC,KAAK;MACLi2C,QAAQ;MACR1zC,MAAM,EAAE;QAAEhB,IAAI,EAAEwzH,UAAU;QAAE90H,OAAO,EAAE82H,aAAa;QAAEz1H,KAAK,EAAEy4H;MAAY,CAAC;MACxE/5H,KAAK,EAAE;QAAEq9B,SAAS,GAAGtzB,QAAQ;QAAE8vC,SAAS;QAAEj6C,UAAU;QAAEC,QAAQ;QAAEC;MAAW,CAAC;MAC5EK,IAAI,EAAE65H,QAAQ;MACdzB;IACF,CAAC,GAAG,IAAI,CAACrnI,IAAI;IACb,MAAM8H,IAAI,GAAG,CAAC,GAAG,IAAI,CAACA,IAAI,CAAC;IAC3B,IAAI,IAAI,CAACyJ,YAAY,EAAE;MACrBzJ,IAAI,CAACnI,OAAO,CAAC,CAAC;IAChB;IACA,IAAI,CAAC6nI,aAAa,CAAC5kG,MAAM,CAAC96B,IAAI,CAAC;IAC/B,MAAM24H,MAAM,GAAG,EAAE;IACjB,MAAMh9E,IAAI,GAAGE,OAAO,CAAC70C,KAAK,CAAC;IAC3B,MAAMi6H,sBAAsB,GAAG,GAAG;IAClC,MAAMC,YAAY,GAAGjkF,QAAQ,IAAI,IAAI,GAAGA,QAAQ,GAAG71C,KAAK,GAAG65H,sBAAsB;IACjF,MAAME,iBAAiB,GAAGpF,UAAU,GAAGgC,aAAa,GAAG10H,QAAQ;IAC/D,IAAI,CAACq2H,aAAa,CAAC/uE,IAAI,CAAC,CAACywE,WAAW,EAAEv5G,KAAK,KAAK;MAC9C,IAAI58B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;MACd,MAAMyjI,OAAO,GAAG/Y,SAAS,CAAC6a,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAGl5G,KAAK,CAACte,MAAM,CAACjB,KAAK,CAAC;MACjF,MAAM+4H,aAAa,GAAG,CAACp2I,EAAE,GAAG48B,KAAK,CAACte,MAAM,CAAC9C,OAAO,KAAK,IAAI,GAAGxb,EAAE,GAAG,IAAI,CAACiN,IAAI,CAACqR,MAAM,CAAC9C,OAAO;MACzF,IAAI,EAAE26H,WAAW,CAAC73H,MAAM,IAAI63H,WAAW,CAAC73H,MAAM,YAAY01H,OAAO,CAAC,EAAE;QAClEmC,WAAW,CAAC73H,MAAM,GAAG,IAAI01H,OAAO,CAAC,CAAC;MACpC;MACAmC,WAAW,CAACrF,UAAU,GAAGA,UAAU;MACnCqF,WAAW,CAACz6H,OAAO,GAAGo3H,aAAa;MACnCqD,WAAW,CAACvgF,SAAS,GAAGA,SAAS;MACjCugF,WAAW,CAACx6H,UAAU,GAAGA,UAAU;MACnCw6H,WAAW,CAACv6H,QAAQ,GAAGA,QAAQ;MAC/Bu6H,WAAW,CAACt6H,UAAU,GAAGA,UAAU;MACnC,MAAMmgB,EAAE,GAAG,CAAC1rB,EAAE,GAAGssB,KAAK,CAACi8D,MAAM,KAAK,IAAI,GAAGvoF,EAAE,GAAGssB,KAAK,CAACZ,EAAE;MACtD,MAAMq6G,SAAS,GAAG,IAAI,CAACT,YAAY,CAACh5G,KAAK,CAAC;MAC1C,MAAMnhB,IAAI,GAAG,CAAC46H,SAAS,IAAI,IAAI,GAAGA,SAAS,GAAG,WAAW,EAAEniI,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC;MACjFiiI,WAAW,CAAC16H,IAAI,GAAG,IAAI,CAAC66H,QAAQ,CAAC76H,IAAI,EAAE29B,SAAS,EAAE68F,YAAY,EAAEC,iBAAiB,EAAExlF,IAAI,EAAE10B,EAAE,CAAC;MAC5F,IAAIs4G,gBAAgB,IAAI13G,KAAK,CAAC1gB,IAAI,KAAK,KAAK,CAAC,EAAE;QAC7Ci6H,WAAW,CAACI,WAAW,GAAG,IAAI;QAC9BJ,WAAW,CAACK,aAAa,GAAGJ,aAAa;QACzCD,WAAW,CAACpF,qBAAqB,CAAC,CAACxgI,EAAE,GAAGwlI,QAAQ,CAACp9I,MAAM,KAAK,IAAI,GAAG4X,EAAE,GAAG,CAAC,CAAC;MAC5E,CAAC,MAAM;QACL4lI,WAAW,CAACI,WAAW,GAAG,KAAK;QAC/BJ,WAAW,CAACK,aAAa,GAAG,IAAI;MAClC;MACA9I,MAAM,CAACrtI,IAAI,CAAC81I,WAAW,CAACx3G,WAAW,CAAC,CAAC,CAAC;IACxC,CAAC,CAAC;IACFxiB,KAAK,GAAGnlB,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEsb,KAAK,CAAC;IAC1BsY,MAAM,GAAGz9B,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE4zB,MAAM,CAAC;IAC5B,IAAI,CAAC3oB,QAAQ,CAACqQ,KAAK,CAAC,EAAE;MACpB,OAAO,KAAK;IACd;IACA,MAAMmB,IAAI,GAAG,IAAI,CAACA,IAAI;IACtB,MAAMo3H,OAAO,GAAG,IAAI,CAACA,OAAO;IAC5Bp3H,IAAI,CAAC,CAAC,CAAC,GAAGnB,KAAK;IACfmB,IAAI,CAAC,CAAC,CAAC,GAAGmX,MAAM;IAChB,IAAInX,IAAI,CAAC,CAAC,CAAC,KAAKo3H,OAAO,CAAC,CAAC,CAAC,IAAIp3H,IAAI,CAAC,CAAC,CAAC,KAAKo3H,OAAO,CAAC,CAAC,CAAC,EAAE;MACpDA,OAAO,CAAC,CAAC,CAAC,GAAGp3H,IAAI,CAAC,CAAC,CAAC;MACpBo3H,OAAO,CAAC,CAAC,CAAC,GAAGp3H,IAAI,CAAC,CAAC,CAAC;IACtB;IACA,MAAM;MAAEoyH,KAAK;MAAED,aAAa;MAAED;IAAa,CAAC,GAAG,IAAI,CAACiH,gBAAgB,CAAC/I,MAAM,EAAEvxH,KAAK,EAAEsY,MAAM,CAAC;IAC3F,IAAI,CAACi7G,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACiF,WAAW,GAAG,CAACnF,YAAY,GAAGpxH,QAAQ,EAAEqxH,aAAa,GAAGpxH,QAAQ,CAAC;IACtE,MAAM01H,UAAU,GAAG,IAAI,CAACt1H,UAAU,CAACmzH,WAAW;IAC9C,MAAMmD,IAAI,GAAG,IAAI,CAACrF,KAAK,CAACqE,UAAU,CAAC;IACnC,IAAI,IAAI,CAACrE,KAAK,CAAC/2I,MAAM,GAAG,CAAC,IAAI,CAACo8I,IAAI,EAAE;MAClC,IAAI,CAACj4H,OAAO,GAAG,KAAK;MACpB;IACF;IACA,IAAI,CAACA,OAAO,GAAG,IAAI;IACnB,IAAI,CAAC41H,eAAe,CAACqB,UAAU,CAAC;IAChC,IAAI,CAAClkG,MAAM,CAAC,CAAC;EACf;EACAymG,QAAQA,CAAC76H,IAAI,EAAEi7H,aAAa,EAAET,YAAY,EAAEC,iBAAiB,EAAExlF,IAAI,EAAE10B,EAAE,EAAE;IACvE,MAAM26G,SAAS,GAAG,KAAK;IACvB,MAAMC,SAAS,GAAGn7H,IAAI,CAAC9N,KAAK,CAAC,EAAE,CAAC;IAChC,IAAIkpI,WAAW,GAAG,KAAK;IACvB,IAAIp7H,IAAI,CAAC9iB,MAAM,GAAG+9I,aAAa,EAAE;MAC/Bj7H,IAAI,GAAG,GAAGA,IAAI,CAAC6lB,SAAS,CAAC,CAAC,EAAEo1G,aAAa,CAAC,EAAE;MAC5CG,WAAW,GAAG,IAAI;IACpB;IACA,MAAMC,UAAU,GAAG9/I,IAAI,CAACsI,KAAK,CAAC42I,iBAAiB,GAAGx/E,IAAI,CAACP,WAAW,CAAC16C,IAAI,EAAEi1C,IAAI,CAAC,CAACv0C,KAAK,CAAC;IACrF,IAAI26H,UAAU,GAAGb,YAAY,EAAE;MAC7B,IAAIc,aAAa,GAAG,EAAE;MACtB,MAAMjC,eAAe,GAAG,IAAI,CAACY,kBAAkB,CAAChlF,IAAI,CAAC;MACrD,IAAIsmF,eAAe,GAAGd,iBAAiB,GAAGpB,eAAe,CAAC6B,SAAS,CAAC;MACpE,KAAK,MAAMM,IAAI,IAAIL,SAAS,EAAE;QAC5B,IAAI,CAAC9B,eAAe,CAACmC,IAAI,CAAC,EAAE;UAC1BnC,eAAe,CAACmC,IAAI,CAAC,GAAGvgF,IAAI,CAACP,WAAW,CAAC8gF,IAAI,EAAEvmF,IAAI,CAAC,CAACv0C,KAAK;QAC5D;QACA66H,eAAe,IAAIlC,eAAe,CAACmC,IAAI,CAAC;QACxC,IAAID,eAAe,GAAGf,YAAY,EAAE;UAClC;QACF;QACAc,aAAa,IAAIE,IAAI;MACvB;MACAx7H,IAAI,GAAGs7H,aAAa;MACpBF,WAAW,GAAG,IAAI;IACpB;IACA,IAAIA,WAAW,EAAE;MACfp7H,IAAI,IAAIk7H,SAAS;MACjB,IAAI,CAAC9B,cAAc,CAACxtI,GAAG,CAAC20B,EAAE,CAAC;IAC7B,CAAC,MAAM;MACL,IAAI,CAAC64G,cAAc,CAACxiI,MAAM,CAAC2pB,EAAE,CAAC;IAChC;IACA,OAAOvgB,IAAI;EACb;EACAg7H,gBAAgBA,CAAC/I,MAAM,EAAEvxH,KAAK,EAAEsY,MAAM,EAAE;IACtC,MAAMg5G,WAAW,GAAG,IAAI,CAACgI,cAAc,CAAC,CAAC;IACzC,MAAMyB,aAAa,GAAGlgJ,IAAI,CAAC6uB,GAAG,CAAC,IAAI,CAAC+uH,uBAAuB,EAAElH,MAAM,CAAC/0I,MAAM,CAAC;IAC3E,IAAI,CAAC8lB,UAAU,CAACgvH,WAAW,GAAGA,WAAW;IACzC,IAAI,CAAChvH,UAAU,CAAC0b,YAAY,GAAG,CAAC;IAChC,IAAI,CAAC1b,UAAU,CAAC2b,YAAY,GAAG,CAAC;IAChC,MAAM;MAAEs1G,KAAK;MAAED,aAAa;MAAED,YAAY;MAAE2H,cAAc;MAAEC;IAAmB,CAAC,GAAG,IAAI,CAACC,mBAAmB,CACzG3J,MAAM,EACNvxH,KAAK,EACLsY,MACF,CAAC;IACD,MAAM6iH,cAAc,GAAG5H,KAAK,CAACj4F,SAAS,CAAEvW,CAAC,IAAKA,CAAC,CAAC0uG,QAAQ,IAAIsH,aAAa,CAAC;IAC1E,IAAI,CAACz4H,UAAU,CAACmzH,WAAW,GAAGv/G,KAAK,CAAC,CAAC,EAAEilH,cAAc,EAAE5H,KAAK,CAAC/2I,MAAM,GAAG,CAAC,CAAC;IACxE,MAAM;MAAEylB,QAAQ,EAAEwvH,YAAY;MAAEvvH,QAAQ,EAAEsvH;IAAa,CAAC,GAAG,IAAI,CAAC1gI,IAAI;IACpE,MAAMsqI,0BAA0B,GAAG,CAAC;IACpC,MAAMC,gBAAgB,GAAGhI,YAAY,GAAG5B,YAAY;IACpD,MAAM6J,iBAAiB,GAAGhI,aAAa,GAAG9B,YAAY;IACtD,IAAI+J,WAAW,GAAG,CAAC;IACnB,IAAIC,WAAW,GAAG,CAACR,cAAc,CAACzjH,CAAC,GAAG,IAAI,CAACzmB,IAAI,CAACqR,MAAM,CAAChB,IAAI,GAAG,CAAC;IAC/D,IAAI85H,kBAAkB,EAAE;MACtBO,WAAW,IAAIF,iBAAiB,GAAGF,0BAA0B;IAC/D,CAAC,MAAM;MACLG,WAAW,IAAI,CAACP,cAAc,CAACv9I,CAAC,GAAG49I,gBAAgB,GAAGD,0BAA0B;MAChFI,WAAW,IAAI,CAACF,iBAAiB,GAAGN,cAAc,CAAC1iH,MAAM,IAAI,CAAC;IAChE;IACA,IAAI,CAAChW,UAAU,CAAC0b,YAAY,GAAGu9G,WAAW;IAC1C,IAAI,CAACj5H,UAAU,CAAC2b,YAAY,GAAGu9G,WAAW;IAC1C,IAAI,CAACl5H,UAAU,CAACoxB,MAAM,CAAC,CAAC;IACxB,IAAI,CAACpxB,UAAU,CAAC+zH,aAAa,CAAC,CAAC;IAC/B,OAAO;MACL/C,aAAa;MACbD,YAAY;MACZE;IACF,CAAC;EACH;EACA2H,mBAAmBA,CAAC3J,MAAM,EAAEvxH,KAAK,EAAEsY,MAAM,EAAE;IACzC,IAAIz0B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,MAAM;MAAE6N,QAAQ,EAAEwvH,YAAY;MAAEvvH,QAAQ,EAAEsvH;IAAa,CAAC,GAAG,IAAI,CAAC1gI,IAAI;IACpE,MAAMwgI,WAAW,GAAG,IAAI,CAACgI,cAAc,CAAC,CAAC;IACzC,MAAM2B,kBAAkB,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAClwI,QAAQ,CAAC,IAAI,CAACgX,QAAQ,CAAC;IACpE,IAAIi5H,cAAc,GAAG,IAAI,CAAC14H,UAAU,CAACkgB,WAAW,CAAC,CAAC;IAClD,IAAIi5G,sBAAsB,GAAG,IAAI1hH,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACjD,IAAIw5G,KAAK,GAAG,EAAE;IACd,IAAIF,YAAY,GAAG,CAAC;IACpB,IAAIC,aAAa,GAAG,CAAC;IACrB,IAAI7gH,KAAK,GAAG,CAAC;IACb,MAAMipH,YAAY,GAAI/+G,IAAI,IAAK;MAC7B,OAAOA,IAAI,CAAC3c,KAAK,KAAKg7H,cAAc,CAACh7H,KAAK,IAAI2c,IAAI,CAACrE,MAAM,KAAK0iH,cAAc,CAAC1iH,MAAM;IACrF,CAAC;IACD,MAAMo5G,WAAW,GAAG,IAAI,CAAC77E,QAAQ,KAAK,KAAK,CAAC,IAAI,IAAI,CAACC,SAAS,KAAK,KAAK,CAAC;IACzE,GAAG;MACD,IAAIrjC,KAAK,EAAE,GAAG,EAAE,EAAE;QAChBrwB,MAAM,CAACI,IAAI,CAAC,sCAAsC,CAAC;QACnD;MACF;MACAw4I,cAAc,GAAGS,sBAAsB;MACvC,MAAM5lF,QAAQ,GAAG71C,KAAK,IAAIi7H,kBAAkB,GAAG,CAAC,GAAGD,cAAc,CAACh7H,KAAK,CAAC;MACxE,MAAM81C,SAAS,GAAGx9B,MAAM,IAAI2iH,kBAAkB,GAAGD,cAAc,CAAC1iH,MAAM,GAAG,CAAC,CAAC;MAC3E,MAAMy9C,MAAM,GAAGs7D,UAAU,CAAC;QACxBC,WAAW;QACXC,MAAM;QACNz7E,SAAS;QACTD,QAAQ;QACR27E,YAAY;QACZC,YAAY;QACZC;MACF,CAAC,CAAC;MACF6B,KAAK,GAAG,CAAC1vI,EAAE,GAAGkyE,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACw9D,KAAK,KAAK,IAAI,GAAG1vI,EAAE,GAAG,EAAE;MACvEwvI,YAAY,GAAG,CAACl/H,EAAE,GAAG4hE,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACs9D,YAAY,KAAK,IAAI,GAAGl/H,EAAE,GAAG,CAAC;MACpFm/H,aAAa,GAAG,CAACl/H,EAAE,GAAG2hE,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACu9D,aAAa,KAAK,IAAI,GAAGl/H,EAAE,GAAG,CAAC;MACtF,MAAMohI,UAAU,GAAGjC,KAAK,CAAC/2I,MAAM;MAC/B,IAAI,CAAC8lB,UAAU,CAAC3B,OAAO,GAAG60H,UAAU,GAAG,CAAC;MACxC,IAAI,CAAClzH,UAAU,CAACkzH,UAAU,GAAGA,UAAU;MACvC,IAAI,CAAClzH,UAAU,CAACoxB,MAAM,CAAC,CAAC;MACxB+nG,sBAAsB,GAAG,IAAI,CAACn5H,UAAU,CAACkgB,WAAW,CAAC,CAAC;MACtD,IAAI,CAAC,IAAI,CAAClgB,UAAU,CAAC3B,OAAO,EAAE;QAC5B;MACF;IACF,CAAC,QAAQ,CAAC+6H,YAAY,CAACD,sBAAsB,CAAC;IAC9C,OAAO;MAAEpI,YAAY;MAAEC,aAAa;MAAEC,KAAK;MAAEyH,cAAc;MAAEC;IAAmB,CAAC;EACnF;EACAU,gBAAgBA,CAAC/D,UAAU,EAAE;IAC3B,IAAInlH,KAAK,GAAG,CAAC;IACb,KAAK,MAAMmpH,GAAG,IAAI,IAAI,CAACrI,KAAK,CAACqE,UAAU,CAAC,CAAClE,OAAO,EAAE;MAChDjhH,KAAK,IAAImpH,GAAG,CAAC7tC,OAAO,CAACvxG,MAAM;IAC7B;IACA,OAAOi2B,KAAK;EACd;EACAopH,0BAA0BA,CAAA,EAAG;IAC3B,MAAM;MAAErxI;IAAM,CAAC,GAAG,IAAI,CAAC49G,KAAK;IAC5B,MAAMwwB,IAAI,GAAG,IAAI,CAACrF,KAAK,CAAC,IAAI,CAACjxH,UAAU,CAACmzH,WAAW,CAAC;IACpD,IAAIqG,SAAS,GAAG,CAAC;IACjB,KAAK,MAAMF,GAAG,IAAIhD,IAAI,CAAClF,OAAO,EAAE;MAC9B,IAAIlpI,KAAK,GAAGsxI,SAAS,GAAGF,GAAG,CAAC7tC,OAAO,CAACvxG,MAAM,EAAE;QAC1C,OAAOo/I,GAAG,CAAC7tC,OAAO,CAACvjG,KAAK,GAAGsxI,SAAS,CAAC;MACvC,CAAC,MAAM;QACLA,SAAS,IAAIF,GAAG,CAAC7tC,OAAO,CAACvxG,MAAM;MACjC;IACF;IACA,OAAO,CAAC,CAAC;EACX;EACA+5I,eAAeA,CAACqB,UAAU,GAAG,CAAC,EAAE;IAC9B,MAAM;MACJ9mI,IAAI,EAAE;QAAEoR;MAAS,CAAC;MAClBo2H,aAAa;MACb/E;IACF,CAAC,GAAG,IAAI;IACR,IAAIA,KAAK,CAAC/2I,MAAM,GAAG,CAAC,IAAI,CAAC+2I,KAAK,CAACqE,UAAU,CAAC,EAAE;MAC1C;IACF;IACA,MAAM;MAAElE,OAAO;MAAEQ,UAAU,EAAE6H,YAAY;MAAEtI,QAAQ,EAAEuI;IAAW,CAAC,GAAGzI,KAAK,CAACqE,UAAU,CAAC;IACrF,IAAIn6I,CAAC,GAAG,CAAC;IACT,IAAI85B,CAAC,GAAG,CAAC;IACT,MAAM0kH,WAAW,GAAGvI,OAAO,CAACl3I,MAAM;IAClC,MAAM0/I,QAAQ,GAAGxI,OAAO,CAAC,CAAC,CAAC,CAAC3lC,OAAO,CAACvxG,MAAM;IAC1C,MAAMm1I,UAAU,GAAG,IAAI,CAAC2H,cAAc,CAAC,CAAC,KAAK,YAAY;IACzD,MAAM6C,UAAU,GAAGzI,OAAO,CAAC,CAAC,CAAC,CAACnC,MAAM,CAAC,CAAC,CAAC,CAACj5G,MAAM,GAAGpW,QAAQ;IACzD,MAAMk6H,kBAAkB,GAAG,EAAE;IAC7B9D,aAAa,CAAC/uE,IAAI,CAAC,CAACywE,WAAW,EAAEjrH,CAAC,EAAExyB,CAAC,KAAK;MACxC,IAAIsH,EAAE,EAAEsQ,EAAE;MACV,IAAI5X,CAAC,GAAGw/I,YAAY,IAAIx/I,CAAC,GAAGy/I,UAAU,EAAE;QACtChC,WAAW,CAACr5H,OAAO,GAAG,KAAK;QAC3B;MACF;MACA,MAAM07H,SAAS,GAAG9/I,CAAC,GAAGw/I,YAAY;MAClC,IAAIO,WAAW,GAAG,CAAC;MACnB,IAAIC,QAAQ,GAAG,CAAC;MAChB,IAAI5K,UAAU,EAAE;QACd2K,WAAW,GAAGD,SAAS,GAAGJ,WAAW;QACrCM,QAAQ,GAAG1hJ,IAAI,CAACsI,KAAK,CAACk5I,SAAS,GAAGJ,WAAW,CAAC;MAChD,CAAC,MAAM;QACLK,WAAW,GAAGzhJ,IAAI,CAACsI,KAAK,CAACk5I,SAAS,GAAGH,QAAQ,CAAC;QAC9CK,QAAQ,GAAGF,SAAS,GAAGH,QAAQ;MACjC;MACAlC,WAAW,CAACr5H,OAAO,GAAG,IAAI;MAC1B,MAAMszH,MAAM,GAAGP,OAAO,CAAC4I,WAAW,CAAC;MACnC,IAAI,CAACrI,MAAM,EAAE;QACX;MACF;MACA18G,CAAC,GAAG4kH,UAAU,GAAGI,QAAQ;MACzB9+I,CAAC,GAAG,CAACoG,EAAE,GAAGu4I,kBAAkB,CAACG,QAAQ,CAAC,KAAK,IAAI,GAAG14I,EAAE,GAAG,CAAC;MACxDu4I,kBAAkB,CAACG,QAAQ,CAAC,GAAG,CAAC,CAACpoI,EAAE,GAAGioI,kBAAkB,CAACG,QAAQ,CAAC,KAAK,IAAI,GAAGpoI,EAAE,GAAG,CAAC,IAAI8/H,MAAM,CAACH,WAAW;MAC1GkG,WAAW,CAACh8G,YAAY,GAAGnjC,IAAI,CAACsI,KAAK,CAAC1F,CAAC,CAAC;MACxCu8I,WAAW,CAAC/7G,YAAY,GAAGpjC,IAAI,CAACsI,KAAK,CAACo0B,CAAC,CAAC;IAC1C,CAAC,CAAC;EACJ;EACAshH,gBAAgBA,CAACjB,UAAU,EAAE;IAC3B,MAAM;MAAErE;IAAM,CAAC,GAAG,IAAI;IACtB,MAAM;MAAEW,UAAU;MAAET;IAAS,CAAC,GAAGF,KAAK,CAACqE,UAAU,CAAC;IAClD,IAAI1D,UAAU,KAAK,CAAC,EAAE;MACpB,IAAI,CAACuE,uBAAuB,GAAG,CAAC;IAClC,CAAC,MAAM,IAAIb,UAAU,KAAKrE,KAAK,CAAC/2I,MAAM,GAAG,CAAC,EAAE;MAC1C,IAAI,CAACi8I,uBAAuB,GAAGhF,QAAQ;IACzC,CAAC,MAAM;MACL,IAAI,CAACgF,uBAAuB,GAAG59I,IAAI,CAACsI,KAAK,CAAC,CAAC+wI,UAAU,GAAGT,QAAQ,IAAI,CAAC,CAAC;IACxE;IACA,IAAI,CAACnxH,UAAU,CAACoxB,MAAM,CAAC,CAAC;IACxB,IAAI,CAACpxB,UAAU,CAAC+zH,aAAa,CAAC,CAAC;IAC/B,IAAI,CAACE,eAAe,CAACqB,UAAU,CAAC;IAChC,IAAI,CAACr6G,GAAG,CAAC65C,aAAa,CAAC1jC,MAAM,CAAC,CAAC,CAAC,kBAAkB,CAAC;EACrD;EACAA,MAAMA,CAAA,EAAG;IACP,MAAM;MACJ9zB,KAAK,EAAE;QAAED;MAAM,CAAC;MAChBwC,MAAM,EAAEq6H,UAAU;MAClBz8H,IAAI,EAAE65H,QAAQ;MACdzB;IACF,CAAC,GAAG,IAAI,CAACrnI,IAAI;IACb,IAAI,CAACwnI,aAAa,CAAC/uE,IAAI,CAAC,CAACywE,WAAW,EAAEv5G,KAAK,KAAK;MAC9C,IAAI58B,EAAE,EAAEsQ,EAAE;MACV,MAAMgO,MAAM,GAAGse,KAAK,CAACte,MAAM;MAC3B63H,WAAW,CAAC3rB,UAAU,GAAGlsG,MAAM,CAAC5B,IAAI;MACpCy5H,WAAW,CAACyC,YAAY,GAAGt6H,MAAM,CAAC/B,MAAM;MACxC45H,WAAW,CAAC0C,iBAAiB,GAAG,CAAC74I,EAAE,GAAG24I,UAAU,CAAC/7H,WAAW,KAAK,IAAI,GAAG5c,EAAE,GAAGhJ,IAAI,CAAC6uB,GAAG,CAAC,CAAC,EAAEvH,MAAM,CAAC1B,WAAW,CAAC;MAC5Gu5H,WAAW,CAAC2C,iBAAiB,GAAGx6H,MAAM,CAAC3B,WAAW;MAClDw5H,WAAW,CAAC4C,mBAAmB,GAAGz6H,MAAM,CAACwuC,aAAa;MACtDqpF,WAAW,CAAC9sF,OAAO,GAAGzsB,KAAK,CAACphB,OAAO,GAAG,CAAC,GAAG,GAAG;MAC7C26H,WAAW,CAACr6H,KAAK,GAAGA,KAAK;MACzB,MAAM;QAAEI;MAAK,CAAC,GAAG0gB,KAAK;MACtB,IAAI03G,gBAAgB,IAAIp4H,IAAI,KAAK,KAAK,CAAC,EAAE;QACvCi6H,WAAW,CAAC6C,UAAU,GAAG98H,IAAI,CAACK,MAAM;QACpC45H,WAAW,CAAC8C,iBAAiB,GAAG/8H,IAAI,CAAC4wC,aAAa;QAClDqpF,WAAW,CAAC+C,eAAe,GAAG,CAAC5oI,EAAE,GAAGylI,QAAQ,CAACn5H,WAAW,KAAK,IAAI,GAAGtM,EAAE,GAAGtZ,IAAI,CAAC6uB,GAAG,CAAC,CAAC,EAAE3J,IAAI,CAACU,WAAW,CAAC;QACtGu5H,WAAW,CAACgD,YAAY,GAAGj9H,IAAI,CAACM,QAAQ;MAC1C;IACF,CAAC,CAAC;EACJ;EACA48H,gBAAgBA,CAACx/I,CAAC,EAAE85B,CAAC,EAAE;IACrB,MAAM2lH,kBAAkB,GAAG,EAAE;IAC7B,MAAMC,cAAc,GAAG;MAAEhW,IAAI,EAAEx9G,QAAQ;MAAE8W,KAAK,EAAE,KAAK;IAAE,CAAC;IACxD,KAAK,MAAMvI,KAAK,IAAI,IAAI,CAACu2B,KAAK,CAACt2B,QAAQ,EAAE;MACvC,IAAI,CAACD,KAAK,CAACvX,OAAO,EAChB;MACF,IAAI,EAAEuX,KAAK,YAAYq8G,WAAW,CAAC,EACjC;MACF,MAAM6I,SAAS,GAAGllH,KAAK,CAACsK,WAAW,CAAC,CAAC;MACrC46G,SAAS,CAAC3jH,IAAI,CAAC,IAAI,CAAC3oB,IAAI,CAACmR,QAAQ,GAAG,CAAC,EAAE,YAAY,CAAC;MACpDm7H,SAAS,CAAC3jH,IAAI,CAAC,IAAI,CAAC3oB,IAAI,CAACoR,QAAQ,GAAG,CAAC,EAAE,UAAU,CAAC;MAClD,IAAIk7H,SAAS,CAAC5kH,aAAa,CAAC/6B,CAAC,EAAE85B,CAAC,CAAC,EAAE;QACjC,OAAOW,KAAK,CAACuI,KAAK;MACpB;MACA,MAAM48G,KAAK,GAAG5/I,CAAC,GAAG2/I,SAAS,CAAC3/I,CAAC,GAAG,IAAI,CAACqT,IAAI,CAACmR,QAAQ,GAAG,CAAC;MACtD,MAAMq7H,KAAK,GAAG/lH,CAAC,GAAG6lH,SAAS,CAAC7lH,CAAC,GAAG,IAAI,CAACzmB,IAAI,CAACoR,QAAQ,GAAG,CAAC;MACtD,MAAMilH,IAAI,GAAGvsI,KAAK,CAACyiJ,KAAK,EAAE,CAAC,CAAC,GAAGziJ,KAAK,CAAC0iJ,KAAK,EAAE,CAAC,CAAC;MAC9C,MAAMC,YAAY,GAAGF,KAAK,IAAI,CAAC,IAAIC,KAAK,IAAI,CAAC;MAC7C,IAAIC,YAAY,IAAIpW,IAAI,GAAGgW,cAAc,CAAChW,IAAI,EAAE;QAC9CgW,cAAc,CAAChW,IAAI,GAAGA,IAAI;QAC1BgW,cAAc,CAAC18G,KAAK,GAAGvI,KAAK,CAACuI,KAAK;MACpC;MACAy8G,kBAAkB,CAACh5I,IAAI,CAACk5I,SAAS,CAAC;IACpC;IACA,MAAMI,QAAQ,GAAGzjH,IAAI,CAACH,KAAK,CAACsjH,kBAAkB,CAAC;IAC/C,IAAI,CAACM,QAAQ,CAAChlH,aAAa,CAAC/6B,CAAC,EAAE85B,CAAC,CAAC,EAAE;MACjC;IACF;IACA,OAAO4lH,cAAc,CAAC18G,KAAK;EAC7B;EACAg9G,gBAAgBA,CAAA,EAAG;IACjB,MAAMC,UAAU,GAAG,IAAI,CAACjvF,KAAK,CAACjsB,WAAW,CAAC,CAAC;IAC3C,IAAI,IAAI,CAAC+wG,KAAK,CAAC/2I,MAAM,IAAI,CAAC,EAAE;MAC1B,OAAOkhJ,UAAU;IACnB;IACA,MAAM,CAACrK,YAAY,EAAEC,aAAa,CAAC,GAAG,IAAI,CAACkF,WAAW;IACtDkF,UAAU,CAACplH,MAAM,GAAGz9B,IAAI,CAAC6J,GAAG,CAAC4uI,aAAa,EAAEoK,UAAU,CAACplH,MAAM,CAAC;IAC9DolH,UAAU,CAAC19H,KAAK,GAAGnlB,IAAI,CAAC6J,GAAG,CAAC2uI,YAAY,EAAEqK,UAAU,CAAC19H,KAAK,CAAC;IAC3D,OAAO09H,UAAU;EACnB;EACA5E,gBAAgBA,CAAC71E,KAAK,EAAE;IACtB,MAAMxiC,KAAK,GAAG,IAAI,CAACw8G,gBAAgB,CAACh6E,KAAK,CAAC0O,OAAO,EAAE1O,KAAK,CAACvN,OAAO,CAAC;IACjE,IAAI,IAAI,CAACioF,OAAO,CAACl9G,KAAK,CAAC,EAAE;MACvBwiC,KAAK,CAAC6P,OAAO,CAAC,CAAC;IACjB;EACF;EACA6qE,OAAOA,CAACl9G,KAAK,EAAE;IACb,MAAM;MACJze,SAAS,EAAE;QAAEy6E;MAAgB,CAAC;MAC9Bl/D,GAAG,EAAE;QAAEqqE,YAAY;QAAEM;MAAiB,CAAC;MACvCp3F,IAAI,EAAE;QAAEsR;MAAoB,CAAC;MAC7Bw7H;IACF,CAAC,GAAG,IAAI;IACR,IAAI,CAACn9G,KAAK,EAAE;MACV,OAAO,KAAK;IACd;IACA,MAAM;MAAEZ,EAAE;MAAE68D,MAAM;MAAEr9E;IAAQ,CAAC,GAAGohB,KAAK;IACrC,MAAMpsB,MAAM,GAAGuzF,YAAY,CAACvzF,MAAM,CAACnK,IAAI,CAAE5F,CAAC,IAAKA,CAAC,CAACu7B,EAAE,KAAKA,EAAE,CAAC;IAC3D,IAAI,CAACxrB,MAAM,EAAE;MACX,OAAO,KAAK;IACd;IACA,IAAIwpI,UAAU,GAAGx+H,OAAO;IACxB,IAAI+C,mBAAmB,EAAE;MACvBy7H,UAAU,GAAG,CAACx+H,OAAO;MACrB,IAAIu+H,gBAAgB,IAAI,CAACC,UAAU,EAAE;QACnC,MAAMhhD,eAAe,GAAG+K,YAAY,CAACvzF,MAAM,CAAChG,OAAO,CAAE/J,CAAC,IAAKA,CAAC,CAACwpH,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC7hH,MAAM,CAAE5I,CAAC,IAAKA,CAAC,CAACgc,OAAO,CAAC,CAAC7iB,MAAM;QACvH,IAAIqgG,eAAe,GAAG,CAAC,EAAE;UACvBghD,UAAU,GAAG,IAAI;QACnB;MACF;MACA,MAAMhmG,MAAM,GAAGgmG,UAAU,GAAG,SAAS,GAAG,QAAQ;MAChD,IAAI,CAACtgH,GAAG,CAACwqE,uBAAuB,CAACzL,aAAa,CAAC,GAAGzkD,MAAM,EAAE,CAAC;MAC3D,IAAI,CAACta,GAAG,CAAC27C,iBAAiB,CAACujB,eAAe,CAACpoF,MAAM,EAAEqoF,MAAM,EAAEmhD,UAAU,EAAEp9G,KAAK,CAACk8D,cAAc,CAAC;IAC9F;IACA,IAAIkhD,UAAU,EAAE;MACd31C,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,EAAE;QACxCxrB,MAAM;QACNqoF,MAAM;QACNj8D,KAAK,EAAE,KAAK;MACd,CAAC,CAAC;IACJ,CAAC,MAAM;MACLynE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,CAAC;IAC3C;IACA,IAAI,CAACtC,GAAG,CAAC65C,aAAa,CAAC1jC,MAAM,CAAC,CAAC,CAAC,oBAAoB;MAAE62E,oBAAoB,EAAE;IAAK,CAAC,CAAC;IACnF9tB,eAAe,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,eAAe,CAAC;MAAEryF,IAAI,EAAE,OAAO;MAAEiV,OAAO,EAAEw+H,UAAU;MAAEnhD,MAAM;MAAE+gB,QAAQ,EAAEppG,MAAM,CAACwrB;IAAG,CAAC,CAAC;IACvH,OAAO,IAAI;EACb;EACAk5G,sBAAsBA,CAAC91E,KAAK,EAAE;IAC5B,IAAIp/D,EAAE;IACN,MAAM;MACJme,SAAS,EAAE;QAAE46E;MAAsB,CAAC;MACpCr/D,GAAG,EAAE;QAAEqqE;MAAa,CAAC;MACrB92F,IAAI,EAAE;QAAEsR;MAAoB;IAC9B,CAAC,GAAG,IAAI;IACR,IAAIwlF,YAAY,CAACnyF,IAAI,KAAK,YAAY,EAAE;MACtC;IACF;IACA,MAAMgrB,KAAK,GAAG,IAAI,CAACw8G,gBAAgB,CAACh6E,KAAK,CAAC0O,OAAO,EAAE1O,KAAK,CAACvN,OAAO,CAAC;IACjE,IAAI,CAACj1B,KAAK,EAAE;MACV;IACF;IACA,MAAM;MAAEZ,EAAE;MAAE68D,MAAM;MAAE+gB;IAAS,CAAC,GAAGh9E,KAAK;IACtC,MAAMpsB,MAAM,GAAGuzF,YAAY,CAACvzF,MAAM,CAACnK,IAAI,CAAE5F,CAAC,IAAKA,CAAC,CAACu7B,EAAE,KAAKA,EAAE,CAAC;IAC3D,IAAI,CAACxrB,MAAM,EAAE;MACX;IACF;IACA4uD,KAAK,CAAC6P,OAAO,CAAC,CAAC;IACf,IAAI1wD,mBAAmB,EAAE;MACvB,MAAM6rG,UAAU,GAAGrmB,YAAY,CAACvzF,MAAM,CAAChG,OAAO,CAAE/J,CAAC,IAAKA,CAAC,CAACwpH,aAAa,CAAC,UAAU,CAAC,CAAC;MAClF,MAAMjxB,eAAe,GAAGoxB,UAAU,CAAChiH,MAAM,CAAE5I,CAAC,IAAKA,CAAC,CAACgc,OAAO,CAAC,CAAC7iB,MAAM;MAClE,MAAMshJ,WAAW,GAAG7vB,UAAU,CAAC/jH,IAAI,CAAE7G,CAAC,IAAKA,CAAC,CAACq5F,MAAM,KAAKA,MAAM,IAAIr5F,CAAC,CAACo6G,QAAQ,KAAKA,QAAQ,CAAC;MAC1F,IAAI,CAAClgF,GAAG,CAAC27C,iBAAiB,CAAC0jB,qBAAqB,CAC9CvoF,MAAM,EACNqoF,MAAM,EACN,CAAC74F,EAAE,GAAGi6I,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACz+H,OAAO,KAAK,IAAI,GAAGxb,EAAE,GAAG,KAAK,EAC9Eg5F,eAAe,EACfihD,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACnhD,cAC7C,CAAC;IACH;IACA,IAAI,CAACp/D,GAAG,CAAC65C,aAAa,CAAC1jC,MAAM,CAAC,CAAC,CAAC,oBAAoB;MAAE62E,oBAAoB,EAAE;IAAK,CAAC,CAAC;IACnF3tB,qBAAqB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAAC;MAAExyF,IAAI,EAAE,UAAU;MAAEiV,OAAO,EAAE,IAAI;MAAEq9E,MAAM;MAAE+gB,QAAQ,EAAEppG,MAAM,CAACwrB;IAAG,CAAC,CAAC;EAClI;EACAm5G,qBAAqBA,CAAC/1E,KAAK,EAAE;IAC3B,IAAI,CAAC,IAAI,CAAC5jD,OAAO,EAAE;MACjB;IACF;IACA,MAAM;MAAEsyD,OAAO;MAAEjc;IAAQ,CAAC,GAAGuN,KAAK;IAClCA,KAAK,CAAC6P,OAAO,CAAC,CAAC;IACf,MAAMryC,KAAK,GAAG,IAAI,CAACw8G,gBAAgB,CAACtrE,OAAO,EAAEjc,OAAO,CAAC;IACrD,IAAI,CAACqoF,OAAO,CAAC96E,KAAK,EAAExiC,KAAK,CAAC;EAC5B;EACAs9G,OAAOA,CAAC96E,KAAK,EAAExiC,KAAK,EAAE;IACpB,IAAI58B,EAAE;IACN,MAAM;MACJiN,IAAI,EAAE;QAAEsR;MAAoB,CAAC;MAC7BJ;IACF,CAAC,GAAG,IAAI;IACR,IAAIihD,KAAK,KAAK,KAAK,CAAC,IAAIxiC,KAAK,KAAK,KAAK,CAAC,EAAE;MACxC,IAAI,CAAClD,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,IAAI,CAACh+D,EAAE,CAAC;MAC5C,IAAI,CAACtC,GAAG,CAAC2qE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,CAAC;MAClD;IACF;IACA,MAAMxrB,MAAM,GAAGosB,KAAK,GAAG,IAAI,CAAClD,GAAG,CAACqqE,YAAY,CAACvzF,MAAM,CAACnK,IAAI,CAAE5F,CAAC,IAAKA,CAAC,CAACu7B,EAAE,MAAMY,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACZ,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC;IACtH,IAAIY,KAAK,IAAI,IAAI,CAACi4G,cAAc,CAACn4I,GAAG,CAAC,CAACsD,EAAE,GAAG48B,KAAK,CAACi8D,MAAM,KAAK,IAAI,GAAG74F,EAAE,GAAG48B,KAAK,CAACZ,EAAE,CAAC,EAAE;MACjF,MAAM;QAAE8xC,OAAO;QAAEjc;MAAQ,CAAC,GAAGuN,KAAK;MAClC,IAAI,CAAC1lC,GAAG,CAACq1C,cAAc,CAACD,aAAa,CACnC,IAAI,CAAC9yC,EAAE,EACP;QAAE8xC,OAAO;QAAEjc,OAAO;QAAEmd,gBAAgB,EAAE5P,KAAK;QAAEuN,SAAS,EAAE;MAAM,CAAC,EAC/D/B,aAAa,CAAC;QAAEnL,OAAO,EAAE,IAAI,CAACm2E,YAAY,CAACh5G,KAAK;MAAE,CAAC,CACrD,CAAC;IACH,CAAC,MAAM;MACL,IAAI,CAAClD,GAAG,CAACq1C,cAAc,CAACI,aAAa,CAAC,IAAI,CAACnzC,EAAE,CAAC;IAChD;IACA,IAAIzd,mBAAmB,IAAIJ,SAAS,CAACy6E,eAAe,IAAI,IAAI,IAAIz6E,SAAS,CAAC46E,qBAAqB,IAAI,IAAI,EAAE;MACvG,IAAI,CAACr/D,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,IAAI,CAACh+D,EAAE,EAAE,SAAS,CAAC;IACzD;IACA,IAAI,CAACY,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACphB,OAAO,KAAKhL,MAAM,EAAE;MACtD,IAAI,CAACkpB,GAAG,CAAC2qE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,EAAE;QACjDxrB,MAAM;QACNqoF,MAAM,EAAEj8D,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACi8D,MAAM;QAC7Cj8D,KAAK,EAAE,KAAK;MACd,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,IAAI,CAAClD,GAAG,CAAC2qE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,CAAC;IACpD;EACF;EACAo5G,qBAAqBA,CAAClmE,MAAM,EAAE;IAC5B,IAAI,CAACirE,WAAW,CAAC,CAAC;EACpB;EACAA,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACzgH,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,IAAI,CAACh+D,EAAE,CAAC;IAC5C,IAAI,CAACtC,GAAG,CAACq1C,cAAc,CAACI,aAAa,CAAC,IAAI,CAACnzC,EAAE,CAAC;IAC9C,IAAI,IAAI,CAACtC,GAAG,CAACk9D,kBAAkB,CAAChD,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC,eAAe;MAC/D,IAAI,CAACl6D,GAAG,CAAC2qE,gBAAgB,CAACpI,eAAe,CAAC,IAAI,CAACjgE,EAAE,CAAC;IACpD;EACF;EACAq5G,sBAAsBA,CAACj2E,KAAK,EAAE;IAC5B,MAAM;MACJ5jD,OAAO;MACPvO,IAAI,EAAE;QAAEsR,mBAAmB,EAAE0tD;MAAO,CAAC;MACrC9tD,SAAS,EAAE;QAAEy6E,eAAe,EAAEwhD,aAAa;QAAErhD,qBAAqB,EAAEshD;MAAiB;IACvF,CAAC,GAAG,IAAI;IACR,MAAMz9G,KAAK,GAAG,IAAI,CAACw8G,gBAAgB,CAACh6E,KAAK,CAAC0O,OAAO,EAAE1O,KAAK,CAACvN,OAAO,CAAC;IACjE,IAAIr2C,OAAO,IAAIohB,KAAK,KAAK,KAAK,CAAC,KAAKqvC,MAAM,IAAImuE,aAAa,IAAI,IAAI,IAAIC,gBAAgB,IAAI,IAAI,CAAC,EAAE;MAChG,IAAI,CAAC3gH,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,IAAI,CAACh+D,EAAE,EAAE,SAAS,CAAC;IACzD;EACF;EACAkhE,MAAMA,CAAChuB,MAAM,EAAE;IACb,IAAI,CAACirE,WAAW,CAAC,CAAC;IAClB,IAAI,CAAC51B,KAAK,CAAC3yG,IAAI,GAAG,MAAM;IACxB,IAAI,CAAC8nB,GAAG,CAACy0C,aAAa,CAACuyB,wBAAwB,CAAC,KAAK,CAAC,CAAC;EACzD;EACAjC,KAAKA,CAACr/B,KAAK,EAAE;IACX,IAAI,CAACk7E,WAAW,CAAC,CAAC;IAClBl7E,KAAK,CAAC6P,OAAO,CAAC,CAAC;EACjB;EACAqmE,UAAUA,CAACl2E,KAAK,EAAE;IAChB,IAAI,CAAC,IAAI,CAAC3gD,UAAU,CAAC3B,OAAO,IAAI,CAAC,IAAI,CAAC2B,UAAU,CAACjD,OAAO,EACtD;IACF,MAAM++H,eAAe,GAAIC,OAAO,IAAK;MACnC,IAAI,CAACj2B,KAAK,CAAC3yG,IAAI,GAAG4oI,OAAO;MACzB,IAAI,CAACF,WAAW,CAAC,CAAC;MAClBl7E,KAAK,CAAC6P,OAAO,CAAC,CAAC;IACjB,CAAC;IACD,IAAI,IAAI,CAACs1C,KAAK,CAAC3yG,IAAI,KAAK,MAAM,IAAIwtD,KAAK,CAACjtB,KAAK,KAAK,CAAC,EAAE;MACnD,IAAI,CAACoyE,KAAK,CAAC59G,KAAK,GAAG,IAAI,CAAC8X,UAAU,CAACmzH,WAAW,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC;MAC5D2I,eAAe,CAAC,MAAM,CAAC;IACzB,CAAC,MAAM,IAAI,IAAI,CAACh2B,KAAK,CAAC3yG,IAAI,KAAK,MAAM,IAAIwtD,KAAK,CAACjtB,KAAK,KAAK,CAAC,CAAC,EAAE;MAC3D,IAAI,CAACoyE,KAAK,CAAC59G,KAAK,GAAG,CAAC;MACpB4zI,eAAe,CAAC,MAAM,CAAC;IACzB;EACF;EACA/7C,KAAKA,CAACp/B,KAAK,EAAE;IACX,IAAI,IAAI,CAACmlD,KAAK,CAAC3yG,IAAI,KAAK,MAAM,EAAE;MAC9B,MAAM2uF,QAAQ,GAAG,IAAI,CAACgkB,KAAK,CAAC59G,KAAK,GAAGy4D,KAAK,CAACjtB,KAAK;MAC/C,MAAMsoG,aAAa,GAAG,IAAI,CAAC3C,gBAAgB,CAAC,IAAI,CAACr5H,UAAU,CAACmzH,WAAW,CAAC;MACxE,IAAI,CAACrtB,KAAK,CAAC59G,KAAK,GAAG0rB,KAAK,CAAC,CAAC,CAAC,EAAEkuE,QAAQ,EAAEk6C,aAAa,CAAC;MACrD,IAAI,CAACH,WAAW,CAAC,CAAC;MAClBl7E,KAAK,CAAC6P,OAAO,CAAC,CAAC;IACjB,CAAC,MAAM,IAAI,IAAI,CAACs1C,KAAK,CAAC3yG,IAAI,KAAK,MAAM,EAAE;MACrC,IAAIwtD,KAAK,CAACjtB,KAAK,GAAG,CAAC,EACjB,IAAI,CAACoyE,KAAK,CAAC59G,KAAK,GAAG,CAAC;MACtB,IAAIy4D,KAAK,CAACjtB,KAAK,GAAG,CAAC,EACjB,IAAI,CAACoyE,KAAK,CAAC59G,KAAK,GAAG,CAAC;MACtB,IAAI,CAAC2zI,WAAW,CAAC,CAAC;MAClBl7E,KAAK,CAAC6P,OAAO,CAAC,CAAC;IACjB;EACF;EACAm3C,QAAQA,CAACl3C,MAAM,EAAE;IACf,IAAI,IAAI,CAACq1C,KAAK,CAAC3yG,IAAI,KAAK,MAAM,EAAE;MAC9B,IAAI,CAACkoI,OAAO,CAAC,IAAI,CAACY,cAAc,CAAC,CAAC,CAAC99G,KAAK,CAAC;IAC3C,CAAC,MAAM,IAAI,IAAI,CAAC2nF,KAAK,CAAC3yG,IAAI,KAAK,MAAM,EAAE;MACrC,IAAI,IAAI,CAAC2yG,KAAK,CAAC59G,KAAK,KAAK,CAAC,EACxB,IAAI,CAAC8X,UAAU,CAACm1H,aAAa,CAAC,CAAC;MACjC,IAAI,IAAI,CAACrvB,KAAK,CAAC59G,KAAK,KAAK,CAAC,EACxB,IAAI,CAAC8X,UAAU,CAACg1H,SAAS,CAAC,CAAC;MAC7B,IAAI,CAAC/5G,GAAG,CAACwqE,uBAAuB,CAACzL,aAAa,CAC5C,eAAe,IAAI,CAACh6E,UAAU,CAACmzH,WAAW,GAAG,CAAC,OAAO,IAAI,CAAClC,KAAK,CAAC/2I,MAAM,EACxE,CAAC;IACH;EACF;EACAgiJ,oBAAoBA,CAAA,EAAG;IACrB,MAAMC,OAAO,GAAG,IAAI,CAACn8H,UAAU,CAACmzH,WAAW;IAC3C,MAAMiJ,gBAAgB,GAAG,IAAI,CAAC/C,gBAAgB,CAAC8C,OAAO,CAAC;IACvD,IAAI,IAAI,CAACr2B,KAAK,CAAC59G,KAAK,KAAK,CAAC,CAAC,EAAE;MAC3B,IAAI,CAAC8X,UAAU,CAACq1H,OAAO,CAAC8G,OAAO,GAAG,CAAC,CAAC;IACtC,CAAC,MAAM,IAAI,IAAI,CAACr2B,KAAK,CAAC59G,KAAK,KAAKk0I,gBAAgB,EAAE;MAChD,IAAI,CAACp8H,UAAU,CAACq1H,OAAO,CAAC8G,OAAO,GAAG,CAAC,CAAC;IACtC,CAAC,MAAM;MACL;IACF;IACA,MAAM;MAAEhJ;IAAY,CAAC,GAAG,IAAI,CAACnzH,UAAU;IACvC,IAAIm8H,OAAO,KAAKhJ,WAAW,EAAE;MAC3B,IAAI,CAACrtB,KAAK,CAAC59G,KAAK,GAAG0rB,KAAK,CAAC,CAAC,EAAE,IAAI,CAACkyF,KAAK,CAAC59G,KAAK,EAAEk0I,gBAAgB,GAAG,CAAC,CAAC;IACrE,CAAC,MAAM,IAAI,IAAI,CAACt2B,KAAK,CAAC59G,KAAK,KAAK,CAAC,CAAC,EAAE;MAClC,IAAI,CAAC49G,KAAK,CAAC59G,KAAK,GAAG,IAAI,CAACmxI,gBAAgB,CAAClG,WAAW,CAAC,GAAG,CAAC;IAC3D,CAAC,MAAM;MACL,IAAI,CAACrtB,KAAK,CAAC59G,KAAK,GAAG,CAAC;IACtB;EACF;EACA+zI,cAAcA,CAAA,EAAG;IACf,IAAI,IAAI,CAACn2B,KAAK,CAAC3yG,IAAI,KAAK,MAAM,EAAE;MAC9BrT,MAAM,CAACM,KAAK,CAAC,kEAAkE,CAAC;MAChF,OAAO;QAAE00C,SAAS,EAAE,CAAC,CAAC;QAAE3/B,IAAI,EAAE,KAAK,CAAC;QAAEgpB,KAAK,EAAE,KAAK;MAAE,CAAC;IACvD;IACA,IAAI,CAAC+9G,oBAAoB,CAAC,CAAC;IAC3B,MAAMpnG,SAAS,GAAG,IAAI,CAACykG,0BAA0B,CAAC,CAAC;IACnD,IAAIzkG,SAAS,GAAG,CAAC,EAAE;MACjBh1C,MAAM,CAACM,KAAK,CAAC,oCAAoC00C,SAAS,EAAE,CAAC;MAC7D,OAAO;QAAEA,SAAS,EAAE,CAAC,CAAC;QAAE3/B,IAAI,EAAE,KAAK,CAAC;QAAEgpB,KAAK,EAAE,KAAK;MAAE,CAAC;IACvD;IACA,MAAMhpB,IAAI,GAAG,IAAI,CAAC6gI,aAAa,CAAC12G,KAAK,CAAC,CAAC,CAACwV,SAAS,CAAC;IAClD,MAAMx+B,IAAI,GAAG,IAAI,CAACA,IAAI;IACtB,IAAI6nB,KAAK;IACT,IAAI2W,SAAS,GAAGx+B,IAAI,CAACpc,MAAM,EAAE;MAC3BikC,KAAK,GAAG,IAAI,CAAC7nB,IAAI,CAACw+B,SAAS,CAAC;IAC9B,CAAC,MAAM;MACLh1C,MAAM,CAACM,KAAK,CAAC,uBAAuB00C,SAAS,GAAG,CAAC;IACnD;IACA,OAAO;MAAEA,SAAS;MAAE3/B,IAAI;MAAEgpB;IAAM,CAAC;EACnC;EACA09G,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAE/1B,KAAK;MAAE9lG;IAAW,CAAC,GAAG,IAAI;IAClC,IAAI8lG,KAAK,CAAC3yG,IAAI,KAAK,MAAM,EAAE;MACzB,MAAM;QAAE2hC,SAAS;QAAE3/B,IAAI;QAAEgpB;MAAM,CAAC,GAAG,IAAI,CAAC89G,cAAc,CAAC,CAAC;MACxD,IAAI99G,KAAK,KAAK,KAAK,CAAC,EAClB;MACF,MAAM9D,IAAI,GAAGllB,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC2qB,sBAAsB,CAAC,CAAC;MAClE,IAAI,CAAC27G,OAAO,CAACppC,wBAAwB,CAAC,IAAI,CAACp3E,GAAG,CAACy0C,aAAa,EAAE;QAAEr1C,IAAI;QAAEk4E,YAAY,EAAE;MAAK,CAAC,CAAC,EAAEp0E,KAAK,CAAC;MACnG,MAAM7gB,KAAK,GAAG6gB,KAAK,IAAI,IAAI,CAACg5G,YAAY,CAACh5G,KAAK,CAAC;MAC/C,IAAI7gB,KAAK,EAAE;QACT,MAAMgpH,UAAU,GAAGnoG,KAAK,CAACphB,OAAO,GAAG,SAAS,GAAG,QAAQ;QACvD,IAAI,CAACke,GAAG,CAACwqE,uBAAuB,CAACzL,aAAa,CAC5C,eAAellD,SAAS,GAAG,CAAC,OAAO,IAAI,CAACx+B,IAAI,CAACpc,MAAM,KAAKojB,KAAK,KAAKgpH,UAAU,EAC9E,CAAC;MACH;IACF,CAAC,MAAM,IAAIxgB,KAAK,CAAC3yG,IAAI,KAAK,MAAM,EAAE;MAChC,MAAMshI,MAAM,GAAG3uB,KAAK,CAAC59G,KAAK,KAAK,CAAC,GAAG8X,UAAU,CAAC4zH,cAAc,GAAG5zH,UAAU,CAAC2zH,UAAU;MACpF,IAAI,CAAC14G,GAAG,CAACy0C,aAAa,CAACuyB,wBAAwB,CAACwyC,MAAM,CAAC30G,sBAAsB,CAAC,CAAC,CAAC;MAChF,MAAMlnC,KAAK,GAAG,CAAC,sBAAsB,EAAE,kBAAkB,CAAC,CAACktH,KAAK,CAAC59G,KAAK,CAAC;MACvE,IAAI,CAAC+yB,GAAG,CAACwqE,uBAAuB,CAACzL,aAAa,CAAC,GAAGphG,KAAK,UAAU,CAAC;IACpE;EACF;EACAk+I,cAAcA,CAACv0B,UAAU,EAAE;IACzB,MAAME,aAAa,GAAGF,UAAU,CAACzzG,KAAK,CAAC,CAAC;IACxC,IAAI,CAAC,IAAI,CAACiO,OAAO,IAAI,CAAC,IAAI,CAACzG,IAAI,CAACpc,MAAM,EAAE;MACtC,OAAO;QAAEqoH,UAAU,EAAEE;MAAc,CAAC;IACtC;IACA,MAAM,CAAC45B,WAAW,EAAEC,YAAY,CAAC,GAAG,IAAI,CAACC,yBAAyB,CAACh6B,UAAU,CAAC;IAC9E,IAAI,CAACp2D,KAAK,CAACzwB,YAAY,GAAG,CAAC;IAC3B,IAAI,CAACywB,KAAK,CAACxwB,YAAY,GAAG,CAAC;IAC3B,IAAI,CAACy7G,UAAU,CAACiF,WAAW,EAAEC,YAAY,CAAC;IAC1C,MAAME,UAAU,GAAG,IAAI,CAACrB,gBAAgB,CAAC,CAAC;IAC1C,MAAMsB,0CAA0C,GAAGA,CAAA,KAAM;MACvD,QAAQ,IAAI,CAACh9H,QAAQ;QACnB,KAAK,KAAK;QACV,KAAK,MAAM;UACT,OAAO,CAAC;QACV,KAAK,QAAQ;UACX,OAAO8iG,UAAU,CAACvsF,MAAM,GAAGwmH,UAAU,CAACxmH,MAAM;QAC9C,KAAK,OAAO;QACZ;UACE,OAAOusF,UAAU,CAAC7kG,KAAK,GAAG8+H,UAAU,CAAC9+H,KAAK;MAC9C;IACF,CAAC;IACD,IAAI,IAAI,CAACW,OAAO,EAAE;MAChB,IAAIqd,YAAY;MAChB,IAAIC,YAAY;MAChB,QAAQ,IAAI,CAAClc,QAAQ;QACnB,KAAK,KAAK;QACV,KAAK,QAAQ;UACXic,YAAY,GAAG,CAAC6mF,UAAU,CAAC7kG,KAAK,GAAG8+H,UAAU,CAAC9+H,KAAK,IAAI,CAAC;UACxDie,YAAY,GAAG8gH,0CAA0C,CAAC,CAAC;UAC3Dh6B,aAAa,CAAC1rF,MAAM,CAACylH,UAAU,CAACxmH,MAAM,EAAE,IAAI,CAACvW,QAAQ,CAAC;UACtD;QACF,KAAK,MAAM;QACX,KAAK,OAAO;QACZ;UACEic,YAAY,GAAG+gH,0CAA0C,CAAC,CAAC;UAC3D9gH,YAAY,GAAG,CAAC4mF,UAAU,CAACvsF,MAAM,GAAGwmH,UAAU,CAACxmH,MAAM,IAAI,CAAC;UAC1DysF,aAAa,CAAC1rF,MAAM,CAACylH,UAAU,CAAC9+H,KAAK,EAAE,IAAI,CAAC+B,QAAQ,CAAC;MACzD;MACA,IAAI,CAAC0sC,KAAK,CAACzwB,YAAY,GAAGnjC,IAAI,CAACsI,KAAK,CAAC,CAAC27I,UAAU,CAACrhJ,CAAC,GAAGonH,UAAU,CAACpnH,CAAC,GAAGugC,YAAY,CAAC;MACjF,IAAI,CAACywB,KAAK,CAACxwB,YAAY,GAAGpjC,IAAI,CAACsI,KAAK,CAAC,CAAC27I,UAAU,CAACvnH,CAAC,GAAGstF,UAAU,CAACttF,CAAC,GAAG0G,YAAY,CAAC;IACnF;IACA,IAAI,IAAI,CAACtd,OAAO,IAAI,IAAI,CAACtB,OAAO,IAAI,IAAI,CAACzG,IAAI,CAACpc,MAAM,EAAE;MACpD,MAAMwiJ,aAAa,GAAG,IAAI,CAACz/H,OAAO;MAClCwlG,aAAa,CAAC1rF,MAAM,CAAC2lH,aAAa,EAAE,IAAI,CAACj9H,QAAQ,CAAC;MAClD,MAAMk9H,oBAAoB,GAAGH,UAAU,CAAC1tI,KAAK,CAAC,CAAC;MAC/C6tI,oBAAoB,CAACxhJ,CAAC,IAAI,IAAI,CAACgxD,KAAK,CAACzwB,YAAY;MACjDihH,oBAAoB,CAAC1nH,CAAC,IAAI,IAAI,CAACk3B,KAAK,CAACxwB,YAAY;IACnD;IACA,OAAO;MAAE4mF,UAAU,EAAEE;IAAc,CAAC;EACtC;EACA85B,yBAAyBA,CAACh6B,UAAU,EAAE;IACpC,MAAM;MAAE7kG,KAAK;MAAEsY;IAAO,CAAC,GAAGusF,UAAU;IACpC,MAAMq6B,WAAW,GAAGl/H,KAAK,GAAGsY,MAAM;IAClC,MAAM6mH,cAAc,GAAG,GAAG;IAC1B,MAAMC,oBAAoB,GAAG,GAAG;IAChC,MAAMC,mBAAmB,GAAG,IAAI;IAChC,IAAIV,WAAW,EAAEC,YAAY;IAC7B,QAAQ,IAAI,CAAC78H,QAAQ;MACnB,KAAK,KAAK;MACV,KAAK,QAAQ;QACX,MAAMu9H,iBAAiB,GAAGJ,WAAW,GAAG,CAAC,GAAGrkJ,IAAI,CAAC6uB,GAAG,CAACy1H,cAAc,EAAEC,oBAAoB,IAAI,CAAC,GAAGF,WAAW,CAAC,CAAC,GAAGE,oBAAoB;QACrIT,WAAW,GAAG,IAAI,CAAC9oF,QAAQ,GAAGh7D,IAAI,CAAC6uB,GAAG,CAAC,IAAI,CAACmsC,QAAQ,EAAE71C,KAAK,CAAC,GAAGA,KAAK;QACpE4+H,YAAY,GAAG,IAAI,CAAC9oF,SAAS,GAAGj7D,IAAI,CAAC6uB,GAAG,CAAC,IAAI,CAACosC,SAAS,EAAEx9B,MAAM,CAAC,GAAGz9B,IAAI,CAAC8J,KAAK,CAAC2zB,MAAM,GAAGgnH,iBAAiB,CAAC;QACzG;MACF,KAAK,MAAM;MACX,KAAK,OAAO;MACZ;QACE,MAAMC,gBAAgB,GAAGL,WAAW,GAAG,CAAC,GAAGrkJ,IAAI,CAAC6uB,GAAG,CAACy1H,cAAc,EAAEE,mBAAmB,GAAGH,WAAW,CAAC,GAAGG,mBAAmB;QAC5HV,WAAW,GAAG,IAAI,CAAC9oF,QAAQ,GAAGh7D,IAAI,CAAC6uB,GAAG,CAAC,IAAI,CAACmsC,QAAQ,EAAE71C,KAAK,CAAC,GAAGnlB,IAAI,CAAC8J,KAAK,CAACqb,KAAK,GAAGu/H,gBAAgB,CAAC;QACnGX,YAAY,GAAG,IAAI,CAAC9oF,SAAS,GAAGj7D,IAAI,CAAC6uB,GAAG,CAAC,IAAI,CAACosC,SAAS,EAAEx9B,MAAM,CAAC,GAAGA,MAAM;IAC7E;IACA,OAAO,CAACqmH,WAAW,EAAEC,YAAY,CAAC;EACpC;AACF,CAAC;AACDvG,MAAM,CAACxiI,SAAS,GAAG,QAAQ;AAC3B1Z,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE26F,MAAM,CAACr+I,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE26F,MAAM,CAACr+I,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC/BmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE26F,MAAM,CAACr+I,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACpCmC,eAAe,CAAC,CACdoxE,cAAc,CAAExxE,MAAM,IAAKA,MAAM,CAACu6I,qBAAqB,CAAC,CAAC,CAAC,EAC1D55F,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEw6F,MAAM,CAACr+I,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAClCmC,eAAe,CAAC,CACdugD,QAAQ,CAACoD,SAAS,CAAC,CACpB,EAAEu4F,MAAM,CAACr+I,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAEgiI,MAAM,CAACr+I,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAEgiI,MAAM,CAACr+I,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACpCmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,EAAE;EAAExnC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACtC,EAAEgiI,MAAM,CAACr+I,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AACvCmC,eAAe,CAAC,CACdugD,QAAQ,CAACiD,KAAK,CAAC,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,gBAAgB,CAAC,EAAE;EAAEtpC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAClF,EAAEgiI,MAAM,CAACr+I,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACtCmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,EAAE;EAAExnC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACtC,EAAEgiI,MAAM,CAACr+I,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;AAC3CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEk6F,MAAM,CAACr+I,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;;AAElC;AACA,IAAIwlJ,qBAAqB,GAAG;EAC1Bp1I,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,QAAQ;EACpBC,UAAU,EAAE,UAAU;EACtB2I,UAAU,EAAE,CAAC,WAAW,EAAE,OAAO,EAAE,WAAW,EAAE,UAAU,CAAC;EAC3DxH,mBAAmB,EAAE4sI,MAAM;EAC3B9tI,WAAW,EAAE;AACf,CAAC;;AAED;AACA,IAAIk1I,WAAW,GAAG,cAAczlB,IAAI,CAAC;EACnCj3H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC3hB,MAAM,GAAG,CAAC;IACf,IAAI,CAACggH,KAAK,GAAG,SAAS;IACtB,IAAI,CAACC,OAAO,GAAG,SAAS;IACxB,IAAI,CAACC,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,QAAQ,GAAG,QAAQ;IACxB,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACv9B,MAAM,GAAG,CAAC;IACf,IAAI,CAACw9B,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,eAAe,GAAG,CAAC;IACxB,IAAI,CAACx9B,OAAO,GAAG,EAAE;EACnB;EACA,IAAI1oE,OAAOA,CAAC7+C,KAAK,EAAE;IACjB,IAAI,IAAI,CAAC4kJ,QAAQ,KAAK5kJ,KAAK,EAAE;MAC3B,IAAI,CAAC4kJ,QAAQ,GAAG5kJ,KAAK;MACrB,IAAI,CAACknH,SAAS,GAAG,IAAI;IACvB;EACF;EACA,IAAIroE,OAAOA,CAAA,EAAG;IACZ,OAAO,IAAI,CAAC+lG,QAAQ;EACtB;EACA,IAAI9lG,OAAOA,CAAC9+C,KAAK,EAAE;IACjB,IAAI,IAAI,CAAC6kJ,QAAQ,KAAK7kJ,KAAK,EAAE;MAC3B,IAAI,CAAC6kJ,QAAQ,GAAG7kJ,KAAK;MACrB,IAAI,CAACknH,SAAS,GAAG,IAAI;IACvB;EACF;EACA,IAAIpoE,OAAOA,CAAA,EAAG;IACZ,OAAO,IAAI,CAAC+lG,QAAQ;EACtB;EACA,IAAI//H,KAAKA,CAAC9kB,KAAK,EAAE;IACf,IAAI,IAAI,CAACsnH,MAAM,KAAKtnH,KAAK,EAAE;MACzB,IAAI,CAACsnH,MAAM,GAAGtnH,KAAK;MACnB,IAAI,CAACknH,SAAS,GAAG,IAAI;IACvB;EACF;EACA,IAAIpiG,KAAKA,CAAA,EAAG;IACV,OAAO,IAAI,CAACwiG,MAAM;EACpB;EACA,IAAI09B,WAAWA,CAAChlJ,KAAK,EAAE;IACrB,IAAI,IAAI,CAAC8kJ,YAAY,KAAK9kJ,KAAK,EAAE;MAC/B,IAAI,CAAC8kJ,YAAY,GAAG9kJ,KAAK;MACzB,IAAI,CAACknH,SAAS,GAAG,IAAI;IACvB;EACF;EACA,IAAI89B,WAAWA,CAAA,EAAG;IAChB,OAAO,IAAI,CAACF,YAAY;EAC1B;EACA,IAAIG,cAAcA,CAACjlJ,KAAK,EAAE;IACxB,IAAI,IAAI,CAAC+kJ,eAAe,KAAK/kJ,KAAK,EAAE;MAClC,IAAI,CAAC+kJ,eAAe,GAAG/kJ,KAAK;MAC5B,IAAI,CAACknH,SAAS,GAAG,IAAI;IACvB;EACF;EACA,IAAI+9B,cAAcA,CAAA,EAAG;IACnB,OAAO,IAAI,CAACF,eAAe;EAC7B;EACA,IAAI3nH,MAAMA,CAACp9B,KAAK,EAAE;IAChB,IAAI,IAAI,CAACunH,OAAO,KAAKvnH,KAAK,EAAE;MAC1B,IAAI,CAACunH,OAAO,GAAGvnH,KAAK;MACpB,IAAI,CAACknH,SAAS,GAAG,IAAI;IACvB;EACF;EACA,IAAI9pF,MAAMA,CAAA,EAAG;IACX,OAAO,IAAI,CAACmqF,OAAO;EACrB;EACA1sC,MAAMA,CAACt4E,CAAC,EAAE85B,CAAC,EAAE;IACX,IAAI,CAACwiB,OAAO,GAAGt8C,CAAC;IAChB,IAAI,CAACu8C,OAAO,GAAGziB,CAAC;EAClB;EACA,OAAOk6B,KAAKA,CAAC2uF,SAAS,EAAEC,SAAS,EAAE5iJ,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,EAAE5O,GAAG,EAAEhlB,GAAG,EAAE;IAChE,MAAM47I,gBAAgB,GAAGF,SAAS,CAAC3/H,WAAW,GAAG,CAAC;IAClD,MAAM8/H,UAAU,GAAGH,SAAS,CAAC3uF,KAAK,CAACh0D,CAAC,GAAGuiB,KAAK,GAAG0J,GAAG,CAAC,GAAG42H,gBAAgB;IACtE,MAAME,UAAU,GAAGD,UAAU,GAAGH,SAAS,CAAC3uF,KAAK,CAACh0D,CAAC,GAAGuiB,KAAK,GAAG0J,GAAG,EAAE1J,KAAK,IAAItb,GAAG,GAAGglB,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG42H,gBAAgB;IAC5G,MAAMG,OAAO,GAAGL,SAAS,CAAC3uF,KAAK,CAACl6B,CAAC,GAAGe,MAAM,GAAG,CAAC,CAAC,GAAGgoH,gBAAgB;IAClEF,SAAS,CAACrqE,MAAM,CAACwqE,UAAU,EAAEE,OAAO,CAAC;IACrCJ,SAAS,CAACtqE,MAAM,CAACyqE,UAAU,EAAEC,OAAO,CAAC;EACvC;EACAj+G,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAEuX,OAAO;MAAEC,OAAO;MAAEh6B,KAAK;MAAEsY;IAAO,CAAC,GAAG,IAAI;IAChD,MAAM76B,CAAC,GAAGs8C,OAAO,GAAG/5B,KAAK,GAAG,CAAC;IAC7B,MAAMuX,CAAC,GAAGyiB,OAAO,GAAG1hB,MAAM,GAAG,CAAC;IAC9B,OAAO,IAAIyB,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;EACtC;EACAu6B,aAAaA,CAACp1D,CAAC,EAAE85B,CAAC,EAAE;IAClB,MAAM49B,KAAK,GAAG,IAAI,CAACl9B,cAAc,CAACx6B,CAAC,EAAE85B,CAAC,CAAC;IACvC,MAAMoF,IAAI,GAAG,IAAI,CAAC6F,WAAW,CAAC,CAAC;IAC/B,OAAO7F,IAAI,CAACnE,aAAa,CAAC28B,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;EAC7C;EACA8qF,UAAUA,CAAA,EAAG;IACX,IAAIx+G,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,MAAM;MAAE2lC,OAAO;MAAEC,OAAO;MAAE1oC,IAAI;MAAEmP,WAAW;MAAEy/H,WAAW;MAAEC;IAAe,CAAC,GAAG,IAAI;IACjF,MAAMpxF,UAAU,GAAG,CAAC36C,EAAE,GAAG,CAACD,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACq9B,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGr9B,EAAE,CAAC6tD,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGv9C,EAAE,CAAC46C,UAAU,KAAK,IAAI,GAAG36C,EAAE,GAAG,CAAC;IACxI9C,IAAI,CAAC7Q,KAAK,CAAC,CAAC;IACZ,MAAMw7H,SAAS,GAAGphI,IAAI,CAACsI,KAAK,CAAC,IAAI,CAAC6c,KAAK,GAAG,CAAC,GAAG+uC,UAAU,CAAC,GAAGA,UAAU;IACtE,MAAMmtE,UAAU,GAAGrhI,IAAI,CAACsI,KAAK,CAAC,IAAI,CAACm1B,MAAM,GAAG,CAAC,GAAGy2B,UAAU,CAAC,GAAGA,UAAU;IACxEz9C,IAAI,CAAC8hD,MAAM,CAACrZ,OAAO,GAAGkiF,SAAS,EAAEjiF,OAAO,GAAGkiF,UAAU,CAAC;IACtD5qH,IAAI,CAAC+hD,MAAM,CAACtZ,OAAO,GAAGkiF,SAAS,EAAEjiF,OAAO,GAAGkiF,UAAU,CAAC;IACtD5qH,IAAI,CAAC+hD,MAAM,CAACtZ,OAAO,GAAGkiF,SAAS,EAAEjiF,OAAO,GAAGkiF,UAAU,CAAC;IACtD5qH,IAAI,CAAC+hD,MAAM,CAACtZ,OAAO,GAAGkiF,SAAS,EAAEjiF,OAAO,GAAGkiF,UAAU,CAAC;IACtD5qH,IAAI,CAACgiD,SAAS,CAAC,CAAC;IAChB,MAAM36B,EAAE,GAAG99B,IAAI,CAACsI,KAAK,CAAC,CAAC+8I,WAAW,GAAGz/H,WAAW,IAAI,CAAC,GAAGsuC,UAAU,CAAC,GAAGA,UAAU;IAChF,MAAMn2B,EAAE,GAAG/9B,IAAI,CAACsI,KAAK,CAACg9I,cAAc,GAAG,CAAC,GAAGpxF,UAAU,CAAC,GAAGA,UAAU;IACnEz9C,IAAI,CAAC8hD,MAAM,CAACrZ,OAAO,GAAGphB,EAAE,EAAEqhB,OAAO,GAAGphB,EAAE,CAAC;IACvCtnB,IAAI,CAAC+hD,MAAM,CAACtZ,OAAO,GAAGphB,EAAE,EAAEqhB,OAAO,GAAGphB,EAAE,CAAC;IACvCtnB,IAAI,CAAC8hD,MAAM,CAACrZ,OAAO,GAAGphB,EAAE,EAAEqhB,OAAO,GAAGphB,EAAE,CAAC;IACvCtnB,IAAI,CAAC+hD,MAAM,CAACtZ,OAAO,GAAGphB,EAAE,EAAEqhB,OAAO,GAAGphB,EAAE,CAAC;EACzC;AACF,CAAC;AACD6mH,WAAW,CAAC5pI,SAAS,GAAG,aAAa;AACrC1Z,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,CACvB,EAAEsgG,WAAW,CAACzlJ,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,CACvB,EAAEsgG,WAAW,CAACzlJ,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACvCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEshG,WAAW,CAACzlJ,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgD,QAAQ,CAAC,CACnB,EAAE+/F,WAAW,CAACzlJ,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACxCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEshG,WAAW,CAACzlJ,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACtCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEshG,WAAW,CAACzlJ,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEshG,WAAW,CAACzlJ,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEshG,WAAW,CAACzlJ,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;;AAEvC;AACA,IAAI0mJ,SAAS,GAAG,cAAc1mB,IAAI,CAAC;EACjCj3H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC3hB,MAAM,GAAG,CAAC;IACf,IAAI,CAACjiC,CAAC,GAAG,CAAC;IACV,IAAI,CAAC85B,CAAC,GAAG,CAAC;IACV,IAAI,CAACvX,KAAK,GAAG,GAAG;IAChB,IAAI,CAACsY,MAAM,GAAG,EAAE;IAChB,IAAI,CAAC5O,GAAG,GAAG,CAAC;IACZ,IAAI,CAAChlB,GAAG,GAAG,CAAC;EACd;EACAqxE,MAAMA,CAACt4E,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,EAAE;IAC1B,IAAI,CAAC76B,CAAC,GAAGA,CAAC;IACV,IAAI,CAAC85B,CAAC,GAAGA,CAAC;IACV,IAAI,CAACvX,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACsY,MAAM,GAAGA,MAAM;IACpB,IAAI,CAAC8pF,SAAS,GAAG,IAAI;EACvB;EACA1uE,MAAMA,CAAChqB,GAAG,EAAEhlB,GAAG,EAAE;IACf,IAAI,CAACglB,GAAG,GAAGza,KAAK,CAACya,GAAG,CAAC,GAAG,IAAI,CAACA,GAAG,GAAGA,GAAG;IACtC,IAAI,CAAChlB,GAAG,GAAGuK,KAAK,CAACvK,GAAG,CAAC,GAAG,IAAI,CAACA,GAAG,GAAGA,GAAG;IACtC,IAAI,CAAC09G,SAAS,GAAG,IAAI;EACvB;EACA5/E,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAE/kC,CAAC;MAAE85B,CAAC;MAAEvX,KAAK;MAAEsY;IAAO,CAAC,GAAG,IAAI;IACpC,OAAO,IAAIyB,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;EACtC;EACAqoH,uBAAuBA,CAAA,EAAG;IACxB,MAAM;MAAEljJ,CAAC;MAAE85B,CAAC;MAAEvX,KAAK;MAAEsY,MAAM;MAAE5O,GAAG;MAAEhlB;IAAI,CAAC,GAAG,IAAI;IAC9C,MAAMokF,IAAI,GAAGrrF,CAAC,GAAGuiB,KAAK,GAAG0J,GAAG;IAC5B,MAAMk3H,IAAI,GAAGnjJ,CAAC,GAAGuiB,KAAK,GAAGtb,GAAG;IAC5B,OAAO,IAAIq1B,IAAI,CAAC+uD,IAAI,EAAEvxD,CAAC,EAAEqpH,IAAI,GAAG93D,IAAI,EAAExwD,MAAM,CAAC;EAC/C;EACA+pF,UAAUA,CAAA,EAAG;IACX,MAAM;MAAE/wG,IAAI;MAAE7T,CAAC;MAAE85B,CAAC;MAAEvX,KAAK;MAAEsY,MAAM;MAAE5O,GAAG;MAAEhlB,GAAG;MAAE+b;IAAY,CAAC,GAAG,IAAI;IACjE,MAAMogI,UAAU,GAAGpgI,WAAW,GAAG,CAAC;IAClCnP,IAAI,CAAC7Q,KAAK,CAAC,CAAC;IACZ,MAAMqgJ,EAAE,GAAG,IAAI,CAACrvF,KAAK,CAACh0D,CAAC,CAAC,GAAGojJ,UAAU;IACrC,MAAME,EAAE,GAAG,IAAI,CAACtvF,KAAK,CAACl6B,CAAC,CAAC,GAAGspH,UAAU;IACrC,MAAMG,GAAG,GAAGF,EAAE,GAAG,IAAI,CAACrvF,KAAK,CAACh0D,CAAC,EAAEuiB,KAAK,CAAC,GAAG,CAAC,GAAG6gI,UAAU;IACtD,MAAMI,GAAG,GAAGF,EAAE,GAAG,IAAI,CAACtvF,KAAK,CAACl6B,CAAC,EAAEe,MAAM,CAAC,GAAG,CAAC,GAAGuoH,UAAU;IACvDvvI,IAAI,CAAC8hD,MAAM,CAAC0tF,EAAE,EAAEC,EAAE,CAAC;IACnBzvI,IAAI,CAAC+hD,MAAM,CAAC2tF,GAAG,EAAED,EAAE,CAAC;IACpBzvI,IAAI,CAAC+hD,MAAM,CAAC2tF,GAAG,EAAEC,GAAG,CAAC;IACrB3vI,IAAI,CAAC+hD,MAAM,CAACytF,EAAE,EAAEG,GAAG,CAAC;IACpB3vI,IAAI,CAACgiD,SAAS,CAAC,CAAC;IAChB,MAAMw1B,IAAI,GAAG,IAAI,CAACr3B,KAAK,CAACh0D,CAAC,GAAGuiB,KAAK,GAAG0J,GAAG,CAAC,GAAGm3H,UAAU;IACrD,MAAMD,IAAI,GAAG93D,IAAI,GAAG,IAAI,CAACr3B,KAAK,CAACh0D,CAAC,GAAGuiB,KAAK,GAAG0J,GAAG,EAAE1J,KAAK,IAAItb,GAAG,GAAGglB,GAAG,CAAC,CAAC,GAAG,CAAC,GAAGm3H,UAAU;IACrFvvI,IAAI,CAAC8hD,MAAM,CAAC01B,IAAI,EAAEi4D,EAAE,CAAC;IACrBzvI,IAAI,CAAC+hD,MAAM,CAACy1B,IAAI,EAAEm4D,GAAG,CAAC;IACtB3vI,IAAI,CAAC+hD,MAAM,CAACutF,IAAI,EAAEK,GAAG,CAAC;IACtB3vI,IAAI,CAAC+hD,MAAM,CAACutF,IAAI,EAAEG,EAAE,CAAC;IACrBzvI,IAAI,CAACgiD,SAAS,CAAC,CAAC;EAClB;AACF,CAAC;AACDotF,SAAS,CAAC7qI,SAAS,GAAG,WAAW;;AAEjC;AACA,IAAIqrI,aAAa,GAAG,cAActxF,KAAK,CAAC;EACtC7sD,WAAWA,CAACo1B,QAAQ,EAAE;IACpB,KAAK,CAAC;MAAE39B,IAAI,EAAE,oBAAoB;MAAE4yD,KAAK,EAAE,IAAI;MAAE1tB,MAAM,EAAE,EAAE,CAAC;IAAuB,CAAC,CAAC;IACrF,IAAI,CAACjiC,CAAC,GAAG,CAAC;IACV,IAAI,CAAC85B,CAAC,GAAG,CAAC;IACV,IAAI,CAACvX,KAAK,GAAG,GAAG;IAChB,IAAI,CAACsY,MAAM,GAAG,EAAE;IAChB,IAAI,CAAC6oH,OAAO,GAAG,CAAC;IAChB,IAAI,CAACC,OAAO,GAAG,CAAC;IAChB,IAAI,CAACthH,eAAe,GAAG,IAAI;IAC3B,IAAI,CAACze,UAAU,GAAG,IAAIuuC,KAAK,CAAC;MAAEp1D,IAAI,EAAE;IAAuB,CAAC,CAAC;IAC7D,IAAI,CAAC6mB,UAAU,CAACqe,MAAM,GAAG,CAAC;IAC1B,IAAI,CAACrT,WAAW,CAAC,IAAI,CAAChL,UAAU,CAAC;IACjC,IAAI,CAACsgB,MAAM,CAACxJ,QAAQ,CAAC;EACvB;EACA49C,MAAMA,CAACt4E,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,EAAE6oH,OAAO,EAAEC,OAAO,EAAE;IAC5C,IAAI,CAAC3jJ,CAAC,GAAGA,CAAC;IACV,IAAI,CAAC85B,CAAC,GAAGA,CAAC;IACV,IAAI,CAACvX,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACsY,MAAM,GAAGA,MAAM;IACpB,IAAI,CAAC6oH,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAAC//H,UAAU,CAAC2c,YAAY,GAAGvgC,CAAC;IAChC,IAAI,CAAC4jB,UAAU,CAAC4c,YAAY,GAAG1G,CAAC;EAClC;EACA8pH,gBAAgBA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IACnC,IAAID,QAAQ,IAAI,IAAI,EAAE;MACpB,IAAI,CAACjgI,UAAU,CAACkL,WAAW,CAAC+0H,QAAQ,CAAC;IACvC;IACA,IAAIC,QAAQ,IAAI,IAAI,EAAE;MACpB,IAAI,CAAClgI,UAAU,CAACgL,WAAW,CAACk1H,QAAQ,CAAC;IACvC;EACF;EACA/+G,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAE/kC,CAAC;MAAE85B,CAAC;MAAEvX,KAAK;MAAEsY,MAAM;MAAE6oH,OAAO;MAAEC;IAAQ,CAAC,GAAG,IAAI;IACtD,OAAO,IAAIrnH,IAAI,CAACt8B,CAAC,GAAG0jJ,OAAO,EAAE5pH,CAAC,EAAEvX,KAAK,IAAImhI,OAAO,GAAGC,OAAO,CAAC,EAAE9oH,MAAM,CAAC;EACtE;AACF,CAAC;;AAED;AACA,IAAIkpH,SAAS,GAAG,cAAcn4I,kBAAkB,CAAC;EAC/CtG,WAAWA,CAACw6B,GAAG,EAAE;IACf,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,GAAG,GAAGA,GAAG;IACd,IAAI,CAACtL,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAAC5S,OAAO,GAAG,KAAK;IACpB,IAAI,CAACoiI,IAAI,GAAG,IAAIf,SAAS,CAAC,CAAC;IAC3B,IAAI,CAACN,SAAS,GAAG,IAAIX,WAAW,CAAC,CAAC;IAClC,IAAI,CAACY,SAAS,GAAG,IAAIZ,WAAW,CAAC,CAAC;IAClC,IAAI,CAACnnH,MAAM,GAAG,EAAE;IAChB,IAAI,CAACs/E,MAAM,GAAG,EAAE;IAChB,IAAI,CAACn6G,CAAC,GAAG,CAAC;IACV,IAAI,CAAC85B,CAAC,GAAG,CAAC;IACV,IAAI,CAACvX,KAAK,GAAG,CAAC;IACd,IAAI,CAAC0hI,aAAa,GAAG,IAAIR,aAAa,CAAC,CAAC,IAAI,CAACO,IAAI,EAAE,IAAI,CAACrB,SAAS,EAAE,IAAI,CAACC,SAAS,CAAC,CAAC;IACnF,IAAI,CAACsB,IAAI,GAAG,CAAC;IACb,IAAI,CAACC,IAAI,GAAG,CAAC;IACb,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,MAAMvvE,MAAM,GAAG/0C,GAAG,CAACy0C,aAAa,CAAC6wB,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC6+C,aAAa,CAAC;IAC3E,MAAMI,UAAU,GAAG,EAAE,CAAC,gBAAgB,CAAC,CAAC,kBAAkB,CAAC,CAAC;IAC5D,IAAI,CAACx4I,UAAU,CAACpF,IAAI,CAClBq5B,GAAG,CAACkqE,KAAK,CAACza,UAAU,CAAC,IAAI,CAAC00D,aAAa,CAAC,EACxCpvE,MAAM,CAACC,WAAW,CAAC,OAAO,EAAGtP,KAAK,IAAK,IAAI,CAAC8+E,OAAO,CAAC9+E,KAAK,CAAC,EAAE6+E,UAAU,CAAC,EACvExvE,MAAM,CAACC,WAAW,CAAC,YAAY,EAAGtP,KAAK,IAAK,IAAI,CAAC++E,WAAW,CAAC/+E,KAAK,CAAC,EAAE6+E,UAAU,CAAC,EAChFxvE,MAAM,CAACC,WAAW,CAAC,MAAM,EAAGtP,KAAK,IAAK,IAAI,CAACg/E,MAAM,CAACh/E,KAAK,CAAC,EAAE6+E,UAAU,CAAC,EACrExvE,MAAM,CAACC,WAAW,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC2vE,SAAS,CAAC,CAAC,EAAEJ,UAAU,CAAC,EAClExvE,MAAM,CAACC,WAAW,CAAC,OAAO,EAAGtP,KAAK,IAAK,IAAI,CAAC6mD,OAAO,CAAC7mD,KAAK,CAAC,EAAE6+E,UAAU,CAAC,EACvEvkH,GAAG,CAACsqE,WAAW,CAACt1B,WAAW,CAAC,aAAa,EAAGtP,KAAK,IAAK,IAAI,CAAC+iD,YAAY,CAAC/iD,KAAK,CAAC,CAChF,CAAC;IACD,IAAI,CAACqzE,qBAAqB,CAAC,CAAC;EAC9B;EACA+K,gBAAgBA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IACnC,IAAI19I,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAAC69I,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG79I,EAAE,CAACw9I,gBAAgB,CAACC,QAAQ,EAAEC,QAAQ,CAAC;EACtF;EACAjL,qBAAqBA,CAAA,EAAG;IACtB,MAAM;MAAEj3H;IAAQ,CAAC,GAAG,IAAI;IACxB,IAAI,IAAI,CAACqiI,aAAa,IAAI,IAAI,IAAIriI,OAAO,KAAK,IAAI,CAACqiI,aAAa,CAAC/gI,OAAO,EACtE;IACF,IAAI,CAAC+gI,aAAa,CAAC/gI,OAAO,GAAGtB,OAAO;IACpC,IAAIA,OAAO,EAAE;MACX,IAAI,CAACu0F,UAAU,CAAC,CAAC;IACnB,CAAC,MAAM;MACL,IAAI,CAACr2E,GAAG,CAACsqE,WAAW,CAAC+L,UAAU,CAAC,WAAW,CAAC;IAC9C;EACF;EACA2a,aAAaA,CAACtG,EAAE,EAAE;IAChB,OAAOrrH,OAAO,CAAC,IAAI,EAAEykD,SAAS,EAAE,WAAW;MAAEwjE;IAAW,CAAC,EAAE;MACzD,IAAI,IAAI,CAACxlG,OAAO,EAAE;QAChB,MAAM8iI,oBAAoB,GAAG,IAAI,CAAC7pH,MAAM,GAAG,IAAI,CAACs/E,MAAM;QACtDiN,UAAU,CAACxrF,MAAM,CAAC8oH,oBAAoB,EAAE,QAAQ,CAAC;QACjD,IAAI,CAAC5qH,CAAC,GAAGstF,UAAU,CAACttF,CAAC,GAAGstF,UAAU,CAACvsF,MAAM,GAAG,IAAI,CAACs/E,MAAM;MACzD,CAAC,MAAM;QACL,IAAI,CAACrgF,CAAC,GAAG,CAAC;MACZ;MACA,OAAO;QAAEstF;MAAW,CAAC;IACvB,CAAC,CAAC;EACJ;EACAmkB,sBAAsBA,CAACzxH,IAAI,EAAE;IAC3B,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEa,CAAC;QAAEuiB;MAAM,CAAC,GAAGzI,IAAI,CAACsvG,UAAU;MACpC,IAAI,IAAI,CAACxnG,OAAO,EAAE;QAChB,MAAM;UAAEkY,CAAC;UAAEe;QAAO,CAAC,GAAG,IAAI;QAC1B,IAAI,CAAC8pH,WAAW,CAAC3kJ,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;MACvC;MACA,IAAI,CAAC76B,CAAC,GAAGA,CAAC;MACV,IAAI,CAACuiB,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;EACJ;EACA+hI,OAAOA,CAAC9+E,KAAK,EAAE;IACb,IAAI,CAAC,IAAI,CAAC5jD,OAAO,EACf;IACF,MAAM;MAAEoiI,IAAI;MAAErB,SAAS;MAAEC;IAAU,CAAC,GAAG,IAAI;IAC3C,MAAM;MAAE1uE,OAAO;MAAEjc;IAAQ,CAAC,GAAGuN,KAAK;IAClC,IAAIm9E,SAAS,CAAC5nH,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC,IAAI2qF,SAAS,CAAC7nH,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC,EAAE;MAC1F,IAAI,CAACn4B,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,WAAW,EAAE,WAAW,CAAC;IAC/D,CAAC,MAAM,IAAI4jD,IAAI,CAACd,uBAAuB,CAAC,CAAC,CAACnoH,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC,EAAE;MACzE,IAAI,CAACn4B,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,WAAW,EAAE,MAAM,CAAC;IAC1D,CAAC,MAAM;MACL,IAAI,CAACtgE,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,WAAW,CAAC;IAClD;EACF;EACAmkD,WAAWA,CAAC/+E,KAAK,EAAE;IACjB,IAAI,CAAC,IAAI,CAAC5jD,OAAO,EACf;IACF,MAAM;MAAEoiI,IAAI;MAAErB,SAAS;MAAEC,SAAS;MAAE5iJ,CAAC;MAAEuiB,KAAK;MAAE2hI,IAAI,EAAEj4H;IAAI,CAAC,GAAG,IAAI;IAChE,MAAM;MAAEioD,OAAO;MAAEjc;IAAQ,CAAC,GAAGuN,KAAK;IAClC,IAAIm9E,SAAS,CAAC1gH,MAAM,GAAG2gH,SAAS,CAAC3gH,MAAM,EAAE;MACvC,IAAI2gH,SAAS,CAAC7nH,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC,EAAE;QAC7C,IAAI,CAAC2sF,QAAQ,GAAG,KAAK;MACvB,CAAC,MAAM,IAAIjC,SAAS,CAAC5nH,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC,EAAE;QACpD,IAAI,CAAC2sF,QAAQ,GAAG,KAAK;MACvB;IACF,CAAC,MAAM,IAAIjC,SAAS,CAAC5nH,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC,EAAE;MACpD,IAAI,CAAC2sF,QAAQ,GAAG,KAAK;IACvB,CAAC,MAAM,IAAIhC,SAAS,CAAC7nH,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC,EAAE;MACpD,IAAI,CAAC2sF,QAAQ,GAAG,KAAK;IACvB;IACA,IAAI,IAAI,CAACA,QAAQ,IAAI,IAAI,IAAIZ,IAAI,CAACd,uBAAuB,CAAC,CAAC,CAACnoH,aAAa,CAACm5C,OAAO,EAAEjc,OAAO,CAAC,EAAE;MAC3F,IAAI,CAAC2sF,QAAQ,GAAG,KAAK;MACrB,IAAI,CAACC,QAAQ,GAAG,CAAC3wE,OAAO,GAAGl0E,CAAC,IAAIuiB,KAAK,GAAG0J,GAAG;IAC7C;IACA,IAAI,IAAI,CAAC24H,QAAQ,IAAI,IAAI,EAAE;MACzB,IAAI,CAAC9kH,GAAG,CAACsqE,WAAW,CAACsM,qBAAqB,CAAC,WAAW,CAAC;IACzD;EACF;EACA8tC,MAAMA,CAACh/E,KAAK,EAAE;IACZ,IAAI,CAAC,IAAI,CAAC5jD,OAAO,IAAI,IAAI,CAACgjI,QAAQ,IAAI,IAAI,EACxC;IACF,MAAM;MAAEA,QAAQ;MAAER,QAAQ;MAAES,QAAQ;MAAE7kJ,CAAC;MAAEuiB;IAAM,CAAC,GAAG,IAAI;IACvD,IAAI;MAAE2hI,IAAI,EAAEj4H,GAAG;MAAEk4H,IAAI,EAAEl9I;IAAI,CAAC,GAAG,IAAI;IACnC,MAAM;MAAEitE;IAAQ,CAAC,GAAG1O,KAAK;IACzB,MAAMmhB,KAAK,GAAG,CAACzS,OAAO,GAAGl0E,CAAC,IAAIuiB,KAAK;IACnC,IAAIqiI,QAAQ,KAAK,KAAK,EAAE;MACtB34H,GAAG,GAAGwM,KAAK,CAAC,CAAC,EAAEkuD,KAAK,EAAE1/E,GAAG,GAAGm9I,QAAQ,CAAC;IACvC,CAAC,MAAM,IAAIQ,QAAQ,KAAK,KAAK,EAAE;MAC7B39I,GAAG,GAAGwxB,KAAK,CAACxM,GAAG,GAAGm4H,QAAQ,EAAEz9D,KAAK,EAAE,CAAC,CAAC;IACvC,CAAC,MAAM,IAAIi+D,QAAQ,KAAK,KAAK,IAAIC,QAAQ,IAAI,IAAI,EAAE;MACjD,MAAMxqE,IAAI,GAAGpzE,GAAG,GAAGglB,GAAG;MACtBA,GAAG,GAAGwM,KAAK,CAAC,CAAC,EAAEkuD,KAAK,GAAGk+D,QAAQ,EAAE,CAAC,GAAGxqE,IAAI,CAAC;MAC1CpzE,GAAG,GAAGglB,GAAG,GAAGouD,IAAI;IAClB;IACA,IAAI,CAAC6pE,IAAI,GAAGj4H,GAAG;IACf,IAAI,CAACk4H,IAAI,GAAGl9I,GAAG;IACf,IAAI,CAACkvG,UAAU,CAAC,CAAC;EACnB;EACAsuC,SAASA,CAAA,EAAG;IACV,IAAI,CAACG,QAAQ,GAAG,KAAK,CAAC;EACxB;EACAv4B,OAAOA,CAAC/2C,MAAM,EAAE;IACd,IAAI,CAACx1C,GAAG,CAAC0qE,aAAa,CAACpK,YAAY,CAAC,WAAW,CAAC;EAClD;EACAmoB,YAAYA,CAAC/iD,KAAK,EAAE;IAClB,MAAM;MAAExlE;IAAE,CAAC,GAAGwlE,KAAK;IACnB,IAAI,CAACxlE,CAAC,EACJ;IACF,IAAI,CAACkkJ,IAAI,GAAGlkJ,CAAC,CAACisB,GAAG;IACjB,IAAI,CAACk4H,IAAI,GAAGnkJ,CAAC,CAACiH,GAAG;IACjB,IAAI,CAAC67D,WAAW,CAAC9iE,CAAC,CAACisB,GAAG,EAAEjsB,CAAC,CAACiH,GAAG,CAAC;EAChC;EACA09I,WAAWA,CAAC3kJ,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,EAAE;IAC/B,MAAM;MAAEopH,aAAa;MAAED,IAAI;MAAErB,SAAS;MAAEC,SAAS;MAAEsB,IAAI,EAAEj4H,GAAG;MAAEk4H,IAAI,EAAEl9I;IAAI,CAAC,GAAG,IAAI;IAChFg9I,aAAa,CAAC3rE,MAAM,CAACt4E,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,EAAE8nH,SAAS,CAACpgI,KAAK,GAAG,CAAC,EAAEqgI,SAAS,CAACrgI,KAAK,GAAG,CAAC,CAAC;IACnFyhI,IAAI,CAAC1rE,MAAM,CAACt4E,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;IAChCmnH,WAAW,CAAChuF,KAAK,CAAC2uF,SAAS,EAAEC,SAAS,EAAE5iJ,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,EAAE5O,GAAG,EAAEhlB,GAAG,CAAC;IACtE,IAAIglB,GAAG,GAAG,CAAChlB,GAAG,GAAGglB,GAAG,IAAI,CAAC,GAAG,GAAG,EAAE;MAC/B02H,SAAS,CAAC1gH,MAAM,GAAG,CAAC;MACpB2gH,SAAS,CAAC3gH,MAAM,GAAG,CAAC;IACtB,CAAC,MAAM;MACL0gH,SAAS,CAAC1gH,MAAM,GAAG,CAAC;MACpB2gH,SAAS,CAAC3gH,MAAM,GAAG,CAAC;IACtB;EACF;EACA6gC,WAAWA,CAAC72C,GAAG,EAAEhlB,GAAG,EAAE;IACpB,IAAI,CAAC+8I,IAAI,CAAC/tG,MAAM,CAAChqB,GAAG,EAAEhlB,GAAG,CAAC;EAC5B;EACAkvG,UAAUA,CAAA,EAAG;IACX,IAAI,CAAC,IAAI,CAACv0F,OAAO,EACf;IACF,MAAM;MAAEsiI,IAAI,EAAEj4H,GAAG;MAAEk4H,IAAI,EAAEl9I;IAAI,CAAC,GAAG,IAAI;IACrC,MAAM0hH,KAAK,GAAG,IAAI,CAAC7oF,GAAG,CAACsqE,WAAW,CAACuM,OAAO,CAAC,CAAC;IAC5C,IAAI1qF,GAAG,IAAI,IAAI,IAAIhlB,GAAG,IAAI,IAAI,EAC5B;IACF,MAAM69I,cAAc,GAAI9kD,OAAO,IAAK;MAClC,IAAI,IAAI,CAAC/zE,GAAG,IAAI,IAAI,IAAI,IAAI,CAAChlB,GAAG,IAAI,IAAI,EACtC;MACFtC,MAAM,CAACQ,QAAQ,CACb,0DAA0D66F,OAAO,wCACnE,CAAC;IACH,CAAC;IACD,OAAO,IAAI,CAAClgE,GAAG,CAACsqE,WAAW,CAAC+L,UAAU,CAAC,WAAW,EAAE;MAAEn2G,CAAC,EAAE;QAAEisB,GAAG;QAAEhlB;MAAI,CAAC;MAAE6yB,CAAC,EAAE6uF,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC7uF;IAAE,CAAC,EAAE,KAAK,EAAEgrH,cAAc,CAAC;EACtI;AACF,CAAC;AACDpmJ,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,EAAE;EAAErnC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEmrI,SAAS,CAACxnJ,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACvCmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,EACjB0vB,cAAc,CAAExxE,MAAM,IAAKA,MAAM,CAACu6I,qBAAqB,CAAC,CAAC,CAAC,CAC3D,EAAEkL,SAAS,CAACxnJ,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEqjG,SAAS,CAACxnJ,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACpCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEqjG,SAAS,CAACxnJ,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACpCmC,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACVv7D,QAAQA,CAAC+X,GAAG,EAAE;IACZ,IAAI,CAACi4H,IAAI,GAAGj4H,GAAG;IACf,IAAI,CAACkqF,UAAU,CAAC,CAAC;EACnB;AACF,CAAC,CAAC,EACFl3D,QAAQ,CAACU,GAAG,CAACiB,KAAK,EAAEQ,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE;EAAExoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3D,EAAEmrI,SAAS,CAACxnJ,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;AACjCmC,eAAe,CAAC,CACd+wE,WAAW,CAAC;EACVv7D,QAAQA,CAACjN,GAAG,EAAE;IACZ,IAAI,CAACk9I,IAAI,GAAGl9I,GAAG;IACf,IAAI,CAACkvG,UAAU,CAAC,CAAC;EACnB;AACF,CAAC,CAAC,EACFl3D,QAAQ,CAACU,GAAG,CAACiB,KAAK,EAAEU,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE;EAAE1oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9D,EAAEmrI,SAAS,CAACxnJ,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;;AAEjC;AACA,IAAIwoJ,eAAe,GAAG;EACpBp4I,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE,WAAW;EACvBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,WAAW,CAAC;EACzBxH,mBAAmB,EAAE+1I,SAAS;EAC9B91I,aAAa,EAAE;IACbsmB,SAAS,EAAE;MACT3S,OAAO,EAAE,KAAK;MACdiZ,MAAM,EAAE,EAAE;MACVmpH,IAAI,EAAE;QACJlhI,IAAI,EAAE,SAAS;QACfH,MAAM,EAAE,SAAS;QACjBK,WAAW,EAAE,CAAC;QACdD,WAAW,EAAE;MACf,CAAC;MACD4/H,SAAS,EAAE;QACT7/H,IAAI,EAAE,SAAS;QACfH,MAAM,EAAE,SAAS;QACjBK,WAAW,EAAE,CAAC;QACdT,KAAK,EAAE,CAAC;QACRsY,MAAM,EAAE,EAAE;QACV4nH,WAAW,EAAE,CAAC;QACdC,cAAc,EAAE;MAClB,CAAC;MACDE,SAAS,EAAE;QACT9/H,IAAI,EAAE,SAAS;QACfH,MAAM,EAAE,SAAS;QACjBK,WAAW,EAAE,CAAC;QACdT,KAAK,EAAE,CAAC;QACRsY,MAAM,EAAE,EAAE;QACV4nH,WAAW,EAAE,CAAC;QACdC,cAAc,EAAE;MAClB;IACF;EACF;AACF,CAAC;;AAED;AACA,IAAIsC,0BAA0B,GAAGA,CAAC;EAAEjwH;AAAW,CAAC,KAAK;EACnD,MAAM;IACJnU,KAAK,EAAE,CAACkC,IAAI,CAAC;IACbjC,OAAO,EAAE,CAAC8B,MAAM;EAClB,CAAC,GAAGoS,UAAU,CAAC,CAAC,CAAC;EACjB,OAAO;IAAEjS,IAAI;IAAEH;EAAO,CAAC;AACzB,CAAC;AACD,IAAIsiI,oBAAoB,GAAI9qI,MAAM,IAAK;EACrC,MAAM;IAAE2I,IAAI;IAAEH;EAAO,CAAC,GAAGqiI,0BAA0B,CAAC7qI,MAAM,CAAC;EAC3D,OAAO;IAAEuK,MAAM,EAAE;MAAE5B,IAAI;MAAEH;IAAO;EAAE,CAAC;AACrC,CAAC;;AAED;AACA,SAASuiI,UAAUA,CAAC7uH,OAAO,EAAE2iB,KAAK,EAAEC,gBAAgB,EAAE61C,KAAK,EAAErqF,GAAG,EAAE;EAChE,MAAM;IAAE0gJ,UAAU;IAAEC,aAAa;IAAEC;EAAc,CAAC,GAAG5gJ,GAAG;EACxD,MAAMm2C,OAAO,GAAGA,CAACvD,KAAK,EAAExjC,IAAI,EAAEyxI,QAAQ,KAAK;IACzCrsG,gBAAgB,CAAC2B,OAAO,CAAC;MACvBxY,EAAE,EAAE,GAAG/L,OAAO,IAAI2iB,KAAK,IAAInlC,IAAI,CAACuuB,EAAE,IAAIiV,KAAK,EAAE;MAC7ChhB,OAAO;MACP1lB,IAAI,EAAE,CAAC;MACPmnC,EAAE,EAAE,CAAC;MACLV,IAAI,EAAE/B,OAAO;MACb0C,WAAW,EAAE,KAAK;MAClBH,QAAQA,CAAC+uC,KAAK,EAAE4+D,OAAO,EAAE;QACvB,IAAIA,OAAO,IAAIluG,KAAK,KAAK,SAAS,EAChC;QACFxjC,IAAI,CAACA,IAAI,CAAC7Q,KAAK,CAAC,IAAI,CAAC;QACrBsiJ,QAAQ,CAAC3+D,KAAK,EAAE9yE,IAAI,CAAC;QACrBA,IAAI,CAACgxG,cAAc,CAAC,CAAC;MACvB,CAAC;MACDltE,MAAMA,CAAA,EAAG;QACP,IAAIN,KAAK,KAAK,OAAO,EACnB;QACFxjC,IAAI,CAACA,IAAI,CAAC7Q,KAAK,CAAC,IAAI,CAAC;QACrBsiJ,QAAQ,CAAC,CAAC,EAAEzxI,IAAI,CAAC;QACjBA,IAAI,CAACgxG,cAAc,CAAC,CAAC;MACvB,CAAC;MACDxtE,KAAK,EAAEtf,kCAAkC,CAACsf,KAAK;IACjD,CAAC,CAAC;EACJ,CAAC;EACD,KAAK,MAAMxjC,IAAI,IAAIi7E,KAAK,EAAE;IACxB,IAAI,CAAC71C,gBAAgB,CAACsjC,SAAS,CAAC,CAAC,EAAE;MACjC3hC,OAAO,CAAC,SAAS,EAAE/mC,IAAI,EAAEwxI,aAAa,CAAC;MACvCzqG,OAAO,CAAC,SAAS,EAAE/mC,IAAI,EAAEuxI,aAAa,CAAC;IACzC;IACAxqG,OAAO,CAAC,OAAO,EAAE/mC,IAAI,EAAEsxI,UAAU,CAAC;EACpC;AACF;;AAEA;AACA,IAAIvzE,OAAO,GAAG,IAAI;AAClB,SAAS4zE,YAAYA,CAAC3jI,IAAI,EAAE;EAC1B,IAAIA,IAAI,IAAI,IAAI,EAAE;IAChB;EACF,CAAC,MAAM,IAAIA,IAAI,KAAK,EAAE,EAAE;IACtB,OAAO,EAAE;EACX;EACA+vD,OAAO,IAAI,IAAI,GAAGA,OAAO,GAAGA,OAAO,GAAG3jD,aAAa,CAAC,KAAK,CAAC;EAC1D2jD,OAAO,CAACktB,WAAW,GAAGliD,MAAM,CAAC/6B,IAAI,CAAC;EAClC,OAAO+vD,OAAO,CAACxiD,SAAS;AAC1B;;AAEA;AACA,SAASq2H,0BAA0BA,CAAC;EAAErjH;AAAG,CAAC,EAAE4W,KAAK,EAAEC,gBAAgB,EAAE,GAAGysG,eAAe,EAAE;EACvFztH,kBAAkB,CAChBmK,EAAE,EACF4W,KAAK,EACLC,gBAAgB,EAChBysG,eAAe,EACf;IAAEj2F,OAAO,EAAE;EAAE,CAAC,EACd;IAAEA,OAAO,EAAE;EAAE,CAAC,EACd;IAAEpY,KAAK,EAAE;EAAW,CACtB,CAAC;AACH;AACA,SAASsuG,2BAA2BA,CAAC;EAAEvjH;AAAG,CAAC,EAAE4W,KAAK,EAAEC,gBAAgB,EAAE,GAAGysG,eAAe,EAAE;EACxFztH,kBAAkB,CAChBmK,EAAE,EACF4W,KAAK,EACLC,gBAAgB,EAChBysG,eAAe,EACf;IAAEj2F,OAAO,EAAE;EAAE,CAAC,EACd;IAAEA,OAAO,EAAE;EAAE,CAAC,EACd;IAAEpY,KAAK,EAAE;EAAS,CACpB,CAAC;AACH;AACA,SAASuuG,YAAYA,CAAChvE,KAAK,EAAE;EAC3B,OAAO;IAAEnnB,OAAO,EAAE;EAAE,CAAC;AACvB;;AAEA;AACA,IAAIo2F,0BAA0B,GAAG,cAAc3tI,cAAc,CAAC;EAC5D5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAClmB,MAAM,GAAG,CAAC,CAAC;EAClB;EACAJ,SAASA,CAACM,OAAO,EAAEjxB,IAAI,GAAG,CAAC,CAAC,eAAe;IACzC,IAAI,IAAI,CAAC+wB,MAAM,GAAG/wB,IAAI,EAAE;MACtB,IAAI,CAAC+wB,MAAM,GAAG/wB,IAAI;IACpB;EACF;EACAkxB,SAASA,CAACC,KAAK,EAAE;IACf,IAAI,CAACJ,MAAM,GAAG,CAAC,CAAC;EAClB;EACAK,OAAOA,CAAA,EAAG;IACR,OAAO,IAAI,CAACL,MAAM,GAAG,CAAC,CAAC;EACzB;AACF,CAAC;;AAED;AACA,IAAIooH,UAAU,GAAG,cAAcD,0BAA0B,CAAC;EACxDvgJ,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAChiC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACM,KAAK,GAAG,oBAAoB;IACjC,IAAI,CAACoU,OAAO,GAAG,CAAC;IAChB,IAAI,CAACC,OAAO,GAAG,CAAC;IAChB,IAAI,CAACw+B,IAAI,GAAG,CAAC;EACf;AACF,CAAC;AACDr2D,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,EACjBxjB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE4oH,UAAU,CAACvpJ,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACtCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,EACtB9kB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE4oH,UAAU,CAACvpJ,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACpCmC,eAAe,CAAC,CACdugD,QAAQ,CAACsB,MAAM,CAAC,EAChB3jB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE4oH,UAAU,CAACvpJ,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACtCmC,eAAe,CAAC,CACdugD,QAAQ,CAACsB,MAAM,CAAC,EAChB3jB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE4oH,UAAU,CAACvpJ,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACtCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,EACzB9jB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE4oH,UAAU,CAACvpJ,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;;AAEnC;AACA,IAAIwpJ,YAAY,GAAGjmG,oBAAoB,CACpCriD,KAAK,IAAK2jI,aAAa,CAAC3jI,KAAK,CAAC,IAAI,OAAOshI,MAAM,KAAK,UAAU,IAAIrjI,MAAM,CAACyS,MAAM,CAAC1Q,KAAK,CAAClB,SAAS,CAAC,YAAYwiI,MAAM,EACnH,wGACF,CAAC;AACD,IAAIinB,YAAY,GAAG,cAAcH,0BAA0B,CAAC;EAC1DvgJ,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAChiC,OAAO,GAAG,IAAI;IACnB,IAAI,CAAC6B,KAAK,GAAG47G,MAAM;IACnB,IAAI,CAAC37G,IAAI,GAAG,CAAC;IACb,IAAI,CAACX,WAAW,GAAG,CAAC;IACpB,IAAI,CAACC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACkwC,aAAa,GAAG,CAAC;EACxB;EACAmxD,QAAQA,CAAA,EAAG;IACT,MAAM;MAAE3gG,IAAI;MAAEZ,IAAI;MAAEC,WAAW;MAAEJ,MAAM;MAAEK,WAAW;MAAEkwC;IAAc,CAAC,GAAG,IAAI;IAC5E,OAAO;MAAExvC,IAAI;MAAEZ,IAAI;MAAEC,WAAW;MAAEJ,MAAM;MAAEK,WAAW;MAAEkwC;IAAc,CAAC;EACxE;EACA+yF,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACviI,IAAI,GAAG,IAAI,CAACV,WAAW;EACrC;AACF,CAAC;AACDtkB,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,EACjBxjB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE8oH,YAAY,CAACzpJ,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACxCmC,eAAe,CAAC,CACdugD,QAAQ,CAAC8mG,YAAY,CAAC,EACtBnpH,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE8oH,YAAY,CAACzpJ,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACtCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,EACzB9jB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE8oH,YAAY,CAACzpJ,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,EAC1CgkB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE8oH,YAAY,CAACzpJ,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,EACfhkB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE8oH,YAAY,CAACzpJ,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,EAC1CgkB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE8oH,YAAY,CAACzpJ,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACvCmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,EACzB9jB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE8oH,YAAY,CAACzpJ,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,EACfhkB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE8oH,YAAY,CAACzpJ,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACoB,QAAQ,EAAE;EAAEznC,QAAQ,EAAE;AAAK,CAAC,CAAC,EACtCgkB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE8oH,YAAY,CAACzpJ,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;;AAE1C;AACA,IAAI2pJ,wBAAwB,GAAG,cAAchuI,cAAc,CAAC;EAC1D5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAChiC,OAAO,GAAG,KAAK;EACtB;AACF,CAAC;AACDljB,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAE8lG,wBAAwB,CAAC3pJ,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACpD,IAAI4pJ,aAAa,GAAG,cAAcjuI,cAAc,CAAC;EAC/C5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAChiC,OAAO,GAAG,IAAI;IACnB,IAAI,CAAComF,WAAW,GAAG,IAAIk+C,wBAAwB,CAAC,CAAC;IACjD,IAAI,CAAC5hI,QAAQ,GAAG,IAAI+sD,eAAe,CAAC,CAAC;EACvC;EACAL,aAAaA,CAACz7D,QAAQ,EAAE4E,MAAM,EAAE;IAC9B,IAAI,IAAI,CAAC0/F,QAAQ,EAAE;MACjB,OAAO7oC,aAAa,CAAC,IAAI,CAAC6oC,QAAQ,CAAC1/F,MAAM,CAAC,EAAE5E,QAAQ,CAAC;IACvD;IACA,OAAOy7D,aAAa,CAACz7D,QAAQ,CAAC;EAChC;AACF,CAAC;AACD7W,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAE+lG,aAAa,CAAC5pJ,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,EAAE;EAAExnC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACtC,EAAEutI,aAAa,CAAC5pJ,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AAC3CmC,eAAe,CAAC,CACdugD,QAAQ,CAACoB,QAAQ,EAAE;EAAEznC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACvC,EAAEutI,aAAa,CAAC5pJ,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEkmG,aAAa,CAAC5pJ,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEkmG,aAAa,CAAC5pJ,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;;AAE1C;AACA,IAAI6pJ,oBAAoB,GAAG,cAAcxiB,yBAAyB,CAAC;EACjEt+H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACyiG,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAACvjI,IAAI,GAAG,SAAS;IACrB,IAAI,CAACC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACJ,MAAM,GAAG,SAAS;IACvB,IAAI,CAACK,WAAW,GAAG,CAAC;IACpB,IAAI,CAACkwC,aAAa,GAAG,CAAC;IACtB,IAAI,CAACtwC,QAAQ,GAAG,CAAC,CAAC,CAAC;IACnB,IAAI,CAACwwC,cAAc,GAAG,CAAC;IACvB,IAAI,CAACkzF,MAAM,GAAG,IAAIR,UAAU,CAAC,CAAC;IAC9B,IAAI,CAACphI,MAAM,GAAG,IAAIshI,YAAY,CAAC,CAAC;IAChC,IAAI,CAAC7jI,KAAK,GAAG,IAAI66C,KAAK,CAAC,CAAC;IACxB,IAAI,CAACz5C,OAAO,GAAG,IAAI4iI,aAAa,CAAC,CAAC;IAClC,IAAI,CAACI,kBAAkB,GAAG,KAAK;EACjC;AACF,CAAC;AACD7nJ,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAE8lG,oBAAoB,CAAC7pJ,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEwtI,oBAAoB,CAAC7pJ,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAE8lG,oBAAoB,CAAC7pJ,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEwtI,oBAAoB,CAAC7pJ,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAEwtI,oBAAoB,CAAC7pJ,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,CACvB,EAAE0kG,oBAAoB,CAAC7pJ,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAEwlG,oBAAoB,CAAC7pJ,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,CACvB,EAAE0kG,oBAAoB,CAAC7pJ,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE0lG,oBAAoB,CAAC7pJ,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAEwlG,oBAAoB,CAAC7pJ,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACmD,SAAS,CAAC,CACpB,EAAEgkG,oBAAoB,CAAC7pJ,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE0lG,oBAAoB,CAAC7pJ,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACvDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEmmG,oBAAoB,CAAC7pJ,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEmmG,oBAAoB,CAAC7pJ,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEmmG,oBAAoB,CAAC7pJ,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEmmG,oBAAoB,CAAC7pJ,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEgmG,oBAAoB,CAAC7pJ,SAAS,EAAE,oBAAoB,EAAE,CAAC,CAAC;;AAE3D;AACA,SAASiqJ,qBAAqBA,CAAC;EAAEpkH;AAAG,CAAC,EAAE6W,gBAAgB,EAAEmB,MAAM,EAAE,GAAGqsG,gBAAgB,EAAE;EACpF,MAAMtsI,MAAM,GAAG;IAAEk9B,KAAK,EAAE+C,MAAM,GAAGriB,kCAAkC,CAACqiB,MAAM,CAAC,GAAG;EAAW,CAAC;EAC1FniB,kBAAkB,CAACmK,EAAE,EAAE,SAAS,EAAE6W,gBAAgB,EAAEwtG,gBAAgB,EAAE;IAAEh3F,OAAO,EAAE;EAAE,CAAC,EAAE;IAAEA,OAAO,EAAE;EAAE,CAAC,EAAEt1C,MAAM,CAAC;EAC7GssI,gBAAgB,CAAC5uI,OAAO,CAAEhR,CAAC,IAAKA,CAAC,CAACq0C,OAAO,CAAC,CAAC,CAAC;AAC9C;AACA,SAASwrG,sBAAsBA,CAAC;EAAEtkH;AAAG,CAAC,EAAE6W,gBAAgB,EAAE,GAAGwtG,gBAAgB,EAAE;EAC7ExuH,kBAAkB,CAChBmK,EAAE,EACF,SAAS,EACT6W,gBAAgB,EAChBwtG,gBAAgB,EAChB;IAAErmH,QAAQ,EAAE,CAAC;IAAEC,QAAQ,EAAE;EAAE,CAAC,EAC5B;IAAED,QAAQ,EAAE,CAAC;IAAEC,QAAQ,EAAE;EAAE,CAAC,EAC5B;IAAEgX,KAAK,EAAE;EAAU,CACrB,CAAC;EACDovG,gBAAgB,CAAC5uI,OAAO,CAAEhR,CAAC,IAAKA,CAAC,CAACq0C,OAAO,CAAC,CAAC,CAAC;AAC9C;AACA,SAASyrG,2BAA2BA,CAAC;EAAEvkH,EAAE;EAAE6iF;AAAqB,CAAC,EAAEhsE,gBAAgB,EAAE,GAAGwtG,gBAAgB,EAAE;EACxG,MAAMG,WAAW,GAAG3hC,oBAAoB,CAACE,eAAe;EACxD,MAAMhsE,MAAM,GAAGA,CAAC7nB,CAAC,EAAE0R,KAAK,KAAK;IAC3B,IAAI58B,EAAE,EAAEsQ,EAAE;IACV,MAAM1W,CAAC,GAAG,CAAC0W,EAAE,GAAG,CAACtQ,EAAE,GAAG48B,KAAK,CAAColE,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhiG,EAAE,CAACpG,CAAC,KAAK,IAAI,GAAG0W,EAAE,GAAGkwI,WAAW;IACzF,IAAI3hI,KAAK,GAAGwT,KAAK,CAAC,CAAC,EAAE8c,cAAc,CAACv1C,CAAC,GAAG4mJ,WAAW,CAAC,EAAE,CAAC,CAAC;IACxD,IAAIp1I,KAAK,CAACyT,KAAK,CAAC,EAAE;MAChBA,KAAK,GAAG,CAAC;IACX;IACA,OAAO;MAAEmb,QAAQ,EAAE,CAAC;MAAEC,QAAQ,EAAE,CAAC;MAAEpb,KAAK;MAAEsyB,QAAQ,EAAE7B,gBAAgB;MAAE2B,KAAK,EAAE;IAAU,CAAC;EAC1F,CAAC;EACD,MAAM+B,IAAI,GAAGA,CAAA,KAAM;IACjB,OAAO;MAAEhZ,QAAQ,EAAE,CAAC;MAAEC,QAAQ,EAAE;IAAE,CAAC;EACrC,CAAC;EACDrI,YAAY,CAACoK,EAAE,EAAE,SAAS,EAAE6W,gBAAgB,EAAEwtG,gBAAgB,EAAE;IAAEttG,MAAM;IAAEC;EAAK,CAAC,CAAC;AACnF;AACA,SAASytG,aAAaA,CAACjwE,KAAK,EAAE;EAC5B,OAAO;IAAEnnB,OAAO,EAAE,CAAC;IAAErvB,QAAQ,EAAE,CAAC;IAAEC,QAAQ,EAAE;EAAE,CAAC;AACjD;AACA,SAASymH,qBAAqBA,CAAClwE,KAAK,EAAE5zC,KAAK,EAAE;EAC3C,IAAI58B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;EAClB,OAAO;IACLipB,YAAY,EAAE,CAAC7pB,EAAE,GAAG,CAACtQ,EAAE,GAAG48B,KAAK,CAAC00B,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtxD,EAAE,CAACpG,CAAC,KAAK,IAAI,GAAG0W,EAAE,GAAG6V,GAAG;IAClFiU,YAAY,EAAE,CAAClpB,EAAE,GAAG,CAACX,EAAE,GAAGqsB,KAAK,CAAC00B,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/gD,EAAE,CAACmjB,CAAC,KAAK,IAAI,GAAGxiB,EAAE,GAAGiV;EACjF,CAAC;AACH;AACA,SAASw6H,sBAAsBA,CAACC,OAAO,EAAEC,YAAY,EAAE;EACrD,MAAMC,aAAa,GAAGA,CAACC,MAAM,EAAEx6I,IAAI,KAAK;IACtC,MAAMwE,GAAG,GAAG61I,OAAO,CAACr6I,IAAI,CAAC,CAACw6I,MAAM,CAAC;IACjC,OAAOz2I,KAAK,CAACU,OAAO,CAACD,GAAG,CAAC,GAAGA,GAAG,CAAC,CAAC,CAAC,GAAGA,GAAG;EAC1C,CAAC;EACD,MAAMi2I,YAAY,GAAIpkH,KAAK,IAAK;IAC9B,MAAM;MAAEmkH;IAAO,CAAC,GAAGnkH,KAAK;IACxB,IAAIgkH,OAAO,CAACtoC,KAAK,CAACyoC,MAAM,CAAC,EAAE;MACzB,OAAO;QAAEzvF,KAAK,EAAEwvF,aAAa,CAACC,MAAM,EAAE,OAAO,CAAC;QAAE/sG,MAAM,EAAE;MAAU,CAAC;IACrE,CAAC,MAAM,IAAI4sG,OAAO,CAACluG,OAAO,CAACquG,MAAM,CAAC,EAAE;MAClC,OAAO;QAAEzvF,KAAK,EAAEwvF,aAAa,CAACC,MAAM,EAAE,SAAS,CAAC;QAAE/sG,MAAM,EAAE;MAAU,CAAC;IACvE,CAAC,MAAM,IAAI4sG,OAAO,CAACpuG,KAAK,CAACuuG,MAAM,CAAC,EAAE;MAChC,OAAO;QAAEzvF,KAAK,EAAEwvF,aAAa,CAACC,MAAM,EAAE,OAAO,CAAC;QAAE/sG,MAAM,EAAE;MAAQ,CAAC;IACnE;IACA,OAAO;MAAEA,MAAM,EAAE;IAAU,CAAC;EAC9B,CAAC;EACD,MAAMjB,MAAM,GAAGA,CAACz0B,MAAM,EAAEse,KAAK,KAAK;IAChC,IAAI58B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE,EAAEkkB,EAAE;IAC1B,MAAM;MAAEmD,MAAM;MAAEsd;IAAM,CAAC,GAAG0vF,YAAY,CAACpkH,KAAK,CAAC;IAC7C,IAAIoX,MAAM,KAAK,SAAS,EACtB,OAAO;MAAEqV,OAAO,EAAE;IAAE,CAAC;IACvB,MAAMl6C,QAAQ,GAAG;MACfgrB,YAAY,EAAE,CAAC7pB,EAAE,GAAG,CAACtQ,EAAE,GAAGsxD,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC/mD,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvK,EAAE,CAACpG,CAAC,KAAK,IAAI,GAAG0W,EAAE,GAAGgO,MAAM,CAAC6b,YAAY;MAC1HC,YAAY,EAAE,CAAClpB,EAAE,GAAG,CAACX,EAAE,GAAG+gD,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC/mD,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGgG,EAAE,CAACmjB,CAAC,KAAK,IAAI,GAAGxiB,EAAE,GAAGoN,MAAM,CAAC8b,YAAY;MAC1HivB,OAAO,EAAE/qC,MAAM,CAAC+qC,OAAO;MACvBpY,KAAK,EAAEtf,kCAAkC,CAACqiB,MAAM;IAClD,CAAC;IACD,IAAI6sG,YAAY,KAAK,OAAO,EAAE;MAC5B,OAAO/oJ,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE0X,QAAQ,CAAC,EAAE;QACjDk6C,OAAO,EAAE,CAAC;QACVlvB,YAAY,EAAE,CAACxN,EAAE,GAAG2kC,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC5f,EAAE,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/kB,EAAE,CAAC/yB,CAAC;QAC9EwgC,YAAY,EAAE,CAACyW,EAAE,GAAGygB,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC5f,EAAE,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGb,EAAE,CAACnd,CAAC;QAC9Eud,KAAK,EAAEtf,kCAAkC,CAAC,OAAO;MACnD,CAAC,CAAC;IACJ;IACA,IAAIqiB,MAAM,KAAK,OAAO,EAAE;MACtB7kC,QAAQ,CAACk6C,OAAO,GAAG,CAAC;IACtB;IACA,OAAOl6C,QAAQ;EACjB,CAAC;EACD,MAAM6jC,IAAI,GAAGA,CAAC29F,OAAO,EAAE/zG,KAAK,KAAK;IAC/B,IAAI58B,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAE0jC,MAAM;MAAEsd;IAAM,CAAC,GAAG0vF,YAAY,CAACpkH,KAAK,CAAC;IAC7C,IAAIoX,MAAM,KAAK,SAAS,EACtB,OAAO;MAAEqV,OAAO,EAAE;IAAE,CAAC;IACvB,MAAMl6C,QAAQ,GAAG;MACfgrB,YAAY,EAAEyC,KAAK,CAAC00B,KAAK,CAAC13D,CAAC;MAC3BwgC,YAAY,EAAEwC,KAAK,CAAC00B,KAAK,CAAC59B,CAAC;MAC3B21B,OAAO,EAAE,CAAC;MACVpY,KAAK,EAAEtf,kCAAkC,CAACqiB,MAAM;IAClD,CAAC;IACD,IAAIA,MAAM,KAAK,SAAS,IAAI6sG,YAAY,KAAK,SAAS,EAAE;MACtD,OAAO/oJ,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE0X,QAAQ,CAAC,EAAE;QACjDgrB,YAAY,EAAE,CAACn6B,EAAE,GAAGsxD,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC5f,EAAE,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG1xC,EAAE,CAACpG,CAAC;QAC9EwgC,YAAY,EAAE,CAAC9pB,EAAE,GAAGghD,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC5f,EAAE,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGphC,EAAE,CAACojB,CAAC;QAC9E21B,OAAO,EAAE,CAAC;QACVpY,KAAK,EAAEtf,kCAAkC,CAAC,SAAS;MACrD,CAAC,CAAC;IACJ;IACA,OAAOxiB,QAAQ;EACjB,CAAC;EACD,OAAO;IAAE4jC,MAAM;IAAEC;EAAK,CAAC;AACzB;AACA,SAASiuG,wBAAwBA,CAACzwI,MAAM,EAAE;EAAEk0G;AAAW,CAAC,EAAE;EACxD,MAAMyX,QAAQ,GAAG3rH,MAAM,CAAC4rH,WAAW,CAAC,CAAC;EACrC,IAAID,QAAQ,KAAK,KAAK,CAAC,EACrB,OAAO,KAAK,CAAC;EACf,MAAMv/F,KAAK,GAAGu/F,QAAQ,CAACzX,UAAU,CAAC;EAClC,IAAI9nF,KAAK,KAAK,KAAK,CAAC,IAAIA,KAAK,CAAC00B,KAAK,KAAK,KAAK,CAAC,EAC5C,OAAO,KAAK,CAAC;EACf,MAAMh0C,IAAI,GAAG9M,MAAM,CAAC0wI,uBAAuB,CAACtkH,KAAK,CAAC,CAACtf,IAAI;EACvD,MAAM84B,MAAM,GAAG94B,IAAI,GAAG,CAAC;EACvB,MAAM;IAAE1jB,CAAC;IAAE85B;EAAE,CAAC,GAAGljB,MAAM,CAAC0xF,YAAY,CAAChkE,qBAAqB,CAACtB,KAAK,CAAC00B,KAAK,CAAC13D,CAAC,GAAGw8C,MAAM,EAAExZ,KAAK,CAAC00B,KAAK,CAAC59B,CAAC,GAAG0iB,MAAM,CAAC;EAC1G,OAAO,IAAIlgB,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,EAAEpW,IAAI,EAAEA,IAAI,CAAC;AACnC;;AAEA;AACA,SAAS6jI,MAAMA,CAAChlB,QAAQ,EAAE;EACxB,OAAOA,QAAQ,CAACxxH,MAAM,CACpB,CAAC;IAAEkb,GAAG;IAAEhlB;EAAI,CAAC,EAAE+S,IAAI,KAAK;IACtB,IAAIiS,GAAG,IAAI,IAAI,IAAIA,GAAG,CAACyrC,KAAK,CAAC13D,CAAC,GAAGga,IAAI,CAAC09C,KAAK,CAAC13D,CAAC,EAAE;MAC7CisB,GAAG,GAAGjS,IAAI;IACZ;IACA,IAAI/S,GAAG,IAAI,IAAI,IAAIA,GAAG,CAACywD,KAAK,CAAC13D,CAAC,GAAGga,IAAI,CAAC09C,KAAK,CAAC13D,CAAC,EAAE;MAC7CiH,GAAG,GAAG+S,IAAI;IACZ;IACA,OAAO;MAAEiS,GAAG;MAAEhlB;IAAI,CAAC;EACrB,CAAC,EACD,CAAC,CACH,CAAC;AACH;AACA,SAASugJ,kBAAkBA,CAAC1pJ,CAAC,EAAEC,CAAC,EAAE0pJ,OAAO,EAAE;EACzC,MAAMt6I,CAAC,GAAG,CAACpP,CAAC,CAAC+7B,CAAC,GAAGh8B,CAAC,CAACg8B,CAAC,KAAK/7B,CAAC,CAACiC,CAAC,GAAGlC,CAAC,CAACkC,CAAC,CAAC;EACnC,MAAM85B,CAAC,GAAG,CAAC2tH,OAAO,GAAG3pJ,CAAC,CAACkC,CAAC,IAAImN,CAAC,GAAGrP,CAAC,CAACg8B,CAAC;EACnC,OAAO;IAAE95B,CAAC,EAAEynJ,OAAO;IAAE3tH;EAAE,CAAC;AAC1B;AACA,SAAS4tH,iBAAiBA,CAACx8E,OAAO,EAAEy8E,OAAO,EAAEvuI,IAAI,EAAEwuI,SAAS,EAAE;EAC5D,IAAIC,aAAa,GAAG,CAAC,CAAC;IAAEC,aAAa,GAAG,CAAC;EACzC,MAAMC,SAAS,GAAG,EAAE;EACpB,OAAOD,aAAa,GAAG58E,OAAO,CAACnsE,MAAM,EAAE;IACrC,IAAImsE,OAAO,CAAC48E,aAAa,CAAC,CAACxiE,MAAM,KAAKqiE,OAAO,EAAE;MAC7CI,SAAS,CAACthJ,IAAI,CAACykE,OAAO,CAAC48E,aAAa,CAAC,CAAC;MACtCA,aAAa,EAAE;MACf;IACF;IACA,IAAI58E,OAAO,CAAC48E,aAAa,CAAC,CAACxiE,MAAM,KAAKlsE,IAAI,EAAE;MAC1C0uI,aAAa,EAAE;MACf;IACF;IACA,IAAIC,SAAS,CAAChpJ,MAAM,GAAG,CAAC,EAAE;MACxB6oJ,SAAS,CAACG,SAAS,EAAEF,aAAa,EAAEC,aAAa,CAAC;MAClDC,SAAS,CAAChpJ,MAAM,GAAG,CAAC;IACtB;IACA8oJ,aAAa,GAAGC,aAAa;IAC7BA,aAAa,EAAE;EACjB;EACA,IAAIC,SAAS,CAAChpJ,MAAM,GAAG,CAAC,EAAE;IACxB6oJ,SAAS,CAACG,SAAS,EAAEF,aAAa,EAAEC,aAAa,CAAC;EACpD;AACF;AACA,SAASE,qBAAqBA,CAACnpJ,MAAM,EAAEopJ,SAAS,EAAE;EAChDP,iBAAiB,CAAC7oJ,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,CAACkpJ,SAAS,EAAEG,IAAI,EAAEC,IAAI,KAAK;IAChE,IAAI/hJ,EAAE,EAAEsQ,EAAE;IACV,IAAIwxI,IAAI,KAAK,CAAC,CAAC,IAAIrpJ,MAAM,CAACspJ,IAAI,CAAC,EAAE;MAC/BJ,SAAS,CAAClwI,OAAO,CAAEjS,CAAC,IAAKA,CAAC,CAACkyC,EAAE,GAAGj5C,MAAM,CAACspJ,IAAI,CAAC,CAACx3I,IAAI,CAAC;IACpD,CAAC,MAAM,IAAIw3I,IAAI,KAAKtpJ,MAAM,CAACE,MAAM,IAAIF,MAAM,CAACqpJ,IAAI,CAAC,EAAE;MACjDH,SAAS,CAAClwI,OAAO,CAAEjS,CAAC,IAAKA,CAAC,CAACkyC,EAAE,GAAGj5C,MAAM,CAACqpJ,IAAI,CAAC,CAACv3I,IAAI,CAAC;IACpD,CAAC,MAAM,IAAIs3I,SAAS,KAAK,WAAW,KAAK,CAAC7hJ,EAAE,GAAGvH,MAAM,CAACqpJ,IAAI,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG9hJ,EAAE,CAACuK,IAAI,CAAC,KAAK,CAAC+F,EAAE,GAAG7X,MAAM,CAACspJ,IAAI,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGzxI,EAAE,CAAC/F,IAAI,CAAC,EAAE;MAC5Io3I,SAAS,CAAClwI,OAAO,CAAEjS,CAAC,IAAKA,CAAC,CAACkyC,EAAE,GAAG0vG,kBAAkB,CAAC3oJ,MAAM,CAACqpJ,IAAI,CAAC,CAACv3I,IAAI,EAAE9R,MAAM,CAACspJ,IAAI,CAAC,CAACx3I,IAAI,EAAE/K,CAAC,CAAC+K,IAAI,CAAC3Q,CAAC,CAAC,CAAC;IACrG,CAAC,MAAM;MACL+nJ,SAAS,CAAClwI,OAAO,CAAEjS,CAAC,IAAKA,CAAC,CAACkyC,EAAE,GAAGlyC,CAAC,CAAC+K,IAAI,CAAC;IACzC;EACF,CAAC,CAAC;EACF+2I,iBAAiB,CAAC7oJ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,CAACkpJ,SAAS,EAAEG,IAAI,EAAEC,IAAI,KAAK;IAChE,IAAI/hJ,EAAE,EAAEsQ,EAAE;IACV,IAAIwxI,IAAI,KAAK,CAAC,CAAC,IAAIrpJ,MAAM,CAACspJ,IAAI,CAAC,EAAE;MAC/BJ,SAAS,CAAClwI,OAAO,CAAEjS,CAAC,IAAKA,CAAC,CAAC+K,IAAI,GAAG9R,MAAM,CAACspJ,IAAI,CAAC,CAACrwG,EAAE,CAAC;IACpD,CAAC,MAAM,IAAIqwG,IAAI,KAAKtpJ,MAAM,CAACE,MAAM,IAAIF,MAAM,CAACqpJ,IAAI,CAAC,EAAE;MACjDH,SAAS,CAAClwI,OAAO,CAAEjS,CAAC,IAAKA,CAAC,CAAC+K,IAAI,GAAG9R,MAAM,CAACqpJ,IAAI,CAAC,CAACpwG,EAAE,CAAC;IACpD,CAAC,MAAM,IAAImwG,SAAS,KAAK,WAAW,KAAK,CAAC7hJ,EAAE,GAAGvH,MAAM,CAACqpJ,IAAI,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG9hJ,EAAE,CAAC0xC,EAAE,CAAC,KAAK,CAACphC,EAAE,GAAG7X,MAAM,CAACspJ,IAAI,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGzxI,EAAE,CAACohC,EAAE,CAAC,EAAE;MACxIiwG,SAAS,CAAClwI,OAAO,CAAEjS,CAAC,IAAKA,CAAC,CAAC+K,IAAI,GAAG62I,kBAAkB,CAAC3oJ,MAAM,CAACqpJ,IAAI,CAAC,CAACpwG,EAAE,EAAEj5C,MAAM,CAACspJ,IAAI,CAAC,CAACrwG,EAAE,EAAElyC,CAAC,CAACkyC,EAAE,CAAC93C,CAAC,CAAC,CAAC;IACjG,CAAC,MAAM;MACL+nJ,SAAS,CAAClwI,OAAO,CAAEjS,CAAC,IAAKA,CAAC,CAAC+K,IAAI,GAAG/K,CAAC,CAACkyC,EAAE,CAAC;IACzC;EACF,CAAC,CAAC;AACJ;AACA,SAASswG,cAAcA,CAACz3I,IAAI,EAAEmnC,EAAE,EAAE6uC,KAAK,EAAE;EACvC,MAAMnrD,EAAE,GAAGhqB,KAAK,CAACb,IAAI,CAAC3Q,CAAC,CAAC,GAAG83C,EAAE,CAAC93C,CAAC,GAAG2Q,IAAI,CAAC3Q,CAAC;EACxC,MAAMy7B,EAAE,GAAGjqB,KAAK,CAACb,IAAI,CAACmpB,CAAC,CAAC,GAAGge,EAAE,CAAChe,CAAC,GAAGnpB,IAAI,CAACmpB,CAAC;EACxC,MAAMuuH,EAAE,GAAGvwG,EAAE,CAAC93C,CAAC,GAAG2Q,IAAI,CAAC3Q,CAAC;EACxB,MAAMsoJ,EAAE,GAAGxwG,EAAE,CAAChe,CAAC,GAAGnpB,IAAI,CAACmpB,CAAC;EACxB,MAAMyuH,EAAE,GAAG/2I,KAAK,CAAC62I,EAAE,CAAC,GAAG,CAAC,GAAGA,EAAE,GAAG1hE,KAAK;EACrC,MAAM6hE,EAAE,GAAGh3I,KAAK,CAAC82I,EAAE,CAAC,GAAG,CAAC,GAAGA,EAAE,GAAG3hE,KAAK;EACrC,OAAO;IACL3mF,CAAC,EAAEw7B,EAAE,GAAG+sH,EAAE;IACVzuH,CAAC,EAAE2B,EAAE,GAAG+sH;EACV,CAAC;AACH;AACA,SAASC,iBAAiBA,CAACC,QAAQ,EAAEC,MAAM,EAAE90I,IAAI,EAAE;EACjD,MAAM;IAAEA,IAAI,EAAE+0I;EAAS,CAAC,GAAG/0I,IAAI;EAC/B,IAAIg1I,UAAU;EACd,KAAK,MAAM1tI,IAAI,IAAIutI,QAAQ,EAAE;IAC3B,MAAM;MAAE/3I,IAAI;MAAEmnC;IAAG,CAAC,GAAG38B,IAAI;IACzB,MAAMwrE,KAAK,GAAGgiE,MAAM,CAACxtI,IAAI,CAACmqE,MAAM,CAAC;IACjC,IAAIqB,KAAK,IAAI,IAAI,IAAIh2E,IAAI,IAAI,IAAI,IAAImnC,EAAE,IAAI,IAAI,EAC7C;IACF,MAAM;MAAE93C,CAAC;MAAE85B;IAAE,CAAC,GAAGsuH,cAAc,CAACz3I,IAAI,EAAEmnC,EAAE,EAAE6uC,KAAK,CAAC;IAChD,IAAIxrE,IAAI,CAACw6C,MAAM,KAAK,KAAK,EAAE;MACzBizF,QAAQ,CAAChzF,MAAM,CAAC51D,CAAC,EAAE85B,CAAC,CAAC;IACvB,CAAC,MAAM,IAAI3e,IAAI,CAACw6C,MAAM,KAAK,IAAI,IAAI,CAACkzF,UAAU,EAAE;MAC9CD,QAAQ,CAACjzF,MAAM,CAAC31D,CAAC,EAAE85B,CAAC,CAAC;IACvB,CAAC,MAAM,IAAI+uH,UAAU,EAAE;MACrB,MAAMC,WAAW,GAAG3tI,IAAI,CAACw6C,MAAM,KAAK,IAAI,GAAGgxB,KAAK,GAAG,CAAC,GAAGA,KAAK;MAC5D,MAAM;QAAE3mF,CAAC,EAAE+oJ,SAAS;QAAEjvH,CAAC,EAAEkvH;MAAU,CAAC,GAAGZ,cAAc,CAACS,UAAU,EAAE;QAAE7oJ,CAAC;QAAE85B;MAAE,CAAC,EAAEgvH,WAAW,CAAC;MACxFF,QAAQ,CAAChzF,MAAM,CAACmzF,SAAS,EAAEC,SAAS,CAAC;MACrCJ,QAAQ,CAACjzF,MAAM,CAAC31D,CAAC,EAAE85B,CAAC,CAAC;IACvB;IACA+uH,UAAU,GAAG;MAAE7oJ,CAAC;MAAE85B;IAAE,CAAC;EACvB;AACF;AACA,SAASmvH,oBAAoBA,CAAC;EAAE7mH,EAAE;EAAElf,OAAO;EAAE+hG;AAAqB,CAAC,EAAEhsE,gBAAgB,EAAE,GAAG61C,KAAK,EAAE;EAC/F,MAAM;IAAEq2B,eAAe,EAAE5iG,KAAK;IAAE6iG,gBAAgB,EAAEvqF;EAAO,CAAC,GAAGoqF,oBAAoB;EACjFhtF,kBAAkB,CAChBmK,EAAE,EACF,iBAAiB,EACjB6W,gBAAgB,EAChB61C,KAAK,EACL;IAAE4tC,KAAK,EAAE;EAAE,CAAC,EACZ;IAAEA,KAAK,EAAEn6G;EAAM,CAAC,EAChB;IACE80B,KAAK,EAAE,SAAS;IAChBpxC,KAAK,EAAE;MAAE62H,QAAQ,EAAE,QAAQ;MAAEH,KAAK,EAAE9hG,MAAM;MAAE3X;IAAQ,CAAC;IACrDo3B,MAAM,EAAE;MAAEwiF,QAAQ,EAAE,KAAK,CAAC;MAAE55G;IAAQ;EACtC,CACF,CAAC;AACH;AACA,SAASgmI,mBAAmBA,CAAC;EAAE9mH;AAAG,CAAC,EAAE4W,KAAK,EAAEC,gBAAgB,EAAE5B,KAAK,GAAG,KAAK,EAAE,GAAG0D,SAAS,EAAE;EACzF9iB,kBAAkB,CAACmK,EAAE,EAAE4W,KAAK,EAAEC,gBAAgB,EAAE8B,SAAS,EAAE;IAAE0U,OAAO,EAAE;EAAE,CAAC,EAAE;IAAEA,OAAO,EAAE;EAAE,CAAC,EAAE;IAAEpY;EAAM,CAAC,CAAC;AACvG;AACA,SAAS8xG,oBAAoBA,CAAC;EAAE/mH;AAAG,CAAC,EAAE4W,KAAK,EAAEC,gBAAgB,EAAE,GAAG8B,SAAS,EAAE;EAC3E9iB,kBAAkB,CAACmK,EAAE,EAAE4W,KAAK,EAAEC,gBAAgB,EAAE8B,SAAS,EAAE;IAAE0U,OAAO,EAAE;EAAE,CAAC,EAAE;IAAEA,OAAO,EAAE;EAAE,CAAC,EAAE;IAAEpY,KAAK,EAAE;EAAS,CAAC,CAAC;AACjH;AACA,SAAS+xG,gBAAgBA,CAACtvI,IAAI,EAAE;EAC9B,OAAQ88D,KAAK,IAAK;IAChB,OAAO;MAAEnnB,OAAO,EAAE31C,IAAI,CAAC+oG,UAAU,CAAC,CAAC;MAAEwmC,YAAY,EAAE,CAAC;MAAEvsB,QAAQ,EAAE,KAAK;IAAE,CAAC;EAC1E,CAAC;AACH;AACA,SAASwsB,cAAcA,CAAC;EAAErkC;AAAqB,CAAC,EAAEpxG,IAAI,EAAE;EACtD,MAAM01I,QAAQ,GAAI9rJ,KAAK,IAAKyU,QAAQ,CAACzU,KAAK,CAAC,GAAGA,KAAK,GAAG,CAAC;EACvDoW,IAAI,CAAC6oH,KAAK,GAAG6sB,QAAQ,CAACtkC,oBAAoB,CAACE,eAAe,CAAC;EAC3DtxG,IAAI,CAAC8oH,KAAK,GAAG4sB,QAAQ,CAACtkC,oBAAoB,CAACG,gBAAgB,CAAC;AAC9D;;AAEA;AACA,SAASokC,mBAAmBA,CAACC,OAAO,EAAE;EACpC,OAAOA,OAAO,CAAC98I,IAAI,KAAK,YAAY,IAAI88I,OAAO,CAAC98I,IAAI,KAAK,KAAK;AAChE;AACA,SAAS+8I,iBAAiBA,CAACD,OAAO,EAAE;EAClC,OAAOA,OAAO,CAAC98I,IAAI,KAAK,UAAU;AACpC;AACA,SAASg9I,QAAQA,CAAC7rJ,CAAC,EAAEC,CAAC,EAAE;EACtB,OAAOD,CAAC,CAAC0/C,MAAM,CAACz+C,MAAM,KAAKhB,CAAC,CAACy/C,MAAM,CAACz+C,MAAM,IAAIjB,CAAC,CAACkI,KAAK,CAACjH,MAAM,KAAKhB,CAAC,CAACiI,KAAK,CAACjH,MAAM,IAAIjB,CAAC,CAAC0/C,MAAM,CAAC12C,KAAK,CAAC,CAACqK,GAAG,EAAEpE,KAAK,KAAKoE,GAAG,KAAKpT,CAAC,CAACy/C,MAAM,CAACzwC,KAAK,CAAC,CAAC,IAAIjP,CAAC,CAACkI,KAAK,CAACc,KAAK,CAAC,CAACqK,GAAG,EAAEpE,KAAK,KAAKoE,GAAG,KAAKpT,CAAC,CAACiI,KAAK,CAAC+G,KAAK,CAAC,CAAC;AACrM;AACA,SAAS68I,eAAeA,CAAC9rJ,CAAC,EAAEC,CAAC,EAAE;EAC7B,IAAID,CAAC,KAAK,KAAK,CAAC,IAAIC,CAAC,KAAK,KAAK,CAAC,EAAE;IAChC,OAAOD,CAAC,KAAK,KAAK,CAAC,IAAIC,CAAC,KAAK,KAAK,CAAC;EACrC;EACA,IAAIyrJ,mBAAmB,CAAC1rJ,CAAC,CAAC,IAAI0rJ,mBAAmB,CAACzrJ,CAAC,CAAC,EAAE;IACpD,OAAOD,CAAC,CAAC6O,IAAI,KAAK5O,CAAC,CAAC4O,IAAI,IAAIg9I,QAAQ,CAAC7rJ,CAAC,EAAEC,CAAC,CAAC;EAC5C;EACA,IAAI2rJ,iBAAiB,CAAC5rJ,CAAC,CAAC,IAAI4rJ,iBAAiB,CAAC3rJ,CAAC,CAAC,EAAE;IAChD,OAAO4rJ,QAAQ,CAAC7rJ,CAAC,EAAEC,CAAC,CAAC;EACvB;EACA,OAAO,KAAK;AACd;;AAEA;AACA,SAASmkE,KAAKA,CAAC/wD,GAAG,EAAEs4I,OAAO,EAAE;EAC3B,IAAI,CAACA,OAAO,EACV,OAAOl9H,GAAG;EACZ,IAAIpb,GAAG,YAAYtL,IAAI,EAAE;IACvBsL,GAAG,GAAGA,GAAG,CAAC3J,OAAO,CAAC,CAAC;EACrB;EACA,IAAIiiJ,OAAO,CAAC98I,IAAI,KAAK,YAAY,IAAI,OAAOwE,GAAG,KAAK,QAAQ,EAAE;IAC5D,MAAM04I,WAAW,GAAG,CAAC14I,GAAG,GAAGs4I,OAAO,CAACjsG,MAAM,CAAC,CAAC,CAAC,KAAKisG,OAAO,CAACjsG,MAAM,CAAC,CAAC,CAAC,GAAGisG,OAAO,CAACjsG,MAAM,CAAC,CAAC,CAAC,CAAC;IACvF,OAAOqsG,WAAW,IAAIJ,OAAO,CAACzjJ,KAAK,CAAC,CAAC,CAAC,GAAGyjJ,OAAO,CAACzjJ,KAAK,CAAC,CAAC,CAAC,CAAC,GAAGyjJ,OAAO,CAACzjJ,KAAK,CAAC,CAAC,CAAC;EAC/E;EACA,IAAIyjJ,OAAO,CAAC98I,IAAI,KAAK,KAAK,IAAI,OAAOwE,GAAG,KAAK,QAAQ,EAAE;IACrD,OAAOs4I,OAAO,CAAC9rG,OAAO,CAACxsC,GAAG,CAAC;EAC7B;EACA,MAAM24I,aAAa,GAAGL,OAAO,CAACjsG,MAAM,CAACK,SAAS,CAAEj4C,CAAC,IAAKA,CAAC,KAAKuL,GAAG,CAAC;EAChE,IAAI24I,aAAa,IAAI,CAAC,EAAE;IACtB,OAAOL,OAAO,CAACzjJ,KAAK,CAAC8jJ,aAAa,CAAC;EACrC;EACA,OAAOv9H,GAAG;AACZ;AACA,SAASw9H,aAAaA,CAACC,OAAO,EAAEC,OAAO,EAAE;EACvC,OAAO,CAACL,eAAe,CAACI,OAAO,CAACE,MAAM,CAAClqJ,CAAC,EAAEiqJ,OAAO,CAACC,MAAM,CAAClqJ,CAAC,CAAC,IAAI,CAAC4pJ,eAAe,CAACI,OAAO,CAACE,MAAM,CAACpwH,CAAC,EAAEmwH,OAAO,CAACC,MAAM,CAACpwH,CAAC,CAAC;AACrH;AACA,SAASqwH,UAAUA,CAACrsJ,CAAC,EAAEC,CAAC,EAAE;EACxB,MAAMqsJ,EAAE,GAAGrkJ,MAAM,CAACjI,CAAC,CAAC;EACpB,MAAMusJ,EAAE,GAAGtkJ,MAAM,CAAChI,CAAC,CAAC;EACpB,IAAI,CAACyT,KAAK,CAAC44I,EAAE,CAAC,IAAI,CAAC54I,KAAK,CAAC64I,EAAE,CAAC,EAAE;IAC5B,OAAOjtJ,IAAI,CAAC27B,GAAG,CAACsxH,EAAE,GAAGD,EAAE,CAAC,GAAG,IAAI;EACjC;EACA,OAAOtsJ,CAAC,KAAKC,CAAC;AAChB;AACA,SAASusJ,eAAeA,CAAC35I,IAAI,GAAG,KAAK,EAAEmnC,EAAE,GAAG,KAAK,EAAE;EACjD,IAAInnC,IAAI,KAAKmnC,EAAE,EAAE;IACf,OAAOpkB,OAAO,CAAC/iB,IAAI,CAAC;EACtB;EACA,OAAOA,IAAI,GAAG,IAAI,GAAG,KAAK;AAC5B;AACA,SAAS45I,kBAAkBA,CAACP,OAAO,EAAEC,OAAO,EAAEnwI,IAAI,GAAG,CAAC,CAAC,EAAE;EACvD,IAAI1T,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;EAClB,MAAM;IAAEkzI,iBAAiB,GAAG;EAAY,CAAC,GAAG1wI,IAAI;EAChD,MAAM2wI,UAAU,GAAIC,QAAQ,IAAK;IAC/B,IAAIj2H,GAAG,EAAEC,GAAG;IACZ,OAAO;MACL10B,CAAC,EAAEkiE,KAAK,CAAC,CAACztC,GAAG,GAAGi2H,QAAQ,CAACvD,MAAM,KAAK,IAAI,GAAG1yH,GAAG,GAAGlI,GAAG,EAAEy9H,OAAO,CAACE,MAAM,CAAClqJ,CAAC,CAAC;MACvE85B,CAAC,EAAEooC,KAAK,CAAC,CAACxtC,GAAG,GAAGg2H,QAAQ,CAACC,MAAM,KAAK,IAAI,GAAGj2H,GAAG,GAAGnI,GAAG,EAAEy9H,OAAO,CAACE,MAAM,CAACpwH,CAAC;IACxE,CAAC;EACH,CAAC;EACD,MAAM8wH,UAAU,GAAIh/E,QAAQ,IAAK;IAC/B,IAAIn3C,GAAG,EAAEC,GAAG;IACZ,OAAO;MACL10B,CAAC,EAAEkiE,KAAK,CAAC,CAACztC,GAAG,GAAGm3C,QAAQ,CAACu7E,MAAM,KAAK,IAAI,GAAG1yH,GAAG,GAAGlI,GAAG,EAAE09H,OAAO,CAACC,MAAM,CAAClqJ,CAAC,CAAC;MACvE85B,CAAC,EAAEooC,KAAK,CAAC,CAACxtC,GAAG,GAAGk3C,QAAQ,CAAC++E,MAAM,KAAK,IAAI,GAAGj2H,GAAG,GAAGnI,GAAG,EAAE09H,OAAO,CAACC,MAAM,CAACpwH,CAAC;IACxE,CAAC;EACH,CAAC;EACD,MAAMj7B,MAAM,GAAG,EAAE;EACjB,MAAMgsJ,SAAS,GAAG;IAChBjyG,KAAK,EAAE,CAAC,CAAC;IACT8lE,KAAK,EAAE,CAAC,CAAC;IACT5lE,OAAO,EAAE,CAAC;EACZ,CAAC;EACD,MAAMgyG,MAAM,GAAGA,CAACn6I,IAAI,EAAEmnC,EAAE,EAAEqvG,MAAM,EAAE7hE,MAAM,GAAG,MAAM,KAAK;IACpD,IAAI30E,IAAI,KAAKa,KAAK,CAACb,IAAI,CAAC+mD,KAAK,CAAC13D,CAAC,CAAC,IAAIwR,KAAK,CAACb,IAAI,CAAC+mD,KAAK,CAAC59B,CAAC,CAAC,CAAC,EAAE;MACxDnpB,IAAI,GAAGmnC,EAAE;IACX;IACA,MAAMizG,WAAW,GAAG;MAClBp6I,IAAI,EAAEA,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC+mD,KAAK;MACxC5f,EAAE,EAAEA,EAAE,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC4f,KAAK;MAClC/B,MAAM,EAAE20F,eAAe,CAAC35I,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC+mD,KAAK,CAAC/B,MAAM,EAAE7d,EAAE,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC4f,KAAK,CAAC/B,MAAM,CAAC;MACzG2vB;IACF,CAAC;IACD,IAAIA,MAAM,KAAK,MAAM,EAAE;MACrBulE,SAAS,CAACnsC,KAAK,CAACyoC,MAAM,CAAC,GAAG4D,WAAW;MACrCC,MAAM,EAAE;MACRC,MAAM,EAAE;IACV,CAAC,MAAM,IAAI3lE,MAAM,KAAK,IAAI,EAAE;MAC1BulE,SAAS,CAACjyG,KAAK,CAACuuG,MAAM,CAAC,GAAG4D,WAAW;MACrCE,MAAM,EAAE;IACV,CAAC,MAAM,IAAI3lE,MAAM,KAAK,KAAK,EAAE;MAC3BulE,SAAS,CAAC/xG,OAAO,CAACquG,MAAM,CAAC,GAAG4D,WAAW;MACvCC,MAAM,EAAE;IACV;IACAnsJ,MAAM,CAAC4H,IAAI,CAACskJ,WAAW,CAAC;EAC1B,CAAC;EACD,MAAM;IAAE9+H,GAAG,EAAEi/H,WAAW;IAAEjkJ,GAAG,EAAEkkJ;EAAY,CAAC,GAAG5D,MAAM,CAAC0C,OAAO,CAAC1nB,QAAQ,CAAC;EACvE,MAAM;IAAEt2G,GAAG,EAAEm/H,SAAS;IAAEnkJ,GAAG,EAAEokJ;EAAU,CAAC,GAAG9D,MAAM,CAACyC,OAAO,CAACznB,QAAQ,CAAC;EACnE,IAAIyoB,MAAM,GAAG,CAAC;EACd,IAAIC,MAAM,GAAG,CAAC;EACd,OAAOD,MAAM,GAAGf,OAAO,CAAC1nB,QAAQ,CAACxjI,MAAM,IAAIksJ,MAAM,GAAGjB,OAAO,CAACznB,QAAQ,CAACxjI,MAAM,EAAE;IAC3E,MAAM4R,IAAI,GAAGs5I,OAAO,CAAC1nB,QAAQ,CAACyoB,MAAM,CAAC;IACrC,MAAMlzG,EAAE,GAAGkyG,OAAO,CAACznB,QAAQ,CAAC0oB,MAAM,CAAC;IACnC,MAAMK,WAAW,GAAG36I,IAAI,GAAG85I,UAAU,CAAC95I,IAAI,CAAC,GAAG,KAAK,CAAC;IACpD,MAAM46I,WAAW,GAAGzzG,EAAE,GAAG8yG,UAAU,CAAC9yG,EAAE,CAAC,GAAG,KAAK,CAAC;IAChD,MAAM0zG,EAAE,GAAG,KAAK,CAAC;IACjB,IAAIF,WAAW,IAAInB,UAAU,CAACmB,WAAW,CAACtrJ,CAAC,EAAE83C,EAAE,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC4f,KAAK,CAAC13D,CAAC,CAAC,EAAE;MAC9E8qJ,MAAM,CAACn6I,IAAI,EAAEmnC,EAAE,EAAEA,EAAE,CAACqvG,MAAM,EAAE,MAAM,CAAC;IACrC,CAAC,MAAM,IAAImE,WAAW,IAAIA,WAAW,CAACtrJ,CAAC,IAAI,CAACoG,EAAE,GAAGglJ,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAAC1zF,KAAK,CAAC13D,CAAC,KAAK,IAAI,GAAGoG,EAAE,GAAG,CAAC8lB,QAAQ,CAAC,EAAE;MAC1H4+H,MAAM,CAACn6I,IAAI,EAAE66I,EAAE,EAAE76I,IAAI,CAACw2I,MAAM,EAAE,KAAK,CAAC;IACtC,CAAC,MAAM,IAAImE,WAAW,IAAIA,WAAW,CAACtrJ,CAAC,IAAI,CAAC0W,EAAE,GAAG20I,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAAC3zF,KAAK,CAAC13D,CAAC,KAAK,IAAI,GAAG0W,EAAE,GAAGwV,QAAQ,CAAC,EAAE;MACzH4+H,MAAM,CAACn6I,IAAI,EAAE66I,EAAE,EAAE76I,IAAI,CAACw2I,MAAM,EAAE,KAAK,CAAC;IACtC,CAAC,MAAM,IAAIoE,WAAW,IAAIA,WAAW,CAACvrJ,CAAC,IAAI,CAAC2W,EAAE,GAAGu0I,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACxzF,KAAK,CAAC13D,CAAC,KAAK,IAAI,GAAG2W,EAAE,GAAG,CAACuV,QAAQ,CAAC,EAAE;MAC9H4+H,MAAM,CAACU,EAAE,EAAE1zG,EAAE,EAAEA,EAAE,CAACqvG,MAAM,EAAE,IAAI,CAAC;IACjC,CAAC,MAAM,IAAIoE,WAAW,IAAIA,WAAW,CAACvrJ,CAAC,IAAI,CAACsX,EAAE,GAAG6zI,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACzzF,KAAK,CAAC13D,CAAC,KAAK,IAAI,GAAGsX,EAAE,GAAG4U,QAAQ,CAAC,EAAE;MAC7H4+H,MAAM,CAACU,EAAE,EAAE1zG,EAAE,EAAEA,EAAE,CAACqvG,MAAM,EAAE,IAAI,CAAC;IACjC,CAAC,MAAM,IAAImE,WAAW,IAAIA,WAAW,CAACtrJ,CAAC,IAAI83C,EAAE,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC4f,KAAK,CAAC13D,CAAC,CAAC,EAAE;MAC5E8qJ,MAAM,CAACn6I,IAAI,EAAE66I,EAAE,EAAE76I,IAAI,CAACw2I,MAAM,EAAE,KAAK,CAAC;IACtC,CAAC,MAAM,IAAIoE,WAAW,IAAIA,WAAW,CAACvrJ,CAAC,IAAI2Q,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC+mD,KAAK,CAAC13D,CAAC,CAAC,EAAE;MAChF8qJ,MAAM,CAACU,EAAE,EAAE1zG,EAAE,EAAEA,EAAE,CAACqvG,MAAM,EAAE,IAAI,CAAC;IACjC,CAAC,MAAM,IAAIx2I,IAAI,EAAE;MACfm6I,MAAM,CAACn6I,IAAI,EAAE66I,EAAE,EAAE76I,IAAI,CAACw2I,MAAM,EAAE,KAAK,CAAC;IACtC,CAAC,MAAM,IAAIrvG,EAAE,EAAE;MACbgzG,MAAM,CAACU,EAAE,EAAE1zG,EAAE,EAAEA,EAAE,CAACqvG,MAAM,EAAE,IAAI,CAAC;IACjC,CAAC,MAAM;MACL,MAAM,IAAI55I,KAAK,CAAC,0BAA0B,CAAC;IAC7C;EACF;EACAy6I,qBAAqB,CAACnpJ,MAAM,EAAE2rJ,iBAAiB,CAAC;EAChD,OAAO;IAAE3rJ,MAAM;IAAEgsJ;EAAU,CAAC;AAC9B;AACA,SAASY,gBAAgBA,CAACzB,OAAO,EAAEC,OAAO,EAAE3wI,KAAK,EAAEQ,IAAI,GAAG,CAAC,CAAC,EAAE;EAC5D,IAAI1T,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;EACd,MAAM;IAAE6zI,iBAAiB,GAAG,WAAW;IAAEkB,UAAU,GAAG;EAAM,CAAC,GAAG5xI,IAAI;EACpE,MAAMjb,MAAM,GAAG,EAAE;EACjB,MAAM8sJ,eAAe,GAAG;IACtB/yG,KAAK,EAAE,CAAC,CAAC;IACT8lE,KAAK,EAAE,CAAC,CAAC;IACT5lE,OAAO,EAAE,CAAC;EACZ,CAAC;EACD,MAAM8yG,cAAc,GAAG;IACrBhzG,KAAK,EAAE,CAAC,CAAC;IACT8lE,KAAK,EAAE,CAAC,CAAC;IACT5lE,OAAO,EAAE,CAAC;EACZ,CAAC;EACD,MAAM+yG,kBAAkB,GAAG;IACzBC,EAAE,EAAE,OAAO;IACXxa,IAAI,EAAE,OAAO;IACbya,GAAG,EAAE;EACP,CAAC;EACD,IAAIC,mBAAmB,GAAG,KAAK,CAAC;EAChC,IAAIC,cAAc,GAAG,KAAK,CAAC;EAC3B,MAAMC,cAAc,GAAGA,CAAC/E,MAAM,EAAEgF,QAAQ,KAAK;IAC3C,IAAI13H,GAAG,EAAEC,GAAG;IACZ,MAAM/nB,IAAI,GAAGk/I,kBAAkB,CAACM,QAAQ,CAAC7mE,MAAM,CAAC;IAChD,IAAIomE,UAAU,EAAE;MACd,CAACh3H,GAAG,GAAG,CAACD,GAAG,GAAGm3H,cAAc,CAACj/I,IAAI,CAAC,EAAEw6I,MAAM,CAAC,KAAK,IAAI,GAAGzyH,GAAG,GAAGD,GAAG,CAAC0yH,MAAM,CAAC,GAAG,EAAE;MAC7EyE,cAAc,CAACj/I,IAAI,CAAC,CAACw6I,MAAM,CAAC,CAAC1gJ,IAAI,CAAC0lJ,QAAQ,CAAC;IAC7C,CAAC,MAAM;MACLR,eAAe,CAACh/I,IAAI,CAAC,CAACw6I,MAAM,CAAC,GAAGgF,QAAQ;IAC1C;IACAH,mBAAmB,GAAGG,QAAQ;IAC9BF,cAAc,GAAGjtF,gCAAgC,CAACmoF,MAAM,CAAC;EAC3D,CAAC;EACD,IAAIiF,QAAQ,GAAG,CAAC;EAChB,IAAIzlD,QAAQ,GAAG,CAAC;EAChB,IAAI0lD,YAAY,GAAG,KAAK;EACxB,OAAOD,QAAQ,GAAGnC,OAAO,CAAC1nB,QAAQ,CAACxjI,MAAM,IAAI4nG,QAAQ,GAAGqjD,OAAO,CAACznB,QAAQ,CAACxjI,MAAM,EAAE;IAC/E,MAAMutJ,MAAM,GAAGrC,OAAO,CAAC1nB,QAAQ,CAAC6pB,QAAQ,CAAC;IACzC,MAAMG,KAAK,GAAGvC,OAAO,CAACznB,QAAQ,CAAC57B,QAAQ,CAAC;IACxC,MAAM6lD,OAAO,GAAGxtF,gCAAgC,CAACstF,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACnF,MAAM,CAAC;IACzF,MAAMsF,OAAO,GAAGztF,gCAAgC,CAACutF,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACpF,MAAM,CAAC;IACvF,IAAI4D,WAAW;IACf,IAAIyB,OAAO,KAAKC,OAAO,EAAE;MACvB1B,WAAW,GAAG;QACZzlE,MAAM,EAAE,MAAM;QACd3vB,MAAM,EAAE20F,eAAe,CAAC,CAAClkJ,EAAE,GAAGkmJ,MAAM,CAAC50F,KAAK,CAAC/B,MAAM,KAAK,IAAI,GAAGvvD,EAAE,GAAG,KAAK,EAAEmmJ,KAAK,CAAC70F,KAAK,CAAC/B,MAAM,CAAC;QAC5FhlD,IAAI,EAAE27I,MAAM,CAAC50F,KAAK;QAClB5f,EAAE,EAAEy0G,KAAK,CAAC70F;MACZ,CAAC;MACDw0F,cAAc,CAACI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACnF,MAAM,EAAE4D,WAAW,CAAC;MACpEqB,QAAQ,EAAE;MACVzlD,QAAQ,EAAE;IACZ,CAAC,MAAM,IAAIrtF,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACw/B,OAAO,CAACh2C,GAAG,CAAC85C,MAAM,CAAC4vG,OAAO,CAAC,CAAC,EAAE;MACtEzB,WAAW,GAAG;QACZzlE,MAAM,EAAE,KAAK;QACb3vB,MAAM,EAAE,CAACj/C,EAAE,GAAG41I,MAAM,CAAC50F,KAAK,CAAC/B,MAAM,KAAK,IAAI,GAAGj/C,EAAE,GAAG,KAAK;QACvD/F,IAAI,EAAE27I,MAAM,CAAC50F;MACf,CAAC;MACDw0F,cAAc,CAACI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACnF,MAAM,EAAE4D,WAAW,CAAC;MACpEqB,QAAQ,EAAE;IACZ,CAAC,MAAM,IAAI9yI,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACs/B,KAAK,CAAC91C,GAAG,CAAC85C,MAAM,CAAC6vG,OAAO,CAAC,CAAC,EAAE;MACpE1B,WAAW,GAAG;QACZzlE,MAAM,EAAE,IAAI;QACZ3vB,MAAM,EAAE,CAACh/C,EAAE,GAAG41I,KAAK,CAAC70F,KAAK,CAAC/B,MAAM,KAAK,IAAI,GAAGh/C,EAAE,GAAG,KAAK;QACtDmhC,EAAE,EAAEy0G,KAAK,CAAC70F;MACZ,CAAC;MACDw0F,cAAc,CAACK,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACpF,MAAM,EAAE4D,WAAW,CAAC;MAClEpkD,QAAQ,EAAE;IACZ,CAAC,MAAM,IAAI+kD,UAAU,IAAIM,mBAAmB,IAAIC,cAAc,KAAKO,OAAO,EAAE;MAC1EzB,WAAW,GAAGltJ,cAAc,CAAC,CAAC,CAAC,EAAEmuJ,mBAAmB,CAAC;MACrDE,cAAc,CAACI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACnF,MAAM,EAAE4D,WAAW,CAAC;MACpEqB,QAAQ,EAAE;IACZ,CAAC,MAAM,IAAIV,UAAU,IAAIM,mBAAmB,IAAIC,cAAc,KAAKQ,OAAO,EAAE;MAC1E1B,WAAW,GAAGltJ,cAAc,CAAC,CAAC,CAAC,EAAEmuJ,mBAAmB,CAAC;MACrDE,cAAc,CAACK,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACpF,MAAM,EAAE4D,WAAW,CAAC;MAClEpkD,QAAQ,EAAE;IACZ,CAAC,MAAM;MACL0lD,YAAY,GAAG,IAAI;MACnB;IACF;IACAxtJ,MAAM,CAAC4H,IAAI,CAACskJ,WAAW,CAAC;EAC1B;EACA,IAAI2B,SAAS,GAAG,CAACxgI,QAAQ;EACzBmgI,YAAY,KAAKA,YAAY,GAAGxtJ,MAAM,CAACqO,IAAI,CAAEy/I,SAAS,IAAK;IACzD,MAAM;MAAErnE,MAAM,EAAE5gE,MAAM;MAAEozB,EAAE,EAAE;QAAE93C,CAAC,GAAG,CAACksB;MAAS,CAAC,GAAG,CAAC;IAAE,CAAC,GAAGygI,SAAS;IAChE,IAAIjoI,MAAM,KAAK,KAAK,EAClB;IACF,MAAMkoI,SAAS,GAAG5sJ,CAAC,GAAG0sJ,SAAS;IAC/BA,SAAS,GAAG1sJ,CAAC;IACb,OAAO4sJ,SAAS;EAClB,CAAC,CAAC,CAAC;EACH,IAAIP,YAAY,EAAE;IAChB,OAAO;MAAExtJ,MAAM,EAAE,KAAK,CAAC;MAAEgsJ,SAAS,EAAE,KAAK;IAAE,CAAC;EAC9C;EACA7C,qBAAqB,CAACnpJ,MAAM,EAAE2rJ,iBAAiB,CAAC;EAChD,OAAO;IAAE3rJ,MAAM;IAAEgsJ,SAAS,EAAEa,UAAU,GAAGE,cAAc,GAAGD;EAAgB,CAAC;AAC7E;AACA,SAASkB,mBAAmBA,CAAC7C,OAAO,EAAEC,OAAO,EAAEvB,QAAQ,EAAE;EACvD,IAAItiJ,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;EAClB,IAAI8iC,MAAM,GAAG,SAAS;EACtB,MAAMl3B,OAAO,GAAI/H,IAAI,IAAK;IACxB,OAAOA,IAAI,CAAC+H,OAAO;EACrB,CAAC;EACD,IAAI,CAACA,OAAO,CAAC+mI,OAAO,CAAC,IAAI/mI,OAAO,CAAC8mI,OAAO,CAAC,EAAE;IACzC5vG,MAAM,GAAG,OAAO;EAClB,CAAC,MAAM,IAAIl3B,OAAO,CAAC+mI,OAAO,CAAC,IAAI,CAAC/mI,OAAO,CAAC8mI,OAAO,CAAC,EAAE;IAChD5vG,MAAM,GAAG,SAAS;EACpB,CAAC,MAAM;IACL,KAAK,IAAIt7C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4pJ,QAAQ,CAAC3pJ,MAAM,EAAED,CAAC,EAAE,EAAE;MACxC,IAAI4pJ,QAAQ,CAAC5pJ,CAAC,CAAC,CAACwmF,MAAM,KAAK,MAAM,EAC/B;MACF,IAAI,CAAC,CAACl/E,EAAE,GAAGsiJ,QAAQ,CAAC5pJ,CAAC,CAAC,CAAC6R,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvK,EAAE,CAACpG,CAAC,OAAO,CAAC0W,EAAE,GAAGgyI,QAAQ,CAAC5pJ,CAAC,CAAC,CAACg5C,EAAE,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGphC,EAAE,CAAC1W,CAAC,CAAC,EACvG;MACF,IAAI,CAAC,CAAC2W,EAAE,GAAG+xI,QAAQ,CAAC5pJ,CAAC,CAAC,CAAC6R,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGgG,EAAE,CAACmjB,CAAC,OAAO,CAACxiB,EAAE,GAAGoxI,QAAQ,CAAC5pJ,CAAC,CAAC,CAACg5C,EAAE,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGxgC,EAAE,CAACwiB,CAAC,CAAC,EACvG;MACF,IAAIh7B,CAAC,KAAK4pJ,QAAQ,CAAC3pJ,MAAM,GAAG,CAAC,EAC3B,OAAO,OAAO;IAClB;EACF;EACA,OAAOq7C,MAAM;AACf;AACA,SAAS0yG,gCAAgCA,CAAC1yG,MAAM,EAAE2yG,iBAAiB,EAAE;EACnE,MAAM11G,KAAK,GAAG01G,iBAAiB,KAAK,MAAM,GAAG,SAAS,GAAG3yG,MAAM;EAC/D,MAAMv7C,MAAM,GAAG;IACbs6C,MAAM,EAAG6zG,KAAK,IAAK;MACjB,IAAIC,KAAK;MACT,IAAI7yG,MAAM,KAAK,SAAS,EAAE;QACxB6yG,KAAK,GAAG;UAAE3yG,MAAM,EAAE;YAAEp3B,OAAO,EAAE;UAAM;QAAE,CAAC;MACxC,CAAC,MAAM,IAAIk3B,MAAM,KAAK,OAAO,EAAE;QAC7B6yG,KAAK,GAAG;UAAEhnJ,KAAK,EAAE;YAAEid,OAAO,EAAE;UAAK;QAAE,CAAC;MACtC,CAAC,MAAM;QACL+pI,KAAK,GAAG,CAAC,CAAC;MACZ;MACA,OAAOpvJ,cAAc,CAAC;QAAEw5C,KAAK,EAAEtf,kCAAkC,CAACsf,KAAK;MAAE,CAAC,EAAE41G,KAAK,CAAC;IACpF,CAAC;IACD7zG,IAAI,EAAG4zG,KAAK,IAAK;MACf,OAAO;QAAE31G,KAAK,EAAEtf,kCAAkC,CAACsf,KAAK;MAAE,CAAC;IAC7D;EACF,CAAC;EACD,IAAI01G,iBAAiB,KAAK,MAAM,EAAE;IAChC,OAAO;MACL5zG,MAAM,EAAGtlC,IAAI,IAAK;QAChB,MAAM47C,OAAO,GAAGrV,MAAM,KAAK,OAAO,GAAG,CAAC,GAAGvmC,IAAI,CAAC47C,OAAO;QACrD,OAAO5xD,cAAc,CAAC;UAAE4xD;QAAQ,CAAC,EAAE5wD,MAAM,CAACs6C,MAAM,CAACtlC,IAAI,CAAC,CAAC;MACzD,CAAC;MACDulC,IAAI,EAAGvlC,IAAI,IAAK;QACd,MAAM47C,OAAO,GAAGrV,MAAM,KAAK,SAAS,GAAG,CAAC,GAAG,CAAC;QAC5C,OAAOv8C,cAAc,CAAC;UAAE4xD;QAAQ,CAAC,EAAE5wD,MAAM,CAACu6C,IAAI,CAACvlC,IAAI,CAAC,CAAC;MACvD;IACF,CAAC;EACH;EACA,OAAOhV,MAAM;AACf;AACA,SAASquJ,2BAA2BA,CAAClD,OAAO,EAAEC,OAAO,EAAEvB,QAAQ,EAAEqE,iBAAiB,EAAE7nH,MAAM,EAAE;EAC1F,MAAMkV,MAAM,GAAGyyG,mBAAmB,CAAC7C,OAAO,EAAEC,OAAO,EAAEvB,QAAQ,CAAC;EAC9D,MAAMrD,aAAa,GAAGA,CAAC1+D,KAAK,EAAE9yE,IAAI,KAAK;IACrCqxB,MAAM,CAACwjH,QAAQ,EAAE;MAAEpX,IAAI,EAAE,CAAC;MAAEya,GAAG,EAAEplE;IAAM,CAAC,EAAE9yE,IAAI,CAAC;EACjD,CAAC;EACD,MAAMuxI,aAAa,GAAGA,CAACz+D,KAAK,EAAE9yE,IAAI,KAAK;IACrCqxB,MAAM,CAACwjH,QAAQ,EAAE;MAAEpX,IAAI,EAAE3qD;IAAM,CAAC,EAAE9yE,IAAI,CAAC;EACzC,CAAC;EACD,MAAMsxI,UAAU,GAAGA,CAACx+D,KAAK,EAAE9yE,IAAI,KAAK;IAClCqxB,MAAM,CAACwjH,QAAQ,EAAE;MAAEpX,IAAI,EAAE,CAAC;MAAEwa,EAAE,EAAEnlE;IAAM,CAAC,EAAE9yE,IAAI,CAAC;EAChD,CAAC;EACD,MAAMs5I,cAAc,GAAGL,gCAAgC,CAAC1yG,MAAM,EAAE2yG,iBAAiB,CAAC;EAClF,OAAO;IAAE3yG,MAAM;IAAEvmC,IAAI,EAAE;MAAEsxI,UAAU;MAAEC,aAAa;MAAEC;IAAc,CAAC;IAAE8H;EAAe,CAAC;AACvF;AACA,SAASC,wBAAwBA,CAACpD,OAAO,EAAEC,OAAO,EAAE3wI,KAAK,EAAE;EACzD,IAAIlT,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;EACd,MAAM02I,eAAe,GAAG,CAAC,CAACjnJ,EAAE,GAAG4jJ,OAAO,CAACE,MAAM,CAAClqJ,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGoG,EAAE,CAACuG,IAAI,MAAM,UAAU;EAC3F,MAAM2gJ,gBAAgB,GAAG,CAAC,CAAC52I,EAAE,GAAGuzI,OAAO,CAACC,MAAM,CAAClqJ,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG0W,EAAE,CAAC/J,IAAI,MAAM,UAAU;EAC5F,IAAI0gJ,eAAe,KAAKC,gBAAgB,EAAE;IACxC;EACF;EACA,MAAM;IAAEzuJ,MAAM,EAAE6pJ,QAAQ;IAAEmC,SAAS,EAAE7D;EAAQ,CAAC,GAAGqG,eAAe,GAAG5B,gBAAgB,CAACzB,OAAO,EAAEC,OAAO,EAAE3wI,KAAK,CAAC,GAAGixI,kBAAkB,CAACP,OAAO,EAAEC,OAAO,CAAC;EACnJ,IAAI7vG,MAAM,GAAG,SAAS;EACtB,IAAI6vG,OAAO,CAAC/mI,OAAO,IAAI,CAAC8mI,OAAO,CAAC9mI,OAAO,EAAE;IACvCk3B,MAAM,GAAG,SAAS;EACpB,CAAC,MAAM,IAAI,CAAC6vG,OAAO,CAAC/mI,OAAO,IAAI8mI,OAAO,CAAC9mI,OAAO,EAAE;IAC9Ck3B,MAAM,GAAG,OAAO;EAClB;EACA,IAAIsuG,QAAQ,KAAK,KAAK,CAAC,IAAI1B,OAAO,KAAK,KAAK,CAAC,EAAE;IAC7C;EACF;EACA,MAAMuG,SAAS,GAAG,CAAC,CAAC52I,EAAE,GAAG2C,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACwqE,OAAO,KAAK,IAAI,GAAGntE,EAAE,GAAG,IAAI,KAAKozI,aAAa,CAACC,OAAO,EAAEC,OAAO,CAAC,IAAI7vG,MAAM,KAAK,SAAS;EAChJ,MAAMozG,OAAO,GAAGN,2BAA2B,CAAClD,OAAO,EAAEC,OAAO,EAAEvB,QAAQ,EAAE,MAAM,EAAED,iBAAiB,CAAC;EAClG,MAAM/jI,MAAM,GAAGqiI,sBAAsB,CAACC,OAAO,EAAE5sG,MAAM,CAAC;EACtD,OAAOl8C,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE2vJ,OAAO,CAAC,EAAE;IAAE9oI,MAAM;IAAE6oI;EAAU,CAAC,CAAC;AAC1E;;AAEA;AACA,IAAIE,aAAa,GAAG,eAAgB,CAAEC,cAAc,IAAK;EACvDA,cAAc,CAACA,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM;EACnDA,cAAc,CAACA,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ;EACvDA,cAAc,CAACA,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ;EACvDA,cAAc,CAACA,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO;EACrD,OAAOA,cAAc;AACvB,CAAC,EAAED,aAAa,IAAI,CAAC,CAAC,CAAC;AACvB,SAASE,eAAeA,CAACxuG,OAAO,EAAE;EAChC,MAAM;IAAEyuG,MAAM;IAAEC;EAAc,CAAC,GAAG1uG,OAAO,CAAC2uG,QAAQ;EAClD,OAAO;IAAEjqI,GAAG,EAAE+pI,MAAM;IAAE7pI,MAAM,EAAE8pI;EAAc,CAAC;AAC/C;AACA,SAASE,UAAUA,CAACvwJ,GAAG,EAAEsiC,GAAG,EAAE8tH,MAAM,EAAE;EACpC,OAAO;IACL1D,MAAM,EAAEpqH,GAAG,CAACoqH,MAAM;IAClB3nB,QAAQ,EAAEqrB,MAAM,CAACpwJ,GAAG,CAAC;IACrB0lB,OAAO,EAAE4c,GAAG,CAAC5c;EACf,CAAC;AACH;AACA,SAAS8qI,oBAAoBA,CAAChE,OAAO,EAAEC,OAAO,EAAE3wI,KAAK,EAAE;EACrD,MAAM20I,SAAS,GAAGN,eAAe,CAAC1D,OAAO,CAAC;EAC1C,MAAMiE,SAAS,GAAGP,eAAe,CAAC3D,OAAO,CAAC;EAC1C,MAAMmE,QAAQ,GAAG;IAAEzC,UAAU,EAAE;EAAK,CAAC;EACrC,OAAO;IACL7nI,GAAG,EAAE4nI,gBAAgB,CACnBsC,UAAU,CAAC,KAAK,EAAE/D,OAAO,EAAEkE,SAAS,CAAC,EACrCH,UAAU,CAAC,KAAK,EAAE9D,OAAO,EAAEgE,SAAS,CAAC,EACrC30I,KAAK,EACL60I,QACF,CAAC;IACDpqI,MAAM,EAAE0nI,gBAAgB,CACtBsC,UAAU,CAAC,QAAQ,EAAE/D,OAAO,EAAEkE,SAAS,CAAC,EACxCH,UAAU,CAAC,QAAQ,EAAE9D,OAAO,EAAEgE,SAAS,CAAC,EACxC30I,KAAK,EACL60I,QACF;EACF,CAAC;AACH;AACA,SAASC,sBAAsBA,CAACpE,OAAO,EAAEC,OAAO,EAAE;EAChD,MAAMgE,SAAS,GAAGN,eAAe,CAAC1D,OAAO,CAAC;EAC1C,MAAMiE,SAAS,GAAGP,eAAe,CAAC3D,OAAO,CAAC;EAC1C,OAAO;IACLnmI,GAAG,EAAE0mI,kBAAkB,CAACwD,UAAU,CAAC,KAAK,EAAE/D,OAAO,EAAEkE,SAAS,CAAC,EAAEH,UAAU,CAAC,KAAK,EAAE9D,OAAO,EAAEgE,SAAS,CAAC,CAAC;IACrGlqI,MAAM,EAAEwmI,kBAAkB,CAACwD,UAAU,CAAC,QAAQ,EAAE/D,OAAO,EAAEkE,SAAS,CAAC,EAAEH,UAAU,CAAC,QAAQ,EAAE9D,OAAO,EAAEgE,SAAS,CAAC;EAC/G,CAAC;AACH;AACA,SAASI,wBAAwBA,CAACrE,OAAO,EAAEC,OAAO,EAAE3wI,KAAK,EAAE;EACzD,IAAIlT,EAAE,EAAEsQ,EAAE;EACV,MAAM22I,eAAe,GAAG,CAAC,CAACjnJ,EAAE,GAAG4jJ,OAAO,CAACE,MAAM,CAAClqJ,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGoG,EAAE,CAACuG,IAAI,MAAM,UAAU;EAC3F,MAAM2gJ,gBAAgB,GAAG,CAAC,CAAC52I,EAAE,GAAGuzI,OAAO,CAACC,MAAM,CAAClqJ,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG0W,EAAE,CAAC/J,IAAI,MAAM,UAAU;EAC5F,IAAI0gJ,eAAe,KAAKC,gBAAgB,EAAE;IACxC;EACF;EACA,IAAIlzG,MAAM,GAAG,SAAS;EACtB,IAAI6vG,OAAO,CAAC/mI,OAAO,IAAI,CAAC8mI,OAAO,CAAC9mI,OAAO,EAAE;IACvCk3B,MAAM,GAAG,SAAS;EACpB,CAAC,MAAM,IAAI,CAAC6vG,OAAO,CAAC/mI,OAAO,IAAI8mI,OAAO,CAAC9mI,OAAO,EAAE;IAC9Ck3B,MAAM,GAAG,OAAO;EAClB;EACA,MAAMk0G,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAIjB,eAAe,EAAE;MACnB,OAAO5B,gBAAgB,CAACzB,OAAO,EAAEC,OAAO,EAAE3wI,KAAK,EAAE;QAAEkxI,iBAAiB,EAAE,QAAQ;QAAEkB,UAAU,EAAE;MAAK,CAAC,CAAC;IACrG;IACA,OAAOnB,kBAAkB,CAACP,OAAO,EAAEC,OAAO,EAAE;MAAEO,iBAAiB,EAAE;IAAS,CAAC,CAAC;EAC9E,CAAC;EACD,MAAM+D,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAIlB,eAAe,EAAE;MACnB,OAAOW,oBAAoB,CAAChE,OAAO,EAAEC,OAAO,EAAE3wI,KAAK,CAAC;IACtD;IACA,OAAO80I,sBAAsB,CAACpE,OAAO,EAAEC,OAAO,CAAC;EACjD,CAAC;EACD,MAAM;IAAEY,SAAS,EAAE2D;EAAc,CAAC,GAAGF,kBAAkB,CAAC,CAAC;EACzD,MAAM;IAAEzqI,GAAG;IAAEE;EAAO,CAAC,GAAGwqI,gBAAgB,CAAC,CAAC;EAC1C,IAAIC,aAAa,KAAK,KAAK,CAAC,IAAI3qI,GAAG,CAAChlB,MAAM,KAAK,KAAK,CAAC,IAAIklB,MAAM,CAACllB,MAAM,KAAK,KAAK,CAAC,EAAE;IACjF;EACF;EACA,MAAM6pJ,QAAQ,GAAG,CAAC,GAAG7kI,GAAG,CAAChlB,MAAM,EAAE,GAAGklB,MAAM,CAACllB,MAAM,CAACmU,OAAO,CAAC,CAAC,CAAC;EAC5D,MAAMy7I,YAAY,GAAGxE,OAAO,CAACwE,YAAY,GAAGzE,OAAO,CAACyE,YAAY,GAAG,KAAK;EACxE,MAAMC,QAAQ,GAAGD,YAAY,GAAG,MAAM,GAAG,MAAM;EAC/C,MAAM3rI,IAAI,GAAGoqI,2BAA2B,CAAClD,OAAO,EAAEC,OAAO,EAAEvB,QAAQ,EAAEgG,QAAQ,EAAEjG,iBAAiB,CAAC;EACjG,MAAM/jI,MAAM,GAAGqiI,sBAAsB,CAACyH,aAAa,EAAEp0G,MAAM,CAAC;EAC5D,OAAO;IAAEA,MAAM,EAAEt3B,IAAI,CAACs3B,MAAM;IAAEt3B,IAAI;IAAE4B;EAAO,CAAC;AAC9C;;AAEA;AACA,IAAIiqI,UAAU,GAAG,cAAc9qB,eAAe,CAAC;EAC7Cv+H,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAAC;MACJA,SAAS;MACTwsC,aAAa,EAAE0iB,gCAAgC;MAC/CziB,cAAc,EAAE0iB,iCAAiC;MACjDM,cAAc,EAAE,CAAC;MACjBG,yBAAyB,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;MACnCF,UAAU,EAAE,IAAI;MAChBI,gCAAgC,EAAE,KAAK;MACvCvjB,SAAS,EAAE,CAAC,CAAC,CAAC,kCAAkC,CAAC,CAAC,wBAAwB;MAC1EyjB,iBAAiB,EAAE;QACjBxwH,IAAI,EAAEu1I,gBAAgB,CAAC;UAAEvmC,UAAU,EAAEA,CAAA,KAAM,IAAI,CAACA,UAAU,CAAC;QAAE,CAAC,CAAC;QAC/D1gG,KAAK,EAAEyjI,YAAY;QACnBlhI,MAAM,EAAEA,CAAC1K,IAAI,EAAEgpB,KAAK,KAAKnlC,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAEgpJ,aAAa,CAAC7sI,IAAI,CAAC,CAAC,EAAE8sI,qBAAqB,CAAC9sI,IAAI,EAAEgpB,KAAK,CAAC;MACrH;IACF,CAAC,CAAC;IACF,IAAI,CAAC7qB,UAAU,GAAG,IAAIiuI,oBAAoB,CAAC,CAAC;EAC9C;EACA74C,WAAWA,CAAC4iB,cAAc,EAAE;IAC1B,OAAOhxH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE;MACV,IAAI,IAAI,CAACyE,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAChD,UAAU,CAACQ,OAAO,CAAC,CAAC,EAAE;QACnD;MACF;MACA,MAAM;QAAEwC,IAAI;QAAE+H,OAAO;QAAE4S,cAAc,EAAE;UAAEF,UAAU,GAAG,IAAI,CAACwM,EAAE;UAAEpM,UAAU,GAAG;QAAE,CAAC,GAAG,CAAC;MAAE,CAAC,GAAG,IAAI;MAC7F,MAAM;QAAEG,IAAI;QAAEwtG,IAAI;QAAE4iB,kBAAkB;QAAEqI;MAAa,CAAC,GAAG,IAAI,CAACz2I,UAAU;MACxE,MAAMmvH,gBAAgB,GAAG,CAAC,IAAI,CAACxnG,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;MAC/D,MAAMilD,MAAM,GAAG,CAACp7H,EAAE,GAAG,IAAI,CAACuR,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvR,EAAE,CAAC87D,KAAK;MACxE,MAAMu/D,MAAM,GAAG,CAAC/qH,EAAE,GAAG,IAAI,CAACiB,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjB,EAAE,CAACwrD,KAAK;MACxE,MAAM;QAAEw/D,aAAa;QAAEE,UAAU;QAAEC;MAAW,CAAC,GAAG,IAAI,CAACN,mBAAmB,CAAC;QAAEC,MAAM;QAAEC;MAAO,CAAC,CAAC;MAC9F,MAAMpzB,GAAG,GAAG,CACV,cAAcz4E,UAAU,UAAU,EAClC,cAAcA,UAAU,mBAAmB,EAC3C,cAAcA,UAAU,eAAe,EACvC,cAAcA,UAAU,wBAAwB,EAChD,cAAcA,UAAU,iBAAiB,CAC1C;MACD,MAAMi5H,UAAU,GAAG,EAAE;MACrB,IAAI39I,SAAS,CAAC09I,YAAY,CAAC,EAAE;QAC3BC,UAAU,CAACpoJ,IAAI,CAACk2G,gBAAgB,CAAC,CAACtO,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,CAAC,EAAEugD,YAAY,EAAE,OAAO,CAAC,CAAC;QAClFC,UAAU,CAACpoJ,IAAI,CAACk2G,gBAAgB,CAAC,CAACtO,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,CAAC,EAAEugD,YAAY,EAAE,OAAO,CAAC,CAAC;MAC5E;MACA,IAAI,CAACltB,aAAa,IAAI4F,gBAAgB,IAAI,IAAI,CAACl6B,aAAa,EAAE;QAC5DyhD,UAAU,CAACpoJ,IAAI,CAACyyG,IAAI,CAAC,IAAI,CAAC9L,aAAa,CAAC,CAAC;MAC3C;MACA,IAAIk6B,gBAAgB,EAAE;QACpBunB,UAAU,CAACpoJ,IAAI,CAAC42G,mBAAmB,CAAC,CAAC,CAAC;MACxC;MACA,MAAMt3F,MAAM,GAAG;QAAE6sF,YAAY,EAAE;MAAK,CAAC;MACrC,IAAI2zC,kBAAkB,IAAIvwH,UAAU,GAAG,CAAC,EAAE;QACxCjQ,MAAM,CAAC6sF,YAAY,GAAG,CAAC;MACzB;MACA,IAAI,CAAC1vF,OAAO,EAAE;QACZ6C,MAAM,CAACysF,UAAU,GAAG,CAAC;MACvB;MACA,MAAM,IAAI,CAACyvB,gBAAgB,CAAC9R,cAAc,EAAEh1G,IAAI,EAAE;QAChD0/B,KAAK,EAAE,CACLykE,WAAW,CAACnpF,IAAI,EAAEyrG,UAAU,EAAE;UAAEx/F,EAAE,EAAE;QAAS,CAAC,CAAC,EAC/Co9E,aAAa,CAACmkB,IAAI,EAAE9B,UAAU,EAAEhkI,cAAc,CAAC;UAAEukC,EAAE,EAAE;QAAY,CAAC,EAAErc,MAAM,CAAC,CAAC,EAC5E,GAAG85F,8BAA8B,CAC/B8jB,IAAI,EACJ,QAAQ,EACR,SAAS,EACTzlI,aAAa,CAACL,cAAc,CAAC;UAC3BukC,EAAE,EAAE;QACN,CAAC,EAAErc,MAAM,CAAC,EAAE;UACVsQ,OAAO,EAAEg4E,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC,EACFwzB,UACF,CAAC,EACD,GAAGhiB,8BAA8B,CAC/B8jB,IAAI,EACJ,iBAAiB,EACjB,SAAS,EACTzlI,aAAa,CAACL,cAAc,CAAC;UAC3BukC,EAAE,EAAE;QACN,CAAC,EAAErc,MAAM,CAAC,EAAE;UACVsQ,OAAO,EAAEg4E,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC,EACFwzB,UACF,CAAC,EACD,GAAGhiB,8BAA8B,CAC/B8jB,IAAI,EACJ,QAAQ,EACR,MAAM,EACNzlI,aAAa,CAACL,cAAc,CAAC;UAC3BukC,EAAE,EAAE;QACN,CAAC,EAAErc,MAAM,CAAC,EAAE;UACVsQ,OAAO,EAAEg4E,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC,EACFwzB,UACF,CAAC,EACD,GAAGhiB,8BAA8B,CAC/B8jB,IAAI,EACJ,iBAAiB,EACjB,MAAM,EACNzlI,aAAa,CAACL,cAAc,CAAC;UAC3BukC,EAAE,EAAE;QACN,CAAC,EAAErc,MAAM,CAAC,EAAE;UACVsQ,OAAO,EAAEg4E,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC,EACFwzB,UACF,CAAC,EACD,GAAGhiB,8BAA8B,CAC/B8jB,IAAI,EACJ,QAAQ,EACR,SAAS,EACTzlI,aAAa,CAACL,cAAc,CAAC;UAC3BukC,EAAE,EAAE;QACN,CAAC,EAAErc,MAAM,CAAC,EAAE;UACVsQ,OAAO,EAAEg4E,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC,EACFwzB,UACF,CAAC,EACD,GAAGgtB,UAAU,CACd;QACDrhD,WAAW,EAAE,IAAI;QACjB+G,WAAW,EAAE;MACf,CAAC,CAAC;MACF,IAAI,CAACx7B,cAAc,CAACxT,UAAU,CAAC,YAAY,CAAC;IAC9C,CAAC,CAAC;EACJ;EACAk9C,eAAeA,CAACpgD,SAAS,EAAE;IACzB,MAAM;MAAE+qC,aAAa;MAAEyG,SAAS;MAAEl8F;IAAK,CAAC,GAAG,IAAI;IAC/C,IAAI,CAACy1F,aAAa,IAAI,CAACyG,SAAS,IAAIzG,aAAa,CAACjyF,IAAI,CAACpc,MAAM,KAAK,CAAC,EACjE,OAAO,EAAE;IACX,MAAM6pI,KAAK,GAAGjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC/B,MAAMkxH,KAAK,GAAGlxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC/B,MAAMm3I,MAAM,GAAGj7C,SAAS,CAACjH,2BAA2B,CAAC,IAAI,EAAE,QAAQ,CAAC;IACpE,MAAMt+F,IAAI,GAAGulG,SAAS,CAAChvD,SAAS,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAEuoD,aAAa,CAAC;IACtE,MAAM2hD,OAAO,GAAGl7C,SAAS,CAAChvD,SAAS,CAAC,IAAI,EAAE,WAAW,EAAE,OAAO,EAAEuoD,aAAa,CAAC;IAC9E,IAAI/qC,SAAS,KAAK,GAAG,CAAC,SAAS;MAC7B,IAAI,CAACysF,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACr3H,GAAG,CAAC9qB,IAAI,MAAM,KAAK,IAAImiJ,MAAM,CAACr3H,GAAG,CAAC+5E,SAAS,KAAK,UAAU,EAAE;QAChG,OAAOljG,IAAI;MACb;MACA,OAAOm9F,gBAAgB,CAACz/E,MAAM,CAAC1d,IAAI,CAAC,EAAEs6H,KAAK,CAAC;IAC9C,CAAC,MAAM,IAAIC,KAAK,YAAYoH,OAAO,IAAIpH,KAAK,YAAY0H,QAAQ,EAAE;MAChE,OAAO9kC,gBAAgB,CAACsjD,OAAO,EAAElmB,KAAK,CAAC;IACzC,CAAC,MAAM;MACL,MAAMmmB,YAAY,GAAG,CAACD,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,OAAO,CAAC,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,OAAO,CAAC,CAAC,CAAC,CAAC;MACvF,OAAOtjD,gBAAgB,CAACujD,YAAY,EAAEnmB,KAAK,CAAC;IAC9C;EACF;EACA3lE,cAAcA,CAAA,EAAG;IACf,OAAO/jE,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE;MACN,MAAM;QAAEuR,IAAI;QAAEwD,IAAI;QAAEiyF,aAAa,EAAE;UAAEjyF,IAAI,EAAE8zI;QAAY,CAAC,GAAG,CAAC,CAAC;QAAEp7C;MAAU,CAAC,GAAG,IAAI;MACjF,MAAM+0B,KAAK,GAAGjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MAC/B,MAAMkxH,KAAK,GAAGlxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MAC/B,IAAI,CAACixH,KAAK,IAAI,CAACC,KAAK,IAAI,CAAC1tH,IAAI,IAAI,CAAC04F,SAAS,IAAI,CAAC,IAAI,CAAC17F,UAAU,CAACQ,OAAO,CAAC,CAAC,EAAE;QACzE;MACF;MACA,MAAM;QACJgrH,IAAI;QACJxtG,IAAI;QACJzR,MAAM;QACNvC,KAAK;QACLW,IAAI,EAAEosI,UAAU;QAChBvsI,MAAM,EAAEwsI,YAAY;QACpB5I;MACF,CAAC,GAAG,IAAI,CAACpuI,UAAU;MACnB,MAAM;QAAE+pD,KAAK,EAAEs/D;MAAO,CAAC,GAAGoH,KAAK;MAC/B,MAAM;QAAE1mE,KAAK,EAAEu/D;MAAO,CAAC,GAAGoH,KAAK;MAC/B,MAAM;QAAElH;MAAc,CAAC,GAAG,IAAI,CAACJ,mBAAmB,CAAC;QAAEC,MAAM;QAAEC;MAAO,CAAC,CAAC;MACtE,MAAMnrG,OAAO,GAAG,CAAC,CAAClwB,EAAE,GAAGo7H,MAAM,CAACvjF,SAAS,KAAK,IAAI,GAAG73C,EAAE,GAAG,CAAC,IAAI,CAAC;MAC9D,MAAM+mG,IAAI,GAAG0G,SAAS,CAAC7G,6BAA6B,CAAC,IAAI,EAAE,CACzD,aAAa,EACb,WAAW,EACX,WAAW,EACX,qBAAqB,EACrB,mBAAmB,EACnB,kBAAkB,CACnB,CAAC;MACF,MAAMoiD,eAAe,GAAIC,UAAU,IAAKnxJ,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEwxJ,UAAU,CAAC,EAAE;QACpF33F,KAAK,EAAEx5D,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEwxJ,UAAU,CAAC33F,KAAK,CAAC,EAAE;UAAE/B,MAAM,EAAE;QAAK,CAAC;MAC7E,CAAC,CAAC;MACF,MAAM25F,qBAAqB,GAAGA,CAACnI,MAAM,EAAEoI,QAAQ,EAAEnuF,IAAI,KAAK;QACxD,MAAMphE,CAAC,GAAGwhI,MAAM,CAAC7jF,OAAO,CAACwpG,MAAM,CAAC,GAAG7wH,OAAO;QAC1C,MAAMk5H,eAAe,GAAG/tB,MAAM,CAAC9jF,OAAO,CAAC4xG,QAAQ,CAAC;QAChD,MAAME,eAAe,GAAGhuB,MAAM,CAAC9jF,OAAO,CAACyjB,IAAI,CAAC;QAC5C,OAAO,CACL;UAAE1J,KAAK,EAAE;YAAE13D,CAAC;YAAE85B,CAAC,EAAE21H;UAAgB,CAAC;UAAE9E,MAAM,EAAEvpF,IAAI;UAAE+lF;QAAO,CAAC,EAC1D;UAAEzvF,KAAK,EAAE;YAAE13D,CAAC;YAAE85B,CAAC,EAAE01H;UAAgB,CAAC;UAAE7E,MAAM,EAAE4E,QAAQ;UAAEpI;QAAO,CAAC,CAC/D;MACH,CAAC;MACD,MAAMuI,sBAAsB,GAAGA,CAACC,MAAM,EAAEvuF,IAAI,EAAEwuF,SAAS,KAAK;QAC1D,IAAIC,KAAK;QACT,IAAI3+I,SAAS,CAAC,IAAI,CAACiH,UAAU,CAACy2I,YAAY,CAAC,GAAGjtB,aAAa,IAAI9iE,YAAY,CAAC+wF,SAAS,CAAC,GAAG,CAACp+I,KAAK,CAACo+I,SAAS,CAAC,EAAE;UAC1GC,KAAK,GAAGzuF,IAAI;QACd;QACA,OAAO;UACLphE,CAAC,EAAEwhI,MAAM,CAAC7jF,OAAO,CAACgyG,MAAM,CAAC,GAAGr5H,OAAO;UACnCwD,CAAC,EAAE2nG,MAAM,CAAC9jF,OAAO,CAACkyG,KAAK,CAAC;UACxBnsI,IAAI,EAAEgB,MAAM,CAAChB;QACf,CAAC;MACH,CAAC;MACD,MAAMu7E,MAAM,GAAG0kC,IAAI;MACnB,MAAMhjD,SAAS,GAAG,EAAE;MACpB,MAAMmvE,UAAU,GAAG,EAAE;MACrB,MAAM;QAAE1mD;MAAsB,CAAC,GAAG,IAAI,CAACtpE,GAAG,CAAC8qE,kBAAkB,CAAC1B,wBAAwB,CAAC,IAAI,CAAC;MAC5F,MAAM/pD,OAAO,GAAG;QACd8/C,MAAM;QACN6uD,QAAQ,EAAE;UAAE7uD,MAAM;UAAE2uD,MAAM,EAAE,EAAE;UAAEC,aAAa,EAAE;QAAG,CAAC;QACnDkC,UAAU,EAAE;UAAE9wD,MAAM;UAAE2uD,MAAM,EAAE;QAAG,CAAC;QAClCjtE,SAAS;QACT4hD,QAAQ,EAAEutB,UAAU;QACpB5F,MAAM,EAAE,IAAI,CAACvf,gBAAgB,CAAC,CAAC;QAC/BznH,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBurI,YAAY,EAAErlD,qBAAqB,GAAG;MACxC,CAAC;MACD,MAAM4mD,UAAU,GAAG7wG,OAAO,CAAC2uG,QAAQ,CAACF,MAAM;MAC1C,MAAMqC,iBAAiB,GAAG9wG,OAAO,CAAC2uG,QAAQ,CAACD,aAAa;MACxD,MAAMqC,YAAY,GAAG/wG,OAAO,CAAC4wG,UAAU,CAACnC,MAAM;MAC9C,IAAIt+C,QAAQ,GAAG,CAAC,CAAC;MACjB,IAAI6gD,UAAU;MACd,IAAIC,UAAU,GAAG,CAAClkI,QAAQ;MAC1B+iI,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACp3I,OAAO,CAAEw4I,UAAU,IAAK;QACjE,MAAM;UACJ/hJ,IAAI;UACJA,IAAI,EAAE,CAACqhJ,MAAM,CAAC;UACd3sH,KAAK,EAAEstH,UAAU;UACjB39I,MAAM,EAAE49I;QACV,CAAC,GAAGF,UAAU;QACdE,WAAW,CAAC14I,OAAO,CAAC,CAAClF,MAAM,EAAEg+F,QAAQ,KAAK;UACxC,IAAIl8E,GAAG,EAAE/d,EAAE,EAAEC,EAAE;UACf24F,QAAQ,EAAE;UACV,MAAMkhD,WAAW,GAAGF,UAAU,CAAC3/C,QAAQ,CAAC;UACxC,MAAM8/C,UAAU,GAAG58C,SAAS,CAAC3G,8BAA8B,CAACC,IAAI,EAAE;YAAE7+F,IAAI;YAAEqE;UAAO,CAAC,CAAC;UACnF,MAAM;YAAE+9I,SAAS,EAAEC,MAAM;YAAEC;UAAiB,CAAC,GAAGH,UAAU;UAC1D,IAAI;YAAEI,WAAW;YAAEC,SAAS;YAAEC,mBAAmB;YAAEC;UAAkB,CAAC,GAAGP,UAAU;UACnF,MAAMQ,UAAU,GAAGN,MAAM,IAAI,IAAI;UACjC,MAAMj5F,KAAK,GAAGg4F,sBAAsB,CAACC,MAAM,EAAE,CAACiB,gBAAgB,EAAED,MAAM,CAAC;UACvE,IAAIM,UAAU,IAAIvsI,MAAM,EAAE;YACxBorI,UAAU,CAACrpJ,IAAI,CAAC;cACdsG,KAAK,EAAEuiG,QAAQ;cACf14F,MAAM,EAAE,IAAI;cACZqoF,MAAM;cACNj8D,KAAK,EAAEwtH,WAAW;cAClBpoD,QAAQ,EAAE;gBAAEpoG,CAAC,EAAE03D,KAAK,CAAC13D,CAAC;gBAAE85B,CAAC,EAAE49B,KAAK,CAAC59B;cAAE,CAAC;cACpCo3H,eAAe,EAAEJ,SAAS;cAC1BnG,MAAM,EAAEgG,MAAM;cACdxJ,MAAM,EAAEwI,MAAM;cACdhsB,IAAI;cACJxtG,IAAI;cACJuhC,KAAK;cACL50C,IAAI,EAAE,CAAC2R,GAAG,GAAG/P,MAAM,CAAC5B,IAAI,KAAK,IAAI,GAAG2R,GAAG,GAAGy6H,UAAU;cACpDvsI,MAAM,EAAE,CAACjM,EAAE,GAAGgO,MAAM,CAAC/B,MAAM,KAAK,IAAI,GAAGjM,EAAE,GAAGy4I,YAAY;cACxDnsI,WAAW,EAAE,CAACrM,EAAE,GAAG+N,MAAM,CAAC1B,WAAW,KAAK,IAAI,GAAGrM,EAAE,GAAG,IAAI,CAACqsG,cAAc,CAAC,IAAI,CAAC7qG,UAAU,CAAC6K,WAAW;YACvG,CAAC,CAAC;UACJ;UACA,IAAIiuI,UAAU,IAAI9uI,KAAK,EAAE;YACvB,MAAMs6H,SAAS,GAAG,IAAI,CAACx4B,YAAY,CACjC9hG,KAAK,EACL;cACE1kB,KAAK,EAAEkzJ,MAAM;cACb3tH,KAAK,EAAEwtH,WAAW;cAClBr6H,IAAI;cACJwtG,IAAI;cACJ0iB,KAAK,EAAE,IAAI,CAACluI,UAAU,CAACkuI,KAAK;cAC5B8K,KAAK,EAAE,IAAI,CAACh5I,UAAU,CAACg5I;YACzB,CAAC,EACA1zJ,KAAK,IAAKwU,cAAc,CAACxU,KAAK,CAAC,GAAGA,KAAK,CAACwyB,OAAO,CAAC,CAAC,CAAC,GAAG2sB,MAAM,CAACn/C,KAAK,CACpE,CAAC;YACDkjF,SAAS,CAACl6E,IAAI,CAAC;cACbsG,KAAK,EAAEuiG,QAAQ;cACf14F,MAAM,EAAE,IAAI;cACZqoF,MAAM,EAAE0kC,IAAI;cACZ3gG,KAAK,EAAEwtH,WAAW;cAClBxwJ,CAAC,EAAE03D,KAAK,CAAC13D,CAAC;cACV85B,CAAC,EAAE49B,KAAK,CAAC59B,CAAC;cACV3X,KAAK,EAAEs6H,SAAS,GAAG;gBACjB56H,IAAI,EAAE46H,SAAS;gBACfzgF,SAAS,EAAE75C,KAAK,CAAC65C,SAAS;gBAC1Bj6C,UAAU,EAAEI,KAAK,CAACJ,UAAU;gBAC5BC,QAAQ,EAAEG,KAAK,CAACH,QAAQ;gBACxBC,UAAU,EAAEE,KAAK,CAACF,UAAU;gBAC5B00C,SAAS,EAAE,QAAQ;gBACnBC,YAAY,EAAE,QAAQ;gBACtB9zC,IAAI,EAAEX,KAAK,CAACD;cACd,CAAC,GAAG,KAAK;YACX,CAAC,CAAC;UACJ;UACA,MAAMkvI,MAAM,GAAGjB,UAAU,IAAI,IAAI,IAAIR,MAAM,IAAI,IAAI;UACnD,MAAM0B,MAAM,GAAGjB,UAAU,IAAI,IAAI,IAAIa,UAAU;UAC/C,IAAI,CAACI,MAAM,EAAE;YACXR,WAAW,GAAGA,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAG,CAAC;YACnDC,SAAS,GAAGD,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAG,CAAC;YACjDE,mBAAmB,GAAGA,mBAAmB,IAAI,IAAI,GAAGA,mBAAmB,GAAG,CAAC;YAC3EC,iBAAiB,GAAGD,mBAAmB,IAAI,IAAI,GAAGA,mBAAmB,GAAG,CAAC;UAC3E;UACA,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGjC,qBAAqB,CAACa,UAAU,EAAEY,mBAAmB,EAAEC,iBAAiB,CAAC;UACvG,MAAM,CAACntI,GAAG,EAAEE,MAAM,CAAC,GAAGurI,qBAAqB,CAACK,MAAM,EAAEkB,WAAW,EAAEC,SAAS,CAAC;UAC3E,IAAIM,MAAM,KAAK,CAAC7K,kBAAkB,IAAI8K,MAAM,CAAC,EAAE;YAC7CrB,UAAU,CAACvpJ,IAAI,CAAC6qJ,OAAO,EAAEztI,GAAG,CAAC;YAC7BosI,iBAAiB,CAACxpJ,IAAI,CAAC8qJ,UAAU,EAAExtI,MAAM,CAAC;UAC5C;UACA,IAAIstI,MAAM,IAAI/hD,QAAQ,GAAG,CAAC,EAAE;YAC1B4gD,YAAY,CAACzpJ,IAAI,CAAC2oJ,eAAe,CAACkC,OAAO,CAAC,EAAEztI,GAAG,CAAC;UAClD;UACAssI,UAAU,GAAGR,MAAM;UACnBS,UAAU,GAAGO,MAAM;QACrB,CAAC,CAAC;MACJ,CAAC,CAAC;MACF,IAAIT,YAAY,CAACnxJ,MAAM,GAAG,CAAC,EAAE;QAC3BmxJ,YAAY,CAAC,CAAC,CAAC,GAAGd,eAAe,CAACc,YAAY,CAAC,CAAC,CAAC,CAAC;MACpD;MACA,OAAO/wG,OAAO;IAChB,CAAC,CAAC;EACJ;EACAsnF,sBAAsBA,CAAA,EAAG;IACvB,OAAO,IAAI,CAACtuH,UAAU,CAACuM,MAAM,CAACqZ,OAAO,CAAC,CAAC;EACzC;EACA2mG,aAAaA,CAAA,EAAG;IACd,MAAM;MAAEjhH;IAAM,CAAC,GAAG,IAAI,CAACtL,UAAU,CAACuM,MAAM;IACxC,MAAMwiH,WAAW,GAAG7F,SAAS,CAAC59G,KAAK,CAAC;IACpC,OAAO,IAAIyjH,WAAW,CAAC,CAAC;EAC1B;EACAS,eAAeA,CAAC7tH,IAAI,EAAE;IACpB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEswD,OAAO;QAAEvsC,OAAO;QAAEokH;MAAiB,CAAC,GAAGxtH,IAAI;MACnD,MAAM,CAACgJ,IAAI,EAAEH,MAAM,CAAC,GAAG7I,IAAI,CAACg1E,KAAK;MACjC,MAAM9rE,WAAW,GAAG,IAAI,CAACggG,cAAc,CAAC,IAAI,CAAC7qG,UAAU,CAAC6K,WAAW,CAAC;MACpEL,MAAM,CAACohB,aAAa,CAAC;QACnB/B,GAAG,EAAE,CAAC,CAAC;QACPlf,IAAI,EAAE,KAAK,CAAC;QACZwwC,QAAQ,EAAE3wC,MAAM,CAAC0wC,OAAO,GAAG,OAAO;QAClCtwB,aAAa,EAAE,CAAC,CAAC;QACjBpgB,MAAM,EAAE,IAAI,CAACxK,UAAU,CAACwK,MAAM;QAC9BK,WAAW;QACXkwC,aAAa,EAAE,IAAI,CAAC/6C,UAAU,CAAC+6C,aAAa;QAC5CtwC,QAAQ,EAAE,IAAI,CAACzK,UAAU,CAACyK,QAAQ;QAClCwwC,cAAc,EAAE,IAAI,CAACj7C,UAAU,CAACi7C,cAAc;QAC9C3D,OAAO;QACPvsC;MACF,CAAC,CAAC;MACFJ,IAAI,CAACihB,aAAa,CAAC;QACjB/B,GAAG,EAAE,CAAC,CAAC;QACPrf,MAAM,EAAE,KAAK,CAAC;QACd2wC,QAAQ,EAAE,OAAO;QACjBvwB,aAAa,EAAE,CAAC,CAAC;QACjBjgB,IAAI,EAAE,IAAI,CAAC3K,UAAU,CAAC2K,IAAI;QAC1BC,WAAW,EAAE,IAAI,CAAC5K,UAAU,CAAC4K,WAAW;QACxCH,QAAQ,EAAE,IAAI,CAACzK,UAAU,CAACyK,QAAQ;QAClCwwC,cAAc,EAAE,IAAI,CAACj7C,UAAU,CAACi7C,cAAc;QAC9CF,aAAa,EAAE,IAAI,CAAC/6C,UAAU,CAAC+6C,aAAa;QAC5CK,UAAU,EAAE,IAAI,CAACp7C,UAAU,CAACmuI,MAAM;QAClC72F,OAAO;QACPvsC,OAAO,EAAEA,OAAO,IAAIokH,gBAAgB;QACpCtkH;MACF,CAAC,CAAC;MACFsmI,cAAc,CAAC,IAAI,EAAE3mI,MAAM,CAAC;MAC5B2mI,cAAc,CAAC,IAAI,EAAExmI,IAAI,CAAC;IAC5B,CAAC,CAAC;EACJ;EACAgkH,WAAWA,CAAChtH,IAAI,EAAE;IAChB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAI,CAACqyJ,eAAe,CAAC13I,IAAI,CAACg1E,KAAK,EAAEh1E,IAAI,CAAC+sH,WAAW,CAAC;IACpD,CAAC,CAAC;EACJ;EACA2qB,eAAeA,CAAC1iE,KAAK,EAAE+3C,WAAW,EAAE;IAClC,IAAI,CAAC4qB,cAAc,CAAC3iE,KAAK,EAAE+3C,WAAW,CAAC;IACvC,IAAI,CAAC6qB,gBAAgB,CAAC5iE,KAAK,EAAE+3C,WAAW,CAAC;EAC3C;EACA4qB,cAAcA,CAAC3iE,KAAK,EAAE+3C,WAAW,EAAE;IACjC,MAAM;MAAEinB;IAAS,CAAC,GAAGjnB,WAAW;IAChC,MAAM,CAAC/jH,IAAI,CAAC,GAAGgsE,KAAK;IACpB,MAAM;MAAEj7E,IAAI,EAAE89I;IAAS,CAAC,GAAG7uI,IAAI;IAC/B6uI,QAAQ,CAAC3uJ,KAAK,CAAC,IAAI,CAAC;IACpB,IAAI4uJ,SAAS;IACb,KAAK,MAAM;MAAEl6F;IAAM,CAAC,IAAIx0D,OAAO,CAAC4qJ,QAAQ,CAACF,MAAM,EAAEvqJ,mBAAmB,CAACyqJ,QAAQ,CAACD,aAAa,CAAC,CAAC,EAAE;MAC7F,IAAIn2F,KAAK,CAAC/B,MAAM,EAAE;QAChBg8F,QAAQ,CAACh8F,MAAM,CAAC+B,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;MACnC,CAAC,MAAM,IAAI,CAAC83H,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAAC93H,CAAC,MAAM49B,KAAK,CAAC59B,CAAC,EAAE;QACjE,IAAI83H,SAAS,EAAE;UACbD,QAAQ,CAAC/7F,MAAM,CAACg8F,SAAS,CAAC5xJ,CAAC,EAAE4xJ,SAAS,CAAC93H,CAAC,CAAC;QAC3C;QACA63H,QAAQ,CAAC/7F,MAAM,CAAC8B,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;MACnC;MACA83H,SAAS,GAAGl6F,KAAK;IACnB;IACA,IAAIk6F,SAAS,EAAE;MACbD,QAAQ,CAAC/7F,MAAM,CAACg8F,SAAS,CAAC5xJ,CAAC,EAAE4xJ,SAAS,CAAC93H,CAAC,CAAC;IAC3C;IACA63H,QAAQ,CAAC97F,SAAS,CAAC,CAAC;IACpB/yC,IAAI,CAAC+hG,cAAc,CAAC,CAAC;EACvB;EACA6sC,gBAAgBA,CAAC5iE,KAAK,EAAE+3C,WAAW,EAAE;IACnC,MAAM;MAAEkpB;IAAW,CAAC,GAAGlpB,WAAW;IAClC,MAAM,GAAGlkH,MAAM,CAAC,GAAGmsE,KAAK;IACxB,MAAM;MAAEj7E,IAAI,EAAEg+I;IAAW,CAAC,GAAGlvI,MAAM;IACnCkvI,UAAU,CAAC7uJ,KAAK,CAAC,IAAI,CAAC;IACtB,KAAK,MAAM;MAAE00D;IAAM,CAAC,IAAIq4F,UAAU,CAACnC,MAAM,EAAE;MACzC,IAAIl2F,KAAK,CAAC/B,MAAM,EAAE;QAChBk8F,UAAU,CAACl8F,MAAM,CAAC+B,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;MACrC,CAAC,MAAM;QACL+3H,UAAU,CAACj8F,MAAM,CAAC8B,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;MACrC;IACF;IACAnX,MAAM,CAACkiG,cAAc,CAAC,CAAC;EACzB;EACAoiB,qBAAqBA,CAACntH,IAAI,EAAE;IAC1B,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEojI,QAAQ;QAAEyC;MAAgB,CAAC,GAAGlrH,IAAI;MAC1C,IAAI,IAAI,CAAC3B,UAAU,CAACuM,MAAM,CAACqZ,OAAO,CAAC,CAAC,EAAE;QACpCinG,eAAe,CAAChiI,KAAK,CAAC,CAAC;QACvBgiI,eAAe,CAAC9pF,OAAO,CAAC,CAAC;MAC3B;MACA,OAAO8pF,eAAe,CAAC/uF,MAAM,CAAC,IAAI,CAAC99B,UAAU,CAACuM,MAAM,CAAC9C,OAAO,GAAG2gH,QAAQ,GAAG,EAAE,CAAC;IAC/E,CAAC,CAAC;EACJ;EACAgF,iBAAiBA,CAACztH,IAAI,EAAE;IACtB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAE6lI,eAAe;QAAEwC,WAAW,EAAEsqB;MAAY,CAAC,GAAGh4I,IAAI;MAC1D,MAAM;QAAEqc,IAAI;QAAEwtG,IAAI;QAAEj/G,MAAM;QAAE5B,IAAI;QAAEH,MAAM;QAAEK,WAAW;QAAED,WAAW;QAAEmwC,aAAa;QAAE9vC;MAAe,CAAC,GAAG,IAAI,CAACjL,UAAU;MACrH,MAAM45I,SAAS,GAAGh/I,aAAa,CAAC++I,WAAW,IAAI1uI,cAAc,CAAC/P,IAAI,EAAEqR,MAAM,CAAC2/F,QAAQ,CAAC,CAAC,EAAE;QACrFvhG,IAAI;QACJH,MAAM;QACNK,WAAW;QACXD,WAAW;QACXmwC;MACF,CAAC,CAAC;MACF8xE,eAAe,CAACl5D,IAAI,CAAC,CAAC9xD,IAAI,EAAEgpB,KAAK,KAAK;QACpC,IAAI,CAACwhF,iBAAiB,CAACxqG,IAAI,EAAE0K,MAAM,EAAE;UAAEse,KAAK;UAAE8uH,WAAW;UAAE37H,IAAI;UAAEwtG;QAAK,CAAC,EAAEouB,SAAS,CAAC;MACrF,CAAC,CAAC;MACF,IAAI,CAACD,WAAW,EAAE;QAChB,IAAI,CAAC35I,UAAU,CAACuM,MAAM,CAACmZ,SAAS,CAAC,CAAC;MACpC;IACF,CAAC,CAAC;EACJ;EACAmpG,oBAAoBA,CAACltH,IAAI,EAAE;IACzB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEwhF,SAAS;QAAEyI;MAAe,CAAC,GAAGtvE,IAAI;MAC1C,OAAOsvE,cAAc,CAACnzC,MAAM,CAAC0qC,SAAS,EAAG9+D,IAAI,IAAK;QAChDA,IAAI,CAACmgB,GAAG,GAAG,CAAC,CAAC;MACf,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA0lG,gBAAgBA,CAAC5tH,IAAI,EAAE;IACrB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEiqF;MAAe,CAAC,GAAGtvE,IAAI;MAC/B,MAAM;QAAE8H,OAAO,EAAEowI,YAAY;QAAEh2F,SAAS;QAAEj6C,UAAU;QAAEC,QAAQ;QAAEC,UAAU;QAAEC;MAAM,CAAC,GAAG,IAAI,CAAC/J,UAAU,CAACgK,KAAK;MAC3GinE,cAAc,CAACtd,IAAI,CAAC,CAACjqD,IAAI,EAAEmhB,KAAK,KAAK;QACnC,MAAM;UAAEhjC,CAAC;UAAE85B,CAAC;UAAE3X;QAAM,CAAC,GAAG6gB,KAAK;QAC7B,IAAI7gB,KAAK,IAAI6vI,YAAY,IAAI,IAAI,CAAC9uI,OAAO,EAAE;UACzCrB,IAAI,CAACm6C,SAAS,GAAGA,SAAS;UAC1Bn6C,IAAI,CAACE,UAAU,GAAGA,UAAU;UAC5BF,IAAI,CAACG,QAAQ,GAAGA,QAAQ;UACxBH,IAAI,CAACI,UAAU,GAAGA,UAAU;UAC5BJ,IAAI,CAAC80C,SAAS,GAAGx0C,KAAK,CAACw0C,SAAS;UAChC90C,IAAI,CAAC+0C,YAAY,GAAGz0C,KAAK,CAACy0C,YAAY;UACtC/0C,IAAI,CAACA,IAAI,GAAGM,KAAK,CAACN,IAAI;UACtBA,IAAI,CAAC7hB,CAAC,GAAGA,CAAC;UACV6hB,IAAI,CAACiY,CAAC,GAAGA,CAAC,GAAG,EAAE;UACfjY,IAAI,CAACiB,IAAI,GAAGZ,KAAK;UACjBL,IAAI,CAACqB,OAAO,GAAG,IAAI;QACrB,CAAC,MAAM;UACLrB,IAAI,CAACqB,OAAO,GAAG,KAAK;QACtB;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAyuG,cAAcA,CAACmR,SAAS,EAAE;IACxB,MAAM;MAAE1gG,EAAE,EAAE49E,QAAQ;MAAEroG,IAAI;MAAEk8F;IAAU,CAAC,GAAG,IAAI;IAC9C,MAAM;MAAE19E,IAAI;MAAEkwH,KAAK;MAAE8K,KAAK;MAAE5tI,OAAO;MAAEmB;IAAO,CAAC,GAAG,IAAI,CAACvM,UAAU;IAC/D,MAAM;MAAEwrH,IAAI;MAAEwjB,MAAM;MAAEwD,MAAM;MAAE3nH,KAAK;MAAEi8D;IAAO,CAAC,GAAG6jC,SAAS;IACzD,MAAM8F,KAAK,GAAGjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC/B,MAAMkxH,KAAK,GAAGlxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC/B,IAAI,CAAC,IAAI,CAACQ,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,EAAEiwH,KAAK,IAAIC,KAAK,IAAI52H,cAAc,CAAC04I,MAAM,CAAC,CAAC,IAAI,CAAC92C,SAAS,EAAE;MAC3F,OAAOpjC,qBAAqB;IAC9B;IACA,MAAMwhF,OAAO,GAAGrpB,KAAK,CAACrmD,WAAW,CAAC4kE,MAAM,CAAC;IACzC,MAAM+K,OAAO,GAAGrpB,KAAK,CAACtmD,WAAW,CAACooE,MAAM,CAAC;IACzC,MAAMhpI,KAAK,GAAG6jI,YAAY,CAAC2L,KAAK,CAAC;IACjC,MAAMtrF,OAAO,GAAG2/E,YAAY,CAACyM,OAAO,GAAG,IAAI,GAAGC,OAAO,CAAC;IACtD,MAAMH,SAAS,GAAGh/I,aAAa,CAAC;MAAE+P,IAAI,EAAE,IAAI,CAAC3K,UAAU,CAAC2K;IAAK,CAAC,EAAE4B,MAAM,CAAC2/F,QAAQ,CAAC,CAAC,EAAE;MACjF1hG,MAAM,EAAE,IAAI,CAACxK,UAAU,CAACwK,MAAM;MAC9BK,WAAW,EAAE,IAAI,CAAC7K,UAAU,CAAC6K;IAC/B,CAAC,CAAC;IACF,MAAM;MAAEF,IAAI,EAAEZ;IAAM,CAAC,GAAG,IAAI,CAACiiG,cAAc,CACzCz/F,MAAM,EACN;MAAEse,KAAK,EAAE8/F,SAAS;MAAE3sG,IAAI;MAAEwtG,IAAI;MAAEmuB,WAAW,EAAE;IAAM,CAAC,EACpDC,SACF,CAAC;IACD,OAAOxuI,OAAO,CAACytD,aAAa,CAC1B;MAAErvD,KAAK;MAAEkkD,OAAO;MAAEoL,eAAe,EAAE/uD;IAAM,CAAC,EAC1C;MACE8gB,KAAK;MACLi8D,MAAM;MACN9oE,IAAI;MACJkwH,KAAK;MACL1iB,IAAI;MACJwtB,KAAK;MACLjvI,KAAK;MACLP,KAAK;MACLq+F;IACF,CACF,CAAC;EACH;EACAqQ,aAAaA,CAACvzG,UAAU,EAAE;IACxB,IAAI1W,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,IAAI,EAAE,CAAClR,EAAE,GAAG,IAAI,CAAC+U,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/U,EAAE,CAACrH,MAAM,CAAC,IAAI,CAAC,IAAI,CAACoZ,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAImE,UAAU,KAAK,UAAU,EAAE;MAC/G,OAAO,EAAE;IACX;IACA,MAAM;MAAE6mH,IAAI;MAAEwtB,KAAK;MAAEruI,IAAI;MAAEH,MAAM;MAAEI,WAAW;MAAEmwC,aAAa;MAAElwC,WAAW;MAAEJ,QAAQ;MAAE8B,MAAM;MAAExB;IAAQ,CAAC,GAAG,IAAI,CAAC/K,UAAU;IACzH,MAAMg6I,WAAW,GAAG,CAACztI,MAAM,CAAC9C,OAAO,IAAI8C,MAAM,CAAC5B,IAAI,KAAK,KAAK,CAAC;IAC7D,OAAO,CACL;MACEhG,UAAU;MACVslB,EAAE,EAAE,IAAI,CAACA,EAAE;MACX68D,MAAM,EAAE0kC,IAAI;MACZ3jB,QAAQ,EAAE,IAAI,CAAC59E,EAAE;MACjBxgB,OAAO,EAAEsB,OAAO;MAChBf,KAAK,EAAE;QACLN,IAAI,EAAEsvI,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGxtB;MAChC,CAAC;MACDj/G,MAAM,EAAE;QACNjB,KAAK,EAAEiB,MAAM,CAACjB,KAAK;QACnBX,IAAI,EAAEqvI,WAAW,GAAGrvI,IAAI,GAAG4B,MAAM,CAAC5B,IAAI;QACtCC,WAAW,EAAEovI,WAAW,GAAGpvI,WAAW,GAAG2B,MAAM,CAAC3B,WAAW;QAC3DJ,MAAM,EAAE,CAACjM,EAAE,GAAGgO,MAAM,CAAC/B,MAAM,KAAK,IAAI,GAAGjM,EAAE,GAAGiM,MAAM;QAClDuwC,aAAa,EAAE,CAACv8C,EAAE,GAAG+N,MAAM,CAACwuC,aAAa,KAAK,IAAI,GAAGv8C,EAAE,GAAGu8C,aAAa;QACvElwC,WAAW,EAAE,CAAC1L,EAAE,GAAGoN,MAAM,CAAC1B,WAAW,KAAK,IAAI,GAAG1L,EAAE,GAAG,CAAC;QACvDsK,OAAO,EAAE8C,MAAM,CAAC9C,OAAO,IAAIoB,WAAW,IAAI;MAC5C,CAAC;MACDV,IAAI,EAAE;QACJK,MAAM;QACNuwC,aAAa;QACblwC,WAAW;QACXJ;MACF;IACF,CAAC,CACF;EACH;EACAqiH,uBAAuBA,CAACoB,aAAa,EAAE;IACrC,MAAM;MAAErB,eAAe;MAAE57C,cAAc;MAAEy9C,WAAW;MAAE/3C;IAAM,CAAC,GAAGu3C,aAAa;IAC7E,MAAM;MAAEptF;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IACrC,IAAI,CAAC0xH,eAAe,CAAC1iE,KAAK,EAAE+3C,WAAW,CAAC;IACxCoiB,oBAAoB,CAAC,IAAI,EAAEhwG,gBAAgB,EAAE,GAAG61C,KAAK,CAAC;IACtD9pB,WAAW,CAAC,CAACggE,eAAe,CAAC,EAAE8hB,qBAAqB,CAAC;IACrDH,2BAA2B,CAAC,IAAI,EAAE1tG,gBAAgB,EAAE+rF,eAAe,CAAC;IACpEygB,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAExsG,gBAAgB,EAAEmwC,cAAc,CAAC;EAC9E;EACAk8C,kBAAkBA,CAACe,aAAa,EAAE;IAChC,MAAM;MAAEQ,WAAW;MAAE/3C;IAAM,CAAC,GAAGu3C,aAAa;IAC5C,IAAI,CAACmrB,eAAe,CAAC1iE,KAAK,EAAE+3C,WAAW,CAAC;IACxC,KAAK,CAACvB,kBAAkB,CAACe,aAAa,CAAC;EACzC;EACAb,yBAAyBA,CAACa,aAAa,EAAE;IACvC,IAAIjgI,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAEuiC;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IACrC,MAAM;MAAEklG,eAAe;MAAE57C,cAAc;MAAEy9C,WAAW;MAAE/3C,KAAK;MAAEm3C;IAAoB,CAAC,GAAGI,aAAa;IAClG,MAAM,CAACvjH,IAAI,EAAEH,MAAM,CAAC,GAAGmsE,KAAK;IAC5B,IAAIhsE,IAAI,IAAI,IAAI,IAAIH,MAAM,IAAI,IAAI,EAChC;IACF,KAAK,CAAC+iH,iBAAiB,CAACW,aAAa,CAAC;IACtC,MAAMpwF,MAAM,GAAGA,CAAA,KAAM;MACnB,IAAI,CAACu7G,eAAe,CAAC1iE,KAAK,EAAE+3C,WAAW,CAAC;MACxC,IAAI,CAAC6qB,gBAAgB,CAAC5iE,KAAK,EAAE+3C,WAAW,CAAC;IAC3C,CAAC;IACD,MAAMztH,IAAI,GAAGA,CAAA,KAAM;MACjB6/B,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;MACnCznD,MAAM,CAAC,CAAC;IACV,CAAC;IACD,IAAI4wF,WAAW,IAAI,IAAI,IAAIZ,mBAAmB,IAAI,IAAI,EAAE;MACtDhwF,MAAM,CAAC,CAAC;MACRuwG,qBAAqB,CAAC,IAAI,EAAEvtG,gBAAgB,EAAE,OAAO,EAAE+rF,eAAe,CAAC;MACvEkkB,mBAAmB,CAAC,IAAI,EAAE,sBAAsB,EAAEjwG,gBAAgB,EAAE,KAAK,EAAEn2B,IAAI,CAAC;MAChFomI,mBAAmB,CAAC,IAAI,EAAE,QAAQ,EAAEjwG,gBAAgB,EAAE,UAAU,EAAEt2B,MAAM,CAAC;MACzE8iI,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAExsG,gBAAgB,EAAEmwC,cAAc,CAAC;MAC5E;IACF;IACA,MAAM3kF,GAAG,GAAG4pJ,wBAAwB,CAACxnB,WAAW,EAAEZ,mBAAmB,EAAE,CAACvvH,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACgnG,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhnG,EAAE,CAACyrG,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGn7F,EAAE,CAACwiG,IAAI,CAAC;IACjK,IAAIz0G,GAAG,KAAK,KAAK,CAAC,EAAE;MAClB2U,IAAI,CAAC,CAAC;MACN;IACF,CAAC,MAAM,IAAI3U,GAAG,CAAC21C,MAAM,KAAK,OAAO,EAAE;MACjC;IACF;IACAosG,qBAAqB,CAAC,IAAI,EAAEvtG,gBAAgB,EAAE,KAAK,CAAC,EAAE+rF,eAAe,CAAC;IACtEhtG,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,sBAAsB,EAAE6W,gBAAgB,EAAE,CAACn2B,IAAI,CAAC,EAAEre,GAAG,CAACqe,IAAI,CAACqqI,cAAc,CAAC;IAChGjI,UAAU,CAAC,IAAI,CAAC9iH,EAAE,EAAE,kBAAkB,EAAE6W,gBAAgB,EAAE,CAACn2B,IAAI,CAAC,EAAEre,GAAG,CAACqe,IAAI,CAACjP,IAAI,CAAC;IAChF,IAAI,CAAC69I,gBAAgB,CAAC5iE,KAAK,EAAE+3C,WAAW,CAAC;IACzCqiB,mBAAmB,CAAC,IAAI,EAAE,QAAQ,EAAEjwG,gBAAgB,EAAE,UAAU,EAAEt2B,MAAM,CAAC;IACzE8iI,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAExsG,gBAAgB,EAAEmwC,cAAc,CAAC;EAC9E;EACA++C,cAAcA,CAAA,EAAG;IACf,OAAO,IAAI,CAAChwH,UAAU,CAACgK,KAAK,CAACP,OAAO;EACtC;EACAipD,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI1Y,KAAK,CAAC,CAAC;EACpB;EACAm1F,uBAAuBA,CAACtkH,KAAK,EAAE;IAC7B,MAAM;MAAE7M,IAAI;MAAEwtG;IAAK,CAAC,GAAG3gG,KAAK;IAC5B,OAAO,IAAI,CAACmhF,cAAc,CAAC,IAAI,CAAChsG,UAAU,CAACuM,MAAM,EAAE;MAAEse,KAAK;MAAE7M,IAAI;MAAEwtG,IAAI;MAAEmuB,WAAW,EAAE;IAAK,CAAC,CAAC;EAC9F;EACAnvB,kBAAkBA,CAAC7oH,IAAI,EAAE;IACvB,OAAOutI,wBAAwB,CAAC,IAAI,EAAEvtI,IAAI,CAAC;EAC7C;AACF,CAAC;AACD60I,UAAU,CAACv2I,SAAS,GAAG,YAAY;AACnCu2I,UAAU,CAAChiJ,IAAI,GAAG,MAAM;;AAExB;AACA,IAAIylJ,gBAAgB,GAAG;EACrBzlJ,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,UAAU;EACtBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,WAAW,CAAC;EACzB3I,UAAU,EAAE,MAAM;EAClBmB,mBAAmB,EAAE2gJ,UAAU;EAC/BhzI,SAAS,EAAE,IAAI;EACfJ,WAAW,EAAE,CACX;IACE5O,IAAI,EAAE,QAAQ,CAAC;IACf2X,QAAQ,EAAE,MAAM,CAAC;EACnB,CAAC,EACD;IACE3X,IAAI,EAAE,UAAU,CAAC;IACjB2X,QAAQ,EAAE,QAAQ,CAAC;EACrB,CAAC,CACF;EACDrW,aAAa,EAAE;IACb2I,MAAM,EAAE;MACNy7I,WAAW,EAAEnzI,uBAAuB;MACpCoE,cAAc,EAAE,SAAS;MACzBC,OAAO,EAAE;QAAEe,QAAQ,EAAE;UAAE3X,IAAI,EAAE;QAAO;MAAE,CAAC;MACvCoW,WAAW,EAAE,GAAG;MAChBmwC,aAAa,EAAE,CAAC;MAChBlwC,WAAW,EAAE,CAAC;MACdJ,QAAQ,EAAE,CAAC,CAAC,CAAC;MACbwwC,cAAc,EAAE,CAAC;MACjBkzF,MAAM,EAAE;QACN1kI,OAAO,EAAE,KAAK;QACdM,KAAK,EAAErC,qBAAqB;QAC5ByW,OAAO,EAAE,CAAC;QACVC,OAAO,EAAE,CAAC;QACVw+B,IAAI,EAAE;MACR,CAAC;MACDrwC,MAAM,EAAE;QACN2tI,WAAW,EAAElzI,iCAAiC;QAC9CyC,OAAO,EAAE,KAAK;QACdmB,WAAW,EAAE,CAAC;QACdmwC,aAAa,EAAE,CAAC;QAChBlwC,WAAW,EAAE;MACf,CAAC;MACDb,KAAK,EAAE;QACLP,OAAO,EAAE,KAAK;QACdI,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE7C,mBAAmB;QAC/B8C,KAAK,EAAE7C;MACT;IACF;EACF,CAAC;EACD5D,cAAc,EAAGtB,MAAM,IAAK;IAC1B,MAAM;MAAEuK;IAAO,CAAC,GAAGugI,oBAAoB,CAAC9qI,MAAM,CAAC;IAC/C,OAAO;MAAE2I,IAAI,EAAE4B,MAAM,CAAC5B,IAAI;MAAEH,MAAM,EAAE+B,MAAM,CAAC/B,MAAM;MAAE+B;IAAO,CAAC;EAC7D;AACF,CAAC;;AAED;AACA,UAAU4tI,YAAYA,CAAC3uH,MAAM,EAAE;EAC7B,KAAK,MAAM3pB,IAAI,IAAI2pB,MAAM,CAACjJ,QAAQ,EAAE;IAClC,MAAM1gB,IAAI;EACZ;AACF;AACA,SAASu4I,uBAAuBA,CAACjqB,QAAQ,EAAEkqB,UAAU,EAAE;EACrD,KAAK,MAAMx4I,IAAI,IAAIw4I,UAAU,EAAE;IAC7B,MAAMxvH,KAAK,GAAGhpB,IAAI,CAACgpB,KAAK;IACxB,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;MACpBr+B,MAAM,CAACM,KAAK,CAAC,iBAAiB,CAAC;IACjC,CAAC,MAAM;MACLqjI,QAAQ,CAACjL,QAAQ,CAACrjH,IAAI,EAAEgpB,KAAK,CAAC;IAChC;EACF;AACF;AACA,SAASyvH,iBAAiBA,CAAC77I,MAAM,EAAE8gD,KAAK,EAAE;EACxC,MAAM;IAAE13D,CAAC;IAAE85B;EAAE,CAAC,GAAGljB,MAAM,CAAC0xF,YAAY,CAAC9tE,cAAc,CAACk9B,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;EACrE,MAAM;IAAEG,OAAO;IAAEC,eAAe,EAAES;EAAiB,CAAC,GAAG/jB,MAAM,CAAC4xH,WAAW,CAAC,CAAC,CAAC/7H,IAAI,CAACzM,CAAC,EAAE85B,CAAC,CAAC;EACtF,IAAIG,OAAO,KAAK,KAAK,CAAC,EAAE;IACtB,OAAO;MAAE+I,KAAK,EAAE/I,OAAO,CAACx8B,KAAK;MAAEijG,QAAQ,EAAEtjG,IAAI,CAACs1D,IAAI,CAAC/3B,gBAAgB;IAAE,CAAC;EACxE;EACA,OAAO,KAAK,CAAC;AACf;;AAEA;AACA,IAAI+3H,2BAA2B,GAAG,cAAc9uB,yBAAyB,CAAC;EACxEt+H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACye,SAAS,GAAG,UAAU;EAC7B;AACF,CAAC;AACD3jE,eAAe,CAAC,CACdugD,QAAQ,CAAC2D,SAAS,CAAC,CACpB,EAAE8vG,2BAA2B,CAACn2J,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACzD,IAAIo2J,iBAAiB,GAAG,cAAc9uB,eAAe,CAAC;EACpDv+H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB;AACJ;AACA;IACI,IAAI,CAACgvG,UAAU,GAAG,IAAI/zG,SAAS,CAAC,CAAC;IACjC,IAAI,CAACg0G,oBAAoB,GAAG,KAAK,CAAC;EACpC;EACAnuE,mBAAmBA,CAAA,EAAG;IACpB,OAAO;MAAEC,KAAK,EAAE,GAAG;MAAEC,KAAK,EAAE;IAAI,CAAC;EACnC;EACAilD,YAAYA,CAAA,EAAG;IACb,OAAO,CAAC,IAAI,CAAC0E,UAAU,CAAC,CAAC;EAC3B;EACAA,UAAUA,CAAA,EAAG;IACX,OAAO,IAAI,CAACp2H,UAAU,CAACkqD,SAAS,KAAK,UAAU;EACjD;EACAywF,eAAeA,CAAA,EAAG;IAChB,OAAO,IAAI,CAACjpB,YAAY,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,GAAG,CAAC;EACjD;EACAkpB,oBAAoBA,CAAA,EAAG;IACrB,OAAO,IAAI,CAAClpB,YAAY,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,GAAG,CAAC;EACjD;EACAmpB,YAAYA,CAAA,EAAG;IACb,MAAM3wF,SAAS,GAAG,IAAI,CAACywF,eAAe,CAAC,CAAC;IACxC,OAAO,IAAI,CAACn7I,IAAI,CAAC0qD,SAAS,CAAC;EAC7B;EACA4wF,eAAeA,CAAA,EAAG;IAChB,MAAM5wF,SAAS,GAAG,IAAI,CAAC0wF,oBAAoB,CAAC,CAAC;IAC7C,OAAO,IAAI,CAACp7I,IAAI,CAAC0qD,SAAS,CAAC;EAC7B;EACA6wF,gBAAgBA,CAACtqB,KAAK,EAAE;IACtB,MAAM;MACJgqB,UAAU;MACVC,oBAAoB;MACpB/yH,GAAG,EAAE;QAAE8qE;MAAmB;IAC5B,CAAC,GAAG,IAAI;IACR,MAAM42B,MAAM,GAAGoH,KAAK,CAAC1mE,KAAK;IAC1B,MAAMixF,UAAU,GAAGvtG,eAAe,CAAC1sB,EAAE,CAACsoG,MAAM,CAAC,GAAGA,MAAM,CAAC78E,aAAa,CAACkuG,oBAAoB,CAAC,GAAGrxB,MAAM,CAACvjF,SAAS;IAC7G,MAAMT,MAAM,GAAG,EAAE;IACjB,MAAM;MAAEzwC,KAAK,EAAE6oB,UAAU;MAAEuzE;IAAkB,CAAC,GAAGyB,kBAAkB,CAAC1B,wBAAwB,CAAC,IAAI,CAAC;IAClG,KAAK,IAAI3zE,QAAQ,GAAG,CAAC,EAAEA,QAAQ,GAAG4zE,iBAAiB,EAAE5zE,QAAQ,EAAE,EAAE;MAC/DioB,MAAM,CAAC/2C,IAAI,CAACm2C,MAAM,CAACrnB,QAAQ,CAAC,CAAC;IAC/B;IACAq9H,UAAU,CAACp1G,MAAM,GAAGA,MAAM;IAC1Bo1G,UAAU,CAAC5sJ,KAAK,GAAG,CAAC,CAAC,EAAEmtJ,UAAU,IAAI,IAAI,GAAGA,UAAU,GAAG,CAAC,CAAC;IAC3D,IAAIvqB,KAAK,YAAYtkD,YAAY,EAAE;MACjCsuE,UAAU,CAACz0G,YAAY,GAAGyqF,KAAK,CAAC7hH,iBAAiB;IACnD,CAAC,MAAM,IAAI6hH,KAAK,YAAY9/C,mBAAmB,EAAE;MAC/C8pE,UAAU,CAACxwI,OAAO,GAAG,GAAG;IAC1B,CAAC,MAAM;MACLwwI,UAAU,CAACxwI,OAAO,GAAG,CAAC;IACxB;IACAwwI,UAAU,CAAC1rJ,KAAK,GAAG0rJ,UAAU,CAACxwI,OAAO,KAAK,CAAC;IAC3C,MAAMgxI,QAAQ,GAAGR,UAAU,CAAC30G,SAAS,IAAI,CAAC;IACxC;IACA20G,UAAU,CAAC30G,SAAS;IAEpB;IACA20G,UAAU,CAAC10G,YACZ;IACD,OAAO;MAAEk1G,QAAQ;MAAEx9H;IAAW,CAAC;EACjC;EACAysF,mBAAmBA,CAAChgD,SAAS,EAAE;IAC7B,IAAI,IAAI,CAACywF,eAAe,CAAC,CAAC,KAAK,GAAG,CAAC,SAAS;MAC1C,IAAIzwF,SAAS,KAAK,GAAG,CAAC,SAAS;QAC7B,OAAO,GAAG,CAAC;MACb;MACA,OAAO,GAAG,CAAC;IACb;IACA,OAAOA,SAAS;EAClB;EACAomE,YAAYA,CAACH,QAAQ,EAAE;IACrBiqB,uBAAuB,CAACjqB,QAAQ,EAAE,IAAI,CAACC,cAAc,CAAC,CAAC,CAAC;EAC1D;EACA9kB,oBAAoBA,CAAC/rD,KAAK,EAAE;IAC1B,OAAO+6F,iBAAiB,CAAC,IAAI,EAAE/6F,KAAK,CAAC;EACvC;AACF,CAAC;;AAED;AACA,IAAI27F,cAAc,GAAG,cAAcr2F,KAAK,CAAC;EACvC13D,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACwqB,SAAS,GAAG,QAAQ;EAC3B;AACF,CAAC;AACD1vE,eAAe,CAAC,CACdugD,QAAQ,CAAC4D,SAAS,CAAC,CACpB,EAAEwwG,cAAc,CAAC92J,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AAC5C,IAAI+2J,mBAAmB,GAAG,cAAcZ,2BAA2B,CAAC;EAClEptJ,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC9gC,IAAI,GAAG,SAAS;IACrB,IAAI,CAACC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACJ,MAAM,GAAG,SAAS;IACvB,IAAI,CAACK,WAAW,GAAG,CAAC;IACpB,IAAI,CAACkwC,aAAa,GAAG,CAAC;IACtB,IAAI,CAACtwC,QAAQ,GAAG,CAAC,CAAC,CAAC;IACnB,IAAI,CAACwwC,cAAc,GAAG,CAAC;IACvB,IAAI,CAAC09E,YAAY,GAAG,CAAC;IACrB,IAAI,CAACwV,MAAM,GAAG,IAAIR,UAAU,CAAC,CAAC;IAC9B,IAAI,CAAC3jI,KAAK,GAAG,IAAIkxI,cAAc,CAAC,CAAC;IACjC,IAAI,CAAC9vI,OAAO,GAAG,IAAI4iI,aAAa,CAAC,CAAC;EACpC;AACF,CAAC;AACDznJ,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAEgzG,mBAAmB,CAAC/2J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE06I,mBAAmB,CAAC/2J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAEgzG,mBAAmB,CAAC/2J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE06I,mBAAmB,CAAC/2J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE06I,mBAAmB,CAAC/2J,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACsB,MAAM,EAAE;EAAE3nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE06I,mBAAmB,CAAC/2J,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,CACvB,EAAE4xG,mBAAmB,CAAC/2J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE0yG,mBAAmB,CAAC/2J,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,CACvB,EAAE4xG,mBAAmB,CAAC/2J,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE4yG,mBAAmB,CAAC/2J,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE0yG,mBAAmB,CAAC/2J,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACmD,SAAS,CAAC,CACpB,EAAEkxG,mBAAmB,CAAC/2J,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE4yG,mBAAmB,CAAC/2J,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE4yG,mBAAmB,CAAC/2J,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACoB,QAAQ,EAAE;EAAEznC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACvC,EAAE06I,mBAAmB,CAAC/2J,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,EAAE;EAAErnC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE06I,mBAAmB,CAAC/2J,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEqzG,mBAAmB,CAAC/2J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEqzG,mBAAmB,CAAC/2J,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;;AAE/C;AACA,SAASg3J,UAAUA,CAAC;EAAE9hG,IAAI;EAAE1iD;AAAO,CAAC,EAAE;EACpC,MAAM;IACJ4jI,KAAK,GAAG,IAAI;IACZ7vH,IAAI;IACJH,MAAM;IACNK,WAAW;IACXD,WAAW;IACXmwC,aAAa;IACbtwC,QAAQ;IACRwwC,cAAc;IACdG,UAAU;IACVu9E,YAAY,GAAG,CAAC;IAChBW,mBAAmB,GAAG,IAAI;IAC1BC,oBAAoB,GAAG,IAAI;IAC3BC,uBAAuB,GAAG,IAAI;IAC9BC,sBAAsB,GAAG,IAAI;IAC7B1uH,OAAO,GAAG;EACZ,CAAC,GAAGnU,MAAM;EACV0iD,IAAI,CAACkhF,KAAK,GAAGA,KAAK;EAClBlhF,IAAI,CAAC3uC,IAAI,GAAGA,IAAI;EAChB2uC,IAAI,CAAC9uC,MAAM,GAAGA,MAAM;EACpB8uC,IAAI,CAACzuC,WAAW,GAAGA,WAAW;EAC9ByuC,IAAI,CAAC1uC,WAAW,GAAGA,WAAW;EAC9B0uC,IAAI,CAACyB,aAAa,GAAGA,aAAa;EAClCzB,IAAI,CAAC7uC,QAAQ,GAAGA,QAAQ;EACxB6uC,IAAI,CAAC2B,cAAc,GAAGA,cAAc;EACpC3B,IAAI,CAAC8B,UAAU,GAAGA,UAAU;EAC5B9B,IAAI,CAACggF,mBAAmB,GAAGA,mBAAmB,GAAGX,YAAY,GAAG,CAAC;EACjEr/E,IAAI,CAACigF,oBAAoB,GAAGA,oBAAoB,GAAGZ,YAAY,GAAG,CAAC;EACnEr/E,IAAI,CAACkgF,uBAAuB,GAAGA,uBAAuB,GAAGb,YAAY,GAAG,CAAC;EACzEr/E,IAAI,CAACmgF,sBAAsB,GAAGA,sBAAsB,GAAGd,YAAY,GAAG,CAAC;EACvEr/E,IAAI,CAACvuC,OAAO,GAAGA,OAAO;AACxB;AACA,SAASswI,aAAaA,CAACptJ,EAAE,EAAE;EACzB,IAAIsQ,EAAE,GAAGtQ,EAAE;IAAE;MACX48B,KAAK;MACLywH,aAAa;MACb/wI,KAAK;MACLU,cAAc;MACdmmC,SAAS;MACTy2D,QAAQ;MACRlgF,GAAG,EAAE;QAAE49C;MAAc;IACvB,CAAC,GAAGhnE,EAAE;IAAEoD,IAAI,GAAG3b,SAAS,CAACuY,EAAE,EAAE,CAC3B,OAAO,EACP,eAAe,EACf,OAAO,EACP,gBAAgB,EAChB,WAAW,EACX,UAAU,EACV,KAAK,CACN,CAAC;EACF,IAAI+d,GAAG,EAAEC,GAAG,EAAE/d,EAAE,EAAEW,EAAE,EAAEyb,EAAE,EAAEkkB,EAAE;EAC5B,MAAM;IAAEn0B,IAAI;IAAEC,WAAW;IAAEJ,MAAM;IAAEK;EAAY,CAAC,GAAGjQ,aAAa,CAAC0gJ,aAAa,IAAIrwI,cAAc,EAAEV,KAAK,CAAC;EACxG,MAAM;IACJwwC,aAAa;IACbK,UAAU;IACV3wC,QAAQ;IACRwwC,cAAc;IACd09E,YAAY,GAAG,CAAC;IAChBW,mBAAmB,GAAG,IAAI;IAC1BC,oBAAoB,GAAG,IAAI;IAC3BC,uBAAuB,GAAG,IAAI;IAC9BC,sBAAsB,GAAG;EAC3B,CAAC,GAAGlvH,KAAK;EACT,IAAIqnC,OAAO;EACX,IAAIR,SAAS,EAAE;IACbQ,OAAO,GAAG2zB,aAAa,CAACz/E,IAAI,CAACsrD,SAAS,EAAE1rD,cAAc,CAAC;MACrDmlC,KAAK,EAAEA,KAAK,CAACA,KAAK;MAClB7M,IAAI,EAAE6M,KAAK,CAAC7M,IAAI;MAChBrT,IAAI;MACJH,MAAM;MACNK,WAAW;MACX8tH,YAAY;MACZghB,WAAW,EAAE2B,aAAa;MAC1BzzC;IACF,CAAC,EAAElmG,IAAI,CAAC,CAAC;EACX;EACA,OAAO;IACLgJ,IAAI,EAAE,CAAC2R,GAAG,GAAGs1B,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACjnC,IAAI,KAAK,IAAI,GAAG2R,GAAG,GAAG3R,IAAI;IAC1EH,MAAM,EAAE,CAAC+R,GAAG,GAAGq1B,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACpnC,MAAM,KAAK,IAAI,GAAG+R,GAAG,GAAG/R,MAAM;IAChFK,WAAW,EAAE,CAACrM,EAAE,GAAGozC,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC/mC,WAAW,KAAK,IAAI,GAAGrM,EAAE,GAAGqM,WAAW;IAC7FD,WAAW,EAAE,CAACzL,EAAE,GAAGyyC,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAChnC,WAAW,KAAK,IAAI,GAAGzL,EAAE,GAAGyL,WAAW;IAC7FmwC,aAAa,EAAE,CAACngC,EAAE,GAAGg3B,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACmJ,aAAa,KAAK,IAAI,GAAGngC,EAAE,GAAGmgC,aAAa;IACnGtwC,QAAQ;IACRwwC,cAAc;IACdG,UAAU;IACVu9E,YAAY,EAAE,CAAC75F,EAAE,GAAG8S,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC+mF,YAAY,KAAK,IAAI,GAAG75F,EAAE,GAAG65F,YAAY;IAChGW,mBAAmB;IACnBC,oBAAoB;IACpBC,uBAAuB;IACvBC;EACF,CAAC;AACH;AACA,SAAS8hB,UAAUA,CAACn7E,YAAY,GAAG,EAAE,EAAE;EACrC,MAAM,CAACo7E,UAAU,EAAEC,UAAU,CAAC,GAAGr7E,YAAY;EAC7C,MAAMs7E,QAAQ,GAAGF,UAAU,KAAK,CAAC,IAAIC,UAAU,KAAK,CAAC;EACrD,OAAO,CAACC,QAAQ;AAClB;AACA,IAAIC,eAAe,GAAI9wH,KAAK,IAAK;EAC/B,IAAI58B,EAAE;EACN,OAAO4yB,UAAU,CAAC,CAAC5yB,EAAE,GAAG48B,KAAK,CAAC2nH,MAAM,KAAK,IAAI,GAAGvkJ,EAAE,GAAG,CAAC,CAAC;AACzD,CAAC;AACD,SAAS2tJ,4BAA4BA,CAACxlB,UAAU,EAAE52H,IAAI,EAAEK,IAAI,EAAE;EAC5D,MAAM;IAAEg8I,SAAS;IAAEC;EAAU,CAAC,GAAGC,iBAAiB,CAAC3lB,UAAU,EAAE52H,IAAI,CAAC;EACpE,MAAMs6F,SAAS,GAAGA,CAACjvE,KAAK,EAAEmxH,SAAS,KAAK;IACtC,IAAIn0J,CAAC,GAAGuuI,UAAU,GAAGvrG,KAAK,CAAChjC,CAAC,GAAGg0J,SAAS;IACxC,IAAIl6H,CAAC,GAAGy0G,UAAU,GAAG0lB,SAAS,GAAGjxH,KAAK,CAAClJ,CAAC;IACxC,IAAIvX,KAAK,GAAGgsH,UAAU,GAAGvrG,KAAK,CAACzgB,KAAK,GAAG,CAAC;IACxC,IAAIsY,MAAM,GAAG0zG,UAAU,GAAG,CAAC,GAAGvrG,KAAK,CAACnI,MAAM;IAC1C,MAAM;MAAE40B;IAAQ,CAAC,GAAGzsB,KAAK;IACzB,IAAImxH,SAAS,KAAK3iJ,KAAK,CAACxR,CAAC,CAAC,IAAIwR,KAAK,CAACsoB,CAAC,CAAC,CAAC,EAAE;MACvC,CAAC;QAAE95B,CAAC;QAAE85B;MAAE,CAAC,GAAGq6H,SAAS;MACrB5xI,KAAK,GAAGgsH,UAAU,GAAG4lB,SAAS,CAAC5xI,KAAK,GAAG,CAAC;MACxCsY,MAAM,GAAG0zG,UAAU,GAAG,CAAC,GAAG4lB,SAAS,CAACt5H,MAAM;MAC1C,IAAI0zG,UAAU,IAAI,CAACulB,eAAe,CAACK,SAAS,CAAC,EAAE;QAC7Cr6H,CAAC,IAAIq6H,SAAS,CAACt5H,MAAM;MACvB,CAAC,MAAM,IAAI,CAAC0zG,UAAU,IAAIulB,eAAe,CAACK,SAAS,CAAC,EAAE;QACpDn0J,CAAC,IAAIm0J,SAAS,CAAC5xI,KAAK;MACtB;IACF;IACA,IAAIouC,QAAQ;IACZ,IAAI3tB,KAAK,CAAC2tB,QAAQ,IAAI,IAAI,EAAE;MAC1BA,QAAQ,GAAG,KAAK,CAAC;IACnB,CAAC,MAAM,IAAImjG,eAAe,CAAC9wH,KAAK,CAAC,EAAE;MACjC2tB,QAAQ,GAAG49E,UAAU,GAAG,IAAIjyG,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,GAAGe,MAAM,EAAEtY,KAAK,EAAEsY,MAAM,CAAC,GAAG,IAAIyB,IAAI,CAACt8B,CAAC,GAAGuiB,KAAK,EAAEuX,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;IACxG,CAAC,MAAM;MACL81B,QAAQ,GAAG,IAAIr0B,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;IAC1C;IACA,OAAO;MAAE76B,CAAC;MAAE85B,CAAC;MAAEvX,KAAK;MAAEsY,MAAM;MAAE81B,QAAQ;MAAElB;IAAQ,CAAC;EACnD,CAAC;EACD,OAAO;IAAE8+E,UAAU;IAAEt8B,SAAS;IAAEj6F;EAAK,CAAC;AACxC;AACA,SAASo8I,2BAA2BA,CAAC7lB,UAAU,EAAEv2H,IAAI,EAAE;EACrD,OAAO;IACLu2H,UAAU;IACVt8B,SAAS,EAAGjvE,KAAK,IAAK;MACpB,OAAO;QACLhjC,CAAC,EAAEuuI,UAAU,GAAGvrG,KAAK,CAAChjC,CAAC,GAAGgjC,KAAK,CAAChjC,CAAC,GAAGgjC,KAAK,CAACzgB,KAAK,GAAG,CAAC;QACnDuX,CAAC,EAAEy0G,UAAU,GAAGvrG,KAAK,CAAClJ,CAAC,GAAGkJ,KAAK,CAACnI,MAAM,GAAG,CAAC,GAAGmI,KAAK,CAAClJ,CAAC;QACpDvX,KAAK,EAAEgsH,UAAU,GAAGvrG,KAAK,CAACzgB,KAAK,GAAG,CAAC;QACnCsY,MAAM,EAAE0zG,UAAU,GAAG,CAAC,GAAGvrG,KAAK,CAACnI,MAAM;QACrC81B,QAAQ,EAAE3tB,KAAK,CAAC2tB,QAAQ;QACxBlB,OAAO,EAAEzsB,KAAK,CAACysB;MACjB,CAAC;IACH,CAAC;IACDz3C;EACF,CAAC;AACH;AACA,SAASq8I,4BAA4BA,CAACC,OAAO,EAAE;EAC7C,MAAMC,SAAS,GAAIvxH,KAAK,IAAKA,KAAK,IAAI,IAAI,IAAIxxB,KAAK,CAACwxB,KAAK,CAAChjC,CAAC,CAAC,IAAIwR,KAAK,CAACwxB,KAAK,CAAClJ,CAAC,CAAC;EAC9E,MAAMqf,MAAM,GAAGA,CAACsY,IAAI,EAAEzuB,KAAK,EAAEoX,MAAM,KAAK;IACtC,IAAIA,MAAM,KAAK,SAAS,IAAIm6G,SAAS,CAACvxH,KAAK,CAAC,EAAE;MAC5CoX,MAAM,GAAG,SAAS;IACpB,CAAC,MAAM,IAAIA,MAAM,KAAK,SAAS,IAAIm6G,SAAS,CAAC9iG,IAAI,CAACtuB,aAAa,CAAC,EAAE;MAChEiX,MAAM,GAAG,OAAO;IAClB;IACA,IAAIh8C,MAAM;IACV,IAAIg8C,MAAM,KAAK,OAAO,IAAIqX,IAAI,CAACtuB,aAAa,IAAI,IAAI,IAAImxH,OAAO,CAACt8I,IAAI,KAAK,MAAM,EAAE;MAC/E5Z,MAAM,GAAGF,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE22J,oBAAoB,CAAC/iG,IAAI,EAAEzuB,KAAK,CAAC,CAAC,EAAE;QAAEysB,OAAO,EAAE;MAAE,CAAC,CAAC;IAC/F,CAAC,MAAM,IAAIrV,MAAM,KAAK,SAAS,IAAIA,MAAM,KAAK,OAAO,EAAE;MACrDh8C,MAAM,GAAGk2J,OAAO,CAACriD,SAAS,CAACjvE,KAAK,EAAEyuB,IAAI,CAACtuB,aAAa,CAAC;IACvD,CAAC,MAAM;MACL/kC,MAAM,GAAG;QACP4B,CAAC,EAAEyxD,IAAI,CAACzxD,CAAC;QACT85B,CAAC,EAAE23B,IAAI,CAAC33B,CAAC;QACTvX,KAAK,EAAEkvC,IAAI,CAAClvC,KAAK;QACjBsY,MAAM,EAAE42B,IAAI,CAAC52B,MAAM;QACnB81B,QAAQ,EAAEc,IAAI,CAACd,QAAQ;QACvBlB,OAAO,EAAEgC,IAAI,CAAChC;MAChB,CAAC;IACH;IACA,MAAMpY,KAAK,GAAGtf,kCAAkC,CAACqiB,MAAM,CAAC;IACxD,OAAOl8C,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEO,MAAM,CAAC,EAAE;MAAEi5C;IAAM,CAAC,CAAC;EAC7D,CAAC;EACD,MAAM+B,IAAI,GAAGA,CAACqY,IAAI,EAAEzuB,KAAK,EAAEoX,MAAM,KAAK;IACpC,IAAIh8C,MAAM;IACV,IAAIg8C,MAAM,KAAK,SAAS,IAAIqX,IAAI,CAACzuB,KAAK,IAAI,IAAI,IAAIsxH,OAAO,CAACt8I,IAAI,KAAK,MAAM,EAAE;MACzE5Z,MAAM,GAAGF,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE22J,oBAAoB,CAAC/iG,IAAI,EAAEzuB,KAAK,CAAC,CAAC,EAAE;QAAEysB,OAAO,EAAE;MAAE,CAAC,CAAC;IAC/F,CAAC,MAAM,IAAIrV,MAAM,KAAK,SAAS,IAAIm6G,SAAS,CAACvxH,KAAK,CAAC,EAAE;MACnD5kC,MAAM,GAAGk2J,OAAO,CAACriD,SAAS,CAACjvE,KAAK,EAAEyuB,IAAI,CAACtuB,aAAa,CAAC;IACvD,CAAC,MAAM;MACL/kC,MAAM,GAAG;QACP4B,CAAC,EAAEgjC,KAAK,CAAChjC,CAAC;QACV85B,CAAC,EAAEkJ,KAAK,CAAClJ,CAAC;QACVvX,KAAK,EAAEygB,KAAK,CAACzgB,KAAK;QAClBsY,MAAM,EAAEmI,KAAK,CAACnI,MAAM;QACpB81B,QAAQ,EAAE3tB,KAAK,CAAC2tB,QAAQ;QACxBlB,OAAO,EAAEzsB,KAAK,CAACysB;MACjB,CAAC;IACH;IACA,OAAOrxD,MAAM;EACf,CAAC;EACD,OAAO;IAAEg7C,IAAI;IAAED;EAAO,CAAC;AACzB;AACA,SAAS+6G,iBAAiBA,CAAC3lB,UAAU,EAAE52H,IAAI,EAAE;EAC3C,MAAMC,IAAI,GAAGD,IAAI,CAAC42H,UAAU,GAAG,GAAG,CAAC,UAAU,GAAG,CAAC,QAAQ;EACzD,IAAIylB,SAAS,GAAG9nI,QAAQ;EACxB,IAAI+nI,SAAS,GAAG,CAAC;EACjB,IAAI,CAACr8I,IAAI,EAAE;IACT,OAAO;MAAEo8I,SAAS;MAAEC;IAAU,CAAC;EACjC;EACA,IAAI1lB,UAAU,EAAE;IACd0lB,SAAS,GAAGr8I,IAAI,CAACsqD,KAAK,CAACvkB,OAAO,CAACiI,eAAe,CAAC1sB,EAAE,CAACthB,IAAI,CAACsqD,KAAK,CAAC,GAAG,CAAC,GAAG9kE,IAAI,CAAC6J,GAAG,CAAC,GAAG2Q,IAAI,CAAC5R,KAAK,CAAC,CAAC;EAC9F,CAAC,MAAM;IACLguJ,SAAS,GAAGp8I,IAAI,CAACsqD,KAAK,CAACvkB,OAAO,CAACiI,eAAe,CAAC1sB,EAAE,CAACthB,IAAI,CAACsqD,KAAK,CAAC,GAAG,CAAC,GAAG9kE,IAAI,CAAC6uB,GAAG,CAAC,GAAGrU,IAAI,CAAC5R,KAAK,CAAC,CAAC;EAC9F;EACA,OAAO;IAAEguJ,SAAS;IAAEC;EAAU,CAAC;AACjC;AACA,SAASO,oBAAoBA,CAAC59E,KAAK,EAAE;EAAE52E,CAAC;EAAE85B,CAAC;EAAEvX,KAAK;EAAEsY,MAAM;EAAE81B,QAAQ;EAAElB;AAAQ,CAAC,EAAE;EAC/E,OAAO;IAAEzvD,CAAC;IAAE85B,CAAC;IAAEvX,KAAK;IAAEsY,MAAM;IAAE81B,QAAQ;IAAElB;EAAQ,CAAC;AACnD;AACA,SAASglG,qBAAqBA,CAACzxH,KAAK,EAAE0xH,QAAQ,EAAEtrC,UAAU,EAAE;EAC1D,IAAIpmF,KAAK,KAAK,KAAK,CAAC,EAClB,OAAO,KAAK,CAAC;EACf,MAAM;IAAEhjC,CAAC;IAAE85B,CAAC;IAAEvX,KAAK;IAAEsY;EAAO,CAAC,GAAGmI,KAAK;EACrC,OAAO0xH,QAAQ,CAACnwH,oBAAoB,CAAC,IAAIjI,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC,CAAC,CAACS,IAAI,CAAC8tF,UAAU,CAAC;AACtF;;AAEA;AACA,SAASurC,eAAeA,CAACC,QAAQ,EAAEzyI,KAAK,EAAE2+D,UAAU,EAAE;EACpD,IAAI3+D,KAAK,CAACP,OAAO,IAAIk/D,UAAU,EAAE;IAC/B,MAAM;MAAE9gF,CAAC;MAAE85B,CAAC;MAAEjY,IAAI;MAAE80C,SAAS;MAAEC;IAAa,CAAC,GAAGkqB,UAAU;IAC1D,MAAM;MAAE5+D,KAAK,EAAEY,IAAI;MAAEk5C,SAAS;MAAEj6C,UAAU;MAAEC,QAAQ;MAAEC;IAAW,CAAC,GAAGE,KAAK;IAC1EyyI,QAAQ,CAAC7wH,aAAa,CAAC;MACrB7gB,OAAO,EAAE,IAAI;MACbljB,CAAC;MACD85B,CAAC;MACDjY,IAAI;MACJiB,IAAI;MACJk5C,SAAS;MACTj6C,UAAU;MACVC,QAAQ;MACRC,UAAU;MACV00C,SAAS;MACTC;IACF,CAAC,CAAC;EACJ,CAAC,MAAM;IACLg+F,QAAQ,CAAC1xI,OAAO,GAAG,KAAK;EAC1B;AACF;AACA,SAAS2xI,oBAAoBA,CAAC;EAC5BnrF,UAAU;EACV6kE,UAAU;EACVngE,SAAS;EACThsD,OAAO,GAAG,CAAC;EACXqvC;AACF,CAAC,EAAE;EACD,IAAIzxD,CAAC,GAAGyxD,IAAI,CAACzxD,CAAC,GAAGyxD,IAAI,CAAClvC,KAAK,GAAG,CAAC;EAC/B,IAAIuX,CAAC,GAAG23B,IAAI,CAAC33B,CAAC,GAAG23B,IAAI,CAAC52B,MAAM,GAAG,CAAC;EAChC,IAAI87B,SAAS,GAAG,QAAQ;EACxB,IAAIC,YAAY,GAAG,QAAQ;EAC3B,QAAQwX,SAAS;IACf,KAAK,OAAO;MAAE;QACZ,IAAImgE,UAAU,EAAE;UACdz0G,CAAC,GAAG4vC,UAAU,GAAGjY,IAAI,CAAC33B,CAAC,GAAG23B,IAAI,CAAC52B,MAAM,GAAGzY,OAAO,GAAGqvC,IAAI,CAAC33B,CAAC,GAAG1X,OAAO;UAClEw0C,YAAY,GAAG8S,UAAU,GAAG,KAAK,GAAG,QAAQ;QAC9C,CAAC,MAAM;UACL1pE,CAAC,GAAG0pE,UAAU,GAAGjY,IAAI,CAACzxD,CAAC,GAAGoiB,OAAO,GAAGqvC,IAAI,CAACzxD,CAAC,GAAGyxD,IAAI,CAAClvC,KAAK,GAAGH,OAAO;UACjEu0C,SAAS,GAAG+S,UAAU,GAAG,OAAO,GAAG,KAAK;QAC1C;QACA;MACF;IACA,KAAK,SAAS;IACd,KAAK,KAAK;MAAE;QACV,IAAI6kE,UAAU,EAAE;UACdz0G,CAAC,GAAG4vC,UAAU,GAAGjY,IAAI,CAAC33B,CAAC,GAAG1X,OAAO,GAAGqvC,IAAI,CAAC33B,CAAC,GAAG23B,IAAI,CAAC52B,MAAM,GAAGzY,OAAO;UAClEw0C,YAAY,GAAG8S,UAAU,GAAG,QAAQ,GAAG,KAAK;QAC9C,CAAC,MAAM;UACL1pE,CAAC,GAAG0pE,UAAU,GAAGjY,IAAI,CAACzxD,CAAC,GAAGyxD,IAAI,CAAClvC,KAAK,GAAGH,OAAO,GAAGqvC,IAAI,CAACzxD,CAAC,GAAGoiB,OAAO;UACjEu0C,SAAS,GAAG+S,UAAU,GAAG,OAAO,GAAG,KAAK;QAC1C;QACA;MACF;EACF;EACA,OAAO;IAAE1pE,CAAC;IAAE85B,CAAC;IAAE68B,SAAS;IAAEC;EAAa,CAAC;AAC1C;;AAEA;AACA,IAAIk+F,SAAS,GAAG,cAAcnC,iBAAiB,CAAC;EAC9CrtJ,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAAC;MACJA,SAAS;MACTwsC,aAAa,EAAE0iB,gCAAgC;MAC/CziB,cAAc,EAAE0iB,iCAAiC;MACjD5iB,SAAS,EAAE,CAAC,CAAC,CAAC,wBAAwB;MACtCkjB,cAAc,EAAE,CAAC;MACjBE,oBAAoB,EAAE,IAAI;MAC1BE,+BAA+B,EAAE,KAAK;MACtCE,+BAA+B,EAAE,IAAI;MACrCC,iBAAiB,EAAE;QACjBrhG,KAAK,EAAEwxH,oBAAoB;QAC3BryI,KAAK,EAAEyjI;MACT;IACF,CAAC,CAAC;IACF,IAAI,CAACztI,UAAU,GAAG,IAAIm7I,mBAAmB,CAAC,CAAC;EAC7C;EACA/lD,WAAWA,CAAC4iB,cAAc,EAAE;IAC1B,OAAOhxH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;MACd,IAAI,CAAC,IAAI,CAACwB,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAACwC,IAAI,EAAE;QAC5C;MACF;MACA,MAAM;QAAE2a,cAAc,EAAE;UAAEF,UAAU,GAAG,IAAI,CAACwM;QAAG,CAAC,GAAG,CAAC,CAAC;QAAEjnB,IAAI,GAAG;MAAG,CAAC,GAAG,IAAI;MACzE,MAAM;QAAEgb,IAAI;QAAEwtG,IAAI;QAAEirB;MAAa,CAAC,GAAG,IAAI,CAACz2I,UAAU;MACpD,MAAMmvH,gBAAgB,GAAG,CAAC,IAAI,CAACxnG,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;MAC/D,MAAMilD,MAAM,GAAG,CAACp7H,EAAE,GAAG,IAAI,CAAC6sJ,eAAe,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG7sJ,EAAE,CAAC87D,KAAK;MACxE,MAAMu/D,MAAM,GAAG,CAAC/qH,EAAE,GAAG,IAAI,CAACs8I,YAAY,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGt8I,EAAE,CAACwrD,KAAK;MACrE,MAAM;QAAEw/D,aAAa;QAAEE,UAAU;QAAEC;MAAW,CAAC,GAAG,IAAI,CAACN,mBAAmB,CAAC;QAAEC,MAAM;QAAEC;MAAO,CAAC,CAAC;MAC9F,MAAMszB,cAAc,GAAG,aAAan/H,UAAU,UAAU;MACxD,MAAMo/H,sBAAsB,GAAG,GAAGD,cAAc,WAAW;MAC3D,MAAMlG,UAAU,GAAG,EAAE;MACrB,IAAI58I,cAAc,CAAC28I,YAAY,CAAC,EAAE;QAChCC,UAAU,CAACpoJ,IAAI,CACbk2G,gBAAgB,CAAC,CAACo4C,cAAc,EAAEC,sBAAsB,CAAC,EAAE53J,IAAI,CAAC27B,GAAG,CAAC61H,YAAY,CAAC,EAAE,OAAO,CAC5F,CAAC;MACH;MACA,IAAItnB,gBAAgB,IAAI,IAAI,CAACl6B,aAAa,EAAE;QAC1CyhD,UAAU,CAACpoJ,IAAI,CAACyyG,IAAI,CAAC,IAAI,CAAC9L,aAAa,CAAC,CAAC;MAC3C;MACA,IAAIk6B,gBAAgB,EAAE;QACpBunB,UAAU,CAACpoJ,IAAI,CAAC42G,mBAAmB,CAAC,CAAC,CAAC;MACxC;MACA,MAAM43C,YAAY,GAAG,IAAI,CAAC/xI,OAAO,GAAG,CAAC,CAAC,GAAG;QAAEsvF,UAAU,EAAE;MAAE,CAAC;MAC1D,MAAM;QAAEpF;MAAc,CAAC,GAAG,MAAM,IAAI,CAAC60B,gBAAgB,CAAC9R,cAAc,EAAEh1G,IAAI,EAAE;QAC1E0/B,KAAK,EAAE,CACLykE,WAAW,CAACnpF,IAAI,EAAEyrG,UAAU,EAAE;UAAEx/F,EAAE,EAAE;QAAS,CAAC,CAAC,EAC/Co9E,aAAa,CAACmkB,IAAI,EAAE9B,UAAU,EAAEhkI,cAAc,CAAC;UAAEukC,EAAE,EAAE,YAAY;UAAEwwE,YAAY,EAAE;QAAK,CAAC,EAAEqiD,YAAY,CAAC,CAAC,EACvG,GAAGp1C,8BAA8B,CAC/B8jB,IAAI,EACJ,QAAQ,EACR,SAAS,EACT9lI,cAAc,CAAC;UACbukC,EAAE,EAAE,YAAY;UAChB09E,OAAO,EAAE,cAAc;UACvBlN,YAAY,EAAE,IAAI;UAClBL,YAAY,EAAE,CAAC;UACfl8E,OAAO,EAAE0+H,cAAc;UACvBj3C,gBAAgB,EAAE;QACpB,CAAC,EAAEm3C,YAAY,CAAC,EAChBpzB,UACF,CAAC,EACD,GAAGhiB,8BAA8B,CAC/B8jB,IAAI,EACJ,UAAU,EACV,SAAS,EACT9lI,cAAc,CAAC;UACbukC,EAAE,EAAE,cAAc;UAClBwwE,YAAY,EAAE,IAAI;UAClBL,YAAY,EAAE,CAAC;UACfl8E,OAAO,EAAE2+H,sBAAsB;UAC/Bl3C,gBAAgB,EAAE;QACpB,CAAC,EAAEm3C,YAAY,CAAC,EAChBpzB,UACF,CAAC,EACD,IAAGH,aAAa,GAAG,CAACzlB,qBAAqB,CAAC,GAAG,EAAE,GAC/C,GAAG4yC,UAAU,CACd;QACDrhD,WAAW,EAAE,IAAI;QACjB+G,WAAW,EAAE;MACf,CAAC,CAAC;MACF,IAAI,CAACs+C,oBAAoB,GAAG,CAACl8I,EAAE,GAAGy2F,aAAa,CAACyE,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGl7F,EAAE,CAACu+I,mBAAmB;MAClG,IAAI,CAACn8E,cAAc,CAACxT,UAAU,CAAC,YAAY,CAAC;IAC9C,CAAC,CAAC;EACJ;EACAk9C,eAAeA,CAACpgD,SAAS,EAAE;IACzB,IAAIj8D,EAAE;IACN,MAAM;MAAEgnG,aAAa;MAAEyG,SAAS;MAAEg/C;IAAqB,CAAC,GAAG,IAAI;IAC/D,IAAI,CAACzlD,aAAa,IAAI,CAACyG,SAAS,IAAIzG,aAAa,CAACjyF,IAAI,CAACpc,MAAM,KAAK,CAAC,EACjE,OAAO,EAAE;IACX,MAAMo2J,YAAY,GAAG,IAAI,CAAClC,eAAe,CAAC,CAAC;IAC3C,MAAMmC,SAAS,GAAG,IAAI,CAACpC,YAAY,CAAC,CAAC;IACrC,MAAMlE,MAAM,GAAGj7C,SAAS,CAACjH,2BAA2B,CAAC,IAAI,EAAE,QAAQ,CAAC;IACpE,MAAMt+F,IAAI,GAAGulG,SAAS,CAAChvD,SAAS,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAEuoD,aAAa,CAAC;IACtE,MAAM2hD,OAAO,GAAGl7C,SAAS,CAAChvD,SAAS,CAAC,IAAI,EAAE,YAAY,EAAE,OAAO,EAAEuoD,aAAa,CAAC;IAC/E,IAAI/qC,SAAS,KAAK,IAAI,CAAC0wF,oBAAoB,CAAC,CAAC,EAAE;MAC7C,IAAI,CAACjE,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACr3H,GAAG,CAAC9qB,IAAI,MAAM,KAAK,IAAImiJ,MAAM,CAACr3H,GAAG,CAAC+5E,SAAS,KAAK,UAAU,EAAE;QAChG,OAAOljG,IAAI;MACb;MACA,MAAM+mJ,YAAY,GAAGpjJ,cAAc,CAAC4gJ,oBAAoB,CAAC,GAAGA,oBAAoB,GAAG,GAAG,GAAG,CAAC;MAC1F,MAAMyC,UAAU,GAAG,CAAClvJ,EAAE,GAAG4lB,MAAM,CAAC1d,IAAI,CAAC,KAAK,IAAI,GAAGlI,EAAE,GAAG,CAACmmB,GAAG,EAAEA,GAAG,CAAC;MAChE,MAAM44B,EAAE,GAAGmwG,UAAU,CAAC,CAAC,CAAC,GAAG,CAACD,YAAY;MACxC,MAAMjwG,EAAE,GAAGkwG,UAAU,CAAC,CAAC,CAAC,GAAGD,YAAY;MACvC,OAAO5pD,gBAAgB,CAAC,CAACtmD,EAAE,EAAEC,EAAE,CAAC,EAAE+vG,YAAY,CAAC;IACjD,CAAC,MAAM,IAAI,IAAI,CAACnC,YAAY,CAAC,CAAC,YAAY/iB,OAAO,EAAE;MACjD,OAAOxkC,gBAAgB,CAACsjD,OAAO,EAAEqG,SAAS,CAAC;IAC7C,CAAC,MAAM;MACL,MAAMpG,YAAY,GAAG,CAAC5xJ,IAAI,CAAC6uB,GAAG,CAAC,CAAC,EAAE8iI,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE3xJ,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE8nJ,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;MACvE,OAAOtjD,gBAAgB,CAACujD,YAAY,EAAEoG,SAAS,CAAC;IAClD;EACF;EACAlyF,cAAcA,CAAA,EAAG;IACf,OAAO/jE,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAE00G;MAAU,CAAC,GAAG,IAAI;MAC1B,MAAM+0B,KAAK,GAAG,IAAI,CAACqqB,eAAe,CAAC,CAAC;MACpC,MAAMpqB,KAAK,GAAG,IAAI,CAACmqB,YAAY,CAAC,CAAC;MACjC,IAAI,CAACn/C,SAAS,IAAI,CAAC+0B,KAAK,IAAI,CAACC,KAAK,IAAI,CAAC,IAAI,CAAC1wH,UAAU,CAACQ,OAAO,CAAC,CAAC,EAC9D;MACF,MAAM6oH,MAAM,GAAGoH,KAAK,CAAC1mE,KAAK;MAC1B,MAAMu/D,MAAM,GAAGoH,KAAK,CAAC3mE,KAAK;MAC1B,MAAM;QAAE/rC,IAAI;QAAEwtG,IAAI;QAAE0iB,KAAK;QAAE8K,KAAK;QAAEruI,IAAI;QAAEH,MAAM;QAAEK,WAAW;QAAE8tH,YAAY;QAAE5xC,cAAc;QAAE/8E;MAAM,CAAC,GAAG,IAAI,CAAChK,UAAU;MACpH,MAAMo9I,SAAS,GAAG1sB,KAAK,CAACvjF,UAAU,CAAC,CAAC;MACpC,MAAM;QAAE8tG,QAAQ;QAAEx9H;MAAW,CAAC,GAAG,IAAI,CAACs9H,gBAAgB,CAACtqB,KAAK,CAAC;MAC7D,MAAM4sB,SAAS,GAAG5vG,eAAe,CAAC1sB,EAAE,CAACsoG,MAAM,CAAC,GAAG4xB,QAAQ,GAAG,CAAC,GAAG,GAAG,CAAC;MAClE,MAAMqC,MAAM,GAAG5hD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,QAAQ,CAAC;MACtE,MAAM2oD,SAAS,GAAG7hD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,YAAY,CAAC;MAC7E,MAAM4oD,WAAW,GAAG9hD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,cAAc,CAAC;MACjF,MAAM6oD,SAAS,GAAG/hD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,YAAY,CAAC;MAC7E,MAAM8oD,WAAW,GAAGhiD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,cAAc,CAAC;MACjF,MAAMu6B,gBAAgB,GAAG,CAAC,IAAI,CAACxnG,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;MAC/D,MAAMp9B,OAAO,GAAG;QACd8/C,MAAM,EAAE0kC,IAAI;QACZpB,QAAQ,EAAE,EAAE;QACZ5hD,SAAS,EAAE,EAAE;QACbupE,MAAM,EAAE,IAAI,CAACvf,gBAAgB,CAAC,CAAC;QAC/BznH,OAAO,EAAE,IAAI,CAACA,OAAO,IAAIokH;MAC3B,CAAC;MACD,MAAM;QAAEsrB,UAAU;QAAExlD;MAAc,CAAC,GAAG,IAAI;MAC1CA,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACjyF,IAAI,CAACtD,OAAO,CAAC,CAAC;QAAEvJ,IAAI;QAAE00B,KAAK,EAAEwtH,WAAW;QAAE79I,MAAM;QAAE26F;MAAU,CAAC,KAAK;QAC/G36F,MAAM,CAACkF,OAAO,CAAC,CAACpa,KAAK,EAAEi0G,UAAU,KAAK;UACpC,IAAItrG,EAAE;UACN,MAAM+gJ,MAAM,GAAG74I,IAAI,CAACmnJ,MAAM,CAAC;UAC3B,MAAMz1J,CAAC,GAAGwhI,MAAM,CAAC7jF,OAAO,CAACwpG,MAAM,CAAC;UAChC,MAAM0I,KAAK,GAAG,CAACpyJ,KAAK,CAACm4J,SAAS,CAAC;UAC/B,MAAME,KAAK,GAAG,CAACr4J,KAAK,CAACk4J,WAAW,CAAC;UACjC,MAAMI,SAAS,GAAGt4J,KAAK,CAACi4J,SAAS,CAAC;UAClC,MAAMhsF,UAAU,GAAGqsF,SAAS,IAAI,CAAC,IAAI,CAACr6J,MAAM,CAACw9B,EAAE,CAAC68H,SAAS,EAAE,CAAC,CAAC,CAAC;UAC9D,MAAMC,QAAQ,GAAGtsF,UAAU,KAAK6rF,SAAS;UACzC,MAAMU,MAAM,GAAG,CAAC7vJ,EAAE,GAAGknG,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACuoD,WAAW,CAAC,CAACnsF,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,IAAI,GAAGtjE,EAAE,GAAG,CAAC;UAC9G,MAAM8vJ,IAAI,GAAGl2J,CAAC,GAAG4yJ,UAAU,CAACj1G,OAAO,CAACf,MAAM,CAAChnB,UAAU,CAAC,CAAC,GAAG4/H,SAAS;UACnE,IAAIhkJ,KAAK,CAACq+I,KAAK,CAAC,EACd;UACF,MAAM/1H,CAAC,GAAG2nG,MAAM,CAAC9jF,OAAO,CAACkyG,KAAK,CAAC;UAC/B,MAAMsG,OAAO,GAAG10B,MAAM,CAAC9jF,OAAO,CAACm4G,KAAK,CAAC;UACrC,MAAMM,SAAS,GAAG,IAAI,CAACtD,eAAe,CAAC,CAAC,KAAK,GAAG,CAAC;UACjD,MAAMjrC,UAAU,GAAG4Z,MAAM,CAAC9jF,OAAO,CAACs4G,MAAM,CAAC;UACzC,MAAMI,UAAU,GAAG50B,MAAM,CAAC9jF,OAAO,CAAC,CAAC,CAAC;UACpC,MAAM8T,IAAI,GAAG;YACXzxD,CAAC,EAAEo2J,SAAS,GAAGh5J,IAAI,CAAC6uB,GAAG,CAAC6N,CAAC,EAAEq8H,OAAO,CAAC,GAAGD,IAAI;YAC1Cp8H,CAAC,EAAEs8H,SAAS,GAAGF,IAAI,GAAG94J,IAAI,CAAC6uB,GAAG,CAAC6N,CAAC,EAAEq8H,OAAO,CAAC;YAC1C5zI,KAAK,EAAE6zI,SAAS,GAAGh5J,IAAI,CAAC27B,GAAG,CAACo9H,OAAO,GAAGr8H,CAAC,CAAC,GAAGs5H,QAAQ;YACnDv4H,MAAM,EAAEu7H,SAAS,GAAGhD,QAAQ,GAAGh2J,IAAI,CAAC27B,GAAG,CAACo9H,OAAO,GAAGr8H,CAAC;UACrD,CAAC;UACD,MAAM62B,QAAQ,GAAG,IAAIr0B,IAAI,CAACm1B,IAAI,CAACzxD,CAAC,EAAEyxD,IAAI,CAAC33B,CAAC,EAAE23B,IAAI,CAAClvC,KAAK,EAAEkvC,IAAI,CAAC52B,MAAM,CAAC;UAClE,MAAMy7H,OAAO,GAAG;YACdt2J,CAAC,EAAEo2J,SAAS,GAAGh5J,IAAI,CAAC6uB,GAAG,CAACoqI,UAAU,EAAExuC,UAAU,CAAC,GAAGquC,IAAI;YACtDp8H,CAAC,EAAEs8H,SAAS,GAAGF,IAAI,GAAG94J,IAAI,CAAC6uB,GAAG,CAACoqI,UAAU,EAAExuC,UAAU,CAAC;YACtDtlG,KAAK,EAAE6zI,SAAS,GAAGh5J,IAAI,CAAC27B,GAAG,CAACs9H,UAAU,GAAGxuC,UAAU,CAAC,GAAGurC,QAAQ;YAC/Dv4H,MAAM,EAAEu7H,SAAS,GAAGhD,QAAQ,GAAGh2J,IAAI,CAAC27B,GAAG,CAACs9H,UAAU,GAAGxuC,UAAU,CAAC;YAChEl3D;UACF,CAAC;UACD,MAAM;YACJqL,SAAS,EAAEu6F,cAAc;YACzBx0I,UAAU,EAAEy0I,eAAe;YAC3Bx0I,QAAQ,EAAEy0I,aAAa;YACvBx0I,UAAU,EAAEy0I,eAAe;YAC3Bx0I,KAAK,EAAE8mE,UAAU;YACjB5a;UACF,CAAC,GAAGjsD,KAAK;UACT,MAAMs6H,SAAS,GAAG,IAAI,CAACx4B,YAAY,CACjC,IAAI,CAAC9rG,UAAU,CAACgK,KAAK,EACrB;YACE6gB,KAAK,EAAEwtH,WAAW,CAAC9+C,UAAU,CAAC;YAC9Bj0G,KAAK,EAAEs4J,SAAS;YAChB5/H,IAAI;YACJwtG,IAAI;YACJ0iB,KAAK;YACL8K,KAAK;YACLjyD;UACF,CAAC,EACAt+F,CAAC,IAAKqR,cAAc,CAACrR,CAAC,CAAC,GAAGA,CAAC,CAACqvB,OAAO,CAAC,CAAC,CAAC,GAAG2sB,MAAM,CAACh8C,CAAC,CACpD,CAAC;UACD,MAAMkgF,UAAU,GAAG27D,SAAS,GAAG5+I,cAAc,CAAC;YAC5CgkB,IAAI,EAAE46H,SAAS;YACf35H,IAAI,EAAEkmE,UAAU;YAChBhtB,SAAS,EAAEu6F,cAAc;YACzBx0I,UAAU,EAAEy0I,eAAe;YAC3Bx0I,QAAQ,EAAEy0I,aAAa;YACvBx0I,UAAU,EAAEy0I;UACd,CAAC,EAAE7B,oBAAoB,CAAC;YACtBnrF,UAAU;YACV6kE,UAAU,EAAE,CAAC6nB,SAAS;YACtBhoF,SAAS;YACT3c;UACF,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;UACZ,MAAMklG,qBAAqB,GAAG,IAAI,CAAC9sB,YAAY,CAAC,CAAC,GAAGp4E,IAAI,CAAC52B,MAAM,GAAG42B,IAAI,CAAClvC,KAAK;UAC5E,MAAMggH,QAAQ,GAAG;YACf3rH,MAAM,EAAE,IAAI;YACZqoF,MAAM,EAAE0kC,IAAI;YACZ3gG,KAAK,EAAEwtH,WAAW,CAAC9+C,UAAU,CAAC;YAC9BA,UAAU;YACVw/C,eAAe,EAAErB,KAAK;YACtB1I,MAAM;YACNwD,MAAM,EAAEoL,SAAS;YACjBpyB,IAAI;YACJxtG,IAAI;YACJygI,WAAW,EAAE;cACXD,qBAAqB;cACrBE,SAAS,EAAEF;YACb,CAAC;YACD32J,CAAC,EAAEs2J,OAAO,CAACt2J,CAAC;YACZ85B,CAAC,EAAEw8H,OAAO,CAACx8H,CAAC;YACZvX,KAAK,EAAE+zI,OAAO,CAAC/zI,KAAK;YACpBsY,MAAM,EAAEy7H,OAAO,CAACz7H,MAAM;YACtButE,QAAQ,EAAE;cAAEpoG,CAAC,EAAEyxD,IAAI,CAACzxD,CAAC,GAAGyxD,IAAI,CAAClvC,KAAK,GAAG,CAAC;cAAEuX,CAAC,EAAE23B,IAAI,CAAC33B,CAAC,GAAG23B,IAAI,CAAC52B,MAAM,GAAG;YAAE,CAAC;YACrE/X,IAAI;YACJH,MAAM;YACN8sC,OAAO,EAAE,CAAC;YACVzsC,WAAW;YACX8tH,YAAY;YACZW,mBAAmB,EAAE2kB,SAAS,KAAKJ,QAAQ;YAC3CtkB,oBAAoB,EAAEskB,QAAQ;YAC9BrkB,uBAAuB,EAAEykB,SAAS,KAAKJ,QAAQ;YAC/CpkB,sBAAsB,EAAE,CAACokB,QAAQ;YACjCrlG,QAAQ;YACRxuC,KAAK,EAAE2+D,UAAU;YACjB6rB,OAAO,EAAEopD,SAAS,IAAI;UACxB,CAAC;UACD52G,OAAO,CAACojF,QAAQ,CAAC97H,IAAI,CAAC87H,QAAQ,CAAC;UAC/BpjF,OAAO,CAACwhC,SAAS,CAACl6E,IAAI,CAAC87H,QAAQ,CAAC;QAClC,CAAC,CAAC;MACJ,CAAC,CAAC;MACF,OAAOpjF,OAAO;IAChB,CAAC,CAAC;EACJ;EACA0rB,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI4nE,IAAI,CAAC,CAAC;EACnB;EACA1L,oBAAoBA,CAACjtH,IAAI,EAAE;IACzB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,OAAO2a,IAAI,CAACirH,cAAc,CAAC9uF,MAAM,CAC/Bn8B,IAAI,CAACyoH,QAAQ,EACZ9wE,IAAI,IAAK;QACRA,IAAI,CAACzvB,GAAG,GAAG,CAAC,CAAC;MACf,CAAC,EACAgB,KAAK,IAAK47E,aAAa,CAAC57E,KAAK,CAACmkH,MAAM,EAAEnkH,KAAK,CAAC0uE,UAAU,CACzD,CAAC;IACH,CAAC,CAAC;EACJ;EACA+1B,gBAAgBA,CAAC3tH,IAAI,EAAE;IACrB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAI,CAAC,IAAI,CAACgZ,UAAU,CAACQ,OAAO,CAAC,CAAC,EAAE;QAC9B;MACF;MACA,MAAM;QACJgrH,IAAI;QACJxuG,UAAU;QACVrS,IAAI;QACJC,WAAW;QACXJ,MAAM;QACNK,WAAW;QACXkwC,aAAa;QACbtwC,QAAQ;QACRwwC,cAAc;QACd7J,SAAS;QACT+8F,MAAM;QACNljI,cAAc,EAAE;UAAE/P,IAAI,EAAEyjJ;QAAmB;MAC7C,CAAC,GAAG,IAAI,CAAC3+I,UAAU;MACnB,MAAMywH,KAAK,GAAG,IAAI,CAACjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MACpC,MAAMg7H,KAAK,GAAG+gB,UAAU,CAAC9qB,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACrwD,YAAY,CAAC;MACrE,MAAMw+E,cAAc,GAAG,IAAI,CAAChE,oBAAoB,CAAC,CAAC,KAAK,GAAG,CAAC;MAC3Dj5I,IAAI,CAACirH,cAAc,CAACj5D,IAAI,CAAC,CAACra,IAAI,EAAEzuB,KAAK,KAAK;QACxC,IAAI58B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;QAClB,MAAMoL,KAAK,GAAG;UACZI,IAAI;UACJH,MAAM;UACNI,WAAW;UACXmwC,aAAa;UACbtwC,QAAQ;UACRwwC,cAAc;UACdG,UAAU,EAAE+yF,MAAM;UAClBtjI,WAAW,EAAE,IAAI,CAACggG,cAAc,CAAChgG,WAAW,CAAC;UAC7C8tH,YAAY,EAAE9tG,KAAK,CAAC8tG,YAAY;UAChCW,mBAAmB,EAAEzuG,KAAK,CAACyuG,mBAAmB;UAC9CC,oBAAoB,EAAE1uG,KAAK,CAAC0uG,oBAAoB;UAChDC,uBAAuB,EAAE3uG,KAAK,CAAC2uG,uBAAuB;UACtDC,sBAAsB,EAAE5uG,KAAK,CAAC4uG;QAChC,CAAC;QACD,MAAM1uH,OAAO,GAAG6zI,cAAc,GAAG,CAAC,CAACrgJ,EAAE,GAAG,CAACtQ,EAAE,GAAG48B,KAAK,CAAC2tB,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvqD,EAAE,CAACmc,KAAK,KAAK,IAAI,GAAG7L,EAAE,GAAGssB,KAAK,CAACzgB,KAAK,IAAI,CAAC,GAAG,CAAC,CAACjL,EAAE,GAAG,CAACX,EAAE,GAAGqsB,KAAK,CAAC2tB,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGh6C,EAAE,CAACkkB,MAAM,KAAK,IAAI,GAAGvjB,EAAE,GAAG0rB,KAAK,CAACnI,MAAM,IAAI,CAAC;QACxN,MAAM9rB,MAAM,GAAGykJ,aAAa,CAAC;UAC3BxwH,KAAK;UACLlD,GAAG,EAAE,IAAI,CAACA,GAAG;UACbkgF,QAAQ,EAAE,IAAI,CAAC59E,EAAE;UACjBqxH,aAAa,EAAE35I,IAAI,CAAC0tH,WAAW;UAC/BpkH,cAAc,EAAE0zI,kBAAkB;UAClCnzB,IAAI;UACJjhH,KAAK;UACL6mC,SAAS;UACTp0B;QACF,CAAC,CAAC;QACFpmB,MAAM,CAAC4jI,KAAK,GAAGA,KAAK;QACpB5jI,MAAM,CAACmU,OAAO,GAAGA,OAAO;QACxBqwI,UAAU,CAAC;UAAE9hG,IAAI;UAAE1iD;QAAO,CAAC,CAAC;MAC9B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAi4H,oBAAoBA,CAACltH,IAAI,EAAE;IACzB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAMgc,IAAI,GAAG,IAAI,CAACgtH,cAAc,CAAC,CAAC,GAAGruH,IAAI,CAAC6mE,SAAS,GAAG,EAAE;MACxD,OAAO7mE,IAAI,CAACsvE,cAAc,CAACnzC,MAAM,CAAC96B,IAAI,EAAG0G,IAAI,IAAK;QAChDA,IAAI,CAACmgB,GAAG,GAAG,CAAC,CAAC;QACbngB,IAAI,CAACkhB,aAAa,GAAG,CAAC,CAAC;MACzB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA2kG,gBAAgBA,CAAC5tH,IAAI,EAAE;IACrB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC2a,IAAI,CAACsvE,cAAc,CAACtd,IAAI,CAAC,CAAC8oF,QAAQ,EAAE5xH,KAAK,KAAK;QAC5C2xH,eAAe,CAACC,QAAQ,EAAE,IAAI,CAACz8I,UAAU,CAACgK,KAAK,EAAE6gB,KAAK,CAAC7gB,KAAK,CAAC;MAC/D,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAwvG,cAAcA,CAACmR,SAAS,EAAE;IACxB,IAAI18H,EAAE;IACN,MAAM;MACJg8B,EAAE,EAAE49E,QAAQ;MACZ5S,aAAa;MACbttE,GAAG,EAAE;QAAE49C;MAAc;IACvB,CAAC,GAAG,IAAI;IACR,MAAMkrD,KAAK,GAAG,IAAI,CAACqqB,eAAe,CAAC,CAAC;IACpC,MAAMpqB,KAAK,GAAG,IAAI,CAACmqB,YAAY,CAAC,CAAC;IACjC,IAAI,CAAC5lD,aAAa,IAAI,CAAC,IAAI,CAACj1F,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,CAACiwH,KAAK,IAAI,CAACC,KAAK,EAAE;MACpE,OAAOp4D,qBAAqB;IAC9B;IACA,MAAM;MAAEt6C,IAAI;MAAEwtG,IAAI;MAAE0iB,KAAK;MAAE8K,KAAK;MAAEruI,IAAI;MAAEH,MAAM;MAAEK,WAAW;MAAEO,OAAO;MAAEgmC,SAAS;MAAEp0B,UAAU;MAAE+pE;IAAe,CAAC,GAAG,IAAI,CAAC/mF,UAAU;IAC/H,MAAM;MAAEgvI,MAAM;MAAEwD,MAAM;MAAE3nH,KAAK;MAAEi8D;IAAO,CAAC,GAAG6jC,SAAS;IACnD,MAAMmvB,OAAO,GAAGrpB,KAAK,CAACrmD,WAAW,CAAC4kE,MAAM,CAAC;IACzC,MAAM+K,OAAO,GAAGrpB,KAAK,CAACtmD,WAAW,CAACooE,MAAM,CAAC;IACzC,MAAMhpI,KAAK,GAAG6jI,YAAY,CAAC2L,KAAK,CAAC;IACjC,MAAMtrF,OAAO,GAAG2/E,YAAY,CAACyM,OAAO,GAAG,IAAI,GAAGC,OAAO,CAAC;IACtD,IAAInoG,OAAO;IACX,IAAIR,SAAS,EAAE;MACbQ,OAAO,GAAG2zB,aAAa,CAACz/E,IAAI,CAACsrD,SAAS,EAAE;QACtCy2D,QAAQ;QACRh9E,KAAK;QACL7M,IAAI;QACJwtG,IAAI;QACJxuG,UAAU;QACVrS,IAAI;QACJH,MAAM;QACNK,WAAW,EAAE,IAAI,CAACggG,cAAc,CAAChgG,WAAW,CAAC;QAC7C8uI,WAAW,EAAE;MACf,CAAC,CAAC;IACJ;IACA,MAAM5vI,KAAK,GAAG,CAAC9b,EAAE,GAAG2jD,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACjnC,IAAI,KAAK,IAAI,GAAG1c,EAAE,GAAG0c,IAAI;IAChF,OAAOS,OAAO,CAACytD,aAAa,CAC1B;MAAErvD,KAAK;MAAEkkD,OAAO;MAAEoL,eAAe,EAAE/uD;IAAM,CAAC,EAC1CrkB,cAAc,CAAC;MACbmiH,QAAQ;MACR/gB,MAAM;MACNj8D,KAAK;MACL7M,IAAI;MACJwtG,IAAI;MACJ0iB,KAAK;MACL8K,KAAK;MACLh8H,UAAU;MACVxT,KAAK;MACLO,KAAK;MACLg9E;IACF,CAAC,EAAE,IAAI,CAACgkB,sBAAsB,CAAC,CAAC,CAClC,CAAC;EACH;EACAmN,aAAaA,CAACvzG,UAAU,EAAE;IACxB,IAAI1W,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAEyM;IAAa,CAAC,GAAG,IAAI,CAAChL,UAAU;IACxC,IAAI2E,UAAU,KAAK,UAAU,IAAI,EAAE,CAAC1W,EAAE,GAAG,IAAI,CAAC+U,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/U,EAAE,CAACrH,MAAM,CAAC,IAAI,CAAC,IAAI,CAACoZ,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,CAACwK,YAAY,EAAE;MAChI,OAAO,EAAE;IACX;IACA,MAAM;MAAEwgH,IAAI;MAAEwtB,KAAK;MAAEruI,IAAI;MAAEH,MAAM;MAAEK,WAAW;MAAED,WAAW;MAAEmwC,aAAa;MAAEgsC,cAAc;MAAEh8E;IAAQ,CAAC,GAAG,IAAI,CAAC/K,UAAU;IACvH,OAAO,CACL;MACE2E,UAAU,EAAE,UAAU;MACtBslB,EAAE,EAAE,IAAI,CAACA,EAAE;MACX68D,MAAM,EAAE0kC,IAAI;MACZ3jB,QAAQ,EAAE,IAAI,CAAC59E,EAAE;MACjBxgB,OAAO,EAAEsB,OAAO;MAChBf,KAAK,EAAE;QAAEN,IAAI,EAAE,CAACnL,EAAE,GAAGwoF,cAAc,IAAI,IAAI,GAAGA,cAAc,GAAGiyD,KAAK,KAAK,IAAI,GAAGz6I,EAAE,GAAGitH;MAAK,CAAC;MAC3Fj/G,MAAM,EAAE;QAAE5B,IAAI;QAAEC,WAAW;QAAEJ,MAAM;QAAEK,WAAW;QAAEkwC;MAAc,CAAC;MACjEgsC;IACF,CAAC,CACF;EACH;EACA+lC,uBAAuBA,CAAC;IAAEF,cAAc;IAAE37C,cAAc;IAAEw7C;EAAqB,CAAC,EAAE;IAChF,MAAMngI,GAAG,GAAG4vJ,4BAA4B,CAACN,4BAA4B,CAAC,IAAI,CAACxlB,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC52H,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC9GqgB,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,OAAO,EAAE,IAAI,CAACtC,GAAG,CAACmZ,gBAAgB,EAAE,CAAC8rF,cAAc,CAAC,EAAEtgI,GAAG,CAAC;IAChFghJ,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAEmwC,cAAc,CAAC;IACrFq8D,0BAA0B,CAAC,IAAI,EAAE,aAAa,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAE,GAAG2rF,oBAAoB,CAAC;EACrG;EACAY,yBAAyBA,CAACrqH,IAAI,EAAE;IAC9B,IAAI/U,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,MAAM;MAAEouH,cAAc;MAAE37C,cAAc;MAAEw7C,oBAAoB;MAAEqB;IAAoB,CAAC,GAAG9qH,IAAI;IAC1F,IAAI,CAAC2kB,GAAG,CAACmZ,gBAAgB,CAACg/C,sBAAsB,CAAC,IAAI,CAAC71D,EAAE,CAAC;IACzD,MAAM40H,QAAQ,GAAG,CAACtgJ,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACgnG,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhnG,EAAE,CAACyrG,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGn7F,EAAE,CAACwiG,IAAI;IAC1G,MAAMlhG,IAAI,GAAGiuH,mBAAmB,IAAI,IAAI,GAAG,MAAM,GAAG,QAAQ;IAC5D,MAAMxhI,GAAG,GAAG4vJ,4BAA4B,CAACN,4BAA4B,CAAC,IAAI,CAACxlB,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC52H,IAAI,EAAEK,IAAI,CAAC,CAAC;IAC1GggB,YAAY,CACV,IAAI,CAACoK,EAAE,EACP,OAAO,EACP,IAAI,CAACtC,GAAG,CAACmZ,gBAAgB,EACzB,CAAC8rF,cAAc,CAAC,EAChBtgI,GAAG,EACH,CAAC6sB,CAAC,EAAE0R,KAAK,KAAK47E,aAAa,CAAC57E,KAAK,CAACmkH,MAAM,EAAEnkH,KAAK,CAAC0uE,UAAU,CAAC,EAC3DslD,QACF,CAAC;IACD,MAAMzJ,SAAS,GAAG,CAAC52I,EAAE,GAAGqgJ,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAAClzE,OAAO,KAAK,IAAI,GAAGntE,EAAE,GAAG,IAAI;IACzF,IAAI42I,SAAS,EAAE;MACb9H,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAEmwC,cAAc,CAAC;MACrFq8D,0BAA0B,CAAC,IAAI,EAAE,aAAa,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAE,GAAG2rF,oBAAoB,CAAC;IACrG;EACF;EACAuD,cAAcA,CAAA,EAAG;IACf,OAAO,IAAI,CAAChwH,UAAU,CAACgK,KAAK,CAACP,OAAO;EACtC;EACA+gH,kBAAkBA,CAAC;IAAE7X,UAAU;IAAE1B;EAAW,CAAC,EAAE;IAC7C,IAAIhjH,EAAE;IACN,MAAM6wJ,QAAQ,GAAG,CAAC7wJ,EAAE,GAAG,IAAI,CAACy/H,eAAe,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGz/H,EAAE,CAACm8H,QAAQ,CAACzX,UAAU,CAAC,CAACn6D,QAAQ;IAChG,OAAO8jG,qBAAqB,CAACwC,QAAQ,EAAE,IAAI,CAAC3uD,YAAY,EAAE8gB,UAAU,CAAC;EACvE;AACF,CAAC;AACD0rC,SAAS,CAAC18I,SAAS,GAAG,WAAW;AACjC08I,SAAS,CAACnoJ,IAAI,GAAG,KAAK;;AAEtB;AACA,IAAIuqJ,eAAe,GAAG;EACpBvqJ,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,UAAU;EACtBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,WAAW,CAAC;EACzB3I,UAAU,EAAE,KAAK;EACjBmB,mBAAmB,EAAE8mJ,SAAS;EAC9Bn5I,SAAS,EAAE,IAAI;EACfC,SAAS,EAAE,IAAI;EACfL,WAAW,EAAE,CACX;IACE5O,IAAI,EAAE,QAAQ,CAAC;IACf2X,QAAQ,EAAE,MAAM,CAAC;EACnB,CAAC,EACD;IACE3X,IAAI,EAAE,UAAU,CAAC;IACjB2X,QAAQ,EAAE,QAAQ,CAAC;EACrB,CAAC,CACF;EACDxI,wBAAwB,EAAGlF,MAAM,IAAK,CAACA,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACyrD,SAAS,MAAM,YAAY;EACnGp0D,aAAa,EAAE;IACb2I,MAAM,EAAE;MACNy7I,WAAW,EAAEnzI,uBAAuB;MACpCmjD,SAAS,EAAE,UAAU;MACrBt/C,WAAW,EAAE,CAAC;MACdC,WAAW,EAAE,CAAC;MACdJ,QAAQ,EAAE,CAAC,CAAC,CAAC;MACbwwC,cAAc,EAAE,CAAC;MACjBjxC,KAAK,EAAE;QACLP,OAAO,EAAE,KAAK;QACdG,UAAU,EAAE,QAAQ,CAAC;QACrBC,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE7C,mBAAmB;QAC/B8C,KAAK,EAAE3C,kCAAkC;QACzC6uD,SAAS,EAAE;MACb,CAAC;MACDk4E,MAAM,EAAE;QACN1kI,OAAO,EAAE,KAAK;QACdM,KAAK,EAAErC,qBAAqB;QAC5ByW,OAAO,EAAE,CAAC;QACVC,OAAO,EAAE,CAAC;QACVw+B,IAAI,EAAE;MACR;IACF;EACF,CAAC;EACDv5C,uBAAuB,EAAE;IACvB5E,MAAM,EAAE;MACNugJ,QAAQ,EAAE;QACRC,GAAG,EAAE;UACHC,WAAW,EAAE;QACf;MACF;IACF;EACF,CAAC;EACD57I,cAAc,EAAEupI;AAClB,CAAC;;AAED;AACA,IAAIsS,0BAA0B,GAAI12J,CAAC,IAAK;EACtC,MAAMshB,KAAK,GAAG2yB,KAAK,CAAC/N,UAAU,CAAClmC,CAAC,CAAC;EACjC,MAAM,CAACwnC,CAAC,EAAE5J,CAAC,EAAEoB,CAAC,CAAC,GAAGiV,KAAK,CAAC9L,UAAU,CAAC7mB,KAAK,CAACb,CAAC,EAAEa,KAAK,CAACqkB,CAAC,EAAErkB,KAAK,CAACnkB,CAAC,CAAC;EAC7D,OAAO;IAAEqqC,CAAC;IAAE5J,CAAC;IAAEoB,CAAC;IAAE9hC,CAAC,EAAEokB,KAAK,CAACpkB;EAAE,CAAC;AAChC,CAAC;AACD,IAAIy5J,gBAAgB,GAAGA,CAACv3J,CAAC,EAAE85B,CAAC,EAAEl0B,CAAC,KAAK;EAClCA,CAAC,GAAG6yB,KAAK,CAAC,CAAC,EAAE7yB,CAAC,EAAE,CAAC,CAAC;EAClB,IAAIg6B,CAAC;EACL,IAAIpB,CAAC;EACL,IAAIz4B,MAAM,CAACyL,KAAK,CAACxR,CAAC,CAAC4/B,CAAC,CAAC,IAAI75B,MAAM,CAACyL,KAAK,CAACsoB,CAAC,CAAC8F,CAAC,CAAC,EAAE;IAC1CA,CAAC,GAAG,CAAC;IACLpB,CAAC,GAAG,CAAC;EACP,CAAC,MAAM,IAAIz4B,MAAM,CAACyL,KAAK,CAACxR,CAAC,CAAC4/B,CAAC,CAAC,EAAE;IAC5BA,CAAC,GAAG9F,CAAC,CAAC8F,CAAC;IACPpB,CAAC,GAAG1E,CAAC,CAAC0E,CAAC;EACT,CAAC,MAAM,IAAIz4B,MAAM,CAACyL,KAAK,CAACsoB,CAAC,CAAC8F,CAAC,CAAC,EAAE;IAC5BA,CAAC,GAAG5/B,CAAC,CAAC4/B,CAAC;IACPpB,CAAC,GAAGx+B,CAAC,CAACw+B,CAAC;EACT,CAAC,MAAM;IACL,MAAMg5H,EAAE,GAAGx3J,CAAC,CAAC4/B,CAAC;IACd,IAAI63H,EAAE,GAAG39H,CAAC,CAAC8F,CAAC;IACZ,MAAM83H,MAAM,GAAG59H,CAAC,CAAC8F,CAAC,GAAG5/B,CAAC,CAAC4/B,CAAC;IACxB,IAAI83H,MAAM,GAAG,GAAG,EAAE;MAChBD,EAAE,IAAI,GAAG;IACX,CAAC,MAAM,IAAIC,MAAM,GAAG,CAAC,GAAG,EAAE;MACxBD,EAAE,IAAI,GAAG;IACX;IACA73H,CAAC,GAAG43H,EAAE,IAAI,CAAC,GAAG5xJ,CAAC,CAAC,GAAG6xJ,EAAE,GAAG7xJ,CAAC;IACzB44B,CAAC,GAAGx+B,CAAC,CAACw+B,CAAC,IAAI,CAAC,GAAG54B,CAAC,CAAC,GAAGk0B,CAAC,CAAC0E,CAAC,GAAG54B,CAAC;EAC7B;EACA,MAAMwiC,CAAC,GAAGpoC,CAAC,CAACooC,CAAC,IAAI,CAAC,GAAGxiC,CAAC,CAAC,GAAGk0B,CAAC,CAACsO,CAAC,GAAGxiC,CAAC;EACjC,MAAM9H,CAAC,GAAGkC,CAAC,CAAClC,CAAC,IAAI,CAAC,GAAG8H,CAAC,CAAC,GAAGk0B,CAAC,CAACh8B,CAAC,GAAG8H,CAAC;EACjC,OAAOivC,KAAK,CAACvM,SAAS,CAACF,CAAC,EAAE5J,CAAC,EAAEoB,CAAC,EAAE9hC,CAAC,CAAC;AACpC,CAAC;AACD,IAAI65J,UAAU,GAAG,MAAM;EACrBryJ,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACqH,IAAI,GAAG,OAAO;IACnB,IAAI,CAACkwC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACW,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACpB,IAAI,CAACx3C,KAAK,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC;IAC5B,IAAI,CAAC4xJ,WAAW,GAAG,IAAI,CAAC5xJ,KAAK,CAACoN,GAAG,CAACkkJ,0BAA0B,CAAC;EAC/D;EACArhH,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEuH,MAAM;MAAEx3C,KAAK,EAAEQ;IAAO,CAAC,GAAG,IAAI;IACtC,IAAIg3C,MAAM,CAACz+C,MAAM,GAAG,CAAC,EAAE;MACrB4F,MAAM,CAACQ,QAAQ,CAAC,8CAA8C,CAAC;MAC/D,IAAIq4C,MAAM,CAACz+C,MAAM,KAAK,CAAC,EAAE;QACvBy+C,MAAM,CAAC/2C,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;MACnB,CAAC,MAAM,IAAI+2C,MAAM,CAACz+C,MAAM,KAAK,CAAC,EAAE;QAC9By+C,MAAM,CAAC/2C,IAAI,CAAC+2C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;MAC5B;IACF;IACA,KAAK,IAAI1+C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0+C,MAAM,CAACz+C,MAAM,EAAED,CAAC,EAAE,EAAE;MACtC,MAAMhB,CAAC,GAAG0/C,MAAM,CAAC1+C,CAAC,GAAG,CAAC,CAAC;MACvB,MAAMf,CAAC,GAAGy/C,MAAM,CAAC1+C,CAAC,CAAC;MACnB,IAAIhB,CAAC,IAAIC,CAAC,EAAE;QACV4G,MAAM,CAACQ,QAAQ,CAAC,6DAA6D,CAAC;QAC9Eq4C,MAAM,CAACoO,IAAI,CAAC,CAACC,EAAE,EAAEC,EAAE,KAAKD,EAAE,GAAGC,EAAE,CAAC;QAChC;MACF;IACF;IACA,IAAItlD,MAAM,CAACzH,MAAM,GAAGy+C,MAAM,CAACz+C,MAAM,EAAE;MACjC,KAAK,IAAID,CAAC,GAAG0H,MAAM,CAACzH,MAAM,EAAED,CAAC,GAAG0+C,MAAM,CAACz+C,MAAM,EAAED,CAAC,EAAE,EAAE;QAClD0H,MAAM,CAACC,IAAI,CAACD,MAAM,CAACzH,MAAM,GAAG,CAAC,GAAGyH,MAAM,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;MACtD;IACF;IACA,IAAI,CAACoxJ,WAAW,GAAG,IAAI,CAAC5xJ,KAAK,CAACoN,GAAG,CAACkkJ,0BAA0B,CAAC;EAC/D;EACA35G,OAAOA,CAAC39C,CAAC,EAAE;IACT,IAAI,CAACu9C,OAAO,CAAC,CAAC;IACd,MAAM;MAAEC,MAAM;MAAEx3C,KAAK,EAAEQ,MAAM;MAAEoxJ;IAAY,CAAC,GAAG,IAAI;IACnD,MAAMzyG,EAAE,GAAG3H,MAAM,CAAC,CAAC,CAAC;IACpB,MAAM4H,EAAE,GAAG5H,MAAM,CAACzwB,EAAE,CAAC,CAAC,CAAC,CAAC;IACxB,MAAMuxB,EAAE,GAAG93C,MAAM,CAAC,CAAC,CAAC;IACpB,MAAM+3C,EAAE,GAAG/3C,MAAM,CAACA,MAAM,CAACzH,MAAM,GAAG,CAAC,CAAC;IACpC,IAAIiB,CAAC,IAAImlD,EAAE,EAAE;MACX,OAAO7G,EAAE;IACX;IACA,IAAIt+C,CAAC,IAAIolD,EAAE,EAAE;MACX,OAAO7G,EAAE;IACX;IACA,IAAIxxC,KAAK;IACT,IAAIu9B,CAAC;IACL,IAAIkT,MAAM,CAACz+C,MAAM,KAAK,CAAC,EAAE;MACvB,MAAMkW,CAAC,GAAG,CAACjV,CAAC,GAAGmlD,EAAE,KAAKC,EAAE,GAAGD,EAAE,CAAC;MAC9B,MAAMxlD,IAAI,GAAG,CAAC,IAAI6G,MAAM,CAACzH,MAAM,GAAG,CAAC,CAAC;MACpCgO,KAAK,GAAGvG,MAAM,CAACzH,MAAM,IAAI,CAAC,GAAG,CAAC,GAAG3B,IAAI,CAAC6uB,GAAG,CAAC7uB,IAAI,CAACsI,KAAK,CAACuP,CAAC,IAAIzO,MAAM,CAACzH,MAAM,GAAG,CAAC,CAAC,CAAC,EAAEyH,MAAM,CAACzH,MAAM,GAAG,CAAC,CAAC;MACjGurC,CAAC,GAAG,CAACr1B,CAAC,GAAGlI,KAAK,GAAGpN,IAAI,IAAIA,IAAI;IAC/B,CAAC,MAAM;MACL,KAAKoN,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGywC,MAAM,CAACz+C,MAAM,GAAG,CAAC,EAAEgO,KAAK,EAAE,EAAE;QAClD,IAAI/M,CAAC,GAAGw9C,MAAM,CAACzwC,KAAK,GAAG,CAAC,CAAC,EAAE;UACzB;QACF;MACF;MACA,MAAMjP,CAAC,GAAG0/C,MAAM,CAACzwC,KAAK,CAAC;MACvB,MAAMhP,CAAC,GAAGy/C,MAAM,CAACzwC,KAAK,GAAG,CAAC,CAAC;MAC3Bu9B,CAAC,GAAG,CAACtqC,CAAC,GAAGlC,CAAC,KAAKC,CAAC,GAAGD,CAAC,CAAC;IACvB;IACA,MAAMutC,EAAE,GAAGusH,WAAW,CAAC7qJ,KAAK,CAAC;IAC7B,MAAMu+B,EAAE,GAAGssH,WAAW,CAAC7qJ,KAAK,GAAG,CAAC,CAAC;IACjC,OAAOwqJ,gBAAgB,CAAClsH,EAAE,EAAEC,EAAE,EAAEhB,CAAC,CAAC,CAAC5B,YAAY,CAAC,CAAC;EACnD;EACA6U,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC,IAAI,CAACV,OAAO,EACf;IACF,IAAI,CAACA,OAAO,GAAG,KAAK;IACpB,IAAI,CAAC5G,MAAM,CAAC,CAAC;IACb,IAAI,IAAI,CAAC4G,OAAO,EAAE;MAChBl4C,MAAM,CAACQ,QAAQ,CAAC,yCAAyC,CAAC;IAC5D;EACF;AACF,CAAC;AACDzG,eAAe,CAAC,CACdg+C,YAAY,CACb,EAAEi7G,UAAU,CAACp7J,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACdg+C,YAAY,CACb,EAAEi7G,UAAU,CAACp7J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;;AAEpC;AACA,IAAIs7J,kBAAkB,GAAG,cAAc7R,YAAY,CAAC;EAClD1gJ,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACk0G,OAAO,GAAG,EAAE;EACnB;AACF,CAAC;AACDp5J,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,EACzB9jB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE26H,kBAAkB,CAACt7J,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAAC4C,YAAY,EAAE;EAAEjpC,QAAQ,EAAE;AAAK,CAAC,CAAC,EAC1CgkB,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE26H,kBAAkB,CAACt7J,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC7C,IAAIw7J,iBAAiB,GAAG,cAAc/6F,KAAK,CAAC;EAC1C13D,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACwqB,SAAS,GAAG,KAAK;EACxB;AACF,CAAC;AACD1vE,eAAe,CAAC,CACdugD,QAAQ,CAAC8D,eAAe,CAAC,CAC1B,EAAEg1G,iBAAiB,CAACx7J,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AAC/C,IAAIy7J,sBAAsB,GAAG,cAAcp0B,yBAAyB,CAAC;EACnEt+H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACq0G,UAAU,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IACnD,IAAI,CAACvzI,MAAM,GAAG,IAAImzI,kBAAkB,CAAC,CAAC;IACtC,IAAI,CAAC11I,KAAK,GAAG,IAAI41I,iBAAiB,CAAC,CAAC;IACpC,IAAI,CAACx0I,OAAO,GAAG,IAAI4iI,aAAa,CAAC,CAAC;EACpC;AACF,CAAC;AACDznJ,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAE03G,sBAAsB,CAACz7J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAE03G,sBAAsB,CAACz7J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAE03G,sBAAsB,CAACz7J,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEo/I,sBAAsB,CAACz7J,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEo/I,sBAAsB,CAACz7J,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEo/I,sBAAsB,CAACz7J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEo/I,sBAAsB,CAACz7J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEo/I,sBAAsB,CAACz7J,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEo/I,sBAAsB,CAACz7J,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEo/I,sBAAsB,CAACz7J,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC4C,YAAY,EAAE;EAAEjpC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAEo/I,sBAAsB,CAACz7J,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,CAAC,CAC7B,EAAEq2G,sBAAsB,CAACz7J,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEo/I,sBAAsB,CAACz7J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE+3G,sBAAsB,CAACz7J,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE+3G,sBAAsB,CAACz7J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE+3G,sBAAsB,CAACz7J,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;;AAElD;AACA,IAAI27J,qBAAqB,GAAG,cAAcz0B,wBAAwB,CAAC;EACjEn+H,WAAWA,CAACqH,IAAI,EAAE+2H,WAAW,EAAE1gG,KAAK,EAAEpsB,MAAM,EAAE;IAC5C,KAAK,CAACjK,IAAI,EAAE+2H,WAAW,EAAE1gG,KAAK,EAAEpsB,MAAM,CAAC;IACvC,IAAI,CAACuhJ,OAAO,GAAGvhJ,MAAM,CAACuB,UAAU,CAACggJ,OAAO;EAC1C;AACF,CAAC;AACD,IAAIC,YAAY,GAAG,cAAcv0B,eAAe,CAAC;EAC/Cv+H,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAAC;MACJA,SAAS;MACTwsC,aAAa,EAAE0iB,gCAAgC;MAC/CziB,cAAc,EAAE0iB,iCAAiC;MACjD5iB,SAAS,EAAE,CACT,CAAC,CAAC,2CACF,CAAC,CAAC,oBACF,CAAC,CAAC,wBACH;MACDkjB,cAAc,EAAE,CAAC;MACjBC,UAAU,EAAE,IAAI;MAChBI,gCAAgC,EAAE,KAAK;MACvCE,iBAAiB,EAAE;QACjBliH,KAAK,EAAEyjI,YAAY;QACnBlhI,MAAM,EAAEmiI;MACV;IACF,CAAC,CAAC;IACF,IAAI,CAACxmC,SAAS,GAAG63C,qBAAqB;IACtC,IAAI,CAAC//I,UAAU,GAAG,IAAI6/I,sBAAsB,CAAC,CAAC;IAC9C,IAAI,CAACK,SAAS,GAAG,IAAInpB,WAAW,CAAC,CAAC;IAClC,IAAI,CAACopB,UAAU,GAAG,IAAIX,UAAU,CAAC,CAAC;EACpC;EACApqD,WAAWA,CAAC4iB,cAAc,EAAE;IAC1B,OAAOhxH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;MAClB,IAAI,CAAC,IAAI,CAACa,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,IAAI,CAACwC,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC+H,OAAO,EAClE;MACF,MAAMs+G,MAAM,GAAG,CAACp7H,EAAE,GAAG,IAAI,CAACuR,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvR,EAAE,CAAC87D,KAAK;MACxE,MAAMu/D,MAAM,GAAG,CAAC/qH,EAAE,GAAG,IAAI,CAACiB,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjB,EAAE,CAACwrD,KAAK;MACxE,MAAM;QAAE0/D,UAAU;QAAEC;MAAW,CAAC,GAAG,IAAI,CAACN,mBAAmB,CAAC;QAAEC,MAAM;QAAEC;MAAO,CAAC,CAAC;MAC/E,MAAM82B,cAAc,GAAG,IAAI,CAACD,UAAU,CAAC3rJ,IAAI;MAC3C,MAAM6rJ,aAAa,GAAG,IAAI,CAACH,SAAS,CAAC1rJ,IAAI;MACzC,MAAM;QAAEwpB,IAAI;QAAEwtG,IAAI;QAAEw0B,OAAO;QAAEM,QAAQ;QAAEC,WAAW;QAAET,UAAU;QAAEU,QAAQ;QAAEj0I;MAAO,CAAC,GAAG,IAAI,CAACvM,UAAU;MACpG,MAAM;QAAE07F,SAAS;QAAEzG;MAAc,CAAC,GAAG,MAAM,IAAI,CAAC60B,gBAAgB,CAAC9R,cAAc,EAAE,IAAI,CAACh1G,IAAI,EAAE;QAC1F0/B,KAAK,EAAE,CACLykE,WAAW,CAACnpF,IAAI,EAAEyrG,UAAU,EAAE;UAAEx/F,EAAE,EAAE;QAAW,CAAC,CAAC,EACjDk9E,WAAW,CAACqkB,IAAI,EAAE9B,UAAU,EAAE;UAAEz/F,EAAE,EAAE;QAAW,CAAC,CAAC,EACjD,IAAGq2H,QAAQ,GAAG,CAACn5C,WAAW,CAACm5C,QAAQ,EAAE,MAAM,EAAE;UAAEr2H,EAAE,EAAE;QAAe,CAAC,CAAC,CAAC,GAAG,EAAE,GAC1Eo9E,aAAa,CAACrpF,IAAI,EAAEyrG,UAAU,EAAE;UAAEx/F,EAAE,EAAE;QAAS,CAAC,CAAC,EACjDo9E,aAAa,CAACmkB,IAAI,EAAE9B,UAAU,EAAE;UAAEz/F,EAAE,EAAE;QAAS,CAAC,CAAC,EACjDo9E,aAAa,CAAC24C,OAAO,EAAEK,aAAa,EAAE;UAAEp2H,EAAE,EAAE;QAAY,CAAC,CAAC,EAC1D,IAAGu2H,QAAQ,GAAG,CAACn5C,aAAa,CAACm5C,QAAQ,EAAEJ,cAAc,EAAE;UAAEn2H,EAAE,EAAE;QAAa,CAAC,CAAC,CAAC,GAAG,EAAE,GAClF,IAAGq2H,QAAQ,GAAG,CAACj5C,aAAa,CAACi5C,QAAQ,EAAE,MAAM,EAAE;UAAEr2H,EAAE,EAAE;QAAa,CAAC,CAAC,CAAC,GAAG,EAAE;MAE9E,CAAC,CAAC;MACF,MAAMw2H,UAAU,GAAG/kD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,WAAW,CAAC;MAC7E,MAAM8rD,aAAa,GAAG,CAACliJ,EAAE,GAAGy2F,aAAa,CAAC5vD,MAAM,CAAC7qC,MAAM,CAACimJ,UAAU,CAAC,KAAK,IAAI,GAAGjiJ,EAAE,GAAG,EAAE;MACtF,IAAI,CAAC0hJ,SAAS,CAAC76G,MAAM,GAAG94B,MAAM,CAAC84B,MAAM,GAAG94B,MAAM,CAAC84B,MAAM,GAAGq7G,aAAa;MACrE,IAAIF,QAAQ,EAAE;QACZ,MAAMG,WAAW,GAAGjlD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,YAAY,CAAC;QAC/E,IAAI,CAACurD,UAAU,CAAC96G,MAAM,GAAG,CAAClmC,EAAE,GAAGohJ,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAGtrD,aAAa,CAAC5vD,MAAM,CAAC7qC,MAAM,CAACmmJ,WAAW,CAAC,KAAK,IAAI,GAAGxhJ,EAAE,GAAG,EAAE;QAC9H,IAAI,CAACghJ,UAAU,CAACtyJ,KAAK,GAAGiyJ,UAAU;QAClC,IAAI,CAACK,UAAU,CAACriH,MAAM,CAAC,CAAC;MAC1B;MACA,IAAI,CAAC8iC,cAAc,CAACxT,UAAU,CAAC,YAAY,CAAC;IAC9C,CAAC,CAAC;EACJ;EACAk9C,eAAeA,CAACpgD,SAAS,EAAE;IACzB,MAAM;MAAEwxC,SAAS;MAAEzG;IAAc,CAAC,GAAG,IAAI;IACzC,IAAI,CAACA,aAAa,IAAI,CAACyG,SAAS,EAC9B,OAAO,EAAE;IACX,MAAMzxE,EAAE,GAAGigC,SAAS,KAAK,GAAG,CAAC,UAAU,QAAQ,GAAG,QAAQ;IAC1D,MAAM02F,OAAO,GAAGllD,SAAS,CAACjH,2BAA2B,CAAC,IAAI,EAAExqE,EAAE,CAAC;IAC/D,MAAMob,MAAM,GAAGq2D,SAAS,CAAChvD,SAAS,CAAC,IAAI,EAAEziB,EAAE,EAAE,OAAO,EAAEgrE,aAAa,CAAC;IACpE,IAAI,CAAC2rD,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACthI,GAAG,CAAC9qB,IAAI,MAAM,OAAO,IAAI,CAACosJ,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACthI,GAAG,CAAC+5E,SAAS,MAAM,UAAU,EAAE;MAClI,OAAOh0D,MAAM;IACf;IACA,MAAM5lC,IAAI,GAAG,IAAI,CAACD,IAAI,CAAC0qD,SAAS,CAAC;IACjC,OAAOopC,gBAAgB,CAACz/E,MAAM,CAACwxB,MAAM,CAAC,EAAE5lC,IAAI,CAAC;EAC/C;EACAsrD,cAAcA,CAAA,EAAG;IACf,OAAO/jE,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;MACd,MAAM;QAAEgB,IAAI;QAAEk8F,SAAS;QAAEzG,aAAa;QAAEkrD,UAAU;QAAED;MAAU,CAAC,GAAG,IAAI;MACtE,MAAM;QAAEliI,IAAI;QAAEwtG,IAAI;QAAEw0B,OAAO;QAAEM,QAAQ;QAAEpS,KAAK;QAAE8K,KAAK;QAAE6H,QAAQ;QAAEC,SAAS;QAAE92I,KAAK;QAAEw2I,QAAQ;QAAEj0I,MAAM;QAAExB;MAAQ,CAAC,GAAG,IAAI,CAAC/K,UAAU;MAC9H,MAAM+jI,WAAW,GAAG7a,SAAS,CAAC38G,MAAM,CAACjB,KAAK,CAAC;MAC3C,MAAM;QAAE2qD;MAAU,CAAC,GAAGjsD,KAAK;MAC3B,MAAMymH,KAAK,GAAGjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MAC/B,MAAMkxH,KAAK,GAAGlxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MAC/B,IAAI,EAAEk8F,SAAS,IAAIzG,aAAa,IAAIlqF,OAAO,IAAI0lH,KAAK,IAAIC,KAAK,CAAC,EAAE;QAC9D;MACF;MACA,MAAMqwB,QAAQ,GAAGrlD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,QAAQ,CAAC;MACxE,MAAMosD,QAAQ,GAAGtlD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,QAAQ,CAAC;MACxE,MAAMqsD,WAAW,GAAGjB,OAAO,GAAGtkD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC;MAC7F,MAAMssD,YAAY,GAAGV,QAAQ,GAAG9kD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC;MAChG,MAAMusD,YAAY,GAAGb,QAAQ,GAAG5kD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC;MAChG,MAAMy0B,MAAM,GAAGoH,KAAK,CAAC1mE,KAAK;MAC1B,MAAMu/D,MAAM,GAAGoH,KAAK,CAAC3mE,KAAK;MAC1B,MAAM5rC,OAAO,GAAG,CAAC,CAAClwB,EAAE,GAAGo7H,MAAM,CAACvjF,SAAS,KAAK,IAAI,GAAG73C,EAAE,GAAG,CAAC,IAAI,CAAC;MAC9D,MAAMmwB,OAAO,GAAG,CAAC,CAAC7f,EAAE,GAAG+qH,MAAM,CAACxjF,SAAS,KAAK,IAAI,GAAGvnC,EAAE,GAAG,CAAC,IAAI,CAAC;MAC9D,MAAM6rH,QAAQ,GAAG,EAAE;MACnB81B,SAAS,CAACryJ,KAAK,GAAG,CAAC0e,MAAM,CAAChB,IAAI,EAAEgB,MAAM,CAACozI,OAAO,CAAC;MAC/C,MAAMhhG,IAAI,GAAG30C,KAAK,CAAC60C,OAAO,CAAC,CAAC;MAC5B,KAAK,MAAM;QAAErkD,MAAM;QAAEqwB;MAAM,CAAC,IAAI,CAACrsB,EAAE,GAAGy2F,aAAa,CAACjyF,IAAI,KAAK,IAAI,GAAGxE,EAAE,GAAG,EAAE,EAAE;QAC3E,MAAMg5I,MAAM,GAAGh9I,MAAM,CAACumJ,QAAQ,CAAC;QAC/B,MAAMvI,MAAM,GAAGh+I,MAAM,CAACwmJ,QAAQ,CAAC;QAC/B,MAAMn5J,CAAC,GAAGwhI,MAAM,CAAC7jF,OAAO,CAACgyG,MAAM,CAAC,GAAGr5H,OAAO;QAC1C,MAAMwD,CAAC,GAAG2nG,MAAM,CAAC9jF,OAAO,CAACgzG,MAAM,CAAC,GAAGp6H,OAAO;QAC1C,MAAMkmH,SAAS,GAAG,IAAI,CAACx4B,YAAY,CAAC9hG,KAAK,EAAE;UACzC1kB,KAAK,EAAEg7J,QAAQ,GAAG9lJ,MAAM,CAAC2mJ,YAAY,CAAC,GAAG3I,MAAM;UAC/C3tH,KAAK;UACL7M,IAAI;UACJwtG,IAAI;UACJw0B,OAAO;UACPM,QAAQ;UACRpS,KAAK;UACL8K,KAAK;UACL6H,QAAQ;UACRC;QACF,CAAC,CAAC;QACF,MAAMv1I,IAAI,GAAGo5C,IAAI,CAACP,WAAW,CAAC3f,MAAM,CAAC6/F,SAAS,CAAC,EAAE3lF,IAAI,CAAC;QACtD,MAAMogF,UAAU,GAAGihB,OAAO,GAAGE,SAAS,CAAC16G,OAAO,CAAChrC,MAAM,CAACymJ,WAAW,CAAC,CAAC,GAAG10I,MAAM,CAAChB,IAAI;QACjF,MAAMZ,IAAI,GAAG61I,QAAQ,GAAGL,UAAU,CAAC36G,OAAO,CAAChrC,MAAM,CAAC0mJ,YAAY,CAAC,CAAC,GAAG,KAAK,CAAC;QACzE92B,QAAQ,CAAC97H,IAAI,CAAC;UACZmQ,MAAM,EAAE,IAAI;UACZqoF,MAAM,EAAE0kC,IAAI;UACZA,IAAI;UACJxtG,IAAI;UACJ6M,KAAK;UACLmkH,MAAM,EAAEwI,MAAM;UACdhF,MAAM,EAAEgG,MAAM;UACd4I,SAAS,EAAE5mJ,MAAM,CAACymJ,WAAW,CAAC;UAC9B1hG,KAAK,EAAE;YAAE13D,CAAC;YAAE85B,CAAC;YAAEpW,IAAI,EAAEwzH;UAAW,CAAC;UACjC9uC,QAAQ,EAAE;YAAEpoG,CAAC;YAAE85B;UAAE,CAAC;UAClBhX,IAAI;UACJX,KAAK,EAAEtkB,cAAc,CAAC;YAAEgkB,IAAI,EAAE46H;UAAU,CAAC,EAAE/4H,IAAI,CAAC;UAChDgB,MAAM,EAAEw3H,WAAW;UACnB9tE;QACF,CAAC,CAAC;MACJ;MACA,OAAO;QACL6wB,MAAM,EAAE0kC,IAAI;QACZpB,QAAQ;QACR5hD,SAAS,EAAE4hD,QAAQ;QACnB2nB,MAAM,EAAE,IAAI,CAACvf,gBAAgB,CAAC,CAAC;QAC/BznH,OAAO,EAAE,IAAI,CAACA;MAChB,CAAC;IACH,CAAC,CAAC;EACJ;EACAujH,sBAAsBA,CAAA,EAAG;IACvB,OAAO,IAAI,CAACtuH,UAAU,CAACuM,MAAM,CAACqZ,OAAO,CAAC,CAAC;EACzC;EACAuyF,YAAYA,CAAA,EAAG;IACb,IAAIlqH,EAAE,EAAEsQ,EAAE;IACV,OAAO,CAACA,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACy/H,eAAe,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGz/H,EAAE,CAACu6E,SAAS,KAAK,IAAI,GAAGjqE,EAAE,GAAG,EAAE;EAC7F;EACAguH,aAAaA,CAAA,EAAG;IACd,MAAM;MAAEjhH;IAAM,CAAC,GAAG,IAAI,CAACtL,UAAU,CAACuM,MAAM;IACxC,MAAMwiH,WAAW,GAAG7F,SAAS,CAAC59G,KAAK,CAAC;IACpC,OAAO,IAAIyjH,WAAW,CAAC,CAAC;EAC1B;EACAD,qBAAqBA,CAACntH,IAAI,EAAE;IAC1B,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEojI,QAAQ;QAAEyC;MAAgB,CAAC,GAAGlrH,IAAI;MAC1C,IAAI,IAAI,CAAC3B,UAAU,CAACuM,MAAM,CAACqZ,OAAO,CAAC,CAAC,EAAE;QACpCinG,eAAe,CAAChiI,KAAK,CAAC,CAAC;QACvBgiI,eAAe,CAAC9pF,OAAO,CAAC,CAAC;MAC3B;MACA,MAAM//B,IAAI,GAAG,IAAI,CAAChD,UAAU,CAACuM,MAAM,CAAC9C,OAAO,GAAG2gH,QAAQ,GAAG,EAAE;MAC3D,OAAOyC,eAAe,CAAC/uF,MAAM,CAC3B96B,IAAI,EACJ,KAAK,CAAC,EACL6nB,KAAK,IAAK47E,aAAa,CAAC,CAAC57E,KAAK,CAACmkH,MAAM,EAAEnkH,KAAK,CAAC2nH,MAAM,EAAE3nH,KAAK,CAAC7gB,KAAK,CAACN,IAAI,CAAC,CACzE,CAAC;IACH,CAAC,CAAC;EACJ;EACA0lH,iBAAiBA,CAACztH,IAAI,EAAE;IACtB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAE6lI,eAAe;QAAEwC,WAAW,EAAEsqB;MAAY,CAAC,GAAGh4I,IAAI;MAC1D,MAAM;QAAEqc,IAAI;QAAEwtG,IAAI;QAAEw0B,OAAO;QAAEM,QAAQ;QAAE/zI;MAAO,CAAC,GAAG,IAAI,CAACvM,UAAU;MACjE,MAAM45I,SAAS,GAAGh/I,aAAa,CAAC++I,WAAW,IAAI,IAAI,CAAC35I,UAAU,CAACiL,cAAc,CAAC/P,IAAI,EAAEqR,MAAM,CAAC2/F,QAAQ,CAAC,CAAC,CAAC;MACtG,IAAI,CAACg0C,SAAS,CAACryJ,KAAK,GAAG,CAAC0e,MAAM,CAAChB,IAAI,EAAEgB,MAAM,CAACozI,OAAO,CAAC;MACpD9yB,eAAe,CAACl5D,IAAI,CAAC,CAAC9xD,IAAI,EAAEgpB,KAAK,KAAK;QACpC,IAAI,CAACwhF,iBAAiB,CAACxqG,IAAI,EAAE0K,MAAM,EAAE;UAAEse,KAAK;UAAE8uH,WAAW;UAAE37H,IAAI;UAAEwtG,IAAI;UAAEw0B,OAAO;UAAEM;QAAS,CAAC,EAAE1G,SAAS,CAAC;MACxG,CAAC,CAAC;MACF,IAAI,CAACD,WAAW,EAAE;QAChB,IAAI,CAAC35I,UAAU,CAACuM,MAAM,CAACmZ,SAAS,CAAC,CAAC;MACpC;IACF,CAAC,CAAC;EACJ;EACAmpG,oBAAoBA,CAACltH,IAAI,EAAE;IACzB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE;MACV,MAAM8iJ,YAAY,GAAG,IAAI,CAACrhJ,UAAU,CAACgK,KAAK,CAACP,OAAO,GAAG,CAAClL,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACqzE,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGrzE,EAAE,CAAC6nE,WAAW,CAAC,CAAC,CAACpxE,GAAG,CAAC,IAAI,CAAC,KAAK,IAAI,GAAG6Z,EAAE,GAAG,EAAE,GAAG,EAAE;MAClJ,OAAOoD,IAAI,CAACsvE,cAAc,CAACnzC,MAAM,CAC/BujH,YAAY,CAACpmJ,GAAG,CAAExS,CAAC,IAAK1C,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE+C,CAAC,CAACoiC,KAAK,CAAC,EAAE;QACjE00B,KAAK,EAAE;UACL13D,CAAC,EAAEY,CAAC,CAACZ,CAAC;UACN85B,CAAC,EAAEl5B,CAAC,CAACk5B,CAAC;UACNpW,IAAI,EAAE9iB,CAAC,CAACoiC,KAAK,CAAC00B,KAAK,CAACh0C;QACtB;MACF,CAAC,CAAC,CACJ,CAAC;IACH,CAAC,CAAC;EACJ;EACAgkH,gBAAgBA,CAAC5tH,IAAI,EAAE;IACrB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEgjB;MAAM,CAAC,GAAG,IAAI,CAAChK,UAAU;MACjC2B,IAAI,CAACsvE,cAAc,CAACtd,IAAI,CAAC,CAACjqD,IAAI,EAAEmhB,KAAK,KAAK;QACxC,IAAI58B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;QAClBuK,IAAI,CAACA,IAAI,GAAGmhB,KAAK,CAAC7gB,KAAK,CAACN,IAAI;QAC5BA,IAAI,CAACiB,IAAI,GAAGX,KAAK,CAACD,KAAK;QACvBL,IAAI,CAAC7hB,CAAC,GAAG,CAAC0W,EAAE,GAAG,CAACtQ,EAAE,GAAG48B,KAAK,CAAC00B,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtxD,EAAE,CAACpG,CAAC,KAAK,IAAI,GAAG0W,EAAE,GAAG,CAAC;QAC3EmL,IAAI,CAACiY,CAAC,GAAG,CAACxiB,EAAE,GAAG,CAACX,EAAE,GAAGqsB,KAAK,CAAC00B,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/gD,EAAE,CAACmjB,CAAC,KAAK,IAAI,GAAGxiB,EAAE,GAAG,CAAC;QAC3EuK,IAAI,CAACm6C,SAAS,GAAG75C,KAAK,CAAC65C,SAAS;QAChCn6C,IAAI,CAACE,UAAU,GAAGI,KAAK,CAACJ,UAAU;QAClCF,IAAI,CAACG,QAAQ,GAAGG,KAAK,CAACH,QAAQ;QAC9BH,IAAI,CAACI,UAAU,GAAGE,KAAK,CAACF,UAAU;QAClCJ,IAAI,CAAC80C,SAAS,GAAG,MAAM;QACvB90C,IAAI,CAAC+0C,YAAY,GAAG,KAAK;MAC3B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA+6D,cAAcA,CAACmR,SAAS,EAAE;IACxB,IAAI18H,EAAE;IACN,MAAMwiI,KAAK,GAAG,IAAI,CAACjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IACpC,MAAMkxH,KAAK,GAAG,IAAI,CAAClxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IACpC,IAAI,CAAC,IAAI,CAACQ,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,CAACiwH,KAAK,IAAI,CAACC,KAAK,EAAE;MAClD,OAAOp4D,qBAAqB;IAC9B;IACA,MAAM;MAAEt6C,IAAI;MAAEwtG,IAAI;MAAEw0B,OAAO;MAAEM,QAAQ;MAAEpS,KAAK;MAAE8K,KAAK;MAAE6H,QAAQ;MAAEC,SAAS;MAAEv0I,MAAM;MAAEnB;IAAQ,CAAC,GAAG,IAAI,CAACpL,UAAU;IAC7G,MAAMwJ,KAAK,GAAG,CAACvb,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwJ,KAAK,KAAK,IAAI,GAAGvb,EAAE,GAAG+qJ,KAAK;IAC/D,MAAMY,SAAS,GAAGh/I,aAAa,CAC7B;MAAE+P,IAAI,EAAEggH,SAAS,CAAChgH,IAAI;MAAEE,WAAW,EAAE,IAAI,CAACggG,cAAc,CAACt+F,MAAM,CAAC1B,WAAW;IAAE,CAAC,EAC9E0B,MAAM,CAAC2/F,QAAQ,CAAC,CAClB,CAAC;IACD,MAAM;MAAEvhG,IAAI,EAAEZ,KAAK,GAAG;IAAO,CAAC,GAAG,IAAI,CAACiiG,cAAc,CAClDz/F,MAAM,EACN;MAAEse,KAAK,EAAE8/F,SAAS;MAAEgvB,WAAW,EAAE,KAAK;MAAE37H,IAAI;MAAEwtG,IAAI;MAAEw0B,OAAO;MAAEM;IAAS,CAAC,EACvE1G,SACF,CAAC;IACD,MAAM;MACJ/uH,KAAK;MACLmkH,MAAM;MACNwD,MAAM;MACN4O,SAAS;MACTp3I,KAAK,EAAE;QAAEN,IAAI,EAAE46H;MAAU,CAAC;MAC1Bx9C;IACF,CAAC,GAAG6jC,SAAS;IACb,MAAMmvB,OAAO,GAAGzM,YAAY,CAAC5c,KAAK,CAACrmD,WAAW,CAAC4kE,MAAM,CAAC,CAAC;IACvD,MAAM+K,OAAO,GAAG1M,YAAY,CAAC3c,KAAK,CAACtmD,WAAW,CAACooE,MAAM,CAAC,CAAC;IACvD,IAAI9kF,OAAO,GAAG,MAAM2/E,YAAY,CAACa,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGlwH,IAAI,CAAC,SAAS87H,OAAO,UAAUzM,YAAY,CAAC2L,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGxtB,IAAI,CAAC,SAASuuB,OAAO,EAAE;IACpJ,IAAIiG,OAAO,EAAE;MACXtyF,OAAO,IAAI,UAAU2/E,YAAY,CAACwT,QAAQ,IAAI,IAAI,GAAGA,QAAQ,GAAGb,OAAO,CAAC,SAAS3S,YAAY,CAAC5oG,MAAM,CAAC28G,SAAS,CAAC,CAAC,EAAE;IACpH;IACA,IAAId,QAAQ,EAAE;MACZ5yF,OAAO,GAAG,MAAM2/E,YAAY,CAACyT,SAAS,IAAI,IAAI,GAAGA,SAAS,GAAGR,QAAQ,CAAC,SAASjT,YAAY,CAAC/I,SAAS,CAAC,MAAM,GAAG52E,OAAO;IACxH;IACA,OAAOtiD,OAAO,CAACytD,aAAa,CAC1B;MAAErvD,KAAK;MAAEkkD,OAAO;MAAEoL,eAAe,EAAE/uD;IAAM,CAAC,EAC1C;MACE8gB,KAAK;MACLi8D,MAAM;MACN9oE,IAAI;MACJkwH,KAAK;MACL1iB,IAAI;MACJwtB,KAAK;MACLgH,OAAO;MACPa,QAAQ;MACRP,QAAQ;MACRQ,SAAS;MACTt3I,KAAK;MACLO,KAAK;MACL89F,QAAQ,EAAE,IAAI,CAAC59E;IACjB,CACF,CAAC;EACH;EACAiuF,aAAaA,CAAA,EAAG;IACd,IAAIjqH,EAAE,EAAEsQ,EAAE;IACV,IAAI,EAAE,CAACtQ,EAAE,GAAG,IAAI,CAAC+U,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/U,EAAE,CAACrH,MAAM,CAAC,IAAI,CAAC,IAAI,CAACoZ,UAAU,CAACQ,OAAO,CAAC,CAAC,EAAE;MAClF,OAAO,EAAE;IACX;IACA,MAAM;MAAEgrH,IAAI;MAAEwtB,KAAK;MAAExvI,KAAK;MAAE+C,MAAM;MAAExB;IAAQ,CAAC,GAAG,IAAI,CAAC/K,UAAU;IAC/D,MAAM;MAAEsL,KAAK;MAAEX,IAAI;MAAEH,MAAM;MAAEI,WAAW;MAAEmwC,aAAa;MAAElwC;IAAY,CAAC,GAAG0B,MAAM;IAC/E,OAAO,CACL;MACE5H,UAAU,EAAE,UAAU;MACtBslB,EAAE,EAAE,IAAI,CAACA,EAAE;MACX68D,MAAM,EAAE0kC,IAAI;MACZ3jB,QAAQ,EAAE,IAAI,CAAC59E,EAAE;MACjBxgB,OAAO,EAAEsB,OAAO;MAChBf,KAAK,EAAE;QACLN,IAAI,EAAE,CAACnL,EAAE,GAAGiL,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGwvI,KAAK,KAAK,IAAI,GAAGz6I,EAAE,GAAGitH;MAC5D,CAAC;MACDj/G,MAAM,EAAE;QACNjB,KAAK;QACLX,IAAI,EAAEA,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,kBAAkB;QAC9CH,MAAM,EAAEA,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAG,kBAAkB;QACpDI,WAAW,EAAEA,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAG,CAAC;QAClDmwC,aAAa,EAAEA,aAAa,IAAI,IAAI,GAAGA,aAAa,GAAG,CAAC;QACxDlwC,WAAW,EAAEA,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAG;MACnD;IACF,CAAC,CACF;EACH;EACAiiH,uBAAuBA,CAAC;IAAED,eAAe;IAAE57C;EAAe,CAAC,EAAE;IAC3Ds9D,sBAAsB,CAAC,IAAI,EAAE,IAAI,CAAC5mH,GAAG,CAACmZ,gBAAgB,EAAE+rF,eAAe,CAAC;IACxEygB,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAEmwC,cAAc,CAAC;EACvF;EACA++C,cAAcA,CAAA,EAAG;IACf,OAAO,IAAI,CAAChwH,UAAU,CAACgK,KAAK,CAACP,OAAO;EACtC;EACAipD,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI1Y,KAAK,CAAC,CAAC;EACpB;EACAm1F,uBAAuBA,CAACtkH,KAAK,EAAE;IAC7B,MAAM;MAAE7M,IAAI;MAAEwtG,IAAI;MAAEw0B,OAAO;MAAEM;IAAS,CAAC,GAAG,IAAI,CAACtgJ,UAAU;IACzD,OAAO,IAAI,CAACgsG,cAAc,CAAC,IAAI,CAAChsG,UAAU,CAACuM,MAAM,EAAE;MACjDse,KAAK;MACL7M,IAAI;MACJwtG,IAAI;MACJw0B,OAAO;MACPM,QAAQ;MACR3G,WAAW,EAAE;IACf,CAAC,CAAC;EACJ;EACAnvB,kBAAkBA,CAAC7oH,IAAI,EAAE;IACvB,OAAOutI,wBAAwB,CAAC,IAAI,EAAEvtI,IAAI,CAAC;EAC7C;AACF,CAAC;AACDs+I,YAAY,CAAChgJ,SAAS,GAAG,cAAc;AACvCggJ,YAAY,CAACzrJ,IAAI,GAAG,QAAQ;;AAE5B;AACA,IAAI8sJ,kBAAkB,GAAG;EACvB9sJ,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,UAAU;EACtBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,WAAW,CAAC;EACzB3I,UAAU,EAAE,QAAQ;EACpBmB,mBAAmB,EAAEoqJ,YAAY;EACjC78I,WAAW,EAAE,CACX;IACE5O,IAAI,EAAE,QAAQ,CAAC;IACf2X,QAAQ,EAAE,QAAQ,CAAC;EACrB,CAAC,EACD;IACE3X,IAAI,EAAE,QAAQ,CAAC;IACf2X,QAAQ,EAAE,MAAM,CAAC;EACnB,CAAC,CACF;EACDrW,aAAa,EAAE;IACb2I,MAAM,EAAE;MACNy7I,WAAW,EAAEnzI,uBAAuB;MACpCqE,OAAO,EAAE;QAAEe,QAAQ,EAAE;UAAE3X,IAAI,EAAE;QAAO;MAAE,CAAC;MACvC+X,MAAM,EAAE;QACN2tI,WAAW,EAAElzI,iCAAiC;QAC9C24I,OAAO,EAAE,EAAE;QACX/0I,WAAW,EAAE;MACf,CAAC;MACDZ,KAAK,EAAE;QACLP,OAAO,EAAE,KAAK;QACdI,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE7C,mBAAmB;QAC/B8C,KAAK,EAAE7C;MACT;IACF;EACF,CAAC;EACD5D,cAAc,EAAEwpI;AAClB,CAAC;;AAED;AACA,IAAIyU,yBAAyB,GAAG,cAAc91B,yBAAyB,CAAC;EACtEt+H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC7gC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACkwC,aAAa,GAAG,CAAC;IACtB,IAAI,CAACtwC,QAAQ,GAAG,CAAC,CAAC,CAAC;IACnB,IAAI,CAACwwC,cAAc,GAAG,CAAC;IACvB,IAAI,CAAC09E,YAAY,GAAG,CAAC;IACrB,IAAI,CAAC6oB,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACtT,MAAM,GAAG,IAAIR,UAAU,CAAC,CAAC;IAC9B,IAAI,CAAC3jI,KAAK,GAAG,IAAI66C,KAAK,CAAC,CAAC;IACxB,IAAI,CAACz5C,OAAO,GAAG,IAAI4iI,aAAa,CAAC,CAAC;EACpC;AACF,CAAC;AACDznJ,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAEo5G,yBAAyB,CAACn9J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE8gJ,yBAAyB,CAACn9J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE8gJ,yBAAyB,CAACn9J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE8gJ,yBAAyB,CAACn9J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAE8gJ,yBAAyB,CAACn9J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE84G,yBAAyB,CAACn9J,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACzDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAE8gJ,yBAAyB,CAACn9J,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEg5G,yBAAyB,CAACn9J,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACzDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE84G,yBAAyB,CAACn9J,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AAC3DmC,eAAe,CAAC,CACdugD,QAAQ,CAACmD,SAAS,CAAC,CACpB,EAAEs3G,yBAAyB,CAACn9J,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEg5G,yBAAyB,CAACn9J,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AAC5DmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEg5G,yBAAyB,CAACn9J,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AAC1DmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEs5G,yBAAyB,CAACn9J,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC8B,KAAK,EAAE;EAAEnoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACpC,EAAE8gJ,yBAAyB,CAACn9J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACiD,KAAK,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,EAAE,yBAAyB,CAAC,CAAC,CACrE,EAAEw3G,yBAAyB,CAACn9J,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACzDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE8gJ,yBAAyB,CAACn9J,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEy5G,yBAAyB,CAACn9J,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEy5G,yBAAyB,CAACn9J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEy5G,yBAAyB,CAACn9J,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;;AAErD;AACA,IAAIs9J,eAAe,GAAG,EAAE;AACxB,IAAIC,eAAe,GAAG,cAAcj2B,eAAe,CAAC;EAClDv+H,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAAC;MACJA,SAAS;MACTwsC,aAAa,EAAE0iB,gCAAgC;MAC/CziB,cAAc,EAAE0iB,iCAAiC;MACjD5iB,SAAS,EAAE,CAAC,CAAC,CAAC,wBAAwB;MACtCsjB,+BAA+B,EAAE,KAAK;MACtCG,iBAAiB,EAAE;QACjBrhG,KAAK,EAAEwxH,oBAAoB;QAC3BryI,KAAK,EAAEyjI;MACT;IACF,CAAC,CAAC;IACF,IAAI,CAACztI,UAAU,GAAG,IAAIuhJ,yBAAyB,CAAC,CAAC;IACjD,IAAI,CAACK,cAAc,GAAG,EAAE;EAC1B;EACA;EACA;EACAC,UAAUA,CAACC,OAAO,EAAE;IAClB,MAAMC,SAAS,GAAG/uG,aAAa,CAAC8uG,OAAO,CAAC,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,CAAC,EAAEJ,eAAe,CAAC;IACxE,MAAMM,OAAO,GAAG7uG,QAAQ,CAAC2uG,OAAO,CAAC,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,CAAC,EAAEJ,eAAe,CAAC;IACjE,MAAM,CAACO,WAAW,CAAC,GAAGF,SAAS;IAC/B,MAAMG,gBAAgB,GAAIluI,CAAC,IAAK,CAACA,CAAC,EAAEA,CAAC,GAAGguI,OAAO,CAAC;IAChD,OAAO,CAAC,CAACC,WAAW,GAAGD,OAAO,EAAEC,WAAW,CAAC,EAAE,GAAGF,SAAS,CAAC9mJ,GAAG,CAACinJ,gBAAgB,CAAC,CAAC;EACnF;EACAC,iBAAiBA,CAAC98G,MAAM,EAAE+8G,QAAQ,EAAE;IAClC,MAAMC,UAAU,GAAGp9J,IAAI,CAACsI,KAAK,CAAC83C,MAAM,CAAC,CAAC,CAAC,CAAC;IACxC,MAAMt3C,IAAI,GAAGs3C,MAAM,CAAC,CAAC,CAAC;IACtB,MAAMiyF,QAAQ,GAAG8qB,QAAQ,IAAI,CAAC;IAC9B,MAAM;MAAEt0J,KAAK;MAAEk0J;IAAQ,CAAC,GAAG,IAAI,CAAC3qB,kBAAkB,CAACgrB,UAAU,EAAEt0J,IAAI,EAAEupI,QAAQ,CAAC;IAC9E,OAAO,IAAI,CAACgrB,OAAO,CAACx0J,KAAK,EAAEC,IAAI,EAAEi0J,OAAO,EAAE1qB,QAAQ,CAAC;EACrD;EACAgrB,OAAOA,CAACx0J,KAAK,EAAEC,IAAI,EAAEvG,IAAI,EAAEq1B,KAAK,EAAE;IAChC,MAAM0lI,IAAI,GAAG,EAAE;IACf,MAAMx0F,SAAS,GAAG,IAAI,CAACy0F,kBAAkB,CAACh7J,IAAI,CAAC;IAC/C,KAAK,IAAIb,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGk2B,KAAK,EAAEl2B,CAAC,EAAE,EAAE;MAC9B,MAAMhB,CAAC,GAAGV,IAAI,CAAC8J,KAAK,CAAC,CAACjB,KAAK,GAAGnH,CAAC,GAAGa,IAAI,IAAIumE,SAAS,CAAC,GAAGA,SAAS;MAChE,IAAInoE,CAAC,GAAGX,IAAI,CAAC8J,KAAK,CAAC,CAACjB,KAAK,GAAG,CAACnH,CAAC,GAAG,CAAC,IAAIa,IAAI,IAAIumE,SAAS,CAAC,GAAGA,SAAS;MACpE,IAAIpnE,CAAC,KAAKk2B,KAAK,GAAG,CAAC,EAAE;QACnBj3B,CAAC,GAAGX,IAAI,CAAC6J,GAAG,CAAClJ,CAAC,EAAEmI,IAAI,CAAC;MACvB;MACAw0J,IAAI,CAAC57J,CAAC,CAAC,GAAG,CAAChB,CAAC,EAAEC,CAAC,CAAC;IAClB;IACA,OAAO28J,IAAI;EACb;EACAC,kBAAkBA,CAACh7J,IAAI,EAAE;IACvB,IAAIumE,SAAS,GAAG,EAAE;IAClB,IAAIh0D,QAAQ,CAACvS,IAAI,CAAC,IAAIA,IAAI,GAAG,CAAC,EAAE;MAC9B,OAAOA,IAAI,GAAG,CAAC,EAAE;QACfumE,SAAS,IAAI,EAAE;QACfvmE,IAAI,IAAI,EAAE;MACZ;IACF;IACA,OAAOumE,SAAS;EAClB;EACAspE,kBAAkBA,CAAC1xI,CAAC,EAAEC,CAAC,EAAE0xI,QAAQ,EAAE;IACjC,MAAM0qB,OAAO,GAAG/8J,IAAI,CAAC27B,GAAG,CAACh7B,CAAC,GAAGD,CAAC,CAAC,GAAG2xI,QAAQ;IAC1C,MAAMC,KAAK,GAAGtyI,IAAI,CAACsI,KAAK,CAACtI,IAAI,CAACouD,KAAK,CAAC2uG,OAAO,CAAC,CAAC;IAC7C,MAAMxqB,SAAS,GAAGvyI,IAAI,CAACC,GAAG,CAAC,EAAE,EAAEqyI,KAAK,CAAC;IACrC,MAAMzpI,KAAK,GAAG7I,IAAI,CAACsI,KAAK,CAAC5H,CAAC,GAAG6xI,SAAS,CAAC,GAAGA,SAAS;IACnD,OAAO;MACL1pI,KAAK;MACLk0J;IACF,CAAC;EACH;EACA5sD,WAAWA,CAAC4iB,cAAc,EAAE;IAC1B,OAAOhxH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE;MACV,IAAI,CAAC,IAAI,CAACwM,OAAO,EAAE;QACjB,IAAI,CAACkqF,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAACr0B,cAAc,CAACxT,UAAU,CAAC,YAAY,CAAC;MAC9C;MACA,MAAM;QAAEpvC,IAAI;QAAEwtG,IAAI;QAAEg2B,QAAQ;QAAEC;MAAY,CAAC,GAAG,IAAI,CAACzhJ,UAAU;MAC7D,MAAMqpH,MAAM,GAAG,CAACp7H,EAAE,GAAG,IAAI,CAACuR,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvR,EAAE,CAAC87D,KAAK;MACxE,MAAMu/D,MAAM,GAAG,CAAC/qH,EAAE,GAAG,IAAI,CAACiB,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjB,EAAE,CAACwrD,KAAK;MACxE,MAAM;QAAE0/D,UAAU;QAAEC;MAAW,CAAC,GAAG,IAAI,CAACN,mBAAmB,CAAC;QAAEE,MAAM;QAAED;MAAO,CAAC,CAAC;MAC/E,MAAM3mF,KAAK,GAAG,CAACykE,WAAW,CAACnpF,IAAI,EAAEyrG,UAAU,CAAC,EAAEvlB,kBAAkB,CAAC;MACjE,IAAIsnB,IAAI,EAAE;QACR,IAAIi3B,OAAO,GAAG7kI,UAAU,CAAC,UAAU,CAAC;QACpC,IAAI6jI,WAAW,KAAK,OAAO,EAAE,CAC7B,CAAC,MAAM,IAAIA,WAAW,KAAK,KAAK,EAAE;UAChCgB,OAAO,GAAGt/C,QAAQ,CAAC,UAAU,CAAC;QAChC,CAAC,MAAM,IAAIs+C,WAAW,KAAK,MAAM,EAAE;UACjCgB,OAAO,GAAGp/C,YAAY,CAAC,UAAU,CAAC;QACpC;QACA,IAAIm+C,QAAQ,EAAE;UACZiB,OAAO,GAAGn/C,IAAI,CAAC,UAAU,EAAEm/C,OAAO,CAAC;QACrC;QACA//G,KAAK,CAACp0C,IAAI,CAAC+4G,aAAa,CAACmkB,IAAI,EAAE9B,UAAU,EAAE;UAAEjvB,YAAY,EAAE,KAAK;QAAE,CAAC,CAAC,EAAEgoD,OAAO,CAAC;MAChF,CAAC,MAAM;QACL,IAAIA,OAAO,GAAG7kI,UAAU,CAAC,UAAU,CAAC;QACpC,IAAI4jI,QAAQ,EAAE;UACZiB,OAAO,GAAGn/C,IAAI,CAAC,UAAU,EAAEm/C,OAAO,CAAC;QACrC;QACA//G,KAAK,CAACp0C,IAAI,CAACm0J,OAAO,CAAC;MACrB;MACA,MAAMntD,SAAS,GAAIotD,OAAO,IAAK;QAC7B,IAAIpmI,GAAG;QACP,MAAMqmI,OAAO,GAAGrvD,gBAAgB,CAACovD,OAAO,CAACr9G,MAAM,CAAClvC,IAAI,CAAC,CAAC,CAAC,CAAC;QACxD,IAAIwsJ,OAAO,CAAC/7J,MAAM,KAAK,CAAC,EAAE;UACxB87J,OAAO,CAACr9G,MAAM,CAAC7a,MAAM,GAAG,EAAE;UAC1B,OAAO,MAAM,EAAE;QACjB;QACA,MAAM+3H,IAAI,GAAG1oJ,QAAQ,CAAC,IAAI,CAACmG,UAAU,CAACoiJ,QAAQ,CAAC,GAAG,IAAI,CAACD,iBAAiB,CAACQ,OAAO,EAAE,IAAI,CAAC3iJ,UAAU,CAACoiJ,QAAQ,CAAC,GAAG,CAAC9lI,GAAG,GAAG,IAAI,CAACtc,UAAU,CAACuiJ,IAAI,KAAK,IAAI,GAAGjmI,GAAG,GAAG,IAAI,CAACulI,UAAU,CAACc,OAAO,CAAC;QACnL,MAAMP,QAAQ,GAAGG,IAAI,CAAC37J,MAAM;QAC5B,IAAI,CAACg7J,cAAc,GAAG,CAAC,GAAGW,IAAI,CAAC;QAC/B,OAAQrnJ,IAAI,IAAK;UACf,MAAM8zI,MAAM,GAAG9zI,IAAI,CAAC/E,IAAI,CAAC,CAAC,CAAC;UAC3B,KAAK,IAAIxP,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGy7J,QAAQ,EAAEz7J,CAAC,EAAE,EAAE;YACjC,MAAMi8J,OAAO,GAAGL,IAAI,CAAC57J,CAAC,CAAC;YACvB,IAAIqoJ,MAAM,IAAI4T,OAAO,CAAC,CAAC,CAAC,IAAI5T,MAAM,GAAG4T,OAAO,CAAC,CAAC,CAAC,EAAE;cAC/C,OAAOA,OAAO;YAChB;YACA,IAAIj8J,CAAC,KAAKy7J,QAAQ,GAAG,CAAC,IAAIpT,MAAM,IAAI4T,OAAO,CAAC,CAAC,CAAC,EAAE;cAC9C,OAAOA,OAAO;YAChB;UACF;UACA,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MACD,IAAI,CAAC,IAAI,CAACj7H,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC6wB,aAAa,EAAE;QAChEvyD,KAAK,CAACp0C,IAAI,CAACyyG,IAAI,CAAC,IAAI,CAAC9L,aAAa,EAAE,KAAK,CAAC,CAAC;MAC7C;MACA,MAAM,IAAI,CAAC60B,gBAAgB,CAAC9R,cAAc,EAAE,IAAI,CAACh1G,IAAI,EAAE;QAAE0/B,KAAK;QAAE4yD;MAAU,CAAC,CAAC;MAC5E,IAAI,CAAC10B,cAAc,CAACxT,UAAU,CAAC,YAAY,CAAC;IAC9C,CAAC,CAAC;EACJ;EACAk9C,eAAeA,CAACpgD,SAAS,EAAE;IACzB,IAAIj8D,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,MAAM;MAAE81F,aAAa;MAAEyG;IAAU,CAAC,GAAG,IAAI;IACzC,IAAI,CAACzG,aAAa,IAAI,CAACyG,SAAS,IAAI,CAAC,IAAI,CAACkmD,cAAc,CAACh7J,MAAM,EAC7D,OAAO,EAAE;IACX,MAAMi8J,OAAO,GAAGnnD,SAAS,CAAChvD,SAAS,CAAC,IAAI,EAAE,UAAU,EAAE,WAAW,EAAEuoD,aAAa,CAAC;IACjF,MAAM6tD,UAAU,GAAG,CAAC70J,EAAE,GAAG,IAAI,CAAC2zJ,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG3zJ,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzE,MAAM80J,UAAU,GAAG,CAAC5jJ,EAAE,GAAG,IAAI,CAACyiJ,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGziJ,EAAE,CAAC,CAAC,CAACX,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAACqjJ,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGrjJ,EAAE,CAAC3X,MAAM,KAAK,IAAI,GAAG4X,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7J,IAAI0rD,SAAS,KAAK,GAAG,CAAC,SAAS;MAC7B,OAAOopC,gBAAgB,CAAC,CAACwvD,UAAU,EAAEC,UAAU,CAAC,CAAC;IACnD;IACA,OAAOzvD,gBAAgB,CAACuvD,OAAO,CAAC;EAClC;EACA93F,cAAcA,CAAA,EAAG;IACf,OAAO/jE,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE;MACN,MAAM;QACJg8B,EAAE,EAAE49E,QAAQ;QACZroG,IAAI;QACJy1F,aAAa;QACbttE,GAAG,EAAE;UAAE49C;QAAc;MACvB,CAAC,GAAG,IAAI;MACR,MAAMkrD,KAAK,GAAGjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MAC/B,MAAMkxH,KAAK,GAAGlxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MAC/B,IAAI,CAACixH,KAAK,IAAI,CAACC,KAAK,EAAE;QACpB;MACF;MACA,MAAM;QAAE3mE,KAAK,EAAEs/D;MAAO,CAAC,GAAGoH,KAAK;MAC/B,MAAM;QAAE1mE,KAAK,EAAEu/D;MAAO,CAAC,GAAGoH,KAAK;MAC/B,MAAM;QAAE1yG,IAAI;QAAEwtG,IAAI;QAAE0iB,KAAK;QAAE8K,KAAK;QAAEruI,IAAI;QAAEH,MAAM;QAAEK,WAAW;QAAE8tH;MAAa,CAAC,GAAG,IAAI,CAAC34H,UAAU;MAC7F,MAAM;QACJoxC,SAAS,EAAE0xB,cAAc,GAAI9gE,MAAM,IAAKyiC,MAAM,CAACziC,MAAM,CAAC1c,KAAK,CAAC;QAC5Du+D,SAAS,EAAEu6F,cAAc;QACzBx0I,UAAU,EAAEy0I,eAAe;QAC3Bx0I,QAAQ,EAAEy0I,aAAa;QACvBx0I,UAAU,EAAEy0I,eAAe;QAC3Bx0I,KAAK,EAAE8mE;MACT,CAAC,GAAG,IAAI,CAAC7wE,UAAU,CAACgK,KAAK;MACzB,MAAMogH,QAAQ,GAAG,EAAE;MACnB,MAAMpjF,OAAO,GAAG;QACd8/C,MAAM,EAAE,CAAC74F,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwrH,IAAI,KAAK,IAAI,GAAGv9H,EAAE,GAAG,IAAI,CAACg8B,EAAE;QAC1DmgG,QAAQ;QACR5hD,SAAS,EAAE4hD,QAAQ;QACnB2nB,MAAM,EAAE,IAAI,CAACvf,gBAAgB,CAAC,CAAC;QAC/BhE,cAAc,EAAE,IAAI;QACpBzjH,OAAO,EAAE,IAAI,CAACA;MAChB,CAAC;MACD,IAAI,CAAC,IAAI,CAACA,OAAO,IAAI,CAACkqF,aAAa,IAAIA,aAAa,CAACzgG,IAAI,KAAK,SAAS,EACrE,OAAOwyC,OAAO;MAChBiuD,aAAa,CAACjyF,IAAI,CAACtD,OAAO,CAAE+qD,MAAM,IAAK;QACrC,IAAInuC,GAAG;QACP,MAAM;UACJ64E,SAAS,EAAE,CAAC,CAAC6tD,WAAW,EAAEC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAClDp4H,KAAK;UACLA,KAAK,EAAE;YAAEjkC,MAAM,EAAEs8J;UAAU,CAAC;UAC5B/sJ,IAAI,EAAEkvC,MAAM;UACZlvC,IAAI,EAAE,CAAC2sJ,UAAU,EAAEC,UAAU;QAC/B,CAAC,GAAGt4F,MAAM;QACV,MAAM04F,MAAM,GAAG95B,MAAM,CAAC7jF,OAAO,CAACs9G,UAAU,CAAC;QACzC,MAAMM,MAAM,GAAG/5B,MAAM,CAAC7jF,OAAO,CAACu9G,UAAU,CAAC;QACzC,MAAMjsE,KAAK,GAAGksE,WAAW,GAAGC,WAAW;QACvC,MAAMI,OAAO,GAAG/5B,MAAM,CAAC9jF,OAAO,CAAC,CAAC,CAAC;QACjC,MAAM89G,MAAM,GAAGh6B,MAAM,CAAC9jF,OAAO,CAACsxC,KAAK,CAAC;QACpC,MAAMtvD,CAAC,GAAGviC,IAAI,CAAC27B,GAAG,CAACwiI,MAAM,GAAGD,MAAM,CAAC;QACnC,MAAM17H,CAAC,GAAGxiC,IAAI,CAAC27B,GAAG,CAAC0iI,MAAM,GAAGD,OAAO,CAAC;QACpC,MAAMx7J,CAAC,GAAG5C,IAAI,CAAC6uB,GAAG,CAACqvI,MAAM,EAAEC,MAAM,CAAC;QAClC,MAAMzhI,CAAC,GAAG18B,IAAI,CAAC6uB,GAAG,CAACuvI,OAAO,EAAEC,MAAM,CAAC;QACnC,IAAIC,mBAAmB,GAAG,KAAK,CAAC;QAChC,IAAIzsE,KAAK,KAAK,CAAC,EAAE;UACfysE,mBAAmB,GAAG;YACpB75I,IAAI,EAAE,CAAC4S,GAAG,GAAGipD,aAAa,CAACz/E,IAAI,CAACg9E,cAAc,EAAE;cAC9Cx9E,KAAK,EAAEwxF,KAAK;cACZjsD,KAAK;cACLg9E,QAAQ;cACR7pF,IAAI;cACJwtG,IAAI;cACJ0iB,KAAK;cACL8K;YACF,CAAC,CAAC,KAAK,IAAI,GAAG18H,GAAG,GAAGmoB,MAAM,CAACqyC,KAAK,CAAC;YACjCjzB,SAAS,EAAEu6F,cAAc;YACzBx0I,UAAU,EAAEy0I,eAAe;YAC3Bx0I,QAAQ,EAAEy0I,aAAa;YACvBx0I,UAAU,EAAEy0I,eAAe;YAC3B5zI,IAAI,EAAEkmE,UAAU;YAChBhpF,CAAC,EAAEA,CAAC,GAAG2/B,CAAC,GAAG,CAAC;YACZ7F,CAAC,EAAEA,CAAC,GAAG8F,CAAC,GAAG;UACb,CAAC;QACH;QACA,MAAM+7H,YAAY,GAAG;UACnB37J,CAAC,EAAEA,CAAC,GAAG2/B,CAAC,GAAG,CAAC;UACZ7F,CAAC,EAAEA,CAAC,GAAG8F,CAAC,GAAG;QACb,CAAC;QACD,MAAMg8H,aAAa,GAAG/yB,KAAK,CAACvjF,UAAU,CAAC,CAAC;QACxCi9E,QAAQ,CAAC97H,IAAI,CAAC;UACZmQ,MAAM,EAAE,IAAI;UACZosB,KAAK;UACL;UACA;UACA64H,eAAe,EAAE5sE,KAAK;UACtBosE,SAAS;UACT79G,MAAM;UACNmmF,IAAI;UACJxtG,IAAI;UACJn2B,CAAC;UACD85B,CAAC;UACDqtH,MAAM,EAAEmU,MAAM;UACd3Q,MAAM,EAAE8Q,MAAM;UACdl5I,KAAK,EAAEod,CAAC;UACR9E,MAAM,EAAE+E,CAAC;UACTwoE,QAAQ,EAAEuzD,YAAY;UACtB74I,IAAI;UACJH,MAAM;UACNmuH,YAAY;UACZW,mBAAmB,EAAE,CAACmqB,aAAa;UACnClqB,oBAAoB,EAAE,CAACkqB,aAAa;UACpCjqB,uBAAuB,EAAEiqB,aAAa;UACtChqB,sBAAsB,EAAEgqB,aAAa;UACrCnsG,OAAO,EAAE,CAAC;UACVzsC,WAAW;UACXb,KAAK,EAAEu5I;QACT,CAAC,CAAC;MACJ,CAAC,CAAC;MACFn5B,QAAQ,CAAC32E,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACkC,CAAC,GAAGjC,CAAC,CAACiC,CAAC,CAAC;MAClC,OAAOm/C,OAAO;IAChB,CAAC,CAAC;EACJ;EACA0rB,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI4nE,IAAI,CAAC,CAAC;EACnB;EACA1L,oBAAoBA,CAACjtH,IAAI,EAAE;IACzB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEojI,QAAQ;QAAEwC;MAAe,CAAC,GAAGjrH,IAAI;MACzC,OAAOirH,cAAc,CAAC9uF,MAAM,CAC1BssF,QAAQ,EACP9wE,IAAI,IAAK;QACRA,IAAI,CAACzvB,GAAG,GAAG,CAAC,CAAC;QACbyvB,IAAI,CAACkhF,KAAK,GAAG,IAAI;MACnB,CAAC,EACA3vG,KAAK,IAAKA,KAAK,CAACwa,MAAM,CAACvlC,IAAI,CAAC,GAAG,CAClC,CAAC;IACH,CAAC,CAAC;EACJ;EACAwvH,gBAAgBA,CAAC3tH,IAAI,EAAE;IACrB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEqoI,WAAW,EAAEs0B;MAAmB,CAAC,GAAGhiJ,IAAI;MAChD,MAAM;QACJiJ,WAAW,EAAEg5I,iBAAiB;QAC9B7oG,aAAa;QACbtwC,QAAQ;QACRwwC,cAAc;QACdkzF,MAAM;QACNljI,cAAc,EAAE;UACd/P,IAAI,EAAE;YACJyP,IAAI,EAAEk5I,eAAe;YACrBj5I,WAAW,EAAEk5I,oBAAoB,GAAGF,iBAAiB;YACrDp5I,MAAM,EAAEu5I,iBAAiB;YACzBl5I,WAAW,EAAEm5I;UACf;QACF;MACF,CAAC,GAAG,IAAI,CAAChkJ,UAAU;MACnB2B,IAAI,CAACirH,cAAc,CAACj5D,IAAI,CAAC,CAACra,IAAI,EAAEzuB,KAAK,EAAEj2B,KAAK,KAAK;QAC/C,IAAI3G,EAAE,EAAEsQ,EAAE;QACV,MAAM;UACJo6H,YAAY;UACZW,mBAAmB;UACnBC,oBAAoB;UACpBC,uBAAuB;UACvBC;QACF,CAAC,GAAG5uG,KAAK;QACT,MAAMhgB,WAAW,GAAG84I,kBAAkB,IAAIK,2BAA2B,KAAK,KAAK,CAAC,GAAGA,2BAA2B,GAAGn5H,KAAK,CAAChgB,WAAW;QAClI,MAAMD,WAAW,GAAG+4I,kBAAkB,GAAGG,oBAAoB,GAAGF,iBAAiB;QACjFtqG,IAAI,CAAC3uC,IAAI,GAAG,CAAC1c,EAAE,GAAG01J,kBAAkB,GAAGE,eAAe,GAAG,KAAK,CAAC,KAAK,IAAI,GAAG51J,EAAE,GAAG48B,KAAK,CAAClgB,IAAI;QAC1F2uC,IAAI,CAAC9uC,MAAM,GAAG,CAACjM,EAAE,GAAGolJ,kBAAkB,GAAGI,iBAAiB,GAAG,KAAK,CAAC,KAAK,IAAI,GAAGxlJ,EAAE,GAAGssB,KAAK,CAACrgB,MAAM;QAChG8uC,IAAI,CAAC1uC,WAAW,GAAGA,WAAW;QAC9B0uC,IAAI,CAACyB,aAAa,GAAGA,aAAa;QAClCzB,IAAI,CAACzuC,WAAW,GAAGA,WAAW;QAC9ByuC,IAAI,CAAC7uC,QAAQ,GAAGA,QAAQ;QACxB6uC,IAAI,CAAC2B,cAAc,GAAGA,cAAc;QACpC3B,IAAI,CAACggF,mBAAmB,GAAGA,mBAAmB,GAAGX,YAAY,GAAG,CAAC;QACjEr/E,IAAI,CAACigF,oBAAoB,GAAGA,oBAAoB,GAAGZ,YAAY,GAAG,CAAC;QACnEr/E,IAAI,CAACkgF,uBAAuB,GAAGA,uBAAuB,GAAGb,YAAY,GAAG,CAAC;QACzEr/E,IAAI,CAACmgF,sBAAsB,GAAGA,sBAAsB,GAAGd,YAAY,GAAG,CAAC;QACvEr/E,IAAI,CAAC8B,UAAU,GAAG+yF,MAAM;QACxB70F,IAAI,CAACxvB,MAAM,GAAG65H,kBAAkB,GAAG37C,MAAM,CAACsF,iBAAiB,GAAG14G,KAAK;QACnE0kD,IAAI,CAACvuC,OAAO,GAAG8f,KAAK,CAACnI,MAAM,GAAG,CAAC;MACjC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAmsG,oBAAoBA,CAACltH,IAAI,EAAE;IACzB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEwhF,SAAS;QAAEyI;MAAe,CAAC,GAAGtvE,IAAI;MAC1C,OAAOsvE,cAAc,CAACnzC,MAAM,CAAC0qC,SAAS,EAAG9+D,IAAI,IAAK;QAChDA,IAAI,CAACmgB,GAAG,GAAG,CAAC,CAAC;QACbngB,IAAI,CAACkhB,aAAa,GAAG,CAAC,CAAC;QACvBlhB,IAAI,CAAC80C,SAAS,GAAG,QAAQ;QACzB90C,IAAI,CAAC+0C,YAAY,GAAG,QAAQ;MAC9B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA8wE,gBAAgBA,CAAC5tH,IAAI,EAAE;IACrB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM6yJ,YAAY,GAAG,IAAI,CAAC7pB,cAAc,CAAC,CAAC;MAC1CruH,IAAI,CAACsvE,cAAc,CAACtd,IAAI,CAAC,CAACjqD,IAAI,EAAEmhB,KAAK,KAAK;QACxC,MAAM7gB,KAAK,GAAG6gB,KAAK,CAAC7gB,KAAK;QACzB,IAAIA,KAAK,IAAI6vI,YAAY,EAAE;UACzBnwI,IAAI,CAACA,IAAI,GAAGM,KAAK,CAACN,IAAI;UACtBA,IAAI,CAAC7hB,CAAC,GAAGmiB,KAAK,CAACniB,CAAC;UAChB6hB,IAAI,CAACiY,CAAC,GAAG3X,KAAK,CAAC2X,CAAC;UAChBjY,IAAI,CAACm6C,SAAS,GAAG75C,KAAK,CAAC65C,SAAS;UAChCn6C,IAAI,CAACE,UAAU,GAAGI,KAAK,CAACJ,UAAU;UAClCF,IAAI,CAACG,QAAQ,GAAGG,KAAK,CAACH,QAAQ;UAC9BH,IAAI,CAACI,UAAU,GAAGE,KAAK,CAACF,UAAU;UAClCJ,IAAI,CAACiB,IAAI,GAAGX,KAAK,CAACW,IAAI;UACtBjB,IAAI,CAACqB,OAAO,GAAG,IAAI;QACrB,CAAC,MAAM;UACLrB,IAAI,CAACqB,OAAO,GAAG,KAAK;QACtB;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAulH,YAAYA,CAACH,QAAQ,EAAE;IACrBiqB,uBAAuB,CAACjqB,QAAQ,EAAEgqB,YAAY,CAAC,IAAI,CAAChqD,YAAY,CAAC5tE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EAChF;EACA+oF,oBAAoBA,CAAC/rD,KAAK,EAAE;IAC1B,OAAO+6F,iBAAiB,CAAC,IAAI,EAAE/6F,KAAK,CAAC;EACvC;EACAi6D,cAAcA,CAACmR,SAAS,EAAE;IACxB,MAAM8F,KAAK,GAAG,IAAI,CAACjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IACpC,MAAMkxH,KAAK,GAAG,IAAI,CAAClxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IACpC,IAAI,CAAC,IAAI,CAACQ,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,CAACiwH,KAAK,IAAI,CAACC,KAAK,EAAE;MAClD,OAAOp4D,qBAAqB;IAC9B;IACA,MAAM;MAAEt6C,IAAI;MAAEwtG,IAAI;MAAE0iB,KAAK;MAAE8K,KAAK;MAAEruI,IAAI,EAAEZ,KAAK;MAAE03I,WAAW;MAAEr2I;IAAQ,CAAC,GAAG,IAAI,CAACpL,UAAU;IACvF,MAAM;MACJ0jJ,eAAe;MACfR,SAAS;MACT79G,MAAM,EAAE,CAACs/D,QAAQ,EAAEC,QAAQ,CAAC;MAC5B9d;IACF,CAAC,GAAG6jC,SAAS;IACb,MAAMnhH,KAAK,GAAG,GAAG6jI,YAAY,CAACa,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGlwH,IAAI,CAAC,KAAKyyG,KAAK,CAACrmD,WAAW,CAACu6B,QAAQ,CAAC,MAAM8rB,KAAK,CAACrmD,WAAW,CAACw6B,QAAQ,CAAC,EAAE;IAC9H,IAAIl3C,OAAO,GAAG89D,IAAI,GAAG,MAAM6hB,YAAY,CAAC2L,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGxtB,IAAI,CAAC,KAAKi2B,WAAW,UAAU/wB,KAAK,CAACtmD,WAAW,CAACs5E,eAAe,CAAC,MAAM,GAAG,EAAE;IAC5Ih2F,OAAO,IAAI,qBAAqBw1F,SAAS,EAAE;IAC3C,MAAM9lJ,QAAQ,GAAG;MACfoM,KAAK;MACLsvD,eAAe,EAAE/uD,KAAK;MACtB2jD;IACF,CAAC;IACD,OAAOtiD,OAAO,CAACytD,aAAa,CAACz7D,QAAQ,EAAE;MACrCytB,KAAK,EAAE;QACL7nB,IAAI,EAAE2nH,SAAS,CAAC9/F,KAAK;QACrB64H,eAAe,EAAE/4B,SAAS,CAAC+4B,eAAe;QAC1Cr+G,MAAM,EAAEslF,SAAS,CAACtlF,MAAM;QACxB69G,SAAS,EAAEv4B,SAAS,CAACu4B;MACvB,CAAC;MACDp8D,MAAM;MACN9oE,IAAI;MACJkwH,KAAK;MACL1iB,IAAI;MACJwtB,KAAK;MACLjvI,KAAK;MACLP,KAAK;MACLq+F,QAAQ,EAAE,IAAI,CAAC59E;IACjB,CAAC,CAAC;EACJ;EACAiuF,aAAaA,CAACvzG,UAAU,EAAE;IACxB,IAAI1W,EAAE,EAAEsQ,EAAE;IACV,IAAI,EAAE,CAACtQ,EAAE,GAAG,IAAI,CAAC+U,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/U,EAAE,CAACrH,MAAM,CAAC,IAAI+d,UAAU,KAAK,UAAU,EAAE;MACjF,OAAO,EAAE;IACX;IACA,MAAM;MAAEqZ,IAAI;MAAEg7H,KAAK;MAAEruI,IAAI;MAAEC,WAAW;MAAEJ,MAAM;MAAEK,WAAW;MAAEkwC,aAAa;MAAEhwC;IAAQ,CAAC,GAAG,IAAI,CAAC/K,UAAU;IACvG,OAAO,CACL;MACE2E,UAAU,EAAE,UAAU;MACtBslB,EAAE,EAAE,IAAI,CAACA,EAAE;MACX68D,MAAM,EAAE9oE,IAAI;MACZ6pF,QAAQ,EAAE,IAAI,CAAC59E,EAAE;MACjBxgB,OAAO,EAAEsB,OAAO;MAChBf,KAAK,EAAE;QACLN,IAAI,EAAE,CAACnL,EAAE,GAAGy6I,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGh7H,IAAI,KAAK,IAAI,GAAGzf,EAAE,GAAG;MAC3D,CAAC;MACDgO,MAAM,EAAE;QACN5B,IAAI,EAAEA,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,kBAAkB;QAC9CH,MAAM,EAAEA,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAG,kBAAkB;QACpDI,WAAW;QACXmwC,aAAa;QACblwC;MACF;IACF,CAAC,CACF;EACH;EACAiiH,uBAAuBA,CAAC;IAAEF,cAAc;IAAE37C;EAAe,CAAC,EAAE;IAC1D,MAAM3kF,GAAG,GAAG4vJ,4BAA4B,CAACN,4BAA4B,CAAC,IAAI,EAAE,IAAI,CAACp8I,IAAI,EAAE,QAAQ,CAAC,CAAC;IACjGqgB,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,QAAQ,EAAE,IAAI,CAACtC,GAAG,CAACmZ,gBAAgB,EAAE,CAAC8rF,cAAc,CAAC,EAAEtgI,GAAG,CAAC;IACjFghJ,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAEmwC,cAAc,CAAC;EACvF;EACAo8C,yBAAyBA,CAACrqH,IAAI,EAAE;IAC9B,IAAI/U,EAAE,EAAEsQ,EAAE;IACV,MAAMsgJ,QAAQ,GAAG,CAACtgJ,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACgnG,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhnG,EAAE,CAACyrG,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGn7F,EAAE,CAACwiG,IAAI;IAC1G,MAAMz0G,GAAG,GAAG4vJ,4BAA4B,CAACN,4BAA4B,CAAC,IAAI,EAAE,IAAI,CAACp8I,IAAI,EAAE,QAAQ,CAAC,CAAC;IACjGqgB,YAAY,CACV,IAAI,CAACoK,EAAE,EACP,QAAQ,EACR,IAAI,CAACtC,GAAG,CAACmZ,gBAAgB,EACzB,CAAC99B,IAAI,CAAC4pH,cAAc,CAAC,EACrBtgI,GAAG,EACH,CAAC6sB,CAAC,EAAE0R,KAAK,KAAK47E,aAAa,CAAC57E,KAAK,CAACwa,MAAM,CAAC,EACzCw5G,QACF,CAAC;IACDvR,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAE99B,IAAI,CAACiuE,cAAc,CAAC;EAC5F;EACA++C,cAAcA,CAAA,EAAG;IACf,OAAO,IAAI,CAAChwH,UAAU,CAACgK,KAAK,CAACP,OAAO;EACtC;EACA+gH,kBAAkBA,CAAC;IAAE7X,UAAU;IAAE1B;EAAW,CAAC,EAAE;IAC7C,IAAIhjH,EAAE;IACN,OAAOquJ,qBAAqB,CAAC,CAACruJ,EAAE,GAAG,IAAI,CAACy/H,eAAe,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGz/H,EAAE,CAACm8H,QAAQ,CAACzX,UAAU,CAAC,EAAE,IAAI,CAACxiB,YAAY,EAAE8gB,UAAU,CAAC;EACrI;AACF,CAAC;AACD0wC,eAAe,CAAC1hJ,SAAS,GAAG,iBAAiB;AAC7C0hJ,eAAe,CAACntJ,IAAI,GAAG,WAAW;;AAElC;AACA,IAAIyvJ,qBAAqB,GAAG;EAC1BzvJ,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,UAAU;EACtBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,WAAW,CAAC;EACzB3I,UAAU,EAAE,WAAW;EACvBmB,mBAAmB,EAAE8rJ,eAAe;EACpCv+I,WAAW,EAAE,CACX;IACE5O,IAAI,EAAE,QAAQ,CAAC;IACf2X,QAAQ,EAAE,QAAQ,CAAC;EACrB,CAAC,EACD;IACE3X,IAAI,EAAE,QAAQ,CAAC;IACf2X,QAAQ,EAAE,MAAM,CAAC;EACnB,CAAC,CACF;EACDrW,aAAa,EAAE;IACb2I,MAAM,EAAE;MACNy7I,WAAW,EAAEnzI,uBAAuB;MACpC8D,WAAW,EAAE,CAAC;MACdD,WAAW,EAAE,CAAC;MACdmwC,aAAa,EAAE,CAAC;MAChBtwC,QAAQ,EAAE,CAAC,CAAC,CAAC;MACbwwC,cAAc,EAAE,CAAC;MACjBjxC,KAAK,EAAE;QACLP,OAAO,EAAE,KAAK;QACdI,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE7C,mBAAmB;QAC/B8C,KAAK,EAAE3C;MACT,CAAC;MACD+mI,MAAM,EAAE;QACN1kI,OAAO,EAAE,KAAK;QACdM,KAAK,EAAErC,qBAAqB;QAC5ByW,OAAO,EAAE,CAAC;QACVC,OAAO,EAAE,CAAC;QACVw+B,IAAI,EAAE;MACR;IACF;EACF,CAAC;EACDt5C,cAAc,EAAEA,CAAC;IAAEsZ;EAAW,CAAC,KAAK;IAClC,MAAM;MACJnU,KAAK,EAAE,CAACkC,IAAI,CAAC;MACbjC,OAAO,EAAE,CAAC8B,MAAM;IAClB,CAAC,GAAGoS,UAAU,CAAC,CAAC,CAAC;IACjB,OAAO;MAAEjS,IAAI;MAAEH;IAAO,CAAC;EACzB;AACF,CAAC;;AAED;AACA,IAAI05I,oBAAoB,GAAG,cAAcz4B,yBAAyB,CAAC;EACjEt+H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACjhC,MAAM,GAAG,SAAS;IACvB,IAAI,CAACK,WAAW,GAAG,CAAC;IACpB,IAAI,CAACkwC,aAAa,GAAG,CAAC;IACtB,IAAI,CAACtwC,QAAQ,GAAG,CAAC,CAAC,CAAC;IACnB,IAAI,CAACwwC,cAAc,GAAG,CAAC;IACvB,IAAI,CAAC1uC,MAAM,GAAG,IAAIshI,YAAY,CAAC,CAAC;IAChC,IAAI,CAAC7jI,KAAK,GAAG,IAAI66C,KAAK,CAAC,CAAC;IACxB,IAAI,CAACz5C,OAAO,GAAG,IAAI4iI,aAAa,CAAC,CAAC;IAClC,IAAI,CAACI,kBAAkB,GAAG,KAAK;EACjC;AACF,CAAC;AACD7nJ,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAE+7G,oBAAoB,CAAC9/J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAE+7G,oBAAoB,CAAC9/J,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEyjJ,oBAAoB,CAAC9/J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEyjJ,oBAAoB,CAAC9/J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEyjJ,oBAAoB,CAAC9/J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,CACvB,EAAE26G,oBAAoB,CAAC9/J,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE27G,oBAAoB,CAAC9/J,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAEy7G,oBAAoB,CAAC9/J,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACmD,SAAS,CAAC,CACpB,EAAEi6G,oBAAoB,CAAC9/J,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE27G,oBAAoB,CAAC9/J,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACvDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEo8G,oBAAoB,CAAC9/J,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEo8G,oBAAoB,CAAC9/J,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEo8G,oBAAoB,CAAC9/J,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEi8G,oBAAoB,CAAC9/J,SAAS,EAAE,oBAAoB,EAAE,CAAC,CAAC;;AAE3D;AACA,IAAI+/J,UAAU,GAAG,cAAcz4B,eAAe,CAAC;EAC7Cv+H,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAAC;MACJA,SAAS;MACTwsC,aAAa,EAAE0iB,gCAAgC;MAC/CziB,cAAc,EAAE0iB,iCAAiC;MACjDO,UAAU,EAAE,IAAI;MAChBnjB,SAAS,EAAE,CACT,CAAC,CAAC,2CACF,CAAC,CAAC,oBACF,CAAC,CAAC,wBACH;MACDujB,gCAAgC,EAAE,KAAK;MACvCE,iBAAiB,EAAE;QACjBxwH,IAAI,EAAEu1I,gBAAgB,CAAC;UAAEvmC,UAAU,EAAEA,CAAA,KAAM,IAAI,CAACA,UAAU,CAAC;QAAE,CAAC,CAAC;QAC/D1gG,KAAK,EAAEyjI,YAAY;QACnBlhI,MAAM,EAAEA,CAAC1K,IAAI,EAAEgpB,KAAK,KAAKnlC,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAEgpJ,aAAa,CAAC7sI,IAAI,CAAC,CAAC,EAAE8sI,qBAAqB,CAAC9sI,IAAI,EAAEgpB,KAAK,CAAC;MACrH;IACF,CAAC,CAAC;IACF,IAAI,CAAC7qB,UAAU,GAAG,IAAIkkJ,oBAAoB,CAAC,CAAC;EAC9C;EACA9uD,WAAWA,CAAC4iB,cAAc,EAAE;IAC1B,OAAOhxH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE;MACV,IAAI,CAAC,IAAI,CAACyB,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,IAAI,CAACwC,IAAI,IAAI,IAAI,EAAE;QACnD;MACF;MACA,MAAM;QAAEgb,IAAI;QAAEwtG;MAAK,CAAC,GAAG,IAAI,CAACxrH,UAAU;MACtC,MAAMmvH,gBAAgB,GAAG,CAAC,IAAI,CAACxnG,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;MAC/D,MAAMilD,MAAM,GAAG,CAACp7H,EAAE,GAAG,IAAI,CAACuR,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvR,EAAE,CAAC87D,KAAK;MACxE,MAAMu/D,MAAM,GAAG,CAAC/qH,EAAE,GAAG,IAAI,CAACiB,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjB,EAAE,CAACwrD,KAAK;MACxE,MAAM;QAAEw/D,aAAa;QAAEE,UAAU;QAAEC;MAAW,CAAC,GAAG,IAAI,CAACN,mBAAmB,CAAC;QAAEC,MAAM;QAAEC;MAAO,CAAC,CAAC;MAC9F,MAAM5mF,KAAK,GAAG,EAAE;MAChB,IAAI,CAAC6mF,aAAa,EAAE;QAClB7mF,KAAK,CAACp0C,IAAI,CAAC64G,WAAW,CAACnpF,IAAI,EAAEyrG,UAAU,EAAE;UAAEx/F,EAAE,EAAE;QAAO,CAAC,CAAC,CAAC;MAC3D;MACA,IAAIklG,gBAAgB,EAAE;QACpBzsF,KAAK,CAACp0C,IAAI,CAAC42G,mBAAmB,CAACqkB,aAAa,GAAG,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QACpE,IAAI,IAAI,CAACt0B,aAAa,EAAE;UACtBvyD,KAAK,CAACp0C,IAAI,CAACyyG,IAAI,CAAC,IAAI,CAAC9L,aAAa,CAAC,CAAC;QACtC;MACF;MACAvyD,KAAK,CAACp0C,IAAI,CACR+4G,aAAa,CAACrpF,IAAI,EAAEyrG,UAAU,EAAE;QAAEx/F,EAAE,EAAE;MAAS,CAAC,CAAC,EACjDo9E,aAAa,CAACmkB,IAAI,EAAE9B,UAAU,EAAE;QAAEz/F,EAAE,EAAE,QAAQ;QAAEwwE,YAAY,EAAE,KAAK;MAAE,CAAC,CACxE,CAAC;MACD,MAAM,IAAI,CAACqvB,gBAAgB,CAAC9R,cAAc,EAAE,IAAI,CAACh1G,IAAI,EAAE;QAAE0/B;MAAM,CAAC,CAAC;MACjE,IAAI,CAACk+B,cAAc,CAACxT,UAAU,CAAC,YAAY,CAAC;IAC9C,CAAC,CAAC;EACJ;EACAk9C,eAAeA,CAACpgD,SAAS,EAAE;IACzB,MAAM;MAAE1qD,IAAI;MAAEk8F,SAAS;MAAEzG;IAAc,CAAC,GAAG,IAAI;IAC/C,IAAI,CAACA,aAAa,IAAI,CAACyG,SAAS,EAC9B,OAAO,EAAE;IACX,MAAM+0B,KAAK,GAAGjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC/B,MAAMkxH,KAAK,GAAGlxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC/B,MAAM4kJ,IAAI,GAAG1oD,SAAS,CAACjH,2BAA2B,CAAC,IAAI,EAAE,QAAQ,CAAC;IAClE,IAAIvqC,SAAS,KAAK,GAAG,CAAC,SAAS;MAC7B,MAAM7kB,MAAM,GAAGq2D,SAAS,CAAChvD,SAAS,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAEuoD,aAAa,CAAC;MAC1E,IAAI,CAACmvD,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC9kI,GAAG,CAAC9qB,IAAI,MAAM,OAAO,IAAI4vJ,IAAI,CAAC9kI,GAAG,CAAC+5E,SAAS,KAAK,UAAU,EAAE;QAC5F,OAAOh0D,MAAM;MACf;MACA,OAAOiuD,gBAAgB,CAACz/E,MAAM,CAACwxB,MAAM,CAAC,EAAEorF,KAAK,CAAC;IAChD,CAAC,MAAM;MACL,MAAMprF,MAAM,GAAGq2D,SAAS,CAAChvD,SAAS,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAEuoD,aAAa,CAAC;MAC1E,OAAO3B,gBAAgB,CAACjuD,MAAM,EAAEqrF,KAAK,CAAC;IACxC;EACF;EACA3lE,cAAcA,CAAA,EAAG;IACf,OAAO/jE,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;MACd,MAAM;QAAEy2F,aAAa;QAAEyG,SAAS;QAAEl8F;MAAK,CAAC,GAAG,IAAI;MAC/C,MAAMixH,KAAK,GAAGjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MAC/B,MAAMkxH,KAAK,GAAGlxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MAC/B,IAAI,CAACy1F,aAAa,IAAI,CAACyG,SAAS,IAAI,CAAC+0B,KAAK,IAAI,CAACC,KAAK,EAAE;QACpD;MACF;MACA,MAAM;QAAE1yG,IAAI;QAAEwtG,IAAI;QAAE0iB,KAAK;QAAE8K,KAAK;QAAEzsI,MAAM;QAAEvC,KAAK;QAAEokI,kBAAkB;QAAErnD;MAAe,CAAC,GAAG,IAAI,CAAC/mF,UAAU;MACvG,MAAMqpH,MAAM,GAAGoH,KAAK,CAAC1mE,KAAK;MAC1B,MAAMu/D,MAAM,GAAGoH,KAAK,CAAC3mE,KAAK;MAC1B,MAAM5rC,OAAO,GAAG,CAAC,CAAClwB,EAAE,GAAGo7H,MAAM,CAACvjF,SAAS,KAAK,IAAI,GAAG73C,EAAE,GAAG,CAAC,IAAI,CAAC;MAC9D,MAAMmwB,OAAO,GAAG,CAAC,CAAC7f,EAAE,GAAG+qH,MAAM,CAACxjF,SAAS,KAAK,IAAI,GAAGvnC,EAAE,GAAG,CAAC,IAAI,CAAC;MAC9D,MAAM6rH,QAAQ,GAAG,EAAE;MACnB,MAAM7+G,IAAI,GAAGgB,MAAM,CAAC9C,OAAO,GAAG8C,MAAM,CAAChB,IAAI,GAAG,CAAC;MAC7C,MAAM84I,IAAI,GAAG3oD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,QAAQ,CAAC;MACpE,MAAM0vD,IAAI,GAAG5oD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,QAAQ,CAAC;MACpE,IAAIp3C,MAAM,GAAG,IAAI;MACjB,IAAI+mG,SAAS;MACb,KAAK,IAAI59J,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsuG,aAAa,CAACjyF,IAAI,CAACpc,MAAM,EAAED,CAAC,EAAE,EAAE;QAClD,MAAM;UAAEkkC,KAAK;UAAErwB;QAAO,CAAC,GAAG+pJ,SAAS,IAAI,IAAI,GAAGA,SAAS,GAAGtvD,aAAa,CAACjyF,IAAI,CAACrc,CAAC,CAAC;QAC/E,MAAM6wJ,MAAM,GAAGh9I,MAAM,CAAC6pJ,IAAI,CAAC;QAC3B,MAAM7L,MAAM,GAAGh+I,MAAM,CAAC8pJ,IAAI,CAAC;QAC3B,IAAI9L,MAAM,KAAK,KAAK,CAAC,EAAE;UACrBh7F,MAAM,GAAG,CAAC4wF,kBAAkB;QAC9B,CAAC,MAAM;UACL,MAAMvmJ,CAAC,GAAGwhI,MAAM,CAAC7jF,OAAO,CAACgyG,MAAM,CAAC,GAAGr5H,OAAO;UAC1C,IAAI9kB,KAAK,CAACxR,CAAC,CAAC,EAAE;YACZ21D,MAAM,GAAG,CAAC4wF,kBAAkB;YAC5BmW,SAAS,GAAG,KAAK,CAAC;YAClB;UACF;UACAA,SAAS,GAAG,CAAC,CAAC/lJ,EAAE,GAAGy2F,aAAa,CAACjyF,IAAI,CAACrc,CAAC,GAAG,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG6X,EAAE,CAAChE,MAAM,CAAC8pJ,IAAI,CAAC,MAAM,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGrvD,aAAa,CAACjyF,IAAI,CAACrc,CAAC,GAAG,CAAC,CAAC;UACjI,MAAMg7B,CAAC,GAAG2nG,MAAM,CAAC9jF,OAAO,CAACgzG,MAAM,CAAC,GAAGp6H,OAAO;UAC1C,MAAMkmH,SAAS,GAAG,IAAI,CAACx4B,YAAY,CACjC9hG,KAAK,EACL;YAAE1kB,KAAK,EAAEkzJ,MAAM;YAAE3tH,KAAK;YAAE7M,IAAI;YAAEwtG,IAAI;YAAE0iB,KAAK;YAAE8K,KAAK;YAAEjyD;UAAe,CAAC,EACjEzhG,KAAK,IAAKwU,cAAc,CAACxU,KAAK,CAAC,GAAGA,KAAK,CAACwyB,OAAO,CAAC,CAAC,CAAC,GAAG2sB,MAAM,CAACn/C,KAAK,CACpE,CAAC;UACD8kI,QAAQ,CAAC97H,IAAI,CAAC;YACZmQ,MAAM,EAAE,IAAI;YACZosB,KAAK;YACL2gG,IAAI;YACJxtG,IAAI;YACJuhC,KAAK,EAAE;cAAE13D,CAAC;cAAE85B,CAAC;cAAE67B,MAAM;cAAEjyC;YAAK,CAAC;YAC7B0kF,QAAQ,EAAE;cAAEpoG,CAAC;cAAE85B;YAAE,CAAC;YAClB6wH,MAAM,EAAEgG,MAAM;YACdxJ,MAAM,EAAEwI,MAAM;YACdiH,WAAW,EAAE;cAAED,qBAAqB,EAAE,IAAI,CAACx+I,UAAU,CAACuM,MAAM,CAACuhI,WAAW,CAAC,CAAC;cAAE4Q,SAAS,EAAE3qI;YAAS,CAAC;YACjG/J,KAAK,EAAEs6H,SAAS,GAAG;cACjB56H,IAAI,EAAE46H,SAAS;cACfzgF,SAAS,EAAE75C,KAAK,CAAC65C,SAAS;cAC1Bj6C,UAAU,EAAEI,KAAK,CAACJ,UAAU;cAC5BC,QAAQ,EAAEG,KAAK,CAACH,QAAQ;cACxBC,UAAU,EAAEE,KAAK,CAACF,UAAU;cAC5B00C,SAAS,EAAE,QAAQ;cACnBC,YAAY,EAAE,QAAQ;cACtB9zC,IAAI,EAAEX,KAAK,CAACD;YACd,CAAC,GAAG,KAAK;UACX,CAAC,CAAC;UACFyzC,MAAM,GAAG,KAAK;QAChB;MACF;MACA,OAAO;QACLspC,MAAM,EAAE0kC,IAAI;QACZpB,QAAQ;QACR5hD,SAAS,EAAE4hD,QAAQ;QACnB2nB,MAAM,EAAE,IAAI,CAACvf,gBAAgB,CAAC,CAAC;QAC/BznH,OAAO,EAAE,IAAI,CAACA;MAChB,CAAC;IACH,CAAC,CAAC;EACJ;EACAujH,sBAAsBA,CAAA,EAAG;IACvB,OAAO,IAAI,CAACtuH,UAAU,CAACuM,MAAM,CAACqZ,OAAO,CAAC,CAAC;EACzC;EACA2mG,aAAaA,CAAA,EAAG;IACd,MAAM;MAAEjhH;IAAM,CAAC,GAAG,IAAI,CAACtL,UAAU,CAACuM,MAAM;IACxC,MAAMwiH,WAAW,GAAG7F,SAAS,CAAC59G,KAAK,CAAC;IACpC,OAAO,IAAIyjH,WAAW,CAAC,CAAC;EAC1B;EACAS,eAAeA,CAAC7tH,IAAI,EAAE;IACpB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QACJ2vF,KAAK,EAAE,CAACrX,QAAQ,CAAC;QACjBhoB,OAAO;QACPvsC,OAAO;QACPokH;MACF,CAAC,GAAGxtH,IAAI;MACR29D,QAAQ,CAAC1zC,aAAa,CAAC;QACrBjhB,IAAI,EAAE,KAAK,CAAC;QACZwwC,QAAQ,EAAE,OAAO;QACjBvwB,aAAa,EAAE,CAAC,CAAC;QACjB0sB,OAAO;QACP9sC,MAAM,EAAE,IAAI,CAACxK,UAAU,CAACwK,MAAM;QAC9BK,WAAW,EAAE,IAAI,CAACggG,cAAc,CAAC,IAAI,CAAC7qG,UAAU,CAAC6K,WAAW,CAAC;QAC7DkwC,aAAa,EAAE,IAAI,CAAC/6C,UAAU,CAAC+6C,aAAa;QAC5CtwC,QAAQ,EAAE,IAAI,CAACzK,UAAU,CAACyK,QAAQ;QAClCwwC,cAAc,EAAE,IAAI,CAACj7C,UAAU,CAACi7C;MAClC,CAAC,CAAC;MACF,IAAI,CAACk0E,gBAAgB,EAAE;QACrB7vD,QAAQ,CAACv0D,OAAO,GAAGA,OAAO;MAC5B;MACAomI,cAAc,CAAC,IAAI,EAAE7xE,QAAQ,CAAC;IAChC,CAAC,CAAC;EACJ;EACAwvD,qBAAqBA,CAACntH,IAAI,EAAE;IAC1B,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAI;QAAEojI;MAAS,CAAC,GAAGzoH,IAAI;MACvB,MAAM;QAAEkrH;MAAgB,CAAC,GAAGlrH,IAAI;MAChC,MAAM;QAAE2J,KAAK;QAAE7B;MAAQ,CAAC,GAAG,IAAI,CAACzJ,UAAU,CAACuM,MAAM;MACjD69G,QAAQ,GAAG9+G,KAAK,IAAI7B,OAAO,GAAG2gH,QAAQ,GAAG,EAAE;MAC3C,IAAI,IAAI,CAACpqH,UAAU,CAACuM,MAAM,CAACqZ,OAAO,CAAC,CAAC,EAAE;QACpCinG,eAAe,CAAChiI,KAAK,CAAC,CAAC;QACvBgiI,eAAe,CAAC9pF,OAAO,CAAC,CAAC;MAC3B;MACA,OAAO8pF,eAAe,CAAC/uF,MAAM,CAACssF,QAAQ,EAAE,KAAK,CAAC,EAAGv/F,KAAK,IAAK47E,aAAa,CAAC57E,KAAK,CAACmkH,MAAM,CAAC,CAAC;IACzF,CAAC,CAAC;EACJ;EACA5f,iBAAiBA,CAACztH,IAAI,EAAE;IACtB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAE6lI,eAAe;QAAEwC,WAAW,EAAEsqB;MAAY,CAAC,GAAGh4I,IAAI;MAC1D,MAAM;QAAEqc,IAAI;QAAEwtG,IAAI;QAAEhhH,MAAM;QAAEK,WAAW;QAAEkwC,aAAa;QAAExuC,MAAM;QAAEtB;MAAe,CAAC,GAAG,IAAI,CAACjL,UAAU;MAClG,MAAM45I,SAAS,GAAGh/I,aAAa,CAAC++I,WAAW,IAAI1uI,cAAc,CAAC/P,IAAI,EAAEqR,MAAM,CAAC2/F,QAAQ,CAAC,CAAC,EAAE;QACrF1hG,MAAM;QACNK,WAAW;QACXkwC;MACF,CAAC,CAAC;MACF,MAAMwxD,gBAAgB,GAAG,IAAI,CAAC5kF,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;MAC9DyoD,eAAe,CAACl5D,IAAI,CAAC,CAAC9xD,IAAI,EAAEgpB,KAAK,KAAK;QACpC,IAAI,CAACwhF,iBAAiB,CAACxqG,IAAI,EAAE0K,MAAM,EAAE;UAAEse,KAAK;UAAE8uH,WAAW;UAAE37H,IAAI;UAAEwtG;QAAK,CAAC,EAAEouB,SAAS,EAAE;UAAErtC;QAAiB,CAAC,CAAC;MAC3G,CAAC,CAAC;MACF,IAAI,CAACotC,WAAW,EAAE;QAChBptI,MAAM,CAACmZ,SAAS,CAAC,CAAC;MACpB;IACF,CAAC,CAAC;EACJ;EACAmpG,oBAAoBA,CAACltH,IAAI,EAAE;IACzB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,OAAO2a,IAAI,CAACsvE,cAAc,CAACnzC,MAAM,CAAC,IAAI,CAACkyF,cAAc,CAAC,CAAC,GAAGruH,IAAI,CAAC6mE,SAAS,GAAG,EAAE,CAAC;IAChF,CAAC,CAAC;EACJ;EACA+mD,gBAAgBA,CAAC5tH,IAAI,EAAE;IACrB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEyiB,OAAO;QAAEo6C,SAAS;QAAEj6C,UAAU;QAAEC,QAAQ;QAAEC,UAAU;QAAEC;MAAM,CAAC,GAAG,IAAI,CAAC/J,UAAU,CAACgK,KAAK;MAC7FrI,IAAI,CAACsvE,cAAc,CAACtd,IAAI,CAAC,CAACjqD,IAAI,EAAEmhB,KAAK,KAAK;QACxC,MAAM;UAAE00B,KAAK;UAAEv1C;QAAM,CAAC,GAAG6gB,KAAK;QAC9B,IAAIA,KAAK,IAAI7gB,KAAK,IAAIP,OAAO,EAAE;UAC7BC,IAAI,CAACm6C,SAAS,GAAGA,SAAS;UAC1Bn6C,IAAI,CAACE,UAAU,GAAGA,UAAU;UAC5BF,IAAI,CAACG,QAAQ,GAAGA,QAAQ;UACxBH,IAAI,CAACI,UAAU,GAAGA,UAAU;UAC5BJ,IAAI,CAAC80C,SAAS,GAAGx0C,KAAK,CAACw0C,SAAS;UAChC90C,IAAI,CAAC+0C,YAAY,GAAGz0C,KAAK,CAACy0C,YAAY;UACtC/0C,IAAI,CAACA,IAAI,GAAGM,KAAK,CAACN,IAAI;UACtBA,IAAI,CAAC7hB,CAAC,GAAG03D,KAAK,CAAC13D,CAAC;UAChB6hB,IAAI,CAACiY,CAAC,GAAG49B,KAAK,CAAC59B,CAAC,GAAG,EAAE;UACrBjY,IAAI,CAACiB,IAAI,GAAGZ,KAAK;UACjBL,IAAI,CAACqB,OAAO,GAAG,IAAI;QACrB,CAAC,MAAM;UACLrB,IAAI,CAACqB,OAAO,GAAG,KAAK;QACtB;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAyuG,cAAcA,CAACmR,SAAS,EAAE;IACxB,IAAI18H,EAAE;IACN,MAAMwiI,KAAK,GAAG,IAAI,CAACjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IACpC,MAAMkxH,KAAK,GAAG,IAAI,CAAClxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IACpC,IAAI,CAAC,IAAI,CAACQ,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,CAACiwH,KAAK,IAAI,CAACC,KAAK,EAAE;MAClD,OAAOp4D,qBAAqB;IAC9B;IACA,MAAM;MAAEt6C,IAAI;MAAEwtG,IAAI;MAAE0iB,KAAK;MAAE8K,KAAK;MAAEnuI,WAAW;MAAE0B,MAAM;MAAEnB;IAAQ,CAAC,GAAG,IAAI,CAACpL,UAAU;IAClF,MAAM;MAAE6qB,KAAK;MAAEmkH,MAAM;MAAEwD,MAAM;MAAE1rD;IAAO,CAAC,GAAG6jC,SAAS;IACnD,MAAMmvB,OAAO,GAAGrpB,KAAK,CAACrmD,WAAW,CAAC4kE,MAAM,CAAC;IACzC,MAAM+K,OAAO,GAAGrpB,KAAK,CAACtmD,WAAW,CAACooE,MAAM,CAAC;IACzC,MAAMhpI,KAAK,GAAG6jI,YAAY,CAAC,CAACp/I,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwJ,KAAK,KAAK,IAAI,GAAGvb,EAAE,GAAG+qJ,KAAK,CAAC;IAC7E,MAAMtrF,OAAO,GAAG2/E,YAAY,CAACyM,OAAO,GAAG,IAAI,GAAGC,OAAO,CAAC;IACtD,MAAMH,SAAS,GAAGh/I,aAAa,CAAC;MAAE+P,IAAI,EAAE4B,MAAM,CAAC/B;IAAO,CAAC,EAAE+B,MAAM,CAAC2/F,QAAQ,CAAC,CAAC,EAAE;MAAErhG;IAAY,CAAC,CAAC;IAC5F,MAAM;MAAEF,IAAI,EAAEZ;IAAM,CAAC,GAAG,IAAI,CAACiiG,cAAc,CACzCz/F,MAAM,EACN;MAAEse,KAAK,EAAE8/F,SAAS;MAAE3sG,IAAI;MAAEwtG,IAAI;MAAEmuB,WAAW,EAAE;IAAM,CAAC,EACpDC,SACF,CAAC;IACD,OAAOxuI,OAAO,CAACytD,aAAa,CAC1B;MAAErvD,KAAK;MAAEkkD,OAAO;MAAEoL,eAAe,EAAE/uD;IAAM,CAAC,EAC1CrkB,cAAc,CAAC;MACbmlC,KAAK;MACLi8D,MAAM;MACN9oE,IAAI;MACJkwH,KAAK;MACL1iB,IAAI;MACJwtB,KAAK;MACLxvI,KAAK;MACLO,KAAK;MACL89F,QAAQ,EAAE,IAAI,CAAC59E;IACjB,CAAC,EAAE,IAAI,CAAC8gF,sBAAsB,CAAC,CAAC,CAClC,CAAC;EACH;EACAmN,aAAaA,CAACvzG,UAAU,EAAE;IACxB,IAAI1W,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE,EAAEkkB,EAAE,EAAEC,EAAE,EAAE+sB,EAAE,EAAEmO,EAAE,EAAEuqF,EAAE;IAC1C,IAAI,EAAE,CAAC,CAACv2J,EAAE,GAAG,IAAI,CAAC+U,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/U,EAAE,CAACrH,MAAM,KAAK,IAAI,CAACoZ,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAImE,UAAU,KAAK,UAAU,CAAC,EAAE;MAChH,OAAO,EAAE;IACX;IACA,MAAM;MAAE6mH,IAAI;MAAEwtB,KAAK;MAAExuI,MAAM;MAAEuwC,aAAa;MAAElwC,WAAW;MAAEJ,QAAQ;MAAEjB,KAAK;MAAE+C,MAAM;MAAExB,OAAO;MAAEg8E;IAAe,CAAC,GAAG,IAAI,CAAC/mF,UAAU;IAC7H,MAAMykJ,MAAM,GAAG,kBAAkB;IACjC,OAAO,CACL;MACE9/I,UAAU,EAAE,UAAU;MACtBslB,EAAE,EAAE,IAAI,CAACA,EAAE;MACX68D,MAAM,EAAE0kC,IAAI;MACZzkC,cAAc;MACd8gB,QAAQ,EAAE,IAAI,CAAC59E,EAAE;MACjBxgB,OAAO,EAAEsB,OAAO;MAChBf,KAAK,EAAE;QACLN,IAAI,EAAE,CAAClL,EAAE,GAAG,CAACD,EAAE,GAAGwoF,cAAc,IAAI,IAAI,GAAGA,cAAc,GAAGv9E,KAAK,KAAK,IAAI,GAAGjL,EAAE,GAAGy6I,KAAK,KAAK,IAAI,GAAGx6I,EAAE,GAAGgtH;MAC1G,CAAC;MACDj/G,MAAM,EAAE;QACNjB,KAAK,EAAEiB,MAAM,CAACjB,KAAK;QACnBX,IAAI,EAAE,CAACxL,EAAE,GAAGoN,MAAM,CAAC5B,IAAI,KAAK,IAAI,GAAGxL,EAAE,GAAGslJ,MAAM;QAC9Cj6I,MAAM,EAAE,CAACs0B,EAAE,GAAG,CAAClkB,EAAE,GAAGrO,MAAM,CAAC/B,MAAM,KAAK,IAAI,GAAGoQ,EAAE,GAAGpQ,MAAM,KAAK,IAAI,GAAGs0B,EAAE,GAAG2lH,MAAM;QAC/E75I,WAAW,EAAE,CAACm0B,EAAE,GAAGxyB,MAAM,CAAC3B,WAAW,KAAK,IAAI,GAAGm0B,EAAE,GAAG,CAAC;QACvDgc,aAAa,EAAE,CAACkf,EAAE,GAAG,CAACnO,EAAE,GAAGv/C,MAAM,CAACwuC,aAAa,KAAK,IAAI,GAAG+Q,EAAE,GAAG/Q,aAAa,KAAK,IAAI,GAAGkf,EAAE,GAAG,CAAC;QAC/FpvD,WAAW,EAAE,CAAC25I,EAAE,GAAGj4I,MAAM,CAAC1B,WAAW,KAAK,IAAI,GAAG25I,EAAE,GAAG,CAAC;QACvD/6I,OAAO,EAAE8C,MAAM,CAAC9C;MAClB,CAAC;MACDU,IAAI,EAAE;QACJK,MAAM,EAAEA,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAGi6I,MAAM;QACxC1pG,aAAa;QACblwC,WAAW;QACXJ;MACF;IACF,CAAC,CACF;EACH;EACAkkH,WAAWA,CAAChtH,IAAI,EAAE;IAChB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAI,CAAC09J,eAAe,CAAC/iJ,IAAI,CAACg1E,KAAK,EAAEh1E,IAAI,CAAC+sH,WAAW,CAAC;IACpD,CAAC,CAAC;EACJ;EACAg2B,eAAeA,CAAC/tE,KAAK,EAAE+3C,WAAW,EAAE;IAClC,MAAM;MAAEtE;IAAS,CAAC,GAAGsE,WAAW;IAChC,MAAM,CAACpvD,QAAQ,CAAC,GAAGqX,KAAK;IACxB,MAAM;MAAEj7E,IAAI,EAAE+0I;IAAS,CAAC,GAAGnxE,QAAQ;IACnCmxE,QAAQ,CAAC5lJ,KAAK,CAAC,IAAI,CAAC;IACpB,KAAK,MAAMmY,IAAI,IAAIonH,QAAQ,EAAE;MAC3B,IAAIpnH,IAAI,CAACu8C,KAAK,CAAC/B,MAAM,EAAE;QACrBizF,QAAQ,CAACjzF,MAAM,CAACx6C,IAAI,CAACu8C,KAAK,CAAC13D,CAAC,EAAEmb,IAAI,CAACu8C,KAAK,CAAC59B,CAAC,CAAC;MAC7C,CAAC,MAAM;QACL8uH,QAAQ,CAAChzF,MAAM,CAACz6C,IAAI,CAACu8C,KAAK,CAAC13D,CAAC,EAAEmb,IAAI,CAACu8C,KAAK,CAAC59B,CAAC,CAAC;MAC7C;IACF;IACA29C,QAAQ,CAACotC,cAAc,CAAC,CAAC;EAC3B;EACAogB,uBAAuBA,CAACoB,aAAa,EAAE;IACrC,MAAM;MAAErB,eAAe;MAAE57C,cAAc;MAAEw7C,oBAAoB;MAAEiC,WAAW;MAAE/3C;IAAM,CAAC,GAAGu3C,aAAa;IACnG,MAAM;MAAEptF;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IACrC,IAAI,CAAC+8H,eAAe,CAAC/tE,KAAK,EAAE+3C,WAAW,CAAC;IACxCoiB,oBAAoB,CAAC,IAAI,EAAEhwG,gBAAgB,EAAE,GAAG61C,KAAK,CAAC;IACtD9pB,WAAW,CAAC,CAACggE,eAAe,CAAC,EAAE8hB,qBAAqB,CAAC;IACrDH,2BAA2B,CAAC,IAAI,EAAE1tG,gBAAgB,EAAE+rF,eAAe,CAAC;IACpEygB,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAExsG,gBAAgB,EAAEmwC,cAAc,CAAC;IAC5Eq8D,0BAA0B,CAAC,IAAI,EAAE,aAAa,EAAExsG,gBAAgB,EAAE,GAAG2rF,oBAAoB,CAAC;EAC5F;EACAU,kBAAkBA,CAACe,aAAa,EAAE;IAChC,MAAM;MAAEQ,WAAW;MAAE/3C;IAAM,CAAC,GAAGu3C,aAAa;IAC5C,IAAI,CAACw2B,eAAe,CAAC/tE,KAAK,EAAE+3C,WAAW,CAAC;IACxC,KAAK,CAACvB,kBAAkB,CAACe,aAAa,CAAC;EACzC;EACAb,yBAAyBA,CAACa,aAAa,EAAE;IACvC,IAAIjgI,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAEuiC;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IACrC,MAAM;MACJklG,eAAe,EAAEyhB,gBAAgB;MACjCr9D,cAAc,EAAEs8D,eAAe;MAC/B9gB,oBAAoB;MACpBiC,WAAW;MACX/3C,KAAK;MACLm3C;IACF,CAAC,GAAGI,aAAa;IACjB,MAAM,CAACxyH,IAAI,CAAC,GAAGi7E,KAAK;IACpB,KAAK,CAAC42C,iBAAiB,CAACW,aAAa,CAAC;IACtC,MAAMpwF,MAAM,GAAGA,CAAA,KAAM;MACnB,IAAI,CAAC4mH,eAAe,CAAC/tE,KAAK,EAAE+3C,WAAW,CAAC;IAC1C,CAAC;IACD,MAAMztH,IAAI,GAAGA,CAAA,KAAM;MACjB6/B,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;MACnCznD,MAAM,CAAC,CAAC;IACV,CAAC;IACD,IAAI4wF,WAAW,IAAI,IAAI,IAAIZ,mBAAmB,IAAI,IAAI,EAAE;MACtDhwF,MAAM,CAAC,CAAC;MACRuwG,qBAAqB,CAAC,IAAI,EAAEvtG,gBAAgB,EAAE,OAAO,EAAEwtG,gBAAgB,CAAC;MACxEyC,mBAAmB,CAAC,IAAI,EAAE,iBAAiB,EAAEjwG,gBAAgB,EAAE,KAAK,EAAEplC,IAAI,CAAC;MAC3E4xI,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAExsG,gBAAgB,EAAEysG,eAAe,CAAC;MAC7ED,0BAA0B,CAAC,IAAI,EAAE,aAAa,EAAExsG,gBAAgB,EAAE,GAAG2rF,oBAAoB,CAAC;MAC1F;IACF;IACA,MAAMngI,GAAG,GAAG2oJ,wBAAwB,CAACvmB,WAAW,EAAEZ,mBAAmB,EAAE,CAACvvH,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACgnG,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhnG,EAAE,CAACyrG,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGn7F,EAAE,CAACwiG,IAAI,CAAC;IACjK,IAAIz0G,GAAG,KAAK,KAAK,CAAC,EAAE;MAClB2U,IAAI,CAAC,CAAC;MACN;IACF,CAAC,MAAM,IAAI3U,GAAG,CAAC21C,MAAM,KAAK,OAAO,EAAE;MACjC;IACF;IACAosG,qBAAqB,CAAC,IAAI,EAAEvtG,gBAAgB,EAAE,KAAK,CAAC,EAAEwtG,gBAAgB,CAAC;IACvEzuH,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,iBAAiB,EAAE6W,gBAAgB,EAAE,CAACplC,IAAI,CAAC,EAAEpP,GAAG,CAAC0oJ,cAAc,CAAC;IACtFjI,UAAU,CAAC,IAAI,CAAC9iH,EAAE,EAAE,aAAa,EAAE6W,gBAAgB,EAAE,CAACplC,IAAI,CAAC,EAAEpP,GAAG,CAACoP,IAAI,CAAC;IACtE,IAAIpP,GAAG,CAAC8oJ,SAAS,EAAE;MACjB9H,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAExsG,gBAAgB,EAAEysG,eAAe,CAAC;MAC7ED,0BAA0B,CAAC,IAAI,EAAE,aAAa,EAAExsG,gBAAgB,EAAE,GAAG2rF,oBAAoB,CAAC;IAC5F;EACF;EACAuD,cAAcA,CAAA,EAAG;IACf,OAAO,IAAI,CAAChwH,UAAU,CAACgK,KAAK,CAACP,OAAO;EACtC;EACA8iE,mBAAmBA,CAAA,EAAG;IACpB,OAAO;MAAEC,KAAK,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAI,CAAC;EACjC;EACA/Z,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI1Y,KAAK,CAAC,CAAC;EACpB;EACAm1F,uBAAuBA,CAACtkH,KAAK,EAAE;IAC7B,MAAM;MAAE7M,IAAI;MAAEwtG;IAAK,CAAC,GAAG,IAAI,CAACxrH,UAAU;IACtC,OAAO,IAAI,CAACgsG,cAAc,CAAC,IAAI,CAAChsG,UAAU,CAACuM,MAAM,EAAE;MAAEse,KAAK;MAAE7M,IAAI;MAAEwtG,IAAI;MAAEmuB,WAAW,EAAE;IAAK,CAAC,CAAC;EAC9F;EACAnvB,kBAAkBA,CAAC7oH,IAAI,EAAE;IACvB,OAAOutI,wBAAwB,CAAC,IAAI,EAAEvtI,IAAI,CAAC;EAC7C;AACF,CAAC;AACDwiJ,UAAU,CAAClkJ,SAAS,GAAG,YAAY;AACnCkkJ,UAAU,CAAC3vJ,IAAI,GAAG,MAAM;;AAExB;AACA,IAAImwJ,gBAAgB,GAAG;EACrBnwJ,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,UAAU;EACtBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,WAAW,CAAC;EACzB3I,UAAU,EAAE,MAAM;EAClBmB,mBAAmB,EAAEsuJ,UAAU;EAC/B/gJ,WAAW,EAAE,CACX;IACE5O,IAAI,EAAE,QAAQ,CAAC;IACf2X,QAAQ,EAAE,MAAM,CAAC;EACnB,CAAC,EACD;IACE3X,IAAI,EAAE,UAAU,CAAC;IACjB2X,QAAQ,EAAE,QAAQ,CAAC;EACrB,CAAC,CACF;EACDrW,aAAa,EAAE;IACb2I,MAAM,EAAE;MACNy7I,WAAW,EAAEnzI,uBAAuB;MACpCqE,OAAO,EAAE;QAAEe,QAAQ,EAAE;UAAE3X,IAAI,EAAE;QAAO;MAAE,CAAC;MACvCqW,WAAW,EAAE,CAAC;MACdkwC,aAAa,EAAE,CAAC;MAChBtwC,QAAQ,EAAE,CAAC,CAAC,CAAC;MACbwwC,cAAc,EAAE,CAAC;MACjB1uC,MAAM,EAAE;QACN2tI,WAAW,EAAElzI,iCAAiC;QAC9C4D,WAAW,EAAE,CAAC;QACdmwC,aAAa,EAAE,CAAC;QAChBlwC,WAAW,EAAE;MACf,CAAC;MACDb,KAAK,EAAE;QACLP,OAAO,EAAE,KAAK;QACdI,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE7C,mBAAmB;QAC/B8C,KAAK,EAAE7C;MACT;IACF;EACF,CAAC;EACD7D,uBAAuB,EAAE;IACvB5E,MAAM,EAAE;MACNugJ,QAAQ,EAAE;QACRC,GAAG,EAAE;UACHC,WAAW,EAAE;QACf;MACF;IACF;EACF,CAAC;EACD57I,cAAc,EAAGtB,MAAM,IAAK;IAC1B,MAAM;MAAEuK;IAAO,CAAC,GAAGugI,oBAAoB,CAAC9qI,MAAM,CAAC;IAC/C,OAAO;MAAEwI,MAAM,EAAE+B,MAAM,CAAC5B,IAAI;MAAE4B;IAAO,CAAC;EACxC;AACF,CAAC;;AAED;AACA,IAAIq4I,kBAAkB,GAAG,cAAc//F,KAAK,CAAC;EAC3C13D,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACwqB,SAAS,GAAG,KAAK;EACxB;AACF,CAAC;AACD1vE,eAAe,CAAC,CACdugD,QAAQ,CAAC8D,eAAe,CAAC,CAC1B,EAAEg6G,kBAAkB,CAACxgK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AAChD,IAAIygK,uBAAuB,GAAG,cAAcp5B,yBAAyB,CAAC;EACpEt+H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACq0G,UAAU,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IACnD,IAAI,CAACvzI,MAAM,GAAG,IAAIshI,YAAY,CAAC,CAAC;IAChC,IAAI,CAAC7jI,KAAK,GAAG,IAAI46I,kBAAkB,CAAC,CAAC;IACrC,IAAI,CAACx5I,OAAO,GAAG,IAAI4iI,aAAa,CAAC,CAAC;EACpC;AACF,CAAC;AACDznJ,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAE08G,uBAAuB,CAACzgK,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAE08G,uBAAuB,CAACzgK,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEokJ,uBAAuB,CAACzgK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEokJ,uBAAuB,CAACzgK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEokJ,uBAAuB,CAACzgK,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEokJ,uBAAuB,CAACzgK,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEokJ,uBAAuB,CAACzgK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEokJ,uBAAuB,CAACzgK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC4C,YAAY,EAAE;EAAEjpC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAEokJ,uBAAuB,CAACzgK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACvDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,CAAC,CAC7B,EAAEq7G,uBAAuB,CAACzgK,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEokJ,uBAAuB,CAACzgK,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE+8G,uBAAuB,CAACzgK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE+8G,uBAAuB,CAACzgK,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAE+8G,uBAAuB,CAACzgK,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;;AAEnD;AACA,IAAI0gK,aAAa,GAAG,cAAcp5B,eAAe,CAAC;EAChDv+H,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAAC;MACJA,SAAS;MACTwsC,aAAa,EAAE0iB,gCAAgC;MAC/CziB,cAAc,EAAE0iB,iCAAiC;MACjD5iB,SAAS,EAAE,CACT,CAAC,CAAC,2CACF,CAAC,CAAC,oBACF,CAAC,CAAC,wBACH;MACDkjB,cAAc,EAAE,CAAC;MACjBC,UAAU,EAAE,IAAI;MAChBI,gCAAgC,EAAE,KAAK;MACvCE,iBAAiB,EAAE;QACjB3/G,MAAM,EAAEmiI,aAAa;QACrB1kI,KAAK,EAAEyjI;MACT;IACF,CAAC,CAAC;IACF,IAAI,CAACztI,UAAU,GAAG,IAAI6kJ,uBAAuB,CAAC,CAAC;IAC/C,IAAI,CAAC1E,UAAU,GAAG,IAAIX,UAAU,CAAC,CAAC;EACpC;EACApqD,WAAWA,CAAC4iB,cAAc,EAAE;IAC1B,OAAOhxH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;MACd,IAAI,CAAC,IAAI,CAACwB,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,IAAI,CAACwC,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC+H,OAAO,EAClE;MACF,MAAMs+G,MAAM,GAAG,CAACp7H,EAAE,GAAG,IAAI,CAACuR,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvR,EAAE,CAAC87D,KAAK;MACxE,MAAMu/D,MAAM,GAAG,CAAC/qH,EAAE,GAAG,IAAI,CAACiB,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjB,EAAE,CAACwrD,KAAK;MACxE,MAAM;QAAE0/D,UAAU;QAAEC;MAAW,CAAC,GAAG,IAAI,CAACN,mBAAmB,CAAC;QAAEC,MAAM;QAAEC;MAAO,CAAC,CAAC;MAC/E,MAAM82B,cAAc,GAAG,IAAI,CAACD,UAAU,CAAC3rJ,IAAI;MAC3C,MAAM;QAAEwpB,IAAI;QAAEwtG,IAAI;QAAE80B,QAAQ;QAAEE,QAAQ;QAAED,WAAW;QAAET;MAAW,CAAC,GAAG,IAAI,CAAC9/I,UAAU;MACnF,MAAM;QAAE07F,SAAS;QAAEzG;MAAc,CAAC,GAAG,MAAM,IAAI,CAAC60B,gBAAgB,CAAC9R,cAAc,EAAE,IAAI,CAACh1G,IAAI,EAAE;QAC1F0/B,KAAK,EAAE,CACLykE,WAAW,CAACnpF,IAAI,EAAEyrG,UAAU,EAAE;UAAEx/F,EAAE,EAAE;QAAW,CAAC,CAAC,EACjDk9E,WAAW,CAACqkB,IAAI,EAAE9B,UAAU,EAAE;UAAEz/F,EAAE,EAAE;QAAW,CAAC,CAAC,EACjD,IAAGq2H,QAAQ,GAAG,CAACn5C,WAAW,CAACm5C,QAAQ,EAAE,MAAM,EAAE;UAAEr2H,EAAE,EAAE;QAAe,CAAC,CAAC,CAAC,GAAG,EAAE,GAC1Eo9E,aAAa,CAACrpF,IAAI,EAAEyrG,UAAU,EAAE;UAAEx/F,EAAE,EAAE;QAAS,CAAC,CAAC,EACjDo9E,aAAa,CAACmkB,IAAI,EAAE9B,UAAU,EAAE;UAAEz/F,EAAE,EAAE;QAAS,CAAC,CAAC,EACjD,IAAGu2H,QAAQ,GAAG,CAACn5C,aAAa,CAACm5C,QAAQ,EAAEJ,cAAc,EAAE;UAAEn2H,EAAE,EAAE;QAAa,CAAC,CAAC,CAAC,GAAG,EAAE,GAClF,IAAGq2H,QAAQ,GAAG,CAACj5C,aAAa,CAACi5C,QAAQ,EAAE,MAAM,EAAE;UAAEr2H,EAAE,EAAE;QAAa,CAAC,CAAC,CAAC,GAAG,EAAE;MAE9E,CAAC,CAAC;MACF,IAAIu2H,QAAQ,EAAE;QACZ,MAAMG,WAAW,GAAGjlD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,YAAY,CAAC;QAC/E,IAAI,CAACurD,UAAU,CAAC96G,MAAM,GAAG,CAAC7mC,EAAE,GAAG+hJ,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAGtrD,aAAa,CAAC5vD,MAAM,CAAC7qC,MAAM,CAACmmJ,WAAW,CAAC,KAAK,IAAI,GAAGniJ,EAAE,GAAG,EAAE;QAC9H,IAAI,CAAC2hJ,UAAU,CAACtyJ,KAAK,GAAGiyJ,UAAU;QAClC,IAAI,CAACK,UAAU,CAACriH,MAAM,CAAC,CAAC;MAC1B;MACA,IAAI,CAAC8iC,cAAc,CAACxT,UAAU,CAAC,YAAY,CAAC;IAC9C,CAAC,CAAC;EACJ;EACAk9C,eAAeA,CAACpgD,SAAS,EAAE;IACzB,MAAM;MAAEwxC,SAAS;MAAEzG;IAAc,CAAC,GAAG,IAAI;IACzC,IAAI,CAACA,aAAa,IAAI,CAACyG,SAAS,EAC9B,OAAO,EAAE;IACX,MAAMzxE,EAAE,GAAGigC,SAAS,KAAK,GAAG,CAAC,UAAU,QAAQ,GAAG,QAAQ;IAC1D,MAAM02F,OAAO,GAAGllD,SAAS,CAACjH,2BAA2B,CAAC,IAAI,EAAExqE,EAAE,CAAC;IAC/D,MAAMob,MAAM,GAAGq2D,SAAS,CAAChvD,SAAS,CAAC,IAAI,EAAEziB,EAAE,EAAE,OAAO,EAAEgrE,aAAa,CAAC;IACpE,IAAI,CAAC2rD,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACthI,GAAG,CAAC9qB,IAAI,MAAM,OAAO,IAAI,CAACosJ,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACthI,GAAG,CAAC+5E,SAAS,MAAM,UAAU,EAAE;MAClI,OAAOh0D,MAAM;IACf;IACA,MAAM5lC,IAAI,GAAG,IAAI,CAACD,IAAI,CAAC0qD,SAAS,CAAC;IACjC,OAAOopC,gBAAgB,CAACz/E,MAAM,CAACwxB,MAAM,CAAC,EAAE5lC,IAAI,CAAC;EAC/C;EACAsrD,cAAcA,CAAA,EAAG;IACf,OAAO/jE,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;MACd,MAAM;QAAEgB,IAAI;QAAEk8F,SAAS;QAAEzG,aAAa;QAAEkrD;MAAW,CAAC,GAAG,IAAI;MAC3D,MAAM;QAAEniI,IAAI;QAAEwtG,IAAI;QAAE80B,QAAQ;QAAEE,QAAQ;QAAEtS,KAAK;QAAE8K,KAAK;QAAE8H,SAAS;QAAEv0I,MAAM;QAAEvC,KAAK;QAAEe;MAAQ,CAAC,GAAG,IAAI,CAAC/K,UAAU;MAC3G,MAAM;QAAEi2D;MAAU,CAAC,GAAGjsD,KAAK;MAC3B,MAAM+5H,WAAW,GAAG7a,SAAS,CAAC38G,MAAM,CAACjB,KAAK,CAAC;MAC3C,MAAMmlH,KAAK,GAAGjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MAC/B,MAAMkxH,KAAK,GAAGlxH,IAAI,CAAC,GAAG,CAAC,QAAQ;MAC/B,IAAI,EAAEk8F,SAAS,IAAIzG,aAAa,IAAIlqF,OAAO,IAAI0lH,KAAK,IAAIC,KAAK,CAAC,EAAE;QAC9D;MACF;MACA,MAAMqwB,QAAQ,GAAGrlD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,QAAQ,CAAC;MACxE,MAAMosD,QAAQ,GAAGtlD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,QAAQ,CAAC;MACxE,MAAMssD,YAAY,GAAGV,QAAQ,GAAG9kD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC;MAChG,MAAMusD,YAAY,GAAGb,QAAQ,GAAG5kD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC;MAChG,MAAMy0B,MAAM,GAAGoH,KAAK,CAAC1mE,KAAK;MAC1B,MAAMu/D,MAAM,GAAGoH,KAAK,CAAC3mE,KAAK;MAC1B,MAAM5rC,OAAO,GAAG,CAAC,CAAClwB,EAAE,GAAGo7H,MAAM,CAACvjF,SAAS,KAAK,IAAI,GAAG73C,EAAE,GAAG,CAAC,IAAI,CAAC;MAC9D,MAAMmwB,OAAO,GAAG,CAAC,CAAC7f,EAAE,GAAG+qH,MAAM,CAACxjF,SAAS,KAAK,IAAI,GAAGvnC,EAAE,GAAG,CAAC,IAAI,CAAC;MAC9D,MAAM6rH,QAAQ,GAAG,EAAE;MACnB,MAAMzrE,IAAI,GAAG30C,KAAK,CAAC60C,OAAO,CAAC,CAAC;MAC5B,KAAK,MAAM;QAAErkD,MAAM;QAAEqwB;MAAM,CAAC,IAAI,CAACrsB,EAAE,GAAGy2F,aAAa,CAACjyF,IAAI,KAAK,IAAI,GAAGxE,EAAE,GAAG,EAAE,EAAE;QAC3E,MAAMg5I,MAAM,GAAGh9I,MAAM,CAACumJ,QAAQ,CAAC;QAC/B,MAAMvI,MAAM,GAAGh+I,MAAM,CAACwmJ,QAAQ,CAAC;QAC/B,MAAMn5J,CAAC,GAAGwhI,MAAM,CAAC7jF,OAAO,CAACgyG,MAAM,CAAC,GAAGr5H,OAAO;QAC1C,MAAMwD,CAAC,GAAG2nG,MAAM,CAAC9jF,OAAO,CAACgzG,MAAM,CAAC,GAAGp6H,OAAO;QAC1C,MAAMkmH,SAAS,GAAG,IAAI,CAACx4B,YAAY,CAAC9hG,KAAK,EAAE;UACzC1kB,KAAK,EAAEg7J,QAAQ,GAAG9lJ,MAAM,CAAC2mJ,YAAY,CAAC,GAAG3I,MAAM;UAC/C3tH,KAAK;UACL7M,IAAI;UACJwtG,IAAI;UACJ80B,QAAQ;UACRpS,KAAK;UACL8K,KAAK;UACL8H;QACF,CAAC,CAAC;QACF,MAAMv1I,IAAI,GAAGo5C,IAAI,CAACP,WAAW,CAACkgF,SAAS,EAAE3lF,IAAI,CAAC;QAC9C,MAAMh0C,IAAI,GAAG61I,QAAQ,GAAGL,UAAU,CAAC36G,OAAO,CAAChrC,MAAM,CAAC0mJ,YAAY,CAAC,CAAC,GAAG,KAAK,CAAC;QACzE92B,QAAQ,CAAC97H,IAAI,CAAC;UACZmQ,MAAM,EAAE,IAAI;UACZqoF,MAAM,EAAE0kC,IAAI;UACZA,IAAI;UACJxtG,IAAI;UACJ6M,KAAK;UACLmkH,MAAM,EAAEwI,MAAM;UACdhF,MAAM,EAAEgG,MAAM;UACdiG,WAAW,EAAE;YAAED,qBAAqB,EAAEjyI,MAAM,CAACuhI,WAAW,CAAC,CAAC;YAAE4Q,SAAS,EAAE3qI;UAAS,CAAC;UACjFwrC,KAAK,EAAE;YAAE13D,CAAC;YAAE85B,CAAC;YAAEpW,IAAI,EAAEgB,MAAM,CAAChB;UAAK,CAAC;UAClC0kF,QAAQ,EAAE;YAAEpoG,CAAC;YAAE85B;UAAE,CAAC;UAClBhX,IAAI;UACJX,KAAK,EAAEtkB,cAAc,CAAC;YAAEgkB,IAAI,EAAE46H;UAAU,CAAC,EAAE/4H,IAAI,CAAC;UAChDgB,MAAM,EAAEw3H,WAAW;UACnB9tE;QACF,CAAC,CAAC;MACJ;MACA,OAAO;QACL6wB,MAAM,EAAE0kC,IAAI;QACZpB,QAAQ;QACR5hD,SAAS,EAAE4hD,QAAQ;QACnB2nB,MAAM,EAAE,IAAI,CAACvf,gBAAgB,CAAC,CAAC;QAC/BznH,OAAO,EAAE,IAAI,CAACA;MAChB,CAAC;IACH,CAAC,CAAC;EACJ;EACAujH,sBAAsBA,CAAA,EAAG;IACvB,OAAO,IAAI,CAACtuH,UAAU,CAACuM,MAAM,CAACqZ,OAAO,CAAC,CAAC;EACzC;EACAuyF,YAAYA,CAAA,EAAG;IACb,IAAIlqH,EAAE,EAAEsQ,EAAE;IACV,OAAO,CAACA,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACy/H,eAAe,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGz/H,EAAE,CAACu6E,SAAS,KAAK,IAAI,GAAGjqE,EAAE,GAAG,EAAE;EAC7F;EACAguH,aAAaA,CAAA,EAAG;IACd,MAAM;MAAEjhH;IAAM,CAAC,GAAG,IAAI,CAACtL,UAAU,CAACuM,MAAM;IACxC,MAAMwiH,WAAW,GAAG7F,SAAS,CAAC59G,KAAK,CAAC;IACpC,OAAO,IAAIyjH,WAAW,CAAC,CAAC;EAC1B;EACAD,qBAAqBA,CAACntH,IAAI,EAAE;IAC1B,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEojI,QAAQ;QAAEyC;MAAgB,CAAC,GAAGlrH,IAAI;MAC1C,IAAI,IAAI,CAAC3B,UAAU,CAACuM,MAAM,CAACqZ,OAAO,CAAC,CAAC,EAAE;QACpCinG,eAAe,CAAChiI,KAAK,CAAC,CAAC;QACvBgiI,eAAe,CAAC9pF,OAAO,CAAC,CAAC;MAC3B;MACA,OAAO8pF,eAAe,CAAC/uF,MAAM,CAAC,IAAI,CAAC99B,UAAU,CAACuM,MAAM,CAAC9C,OAAO,GAAG2gH,QAAQ,GAAG,EAAE,CAAC;IAC/E,CAAC,CAAC;EACJ;EACAgF,iBAAiBA,CAACztH,IAAI,EAAE;IACtB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAE6lI,eAAe;QAAEwC,WAAW,EAAEsqB;MAAY,CAAC,GAAGh4I,IAAI;MAC1D,MAAM;QAAEqc,IAAI;QAAEwtG,IAAI;QAAE80B,QAAQ;QAAE/zI,MAAM;QAAEtB;MAAe,CAAC,GAAG,IAAI,CAACjL,UAAU;MACxE,MAAM45I,SAAS,GAAGh/I,aAAa,CAAC++I,WAAW,IAAI1uI,cAAc,CAAC/P,IAAI,EAAEqR,MAAM,CAAC2/F,QAAQ,CAAC,CAAC,CAAC;MACtF2gB,eAAe,CAACl5D,IAAI,CAAC,CAAC9xD,IAAI,EAAEgpB,KAAK,KAAK;QACpC,IAAI,CAACwhF,iBAAiB,CAACxqG,IAAI,EAAE0K,MAAM,EAAE;UAAEse,KAAK;UAAE8uH,WAAW;UAAE37H,IAAI;UAAEwtG,IAAI;UAAE80B;QAAS,CAAC,EAAE1G,SAAS,CAAC;MAC/F,CAAC,CAAC;MACF,IAAI,CAACD,WAAW,EAAE;QAChBptI,MAAM,CAACmZ,SAAS,CAAC,CAAC;MACpB;IACF,CAAC,CAAC;EACJ;EACAmpG,oBAAoBA,CAACltH,IAAI,EAAE;IACzB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE;MACV,MAAM8iJ,YAAY,GAAG,IAAI,CAACrxB,cAAc,CAAC,CAAC,GAAG,CAACzxH,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACqzE,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGrzE,EAAE,CAAC6nE,WAAW,CAAC,CAAC,CAACpxE,GAAG,CAAC,IAAI,CAAC,KAAK,IAAI,GAAG6Z,EAAE,GAAG,EAAE,GAAG,EAAE;MAC1I,OAAOoD,IAAI,CAACsvE,cAAc,CAACnzC,MAAM,CAC/BujH,YAAY,CAACpmJ,GAAG,CAAC,CAAC;QAAE4vB,KAAK;QAAEhjC,CAAC;QAAE85B;MAAE,CAAC,KAAK57B,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEmlC,KAAK,CAAC,EAAE;QAC7E00B,KAAK,EAAE;UAAE13D,CAAC;UAAE85B,CAAC;UAAEpW,IAAI,EAAEsf,KAAK,CAAC00B,KAAK,CAACh0C;QAAK,CAAC;QACvC0qD,SAAS,EAAE;MACb,CAAC,CAAC,CAAC,EACFvsD,IAAI,IAAK;QACRA,IAAI,CAACkhB,aAAa,GAAG,CAAC,CAAC;MACzB,CACF,CAAC;IACH,CAAC,CAAC;EACJ;EACA2kG,gBAAgBA,CAAC5tH,IAAI,EAAE;IACrB,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEgjB;MAAM,CAAC,GAAG,IAAI,CAAChK,UAAU;MACjC2B,IAAI,CAACsvE,cAAc,CAACtd,IAAI,CAAC,CAACjqD,IAAI,EAAEmhB,KAAK,KAAK;QACxC,IAAI58B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;QAClBuK,IAAI,CAACA,IAAI,GAAGmhB,KAAK,CAAC7gB,KAAK,CAACN,IAAI;QAC5BA,IAAI,CAACiB,IAAI,GAAGX,KAAK,CAACD,KAAK;QACvBL,IAAI,CAAC7hB,CAAC,GAAG,CAAC0W,EAAE,GAAG,CAACtQ,EAAE,GAAG48B,KAAK,CAAC00B,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtxD,EAAE,CAACpG,CAAC,KAAK,IAAI,GAAG0W,EAAE,GAAG,CAAC;QAC3EmL,IAAI,CAACiY,CAAC,GAAG,CAACxiB,EAAE,GAAG,CAACX,EAAE,GAAGqsB,KAAK,CAAC00B,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/gD,EAAE,CAACmjB,CAAC,KAAK,IAAI,GAAGxiB,EAAE,GAAG,CAAC;QAC3EuK,IAAI,CAACm6C,SAAS,GAAG75C,KAAK,CAAC65C,SAAS;QAChCn6C,IAAI,CAACE,UAAU,GAAGI,KAAK,CAACJ,UAAU;QAClCF,IAAI,CAACG,QAAQ,GAAGG,KAAK,CAACH,QAAQ;QAC9BH,IAAI,CAACI,UAAU,GAAGE,KAAK,CAACF,UAAU;QAClCJ,IAAI,CAAC80C,SAAS,GAAG,MAAM;QACvB90C,IAAI,CAAC+0C,YAAY,GAAG,KAAK;MAC3B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA+6D,cAAcA,CAACmR,SAAS,EAAE;IACxB,MAAM8F,KAAK,GAAG,IAAI,CAACjxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IACpC,MAAMkxH,KAAK,GAAG,IAAI,CAAClxH,IAAI,CAAC,GAAG,CAAC,QAAQ;IACpC,IAAI,CAAC,IAAI,CAACQ,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAI,CAACiwH,KAAK,IAAI,CAACC,KAAK,EAAE;MAClD,OAAOp4D,qBAAqB;IAC9B;IACA,MAAM;MAAEt6C,IAAI;MAAEwtG,IAAI;MAAE80B,QAAQ;MAAEpS,KAAK;MAAE8K,KAAK;MAAE8H,SAAS;MAAEt3I,KAAK,GAAGwvI,KAAK;MAAEzsI,MAAM;MAAEnB;IAAQ,CAAC,GAAG,IAAI,CAACpL,UAAU;IACzG,MAAM;MAAE6qB,KAAK;MAAEmkH,MAAM;MAAEwD,MAAM;MAAExoI,KAAK;MAAE88E;IAAO,CAAC,GAAG6jC,SAAS;IAC1D,MAAMivB,SAAS,GAAGh/I,aAAa,CAC7B;MAAE+P,IAAI,EAAEggH,SAAS,CAAChgH,IAAI;MAAEE,WAAW,EAAE,IAAI,CAACggG,cAAc,CAACt+F,MAAM,CAAC1B,WAAW;IAAE,CAAC,EAC9E0B,MAAM,CAAC2/F,QAAQ,CAAC,CAClB,CAAC;IACD,MAAM;MAAEvhG,IAAI,EAAEZ,KAAK,GAAG;IAAO,CAAC,GAAG,IAAI,CAACiiG,cAAc,CAClDz/F,MAAM,EACN;MAAEse,KAAK,EAAE8/F,SAAS;MAAEgvB,WAAW,EAAE,KAAK;MAAE37H,IAAI;MAAEwtG,IAAI;MAAE80B;IAAS,CAAC,EAC9D1G,SACF,CAAC;IACD,MAAME,OAAO,GAAGzM,YAAY,CAAC5c,KAAK,CAACrmD,WAAW,CAAC4kE,MAAM,CAAC,CAAC;IACvD,MAAM+K,OAAO,GAAG1M,YAAY,CAAC3c,KAAK,CAACtmD,WAAW,CAACooE,MAAM,CAAC,CAAC;IACvD,IAAI9kF,OAAO,GAAG,MAAM2/E,YAAY,CAACa,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGlwH,IAAI,CAAC,SAAS87H,OAAO,UAAUzM,YAAY,CAAC2L,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGxtB,IAAI,CAAC,SAASuuB,OAAO,EAAE;IACpJ,IAAIuG,QAAQ,EAAE;MACZ5yF,OAAO,GAAG,MAAM2/E,YAAY,CAACyT,SAAS,IAAI,IAAI,GAAGA,SAAS,GAAGR,QAAQ,CAAC,SAASjT,YAAY,CAACrjI,KAAK,CAACN,IAAI,CAAC,MAAM,GAAGgkD,OAAO;IACzH;IACA,OAAOtiD,OAAO,CAACytD,aAAa,CAC1B;MAAErvD,KAAK;MAAEkkD,OAAO;MAAEoL,eAAe,EAAE/uD;IAAM,CAAC,EAC1CrkB,cAAc,CAAC;MACbmlC,KAAK;MACLi8D,MAAM;MACN9oE,IAAI;MACJkwH,KAAK;MACL1iB,IAAI;MACJwtB,KAAK;MACLsH,QAAQ;MACRQ,SAAS;MACTt3I,KAAK;MACLO,KAAK;MACL89F,QAAQ,EAAE,IAAI,CAAC59E;IACjB,CAAC,EAAE,IAAI,CAAC8gF,sBAAsB,CAAC,CAAC,CAClC,CAAC;EACH;EACAmN,aAAaA,CAACvzG,UAAU,EAAE;IACxB,IAAI1W,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE,EAAEkkB,EAAE;IAC1B,MAAM;MAAE0sF,IAAI;MAAEwtB,KAAK;MAAExvI,KAAK;MAAE+C,MAAM;MAAExB;IAAQ,CAAC,GAAG,IAAI,CAAC/K,UAAU;IAC/D,MAAM;MAAE2K,IAAI;MAAEH,MAAM;MAAEI,WAAW;MAAEmwC,aAAa;MAAElwC;IAAY,CAAC,GAAG0B,MAAM;IACxE,IAAI,EAAE,CAACte,EAAE,GAAG,IAAI,CAAC+U,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/U,EAAE,CAACrH,MAAM,CAAC,IAAI,CAAC,IAAI,CAACoZ,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAImE,UAAU,KAAK,UAAU,EAAE;MAC/G,OAAO,EAAE;IACX;IACA,OAAO,CACL;MACEA,UAAU,EAAE,UAAU;MACtBslB,EAAE,EAAE,IAAI,CAACA,EAAE;MACX68D,MAAM,EAAE0kC,IAAI;MACZ3jB,QAAQ,EAAE,IAAI,CAAC59E,EAAE;MACjBxgB,OAAO,EAAEsB,OAAO;MAChBf,KAAK,EAAE;QACLN,IAAI,EAAE,CAACnL,EAAE,GAAGiL,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAGwvI,KAAK,KAAK,IAAI,GAAGz6I,EAAE,GAAGitH;MAC5D,CAAC;MACDj/G,MAAM,EAAE;QACNjB,KAAK,EAAEiB,MAAM,CAACjB,KAAK;QACnBX,IAAI,EAAE,CAACxL,EAAE,GAAG,CAACX,EAAE,GAAG+N,MAAM,CAAC5B,IAAI,KAAK,IAAI,GAAGnM,EAAE,GAAGmM,IAAI,KAAK,IAAI,GAAGxL,EAAE,GAAG,kBAAkB;QACrFqL,MAAM,EAAE,CAACs0B,EAAE,GAAG,CAAClkB,EAAE,GAAGrO,MAAM,CAAC/B,MAAM,KAAK,IAAI,GAAGoQ,EAAE,GAAGpQ,MAAM,KAAK,IAAI,GAAGs0B,EAAE,GAAG,kBAAkB;QAC3Fl0B,WAAW,EAAEA,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAG,CAAC;QAClDmwC,aAAa,EAAEA,aAAa,IAAI,IAAI,GAAGA,aAAa,GAAG,CAAC;QACxDlwC,WAAW,EAAEA,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAG;MACnD;IACF,CAAC,CACF;EACH;EACAiiH,uBAAuBA,CAAC9pH,IAAI,EAAE;IAC5B,MAAM;MAAE6pH,eAAe;MAAE57C,cAAc;MAAEw7C;IAAqB,CAAC,GAAGzpH,IAAI;IACtEurI,sBAAsB,CAAC,IAAI,EAAE,IAAI,CAAC5mH,GAAG,CAACmZ,gBAAgB,EAAE+rF,eAAe,CAAC;IACxEygB,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAEmwC,cAAc,CAAC;IACrFq8D,0BAA0B,CAAC,IAAI,EAAE,aAAa,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAE,GAAG2rF,oBAAoB,CAAC;EACrG;EACAuD,cAAcA,CAAA,EAAG;IACf,OAAO,IAAI,CAAChwH,UAAU,CAACgK,KAAK,CAACP,OAAO;EACtC;EACAipD,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI1Y,KAAK,CAAC,CAAC;EACpB;EACAm1F,uBAAuBA,CAACtkH,KAAK,EAAE;IAC7B,MAAM;MAAE7M,IAAI;MAAEwtG,IAAI;MAAE80B;IAAS,CAAC,GAAG,IAAI,CAACtgJ,UAAU;IAChD,OAAO,IAAI,CAACgsG,cAAc,CAAC,IAAI,CAAChsG,UAAU,CAACuM,MAAM,EAAE;MAAEse,KAAK;MAAE7M,IAAI;MAAEwtG,IAAI;MAAE80B,QAAQ;MAAE3G,WAAW,EAAE;IAAK,CAAC,CAAC;EACxG;EACAnvB,kBAAkBA,CAAC7oH,IAAI,EAAE;IACvB,OAAOutI,wBAAwB,CAAC,IAAI,EAAEvtI,IAAI,CAAC;EAC7C;AACF,CAAC;AACDmjJ,aAAa,CAAC7kJ,SAAS,GAAG,eAAe;AACzC6kJ,aAAa,CAACtwJ,IAAI,GAAG,SAAS;;AAE9B;AACA,IAAIuwJ,mBAAmB,GAAG;EACxBvwJ,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,UAAU;EACtBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,WAAW,CAAC;EACzB3I,UAAU,EAAE,SAAS;EACrBmB,mBAAmB,EAAEivJ,aAAa;EAClC1hJ,WAAW,EAAE,CACX;IACE5O,IAAI,EAAE,QAAQ,CAAC;IACf2X,QAAQ,EAAE,QAAQ,CAAC;EACrB,CAAC,EACD;IACE3X,IAAI,EAAE,QAAQ,CAAC;IACf2X,QAAQ,EAAE,MAAM,CAAC;EACnB,CAAC,CACF;EACDrW,aAAa,EAAE;IACb2I,MAAM,EAAE;MACNy7I,WAAW,EAAEnzI,uBAAuB;MACpCqE,OAAO,EAAE;QAAEe,QAAQ,EAAE;UAAE3X,IAAI,EAAE;QAAO;MAAE,CAAC;MACvC+X,MAAM,EAAE;QACN2tI,WAAW,EAAElzI,iCAAiC;QAC9C4D,WAAW,EAAE;MACf,CAAC;MACDZ,KAAK,EAAE;QACLP,OAAO,EAAE,KAAK;QACdI,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE7C,mBAAmB;QAC/B8C,KAAK,EAAE7C;MACT;IACF;EACF,CAAC;EACD7D,uBAAuB,EAAE;IACvB5E,MAAM,EAAE;MACNugJ,QAAQ,EAAE;QACRC,GAAG,EAAE;UACHC,WAAW,EAAE;QACf;MACF;IACF;EACF,CAAC;EACD57I,cAAc,EAAEwpI;AAClB,CAAC;;AAED;AACA,IAAIkY,SAAS,GAAG,MAAMC,UAAU,CAAC;EAC/B93J,WAAWA,CAACq2C,UAAU,EAAEC,QAAQ,EAAEwkF,WAAW,EAAEi9B,WAAW,EAAE;IAC1D,IAAI,CAAC1hH,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACwkF,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACi9B,WAAW,GAAGA,WAAW;EAChC;EACA1pJ,KAAKA,CAAA,EAAG;IACN,MAAM;MAAEgoC,UAAU;MAAEC,QAAQ;MAAEwkF,WAAW;MAAEi9B;IAAY,CAAC,GAAG,IAAI;IAC/D,OAAO,IAAID,UAAU,CAACzhH,UAAU,EAAEC,QAAQ,EAAEwkF,WAAW,EAAEi9B,WAAW,CAAC;EACvE;EACA,CAAC9kI,WAAW,EAAE7rB,KAAK,EAAE9G,CAAC,EAAE;IACtB,OAAO,IAAIw3J,UAAU,CACnB,IAAI,CAACzhH,UAAU,IAAI,CAAC,GAAG/1C,CAAC,CAAC,GAAG8G,KAAK,CAACivC,UAAU,GAAG/1C,CAAC,EAChD,IAAI,CAACg2C,QAAQ,IAAI,CAAC,GAAGh2C,CAAC,CAAC,GAAG8G,KAAK,CAACkvC,QAAQ,GAAGh2C,CAAC,EAC5C,IAAI,CAACw6H,WAAW,IAAI,CAAC,GAAGx6H,CAAC,CAAC,GAAG8G,KAAK,CAAC0zH,WAAW,GAAGx6H,CAAC,EAClD,IAAI,CAACy3J,WAAW,IAAI,CAAC,GAAGz3J,CAAC,CAAC,GAAG8G,KAAK,CAAC2wJ,WAAW,GAAGz3J,CACnD,CAAC;EACH;AACF,CAAC;;AAED;AACA,SAAS03J,eAAeA,CAACt9J,CAAC,EAAE85B,CAAC,EAAEyjI,MAAM,EAAE;EACrC,MAAM/gH,MAAM,GAAGp/C,IAAI,CAACs1D,IAAI,CAACt1D,IAAI,CAACC,GAAG,CAAC2C,CAAC,EAAE,CAAC,CAAC,GAAG5C,IAAI,CAACC,GAAG,CAACy8B,CAAC,EAAE,CAAC,CAAC,CAAC;EACzD,MAAM;IAAEsmG,WAAW;IAAEi9B;EAAY,CAAC,GAAGE,MAAM;EAC3C,IAAIA,MAAM,CAAC5hH,UAAU,KAAK4hH,MAAM,CAAC3hH,QAAQ,IAAIY,MAAM,GAAGp/C,IAAI,CAAC6uB,GAAG,CAACm0G,WAAW,EAAEi9B,WAAW,CAAC,IAAI7gH,MAAM,GAAGp/C,IAAI,CAAC6J,GAAG,CAACm5H,WAAW,EAAEi9B,WAAW,CAAC,EAAE;IACvI,OAAO,KAAK;EACd;EACA,MAAM1hH,UAAU,GAAGH,iBAAiB,CAAC+hH,MAAM,CAAC5hH,UAAU,CAAC;EACvD,MAAMC,QAAQ,GAAGJ,iBAAiB,CAAC+hH,MAAM,CAAC3hH,QAAQ,CAAC;EACnD,MAAMa,KAAK,GAAGr/C,IAAI,CAACusC,KAAK,CAAC7P,CAAC,EAAE95B,CAAC,CAAC;EAC9B,OAAO27C,UAAU,GAAGC,QAAQ,GAAGa,KAAK,IAAIb,QAAQ,IAAIa,KAAK,IAAId,UAAU,GAAGc,KAAK,IAAIb,QAAQ,IAAIa,KAAK,IAAI,CAACr/C,IAAI,CAACwsC,EAAE,IAAI6S,KAAK,IAAId,UAAU,IAAIc,KAAK,IAAIr/C,IAAI,CAACwsC,EAAE;AAC7J;AACA,SAAS4zH,kBAAkBA,CAACl7I,IAAI,EAAEi7I,MAAM,EAAE;EACxC,MAAM;IAAE5hH,UAAU;IAAEC,QAAQ;IAAEwkF,WAAW;IAAEi9B;EAAY,CAAC,GAAGE,MAAM;EACjE,MAAME,UAAU,GAAG;IAAEz9J,CAAC,EAAEq9J,WAAW,GAAGjgK,IAAI,CAAC6jC,GAAG,CAAC0a,UAAU,CAAC;IAAE7hB,CAAC,EAAEujI,WAAW,GAAGjgK,IAAI,CAAC8jC,GAAG,CAACya,UAAU;EAAE,CAAC;EACnG,MAAM+hH,QAAQ,GAAG;IAAE19J,CAAC,EAAEq9J,WAAW,GAAGjgK,IAAI,CAAC6jC,GAAG,CAAC2a,QAAQ,CAAC;IAAE9hB,CAAC,EAAEujI,WAAW,GAAGjgK,IAAI,CAAC8jC,GAAG,CAAC0a,QAAQ;EAAE,CAAC;EAC7F,MAAM+hH,UAAU,GAAGv9B,WAAW,KAAK,CAAC,GAAG;IAAEpgI,CAAC,EAAE,CAAC;IAAE85B,CAAC,EAAE;EAAE,CAAC,GAAG;IAAE95B,CAAC,EAAEogI,WAAW,GAAGhjI,IAAI,CAAC6jC,GAAG,CAAC0a,UAAU,CAAC;IAAE7hB,CAAC,EAAEsmG,WAAW,GAAGhjI,IAAI,CAAC8jC,GAAG,CAACya,UAAU;EAAE,CAAC;EACxI,MAAMiiH,QAAQ,GAAGx9B,WAAW,KAAK,CAAC,GAAG;IAAEpgI,CAAC,EAAE,CAAC;IAAE85B,CAAC,EAAE;EAAE,CAAC,GAAG;IAAE95B,CAAC,EAAEogI,WAAW,GAAGhjI,IAAI,CAAC6jC,GAAG,CAAC2a,QAAQ,CAAC;IAAE9hB,CAAC,EAAEsmG,WAAW,GAAGhjI,IAAI,CAAC8jC,GAAG,CAAC0a,QAAQ;EAAE,CAAC;EAClI,OAAOu8E,mBAAmB,CACxB71G,IAAI,CAACrc,KAAK,CAACjG,CAAC,EACZsiB,IAAI,CAACrc,KAAK,CAAC6zB,CAAC,EACZxX,IAAI,CAAC6zB,GAAG,CAACn2C,CAAC,EACVsiB,IAAI,CAAC6zB,GAAG,CAACrc,CAAC,EACV2jI,UAAU,CAACz9J,CAAC,EACZy9J,UAAU,CAAC3jI,CAAC,EACZ6jI,UAAU,CAAC39J,CAAC,EACZ29J,UAAU,CAAC7jI,CACb,CAAC,IAAIq+F,mBAAmB,CACtB71G,IAAI,CAACrc,KAAK,CAACjG,CAAC,EACZsiB,IAAI,CAACrc,KAAK,CAAC6zB,CAAC,EACZxX,IAAI,CAAC6zB,GAAG,CAACn2C,CAAC,EACVsiB,IAAI,CAAC6zB,GAAG,CAACrc,CAAC,EACV4jI,QAAQ,CAAC19J,CAAC,EACV09J,QAAQ,CAAC5jI,CAAC,EACV8jI,QAAQ,CAAC59J,CAAC,EACV49J,QAAQ,CAAC9jI,CACX,CAAC,IAAImgG,gBAAgB,CACnB,CAAC,EACD,CAAC,EACDojC,WAAW,EACX1hH,UAAU,EACVC,QAAQ,EACR,IAAI,EACJt5B,IAAI,CAACrc,KAAK,CAACjG,CAAC,EACZsiB,IAAI,CAACrc,KAAK,CAAC6zB,CAAC,EACZxX,IAAI,CAAC6zB,GAAG,CAACn2C,CAAC,EACVsiB,IAAI,CAAC6zB,GAAG,CAACrc,CACX,CAAC;AACH;AACA,SAAS+jI,iBAAiBA,CAACzhI,GAAG,EAAEmhI,MAAM,EAAE;EACtC,MAAM39F,OAAO,GAAG;IAAE5/D,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC;IAAE85B,CAAC,EAAEsC,GAAG,CAACtC;EAAE,CAAC;EACtC,MAAM+lC,QAAQ,GAAG;IAAE7/D,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK;IAAEuX,CAAC,EAAEsC,GAAG,CAACtC;EAAE,CAAC;EACnD,MAAMgmC,UAAU,GAAG;IAAE9/D,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC;IAAE85B,CAAC,EAAEsC,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB;EAAO,CAAC;EACtD,MAAMklC,WAAW,GAAG;IAAE//D,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK;IAAEuX,CAAC,EAAEsC,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB;EAAO,CAAC;EACnE,OAAO2iI,kBAAkB,CAAC;IAAEv3J,KAAK,EAAE25D,OAAO;IAAEzpB,GAAG,EAAE0pB;EAAS,CAAC,EAAE09F,MAAM,CAAC,IAAIC,kBAAkB,CAAC;IAAEv3J,KAAK,EAAE65D,UAAU;IAAE3pB,GAAG,EAAE4pB;EAAY,CAAC,EAAEw9F,MAAM,CAAC;AAC7I;AACA,SAASO,kBAAkBA,CAACz8I,CAAC,EAAE08I,KAAK,EAAEjgK,CAAC,EAAEC,CAAC,EAAE;EAC1C,IAAID,CAAC,KAAK,CAAC,IAAIC,CAAC,KAAK,CAAC,EACpB,OAAO,CAAC;EACV,MAAMigK,GAAG,GAAG5gK,IAAI,CAACq4C,IAAI,CAACr4C,IAAI,CAAC27B,GAAG,CAAC,CAAC,GAAGj7B,CAAC,CAAC,IAAIujB,CAAC,GAAG,CAAC,GAAGvjB,CAAC,CAAC,CAAC,GAAGV,IAAI,CAACq4C,IAAI,CAACr4C,IAAI,CAAC27B,GAAG,CAAC,CAAC,GAAGh7B,CAAC,CAAC,IAAIsjB,CAAC,GAAG,CAAC,GAAGtjB,CAAC,CAAC,CAAC,GAAGggK,KAAK;EACvG,IAAIC,GAAG,GAAG,CAAC,EACT,OAAO,CAAC;EACV,IAAI/3J,KAAK,GAAG,CAAC;EACb,IAAIkwC,GAAG,GAAG,CAAC;EACX,KAAK,IAAIr3C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;IAC7B,MAAM+H,CAAC,GAAG,CAACZ,KAAK,GAAGkwC,GAAG,IAAI,CAAC;IAC3B,MAAM8nH,EAAE,GAAG7gK,IAAI,CAACq4C,IAAI,CAACr4C,IAAI,CAAC27B,GAAG,CAAClyB,CAAC,GAAG/I,CAAC,CAAC,IAAIujB,CAAC,GAAGxa,CAAC,GAAG/I,CAAC,CAAC,CAAC,GAAGV,IAAI,CAACq4C,IAAI,CAACr4C,IAAI,CAAC27B,GAAG,CAAClyB,CAAC,GAAG9I,CAAC,CAAC,IAAIsjB,CAAC,GAAGxa,CAAC,GAAG9I,CAAC,CAAC,CAAC,GAAGggK,KAAK;IACtG,IAAIE,EAAE,GAAG,CAAC,EAAE;MACVh4J,KAAK,GAAGY,CAAC;IACX,CAAC,MAAM;MACLsvC,GAAG,GAAGtvC,CAAC;IACT;EACF;EACA,OAAOZ,KAAK;AACd;AACA,IAAIsyC,KAAK,GAAG,IAAI;AAChB,SAAS2lH,cAAcA,CAACzhH,KAAK,EAAE0hH,oBAAoB,EAAE;EACnD,IAAIjiH,YAAY,CAACO,KAAK,EAAE0hH,oBAAoB,CAAC,GAAG5lH,KAAK,EAAE;IACrD,OAAO4lH,oBAAoB;EAC7B,CAAC,MAAM;IACL,OAAO9iH,iBAAiB,CAACoB,KAAK,GAAG0hH,oBAAoB,CAAC,GAAGA,oBAAoB;EAC/E;AACF;AACA,SAASC,eAAeA,CAACziH,UAAU,EAAEC,QAAQ,EAAEuiH,oBAAoB,GAAG,CAAC,EAAE;EACvE,MAAME,OAAO,GAAGjhK,IAAI,CAAC27B,GAAG,CAAC6iB,QAAQ,GAAGD,UAAU,CAAC,IAAI,CAAC,GAAGv+C,IAAI,CAACwsC,EAAE;EAC9D,MAAM00H,UAAU,GAAGD,OAAO,GAAG,CAAC,GAAGjhK,IAAI,CAACwsC,EAAE,GAAGyR,iBAAiB,CAACO,QAAQ,GAAGD,UAAU,CAAC;EACnFA,UAAU,GAAGuiH,cAAc,CAACviH,UAAU,EAAEwiH,oBAAoB,CAAC;EAC7DviH,QAAQ,GAAGD,UAAU,GAAG2iH,UAAU;EAClC,OAAO;IAAE3iH,UAAU;IAAEC;EAAS,CAAC;AACjC;AACA,SAAS2iH,8BAA8BA,CAAC9+H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEs6B,UAAU,EAAEC,QAAQ,EAAE4iH,SAAS,EAAE;EAClF,MAAMC,IAAI,GAAGrhK,IAAI,CAAC8jC,GAAG,CAACs9H,SAAS,CAAC;EAChC,MAAME,IAAI,GAAGthK,IAAI,CAAC6jC,GAAG,CAACu9H,SAAS,CAAC;EAChC,MAAMhgI,CAAC,GAAGrhC,KAAK,CAACsiC,EAAE,EAAE,CAAC,CAAC,GAAGtiC,KAAK,CAACuiC,EAAE,EAAE,CAAC,CAAC,GAAGviC,KAAK,CAACkkB,CAAC,EAAE,CAAC,CAAC;EACnD,IAAIs9I,GAAG,GAAGpyI,GAAG;EACb,IAAIqyI,GAAG,GAAGryI,GAAG;EACb,IAAIsyI,GAAG,GAAGtyI,GAAG;EACb,IAAIuyI,GAAG,GAAGvyI,GAAG;EACb,IAAImyI,IAAI,GAAG,GAAG,EAAE;IACd,MAAMK,IAAI,GAAGN,IAAI,GAAGC,IAAI;IACxB,MAAM5gK,CAAC,GAAG,CAAC,GAAGX,KAAK,CAAC4hK,IAAI,EAAE,CAAC,CAAC;IAC5B,MAAMhhK,CAAC,GAAG,CAAC,CAAC,IAAI0hC,EAAE,GAAGC,EAAE,GAAGq/H,IAAI,CAAC;IAC/B,MAAMn5J,CAAC,GAAGzI,KAAK,CAACY,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAGD,CAAC,GAAG0gC,CAAC;IACjC,IAAI54B,CAAC,GAAG,CAAC,EACP;IACF,MAAM84C,EAAE,GAAG,CAAC,CAAC3gD,CAAC,GAAGX,IAAI,CAACs1D,IAAI,CAAC9sD,CAAC,CAAC,KAAK,CAAC,GAAG9H,CAAC,CAAC;IACxC,MAAM09B,EAAE,GAAG,CAAC,CAACz9B,CAAC,GAAGX,IAAI,CAACs1D,IAAI,CAAC9sD,CAAC,CAAC,KAAK,CAAC,GAAG9H,CAAC,CAAC;IACxC6gK,GAAG,GAAGjgH,EAAE;IACRkgH,GAAG,GAAGlgH,EAAE,GAAGqgH,IAAI;IACfF,GAAG,GAAGrjI,EAAE;IACRsjI,GAAG,GAAGtjI,EAAE,GAAGujI,IAAI;EACjB,CAAC,MAAM;IACL,MAAMC,IAAI,GAAGN,IAAI,GAAGD,IAAI;IACxB,MAAM3gK,CAAC,GAAG,CAAC,GAAGX,KAAK,CAAC6hK,IAAI,EAAE,CAAC,CAAC;IAC5B,MAAMjhK,CAAC,GAAG,CAAC,CAAC,IAAI2hC,EAAE,GAAGD,EAAE,GAAGu/H,IAAI,CAAC;IAC/B,MAAMp5J,CAAC,GAAGzI,KAAK,CAACY,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAGD,CAAC,GAAG0gC,CAAC;IACjC,IAAI54B,CAAC,GAAG,CAAC,EACP;IACF,MAAM+mD,EAAE,GAAG,CAAC,CAAC5uD,CAAC,GAAGX,IAAI,CAACs1D,IAAI,CAAC9sD,CAAC,CAAC,KAAK,CAAC,GAAG9H,CAAC,CAAC;IACxC,MAAM29B,EAAE,GAAG,CAAC,CAAC19B,CAAC,GAAGX,IAAI,CAACs1D,IAAI,CAAC9sD,CAAC,CAAC,KAAK,CAAC,GAAG9H,CAAC,CAAC;IACxC6gK,GAAG,GAAGhyG,EAAE,GAAGqyG,IAAI;IACfJ,GAAG,GAAGjyG,EAAE;IACRkyG,GAAG,GAAGpjI,EAAE,GAAGujI,IAAI;IACfF,GAAG,GAAGrjI,EAAE;EACV;EACA,MAAMwjI,WAAW,GAAGP,IAAI;EACxB,MAAMQ,WAAW,GAAGT,IAAI;EACxB,MAAMU,eAAe,GAAGR,GAAG,GAAGM,WAAW,GAAGL,GAAG,GAAGM,WAAW;EAC7D,MAAME,eAAe,GAAGP,GAAG,GAAGI,WAAW,GAAGH,GAAG,GAAGI,WAAW;EAC7D,MAAMrjH,EAAE,GAAGsjH,eAAe,GAAG,CAAC,GAAGjB,cAAc,CAAC9gK,IAAI,CAACusC,KAAK,CAACi1H,GAAG,GAAGl/H,EAAE,EAAEi/H,GAAG,GAAGl/H,EAAE,CAAC,EAAEkc,UAAU,CAAC,GAAGpvB,GAAG;EACjG,MAAMuvB,EAAE,GAAGsjH,eAAe,GAAG,CAAC,GAAGlB,cAAc,CAAC9gK,IAAI,CAACusC,KAAK,CAACm1H,GAAG,GAAGp/H,EAAE,EAAEm/H,GAAG,GAAGp/H,EAAE,CAAC,EAAEkc,UAAU,CAAC,GAAGpvB,GAAG;EACjG,IAAIsvB,EAAE,IAAIF,UAAU,IAAIE,EAAE,IAAID,QAAQ,EAAE;IACtC,OAAOC,EAAE;EACX,CAAC,MAAM,IAAIC,EAAE,IAAIH,UAAU,IAAIG,EAAE,IAAIF,QAAQ,EAAE;IAC7C,OAAOE,EAAE;EACX;AACF;AACA,SAASujH,0BAA0BA,CAAC5/H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEs6B,UAAU,EAAEC,QAAQ,EAAE0jH,OAAO,EAAE;EAC5E,MAAM15J,CAAC,GAAGxI,IAAI,CAAC2sC,KAAK,CAACtK,EAAE,EAAEC,EAAE,CAAC;EAC5B,MAAM0lB,EAAE,GAAG,CAACjoD,KAAK,CAACyI,CAAC,EAAE,CAAC,CAAC,GAAGzI,KAAK,CAACkkB,CAAC,EAAE,CAAC,CAAC,GAAGlkB,KAAK,CAACmiK,OAAO,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG15J,CAAC,CAAC;EACpE,MAAMy/C,EAAE,GAAGz/C,CAAC,GAAGw/C,EAAE;EACjB,MAAM0yE,KAAK,GAAG16H,IAAI,CAACusC,KAAK,CAACjK,EAAE,EAAED,EAAE,CAAC;EAChC,MAAM8/H,UAAU,GAAGniK,IAAI,CAAC26H,IAAI,CAAC,CAAC1yE,EAAE,GAAGhkC,CAAC,CAAC;EACrC,MAAMw6B,EAAE,GAAGqiH,cAAc,CAACpmC,KAAK,GAAGynC,UAAU,EAAE5jH,UAAU,CAAC;EACzD,MAAMG,EAAE,GAAGoiH,cAAc,CAACpmC,KAAK,GAAGynC,UAAU,EAAE5jH,UAAU,CAAC;EACzD,IAAIE,EAAE,IAAIF,UAAU,IAAIE,EAAE,IAAID,QAAQ,EAAE;IACtC,OAAOC,EAAE;EACX,CAAC,MAAM,IAAIC,EAAE,IAAIH,UAAU,IAAIG,EAAE,IAAIF,QAAQ,EAAE;IAC7C,OAAOE,EAAE;EACX;AACF;;AAEA;AACA,IAAI0jH,GAAG,GAAG,MAAM;EACdl6J,WAAWA,CAACm6B,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,EAAE;IAC7B,IAAI,CAACrc,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACre,CAAC,GAAGA,CAAC;IACV,IAAI,CAACw6B,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,EAAE,GAAGA,EAAE;IACZ,IAAI,IAAI,CAACD,EAAE,IAAI,IAAI,CAACC,EAAE,EAAE;MACtB,IAAI,CAACD,EAAE,GAAGtvB,GAAG;MACb,IAAI,CAACuvB,EAAE,GAAGvvB,GAAG;IACf;EACF;EACA5T,OAAOA,CAAA,EAAG;IACR,OAAO5S,MAAM,CAACmM,QAAQ,CAAC,IAAI,CAAC2pC,EAAE,CAAC,IAAI91C,MAAM,CAACmM,QAAQ,CAAC,IAAI,CAAC4pC,EAAE,CAAC;EAC7D;EACA2jH,OAAOA,CAAC3hK,CAAC,EAAE;IACT,OAAO;MACLkC,CAAC,EAAE,IAAI,CAACy/B,EAAE,GAAG,IAAI,CAACpe,CAAC,GAAGjkB,IAAI,CAAC6jC,GAAG,CAACnjC,CAAC,CAAC;MACjCg8B,CAAC,EAAE,IAAI,CAAC4F,EAAE,GAAG,IAAI,CAACre,CAAC,GAAGjkB,IAAI,CAAC8jC,GAAG,CAACpjC,CAAC;IAClC,CAAC;EACH;EACA4hK,SAASA,CAAC5hK,CAAC,EAAE;IACX,IAAIA,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC6a,OAAO,CAAC,CAAC,IAAI7a,CAAC,GAAG,IAAI,CAAC+9C,EAAE,EAC7C;IACF,IAAI,CAACA,EAAE,GAAG/9C,CAAC;IACX,IAAIiI,MAAM,CAACyL,KAAK,CAAC1T,CAAC,CAAC,IAAI,IAAI,CAAC+9C,EAAE,IAAI,IAAI,CAACC,EAAE,EAAE;MACzC,IAAI,CAACD,EAAE,GAAGtvB,GAAG;MACb,IAAI,CAACuvB,EAAE,GAAGvvB,GAAG;IACf;EACF;EACAozI,OAAOA,CAAC7hK,CAAC,EAAE;IACT,IAAIA,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC6a,OAAO,CAAC,CAAC,IAAI7a,CAAC,GAAG,IAAI,CAACg+C,EAAE,EAC7C;IACF,IAAI,CAACA,EAAE,GAAGh+C,CAAC;IACX,IAAIiI,MAAM,CAACyL,KAAK,CAAC1T,CAAC,CAAC,IAAI,IAAI,CAAC+9C,EAAE,IAAI,IAAI,CAACC,EAAE,EAAE;MACzC,IAAI,CAACD,EAAE,GAAGtvB,GAAG;MACb,IAAI,CAACuvB,EAAE,GAAGvvB,GAAG;IACf;EACF;AACF,CAAC;AACD,IAAIqzI,MAAM,GAAG,cAAcrjC,IAAI,CAAC;EAC9Bj3H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACtH,OAAO,GAAG,CAAC;IAChB,IAAI,CAACC,OAAO,GAAG,CAAC;IAChB,IAAI,CAAC6jF,WAAW,GAAG,EAAE;IACrB,IAAI,CAACi9B,WAAW,GAAG,EAAE;IACrB,IAAI,CAAC1hH,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,QAAQ,GAAGx+C,IAAI,CAACwsC,EAAE,GAAG,CAAC;IAC3B,IAAI,CAACi2H,UAAU,GAAG,KAAK,CAAC;IACxB,IAAI,CAACC,mBAAmB,GAAG,CAAC;IAC5B,IAAI,CAACC,eAAe,GAAG,CAAC;IACxB,IAAI,CAACC,sBAAsB,GAAG,CAAC;IAC/B,IAAI,CAACC,oBAAoB,GAAG,CAAC;IAC7B,IAAI,CAACC,sBAAsB,GAAG,CAAC;IAC/B,IAAI,CAACC,oBAAoB,GAAG,CAAC;EAC/B;EACA,IAAIllD,KAAKA,CAACx9G,KAAK,EAAE;IACf,IAAI,CAACqiK,mBAAmB,GAAGriK,KAAK;IAChC,IAAI,CAACsiK,eAAe,GAAGtiK,KAAK;EAC9B;EACA,IAAIqzI,YAAYA,CAACrzI,KAAK,EAAE;IACtB,IAAI,CAACuiK,sBAAsB,GAAGviK,KAAK;IACnC,IAAI,CAACwiK,oBAAoB,GAAGxiK,KAAK;IACjC,IAAI,CAACyiK,sBAAsB,GAAGziK,KAAK;IACnC,IAAI,CAAC0iK,oBAAoB,GAAG1iK,KAAK;EACnC;EACAsnC,WAAWA,CAAA,EAAG;IACZ,MAAMyX,MAAM,GAAG,IAAI,CAAC6gH,WAAW;IAC/B,OAAO,IAAI/gI,IAAI,CAAC,IAAI,CAACggB,OAAO,GAAGE,MAAM,EAAE,IAAI,CAACD,OAAO,GAAGC,MAAM,EAAEA,MAAM,GAAG,CAAC,EAAEA,MAAM,GAAG,CAAC,CAAC;EACvF;EACA4jH,eAAeA,CAAA,EAAG;IAChB,MAAM;MAAEN;IAAoB,CAAC,GAAG,IAAI;IACpC,OAAO;MACL1/B,WAAW,EAAEhjI,IAAI,CAAC6J,GAAG,CAAC7J,IAAI,CAAC6uB,GAAG,CAAC,IAAI,CAACm0G,WAAW,EAAE,IAAI,CAACi9B,WAAW,CAAC,GAAGyC,mBAAmB,EAAE,CAAC,CAAC;MAC5FzC,WAAW,EAAEjgK,IAAI,CAAC6J,GAAG,CAAC7J,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACm5H,WAAW,EAAE,IAAI,CAACi9B,WAAW,CAAC,GAAGyC,mBAAmB,EAAE,CAAC;IAC7F,CAAC;EACH;EACAO,oBAAoBA,CAAA,EAAG;IACrB,MAAM;MAAER;IAAW,CAAC,GAAG,IAAI;IAC3B,IAAIA,UAAU,IAAI,IAAI,EACpB;IACF,MAAM;MAAElkH,UAAU;MAAEC;IAAS,CAAC,GAAGwiH,eAAe,CAAC,IAAI,CAACziH,UAAU,EAAE,IAAI,CAACC,QAAQ,CAAC;IAChF,MAAM;MAAEwkF,WAAW;MAAEi9B;IAAY,CAAC,GAAG,IAAI,CAAC+C,eAAe,CAAC,CAAC;IAC3D,MAAME,UAAU,GAAGlC,eAAe,CAACyB,UAAU,CAAClkH,UAAU,EAAEkkH,UAAU,CAACjkH,QAAQ,EAAED,UAAU,CAAC;IAC1F,OAAO,IAAIwhH,SAAS,CAClB//J,IAAI,CAAC6J,GAAG,CAAC00C,UAAU,EAAE2kH,UAAU,CAAC3kH,UAAU,CAAC,EAC3Cv+C,IAAI,CAAC6uB,GAAG,CAAC2vB,QAAQ,EAAE0kH,UAAU,CAAC1kH,QAAQ,CAAC,EACvCx+C,IAAI,CAAC6J,GAAG,CAACm5H,WAAW,EAAEy/B,UAAU,CAACz/B,WAAW,CAAC,EAC7ChjI,IAAI,CAAC6uB,GAAG,CAACoxI,WAAW,EAAEwC,UAAU,CAACxC,WAAW,CAC9C,CAAC;EACH;EACAkD,cAAcA,CAAC/jH,MAAM,EAAE;IACrB,OAAOA,MAAM,GAAG,CAAC,GAAG,IAAI,CAACujH,eAAe,GAAGvjH,MAAM,GAAG,CAAC;EACvD;EACA2+E,GAAGA,CAAC95G,CAAC,EAAEm/I,UAAU,EAAE3kH,EAAE,EAAEC,EAAE,EAAE2kH,QAAQ,EAAEC,QAAQ,EAAEz6J,KAAK,EAAE0+E,KAAK,EAAE;IAC3D,IAAItjE,CAAC,IAAI,CAAC,EACR;IACF,MAAM;MAAEs6B,UAAU;MAAEC;IAAS,CAAC,GAAGwiH,eAAe,CAAC,IAAI,CAACziH,UAAU,EAAE,IAAI,CAACC,QAAQ,CAAC;IAChF,MAAM;MAAEwkF,WAAW;MAAEi9B;IAAY,CAAC,GAAG,IAAI,CAAC+C,eAAe,CAAC,CAAC;IAC3D,MAAMP,UAAU,GAAG,IAAI,CAACQ,oBAAoB,CAAC,CAAC;IAC9C,IAAI17E,KAAK,IAAIy7C,WAAW,IAAI,CAAC,EAC3B;IACF,MAAMugC,gBAAgB,GAAG,IAAI,CAACJ,cAAc,CAACngC,WAAW,CAAC;IACzD,MAAMwgC,gBAAgB,GAAG,IAAI,CAACL,cAAc,CAAClD,WAAW,CAAC;IACzD,MAAM7qG,WAAW,GAAGmyB,KAAK,GAAG,IAAI,CAAC47E,cAAc,CAACngC,WAAW,GAAG/+G,CAAC,CAAC,GAAG,IAAI,CAACk/I,cAAc,CAAClD,WAAW,GAAGh8I,CAAC,CAAC;IACvG,MAAMo7B,KAAK,GAAGx2C,KAAK,GAAG01C,UAAU,GAAG6W,WAAW,GAAGguG,UAAU,GAAG5kH,QAAQ,GAAG4W,WAAW,GAAGguG,UAAU;IACjG,MAAMhkH,MAAM,GAAGmoC,KAAK,GAAGy7C,WAAW,GAAG/+G,CAAC,GAAGg8I,WAAW,GAAGh8I,CAAC;IACxD,MAAMoe,EAAE,GAAG+c,MAAM,GAAGp/C,IAAI,CAAC6jC,GAAG,CAACwb,KAAK,CAAC;IACnC,MAAM/c,EAAE,GAAG8c,MAAM,GAAGp/C,IAAI,CAAC8jC,GAAG,CAACub,KAAK,CAAC;IACnC,IAAIojH,UAAU,IAAI,IAAI,EAAE;MACtB,MAAMx1H,MAAM,GAAG,IAAI;MACnB,IAAI,CAACpkC,KAAK,IAAI,EAAEw2C,KAAK,IAAId,UAAU,GAAGtR,MAAM,IAAIoS,KAAK,IAAIojH,UAAU,CAACjkH,QAAQ,GAAGvR,MAAM,CAAC,EACpF;MACF,IAAIpkC,KAAK,IAAI,EAAEw2C,KAAK,IAAIojH,UAAU,CAAClkH,UAAU,GAAGtR,MAAM,IAAIoS,KAAK,IAAIb,QAAQ,GAAGvR,MAAM,CAAC,EACnF;MACF,IAAIs6C,KAAK,IAAI,EAAEnoC,MAAM,IAAIqjH,UAAU,CAACz/B,WAAW,GAAG/1F,MAAM,CAAC,EACvD;MACF,IAAI,CAACs6C,KAAK,IAAI,EAAEnoC,MAAM,IAAIqjH,UAAU,CAACxC,WAAW,GAAGhzH,MAAM,CAAC,EACxD;IACJ;IACA,MAAM8wF,GAAG,GAAG,IAAIqkC,GAAG,CAAC//H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,CAAC;IACtC,IAAI+jH,UAAU,IAAI,IAAI,EAAE;MACtB,IAAIl7E,KAAK,EAAE;QACTw2C,GAAG,CAACukC,SAAS,CACXnB,8BAA8B,CAAC9+H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,EAAE+jH,UAAU,CAACjkH,QAAQ,GAAG+kH,gBAAgB,CAC1F,CAAC;QACDxlC,GAAG,CAACwkC,OAAO,CACTpB,8BAA8B,CAAC9+H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,EAAE+jH,UAAU,CAAClkH,UAAU,GAAGglH,gBAAgB,CAC5F,CAAC;MACH,CAAC,MAAM;QACLxlC,GAAG,CAACukC,SAAS,CACXnB,8BAA8B,CAAC9+H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,EAAE+jH,UAAU,CAAClkH,UAAU,GAAGilH,gBAAgB,CAC5F,CAAC;QACDzlC,GAAG,CAACwkC,OAAO,CAACpB,8BAA8B,CAAC9+H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,EAAE+jH,UAAU,CAACjkH,QAAQ,GAAGglH,gBAAgB,CAAC,CAAC;MACxG;MACA,IAAIC,eAAe;MACnB,IAAIC,aAAa;MACjB,IAAI76J,KAAK,EAAE;QACT46J,eAAe,GAAGxB,0BAA0B,CAAC5/H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,EAAE+jH,UAAU,CAACz/B,WAAW,CAAC;QACvF0gC,aAAa,GAAGzB,0BAA0B,CAAC5/H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,EAAE+jH,UAAU,CAACxC,WAAW,CAAC;MACvF,CAAC,MAAM;QACLwD,eAAe,GAAGxB,0BAA0B,CAAC5/H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,EAAE+jH,UAAU,CAACxC,WAAW,CAAC;QACvFyD,aAAa,GAAGzB,0BAA0B,CAAC5/H,EAAE,EAAEC,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,EAAE+jH,UAAU,CAACz/B,WAAW,CAAC;MACvF;MACAjF,GAAG,CAACukC,SAAS,CAACmB,eAAe,CAAC;MAC9B1lC,GAAG,CAACwkC,OAAO,CAACmB,aAAa,CAAC;MAC1B,IAAID,eAAe,IAAI,IAAI,EAAE;QAC3B,MAAM;UAAE7gK,CAAC,EAAE07B,EAAE;UAAE5B,CAAC,EAAE6B;QAAG,CAAC,GAAGw/F,GAAG,CAACskC,OAAO,CAACoB,eAAe,CAAC;QACrD,MAAME,MAAM,GAAG7C,cAAc,CAAC9gK,IAAI,CAACusC,KAAK,CAAChO,EAAE,EAAED,EAAE,CAAC,EAAEigB,UAAU,CAAC;QAC7D,IAAI11C,KAAK,EAAE;UACTy6J,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAAChB,SAAS,CAACqB,MAAM,CAAC;QACxD,CAAC,MAAM;UACLN,QAAQ,CAACd,OAAO,CAACoB,MAAM,CAAC;QAC1B;MACF;MACA,IAAID,aAAa,IAAI,IAAI,EAAE;QACzB,MAAM;UAAE9gK,CAAC,EAAE07B,EAAE;UAAE5B,CAAC,EAAE6B;QAAG,CAAC,GAAGw/F,GAAG,CAACskC,OAAO,CAACqB,aAAa,CAAC;QACnD,MAAMC,MAAM,GAAG7C,cAAc,CAAC9gK,IAAI,CAACusC,KAAK,CAAChO,EAAE,EAAED,EAAE,CAAC,EAAEigB,UAAU,CAAC;QAC7D,IAAI11C,KAAK,EAAE;UACTw6J,QAAQ,CAACf,SAAS,CAACqB,MAAM,CAAC;QAC5B,CAAC,MAAM;UACLL,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACf,OAAO,CAACoB,MAAM,CAAC;QACtD;MACF;IACF;IACA,IAAIlB,UAAU,IAAI,IAAI,EAAE;MACtB,MAAM;QAAE7/J,CAAC,EAAE07B,EAAE;QAAE5B,CAAC,EAAE6B;MAAG,CAAC,GAAGw/F,GAAG,CAACskC,OAAO,CAAC,CAACtkC,GAAG,CAACt/E,EAAE,GAAGs/E,GAAG,CAACr/E,EAAE,IAAI,CAAC,CAAC;MAC3D,IAAI,CAACwhH,eAAe,CAAC5hI,EAAE,EAAEC,EAAE,EAAEkkI,UAAU,CAAC,EACtC;IACJ;IACA,MAAM;MAAE7/J,CAAC;MAAE85B;IAAE,CAAC,GAAGqhG,GAAG,CAACskC,OAAO,CAACx5J,KAAK,KAAK0+E,KAAK,GAAGw2C,GAAG,CAACt/E,EAAE,GAAGs/E,GAAG,CAACr/E,EAAE,CAAC;IAC/D,MAAMg8E,KAAK,GAAGomC,cAAc,CAAC9gK,IAAI,CAACusC,KAAK,CAAC7P,CAAC,EAAE95B,CAAC,CAAC,EAAE27C,UAAU,CAAC;IAC1D,MAAMqlH,SAAS,GAAGr8E,KAAK,GAAG+7E,QAAQ,GAAGD,QAAQ;IAC7C,IAAIx6J,KAAK,EAAE;MACT+6J,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACtB,SAAS,CAAC5nC,KAAK,CAAC;IACzD,CAAC,MAAM;MACLkpC,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACrB,OAAO,CAAC7nC,KAAK,CAAC;IACvD;IACA,OAAOqD,GAAG;EACZ;EACAvW,UAAUA,CAAA,EAAG;IACX,IAAIx+G,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;IACtB,MAAMsX,MAAM,GAAG,IAAI;IACnB,MAAM;MAAEx2B,IAAI;MAAEyoC,OAAO;MAAEC,OAAO;MAAEujH,mBAAmB;MAAEC;IAAgB,CAAC,GAAG,IAAI;IAC7E,IAAI;MAAEC,sBAAsB;MAAEC,oBAAoB;MAAEC,sBAAsB;MAAEC;IAAqB,CAAC,GAAG,IAAI;IACzG,MAAM;MAAExkH,UAAU;MAAEC;IAAS,CAAC,GAAGwiH,eAAe,CAAC,IAAI,CAACziH,UAAU,EAAE,IAAI,CAACC,QAAQ,CAAC;IAChF,MAAM;MAAEwkF,WAAW;MAAEi9B;IAAY,CAAC,GAAG,IAAI,CAAC+C,eAAe,CAAC,CAAC;IAC3D,MAAMP,UAAU,GAAG,IAAI,CAACQ,oBAAoB,CAAC,CAAC;IAC9C,MAAM/B,UAAU,GAAG1iH,QAAQ,GAAGD,UAAU;IACxC,MAAM0iH,OAAO,GAAGC,UAAU,IAAI,CAAC,GAAGlhK,IAAI,CAACwsC,EAAE,GAAGS,MAAM;IAClDx2B,IAAI,CAAC7Q,KAAK,CAAC,CAAC;IACZ,IAAI,CAAC,CAACoD,EAAE,GAAGy5J,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAAClkH,UAAU,KAAK,IAAI,GAAGv1C,EAAE,GAAGu1C,UAAU,OAAO,CAACjlC,EAAE,GAAGmpJ,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACjkH,QAAQ,KAAK,IAAI,GAAGllC,EAAE,GAAGklC,QAAQ,CAAC,EAAE;MACjL;IACF,CAAC,MAAM,IAAIyiH,OAAO,IAAI,IAAI,CAACwB,UAAU,IAAI,IAAI,IAAIG,sBAAsB,KAAK,CAAC,IAAIC,oBAAoB,KAAK,CAAC,IAAIC,sBAAsB,KAAK,CAAC,IAAIC,oBAAoB,KAAK,CAAC,EAAE;MACzKtsJ,IAAI,CAAC8hD,MAAM,CAACrZ,OAAO,GAAG+gH,WAAW,GAAGjgK,IAAI,CAAC6jC,GAAG,CAAC0a,UAAU,CAAC,EAAEY,OAAO,GAAG8gH,WAAW,GAAGjgK,IAAI,CAAC8jC,GAAG,CAACya,UAAU,CAAC,CAAC;MACvG9nC,IAAI,CAACsnH,GAAG,CAAC7+E,OAAO,EAAEC,OAAO,EAAE8gH,WAAW,EAAE1hH,UAAU,EAAEC,QAAQ,CAAC;MAC7D,IAAIwkF,WAAW,GAAG0/B,mBAAmB,EAAE;QACrCjsJ,IAAI,CAAC8hD,MAAM,CAACrZ,OAAO,GAAG8jF,WAAW,GAAGhjI,IAAI,CAAC6jC,GAAG,CAAC2a,QAAQ,CAAC,EAAEW,OAAO,GAAG6jF,WAAW,GAAGhjI,IAAI,CAAC8jC,GAAG,CAAC0a,QAAQ,CAAC,CAAC;QACnG/nC,IAAI,CAACsnH,GAAG,CAAC7+E,OAAO,EAAEC,OAAO,EAAE6jF,WAAW,EAAExkF,QAAQ,EAAED,UAAU,EAAE,IAAI,CAAC;MACrE;MACA9nC,IAAI,CAACgiD,SAAS,CAAC,CAAC;MAChB;IACF;IACA,MAAM8qG,gBAAgB,GAAG,IAAI,CAACJ,cAAc,CAACngC,WAAW,CAAC;IACzD,MAAMwgC,gBAAgB,GAAG,IAAI,CAACL,cAAc,CAAClD,WAAW,CAAC;IACzD,MAAM4D,kBAAkB,GAAG3C,UAAU,GAAG,CAAC,GAAGsC,gBAAgB;IAC5D,IAAIK,kBAAkB,EACpB;IACF,MAAMC,aAAa,GAAG,CAAC,CAACvqJ,EAAE,GAAGkpJ,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACz/B,WAAW,KAAK,IAAI,GAAGzpH,EAAE,GAAGypH,WAAW,IAAI0/B,mBAAmB;IACpI,MAAMqB,kBAAkB,GAAG/gC,WAAW,GAAG0/B,mBAAmB,IAAIxB,UAAU,GAAG,CAAC,GAAGqC,gBAAgB;IACjG,MAAMS,YAAY,GAAG/D,WAAW,GAAGj9B,WAAW;IAC9C,MAAMihC,eAAe,GAAGjkK,IAAI,CAAC6J,GAAG,CAC9B+4J,sBAAsB,EACtBE,sBAAsB,EACtBD,oBAAoB,EACpBE,oBACF,CAAC;IACD,MAAMmB,oBAAoB,GAAGD,eAAe,GAAG,CAAC,GAAGjkK,IAAI,CAAC6uB,GAAG,CAACm1I,YAAY,GAAGC,eAAe,EAAE,CAAC,CAAC,GAAG,CAAC;IAClGrB,sBAAsB,IAAIsB,oBAAoB;IAC9CrB,oBAAoB,IAAIqB,oBAAoB;IAC5CpB,sBAAsB,IAAIoB,oBAAoB;IAC9CnB,oBAAoB,IAAImB,oBAAoB;IAC5C,MAAMC,kBAAkB,GAAGzD,kBAAkB,CAC3CT,WAAW,EACXiB,UAAU,GAAG,CAAC,GAAGsC,gBAAgB,EACjC,CAACZ,sBAAsB,EACvB,CAACC,oBACH,CAAC;IACDD,sBAAsB,IAAIuB,kBAAkB;IAC5CtB,oBAAoB,IAAIsB,kBAAkB;IAC1C,IAAI,CAACJ,kBAAkB,IAAID,aAAa,EAAE;MACxC,MAAMM,kBAAkB,GAAG1D,kBAAkB,CAC3C19B,WAAW,EACXk+B,UAAU,GAAG,CAAC,GAAGqC,gBAAgB,EACjCT,sBAAsB,EACtBC,oBACF,CAAC;MACDD,sBAAsB,IAAIsB,kBAAkB;MAC5CrB,oBAAoB,IAAIqB,kBAAkB;IAC5C,CAAC,MAAM;MACLtB,sBAAsB,GAAG,CAAC;MAC1BC,oBAAoB,GAAG,CAAC;IAC1B;IACA,MAAMsB,uBAAuB,GAAGrkK,IAAI,CAAC6J,GAAG,CACtC+4J,sBAAsB,GAAGE,sBAAsB,EAC/CD,oBAAoB,GAAGE,oBACzB,CAAC;IACD,MAAMuB,kBAAkB,GAAGD,uBAAuB,GAAG,CAAC,GAAGrkK,IAAI,CAAC6uB,GAAG,CAACm1I,YAAY,GAAGK,uBAAuB,EAAE,CAAC,CAAC,GAAG,CAAC;IAChHzB,sBAAsB,IAAI0B,kBAAkB;IAC5CzB,oBAAoB,IAAIyB,kBAAkB;IAC1CxB,sBAAsB,IAAIwB,kBAAkB;IAC5CvB,oBAAoB,IAAIuB,kBAAkB;IAC1C,IAAIC,gCAAgC,GAAG,CAAC;IACxC,IAAIC,8BAA8B,GAAG,CAAC;IACtC,MAAMC,2BAA2B,GAAG7B,sBAAsB,IAAI3C,WAAW,GAAG2C,sBAAsB,CAAC;IACnG,MAAM8B,yBAAyB,GAAG7B,oBAAoB,IAAI5C,WAAW,GAAG4C,oBAAoB,CAAC;IAC7F,IAAI4B,2BAA2B,IAAI,CAAC,IAAIA,2BAA2B,GAAG,CAAC,GAAGx3H,MAAM,EAAE;MAChFs3H,gCAAgC,GAAGvkK,IAAI,CAACq4C,IAAI,CAACosH,2BAA2B,CAAC;IAC3E,CAAC,MAAM;MACLF,gCAAgC,GAAGrD,UAAU,GAAG,CAAC;MACjD,MAAMyD,yBAAyB,GAAG1E,WAAW,IAAI,CAAC,GAAGjgK,IAAI,CAAC8jC,GAAG,CAACygI,gCAAgC,CAAC,GAAG,CAAC,CAAC;MACpG3B,sBAAsB,GAAG5iK,IAAI,CAAC6uB,GAAG,CAAC81I,yBAAyB,EAAE/B,sBAAsB,CAAC;IACtF;IACA,IAAI8B,yBAAyB,IAAI,CAAC,IAAIA,yBAAyB,GAAG,CAAC,GAAGz3H,MAAM,EAAE;MAC5Eu3H,8BAA8B,GAAGxkK,IAAI,CAACq4C,IAAI,CAACqsH,yBAAyB,CAAC;IACvE,CAAC,MAAM;MACLF,8BAA8B,GAAGtD,UAAU,GAAG,CAAC;MAC/C,MAAM0D,uBAAuB,GAAG3E,WAAW,IAAI,CAAC,GAAGjgK,IAAI,CAAC8jC,GAAG,CAAC0gI,8BAA8B,CAAC,GAAG,CAAC,CAAC;MAChG3B,oBAAoB,GAAG7iK,IAAI,CAAC6uB,GAAG,CAAC+1I,uBAAuB,EAAE/B,oBAAoB,CAAC;IAChF;IACA,MAAMgC,gCAAgC,GAAG7kK,IAAI,CAACq4C,IAAI,CAChDyqH,sBAAsB,IAAI9/B,WAAW,GAAG8/B,sBAAsB,CAChE,CAAC;IACD,MAAMgC,8BAA8B,GAAG9kK,IAAI,CAACq4C,IAAI,CAAC0qH,oBAAoB,IAAI//B,WAAW,GAAG+/B,oBAAoB,CAAC,CAAC;IAC7G,MAAMgC,cAAc,GAAG,CAAC7qJ,EAAE,GAAGuoJ,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACxC,WAAW,KAAK,IAAI,GAAG/lJ,EAAE,GAAG+lJ,WAAW;IAC7G,MAAM+E,oBAAoB,GAAG,IAAI,CAAC7B,cAAc,CAAC4B,cAAc,CAAC;IAChE,MAAM1B,QAAQ,GAAG,IAAIjB,GAAG,CACtB,CAAC,EACD,CAAC,EACD2C,cAAc,EACdxmH,UAAU,GAAGymH,oBAAoB,EACjCxmH,QAAQ,GAAGwmH,oBACb,CAAC;IACD,MAAMC,cAAc,GAAG,CAACtvI,EAAE,GAAG8sI,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACz/B,WAAW,KAAK,IAAI,GAAGrtG,EAAE,GAAGqtG,WAAW;IAC7G,MAAMkiC,oBAAoB,GAAG,IAAI,CAAC/B,cAAc,CAAC8B,cAAc,CAAC;IAChE,MAAM3B,QAAQ,GAAGQ,aAAa,GAAG,IAAI1B,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE6C,cAAc,EAAE1mH,UAAU,GAAG2mH,oBAAoB,EAAE1mH,QAAQ,GAAG0mH,oBAAoB,CAAC,GAAG,KAAK,CAAC;IAC3I,IAAIzC,UAAU,IAAI,IAAI,EAAE;MACtBY,QAAQ,CAACf,SAAS,CAACG,UAAU,CAAClkH,UAAU,CAAC;MACzC8kH,QAAQ,CAACd,OAAO,CAACE,UAAU,CAACjkH,QAAQ,CAAC;MACrC8kH,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAAChB,SAAS,CAACG,UAAU,CAAClkH,UAAU,CAAC;MACrE+kH,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACf,OAAO,CAACE,UAAU,CAACjkH,QAAQ,CAAC;IACnE;IACA,MAAM2mH,aAAa,GAAG,IAAI,CAACpnC,GAAG,CAC5B6kC,sBAAsB,EACtB2B,gCAAgC,EAChChmH,UAAU,GAAGv+C,IAAI,CAACwsC,EAAE,GAAG,GAAG,EAC1B+R,UAAU,GAAGgmH,gCAAgC,EAC7ClB,QAAQ,EACRC,QAAQ,EACR,IAAI,EACJ,KACF,CAAC;IACD,MAAM8B,WAAW,GAAG,IAAI,CAACrnC,GAAG,CAC1B8kC,oBAAoB,EACpB2B,8BAA8B,EAC9BhmH,QAAQ,GAAGgmH,8BAA8B,EACzChmH,QAAQ,GAAGx+C,IAAI,CAACwsC,EAAE,GAAG,GAAG,EACxB62H,QAAQ,EACRC,QAAQ,EACR,KAAK,EACL,KACF,CAAC;IACD,MAAM+B,WAAW,GAAG,IAAI,CAACtnC,GAAG,CAC1BglC,oBAAoB,EACpB+B,8BAA8B,EAC9BtmH,QAAQ,GAAGx+C,IAAI,CAACwsC,EAAE,GAAG,GAAG,EACxBgS,QAAQ,GAAGx+C,IAAI,CAACwsC,EAAE,GAAGs4H,8BAA8B,EACnDzB,QAAQ,EACRC,QAAQ,EACR,KAAK,EACL,IACF,CAAC;IACD,MAAMgC,aAAa,GAAG,IAAI,CAACvnC,GAAG,CAC5B+kC,sBAAsB,EACtB+B,gCAAgC,EAChCtmH,UAAU,GAAGv+C,IAAI,CAACwsC,EAAE,GAAGq4H,gCAAgC,EACvDtmH,UAAU,GAAGv+C,IAAI,CAACwsC,EAAE,GAAG,GAAG,EAC1B62H,QAAQ,EACRC,QAAQ,EACR,IAAI,EACJ,IACF,CAAC;IACD,IAAIS,kBAAkB,EAAE;MACtB,MAAMnhK,CAAC,GAAGs+J,UAAU,GAAGlhK,IAAI,CAACwsC,EAAE,GAAG,GAAG,GAAGm2H,eAAe,IAAI,CAAC,GAAG3iK,IAAI,CAAC6jC,GAAG,CAACq9H,UAAU,CAAC,CAAC,GAAGlhK,IAAI,CAAC8jC,GAAG,CAACo9H,UAAU,CAAC,GAAG/xI,GAAG;MAChH,IAAIlL,CAAC;MACL,IAAIrhB,CAAC,GAAG,CAAC,IAAIA,CAAC,GAAGq9J,WAAW,EAAE;QAC5Bh8I,CAAC,GAAGjkB,IAAI,CAAC6J,GAAG,CAAC7J,IAAI,CAAC2sC,KAAK,CAACg2H,eAAe,EAAE//J,CAAC,CAAC,EAAEogI,WAAW,CAAC;MAC3D,CAAC,MAAM;QACL/+G,CAAC,GAAG++G,WAAW;MACjB;MACA,MAAMuiC,QAAQ,GAAGhnH,UAAU,GAAG2iH,UAAU,GAAG,GAAG;MAC9CzqJ,IAAI,CAAC8hD,MAAM,CAACrZ,OAAO,GAAGj7B,CAAC,GAAGjkB,IAAI,CAAC6jC,GAAG,CAAC0hI,QAAQ,CAAC,EAAEpmH,OAAO,GAAGl7B,CAAC,GAAGjkB,IAAI,CAAC8jC,GAAG,CAACyhI,QAAQ,CAAC,CAAC;IACjF,CAAC,MAAM,IAAI,CAACD,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAAC/pJ,OAAO,CAAC,CAAC,MAAM,IAAI,EAAE;MAC9E,MAAM;QAAE3Y,CAAC;QAAE85B;MAAE,CAAC,GAAG4oI,aAAa,CAACjD,OAAO,CAACiD,aAAa,CAAC5mH,EAAE,CAAC;MACxDjoC,IAAI,CAAC8hD,MAAM,CAACrZ,OAAO,GAAGt8C,CAAC,EAAEu8C,OAAO,GAAGziB,CAAC,CAAC;IACvC,CAAC,MAAM,IAAI,CAAC4mI,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAAC/nJ,OAAO,CAAC,CAAC,MAAM,IAAI,EAAE;MACpE,MAAM;QAAE3Y,CAAC;QAAE85B;MAAE,CAAC,GAAG4mI,QAAQ,CAACjB,OAAO,CAACiB,QAAQ,CAAC7kH,EAAE,CAAC;MAC9ChoC,IAAI,CAAC8hD,MAAM,CAACrZ,OAAO,GAAGt8C,CAAC,EAAEu8C,OAAO,GAAGziB,CAAC,CAAC;IACvC,CAAC,MAAM;MACL,MAAM6oI,QAAQ,GAAGhnH,UAAU,GAAG2iH,UAAU,GAAG,CAAC;MAC5C,MAAM7+H,EAAE,GAAG2gG,WAAW,GAAGhjI,IAAI,CAAC6jC,GAAG,CAAC0hI,QAAQ,CAAC;MAC3C,MAAMjjI,EAAE,GAAG0gG,WAAW,GAAGhjI,IAAI,CAAC8jC,GAAG,CAACyhI,QAAQ,CAAC;MAC3C9uJ,IAAI,CAAC8hD,MAAM,CAACrZ,OAAO,GAAG7c,EAAE,EAAE8c,OAAO,GAAG7c,EAAE,CAAC;IACzC;IACA,IAAI,CAAC6iI,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAAC5pJ,OAAO,CAAC,CAAC,MAAM,IAAI,EAAE;MACvE,MAAM;QAAE8mB,EAAE;QAAEC,EAAE;QAAEre,CAAC;QAAEw6B,EAAE;QAAEC;MAAG,CAAC,GAAGymH,aAAa;MAC3C1uJ,IAAI,CAACsnH,GAAG,CAAC7+E,OAAO,GAAG7c,EAAE,EAAE8c,OAAO,GAAG7c,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,CAAC;IACjD;IACA,IAAI2kH,QAAQ,CAAC9nJ,OAAO,CAAC,CAAC,EAAE;MACtB,MAAM;QAAE0I,CAAC;QAAEw6B,EAAE;QAAEC;MAAG,CAAC,GAAG2kH,QAAQ;MAC9B5sJ,IAAI,CAACsnH,GAAG,CAAC7+E,OAAO,EAAEC,OAAO,EAAEl7B,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,CAAC;IACvC;IACA,IAAI,CAAC0mH,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC7pJ,OAAO,CAAC,CAAC,MAAM,IAAI,EAAE;MACnE,MAAM;QAAE8mB,EAAE;QAAEC,EAAE;QAAEre,CAAC;QAAEw6B,EAAE;QAAEC;MAAG,CAAC,GAAG0mH,WAAW;MACzC3uJ,IAAI,CAACsnH,GAAG,CAAC7+E,OAAO,GAAG7c,EAAE,EAAE8c,OAAO,GAAG7c,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,CAAC;IACjD;IACA,IAAI,CAACqlH,kBAAkB,EAAE;MACvB,IAAI,CAACsB,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC9pJ,OAAO,CAAC,CAAC,MAAM,IAAI,EAAE;QACnE,MAAM;UAAE8mB,EAAE;UAAEC,EAAE;UAAEre,CAAC;UAAEw6B,EAAE;UAAEC;QAAG,CAAC,GAAG2mH,WAAW;QACzC5uJ,IAAI,CAACsnH,GAAG,CAAC7+E,OAAO,GAAG7c,EAAE,EAAE8c,OAAO,GAAG7c,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,CAAC;MACjD;MACA,IAAI,CAAC4kH,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAAC/nJ,OAAO,CAAC,CAAC,MAAM,IAAI,EAAE;QAC7D,MAAM;UAAE0I,CAAC;UAAEw6B,EAAE;UAAEC;QAAG,CAAC,GAAG4kH,QAAQ;QAC9B7sJ,IAAI,CAACsnH,GAAG,CAAC7+E,OAAO,EAAEC,OAAO,EAAEl7B,CAAC,EAAEy6B,EAAE,EAAED,EAAE,EAAE,IAAI,CAAC;MAC7C;MACA,IAAI,CAAC6mH,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAAC/pJ,OAAO,CAAC,CAAC,MAAM,IAAI,EAAE;QACvE,MAAM;UAAE8mB,EAAE;UAAEC,EAAE;UAAEre,CAAC;UAAEw6B,EAAE;UAAEC;QAAG,CAAC,GAAG4mH,aAAa;QAC3C7uJ,IAAI,CAACsnH,GAAG,CAAC7+E,OAAO,GAAG7c,EAAE,EAAE8c,OAAO,GAAG7c,EAAE,EAAEre,CAAC,EAAEw6B,EAAE,EAAEC,EAAE,CAAC;MACjD;IACF;IACAjoC,IAAI,CAACgiD,SAAS,CAAC,CAAC;EAClB;EACAT,aAAaA,CAACp1D,CAAC,EAAE85B,CAAC,EAAE;IAClB,IAAI1zB,EAAE;IACN,MAAMsxD,KAAK,GAAG,IAAI,CAACl9B,cAAc,CAACx6B,CAAC,EAAE85B,CAAC,CAAC;IACvC,MAAM;MAAE6hB,UAAU;MAAEC,QAAQ;MAAEwkF,WAAW;MAAEi9B;IAAY,CAAC,GAAG,CAACj3J,EAAE,GAAG,IAAI,CAACy5J,UAAU,KAAK,IAAI,GAAGz5J,EAAE,GAAG,IAAI;IACrG,OAAOk3J,eAAe,CAAC5lG,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,EAAE;MACvC6hB,UAAU;MACVC,QAAQ;MACRwkF,WAAW,EAAEhjI,IAAI,CAAC6uB,GAAG,CAACm0G,WAAW,EAAEi9B,WAAW,CAAC;MAC/CA,WAAW,EAAEjgK,IAAI,CAAC6J,GAAG,CAACm5H,WAAW,EAAEi9B,WAAW;IAChD,CAAC,CAAC;EACJ;AACF,CAAC;AACDuC,MAAM,CAACxnJ,SAAS,GAAG,QAAQ;AAC3B1Z,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAClCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAClCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACtCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACtCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACrCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,qBAAqB,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,wBAAwB,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,sBAAsB,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,wBAAwB,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEsjC,MAAM,CAACrjK,SAAS,EAAE,sBAAsB,EAAE,CAAC,CAAC;;AAE/C;AACA,IAAIqmK,UAAU,GAAG,cAAczuF,OAAO,CAAC;EACrC7uE,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACzgC,YAAY,GAAG,KAAK;EAC3B;AACF,CAAC;AACDzkB,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEwiH,UAAU,CAACrmK,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AAC3C,IAAIsmK,eAAe,GAAG,cAAc7lG,KAAK,CAAC;EACxC13D,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACu2D,MAAM,GAAG,CAAC;EACjB;EACAp3G,GAAGA,CAACoV,UAAU,EAAE2qJ,MAAM,EAAE;IACtB,OAAO,KAAK,CAAC//J,GAAG,CAACoV,UAAU,CAAC;EAC9B;AACF,CAAC;AACDzZ,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAEuiH,eAAe,CAACtmK,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACxCmC,eAAe,CAAC,CACdugD,QAAQ,CAACsB,MAAM,CAAC,CACjB,EAAEsiH,eAAe,CAACtmK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC1C,IAAIwmK,gBAAgB,GAAG,cAAc7qJ,cAAc,CAAC;EAClD5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC9gC,IAAI,GAAG,aAAa;IACzB,IAAI,CAACC,WAAW,GAAG,CAAC;EACtB;AACF,CAAC;AACDrkB,eAAe,CAAC,CACdugD,QAAQ,CAACyC,YAAY,CAAC,CACvB,EAAEqhH,gBAAgB,CAACxmK,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAEmiH,gBAAgB,CAACxmK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AAChD,IAAIymK,uBAAuB,GAAG,cAAchmG,KAAK,CAAC;EAChD13D,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACx7C,MAAM,GAAG,CAAC;IACf,IAAI,CAAC66J,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACvlG,UAAU,GAAG,CAAC;IACnB,IAAI,CAACwlG,kBAAkB,GAAG,EAAE;IAC5B,IAAI,CAAC7gJ,eAAe,GAAG,IAAI;EAC7B;AACF,CAAC;AACD3jB,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEsiH,uBAAuB,CAACzmK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC4B,MAAM,CAAC,CACjB,EAAEmiH,uBAAuB,CAACzmK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEsiH,uBAAuB,CAACzmK,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEsiH,uBAAuB,CAACzmK,SAAS,EAAE,oBAAoB,EAAE,CAAC,CAAC;AAC9DmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAE4iH,uBAAuB,CAACzmK,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AAC3D,IAAI4mK,sBAAsB,GAAG,cAAcnmG,KAAK,CAAC;EAC/C13D,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACw/G,cAAc,GAAG,CAAC;IACvB,IAAI,CAACC,aAAa,GAAG,GAAG;EAC1B;AACF,CAAC;AACD3kK,eAAe,CAAC,CACdugD,QAAQ,CAACsB,MAAM,CAAC,CACjB,EAAE4iH,sBAAsB,CAAC5mK,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACzDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAEuiH,sBAAsB,CAAC5mK,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACxD,IAAI+mK,sBAAsB,GAAG,cAAcprJ,cAAc,CAAC;EACxD5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC7kD,MAAM,GAAG,EAAE;IAChB,IAAI,CAACikB,WAAW,GAAG,CAAC;EACtB;AACF,CAAC;AACDtkB,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,EAAE;EAAE/oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACjD,EAAE0qJ,sBAAsB,CAAC/mK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE4iH,sBAAsB,CAAC/mK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE4iH,sBAAsB,CAAC/mK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACtD,IAAIgnK,qBAAqB,GAAG,cAAcjgC,gBAAgB,CAAC;EACzDh+H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAChjC,KAAK,GAAGllB,MAAM,CAACiX,MAAM,CAACsL,aAAa,CAAC;IACzC,IAAI,CAAC4C,OAAO,GAAGnlB,MAAM,CAACiX,MAAM,CAACiM,eAAe,CAAC;IAC7C,IAAI,CAACmE,WAAW,GAAG,CAAC;IACpB,IAAI,CAACmwC,aAAa,GAAG,CAAC;IACtB,IAAI,CAACtwC,QAAQ,GAAG,CAAC,CAAC,CAAC;IACnB,IAAI,CAACwwC,cAAc,GAAG,CAAC;IACvB,IAAI,CAAC09E,YAAY,GAAG,CAAC;IACrB,IAAI,CAACxwG,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACkjI,iBAAiB,GAAG,CAAC;IAC1B,IAAI,CAACC,gBAAgB,GAAG,CAAC;IACzB,IAAI,CAACzgJ,WAAW,GAAG,CAAC;IACpB,IAAI,CAAC0gJ,aAAa,GAAG,KAAK,CAAC;IAC3B,IAAI,CAAC5vI,WAAW,GAAG,IAAIvb,eAAe,CAACsqJ,eAAe,CAAC;IACvD,IAAI,CAAClhJ,KAAK,GAAG,IAAIihJ,UAAU,CAAC,CAAC;IAC7B,IAAI,CAACe,WAAW,GAAG,IAAIZ,gBAAgB,CAAC,CAAC;IACzC,IAAI,CAACzc,MAAM,GAAG,IAAIR,UAAU,CAAC,CAAC;IAC9B,IAAI,CAAC8d,YAAY,GAAG,IAAIZ,uBAAuB,CAAC,CAAC;IACjD,IAAI,CAACa,WAAW,GAAG,IAAIV,sBAAsB,CAAC,CAAC;IAC/C,IAAI,CAACW,WAAW,GAAG,IAAIR,sBAAsB,CAAC,CAAC;IAC/C,IAAI,CAAC//I,OAAO,GAAG,IAAI4iI,aAAa,CAAC,CAAC;IAClC,IAAI,CAAC4d,6BAA6B,GAAG,KAAK,CAAC;EAC7C;EACAprJ,OAAOA,CAAA,EAAG;IACR,MAAMqrJ,YAAY,GAAG,KAAK,CAACrrJ,OAAO,CAAC,CAAC;IACpC,IAAI,IAAI,CAACsrJ,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAACC,iBAAiB,IAAI,IAAI,EAAE;MACnEv/J,MAAM,CAACQ,QAAQ,CACb,8FACF,CAAC;MACD,OAAO,KAAK;IACd;IACA,OAAO6+J,YAAY;EACrB;AACF,CAAC;AACDtlK,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAEijH,qBAAqB,CAAChnK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AACzDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;AAC1DmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACxDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AACzDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACvDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,CAAC,CAC7B,EAAE4hH,qBAAqB,CAAChnK,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,CAAC,CAC7B,EAAE4hH,qBAAqB,CAAChnK,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE2iH,qBAAqB,CAAChnK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE2iH,qBAAqB,CAAChnK,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACvDmC,eAAe,CAAC,CACdugD,QAAQ,CAACmD,SAAS,CAAC,CACpB,EAAEmhH,qBAAqB,CAAChnK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE6iH,qBAAqB,CAAChnK,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACxDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE6iH,qBAAqB,CAAChnK,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACoB,QAAQ,EAAE;EAAEznC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACvC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC4B,MAAM,CAAC,CACjB,EAAE0iH,qBAAqB,CAAChnK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACsB,MAAM,CAAC,CACjB,EAAEgjH,qBAAqB,CAAChnK,SAAS,EAAE,mBAAmB,EAAE,CAAC,CAAC;AAC3DmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE2iH,qBAAqB,CAAChnK,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;AAC1DmC,eAAe,CAAC,CACdugD,QAAQ,CAACsB,MAAM,EAAE;EAAE3nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,mBAAmB,EAAE,CAAC,CAAC;AAC3DmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,EAAE;EAAEhoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACpC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;AAC1DmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE6iH,qBAAqB,CAAChnK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACvDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC+C,YAAY,CAAC,CACvB,EAAEuhH,qBAAqB,CAAChnK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEsjH,qBAAqB,CAAChnK,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEsjH,qBAAqB,CAAChnK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEsjH,qBAAqB,CAAChnK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEsjH,qBAAqB,CAAChnK,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEsjH,qBAAqB,CAAChnK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEsjH,qBAAqB,CAAChnK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEsjH,qBAAqB,CAAChnK,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE2qJ,qBAAqB,CAAChnK,SAAS,EAAE,+BAA+B,EAAE,CAAC,CAAC;;AAEvE;AACA,SAAS4nK,kCAAkCA,CAACC,WAAW,EAAEC,eAAe,EAAEC,OAAO,EAAEC,UAAU,EAAE;EAC7F,MAAMplG,MAAM,GAAG,CAACmlG,OAAO,CAAC3mH,OAAO,CAAC,CAAC,CAAC,EAAE2mH,OAAO,CAAC3mH,OAAO,CAAC,CAAC,CAAC,CAAC;EACvD,MAAM6mH,QAAQ,GAAG,CAACD,UAAU,CAAC5mH,OAAO,CAAC,CAAC,CAAC,EAAE4mH,UAAU,CAAC5mH,OAAO,CAAC,CAAC,CAAC,CAAC;EAC/D,MAAMrd,QAAQ,GAAGljC,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC,GAAGmS,SAAS,CAACsoH,eAAe,CAAC;EAC1D,MAAMhtH,KAAK,GAAG+sH,WAAW,GAAG,SAAS,GAAG,QAAQ;EAChD,MAAMK,gBAAgB,GAAGA,CAAC;IAAEjoH;EAAO,CAAC,KAAK;IACvC,OAAO;MAAE4jF,WAAW,EAAEjhE,MAAM,CAAC,CAAC,CAAC;MAAEk+F,WAAW,EAAEl+F,MAAM,CAAC,CAAC,CAAC,GAAG,CAACA,MAAM,CAAC,CAAC,CAAC,GAAGA,MAAM,CAAC,CAAC,CAAC,IAAI3iB;IAAO,CAAC;EAC9F,CAAC;EACD,MAAMkoH,gBAAgB,GAAGA,CAAC;IAAEloH;EAAO,CAAC,KAAK;IACvC,OAAO;MAAE4jF,WAAW,EAAEokC,QAAQ,CAAC,CAAC,CAAC;MAAEnH,WAAW,EAAEmH,QAAQ,CAAC,CAAC,CAAC,GAAG,CAACA,QAAQ,CAAC,CAAC,CAAC,GAAGA,QAAQ,CAAC,CAAC,CAAC,IAAIhoH;IAAO,CAAC;EACtG,CAAC;EACD,MAAMrD,MAAM,GAAGA,CAACwrH,IAAI,EAAE3hI,KAAK,EAAEoX,MAAM,EAAE;IAAEX;EAAc,CAAC,KAAK;IACzD,IAAIrzC,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE,EAAEkkB,EAAE;IAC1B,IAAI;MAAE0E,UAAU;MAAEC,QAAQ;MAAEwkF,WAAW;MAAEi9B;IAAY,CAAC,GAAGsH,IAAI;IAC7D,IAAI;MAAE7hJ,IAAI;MAAEH;IAAO,CAAC,GAAGqgB,KAAK,CAAC4hI,YAAY;IACzC,IAAIxqH,MAAM,KAAK,SAAS,IAAIA,MAAM,KAAK,OAAO,IAAI,CAACX,aAAa,EAAE;MAChEkC,UAAU,GAAGrb,QAAQ;MACrBsb,QAAQ,GAAGtb,QAAQ;MACnB8/F,WAAW,GAAGp9F,KAAK,CAACo9F,WAAW;MAC/Bi9B,WAAW,GAAGr6H,KAAK,CAACq6H,WAAW;IACjC,CAAC,MAAM,IAAIjjH,MAAM,KAAK,OAAO,IAAIX,aAAa,EAAE;MAC9CkC,UAAU,GAAG,CAACv1C,EAAE,GAAGqzC,aAAa,CAACmC,QAAQ,KAAK,IAAI,GAAGx1C,EAAE,GAAGk6B,QAAQ;MAClEsb,QAAQ,GAAG,CAACllC,EAAE,GAAG+iC,aAAa,CAACmC,QAAQ,KAAK,IAAI,GAAGllC,EAAE,GAAG4pB,QAAQ;MAChE8/F,WAAW,GAAG,CAACzpH,EAAE,GAAG8iC,aAAa,CAAC2mF,WAAW,KAAK,IAAI,GAAGzpH,EAAE,GAAGqsB,KAAK,CAACo9F,WAAW;MAC/Ei9B,WAAW,GAAG,CAAC/lJ,EAAE,GAAGmiC,aAAa,CAAC4jH,WAAW,KAAK,IAAI,GAAG/lJ,EAAE,GAAG0rB,KAAK,CAACq6H,WAAW;IACjF;IACA,IAAIjjH,MAAM,KAAK,OAAO,IAAI,CAACgqH,WAAW,EAAE;MACtC,MAAMlpC,KAAK,GAAGwpC,gBAAgB,CAAC1hI,KAAK,CAAC;MACrCo9F,WAAW,GAAGlF,KAAK,CAACkF,WAAW;MAC/Bi9B,WAAW,GAAGniC,KAAK,CAACmiC,WAAW;IACjC;IACA,IAAIjjH,MAAM,KAAK,SAAS,EAAE;MACxBt3B,IAAI,GAAG,CAACiQ,EAAE,GAAG4xI,IAAI,CAAC7hJ,IAAI,KAAK,IAAI,GAAGiQ,EAAE,GAAGjQ,IAAI;MAC3CH,MAAM,GAAG,CAACs0B,EAAE,GAAG0tH,IAAI,CAAChiJ,MAAM,KAAK,IAAI,GAAGs0B,EAAE,GAAGt0B,MAAM;IACnD;IACA,OAAO;MAAEg5B,UAAU;MAAEC,QAAQ;MAAEwkF,WAAW;MAAEi9B,WAAW;MAAEv6I,IAAI;MAAEH,MAAM;MAAE00B;IAAM,CAAC;EAChF,CAAC;EACD,MAAM+B,IAAI,GAAGA,CAACyrH,KAAK,EAAE7hI,KAAK,EAAEoX,MAAM,EAAE;IAAEJ;EAAS,CAAC,KAAK;IACnD,IAAI5zC,EAAE,EAAEsQ,EAAE;IACV,IAAI;MAAEilC,UAAU;MAAEC,QAAQ;MAAEwkF,WAAW;MAAEi9B;IAAY,CAAC,GAAGr6H,KAAK;IAC9D,MAAM;MAAErgB,MAAM;MAAEG;IAAK,CAAC,GAAGkgB,KAAK,CAAC4hI,YAAY;IAC3C,IAAIxqH,MAAM,KAAK,SAAS,IAAIJ,QAAQ,EAAE;MACpC2B,UAAU,GAAG,CAACv1C,EAAE,GAAG4zC,QAAQ,CAAChX,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG58B,EAAE,CAACw1C,QAAQ;MACjEA,QAAQ,GAAG,CAACllC,EAAE,GAAGsjC,QAAQ,CAAChX,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtsB,EAAE,CAACklC,QAAQ;IACjE,CAAC,MAAM,IAAIxB,MAAM,KAAK,SAAS,IAAI,CAACJ,QAAQ,EAAE;MAC5C2B,UAAU,GAAGrb,QAAQ;MACrBsb,QAAQ,GAAGtb,QAAQ;IACrB;IACA,IAAI8Z,MAAM,KAAK,SAAS,EAAE;MACxB,MAAM8gF,KAAK,GAAGupC,gBAAgB,CAACzhI,KAAK,CAAC;MACrCo9F,WAAW,GAAGlF,KAAK,CAACkF,WAAW;MAC/Bi9B,WAAW,GAAGniC,KAAK,CAACmiC,WAAW;IACjC;IACA,OAAO;MAAE1hH,UAAU;MAAEC,QAAQ;MAAEyhH,WAAW;MAAEj9B,WAAW;MAAEz9G,MAAM;MAAEG;IAAK,CAAC;EACzE,CAAC;EACD,MAAMgiJ,iBAAiB,GAAGA,CAAC9qJ,IAAI,EAAEsX,CAAC,KAAK;IACrC,IAAIlrB,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,OAAO;MAAE+M,IAAI,EAAE,CAAC/M,EAAE,GAAG,CAACD,EAAE,GAAG,CAACtQ,EAAE,GAAG4T,IAAI,CAACmpB,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/8B,EAAE,CAACo2C,MAAM,KAAK,IAAI,GAAG9lC,EAAE,GAAGsD,IAAI,CAAC0J,IAAI,KAAK,IAAI,GAAG/M,EAAE,GAAG,CAAC;MAAE0gC;IAAM,CAAC;EACxI,CAAC;EACD,MAAM0tH,eAAe,GAAGA,CAACzzI,CAAC,EAAE0R,KAAK,KAAK;IACpC,IAAI58B,EAAE;IACN,OAAO;MAAEsd,IAAI,EAAE,CAACtd,EAAE,GAAG48B,KAAK,CAACwZ,MAAM,KAAK,IAAI,GAAGp2C,EAAE,GAAG;IAAE,CAAC;EACvD,CAAC;EACD,OAAO;IAAE+9B,KAAK,EAAE;MAAEiV,IAAI;MAAED;IAAO,CAAC;IAAEwqH,WAAW,EAAE;MAAExqH,MAAM,EAAE2rH,iBAAiB;MAAE1rH,IAAI,EAAE2rH;IAAgB;EAAE,CAAC;AACvG;AACA,SAASC,oBAAoBA,CAACpuF,KAAK,EAAE5zC,KAAK,EAAE;EAC1C,OAAO;IACL2Y,UAAU,EAAE3Y,KAAK,CAAC2Y,UAAU;IAC5BC,QAAQ,EAAE5Y,KAAK,CAAC4Y,QAAQ;IACxBwkF,WAAW,EAAEp9F,KAAK,CAACo9F,WAAW;IAC9Bi9B,WAAW,EAAEr6H,KAAK,CAACq6H,WAAW;IAC9Bv6I,IAAI,EAAEkgB,KAAK,CAAC4hI,YAAY,CAAC9hJ,IAAI;IAC7BH,MAAM,EAAEqgB,KAAK,CAAC4hI,YAAY,CAACjiJ;EAC7B,CAAC;AACH;AACA,SAASsiJ,mBAAmBA,CAACruJ,MAAM,EAAE8gD,KAAK,EAAE;EAC1C,MAAMv8B,EAAE,GAAGu8B,KAAK,CAAC59B,CAAC,GAAGljB,MAAM,CAAC2lC,OAAO;EACnC,MAAMrhB,EAAE,GAAGw8B,KAAK,CAAC13D,CAAC,GAAG4W,MAAM,CAAC0lC,OAAO;EACnC,MAAMG,KAAK,GAAGr/C,IAAI,CAACusC,KAAK,CAACxO,EAAE,EAAED,EAAE,CAAC;EAChC,MAAMgqI,OAAO,GAAGtuJ,MAAM,CAACuuJ,YAAY,CAAC,CAAC;EACrC,KAAK,MAAM5H,MAAM,IAAI2H,OAAO,EAAE;IAC5B,IAAI3H,MAAM,CAACv6H,KAAK,CAAC2pE,OAAO,KAAK,IAAI,EAC/B;IACF,IAAIlxD,eAAe,CAACgB,KAAK,EAAE8gH,MAAM,CAAC5hH,UAAU,EAAE4hH,MAAM,CAAC3hH,QAAQ,CAAC,EAAE;MAC9D,MAAMY,MAAM,GAAGp/C,IAAI,CAACs1D,IAAI,CAACx3B,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,CAAC;MAC3C,IAAI6iB,SAAS,GAAG,CAAC;MACjB,IAAIxB,MAAM,GAAG+gH,MAAM,CAACn9B,WAAW,EAAE;QAC/BpiF,SAAS,GAAGu/G,MAAM,CAACn9B,WAAW,GAAG5jF,MAAM;MACzC,CAAC,MAAM,IAAIA,MAAM,GAAG+gH,MAAM,CAACF,WAAW,EAAE;QACtCr/G,SAAS,GAAGxB,MAAM,GAAG+gH,MAAM,CAACF,WAAW;MACzC;MACA,OAAO;QAAEr6H,KAAK,EAAEu6H,MAAM,CAACv6H,KAAK;QAAE09D,QAAQ,EAAE1iD;MAAU,CAAC;IACrD;EACF;EACA,OAAO,KAAK,CAAC;AACf;AACA,SAASonH,wBAAwBA,CAACxuJ,MAAM,EAAEkD,IAAI,EAAE;EAC9C,MAAMyoH,QAAQ,GAAG3rH,MAAM,CAAC4rH,WAAW,CAAC,CAAC;EACrC,IAAID,QAAQ,KAAK,KAAK,CAAC,EACrB,OAAO,KAAK,CAAC;EACf,MAAM;IAAEjmF,OAAO;IAAEC;EAAQ,CAAC,GAAG3lC,MAAM;EACnC,MAAMosB,KAAK,GAAGu/F,QAAQ,CAACzoH,IAAI,CAACgxG,UAAU,CAAC;EACvC,MAAMu6C,SAAS,GAAG,CAChB;IAAE7oH,MAAM,EAAExZ,KAAK,CAACo9F,WAAW;IAAE3jF,KAAK,EAAEzZ,KAAK,CAAC2Y;EAAW,CAAC,EACtD;IAAEa,MAAM,EAAExZ,KAAK,CAACo9F,WAAW;IAAE3jF,KAAK,EAAEzZ,KAAK,CAAC4Y;EAAS,CAAC,EACpD;IAAEY,MAAM,EAAExZ,KAAK,CAACq6H,WAAW;IAAE5gH,KAAK,EAAEzZ,KAAK,CAAC2Y;EAAW,CAAC,EACtD;IAAEa,MAAM,EAAExZ,KAAK,CAACq6H,WAAW;IAAE5gH,KAAK,EAAEzZ,KAAK,CAAC4Y;EAAS,CAAC,CACrD;EACD,MAAM0pH,WAAW,GAAG,CAAC,CAAC,EAAEloK,IAAI,CAACwsC,EAAE,GAAG,CAAC,EAAExsC,IAAI,CAACwsC,EAAE,EAAE,CAAC,GAAGxsC,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC;EAC9D,KAAK,MAAM27H,UAAU,IAAID,WAAW,EAAE;IACpC,IAAI7pH,eAAe,CAAC8pH,UAAU,EAAEviI,KAAK,CAAC2Y,UAAU,EAAE3Y,KAAK,CAAC4Y,QAAQ,CAAC,EAAE;MACjEypH,SAAS,CAAC5+J,IAAI,CAAC;QAAE+1C,MAAM,EAAExZ,KAAK,CAACq6H,WAAW;QAAE5gH,KAAK,EAAE8oH;MAAW,CAAC,CAAC;IAClE;EACF;EACA,MAAM3X,MAAM,GAAGyX,SAAS,CAACjyJ,GAAG,CAAC,CAAC;IAAEopC,MAAM;IAAEC;EAAM,CAAC,KAAKJ,uBAAuB,CAACC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAEC,KAAK,CAAC,CAAC;EAC7G,MAAM+oH,EAAE,GAAG5X,MAAM,CAACx6I,GAAG,CAAEk0B,CAAC,IAAKA,CAAC,CAACtnC,CAAC,CAAC;EACjC,MAAMylK,EAAE,GAAG7X,MAAM,CAACx6I,GAAG,CAAEk0B,CAAC,IAAKA,CAAC,CAACxN,CAAC,CAAC;EACjC,MAAM95B,CAAC,GAAG5C,IAAI,CAAC6uB,GAAG,CAAC,GAAGu5I,EAAE,CAAC;EACzB,MAAM1rI,CAAC,GAAG18B,IAAI,CAAC6uB,GAAG,CAAC,GAAGw5I,EAAE,CAAC;EACzB,MAAMljJ,KAAK,GAAGnlB,IAAI,CAAC6J,GAAG,CAAC,GAAGu+J,EAAE,CAAC,GAAGxlK,CAAC;EACjC,MAAM66B,MAAM,GAAGz9B,IAAI,CAAC6J,GAAG,CAAC,GAAGw+J,EAAE,CAAC,GAAG3rI,CAAC;EAClC,OAAO,IAAIwC,IAAI,CAACt8B,CAAC,EAAE85B,CAAC,EAAEvX,KAAK,EAAEsY,MAAM,CAAC;AACtC;;AAEA;AACA,IAAI6qI,WAAW,GAAG,cAAcpkC,eAAe,CAAC;EAC9Ch8H,WAAWA,CAACc,EAAE,EAAE;IACd,IAAIsQ,EAAE,GAAGtQ,EAAE;MAAE;QACXu/J,aAAa,GAAG,KAAK;QACrB/kD,SAAS,GAAG,CAAC,CAAC,CAAC,wBAAwB;QACvCI,WAAW,GAAG,KAAK;QACnBqjB;MACF,CAAC,GAAG3tH,EAAE;MAAEoD,IAAI,GAAG3b,SAAS,CAACuY,EAAE,EAAE,CAC3B,eAAe,EACf,WAAW,EACX,aAAa,EACb,mBAAmB,CACpB,CAAC;IACF,KAAK,CAACxY,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEic,IAAI,CAAC,EAAE;MAC5C6rJ,aAAa;MACb/kD,SAAS;MACTG,mBAAmB,EAAE,KAAK;MAC1BF,aAAa,EAAE;QACb,CAAC,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC;QAC3B,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW;MAC7B,CAAC;MACDC,cAAc,EAAE;QACd,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC;QAC5B,CAAC,GAAG,CAAC,UAAU,CAAC,YAAY;MAC9B,CAAC;MACDE;IACF,CAAC,CAAC,CAAC;IACH,IAAI,CAAC4kD,SAAS,GAAG,IAAI,CAACt9D,YAAY,CAAC15E,WAAW,CAAC,IAAIujC,KAAK,CAAC,CAAC,CAAC;IAC3D,IAAI,CAACowE,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACsY,aAAa,GAAGxwE,SAAS,CAACU,MAAM,CACnC,IAAI,CAAC66F,SAAS,EACd,MAAM,IAAI,CAAC/6F,WAAW,CAAC,CAAC,EACxB,KACF,CAAC;IACD,IAAI,CAACue,cAAc,GAAG/e,SAAS,CAACU,MAAM,CAAC,IAAI,CAACxI,UAAU,EAAEzF,IAAI,EAAE,KAAK,CAAC;IACpE,IAAI,CAAC2nE,kBAAkB,GAAGp6D,SAAS,CAACU,MAAM,CACxC,IAAI,CAACm2C,cAAc,EACnB,MAAM,IAAI,CAACr2C,WAAW,CAAC,CACzB,CAAC;IACD;AACJ;AACA;AACA;AACA;AACA;IACI,IAAI,CAACvuB,OAAO,GAAG,CAAC;IAChB,IAAI,CAACC,OAAO,GAAG,CAAC;IAChB;AACJ;AACA;AACA;AACA;IACI,IAAI,CAACC,MAAM,GAAG,CAAC;IACf,IAAI,CAAC46D,YAAY,GAAG,KAAK;IACzB,IAAI,CAACwuD,SAAS,CAAC9iI,cAAc,GAAG,CAAC,MAAM,IAAI,CAAC49E,iBAAiB,EAAE,CAAC,CAAC;IACjE,IAAI,CAAC2jB,iBAAiB,GAAGA,iBAAiB;IAC1C,IAAI,CAACtrD,cAAc,GAAG,IAAI7T,YAAY,CACpC,OAAO,EACP;MACE8T,KAAK,EAAE;QACL/iC,MAAM,EAAE;UACN33C,MAAM,EAAE,OAAO;UACfsnE,MAAM,EAAGzqD,IAAI,IAAK,IAAI,CAAC8pH,uBAAuB,CAAC9pH,IAAI;QACrD,CAAC;QACD3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE;MACR,CAAC;MACD8/D,KAAK,EAAE;QACLm1C,UAAU,EAAE,SAAS;QACrBrrH,KAAK,EAAE,UAAU;QACjB2jH,SAAS,EAAGxrG,IAAI,IAAK,IAAI,CAACgqH,qBAAqB,CAAChqH,IAAI,CAAC;QACrDiqH,gBAAgB,EAAGjqH,IAAI,IAAK,IAAI,CAACkqH,4BAA4B,CAAClqH,IAAI,CAAC;QACnEi+D,MAAM,EAAGj+D,IAAI,IAAK,IAAI,CAACmqH,kBAAkB,CAACnqH,IAAI,CAAC;QAC/C3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE;MACR,CAAC;MACDmsH,OAAO,EAAE;QACPtvF,MAAM,EAAE;UACN33C,MAAM,EAAE,OAAO;UACfsnE,MAAM,EAAGzqD,IAAI,IAAK,IAAI,CAACqqH,yBAAyB,CAACrqH,IAAI;QACvD,CAAC;QACD3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE;MACR,CAAC;MACDusH,QAAQ,EAAE;QACR1vF,MAAM,EAAE;UACN33C,MAAM,EAAE,OAAO;UACfsnE,MAAM,EAAGzqD,IAAI,IAAK,IAAI,CAACyqH,0BAA0B,CAACzqH,IAAI;QACxD,CAAC;QACD3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE;MACR;IACF,CAAC,EACD,MAAM,IAAI,CAACgpH,4BAA4B,CAAC,CAC1C,CAAC;EACH;EACA+iC,YAAYA,CAAA,EAAG;IACb,OAAO,IAAI,CAACS,SAAS,CAAClrI,QAAQ;EAChC;EACA8nG,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACD,QAAQ;EACtB;EACAtoD,cAAcA,CAAC5iC,KAAK,EAAE;IACpB,IAAIA,KAAK,KAAK,SAAS,EAAE;MACvB,IAAI,CAAC0hC,cAAc,CAACxT,UAAU,CAAC,OAAO,CAAC;IACzC,CAAC,MAAM,IAAIluB,KAAK,KAAK,OAAO,EAAE;MAC5B,IAAI,CAAC0hC,cAAc,CAACxT,UAAU,CAAC,MAAM,CAAC;IACxC;EACF;EACA+qD,YAAYA,CAAA,EAAG;IACb,OAAO,EAAE;EACX;EACAu1C,iBAAiBA,CAACC,QAAQ,EAAEC,WAAW,EAAE;IACvC,OAAO,IAAI;EACb;EACArgC,iBAAiBA,CAAA,EAAG;IAClB,IAAIt/H,EAAE;IACN,MAAM;MAAEiN,IAAI;MAAE8O;IAAM,CAAC,GAAG,CAAC/b,EAAE,GAAG,IAAI,CAACi+H,iBAAiB,KAAK,IAAI,GAAGj+H,EAAE,GAAG,CAAC,CAAC;IACvE,IAAI,CAAC05B,GAAG,CAACmZ,gBAAgB,CAACg/C,sBAAsB,CAAC,IAAI,CAAC71D,EAAE,CAAC;IACzD,IAAI/uB,IAAI,EAAE;MACR2xD,WAAW,CAAC,CAAC,IAAI,CAAC61E,aAAa,EAAE,IAAI,CAACpW,kBAAkB,CAAC,EAAEpxH,IAAI,CAAC;IAClE;IACA,IAAI8O,KAAK,EAAE;MACT6iD,WAAW,CAAC,CAAC,IAAI,CAACokB,cAAc,CAAC,EAAEjnE,KAAK,CAAC;IAC3C;IACA,IAAI,CAAC04H,aAAa,CAAC3/F,OAAO,CAAC,CAAC;IAC5B,IAAI,CAACkuC,cAAc,CAACluC,OAAO,CAAC,CAAC;IAC7B,IAAI,CAACupF,kBAAkB,CAACvpF,OAAO,CAAC,CAAC;EACnC;EACA+pF,uBAAuBA,CAAC3jB,KAAK,EAAE;IAC7B,IAAI,CAACxhF,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC5C,IAAI,CAACgoC,iBAAiB,CAAC,CAAC;EAC1B;EACAF,yBAAyBA,CAAClkB,KAAK,EAAE;IAC/B,IAAI,CAACxhF,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC5C,IAAI,CAACgoC,iBAAiB,CAAC,CAAC;EAC1B;EACAP,qBAAqBA,CAAC7jB,KAAK,EAAE;IAC3B,IAAIl7G,EAAE;IACN,MAAM;MAAEiN;IAAK,CAAC,GAAG,CAACjN,EAAE,GAAG,IAAI,CAACi+H,iBAAiB,KAAK,IAAI,GAAGj+H,EAAE,GAAG,CAAC,CAAC;IAChE,IAAIiN,IAAI,EAAE;MACR2xD,WAAW,CAAC,CAAC,IAAI,CAACy/D,kBAAkB,CAAC,EAAEpxH,IAAI,CAAC;IAC9C;EACF;EACAgyH,4BAA4BA,CAAC/jB,KAAK,EAAE,CACpC;EACAgkB,kBAAkBA,CAAChkB,KAAK,EAAE;IACxB,IAAI,CAACokB,iBAAiB,CAAC,CAAC;EAC1B;EACAE,0BAA0BA,CAACtkB,KAAK,EAAE;IAChC,IAAI,CAACxhF,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC5C,IAAI,CAACgoC,iBAAiB,CAAC,CAAC;EAC1B;EACAgF,wBAAwBA,CAAA,EAAG;IACzB,IAAI,CAAC3xD,cAAc,CAACxT,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC+gE,gBAAgB,CAAC,CAAC,CAAC;EAClE;EACAA,gBAAgBA,CAACld,UAAU,EAAE;IAC3B,OAAO;MAAEA;IAAW,CAAC;EACvB;AACF,CAAC;;AAED;AACA,IAAI48C,oBAAoB,GAAG,cAAcjmD,eAAe,CAAC;EACvDz6G,WAAWA,CAACqH,IAAI,EAAE+2H,WAAW,EAAE1gG,KAAK,EAAEpsB,MAAM,EAAE;IAC5C,KAAK,CAACjK,IAAI,EAAE+2H,WAAW,EAAE1gG,KAAK,EAAEpsB,MAAM,CAAC;IACvC,IAAI,CAACqvJ,QAAQ,GAAGrvJ,MAAM,CAACuB,UAAU,CAAC8tJ,QAAQ;IAC1C,IAAI,CAACC,SAAS,GAAGtvJ,MAAM,CAACuB,UAAU,CAAC+tJ,SAAS;IAC5C,IAAI,CAACC,eAAe,GAAGvvJ,MAAM,CAACuB,UAAU,CAACguJ,eAAe;IACxD,IAAI,CAACC,cAAc,GAAGxvJ,MAAM,CAACuB,UAAU,CAACiuJ,cAAc;EACxD;AACF,CAAC;AACD,IAAIC,WAAW,GAAG,cAAcX,WAAW,CAAC;EAC1CpgK,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAAC;MACJA,SAAS;MACTusC,SAAS,EAAE,CAAC,CAAC,CAAC,wBAAwB;MACtC+kD,aAAa,EAAE,IAAI;MACnBthC,iBAAiB,EAAE;QAAEhxH,IAAI,EAAE2xJ,oBAAoB;QAAE7iJ,KAAK,EAAEyjI;MAAa;IACvE,CAAC,CAAC;IACF,IAAI,CAACztI,UAAU,GAAG,IAAIorJ,qBAAqB,CAAC,CAAC;IAC7C,IAAI,CAAC+C,mBAAmB,GAAG,IAAIp3B,WAAW,CAAC,CAAC;IAC5C,IAAI,CAACq3B,WAAW,GAAG,IAAIr3B,WAAW,CAAC,CAAC;IACpC;IACA,IAAI,CAACs3B,eAAe,GAAG,IAAI,CAACjmD,SAAS,CAAC3xF,WAAW,CAC/C,IAAIujC,KAAK,CAAC;MACRp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE,aAAa;MAC7ButB,KAAK,EAAE,IAAI;MACX1tB,MAAM,EAAE,CAAC,CAAC;IACZ,CAAC,CACH,CAAC;IACD;IACA,IAAI,CAACwkI,iBAAiB,GAAG,IAAI,CAACD,eAAe,CAAC53I,WAAW,CAAC,IAAIujC,KAAK,CAAC;MAAEp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE;IAAgB,CAAC,CAAC,CAAC;IACzG,IAAI,CAACskI,gBAAgB,GAAG,IAAI,CAACD,iBAAiB,CAAC73I,WAAW,CAAC,IAAIywG,MAAM,CAAC,CAAC,CAAC;IACxE,IAAI,CAACsnC,gBAAgB,GAAG,IAAI,CAACF,iBAAiB,CAAC73I,WAAW,CAAC,IAAIywG,MAAM,CAAC,CAAC,CAAC;IACxE,IAAI,CAACunC,gBAAgB,GAAG,IAAI,CAACJ,eAAe,CAAC53I,WAAW,CAAC,IAAIujC,KAAK,CAAC;MAAEp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE;IAAe,CAAC,CAAC,CAAC;IACvG;IACA,IAAI,CAACsgG,iBAAiB,GAAG,EAAE;IAC3B,IAAI,CAACmkC,iBAAiB,GAAG,KAAK,CAAC;IAC/B,IAAI,CAACxmD,SAAS,GAAG2lD,oBAAoB;IACrC,IAAI,CAACc,UAAU,GAAG,IAAI53B,WAAW,CAAC,CAAC;IACnC,IAAI,CAAC43B,UAAU,CAACtpH,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,CAACspH,UAAU,CAAC9gK,KAAK,GAAG,CAAC,CAAC5I,IAAI,CAACwsC,EAAE,EAAExsC,IAAI,CAACwsC,EAAE,CAAC,CAACx2B,GAAG,CAAEqpC,KAAK,IAAKA,KAAK,GAAGr/C,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC;IAC/E,MAAMm9H,gBAAgB,GAAG,IAAI50G,KAAK,CAAC;MAAEp1D,IAAI,EAAE;IAAmB,CAAC,CAAC;IAChE,MAAMiqK,eAAe,GAAG,IAAI70G,KAAK,CAAC;MAAEp1D,IAAI,EAAE;IAAkB,CAAC,CAAC;IAC9D,MAAM+2B,WAAW,GAAG,IAAIq+B,KAAK,CAAC;MAAEp1D,IAAI,EAAE;IAAc,CAAC,CAAC;IACtD,IAAI,CAACwlE,UAAU,CAACr+B,MAAM,CAAC6iI,gBAAgB,CAAC;IACxC,IAAI,CAACxkG,UAAU,CAACr+B,MAAM,CAAC8iI,eAAe,CAAC;IACvC,IAAI,CAACzkG,UAAU,CAACr+B,MAAM,CAACpQ,WAAW,CAAC;IACnC,IAAI,CAACmzI,qBAAqB,GAAG58F,SAAS,CAACU,MAAM,CAACg8F,gBAAgB,EAAE50G,KAAK,CAAC;IACtE,IAAI,CAAC+0G,oBAAoB,GAAG78F,SAAS,CAACU,MAAM,CAACi8F,eAAe,EAAElqG,IAAI,CAAC;IACnE,IAAI,CAACqqG,oBAAoB,GAAG98F,SAAS,CAACU,MAAM,CAACj3C,WAAW,EAAEgpC,IAAI,CAAC;IAC/D,IAAI,CAACsqG,oBAAoB,GAAG/8F,SAAS,CAACU,MAAM,CAAC,IAAI,CAAC67F,gBAAgB,EAAEvnC,MAAM,CAAC;EAC7E;EACAnd,sBAAsBA,CAAA,EAAG;IACvB,IAAI97G,EAAE;IACN,IAAI,CAACyF,UAAU,CAACpF,IAAI,CAClB,CAACL,EAAE,GAAG,IAAI,CAAC05B,GAAG,CAAC27C,iBAAiB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGr1E,EAAE,CAAC0uE,WAAW,CAAC,mBAAmB,EAAGtP,KAAK,IAAK,IAAI,CAACugE,iBAAiB,CAACvgE,KAAK,CAAC,CACnI,CAAC;EACH;EACA,IAAItiD,OAAOA,CAAA,EAAG;IACZ,OAAO,KAAK,CAACA,OAAO,KAAK,IAAI,CAACw/G,iBAAiB,CAAC3jI,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC2jI,iBAAiB,CAACx1H,IAAI,CAAEgW,OAAO,IAAKA,OAAO,CAAC,CAAC;EACpH;EACA2nD,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI+0F,MAAM,CAAC,CAAC;EACrB;EACAn9C,eAAeA,CAACpgD,SAAS,EAAE;IACzB,IAAIA,SAAS,KAAK,GAAG,CAAC,SAAS;MAC7B,OAAO,IAAI,CAACykG,UAAU,CAACtpH,MAAM;IAC/B,CAAC,MAAM;MACL,OAAO,IAAI,CAAC+oH,WAAW,CAAC/oH,MAAM;IAChC;EACF;EACA+vD,WAAWA,CAAC4iB,cAAc,EAAE;IAC1B,OAAOhxH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;MACtB,IAAI,IAAI,CAAC5X,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAChD,UAAU,CAACQ,OAAO,CAAC,CAAC,EAAE;QACnD;MACF;MACA,IAAI;QAAEwC;MAAK,CAAC,GAAG,IAAI;MACnB,MAAM;QAAE+H,OAAO;QAAEw/G;MAAkB,CAAC,GAAG,IAAI;MAC3C,MAAM;QAAEujC,QAAQ;QAAEC,SAAS;QAAEC,eAAe;QAAEC,cAAc;QAAEiB;MAAc,CAAC,GAAG,IAAI,CAAClvJ,UAAU;MAC/F,MAAMmvH,gBAAgB,GAAG,CAAC,IAAI,CAACxnG,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;MAC/D,MAAM+qF,aAAa,GAAG,EAAE;MACxB,MAAMzY,UAAU,GAAG,EAAE;MACrB,IAAIwY,aAAa,EAAE;QACjBC,aAAa,CAAC7gK,IAAI,CAAC64G,WAAW,CAAC+nD,aAAa,EAAE,MAAM,EAAE;UAAEjlI,EAAE,EAAE;QAAgB,CAAC,CAAC,CAAC;MACjF,CAAC,MAAM,IAAI+jI,eAAe,EAAE;QAC1BmB,aAAa,CAAC7gK,IAAI,CAAC64G,WAAW,CAAC6mD,eAAe,EAAE,MAAM,EAAE;UAAE/jI,EAAE,EAAE;QAAkB,CAAC,CAAC,CAAC;MACrF,CAAC,MAAM,IAAIgkI,cAAc,EAAE;QACzBkB,aAAa,CAAC7gK,IAAI,CAAC64G,WAAW,CAAC8mD,cAAc,EAAE,MAAM,EAAE;UAAEhkI,EAAE,EAAE;QAAiB,CAAC,CAAC,CAAC;MACnF;MACA,MAAMmlI,eAAe,GAAG,IAAI,CAAChB,WAAW,CAAC55J,IAAI;MAC7C,MAAM66J,cAAc,GAAG,IAAI,CAACjB,WAAW,CAAC55J,IAAI;MAC5C,IAAIu5J,SAAS,EAAE;QACbrX,UAAU,CAACpoJ,IAAI,CACbg5G,mBAAmB,CAACymD,SAAS,EAAE;UAC7B9jI,EAAE,EAAE,aAAa;UACjBnW,GAAG,EAAE,CAAC7lB,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACsvJ,SAAS,KAAK,IAAI,GAAGrhK,EAAE,GAAG,CAAC;UACtDa,GAAG,EAAE,IAAI,CAACkR,UAAU,CAACuvJ;QACvB,CAAC,CAAC,EACFloD,aAAa,CAAC0mD,SAAS,EAAEqB,eAAe,EAAE;UAAEnlI,EAAE,EAAE;QAAY,CAAC,CAAC;QAC9D;QACAg7E,mBAAmB,CACjB;UAAEh7E,EAAE,EAAE;QAAc,CAAC,EACrB,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,EACD,CAAC1rB,EAAE,GAAG,IAAI,CAACyB,UAAU,CAACsvJ,SAAS,KAAK,IAAI,GAAG/wJ,EAAE,GAAG,CAAC,EACjD,IAAI,CAACyB,UAAU,CAACuvJ,SAClB,CACF,CAAC;MACH;MACA,IAAIvB,eAAe,EAAE;QACnBtX,UAAU,CAACpoJ,IAAI,CAAC+4G,aAAa,CAAC2mD,eAAe,EAAE,MAAM,EAAE;UAAE/jI,EAAE,EAAE;QAAoB,CAAC,CAAC,CAAC;MACtF;MACA,IAAIgkI,cAAc,EAAE;QAClBvX,UAAU,CAACpoJ,IAAI,CAAC+4G,aAAa,CAAC4mD,cAAc,EAAE,MAAM,EAAE;UAAEhkI,EAAE,EAAE;QAAmB,CAAC,CAAC,CAAC;MACpF;MACA,IAAIilI,aAAa,EAAE;QACjBxY,UAAU,CAACpoJ,IAAI,CAAC+4G,aAAa,CAAC6nD,aAAa,EAAE,MAAM,EAAE;UAAEjlI,EAAE,EAAE;QAAkB,CAAC,CAAC,CAAC;MAClF;MACA,IAAIklG,gBAAgB,IAAI,IAAI,CAACl6B,aAAa,IAAIk6D,aAAa,CAACvoK,MAAM,GAAG,CAAC,EAAE;QACtE8vJ,UAAU,CAACpoJ,IAAI,CAACyyG,IAAI,CAAC,IAAI,CAAC9L,aAAa,CAAC,CAAC;MAC3C;MACAyhD,UAAU,CAACpoJ,IAAI,CAAC42G,mBAAmB,CAAC,CAAC,CAAC;MACtCliG,IAAI,GAAGA,IAAI,CAAC/H,GAAG,CAAC,CAACxN,CAAC,EAAE2pD,GAAG,KAAKrsC,OAAO,IAAIw/G,iBAAiB,CAACnzE,GAAG,CAAC,GAAG3pD,CAAC,GAAG1H,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE+H,CAAC,CAAC,EAAE;QAAE,CAACqgK,QAAQ,GAAG;MAAE,CAAC,CAAC,CAAC;MAC5H,MAAM,IAAI,CAAChkC,gBAAgB,CAAC9R,cAAc,EAAEh1G,IAAI,EAAE;QAChD0/B,KAAK,EAAE,CACL,GAAGysH,aAAa,EAChB3nD,yBAAyB,CAACsmD,QAAQ,EAAEuB,cAAc,EAAE;UAAEplI,EAAE,EAAE,YAAY;UAAE05E,YAAY,EAAE;QAAK,CAAC,CAAC,EAC7F0D,aAAa,CAACymD,QAAQ,EAAEuB,cAAc,EAAE;UAAEplI,EAAE,EAAE;QAAW,CAAC,CAAC;QAC3D;QACAg7E,mBAAmB,CAAC;UAAEh7E,EAAE,EAAE;QAAa,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACvD,GAAGysH,UAAU;MAEjB,CAAC,CAAC;MACF,KAAK,MAAMv9C,QAAQ,IAAI,CAACv+E,EAAE,GAAG,CAACzb,EAAE,GAAG,CAACX,EAAE,GAAG,IAAI,CAACy2F,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGz2F,EAAE,CAACw2F,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG71F,EAAE,CAAC3E,MAAM,KAAK,IAAI,GAAGogB,EAAE,GAAG,EAAE,EAAE;QACxI,MAAM;UAAEqP,EAAE;UAAEuqE,OAAO;UAAEjyF;QAAS,CAAC,GAAG42F,QAAQ;QAC1C,MAAMrD,SAAS,GAAGpC,YAAY,CAAC,IAAI,EAAEc,OAAO,CAAC;QAC7C,IAAIvqE,EAAE,KAAK,UAAU,IAAI6rE,SAAS,GAAG,CAAC,EAAE;UACtCtpG,MAAM,CAACQ,QAAQ,CACb,mCAAmCy3C,MAAM,CAACliC,QAAQ,CAAC,QAAQuzF,SAAS,gBAAgBA,SAAS,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,EAC9G,CAAC;QACH;MACF;MACA,IAAI,CAACl1B,cAAc,CAACxT,UAAU,CAAC,YAAY,CAAC;IAC9C,CAAC,CAAC;EACJ;EACAoiG,oBAAoBA,CAAA,EAAG;IACrB,OAAOxoK,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE;MACN,IAAI,CAAC,IAAI,CAACq6G,eAAe,EACvB;MACF,MAAM;QAAE8hB,QAAQ,GAAG;MAAG,CAAC,GAAG,CAACn8H,EAAE,GAAG,MAAM,IAAI,CAAC88D,cAAc,CAAC,CAAC,KAAK,IAAI,GAAG98D,EAAE,GAAG,CAAC,CAAC;MAC9E,IAAI,CAACm8H,QAAQ,GAAGA,QAAQ;MACxB,IAAI,CAAC9hB,eAAe,GAAG,KAAK;IAC9B,CAAC,CAAC;EACJ;EACAmnD,uBAAuBA,CAAC/zD,SAAS,EAAE;IACjC,MAAMg0D,QAAQ,GAAGh0D,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,YAAY,CAAC;IAC5E,MAAM+6D,SAAS,GAAG,IAAI,CAAC3vJ,UAAU,CAAC+tJ,SAAS,GAAGryD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,aAAa,CAAC,GAAG,CAAC,CAAC;IAC/G,MAAMg7D,eAAe,GAAG,IAAI,CAAC5vJ,UAAU,CAACguJ,eAAe,GAAGtyD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,mBAAmB,CAAC,GAAG,CAAC,CAAC;IACjI,MAAMi7D,cAAc,GAAG,IAAI,CAAC7vJ,UAAU,CAACiuJ,cAAc,GAAGvyD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,kBAAkB,CAAC,GAAG,CAAC,CAAC;IAC9H,MAAMk7D,aAAa,GAAG,IAAI,CAAC9vJ,UAAU,CAACkvJ,aAAa,GAAGxzD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,iBAAiB,CAAC,GAAG,CAAC,CAAC;IAC3H,OAAO;MAAE86D,QAAQ;MAAEC,SAAS;MAAEC,eAAe;MAAEC,cAAc;MAAEC;IAAc,CAAC;EAChF;EACA/kG,cAAcA,CAAA,EAAG;IACf,OAAO/jE,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEijC,EAAE,EAAE49E,QAAQ;QAAE5S,aAAa;QAAEyG,SAAS;QAAEizD;MAAW,CAAC,GAAG,IAAI;MACnE,MAAM;QAAExmI,QAAQ;QAAE2jI;MAAiB,CAAC,GAAG,IAAI,CAAC9rJ,UAAU;MACtD,IAAI,CAAC,IAAI,CAACA,UAAU,CAACQ,OAAO,CAAC,CAAC,EAAE;QAC9B,IAAI,CAAC+tJ,gBAAgB,CAACxjJ,OAAO,GAAG,IAAI;QACpC,IAAI,CAACyjJ,gBAAgB,CAACzjJ,OAAO,GAAG,IAAI;QACpC,OAAO;UAAE+7E,MAAM,EAAE+gB,QAAQ;UAAEuiB,QAAQ,EAAE,EAAE;UAAE5hD,SAAS,EAAE;QAAG,CAAC;MAC1D;MACA,IAAI,CAACysB,aAAa,IAAI,CAACyG,SAAS,IAAIzG,aAAa,CAACzgG,IAAI,KAAK,WAAW,EACpE;MACF,MAAM;QAAEk7J,QAAQ;QAAEC,SAAS;QAAEC,eAAe;QAAEC,cAAc;QAAEC;MAAc,CAAC,GAAG,IAAI,CAACL,uBAAuB,CAAC/zD,SAAS,CAAC;MACvH,IAAIq0D,YAAY,GAAG,CAAC;MACpB,IAAIvsG,IAAI,GAAG,CAAC;MACZ,MAAM4mE,QAAQ,GAAGn1B,aAAa,CAACjyF,IAAI,CAAC/H,GAAG,CAAC,CAACwvD,MAAM,EAAE71D,KAAK,KAAK;QACzD,IAAI3G,EAAE;QACN,MAAM;UAAE48B,KAAK;UAAErwB;QAAO,CAAC,GAAGiwD,MAAM;QAChC,MAAM9nD,YAAY,GAAGnI,MAAM,CAACk1J,QAAQ,CAAC;QACrC,MAAMlsH,UAAU,GAAGmrH,UAAU,CAACnpH,OAAO,CAACuqH,YAAY,CAAC,GAAGnsH,SAAS,CAACzb,QAAQ,CAAC;QACzE4nI,YAAY,GAAGptJ,YAAY;QAC3B6gD,IAAI,IAAI7gD,YAAY;QACpB,MAAM8gC,QAAQ,GAAGkrH,UAAU,CAACnpH,OAAO,CAACuqH,YAAY,CAAC,GAAGnsH,SAAS,CAACzb,QAAQ,CAAC;QACvE,MAAM+5C,IAAI,GAAGj9E,IAAI,CAAC27B,GAAG,CAAC6iB,QAAQ,GAAGD,UAAU,CAAC;QAC5C,MAAMgnH,QAAQ,GAAGhnH,UAAU,GAAG0+B,IAAI,GAAG,CAAC;QACtC,MAAM8tF,UAAU,GAAGx1J,MAAM,CAACk1J,QAAQ,GAAG,CAAC,CAAC;QACvC,MAAMrrH,MAAM,GAAGsrH,SAAS,IAAI,CAAC,GAAG,CAAC1hK,EAAE,GAAGuM,MAAM,CAACm1J,SAAS,CAAC,KAAK,IAAI,GAAG1hK,EAAE,GAAG,CAAC,GAAG,CAAC;QAC7E,MAAMgiK,WAAW,GAAGN,SAAS,IAAI,CAAC,GAAGn1J,MAAM,CAACm1J,SAAS,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;QACnE,MAAMO,eAAe,GAAGJ,aAAa,IAAI,CAAC,GAAGt1J,MAAM,CAACs1J,aAAa,CAAC,GAAG,KAAK,CAAC;QAC3E,MAAM95F,MAAM,GAAG,IAAI,CAACm6F,SAAS,CAC3BtlI,KAAK,EACL2/H,QAAQ,EACRtoF,IAAI,EACJ,IAAI,EACJ1nE,MAAM,CAACo1J,eAAe,CAAC,EACvBp1J,MAAM,CAACq1J,cAAc,CAAC,EACtBK,eACF,CAAC;QACD,MAAMzD,YAAY,GAAG,IAAI,CAAC2D,eAAe,CAACvlI,KAAK,EAAEj2B,KAAK,EAAE,KAAK,CAAC;QAC9D,OAAOlP,cAAc,CAAC;UACpBohG,MAAM,EAAElyF,KAAK;UACb6J,MAAM,EAAE,IAAI;UACZosB,KAAK;UACLj2B,KAAK;UACLo7J,UAAU;UACVxF,QAAQ;UACR6F,MAAM,EAAEprK,IAAI,CAAC6jC,GAAG,CAAC0hI,QAAQ,CAAC;UAC1B8F,MAAM,EAAErrK,IAAI,CAAC8jC,GAAG,CAACyhI,QAAQ,CAAC;UAC1BhnH,UAAU;UACVC,QAAQ;UACRgpH,YAAY;UACZwD,WAAW;UACX5rH,MAAM;UACN4jF,WAAW,EAAEhjI,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACs/J,WAAW,CAAC5oH,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;UACrD0/G,WAAW,EAAEjgK,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACs/J,WAAW,CAAC5oH,OAAO,CAACnB,MAAM,CAAC,EAAE,CAAC,CAAC;UAC1D6rH;QACF,CAAC,EAAEl6F,MAAM,CAAC;MACZ,CAAC,CAAC;MACF,IAAI,CAACu4F,gBAAgB,CAACxjJ,OAAO,GAAGy4C,IAAI,KAAK,CAAC;MAC1C,IAAI,CAACgrG,gBAAgB,CAACzjJ,OAAO,GAAGy4C,IAAI,KAAK,CAAC,IAAIsoG,gBAAgB,IAAI,IAAI,IAAIA,gBAAgB,KAAK,CAAC,IAAIA,gBAAgB,GAAG,CAAC;MACxH,OAAO;QAAEhlE,MAAM,EAAE+gB,QAAQ;QAAEuiB,QAAQ;QAAE5hD,SAAS,EAAE4hD;MAAS,CAAC;IAC5D,CAAC,CAAC;EACJ;EACA+lC,SAASA,CAACtlI,KAAK,EAAE2/H,QAAQ,EAAEtoF,IAAI,EAAEquF,YAAY,EAAEC,iBAAiB,EAAEC,gBAAgB,EAAEP,eAAe,EAAE;IACnG,MAAM;MAAEzE,YAAY;MAAEC,WAAW;MAAEwD;IAAc,CAAC,GAAG,IAAI,CAAClvJ,UAAU;IACpE,MAAMguJ,eAAe,GAAG,CAACuC,YAAY,IAAI9E,YAAY,CAAChiJ,OAAO,GAAG,IAAI,CAACzJ,UAAU,CAACguJ,eAAe,GAAG,KAAK,CAAC;IACxG,MAAMC,cAAc,GAAG,CAACsC,YAAY,IAAI7E,WAAW,CAACjiJ,OAAO,GAAG,IAAI,CAACzJ,UAAU,CAACiuJ,cAAc,GAAG,KAAK,CAAC;IACrG,IAAI,CAACD,eAAe,IAAI,CAACC,cAAc,IAAI,CAACiB,aAAa,EAAE;MACzD,OAAO,CAAC,CAAC;IACX;IACA,MAAMwB,oBAAoB,GAAG;MAC3B7lI,KAAK;MACLijI,QAAQ,EAAE,IAAI,CAAC9tJ,UAAU,CAAC8tJ,QAAQ;MAClC6C,SAAS,EAAE,IAAI,CAAC3wJ,UAAU,CAAC2wJ,SAAS;MACpC5C,SAAS,EAAE,IAAI,CAAC/tJ,UAAU,CAAC+tJ,SAAS;MACpC6C,UAAU,EAAE,IAAI,CAAC5wJ,UAAU,CAAC4wJ,UAAU;MACtC5C,eAAe,EAAE,IAAI,CAAChuJ,UAAU,CAACguJ,eAAe;MAChD6C,gBAAgB,EAAE,IAAI,CAAC7wJ,UAAU,CAAC6wJ,gBAAgB;MAClD5C,cAAc,EAAE,IAAI,CAACjuJ,UAAU,CAACiuJ,cAAc;MAC9C6C,eAAe,EAAE,IAAI,CAAC9wJ,UAAU,CAAC8wJ,eAAe;MAChD5B,aAAa,EAAE,IAAI,CAAClvJ,UAAU,CAACkvJ;IACjC,CAAC;IACD,MAAMxoK,MAAM,GAAG,CAAC,CAAC;IACjB,IAAIsnK,eAAe,IAAI9rF,IAAI,GAAGt+B,SAAS,CAAC6nH,YAAY,CAACX,QAAQ,CAAC,EAAE;MAC9DpkK,MAAM,CAAC+kK,YAAY,GAAG1lK,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE,IAAI,CAACqrK,gBAAgB,CAACvG,QAAQ,CAAC,CAAC,EAAE;QACvF9gJ,IAAI,EAAE,IAAI,CAACoiG,YAAY,CAAC2/C,YAAY,EAAE1lK,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEgrK,oBAAoB,CAAC,EAAE;UAC5FprK,KAAK,EAAEkrK;QACT,CAAC,CAAC,CAAC;QACH96J,MAAM,EAAE,KAAK;QACbs7J,kBAAkB,EAAE,KAAK,CAAC;QAC1BC,gBAAgB,EAAE,CAAC;QACnBhtI,GAAG,EAAE,KAAK;MACZ,CAAC,CAAC;IACJ;IACA,IAAIgqI,cAAc,EAAE;MAClBvnK,MAAM,CAACglK,WAAW,GAAG;QACnBhiJ,IAAI,EAAE,IAAI,CAACoiG,YAAY,CAAC4/C,WAAW,EAAE3lK,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEgrK,oBAAoB,CAAC,EAAE;UAC3FprK,KAAK,EAAEmrK;QACT,CAAC,CAAC;MACJ,CAAC;IACH;IACA,IAAIvB,aAAa,IAAI,IAAI,IAAIgB,eAAe,IAAI,IAAI,EAAE;MACpDxpK,MAAM,CAACwqK,UAAU,GAAG;QAAE7rK,GAAG,EAAE6pK,aAAa;QAAExlJ,IAAI,EAAEwmJ;MAAgB,CAAC;IACnE;IACA,OAAOxpK,MAAM;EACf;EACAqqK,gBAAgBA,CAACvG,QAAQ,EAAE;IACzB,MAAM2G,gBAAgB,GAAG,CACvB;MAAE3yG,SAAS,EAAE,QAAQ;MAAEC,YAAY,EAAE;IAAS,CAAC,EAC/C;MAAED,SAAS,EAAE,MAAM;MAAEC,YAAY,EAAE;IAAS,CAAC,EAC7C;MAAED,SAAS,EAAE,QAAQ;MAAEC,YAAY,EAAE;IAAU,CAAC,EAChD;MAAED,SAAS,EAAE,OAAO;MAAEC,YAAY,EAAE;IAAS,CAAC,CAC/C;IACD,MAAM2yG,WAAW,GAAG/tH,iBAAiB,CAACmnH,QAAQ,CAAC;IAC/C,MAAM6G,aAAa,GAAG,CAAC,IAAI,GAAGpsK,IAAI,CAACwsC,EAAE;IACrC,MAAM6/H,cAAc,GAAGF,WAAW,GAAGC,aAAa;IAClD,MAAME,QAAQ,GAAGtsK,IAAI,CAACsI,KAAK,CAAC+jK,cAAc,IAAIrsK,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC,CAAC;IAC3D,MAAM+/H,aAAa,GAAGpwI,GAAG,CAACmwI,QAAQ,EAAEJ,gBAAgB,CAACvqK,MAAM,CAAC;IAC5D,OAAOuqK,gBAAgB,CAACK,aAAa,CAAC;EACxC;EACApB,eAAeA,CAACvlI,KAAK,EAAE4mI,WAAW,EAAEjjD,SAAS,EAAE;IAC7C,IAAIvgH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;IACtB,MAAM;MAAE2qD,aAAa;MAAE+sB;IAAiB,CAAC,GAAG,IAAI,CAAC3qE,GAAG;IACpD,MAAM;MAAEmmI,QAAQ;MAAEC,SAAS;MAAEtlJ,KAAK;MAAEC,OAAO;MAAE0oC,SAAS;MAAEm6G,aAAa;MAAEK;IAA8B,CAAC,GAAG,IAAI,CAAC5rJ,UAAU;IACxH,MAAMmqF,gBAAgB,GAAGmI,gBAAgB,CAAC/H,kBAAkB,CAAC,CAAC;IAC9D,MAAMo5D,kBAAkB,GAAGn1C,SAAS,IAAI,CAACrkB,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC1rF,MAAM,MAAM,IAAI,IAAIgzJ,WAAW,KAAKtnE,gBAAgB,CAACrD,MAAM;IACzJ,IAAI4qE,aAAa,GAAGhpJ,OAAO,CAAC+oJ,WAAW,GAAG/oJ,OAAO,CAAC9hB,MAAM,CAAC;IACzD,IAAI2kK,aAAa,IAAI,IAAI,IAAImG,aAAa,IAAI,IAAI,EAAE;MAClDA,aAAa,GAAG9F,6BAA6B;IAC/C;IACA,MAAM;MAAEjhJ,IAAI;MAAEC,WAAW;MAAEJ,MAAM;MAAEK,WAAW;MAAEkwC;IAAc,CAAC,GAAGngD,aAAa,CAC7E+oJ,kBAAkB,IAAI,IAAI,CAAC3jJ,UAAU,CAACiL,cAAc,CAAC/P,IAAI,EACzD;MACEyP,IAAI,EAAElC,KAAK,CAAC7hB,MAAM,GAAG,CAAC,GAAG6hB,KAAK,CAACgpJ,WAAW,GAAGhpJ,KAAK,CAAC7hB,MAAM,CAAC,GAAG,KAAK,CAAC;MACnEgkB,WAAW,EAAE,IAAI,CAAC5K,UAAU,CAAC4K,WAAW;MACxCJ,MAAM,EAAEknJ,aAAa;MACrB7mJ,WAAW,EAAE,IAAI,CAACggG,cAAc,CAAC,IAAI,CAAC7qG,UAAU,CAAC6K,WAAW,CAAC;MAC7DkwC,aAAa,EAAE,IAAI,CAAC2vD,UAAU,CAAC;IACjC,CACF,CAAC;IACD,IAAI94D,OAAO;IACX,IAAIR,SAAS,EAAE;MACbQ,OAAO,GAAG2zB,aAAa,CAACz/E,IAAI,CAACsrD,SAAS,EAAE;QACtCvmB,KAAK;QACLijI,QAAQ;QACRC,SAAS;QACTpjJ,IAAI;QACJH,MAAM;QACN/B,KAAK;QACLC,OAAO;QACPmC,WAAW;QACX8uI,WAAW,EAAEgK,kBAAkB;QAC/B97C,QAAQ,EAAE,IAAI,CAAC59E;MACjB,CAAC,CAAC;IACJ;IACA,OAAO;MACLtf,IAAI,EAAE,CAAC1c,EAAE,GAAG2jD,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACjnC,IAAI,KAAK,IAAI,GAAG1c,EAAE,GAAG0c,IAAI;MACxEC,WAAW,EAAE,CAACrM,EAAE,GAAGqzC,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAChnC,WAAW,KAAK,IAAI,GAAGrM,EAAE,GAAGqM,WAAW;MAC7FJ,MAAM,EAAE,CAAChM,EAAE,GAAGozC,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACpnC,MAAM,KAAK,IAAI,GAAGhM,EAAE,GAAGgM,MAAM;MAC9EK,WAAW,EAAE,CAAC1L,EAAE,GAAGyyC,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC/mC,WAAW,KAAK,IAAI,GAAG1L,EAAE,GAAG0L,WAAW;MAC7FkwC,aAAa,EAAE,CAACngC,EAAE,GAAGg3B,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACmJ,aAAa,KAAK,IAAI,GAAGngC,EAAE,GAAGmgC;IACxF,CAAC;EACH;EACA42G,cAAcA,CAAA,EAAG;IACf,MAAM;MAAEttH;IAAO,CAAC,GAAG,IAAI;IACvB,MAAM;MAAEynH,gBAAgB,GAAG,CAAC;MAAEC,iBAAiB,GAAG;IAAE,CAAC,GAAG,IAAI,CAAC/rJ,UAAU;IACvE,MAAMioH,WAAW,GAAG5jF,MAAM,GAAGynH,gBAAgB,GAAGC,iBAAiB;IACjE,IAAI9jC,WAAW,KAAK5jF,MAAM,IAAI4jF,WAAW,GAAG,CAAC,EAAE;MAC7C,OAAO,CAAC;IACV;IACA,OAAOA,WAAW;EACpB;EACA2pC,cAAcA,CAAA,EAAG;IACf,MAAM;MAAEtG,gBAAgB;MAAED;IAAkB,CAAC,GAAG,IAAI,CAACrrJ,UAAU;IAC/D,OAAO/a,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACu1C,MAAM,GAAGinH,gBAAgB,GAAGD,iBAAiB,EAAE,CAAC,CAAC;EACxE;EACAwG,iBAAiBA,CAAC5wF,MAAM,EAAE;IACxB,MAAM6wF,QAAQ,GAAG,CAAC,IAAI,CAACH,cAAc,CAAC,CAAC,EAAE,IAAI,CAACC,cAAc,CAAC,CAAC,CAAC;IAC/D,IAAI,CAACxD,WAAW,CAACvgK,KAAK,GAAGikK,QAAQ;IACjC,IAAI7wF,MAAM,EAAE;MACV,IAAI,CAACktF,mBAAmB,CAACtgK,KAAK,GAAGikK,QAAQ;IAC3C;IACA,IAAI,CAAC1nC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACnvH,GAAG,CAAEhN,EAAE,IAAK;MACxC,IAAIsQ,EAAE,GAAGtQ,EAAE;QAAE;UAAEo2C;QAAO,CAAC,GAAG9lC,EAAE;QAAE9Q,CAAC,GAAGzH,SAAS,CAACuY,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;MAC3D,OAAOxY,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE+H,CAAC,CAAC,EAAE;QAC1C42C,MAAM;QACN4jF,WAAW,EAAEhjI,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACs/J,WAAW,CAAC5oH,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD0/G,WAAW,EAAEjgK,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACs/J,WAAW,CAAC5oH,OAAO,CAACnB,MAAM,CAAC,EAAE,CAAC;MAC3D,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA0tH,oBAAoBA,CAAA,EAAG;IACrB,IAAI9jK,EAAE,EAAEsQ,EAAE;IACV,MAAM2mJ,WAAW,GAAGjgK,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE,IAAI,CAACs/J,WAAW,CAACvgK,KAAK,CAAC,CAAC,CAAC,CAAC;IAC1D,IAAIq3J,WAAW,KAAK,CAAC,EAAE;MACrB,OAAO9wI,GAAG;IACZ;IACA,MAAMzK,OAAO,GAAG,CAACpL,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwJ,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvb,EAAE,CAAC0b,OAAO,KAAK,IAAI,GAAGpL,EAAE,GAAG,CAAC;IAClG,MAAMyzJ,WAAW,GAAG,CAAC,GAAGroJ,OAAO;IAC/B,MAAMqZ,EAAE,GAAG/9B,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE,CAACo2J,WAAW,CAAC;IACpC,OAAO,CAACA,WAAW,GAAG8M,WAAW,GAAGhvI,EAAE;EACxC;EACA8a,MAAMA,CAACu0E,EAAE,EAAE;IACT,OAAOrrH,OAAO,CAAC,IAAI,EAAEykD,SAAS,EAAE,WAAW;MAAEwlE;IAAW,CAAC,EAAE;MACzD,MAAM;QAAEznG;MAAM,CAAC,GAAG,IAAI,CAACxJ,UAAU;MACjC,MAAMotG,uBAAuB,GAAG;QAC9BJ,eAAe,EAAEiE,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAAC7mG,KAAK;QAC/D6iG,gBAAgB,EAAEgE,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACvuF;MAC7D,CAAC;MACD,MAAMu+C,MAAM,GAAGjgE,QAAQ,CAAC,IAAI,CAAC8rG,oBAAoB,EAAEM,uBAAuB,CAAC,IAAI,IAAI;MACnF,IAAInsC,MAAM,EAAE;QACV,IAAI,CAAC8rC,qBAAqB,GAAGK,uBAAuB;MACtD;MACA,MAAM,IAAI,CAACoiD,oBAAoB,CAAC,CAAC;MACjC,IAAI,CAACyC,gBAAgB,CAAC,CAAC;MACvB,IAAI,CAACJ,iBAAiB,CAAC5wF,MAAM,CAAC;MAC9B,IAAI,CAACkvB,YAAY,CAAC/nE,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAC7C,IAAI,CAACgsD,YAAY,CAAC9nE,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAC7C,IAAI,CAAC2kE,cAAc,CAAC3gF,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAC/C,IAAI,CAAC4kE,cAAc,CAAC1gF,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAC/C,IAAI,CAACiqH,eAAe,CAACjmI,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAChD,IAAI,CAACkqH,eAAe,CAAChmI,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAChD,IAAI,IAAI,CAACgmB,UAAU,EAAE;QACnB,IAAI,CAACA,UAAU,CAAChiC,YAAY,GAAG,IAAI,CAAC+b,OAAO;QAC3C,IAAI,CAACimB,UAAU,CAAC/hC,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAC7C;MACA,IAAI56B,KAAK,EAAE;QACT,MAAMwZ,EAAE,GAAG,IAAI,CAAC+uI,oBAAoB,CAAC,CAAC;QACtC,MAAM5rF,QAAQ,GAAG38D,KAAK,CAAC3H,IAAI,CAAC+qB,WAAW,CAAC,CAAC;QACzCpjB,KAAK,CAAC3H,IAAI,CAACkJ,OAAO,GAAGvB,KAAK,CAACC,OAAO,IAAI1P,QAAQ,CAACipB,EAAE,CAAC,IAAI,CAAC,IAAI,CAACkvI,+BAA+B,CAAC/rF,QAAQ,EAAE,CAAC,EAAEnjD,EAAE,CAAC;QAC5GxZ,KAAK,CAAC3H,IAAI,CAACwmB,YAAY,GAAGtuB,QAAQ,CAACipB,EAAE,CAAC,GAAGA,EAAE,GAAG,CAAC;MACjD;MACA,KAAK,MAAMulG,MAAM,IAAI,CAAC,IAAI,CAACimC,gBAAgB,EAAE,IAAI,CAACD,gBAAgB,CAAC,EAAE;QACnEhmC,MAAM,CAAC39G,WAAW,GAAG,CAAC;QACtB29G,MAAM,CAAC/9G,MAAM,GAAG,IAAI,CAACxK,UAAU,CAACyrJ,YAAY,CAAC1hJ,KAAK;QAClDw+G,MAAM,CAAC19G,WAAW,GAAG,CAAC;QACtB09G,MAAM,CAACxtE,aAAa,GAAG,CAAC;MAC1B;MACA,IAAI,CAACo3G,kBAAkB,CAAC,CAAC;MACzB,MAAM,IAAI,CAAChuF,gBAAgB,CAAC,CAAC;MAC7B,MAAM,IAAI,CAACxZ,WAAW,CAACsmD,UAAU,CAAC;IACpC,CAAC,CAAC;EACJ;EACAghD,gBAAgBA,CAAA,EAAG;IACjB,IAAIhkK,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAE6zJ;IAAS,CAAC,GAAG,IAAI;IACzB,MAAM;MAAE5oJ;IAAM,CAAC,GAAG,IAAI,CAACxJ,UAAU;IACjC,IAAIoyJ,QAAQ,KAAK5oJ,KAAK,EAAE;MACtB,IAAI4oJ,QAAQ,EAAE;QACZ,CAACnkK,EAAE,GAAG,IAAI,CAACm8D,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGn8D,EAAE,CAAC0oB,WAAW,CAACy7I,QAAQ,CAACvwJ,IAAI,CAAC;MACzE;MACA,IAAI2H,KAAK,EAAE;QACTA,KAAK,CAAC3H,IAAI,CAAC48C,YAAY,GAAG,QAAQ;QAClC,CAAClgD,EAAE,GAAG,IAAI,CAAC6rD,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG7rD,EAAE,CAACkY,WAAW,CAACjN,KAAK,CAAC3H,IAAI,CAAC;MACtE;MACA,IAAI,CAACuwJ,QAAQ,GAAG5oJ,KAAK;IACvB;EACF;EACA2oJ,kBAAkBA,CAAA,EAAG;IACnB,IAAI,CAAC/nC,QAAQ,CAAC1qH,OAAO,CAAEjS,CAAC,IAAK;MAC3B,MAAM42C,MAAM,GAAG52C,CAAC,CAACw6H,WAAW,GAAG,CAACx6H,CAAC,CAACy3J,WAAW,GAAGz3J,CAAC,CAACw6H,WAAW,IAAI,CAAC;MAClEx6H,CAAC,CAACwiG,QAAQ,GAAG;QACXpoG,CAAC,EAAE4F,CAAC,CAAC4iK,MAAM,GAAGprK,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEu1C,MAAM,CAAC;QACjC1iB,CAAC,EAAEl0B,CAAC,CAAC6iK,MAAM,GAAGrrK,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEu1C,MAAM;MAClC,CAAC;IACH,CAAC,CAAC;EACJ;EACA8/B,gBAAgBA,CAAA,EAAG;IACjB,OAAOn9E,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM,IAAI,CAACqrK,oBAAoB,CAAC,CAAC;MACjC,IAAI,CAACC,0BAA0B,CAAC,CAAC;IACnC,CAAC,CAAC;EACJ;EACAD,oBAAoBA,CAAA,EAAG;IACrB,OAAOrrK,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAE07I,aAAa;QAAEpW,kBAAkB;QAAEwiC,qBAAqB;QAAEC,oBAAoB;QAAEC;MAAqB,CAAC,GAAG,IAAI;MACrH,MAAMlxH,MAAM,GAAGA,CAAC8E,SAAS,EAAEpnC,KAAK,KAAK;QACnC,IAAI4uH,QAAQ,GAAG,IAAI,CAACA,QAAQ;QAC5B,IAAI5uH,KAAK,EAAE;UACT4uH,QAAQ,GAAGA,QAAQ,CAACnvH,GAAG,CAAE4vB,KAAK,IAAK9kC,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEmlC,KAAK,CAAC,EAAE;YAAE4hI,YAAY,EAAE/mK,cAAc,CAAC,CAAC,CAAC,EAAEmlC,KAAK,CAAC4hI,YAAY;UAAE,CAAC,CAAC,CAAC;QACxI;QACA7pH,SAAS,CAAC9E,MAAM,CAACssF,QAAQ,EAAE,KAAK,CAAC,EAAGv/F,KAAK,IAAK,IAAI,CAACkW,UAAU,CAAClW,KAAK,CAAC,CAAC;QACrE,IAAI,IAAI,CAAClD,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC,EAAE;UACzCxhC,SAAS,CAACG,OAAO,CAAC,CAAC;QACrB;MACF,CAAC;MACDjF,MAAM,CAAC4kG,aAAa,EAAE,KAAK,CAAC;MAC5B5kG,MAAM,CAACwuF,kBAAkB,EAAE,IAAI,CAAC;MAChCwiC,qBAAqB,CAAChxH,MAAM,CAAC,IAAI,CAACssF,QAAQ,EAAG3/D,MAAM,IAAK;QACtD,MAAMtgD,IAAI,GAAG,IAAIuqD,IAAI,CAAC,CAAC;QACvBvqD,IAAI,CAAC0f,GAAG,GAAG,CAAC,CAAC;QACb1f,IAAI,CAACygB,aAAa,GAAG,CAAC,CAAC;QACvB6/B,MAAM,CAACh0C,WAAW,CAACtM,IAAI,CAAC;QACxB,MAAMT,IAAI,GAAG,IAAIi7C,IAAI,CAAC,CAAC;QACvBj7C,IAAI,CAACmgB,GAAG,GAAG,CAAC,CAAC;QACbngB,IAAI,CAACkhB,aAAa,GAAG,CAAC,CAAC;QACvB6/B,MAAM,CAACh0C,WAAW,CAAC/M,IAAI,CAAC;MAC1B,CAAC,CAAC;MACFqlJ,oBAAoB,CAACjxH,MAAM,CAAC,IAAI,CAACssF,QAAQ,EAAGvoH,IAAI,IAAK;QACnDA,IAAI,CAAC+oB,aAAa,GAAG,CAAC,CAAC;MACzB,CAAC,CAAC;MACFokI,oBAAoB,CAAClxH,MAAM,CAAC,IAAI,CAAC99B,UAAU,CAAC2b,WAAW,EAAG9Z,IAAI,IAAK;QACjEA,IAAI,CAAC+oB,aAAa,GAAG,CAAC,CAAC;MACzB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA0nI,0BAA0BA,CAAA,EAAG;IAC3B,MAAM;MAAE9G;IAAY,CAAC,GAAG,IAAI,CAACxrJ,UAAU;IACvC,IAAIqkC,MAAM,GAAG,CAAC;IACd,MAAM4jF,WAAW,GAAG,IAAI,CAAC0pC,cAAc,CAAC,CAAC;IACzC,IAAI1pC,WAAW,GAAG,CAAC,EAAE;MACnB,MAAMsqC,YAAY,GAAGttK,IAAI,CAAC6uB,GAAG,CAACm0G,WAAW,EAAE,IAAI,CAAC2pC,cAAc,CAAC,CAAC,CAAC;MACjE,MAAMY,mBAAmB,GAAG,CAAC;MAC7BnuH,MAAM,GAAGp/C,IAAI,CAAC0I,IAAI,CAAC4kK,YAAY,GAAG,CAAC,GAAGC,mBAAmB,CAAC;IAC5D;IACA,MAAMC,MAAM,GAAGjH,WAAW,GAAG,CAAC;MAAEnnH;IAAO,CAAC,CAAC,GAAG,EAAE;IAC9C,IAAI,CAAC4qH,oBAAoB,CAACnxH,MAAM,CAAC20H,MAAM,CAAC;EAC1C;EACA9nG,WAAWA,CAACsmD,UAAU,EAAE;IACtB,OAAOjqH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAMmjG,gBAAgB,GAAG,IAAI,CAACxiE,GAAG,CAAC2qE,gBAAgB,CAAC/H,kBAAkB,CAAC,CAAC;MACvE,MAAM5wB,SAAS,GAAG,IAAI,CAAC5uD,OAAO,IAAI,IAAI,CAACw/G,iBAAiB,CAACnkI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;MAC3E,IAAI,CAACgiH,SAAS,CAACr9F,OAAO,GAAG4uD,SAAS;MAClC,IAAI,CAAC00F,eAAe,CAACtjJ,OAAO,GAAG4uD,SAAS;MACxC,IAAI,CAACw2B,YAAY,CAACplF,OAAO,GAAG4uD,SAAS;MACrC,IAAI,CAACovC,cAAc,CAACh+F,OAAO,GAAG4uD,SAAS,IAAI,CAACwwB,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC1rF,MAAM,MAAM,IAAI;MACjH,IAAI,IAAI,CAAC2rD,UAAU,EAAE;QACnB,IAAI,CAACA,UAAU,CAACr/C,OAAO,GAAG4uD,SAAS;MACrC;MACA,IAAI,CAACw2B,YAAY,CAAC74C,OAAO,GAAG,IAAI,CAACozD,UAAU,CAAC,CAAC;MAC7C,IAAI,CAACukD,oBAAoB,CAACt7F,IAAI,CAAC,CAAC9xD,IAAI,EAAE;QAAEwiC;MAAO,CAAC,KAAK;QACnD,IAAIp2C,EAAE,EAAEsQ,EAAE;QACVsD,IAAI,CAAC+pB,aAAa,CAAC;UACjBjhB,IAAI,EAAE,CAAC1c,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwrJ,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGv9J,EAAE,CAAC0c,IAAI;UACnE2sC,OAAO,EAAE,CAAC/4C,EAAE,GAAG,IAAI,CAACyB,UAAU,CAACwrJ,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjtJ,EAAE,CAACqM,WAAW;UAC7EW,IAAI,EAAE84B;QACR,CAAC,CAAC;MACJ,CAAC,CAAC;MACF,MAAMquH,cAAc,GAAGA,CAACtN,MAAM,EAAEv6H,KAAK,EAAE8nI,MAAM,EAAEhP,kBAAkB,KAAK;QACpE,MAAM/xG,OAAO,GAAG,IAAI,CAACw+G,eAAe,CAACvlI,KAAK,CAACA,KAAK,EAAEA,KAAK,CAACi8D,MAAM,EAAE68D,kBAAkB,CAAC;QACnF94H,KAAK,CAAC4hI,YAAY,CAAC9hJ,IAAI,GAAGinC,OAAO,CAACjnC,IAAI;QACtCkgB,KAAK,CAAC4hI,YAAY,CAACjiJ,MAAM,GAAGonC,OAAO,CAACpnC,MAAM;QAC1C,MAAMooJ,iBAAiB,GAAG,IAAI,CAACjrI,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;QAC/D,IAAIwuF,iBAAiB,EAAE;UACrBxN,MAAM,CAAC5hH,UAAU,GAAG3Y,KAAK,CAAC2Y,UAAU;UACpC4hH,MAAM,CAAC3hH,QAAQ,GAAG5Y,KAAK,CAAC4Y,QAAQ;UAChC2hH,MAAM,CAACn9B,WAAW,GAAGp9F,KAAK,CAACo9F,WAAW;UACtCm9B,MAAM,CAACF,WAAW,GAAGr6H,KAAK,CAACq6H,WAAW;QACxC;QACA,IAAIvB,kBAAkB,IAAIiP,iBAAiB,EAAE;UAC3CxN,MAAM,CAACz6I,IAAI,GAAGinC,OAAO,CAACjnC,IAAI;UAC1By6I,MAAM,CAAC56I,MAAM,GAAGonC,OAAO,CAACpnC,MAAM;QAChC;QACA46I,MAAM,CAACv6I,WAAW,GAAG+mC,OAAO,CAAC/mC,WAAW;QACxCu6I,MAAM,CAACx6I,WAAW,GAAGgnC,OAAO,CAAChnC,WAAW;QACxCw6I,MAAM,CAACrqG,aAAa,GAAG,IAAI,CAAC/6C,UAAU,CAAC+6C,aAAa;QACpDqqG,MAAM,CAAC36I,QAAQ,GAAG,IAAI,CAACzK,UAAU,CAACyK,QAAQ;QAC1C26I,MAAM,CAACnqG,cAAc,GAAG,IAAI,CAACj7C,UAAU,CAACi7C,cAAc;QACtDmqG,MAAM,CAAChqG,UAAU,GAAG,IAAI,CAACp7C,UAAU,CAACmuI,MAAM;QAC1CiX,MAAM,CAACzsB,YAAY,GAAG,IAAI,CAAC34H,UAAU,CAAC24H,YAAY;QAClDysB,MAAM,CAACtiD,KAAK,GAAG,IAAI,CAAC9iG,UAAU,CAACurJ,aAAa,IAAI,IAAI,GAAG,CAAC,IAAI,CAACvrJ,UAAU,CAACurJ,aAAa,IAAI35G,OAAO,CAACpnC,MAAM,IAAI,IAAI,GAAGonC,OAAO,CAAC/mC,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;QACnJu6I,MAAM,CAACjqG,QAAQ,GAAG,IAAI,CAACn7C,UAAU,CAACurJ,aAAa,IAAI,IAAI,GAAG,OAAO,GAAG,OAAO;MAC7E,CAAC;MACD,IAAI,CAAC7oB,aAAa,CAAC/uE,IAAI,CAAC,CAAC9xD,IAAI,EAAEgpB,KAAK,EAAEj2B,KAAK,KAAK89J,cAAc,CAAC7wJ,IAAI,EAAEgpB,KAAK,EAAEj2B,KAAK,EAAE,KAAK,CAAC,CAAC;MAC1F,IAAI,CAAC03H,kBAAkB,CAAC34D,IAAI,CAAC,CAAC9xD,IAAI,EAAEgpB,KAAK,EAAEj2B,KAAK,KAAK;QACnD,MAAM+uJ,kBAAkB,GAAG,CAACx5D,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC1rF,MAAM,MAAM,IAAI,IAAIoD,IAAI,CAACgpB,KAAK,CAACi8D,MAAM,KAAKqD,gBAAgB,CAACrD,MAAM;QAClJ4rE,cAAc,CAAC7wJ,IAAI,EAAEgpB,KAAK,EAAEj2B,KAAK,EAAE,IAAI,CAAC;QACxCiN,IAAI,CAACkJ,OAAO,GAAG44I,kBAAkB;MACnC,CAAC,CAAC;MACF,IAAI,CAACkP,sBAAsB,CAAC,CAAC;MAC7B,IAAI,CAACC,uBAAuB,CAAC7hD,UAAU,CAAC;MACxC,IAAI,CAAC8hD,sBAAsB,CAAC,CAAC;MAC7B,IAAI,CAACC,qBAAqB,CAAC,CAAC;MAC5B,IAAI,CAACC,kBAAkB,CAAC,CAAC;MACzB,IAAI,CAACryF,cAAc,CAACxT,UAAU,CAAC,QAAQ,CAAC;IAC1C,CAAC,CAAC;EACJ;EACAylG,sBAAsBA,CAAA,EAAG;IACvB,IAAI5kK,EAAE;IACN,MAAM;MAAE09J;IAAY,CAAC,GAAG,IAAI,CAAC3rJ,UAAU;IACvC,MAAMkzJ,aAAa,GAAGvH,WAAW,CAAC/kK,MAAM;IACxC,MAAMusK,kBAAkB,GAAGxH,WAAW,CAAC9gJ,WAAW;IAClD,MAAMuoJ,aAAa,GAAG,CAACnlK,EAAE,GAAG09J,WAAW,CAACjwG,MAAM,KAAK,IAAI,GAAGztD,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAAC0I,OAAO;IACtF,MAAM;MAAEzY,MAAM,EAAErB;IAAQ,CAAC,GAAG,IAAI,CAACoR,UAAU,CAACyrJ,YAAY;IACxD,IAAI,CAACqD,qBAAqB,CAAC17F,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC1zD,OAAO,CAAC,CAACyK,IAAI,EAAEvV,KAAK,KAAK;MAC/E,IAAI0nB,GAAG;MACP,MAAMuO,KAAK,GAAG1gB,IAAI,CAAC0gB,KAAK;MACxB,MAAM;QAAE4gI,YAAY,EAAEzhJ,KAAK;QAAEk7I;MAAY,CAAC,GAAGr6H,KAAK;MAClD,IAAI,CAAC7gB,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACN,IAAI,KAAK,CAACM,KAAK,CAACtU,MAAM,IAAIwvJ,WAAW,KAAK,CAAC,EAAE;QAC/E/6I,IAAI,CAACY,OAAO,GAAG,IAAI;QACnBZ,IAAI,CAACU,WAAW,GAAGsoJ,kBAAkB;QACrChpJ,IAAI,CAACK,MAAM,GAAG4oJ,aAAa,CAACx+J,KAAK,GAAGw+J,aAAa,CAACxsK,MAAM,CAAC;QACzDujB,IAAI,CAACQ,IAAI,GAAG,KAAK,CAAC;QAClB,MAAM0Y,EAAE,GAAGwH,KAAK,CAACwlI,MAAM,GAAGnL,WAAW;QACrC,MAAM5hI,EAAE,GAAGuH,KAAK,CAACylI,MAAM,GAAGpL,WAAW;QACrC,IAAI3hI,EAAE,GAAGsH,KAAK,CAACwlI,MAAM,IAAInL,WAAW,GAAGgO,aAAa,CAAC;QACrD,IAAI1vI,EAAE,GAAGqH,KAAK,CAACylI,MAAM,IAAIpL,WAAW,GAAGgO,aAAa,CAAC;QACrD,MAAMG,OAAO,GAAG,CAAC/2I,GAAG,GAAGtS,KAAK,CAACgnJ,kBAAkB,KAAK,IAAI,GAAG10I,GAAG,GAAGtS,KAAK,CAACinJ,gBAAgB,KAAK,CAAC;QAC7F,IAAIoC,OAAO,IAAIrpJ,KAAK,CAACia,GAAG,IAAI,IAAI,EAAE;UAChC,MAAMA,GAAG,GAAGja,KAAK,CAACia,GAAG;UACrB,IAAIqD,EAAE,GAAG/D,EAAE;UACX,IAAIgE,EAAE,GAAG/D,EAAE;UACX,IAAID,EAAE,GAAGU,GAAG,CAACp8B,CAAC,EAAE;YACdy/B,EAAE,GAAGrD,GAAG,CAACp8B,CAAC;UACZ,CAAC,MAAM,IAAI07B,EAAE,GAAGU,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,EAAE;YACjCkd,EAAE,GAAGrD,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK;UACxB;UACA,IAAIoZ,EAAE,GAAGS,GAAG,CAACtC,CAAC,EAAE;YACd4F,EAAE,GAAGtD,GAAG,CAACtC,CAAC;UACZ,CAAC,MAAM,IAAI6B,EAAE,GAAGS,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,EAAE;YAClC6E,EAAE,GAAGtD,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM;UACzB;UACA,MAAMK,EAAE,GAAGuE,EAAE,GAAG/D,EAAE;UAClB,MAAMP,EAAE,GAAGuE,EAAE,GAAG/D,EAAE;UAClB,MAAM58B,MAAM,GAAG3B,IAAI,CAACs1D,IAAI,CAACt1D,IAAI,CAACC,GAAG,CAAC69B,EAAE,EAAE,CAAC,CAAC,GAAG99B,IAAI,CAACC,GAAG,CAAC89B,EAAE,EAAE,CAAC,CAAC,CAAC;UAC3D,MAAMswI,YAAY,GAAG1sK,MAAM,GAAGgI,OAAO;UACrC,IAAI0kK,YAAY,GAAG,CAAC,EAAE;YACpB/vI,EAAE,GAAGA,EAAE,GAAGR,EAAE,GAAGuwI,YAAY,GAAG1sK,MAAM;YACpC48B,EAAE,GAAGA,EAAE,GAAGR,EAAE,GAAGswI,YAAY,GAAG1sK,MAAM;UACtC;QACF;QACAujB,IAAI,CAACkZ,EAAE,GAAGA,EAAE;QACZlZ,IAAI,CAACmZ,EAAE,GAAGA,EAAE;QACZnZ,IAAI,CAACoZ,EAAE,GAAGA,EAAE;QACZpZ,IAAI,CAACqZ,EAAE,GAAGA,EAAE;MACd,CAAC,MAAM;QACLrZ,IAAI,CAACY,OAAO,GAAG,KAAK;MACtB;IACF,CAAC,CAAC;EACJ;EACAwoJ,gBAAgBA,CAAC7pJ,IAAI,EAAEua,GAAG,EAAEgtF,UAAU,EAAE;IACtC,MAAMuiD,UAAU,GAAGviD,UAAU,CAACppH,CAAC,GAAG,IAAI,CAACs8C,OAAO;IAC9C,MAAMsvH,WAAW,GAAGxiD,UAAU,CAACppH,CAAC,GAAGopH,UAAU,CAAC7mG,KAAK,GAAG,IAAI,CAAC+5B,OAAO;IAClE,MAAMuvH,SAAS,GAAGziD,UAAU,CAACtvF,CAAC,GAAG,IAAI,CAACyiB,OAAO;IAC7C,MAAMuvH,YAAY,GAAG1iD,UAAU,CAACtvF,CAAC,GAAGsvF,UAAU,CAACvuF,MAAM,GAAG,IAAI,CAAC0hB,OAAO;IACpE,MAAMwvH,KAAK,GAAG,CAAC;IACf,IAAIC,eAAe,GAAG,CAAC;IACvB,IAAI5vI,GAAG,CAACp8B,CAAC,GAAG+rK,KAAK,GAAGJ,UAAU,EAAE;MAC9BK,eAAe,GAAG,CAAC5vI,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,GAAGopJ,UAAU,IAAIvvI,GAAG,CAAC7Z,KAAK;IAChE,CAAC,MAAM,IAAI6Z,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,GAAGwpJ,KAAK,GAAGH,WAAW,EAAE;MAClDI,eAAe,GAAG,CAACJ,WAAW,GAAGxvI,GAAG,CAACp8B,CAAC,IAAIo8B,GAAG,CAAC7Z,KAAK;IACrD;IACA,MAAM0pJ,mBAAmB,GAAG7vI,GAAG,CAACtC,CAAC,GAAGiyI,KAAK,GAAGF,SAAS,IAAIzvI,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,GAAGkxI,KAAK,GAAGD,YAAY;IAClG,MAAMI,UAAU,GAAGF,eAAe,KAAK,CAAC,GAAGnqJ,IAAI,CAAC9iB,MAAM,GAAG3B,IAAI,CAACsI,KAAK,CAACmc,IAAI,CAAC9iB,MAAM,GAAGitK,eAAe,CAAC,GAAG,CAAC;IACtG,MAAMG,4BAA4B,GAAG,IAAI,CAAC9B,+BAA+B,CAACjuI,GAAG,CAAC;IAC9E,OAAO;MAAE8vI,UAAU;MAAED,mBAAmB;MAAEE;IAA6B,CAAC;EAC1E;EACA9B,+BAA+BA,CAACjuI,GAAG,EAAElB,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAG,CAAC,EAAE;IACnD,MAAM;MAAE0rI;IAAkB,CAAC,GAAG,IAAI;IAClC,IAAIA,iBAAiB,IAAI,IAAI,EAAE;MAC7B,OAAO,KAAK;IACd;IACA,MAAMuF,OAAO,GAAG,CACd;MAAEpsK,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC,GAAGk7B,EAAE;MAAEpB,CAAC,EAAEsC,GAAG,CAACtC,CAAC,GAAGqB;IAAG,CAAC,EAChC;MAAEn7B,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,GAAG2Y,EAAE;MAAEpB,CAAC,EAAEsC,GAAG,CAACtC,CAAC,GAAGqB;IAAG,CAAC,EAC5C;MAAEn7B,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,GAAG2Y,EAAE;MAAEpB,CAAC,EAAEsC,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,GAAGM;IAAG,CAAC,EACzD;MAAEn7B,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC,GAAGk7B,EAAE;MAAEpB,CAAC,EAAEsC,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,GAAGM;IAAG,CAAC,CAC9C;IACD,MAAMkxI,IAAI,GAAGlvK,KAAK,CAAC0pK,iBAAiB,EAAE,CAAC,CAAC;IACxC,OAAOuF,OAAO,CAACl/J,IAAI,CAAEo/J,MAAM,IAAKnvK,KAAK,CAACmvK,MAAM,CAACtsK,CAAC,EAAE,CAAC,CAAC,GAAG7C,KAAK,CAACmvK,MAAM,CAACxyI,CAAC,EAAE,CAAC,CAAC,GAAGuyI,IAAI,CAAC;EACjF;EACAE,mCAAmCA,CAAA,EAAG;IACpC,MAAM;MAAEhG;IAAY,CAAC,GAAG,IAAI;IAC5B,MAAM;MAAE3C,YAAY;MAAEE;IAAY,CAAC,GAAG,IAAI,CAAC3rJ,UAAU;IACrD,MAAM;MAAE/P,MAAM,EAAErB,OAAO;MAAE22D;IAAW,CAAC,GAAGkmG,YAAY;IACpD,MAAMxjC,WAAW,GAAGmmC,WAAW,CAAC5oH,OAAO,CAAC,CAAC,CAAC;IAC1C,MAAM6uH,UAAU,GAAIxpI,KAAK,IAAK;MAC5B,MAAM7gB,KAAK,GAAG6gB,KAAK,CAAC4gI,YAAY;MAChC,OAAO,CAACzhJ,KAAK,IAAI6gB,KAAK,CAACq6H,WAAW,KAAK,CAAC;IAC1C,CAAC;IACD,MAAMoP,QAAQ,GAAG,IAAI,CAAClqC,QAAQ;IAC9B,MAAMpnH,IAAI,GAAG,IAAI,CAAConH,QAAQ,CAAC/zH,MAAM,CAAEyG,CAAC,IAAK,CAACu3J,UAAU,CAACv3J,CAAC,CAAC,CAAC;IACxDkG,IAAI,CAACtD,OAAO,CAAEmrB,KAAK,IAAK;MACtB,MAAM7gB,KAAK,GAAG6gB,KAAK,CAAC4gI,YAAY;MAChC,IAAIzhJ,KAAK,IAAI,IAAI,EACf;MACFA,KAAK,CAACtU,MAAM,GAAG,KAAK;MACpBsU,KAAK,CAACgnJ,kBAAkB,GAAG,KAAK,CAAC;MACjChnJ,KAAK,CAACinJ,gBAAgB,GAAG,CAAC;IAC5B,CAAC,CAAC;IACF,IAAIjuJ,IAAI,CAACpc,MAAM,IAAI,CAAC,EAAE;MACpB;IACF;IACA,MAAM2tK,UAAU,GAAGvxJ,IAAI,CAAC3M,MAAM,CAAE5I,CAAC,IAAKA,CAAC,CAAC4iK,MAAM,GAAG,CAAC,CAAC,CAAC58G,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC2qK,MAAM,GAAG1qK,CAAC,CAAC0qK,MAAM,CAAC;IACvF,MAAMkE,WAAW,GAAGxxJ,IAAI,CAAC3M,MAAM,CAAE5I,CAAC,IAAKA,CAAC,CAAC4iK,MAAM,IAAI,CAAC,CAAC,CAAC58G,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC2qK,MAAM,GAAG1qK,CAAC,CAAC0qK,MAAM,CAAC;IACzF,MAAMmE,SAAS,GAAGzxJ,IAAI,CAAC3M,MAAM,CAAE5I,CAAC,IAAK;MACnC,IAAIQ,EAAE;MACN,OAAOR,CAAC,CAAC6iK,MAAM,GAAG,CAAC,IAAI,CAAC,CAACriK,EAAE,GAAGR,CAAC,CAACg+J,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGx9J,EAAE,CAACuwD,SAAS,MAAM,QAAQ;IAC7F,CAAC,CAAC,CAAC/K,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC0qK,MAAM,GAAGzqK,CAAC,CAACyqK,MAAM,CAAC;IACtC,MAAMqE,YAAY,GAAG1xJ,IAAI,CAAC3M,MAAM,CAAE5I,CAAC,IAAK;MACtC,IAAIQ,EAAE;MACN,OAAOR,CAAC,CAAC6iK,MAAM,IAAI,CAAC,IAAI,CAAC,CAACriK,EAAE,GAAGR,CAAC,CAACg+J,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGx9J,EAAE,CAACuwD,SAAS,MAAM,QAAQ;IAC9F,CAAC,CAAC,CAAC/K,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC0qK,MAAM,GAAGzqK,CAAC,CAACyqK,MAAM,CAAC;IACtC,MAAMsE,YAAY,GAAG,IAAIhwG,IAAI,CAAC,CAAC;IAC/B,MAAMiwG,WAAW,GAAI/pI,KAAK,IAAK;MAC7B,IAAI58B,EAAE;MACN,MAAM+b,KAAK,GAAG6gB,KAAK,CAAC4gI,YAAY;MAChC,IAAIzhJ,KAAK,IAAI,IAAI,EACf,OAAO,IAAIma,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;MAC7B,MAAM0wI,WAAW,GAAGhqI,KAAK,CAACq6H,WAAW,GAAGyG,WAAW,CAAC/kK,MAAM,GAAGgI,OAAO;MACpE,MAAM/G,CAAC,GAAGgjC,KAAK,CAACwlI,MAAM,GAAGwE,WAAW;MACpC,MAAMlzI,CAAC,GAAGkJ,KAAK,CAACylI,MAAM,GAAGuE,WAAW,GAAG7qJ,KAAK,CAACinJ,gBAAgB;MAC7D0D,YAAY,CAACjrJ,IAAI,GAAGM,KAAK,CAACN,IAAI;MAC9BirJ,YAAY,CAAC9sK,CAAC,GAAGA,CAAC;MAClB8sK,YAAY,CAAChzI,CAAC,GAAGA,CAAC;MAClBgzI,YAAY,CAAC/wG,OAAO,CAAC,IAAI,CAAC5jD,UAAU,CAACyrJ,YAAY,CAAC;MAClDkJ,YAAY,CAAC7wG,QAAQ,CAAC;QACpBtF,SAAS,EAAE,CAACvwD,EAAE,GAAG+b,KAAK,CAACgnJ,kBAAkB,KAAK,IAAI,GAAG/iK,EAAE,GAAG+b,KAAK,CAACw0C,SAAS;QACzEC,YAAY,EAAEz0C,KAAK,CAACy0C;MACtB,CAAC,CAAC;MACF,OAAOk2G,YAAY,CAAC/nI,WAAW,CAAC,CAAC;IACnC,CAAC;IACD,MAAMkoI,wBAAwB,GAAGA,CAAC9qJ,KAAK,EAAEviB,IAAI,EAAEyiE,SAAS,KAAK;MAC3D,MAAMjmC,GAAG,GAAG2wI,WAAW,CAAC5qJ,KAAK,CAAC,CAAC6Z,IAAI,CAAC0hC,UAAU,GAAG,CAAC,CAAC;MACnD,MAAMhxD,KAAK,GAAGqgK,WAAW,CAACntK,IAAI,CAAC,CAACo8B,IAAI,CAAC0hC,UAAU,GAAG,CAAC,CAAC;MACpD,MAAMwvG,gBAAgB,GAAG9wI,GAAG,CAACp8B,CAAC,GAAG0M,KAAK,CAAC1M,CAAC,GAAG0M,KAAK,CAAC6V,KAAK,IAAI6Z,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,GAAG7V,KAAK,CAAC1M,CAAC,KAAKqiE,SAAS,KAAK,QAAQ,GAAGjmC,GAAG,CAACtC,CAAC,GAAGptB,KAAK,CAACotB,CAAC,GAAGptB,KAAK,CAACmuB,MAAM,GAAGuB,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,GAAGnuB,KAAK,CAACotB,CAAC,CAAC;MACjL,IAAIozI,gBAAgB,EAAE;QACpB,MAAM/xI,EAAE,GAAGknC,SAAS,KAAK,QAAQ,GAAGjmC,GAAG,CAACtC,CAAC,GAAGptB,KAAK,CAACotB,CAAC,GAAGptB,KAAK,CAACmuB,MAAM,GAAGuB,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,GAAGnuB,KAAK,CAACotB,CAAC;QACjGl6B,IAAI,CAACgkK,YAAY,CAACwF,gBAAgB,GAAGjuI,EAAE;MACzC;IACF,CAAC;IACD,MAAMgyI,gBAAgB,GAAIh/F,MAAM,IAAK;MACnC,MAAMi/F,QAAQ,GAAGj/F,MAAM,CAACh6D,KAAK,CAAC,CAAC,CAACy3C,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKX,IAAI,CAAC27B,GAAG,CAACj7B,CAAC,CAAC2qK,MAAM,CAAC,GAAGrrK,IAAI,CAAC27B,GAAG,CAACh7B,CAAC,CAAC0qK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1F,MAAM4E,QAAQ,GAAGl/F,MAAM,CAAC5vE,OAAO,CAAC6uK,QAAQ,CAAC;MACzC,KAAK,IAAItuK,CAAC,GAAGuuK,QAAQ,GAAG,CAAC,EAAEvuK,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;QACtC,MAAMi7C,IAAI,GAAGo0B,MAAM,CAACrvE,CAAC,GAAG,CAAC,CAAC;QAC1B,MAAMc,IAAI,GAAGuuE,MAAM,CAACrvE,CAAC,CAAC;QACtBmuK,wBAAwB,CAAClzH,IAAI,EAAEn6C,IAAI,EAAE,QAAQ,CAAC;MAChD;MACA,KAAK,IAAId,CAAC,GAAGuuK,QAAQ,GAAG,CAAC,EAAEvuK,CAAC,GAAGqvE,MAAM,CAACpvE,MAAM,EAAED,CAAC,EAAE,EAAE;QACjD,MAAMi7C,IAAI,GAAGo0B,MAAM,CAACrvE,CAAC,GAAG,CAAC,CAAC;QAC1B,MAAMc,IAAI,GAAGuuE,MAAM,CAACrvE,CAAC,CAAC;QACtBmuK,wBAAwB,CAAClzH,IAAI,EAAEn6C,IAAI,EAAE,WAAW,CAAC;MACnD;IACF,CAAC;IACD,MAAM0tK,gBAAgB,GAAIn/F,MAAM,IAAK;MACnC,MAAMo/F,sBAAsB,GAAGpyJ,IAAI,CAACjO,IAAI,CAAE81B,KAAK,IAAKA,KAAK,CAAC4gI,YAAY,CAACwF,gBAAgB,KAAK,CAAC,CAAC;MAC9F,MAAM/tI,KAAK,GAAG8yC,MAAM,CAAC/6D,GAAG,CAAE+O,KAAK,IAAK4qJ,WAAW,CAAC5qJ,KAAK,CAAC,CAAC;MACvD,MAAMqrJ,WAAW,GAAGnyI,KAAK,CAACjoB,GAAG,CAAEgpB,GAAG,IAAKA,GAAG,CAACzoB,KAAK,CAAC,CAAC,CAACqoB,IAAI,CAAC0hC,UAAU,GAAG,CAAC,CAAC,CAAC;MACxE,IAAI+vG,sBAAsB,GAAG,KAAK;MAClC,KAAK,IAAI3uK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0uK,WAAW,CAACzuK,MAAM,IAAI,CAAC0uK,sBAAsB,EAAE3uK,CAAC,EAAE,EAAE;QACtE,MAAMs9B,GAAG,GAAGoxI,WAAW,CAAC1uK,CAAC,CAAC;QAC1B,KAAK,IAAIyE,CAAC,GAAGzE,CAAC,GAAG,CAAC,EAAEyE,CAAC,GAAG4qE,MAAM,CAACpvE,MAAM,EAAEwE,CAAC,EAAE,EAAE;UAC1C,MAAMmJ,KAAK,GAAG8gK,WAAW,CAACjqK,CAAC,CAAC;UAC5B,IAAI64B,GAAG,CAACpB,YAAY,CAACtuB,KAAK,CAAC,EAAE;YAC3B+gK,sBAAsB,GAAG,IAAI;YAC7B;UACF;QACF;MACF;MACA,MAAMvI,OAAO,GAAGuH,QAAQ,CAACr5J,GAAG,CAAE4vB,KAAK,IAAK;QACtC,MAAM;UAAE2Y,UAAU;UAAEC,QAAQ;UAAEyhH;QAAY,CAAC,GAAGr6H,KAAK;QACnD,OAAO;UAAE2Y,UAAU;UAAEC,QAAQ;UAAEwkF,WAAW;UAAEi9B;QAAY,CAAC;MAC3D,CAAC,CAAC;MACF,MAAMqQ,oBAAoB,GAAGryI,KAAK,CAACnuB,IAAI,CAAEkvB,GAAG,IAAK;QAC/C,OAAO8oI,OAAO,CAACh4J,IAAI,CAAEqwJ,MAAM,IAAKM,iBAAiB,CAACzhI,GAAG,EAAEmhI,MAAM,CAAC,CAAC;MACjE,CAAC,CAAC;MACF,IAAI,CAACkQ,sBAAsB,IAAI,CAACF,sBAAsB,IAAI,CAACG,oBAAoB,EAAE;QAC/E;MACF;MACAv/F,MAAM,CAAC3/D,MAAM,CAAE5I,CAAC,IAAKA,CAAC,CAACg+J,YAAY,CAACjtG,SAAS,KAAK,QAAQ,CAAC,CAAC9+C,OAAO,CAAEjS,CAAC,IAAK;QACzE,MAAMuc,KAAK,GAAGvc,CAAC,CAACg+J,YAAY;QAC5B,IAAIh+J,CAAC,CAAC4iK,MAAM,GAAG,CAAC,EAAE;UAChBrmJ,KAAK,CAACgnJ,kBAAkB,GAAG,OAAO;QACpC,CAAC,MAAM,IAAIvjK,CAAC,CAAC4iK,MAAM,GAAG,CAAC,EAAE;UACvBrmJ,KAAK,CAACgnJ,kBAAkB,GAAG,MAAM;QACnC,CAAC,MAAM;UACLhnJ,KAAK,CAACgnJ,kBAAkB,GAAG,QAAQ;QACrC;MACF,CAAC,CAAC;IACJ,CAAC;IACDgE,gBAAgB,CAACT,UAAU,CAAC;IAC5BS,gBAAgB,CAACR,WAAW,CAAC;IAC7BW,gBAAgB,CAACV,SAAS,CAAC;IAC3BU,gBAAgB,CAACT,YAAY,CAAC;EAChC;EACA5B,uBAAuBA,CAAC7hD,UAAU,EAAE;IAClC,MAAM;MAAEm9C;IAAY,CAAC,GAAG,IAAI;IAC5B,MAAM;MAAE3C,YAAY;MAAEE;IAAY,CAAC,GAAG,IAAI,CAAC3rJ,UAAU;IACrD,MAAMkzJ,aAAa,GAAGvH,WAAW,CAAC/kK,MAAM;IACxC,MAAM;MAAEqJ,MAAM,EAAErB,OAAO;MAAEmb;IAAM,CAAC,GAAG0hJ,YAAY;IAC/C,MAAMkJ,YAAY,GAAG,IAAIhwG,IAAI,CAAC,CAAC;IAC/B,IAAI,CAACmqG,qBAAqB,CAAC17F,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC1zD,OAAO,CAAEgK,IAAI,IAAK;MACtE,IAAIzb,EAAE;MACN,MAAM;QAAE48B;MAAM,CAAC,GAAGnhB,IAAI;MACtB,MAAMM,KAAK,GAAG6gB,KAAK,CAAC4gI,YAAY;MAChC,MAAMpnH,MAAM,GAAG+pH,WAAW,CAAC5oH,OAAO,CAAC3a,KAAK,CAACwZ,MAAM,CAAC;MAChD,MAAM6gH,WAAW,GAAGjgK,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEu1C,MAAM,CAAC;MACvC,IAAI,EAAEr6B,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACN,IAAI,CAAC,IAAIw7I,WAAW,KAAK,CAAC,IAAIl7I,KAAK,CAACtU,MAAM,EAAE;QAC/EgU,IAAI,CAACqB,OAAO,GAAG,KAAK;QACpB;MACF;MACA,MAAM8pJ,WAAW,GAAG3P,WAAW,GAAGgO,aAAa,GAAGtkK,OAAO;MACzD,MAAM/G,CAAC,GAAGgjC,KAAK,CAACwlI,MAAM,GAAGwE,WAAW;MACpC,MAAMlzI,CAAC,GAAGkJ,KAAK,CAACylI,MAAM,GAAGuE,WAAW,GAAG7qJ,KAAK,CAACinJ,gBAAgB;MAC7D,MAAMp1G,KAAK,GAAG;QACZ2C,SAAS,EAAE,CAACvwD,EAAE,GAAG+b,KAAK,CAACgnJ,kBAAkB,KAAK,IAAI,GAAG/iK,EAAE,GAAG+b,KAAK,CAACw0C,SAAS;QACzEC,YAAY,EAAEz0C,KAAK,CAACy0C;MACtB,CAAC;MACDk2G,YAAY,CAACjrJ,IAAI,GAAGM,KAAK,CAACN,IAAI;MAC9BirJ,YAAY,CAAC9sK,CAAC,GAAGA,CAAC;MAClB8sK,YAAY,CAAChzI,CAAC,GAAGA,CAAC;MAClBgzI,YAAY,CAAC/wG,OAAO,CAAC,IAAI,CAAC5jD,UAAU,CAACyrJ,YAAY,CAAC;MAClDkJ,YAAY,CAAC7wG,QAAQ,CAACjI,KAAK,CAAC;MAC5B,MAAM53B,GAAG,GAAG0wI,YAAY,CAAC/nI,WAAW,CAAC,CAAC;MACtC,IAAI4oI,WAAW,GAAGxrJ,KAAK,CAACN,IAAI;MAC5B,IAAIqB,OAAO,GAAG,IAAI;MAClB,IAAI0gJ,YAAY,CAACvhJ,eAAe,EAAE;QAChC,MAAM;UAAE6pJ,UAAU;UAAED;QAAoB,CAAC,GAAG,IAAI,CAACP,gBAAgB,CAACvpJ,KAAK,CAACN,IAAI,EAAEua,GAAG,EAAEgtF,UAAU,CAAC;QAC9FukD,WAAW,GAAGxrJ,KAAK,CAACN,IAAI,CAAC9iB,MAAM,KAAKmtK,UAAU,GAAG/pJ,KAAK,CAACN,IAAI,GAAG,GAAGM,KAAK,CAACN,IAAI,CAAC6lB,SAAS,CAAC,CAAC,EAAEwkI,UAAU,CAAC,QAAQ;QAC5GhpJ,OAAO,GAAG,CAAC+oJ,mBAAmB;MAChC;MACApqJ,IAAI,CAACA,IAAI,GAAG8rJ,WAAW;MACvB9rJ,IAAI,CAAC7hB,CAAC,GAAGA,CAAC;MACV6hB,IAAI,CAACiY,CAAC,GAAGA,CAAC;MACVjY,IAAI,CAACk6C,OAAO,CAAC,IAAI,CAAC5jD,UAAU,CAACyrJ,YAAY,CAAC;MAC1C/hJ,IAAI,CAACo6C,QAAQ,CAACjI,KAAK,CAAC;MACpBnyC,IAAI,CAACiB,IAAI,GAAGZ,KAAK;MACjBL,IAAI,CAACqB,OAAO,GAAGA,OAAO;IACxB,CAAC,CAAC;EACJ;EACA2iJ,iBAAiBA,CAACliK,OAAO,EAAEylH,UAAU,EAAE;IACrC,OAAOjqH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEykK,YAAY;QAAEE;MAAY,CAAC,GAAG,IAAI,CAAC3rJ,UAAU;MACrD,MAAMkzJ,aAAa,GAAGvH,WAAW,CAAC/kK,MAAM;MACxC,MAAM;QAAEqJ,MAAM,EAAErB,OAAO;QAAEm8J,kBAAkB;QAAExlG;MAAW,CAAC,GAAGkmG,YAAY;MACxE,IAAI,CAACA,YAAY,CAACvhJ,eAAe,EAAE;QACjC,OAAO,IAAI;MACb;MACA,MAAM,IAAI,CAACslJ,oBAAoB,CAAC,CAAC;MACjC,IAAI,CAACqC,iBAAiB,CAAC,KAAK,CAAC;MAC7B,IAAI,CAACuC,mCAAmC,CAAC,CAAC;MAC1C,MAAMqB,SAAS,GAAG,EAAE;MACpB,MAAM/rJ,IAAI,GAAG,IAAIi7C,IAAI,CAAC,CAAC;MACvB,IAAIwhB,QAAQ;MACZ,MAAM;QAAE38D;MAAM,CAAC,GAAG,IAAI,CAACxJ,UAAU;MACjC,IAAI,CAACwJ,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACE,IAAI,KAAKF,KAAK,CAACC,OAAO,EAAE;QAC1D,MAAMuZ,EAAE,GAAG,IAAI,CAAC+uI,oBAAoB,CAAC,CAAC;QACtC,IAAIh4J,QAAQ,CAACipB,EAAE,CAAC,EAAE;UAChBtZ,IAAI,CAACA,IAAI,GAAGF,KAAK,CAACE,IAAI;UACtBA,IAAI,CAAC7hB,CAAC,GAAG,CAAC;UACV6hB,IAAI,CAACiY,CAAC,GAAGqB,EAAE;UACXtZ,IAAI,CAACk6C,OAAO,CAACp6C,KAAK,CAAC;UACnBE,IAAI,CAACo6C,QAAQ,CAAC;YACZrF,YAAY,EAAE,QAAQ;YACtBD,SAAS,EAAE;UACb,CAAC,CAAC;UACF2nB,QAAQ,GAAGz8D,IAAI,CAACkjB,WAAW,CAAC,CAAC;UAC7B6oI,SAAS,CAACnnK,IAAI,CAAC63E,QAAQ,CAAC;QAC1B;MACF;MACA,IAAI,CAACikD,QAAQ,CAAC1qH,OAAO,CAAEmrB,KAAK,IAAK;QAC/B,IAAI58B,EAAE;QACN,MAAM+b,KAAK,GAAG6gB,KAAK,CAAC4gI,YAAY;QAChC,IAAI,CAACzhJ,KAAK,IAAI6gB,KAAK,CAACq6H,WAAW,KAAK,CAAC,EAAE;UACrC,OAAO,IAAI;QACb;QACA,MAAM2P,WAAW,GAAGhqI,KAAK,CAACq6H,WAAW,GAAGgO,aAAa,GAAGtkK,OAAO;QAC/D,MAAM/G,CAAC,GAAGgjC,KAAK,CAACwlI,MAAM,GAAGwE,WAAW;QACpC,MAAMlzI,CAAC,GAAGkJ,KAAK,CAACylI,MAAM,GAAGuE,WAAW,GAAG7qJ,KAAK,CAACinJ,gBAAgB;QAC7DvnJ,IAAI,CAACA,IAAI,GAAGM,KAAK,CAACN,IAAI;QACtBA,IAAI,CAAC7hB,CAAC,GAAGA,CAAC;QACV6hB,IAAI,CAACiY,CAAC,GAAGA,CAAC;QACVjY,IAAI,CAACk6C,OAAO,CAAC,IAAI,CAAC5jD,UAAU,CAACyrJ,YAAY,CAAC;QAC1C/hJ,IAAI,CAACo6C,QAAQ,CAAC;UACZtF,SAAS,EAAE,CAACvwD,EAAE,GAAG+b,KAAK,CAACgnJ,kBAAkB,KAAK,IAAI,GAAG/iK,EAAE,GAAG+b,KAAK,CAACw0C,SAAS;UACzEC,YAAY,EAAEz0C,KAAK,CAACy0C;QACtB,CAAC,CAAC;QACF,MAAMx6B,GAAG,GAAGva,IAAI,CAACkjB,WAAW,CAAC,CAAC;QAC9B5iB,KAAK,CAACia,GAAG,GAAGA,GAAG;QACf,IAAIh/B,IAAI,CAAC27B,GAAG,CAAC5W,KAAK,CAACinJ,gBAAgB,CAAC,GAAGlG,kBAAkB,EAAE;UACzD/gJ,KAAK,CAACtU,MAAM,GAAG,IAAI;UACnB;QACF;QACA,IAAIywE,QAAQ,EAAE;UACZ,MAAMutF,SAAS,GAAGziD,UAAU,CAACtvF,CAAC,GAAG,IAAI,CAACyiB,OAAO;UAC7C,MAAMsxH,cAAc,GAAG,IAAIvxI,IAAI,CAC7BgiD,QAAQ,CAACt+E,CAAC,GAAG09D,UAAU,EACvBmuG,SAAS,EACTvtF,QAAQ,CAAC/7D,KAAK,GAAG,CAAC,GAAGm7C,UAAU,EAC/B4gB,QAAQ,CAACxkD,CAAC,GAAGwkD,QAAQ,CAACzjD,MAAM,GAAG6iC,UAAU,GAAGmuG,SAC9C,CAAC;UACD,IAAIzvI,GAAG,CAACpB,YAAY,CAAC6yI,cAAc,CAAC,EAAE;YACpC1rJ,KAAK,CAACtU,MAAM,GAAG,IAAI;YACnB;UACF;QACF;QACA,IAAIlK,OAAO,CAACmqK,iBAAiB,EAAE;UAC7B,MAAM;YAAE5B,UAAU;YAAED,mBAAmB;YAAEE;UAA6B,CAAC,GAAG,IAAI,CAACT,gBAAgB,CAC7FvpJ,KAAK,CAACN,IAAI,EACVua,GAAG,EACHgtF,UACF,CAAC;UACD,MAAM2kD,UAAU,GAAG5rJ,KAAK,CAACN,IAAI,CAAC9iB,MAAM,GAAG,CAAC,IAAImtK,UAAU,GAAG,CAAC;UAC1D,IAAID,mBAAmB,IAAI8B,UAAU,IAAI5B,4BAA4B,EAAE;YACrEhqJ,KAAK,CAACtU,MAAM,GAAG,IAAI;YACnB;UACF;QACF;QACAsU,KAAK,CAACtU,MAAM,GAAG,KAAK;QACpB+/J,SAAS,CAACnnK,IAAI,CAAC21B,GAAG,CAAC;MACrB,CAAC,CAAC;MACF,IAAIwxI,SAAS,CAAC7uK,MAAM,KAAK,CAAC,EAAE;QAC1B,OAAO,IAAI;MACb;MACA,OAAOu9B,IAAI,CAACH,KAAK,CAACyxI,SAAS,CAAC;IAC9B,CAAC,CAAC;EACJ;EACA1C,sBAAsBA,CAAA,EAAG;IACvB,MAAM;MAAE3E;IAAY,CAAC,GAAG,IAAI;IAC5B,MAAMnmC,WAAW,GAAGmmC,WAAW,CAAC5oH,OAAO,CAAC,CAAC,CAAC;IAC1C,MAAM;MAAE37B,QAAQ;MAAEg6C,SAAS;MAAEj6C,UAAU;MAAEE,UAAU;MAAEmhJ,cAAc;MAAEC,aAAa;MAAEnhJ;IAAM,CAAC,GAAG,IAAI,CAAC/J,UAAU,CAAC0rJ,WAAW;IACzH,IAAI,CAACqD,oBAAoB,CAACp7F,IAAI,CAAC,CAACjqD,IAAI,EAAEmhB,KAAK,KAAK;MAC9C,MAAM;QAAE6gI,WAAW;QAAExG;MAAY,CAAC,GAAGr6H,KAAK;MAC1C,IAAIgrI,aAAa,GAAG,KAAK;MACzB,IAAInK,WAAW,IAAIxG,WAAW,KAAK,CAAC,EAAE;QACpC,MAAM2P,WAAW,GAAG5sC,WAAW,IAAI,CAAC,GAAGijC,aAAa,CAAC,GAAGhG,WAAW,GAAGgG,aAAa,GAAGD,cAAc;QACpGvhJ,IAAI,CAACiB,IAAI,GAAGZ,KAAK;QACjBL,IAAI,CAACm6C,SAAS,GAAGA,SAAS;QAC1Bn6C,IAAI,CAACE,UAAU,GAAGA,UAAU;QAC5BF,IAAI,CAACG,QAAQ,GAAGA,QAAQ;QACxBH,IAAI,CAACI,UAAU,GAAGA,UAAU;QAC5BJ,IAAI,CAACA,IAAI,GAAGgiJ,WAAW,CAAChiJ,IAAI;QAC5BA,IAAI,CAAC7hB,CAAC,GAAGgjC,KAAK,CAACwlI,MAAM,GAAGwE,WAAW;QACnCnrJ,IAAI,CAACiY,CAAC,GAAGkJ,KAAK,CAACylI,MAAM,GAAGuE,WAAW;QACnCnrJ,IAAI,CAAC80C,SAAS,GAAG,QAAQ;QACzB90C,IAAI,CAAC+0C,YAAY,GAAG,QAAQ;QAC5B,MAAM13B,IAAI,GAAGrd,IAAI,CAACkjB,WAAW,CAAC,CAAC;QAC/B,MAAMqnI,OAAO,GAAG,CACd,CAACltI,IAAI,CAACl/B,CAAC,EAAEk/B,IAAI,CAACpF,CAAC,CAAC,EAChB,CAACoF,IAAI,CAACl/B,CAAC,GAAGk/B,IAAI,CAAC3c,KAAK,EAAE2c,IAAI,CAACpF,CAAC,CAAC,EAC7B,CAACoF,IAAI,CAACl/B,CAAC,GAAGk/B,IAAI,CAAC3c,KAAK,EAAE2c,IAAI,CAACpF,CAAC,GAAGoF,IAAI,CAACrE,MAAM,CAAC,EAC3C,CAACqE,IAAI,CAACl/B,CAAC,EAAEk/B,IAAI,CAACpF,CAAC,GAAGoF,IAAI,CAACrE,MAAM,CAAC,CAC/B;QACD,MAAM;UAAE8gB,UAAU;UAAEC;QAAS,CAAC,GAAG5Y,KAAK;QACtC,MAAMirI,YAAY,GAAG;UAAEtyH,UAAU;UAAEC,QAAQ;UAAEwkF,WAAW;UAAEi9B;QAAY,CAAC;QACvE,IAAI+O,OAAO,CAACtlK,KAAK,CAAC,CAAC,CAAC9G,CAAC,EAAE85B,CAAC,CAAC,KAAKwjI,eAAe,CAACt9J,CAAC,EAAE85B,CAAC,EAAEm0I,YAAY,CAAC,CAAC,EAAE;UAClED,aAAa,GAAG,IAAI;QACtB;MACF;MACAnsJ,IAAI,CAACqB,OAAO,GAAG8qJ,aAAa;IAC9B,CAAC,CAAC;EACJ;EACA7C,qBAAqBA,CAAA,EAAG;IACtB,MAAM+C,UAAU,GAAG,EAAE;IACrB,MAAMC,OAAO,GAAG,EAAE;IAClB,IAAI,CAAChH,oBAAoB,CAACr7F,IAAI,CAAC,CAACjqD,IAAI,EAAEmhB,KAAK,KAAK;MAC9C,MAAM;QAAEg5B,SAAS;QAAEj6C,UAAU;QAAEC,QAAQ;QAAEC,UAAU;QAAEC;MAAM,CAAC,GAAG8gB,KAAK;MACpEnhB,IAAI,CAACm6C,SAAS,GAAGA,SAAS;MAC1Bn6C,IAAI,CAACE,UAAU,GAAGA,UAAU;MAC5BF,IAAI,CAACG,QAAQ,GAAGA,QAAQ;MACxBH,IAAI,CAACI,UAAU,GAAGA,UAAU;MAC5BJ,IAAI,CAACA,IAAI,GAAGmhB,KAAK,CAACnhB,IAAI;MACtBA,IAAI,CAAC7hB,CAAC,GAAG,CAAC;MACV6hB,IAAI,CAACiY,CAAC,GAAG,CAAC;MACVjY,IAAI,CAACiB,IAAI,GAAGZ,KAAK;MACjBL,IAAI,CAAC80C,SAAS,GAAG,QAAQ;MACzB90C,IAAI,CAAC+0C,YAAY,GAAG,YAAY;MAChCs3G,UAAU,CAACznK,IAAI,CAACob,IAAI,CAACkjB,WAAW,CAAC,CAAC,CAAC;MACnCopI,OAAO,CAAC1nK,IAAI,CAACu8B,KAAK,CAACm3E,MAAM,CAAC;IAC5B,CAAC,CAAC;IACF,MAAMi0D,YAAY,GAAIrhK,KAAK,IAAKA,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGohK,OAAO,CAACphK,KAAK,CAAC;IAChE,MAAMshK,eAAe,GAAIthK,KAAK,IAAKA,KAAK,KAAKohK,OAAO,CAACpvK,MAAM,GAAG,CAAC,GAAG,CAAC,GAAGovK,OAAO,CAACphK,KAAK,CAAC;IACpF,MAAMirD,WAAW,GAAGk2G,UAAU,CAACn9J,MAAM,CAAC,CAAC4qD,IAAI,EAAEz8B,IAAI,EAAEpgC,CAAC,KAAK;MACvD,OAAO68D,IAAI,GAAGz8B,IAAI,CAACrE,MAAM,GAAGuzI,YAAY,CAACtvK,CAAC,CAAC,GAAGuvK,eAAe,CAACvvK,CAAC,CAAC;IAClE,CAAC,EAAE,CAAC,CAAC;IACL,MAAMivI,UAAU,GAAG3wI,IAAI,CAAC6J,GAAG,CAAC,GAAGinK,UAAU,CAAC96J,GAAG,CAAE8rB,IAAI,IAAKA,IAAI,CAAC3c,KAAK,CAAC,CAAC;IACpE,MAAM69G,WAAW,GAAG,IAAI,CAAC0pC,cAAc,CAAC,CAAC;IACzC,MAAMkD,WAAW,GAAG5vK,IAAI,CAACs1D,IAAI,CAACt1D,IAAI,CAACC,GAAG,CAAC0wI,UAAU,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG3wI,IAAI,CAACC,GAAG,CAAC26D,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IACzF,MAAMs2G,aAAa,GAAGtB,WAAW,KAAK5sC,WAAW,GAAG,CAAC,GAAGA,WAAW,GAAG,IAAI,CAAC2pC,cAAc,CAAC,CAAC,CAAC;IAC5F,MAAMwE,WAAW,GAAG,EAAE;IACtB,KAAK,IAAIzvK,CAAC,GAAG,CAAC,EAAEi7C,IAAI,GAAG,CAACie,WAAW,GAAG,CAAC,EAAEl5D,CAAC,GAAGovK,UAAU,CAACnvK,MAAM,EAAED,CAAC,EAAE,EAAE;MACnE,MAAMogC,IAAI,GAAGgvI,UAAU,CAACpvK,CAAC,CAAC;MAC1B,MAAMilB,MAAM,GAAGmb,IAAI,CAACrE,MAAM,GAAGkf,IAAI,GAAGq0H,YAAY,CAACtvK,CAAC,CAAC;MACnDyvK,WAAW,CAAC9nK,IAAI,CAACsd,MAAM,CAAC;MACxBg2B,IAAI,GAAGh2B,MAAM,GAAGsqJ,eAAe,CAACvvK,CAAC,CAAC;IACpC;IACA,IAAI,CAACqoK,oBAAoB,CAACr7F,IAAI,CAAC,CAACjqD,IAAI,EAAEohB,MAAM,EAAEl2B,KAAK,KAAK;MACtD8U,IAAI,CAACiY,CAAC,GAAGy0I,WAAW,CAACxhK,KAAK,CAAC;MAC3B8U,IAAI,CAACqB,OAAO,GAAGorJ,aAAa;IAC9B,CAAC,CAAC;EACJ;EACAlD,kBAAkBA,CAAA,EAAG;IACnB,IAAI,CAAC1E,gBAAgB,CAAChjJ,IAAI,GAAG,IAAI,CAACqmJ,cAAc,CAAC,CAAC,GAAG,CAAC;IACtD,IAAI,CAACpD,gBAAgB,CAACjjJ,IAAI,GAAG,IAAI,CAAComJ,cAAc,CAAC,CAAC,GAAG,CAAC;EACxD;EACA0E,kBAAkBA,CAAC1rC,SAAS,EAAE;IAC5B,MAAM;MAAEmjC,QAAQ;MAAEE,eAAe;MAAEC,cAAc;MAAEiB;IAAc,CAAC,GAAG,IAAI,CAAClvJ,UAAU;IACpF,MAAM;MAAE0rJ,WAAW;MAAED,YAAY;MAAEyF;IAAW,CAAC,GAAGvmC,SAAS;IAC3D,IAAIukC,aAAa,IAAIgC,UAAU,KAAK,KAAK,CAAC,EAAE;MAC1C,OAAOA,UAAU,CAACxnJ,IAAI;IACxB,CAAC,MAAM,IAAIskJ,eAAe,IAAIA,eAAe,KAAKF,QAAQ,IAAI,CAACrC,YAAY,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,YAAY,CAAC/hJ,IAAI,MAAM,KAAK,CAAC,EAAE;MAC5H,OAAO+hJ,YAAY,CAAC/hJ,IAAI;IAC1B,CAAC,MAAM,IAAIukJ,cAAc,IAAIA,cAAc,KAAKH,QAAQ,IAAI,CAACpC,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAChiJ,IAAI,MAAM,KAAK,CAAC,EAAE;MACxH,OAAOgiJ,WAAW,CAAChiJ,IAAI;IACzB;EACF;EACA4hG,oBAAoBA,CAAC/rD,KAAK,EAAE;IAC1B,OAAOutG,mBAAmB,CAAC,IAAI,EAAEvtG,KAAK,CAAC;EACzC;EACAi6D,cAAcA,CAACmR,SAAS,EAAE;IACxB,IAAI18H,EAAE;IACN,IAAI,CAAC,IAAI,CAAC+R,UAAU,CAACQ,OAAO,CAAC,CAAC,EAAE;MAC9B,OAAO83D,qBAAqB;IAC9B;IACA,MAAM;MACJztC,KAAK;MACLmlI,UAAU;MACVvD,YAAY,EAAE;QAAE9hJ,IAAI,EAAEZ;MAAM,CAAC;MAC7B+8E;IACF,CAAC,GAAG6jC,SAAS;IACb,MAAMnhH,KAAK,GAAG6jI,YAAY,CAAC,CAACp/I,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwJ,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvb,EAAE,CAACyb,IAAI,CAAC;IACnF,MAAMgkD,OAAO,GAAG5zD,cAAc,CAACk2J,UAAU,CAAC,GAAGl4I,OAAO,CAACk4I,UAAU,CAAC,GAAGvrH,MAAM,CAACurH,UAAU,CAAC;IACrF,MAAM1rB,SAAS,GAAG,IAAI,CAAC+xB,kBAAkB,CAAC1rC,SAAS,CAAC;IACpD,OAAO,IAAI,CAAC3qH,UAAU,CAACoL,OAAO,CAACytD,aAAa,CAC1C;MACErvD,KAAK,EAAEA,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAG86H,SAAS;MACxC52E,OAAO,EAAElkD,KAAK,IAAI86H,SAAS,GAAG,GAAGA,SAAS,KAAK52E,OAAO,EAAE,GAAGA,OAAO;MAClEoL,eAAe,EAAE/uD;IACnB,CAAC,EACD;MACE8gB,KAAK;MACLi8D,MAAM;MACNt9E,KAAK;MACLO,KAAK;MACL89F,QAAQ,EAAE,IAAI,CAAC59E,EAAE;MACjB6jI,QAAQ,EAAE,IAAI,CAAC9tJ,UAAU,CAAC8tJ,QAAQ;MAClC6C,SAAS,EAAE,IAAI,CAAC3wJ,UAAU,CAAC2wJ,SAAS;MACpC5C,SAAS,EAAE,IAAI,CAAC/tJ,UAAU,CAAC+tJ,SAAS;MACpC6C,UAAU,EAAE,IAAI,CAAC5wJ,UAAU,CAAC4wJ,UAAU;MACtC5C,eAAe,EAAE,IAAI,CAAChuJ,UAAU,CAACguJ,eAAe;MAChD6C,gBAAgB,EAAE,IAAI,CAAC7wJ,UAAU,CAAC6wJ,gBAAgB;MAClD5C,cAAc,EAAE,IAAI,CAACjuJ,UAAU,CAACiuJ,cAAc;MAC9C6C,eAAe,EAAE,IAAI,CAAC9wJ,UAAU,CAAC8wJ,eAAe;MAChD5B,aAAa,EAAE,IAAI,CAAClvJ,UAAU,CAACkvJ;IACjC,CACF,CAAC;EACH;EACAh3C,aAAaA,CAACvzG,UAAU,EAAE;IACxB,IAAI1W,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;IACtB,MAAM;MAAE7P,OAAO;MAAEkqF,aAAa;MAAEyG;IAAU,CAAC,GAAG,IAAI;IAClD,IAAI,CAACA,SAAS,IAAI,EAAEzG,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACjyF,IAAI,CAACpc,MAAM,CAAC,IAAI,CAAC,IAAI,CAACoZ,UAAU,CAACQ,OAAO,CAAC,CAAC,IAAImE,UAAU,KAAK,UAAU,EAAE;MAC1I,OAAO,EAAE;IACX;IACA,MAAM;MAAEmpJ,QAAQ;MAAEE,eAAe;MAAEC,cAAc;MAAEiB;IAAc,CAAC,GAAG,IAAI,CAAClvJ,UAAU;IACpF,IAAI,CAACkvJ,aAAa,KAAK,CAAClB,eAAe,IAAIA,eAAe,KAAKF,QAAQ,CAAC,KAAK,CAACG,cAAc,IAAIA,cAAc,KAAKH,QAAQ,CAAC,EAC1H,OAAO,EAAE;IACX,MAAM;MAAE8B,eAAe;MAAEC,cAAc;MAAEC;IAAc,CAAC,GAAG,IAAI,CAACL,uBAAuB,CAAC/zD,SAAS,CAAC;IAClG,MAAM46D,SAAS,GAAG,CAAC,CAACroK,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwJ,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvb,EAAE,CAAC+c,YAAY,KAAK,IAAI,CAAChL,UAAU,CAACwJ,KAAK,CAACE,IAAI;IACjH,MAAM2uG,UAAU,GAAG,EAAE;IACrB,KAAK,IAAIzjH,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGqgG,aAAa,CAACjyF,IAAI,CAACpc,MAAM,EAAEgO,KAAK,EAAE,EAAE;MAC9D,MAAM;QAAEi2B,KAAK;QAAErwB;MAAO,CAAC,GAAGy6F,aAAa,CAACjyF,IAAI,CAACpO,KAAK,CAAC;MACnD,MAAM2hK,UAAU,GAAG,EAAE;MACrB,IAAID,SAAS,EAAE;QACbC,UAAU,CAACjoK,IAAI,CAACgoK,SAAS,CAAC;MAC5B;MACA,MAAMtgG,MAAM,GAAG,IAAI,CAACm6F,SAAS,CAC3BtlI,KAAK,EACL,CAAC,GAAG5lC,IAAI,CAACwsC,EAAE,EACX,CAAC,GAAGxsC,IAAI,CAACwsC,EAAE,EACX,KAAK,EACLj3B,MAAM,CAACo1J,eAAe,CAAC,EACvBp1J,MAAM,CAACq1J,cAAc,CAAC,EACtBr1J,MAAM,CAACs1J,aAAa,CACtB,CAAC;MACD,IAAIZ,aAAa,IAAIl5F,MAAM,CAACk7F,UAAU,KAAK,KAAK,CAAC,EAAE;QACjDqF,UAAU,CAACjoK,IAAI,CAAC0nE,MAAM,CAACk7F,UAAU,CAACxnJ,IAAI,CAAC;MACzC,CAAC,MAAM,IAAIskJ,eAAe,IAAIA,eAAe,KAAKF,QAAQ,IAAI,CAAC,CAACvvJ,EAAE,GAAGy3D,MAAM,CAACy1F,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGltJ,EAAE,CAACmL,IAAI,MAAM,KAAK,CAAC,EAAE;QAChI6sJ,UAAU,CAACjoK,IAAI,CAAC,CAACkQ,EAAE,GAAGw3D,MAAM,CAACy1F,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjtJ,EAAE,CAACkL,IAAI,CAAC;MACxE,CAAC,MAAM,IAAIukJ,cAAc,IAAIA,cAAc,KAAKH,QAAQ,IAAI,CAAC,CAAC3uJ,EAAE,GAAG62D,MAAM,CAAC01F,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvsJ,EAAE,CAACuK,IAAI,MAAM,KAAK,CAAC,EAAE;QAC7H6sJ,UAAU,CAACjoK,IAAI,CAAC,CAACssB,EAAE,GAAGo7C,MAAM,CAAC01F,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG9wI,EAAE,CAAClR,IAAI,CAAC;MACvE;MACA,IAAI6sJ,UAAU,CAAC3vK,MAAM,KAAK,CAAC,EACzB;MACF,MAAM6lK,YAAY,GAAG,IAAI,CAAC2D,eAAe,CAACvlI,KAAK,EAAEj2B,KAAK,EAAE,KAAK,CAAC;MAC9DyjH,UAAU,CAAC/pH,IAAI,CAAC;QACdqW,UAAU,EAAE,UAAU;QACtBslB,EAAE,EAAE,IAAI,CAACA,EAAE;QACX68D,MAAM,EAAElyF,KAAK;QACbizG,QAAQ,EAAE,IAAI,CAAC59E,EAAE;QACjBxgB,OAAO,EAAEsB,OAAO,IAAI,IAAI,CAACw/G,iBAAiB,CAAC31H,KAAK,CAAC;QACjDoV,KAAK,EAAE;UACLN,IAAI,EAAE6sJ,UAAU,CAACz2J,IAAI,CAAC,KAAK;QAC7B,CAAC;QACDyM,MAAM,EAAE;UACN5B,IAAI,EAAE8hJ,YAAY,CAAC9hJ,IAAI;UACvBH,MAAM,EAAEiiJ,YAAY,CAACjiJ,MAAM;UAC3BI,WAAW,EAAE,IAAI,CAAC5K,UAAU,CAAC4K,WAAW;UACxCmwC,aAAa,EAAE,IAAI,CAAC/6C,UAAU,CAAC+6C,aAAa;UAC5ClwC,WAAW,EAAE,IAAI,CAAC7K,UAAU,CAAC6K;QAC/B,CAAC;QACDk8E,cAAc,EAAEmoE,aAAa,IAAI,IAAI,GAAGrkI,KAAK,CAACqkI,aAAa,CAAC,GAAG,KAAK;MACtE,CAAC,CAAC;IACJ;IACA,OAAO72C,UAAU;EACnB;EACAuV,iBAAiBA,CAACvgE,KAAK,EAAE;IACvB,MAAM;MAAE5jD,OAAO;MAAEq9E,MAAM;MAAEroF,MAAM;MAAEsoF;IAAe,CAAC,GAAG15B,KAAK;IACzD,IAAI5uD,MAAM,CAACwrB,EAAE,KAAK,IAAI,CAACA,EAAE,EAAE;MACzB,IAAI,CAAC4hF,gBAAgB,CAAC/kB,MAAM,EAAEr9E,OAAO,CAAC;IACxC,CAAC,MAAM,IAAIs9E,cAAc,IAAI,IAAI,EAAE;MACjC,IAAI,CAACyvE,sBAAsB,CAACzvE,cAAc,EAAEt9E,OAAO,CAAC;IACtD;EACF;EACAoiG,gBAAgBA,CAAC/kB,MAAM,EAAEr9E,OAAO,EAAE;IAChC,IAAI,CAAC8gH,iBAAiB,CAACzjC,MAAM,CAAC,GAAGr9E,OAAO;IACxC,IAAI,CAAC6+F,eAAe,GAAG,IAAI;EAC7B;EACAkuD,sBAAsBA,CAACzvE,cAAc,EAAEt9E,OAAO,EAAE;IAC9C,IAAIxb,EAAE;IACN,IAAI,CAAC,IAAI,CAAC+R,UAAU,CAACkvJ,aAAa,IAAI,CAAC,IAAI,CAACxzD,SAAS,EAAE;MACrD;IACF;IACA,MAAMo0D,aAAa,GAAG,IAAI,CAACp0D,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,iBAAiB,CAAC;IAC3F,CAAC3mG,EAAE,GAAG,IAAI,CAACgnG,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhnG,EAAE,CAAC+U,IAAI,CAACtD,OAAO,CAAC,CAAC;MAAElF;IAAO,CAAC,EAAEi8J,WAAW,KAAK;MACxF,IAAIj8J,MAAM,CAACs1J,aAAa,CAAC,KAAK/oE,cAAc,EAAE;QAC5C,IAAI,CAAC8kB,gBAAgB,CAAC4qD,WAAW,EAAEhtJ,OAAO,CAAC;MAC7C;IACF,CAAC,CAAC;EACJ;EACAqjH,uBAAuBA,CAAC3jB,KAAK,EAAE;IAC7B,MAAM;MAAEroE;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IACrC,MAAMr7B,GAAG,GAAG0/J,kCAAkC,CAC5C,IAAI,EACJ,IAAI,CAAChsJ,UAAU,CAACmoB,QAAQ,EACxB,IAAI,CAACimI,WAAW,EAChB,IAAI,CAACD,mBACP,CAAC;IACDtuI,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,OAAO,EAAE6W,gBAAgB,EAAE,CAAC,IAAI,CAAC4hG,aAAa,EAAE,IAAI,CAACpW,kBAAkB,CAAC,EAAEhgI,GAAG,CAAC0/B,KAAK,CAAC;IAC1GnM,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,aAAa,EAAE6W,gBAAgB,EAAE,CAAC,IAAI,CAACmuH,oBAAoB,CAAC,EAAE3iK,GAAG,CAACk/J,WAAW,CAAC;IACpGle,0BAA0B,CAAC,IAAI,EAAE,SAAS,EAAExsG,gBAAgB,EAAE,IAAI,CAACguH,qBAAqB,CAAC;IACzFxhB,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAExsG,gBAAgB,EAAE,IAAI,CAACiuH,oBAAoB,CAAC;IACvFzhB,0BAA0B,CAAC,IAAI,EAAE,OAAO,EAAExsG,gBAAgB,EAAE,IAAI,CAACkuH,oBAAoB,CAAC;IACtF,IAAI,CAACb,mBAAmB,CAACtgK,KAAK,GAAG,IAAI,CAACugK,WAAW,CAACvgK,KAAK;EACzD;EACAw/H,yBAAyBA,CAAA,EAAG;IAC1B,IAAIp/H,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE,EAAEkkB,EAAE;IAC1B,MAAM;MAAE4jG,aAAa;MAAEpW,kBAAkB;MAAEr3B,aAAa;MAAEm5D,WAAW;MAAED;IAAoB,CAAC,GAAG,IAAI;IACnG,MAAM;MAAErtH;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IACrC,MAAMk3H,QAAQ,GAAG,CAAC5wJ,EAAE,GAAGgnG,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACyE,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGzrG,EAAE,CAAC8yG,IAAI;IACzG,IAAI,CAACp5E,GAAG,CAACmZ,gBAAgB,CAACg/C,sBAAsB,CAAC,IAAI,CAAC71D,EAAE,CAAC;IACzD,MAAMysI,aAAa,GAAG,CAAC,CAACn4J,EAAE,GAAGsgJ,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACt4C,KAAK,CAACh7F,IAAI,KAAK,IAAI,GAAGhN,EAAE,GAAG,CAAC,MAAM,CAAC;IACrG,MAAMo4J,OAAO,GAAG,CAAC,CAACn4J,EAAE,GAAGy2F,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACD,IAAI,CAAC7+F,IAAI,CAACvP,MAAM,KAAK,IAAI,GAAG4X,EAAE,GAAG,CAAC,IAAI,CAAC;IAC7G,MAAMo4J,aAAa,GAAG,CAAC93H,EAAE,GAAG,CAAClkB,EAAE,GAAG,CAACzb,EAAE,GAAG81F,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACyE,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGv6F,EAAE,CAAC+lG,mBAAmB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtqF,EAAE,CAACwqF,UAAU,KAAK,IAAI,GAAGtmE,EAAE,GAAG,IAAI;IAChM,IAAI,CAAC43H,aAAa,IAAI,CAACC,OAAO,IAAI,CAACC,aAAa,EAAE;MAChD,IAAI,CAACjvI,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC9C;IACA,MAAMj5F,GAAG,GAAG0/J,kCAAkC,CAC5C,KAAK,EACL,IAAI,CAAChsJ,UAAU,CAACmoB,QAAQ,EACxBimI,WAAW,EACXD,mBACF,CAAC;IACDtuI,YAAY,CACV,IAAI,CAACoK,EAAE,EACP,OAAO,EACP6W,gBAAgB,EAChB,CAAC4hG,aAAa,EAAEpW,kBAAkB,CAAC,EACnChgI,GAAG,CAAC0/B,KAAK,EACT,CAAC7S,CAAC,EAAE0R,KAAK,KAAK,IAAI,CAACkW,UAAU,CAAClW,KAAK,CAAC,EACpCg0H,QACF,CAAC;IACDh/H,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,aAAa,EAAE6W,gBAAgB,EAAE,CAAC,IAAI,CAACmuH,oBAAoB,CAAC,EAAE3iK,GAAG,CAACk/J,WAAW,CAAC;IACpGle,0BAA0B,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACguH,qBAAqB,CAAC;IAClGxhB,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACiuH,oBAAoB,CAAC;IAChGzhB,0BAA0B,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACkuH,oBAAoB,CAAC;IAC/F,IAAI,CAACb,mBAAmB,CAACtgK,KAAK,GAAG,IAAI,CAACugK,WAAW,CAACvgK,KAAK;EACzD;EACA4/H,0BAA0BA,CAAA,EAAG;IAC3B,MAAM;MAAEiV,aAAa;MAAEpW,kBAAkB;MAAE8hC,WAAW;MAAED;IAAoB,CAAC,GAAG,IAAI;IACpF,MAAM;MAAErtH;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IACrC,MAAMr7B,GAAG,GAAG0/J,kCAAkC,CAC5C,KAAK,EACL,IAAI,CAAChsJ,UAAU,CAACmoB,QAAQ,EACxBimI,WAAW,EACXD,mBACF,CAAC;IACDtuI,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,OAAO,EAAE6W,gBAAgB,EAAE,CAAC4hG,aAAa,EAAEpW,kBAAkB,CAAC,EAAEhgI,GAAG,CAAC0/B,KAAK,CAAC;IAChGnM,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,aAAa,EAAE6W,gBAAgB,EAAE,CAAC,IAAI,CAACmuH,oBAAoB,CAAC,EAAE3iK,GAAG,CAACk/J,WAAW,CAAC;IACpGhe,2BAA2B,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC7lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACguH,qBAAqB,CAAC;IACnGthB,2BAA2B,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC7lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACiuH,oBAAoB,CAAC;IACjGvhB,2BAA2B,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC7lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACkuH,oBAAoB,CAAC;IAChG,IAAI,CAACb,mBAAmB,CAACtgK,KAAK,GAAG,IAAI,CAACugK,WAAW,CAACvgK,KAAK;EACzD;EACAgpK,kBAAkBA,CAAChsI,KAAK,EAAE;IACxB,IAAI58B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,MAAM;MAAEwvJ,eAAe;MAAEC,cAAc;MAAEiB;IAAc,CAAC,GAAG,IAAI,CAAClvJ,UAAU;IAC1E,IAAI,EAAE,CAACxB,EAAE,GAAG,CAACD,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACgnG,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhnG,EAAE,CAACyrG,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGn7F,EAAE,CAAC2mG,mBAAmB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG1mG,EAAE,CAAC4mG,UAAU,CAAC,EAAE;MACvJ;IACF;IACA,IAAI8pD,aAAa,EAAE;MACjB,OAAOrkI,KAAK,CAACqkI,aAAa,CAAC;IAC7B,CAAC,MAAM,IAAIlB,eAAe,EAAE;MAC1B,OAAOnjI,KAAK,CAACmjI,eAAe,CAAC;IAC/B,CAAC,MAAM,IAAIC,cAAc,EAAE;MACzB,OAAOpjI,KAAK,CAACojI,cAAc,CAAC;IAC9B;EACF;EACAltH,UAAUA,CAAClW,KAAK,EAAE;IAChB,MAAM;MAAEj2B;IAAM,CAAC,GAAGi2B,KAAK;IACvB,MAAM2oC,OAAO,GAAG,IAAI,CAACqjG,kBAAkB,CAAChsI,KAAK,CAACA,KAAK,CAAC;IACpD,OAAO2oC,OAAO,IAAI,IAAI,GAAG/uB,MAAM,CAAC+uB,OAAO,CAAC,GAAG,GAAG5+D,KAAK,EAAE;EACvD;EACA40G,YAAYA,CAAA,EAAG;IACb,IAAIv7G,EAAE;IACN,MAAM;MAAE+U,IAAI;MAAEunH;IAAkB,CAAC,GAAG,IAAI;IACxC,IAAI,CAACA,iBAAiB,GAAG,CAACt8H,EAAE,GAAG+U,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC/H,GAAG,CAAC,CAACke,CAAC,EAAEvkB,KAAK,KAAK;MAC5E,IAAI0nB,GAAG;MACP,OAAO,CAACA,GAAG,GAAGiuG,iBAAiB,CAAC31H,KAAK,CAAC,KAAK,IAAI,GAAG0nB,GAAG,GAAG,IAAI;IAC9D,CAAC,CAAC,KAAK,IAAI,GAAGruB,EAAE,GAAG,EAAE;EACvB;EACAu8H,kBAAkBA,CAAC7oH,IAAI,EAAE;IACvB,OAAOsrJ,wBAAwB,CAAC,IAAI,EAAEtrJ,IAAI,CAAC;EAC7C;AACF,CAAC;AACDusJ,WAAW,CAACjuJ,SAAS,GAAG,aAAa;AACrCiuJ,WAAW,CAAC15J,IAAI,GAAG,OAAO;;AAE1B;AACA,IAAIsiK,QAAQ,GAAG;EACbr4J,MAAM,EAAE;IACNy7I,WAAW,EAAEnzI,uBAAuB;IACpCyC,KAAK,EAAE;MACLC,OAAO,EAAE,IAAI;MACbo6C,SAAS,EAAE,KAAK,CAAC;MACjBj6C,UAAU,EAAE,QAAQ,CAAC;MACrBC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE7C,mBAAmB;MAC/B8C,KAAK,EAAE1C,0BAA0B;MACjCsC,OAAO,EAAE;IACX,CAAC;IACD8hJ,YAAY,EAAE;MACZhiJ,OAAO,EAAE,IAAI;MACbo6C,SAAS,EAAE,KAAK,CAAC;MACjBj6C,UAAU,EAAE,KAAK,CAAC;MAClBC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE7C,mBAAmB;MAC/B8C,KAAK,EAAE7C,oBAAoB;MAC3BjX,MAAM,EAAE,CAAC;MACT66J,QAAQ,EAAE;IACZ,CAAC;IACDY,WAAW,EAAE;MACXjiJ,OAAO,EAAE,IAAI;MACbo6C,SAAS,EAAE,KAAK,CAAC;MACjBj6C,UAAU,EAAE,QAAQ,CAAC;MACrBC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE7C,mBAAmB;MAC/B8C,KAAK,EAAE3C,kCAAkC;MACzC6jJ,cAAc,EAAE,CAAC;MACjBC,aAAa,EAAE;IACjB,CAAC;IACDS,WAAW,EAAE;MACX/kK,MAAM,EAAE,EAAE;MACVikB,WAAW,EAAE;IACf,CAAC;IACDD,WAAW,EAAE,CAAC;IACdmwC,aAAa,EAAE,CAAC;IAChBlwC,WAAW,EAAE,CAAC;IACdJ,QAAQ,EAAE,CAAC,CAAC,CAAC;IACbwwC,cAAc,EAAE,CAAC;IACjB9yB,QAAQ,EAAE,CAAC;IACX;IACA;IACAgmH,MAAM,EAAE;MACN1kI,OAAO,EAAE,KAAK;MACdM,KAAK,EAAErC,qBAAqB;MAC5ByW,OAAO,EAAE,CAAC;MACVC,OAAO,EAAE,CAAC;MACVw+B,IAAI,EAAE;IACR,CAAC;IACDjhC,WAAW,EAAE;MACXkoC,SAAS,EAAE,KAAK,CAAC;MACjBj6C,UAAU,EAAE,KAAK,CAAC;MAClBC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE7C,mBAAmB;MAC/B8C,KAAK,EAAE7C,oBAAoB;MAC3B86F,MAAM,EAAE;IACV,CAAC;IACD;IACA;IACA4pD,6BAA6B,EAAEnkJ;EACjC;AACF,CAAC;AACD,IAAIsvJ,iBAAiB,GAAGA,CAAC;EAAEn6I,UAAU;EAAEF,WAAW;EAAEpB;AAAY,CAAC,KAAK;EACpE,MAAM;IAAE7S,KAAK;IAAEC;EAAQ,CAAC,GAAGkU,UAAU,CAACF,WAAW,CAAC;EAClD,OAAO;IACLjU,KAAK;IACLC,OAAO,EAAE4S,WAAW,GAAG5S,OAAO,GAAG,EAAE;IACnCijJ,WAAW,EAAE;MACXjwG,MAAM,EAAEhzC;IACV;EACF,CAAC;AACH,CAAC;;AAED;AACA,IAAIsuJ,iBAAiB,GAAG;EACtBxiK,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,UAAU;EACtBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,OAAO,CAAC;EACrB3I,UAAU,EAAE,OAAO;EACnBmB,mBAAmB,EAAEq4J,WAAW;EAChCp4J,aAAa,EAAEghK,QAAQ;EACvBxzJ,cAAc,EAAEyzJ;AAClB,CAAC;;AAED;AACA,IAAIE,QAAQ,GAAG,cAAcj7F,OAAO,CAAC;EACnC7uE,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACzgC,YAAY,GAAG,KAAK;EAC3B;AACF,CAAC;AACDzkB,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEgvH,QAAQ,CAAC7yK,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AACzC,IAAI8yK,gBAAgB,GAAG,cAAcryG,KAAK,CAAC;EACzCj6D,GAAGA,CAACoV,UAAU,EAAE2qJ,MAAM,EAAE;IACtB,OAAO,KAAK,CAAC//J,GAAG,CAACoV,UAAU,CAAC;EAC9B;AACF,CAAC;AACDzZ,eAAe,CAAC,CACd64B,UAAU,CAAC,4BAA4B,CAAC,EACxC0nB,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEy2J,gBAAgB,CAAC9yK,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACd64B,UAAU,CAAC,4BAA4B,CAAC,EACxC0nB,QAAQ,CAACsB,MAAM,EAAE;EAAE3nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAEy2J,gBAAgB,CAAC9yK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC3C,IAAI+yK,iBAAiB,GAAG,cAAcp3J,cAAc,CAAC,EACpD;AACDxZ,eAAe,CAAC,CACd64B,UAAU,CAAC,4BAA4B,CAAC,EACxC0nB,QAAQ,CAACyC,YAAY,EAAE;EAAE9oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3C,EAAE02J,iBAAiB,CAAC/yK,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;AAC1CmC,eAAe,CAAC,CACd64B,UAAU,CAAC,4BAA4B,CAAC,EACxC0nB,QAAQ,CAAC2B,KAAK,EAAE;EAAEhoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACpC,EAAE02J,iBAAiB,CAAC/yK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACjD,IAAIgzK,qBAAqB,GAAG,cAAcvyG,KAAK,CAAC;EAC9C13D,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACx7C,MAAM,GAAG,CAAC;IACf,IAAI,CAAC66J,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACvlG,UAAU,GAAG,CAAC;IACnB,IAAI,CAACwlG,kBAAkB,GAAG,EAAE;IAC5B,IAAI,CAAC7gJ,eAAe,GAAG,IAAI;EAC7B;AACF,CAAC;AACD3jB,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE6uH,qBAAqB,CAAChzK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC4B,MAAM,CAAC,CACjB,EAAE0uH,qBAAqB,CAAChzK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE6uH,qBAAqB,CAAChzK,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE6uH,qBAAqB,CAAChzK,SAAS,EAAE,oBAAoB,EAAE,CAAC,CAAC;AAC5DmC,eAAe,CAAC,CACdugD,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEmvH,qBAAqB,CAAChzK,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AACzD,IAAIizK,oBAAoB,GAAG,cAAcxyG,KAAK,CAAC;EAC7C13D,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACw/G,cAAc,GAAG,CAAC;IACvB,IAAI,CAACC,aAAa,GAAG,GAAG;EAC1B;AACF,CAAC;AACD3kK,eAAe,CAAC,CACdugD,QAAQ,CAACsB,MAAM,CAAC,CACjB,EAAEivH,oBAAoB,CAACjzK,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACvDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE4uH,oBAAoB,CAACjzK,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACtD,IAAIkzK,oBAAoB,GAAG,cAAcv3J,cAAc,CAAC;EACtD5S,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC7kD,MAAM,GAAG,EAAE;IAChB,IAAI,CAACikB,WAAW,GAAG,CAAC;EACtB;AACF,CAAC;AACDtkB,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,EAAE;EAAE/oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACjD,EAAE62J,oBAAoB,CAAClzK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE+uH,oBAAoB,CAAClzK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAE+uH,oBAAoB,CAAClzK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACpD,IAAImzK,mBAAmB,GAAG,cAAcpsC,gBAAgB,CAAC;EACvDh+H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAChjC,KAAK,GAAGllB,MAAM,CAACiX,MAAM,CAACsL,aAAa,CAAC;IACzC,IAAI,CAAC4C,OAAO,GAAGnlB,MAAM,CAACiX,MAAM,CAACiM,eAAe,CAAC;IAC7C,IAAI,CAACmE,WAAW,GAAG,CAAC;IACpB,IAAI,CAACmwC,aAAa,GAAG,CAAC;IACtB,IAAI,CAACtwC,QAAQ,GAAG,CAAC,CAAC,CAAC;IACnB,IAAI,CAACwwC,cAAc,GAAG,CAAC;IACvB,IAAI,CAAC09E,YAAY,GAAG,CAAC;IACrB,IAAI,CAACxwG,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACkjI,iBAAiB,GAAG,CAAC;IAC1B,IAAI,CAACC,gBAAgB,GAAG,CAAC;IACzB,IAAI,CAACzgJ,WAAW,GAAG,CAAC;IACpB,IAAI,CAAC0gJ,aAAa,GAAG,KAAK,CAAC;IAC3B,IAAI,CAAC5vI,WAAW,GAAG,IAAIvb,eAAe,CAAC82J,gBAAgB,CAAC;IACxD,IAAI,CAAC1tJ,KAAK,GAAG,IAAIytJ,QAAQ,CAAC,CAAC;IAC3B,IAAI,CAACzL,WAAW,GAAG,IAAI2L,iBAAiB,CAAC,CAAC;IAC1C,IAAI,CAAChpB,MAAM,GAAG,IAAIR,UAAU,CAAC,CAAC;IAC9B,IAAI,CAAC8d,YAAY,GAAG,IAAI2L,qBAAqB,CAAC,CAAC;IAC/C,IAAI,CAAC1L,WAAW,GAAG,IAAI2L,oBAAoB,CAAC,CAAC;IAC7C,IAAI,CAAC1L,WAAW,GAAG,IAAI2L,oBAAoB,CAAC,CAAC;IAC7C,IAAI,CAAClsJ,OAAO,GAAG,IAAI4iI,aAAa,CAAC,CAAC;IAClC,IAAI,CAAC4d,6BAA6B,GAAG,KAAK,CAAC;EAC7C;AACF,CAAC;AACDrlK,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAEovH,mBAAmB,CAACnzK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AACvDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;AACxDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AACvDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,CAAC,CAC7B,EAAE+tH,mBAAmB,CAACnzK,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,CAAC,CAC7B,EAAE+tH,mBAAmB,CAACnzK,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE8uH,mBAAmB,CAACnzK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE8uH,mBAAmB,CAACnzK,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACmD,SAAS,CAAC,CACpB,EAAEstH,mBAAmB,CAACnzK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEgvH,mBAAmB,CAACnzK,SAAS,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEgvH,mBAAmB,CAACnzK,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACoB,QAAQ,EAAE;EAAEznC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACvC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC4B,MAAM,CAAC,CACjB,EAAE6uH,mBAAmB,CAACnzK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdugD,QAAQ,CAACsB,MAAM,CAAC,CACjB,EAAEmvH,mBAAmB,CAACnzK,SAAS,EAAE,mBAAmB,EAAE,CAAC,CAAC;AACzDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE8uH,mBAAmB,CAACnzK,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;AACxDmC,eAAe,CAAC,CACd64B,UAAU,CAAC,4BAA4B,CAAC,EACxC0nB,QAAQ,CAACsB,MAAM,EAAE;EAAE3nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,mBAAmB,EAAE,CAAC,CAAC;AACzDmC,eAAe,CAAC,CACd64B,UAAU,CAAC,4BAA4B,CAAC,EACxC0nB,QAAQ,CAAC2B,KAAK,EAAE;EAAEhoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACpC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;AACxDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,CAAC,CAC1B,EAAEgvH,mBAAmB,CAACnzK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACyB,eAAe,EAAE;EAAE9nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC9C,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC+C,YAAY,CAAC,CACvB,EAAE0tH,mBAAmB,CAACnzK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEyvH,mBAAmB,CAACnzK,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC7CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEyvH,mBAAmB,CAACnzK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEyvH,mBAAmB,CAACnzK,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEyvH,mBAAmB,CAACnzK,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;AACpDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEyvH,mBAAmB,CAACnzK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEyvH,mBAAmB,CAACnzK,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAACgB,MAAM,CAAC,CACjB,EAAEyvH,mBAAmB,CAACnzK,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE82J,mBAAmB,CAACnzK,SAAS,EAAE,+BAA+B,EAAE,CAAC,CAAC;;AAErE;AACA,IAAIozK,kBAAkB,GAAG,cAAc5vD,eAAe,CAAC;EACrDz6G,WAAWA,CAACqH,IAAI,EAAE+2H,WAAW,EAAE1gG,KAAK,EAAEpsB,MAAM,EAAE;IAC5C,KAAK,CAACjK,IAAI,EAAE+2H,WAAW,EAAE1gG,KAAK,EAAEpsB,MAAM,CAAC;IACvC,IAAI,CAACqvJ,QAAQ,GAAGrvJ,MAAM,CAACuB,UAAU,CAAC8tJ,QAAQ;IAC1C,IAAI,CAACC,SAAS,GAAGtvJ,MAAM,CAACuB,UAAU,CAAC+tJ,SAAS;IAC5C,IAAI,CAACC,eAAe,GAAGvvJ,MAAM,CAACuB,UAAU,CAACguJ,eAAe;IACxD,IAAI,CAACC,cAAc,GAAGxvJ,MAAM,CAACuB,UAAU,CAACiuJ,cAAc;EACxD;AACF,CAAC;AACD,IAAIwJ,SAAS,GAAG,cAAclK,WAAW,CAAC;EACxCpgK,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAAC;MACJA,SAAS;MACTusC,SAAS,EAAE,CAAC,CAAC,CAAC,wBAAwB;MACtC+kD,aAAa,EAAE,IAAI;MACnBthC,iBAAiB,EAAE;QAAEhxH,IAAI,EAAE2xJ,oBAAoB;QAAE7iJ,KAAK,EAAEyjI;MAAa;IACvE,CAAC,CAAC;IACF,IAAI,CAACztI,UAAU,GAAG,IAAIu3J,mBAAmB,CAAC,CAAC;IAC3C,IAAI,CAACpJ,mBAAmB,GAAG,IAAIp3B,WAAW,CAAC,CAAC;IAC5C,IAAI,CAACq3B,WAAW,GAAG,IAAIr3B,WAAW,CAAC,CAAC;IACpC;IACA,IAAI,CAACs3B,eAAe,GAAG,IAAI,CAACjmD,SAAS,CAAC3xF,WAAW,CAC/C,IAAIujC,KAAK,CAAC;MACRp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE,aAAa;MAC7ButB,KAAK,EAAE,IAAI;MACX1tB,MAAM,EAAE,CAAC,CAAC;IACZ,CAAC,CACH,CAAC;IACD;IACA,IAAI,CAACwkI,iBAAiB,GAAG,IAAI,CAACD,eAAe,CAAC53I,WAAW,CAAC,IAAIujC,KAAK,CAAC;MAAEp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE;IAAgB,CAAC,CAAC,CAAC;IACzG,IAAI,CAACskI,gBAAgB,GAAG,IAAI,CAACD,iBAAiB,CAAC73I,WAAW,CAAC,IAAIywG,MAAM,CAAC,CAAC,CAAC;IACxE,IAAI,CAACsnC,gBAAgB,GAAG,IAAI,CAACF,iBAAiB,CAAC73I,WAAW,CAAC,IAAIywG,MAAM,CAAC,CAAC,CAAC;IACxE,IAAI,CAACunC,gBAAgB,GAAG,IAAI,CAACJ,eAAe,CAAC53I,WAAW,CAAC,IAAIujC,KAAK,CAAC;MAAEp1D,IAAI,EAAE,GAAG,IAAI,CAACqlC,EAAE;IAAe,CAAC,CAAC,CAAC;IACvG;IACA,IAAI,CAACsgG,iBAAiB,GAAG,EAAE;IAC3B,IAAI,CAACmkC,iBAAiB,GAAG,KAAK,CAAC;IAC/B,IAAI,CAACxmD,SAAS,GAAGsvD,kBAAkB;IACnC,IAAI,CAAC7I,UAAU,GAAG,IAAI53B,WAAW,CAAC,CAAC;IACnC,IAAI,CAAC43B,UAAU,CAACtpH,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,CAACspH,UAAU,CAAC9gK,KAAK,GAAG,CAAC,CAAC5I,IAAI,CAACwsC,EAAE,EAAExsC,IAAI,CAACwsC,EAAE,CAAC,CAACx2B,GAAG,CAAEqpC,KAAK,IAAKA,KAAK,GAAGr/C,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC;IAC/E,MAAMm9H,gBAAgB,GAAG,IAAI50G,KAAK,CAAC;MAAEp1D,IAAI,EAAE;IAAmB,CAAC,CAAC;IAChE,MAAMiqK,eAAe,GAAG,IAAI70G,KAAK,CAAC;MAAEp1D,IAAI,EAAE;IAAkB,CAAC,CAAC;IAC9D,MAAM+2B,WAAW,GAAG,IAAIq+B,KAAK,CAAC;MAAEp1D,IAAI,EAAE;IAAc,CAAC,CAAC;IACtD,IAAI,CAACwlE,UAAU,CAACr+B,MAAM,CAAC6iI,gBAAgB,CAAC;IACxC,IAAI,CAACxkG,UAAU,CAACr+B,MAAM,CAAC8iI,eAAe,CAAC;IACvC,IAAI,CAACzkG,UAAU,CAACr+B,MAAM,CAACpQ,WAAW,CAAC;IACnC,IAAI,CAACmzI,qBAAqB,GAAG58F,SAAS,CAACU,MAAM,CAACg8F,gBAAgB,EAAE50G,KAAK,CAAC;IACtE,IAAI,CAAC+0G,oBAAoB,GAAG78F,SAAS,CAACU,MAAM,CAACi8F,eAAe,EAAElqG,IAAI,CAAC;IACnE,IAAI,CAACqqG,oBAAoB,GAAG98F,SAAS,CAACU,MAAM,CAACj3C,WAAW,EAAEgpC,IAAI,CAAC;IAC/D,IAAI,CAACsqG,oBAAoB,GAAG/8F,SAAS,CAACU,MAAM,CAAC,IAAI,CAAC67F,gBAAgB,EAAEvnC,MAAM,CAAC;EAC7E;EACAnd,sBAAsBA,CAAA,EAAG;IACvB,IAAI97G,EAAE;IACN,IAAI,CAACyF,UAAU,CAACpF,IAAI,CAClB,CAACL,EAAE,GAAG,IAAI,CAAC05B,GAAG,CAAC27C,iBAAiB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGr1E,EAAE,CAAC0uE,WAAW,CAAC,mBAAmB,EAAGtP,KAAK,IAAK,IAAI,CAACugE,iBAAiB,CAACvgE,KAAK,CAAC,CACnI,CAAC;EACH;EACA,IAAItiD,OAAOA,CAAA,EAAG;IACZ,OAAO,KAAK,CAACA,OAAO,KAAK,IAAI,CAACw/G,iBAAiB,CAAC3jI,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC2jI,iBAAiB,CAACx1H,IAAI,CAAEgW,OAAO,IAAKA,OAAO,CAAC,CAAC;EACpH;EACA2nD,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI+0F,MAAM,CAAC,CAAC;EACrB;EACAn9C,eAAeA,CAACpgD,SAAS,EAAE;IACzB,IAAIA,SAAS,KAAK,GAAG,CAAC,SAAS;MAC7B,OAAO,IAAI,CAACykG,UAAU,CAACtpH,MAAM;IAC/B,CAAC,MAAM;MACL,OAAO,IAAI,CAAC+oH,WAAW,CAAC/oH,MAAM;IAChC;EACF;EACA+vD,WAAWA,CAAC4iB,cAAc,EAAE;IAC1B,OAAOhxH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;MACtB,IAAI,IAAI,CAAC5X,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAChD,UAAU,CAACQ,OAAO,CAAC,CAAC,EAAE;QACnD;MACF;MACA,IAAI;QAAEwC;MAAK,CAAC,GAAG,IAAI;MACnB,MAAM;QAAE+H,OAAO;QAAEw/G;MAAkB,CAAC,GAAG,IAAI;MAC3C,MAAM;QAAEujC,QAAQ;QAAEC,SAAS;QAAEC,eAAe;QAAEC,cAAc;QAAEiB;MAAc,CAAC,GAAG,IAAI,CAAClvJ,UAAU;MAC/F,MAAMmvH,gBAAgB,GAAG,CAAC,IAAI,CAACxnG,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;MAC/D,MAAM+qF,aAAa,GAAG,EAAE;MACxB,MAAMzY,UAAU,GAAG,EAAE;MACrB,IAAIwY,aAAa,EAAE;QACjBC,aAAa,CAAC7gK,IAAI,CAAC64G,WAAW,CAAC+nD,aAAa,EAAE,MAAM,EAAE;UAAEjlI,EAAE,EAAE;QAAgB,CAAC,CAAC,CAAC;MACjF,CAAC,MAAM,IAAI+jI,eAAe,EAAE;QAC1BmB,aAAa,CAAC7gK,IAAI,CAAC64G,WAAW,CAAC6mD,eAAe,EAAE,MAAM,EAAE;UAAE/jI,EAAE,EAAE;QAAkB,CAAC,CAAC,CAAC;MACrF,CAAC,MAAM,IAAIgkI,cAAc,EAAE;QACzBkB,aAAa,CAAC7gK,IAAI,CAAC64G,WAAW,CAAC8mD,cAAc,EAAE,MAAM,EAAE;UAAEhkI,EAAE,EAAE;QAAiB,CAAC,CAAC,CAAC;MACnF;MACA,MAAMmlI,eAAe,GAAG,IAAI,CAAChB,WAAW,CAAC55J,IAAI;MAC7C,MAAM66J,cAAc,GAAG,IAAI,CAACjB,WAAW,CAAC55J,IAAI;MAC5C,IAAIu5J,SAAS,EAAE;QACbrX,UAAU,CAACpoJ,IAAI,CACbg5G,mBAAmB,CAACymD,SAAS,EAAE;UAC7B9jI,EAAE,EAAE,aAAa;UACjBnW,GAAG,EAAE,CAAC7lB,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACsvJ,SAAS,KAAK,IAAI,GAAGrhK,EAAE,GAAG,CAAC;UACtDa,GAAG,EAAE,IAAI,CAACkR,UAAU,CAACuvJ;QACvB,CAAC,CAAC,EACFloD,aAAa,CAAC0mD,SAAS,EAAEqB,eAAe,EAAE;UAAEnlI,EAAE,EAAE;QAAY,CAAC,CAAC;QAC9D;QACAg7E,mBAAmB,CACjB;UAAEh7E,EAAE,EAAE;QAAc,CAAC,EACrB,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,EACD,CAAC1rB,EAAE,GAAG,IAAI,CAACyB,UAAU,CAACsvJ,SAAS,KAAK,IAAI,GAAG/wJ,EAAE,GAAG,CAAC,EACjD,IAAI,CAACyB,UAAU,CAACuvJ,SAClB,CACF,CAAC;MACH;MACA,IAAIvB,eAAe,EAAE;QACnBtX,UAAU,CAACpoJ,IAAI,CAAC+4G,aAAa,CAAC2mD,eAAe,EAAE,MAAM,EAAE;UAAE/jI,EAAE,EAAE;QAAoB,CAAC,CAAC,CAAC;MACtF;MACA,IAAIgkI,cAAc,EAAE;QAClBvX,UAAU,CAACpoJ,IAAI,CAAC+4G,aAAa,CAAC4mD,cAAc,EAAE,MAAM,EAAE;UAAEhkI,EAAE,EAAE;QAAmB,CAAC,CAAC,CAAC;MACpF;MACA,IAAIilI,aAAa,EAAE;QACjBxY,UAAU,CAACpoJ,IAAI,CAAC+4G,aAAa,CAAC6nD,aAAa,EAAE,MAAM,EAAE;UAAEjlI,EAAE,EAAE;QAAkB,CAAC,CAAC,CAAC;MAClF;MACA,IAAIklG,gBAAgB,IAAI,IAAI,CAACl6B,aAAa,IAAIk6D,aAAa,CAACvoK,MAAM,GAAG,CAAC,EAAE;QACtE8vJ,UAAU,CAACpoJ,IAAI,CAACyyG,IAAI,CAAC,IAAI,CAAC9L,aAAa,CAAC,CAAC;MAC3C;MACAyhD,UAAU,CAACpoJ,IAAI,CAAC42G,mBAAmB,CAAC,CAAC,CAAC;MACtCliG,IAAI,GAAGA,IAAI,CAAC/H,GAAG,CAAC,CAACxN,CAAC,EAAE2pD,GAAG,KAAKrsC,OAAO,IAAIw/G,iBAAiB,CAACnzE,GAAG,CAAC,GAAG3pD,CAAC,GAAG1H,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE+H,CAAC,CAAC,EAAE;QAAE,CAACqgK,QAAQ,GAAG;MAAE,CAAC,CAAC,CAAC;MAC5H,MAAM,IAAI,CAAChkC,gBAAgB,CAAC9R,cAAc,EAAEh1G,IAAI,EAAE;QAChD0/B,KAAK,EAAE,CACL,GAAGysH,aAAa,EAChB3nD,yBAAyB,CAACsmD,QAAQ,EAAEuB,cAAc,EAAE;UAAEplI,EAAE,EAAE,YAAY;UAAE05E,YAAY,EAAE;QAAK,CAAC,CAAC,EAC7F0D,aAAa,CAACymD,QAAQ,EAAEuB,cAAc,EAAE;UAAEplI,EAAE,EAAE;QAAW,CAAC,CAAC;QAC3D;QACAg7E,mBAAmB,CAAC;UAAEh7E,EAAE,EAAE;QAAa,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACvD,GAAGysH,UAAU;MAEjB,CAAC,CAAC;MACF,KAAK,MAAMv9C,QAAQ,IAAI,CAACv+E,EAAE,GAAG,CAACzb,EAAE,GAAG,CAACX,EAAE,GAAG,IAAI,CAACy2F,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGz2F,EAAE,CAACw2F,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG71F,EAAE,CAAC3E,MAAM,KAAK,IAAI,GAAGogB,EAAE,GAAG,EAAE,EAAE;QACxI,MAAM;UAAEqP,EAAE;UAAEuqE,OAAO;UAAEjyF;QAAS,CAAC,GAAG42F,QAAQ;QAC1C,MAAMrD,SAAS,GAAGpC,YAAY,CAAC,IAAI,EAAEc,OAAO,CAAC;QAC7C,IAAIvqE,EAAE,KAAK,UAAU,IAAI6rE,SAAS,GAAG,CAAC,EAAE;UACtCtpG,MAAM,CAACQ,QAAQ,CACb,mCAAmCy3C,MAAM,CAACliC,QAAQ,CAAC,QAAQuzF,SAAS,gBAAgBA,SAAS,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,EAC9G,CAAC;QACH;MACF;MACA,IAAI,CAACl1B,cAAc,CAACxT,UAAU,CAAC,YAAY,CAAC;IAC9C,CAAC,CAAC;EACJ;EACAoiG,oBAAoBA,CAAA,EAAG;IACrB,OAAOxoK,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE;MACN,IAAI,CAAC,IAAI,CAACq6G,eAAe,EACvB;MACF,MAAM;QAAE8hB,QAAQ,GAAG;MAAG,CAAC,GAAG,CAACn8H,EAAE,GAAG,MAAM,IAAI,CAAC88D,cAAc,CAAC,CAAC,KAAK,IAAI,GAAG98D,EAAE,GAAG,CAAC,CAAC;MAC9E,IAAI,CAACm8H,QAAQ,GAAGA,QAAQ;MACxB,IAAI,CAAC9hB,eAAe,GAAG,KAAK;IAC9B,CAAC,CAAC;EACJ;EACAmnD,uBAAuBA,CAAC/zD,SAAS,EAAE;IACjC,MAAMg0D,QAAQ,GAAGh0D,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,YAAY,CAAC;IAC5E,MAAM+6D,SAAS,GAAG,IAAI,CAAC3vJ,UAAU,CAAC+tJ,SAAS,GAAGryD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,aAAa,CAAC,GAAG,CAAC,CAAC;IAC/G,MAAMg7D,eAAe,GAAG,IAAI,CAAC5vJ,UAAU,CAACguJ,eAAe,GAAGtyD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,mBAAmB,CAAC,GAAG,CAAC,CAAC;IACjI,MAAMi7D,cAAc,GAAG,IAAI,CAAC7vJ,UAAU,CAACiuJ,cAAc,GAAGvyD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,kBAAkB,CAAC,GAAG,CAAC,CAAC;IAC9H,MAAMk7D,aAAa,GAAG,IAAI,CAAC9vJ,UAAU,CAACkvJ,aAAa,GAAGxzD,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,iBAAiB,CAAC,GAAG,CAAC,CAAC;IAC3H,OAAO;MAAE86D,QAAQ;MAAEC,SAAS;MAAEC,eAAe;MAAEC,cAAc;MAAEC;IAAc,CAAC;EAChF;EACA/kG,cAAcA,CAAA,EAAG;IACf,OAAO/jE,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEijC,EAAE,EAAE49E,QAAQ;QAAE5S,aAAa;QAAEyG,SAAS;QAAEizD;MAAW,CAAC,GAAG,IAAI;MACnE,MAAM;QAAExmI;MAAS,CAAC,GAAG,IAAI,CAACnoB,UAAU;MACpC,IAAI,CAACi1F,aAAa,IAAI,CAACyG,SAAS,IAAIzG,aAAa,CAACzgG,IAAI,KAAK,WAAW,EACpE;MACF,MAAM;QAAEk7J,QAAQ;QAAEC,SAAS;QAAEC,eAAe;QAAEC,cAAc;QAAEC;MAAc,CAAC,GAAG,IAAI,CAACL,uBAAuB,CAAC/zD,SAAS,CAAC;MACvH,IAAIq0D,YAAY,GAAG,CAAC;MACpB,IAAIvsG,IAAI,GAAG,CAAC;MACZ,MAAM4mE,QAAQ,GAAGn1B,aAAa,CAACjyF,IAAI,CAAC/H,GAAG,CAAC,CAACwvD,MAAM,EAAE71D,KAAK,KAAK;QACzD,IAAI3G,EAAE;QACN,MAAM;UAAE48B,KAAK;UAAErwB;QAAO,CAAC,GAAGiwD,MAAM;QAChC,MAAM9nD,YAAY,GAAGnI,MAAM,CAACk1J,QAAQ,CAAC;QACrC,MAAMlsH,UAAU,GAAGmrH,UAAU,CAACnpH,OAAO,CAACuqH,YAAY,CAAC,GAAGnsH,SAAS,CAACzb,QAAQ,CAAC;QACzE4nI,YAAY,GAAGptJ,YAAY;QAC3B6gD,IAAI,IAAI7gD,YAAY;QACpB,MAAM8gC,QAAQ,GAAGkrH,UAAU,CAACnpH,OAAO,CAACuqH,YAAY,CAAC,GAAGnsH,SAAS,CAACzb,QAAQ,CAAC;QACvE,MAAM+5C,IAAI,GAAGj9E,IAAI,CAAC27B,GAAG,CAAC6iB,QAAQ,GAAGD,UAAU,CAAC;QAC5C,MAAMgnH,QAAQ,GAAGhnH,UAAU,GAAG0+B,IAAI,GAAG,CAAC;QACtC,MAAM8tF,UAAU,GAAGx1J,MAAM,CAACk1J,QAAQ,GAAG,CAAC,CAAC;QACvC,MAAMrrH,MAAM,GAAGsrH,SAAS,IAAI,CAAC,GAAG,CAAC1hK,EAAE,GAAGuM,MAAM,CAACm1J,SAAS,CAAC,KAAK,IAAI,GAAG1hK,EAAE,GAAG,CAAC,GAAG,CAAC;QAC7E,MAAMgiK,WAAW,GAAGN,SAAS,IAAI,CAAC,GAAGn1J,MAAM,CAACm1J,SAAS,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;QACnE,MAAMO,eAAe,GAAGJ,aAAa,IAAI,CAAC,GAAGt1J,MAAM,CAACs1J,aAAa,CAAC,GAAG,KAAK,CAAC;QAC3E,MAAM95F,MAAM,GAAG,IAAI,CAACm6F,SAAS,CAC3BtlI,KAAK,EACL2/H,QAAQ,EACRtoF,IAAI,EACJ,IAAI,EACJ1nE,MAAM,CAACo1J,eAAe,CAAC,EACvBp1J,MAAM,CAACq1J,cAAc,CAAC,EACtBK,eACF,CAAC;QACD,MAAMzD,YAAY,GAAG,IAAI,CAAC2D,eAAe,CAACvlI,KAAK,EAAEj2B,KAAK,EAAE,KAAK,CAAC;QAC9D,OAAOlP,cAAc,CAAC;UACpBohG,MAAM,EAAElyF,KAAK;UACb6J,MAAM,EAAE,IAAI;UACZosB,KAAK;UACLj2B,KAAK;UACLo7J,UAAU;UACVxF,QAAQ;UACR6F,MAAM,EAAEprK,IAAI,CAAC6jC,GAAG,CAAC0hI,QAAQ,CAAC;UAC1B8F,MAAM,EAAErrK,IAAI,CAAC8jC,GAAG,CAACyhI,QAAQ,CAAC;UAC1BhnH,UAAU;UACVC,QAAQ;UACRgpH,YAAY;UACZwD,WAAW;UACX5rH,MAAM;UACN4jF,WAAW,EAAEhjI,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACs/J,WAAW,CAAC5oH,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;UACrD0/G,WAAW,EAAEjgK,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACs/J,WAAW,CAAC5oH,OAAO,CAACnB,MAAM,CAAC,EAAE,CAAC,CAAC;UAC1D6rH;QACF,CAAC,EAAEl6F,MAAM,CAAC;MACZ,CAAC,CAAC;MACF,IAAI,CAACu4F,gBAAgB,CAACxjJ,OAAO,GAAGy4C,IAAI,KAAK,CAAC;MAC1C,MAAM;QAAEsoG,gBAAgB,GAAG;MAAE,CAAC,GAAG,IAAI,CAAC9rJ,UAAU;MAChD,IAAI,CAACwuJ,gBAAgB,CAACzjJ,OAAO,GAAGy4C,IAAI,KAAK,CAAC,IAAIsoG,gBAAgB,KAAK,CAAC,IAAIA,gBAAgB,GAAG,CAAC;MAC5F,OAAO;QAAEhlE,MAAM,EAAE+gB,QAAQ;QAAEuiB,QAAQ;QAAE5hD,SAAS,EAAE4hD;MAAS,CAAC;IAC5D,CAAC,CAAC;EACJ;EACA+lC,SAASA,CAACtlI,KAAK,EAAE2/H,QAAQ,EAAEtoF,IAAI,EAAEquF,YAAY,EAAEC,iBAAiB,EAAEC,gBAAgB,EAAEP,eAAe,EAAE;IACnG,MAAM;MAAEzE,YAAY;MAAEC,WAAW;MAAEwD;IAAc,CAAC,GAAG,IAAI,CAAClvJ,UAAU;IACpE,MAAMguJ,eAAe,GAAG,CAACuC,YAAY,IAAI9E,YAAY,CAAChiJ,OAAO,GAAG,IAAI,CAACzJ,UAAU,CAACguJ,eAAe,GAAG,KAAK,CAAC;IACxG,MAAMC,cAAc,GAAG,CAACsC,YAAY,IAAI7E,WAAW,CAACjiJ,OAAO,GAAG,IAAI,CAACzJ,UAAU,CAACiuJ,cAAc,GAAG,KAAK,CAAC;IACrG,IAAI,CAACD,eAAe,IAAI,CAACC,cAAc,IAAI,CAACiB,aAAa,EAAE;MACzD,OAAO,CAAC,CAAC;IACX;IACA,MAAMwB,oBAAoB,GAAG;MAC3B7lI,KAAK;MACLijI,QAAQ,EAAE,IAAI,CAAC9tJ,UAAU,CAAC8tJ,QAAQ;MAClC6C,SAAS,EAAE,IAAI,CAAC3wJ,UAAU,CAAC2wJ,SAAS;MACpC5C,SAAS,EAAE,IAAI,CAAC/tJ,UAAU,CAAC+tJ,SAAS;MACpC6C,UAAU,EAAE,IAAI,CAAC5wJ,UAAU,CAAC4wJ,UAAU;MACtC5C,eAAe,EAAE,IAAI,CAAChuJ,UAAU,CAACguJ,eAAe;MAChD6C,gBAAgB,EAAE,IAAI,CAAC7wJ,UAAU,CAAC6wJ,gBAAgB;MAClD5C,cAAc,EAAE,IAAI,CAACjuJ,UAAU,CAACiuJ,cAAc;MAC9C6C,eAAe,EAAE,IAAI,CAAC9wJ,UAAU,CAAC8wJ,eAAe;MAChD5B,aAAa,EAAE,IAAI,CAAClvJ,UAAU,CAACkvJ;IACjC,CAAC;IACD,MAAMxoK,MAAM,GAAG,CAAC,CAAC;IACjB,IAAIsnK,eAAe,IAAI9rF,IAAI,GAAGt+B,SAAS,CAAC6nH,YAAY,CAACX,QAAQ,CAAC,EAAE;MAC9DpkK,MAAM,CAAC+kK,YAAY,GAAG1lK,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE,IAAI,CAACqrK,gBAAgB,CAACvG,QAAQ,CAAC,CAAC,EAAE;QACvF9gJ,IAAI,EAAE,IAAI,CAACoiG,YAAY,CAAC2/C,YAAY,EAAE1lK,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEgrK,oBAAoB,CAAC,EAAE;UAC5FprK,KAAK,EAAEkrK;QACT,CAAC,CAAC,CAAC;QACH96J,MAAM,EAAE,KAAK;QACbs7J,kBAAkB,EAAE,KAAK,CAAC;QAC1BC,gBAAgB,EAAE,CAAC;QACnBhtI,GAAG,EAAE,KAAK;MACZ,CAAC,CAAC;IACJ;IACA,IAAIgqI,cAAc,EAAE;MAClBvnK,MAAM,CAACglK,WAAW,GAAG;QACnBhiJ,IAAI,EAAE,IAAI,CAACoiG,YAAY,CAAC4/C,WAAW,EAAE3lK,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEgrK,oBAAoB,CAAC,EAAE;UAC3FprK,KAAK,EAAEmrK;QACT,CAAC,CAAC;MACJ,CAAC;IACH;IACA,IAAIvB,aAAa,IAAI,IAAI,IAAIgB,eAAe,IAAI,IAAI,EAAE;MACpDxpK,MAAM,CAACwqK,UAAU,GAAG;QAAE7rK,GAAG,EAAE6pK,aAAa;QAAExlJ,IAAI,EAAEwmJ;MAAgB,CAAC;IACnE;IACA,OAAOxpK,MAAM;EACf;EACAqqK,gBAAgBA,CAACvG,QAAQ,EAAE;IACzB,MAAM2G,gBAAgB,GAAG,CACvB;MAAE3yG,SAAS,EAAE,QAAQ;MAAEC,YAAY,EAAE;IAAS,CAAC,EAC/C;MAAED,SAAS,EAAE,MAAM;MAAEC,YAAY,EAAE;IAAS,CAAC,EAC7C;MAAED,SAAS,EAAE,QAAQ;MAAEC,YAAY,EAAE;IAAU,CAAC,EAChD;MAAED,SAAS,EAAE,OAAO;MAAEC,YAAY,EAAE;IAAS,CAAC,CAC/C;IACD,MAAM2yG,WAAW,GAAG/tH,iBAAiB,CAACmnH,QAAQ,CAAC;IAC/C,MAAM6G,aAAa,GAAG,CAAC,IAAI,GAAGpsK,IAAI,CAACwsC,EAAE;IACrC,MAAM6/H,cAAc,GAAGF,WAAW,GAAGC,aAAa;IAClD,MAAME,QAAQ,GAAGtsK,IAAI,CAACsI,KAAK,CAAC+jK,cAAc,IAAIrsK,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC,CAAC;IAC3D,MAAM+/H,aAAa,GAAGpwI,GAAG,CAACmwI,QAAQ,EAAEJ,gBAAgB,CAACvqK,MAAM,CAAC;IAC5D,OAAOuqK,gBAAgB,CAACK,aAAa,CAAC;EACxC;EACApB,eAAeA,CAACvlI,KAAK,EAAE4mI,WAAW,EAAEjjD,SAAS,EAAE;IAC7C,IAAIvgH,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;IACtB,MAAM;MAAE2qD,aAAa;MAAE+sB;IAAiB,CAAC,GAAG,IAAI,CAAC3qE,GAAG;IACpD,MAAM;MAAEmmI,QAAQ;MAAEC,SAAS;MAAEtlJ,KAAK;MAAEC,OAAO;MAAE0oC,SAAS;MAAEm6G,aAAa;MAAEK;IAA8B,CAAC,GAAG,IAAI,CAAC5rJ,UAAU;IACxH,MAAMmqF,gBAAgB,GAAGmI,gBAAgB,CAAC/H,kBAAkB,CAAC,CAAC;IAC9D,MAAMo5D,kBAAkB,GAAGn1C,SAAS,IAAI,CAACrkB,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC1rF,MAAM,MAAM,IAAI,IAAIgzJ,WAAW,KAAKtnE,gBAAgB,CAACrD,MAAM;IACzJ,IAAI4qE,aAAa,GAAGhpJ,OAAO,CAAC+oJ,WAAW,GAAG/oJ,OAAO,CAAC9hB,MAAM,CAAC;IACzD,IAAI2kK,aAAa,IAAI,IAAI,EAAE;MACzBmG,aAAa,IAAI,IAAI,GAAGA,aAAa,GAAGA,aAAa,GAAG9F,6BAA6B;IACvF;IACA,MAAM;MAAEjhJ,IAAI;MAAEC,WAAW;MAAEJ,MAAM;MAAEK,WAAW;MAAEkwC;IAAc,CAAC,GAAGngD,aAAa,CAC7E+oJ,kBAAkB,IAAI,IAAI,CAAC3jJ,UAAU,CAACiL,cAAc,CAAC/P,IAAI,EACzD;MACEyP,IAAI,EAAElC,KAAK,CAAC7hB,MAAM,GAAG,CAAC,GAAG6hB,KAAK,CAACgpJ,WAAW,GAAGhpJ,KAAK,CAAC7hB,MAAM,CAAC,GAAG,KAAK,CAAC;MACnEgkB,WAAW,EAAE,IAAI,CAAC5K,UAAU,CAAC4K,WAAW;MACxCJ,MAAM,EAAEknJ,aAAa;MACrB7mJ,WAAW,EAAE,IAAI,CAACggG,cAAc,CAAC,IAAI,CAAC7qG,UAAU,CAAC6K,WAAW,CAAC;MAC7DkwC,aAAa,EAAE,IAAI,CAAC2vD,UAAU,CAAC;IACjC,CACF,CAAC;IACD,IAAI94D,OAAO;IACX,IAAIR,SAAS,EAAE;MACbQ,OAAO,GAAG2zB,aAAa,CAACz/E,IAAI,CAACsrD,SAAS,EAAE;QACtCvmB,KAAK;QACLijI,QAAQ;QACRC,SAAS;QACTpjJ,IAAI;QACJH,MAAM;QACN/B,KAAK;QACLC,OAAO;QACPmC,WAAW;QACX8uI,WAAW,EAAEgK,kBAAkB;QAC/B97C,QAAQ,EAAE,IAAI,CAAC59E;MACjB,CAAC,CAAC;IACJ;IACA,OAAO;MACLtf,IAAI,EAAE,CAAC1c,EAAE,GAAG2jD,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACjnC,IAAI,KAAK,IAAI,GAAG1c,EAAE,GAAG0c,IAAI;MACxEC,WAAW,EAAE,CAACrM,EAAE,GAAGqzC,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAChnC,WAAW,KAAK,IAAI,GAAGrM,EAAE,GAAGqM,WAAW;MAC7FJ,MAAM,EAAE,CAAChM,EAAE,GAAGozC,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACpnC,MAAM,KAAK,IAAI,GAAGhM,EAAE,GAAGgM,MAAM;MAC9EK,WAAW,EAAE,CAAC1L,EAAE,GAAGyyC,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC/mC,WAAW,KAAK,IAAI,GAAG1L,EAAE,GAAG0L,WAAW;MAC7FkwC,aAAa,EAAE,CAACngC,EAAE,GAAGg3B,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACmJ,aAAa,KAAK,IAAI,GAAGngC,EAAE,GAAGmgC;IACxF,CAAC;EACH;EACA42G,cAAcA,CAAA,EAAG;IACf,MAAM;MAAEttH;IAAO,CAAC,GAAG,IAAI;IACvB,MAAM;MAAEynH,gBAAgB,GAAG,CAAC;MAAEC,iBAAiB,GAAG;IAAE,CAAC,GAAG,IAAI,CAAC/rJ,UAAU;IACvE,MAAMioH,WAAW,GAAG5jF,MAAM,GAAGynH,gBAAgB,GAAGC,iBAAiB;IACjE,IAAI9jC,WAAW,KAAK5jF,MAAM,IAAI4jF,WAAW,GAAG,CAAC,EAAE;MAC7C,OAAO,CAAC;IACV;IACA,OAAOA,WAAW;EACpB;EACA2pC,cAAcA,CAAA,EAAG;IACf,OAAO3sK,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACu1C,MAAM,GAAG,IAAI,CAACrkC,UAAU,CAACsrJ,gBAAgB,GAAG,IAAI,CAACtrJ,UAAU,CAACqrJ,iBAAiB,EAAE,CAAC,CAAC;EACxG;EACAwG,iBAAiBA,CAAC5wF,MAAM,EAAE;IACxB,MAAM6wF,QAAQ,GAAG,CAAC,IAAI,CAACH,cAAc,CAAC,CAAC,EAAE,IAAI,CAACC,cAAc,CAAC,CAAC,CAAC;IAC/D,IAAI,CAACxD,WAAW,CAACvgK,KAAK,GAAGikK,QAAQ;IACjC,IAAI7wF,MAAM,EAAE;MACV,IAAI,CAACktF,mBAAmB,CAACtgK,KAAK,GAAGikK,QAAQ;IAC3C;IACA,IAAI,CAAC1nC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACnvH,GAAG,CAAEhN,EAAE,IAAK;MACxC,IAAIsQ,EAAE,GAAGtQ,EAAE;QAAE;UAAEo2C;QAAO,CAAC,GAAG9lC,EAAE;QAAE9Q,CAAC,GAAGzH,SAAS,CAACuY,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;MAC3D,OAAOxY,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE+H,CAAC,CAAC,EAAE;QAC1C42C,MAAM;QACN4jF,WAAW,EAAEhjI,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACs/J,WAAW,CAAC5oH,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD0/G,WAAW,EAAEjgK,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAACs/J,WAAW,CAAC5oH,OAAO,CAACnB,MAAM,CAAC,EAAE,CAAC;MAC3D,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA0tH,oBAAoBA,CAAA,EAAG;IACrB,IAAI9jK,EAAE,EAAEsQ,EAAE;IACV,MAAM2mJ,WAAW,GAAGjgK,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE,IAAI,CAACs/J,WAAW,CAACvgK,KAAK,CAAC,CAAC,CAAC,CAAC;IAC1D,IAAIq3J,WAAW,KAAK,CAAC,EAAE;MACrB,OAAO9wI,GAAG;IACZ;IACA,MAAMzK,OAAO,GAAG,CAACpL,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwJ,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvb,EAAE,CAAC0b,OAAO,KAAK,IAAI,GAAGpL,EAAE,GAAG,CAAC;IAClG,MAAMyzJ,WAAW,GAAG,CAAC,GAAGroJ,OAAO;IAC/B,MAAMqZ,EAAE,GAAG/9B,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE,CAACo2J,WAAW,CAAC;IACpC,OAAO,CAACA,WAAW,GAAG8M,WAAW,GAAGhvI,EAAE;EACxC;EACA8a,MAAMA,CAACu0E,EAAE,EAAE;IACT,OAAOrrH,OAAO,CAAC,IAAI,EAAEykD,SAAS,EAAE,WAAW;MAAEwlE;IAAW,CAAC,EAAE;MACzD,MAAM;QAAEznG;MAAM,CAAC,GAAG,IAAI,CAACxJ,UAAU;MACjC,MAAMotG,uBAAuB,GAAG;QAC9BJ,eAAe,EAAEiE,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAAC7mG,KAAK;QAC/D6iG,gBAAgB,EAAEgE,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACvuF;MAC7D,CAAC;MACD,MAAMu+C,MAAM,GAAGjgE,QAAQ,CAAC,IAAI,CAAC8rG,oBAAoB,EAAEM,uBAAuB,CAAC,IAAI,IAAI;MACnF,IAAInsC,MAAM,EAAE;QACV,IAAI,CAAC8rC,qBAAqB,GAAGK,uBAAuB;MACtD;MACA,MAAM,IAAI,CAACoiD,oBAAoB,CAAC,CAAC;MACjC,IAAI,CAACyC,gBAAgB,CAAC,CAAC;MACvB,IAAI,CAACJ,iBAAiB,CAAC5wF,MAAM,CAAC;MAC9B,IAAI,CAACkvB,YAAY,CAAC/nE,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAC7C,IAAI,CAACgsD,YAAY,CAAC9nE,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAC7C,IAAI,CAAC2kE,cAAc,CAAC3gF,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAC/C,IAAI,CAAC4kE,cAAc,CAAC1gF,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAC/C,IAAI,CAACiqH,eAAe,CAACjmI,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAChD,IAAI,CAACkqH,eAAe,CAAChmI,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAChD,IAAI,IAAI,CAACgmB,UAAU,EAAE;QACnB,IAAI,CAACA,UAAU,CAAChiC,YAAY,GAAG,IAAI,CAAC+b,OAAO;QAC3C,IAAI,CAACimB,UAAU,CAAC/hC,YAAY,GAAG,IAAI,CAAC+b,OAAO;MAC7C;MACA,IAAI56B,KAAK,EAAE;QACT,MAAMwZ,EAAE,GAAG,IAAI,CAAC+uI,oBAAoB,CAAC,CAAC;QACtC,MAAM5rF,QAAQ,GAAG38D,KAAK,CAAC3H,IAAI,CAAC+qB,WAAW,CAAC,CAAC;QACzCpjB,KAAK,CAAC3H,IAAI,CAACkJ,OAAO,GAAGvB,KAAK,CAACC,OAAO,IAAI1P,QAAQ,CAACipB,EAAE,CAAC,IAAI,CAAC,IAAI,CAACkvI,+BAA+B,CAAC/rF,QAAQ,EAAE,CAAC,EAAEnjD,EAAE,CAAC;QAC5GxZ,KAAK,CAAC3H,IAAI,CAACwmB,YAAY,GAAGtuB,QAAQ,CAACipB,EAAE,CAAC,GAAGA,EAAE,GAAG,CAAC;MACjD;MACA,KAAK,MAAMulG,MAAM,IAAI,CAAC,IAAI,CAACimC,gBAAgB,EAAE,IAAI,CAACD,gBAAgB,CAAC,EAAE;QACnEhmC,MAAM,CAAC39G,WAAW,GAAG,CAAC;QACtB29G,MAAM,CAAC/9G,MAAM,GAAG,IAAI,CAACxK,UAAU,CAACyrJ,YAAY,CAAC1hJ,KAAK;QAClDw+G,MAAM,CAAC19G,WAAW,GAAG,CAAC;QACtB09G,MAAM,CAACxtE,aAAa,GAAG,CAAC;MAC1B;MACA,IAAI,CAACo3G,kBAAkB,CAAC,CAAC;MACzB,MAAM,IAAI,CAAChuF,gBAAgB,CAAC,CAAC;MAC7B,MAAM,IAAI,CAACxZ,WAAW,CAACsmD,UAAU,CAAC;IACpC,CAAC,CAAC;EACJ;EACAghD,gBAAgBA,CAAA,EAAG;IACjB,IAAIhkK,EAAE,EAAEsQ,EAAE;IACV,MAAM;MAAE6zJ;IAAS,CAAC,GAAG,IAAI;IACzB,MAAM;MAAE5oJ;IAAM,CAAC,GAAG,IAAI,CAACxJ,UAAU;IACjC,IAAIoyJ,QAAQ,KAAK5oJ,KAAK,EAAE;MACtB,IAAI4oJ,QAAQ,EAAE;QACZ,CAACnkK,EAAE,GAAG,IAAI,CAACm8D,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGn8D,EAAE,CAAC0oB,WAAW,CAACy7I,QAAQ,CAACvwJ,IAAI,CAAC;MACzE;MACA,IAAI2H,KAAK,EAAE;QACTA,KAAK,CAAC3H,IAAI,CAAC48C,YAAY,GAAG,QAAQ;QAClC,CAAClgD,EAAE,GAAG,IAAI,CAAC6rD,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG7rD,EAAE,CAACkY,WAAW,CAACjN,KAAK,CAAC3H,IAAI,CAAC;MACtE;MACA,IAAI,CAACuwJ,QAAQ,GAAG5oJ,KAAK;IACvB;EACF;EACA2oJ,kBAAkBA,CAAA,EAAG;IACnB,IAAI,CAAC/nC,QAAQ,CAAC1qH,OAAO,CAAEjS,CAAC,IAAK;MAC3B,MAAM42C,MAAM,GAAG52C,CAAC,CAACw6H,WAAW,GAAG,CAACx6H,CAAC,CAACy3J,WAAW,GAAGz3J,CAAC,CAACw6H,WAAW,IAAI,CAAC;MAClEx6H,CAAC,CAACwiG,QAAQ,GAAG;QACXpoG,CAAC,EAAE4F,CAAC,CAAC4iK,MAAM,GAAGprK,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEu1C,MAAM,CAAC;QACjC1iB,CAAC,EAAEl0B,CAAC,CAAC6iK,MAAM,GAAGrrK,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEu1C,MAAM;MAClC,CAAC;IACH,CAAC,CAAC;EACJ;EACA8/B,gBAAgBA,CAAA,EAAG;IACjB,OAAOn9E,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM,IAAI,CAACqrK,oBAAoB,CAAC,CAAC;MACjC,IAAI,CAACC,0BAA0B,CAAC,CAAC;IACnC,CAAC,CAAC;EACJ;EACAD,oBAAoBA,CAAA,EAAG;IACrB,OAAOrrK,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAE07I,aAAa;QAAEpW,kBAAkB;QAAEwiC,qBAAqB;QAAEC,oBAAoB;QAAEC;MAAqB,CAAC,GAAG,IAAI;MACrH,MAAMlxH,MAAM,GAAGA,CAAC8E,SAAS,EAAEpnC,KAAK,KAAK;QACnC,IAAI4uH,QAAQ,GAAG,IAAI,CAACA,QAAQ;QAC5B,IAAI5uH,KAAK,EAAE;UACT4uH,QAAQ,GAAGA,QAAQ,CAACnvH,GAAG,CAAE4vB,KAAK,IAAK9kC,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEmlC,KAAK,CAAC,EAAE;YAAE4hI,YAAY,EAAE/mK,cAAc,CAAC,CAAC,CAAC,EAAEmlC,KAAK,CAAC4hI,YAAY;UAAE,CAAC,CAAC,CAAC;QACxI;QACA7pH,SAAS,CAAC9E,MAAM,CAACssF,QAAQ,EAAE,KAAK,CAAC,EAAGv/F,KAAK,IAAK,IAAI,CAACkW,UAAU,CAAClW,KAAK,CAAC,CAAC;QACrE,IAAI,IAAI,CAAClD,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC,EAAE;UACzCxhC,SAAS,CAACG,OAAO,CAAC,CAAC;QACrB;MACF,CAAC;MACDjF,MAAM,CAAC4kG,aAAa,EAAE,KAAK,CAAC;MAC5B5kG,MAAM,CAACwuF,kBAAkB,EAAE,IAAI,CAAC;MAChCwiC,qBAAqB,CAAChxH,MAAM,CAAC,IAAI,CAACssF,QAAQ,EAAG3/D,MAAM,IAAK;QACtD,MAAMtgD,IAAI,GAAG,IAAIuqD,IAAI,CAAC,CAAC;QACvBvqD,IAAI,CAAC0f,GAAG,GAAG,CAAC,CAAC;QACb1f,IAAI,CAACygB,aAAa,GAAG,CAAC,CAAC;QACvB6/B,MAAM,CAACh0C,WAAW,CAACtM,IAAI,CAAC;QACxB,MAAMT,IAAI,GAAG,IAAIi7C,IAAI,CAAC,CAAC;QACvBj7C,IAAI,CAACmgB,GAAG,GAAG,CAAC,CAAC;QACbngB,IAAI,CAACkhB,aAAa,GAAG,CAAC,CAAC;QACvB6/B,MAAM,CAACh0C,WAAW,CAAC/M,IAAI,CAAC;MAC1B,CAAC,CAAC;MACFqlJ,oBAAoB,CAACjxH,MAAM,CAAC,IAAI,CAACssF,QAAQ,EAAGvoH,IAAI,IAAK;QACnDA,IAAI,CAAC+oB,aAAa,GAAG,CAAC,CAAC;MACzB,CAAC,CAAC;MACFokI,oBAAoB,CAAClxH,MAAM,CAAC,IAAI,CAAC99B,UAAU,CAAC2b,WAAW,EAAG9Z,IAAI,IAAK;QACjEA,IAAI,CAAC+oB,aAAa,GAAG,CAAC,CAAC;MACzB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA0nI,0BAA0BA,CAAA,EAAG;IAC3B,MAAM;MAAE9G;IAAY,CAAC,GAAG,IAAI,CAACxrJ,UAAU;IACvC,IAAIqkC,MAAM,GAAG,CAAC;IACd,MAAM4jF,WAAW,GAAG,IAAI,CAAC0pC,cAAc,CAAC,CAAC;IACzC,IAAI1pC,WAAW,GAAG,CAAC,EAAE;MACnB,MAAMsqC,YAAY,GAAGttK,IAAI,CAAC6uB,GAAG,CAACm0G,WAAW,EAAE,IAAI,CAAC2pC,cAAc,CAAC,CAAC,CAAC;MACjE,MAAMY,mBAAmB,GAAG,CAAC;MAC7BnuH,MAAM,GAAGp/C,IAAI,CAAC0I,IAAI,CAAC4kK,YAAY,GAAG,CAAC,GAAGC,mBAAmB,CAAC;IAC5D;IACA,MAAMC,MAAM,GAAGjH,WAAW,GAAG,CAAC;MAAEnnH;IAAO,CAAC,CAAC,GAAG,EAAE;IAC9C,IAAI,CAAC4qH,oBAAoB,CAACnxH,MAAM,CAAC20H,MAAM,CAAC;EAC1C;EACA9nG,WAAWA,CAACsmD,UAAU,EAAE;IACtB,OAAOjqH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAMmjG,gBAAgB,GAAG,IAAI,CAACxiE,GAAG,CAAC2qE,gBAAgB,CAAC/H,kBAAkB,CAAC,CAAC;MACvE,MAAM5wB,SAAS,GAAG,IAAI,CAAC5uD,OAAO,IAAI,IAAI,CAACw/G,iBAAiB,CAACnkI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;MAC3E,IAAI,CAACgiH,SAAS,CAACr9F,OAAO,GAAG4uD,SAAS;MAClC,IAAI,CAAC00F,eAAe,CAACtjJ,OAAO,GAAG4uD,SAAS;MACxC,IAAI,CAACw2B,YAAY,CAACplF,OAAO,GAAG4uD,SAAS;MACrC,IAAI,CAACovC,cAAc,CAACh+F,OAAO,GAAG4uD,SAAS,IAAI,CAACwwB,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC1rF,MAAM,MAAM,IAAI;MACjH,IAAI,IAAI,CAAC2rD,UAAU,EAAE;QACnB,IAAI,CAACA,UAAU,CAACr/C,OAAO,GAAG4uD,SAAS;MACrC;MACA,IAAI,CAACw2B,YAAY,CAAC74C,OAAO,GAAG,IAAI,CAACozD,UAAU,CAAC,CAAC;MAC7C,IAAI,CAACukD,oBAAoB,CAACt7F,IAAI,CAAC,CAAC9xD,IAAI,EAAE;QAAEwiC;MAAO,CAAC,KAAK;QACnD,IAAIp2C,EAAE,EAAEsQ,EAAE;QACVsD,IAAI,CAAC+pB,aAAa,CAAC;UACjBjhB,IAAI,EAAE,CAAC1c,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwrJ,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGv9J,EAAE,CAAC0c,IAAI;UACnE2sC,OAAO,EAAE,CAAC/4C,EAAE,GAAG,IAAI,CAACyB,UAAU,CAACwrJ,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjtJ,EAAE,CAACqM,WAAW;UAC7EW,IAAI,EAAE84B;QACR,CAAC,CAAC;MACJ,CAAC,CAAC;MACF,MAAMquH,cAAc,GAAGA,CAACtN,MAAM,EAAEv6H,KAAK,EAAE8nI,MAAM,EAAEhP,kBAAkB,KAAK;QACpE,MAAM/xG,OAAO,GAAG,IAAI,CAACw+G,eAAe,CAACvlI,KAAK,CAACA,KAAK,EAAEA,KAAK,CAACi8D,MAAM,EAAE68D,kBAAkB,CAAC;QACnF94H,KAAK,CAAC4hI,YAAY,CAAC9hJ,IAAI,GAAGinC,OAAO,CAACjnC,IAAI;QACtCkgB,KAAK,CAAC4hI,YAAY,CAACjiJ,MAAM,GAAGonC,OAAO,CAACpnC,MAAM;QAC1C,MAAMooJ,iBAAiB,GAAG,IAAI,CAACjrI,GAAG,CAACmZ,gBAAgB,CAACsjC,SAAS,CAAC,CAAC;QAC/D,IAAIwuF,iBAAiB,EAAE;UACrBxN,MAAM,CAAC5hH,UAAU,GAAG3Y,KAAK,CAAC2Y,UAAU;UACpC4hH,MAAM,CAAC3hH,QAAQ,GAAG5Y,KAAK,CAAC4Y,QAAQ;UAChC2hH,MAAM,CAACn9B,WAAW,GAAGp9F,KAAK,CAACo9F,WAAW;UACtCm9B,MAAM,CAACF,WAAW,GAAGr6H,KAAK,CAACq6H,WAAW;QACxC;QACA,IAAIvB,kBAAkB,IAAIiP,iBAAiB,EAAE;UAC3CxN,MAAM,CAACz6I,IAAI,GAAGinC,OAAO,CAACjnC,IAAI;UAC1By6I,MAAM,CAAC56I,MAAM,GAAGonC,OAAO,CAACpnC,MAAM;QAChC;QACA46I,MAAM,CAACv6I,WAAW,GAAG+mC,OAAO,CAAC/mC,WAAW;QACxCu6I,MAAM,CAACx6I,WAAW,GAAGgnC,OAAO,CAAChnC,WAAW;QACxCw6I,MAAM,CAACrqG,aAAa,GAAG,IAAI,CAAC/6C,UAAU,CAAC+6C,aAAa;QACpDqqG,MAAM,CAAC36I,QAAQ,GAAG,IAAI,CAACzK,UAAU,CAACyK,QAAQ;QAC1C26I,MAAM,CAACnqG,cAAc,GAAG,IAAI,CAACj7C,UAAU,CAACi7C,cAAc;QACtDmqG,MAAM,CAAChqG,UAAU,GAAG,IAAI,CAACp7C,UAAU,CAACmuI,MAAM;QAC1CiX,MAAM,CAACzsB,YAAY,GAAG,IAAI,CAAC34H,UAAU,CAAC24H,YAAY;QAClDysB,MAAM,CAACtiD,KAAK,GAAG,IAAI,CAAC9iG,UAAU,CAACurJ,aAAa,IAAI,IAAI,GAAG,CAAC,IAAI,CAACvrJ,UAAU,CAACurJ,aAAa,IAAI35G,OAAO,CAACpnC,MAAM,IAAI,IAAI,GAAGonC,OAAO,CAAC/mC,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;QACnJu6I,MAAM,CAACjqG,QAAQ,GAAG,IAAI,CAACn7C,UAAU,CAACurJ,aAAa,IAAI,IAAI,GAAG,OAAO,GAAG,OAAO;MAC7E,CAAC;MACD,IAAI,CAAC7oB,aAAa,CAAC/uE,IAAI,CAAC,CAAC9xD,IAAI,EAAEgpB,KAAK,EAAEj2B,KAAK,KAAK89J,cAAc,CAAC7wJ,IAAI,EAAEgpB,KAAK,EAAEj2B,KAAK,EAAE,KAAK,CAAC,CAAC;MAC1F,IAAI,CAAC03H,kBAAkB,CAAC34D,IAAI,CAAC,CAAC9xD,IAAI,EAAEgpB,KAAK,EAAEj2B,KAAK,KAAK;QACnD,MAAM+uJ,kBAAkB,GAAG,CAACx5D,gBAAgB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAAC1rF,MAAM,MAAM,IAAI,IAAIoD,IAAI,CAACgpB,KAAK,CAACi8D,MAAM,KAAKqD,gBAAgB,CAACrD,MAAM;QAClJ4rE,cAAc,CAAC7wJ,IAAI,EAAEgpB,KAAK,EAAEj2B,KAAK,EAAE,IAAI,CAAC;QACxCiN,IAAI,CAACkJ,OAAO,GAAG44I,kBAAkB;MACnC,CAAC,CAAC;MACF,IAAI,CAACkP,sBAAsB,CAAC,CAAC;MAC7B,IAAI,CAACC,uBAAuB,CAAC7hD,UAAU,CAAC;MACxC,IAAI,CAAC8hD,sBAAsB,CAAC,CAAC;MAC7B,IAAI,CAACC,qBAAqB,CAAC,CAAC;MAC5B,IAAI,CAACC,kBAAkB,CAAC,CAAC;MACzB,IAAI,CAACryF,cAAc,CAACxT,UAAU,CAAC,QAAQ,CAAC;IAC1C,CAAC,CAAC;EACJ;EACAylG,sBAAsBA,CAAA,EAAG;IACvB,IAAI5kK,EAAE;IACN,MAAM;MAAE09J;IAAY,CAAC,GAAG,IAAI,CAAC3rJ,UAAU;IACvC,MAAMkzJ,aAAa,GAAGvH,WAAW,CAAC/kK,MAAM;IACxC,MAAMusK,kBAAkB,GAAGxH,WAAW,CAAC9gJ,WAAW;IAClD,MAAMuoJ,aAAa,GAAG,CAACnlK,EAAE,GAAG09J,WAAW,CAACjwG,MAAM,KAAK,IAAI,GAAGztD,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAAC0I,OAAO;IACtF,MAAM;MAAEzY,MAAM,EAAErB;IAAQ,CAAC,GAAG,IAAI,CAACoR,UAAU,CAACyrJ,YAAY;IACxD,IAAI,CAACqD,qBAAqB,CAAC17F,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC1zD,OAAO,CAAC,CAACyK,IAAI,EAAEvV,KAAK,KAAK;MAC/E,IAAI0nB,GAAG;MACP,MAAMuO,KAAK,GAAG1gB,IAAI,CAAC0gB,KAAK;MACxB,MAAM;QAAE4gI,YAAY,EAAEzhJ,KAAK;QAAEk7I;MAAY,CAAC,GAAGr6H,KAAK;MAClD,IAAI,CAAC7gB,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACN,IAAI,KAAK,CAACM,KAAK,CAACtU,MAAM,IAAIwvJ,WAAW,KAAK,CAAC,EAAE;QAC/E/6I,IAAI,CAACY,OAAO,GAAG,IAAI;QACnBZ,IAAI,CAACU,WAAW,GAAGsoJ,kBAAkB;QACrChpJ,IAAI,CAACK,MAAM,GAAG4oJ,aAAa,CAACx+J,KAAK,GAAGw+J,aAAa,CAACxsK,MAAM,CAAC;QACzDujB,IAAI,CAACQ,IAAI,GAAG,KAAK,CAAC;QAClB,MAAM0Y,EAAE,GAAGwH,KAAK,CAACwlI,MAAM,GAAGnL,WAAW;QACrC,MAAM5hI,EAAE,GAAGuH,KAAK,CAACylI,MAAM,GAAGpL,WAAW;QACrC,IAAI3hI,EAAE,GAAGsH,KAAK,CAACwlI,MAAM,IAAInL,WAAW,GAAGgO,aAAa,CAAC;QACrD,IAAI1vI,EAAE,GAAGqH,KAAK,CAACylI,MAAM,IAAIpL,WAAW,GAAGgO,aAAa,CAAC;QACrD,MAAMG,OAAO,GAAG,CAAC/2I,GAAG,GAAGtS,KAAK,CAACgnJ,kBAAkB,KAAK,IAAI,GAAG10I,GAAG,GAAGtS,KAAK,CAACinJ,gBAAgB,KAAK,CAAC;QAC7F,IAAIoC,OAAO,IAAIrpJ,KAAK,CAACia,GAAG,IAAI,IAAI,EAAE;UAChC,MAAMA,GAAG,GAAGja,KAAK,CAACia,GAAG;UACrB,IAAIqD,EAAE,GAAG/D,EAAE;UACX,IAAIgE,EAAE,GAAG/D,EAAE;UACX,IAAID,EAAE,GAAGU,GAAG,CAACp8B,CAAC,EAAE;YACdy/B,EAAE,GAAGrD,GAAG,CAACp8B,CAAC;UACZ,CAAC,MAAM,IAAI07B,EAAE,GAAGU,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,EAAE;YACjCkd,EAAE,GAAGrD,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK;UACxB;UACA,IAAIoZ,EAAE,GAAGS,GAAG,CAACtC,CAAC,EAAE;YACd4F,EAAE,GAAGtD,GAAG,CAACtC,CAAC;UACZ,CAAC,MAAM,IAAI6B,EAAE,GAAGS,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,EAAE;YAClC6E,EAAE,GAAGtD,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM;UACzB;UACA,MAAMK,EAAE,GAAGuE,EAAE,GAAG/D,EAAE;UAClB,MAAMP,EAAE,GAAGuE,EAAE,GAAG/D,EAAE;UAClB,MAAM58B,MAAM,GAAG3B,IAAI,CAACs1D,IAAI,CAACt1D,IAAI,CAACC,GAAG,CAAC69B,EAAE,EAAE,CAAC,CAAC,GAAG99B,IAAI,CAACC,GAAG,CAAC89B,EAAE,EAAE,CAAC,CAAC,CAAC;UAC3D,MAAMswI,YAAY,GAAG1sK,MAAM,GAAGgI,OAAO;UACrC,IAAI0kK,YAAY,GAAG,CAAC,EAAE;YACpB/vI,EAAE,GAAGA,EAAE,GAAGR,EAAE,GAAGuwI,YAAY,GAAG1sK,MAAM;YACpC48B,EAAE,GAAGA,EAAE,GAAGR,EAAE,GAAGswI,YAAY,GAAG1sK,MAAM;UACtC;QACF;QACAujB,IAAI,CAACkZ,EAAE,GAAGA,EAAE;QACZlZ,IAAI,CAACmZ,EAAE,GAAGA,EAAE;QACZnZ,IAAI,CAACoZ,EAAE,GAAGA,EAAE;QACZpZ,IAAI,CAACqZ,EAAE,GAAGA,EAAE;MACd,CAAC,MAAM;QACLrZ,IAAI,CAACY,OAAO,GAAG,KAAK;MACtB;IACF,CAAC,CAAC;EACJ;EACAwoJ,gBAAgBA,CAAC7pJ,IAAI,EAAEua,GAAG,EAAEgtF,UAAU,EAAE;IACtC,MAAMuiD,UAAU,GAAGviD,UAAU,CAACppH,CAAC,GAAG,IAAI,CAACs8C,OAAO;IAC9C,MAAMsvH,WAAW,GAAGxiD,UAAU,CAACppH,CAAC,GAAGopH,UAAU,CAAC7mG,KAAK,GAAG,IAAI,CAAC+5B,OAAO;IAClE,MAAMuvH,SAAS,GAAGziD,UAAU,CAACtvF,CAAC,GAAG,IAAI,CAACyiB,OAAO;IAC7C,MAAMuvH,YAAY,GAAG1iD,UAAU,CAACtvF,CAAC,GAAGsvF,UAAU,CAACvuF,MAAM,GAAG,IAAI,CAAC0hB,OAAO;IACpE,MAAMwvH,KAAK,GAAG,CAAC;IACf,IAAIC,eAAe,GAAG,CAAC;IACvB,IAAI5vI,GAAG,CAACp8B,CAAC,GAAG+rK,KAAK,GAAGJ,UAAU,EAAE;MAC9BK,eAAe,GAAG,CAAC5vI,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,GAAGopJ,UAAU,IAAIvvI,GAAG,CAAC7Z,KAAK;IAChE,CAAC,MAAM,IAAI6Z,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,GAAGwpJ,KAAK,GAAGH,WAAW,EAAE;MAClDI,eAAe,GAAG,CAACJ,WAAW,GAAGxvI,GAAG,CAACp8B,CAAC,IAAIo8B,GAAG,CAAC7Z,KAAK;IACrD;IACA,MAAM0pJ,mBAAmB,GAAG7vI,GAAG,CAACtC,CAAC,GAAGiyI,KAAK,GAAGF,SAAS,IAAIzvI,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,GAAGkxI,KAAK,GAAGD,YAAY;IAClG,MAAMI,UAAU,GAAGF,eAAe,KAAK,CAAC,GAAGnqJ,IAAI,CAAC9iB,MAAM,GAAG3B,IAAI,CAACsI,KAAK,CAACmc,IAAI,CAAC9iB,MAAM,GAAGitK,eAAe,CAAC,GAAG,CAAC;IACtG,MAAMG,4BAA4B,GAAG,IAAI,CAAC9B,+BAA+B,CAACjuI,GAAG,CAAC;IAC9E,OAAO;MAAE8vI,UAAU;MAAED,mBAAmB;MAAEE;IAA6B,CAAC;EAC1E;EACA9B,+BAA+BA,CAACjuI,GAAG,EAAElB,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAG,CAAC,EAAE;IACnD,MAAM;MAAE0rI;IAAkB,CAAC,GAAG,IAAI;IAClC,IAAIA,iBAAiB,IAAI,IAAI,EAAE;MAC7B,OAAO,KAAK;IACd;IACA,MAAMuF,OAAO,GAAG,CACd;MAAEpsK,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC,GAAGk7B,EAAE;MAAEpB,CAAC,EAAEsC,GAAG,CAACtC,CAAC,GAAGqB;IAAG,CAAC,EAChC;MAAEn7B,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,GAAG2Y,EAAE;MAAEpB,CAAC,EAAEsC,GAAG,CAACtC,CAAC,GAAGqB;IAAG,CAAC,EAC5C;MAAEn7B,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,GAAG2Y,EAAE;MAAEpB,CAAC,EAAEsC,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,GAAGM;IAAG,CAAC,EACzD;MAAEn7B,CAAC,EAAEo8B,GAAG,CAACp8B,CAAC,GAAGk7B,EAAE;MAAEpB,CAAC,EAAEsC,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,GAAGM;IAAG,CAAC,CAC9C;IACD,MAAMkxI,IAAI,GAAGlvK,KAAK,CAAC0pK,iBAAiB,EAAE,CAAC,CAAC;IACxC,OAAOuF,OAAO,CAACl/J,IAAI,CAAEo/J,MAAM,IAAKnvK,KAAK,CAACmvK,MAAM,CAACtsK,CAAC,EAAE,CAAC,CAAC,GAAG7C,KAAK,CAACmvK,MAAM,CAACxyI,CAAC,EAAE,CAAC,CAAC,GAAGuyI,IAAI,CAAC;EACjF;EACAE,mCAAmCA,CAAA,EAAG;IACpC,MAAM;MAAEhG;IAAY,CAAC,GAAG,IAAI;IAC5B,MAAM;MAAE3C,YAAY;MAAEE;IAAY,CAAC,GAAG,IAAI,CAAC3rJ,UAAU;IACrD,MAAM;MAAE/P,MAAM,EAAErB,OAAO;MAAE22D;IAAW,CAAC,GAAGkmG,YAAY;IACpD,MAAMxjC,WAAW,GAAGmmC,WAAW,CAAC5oH,OAAO,CAAC,CAAC,CAAC;IAC1C,MAAM6uH,UAAU,GAAIxpI,KAAK,IAAK;MAC5B,MAAM7gB,KAAK,GAAG6gB,KAAK,CAAC4gI,YAAY;MAChC,OAAO,CAACzhJ,KAAK,IAAI6gB,KAAK,CAACq6H,WAAW,KAAK,CAAC;IAC1C,CAAC;IACD,MAAMoP,QAAQ,GAAG,IAAI,CAAClqC,QAAQ;IAC9B,MAAMpnH,IAAI,GAAG,IAAI,CAAConH,QAAQ,CAAC/zH,MAAM,CAAEyG,CAAC,IAAK,CAACu3J,UAAU,CAACv3J,CAAC,CAAC,CAAC;IACxDkG,IAAI,CAACtD,OAAO,CAAEmrB,KAAK,IAAK;MACtB,MAAM7gB,KAAK,GAAG6gB,KAAK,CAAC4gI,YAAY;MAChC,IAAIzhJ,KAAK,IAAI,IAAI,EACf;MACFA,KAAK,CAACtU,MAAM,GAAG,KAAK;MACpBsU,KAAK,CAACgnJ,kBAAkB,GAAG,KAAK,CAAC;MACjChnJ,KAAK,CAACinJ,gBAAgB,GAAG,CAAC;IAC5B,CAAC,CAAC;IACF,IAAIjuJ,IAAI,CAACpc,MAAM,IAAI,CAAC,EAAE;MACpB;IACF;IACA,MAAM2tK,UAAU,GAAGvxJ,IAAI,CAAC3M,MAAM,CAAE5I,CAAC,IAAKA,CAAC,CAAC4iK,MAAM,GAAG,CAAC,CAAC,CAAC58G,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC2qK,MAAM,GAAG1qK,CAAC,CAAC0qK,MAAM,CAAC;IACvF,MAAMkE,WAAW,GAAGxxJ,IAAI,CAAC3M,MAAM,CAAE5I,CAAC,IAAKA,CAAC,CAAC4iK,MAAM,IAAI,CAAC,CAAC,CAAC58G,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC2qK,MAAM,GAAG1qK,CAAC,CAAC0qK,MAAM,CAAC;IACzF,MAAMmE,SAAS,GAAGzxJ,IAAI,CAAC3M,MAAM,CAAE5I,CAAC,IAAK;MACnC,IAAIQ,EAAE;MACN,OAAOR,CAAC,CAAC6iK,MAAM,GAAG,CAAC,IAAI,CAAC,CAACriK,EAAE,GAAGR,CAAC,CAACg+J,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGx9J,EAAE,CAACuwD,SAAS,MAAM,QAAQ;IAC7F,CAAC,CAAC,CAAC/K,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC0qK,MAAM,GAAGzqK,CAAC,CAACyqK,MAAM,CAAC;IACtC,MAAMqE,YAAY,GAAG1xJ,IAAI,CAAC3M,MAAM,CAAE5I,CAAC,IAAK;MACtC,IAAIQ,EAAE;MACN,OAAOR,CAAC,CAAC6iK,MAAM,IAAI,CAAC,IAAI,CAAC,CAACriK,EAAE,GAAGR,CAAC,CAACg+J,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGx9J,EAAE,CAACuwD,SAAS,MAAM,QAAQ;IAC9F,CAAC,CAAC,CAAC/K,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC0qK,MAAM,GAAGzqK,CAAC,CAACyqK,MAAM,CAAC;IACtC,MAAMsE,YAAY,GAAG,IAAIhwG,IAAI,CAAC,CAAC;IAC/B,MAAMiwG,WAAW,GAAI/pI,KAAK,IAAK;MAC7B,IAAI58B,EAAE;MACN,MAAM+b,KAAK,GAAG6gB,KAAK,CAAC4gI,YAAY;MAChC,IAAIzhJ,KAAK,IAAI,IAAI,EACf,OAAO,IAAIma,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;MAC7B,MAAM0wI,WAAW,GAAGhqI,KAAK,CAACq6H,WAAW,GAAGyG,WAAW,CAAC/kK,MAAM,GAAGgI,OAAO;MACpE,MAAM/G,CAAC,GAAGgjC,KAAK,CAACwlI,MAAM,GAAGwE,WAAW;MACpC,MAAMlzI,CAAC,GAAGkJ,KAAK,CAACylI,MAAM,GAAGuE,WAAW,GAAG7qJ,KAAK,CAACinJ,gBAAgB;MAC7D0D,YAAY,CAACjrJ,IAAI,GAAGM,KAAK,CAACN,IAAI;MAC9BirJ,YAAY,CAAC9sK,CAAC,GAAGA,CAAC;MAClB8sK,YAAY,CAAChzI,CAAC,GAAGA,CAAC;MAClBgzI,YAAY,CAAC/wG,OAAO,CAAC,IAAI,CAAC5jD,UAAU,CAACyrJ,YAAY,CAAC;MAClDkJ,YAAY,CAAC7wG,QAAQ,CAAC;QACpBtF,SAAS,EAAE,CAACvwD,EAAE,GAAG+b,KAAK,CAACgnJ,kBAAkB,KAAK,IAAI,GAAG/iK,EAAE,GAAG+b,KAAK,CAACw0C,SAAS;QACzEC,YAAY,EAAEz0C,KAAK,CAACy0C;MACtB,CAAC,CAAC;MACF,OAAOk2G,YAAY,CAAC/nI,WAAW,CAAC,CAAC;IACnC,CAAC;IACD,MAAMkoI,wBAAwB,GAAGA,CAAC9qJ,KAAK,EAAEviB,IAAI,EAAEyiE,SAAS,KAAK;MAC3D,MAAMjmC,GAAG,GAAG2wI,WAAW,CAAC5qJ,KAAK,CAAC,CAAC6Z,IAAI,CAAC0hC,UAAU,GAAG,CAAC,CAAC;MACnD,MAAMhxD,KAAK,GAAGqgK,WAAW,CAACntK,IAAI,CAAC,CAACo8B,IAAI,CAAC0hC,UAAU,GAAG,CAAC,CAAC;MACpD,MAAMwvG,gBAAgB,GAAG9wI,GAAG,CAACp8B,CAAC,GAAG0M,KAAK,CAAC1M,CAAC,GAAG0M,KAAK,CAAC6V,KAAK,IAAI6Z,GAAG,CAACp8B,CAAC,GAAGo8B,GAAG,CAAC7Z,KAAK,GAAG7V,KAAK,CAAC1M,CAAC,KAAKqiE,SAAS,KAAK,QAAQ,GAAGjmC,GAAG,CAACtC,CAAC,GAAGptB,KAAK,CAACotB,CAAC,GAAGptB,KAAK,CAACmuB,MAAM,GAAGuB,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,GAAGnuB,KAAK,CAACotB,CAAC,CAAC;MACjL,IAAIozI,gBAAgB,EAAE;QACpB,MAAM/xI,EAAE,GAAGknC,SAAS,KAAK,QAAQ,GAAGjmC,GAAG,CAACtC,CAAC,GAAGptB,KAAK,CAACotB,CAAC,GAAGptB,KAAK,CAACmuB,MAAM,GAAGuB,GAAG,CAACtC,CAAC,GAAGsC,GAAG,CAACvB,MAAM,GAAGnuB,KAAK,CAACotB,CAAC;QACjGl6B,IAAI,CAACgkK,YAAY,CAACwF,gBAAgB,GAAGjuI,EAAE;MACzC;IACF,CAAC;IACD,MAAMgyI,gBAAgB,GAAIh/F,MAAM,IAAK;MACnC,MAAMi/F,QAAQ,GAAGj/F,MAAM,CAACh6D,KAAK,CAAC,CAAC,CAACy3C,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKX,IAAI,CAAC27B,GAAG,CAACj7B,CAAC,CAAC2qK,MAAM,CAAC,GAAGrrK,IAAI,CAAC27B,GAAG,CAACh7B,CAAC,CAAC0qK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1F,MAAM4E,QAAQ,GAAGl/F,MAAM,CAAC5vE,OAAO,CAAC6uK,QAAQ,CAAC;MACzC,KAAK,IAAItuK,CAAC,GAAGuuK,QAAQ,GAAG,CAAC,EAAEvuK,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;QACtC,MAAMi7C,IAAI,GAAGo0B,MAAM,CAACrvE,CAAC,GAAG,CAAC,CAAC;QAC1B,MAAMc,IAAI,GAAGuuE,MAAM,CAACrvE,CAAC,CAAC;QACtBmuK,wBAAwB,CAAClzH,IAAI,EAAEn6C,IAAI,EAAE,QAAQ,CAAC;MAChD;MACA,KAAK,IAAId,CAAC,GAAGuuK,QAAQ,GAAG,CAAC,EAAEvuK,CAAC,GAAGqvE,MAAM,CAACpvE,MAAM,EAAED,CAAC,EAAE,EAAE;QACjD,MAAMi7C,IAAI,GAAGo0B,MAAM,CAACrvE,CAAC,GAAG,CAAC,CAAC;QAC1B,MAAMc,IAAI,GAAGuuE,MAAM,CAACrvE,CAAC,CAAC;QACtBmuK,wBAAwB,CAAClzH,IAAI,EAAEn6C,IAAI,EAAE,WAAW,CAAC;MACnD;IACF,CAAC;IACD,MAAM0tK,gBAAgB,GAAIn/F,MAAM,IAAK;MACnC,MAAMo/F,sBAAsB,GAAGpyJ,IAAI,CAACjO,IAAI,CAAE81B,KAAK,IAAKA,KAAK,CAAC4gI,YAAY,CAACwF,gBAAgB,KAAK,CAAC,CAAC;MAC9F,MAAM/tI,KAAK,GAAG8yC,MAAM,CAAC/6D,GAAG,CAAE+O,KAAK,IAAK4qJ,WAAW,CAAC5qJ,KAAK,CAAC,CAAC;MACvD,MAAMqrJ,WAAW,GAAGnyI,KAAK,CAACjoB,GAAG,CAAEgpB,GAAG,IAAKA,GAAG,CAACzoB,KAAK,CAAC,CAAC,CAACqoB,IAAI,CAAC0hC,UAAU,GAAG,CAAC,CAAC,CAAC;MACxE,IAAI+vG,sBAAsB,GAAG,KAAK;MAClC,KAAK,IAAI3uK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0uK,WAAW,CAACzuK,MAAM,IAAI,CAAC0uK,sBAAsB,EAAE3uK,CAAC,EAAE,EAAE;QACtE,MAAMs9B,GAAG,GAAGoxI,WAAW,CAAC1uK,CAAC,CAAC;QAC1B,KAAK,IAAIyE,CAAC,GAAGzE,CAAC,GAAG,CAAC,EAAEyE,CAAC,GAAG4qE,MAAM,CAACpvE,MAAM,EAAEwE,CAAC,EAAE,EAAE;UAC1C,MAAMmJ,KAAK,GAAG8gK,WAAW,CAACjqK,CAAC,CAAC;UAC5B,IAAI64B,GAAG,CAACpB,YAAY,CAACtuB,KAAK,CAAC,EAAE;YAC3B+gK,sBAAsB,GAAG,IAAI;YAC7B;UACF;QACF;MACF;MACA,MAAMvI,OAAO,GAAGuH,QAAQ,CAACr5J,GAAG,CAAE4vB,KAAK,IAAK;QACtC,MAAM;UAAE2Y,UAAU;UAAEC,QAAQ;UAAEyhH;QAAY,CAAC,GAAGr6H,KAAK;QACnD,OAAO;UAAE2Y,UAAU;UAAEC,QAAQ;UAAEwkF,WAAW;UAAEi9B;QAAY,CAAC;MAC3D,CAAC,CAAC;MACF,MAAMqQ,oBAAoB,GAAGryI,KAAK,CAACnuB,IAAI,CAAEkvB,GAAG,IAAK;QAC/C,OAAO8oI,OAAO,CAACh4J,IAAI,CAAEqwJ,MAAM,IAAKM,iBAAiB,CAACzhI,GAAG,EAAEmhI,MAAM,CAAC,CAAC;MACjE,CAAC,CAAC;MACF,IAAI,CAACkQ,sBAAsB,IAAI,CAACF,sBAAsB,IAAI,CAACG,oBAAoB,EAAE;QAC/E;MACF;MACAv/F,MAAM,CAAC3/D,MAAM,CAAE5I,CAAC,IAAKA,CAAC,CAACg+J,YAAY,CAACjtG,SAAS,KAAK,QAAQ,CAAC,CAAC9+C,OAAO,CAAEjS,CAAC,IAAK;QACzE,MAAMuc,KAAK,GAAGvc,CAAC,CAACg+J,YAAY;QAC5B,IAAIh+J,CAAC,CAAC4iK,MAAM,GAAG,CAAC,EAAE;UAChBrmJ,KAAK,CAACgnJ,kBAAkB,GAAG,OAAO;QACpC,CAAC,MAAM,IAAIvjK,CAAC,CAAC4iK,MAAM,GAAG,CAAC,EAAE;UACvBrmJ,KAAK,CAACgnJ,kBAAkB,GAAG,MAAM;QACnC,CAAC,MAAM;UACLhnJ,KAAK,CAACgnJ,kBAAkB,GAAG,QAAQ;QACrC;MACF,CAAC,CAAC;IACJ,CAAC;IACDgE,gBAAgB,CAACT,UAAU,CAAC;IAC5BS,gBAAgB,CAACR,WAAW,CAAC;IAC7BW,gBAAgB,CAACV,SAAS,CAAC;IAC3BU,gBAAgB,CAACT,YAAY,CAAC;EAChC;EACA5B,uBAAuBA,CAAC7hD,UAAU,EAAE;IAClC,MAAM;MAAEm9C;IAAY,CAAC,GAAG,IAAI;IAC5B,MAAM;MAAE3C,YAAY;MAAEE;IAAY,CAAC,GAAG,IAAI,CAAC3rJ,UAAU;IACrD,MAAMkzJ,aAAa,GAAGvH,WAAW,CAAC/kK,MAAM;IACxC,MAAM;MAAEqJ,MAAM,EAAErB,OAAO;MAAEmb;IAAM,CAAC,GAAG0hJ,YAAY;IAC/C,MAAMkJ,YAAY,GAAG,IAAIhwG,IAAI,CAAC,CAAC;IAC/B,IAAI,CAACmqG,qBAAqB,CAAC17F,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC1zD,OAAO,CAAEgK,IAAI,IAAK;MACtE,IAAIzb,EAAE;MACN,MAAM;QAAE48B;MAAM,CAAC,GAAGnhB,IAAI;MACtB,MAAMM,KAAK,GAAG6gB,KAAK,CAAC4gI,YAAY;MAChC,MAAMpnH,MAAM,GAAG+pH,WAAW,CAAC5oH,OAAO,CAAC3a,KAAK,CAACwZ,MAAM,CAAC;MAChD,MAAM6gH,WAAW,GAAGjgK,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEu1C,MAAM,CAAC;MACvC,IAAI,EAAEr6B,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACN,IAAI,CAAC,IAAIw7I,WAAW,KAAK,CAAC,IAAIl7I,KAAK,CAACtU,MAAM,EAAE;QAC/EgU,IAAI,CAACqB,OAAO,GAAG,KAAK;QACpB;MACF;MACA,MAAM8pJ,WAAW,GAAG3P,WAAW,GAAGgO,aAAa,GAAGtkK,OAAO;MACzD,MAAM/G,CAAC,GAAGgjC,KAAK,CAACwlI,MAAM,GAAGwE,WAAW;MACpC,MAAMlzI,CAAC,GAAGkJ,KAAK,CAACylI,MAAM,GAAGuE,WAAW,GAAG7qJ,KAAK,CAACinJ,gBAAgB;MAC7D,MAAMp1G,KAAK,GAAG;QACZ2C,SAAS,EAAE,CAACvwD,EAAE,GAAG+b,KAAK,CAACgnJ,kBAAkB,KAAK,IAAI,GAAG/iK,EAAE,GAAG+b,KAAK,CAACw0C,SAAS;QACzEC,YAAY,EAAEz0C,KAAK,CAACy0C;MACtB,CAAC;MACDk2G,YAAY,CAACjrJ,IAAI,GAAGM,KAAK,CAACN,IAAI;MAC9BirJ,YAAY,CAAC9sK,CAAC,GAAGA,CAAC;MAClB8sK,YAAY,CAAChzI,CAAC,GAAGA,CAAC;MAClBgzI,YAAY,CAAC/wG,OAAO,CAAC,IAAI,CAAC5jD,UAAU,CAACyrJ,YAAY,CAAC;MAClDkJ,YAAY,CAAC7wG,QAAQ,CAACjI,KAAK,CAAC;MAC5B,MAAM53B,GAAG,GAAG0wI,YAAY,CAAC/nI,WAAW,CAAC,CAAC;MACtC,IAAI4oI,WAAW,GAAGxrJ,KAAK,CAACN,IAAI;MAC5B,IAAIqB,OAAO,GAAG,IAAI;MAClB,IAAI0gJ,YAAY,CAACvhJ,eAAe,EAAE;QAChC,MAAM;UAAE6pJ,UAAU;UAAED;QAAoB,CAAC,GAAG,IAAI,CAACP,gBAAgB,CAACvpJ,KAAK,CAACN,IAAI,EAAEua,GAAG,EAAEgtF,UAAU,CAAC;QAC9FukD,WAAW,GAAGxrJ,KAAK,CAACN,IAAI,CAAC9iB,MAAM,KAAKmtK,UAAU,GAAG/pJ,KAAK,CAACN,IAAI,GAAG,GAAGM,KAAK,CAACN,IAAI,CAAC6lB,SAAS,CAAC,CAAC,EAAEwkI,UAAU,CAAC,QAAQ;QAC5GhpJ,OAAO,GAAG,CAAC+oJ,mBAAmB;MAChC;MACApqJ,IAAI,CAACA,IAAI,GAAG8rJ,WAAW;MACvB9rJ,IAAI,CAAC7hB,CAAC,GAAGA,CAAC;MACV6hB,IAAI,CAACiY,CAAC,GAAGA,CAAC;MACVjY,IAAI,CAACk6C,OAAO,CAAC,IAAI,CAAC5jD,UAAU,CAACyrJ,YAAY,CAAC;MAC1C/hJ,IAAI,CAACo6C,QAAQ,CAACjI,KAAK,CAAC;MACpBnyC,IAAI,CAACiB,IAAI,GAAGZ,KAAK;MACjBL,IAAI,CAACqB,OAAO,GAAGA,OAAO;IACxB,CAAC,CAAC;EACJ;EACA2iJ,iBAAiBA,CAACliK,OAAO,EAAEylH,UAAU,EAAE;IACrC,OAAOjqH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAEykK,YAAY;QAAEE;MAAY,CAAC,GAAG,IAAI,CAAC3rJ,UAAU;MACrD,MAAMkzJ,aAAa,GAAGvH,WAAW,CAAC/kK,MAAM;MACxC,MAAM;QAAEqJ,MAAM,EAAErB,OAAO;QAAEm8J,kBAAkB;QAAExlG;MAAW,CAAC,GAAGkmG,YAAY;MACxE,IAAI,CAACA,YAAY,CAACvhJ,eAAe,EAAE;QACjC,OAAO,IAAI;MACb;MACA,MAAM,IAAI,CAACslJ,oBAAoB,CAAC,CAAC;MACjC,IAAI,CAACqC,iBAAiB,CAAC,KAAK,CAAC;MAC7B,IAAI,CAACuC,mCAAmC,CAAC,CAAC;MAC1C,MAAMqB,SAAS,GAAG,EAAE;MACpB,MAAM/rJ,IAAI,GAAG,IAAIi7C,IAAI,CAAC,CAAC;MACvB,IAAIwhB,QAAQ;MACZ,MAAM;QAAE38D;MAAM,CAAC,GAAG,IAAI,CAACxJ,UAAU;MACjC,IAAI,CAACwJ,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACE,IAAI,KAAKF,KAAK,CAACC,OAAO,EAAE;QAC1D,MAAMuZ,EAAE,GAAG,IAAI,CAAC+uI,oBAAoB,CAAC,CAAC;QACtC,IAAIh4J,QAAQ,CAACipB,EAAE,CAAC,EAAE;UAChBtZ,IAAI,CAACA,IAAI,GAAGF,KAAK,CAACE,IAAI;UACtBA,IAAI,CAAC7hB,CAAC,GAAG,CAAC;UACV6hB,IAAI,CAACiY,CAAC,GAAGqB,EAAE;UACXtZ,IAAI,CAACk6C,OAAO,CAACp6C,KAAK,CAAC;UACnBE,IAAI,CAACo6C,QAAQ,CAAC;YACZrF,YAAY,EAAE,QAAQ;YACtBD,SAAS,EAAE;UACb,CAAC,CAAC;UACF2nB,QAAQ,GAAGz8D,IAAI,CAACkjB,WAAW,CAAC,CAAC;UAC7B6oI,SAAS,CAACnnK,IAAI,CAAC63E,QAAQ,CAAC;QAC1B;MACF;MACA,IAAI,CAACikD,QAAQ,CAAC1qH,OAAO,CAAEmrB,KAAK,IAAK;QAC/B,IAAI58B,EAAE;QACN,MAAM+b,KAAK,GAAG6gB,KAAK,CAAC4gI,YAAY;QAChC,IAAI,CAACzhJ,KAAK,IAAI6gB,KAAK,CAACq6H,WAAW,KAAK,CAAC,EAAE;UACrC,OAAO,IAAI;QACb;QACA,MAAM2P,WAAW,GAAGhqI,KAAK,CAACq6H,WAAW,GAAGgO,aAAa,GAAGtkK,OAAO;QAC/D,MAAM/G,CAAC,GAAGgjC,KAAK,CAACwlI,MAAM,GAAGwE,WAAW;QACpC,MAAMlzI,CAAC,GAAGkJ,KAAK,CAACylI,MAAM,GAAGuE,WAAW,GAAG7qJ,KAAK,CAACinJ,gBAAgB;QAC7DvnJ,IAAI,CAACA,IAAI,GAAGM,KAAK,CAACN,IAAI;QACtBA,IAAI,CAAC7hB,CAAC,GAAGA,CAAC;QACV6hB,IAAI,CAACiY,CAAC,GAAGA,CAAC;QACVjY,IAAI,CAACk6C,OAAO,CAAC,IAAI,CAAC5jD,UAAU,CAACyrJ,YAAY,CAAC;QAC1C/hJ,IAAI,CAACo6C,QAAQ,CAAC;UACZtF,SAAS,EAAE,CAACvwD,EAAE,GAAG+b,KAAK,CAACgnJ,kBAAkB,KAAK,IAAI,GAAG/iK,EAAE,GAAG+b,KAAK,CAACw0C,SAAS;UACzEC,YAAY,EAAEz0C,KAAK,CAACy0C;QACtB,CAAC,CAAC;QACF,MAAMx6B,GAAG,GAAGva,IAAI,CAACkjB,WAAW,CAAC,CAAC;QAC9B5iB,KAAK,CAACia,GAAG,GAAGA,GAAG;QACf,IAAIh/B,IAAI,CAAC27B,GAAG,CAAC5W,KAAK,CAACinJ,gBAAgB,CAAC,GAAGlG,kBAAkB,EAAE;UACzD/gJ,KAAK,CAACtU,MAAM,GAAG,IAAI;UACnB;QACF;QACA,IAAIywE,QAAQ,EAAE;UACZ,MAAMutF,SAAS,GAAGziD,UAAU,CAACtvF,CAAC,GAAG,IAAI,CAACyiB,OAAO;UAC7C,MAAMsxH,cAAc,GAAG,IAAIvxI,IAAI,CAC7BgiD,QAAQ,CAACt+E,CAAC,GAAG09D,UAAU,EACvBmuG,SAAS,EACTvtF,QAAQ,CAAC/7D,KAAK,GAAG,CAAC,GAAGm7C,UAAU,EAC/B4gB,QAAQ,CAACxkD,CAAC,GAAGwkD,QAAQ,CAACzjD,MAAM,GAAG6iC,UAAU,GAAGmuG,SAC9C,CAAC;UACD,IAAIzvI,GAAG,CAACpB,YAAY,CAAC6yI,cAAc,CAAC,EAAE;YACpC1rJ,KAAK,CAACtU,MAAM,GAAG,IAAI;YACnB;UACF;QACF;QACA,IAAIlK,OAAO,CAACmqK,iBAAiB,EAAE;UAC7B,MAAM;YAAE5B,UAAU;YAAED,mBAAmB;YAAEE;UAA6B,CAAC,GAAG,IAAI,CAACT,gBAAgB,CAC7FvpJ,KAAK,CAACN,IAAI,EACVua,GAAG,EACHgtF,UACF,CAAC;UACD,MAAM2kD,UAAU,GAAG5rJ,KAAK,CAACN,IAAI,CAAC9iB,MAAM,GAAG,CAAC,IAAImtK,UAAU,GAAG,CAAC;UAC1D,IAAID,mBAAmB,IAAI8B,UAAU,IAAI5B,4BAA4B,EAAE;YACrEhqJ,KAAK,CAACtU,MAAM,GAAG,IAAI;YACnB;UACF;QACF;QACAsU,KAAK,CAACtU,MAAM,GAAG,KAAK;QACpB+/J,SAAS,CAACnnK,IAAI,CAAC21B,GAAG,CAAC;MACrB,CAAC,CAAC;MACF,IAAIwxI,SAAS,CAAC7uK,MAAM,KAAK,CAAC,EAAE;QAC1B,OAAO,IAAI;MACb;MACA,OAAOu9B,IAAI,CAACH,KAAK,CAACyxI,SAAS,CAAC;IAC9B,CAAC,CAAC;EACJ;EACA1C,sBAAsBA,CAAA,EAAG;IACvB,MAAM;MAAE3E;IAAY,CAAC,GAAG,IAAI;IAC5B,MAAMnmC,WAAW,GAAGmmC,WAAW,CAAC5oH,OAAO,CAAC,CAAC,CAAC;IAC1C,MAAM;MAAE37B,QAAQ;MAAEg6C,SAAS;MAAEj6C,UAAU;MAAEE,UAAU;MAAEmhJ,cAAc;MAAEC,aAAa;MAAEnhJ;IAAM,CAAC,GAAG,IAAI,CAAC/J,UAAU,CAAC0rJ,WAAW;IACzH,MAAMgM,OAAO,GAAGzvC,WAAW,GAAG,CAAC;IAC/B,MAAM0vC,mBAAmB,GAAG,IAAI,CAACptC,iBAAiB,CAACl0H,MAAM,CAACklB,OAAO,CAAC,CAAC30B,MAAM,KAAK,CAAC;IAC/E,IAAI,CAACmoK,oBAAoB,CAACp7F,IAAI,CAAC,CAACjqD,IAAI,EAAEmhB,KAAK,KAAK;MAC9C,MAAM;QAAE6gI,WAAW;QAAExG;MAAY,CAAC,GAAGr6H,KAAK;MAC1C,IAAIgrI,aAAa,GAAG,KAAK;MACzB,IAAInK,WAAW,IAAIxG,WAAW,KAAK,CAAC,EAAE;QACpC,MAAM2P,WAAW,GAAG5sC,WAAW,IAAI,CAAC,GAAGijC,aAAa,CAAC,GAAGhG,WAAW,GAAGgG,aAAa,GAAGD,cAAc;QACpGvhJ,IAAI,CAACiB,IAAI,GAAGZ,KAAK;QACjBL,IAAI,CAACm6C,SAAS,GAAGA,SAAS;QAC1Bn6C,IAAI,CAACE,UAAU,GAAGA,UAAU;QAC5BF,IAAI,CAACG,QAAQ,GAAGA,QAAQ;QACxBH,IAAI,CAACI,UAAU,GAAGA,UAAU;QAC5BJ,IAAI,CAACA,IAAI,GAAGgiJ,WAAW,CAAChiJ,IAAI;QAC5B,MAAMkuJ,qBAAqB,GAAG,CAACF,OAAO,IAAIC,mBAAmB;QAC7D,IAAIC,qBAAqB,EAAE;UACzBluJ,IAAI,CAAC7hB,CAAC,GAAG,CAAC;UACV6hB,IAAI,CAACiY,CAAC,GAAG,CAAC;QACZ,CAAC,MAAM;UACLjY,IAAI,CAAC7hB,CAAC,GAAGgjC,KAAK,CAACwlI,MAAM,GAAGwE,WAAW;UACnCnrJ,IAAI,CAACiY,CAAC,GAAGkJ,KAAK,CAACylI,MAAM,GAAGuE,WAAW;QACrC;QACAnrJ,IAAI,CAAC80C,SAAS,GAAG,QAAQ;QACzB90C,IAAI,CAAC+0C,YAAY,GAAG,QAAQ;QAC5B,MAAM13B,IAAI,GAAGrd,IAAI,CAACkjB,WAAW,CAAC,CAAC;QAC/B,MAAMqnI,OAAO,GAAG,CACd,CAACltI,IAAI,CAACl/B,CAAC,EAAEk/B,IAAI,CAACpF,CAAC,CAAC,EAChB,CAACoF,IAAI,CAACl/B,CAAC,GAAGk/B,IAAI,CAAC3c,KAAK,EAAE2c,IAAI,CAACpF,CAAC,CAAC,EAC7B,CAACoF,IAAI,CAACl/B,CAAC,GAAGk/B,IAAI,CAAC3c,KAAK,EAAE2c,IAAI,CAACpF,CAAC,GAAGoF,IAAI,CAACrE,MAAM,CAAC,EAC3C,CAACqE,IAAI,CAACl/B,CAAC,EAAEk/B,IAAI,CAACpF,CAAC,GAAGoF,IAAI,CAACrE,MAAM,CAAC,CAC/B;QACD,MAAM;UAAE8gB,UAAU;UAAEC;QAAS,CAAC,GAAG5Y,KAAK;QACtC,MAAMirI,YAAY,GAAG;UAAEtyH,UAAU;UAAEC,QAAQ;UAAEwkF,WAAW;UAAEi9B;QAAY,CAAC;QACvE,IAAI+O,OAAO,CAACtlK,KAAK,CAAC,CAAC,CAAC9G,CAAC,EAAE85B,CAAC,CAAC,KAAKwjI,eAAe,CAACt9J,CAAC,EAAE85B,CAAC,EAAEm0I,YAAY,CAAC,CAAC,EAAE;UAClED,aAAa,GAAG,IAAI;QACtB;MACF;MACAnsJ,IAAI,CAACqB,OAAO,GAAG8qJ,aAAa;IAC9B,CAAC,CAAC;EACJ;EACA7C,qBAAqBA,CAAA,EAAG;IACtB,MAAM+C,UAAU,GAAG,EAAE;IACrB,MAAMC,OAAO,GAAG,EAAE;IAClB,IAAI,CAAChH,oBAAoB,CAACr7F,IAAI,CAAC,CAACjqD,IAAI,EAAEmhB,KAAK,KAAK;MAC9C,MAAM;QAAEg5B,SAAS;QAAEj6C,UAAU;QAAEC,QAAQ;QAAEC,UAAU;QAAEC,KAAK;QAAEi4F,MAAM,GAAG;MAAE,CAAC,GAAGn3E,KAAK;MAChFnhB,IAAI,CAACm6C,SAAS,GAAGA,SAAS;MAC1Bn6C,IAAI,CAACE,UAAU,GAAGA,UAAU;MAC5BF,IAAI,CAACG,QAAQ,GAAGA,QAAQ;MACxBH,IAAI,CAACI,UAAU,GAAGA,UAAU;MAC5BJ,IAAI,CAACA,IAAI,GAAGmhB,KAAK,CAACnhB,IAAI;MACtBA,IAAI,CAAC7hB,CAAC,GAAG,CAAC;MACV6hB,IAAI,CAACiY,CAAC,GAAG,CAAC;MACVjY,IAAI,CAACiB,IAAI,GAAGZ,KAAK;MACjBL,IAAI,CAAC80C,SAAS,GAAG,QAAQ;MACzB90C,IAAI,CAAC+0C,YAAY,GAAG,YAAY;MAChCs3G,UAAU,CAACznK,IAAI,CAACob,IAAI,CAACkjB,WAAW,CAAC,CAAC,CAAC;MACnCopI,OAAO,CAAC1nK,IAAI,CAAC0zG,MAAM,CAAC;IACtB,CAAC,CAAC;IACF,MAAMi0D,YAAY,GAAIrhK,KAAK,IAAKA,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGohK,OAAO,CAACphK,KAAK,CAAC;IAChE,MAAMshK,eAAe,GAAIthK,KAAK,IAAKA,KAAK,KAAKohK,OAAO,CAACpvK,MAAM,GAAG,CAAC,GAAG,CAAC,GAAGovK,OAAO,CAACphK,KAAK,CAAC;IACpF,MAAMirD,WAAW,GAAGk2G,UAAU,CAACn9J,MAAM,CAAC,CAAC4qD,IAAI,EAAEz8B,IAAI,EAAEpgC,CAAC,KAAK;MACvD,OAAO68D,IAAI,GAAGz8B,IAAI,CAACrE,MAAM,GAAGuzI,YAAY,CAACtvK,CAAC,CAAC,GAAGuvK,eAAe,CAACvvK,CAAC,CAAC;IAClE,CAAC,EAAE,CAAC,CAAC;IACL,MAAMivI,UAAU,GAAG3wI,IAAI,CAAC6J,GAAG,CAAC,GAAGinK,UAAU,CAAC96J,GAAG,CAAE8rB,IAAI,IAAKA,IAAI,CAAC3c,KAAK,CAAC,CAAC;IACpE,MAAM69G,WAAW,GAAG,IAAI,CAAC0pC,cAAc,CAAC,CAAC;IACzC,MAAMkD,WAAW,GAAG5vK,IAAI,CAACs1D,IAAI,CAACt1D,IAAI,CAACC,GAAG,CAAC0wI,UAAU,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG3wI,IAAI,CAACC,GAAG,CAAC26D,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IACzF,MAAMs2G,aAAa,GAAGtB,WAAW,KAAK5sC,WAAW,GAAG,CAAC,GAAGA,WAAW,GAAG,IAAI,CAAC2pC,cAAc,CAAC,CAAC,CAAC;IAC5F,MAAMwE,WAAW,GAAG,EAAE;IACtB,KAAK,IAAIzvK,CAAC,GAAG,CAAC,EAAEi7C,IAAI,GAAG,CAACie,WAAW,GAAG,CAAC,EAAEl5D,CAAC,GAAGovK,UAAU,CAACnvK,MAAM,EAAED,CAAC,EAAE,EAAE;MACnE,MAAMogC,IAAI,GAAGgvI,UAAU,CAACpvK,CAAC,CAAC;MAC1B,MAAMilB,MAAM,GAAGmb,IAAI,CAACrE,MAAM,GAAGkf,IAAI,GAAGq0H,YAAY,CAACtvK,CAAC,CAAC;MACnDyvK,WAAW,CAAC9nK,IAAI,CAACsd,MAAM,CAAC;MACxBg2B,IAAI,GAAGh2B,MAAM,GAAGsqJ,eAAe,CAACvvK,CAAC,CAAC;IACpC;IACA,IAAI,CAACqoK,oBAAoB,CAACr7F,IAAI,CAAC,CAACjqD,IAAI,EAAEohB,MAAM,EAAEl2B,KAAK,KAAK;MACtD8U,IAAI,CAACiY,CAAC,GAAGy0I,WAAW,CAACxhK,KAAK,CAAC;MAC3B8U,IAAI,CAACqB,OAAO,GAAGorJ,aAAa;IAC9B,CAAC,CAAC;EACJ;EACAlD,kBAAkBA,CAAA,EAAG;IACnB,IAAI,CAAC1E,gBAAgB,CAAChjJ,IAAI,GAAG,IAAI,CAACqmJ,cAAc,CAAC,CAAC,GAAG,CAAC;IACtD,IAAI,CAACpD,gBAAgB,CAACjjJ,IAAI,GAAG,IAAI,CAAComJ,cAAc,CAAC,CAAC,GAAG,CAAC;EACxD;EACA0E,kBAAkBA,CAAC1rC,SAAS,EAAE;IAC5B,MAAM;MAAEmjC,QAAQ;MAAEE,eAAe;MAAEC,cAAc;MAAEiB;IAAc,CAAC,GAAG,IAAI,CAAClvJ,UAAU;IACpF,MAAM;MAAE0rJ,WAAW;MAAED,YAAY;MAAEyF;IAAW,CAAC,GAAGvmC,SAAS;IAC3D,IAAIukC,aAAa,IAAIgC,UAAU,KAAK,KAAK,CAAC,EAAE;MAC1C,OAAOA,UAAU,CAACxnJ,IAAI;IACxB,CAAC,MAAM,IAAIskJ,eAAe,IAAIA,eAAe,KAAKF,QAAQ,IAAI,CAACrC,YAAY,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,YAAY,CAAC/hJ,IAAI,MAAM,KAAK,CAAC,EAAE;MAC5H,OAAO+hJ,YAAY,CAAC/hJ,IAAI;IAC1B,CAAC,MAAM,IAAIukJ,cAAc,IAAIA,cAAc,KAAKH,QAAQ,IAAI,CAACpC,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAChiJ,IAAI,MAAM,KAAK,CAAC,EAAE;MACxH,OAAOgiJ,WAAW,CAAChiJ,IAAI;IACzB;EACF;EACA4hG,oBAAoBA,CAAC/rD,KAAK,EAAE;IAC1B,OAAOutG,mBAAmB,CAAC,IAAI,EAAEvtG,KAAK,CAAC;EACzC;EACAi6D,cAAcA,CAACmR,SAAS,EAAE;IACxB,IAAI18H,EAAE;IACN,IAAI,CAAC,IAAI,CAAC+R,UAAU,CAACQ,OAAO,CAAC,CAAC,EAAE;MAC9B,OAAO83D,qBAAqB;IAC9B;IACA,MAAM;MACJztC,KAAK;MACLmlI,UAAU;MACVvD,YAAY,EAAE;QAAE9hJ,IAAI,EAAEZ;MAAM,CAAC;MAC7B+8E;IACF,CAAC,GAAG6jC,SAAS;IACb,MAAMnhH,KAAK,GAAG6jI,YAAY,CAAC,CAACp/I,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwJ,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvb,EAAE,CAACyb,IAAI,CAAC;IACnF,MAAMgkD,OAAO,GAAG5zD,cAAc,CAACk2J,UAAU,CAAC,GAAGl4I,OAAO,CAACk4I,UAAU,CAAC,GAAGvrH,MAAM,CAACurH,UAAU,CAAC;IACrF,MAAM1rB,SAAS,GAAG,IAAI,CAAC+xB,kBAAkB,CAAC1rC,SAAS,CAAC;IACpD,OAAO,IAAI,CAAC3qH,UAAU,CAACoL,OAAO,CAACytD,aAAa,CAC1C;MACErvD,KAAK,EAAEA,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAG86H,SAAS;MACxC52E,OAAO,EAAElkD,KAAK,IAAI86H,SAAS,GAAG,GAAGA,SAAS,KAAK52E,OAAO,EAAE,GAAGA,OAAO;MAClEoL,eAAe,EAAE/uD;IACnB,CAAC,EACD;MACE8gB,KAAK;MACLi8D,MAAM;MACNt9E,KAAK;MACLO,KAAK;MACL89F,QAAQ,EAAE,IAAI,CAAC59E,EAAE;MACjB6jI,QAAQ,EAAE,IAAI,CAAC9tJ,UAAU,CAAC8tJ,QAAQ;MAClC6C,SAAS,EAAE,IAAI,CAAC3wJ,UAAU,CAAC2wJ,SAAS;MACpC5C,SAAS,EAAE,IAAI,CAAC/tJ,UAAU,CAAC+tJ,SAAS;MACpC6C,UAAU,EAAE,IAAI,CAAC5wJ,UAAU,CAAC4wJ,UAAU;MACtC5C,eAAe,EAAE,IAAI,CAAChuJ,UAAU,CAACguJ,eAAe;MAChD6C,gBAAgB,EAAE,IAAI,CAAC7wJ,UAAU,CAAC6wJ,gBAAgB;MAClD5C,cAAc,EAAE,IAAI,CAACjuJ,UAAU,CAACiuJ,cAAc;MAC9C6C,eAAe,EAAE,IAAI,CAAC9wJ,UAAU,CAAC8wJ,eAAe;MAChD5B,aAAa,EAAE,IAAI,CAAClvJ,UAAU,CAACkvJ;IACjC,CACF,CAAC;EACH;EACAh3C,aAAaA,CAACvzG,UAAU,EAAE;IACxB,IAAI1W,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE;IACtB,MAAM;MAAE7P,OAAO;MAAEkqF,aAAa;MAAEyG;IAAU,CAAC,GAAG,IAAI;IAClD,IAAI,CAACA,SAAS,IAAI,EAAEzG,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACjyF,IAAI,CAACpc,MAAM,CAAC,IAAI+d,UAAU,KAAK,UAAU,EAAE;MAC5G,OAAO,EAAE;IACX;IACA,MAAM;MAAEmpJ,QAAQ;MAAEE,eAAe;MAAEC,cAAc;MAAEiB;IAAc,CAAC,GAAG,IAAI,CAAClvJ,UAAU;IACpF,IAAI,CAACkvJ,aAAa,KAAK,CAAClB,eAAe,IAAIA,eAAe,KAAKF,QAAQ,CAAC,KAAK,CAACG,cAAc,IAAIA,cAAc,KAAKH,QAAQ,CAAC,EAAE;MAC5H,OAAO,EAAE;IACX;IACA,MAAM;MAAE8B,eAAe;MAAEC,cAAc;MAAEC;IAAc,CAAC,GAAG,IAAI,CAACL,uBAAuB,CAAC/zD,SAAS,CAAC;IAClG,MAAM46D,SAAS,GAAG,CAAC,CAACroK,EAAE,GAAG,IAAI,CAAC+R,UAAU,CAACwJ,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvb,EAAE,CAAC+c,YAAY,KAAK,IAAI,CAAChL,UAAU,CAACwJ,KAAK,CAACE,IAAI;IACjH,MAAM2uG,UAAU,GAAG,EAAE;IACrB,KAAK,IAAIzjH,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGqgG,aAAa,CAACjyF,IAAI,CAACpc,MAAM,EAAEgO,KAAK,EAAE,EAAE;MAC9D,MAAM;QAAEi2B,KAAK;QAAErwB;MAAO,CAAC,GAAGy6F,aAAa,CAACjyF,IAAI,CAACpO,KAAK,CAAC;MACnD,MAAM2hK,UAAU,GAAG,EAAE;MACrB,IAAID,SAAS,EAAE;QACbC,UAAU,CAACjoK,IAAI,CAACgoK,SAAS,CAAC;MAC5B;MACA,MAAMtgG,MAAM,GAAG,IAAI,CAACm6F,SAAS,CAC3BtlI,KAAK,EACL,CAAC,GAAG5lC,IAAI,CAACwsC,EAAE,EACX,CAAC,GAAGxsC,IAAI,CAACwsC,EAAE,EACX,KAAK,EACLj3B,MAAM,CAACo1J,eAAe,CAAC,EACvBp1J,MAAM,CAACq1J,cAAc,CAAC,EACtBr1J,MAAM,CAACs1J,aAAa,CACtB,CAAC;MACD,IAAIZ,aAAa,IAAIl5F,MAAM,CAACk7F,UAAU,KAAK,KAAK,CAAC,EAAE;QACjDqF,UAAU,CAACjoK,IAAI,CAAC0nE,MAAM,CAACk7F,UAAU,CAACxnJ,IAAI,CAAC;MACzC,CAAC,MAAM,IAAIskJ,eAAe,IAAIA,eAAe,KAAKF,QAAQ,IAAI,CAAC,CAACvvJ,EAAE,GAAGy3D,MAAM,CAACy1F,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGltJ,EAAE,CAACmL,IAAI,MAAM,KAAK,CAAC,EAAE;QAChI6sJ,UAAU,CAACjoK,IAAI,CAAC,CAACkQ,EAAE,GAAGw3D,MAAM,CAACy1F,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjtJ,EAAE,CAACkL,IAAI,CAAC;MACxE,CAAC,MAAM,IAAIukJ,cAAc,IAAIA,cAAc,KAAKH,QAAQ,IAAI,CAAC,CAAC3uJ,EAAE,GAAG62D,MAAM,CAAC01F,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGvsJ,EAAE,CAACuK,IAAI,MAAM,KAAK,CAAC,EAAE;QAC7H6sJ,UAAU,CAACjoK,IAAI,CAAC,CAACssB,EAAE,GAAGo7C,MAAM,CAAC01F,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG9wI,EAAE,CAAClR,IAAI,CAAC;MACvE;MACA,IAAI6sJ,UAAU,CAAC3vK,MAAM,KAAK,CAAC,EACzB;MACF,MAAM6lK,YAAY,GAAG,IAAI,CAAC2D,eAAe,CAACvlI,KAAK,EAAEj2B,KAAK,EAAE,KAAK,CAAC;MAC9DyjH,UAAU,CAAC/pH,IAAI,CAAC;QACdqW,UAAU,EAAE,UAAU;QACtBslB,EAAE,EAAE,IAAI,CAACA,EAAE;QACX68D,MAAM,EAAElyF,KAAK;QACbizG,QAAQ,EAAE,IAAI,CAAC59E,EAAE;QACjBxgB,OAAO,EAAEsB,OAAO,IAAI,IAAI,CAACw/G,iBAAiB,CAAC31H,KAAK,CAAC;QACjDoV,KAAK,EAAE;UACLN,IAAI,EAAE6sJ,UAAU,CAACz2J,IAAI,CAAC,KAAK;QAC7B,CAAC;QACDyM,MAAM,EAAE;UACN5B,IAAI,EAAE8hJ,YAAY,CAAC9hJ,IAAI;UACvBH,MAAM,EAAEiiJ,YAAY,CAACjiJ,MAAM;UAC3BI,WAAW,EAAE,IAAI,CAAC5K,UAAU,CAAC4K,WAAW;UACxCmwC,aAAa,EAAE,IAAI,CAAC/6C,UAAU,CAAC+6C,aAAa;UAC5ClwC,WAAW,EAAE,IAAI,CAAC7K,UAAU,CAAC6K;QAC/B,CAAC;QACDk8E,cAAc,EAAEmoE,aAAa,IAAI,IAAI,GAAGrkI,KAAK,CAACqkI,aAAa,CAAC,GAAG,KAAK;MACtE,CAAC,CAAC;IACJ;IACA,OAAO72C,UAAU;EACnB;EACAuV,iBAAiBA,CAACvgE,KAAK,EAAE;IACvB,MAAM;MAAE5jD,OAAO;MAAEq9E,MAAM;MAAEroF,MAAM;MAAEsoF;IAAe,CAAC,GAAG15B,KAAK;IACzD,IAAI5uD,MAAM,CAACwrB,EAAE,KAAK,IAAI,CAACA,EAAE,EAAE;MACzB,IAAI,CAAC4hF,gBAAgB,CAAC/kB,MAAM,EAAEr9E,OAAO,CAAC;IACxC,CAAC,MAAM,IAAIs9E,cAAc,IAAI,IAAI,EAAE;MACjC,IAAI,CAACyvE,sBAAsB,CAACzvE,cAAc,EAAEt9E,OAAO,CAAC;IACtD;EACF;EACAoiG,gBAAgBA,CAAC/kB,MAAM,EAAEr9E,OAAO,EAAE;IAChC,IAAI,CAAC8gH,iBAAiB,CAACzjC,MAAM,CAAC,GAAGr9E,OAAO;IACxC,IAAI,CAAC6+F,eAAe,GAAG,IAAI;EAC7B;EACAkuD,sBAAsBA,CAACzvE,cAAc,EAAEt9E,OAAO,EAAE;IAC9C,IAAIxb,EAAE;IACN,IAAI,CAAC,IAAI,CAAC+R,UAAU,CAACkvJ,aAAa,IAAI,CAAC,IAAI,CAACxzD,SAAS,EAAE;MACrD;IACF;IACA,MAAMo0D,aAAa,GAAG,IAAI,CAACp0D,SAAS,CAAC9G,6BAA6B,CAAC,IAAI,EAAE,iBAAiB,CAAC;IAC3F,CAAC3mG,EAAE,GAAG,IAAI,CAACgnG,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhnG,EAAE,CAAC+U,IAAI,CAACtD,OAAO,CAAC,CAAC;MAAElF;IAAO,CAAC,EAAEi8J,WAAW,KAAK;MACxF,IAAIj8J,MAAM,CAACs1J,aAAa,CAAC,KAAK/oE,cAAc,EAAE;QAC5C,IAAI,CAAC8kB,gBAAgB,CAAC4qD,WAAW,EAAEhtJ,OAAO,CAAC;MAC7C;IACF,CAAC,CAAC;EACJ;EACAqjH,uBAAuBA,CAAC3jB,KAAK,EAAE;IAC7B,MAAM;MAAEroE;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IACrC,MAAMr7B,GAAG,GAAG0/J,kCAAkC,CAC5C,IAAI,EACJ,IAAI,CAAChsJ,UAAU,CAACmoB,QAAQ,EACxB,IAAI,CAACimI,WAAW,EAChB,IAAI,CAACD,mBACP,CAAC;IACDtuI,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,OAAO,EAAE6W,gBAAgB,EAAE,CAAC,IAAI,CAAC4hG,aAAa,EAAE,IAAI,CAACpW,kBAAkB,CAAC,EAAEhgI,GAAG,CAAC0/B,KAAK,CAAC;IAC1GnM,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,aAAa,EAAE6W,gBAAgB,EAAE,CAAC,IAAI,CAACmuH,oBAAoB,CAAC,EAAE3iK,GAAG,CAACk/J,WAAW,CAAC;IACpGle,0BAA0B,CAAC,IAAI,EAAE,SAAS,EAAExsG,gBAAgB,EAAE,IAAI,CAACguH,qBAAqB,CAAC;IACzFxhB,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAExsG,gBAAgB,EAAE,IAAI,CAACiuH,oBAAoB,CAAC;IACvFzhB,0BAA0B,CAAC,IAAI,EAAE,OAAO,EAAExsG,gBAAgB,EAAE,IAAI,CAACkuH,oBAAoB,CAAC;IACtF,IAAI,CAACb,mBAAmB,CAACtgK,KAAK,GAAG,IAAI,CAACugK,WAAW,CAACvgK,KAAK;EACzD;EACAw/H,yBAAyBA,CAAA,EAAG;IAC1B,IAAIp/H,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE,EAAEyb,EAAE,EAAEkkB,EAAE;IAC1B,MAAM;MAAE4jG,aAAa;MAAEpW,kBAAkB;MAAEr3B,aAAa;MAAEm5D,WAAW;MAAED;IAAoB,CAAC,GAAG,IAAI;IACnG,MAAM;MAAErtH;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IACrC,MAAMk3H,QAAQ,GAAG,CAAC5wJ,EAAE,GAAGgnG,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACyE,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGzrG,EAAE,CAAC8yG,IAAI;IACzG,IAAI,CAACp5E,GAAG,CAACmZ,gBAAgB,CAACg/C,sBAAsB,CAAC,IAAI,CAAC71D,EAAE,CAAC;IACzD,MAAMysI,aAAa,GAAG,CAAC,CAACn4J,EAAE,GAAGsgJ,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACt4C,KAAK,CAACh7F,IAAI,KAAK,IAAI,GAAGhN,EAAE,GAAG,CAAC,MAAM,CAAC;IACrG,MAAMo4J,OAAO,GAAG,CAAC,CAACn4J,EAAE,GAAGy2F,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACD,IAAI,CAAC7+F,IAAI,CAACvP,MAAM,KAAK,IAAI,GAAG4X,EAAE,GAAG,CAAC,IAAI,CAAC;IAC7G,MAAMo4J,aAAa,GAAG,CAAC93H,EAAE,GAAG,CAAClkB,EAAE,GAAG,CAACzb,EAAE,GAAG81F,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACyE,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGv6F,EAAE,CAAC+lG,mBAAmB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtqF,EAAE,CAACwqF,UAAU,KAAK,IAAI,GAAGtmE,EAAE,GAAG,IAAI;IAChM,IAAI,CAAC43H,aAAa,IAAI,CAACC,OAAO,IAAI,CAACC,aAAa,EAAE;MAChD,IAAI,CAACjvI,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC9C;IACA,MAAMj5F,GAAG,GAAG0/J,kCAAkC,CAC5C,KAAK,EACL,IAAI,CAAChsJ,UAAU,CAACmoB,QAAQ,EACxBimI,WAAW,EACXD,mBACF,CAAC;IACDtuI,YAAY,CACV,IAAI,CAACoK,EAAE,EACP,OAAO,EACP6W,gBAAgB,EAChB,CAAC4hG,aAAa,EAAEpW,kBAAkB,CAAC,EACnChgI,GAAG,CAAC0/B,KAAK,EACT,CAAC7S,CAAC,EAAE0R,KAAK,KAAK,IAAI,CAACkW,UAAU,CAAClW,KAAK,CAAC,EACpCg0H,QACF,CAAC;IACDh/H,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,aAAa,EAAE6W,gBAAgB,EAAE,CAAC,IAAI,CAACmuH,oBAAoB,CAAC,EAAE3iK,GAAG,CAACk/J,WAAW,CAAC;IACpGle,0BAA0B,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACguH,qBAAqB,CAAC;IAClGxhB,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACiuH,oBAAoB,CAAC;IAChGzhB,0BAA0B,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC3lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACkuH,oBAAoB,CAAC;IAC/F,IAAI,CAACb,mBAAmB,CAACtgK,KAAK,GAAG,IAAI,CAACugK,WAAW,CAACvgK,KAAK;EACzD;EACA4/H,0BAA0BA,CAAA,EAAG;IAC3B,MAAM;MAAEiV,aAAa;MAAEpW,kBAAkB;MAAE8hC,WAAW;MAAED;IAAoB,CAAC,GAAG,IAAI;IACpF,MAAM;MAAErtH;IAAiB,CAAC,GAAG,IAAI,CAACnZ,GAAG;IACrC,MAAMr7B,GAAG,GAAG0/J,kCAAkC,CAC5C,KAAK,EACL,IAAI,CAAChsJ,UAAU,CAACmoB,QAAQ,EACxBimI,WAAW,EACXD,mBACF,CAAC;IACDtuI,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,OAAO,EAAE6W,gBAAgB,EAAE,CAAC4hG,aAAa,EAAEpW,kBAAkB,CAAC,EAAEhgI,GAAG,CAAC0/B,KAAK,CAAC;IAChGnM,YAAY,CAAC,IAAI,CAACoK,EAAE,EAAE,aAAa,EAAE6W,gBAAgB,EAAE,CAAC,IAAI,CAACmuH,oBAAoB,CAAC,EAAE3iK,GAAG,CAACk/J,WAAW,CAAC;IACpGhe,2BAA2B,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC7lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACguH,qBAAqB,CAAC;IACnGthB,2BAA2B,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC7lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACiuH,oBAAoB,CAAC;IACjGvhB,2BAA2B,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC7lH,GAAG,CAACmZ,gBAAgB,EAAE,IAAI,CAACkuH,oBAAoB,CAAC;IAChG,IAAI,CAACb,mBAAmB,CAACtgK,KAAK,GAAG,IAAI,CAACugK,WAAW,CAACvgK,KAAK;EACzD;EACAgpK,kBAAkBA,CAAChsI,KAAK,EAAE;IACxB,IAAI58B,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,MAAM;MAAEwvJ,eAAe;MAAEC,cAAc;MAAEiB;IAAc,CAAC,GAAG,IAAI,CAAClvJ,UAAU;IAC1E,IAAI,EAAE,CAACxB,EAAE,GAAG,CAACD,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAACgnG,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhnG,EAAE,CAACyrG,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGn7F,EAAE,CAAC2mG,mBAAmB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG1mG,EAAE,CAAC4mG,UAAU,CAAC,EAAE;MACvJ;IACF;IACA,IAAI8pD,aAAa,EAAE;MACjB,OAAOrkI,KAAK,CAACqkI,aAAa,CAAC;IAC7B,CAAC,MAAM,IAAIlB,eAAe,EAAE;MAC1B,OAAOnjI,KAAK,CAACmjI,eAAe,CAAC;IAC/B,CAAC,MAAM,IAAIC,cAAc,EAAE;MACzB,OAAOpjI,KAAK,CAACojI,cAAc,CAAC;IAC9B;EACF;EACAltH,UAAUA,CAAClW,KAAK,EAAE;IAChB,MAAM;MAAEj2B;IAAM,CAAC,GAAGi2B,KAAK;IACvB,MAAM2oC,OAAO,GAAG,IAAI,CAACqjG,kBAAkB,CAAChsI,KAAK,CAACA,KAAK,CAAC;IACpD,OAAO2oC,OAAO,IAAI,IAAI,GAAG/uB,MAAM,CAAC+uB,OAAO,CAAC,GAAG,GAAG5+D,KAAK,EAAE;EACvD;EACA40G,YAAYA,CAAA,EAAG;IACb,IAAIv7G,EAAE;IACN,MAAM;MAAE+U,IAAI;MAAEunH;IAAkB,CAAC,GAAG,IAAI;IACxC,IAAI,CAACA,iBAAiB,GAAG,CAACt8H,EAAE,GAAG+U,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC/H,GAAG,CAAC,CAACke,CAAC,EAAEvkB,KAAK,KAAK;MAC5E,IAAI0nB,GAAG;MACP,OAAO,CAACA,GAAG,GAAGiuG,iBAAiB,CAAC31H,KAAK,CAAC,KAAK,IAAI,GAAG0nB,GAAG,GAAG,IAAI;IAC9D,CAAC,CAAC,KAAK,IAAI,GAAGruB,EAAE,GAAG,EAAE;EACvB;EACAu8H,kBAAkBA,CAAC7oH,IAAI,EAAE;IACvB,OAAOsrJ,wBAAwB,CAAC,IAAI,EAAEtrJ,IAAI,CAAC;EAC7C;AACF,CAAC;AACD81J,SAAS,CAACx3J,SAAS,GAAG,WAAW;AACjCw3J,SAAS,CAACjjK,IAAI,GAAG,KAAK;;AAEtB;AACA,IAAIqjK,eAAe,GAAG;EACpBrjK,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,UAAU;EACtBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,OAAO,CAAC;EACrB3I,UAAU,EAAE,KAAK;EACjBmB,mBAAmB,EAAE4hK,SAAS;EAC9B3hK,aAAa,EAAEghK,QAAQ;EACvBxzJ,cAAc,EAAEyzJ;AAClB,CAAC;;AAED;AACA,IAAIe,kBAAkB,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,CAAC;AACnD,IAAIC,cAAc,GAAG,CAAC,aAAa,EAAE,QAAQ,EAAE,MAAM,CAAC;AACtD,IAAIC,eAAe,GAAG,eAAgB,CAAEC,gBAAgB,IAAK;EAC3DA,gBAAgB,CAAC,KAAK,CAAC,GAAG,KAAK;EAC/BA,gBAAgB,CAAC,OAAO,CAAC,GAAG,OAAO;EACnCA,gBAAgB,CAAC,QAAQ,CAAC,GAAG,QAAQ;EACrCA,gBAAgB,CAAC,MAAM,CAAC,GAAG,MAAM;EACjCA,gBAAgB,CAAC,aAAa,CAAC,GAAG,cAAc;EAChDA,gBAAgB,CAAC,gBAAgB,CAAC,GAAG,iBAAiB;EACtD,OAAOA,gBAAgB;AACzB,CAAC,EAAED,eAAe,IAAI,CAAC,CAAC,CAAC;AACzB,IAAIE,iBAAiB,GAAG30K,MAAM,CAACiX,MAAM,CAACw9J,eAAe,CAAC;;AAEtD;AACA,IAAIG,sBAAsB,GAAG,cAAcp4J,cAAc,CAAC;EACxD5S,WAAWA,CAACirK,QAAQ,EAAEC,eAAe,EAAE;IACrC,KAAK,CAAC,CAAC;IACP,IAAI,CAACD,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,eAAe,GAAGA,eAAe;IACtC,IAAI,CAACx8G,KAAK,GAAG,OAAO;IACpB,IAAI,CAAC1vC,QAAQ,GAAG,KAAK,CAAC;EACxB;AACF,CAAC;AACD5lB,eAAe,CAAC,CACdoxE,cAAc,CAAExxE,MAAM,IAAK;EACzBA,MAAM,CAACiyK,QAAQ,CAACjyK,MAAM,CAACsjB,OAAO,CAAC;AACjC,CAAC,CAAC,EACFq9B,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAEkwH,sBAAsB,CAAC/zK,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAClDmC,eAAe,CAAC,CACdoxE,cAAc,CAAExxE,MAAM,IAAK;EACzBA,MAAM,CAACiyK,QAAQ,CAACjyK,MAAM,CAACsjB,OAAO,CAAC;AACjC,CAAC,CAAC,EACFq9B,QAAQ,CAACiD,KAAK,CAAC,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,EAAE;EAAEtpC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAChE,EAAE03J,sBAAsB,CAAC/zK,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdoxE,cAAc,CAAExxE,MAAM,IAAK;EACzBA,MAAM,CAACiyK,QAAQ,CAACjyK,MAAM,CAACsjB,OAAO,CAAC;AACjC,CAAC,CAAC,EACFq9B,QAAQ,CAACiD,KAAK,CAAC,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,cAAc,EAAE,iBAAiB,CAAC,CAAC,EAAE;EAAEtpC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAC3G,EAAE03J,sBAAsB,CAAC/zK,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdoxE,cAAc,CAAExxE,MAAM,IAAK;EACzBA,MAAM,CAACkyK,eAAe,CAAClyK,MAAM,CAAC08F,OAAO,CAAC;AACxC,CAAC,CAAC,EACF/7C,QAAQ,CAAC8B,KAAK,EAAE;EAAEnoC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACpC,EAAE03J,sBAAsB,CAAC/zK,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;;AAElD;AACA,IAAIk0K,MAAM,GAAG,mBAAmB;AAChC,IAAIC,SAAS,GAAG;EACd18G,KAAK,EAAE,GAAGy8G,MAAM,SAAS;EACzBn3B,MAAM,EAAE,GAAGm3B,MAAM,UAAU;EAC3BE,IAAI,EAAE,GAAGF,MAAM,QAAQ;EACvBtuJ,KAAK,EAAE,GAAGsuJ,MAAM;AAClB,CAAC;AACD,IAAIG,UAAU,GAAG;EACf,CAAC,KAAK,CAAC,YAAY,GAAGH,MAAM,OAAO;EACnC,CAAC,OAAO,CAAC,cAAc,GAAGA,MAAM,SAAS;EACzC,CAAC,QAAQ,CAAC,eAAe,GAAGA,MAAM,UAAU;EAC5C,CAAC,MAAM,CAAC,aAAa,GAAGA,MAAM,QAAQ;EACtC,CAAC,cAAc,CAAC,oBAAoB,GAAGA,MAAM,gBAAgB;EAC7D,CAAC,iBAAiB,CAAC,uBAAuB,GAAGA,MAAM,mBAAmB;EACtE5iK,MAAM,EAAE,GAAG4iK,MAAM,UAAU;EAC3BI,YAAY,EAAE,GAAGJ,MAAM,iBAAiB;EACxCK,cAAc,EAAE,GAAGL,MAAM,mBAAmB;EAC5Cz8G,KAAK,EAAE;IACL/tD,KAAK,EAAE,GAAGyqK,SAAS,CAAC18G,KAAK,SAAS;IAClCqa,MAAM,EAAE,GAAGqiG,SAAS,CAAC18G,KAAK,UAAU;IACpC7d,GAAG,EAAE,GAAGu6H,SAAS,CAAC18G,KAAK;EACzB,CAAC;EACDslF,MAAM,EAAE;IACNzrI,MAAM,EAAE,GAAG6iK,SAAS,CAACp3B,MAAM;EAC7B;AACF,CAAC;AACD,IAAIy3B,IAAI,GAAG;AACX,GAAGN,MAAM;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGG,UAAU,CAAC/iK,MAAM;AACpB,GAAG+iK,UAAU,CAACC,YAAY;AAC1B;AACA;AACA;AACA,GAAGD,UAAU,CAACE,cAAc;AAC5B;AACA;AACA;AACA;AACA,GAAGF,UAAU,CAAC,KAAK,CAAC,UAAU;AAC9B,GAAGA,UAAU,CAAC,QAAQ,CAAC,aAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,UAAU,CAAC,MAAM,CAAC,WAAW;AAChC,GAAGA,UAAU,CAAC,OAAO,CAAC,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA,GAAGA,UAAU,CAAC,cAAc,CAAC,kBAAkB;AAC/C,GAAGA,UAAU,CAAC,iBAAiB,CAAC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGF,SAAS,CAAC18G,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG48G,UAAU,CAAC58G,KAAK,CAACqa,MAAM;AAC1B,GAAGuiG,UAAU,CAAC58G,KAAK,CAAC7d,GAAG;AACvB;AACA;AACA;AACA,GAAGy6H,UAAU,CAAC,MAAM,CAAC,WAAW,KAAKA,UAAU,CAAC58G,KAAK,CAACqa,MAAM;AAC5D,GAAGuiG,UAAU,CAAC,MAAM,CAAC,WAAW,KAAKA,UAAU,CAAC58G,KAAK,CAAC7d,GAAG;AACzD,GAAGy6H,UAAU,CAAC,OAAO,CAAC,YAAY,KAAKA,UAAU,CAAC58G,KAAK,CAACqa,MAAM;AAC9D,GAAGuiG,UAAU,CAAC,OAAO,CAAC,YAAY,KAAKA,UAAU,CAAC58G,KAAK,CAAC7d,GAAG;AAC3D;AACA;AACA;AACA;AACA,GAAGy6H,UAAU,CAAC,cAAc,CAAC,kBAAkB,KAAKF,SAAS,CAAC18G,KAAK;AACnE,GAAG48G,UAAU,CAAC,iBAAiB,CAAC,qBAAqB,KAAKF,SAAS,CAAC18G,KAAK;AACzE;AACA;AACA;AACA;AACA,GAAG08G,SAAS,CAACp3B,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGs3B,UAAU,CAAC,MAAM,CAAC,WAAW,KAAKF,SAAS,CAACp3B,MAAM;AACrD,GAAGs3B,UAAU,CAAC,OAAO,CAAC,YAAY,KAAKF,SAAS,CAACp3B,MAAM;AACvD;AACA;AACA;AACA;AACA;AACA,GAAGs3B,UAAU,CAAC,cAAc,CAAC,kBAAkB,KAAKF,SAAS,CAACp3B,MAAM;AACpE,GAAGs3B,UAAU,CAAC,iBAAiB,CAAC,qBAAqB,KAAKF,SAAS,CAACp3B,MAAM;AAC1E;AACA;AACA;AACA;AACA,GAAGs3B,UAAU,CAACt3B,MAAM,CAACzrI,MAAM;AAC3B;AACA;AACA;AACA,GAAG6iK,SAAS,CAACp3B,MAAM;AACnB;AACA;AACA;AACA,GAAGo3B,SAAS,CAACp3B,MAAM;AACnB;AACA;AACA;AACA;AACA,GAAGo3B,SAAS,CAACp3B,MAAM;AACnB;AACA;AACA;AACA,GAAGo3B,SAAS,CAACC,IAAI;AACjB;AACA;AACA;AACA;AACA,GAAGD,SAAS,CAACC,IAAI,OAAOD,SAAS,CAACvuJ,KAAK;AACvC;AACA;AACA;AACA,GAAGuuJ,SAAS,CAACC,IAAI;AACjB,GAAGD,SAAS,CAACvuJ,KAAK;AAClB;AACA;AACA;AACA,CAAC;;AAED;AACA,IAAI6uJ,OAAO,GAAG,cAAcplK,kBAAkB,CAAC;EAC7CtG,WAAWA,CAACw6B,GAAG,EAAE;IACf,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,GAAG,GAAGA,GAAG;IACd,IAAI,CAACle,OAAO,GAAG,IAAI;IACnB,IAAI,CAACwP,WAAW,GAAG,IAAIk/I,sBAAsB,CAC3C,IAAI,CAACW,cAAc,CAACzkF,IAAI,CAAC,IAAI,EAAE,aAAa,CAAC,EAC7C,IAAI,CAAC0kF,qBAAqB,CAAC1kF,IAAI,CAAC,IAAI,EAAE,aAAa,CACrD,CAAC;IACD,IAAI,CAAC2kF,MAAM,GAAG,IAAIb,sBAAsB,CACtC,IAAI,CAACW,cAAc,CAACzkF,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,EACxC,IAAI,CAAC0kF,qBAAqB,CAAC1kF,IAAI,CAAC,IAAI,EAAE,QAAQ,CAChD,CAAC;IACD,IAAI,CAACsqB,IAAI,GAAG,IAAIw5D,sBAAsB,CACpC,IAAI,CAACW,cAAc,CAACzkF,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,EACtC,IAAI,CAAC0kF,qBAAqB,CAAC1kF,IAAI,CAAC,IAAI,EAAE,MAAM,CAC9C,CAAC;IACD,IAAI,CAAC2tB,MAAM,GAAG,EAAE;IAChB,IAAI,CAACi3D,sBAAsB,GAAG,EAAE;IAChC,IAAI,CAACC,SAAS,GAAG;MACf,CAAC,KAAK,CAAC,YAAY,eAAgB,IAAIllK,GAAG,CAAC,CAAC;MAC5C,CAAC,OAAO,CAAC,cAAc,eAAgB,IAAIA,GAAG,CAAC,CAAC;MAChD,CAAC,QAAQ,CAAC,eAAe,eAAgB,IAAIA,GAAG,CAAC,CAAC;MAClD,CAAC,MAAM,CAAC,aAAa,eAAgB,IAAIA,GAAG,CAAC,CAAC;MAC9C,CAAC,cAAc,CAAC,oBAAoB,eAAgB,IAAIA,GAAG,CAAC,CAAC;MAC7D,CAAC,iBAAiB,CAAC,uBAAuB,eAAgB,IAAIA,GAAG,CAAC;IACpE,CAAC;IACD,IAAI,CAACmlK,kBAAkB,GAAG;MACxB,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;MACrB,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;MACzB,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;MAC3B,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;MACvB,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;MACtC,CAAC,iBAAiB,CAAC,uBAAuB,CAAC;IAC7C,CAAC;IACD,IAAI,CAACC,YAAY,GAAG;MAClBngJ,WAAW,EAAE,CAAC;MACd+/I,MAAM,EAAE,CAAC;MACTr6D,IAAI,EAAE;IACR,CAAC;IACD,IAAI,CAAC06D,YAAY,GAAG;MAClBpgJ,WAAW,EAAE,EAAE;MACf+/I,MAAM,EAAE,EAAE;MACVr6D,IAAI,EAAE;IACR,CAAC;IACD,IAAI,CAAC26D,0BAA0B,GAAG,EAAE;IACpC,IAAI,CAACC,YAAY,GAAG,eAAgB,IAAIvlK,GAAG,CAAC,CAAC;IAC7C,IAAI,CAACkuB,SAAS,GAAGyF,GAAG,CAAC4qE,cAAc,CAAC94B,OAAO;IAC3C,IAAI,CAAC3zC,QAAQ,GAAG;MACd,CAAC,KAAK,CAAC,YAAY,IAAI,CAAC5D,SAAS,CAACzL,WAAW,CAACX,aAAa,CAAC,KAAK,CAAC,CAAC;MACnE,CAAC,OAAO,CAAC,cAAc,IAAI,CAACoM,SAAS,CAACzL,WAAW,CAACX,aAAa,CAAC,KAAK,CAAC,CAAC;MACvE,CAAC,QAAQ,CAAC,eAAe,IAAI,CAACoM,SAAS,CAACzL,WAAW,CAACX,aAAa,CAAC,KAAK,CAAC,CAAC;MACzE,CAAC,MAAM,CAAC,aAAa,IAAI,CAACoM,SAAS,CAACzL,WAAW,CAACX,aAAa,CAAC,KAAK,CAAC,CAAC;MACrE,CAAC,cAAc,CAAC,oBAAoB,IAAI,CAACoM,SAAS,CAACzL,WAAW,CAACX,aAAa,CAAC,KAAK,CAAC,CAAC;MACpF,CAAC,iBAAiB,CAAC,uBAAuB,IAAI,CAACoM,SAAS,CAACzL,WAAW,CAACX,aAAa,CAAC,KAAK,CAAC;IAC3F,CAAC;IACDc,WAAW,CAACgiJ,IAAI,EAAEN,MAAM,CAAC;IACzB,IAAI,CAACkB,aAAa,CAAC,KAAK,CAAC,SAAS,CAAC;IACnC,IAAI,CAACA,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC;IACvC,IAAI,CAACA,aAAa,CAAC,QAAQ,CAAC,YAAY,CAAC;IACzC,IAAI,CAACA,aAAa,CAAC,MAAM,CAAC,UAAU,CAAC;IACrC,IAAI,CAACA,aAAa,CAAC,cAAc,CAAC,iBAAiB,CAAC;IACpD,IAAI,CAACA,aAAa,CAAC,iBAAiB,CAAC,oBAAoB,CAAC;IAC1D,IAAI,CAACC,kBAAkB,CAAC,CAAC;IACzB,IAAI,CAAC/lK,UAAU,CAACpF,IAAI,CAClBq5B,GAAG,CAACk9D,kBAAkB,CAACloB,WAAW,CAAC,OAAO,EAAE,IAAI,CAACwvE,OAAO,CAAC93D,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,SAAS,CAAC,EAClF1sD,GAAG,CAACk9D,kBAAkB,CAACloB,WAAW,CAAC,OAAO,EAAE,IAAI,CAACu3C,OAAO,CAAC7/B,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,SAAS,CAAC,EAClF1sD,GAAG,CAAC4qE,cAAc,CAAC51B,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC+8F,eAAe,CAACrlF,IAAI,CAAC,IAAI,CAAC,CAAC,EACjF1sD,GAAG,CAAC4qE,cAAc,CAAC51B,WAAW,CAAC,eAAe,EAAE,IAAI,CAACg9F,cAAc,CAACtlF,IAAI,CAAC,IAAI,CAAC,CAAC,EAC/E1sD,GAAG,CAAC4qE,cAAc,CAAC51B,WAAW,CAAC,qBAAqB,EAAE,IAAI,CAACi9F,mBAAmB,CAACvlF,IAAI,CAAC,IAAI,CAAC,CAAC,EAC1F1sD,GAAG,CAAC05C,aAAa,CAAC1E,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAACm0C,gBAAgB,CAACz8B,IAAI,CAAC,IAAI,CAAC,CAAC,EAClF,MAAM,IAAI,CAACwlF,eAAe,CAAC,CAC7B,CAAC;EACH;EACAA,eAAeA,CAAA,EAAG;IAChB,KAAK,MAAM7jJ,QAAQ,IAAIzyB,MAAM,CAACiX,MAAM,CAAC,IAAI,CAACsrB,QAAQ,CAAC,EAAE;MACnD9P,QAAQ,CAAC6nB,MAAM,CAAC,CAAC;IACnB;EACF;EACAsuG,OAAOA,CAAC9+E,KAAK,EAAE;IACb,MAAM;MACJ5jD,OAAO;MACPqc,QAAQ,EAAEC,SAAS;MACnBkzI,sBAAsB;MACtBtxI,GAAG,EAAE;QAAEkqE;MAAM;IACf,CAAC,GAAG,IAAI;IACR,MAAM;MACJ/xC,OAAO;MACP2b,WAAW,EAAE;QAAEt1E;MAAO;IACxB,CAAC,GAAGknE,KAAK;IACT,MAAM;MAAEysG,cAAc;MAAEC;IAAY,CAAC,GAAG/B,eAAe;IACvD,IAAI,CAACvuJ,OAAO,EACV;IACF,MAAMmC,MAAM,GAAGma,SAAS,CAAC+zI,cAAc,CAAC;IACxC,MAAMpuJ,GAAG,GAAGqa,SAAS,CAACg0I,WAAW,CAAC;IAClC,MAAMC,gBAAgB,GAAGpuJ,MAAM,CAACi4E,SAAS,GAAGo1E,sBAAsB;IAClE,MAAMgB,aAAa,GAAGn6G,OAAO,GAAGk6G,gBAAgB,IAAIl6G,OAAO,GAAG+xC,KAAK,CAAC/1C,MAAM,CAAC2d,OAAO,CAACygG,YAAY,IAAI/zK,MAAM,KAAKylB,MAAM;IACpH,MAAMuuJ,aAAa,GAAGzuJ,GAAG,CAACm4E,SAAS,GAAGn4E,GAAG,CAACwuJ,YAAY,GAAGjB,sBAAsB;IAC/E,MAAMmB,UAAU,GAAGt6G,OAAO,GAAG,CAAC,IAAIA,OAAO,GAAGq6G,aAAa,IAAIh0K,MAAM,KAAKulB,GAAG;IAC3EE,MAAM,CAACqK,SAAS,CAACikD,MAAM,CAACu+F,UAAU,CAACE,cAAc,EAAE,CAACsB,aAAa,CAAC;IAClEvuJ,GAAG,CAACuK,SAAS,CAACikD,MAAM,CAACu+F,UAAU,CAACE,cAAc,EAAE,CAACyB,UAAU,CAAC;IAC5D,IAAI,CAACC,yBAAyB,CAACP,cAAc,EAAEG,aAAa,CAAC;IAC7D,IAAI,CAACI,yBAAyB,CAACN,WAAW,EAAEK,UAAU,CAAC;EACzD;EACAlmD,OAAOA,CAAC7mD,KAAK,EAAE;IACb,MAAM;MACJ5jD,OAAO;MACPqc,QAAQ,EAAEC,SAAS;MACnB4B,GAAG,EAAE;QAAEkqE;MAAM;IACf,CAAC,GAAG,IAAI;IACR,MAAM;MAAEn2B,aAAa;MAAEv1E;IAAO,CAAC,GAAGknE,KAAK,CAACoO,WAAW;IACnD,MAAM;MAAEq+F,cAAc;MAAEC;IAAY,CAAC,GAAG/B,eAAe;IACvD,IAAI,CAACvuJ,OAAO,IAAItjB,MAAM,KAAK0rG,KAAK,CAAC/1C,MAAM,CAAC2d,OAAO,EAC7C;IACF,MAAM6gG,cAAc,GAAGvC,cAAc,CAAChjK,IAAI,CACvC01D,MAAM,IAAK,IAAI,CAAC4uG,YAAY,CAAC5uG,MAAM,CAAC,CAAC11D,IAAI,CAAEosI,MAAM,IAAKA,MAAM,KAAKzlE,aAAa,CACjF,CAAC;IACD,IAAI4+F,cAAc,EAChB;IACFv0I,SAAS,CAAC+zI,cAAc,CAAC,CAAC7jJ,SAAS,CAAC3gB,GAAG,CAACmjK,UAAU,CAACE,cAAc,CAAC;IAClE5yI,SAAS,CAACg0I,WAAW,CAAC,CAAC9jJ,SAAS,CAAC3gB,GAAG,CAACmjK,UAAU,CAACE,cAAc,CAAC;IAC/D,IAAI,CAAC0B,yBAAyB,CAACP,cAAc,EAAE,KAAK,CAAC;IACrD,IAAI,CAACO,yBAAyB,CAACN,WAAW,EAAE,KAAK,CAAC;EACpD;EACAjB,cAAcA,CAACruG,MAAM,EAAE;IACrB,IAAI,IAAI,CAACA,MAAM,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC8uG,YAAY,CAAC5uK,GAAG,CAAC8/D,MAAM,CAAC,EACvD;IACF,IAAI,CAAC8vG,WAAW,CAAC9vG,MAAM,CAAC;IACxB,IAAI,CAACgvG,kBAAkB,CAAC,CAAC;EAC3B;EACAV,qBAAqBA,CAACtuG,MAAM,EAAEo4B,OAAO,EAAE;IACrC,IAAI,CAAC,IAAI,CAACp5E,OAAO,IAAI,IAAI,CAAC8vJ,YAAY,CAAC5uK,GAAG,CAAC8/D,MAAM,CAAC,EAChD;IACF,IAAI,CAAC+vG,kBAAkB,CAAC/vG,MAAM,EAAEo4B,OAAO,CAAC;IACxC,IAAI,CAAC42E,kBAAkB,CAAC,CAAC;EAC3B;EACA3oD,gBAAgBA,CAAA,EAAG;IACjB,KAAK,MAAM3kG,QAAQ,IAAI+rJ,iBAAiB,EAAE;MACxC,IAAI,CAACpyI,QAAQ,CAAC3Z,QAAQ,CAAC,CAAC8J,SAAS,CAAC4nB,MAAM,CAAC46H,UAAU,CAACC,YAAY,CAAC;IACnE;EACF;EACAgB,eAAeA,CAACrsG,KAAK,EAAE;IACrB,MAAM;MAAExU,KAAK,EAAE4R,MAAM;MAAEnlE,KAAK;MAAEmkB;IAAQ,CAAC,GAAG4jD,KAAK;IAC/C,IAAI,IAAI,CAACgsG,YAAY,CAAC5uG,MAAM,CAAC,CAAC7jE,MAAM,KAAK,CAAC,EAAE;MAC1C,IAAI,CAAC0yK,0BAA0B,CAAChrK,IAAI,CAAC++D,KAAK,CAAC;MAC3C;IACF;IACA,KAAK,MAAM8zE,MAAM,IAAI,IAAI,CAACk4B,YAAY,CAAC5uG,MAAM,CAAC,EAAE;MAC9C,IAAI02E,MAAM,CAACs5B,OAAO,CAACC,YAAY,KAAK,GAAGp1K,KAAK,EAAE,EAC5C;MACF67I,MAAM,CAAC7T,QAAQ,GAAG,CAAC7jH,OAAO;IAC5B;EACF;EACAkwJ,cAAcA,CAACtsG,KAAK,EAAE;IACpB,MAAM;MAAExU,KAAK,EAAE4R,MAAM;MAAE1/C;IAAQ,CAAC,GAAGsiD,KAAK;IACxC,IAAI,CAAC2hC,WAAW,CAACvkC,MAAM,EAAE1/C,OAAO,CAAC;IACjC,IAAI,CAAC0uJ,kBAAkB,CAAC,CAAC;EAC3B;EACAG,mBAAmBA,CAACvsG,KAAK,EAAE;IACzB,MAAM;MAAExU,KAAK,EAAE4R,MAAM;MAAEj/D;IAAQ,CAAC,GAAG6hE,KAAK;IACxC,IAAI,CAACksG,YAAY,CAACjkK,GAAG,CAACm1D,MAAM,CAAC;IAC7B,IAAI,CAAC8vG,WAAW,CAAC9vG,MAAM,EAAEj/D,OAAO,CAACie,OAAO,EAAEje,OAAO,CAAC2gB,QAAQ,CAAC;IAC3D,IAAI,CAACquJ,kBAAkB,CAAC/vG,MAAM,EAAEj/D,OAAO,CAACq3F,OAAO,CAAC;IAChD,IAAI,CAACmM,WAAW,CAACvkC,MAAM,EAAEj/D,OAAO,CAACie,OAAO,CAAC;IACzC,IAAI,CAACghD,MAAM,CAAC,CAAC7/D,GAAG,CAACY,OAAO,CAAC;EAC3B;EACA+uK,WAAWA,CAAC9vG,MAAM,EAAEhhD,OAAO,EAAE0C,QAAQ,EAAE;IACrC1C,OAAO,IAAI,IAAI,GAAGA,OAAO,GAAGA,OAAO,GAAG,IAAI,CAACghD,MAAM,CAAC,CAAChhD,OAAO;IAC1D0C,QAAQ,IAAI,IAAI,GAAGA,QAAQ,GAAGA,QAAQ,GAAG,IAAI,CAACs+C,MAAM,CAAC,CAACt+C,QAAQ;IAC9D,KAAK,MAAMwX,GAAG,IAAIu0I,iBAAiB,EAAE;MACnC,IAAIzuJ,OAAO,IAAI0C,QAAQ,KAAKwX,GAAG,EAAE;QAC/B,IAAI,CAACu1I,SAAS,CAACv1I,GAAG,CAAC,CAACruB,GAAG,CAACm1D,MAAM,CAAC;MACjC,CAAC,MAAM;QACL,IAAI,CAACyuG,SAAS,CAACv1I,GAAG,CAAC,CAACrjB,MAAM,CAACmqD,MAAM,CAAC;MACpC;IACF;EACF;EACA+vG,kBAAkBA,CAAC/vG,MAAM,EAAEo4B,OAAO,EAAE;IAClC,IAAI50F,EAAE,EAAEsQ,EAAE;IACV,KAAK,MAAM4iI,MAAM,IAAI,IAAI,CAACk4B,YAAY,CAAC5uG,MAAM,CAAC,EAAE;MAC9C02E,MAAM,CAACtjG,MAAM,CAAC,CAAC;IACjB;IACA,IAAI,CAACw7H,YAAY,CAAC5uG,MAAM,CAAC,GAAG,EAAE;IAC9B,MAAM5O,KAAK,GAAG,CAAC5tD,EAAE,GAAG,IAAI,CAACw8D,MAAM,CAAC,CAAC5O,KAAK,KAAK,IAAI,GAAG5tD,EAAE,GAAG,OAAO;IAC9D,MAAMke,QAAQ,GAAG,CAAC5N,EAAE,GAAG,IAAI,CAACksD,MAAM,CAAC,CAACt+C,QAAQ,KAAK,IAAI,GAAG5N,EAAE,GAAG,KAAK;IAClE,MAAMitB,MAAM,GAAG,IAAI,CAAC2tI,kBAAkB,CAAChtJ,QAAQ,CAAC,CAAC0vC,KAAK,CAAC;IACvD,KAAK,MAAMrwD,OAAO,IAAIq3F,OAAO,IAAI,IAAI,GAAGA,OAAO,GAAG,EAAE,EAAE;MACpD,MAAMs+C,MAAM,GAAG,IAAI,CAACw5B,mBAAmB,CAAClwG,MAAM,EAAEj/D,OAAO,CAAC;MACxDggC,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAC/U,WAAW,CAAC0qH,MAAM,CAAC;MACpD,IAAI,CAACk4B,YAAY,CAAC5uG,MAAM,CAAC,CAACn8D,IAAI,CAAC6yI,MAAM,CAAC;IACxC;EACF;EACAnyC,WAAWA,CAACvkC,MAAM,EAAEhhD,OAAO,EAAE;IAC3B,IAAIA,OAAO,EAAE;MACX,IAAI,CAAC2vJ,YAAY,CAAC3uG,MAAM,CAAC,IAAI,CAAC;IAChC,CAAC,MAAM;MACL,IAAI,CAAC2uG,YAAY,CAAC3uG,MAAM,CAAC,GAAGxlE,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE,IAAI,CAACsqK,YAAY,CAAC3uG,MAAM,CAAC,GAAG,CAAC,CAAC;IACxE;EACF;EACAmwG,oBAAoBA,CAAA,EAAG;IACrB,IAAI3sK,EAAE;IACN,MAAMqrK,0BAA0B,GAAG,CAAC,CAACrrK,EAAE,GAAG,IAAI,CAACqrK,0BAA0B,KAAK,IAAI,GAAGrrK,EAAE,GAAG,EAAE,EAAE+N,KAAK,CAAC,CAAC;IACrG,KAAK,MAAMqxD,KAAK,IAAIisG,0BAA0B,EAAE;MAC9C,IAAI,CAACI,eAAe,CAACrsG,KAAK,CAAC;IAC7B;IACA,IAAI,CAACisG,0BAA0B,GAAG,EAAE;EACtC;EACA3gD,aAAaA,CAACtG,EAAE,EAAE;IAChB,OAAOrrH,OAAO,CAAC,IAAI,EAAEykD,SAAS,EAAE,WAAW;MAAEwjE;IAAW,CAAC,EAAE;MACzD,MAAM;QAAEnpF,QAAQ,EAAEC,SAAS;QAAEi8E;MAAO,CAAC,GAAG,IAAI;MAC5C,IAAI,CAACj8E,SAAS,CAACra,GAAG,CAACuK,SAAS,CAAC2jD,QAAQ,CAAC6+F,UAAU,CAAC/iK,MAAM,CAAC,EAAE;QACxDu5G,UAAU,CAACxrF,MAAM,CAACsC,SAAS,CAACra,GAAG,CAACwuJ,YAAY,GAAGl4D,MAAM,GAAG,CAAC,EAAE,KAAK,CAAC;MACnE;MACA,IAAI,CAACj8E,SAAS,CAACpa,KAAK,CAACsK,SAAS,CAAC2jD,QAAQ,CAAC6+F,UAAU,CAAC/iK,MAAM,CAAC,EAAE;QAC1Du5G,UAAU,CAACxrF,MAAM,CAACsC,SAAS,CAACpa,KAAK,CAACkvJ,WAAW,GAAG74D,MAAM,EAAE,OAAO,CAAC;MAClE;MACA,IAAI,CAACj8E,SAAS,CAACna,MAAM,CAACqK,SAAS,CAAC2jD,QAAQ,CAAC6+F,UAAU,CAAC/iK,MAAM,CAAC,EAAE;QAC3Du5G,UAAU,CAACxrF,MAAM,CAACsC,SAAS,CAACna,MAAM,CAACsuJ,YAAY,GAAGl4D,MAAM,GAAG,CAAC,EAAE,QAAQ,CAAC;MACzE;MACA,IAAI,CAACj8E,SAAS,CAACla,IAAI,CAACoK,SAAS,CAAC2jD,QAAQ,CAAC6+F,UAAU,CAAC/iK,MAAM,CAAC,EAAE;QACzDu5G,UAAU,CAACxrF,MAAM,CAACsC,SAAS,CAACla,IAAI,CAACgvJ,WAAW,GAAG74D,MAAM,EAAE,MAAM,CAAC;MAChE;MACA,OAAO;QAAEiN;MAAW,CAAC;IACvB,CAAC,CAAC;EACJ;EACAmkB,sBAAsBA,CAACzxH,IAAI,EAAE;IAC3B,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAM;QAAE8+B,QAAQ,EAAEC,SAAS;QAAEi8E;MAAO,CAAC,GAAG,IAAI;MAC5C,MAAM;QAAEiP;MAAW,CAAC,GAAGtvG,IAAI;MAC3B,MAAM;QAAEm4J,cAAc;QAAEC;MAAY,CAAC,GAAG/B,eAAe;MACvDjyI,SAAS,CAACra,GAAG,CAACnB,KAAK,CAACmB,GAAG,GAAG,GAAGulG,UAAU,CAACtvF,CAAC,GAAGoE,SAAS,CAACra,GAAG,CAACwuJ,YAAY,GAAGl4D,MAAM,GAAG,CAAC,IAAI;MACvFj8E,SAAS,CAACra,GAAG,CAACnB,KAAK,CAACsB,IAAI,GAAG,GAAGm2F,MAAM,IAAI;MACxCj8E,SAAS,CAACra,GAAG,CAACnB,KAAK,CAACH,KAAK,GAAG,eAAe43F,MAAM,GAAG,CAAC,KAAK;MAC1Dj8E,SAAS,CAACpa,KAAK,CAACpB,KAAK,CAACmB,GAAG,GAAG,GAAGulG,UAAU,CAACtvF,CAAC,GAAGqgF,MAAM,IAAI;MACxDj8E,SAAS,CAACpa,KAAK,CAACpB,KAAK,CAACoB,KAAK,GAAG,GAAGq2F,MAAM,IAAI;MAC3Cj8E,SAAS,CAACpa,KAAK,CAACpB,KAAK,CAACmY,MAAM,GAAG,eAAeuuF,UAAU,CAACtvF,CAAC,GAAGqgF,MAAM,GAAG,CAAC,KAAK;MAC5Ej8E,SAAS,CAACna,MAAM,CAACrB,KAAK,CAACqB,MAAM,GAAG,GAAGo2F,MAAM,IAAI;MAC7Cj8E,SAAS,CAACna,MAAM,CAACrB,KAAK,CAACsB,IAAI,GAAG,GAAGm2F,MAAM,IAAI;MAC3Cj8E,SAAS,CAACna,MAAM,CAACrB,KAAK,CAACH,KAAK,GAAG,eAAe43F,MAAM,GAAG,CAAC,KAAK;MAC7Dj8E,SAAS,CAACla,IAAI,CAACtB,KAAK,CAACmB,GAAG,GAAG,GAAGulG,UAAU,CAACtvF,CAAC,IAAI;MAC9CoE,SAAS,CAACla,IAAI,CAACtB,KAAK,CAACsB,IAAI,GAAG,GAAGm2F,MAAM,IAAI;MACzCj8E,SAAS,CAACla,IAAI,CAACtB,KAAK,CAACmY,MAAM,GAAG,eAAeuuF,UAAU,CAACtvF,CAAC,GAAGqgF,MAAM,GAAG,CAAC,KAAK;MAC3Ej8E,SAAS,CAACg0I,WAAW,CAAC,CAACxvJ,KAAK,CAACmB,GAAG,GAAG,GAAGulG,UAAU,CAACtvF,CAAC,IAAI;MACtDoE,SAAS,CAACg0I,WAAW,CAAC,CAACxvJ,KAAK,CAACuwJ,UAAU,GAAG,GAAG94D,MAAM,IAAI;MACvDj8E,SAAS,CAAC+zI,cAAc,CAAC,CAACvvJ,KAAK,CAACmB,GAAG,GAAG,GAAGulG,UAAU,CAACtvF,CAAC,GAAGsvF,UAAU,CAACvuF,MAAM,GAAGqD,SAAS,CAAC+zI,cAAc,CAAC,CAACI,YAAY,IAAI;MACtHn0I,SAAS,CAAC+zI,cAAc,CAAC,CAACvvJ,KAAK,CAACwwJ,aAAa,GAAG,GAAG/4D,MAAM,IAAI;IAC/D,CAAC,CAAC;EACJ;EACAy3D,kBAAkBA,CAAA,EAAG;IACnB,IAAIxrK,EAAE;IACN,IAAI,IAAI,CAAC63B,QAAQ,IAAI,IAAI,EACvB;IACF,MAAMk1I,cAAc,GAAIvwG,MAAM,IAAK,IAAI,CAACA,MAAM,CAAC,CAAChhD,OAAO,IAAI,IAAI,CAAC2vJ,YAAY,CAAC3uG,MAAM,CAAC,GAAG,CAAC;IACxF,MAAMwwG,eAAe,GAAIjlJ,QAAQ,IAAMmrH,MAAM,IAAK,OAAOA,MAAM,CAAC77I,KAAK,KAAK,QAAQ,IAAI,OAAO67I,MAAM,CAAC77I,KAAK,KAAK,QAAQ,IAAI,GAAG67I,MAAM,CAAC77I,KAAK,EAAE,KAAK0wB,QAAQ,CAACykJ,OAAO,CAACC,YAAY;IAC7K,KAAK,MAAMvuJ,QAAQ,IAAI+rJ,iBAAiB,EAAE;MACxC,MAAMntJ,OAAO,GAAG,IAAI,CAACtB,OAAO,IAAIlR,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC0gK,SAAS,CAAC/sJ,QAAQ,CAAC,CAAC3R,MAAM,CAAC,CAAC,CAAC,CAACzF,IAAI,CAACimK,cAAc,CAAC;MAClG,IAAI,CAACl1I,QAAQ,CAAC3Z,QAAQ,CAAC,CAAC8J,SAAS,CAACikD,MAAM,CAACu+F,UAAU,CAAC/iK,MAAM,EAAE,CAACqV,OAAO,CAAC;IACvE;IACA,KAAK,MAAM0/C,MAAM,IAAIstG,cAAc,EAAE;MACnC,IAAI,IAAI,CAACttG,MAAM,CAAC,IAAI,IAAI,EACtB;MACF,MAAM1/C,OAAO,GAAGiwJ,cAAc,CAACvwG,MAAM,CAAC;MACtC,KAAK,MAAM02E,MAAM,IAAI,IAAI,CAACk4B,YAAY,CAAC5uG,MAAM,CAAC,EAAE;QAC9C,MAAMywG,aAAa,GAAGnwJ,OAAO,KAAK,CAAC9c,EAAE,GAAG,IAAI,CAACw8D,MAAM,CAAC,CAACo4B,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG50F,EAAE,CAAC8G,IAAI,CAACkmK,eAAe,CAAC95B,MAAM,CAAC,CAAC,CAAC;QAClHA,MAAM,CAAClrH,SAAS,CAACikD,MAAM,CAACu+F,UAAU,CAACt3B,MAAM,CAACzrI,MAAM,EAAE,CAACwlK,aAAa,CAAC;MACnE;IACF;EACF;EACAb,yBAAyBA,CAACluJ,QAAQ,EAAEpB,OAAO,EAAE;IAC3C,MAAM;MAAE+a,QAAQ,EAAEC,SAAS;MAAEi8E,MAAM;MAAEm3D;IAAmB,CAAC,GAAG,IAAI;IAChE,MAAMnjJ,QAAQ,GAAG+P,SAAS,CAAC5Z,QAAQ,CAAC;IACpC,MAAMgvJ,UAAU,GAAG53K,MAAM,CAACiX,MAAM,CAAC2+J,kBAAkB,CAAChtJ,QAAQ,CAAC,CAAC;IAC9D,KAAK,MAAM0vC,KAAK,IAAIs/G,UAAU,EAAE;MAC9Bt/G,KAAK,CAACtxC,KAAK,CAACqd,SAAS,GAAG7c,OAAO,IAAI8wC,KAAK,CAACtxC,KAAK,CAACqd,SAAS,KAAK,EAAE,GAAG,eAAe,GAAG,cAAc5R,QAAQ,CAACkkJ,YAAY,GAAGl4D,MAAM,KAAK;IACvI;EACF;EACAw3D,aAAaA,CAACrtJ,QAAQ,GAAG,KAAK,CAAC,WAAW;IACxC,MAAM6J,QAAQ,GAAG,IAAI,CAAC8P,QAAQ,CAAC3Z,QAAQ,CAAC;IACxC6J,QAAQ,CAACC,SAAS,CAAC3gB,GAAG,CAACgjK,MAAM,EAAEG,UAAU,CAACtsJ,QAAQ,CAAC,EAAEssJ,UAAU,CAACC,YAAY,CAAC;IAC7E,IAAIvsJ,QAAQ,KAAK,cAAc,CAAC,qBAAqBA,QAAQ,KAAK,iBAAiB,CAAC,sBAAsB;MACxG6J,QAAQ,CAACC,SAAS,CAAC3gB,GAAG,CAACmjK,UAAU,CAACE,cAAc,CAAC;IACnD;IACA,KAAK,MAAM98G,KAAK,IAAIi8G,kBAAkB,EAAE;MACtC,MAAMsD,gBAAgB,GAAGtlJ,aAAa,CAAC,KAAK,CAAC;MAC7CslJ,gBAAgB,CAACnlJ,SAAS,CAAC3gB,GAAG,CAACijK,SAAS,CAAC18G,KAAK,EAAE48G,UAAU,CAAC58G,KAAK,CAACA,KAAK,CAAC,CAAC;MACxE7lC,QAAQ,CAACS,WAAW,CAAC2kJ,gBAAgB,CAAC;MACtC,IAAI,CAACjC,kBAAkB,CAAChtJ,QAAQ,CAAC,CAAC0vC,KAAK,CAAC,GAAGu/G,gBAAgB;IAC7D;EACF;EACAT,mBAAmBA,CAAClwG,MAAM,EAAEj/D,OAAO,EAAE;IACnC,MAAM21I,MAAM,GAAGrrH,aAAa,CAAC,QAAQ,CAAC;IACtCqrH,MAAM,CAAClrH,SAAS,CAAC3gB,GAAG,CAACijK,SAAS,CAACp3B,MAAM,CAAC;IACtCA,MAAM,CAACs5B,OAAO,CAACY,YAAY,GAAG5wG,MAAM;IACpC02E,MAAM,CAAClzC,QAAQ,GAAG,CAAC,CAAC;IACpB,IAAI,OAAOziG,OAAO,CAAClG,KAAK,KAAK,QAAQ,IAAI,OAAOkG,OAAO,CAAClG,KAAK,KAAK,QAAQ,EAAE;MAC1E67I,MAAM,CAACs5B,OAAO,CAACC,YAAY,GAAG,GAAGlvK,OAAO,CAAClG,KAAK,EAAE;IAClD;IACA,IAAIkG,OAAO,CAAC4f,OAAO,EAAE;MACnB+1H,MAAM,CAAC33H,KAAK,GAAGhe,OAAO,CAAC4f,OAAO;IAChC;IACA,IAAIohE,KAAK,GAAG,EAAE;IACd,IAAIhhF,OAAO,CAACgtK,IAAI,IAAI,IAAI,EAAE;MACxBhsF,KAAK,GAAG,+BAA+BhhF,OAAO,CAACgtK,IAAI,IAAID,SAAS,CAACC,IAAI,WAAW;IAClF;IACA,IAAIhtK,OAAO,CAACwe,KAAK,IAAI,IAAI,EAAE;MACzBwiE,KAAK,GAAG,GAAGA,KAAK,gBAAgB+rF,SAAS,CAACvuJ,KAAK,KAAKxe,OAAO,CAACwe,KAAK,SAAS;IAC5E;IACAm3H,MAAM,CAAClqH,SAAS,GAAGu1D,KAAK;IACxB20D,MAAM,CAACm6B,OAAO,GAAG,IAAI,CAACC,aAAa,CAAClnF,IAAI,CAAC,IAAI,EAAE5pB,MAAM,EAAEj/D,OAAO,CAAClG,KAAK,CAAC;IACrE,IAAI,CAACoO,UAAU,CAACpF,IAAI,CAAC,MAAM6yI,MAAM,CAACtjG,MAAM,CAAC,CAAC,CAAC;IAC3C,OAAOsjG,MAAM;EACf;EACAo6B,aAAaA,CAAC9wG,MAAM,EAAEnlE,KAAK,EAAE;IAC3B,IAAI,CAACqiC,GAAG,CAAC4qE,cAAc,CAACxD,WAAW,CAACtkC,MAAM,EAAEnlE,KAAK,CAAC;EACpD;AACF,CAAC;AACDiB,eAAe,CAAC,CACdoxE,cAAc,CAAExxE,MAAM,IAAK;EACzBA,MAAM,CAACy0K,oBAAoB,CAAC,CAAC;EAC7Bz0K,MAAM,CAACszK,kBAAkB,CAAC,CAAC;AAC7B,CAAC,CAAC,EACF3yH,QAAQ,CAACmB,OAAO,CAAC,CAClB,EAAE4wH,OAAO,CAACz0K,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;;AAEnC;AACA,IAAIo3K,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;AAC5B,IAAIC,KAAK,GAAGD,GAAG,GAAG,EAAE;AACpB,IAAIE,IAAI,GAAGF,GAAG,GAAG,GAAG;AACpB,IAAIviJ,WAAW,GAAG;EAChBxP,OAAO,EAAE,KAAK;EACd0C,QAAQ,EAAE,MAAM;EAChB0vC,KAAK,EAAE,OAAO;EACdgnC,OAAO,EAAE,CACP;IAAE74E,KAAK,EAAE,IAAI;IAAE1kB,KAAK,EAAE;EAAO,CAAC,EAC9B;IAAE0kB,KAAK,EAAE,KAAK;IAAE1kB,KAAK,EAAE;EAAmB,CAAC;AAE/C,CAAC;AACD,IAAI0zK,MAAM,GAAG;EACXvvJ,OAAO,EAAE,KAAK;EACd0C,QAAQ,EAAE,KAAK;EACf0vC,KAAK,EAAE,OAAO;EACdgnC,OAAO,EAAE,CACP;IAAE74E,KAAK,EAAE,IAAI;IAAE1kB,KAAK,EAAEm2K;EAAM,CAAC,EAC7B;IAAEzxJ,KAAK,EAAE,IAAI;IAAE1kB,KAAK,EAAE,CAAC,GAAGm2K;EAAM,CAAC,EACjC;IAAEzxJ,KAAK,EAAE,IAAI;IAAE1kB,KAAK,EAAE,CAAC,GAAGm2K;EAAM,CAAC,EACjC;IAAEzxJ,KAAK,EAAE,KAAK;IAAE1kB,KAAK,EAAEA,CAACq2K,MAAM,EAAE39H,GAAG,KAAK,CAAC,EAAC,eAAgB,IAAItwC,IAAI,CAAC,GAAG,IAAIA,IAAI,CAACswC,GAAG,CAAC,CAACvuC,WAAW,CAAC,CAAC,QAAQ,CAAC,EAAEJ,OAAO,CAAC,CAAC,EAAE2uC,GAAG;EAAE,CAAC,EAC7H;IAAEh0B,KAAK,EAAE,IAAI;IAAE1kB,KAAK,EAAEo2K;EAAK,CAAC,EAC5B;IAAE1xJ,KAAK,EAAE,KAAK;IAAE1kB,KAAK,EAAEA,CAACwI,KAAK,EAAEkwC,GAAG,KAAK,CAAClwC,KAAK,EAAEkwC,GAAG;EAAE,CAAC;AAEzD,CAAC;AACD,IAAI2gE,IAAI,GAAG;EACTl1F,OAAO,EAAE,KAAK;EACd0C,QAAQ,EAAE,KAAK;EACf0vC,KAAK,EAAE,KAAK;EACZgnC,OAAO,EAAE,CACP;IACE21E,IAAI,EAAE,UAAU;IAChBptJ,OAAO,EAAE,UAAU;IACnB9lB,KAAK,EAAE;EACT,CAAC,EACD;IACEkzK,IAAI,EAAE,SAAS;IACfptJ,OAAO,EAAE,SAAS;IAClB9lB,KAAK,EAAE;EACT,CAAC,EACD;IACEkzK,IAAI,EAAE,UAAU;IAChBptJ,OAAO,EAAE,UAAU;IACnB9lB,KAAK,EAAE;EACT,CAAC,EACD;IACEkzK,IAAI,EAAE,WAAW;IACjBptJ,OAAO,EAAE,WAAW;IACpB9lB,KAAK,EAAE;EACT,CAAC,EACD;IACEkzK,IAAI,EAAE,WAAW;IACjBptJ,OAAO,EAAE,kBAAkB;IAC3B9lB,KAAK,EAAE;EACT,CAAC,EACD;IACEkzK,IAAI,EAAE,SAAS;IACfptJ,OAAO,EAAE,gBAAgB;IACzB9lB,KAAK,EAAE;EACT,CAAC,EACD;IACEkzK,IAAI,EAAE,OAAO;IACbptJ,OAAO,EAAE,gBAAgB;IACzB9lB,KAAK,EAAE;EACT,CAAC;AAEL,CAAC;AACD,IAAIs2K,aAAa,GAAG;EAClBpnK,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE,SAAS;EACrBE,WAAW,EAAE,WAAW;EACxB0I,UAAU,EAAE,CAAC,WAAW,CAAC;EACzBxH,mBAAmB,EAAEgjK,OAAO;EAC5B/iK,aAAa,EAAE;IACb+lK,OAAO,EAAE;MACPpyJ,OAAO,EAAE,IAAI;MACbwP,WAAW;MACX+/I,MAAM;MACNr6D;IACF;EACF;AACF,CAAC;;AAED;AACA,SAASm9D,sBAAsBA,CAAA,EAAG;EAChCvmK,cAAc,CAACrB,QAAQ,CACrBsnI,gBAAgB,EAChBoO,qBAAqB,EACrBgD,eAAe,EACfgvB,aAAa,EACb3hB,gBAAgB,EAChB8E,eAAe,EACfuC,kBAAkB,EAClBqD,gBAAgB,EAChBI,mBAAmB,EACnBiS,iBAAiB,EACjBa,eAAe,EACf5T,qBACF,CAAC;EACD,KAAK,MAAM/tJ,eAAe,IAAI,CAAC0hI,UAAU,EAAEzrD,YAAY,EAAEisD,QAAQ,EAAEznD,mBAAmB,EAAEmnD,OAAO,CAAC,EAAE;IAChGvhI,YAAY,CAACrC,QAAQ,CAACgC,eAAe,CAAC1B,IAAI,EAAE;MAC1CqB,mBAAmB,EAAEK,eAAe;MACpCR,MAAM,EAAEQ,eAAe,KAAKy6E;IAC9B,CAAC,CAAC;EACJ;AACF;;AAEA;AACA,SAASorF,YAAYA,CAAA,EAAG;EACtB,KAAK,MAAM/mK,CAAC,IAAIO,cAAc,CAACzB,OAAO,EAAE;IACtC,IAAIkB,CAAC,CAACL,WAAW,KAAK,YAAY,IAAI,CAACsJ,sBAAsB,CAACjJ,CAAC,CAAC,EAAE;MAChExI,MAAM,CAACS,SAAS,CAAC,2CAA2C,GAAG+H,CAAC,CAACN,UAAU,CAAC;IAC9E;IACA,IAAIM,CAAC,CAACR,IAAI,KAAK,MAAM,IAAIQ,CAAC,CAACc,aAAa,EAAE;MACxC,KAAK,MAAMqH,UAAU,IAAInI,CAAC,CAACqI,UAAU,EAAE;QACrCE,aAAa,CAAC3S,GAAG,CAACuS,UAAU,EAAEnI,CAAC,CAACc,aAAa,CAAC;MAChD;IACF;IACA,IAAId,CAAC,CAACR,IAAI,KAAK,QAAQ,EAAE;MACvB,IAAIQ,CAAC,CAACqI,UAAU,CAACzW,MAAM,GAAG,CAAC,EAAE;QAC3B,MAAM,IAAIwO,KAAK,CAAC,wCAAwCJ,CAAC,CAACN,UAAU,EAAE,CAAC;MACzE;MACA8P,cAAc,CAACtQ,QAAQ,CAACc,CAAC,CAACN,UAAU,EAAEM,CAAC,CAAC;IAC1C;IACA,IAAIA,CAAC,CAACR,IAAI,KAAK,eAAe,IAAIQ,CAAC,CAACc,aAAa,EAAE;MACjD,KAAK,MAAMyG,UAAU,IAAIvH,CAAC,CAAC4H,WAAW,EAAE;QACtC4H,cAAc,CAACzO,gBAAgB,CAACwG,UAAU,EAAEvH,CAAC,CAACc,aAAa,CAAC;MAC9D;IACF;IACA,IAAId,CAAC,CAACR,IAAI,KAAK,aAAa,IAAIQ,CAAC,CAACc,aAAa,EAAE;MAC/C,KAAK,MAAMF,QAAQ,IAAIZ,CAAC,CAACgnK,SAAS,EAAE;QAClC,MAAMC,aAAa,GAAGjnK,CAAC,CAACc,aAAa,CAACF,QAAQ,CAAC;QAC/C,MAAMgjB,KAAK,GAAGlzB,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAEsP,CAAC,CAACc,aAAa,CAAC,EAAEmmK,aAAa,CAAC;QAChF,KAAK,MAAMC,aAAa,IAAIlnK,CAAC,CAACgnK,SAAS,EAAE;UACvC,OAAOpjJ,KAAK,CAACsjJ,aAAa,CAAC;QAC7B;QACA3lK,YAAY,CAACR,gBAAgB,CAACH,QAAQ,EAAEgjB,KAAK,CAAC;MAChD;IACF;IACA,IAAI5jB,CAAC,CAACR,IAAI,KAAK,MAAM,EAAE;MACrB+B,YAAY,CAACrC,QAAQ,CAACc,CAAC,CAACN,UAAU,EAAEM,CAAC,CAAC;IACxC;IACA,IAAIA,CAAC,CAACR,IAAI,KAAK,QAAQ,EAAE;MACvByQ,cAAc,CAAC/Q,QAAQ,CAACc,CAAC,CAACN,UAAU,EAAEM,CAAC,CAAC;IAC1C;EACF;EACA,IAAIO,cAAc,CAACT,oBAAoB,CAAC,CAAC,EAAE;IACzC,MAAMqnK,iBAAiB,GAAG/9J,wBAAwB,CAAC,CAAC;IACpD,IAAI+9J,iBAAiB,CAACv1K,MAAM,GAAG,CAAC,EAAE;MAChC4F,MAAM,CAACS,SAAS,CAAC,kDAAkD,EAAEkvK,iBAAiB,CAAC;IACzF;EACF;AACF;;AAEA;AACA,IAAIC,eAAe,GAAG,MAAMA,eAAe,SAASp9C,KAAK,CAAC;EACxD7xH,WAAWA,CAAC3B,OAAO,EAAE4lH,SAAS,EAAE;IAC9B,KAAK,CAAC5lH,OAAO,EAAE4lH,SAAS,CAAC;EAC3B;EACAuH,aAAaA,CAAA,EAAG;IACd,OAAO3xH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAMioH,UAAU,GAAG,MAAMnoH,UAAU,CAACs1K,eAAe,CAACh4K,SAAS,EAAE,IAAI,EAAE,eAAe,CAAC,CAAC0B,IAAI,CAAC,IAAI,CAAC;MAChG,MAAM;QACJwrH,UAAU,EAAE;UAAErnG;QAAQ,CAAC;QACvB0jG,UAAU;QACV/xB,cAAc;QACdgyB;MACF,CAAC,GAAG,IAAI;MACR,MAAMyuD,cAAc,GAAGptD,UAAU,CAACzzG,KAAK,CAAC,CAAC;MACzCyzG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC4B,IAAI,EAAE,MAAM,CAAC;MACvCojG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAACyB,GAAG,EAAE,KAAK,CAAC;MACrCujG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC0B,KAAK,EAAE,OAAO,CAAC;MACzCsjG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC2B,MAAM,EAAE,QAAQ,CAAC;MAC3C,IAAI,CAACqlG,UAAU,GAAGhC,UAAU;MAC5B,IAAI,CAACoG,aAAa,GAAGpG,UAAU;MAC/B,IAAI,CAAC2K,SAAS,GAAG3K,UAAU;MAC3B,KAAK,MAAMxkD,MAAM,IAAI,CAACkjD,UAAU,EAAE/xB,cAAc,EAAEgyB,aAAa,CAAC,EAAE;QAChEnjD,MAAM,CAACriC,YAAY,GAAGnjC,IAAI,CAACsI,KAAK,CAAC0hH,UAAU,CAACpnH,CAAC,CAAC;QAC9C4iE,MAAM,CAACpiC,YAAY,GAAGpjC,IAAI,CAACsI,KAAK,CAAC0hH,UAAU,CAACttF,CAAC,CAAC;MAChD;MACA,MAAMv6B,OAAO,CAACd,GAAG,CACf,IAAI,CAACmY,MAAM,CAACxD,GAAG,CAAEwD,MAAM,IAAKzX,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;QAC3D,MAAMyX,MAAM,CAACq/B,MAAM,CAAC;UAAEmzE,UAAU,EAAEhC;QAAW,CAAC,CAAC;MACjD,CAAC,CAAC,CACJ,CAAC;MACDtB,UAAU,CAAC5iG,OAAO,GAAG,IAAI,CAACtM,MAAM,CAAC,CAAC,CAAC,CAACsM,OAAO;MAC3C4iG,UAAU,CAAC5zD,iCAAiC,CAC1C,IAAI51B,IAAI,CAAC8qF,UAAU,CAACpnH,CAAC,EAAEonH,UAAU,CAACttF,CAAC,EAAEstF,UAAU,CAAC7kG,KAAK,EAAE6kG,UAAU,CAACvsF,MAAM,CAC1E,CAAC;MACD,IAAI,CAACiF,GAAG,CAAC05C,aAAa,CAACqvB,sBAAsB,CAAC;QAC5Cl8F,IAAI,EAAE,iBAAiB;QACvB8sE,KAAK,EAAE;UAAEl3D,KAAK,EAAE,IAAI,CAACud,GAAG,CAACkqE,KAAK,CAACznF,KAAK;UAAEsY,MAAM,EAAE,IAAI,CAACiF,GAAG,CAACkqE,KAAK,CAACnvE;QAAO,CAAC;QACrEuwG,UAAU,EAAE,KAAK;QACjBx0H,MAAM,EAAE;UAAE66C,IAAI,EAAE+iH,cAAc;UAAElpC,UAAU,EAAElkB,UAAU;UAAElkG,OAAO,EAAE;QAAK,CAAC;QACvEvL,IAAI,EAAE;MACR,CAAC,CAAC;MACF,OAAOyvG,UAAU;IACnB,CAAC,CAAC;EACJ;AACF,CAAC;AACDmtD,eAAe,CAACn8J,SAAS,GAAG,gBAAgB;AAC5Cm8J,eAAe,CAAC5nK,IAAI,GAAG,WAAW;AAClC,IAAI8nK,cAAc,GAAGF,eAAe;;AAEpC;AACA,IAAIG,SAAS,GAAG,cAAc3wF,IAAI,CAAC;EACjCz+E,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACngC,KAAK,GAAG,SAAS;IACtB,IAAI,CAACwgJ,gBAAgB,GAAG,CAAC;IACzB,IAAI,CAAC7rF,qBAAqB,GAAG,EAAE;EACjC;EACAytF,iBAAiBA,CAACC,QAAQ,EAAEC,WAAW,EAAE;IACvC,OAAO,IAAI;EACb;AACF,CAAC;AACDrnK,eAAe,CAAC,CACdugD,QAAQ,CAACiD,KAAK,CAAC,CAAC,SAAS,EAAE,QAAQ,CAAC,EAAE,oBAAoB,CAAC,CAAC,CAC7D,EAAEwyH,SAAS,CAACn4K,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACdugD,QAAQ,CAAC2B,KAAK,CAAC,CAChB,EAAE8zH,SAAS,CAACn4K,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;;AAE9C;AACA,IAAIo4K,WAAW,GAAG,MAAMA,WAAW,SAASx9C,KAAK,CAAC;EAChD7xH,WAAWA,CAAC3B,OAAO,EAAE4lH,SAAS,EAAE;IAC9B,KAAK,CAAC5lH,OAAO,EAAE4lH,SAAS,CAAC;IACzB,IAAI,CAACnnG,OAAO,GAAG,IAAIuvE,OAAO,CAAC,EAAE,CAAC;IAC9B,IAAI,CAACna,SAAS,CAACv1C,MAAM,GAAG,CAAC,CAAC;EAC5B;EACA6uF,aAAaA,CAAA,EAAG;IACd,OAAO3xH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAMioH,UAAU,GAAG,MAAMnoH,UAAU,CAAC01K,WAAW,CAACp4K,SAAS,EAAE,IAAI,EAAE,eAAe,CAAC,CAAC0B,IAAI,CAAC,IAAI,CAAC;MAC5F,MAAMu2K,cAAc,GAAGptD,UAAU,CAACzzG,KAAK,CAAC,CAAC;MACzC,IAAI,CAACihK,iBAAiB,CAACxtD,UAAU,CAAC;MAClC,MAAM,IAAI,CAACytD,aAAa,CAACztD,UAAU,CAAC;MACpC,IAAI,CAACzvG,IAAI,CAACE,OAAO,CAAED,IAAI,IAAKA,IAAI,CAACq+B,MAAM,CAAC,CAAC,CAAC;MAC1C,IAAI,CAAC87E,SAAS,GAAG3K,UAAU;MAC3B,IAAI,CAACtnF,GAAG,CAAC05C,aAAa,CAACqvB,sBAAsB,CAAC;QAC5Cl8F,IAAI,EAAE,iBAAiB;QACvB8sE,KAAK,EAAE;UAAEl3D,KAAK,EAAE,IAAI,CAACud,GAAG,CAACkqE,KAAK,CAACznF,KAAK;UAAEsY,MAAM,EAAE,IAAI,CAACiF,GAAG,CAACkqE,KAAK,CAACnvE;QAAO,CAAC;QACrEuwG,UAAU,EAAE,KAAK;QACjBx0H,MAAM,EAAE;UAAE66C,IAAI,EAAE+iH,cAAc;UAAElpC,UAAU,EAAElkB,UAAU;UAAElkG,OAAO,EAAE;QAAK,CAAC;QACvEvL,IAAI,EAAE;MACR,CAAC,CAAC;MACF,OAAOyvG,UAAU;IACnB,CAAC,CAAC;EACJ;EACApR,UAAUA,CAACv2E,EAAE,EAAEC,EAAE,EAAE8c,MAAM,EAAE;IACzB,IAAIp2C,EAAE,EAAEsQ,EAAE;IACV,MAAMo+J,SAAS,GAAG,IAAI,CAACn9J,IAAI,CAAClL,IAAI,CAAEmL,IAAI,IAAKA,IAAI,CAACyqD,SAAS,KAAK,GAAG,CAAC,OAAO,CAAC;IAC1E,MAAM0yG,UAAU,GAAG,IAAI,CAACp9J,IAAI,CAAClL,IAAI,CAAEmL,IAAI,IAAKA,IAAI,CAACyqD,SAAS,KAAK,GAAG,CAAC,OAAO,CAAC;IAC3E,IAAI,EAAEyyG,SAAS,YAAYJ,SAAS,CAAC,IAAI,EAAEK,UAAU,YAAYL,SAAS,CAAC,EAAE;MAC3E;IACF;IACA,MAAM5N,UAAU,GAAGgO,SAAS,CAAC5yG,KAAK;IAClC,MAAM8yG,MAAM,GAAG,CAAC5uK,EAAE,GAAG0gK,UAAU,CAACppH,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGt3C,EAAE,CAACnI,IAAI,CAAC6oK,UAAU,CAAC,CAAC1zJ,GAAG,CAAE3V,KAAK,IAAKqpK,UAAU,CAACnpH,OAAO,CAAClgD,KAAK,CAAC,CAAC;IACvH,MAAMwmK,gBAAgB,GAAG8Q,UAAU,CAAC9Q,gBAAgB;IACpD6Q,SAAS,CAAC7Q,gBAAgB,GAAGA,gBAAgB;IAC7C,CAACvtJ,EAAE,GAAGo+J,SAAS,CAACG,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGv+J,EAAE,CAACzY,IAAI,CAAC62K,SAAS,CAAC;IACnEA,SAAS,CAAC1yG,UAAU,GAAG5lB,MAAM;IAC7Bu4H,UAAU,CAACG,UAAU,GAAGF,MAAM;IAC9BD,UAAU,CAACI,SAAS,GAAGL,SAAS,CAAC9uK,KAAK;IACtC+uK,UAAU,CAAC/uK,KAAK,GAAG,CAACw2C,MAAM,EAAEA,MAAM,GAAGynH,gBAAgB,CAAC;IACtD,CAAC6Q,SAAS,EAAEC,UAAU,CAAC,CAACl9J,OAAO,CAAED,IAAI,IAAK;MACxCA,IAAI,CAACygE,WAAW,CAACr4E,CAAC,GAAGy/B,EAAE;MACvB7nB,IAAI,CAACygE,WAAW,CAACv+C,CAAC,GAAG4F,EAAE;MACvB9nB,IAAI,CAACmrD,eAAe,CAAC,CAAC;IACxB,CAAC,CAAC;EACJ;EACA6xG,iBAAiBA,CAACxtD,UAAU,EAAE;IAC5B,MAAM;MACJqC,UAAU,EAAE;QAAErnG;MAAQ;IACxB,CAAC,GAAG,IAAI;IACRglG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC4B,IAAI,EAAE,MAAM,CAAC;IACvCojG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAACyB,GAAG,EAAE,KAAK,CAAC;IACrCujG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC0B,KAAK,EAAE,OAAO,CAAC;IACzCsjG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC2B,MAAM,EAAE,QAAQ,CAAC;IAC3C,IAAI,CAACqlG,UAAU,GAAGhC,UAAU;IAC5B,IAAI,CAACoG,aAAa,GAAGpG,UAAU;EACjC;EACAytD,aAAaA,CAACO,SAAS,EAAE;IACvB,OAAOj2K,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAMk2K,WAAW,GAAG,IAAI,CAACz+J,MAAM,CAACpI,MAAM,CAAEoI,MAAM,IAAK;QACjD,OAAOA,MAAM,YAAY8uJ,WAAW;MACtC,CAAC,CAAC;MACF,MAAM4P,SAAS,GAAG,IAAI,CAAC39J,IAAI,CAACnJ,MAAM,CAAEoJ,IAAI,IAAK;QAC3C,OAAOA,IAAI,YAAY88J,SAAS;MAClC,CAAC,CAAC;MACF,MAAMa,eAAe,GAAGA,CAAC91I,EAAE,EAAEC,EAAE,EAAEre,CAAC,KAAK;QACrC,IAAI,CAAC20F,UAAU,CAACv2E,EAAE,EAAEC,EAAE,EAAEre,CAAC,CAAC;QAC1Bg0J,WAAW,CAACx9J,OAAO,CAAEjB,MAAM,IAAK;UAC9BA,MAAM,CAAC0lC,OAAO,GAAG7c,EAAE;UACnB7oB,MAAM,CAAC2lC,OAAO,GAAG7c,EAAE;UACnB9oB,MAAM,CAAC4lC,MAAM,GAAGn7B,CAAC;QACnB,CAAC,CAAC;QACF,MAAMm0J,SAAS,GAAGH,WAAW,CAAC7mK,MAAM,CAAE3H,CAAC,IAAK;UAC1C,OAAOA,CAAC,YAAY+oK,SAAS,IAAI/oK,CAAC,YAAYw/J,WAAW;QAC3D,CAAC,CAAC;QACF,IAAImP,SAAS,CAACz2K,MAAM,GAAG,CAAC,EAAE;UACxB,MAAM02K,UAAU,GAAGD,SAAS,CAACpiK,GAAG,CAAEwD,MAAM,IAAK;YAC3C,MAAMwpH,WAAW,GAAGxpH,MAAM,CAACkzJ,cAAc,CAAC,CAAC;YAC3C,OAAO;cAAElzJ,MAAM;cAAEwpH;YAAY,CAAC;UAChC,CAAC,CAAC,CAACx0E,IAAI,CAAC,CAAC9tD,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACsiI,WAAW,GAAGriI,CAAC,CAACqiI,WAAW,CAAC;UAChDq1C,UAAU,CAAC1oJ,EAAE,CAAC,CAAC,CAAC,CAAC,CAACnW,MAAM,CAACiwJ,iBAAiB,GAAG,KAAK,CAAC;UACnD,KAAK,IAAI/nK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG22K,UAAU,CAAC12K,MAAM,GAAG,CAAC,EAAED,CAAC,EAAE,EAAE;YAC9C22K,UAAU,CAAC32K,CAAC,CAAC,CAAC8X,MAAM,CAACiwJ,iBAAiB,GAAG4O,UAAU,CAAC32K,CAAC,GAAG,CAAC,CAAC,CAACshI,WAAW;UACxE;QACF;MACF,CAAC;MACD,MAAM9jF,OAAO,GAAG84H,SAAS,CAACp1K,CAAC,GAAGo1K,SAAS,CAAC7yJ,KAAK,GAAG,CAAC;MACjD,MAAMg6B,OAAO,GAAG64H,SAAS,CAACt7I,CAAC,GAAGs7I,SAAS,CAACv6I,MAAM,GAAG,CAAC;MAClD,MAAM66I,aAAa,GAAGt4K,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE7J,IAAI,CAAC6uB,GAAG,CAACmpJ,SAAS,CAAC7yJ,KAAK,EAAE6yJ,SAAS,CAACv6I,MAAM,CAAC,GAAG,CAAC,CAAC;MAClF,IAAI2hB,MAAM,GAAGk5H,aAAa;MAC1BH,eAAe,CAACj5H,OAAO,EAAEC,OAAO,EAAEC,MAAM,CAAC;MACzC,MAAMm5H,KAAK,GAAGA,CAAC,GAAGnrD,EAAE,KAAKrrH,OAAO,CAAC,IAAI,EAAE,CAAC,GAAGqrH,EAAE,CAAC,EAAE,WAAW;QAAEsjD,iBAAiB,GAAG;MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;QAC7F,MAAM8H,UAAU,GAAG,EAAE;QACrB,KAAK,MAAMh/J,MAAM,IAAI,CAAC,GAAG0+J,SAAS,EAAE,GAAGD,WAAW,CAAC,EAAE;UACnD,MAAMj5I,GAAG,GAAG,MAAMxlB,MAAM,CAACivJ,iBAAiB,CAAC;YAAEiI;UAAkB,CAAC,EAAEsH,SAAS,CAAC;UAC5E,IAAIh5I,GAAG,EAAE;YACPw5I,UAAU,CAACnvK,IAAI,CAAC21B,GAAG,CAAC;UACtB;QACF;QACA,IAAIw5I,UAAU,CAAC72K,MAAM,KAAK,CAAC,EAAE;UAC3Bw2K,eAAe,CAACj5H,OAAO,EAAEC,OAAO,EAAEm5H,aAAa,CAAC;UAChD;QACF;QACA,MAAMtyG,QAAQ,GAAG9mC,IAAI,CAACH,KAAK,CAACy5I,UAAU,CAAC;QACvC,MAAMC,OAAO,GAAG,IAAI,CAACC,YAAY,CAAC1yG,QAAQ,EAAE5mB,MAAM,EAAE44H,SAAS,CAAC;QAC9DG,eAAe,CAACM,OAAO,CAACv5H,OAAO,EAAEu5H,OAAO,CAACt5H,OAAO,EAAEs5H,OAAO,CAACr5H,MAAM,CAAC;QACjE,IAAIq5H,OAAO,CAACr5H,MAAM,KAAKA,MAAM,EAAE;UAC7B;QACF;QACAA,MAAM,GAAGq5H,OAAO,CAACr5H,MAAM;MACzB,CAAC,CAAC;MACF,MAAMm5H,KAAK,CAAC,CAAC;MACb,MAAMA,KAAK,CAAC,CAAC;MACb,MAAMA,KAAK,CAAC,CAAC;MACb,MAAMA,KAAK,CAAC;QAAE7H,iBAAiB,EAAE;MAAK,CAAC,CAAC;MACxC,MAAM6H,KAAK,CAAC;QAAE7H,iBAAiB,EAAE;MAAK,CAAC,CAAC;MACxC,OAAO;QAAEtxH,MAAM;QAAEF,OAAO;QAAEC;MAAQ,CAAC;IACrC,CAAC,CAAC;EACJ;EACAu5H,YAAYA,CAACC,SAAS,EAAEv5H,MAAM,EAAE44H,SAAS,EAAE;IACzC,MAAMY,cAAc,GAAG,GAAG;IAC1B,MAAMC,UAAU,GAAG,CAACz5H,MAAM;IAC1B,MAAM05H,SAAS,GAAG,CAAC15H,MAAM;IACzB,MAAM25H,WAAW,GAAG35H,MAAM;IAC1B,MAAM45H,YAAY,GAAG55H,MAAM;IAC3B,IAAIosB,OAAO,GAAGxrE,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEgvK,UAAU,GAAGF,SAAS,CAAC/1K,CAAC,CAAC;IACnD,IAAIq2K,MAAM,GAAGj5K,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAEivK,SAAS,GAAGH,SAAS,CAACj8I,CAAC,CAAC;IACjD,IAAI+uC,QAAQ,GAAGzrE,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE8uK,SAAS,CAAC/1K,CAAC,GAAG+1K,SAAS,CAACxzJ,KAAK,GAAG4zJ,WAAW,CAAC;IACvE,IAAIG,SAAS,GAAGl5K,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE8uK,SAAS,CAACj8I,CAAC,GAAGi8I,SAAS,CAACl7I,MAAM,GAAGu7I,YAAY,CAAC;IAC1ExtG,OAAO,GAAGC,QAAQ,GAAGzrE,IAAI,CAAC6J,GAAG,CAAC2hE,OAAO,EAAEC,QAAQ,CAAC;IAChDwtG,MAAM,GAAGC,SAAS,GAAGl5K,IAAI,CAAC6J,GAAG,CAACovK,MAAM,EAAEC,SAAS,CAAC;IAChD,MAAMC,gBAAgB,GAAGnB,SAAS,CAAC7yJ,KAAK,GAAGqmD,OAAO,GAAGC,QAAQ;IAC7D,MAAM2tG,iBAAiB,GAAGpB,SAAS,CAACv6I,MAAM,GAAGw7I,MAAM,GAAGC,SAAS;IAC/D,IAAIG,SAAS,GAAGr5K,IAAI,CAAC6uB,GAAG,CAACsqJ,gBAAgB,EAAEC,iBAAiB,CAAC,GAAG,CAAC;IACjE,MAAME,mBAAmB,GAAGV,cAAc,GAAGZ,SAAS,CAAC7yJ,KAAK,GAAG,CAAC;IAChE,MAAMo0J,iBAAiB,GAAGX,cAAc,GAAGZ,SAAS,CAACv6I,MAAM,GAAG,CAAC;IAC/D,MAAM+7I,SAAS,GAAGx5K,IAAI,CAAC6uB,GAAG,CAACyqJ,mBAAmB,EAAEC,iBAAiB,CAAC;IAClE,IAAIF,SAAS,GAAGG,SAAS,EAAE;MACzBH,SAAS,GAAGG,SAAS;MACrB,MAAM/oC,iBAAiB,GAAGjlE,OAAO,GAAGC,QAAQ;MAC5C,MAAMilE,eAAe,GAAGuoC,MAAM,GAAGC,SAAS;MAC1C,IAAI,CAAC,GAAGG,SAAS,GAAG3oC,eAAe,GAAGsnC,SAAS,CAACv6I,MAAM,EAAE;QACtD,MAAMg8I,SAAS,GAAGzB,SAAS,CAACv6I,MAAM,GAAG,CAAC,GAAG47I,SAAS;QAClD,IAAIr5K,IAAI,CAAC6uB,GAAG,CAACoqJ,MAAM,EAAEC,SAAS,CAAC,GAAG,CAAC,GAAGO,SAAS,EAAE;UAC/CR,MAAM,GAAGQ,SAAS,GAAG,CAAC;UACtBP,SAAS,GAAGO,SAAS,GAAG,CAAC;QAC3B,CAAC,MAAM,IAAIR,MAAM,GAAGC,SAAS,EAAE;UAC7BD,MAAM,GAAGQ,SAAS,GAAGP,SAAS;QAChC,CAAC,MAAM;UACLA,SAAS,GAAGO,SAAS,GAAGR,MAAM;QAChC;MACF;MACA,IAAI,CAAC,GAAGI,SAAS,GAAG5oC,iBAAiB,GAAGunC,SAAS,CAAC7yJ,KAAK,EAAE;QACvD,MAAMomD,QAAQ,GAAGysG,SAAS,CAAC7yJ,KAAK,GAAG,CAAC,GAAGk0J,SAAS;QAChD,IAAIr5K,IAAI,CAAC6uB,GAAG,CAAC28C,OAAO,EAAEC,QAAQ,CAAC,GAAG,CAAC,GAAGF,QAAQ,EAAE;UAC9CC,OAAO,GAAGD,QAAQ,GAAG,CAAC;UACtBE,QAAQ,GAAGF,QAAQ,GAAG,CAAC;QACzB,CAAC,MAAM,IAAIC,OAAO,GAAGC,QAAQ,EAAE;UAC7BD,OAAO,GAAGD,QAAQ,GAAGE,QAAQ;QAC/B,CAAC,MAAM;UACLA,QAAQ,GAAGF,QAAQ,GAAGC,OAAO;QAC/B;MACF;IACF;IACA,MAAMkuG,QAAQ,GAAGluG,OAAO,GAAG,CAAC,GAAG6tG,SAAS,GAAG5tG,QAAQ;IACnD,MAAMkuG,SAAS,GAAGV,MAAM,GAAG,CAAC,GAAGI,SAAS,GAAGH,SAAS;IACpD,OAAO;MACLh6H,OAAO,EAAE84H,SAAS,CAACp1K,CAAC,GAAG,CAACo1K,SAAS,CAAC7yJ,KAAK,GAAGu0J,QAAQ,IAAI,CAAC,GAAGluG,OAAO,GAAG6tG,SAAS;MAC7El6H,OAAO,EAAE64H,SAAS,CAACt7I,CAAC,GAAG,CAACs7I,SAAS,CAACv6I,MAAM,GAAGk8I,SAAS,IAAI,CAAC,GAAGV,MAAM,GAAGI,SAAS;MAC9Ej6H,MAAM,EAAEi6H;IACV,CAAC;EACH;AACF,CAAC;AACD9B,WAAW,CAACv8J,SAAS,GAAG,YAAY;AACpCu8J,WAAW,CAAChoK,IAAI,GAAG,OAAO;AAC1B,IAAIqqK,UAAU,GAAGrC,WAAW;;AAE5B;AACA,IAAIsC,SAAS,GAAG75K,IAAI,CAACwsC,EAAE,GAAG,GAAG;AAC7B,IAAIstI,IAAI,GAAIC,GAAG,IAAKA,GAAG,GAAGF,SAAS;AACnC,IAAIG,IAAI,GAAIC,GAAG,IAAK,CAACj6K,IAAI,CAACwH,GAAG,CAACxH,IAAI,CAAC62C,GAAG,CAAC72C,IAAI,CAACwsC,EAAE,GAAG,IAAI,GAAGytI,GAAG,GAAGJ,SAAS,GAAG,GAAG,CAAC,CAAC;AAC/E,IAAIK,IAAI,GAAIt3K,CAAC,IAAKA,CAAC,GAAGi3K,SAAS;AAC/B,IAAIM,IAAI,GAAIz9I,CAAC,IAAK,CAAC18B,IAAI,CAACo6K,IAAI,CAACp6K,IAAI,CAAC2rE,GAAG,CAAC,CAACjvC,CAAC,CAAC,CAAC,GAAG18B,IAAI,CAACwsC,EAAE,GAAG,IAAI,KAAKqtI,SAAS,GAAG,GAAG,CAAC;AAChF,IAAIQ,aAAa,GAAG,MAAMC,cAAc,CAAC;EACvCpyK,WAAWA,CAACk4C,MAAM,EAAEh3C,MAAM,EAAE;IAC1B,IAAI,CAACg3C,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACx3C,KAAK,GAAGQ,MAAM;IACnB,IAAI,CAACmG,IAAI,GAAG,UAAU;IACtB,IAAI,CAACuhE,MAAM,GAAGwpG,cAAc,CAACxpG,MAAM,CAAC1wB,MAAM,CAAC;EAC7C;EACA,OAAO0wB,MAAMA,CAAC1wB,MAAM,EAAE;IACpB,MAAM,CAAC,CAACm6H,IAAI,EAAEC,IAAI,CAAC,EAAE,CAACC,IAAI,EAAEC,IAAI,CAAC,CAAC,GAAGt6H,MAAM;IAC3C,MAAMkB,EAAE,GAAGw4H,IAAI,CAACS,IAAI,CAAC;IACrB,MAAMhrH,EAAE,GAAGyqH,IAAI,CAACQ,IAAI,CAAC;IACrB,MAAMp8I,EAAE,GAAG07I,IAAI,CAACW,IAAI,CAAC;IACrB,MAAMp8I,EAAE,GAAG27I,IAAI,CAACU,IAAI,CAAC;IACrB,OAAO,IAAIx7I,IAAI,CAACl/B,IAAI,CAAC6uB,GAAG,CAACyyB,EAAE,EAAEljB,EAAE,CAAC,EAAEp+B,IAAI,CAAC6uB,GAAG,CAAC0gC,EAAE,EAAElxB,EAAE,CAAC,EAAEr+B,IAAI,CAAC27B,GAAG,CAACyC,EAAE,GAAGkjB,EAAE,CAAC,EAAEthD,IAAI,CAAC27B,GAAG,CAAC0C,EAAE,GAAGkxB,EAAE,CAAC,CAAC;EAC3F;EACA,OAAOorH,UAAUA,CAAA,EAAG;IAClB,OAAO,IAAIL,cAAc,CACvB,CACE,CAACJ,IAAI,CAAC,CAAC,CAAC,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC,EAClB,CAACD,IAAI,CAAC,CAAC,CAAC,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC,CACnB,EACD,CACE,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,CAEV,CAAC;EACH;EACA55H,OAAOA,CAAC,CAACw5H,GAAG,EAAEE,GAAG,CAAC,EAAE;IAClB,MAAM,CAAC,CAAC34H,EAAE,EAAEiO,EAAE,CAAC,EAAE,CAACnxB,EAAE,EAAEC,EAAE,CAAC,CAAC,GAAG,IAAI,CAACz1B,KAAK;IACvC,MAAMw7H,MAAM,GAAG,CAAChmG,EAAE,GAAGkjB,EAAE,IAAI,IAAI,CAACwvB,MAAM,CAAC3rD,KAAK;IAC5C,MAAMk/G,MAAM,GAAG,CAAChmG,EAAE,GAAGkxB,EAAE,IAAI,IAAI,CAACuhB,MAAM,CAACrzC,MAAM;IAC7C,OAAO,CAAC,CAACq8I,IAAI,CAACC,GAAG,CAAC,GAAG,IAAI,CAACjpG,MAAM,CAACluE,CAAC,IAAIwhI,MAAM,GAAG9iF,EAAE,EAAE,CAAC04H,IAAI,CAACC,GAAG,CAAC,GAAG,IAAI,CAACnpG,MAAM,CAACp0C,CAAC,IAAI2nG,MAAM,GAAG90E,EAAE,CAAC;EAC/F;EACA/O,MAAMA,CAAC,CAAC59C,CAAC,EAAE85B,CAAC,CAAC,EAAE;IACb,MAAM,CAAC,CAAC4kB,EAAE,EAAEiO,EAAE,CAAC,EAAE,CAACnxB,EAAE,EAAEC,EAAE,CAAC,CAAC,GAAG,IAAI,CAACz1B,KAAK;IACvC,MAAMw7H,MAAM,GAAG,CAAChmG,EAAE,GAAGkjB,EAAE,IAAI,IAAI,CAACwvB,MAAM,CAAC3rD,KAAK;IAC5C,MAAMk/G,MAAM,GAAG,CAAChmG,EAAE,GAAGkxB,EAAE,IAAI,IAAI,CAACuhB,MAAM,CAACrzC,MAAM;IAC7C,OAAO,CAACy8I,IAAI,CAAC,CAACt3K,CAAC,GAAG0+C,EAAE,IAAI8iF,MAAM,GAAG,IAAI,CAACtzD,MAAM,CAACluE,CAAC,CAAC,EAAEu3K,IAAI,CAAC,CAACz9I,CAAC,GAAG6yB,EAAE,IAAI80E,MAAM,GAAG,IAAI,CAACvzD,MAAM,CAACp0C,CAAC,CAAC,CAAC;EAC3F;AACF,CAAC;;AAED;AACA,SAASk+I,gBAAgBA,CAACphK,MAAM,EAAE;EAChC,OAAOA,MAAM,CAACjK,IAAI,KAAK,WAAW,IAAIiK,MAAM,CAACjK,IAAI,KAAK,UAAU,IAAIiK,MAAM,CAACjK,IAAI,KAAK,YAAY,IAAIiK,MAAM,CAACjK,IAAI,KAAK,sBAAsB,IAAIiK,MAAM,CAACjK,IAAI,KAAK,qBAAqB;AACrL;AACA,IAAIsrK,cAAc,GAAG,MAAMA,cAAc,SAAS9gD,KAAK,CAAC;EACtD7xH,WAAWA,CAAC3B,OAAO,EAAE4lH,SAAS,EAAE;IAC9B,KAAK,CAAC5lH,OAAO,EAAE4lH,SAAS,CAAC;IACzB,IAAI,CAACqf,KAAK,GAAG,IAAImH,UAAU,CAAC,IAAI,CAAC/jB,gBAAgB,CAAC,CAAC,CAAC;IACpD,IAAI,CAAC4c,KAAK,CAACtkH,QAAQ,GAAG,QAAQ;IAC9B,IAAI,CAACukH,KAAK,GAAG,IAAIkH,UAAU,CAAC,IAAI,CAAC/jB,gBAAgB,CAAC,CAAC,CAAC;IACpD,IAAI,CAAC6c,KAAK,CAACvkH,QAAQ,GAAG,MAAM;IAC5B,IAAI,CAACwb,GAAG,CAACsqE,WAAW,CAAC4L,UAAU,CAAC,CAAC,IAAI,CAAC4yB,KAAK,EAAE,IAAI,CAACC,KAAK,CAAC,CAAC;EAC3D;EACAxa,UAAUA,CAAA,EAAG;IACX,OAAOlvH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAMF,UAAU,CAACg5K,cAAc,CAAC17K,SAAS,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC0B,IAAI,CAAC,IAAI,CAAC;MACzE,MAAM;QAAEkjB;MAAS,CAAC,GAAG,IAAI,CAAC2Q,UAAU,CAAC,CAAC;MACtC,IAAI,CAAClb,MAAM,CAACiB,OAAO,CAAEjB,MAAM,IAAK;QAC9B,IAAIohK,gBAAgB,CAACphK,MAAM,CAAC,EAAE;UAC5BA,MAAM,CAACshK,gBAAgB,CAAC/2J,QAAQ,CAAC;QACnC;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA2vG,aAAaA,CAAA,EAAG;IACd,OAAO3xH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAMioH,UAAU,GAAG,MAAMnoH,UAAU,CAACg5K,cAAc,CAAC17K,SAAS,EAAE,IAAI,EAAE,eAAe,CAAC,CAAC0B,IAAI,CAAC,IAAI,CAAC;MAC/F,MAAM;QACJwrH,UAAU,EAAE;UAAErnG;QAAQ,CAAC;QACvB0jG,UAAU;QACV/xB,cAAc;QACdgyB;MACF,CAAC,GAAG,IAAI;MACR,MAAMyuD,cAAc,GAAGptD,UAAU,CAACzzG,KAAK,CAAC,CAAC;MACzCyzG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC4B,IAAI,EAAE,MAAM,CAAC;MACvCojG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAACyB,GAAG,EAAE,KAAK,CAAC;MACrCujG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC0B,KAAK,EAAE,OAAO,CAAC;MACzCsjG,UAAU,CAACxrF,MAAM,CAACxZ,OAAO,CAAC2B,MAAM,EAAE,QAAQ,CAAC;MAC3C,IAAI,CAACqlG,UAAU,GAAGhC,UAAU;MAC5B,IAAI,CAACoG,aAAa,GAAGpG,UAAU;MAC/B,IAAI,CAAC2K,SAAS,GAAG3K,UAAU;MAC3B,MAAM+wD,SAAS,GAAG,IAAI,CAACvhK,MAAM,CAACpI,MAAM,CAACwpK,gBAAgB,CAAC;MACtD,MAAMI,YAAY,GAAGD,SAAS,CAACpnK,MAAM,CAAC,CAACsnK,QAAQ,EAAEzhK,MAAM,KAAK;QAC1D,IAAI,CAACA,MAAM,CAACsM,OAAO,EACjB,OAAOm1J,QAAQ;QACjB,MAAMn5I,IAAI,GAAGtoB,MAAM,CAAC0hK,cAAc;QAClC,IAAIp5I,IAAI,IAAI,IAAI,EACd,OAAOm5I,QAAQ;QACjB,IAAIA,QAAQ,IAAI,IAAI,EAClB,OAAOn5I,IAAI;QACbm5I,QAAQ,CAACl8I,KAAK,CAAC+C,IAAI,CAAC;QACpB,OAAOm5I,QAAQ;MACjB,CAAC,EAAE,KAAK,CAAC,CAAC;MACV,IAAIl5G,MAAM;MACV,IAAIi5G,YAAY,IAAI,IAAI,EAAE;QACxB,MAAM;UAAET,IAAI;UAAEC,IAAI;UAAEC,IAAI;UAAEC;QAAK,CAAC,GAAGM,YAAY;QAC/C,MAAM56H,MAAM,GAAG,CACb,CAACm6H,IAAI,EAAEC,IAAI,CAAC,EACZ,CAACC,IAAI,EAAEC,IAAI,CAAC,CACb;QACD,MAAM5pG,MAAM,GAAGupG,aAAa,CAACvpG,MAAM,CAAC1wB,MAAM,CAAC;QAC3C,MAAM;UAAEj7B,KAAK;UAAEsY;QAAO,CAAC,GAAGusF,UAAU;QACpC,MAAMmxD,YAAY,GAAGn7K,IAAI,CAAC6uB,GAAG,CAAC1J,KAAK,GAAG2rD,MAAM,CAAC3rD,KAAK,EAAEsY,MAAM,GAAGqzC,MAAM,CAACrzC,MAAM,CAAC;QAC3E,MAAM29I,YAAY,GAAGtqG,MAAM,CAAC3rD,KAAK,GAAGg2J,YAAY;QAChD,MAAME,aAAa,GAAGvqG,MAAM,CAACrzC,MAAM,GAAG09I,YAAY;QAClD,MAAMG,cAAc,GAAG,CAACn2J,KAAK,GAAGi2J,YAAY,IAAI,CAAC;QACjD,MAAMG,cAAc,GAAG,CAAC99I,MAAM,GAAG49I,aAAa,IAAI,CAAC;QACnD,MAAM/5H,EAAE,GAAGg6H,cAAc;QACzB,MAAM/rH,EAAE,GAAGgsH,cAAc;QACzB,MAAMn9I,EAAE,GAAGk9I,cAAc,GAAGF,YAAY;QACxC,MAAM/8I,EAAE,GAAGk9I,cAAc,GAAGF,aAAa;QACzC,MAAMG,KAAK,GAAG,IAAI,CAAC94I,GAAG,CAACsqE,WAAW,CAACwM,WAAW,CAAC,IAAI,CAACgyB,KAAK,CAACxmG,EAAE,CAAC;QAC7D,MAAMy2I,KAAK,GAAG,IAAI,CAAC/4I,GAAG,CAACsqE,WAAW,CAACwM,WAAW,CAAC,IAAI,CAACiyB,KAAK,CAACzmG,EAAE,CAAC;QAC7D,MAAM02I,KAAK,GAAG,CAACt9I,EAAE,GAAGkjB,EAAE,KAAKk6H,KAAK,CAAC3xK,GAAG,GAAG2xK,KAAK,CAAC3sJ,GAAG,CAAC;QACjD,MAAMq1C,MAAM,GAAG5iB,EAAE,GAAGo6H,KAAK,GAAGF,KAAK,CAAC3sJ,GAAG;QACrC,MAAM8sJ,KAAK,GAAG,CAACt9I,EAAE,GAAGkxB,EAAE,KAAK,CAAC,GAAGksH,KAAK,CAAC5sJ,GAAG,IAAI,CAAC,GAAG4sJ,KAAK,CAAC5xK,GAAG,CAAC,CAAC;QAC3D,MAAMk6D,MAAM,GAAGxU,EAAE,GAAGosH,KAAK,IAAI,CAAC,GAAGF,KAAK,CAAC5xK,GAAG,CAAC;QAC3Ck4D,MAAM,GAAG,IAAIs4G,aAAa,CAACj6H,MAAM,EAAE,CACjC,CAAC8jB,MAAM,EAAEH,MAAM,CAAC,EAChB,CAACG,MAAM,GAAGw3G,KAAK,EAAE33G,MAAM,GAAG43G,KAAK,CAAC,CACjC,CAAC;MACJ;MACAZ,SAAS,CAACtgK,OAAO,CAAEjB,MAAM,IAAK;QAC5BA,MAAM,CAACsrD,KAAK,GAAG/C,MAAM;MACvB,CAAC,CAAC;MACF,MAAM65G,aAAa,GAAG,IAAI,CAACpiK,MAAM,CAAC1J,IAAI,CAAErG,CAAC,IAAKA,CAAC,CAACqc,OAAO,CAAC;MACxD4iG,UAAU,CAAC5iG,OAAO,GAAG81J,aAAa;MAClC,KAAK,MAAMp2G,MAAM,IAAI,CAACkjD,UAAU,EAAE/xB,cAAc,EAAEgyB,aAAa,CAAC,EAAE;QAChEnjD,MAAM,CAACriC,YAAY,GAAGnjC,IAAI,CAACsI,KAAK,CAAC0hH,UAAU,CAACpnH,CAAC,CAAC;QAC9C4iE,MAAM,CAACpiC,YAAY,GAAGpjC,IAAI,CAACsI,KAAK,CAAC0hH,UAAU,CAACttF,CAAC,CAAC;QAC9C8oC,MAAM,CAAC1Q,iCAAiC,CACtC,IAAI51B,IAAI,CAAC8qF,UAAU,CAACpnH,CAAC,EAAEonH,UAAU,CAACttF,CAAC,EAAEstF,UAAU,CAAC7kG,KAAK,EAAE6kG,UAAU,CAACvsF,MAAM,CAC1E,CAAC;MACH;MACA,IAAI,CAACiF,GAAG,CAAC05C,aAAa,CAACqvB,sBAAsB,CAAC;QAC5Cl8F,IAAI,EAAE,iBAAiB;QACvB8sE,KAAK,EAAE;UAAEl3D,KAAK,EAAE,IAAI,CAACud,GAAG,CAACkqE,KAAK,CAACznF,KAAK;UAAEsY,MAAM,EAAE,IAAI,CAACiF,GAAG,CAACkqE,KAAK,CAACnvE;QAAO,CAAC;QACrEuwG,UAAU,EAAE,KAAK;QACjBx0H,MAAM,EAAE;UAAE66C,IAAI,EAAE+iH,cAAc;UAAElpC,UAAU,EAAElkB,UAAU;UAAElkG,OAAO,EAAE81J;QAAc,CAAC;QAChFrhK,IAAI,EAAE;MACR,CAAC,CAAC;MACF,OAAOyvG,UAAU;IACnB,CAAC,CAAC;EACJ;AACF,CAAC;AACD6wD,cAAc,CAAC7/J,SAAS,GAAG,eAAe;AAC1C6/J,cAAc,CAACtrK,IAAI,GAAG,UAAU;AAChC,IAAIssK,aAAa,GAAGhB,cAAc;;AAElC;AACA,IAAIiB,MAAM,GAAGhpJ,KAAK,CAAC/hB,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC;AACvC,SAASgrK,SAASA,CAACx1K,OAAO,EAAE;EAC1B,IAAIkT,yBAAyB,CAAClT,OAAO,CAAC,EAAE;IACtC,OAAO,WAAW;EACpB,CAAC,MAAM,IAAIoT,qBAAqB,CAACpT,OAAO,CAAC,EAAE;IACzC,OAAO,OAAO;EAChB,CAAC,MAAM,IAAIqT,yBAAyB,CAACrT,OAAO,CAAC,EAAE;IAC7C,OAAO,WAAW;EACpB,CAAC,MAAM,IAAIsT,wBAAwB,CAACtT,OAAO,CAAC,EAAE;IAC5C,OAAO,UAAU;EACnB;EACA,MAAM,IAAI4J,KAAK,CAAC,2DAA2D5J,OAAO,CAACgJ,IAAI,EAAE,CAAC;AAC5F;AACA,IAAIysK,SAAS,GAAG,MAAMA,SAAS,CAAC;EAC9B,OAAOC,YAAYA,CAAC11K,OAAO,EAAE;IAC3B,IAAIyC,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;IAClB,IAAI,IAAI,CAACgiK,cAAc,EACrB;IACF,IAAI,CAACC,cAAc,GAAG,CAAC7iK,EAAE,GAAG,CAACtQ,EAAE,GAAGsF,gBAAgB,EAAE6tK,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG7iK,EAAE,CAACzY,IAAI,CAACmI,EAAE,EAAEzC,OAAO,CAAC;IAC3G,CAACgT,EAAE,GAAG,IAAI,CAAC4iK,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG5iK,EAAE,CAAC6iK,aAAa,CAAC,IAAI,CAACC,UAAU,EAAE,IAAI,CAACC,WAAW,CAAC;IACjG,CAACpiK,EAAE,GAAG,IAAI,CAACiiK,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjiK,EAAE,CAACqiK,eAAe,CAAC,CAAC;IAClE,IAAI,CAACL,cAAc,GAAG,IAAI;EAC5B;EACA,OAAOE,aAAaA,CAACC,UAAU,EAAE;IAC/B,IAAI,CAACA,UAAU,GAAGA,UAAU;EAC9B;EACA,OAAOG,cAAcA,CAACF,WAAW,EAAE;IACjC,IAAI,CAACA,WAAW,GAAGA,WAAW;EAChC;EACA,OAAOG,iBAAiBA,CAACJ,UAAU,EAAE;IACnC,IAAIrzK,EAAE,EAAEsQ,EAAE;IACV,OAAO,CAACA,EAAE,GAAG,CAACtQ,EAAE,GAAGsF,gBAAgB,EAAE6tK,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG7iK,EAAE,CAACzY,IAAI,CAACmI,EAAE,EAAE,CAAC,CAAC,CAAC,CAACyzK,iBAAiB,CAACJ,UAAU,CAAC;EACvH;EACA;AACF;AACA;EACE,OAAO1sD,WAAWA,CAAC5+F,QAAQ,EAAE;IAC3B,OAAO2rJ,gBAAgB,CAAC/sD,WAAW,CAAC5+F,QAAQ,CAAC;EAC/C;EACA;AACF;AACA;EACE,OAAOhgB,MAAMA,CAACxK,OAAO,EAAE;IACrB,IAAIyC,EAAE,EAAEsQ,EAAE,EAAEC,EAAE;IACd,IAAI,CAAC0iK,YAAY,CAAC11K,OAAO,CAAC;IAC1B,MAAM81E,KAAK,GAAGqgG,gBAAgB,CAACC,cAAc,CAACp2K,OAAO,CAAC;IACtD,IAAI,CAACyC,EAAE,GAAG,IAAI,CAACmzK,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGnzK,EAAE,CAAC4zK,kBAAkB,CAAC,CAAC,EAAE;MACzE,CAACrjK,EAAE,GAAG,CAACD,EAAE,GAAGhL,gBAAgB,EAAEuuK,eAAe,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtjK,EAAE,CAAC1Y,IAAI,CAACyY,EAAE,EAAE+iE,KAAK,CAACA,KAAK,CAAC7H,OAAO,EAAE,IAAI,CAAC2nG,cAAc,CAACW,mBAAmB,CAAC,CAAC,CAAC;IAC/I;IACA,OAAOzgG,KAAK;EACd;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE,OAAOxjC,MAAMA,CAACwjC,KAAK,EAAE91E,OAAO,EAAE;IAC5B,IAAI,CAACsrI,oBAAoB,CAACL,UAAU,CAACn1D,KAAK,CAAC,EAAE;MAC3C,MAAM,IAAIlsE,KAAK,CAAC6rK,SAAS,CAACe,yBAAyB,CAAC;IACtD;IACAL,gBAAgB,CAACC,cAAc,CAACp2K,OAAO,EAAE81E,KAAK,CAAC;EACjD;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE,OAAO2gG,WAAWA,CAAC3gG,KAAK,EAAE06C,YAAY,EAAE;IACtC,IAAI,CAAC8a,oBAAoB,CAACL,UAAU,CAACn1D,KAAK,CAAC,EAAE;MAC3C,MAAM,IAAIlsE,KAAK,CAAC6rK,SAAS,CAACe,yBAAyB,CAAC;IACtD;IACAL,gBAAgB,CAACO,eAAe,CAAC5gG,KAAK,EAAE06C,YAAY,CAAC;EACvD;EACA;AACF;AACA;EACE,OAAOxlG,QAAQA,CAAC8qD,KAAK,EAAE91E,OAAO,EAAE;IAC9B,IAAI,EAAE81E,KAAK,YAAYw1D,oBAAoB,CAAC,EAAE;MAC5C,MAAM,IAAI1hI,KAAK,CAAC6rK,SAAS,CAACe,yBAAyB,CAAC;IACtD;IACAL,gBAAgB,CAACnrJ,QAAQ,CAAC8qD,KAAK,EAAE91E,OAAO,CAAC,CAACmtF,KAAK,CAAEjxF,CAAC,IAAK8E,MAAM,CAACS,SAAS,CAACvF,CAAC,CAAC,CAAC;EAC7E;EACA;AACF;AACA;EACE,OAAOy6K,eAAeA,CAAC7gG,KAAK,EAAE91E,OAAO,EAAE;IACrC,IAAI,EAAE81E,KAAK,YAAYw1D,oBAAoB,CAAC,EAAE;MAC5C,MAAM,IAAI1hI,KAAK,CAAC6rK,SAAS,CAACe,yBAAyB,CAAC;IACtD;IACA,OAAOL,gBAAgB,CAACQ,eAAe,CAAC7gG,KAAK,EAAE91E,OAAO,CAAC;EACzD;AACF,CAAC;AACDy1K,SAAS,CAACe,yBAAyB,GAAG,4CAA4C;AAClFf,SAAS,CAACE,cAAc,GAAG,KAAK;AAChCF,SAAS,CAACM,WAAW,GAAG,KAAK;AAC7B,IAAIa,QAAQ,GAAGnB,SAAS;AACxB,IAAIoB,OAAO,GAAG,MAAM;EAClB,OAAOhjJ,cAAcA,CAACijJ,UAAU,EAAE;IAChC,MAAMjjJ,cAAc,GAAGH,wBAAwB,CAAC,CAAC;IACjDG,cAAc,CAAC,WAAWijJ,UAAU,EAAE,EAAE,gBAAgBA,UAAU,UAAU,CAAC;EAC/E;EACA,OAAOtsK,MAAMA,CAACxK,OAAO,EAAE;IACrB,IAAI,CAAC6zB,cAAc,CAAC,QAAQ,CAAC;IAC7B,OAAO+iJ,QAAQ,CAACpsK,MAAM,CAACxK,OAAO,CAAC;EACjC;EACA,OAAOsyC,MAAMA,CAACwjC,KAAK,EAAE91E,OAAO,EAAE;IAC5B,IAAI,CAAC6zB,cAAc,CAAC,QAAQ,CAAC;IAC7B,OAAO+iJ,QAAQ,CAACtkI,MAAM,CAACwjC,KAAK,EAAE91E,OAAO,CAAC;EACxC;EACA,OAAOy2K,WAAWA,CAAC3gG,KAAK,EAAE06C,YAAY,EAAE;IACtC,IAAI,CAAC38F,cAAc,CAAC,aAAa,CAAC;IAClC,OAAO+iJ,QAAQ,CAACH,WAAW,CAAC3gG,KAAK,EAAE06C,YAAY,CAAC;EAClD;EACA,OAAOxlG,QAAQA,CAAC8qD,KAAK,EAAE91E,OAAO,EAAE;IAC9B,IAAI,CAAC6zB,cAAc,CAAC,UAAU,CAAC;IAC/B,OAAO+iJ,QAAQ,CAAC5rJ,QAAQ,CAAC8qD,KAAK,EAAE91E,OAAO,CAAC;EAC1C;EACA,OAAO22K,eAAeA,CAAC7gG,KAAK,EAAE91E,OAAO,EAAE;IACrC,IAAI,CAAC6zB,cAAc,CAAC,iBAAiB,CAAC;IACtC,OAAO+iJ,QAAQ,CAACD,eAAe,CAAC7gG,KAAK,EAAE91E,OAAO,CAAC;EACjD;AACF,CAAC;AACD,IAAI+2K,iBAAiB,GAAG,MAAMA,iBAAiB,CAAC;EAC9C,OAAO3tD,WAAWA,CAAC5+F,QAAQ,EAAE;IAC3B,MAAMsrD,KAAK,GAAG09C,KAAK,CAACpK,WAAW,CAAC5+F,QAAQ,CAAC;IACzC,OAAOsrD,KAAK,GAAGw1D,oBAAoB,CAACD,cAAc,CAACnyI,GAAG,CAAC48E,KAAK,CAAC,GAAG,KAAK,CAAC;EACxE;EACA,OAAOkhG,iBAAiBA,CAAA,EAAG;IACzB,IAAID,iBAAiB,CAACE,WAAW,EAC/B;IACF3G,sBAAsB,CAAC,CAAC;IACxBC,YAAY,CAAC,CAAC;IACdwG,iBAAiB,CAACE,WAAW,GAAG,IAAI;EACtC;EACA,OAAOb,cAAcA,CAACp2K,OAAO,EAAEk3K,KAAK,EAAE;IACpC,IAAInkK,EAAE;IACNgkK,iBAAiB,CAACC,iBAAiB,CAAC,CAAC;IACrCzB,MAAM,CAAC,6CAA6C,EAAEv1K,OAAO,CAAC;IAC9D,MAAMyC,EAAE,GAAGzC,OAAO;MAAE;QAAEkoH,wBAAwB;QAAEh+F,QAAQ,EAAEqB,SAAS;QAAE9c,MAAM,EAAE0oK;MAAW,CAAC,GAAG10K,EAAE;MAAEsqB,WAAW,GAAGvyB,SAAS,CAACiI,EAAE,EAAE,CAAC,0BAA0B,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;IAC/K,MAAMqlH,YAAY,GAAG,IAAIh7F,YAAY,CAACC,WAAW,EAAE;MAAEm7F,wBAAwB;MAAEh+F,QAAQ,EAAEqB,SAAS;MAAE9c,MAAM,EAAE0oK;IAAW,CAAC,CAAC;IACzH,IAAIrhG,KAAK,GAAGohG,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACphG,KAAK;IAChD,IAAIA,KAAK,IAAI,IAAI,IAAI0/F,SAAS,CAACzoJ,WAAW,CAAC,KAAKyoJ,SAAS,CAAC1/F,KAAK,CAACjoD,gBAAgB,CAAC,EAAE;MACjFioD,KAAK,GAAGihG,iBAAiB,CAACK,mBAAmB,CAACtvD,YAAY,EAAEhyC,KAAK,CAAC;IACpE;IACA,IAAIohG,KAAK,IAAI,IAAI,EAAE;MACjBA,KAAK,GAAG,IAAI5rC,oBAAoB,CAACx1D,KAAK,CAAC;IACzC,CAAC,MAAM;MACLohG,KAAK,CAACphG,KAAK,GAAGA,KAAK;IACrB;IACA,IAAIy/F,MAAM,CAAC7oJ,KAAK,CAAC,CAAC,IAAI,OAAOje,MAAM,KAAK,WAAW,EAAE;MACnD,CAACsE,EAAE,GAAGtE,MAAM,CAAC4oK,gBAAgB,KAAK,IAAI,GAAGtkK,EAAE,GAAGtE,MAAM,CAAC4oK,gBAAgB,GAAG,CAAC,CAAC;MAC1E5oK,MAAM,CAAC4oK,gBAAgB,CAACvhG,KAAK,CAACr3C,EAAE,CAAC,GAAGq3C,KAAK;IAC3C;IACAA,KAAK,CAACswC,iBAAiB,CAACtjH,IAAI,CAACiqB,WAAW,CAAC;IACzC+oD,KAAK,CAACm0C,oBAAoB,CAAEqtD,QAAQ,IAAK;MACvCA,QAAQ,CAAC7hE,YAAY,CAACqS,YAAY,CAAC;MACnCwvD,QAAQ,CAAClxD,iBAAiB,CAAC/8G,MAAM,CAAC,CAAC,EAAEiuK,QAAQ,CAAClxD,iBAAiB,CAACxrH,OAAO,CAACmyB,WAAW,CAAC,CAAC;IACvF,CAAC,CAAC;IACF,OAAOmqJ,KAAK;EACd;EACA,OAAOR,eAAeA,CAACQ,KAAK,EAAE1mD,YAAY,EAAE;IAC1CA,YAAY,GAAG56G,SAAS,CAAC46G,YAAY,EAAE;MAAE36G,OAAO,EAAE,CAAC,MAAM;IAAE,CAAC,CAAC;IAC7DG,QAAQ,CACNw6G,YAAY,EACXn6G,IAAI,IAAK;MACR,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAC1B;MACF,KAAK,MAAM,CAACxc,GAAG,EAAEC,KAAK,CAAC,IAAI/B,MAAM,CAAC+X,OAAO,CAACuG,IAAI,CAAC,EAAE;QAC/C,IAAI,OAAOvc,KAAK,KAAK,WAAW,EAAE;UAChC/B,MAAM,CAAC2I,MAAM,CAAC2V,IAAI,EAAE;YAAE,CAACxc,GAAG,GAAGP,MAAM,CAAC,OAAO;UAAE,CAAC,CAAC;QACjD;MACF;IACF,CAAC,EACD;MAAEmc,IAAI,EAAE,CAAC,MAAM;IAAE,CACnB,CAAC;IACD,MAAM;MAAEqgE;IAAM,CAAC,GAAGohG,KAAK;IACvB,MAAMK,iBAAiB,GAAGzhG,KAAK,CAAC3nD,UAAU,CAAC,CAAC;IAC5C,MAAMpB,WAAW,GAAG3d,aAAa,CAACohH,YAAY,EAAE+mD,iBAAiB,CAAC;IAClEhC,MAAM,CAAC,4CAA4C,EAAE/kD,YAAY,CAAC;IAClE+kD,MAAM,CAAC,4CAA4C,EAAEgC,iBAAiB,CAAC;IACvER,iBAAiB,CAACX,cAAc,CAACrpJ,WAAW,EAAEmqJ,KAAK,CAAC;EACtD;EACA;AACF;AACA;EACE,OAAOlsJ,QAAQA,CAACksJ,KAAK,EAAE/gK,IAAI,EAAE;IAC3B,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAI;QACF,MAAMwU,KAAK,GAAG,MAAM+mK,iBAAiB,CAACS,mBAAmB,CAACN,KAAK,EAAE/gK,IAAI,CAAC;QACtEnG,KAAK,CAAC8lE,KAAK,CAAC35C,GAAG,CAACkqE,KAAK,CAACr7E,QAAQ,CAAC7U,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACyU,QAAQ,EAAEzU,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC01E,UAAU,CAAC;QAC9G77E,KAAK,CAAC7H,OAAO,CAAC,CAAC;MACjB,CAAC,CAAC,OAAO7G,KAAK,EAAE;QACdN,MAAM,CAACS,SAAS,CAACH,KAAK,CAAC;MACzB;IACF,CAAC,CAAC;EACJ;EACA,OAAOq1K,eAAeA,CAACO,KAAK,EAAE/gK,IAAI,EAAE;IAClC,OAAO3a,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,MAAMwU,KAAK,GAAG,MAAM+mK,iBAAiB,CAACS,mBAAmB,CAACN,KAAK,EAAE/gK,IAAI,CAAC;MACtE,MAAMjb,MAAM,GAAG8U,KAAK,CAAC8lE,KAAK,CAAC35C,GAAG,CAACkqE,KAAK,CAACva,UAAU,CAAC31E,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC01E,UAAU,CAAC;MACxF77E,KAAK,CAAC7H,OAAO,CAAC,CAAC;MACf,OAAOjN,MAAM;IACf,CAAC,CAAC;EACJ;EACA,OAAOs8K,mBAAmBA,CAAC3wD,EAAE,EAAE;IAC7B,OAAOrrH,OAAO,CAAC,IAAI,EAAEykD,SAAS,EAAE,WAAW;MAAE61B;IAAM,CAAC,EAAE3/D,IAAI,GAAG,CAAC,CAAC,EAAE;MAC/D,IAAI1T,EAAE,EAAEsQ,EAAE,EAAEC,EAAE,EAAEW,EAAE;MAClB,MAAMiL,KAAK,GAAG,CAAC7L,EAAE,GAAG,CAACtQ,EAAE,GAAG0T,IAAI,CAACyI,KAAK,KAAK,IAAI,GAAGnc,EAAE,GAAGqzE,KAAK,CAACl3D,KAAK,KAAK,IAAI,GAAG7L,EAAE,GAAG+iE,KAAK,CAAC35C,GAAG,CAACkqE,KAAK,CAAC/1C,MAAM,CAAC1xC,KAAK;MAC7G,MAAMsY,MAAM,GAAG,CAACvjB,EAAE,GAAG,CAACX,EAAE,GAAGmD,IAAI,CAAC+gB,MAAM,KAAK,IAAI,GAAGlkB,EAAE,GAAG8iE,KAAK,CAAC5+C,MAAM,KAAK,IAAI,GAAGvjB,EAAE,GAAGmiE,KAAK,CAAC35C,GAAG,CAACkqE,KAAK,CAAC/1C,MAAM,CAACp5B,MAAM;MACjH,MAAMl3B,OAAO,GAAGoP,aAAa,CAC3B;QACEsnB,SAAS,EAAExM,QAAQ,CAACI,aAAa,CAAC,KAAK,CAAC;QACxC49F,wBAAwB,EAAE,CAAC;QAC3BC,QAAQ,EAAE,KAAK;QACfvpG,KAAK;QACLsY;MACF,CAAC;MACD;MACAntB,cAAc,CAACT,oBAAoB,CAAC,CAAC,IAAI;QAAE+pF,SAAS,EAAE;UAAEp1E,OAAO,EAAE;QAAM;MAAE,CAAC,EAC1E63D,KAAK,CAAC/oD,WACR,CAAC;MACD,MAAM0qJ,UAAU,GAAGV,iBAAiB,CAACX,cAAc,CAACp2K,OAAO,CAAC;MAC5Dy3K,UAAU,CAAC3hG,KAAK,CAAC35C,GAAG,CAACsqE,WAAW,CAAC+L,UAAU,CAAC,WAAW,EAAE18B,KAAK,CAAC35C,GAAG,CAACsqE,WAAW,CAACuM,OAAO,CAAC,CAAC,CAAC;MACzFl9B,KAAK,CAAC7iE,MAAM,CAACiB,OAAO,CAAC,CAACjB,MAAM,EAAE7J,KAAK,KAAK;QACtC,IAAI,CAAC6J,MAAM,CAACsM,OAAO,EAAE;UACnBk4J,UAAU,CAAC3hG,KAAK,CAAC7iE,MAAM,CAAC7J,KAAK,CAAC,CAACmW,OAAO,GAAG,KAAK;QAChD;MACF,CAAC,CAAC;MACFu2D,KAAK,CAACxjC,MAAM,CAAC,CAAC,CAAC,YAAY;QAAE62E,oBAAoB,EAAE;MAAK,CAAC,CAAC;MAC1D,MAAMsuD,UAAU,CAAC3hG,KAAK,CAAC65C,aAAa,CAAC,CAAC;MACtC,OAAO8nD,UAAU;IACnB,CAAC,CAAC;EACJ;EACA,OAAOL,mBAAmBA,CAACp3K,OAAO,EAAE03K,QAAQ,EAAE;IAC5C,MAAMC,oBAAoB,GAAGD,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACvvK,OAAO,CAAC;MAAE2hH,yBAAyB,EAAE;IAAK,CAAC,CAAC;IAC9G,MAAM8tD,gBAAgB,GAAGb,iBAAiB,CAACc,iBAAiB,CAAC73K,OAAO,CAAC6tB,gBAAgB,CAAC;IACtF,OAAO,IAAI+pJ,gBAAgB,CAAC53K,OAAO,EAAE23K,oBAAoB,CAAC;EAC5D;EACA,OAAOE,iBAAiBA,CAAC73K,OAAO,EAAE;IAChC,IAAIkT,yBAAyB,CAAClT,OAAO,CAAC,EAAE;MACtC,OAAO+qI,cAAc;IACvB,CAAC,MAAM,IAAI13H,yBAAyB,CAACrT,OAAO,CAAC,EAAE;MAC7C,OAAO8wK,cAAc;IACvB,CAAC,MAAM,IAAI19J,qBAAqB,CAACpT,OAAO,CAAC,EAAE;MACzC,OAAOqzK,UAAU;IACnB,CAAC,MAAM,IAAI//J,wBAAwB,CAACtT,OAAO,CAAC,EAAE;MAC5C,OAAOs1K,aAAa;IACtB;IACA,MAAM,IAAI1rK,KAAK,CACb,iHACF,CAAC;EACH;AACF,CAAC;AACDmtK,iBAAiB,CAACE,WAAW,GAAG,KAAK;AACrC,IAAId,gBAAgB,GAAGY,iBAAiB;;AAExC;AACA,IAAIe,OAAO,GAAG,OAAO;;AAErB;AACA,IAAIC,+BAA+B,GAAG,CAAC,CAAC;AACxCl9K,QAAQ,CAACk9K,+BAA+B,EAAE;EACxClc,GAAG,EAAEA,CAAA,KAAMmc,IAAI;EACfr/I,IAAI,EAAEA,CAAA,KAAMA,IAAI;EAChBuiB,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1Bs1B,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtB0xE,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5DxmB,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBz5E,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtC65E,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBqmB,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BvrB,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCpoE,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBs6B,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BmvF,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClB5+G,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClB6P,IAAI,EAAEA,CAAA,KAAMA,IAAI;EAChBgvG,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5C3sC,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9BnQ,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpB54F,IAAI,EAAEA,CAAA,KAAMA,IAAI;EAChB8oB,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCstE,IAAI,EAAEA,CAAA,KAAMA,IAAI;EAChB36F,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCk6I,iBAAiB,EAAEA,CAAA,KAAMA,iBAAiB;EAC1CrpC,IAAI,EAAEA,CAAA,KAAMA,IAAI;EAChBl2G,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5B2yD,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBtyD,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChD0/F,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxDsjC,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBzC,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B9yF,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BhV,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClB2qE,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBljE,IAAI,EAAEA,CAAA,KAAMA,IAAI;EAChBwU,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBkvD,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBu7C,MAAM,EAAEA,CAAA,KAAM/mI,cAAc;EAC5BgiB,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBqqE,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B26C,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDC,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBpiJ,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCO,yBAAyB,EAAEA,CAAA,KAAMA,yBAAyB;EAC1D2hB,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1Bi1B,aAAa,EAAEA,CAAA,KAAMA;AACvB,CAAC,CAAC;;AAEF;AACA,IAAI2qG,IAAI,GAAG,cAAcp/C,IAAI,CAAC;EAC5Bj3H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IACP,IAAI,CAACg3C,OAAO,GAAG,CAAC;IAChB,IAAI,CAACC,OAAO,GAAG,CAAC;IAChB,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACb,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,QAAQ,GAAGx+C,IAAI,CAACwsC,EAAE,GAAG,CAAC;IAC3B,IAAI,CAAC2iC,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAAC5/D,IAAI,GAAG,CAAC,CAAC;IACd,IAAI,CAAC6mD,gBAAgB,CAAC,CAAC;EACzB;EACA,IAAI6qG,OAAOA,CAAA,EAAG;IACZ,OAAOxlI,OAAO,CAACwiB,iBAAiB,CAAC,IAAI,CAACM,UAAU,CAAC,EAAEN,iBAAiB,CAAC,IAAI,CAACO,QAAQ,CAAC,CAAC;EACtF;EACAgpE,UAAUA,CAAA,EAAG;IACX,MAAM/wG,IAAI,GAAG,IAAI,CAACA,IAAI;IACtBA,IAAI,CAAC7Q,KAAK,CAAC,CAAC;IACZ6Q,IAAI,CAACsnH,GAAG,CAAC,IAAI,CAAC7+E,OAAO,EAAE,IAAI,CAACC,OAAO,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACb,UAAU,EAAE,IAAI,CAACC,QAAQ,EAAE,IAAI,CAAC2wB,gBAAgB,CAAC;IACxG,IAAI,IAAI,CAAC5/D,IAAI,KAAK,CAAC,CAAC,aAAa;MAC/BkH,IAAI,CAACgiD,SAAS,CAAC,CAAC;IAClB,CAAC,MAAM,IAAI,IAAI,CAAClpD,IAAI,KAAK,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC0xJ,OAAO,EAAE;MACvDxqJ,IAAI,CAAC+hD,MAAM,CAAC,IAAI,CAACtZ,OAAO,EAAE,IAAI,CAACC,OAAO,CAAC;MACvC1oC,IAAI,CAACgiD,SAAS,CAAC,CAAC;IAClB;EACF;EACA9wB,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAIzI,IAAI,CAAC,IAAI,CAACggB,OAAO,GAAG,IAAI,CAACE,MAAM,EAAE,IAAI,CAACD,OAAO,GAAG,IAAI,CAACC,MAAM,EAAE,IAAI,CAACA,MAAM,GAAG,CAAC,EAAE,IAAI,CAACA,MAAM,GAAG,CAAC,CAAC;EAC3G;EACA4Y,aAAaA,CAACp1D,CAAC,EAAE85B,CAAC,EAAE;IAClB,MAAM49B,KAAK,GAAG,IAAI,CAACl9B,cAAc,CAACx6B,CAAC,EAAE85B,CAAC,CAAC;IACvC,MAAMoF,IAAI,GAAG,IAAI,CAAC6F,WAAW,CAAC,CAAC;IAC/B,OAAO,IAAI,CAACp4B,IAAI,KAAK,CAAC,CAAC,cAAcuyB,IAAI,CAACnE,aAAa,CAAC28B,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC,IAAI,IAAI,CAACjmB,IAAI,CAACuhD,aAAa,CAACsC,KAAK,CAAC13D,CAAC,EAAE03D,KAAK,CAAC59B,CAAC,CAAC;EACxH;AACF,CAAC;AACD6hJ,IAAI,CAACvjK,SAAS,GAAG,KAAK;AACtBujK,IAAI,CAACxoH,aAAa,GAAGz3D,MAAM,CAAC2I,MAAM,CAAC,CAAC,CAAC,EAAEgxD,KAAK,CAAClC,aAAa,EAAE;EAC1D8B,SAAS,EAAE,CAAC;EACZN,SAAS,EAAE;AACb,CAAC,CAAC;AACFj2D,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEq/C,IAAI,CAACp/K,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAChCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEq/C,IAAI,CAACp/K,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AAChCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEq/C,IAAI,CAACp/K,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC/BmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEq/C,IAAI,CAACp/K,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AACnCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEq/C,IAAI,CAACp/K,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACjCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEq/C,IAAI,CAACp/K,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;AACzCmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEq/C,IAAI,CAACp/K,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;;AAE7B;AACA,IAAIs/K,kBAAkB,GAAG,cAAcxmH,KAAK,CAAC;EAC3C/vD,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAACye,SAAS,GAAG,UAAU;IAC3B,IAAI,CAAChQ,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC6pH,KAAK,GAAG,KAAK,CAAC;EACrB;EACA,IAAIl4B,IAAIA,CAAA,EAAG;IACT,OAAO,IAAI,CAACk4B,KAAK;EACnB;EACA,IAAIl4B,IAAIA,CAACm4B,OAAO,EAAE;IAChB,IAAI,IAAI,CAACD,KAAK,IAAI,IAAI,EAAE;MACtB,IAAI,CAACptJ,WAAW,CAAC,IAAI,CAACotJ,KAAK,CAAC;IAC9B;IACA,IAAIC,OAAO,IAAI,IAAI,EAAE;MACnB,IAAI,CAACvtJ,WAAW,CAACutJ,OAAO,CAAC;IAC3B;IACA,IAAI,CAACD,KAAK,GAAGC,OAAO;EACtB;EACA/mH,aAAaA,CAACp1D,CAAC,EAAE85B,CAAC,EAAE;IAClB,IAAI1zB,EAAE,EAAEsQ,EAAE;IACV,OAAO,CAACA,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC49I,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG59I,EAAE,CAACgvD,aAAa,CAACp1D,CAAC,EAAE85B,CAAC,CAAC,KAAK,IAAI,GAAGpjB,EAAE,GAAG,KAAK;EAC/F;EACAquB,WAAWA,CAAA,EAAG;IACZ,IAAI3+B,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAAC49I,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG59I,EAAE,CAAC2+B,WAAW,CAAC,CAAC;EAC7D;EACAG,MAAMA,CAACC,SAAS,EAAE;IAChB,MAAM;MAAE6+G,IAAI;MAAE3xF;IAAM,CAAC,GAAG,IAAI;IAC5B,MAAM;MAAEvyB,GAAG;MAAEktC;IAAiB,CAAC,GAAG7nC,SAAS;IAC3C,MAAMi3I,WAAW,GAAG,CAAC,GAAGpvG,gBAAgB;IACxC,MAAMqvG,QAAQ,GAAGr4B,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACr/G,sBAAsB,CAAC,CAAC;IACtE,IAAIq/G,IAAI,IAAI,IAAI,IAAI3xF,KAAK,IAAI,IAAI,IAAIgqH,QAAQ,IAAI,IAAI,EACnD;IACF,IAAIr4B,IAAI,CAACr/B,SAAS,EAAE;MAClBq/B,IAAI,CAACp/B,UAAU,CAAC,CAAC;MACjBo/B,IAAI,CAACr/B,SAAS,GAAG,KAAK;IACxB;IACA7kF,GAAG,CAACuxB,IAAI,CAAC,CAAC;IACVvxB,GAAG,CAACxE,IAAI,CAAC0oH,IAAI,CAACnwI,IAAI,CAACmnH,SAAS,CAAC,CAAC,CAAC;IAC/Bl7F,GAAG,CAAC7vB,YAAY,CAAC+8D,gBAAgB,EAAE,CAAC,EAAE,CAAC,EAAEA,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC;IAChE,MAAMtuB,EAAE,GAAGthD,IAAI,CAACsI,KAAK,CAAC22K,QAAQ,CAACr8K,CAAC,CAAC;IACjC,MAAMw7B,EAAE,GAAGp+B,IAAI,CAAC0I,IAAI,CAACu2K,QAAQ,CAACr8K,CAAC,GAAGq8K,QAAQ,CAAC95J,KAAK,CAAC;IACjD,MAAMoqC,EAAE,GAAGvvD,IAAI,CAACsI,KAAK,CAAC22K,QAAQ,CAACviJ,CAAC,CAAC;IACjC,MAAM2B,EAAE,GAAGr+B,IAAI,CAAC0I,IAAI,CAACu2K,QAAQ,CAACviJ,CAAC,GAAGuiJ,QAAQ,CAACxhJ,MAAM,CAAC;IAClD,MAAMy9H,UAAU,GAAG,IAAIX,UAAU,CAAC,CAAC;IACnC,MAAM,CAAC2kB,EAAE,EAAEC,EAAE,CAAC,GAAG,IAAI,CAACl6G,SAAS,KAAK,UAAU,GAAG,CAAC3jB,EAAE,EAAEljB,EAAE,CAAC,GAAG,CAACmxB,EAAE,EAAElxB,EAAE,CAAC;IACpE68H,UAAU,CAAC96G,MAAM,GAAG6U,KAAK,CAACj/C,GAAG,CAAC,CAACke,CAAC,EAAEvkB,KAAK,KAAK;MAC1C,OAAOuvK,EAAE,GAAG,CAACC,EAAE,GAAGD,EAAE,IAAIvvK,KAAK,IAAIslD,KAAK,CAACtzD,MAAM,GAAG,CAAC,CAAC;IACpD,CAAC,CAAC;IACFu5J,UAAU,CAACtyJ,KAAK,GAAGqsD,KAAK;IACxBimG,UAAU,CAACriH,MAAM,CAAC,CAAC;IACnB,IAAI,IAAI,CAACosB,SAAS,KAAK,UAAU,EAAE;MACjC,MAAMxnC,MAAM,GAAGY,EAAE,GAAGkxB,EAAE;MACtB,KAAK,IAAI3sD,CAAC,GAAG0+C,EAAE,EAAE1+C,CAAC,IAAIw7B,EAAE,EAAEx7B,CAAC,IAAIo8K,WAAW,EAAE;QAC1Ct8I,GAAG,CAAC60B,SAAS,GAAG2jG,UAAU,CAAC36G,OAAO,CAAC39C,CAAC,CAAC;QACrC8/B,GAAG,CAACkuD,QAAQ,CAAChuF,CAAC,EAAE2sD,EAAE,EAAEyvH,WAAW,EAAEvhJ,MAAM,CAAC;MAC1C;IACF,CAAC,MAAM;MACL,MAAMtY,KAAK,GAAGiZ,EAAE,GAAGkjB,EAAE;MACrB,KAAK,IAAI5kB,CAAC,GAAG6yB,EAAE,EAAE7yB,CAAC,IAAI2B,EAAE,EAAE3B,CAAC,IAAIsiJ,WAAW,EAAE;QAC1Ct8I,GAAG,CAAC60B,SAAS,GAAG2jG,UAAU,CAAC36G,OAAO,CAAC7jB,CAAC,CAAC;QACrCgG,GAAG,CAACkuD,QAAQ,CAACtvC,EAAE,EAAE5kB,CAAC,EAAEvX,KAAK,EAAE65J,WAAW,CAAC;MACzC;IACF;IACAt8I,GAAG,CAACgyB,OAAO,CAAC,CAAC;EACf;AACF,CAAC;AACDpzD,eAAe,CAAC,CACdk+B,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE2+I,kBAAkB,CAACt/K,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACdk+B,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE2+I,kBAAkB,CAACt/K,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC5CmC,eAAe,CAAC,CACdk+B,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE2+I,kBAAkB,CAACt/K,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;;AAE5C;AACA,SAASigL,WAAWA,CAACx8K,CAAC,EAAE85B,CAAC,EAAEwG,QAAQ,EAAE;EACnC,MAAMkc,MAAM,GAAGp/C,IAAI,CAACs1D,IAAI,CAACv1D,KAAK,CAAC6C,CAAC,EAAE,CAAC,CAAC,GAAG7C,KAAK,CAAC28B,CAAC,EAAE,CAAC,CAAC,CAAC;EACnD,MAAM2iB,KAAK,GAAGr/C,IAAI,CAACusC,KAAK,CAAC7P,CAAC,EAAE95B,CAAC,CAAC;EAC9B,MAAM29D,OAAO,GAAGlhB,KAAK,GAAGnc,QAAQ;EAChC,OAAO;IACLtgC,CAAC,EAAE5C,IAAI,CAAC6jC,GAAG,CAAC08B,OAAO,CAAC,GAAGnhB,MAAM;IAC7B1iB,CAAC,EAAE18B,IAAI,CAAC8jC,GAAG,CAACy8B,OAAO,CAAC,GAAGnhB;EACzB,CAAC;AACH;AACA,IAAIs/H,iBAAiB,GAAG,cAAcv/C,IAAI,CAAC;EACzCj3H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC8uF,UAAU,GAAG,IAAInY,cAAc,CAAC,CAAC;IACtC,IAAI,CAACkiD,SAAS,GAAG,IAAI;IACrB,IAAI,CAACpmC,WAAW,GAAG,CAAC;IACpB,IAAI,CAAC16F,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACyhH,WAAW,GAAG,CAAC;IACpB,IAAI,CAACj9B,WAAW,GAAG,CAAC;IACpB,IAAI,CAACs8C,eAAe,GAAG,CAAC;IACxB,IAAI,CAACC,eAAe,GAAG,CAAC;IACxB,IAAI,CAACC,oBAAoB,GAAG,KAAK;EACnC;EACAC,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAElhI,UAAU;MAAEC;IAAS,CAAC,GAAG,IAAI;IACrC,MAAM+mH,QAAQ,GAAGzmH,YAAY,CAACP,UAAU,EAAEC,QAAQ,CAAC;IACnD,OAAOP,iBAAiB,CAACM,UAAU,GAAGgnH,QAAQ,GAAG,CAAC,GAAGvlK,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC;EACnE;EACAg7E,UAAUA,CAAA,EAAG;IACX,MAAM;MAAE63D;IAAU,CAAC,GAAG,IAAI;IAC1B,IAAIA,SAAS,EAAE;MACb,IAAI,CAACK,iBAAiB,CAAC,CAAC;IAC1B,CAAC,MAAM;MACL,IAAI,CAACC,qBAAqB,CAAC,CAAC;IAC9B;IACA,IAAI,CAACl4D,cAAc,CAAC,CAAC;EACvB;EACAk4D,qBAAqBA,CAAA,EAAG;IACtB,MAAM;MAAE1mC,WAAW;MAAEjW,WAAW;MAAEi9B,WAAW;MAAExpJ;IAAK,CAAC,GAAG,IAAI;IAC5D,MAAMmQ,IAAI,GAAG,CAACqyH,WAAW,GAAG,CAAC;IAC7B,MAAMvyH,KAAK,GAAGuyH,WAAW,GAAG,CAAC;IAC7B,MAAMxyH,GAAG,GAAG,CAACw5I,WAAW;IACxB,MAAMt5I,MAAM,GAAG,CAACq8G,WAAW;IAC3B,MAAM9/F,QAAQ,GAAG,IAAI,CAACu8I,WAAW,CAAC,CAAC;IACnC,MAAMjvB,MAAM,GAAG,CACb,CAAC5pI,IAAI,EAAED,MAAM,CAAC,EACd,CAACC,IAAI,EAAEH,GAAG,CAAC,EACX,CAACC,KAAK,EAAED,GAAG,CAAC,EACZ,CAACC,KAAK,EAAEC,MAAM,CAAC,EACf,CAACC,IAAI,EAAED,MAAM,CAAC,CACf,CAAC3Q,GAAG,CAAC,CAAC,CAACpT,CAAC,EAAE85B,CAAC,CAAC,KAAK0iJ,WAAW,CAACx8K,CAAC,EAAE85B,CAAC,EAAEwG,QAAQ,CAAC,CAAC;IAC9CzsB,IAAI,CAAC7Q,KAAK,CAAC,IAAI,CAAC;IAChB6Q,IAAI,CAAC8hD,MAAM,CAACi4F,MAAM,CAAC,CAAC,CAAC,CAAC5tJ,CAAC,EAAE4tJ,MAAM,CAAC,CAAC,CAAC,CAAC9zH,CAAC,CAAC;IACrCjmB,IAAI,CAAC+hD,MAAM,CAACg4F,MAAM,CAAC,CAAC,CAAC,CAAC5tJ,CAAC,EAAE4tJ,MAAM,CAAC,CAAC,CAAC,CAAC9zH,CAAC,CAAC;IACrCjmB,IAAI,CAAC+hD,MAAM,CAACg4F,MAAM,CAAC,CAAC,CAAC,CAAC5tJ,CAAC,EAAE4tJ,MAAM,CAAC,CAAC,CAAC,CAAC9zH,CAAC,CAAC;IACrCjmB,IAAI,CAAC+hD,MAAM,CAACg4F,MAAM,CAAC,CAAC,CAAC,CAAC5tJ,CAAC,EAAE4tJ,MAAM,CAAC,CAAC,CAAC,CAAC9zH,CAAC,CAAC;IACrCjmB,IAAI,CAAC+hD,MAAM,CAACg4F,MAAM,CAAC,CAAC,CAAC,CAAC5tJ,CAAC,EAAE4tJ,MAAM,CAAC,CAAC,CAAC,CAAC9zH,CAAC,CAAC;IACrCjmB,IAAI,CAACgiD,SAAS,CAAC,CAAC;EAClB;EACAinH,iBAAiBA,CAAA,EAAG;IAClB,MAAM;MAAEzmC,WAAW;MAAExiI,IAAI;MAAEwpJ,WAAW;MAAEj9B,WAAW;MAAEs8C,eAAe;MAAEC,eAAe;MAAEC;IAAqB,CAAC,GAAG,IAAI;IACpH,MAAMI,aAAa,GAAGnkJ,OAAO,CAACunG,WAAW,EAAEs8C,eAAe,CAAC;IAC3D,MAAMO,YAAY,GAAG7/K,IAAI,CAACq4C,IAAI,CAAC4gG,WAAW,GAAG,CAAC,GAAGjW,WAAW,CAAC;IAC7D,MAAM88C,aAAa,GAAG,IAAI,CAACL,WAAW,CAAC,CAAC;IACxC,MAAMM,MAAM,GAAGA,CAACn9K,CAAC,EAAE85B,CAAC,KAAK0iJ,WAAW,CAACx8K,CAAC,EAAE85B,CAAC,EAAEojJ,aAAa,CAAC;IACzD,MAAME,qBAAqB,GAAGA,CAACC,GAAG,EAAEC,QAAQ,KAAKlgL,IAAI,CAACs1D,IAAI,CAACv1D,KAAK,CAACkgL,GAAG,EAAE,CAAC,CAAC,GAAGlgL,KAAK,CAACmgL,QAAQ,EAAE,CAAC,CAAC,CAAC;IAC9F,MAAMC,cAAc,GAAGA,CAACC,UAAU,EAAEF,QAAQ,KAAK;MAC/C,IAAIA,QAAQ,GAAGE,UAAU,EAAE;QACzB,OAAO,CAAC;MACV;MACA,OAAOpgL,IAAI,CAACs1D,IAAI,CAACv1D,KAAK,CAACqgL,UAAU,EAAE,CAAC,CAAC,GAAGrgL,KAAK,CAACmgL,QAAQ,EAAE,CAAC,CAAC,CAAC;IAC7D,CAAC;IACD,MAAMG,OAAO,GAAGA,CAAChgL,KAAK,EAAEigL,UAAU,EAAEC,QAAQ,KAAKA,QAAQ,GAAGlgL,KAAK,GAAGigL,UAAU,GAAGjgL,KAAK,GAAGigL,UAAU;IACnG,MAAME,yBAAyB,GAAGZ,aAAa,IAAI,CAACxrK,KAAK,CAACyrK,YAAY,CAAC,IAAIA,YAAY,GAAG7/K,IAAI,CAACwsC,EAAE,GAAG,CAAC;IACrG,IAAI5lB,IAAI,GAAG,CAACqyH,WAAW,GAAG,CAAC;IAC3B,IAAIvyH,KAAK,GAAGuyH,WAAW,GAAG,CAAC;IAC3B,MAAMxyH,GAAG,GAAG,CAACw5I,WAAW;IACxB,MAAMt5I,MAAM,GAAG,CAACq8G,WAAW,IAAIw9C,yBAAyB,GAAGxgL,IAAI,CAAC6jC,GAAG,CAACg8I,YAAY,CAAC,GAAG,CAAC,CAAC;IACtF,MAAMY,qBAAqB,GAAGJ,OAAO,CACnCd,eAAe,EACfS,qBAAqB,CAACh9C,WAAW,EAAEiW,WAAW,GAAG,CAAC,CAAC,EACnD,CAACumC,oBACH,CAAC;IACD,IAAIiB,qBAAqB,EAAE;MACzB,MAAMC,mBAAmB,GAAGP,cAAc,CAACZ,eAAe,EAAEv8C,WAAW,CAAC;MACxEp8G,IAAI,GAAG,CAAC85J,mBAAmB;MAC3Bh6J,KAAK,GAAGg6J,mBAAmB;IAC7B;IACAjqK,IAAI,CAAC7Q,KAAK,CAAC,IAAI,CAAC;IAChB,MAAM+6K,YAAY,GAAGZ,MAAM,CAACn5J,IAAI,EAAED,MAAM,CAAC;IACzClQ,IAAI,CAAC8hD,MAAM,CAACooH,YAAY,CAAC/9K,CAAC,EAAE+9K,YAAY,CAACjkJ,CAAC,CAAC;IAC3C,MAAMkkJ,OAAO,GAAGnlJ,OAAO,CAACunG,WAAW,EAAEi9B,WAAW,CAAC;IACjD,MAAM4gB,mBAAmB,GAAGR,OAAO,CACjCd,eAAe,EACfS,qBAAqB,CAAC/f,WAAW,EAAEhnB,WAAW,GAAG,CAAC,CAAC,EACnD,CAACumC,oBACH,CAAC;IACD,IAAIoB,OAAO,IAAIJ,yBAAyB,EAAE;MACxC/pK,IAAI,CAACsnH,GAAG,CACN,CAAC,EACD,CAAC,EACDiF,WAAW,EACX/kF,iBAAiB,CAAC,CAAC4hI,YAAY,GAAG7/K,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC,GAAGszI,aAAa,EAC9D7hI,iBAAiB,CAAC4hI,YAAY,GAAG7/K,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC,GAAGszI,aAAa,EAC7D,KACF,CAAC;IACH,CAAC,MAAM,IAAIe,mBAAmB,EAAE;MAC9B,MAAMC,iBAAiB,GAAG,CAACX,cAAc,CAACZ,eAAe,EAAEtmC,WAAW,GAAG,CAAC,CAAC;MAC3E,MAAM8nC,gBAAgB,GAAGZ,cAAc,CAACZ,eAAe,EAAEtf,WAAW,CAAC;MACrE,IAAI,CAACwgB,qBAAqB,EAAE;QAC1B,MAAMO,SAAS,GAAGjB,MAAM,CAACn5J,IAAI,EAAEk6J,iBAAiB,CAAC;QACjDrqK,IAAI,CAAC+hD,MAAM,CAACwoH,SAAS,CAACp+K,CAAC,EAAEo+K,SAAS,CAACtkJ,CAAC,CAAC;MACvC;MACAjmB,IAAI,CAACsnH,GAAG,CACN,CAAC,EACD,CAAC,EACDwhD,eAAe,EACfv/K,IAAI,CAACusC,KAAK,CAACu0I,iBAAiB,EAAEl6J,IAAI,CAAC,GAAGk5J,aAAa,EACnD9/K,IAAI,CAACusC,KAAK,CAAC9lB,GAAG,EAAE,CAACs6J,gBAAgB,CAAC,GAAGjB,aAAa,EAClD,KACF,CAAC;MACD,IAAI,CAACrkJ,OAAO,CAACslJ,gBAAgB,EAAE,CAAC,CAAC,EAAE;QACjC,MAAME,eAAe,GAAGlB,MAAM,CAACgB,gBAAgB,EAAEt6J,GAAG,CAAC;QACrDhQ,IAAI,CAAC+hD,MAAM,CAACyoH,eAAe,CAACr+K,CAAC,EAAEq+K,eAAe,CAACvkJ,CAAC,CAAC;MACnD;MACAjmB,IAAI,CAACsnH,GAAG,CACN,CAAC,EACD,CAAC,EACDwhD,eAAe,EACfv/K,IAAI,CAACusC,KAAK,CAAC9lB,GAAG,EAAEs6J,gBAAgB,CAAC,GAAGjB,aAAa,EACjD9/K,IAAI,CAACusC,KAAK,CAACu0I,iBAAiB,EAAEp6J,KAAK,CAAC,GAAGo5J,aAAa,EACpD,KACF,CAAC;IACH,CAAC,MAAM;MACL,MAAMkB,SAAS,GAAGjB,MAAM,CAACn5J,IAAI,EAAEH,GAAG,CAAC;MACnC,MAAMy6J,UAAU,GAAGnB,MAAM,CAACr5J,KAAK,EAAED,GAAG,CAAC;MACrChQ,IAAI,CAAC+hD,MAAM,CAACwoH,SAAS,CAACp+K,CAAC,EAAEo+K,SAAS,CAACtkJ,CAAC,CAAC;MACrCjmB,IAAI,CAAC+hD,MAAM,CAAC0oH,UAAU,CAACt+K,CAAC,EAAEs+K,UAAU,CAACxkJ,CAAC,CAAC;IACzC;IACA,MAAMykJ,aAAa,GAAGpB,MAAM,CAACr5J,KAAK,EAAEC,MAAM,CAAC;IAC3ClQ,IAAI,CAAC+hD,MAAM,CAAC2oH,aAAa,CAACv+K,CAAC,EAAEu+K,aAAa,CAACzkJ,CAAC,CAAC;IAC7C,IAAI8jJ,yBAAyB,EAAE;MAC7B/pK,IAAI,CAACsnH,GAAG,CACN,CAAC,EACD,CAAC,EACDiF,WAAW,EACX/kF,iBAAiB,CAAC4hI,YAAY,GAAG7/K,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC,GAAGszI,aAAa,EAC7D7hI,iBAAiB,CAAC,CAAC4hI,YAAY,GAAG7/K,IAAI,CAACwsC,EAAE,GAAG,CAAC,CAAC,GAAGszI,aAAa,EAC9D,IACF,CAAC;IACH,CAAC,MAAM;MACL,MAAMsB,mBAAmB,GAAGrB,MAAM,CAACn5J,IAAI,EAAED,MAAM,CAAC;MAChDlQ,IAAI,CAAC+hD,MAAM,CAAC4oH,mBAAmB,CAACx+K,CAAC,EAAEw+K,mBAAmB,CAAC1kJ,CAAC,CAAC;IAC3D;IACAjmB,IAAI,CAACgiD,SAAS,CAAC,CAAC;EAClB;AACF,CAAC;AACDimH,iBAAiB,CAAC1jK,SAAS,GAAG,mBAAmB;AACjD1Z,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEw/C,iBAAiB,CAACv/K,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AAC/CmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEw/C,iBAAiB,CAACv/K,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEw/C,iBAAiB,CAACv/K,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;AAChDmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEw/C,iBAAiB,CAACv/K,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AAC9CmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEw/C,iBAAiB,CAACv/K,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEw/C,iBAAiB,CAACv/K,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACjDmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEw/C,iBAAiB,CAACv/K,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEw/C,iBAAiB,CAACv/K,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACd49H,wBAAwB,CAAC,CAAC,CAC3B,EAAEw/C,iBAAiB,CAACv/K,SAAS,EAAE,sBAAsB,EAAE,CAAC,CAAC;AAC1D,SAASy/K,oBAAoBA,CAACrgI,UAAU,EAAEC,QAAQ,EAAE+gI,eAAe,EAAE8B,gBAAgB,EAAEC,mBAAmB,EAAE;EAC1G,MAAMp+I,QAAQ,GAAG4b,YAAY,CAACP,UAAU,EAAEC,QAAQ,CAAC;EACnD,MAAMmqC,IAAI,GAAGzlD,QAAQ,IAAI,CAAC,GAAGm+I,gBAAgB,CAAC,GAAG,CAAC;EAClD9iI,UAAU,IAAIoqC,IAAI;EAClBnqC,QAAQ,IAAImqC,IAAI;EAChB,IAAIzlD,QAAQ,GAAG,IAAI,EAAE;IACnB,OAAO,CAAC,GAAGq8I,eAAe,GAAG+B,mBAAmB;EAClD;EACA,IAAIp+I,QAAQ,IAAI,CAAC,GAAGljC,IAAI,CAACwsC,EAAE,EAAE;IAC3B,MAAM+4H,QAAQ,GAAGhnH,UAAU,GAAGrb,QAAQ,GAAG,CAAC;IAC1Cqb,UAAU,GAAGgnH,QAAQ,GAAGvlK,IAAI,CAACwsC,EAAE;IAC/BgS,QAAQ,GAAG+mH,QAAQ,GAAGvlK,IAAI,CAACwsC,EAAE;EAC/B;EACA,MAAM4iC,MAAM,GAAGmwG,eAAe,GAAGv/K,IAAI,CAAC6jC,GAAG,CAAC0a,UAAU,CAAC;EACrD,MAAM8wB,MAAM,GAAGkwG,eAAe,GAAGv/K,IAAI,CAAC8jC,GAAG,CAACya,UAAU,CAAC;EACrD,MAAM+wB,IAAI,GAAGiwG,eAAe,GAAGv/K,IAAI,CAAC6jC,GAAG,CAAC2a,QAAQ,CAAC;EACjD,MAAM+wB,IAAI,GAAGgwG,eAAe,GAAGv/K,IAAI,CAAC8jC,GAAG,CAAC0a,QAAQ,CAAC;EACjD,MAAM+iI,QAAQ,GAAGvhL,IAAI,CAACsI,KAAK,CAACtI,IAAI,CAACs1D,IAAI,CAACv1D,KAAK,CAACqvE,MAAM,GAAGE,IAAI,EAAE,CAAC,CAAC,GAAGvvE,KAAK,CAACsvE,MAAM,GAAGE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;EACzF,MAAMvU,QAAQ,GAAG,CAAC,GAAGukH,eAAe,GAAG+B,mBAAmB;EAC1D,OAAOthL,IAAI,CAAC6J,GAAG,CAAC,CAAC,EAAE7J,IAAI,CAAC6uB,GAAG,CAACmsC,QAAQ,EAAEumH,QAAQ,CAAC,CAAC;AAClD;;AAEA;AACA,IAAI/C,KAAK,GAAG,cAAcz1I,IAAI,CAAC;EAC7B7gC,WAAWA,CAACs5K,WAAW,EAAE;IACvB,KAAK,CAAC,CAAC;IACP,IAAI,CAAC5+K,CAAC,GAAG,CAAC;IACV,IAAI,CAAC85B,CAAC,GAAG,CAAC;IACV,IAAI,CAACvX,KAAK,GAAG,CAAC;IACd,IAAI,CAACsY,MAAM,GAAG,CAAC;IACf,IAAI,CAAC40B,OAAO,GAAG,CAAC;IAChB,IAAI,CAACmvH,WAAW,GAAGA,WAAW;EAChC;EACA15I,MAAMA,CAACC,SAAS,EAAE;IAChB,MAAM;MAAErF,GAAG;MAAE4wB,WAAW;MAAEtrB;IAAM,CAAC,GAAGD,SAAS;IAC7C,IAAI,IAAI,CAACI,KAAK,KAAK,CAAC,CAAC,cAAc,CAACmrB,WAAW,EAAE;MAC/C,IAAItrB,KAAK,EACPA,KAAK,CAAC+rB,YAAY,EAAE;MACtB;IACF;IACA,IAAI,CAAC9sB,sBAAsB,CAAC,CAAC;IAC7B,IAAI,CAAClE,MAAM,CAACN,SAAS,CAACC,GAAG,CAAC;IAC1B,MAAM++I,KAAK,GAAG,IAAI,CAACD,WAAW;IAC9B9+I,GAAG,CAAC4xB,WAAW,GAAG,IAAI,CAACjC,OAAO;IAC9B3vB,GAAG,CAACqsD,SAAS,CAAC0yF,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEA,KAAK,CAACt8J,KAAK,EAAEs8J,KAAK,CAAChkJ,MAAM,EAAE,IAAI,CAAC76B,CAAC,EAAE,IAAI,CAAC85B,CAAC,EAAE,IAAI,CAACvX,KAAK,EAAE,IAAI,CAACsY,MAAM,CAAC;IAC9F,KAAK,CAACqK,MAAM,CAACC,SAAS,CAAC;EACzB;AACF,CAAC;AACDzmC,eAAe,CAAC,CACdk+B,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE0+I,KAAK,CAACr/K,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC;AAC3BmC,eAAe,CAAC,CACdk+B,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE0+I,KAAK,CAACr/K,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC;AAC3BmC,eAAe,CAAC,CACdk+B,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE0+I,KAAK,CAACr/K,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAC/BmC,eAAe,CAAC,CACdk+B,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE0+I,KAAK,CAACr/K,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;AAChCmC,eAAe,CAAC,CACdk+B,oBAAoB,CAAC;EAAEM,MAAM,EAAE,CAAC,CAAC;AAAY,CAAC,CAAC,CAChD,EAAE0+I,KAAK,CAACr/K,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;;AAEjC;AACA,IAAI0/K,MAAM,GAAGp+K,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAEi6B,oBAAoB,CAAC,EAAEitC,mBAAmB,CAAC;;AAE1F;AACA,IAAI+5G,+BAA+B,GAAG,CAAC,CAAC;AACxCtgL,QAAQ,CAACsgL,+BAA+B,EAAE;EACxCnhK,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9CsJ,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BzG,kCAAkC,EAAEA,CAAA,KAAMA,kCAAkC;EAC5EC,8BAA8B,EAAEA,CAAA,KAAMA,8BAA8B;EACpEF,yBAAyB,EAAEA,CAAA,KAAMA,yBAAyB;EAC1Dd,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxDC,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxDE,yBAAyB,EAAEA,CAAA,KAAMA,yBAAyB;EAC1DE,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCH,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5DS,qCAAqC,EAAEA,CAAA,KAAMA,qCAAqC;EAClFhB,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9CiB,uBAAuB,EAAEA,CAAA,KAAMA,uBAAuB;EACtDC,yBAAyB,EAAEA,CAAA,KAAMA,yBAAyB;EAC1Df,kCAAkC,EAAEA,CAAA,KAAMA,kCAAkC;EAC5ED,6BAA6B,EAAEA,CAAA,KAAMA,6BAA6B;EAClED,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDG,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5DW,2BAA2B,EAAEA,CAAA,KAAMA,2BAA2B;EAC9DN,qBAAqB,EAAEA,CAAA,KAAMA,qBAAqB;EAClDK,8CAA8C,EAAEA,CAAA,KAAMA,8CAA8C;EACpGF,yCAAyC,EAAEA,CAAA,KAAMA,yCAAyC;EAC1FD,yCAAyC,EAAEA,CAAA,KAAMA,yCAAyC;EAC1FE,sCAAsC,EAAEA,CAAA,KAAMA,sCAAsC;EACpFnB,qBAAqB,EAAEA,CAAA,KAAMA,qBAAqB;EAClDG,+BAA+B,EAAEA,CAAA,KAAMA,+BAA+B;EACtEF,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5DC,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5DG,iCAAiC,EAAEA,CAAA,KAAMA,iCAAiC;EAC1ED,uBAAuB,EAAEA,CAAA,KAAMA,uBAAuB;EACtD7B,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BE,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9BsB,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCd,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCF,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCJ,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBmO,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCq5H,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDD,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5Dz5H,MAAM,EAAEA,CAAA,KAAMwzJ;AAChB,CAAC,CAAC;AACF,IAAIA,OAAO,GAAGzrK,SAAS,CAACiY,MAAM,EAAGyzJ,YAAY,IAAKA,YAAY,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,YAAY,CAAC,CAAC,CAAC;;AAEjG;AACA,IAAIC,wBAAwB,GAAG,CAAC,CAAC;AACjCzgL,QAAQ,CAACygL,wBAAwB,EAAE;EACjCpgI,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B84G,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5B/xG,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtClJ,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCwyF,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9BjgF,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxChB,SAAS,EAAEA,CAAA,KAAMA;AACnB,CAAC,CAAC;;AAEF;AACA,IAAIixH,uBAAuB,GAAG,CAAC,CAAC;AAChC1gL,QAAQ,CAAC0gL,uBAAuB,EAAE;EAChCrqI,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBlwC,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBgtF,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBz1C,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChC4yB,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5DG,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDjiD,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B8xC,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BrmC,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBC,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5Bc,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9CpB,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxB7e,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B8iC,uBAAuB,EAAEA,CAAA,KAAMA,uBAAuB;EACtDrwB,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpB2M,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BC,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtC6iB,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCojB,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCvtD,MAAM,EAAEA,CAAA,KAAMC,WAAW;EACzB46C,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCtzB,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBG,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BhnB,QAAQ,EAAEA,CAAA,KAAMC,cAAc;EAC9BktK,aAAa,EAAEA,CAAA,KAAMtmJ,OAAO;EAC5B+lC,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpC7sD,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxB4sD,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCzkD,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1Bf,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBQ,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxB4f,GAAG,EAAEA,CAAA,KAAMA,GAAG;EACdnN,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCC,4BAA4B,EAAEA,CAAA,KAAMA,4BAA4B;EAChEmvB,iBAAiB,EAAEA,CAAA,KAAMA,iBAAiB;EAC1CH,iBAAiB,EAAEA,CAAA,KAAMA,iBAAiB;EAC1CE,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5Dv1C,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBmyB,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBjxB,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBs+I,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCz1E,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCt2D,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCg0C,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BnC,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxB5N,KAAK,EAAEA,CAAA,KAAMyN,aAAa;EAC1BlP,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BhsB,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtB8rB,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BijB,gCAAgC,EAAEA,CAAA,KAAMA,gCAAgC;EACxEogH,SAAS,EAAEA,CAAA,KAAMA;AACnB,CAAC,CAAC;;AAEF;AACA,SAASA,SAASA,CAAC9wK,IAAI,EAAEqE,MAAM,EAAE;EAC/B,MAAM0sK,MAAM,GAAG,CAAC,CAAC;EACjB,IAAI3uK,KAAK,CAACU,OAAO,CAACuB,MAAM,CAAC,EAAE;IACzB,KAAK,IAAI7T,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwP,IAAI,CAACvP,MAAM,EAAED,CAAC,EAAE,EAAE;MACpCugL,MAAM,CAAC,GAAG/wK,IAAI,CAACxP,CAAC,CAAC,EAAE,CAAC,GAAG6T,MAAM,CAAC7T,CAAC,CAAC;IAClC;EACF,CAAC,MAAM;IACL,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwP,IAAI,CAACvP,MAAM,EAAED,CAAC,EAAE,EAAE;MACpCugL,MAAM,CAAC,GAAG/wK,IAAI,CAACxP,CAAC,CAAC,EAAE,CAAC,GAAG6T,MAAM;IAC/B;EACF;EACA,OAAO0sK,MAAM;AACf;;AAEA;AACA,IAAIC,sBAAsB,GAAG,CAAC,CAAC;AAC/B9gL,QAAQ,CAAC8gL,sBAAsB,EAAE;EAC/B3/H,GAAG,EAAEA,CAAA,KAAMA,GAAG;EACdoB,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBE,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxB0xG,iBAAiB,EAAEA,CAAA,KAAMA,iBAAiB;EAC1CD,2BAA2B,EAAEA,CAAA,KAAMA,2BAA2B;EAC9DjjF,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9B94B,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BomD,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxC0wD,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClC1pE,IAAI,EAAEA,CAAA,KAAMA,IAAI;EAChBlO,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BlyB,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBvD,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBwB,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClC6xF,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BE,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxC/nI,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5CsM,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCwpC,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCC,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5CyiC,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCy/C,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCJ,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxDG,yBAAyB,EAAEA,CAAA,KAAMA,yBAAyB;EAC1Dt/C,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCD,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCxgC,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5Ck7C,iBAAiB,EAAEA,CAAA,KAAMA,iBAAiB;EAC1CtuE,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChC+4E,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCnK,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9Ca,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClC3+C,IAAI,EAAEA,CAAA,KAAMA,IAAI;EAChBQ,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BP,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9C+hF,gCAAgC,EAAEA,CAAA,KAAMA,gCAAgC;EACxEC,iCAAiC,EAAEA,CAAA,KAAMA,iCAAiC;EAC1EjzD,qBAAqB,EAAEA,CAAA,KAAMA,qBAAqB;EAClDC,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5D3vB,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpB+B,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BsyD,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCjJ,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1Bq1B,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtC1sC,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9B91C,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBvnB,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BI,sBAAsB,EAAEA,CAAA,KAAMA,sBAAsB;EACpD84C,qBAAqB,EAAEA,CAAA,KAAMA,qBAAqB;EAClDnuB,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5B/kC,WAAW,EAAEA,CAAA,KAAMglC,YAAY;EAC/BlC,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBiB,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCs/C,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtC9X,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9Cy2F,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCC,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCC,yBAAyB,EAAEA,CAAA,KAAMA,yBAAyB;EAC1Dv9E,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCmhC,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCvgF,iBAAiB,EAAEA,CAAA,KAAMA,iBAAiB;EAC1C85C,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5C3D,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCl2C,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtC3B,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1Ba,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBG,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BD,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1Bsc,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpB8pC,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCm3E,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5B35B,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChC9mF,uBAAuB,EAAEA,CAAA,KAAMA,uBAAuB;EACtD/b,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9BD,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9Bw0H,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCkI,MAAM,EAAEA,CAAA,KAAM3qI,cAAc;EAC5ByL,GAAG,EAAEA,CAAA,KAAMA,GAAG;EACd1oB,kCAAkC,EAAEA,CAAA,KAAMA,kCAAkC;EAC5EwoB,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBsB,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCf,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCijG,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BgB,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtC9kG,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpB+B,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCjC,EAAE,EAAEA,CAAA,KAAMA,EAAE;EACZ4C,iBAAiB,EAAEA,CAAA,KAAMA,iBAAiB;EAC1CmtB,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCl6B,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCD,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9BkN,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B1C,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCw4C,yBAAyB,EAAEA,CAAA,KAAMA,yBAAyB;EAC1Dl7E,QAAQ,EAAEA,CAAA,KAAM4kC,SAAS;EACzB3B,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCg0H,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BhP,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9BntJ,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtC62D,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCF,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCI,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChD55B,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCkL,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBvK,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5B4lE,qBAAqB,EAAEA,CAAA,KAAMA,qBAAqB;EAClDI,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5C/7D,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBwB,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCq+D,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBF,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5DijB,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxD8iB,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCjmC,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtChB,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5CukB,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxC6iB,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCjhF,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCziB,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BD,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BwkD,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpC11B,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBi2B,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCl2B,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCnvB,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBwnD,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClChnD,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCzD,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxB42D,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9Bx0G,wBAAwB,EAAEA,CAAA,KAAMu+K,yBAAyB;EACzDvhE,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCxC,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxC8D,yBAAyB,EAAEA,CAAA,KAAMA,yBAAyB;EAC1D4yC,uBAAuB,EAAEA,CAAA,KAAMA,uBAAuB;EACtDsC,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDpnI,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxC4vF,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9C5B,IAAI,EAAEA,CAAA,KAAMA,IAAI;EAChBjvF,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9Bw3B,+BAA+B,EAAEA,CAAA,KAAMA,+BAA+B;EACtEgkG,qBAAqB,EAAEA,CAAA,KAAMA,qBAAqB;EAClD/oC,mCAAmC,EAAEA,CAAA,KAAMA,mCAAmC;EAC9EjyF,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B87B,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCsgG,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCx/F,8BAA8B,EAAEA,CAAA,KAAMA,8BAA8B;EACpEsmB,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5CwjF,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BpB,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCxlI,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5C2L,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBC,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5Bq7H,4BAA4B,EAAEA,CAAA,KAAMA,4BAA4B;EAChEU,qBAAqB,EAAEA,CAAA,KAAMA,qBAAqB;EAClDpN,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxD+d,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxDya,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5DrmJ,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9ColF,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCvnF,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxDpJ,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCy7B,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChClT,4BAA4B,EAAEA,CAAA,KAAMA,4BAA4B;EAChEj9B,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B1G,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B82C,qBAAqB,EAAEA,CAAA,KAAMA,qBAAqB;EAClDkjG,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9C3zC,IAAI,EAAEA,CAAA,KAAMA,IAAI;EAChB7qF,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9B3iB,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCsgB,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBlb,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5D6nB,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5B85H,iBAAiB,EAAEA,CAAA,KAAMA,iBAAiB;EAC1C75H,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtC6yE,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCzzE,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChClK,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9B+9E,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCj4F,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtB4/I,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCxlI,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B6xF,8BAA8B,EAAEA,CAAA,KAAMA,8BAA8B;EACpErE,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChC7uF,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBoJ,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BulF,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBvsF,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9B3d,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBC,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BC,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBf,iBAAiB,EAAEA,CAAA,KAAMA,iBAAiB;EAC1CW,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BoB,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BG,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9BomB,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtB5mB,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCN,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BQ,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClC6mB,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5BhnB,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBJ,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBC,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCC,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCwG,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChC7G,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBM,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBa,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBrB,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9B2I,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1Bf,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBQ,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxB2lG,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9B9uG,uBAAuB,EAAEA,CAAA,KAAMA,uBAAuB;EACtD0c,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9B5Z,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BkzI,qBAAqB,EAAEA,CAAA,KAAMA,qBAAqB;EAClDvB,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDyB,sBAAsB,EAAEA,CAAA,KAAMA,sBAAsB;EACpDC,2BAA2B,EAAEA,CAAA,KAAMA,2BAA2B;EAC9D1zI,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5CF,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCqhJ,2BAA2B,EAAEA,CAAA,KAAMA,2BAA2B;EAC9D7M,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpBhuH,GAAG,EAAEA,CAAA,KAAMA,GAAG;EACd7rB,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCivG,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCS,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9ChxF,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCC,4BAA4B,EAAEA,CAAA,KAAMA,4BAA4B;EAChEo/H,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxClB,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5Ch2I,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClC20I,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9CC,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDF,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDgc,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9CnlH,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDuuG,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxDl4E,2BAA2B,EAAEA,CAAA,KAAMA,2BAA2B;EAC9DO,6BAA6B,EAAEA,CAAA,KAAMA,6BAA6B;EAClE29E,4BAA4B,EAAEA,CAAA,KAAMA,4BAA4B;EAChEjH,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxDF,2BAA2B,EAAEA,CAAA,KAAMA,2BAA2B;EAC9DnG,sBAAsB,EAAEA,CAAA,KAAMA,sBAAsB;EACpDod,kCAAkC,EAAEA,CAAA,KAAMA,kCAAkC;EAC5En+J,KAAK,EAAEA,CAAA,KAAMu1G,MAAM;EACnBkE,mBAAmB,EAAEA,CAAA,KAAMA,mBAAmB;EAC9CgpC,iBAAiB,EAAEA,CAAA,KAAMA,iBAAiB;EAC1C3xE,gBAAgB,EAAEA,CAAA,KAAMA,gBAAgB;EACxCG,yBAAyB,EAAEA,CAAA,KAAMA,yBAAyB;EAC1DC,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxDH,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDy9E,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChDr8H,QAAQ,EAAEA,CAAA,KAAMA,QAAQ;EACxBytH,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCiB,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClCC,qBAAqB,EAAEA,CAAA,KAAMA,qBAAqB;EAClD9hF,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9BggG,oBAAoB,EAAEA,CAAA,KAAMA,oBAAoB;EAChD99J,KAAK,EAAEA,CAAA,KAAMA,KAAK;EAClBu+I,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5DE,2BAA2B,EAAEA,CAAA,KAAMA,2BAA2B;EAC9Dn2H,WAAW,EAAEA,CAAA,KAAMA,WAAW;EAC9Bvb,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBwb,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1BhW,YAAY,EAAEA,CAAA,KAAMA,YAAY;EAChCurI,0BAA0B,EAAEA,CAAA,KAAMA,0BAA0B;EAC5D/sH,kBAAkB,EAAEA,CAAA,KAAMA,kBAAkB;EAC5CsnB,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B87D,GAAG,EAAEA,CAAA,KAAMA,GAAG;EACdF,SAAS,EAAEA,CAAA,KAAMA,SAAS;EAC1B1uF,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtBwD,OAAO,EAAEA,CAAA,KAAMA,OAAO;EACtB+gD,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClC+qC,wBAAwB,EAAEA,CAAA,KAAMA,wBAAwB;EACxD6D,gCAAgC,EAAEA,CAAA,KAAMA,gCAAgC;EACxElzF,MAAM,EAAEA,CAAA,KAAMA,MAAM;EACpB48H,cAAc,EAAEA,CAAA,KAAMA,cAAc;EACpCqL,eAAe,EAAEA,CAAA,KAAMA,eAAe;EACtCpB,UAAU,EAAEA,CAAA,KAAMA,UAAU;EAC5Br0F,uBAAuB,EAAEA,CAAA,KAAMA,uBAAuB;EACtDsgD,aAAa,EAAEA,CAAA,KAAMA,aAAa;EAClC9rG,OAAO,EAAEA,CAAA,KAAMA;AACjB,CAAC,CAAC;;AAEF;AACA,SAASmsK,0BAA0BA,CAAC;EAClC1yE,IAAI;EACJx6F,MAAM;EACNi2H,KAAK;EACLC;AACF,CAAC,EAAE;EACD,IAAI,EAAED,KAAK,IAAIC,KAAK,CAAC,EAAE;IACrB,MAAM,IAAIt7H,KAAK,CAAC,sBAAsB,CAAC;EACzC;EACA,MAAM1O,MAAM,GAAG,CAAC,CAAC;EACjB,KAAK,MAAM,CAACiuG,QAAQ,EAAE;IAAEr1E;EAAI,CAAC,CAAC,IAAI01E,IAAI,EAAE;IACtC,IAAIzxG,MAAM,CAACuV,MAAM,CAAC0B,MAAM,EAAEm6F,QAAQ,CAAC,EAAE;MACnC,MAAM;QAAE5qC,KAAK,EAAE/C;MAAO,CAAC,GAAG1nC,GAAG,CAAC9qB,IAAI,KAAK,KAAK,GAAGi8H,KAAK,GAAGC,KAAK;MAC5DhqI,MAAM,CAACiuG,QAAQ,CAAC,GAAG1vG,IAAI,CAAC8J,KAAK,CAACi4D,MAAM,CAACxhB,OAAO,CAAChrC,MAAM,CAACm6F,QAAQ,CAAC,CAAC,CAAC;IACjE;EACF;EACA,OAAOjuG,MAAM;AACf;;AAEA;AACA,IAAIihL,cAAc,GAAG,MAAMA,cAAc,CAAC;EACxCx6K,WAAWA,CAACsR,MAAM,EAAE7J,KAAK,EAAEi2B,KAAK,EAAEtf,IAAI,EAAEq8J,UAAU,EAAEj9J,IAAI,EAAEH,MAAM,EAAEq9J,OAAO,EAAEz6F,KAAK,EAAE5hD,MAAM,EAAEjJ,QAAQ,EAAE;IAClG,IAAI,CAAC9jB,MAAM,GAAGA,MAAM;IACpB,IAAI,CAAC7J,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACi2B,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACtf,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACq8J,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACj9J,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACH,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACq9J,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACz6F,KAAK,GAAGA,KAAK;IAClB,IAAI,CAAC5hD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACjJ,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAAC0tE,QAAQ,GAAG;MAAEpoG,CAAC,EAAE,CAAC;MAAE85B,CAAC,EAAE;IAAE,CAAC;EAChC;EACAi4C,QAAQA,CAACrlE,KAAK,EAAE;IACd,IAAI02G,OAAO,GAAG12G,KAAK;IACnB,OAAO02G,OAAO,IAAI,IAAI,IAAIA,OAAO,CAACr2G,KAAK,IAAI,IAAI,CAACA,KAAK,EAAE;MACrD,IAAIq2G,OAAO,KAAK,IAAI,EAAE;QACpB,OAAO,IAAI;MACb;MACAA,OAAO,GAAGA,OAAO,CAACz/E,MAAM;IAC1B;IACA,OAAO,KAAK;EACd;EACAs8I,IAAIA,CAACx8K,QAAQ,EAAEisI,KAAK,GAAGowC,cAAc,CAACI,IAAI,CAACC,QAAQ,EAAE;IACnD,IAAIzwC,KAAK,KAAKowC,cAAc,CAACI,IAAI,CAACC,QAAQ,EAAE;MAC1C18K,QAAQ,CAAC,IAAI,CAAC;IAChB;IACA,IAAI,CAACi3B,QAAQ,CAAC7iB,OAAO,CAAE4iB,KAAK,IAAK;MAC/BA,KAAK,CAACwlJ,IAAI,CAACx8K,QAAQ,EAAEisI,KAAK,CAAC;IAC7B,CAAC,CAAC;IACF,IAAIA,KAAK,KAAKowC,cAAc,CAACI,IAAI,CAACE,SAAS,EAAE;MAC3C38K,QAAQ,CAAC,IAAI,CAAC;IAChB;EACF;EACA,EAAExG,MAAM,CAACmG,QAAQ,IAAI;IACnB,MAAM,IAAI;IACV,KAAK,MAAMq3B,KAAK,IAAI,IAAI,CAACC,QAAQ,EAAE;MACjC,OAAOn6B,WAAW,CAACk6B,KAAK,CAAC;IAC3B;EACF;AACF,CAAC;AACDqlJ,cAAc,CAACI,IAAI,GAAG;EACpBC,QAAQ,EAAE,CAAC;EACXC,SAAS,EAAE;AACb,CAAC;AACD,IAAIb,aAAa,GAAGO,cAAc;AAClC,IAAIN,eAAe,GAAG,cAAcr/D,MAAM,CAAC;EACzC76G,WAAWA,CAAC+uE,SAAS,EAAE;IACrB,KAAK,CAAC;MACJA,SAAS;MACTusC,SAAS,EAAE,CAAC,CAAC,CAAC,wBAAwB;MACtCG,mBAAmB,EAAE;IACvB,CAAC,CAAC;IACF,IAAI,CAACs/D,QAAQ,GAAG,IAAId,aAAa,CAC/B,IAAI,EACJ,CAAC,EACD,KAAK,CAAC,EACN,CAAC,EACD,KAAK,CAAC,EACN,KAAK,CAAC,EACN,KAAK,CAAC,EACN,CAAC,EACD,KAAK,CAAC,EACN,KAAK,CAAC,EACN,EACF,CAAC;IACD,IAAI,CAAC7mB,WAAW,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACzB,IAAI,CAAC4nB,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACvnG,cAAc,GAAG,IAAI7T,YAAY,CACpC,OAAO,EACP;MACE8T,KAAK,EAAE;QACL/iC,MAAM,EAAE;UACN33C,MAAM,EAAE,OAAO;UACfsnE,MAAM,EAAGzqD,IAAI,IAAK,IAAI,CAAC8pH,uBAAuB,CAAC9pH,IAAI;QACrD,CAAC;QACD3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE;MACR,CAAC;MACD8/D,KAAK,EAAE;QACLm1C,UAAU,EAAE,SAAS;QACrBrrH,KAAK,EAAE,UAAU;QACjB2jH,SAAS,EAAGxrG,IAAI,IAAK,IAAI,CAACgqH,qBAAqB,CAAChqH,IAAI,CAAC;QACrDi+D,MAAM,EAAGj+D,IAAI,IAAK,IAAI,CAACmqH,kBAAkB,CAACnqH,IAAI,CAAC;QAC/C3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE;MACR,CAAC;MACDmsH,OAAO,EAAE;QACPtvF,MAAM,EAAE;UACN33C,MAAM,EAAE,OAAO;UACfsnE,MAAM,EAAGzqD,IAAI,IAAK,IAAI,CAACqqH,yBAAyB,CAACrqH,IAAI;QACvD,CAAC;QACD3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE;MACR,CAAC;MACDusH,QAAQ,EAAE;QACR1vF,MAAM,EAAE;UACN33C,MAAM,EAAE,OAAO;UACfsnE,MAAM,EAAGzqD,IAAI,IAAK,IAAI,CAACyqH,0BAA0B,CAACzqH,IAAI;QACxD,CAAC;QACD3C,KAAK,EAAE,OAAO;QACdY,IAAI,EAAE;MACR;IACF,CAAC,EACD,MAAM,IAAI,CAACgpH,4BAA4B,CAAC,CAC1C,CAAC;EACH;EACAnoD,cAAcA,CAAC5iC,KAAK,EAAE;IACpB,IAAIA,KAAK,KAAK,SAAS,EAAE;MACvB,IAAI,CAAC0hC,cAAc,CAACxT,UAAU,CAAC,OAAO,CAAC;IACzC,CAAC,MAAM,IAAIluB,KAAK,KAAK,OAAO,EAAE;MAC5B,IAAI,CAAC0hC,cAAc,CAACxT,UAAU,CAAC,MAAM,CAAC;IACxC;EACF;EACAgoC,WAAWA,CAAA,EAAG;IACZ,OAAOpuG,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa;MACtC,IAAIiH,EAAE,EAAEsQ,EAAE;MACV,MAAM;QAAE6pK,WAAW;QAAEpoB,OAAO;QAAEQ,QAAQ;QAAE/3I,KAAK;QAAEC,OAAO;QAAEo3I;MAAW,CAAC,GAAG,IAAI,CAAC9/I,UAAU;MACtF,IAAIpL,KAAK,GAAG,CAAC;MACb,MAAM0wC,QAAQ,GAAGA,CAAA,KAAM;QACrB1wC,KAAK,IAAI,CAAC;QACV,OAAOA,KAAK;MACd,CAAC;MACD,IAAIuzK,QAAQ,GAAG,CAAC;MAChB,IAAIE,QAAQ,GAAGt0J,QAAQ;MACvB,IAAIu0J,QAAQ,GAAG,CAACv0J,QAAQ;MACxB,MAAM2nC,MAAM,GAAG,IAAInjD,KAAK,CAAC,CAAC,CAACgG,EAAE,GAAG,CAACtQ,EAAE,GAAG,IAAI,CAAC+U,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/U,EAAE,CAACrH,MAAM,KAAK,IAAI,GAAG2X,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAACoM,IAAI,CAAC,KAAK,CAAC,CAAC;MAClH,MAAM0oD,UAAU,GAAGA,CAACxoC,KAAK,EAAEW,MAAM,KAAK;QACpC,MAAMgW,SAAS,GAAG8D,QAAQ,CAAC,CAAC;QAC5B,MAAM8nC,KAAK,GAAG5hD,MAAM,CAAC4hD,KAAK,IAAI,IAAI,GAAG5hD,MAAM,CAAC4hD,KAAK,GAAG,CAAC,GAAG,CAAC;QACzD,MAAM7qD,QAAQ,GAAG6lJ,WAAW,IAAI,IAAI,GAAGv9I,KAAK,CAACu9I,WAAW,CAAC,GAAG,KAAK,CAAC;QAClE,MAAMr1F,MAAM,GAAGxwD,QAAQ,IAAI,IAAI,IAAIA,QAAQ,CAAC37B,MAAM,KAAK,CAAC;QACxD,IAAI2kB,IAAI,GAAGy0I,OAAO,IAAI,IAAI,GAAGn1H,KAAK,CAACm1H,OAAO,CAAC,GAAG,KAAK,CAAC;QACpD,IAAIpyJ,MAAM,CAACmM,QAAQ,CAACwR,IAAI,CAAC,EAAE;UACzBA,IAAI,GAAGtmB,IAAI,CAAC6J,GAAG,CAACyc,IAAI,EAAE,CAAC,CAAC;QAC1B,CAAC,MAAM;UACLA,IAAI,GAAGwnE,MAAM,GAAG,CAAC,GAAG,CAAC;QACvB;QACA,MAAM80F,OAAO,GAAGt8J,IAAI;QACpB48J,QAAQ,GAAGljL,IAAI,CAAC6J,GAAG,CAACq5K,QAAQ,EAAE/6F,KAAK,CAAC;QACpC,MAAMrjE,KAAK,GAAGy2I,QAAQ,IAAI,IAAI,GAAG31H,KAAK,CAAC21H,QAAQ,CAAC,GAAG,KAAK,CAAC;QACzD,IAAI,OAAOz2I,KAAK,KAAK,QAAQ,EAAE;UAC7B2xC,MAAM,CAACla,SAAS,CAAC,GAAGz3B,KAAK;UACzBs+J,QAAQ,GAAGpjL,IAAI,CAAC6uB,GAAG,CAACu0J,QAAQ,EAAEt+J,KAAK,CAAC;UACpCu+J,QAAQ,GAAGrjL,IAAI,CAAC6J,GAAG,CAACw5K,QAAQ,EAAEv+J,KAAK,CAAC;QACtC;QACA,OAAOw+J,cAAc,CACnB,IAAInB,aAAa,CACf,IAAI,EACJ5lI,SAAS,EACT3W,KAAK,EACLtf,IAAI,EACJxB,KAAK,EACL,KAAK,CAAC,EACN,KAAK,CAAC,EACN89J,OAAO,EACPz6F,KAAK,EACL5hD,MAAM,EACN,EACF,CAAC,EACDjJ,QACF,CAAC;MACH,CAAC;MACD,MAAMgmJ,cAAc,GAAGA,CAAC1mK,IAAI,EAAEmB,IAAI,KAAK;QACrCA,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACtD,OAAO,CAAEmrB,KAAK,IAAK;UAC9C,MAAMvI,KAAK,GAAG+wC,UAAU,CAACxoC,KAAK,EAAEhpB,IAAI,CAAC;UACrCA,IAAI,CAAC0gB,QAAQ,CAACj0B,IAAI,CAACg0B,KAAK,CAAC;UACzBzgB,IAAI,CAACgmK,OAAO,IAAIvlJ,KAAK,CAACulJ,OAAO;QAC/B,CAAC,CAAC;QACF,OAAOhmK,IAAI;MACb,CAAC;MACD,MAAMqmK,QAAQ,GAAGK,cAAc,CAC7B,IAAInB,aAAa,CACf,IAAI,EACJ,CAAC,EACD,KAAK,CAAC,EACN,CAAC,EACD,KAAK,CAAC,EACN,KAAK,CAAC,EACN,KAAK,CAAC,EACN,CAAC,EACD,KAAK,CAAC,EACN,KAAK,CAAC,EACN,EACF,CAAC,EACD,IAAI,CAACpkK,IACP,CAAC;MACD,MAAMu9I,WAAW,GAAG,CAAC8nB,QAAQ,EAAEC,QAAQ,CAAC;MACxC,IAAInoB,UAAU;MACd,IAAIL,UAAU,IAAI,IAAI,IAAIlyJ,MAAM,CAACmM,QAAQ,CAACsuK,QAAQ,CAAC,IAAIz6K,MAAM,CAACmM,QAAQ,CAACuuK,QAAQ,CAAC,EAAE;QAChFnoB,UAAU,GAAG,IAAIX,UAAU,CAAC,CAAC;QAC7BW,UAAU,CAAC96G,MAAM,GAAGk7G,WAAW;QAC/BJ,UAAU,CAACtyJ,KAAK,GAAGiyJ,UAAU;QAC7BK,UAAU,CAACriH,MAAM,CAAC,CAAC;MACrB;MACAoqI,QAAQ,CAAC3lJ,QAAQ,CAAC7iB,OAAO,CAAC,CAAC4iB,KAAK,EAAEkmJ,UAAU,KAAK;QAC/ClmJ,KAAK,CAACwlJ,IAAI,CAAEjmK,IAAI,IAAK;UACnB,IAAI8I,IAAI;UACR,MAAMZ,KAAK,GAAG2xC,MAAM,CAAC75C,IAAI,CAACjN,KAAK,CAAC;UAChC,IAAImV,KAAK,IAAI,IAAI,EAAE;YACjBY,IAAI,GAAGw1I,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAAC36G,OAAO,CAACz7B,KAAK,CAAC;UAChE;UACAY,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAGA,IAAI,GAAGlC,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAC+/J,UAAU,GAAG//J,KAAK,CAAC7hB,MAAM,CAAC;UACtFib,IAAI,CAAC8I,IAAI,GAAGA,IAAI;UAChB9I,IAAI,CAAC2I,MAAM,GAAG21I,UAAU,IAAI,IAAI,GAAGz3I,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC8/J,UAAU,GAAG9/J,OAAO,CAAC9hB,MAAM,CAAC,GAAG,oBAAoB;QAC3H,CAAC,CAAC;MACJ,CAAC,CAAC;MACF,IAAI,CAACshL,QAAQ,GAAGA,QAAQ;MACxB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;MACxB,IAAI,CAAC5nB,WAAW,GAAGA,WAAW;IAChC,CAAC,CAAC;EACJ;EACAziH,MAAMA,CAACu0E,EAAE,EAAE;IACT,OAAOrrH,OAAO,CAAC,IAAI,EAAEykD,SAAS,EAAE,WAAW;MAAEwlE;IAAW,CAAC,EAAE;MACzD,MAAM,IAAI,CAAC9sC,gBAAgB,CAAC,CAAC;MAC7B,MAAM,IAAI,CAACxZ,WAAW,CAAC,CAAC;MACxB,MAAMujE,aAAa,GAAG,IAAI,CAACC,gBAAgB,CAAC,CAAC;MAC7C,MAAMltD,MAAM,GAAG,IAAI,CAACisC,WAAW,CAAC+D,UAAU,CAAC;MAC3C,IAAIhwC,MAAM,EAAE;QACV,IAAI,CAACL,cAAc,CAACxT,UAAU,CAAC,QAAQ,EAAE8gE,aAAa,CAAC;MACzD;MACA,IAAI,CAACttD,cAAc,CAACxT,UAAU,CAAC,QAAQ,EAAE8gE,aAAa,CAAC;IACzD,CAAC,CAAC;EACJ;EACAX,iBAAiBA,CAACvqH,IAAI,EAAE;IACtB,IAAI/U,EAAE;IACN,MAAM48B,KAAK,GAAG,CAAC58B,EAAE,GAAG,IAAI,CAACi+H,iBAAiB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGj+H,EAAE,CAAC48B,KAAK;IACvE,IAAI,CAAClD,GAAG,CAACmZ,gBAAgB,CAACg/C,sBAAsB,CAAC,IAAI,CAAC71D,EAAE,CAAC;IACzD,IAAIY,KAAK,IAAI,IAAI,EAAE;MACjBgiC,WAAW,CAAC7pD,IAAI,CAACylK,eAAe,EAAE59I,KAAK,CAAC;IAC1C;EACF;EACAiiG,uBAAuBA,CAAC9pH,IAAI,EAAE;IAC5B,IAAI,CAAC2kB,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC5C,IAAI,CAACgoC,iBAAiB,CAACvqH,IAAI,CAAC;EAC9B;EACAqqH,yBAAyBA,CAACrqH,IAAI,EAAE;IAC9B,IAAI,CAAC2kB,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC5C,IAAI,CAACgoC,iBAAiB,CAACvqH,IAAI,CAAC;EAC9B;EACAgqH,qBAAqBA,CAAChqH,IAAI,EAAE;IAC1B,IAAI/U,EAAE;IACN,MAAM48B,KAAK,GAAG,CAAC58B,EAAE,GAAG,IAAI,CAACi+H,iBAAiB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGj+H,EAAE,CAAC48B,KAAK;IACvE,IAAIA,KAAK,IAAI,IAAI,EAAE;MACjBgiC,WAAW,CAAC,CAAC7pD,IAAI,CAAC,EAAE6nB,KAAK,CAAC;IAC5B;EACF;EACAsiG,kBAAkBA,CAACnqH,IAAI,EAAE;IACvB,IAAI,CAACuqH,iBAAiB,CAACvqH,IAAI,CAAC;EAC9B;EACAyqH,0BAA0BA,CAACzqH,IAAI,EAAE;IAC/B,IAAI,CAAC2kB,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC5C,IAAI,CAACgoC,iBAAiB,CAACvqH,IAAI,CAAC;EAC9B;EACAuvH,wBAAwBA,CAAA,EAAG;IACzB,IAAI,CAAC3xD,cAAc,CAACxT,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC+gE,gBAAgB,CAAC,CAAC,CAAC;EAClE;EACAA,gBAAgBA,CAAA,EAAG;IACjB,MAAMD,aAAa,GAAG;MACpBu6C,eAAe,EAAE,CAAC,IAAI,CAACC,cAAc;IACvC,CAAC;IACD,OAAOx6C,aAAa;EACtB;EACAnE,yBAAyBA,CAAA,EAAG;IAC1B,OAAO,IAAI;EACb;EACAE,4BAA4BA,CAAA,EAAG;IAC7B,IAAI,CAAC,IAAI,CAACF,yBAAyB,CAAC,CAAC,EAAE;MACrC,IAAI,CAACpiG,GAAG,CAACmZ,gBAAgB,CAACykD,gBAAgB,CAAC,CAAC;IAC9C;EACF;EACA4yB,YAAYA,CAAA,EAAG;IACb,OAAO,EAAE;EACX;EACA7N,eAAeA,CAAA,EAAG;IAChB,OAAO,CAACl2F,GAAG,EAAEA,GAAG,CAAC;EACnB;EACA8jG,aAAaA,CAACvzG,UAAU,EAAE;IACxB,MAAM;MAAE67I,QAAQ;MAAEmoB,SAAS;MAAE7oB,UAAU;MAAE/0I;IAAQ,CAAC,GAAG,IAAI,CAAC/K,UAAU;IACpE,OAAO2E,UAAU,KAAK,UAAU,IAAI67I,QAAQ,IAAI,IAAI,IAAIV,UAAU,IAAI,IAAI,GAAG,CAC3E;MACEn7I,UAAU,EAAE,UAAU;MACtB8E,OAAO,EAAEsB,OAAO;MAChB88F,QAAQ,EAAE,IAAI,CAAC59E,EAAE;MACjB0+I,SAAS;MACT7oB,UAAU;MACVS,WAAW,EAAE,IAAI,CAACA;IACpB,CAAC,CACF,GAAG,EAAE;EACR;EACAsW,kBAAkBA,CAACh1J,IAAI,EAAE;IACvB,OAAO,GAAGA,IAAI,CAACjN,KAAK,EAAE;EACxB;EACAmsC,UAAUA,CAACl/B,IAAI,EAAE;IACf,OAAO,IAAI,CAACg1J,kBAAkB,CAACh1J,IAAI,CAAC;EACtC;AACF,CAAC;;AAED;AACA,IAAIylK,yBAAyB,GAAG,cAAcn8C,gBAAgB,CAAC;EAC7Dh+H,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGs+C,SAAS,CAAC;IACnB,IAAI,CAAC28H,WAAW,GAAG,UAAU;IAC7B,IAAI,CAAC3/J,KAAK,GAAGllB,MAAM,CAACiX,MAAM,CAACsL,aAAa,CAAC;IACzC,IAAI,CAAC4C,OAAO,GAAGnlB,MAAM,CAACiX,MAAM,CAACiM,eAAe,CAAC;EAC/C;AACF,CAAC;AACDlgB,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,CAAC,CACjB,EAAEm/H,yBAAyB,CAACljL,SAAS,EAAE,aAAa,EAAE,CAAC,CAAC;AACzDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE6mK,yBAAyB,CAACljL,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE6mK,yBAAyB,CAACljL,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;AACtDmC,eAAe,CAAC,CACdugD,QAAQ,CAACqB,MAAM,EAAE;EAAE1nC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACrC,EAAE6mK,yBAAyB,CAACljL,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;AACvDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,CAAC,CAC7B,EAAE89H,yBAAyB,CAACljL,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACnDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,CAAC,CAC7B,EAAE89H,yBAAyB,CAACljL,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;AACrDmC,eAAe,CAAC,CACdugD,QAAQ,CAAC0C,kBAAkB,EAAE;EAAE/oC,QAAQ,EAAE;AAAK,CAAC,CAAC,CACjD,EAAE6mK,yBAAyB,CAACljL,SAAS,EAAE,YAAY,EAAE,CAAC,CAAC;;AAExD;AACA,IAAImjL,UAAU,GAAG,MAAM;EACrBp6K,WAAWA,CAACqyK,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAE;IAClC,IAAI,CAACH,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,IAAI,GAAGA,IAAI;EAClB;EACA37I,KAAKA,CAACzvB,KAAK,EAAE;IACX,IAAI,CAACirK,IAAI,GAAGv6K,IAAI,CAAC6uB,GAAG,CAAC,IAAI,CAAC0rJ,IAAI,EAAEjrK,KAAK,CAACirK,IAAI,CAAC;IAC3C,IAAI,CAACC,IAAI,GAAGx6K,IAAI,CAAC6uB,GAAG,CAAC,IAAI,CAAC2rJ,IAAI,EAAElrK,KAAK,CAACkrK,IAAI,CAAC;IAC3C,IAAI,CAACC,IAAI,GAAGz6K,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAAC4wK,IAAI,EAAEnrK,KAAK,CAACmrK,IAAI,CAAC;IAC3C,IAAI,CAACC,IAAI,GAAG16K,IAAI,CAAC6J,GAAG,CAAC,IAAI,CAAC6wK,IAAI,EAAEprK,KAAK,CAACorK,IAAI,CAAC;EAC7C;AACF,CAAC;;AAED;AACA,IAAI8H,yBAAyB,GAAG,CAAC;AACjC,SACEpF,OAAO,EACPD,QAAQ,EACRz5K,8BAA8B,EAC9BG,qBAAqB,EACrB89H,MAAM,EACN08C,OAAO,EACP6D,sBAAsB,IAAIyB,cAAc,EACxC9B,wBAAwB,IAAI+B,MAAM,EAClCtF,+BAA+B,IAAIuF,MAAM,EACzCnC,+BAA+B,IAAIoC,MAAM,EACzChC,uBAAuB,IAAIiC,KAAK,EAChC9/K,wBAAwB,EACxBC,YAAY,IAAIosF,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}