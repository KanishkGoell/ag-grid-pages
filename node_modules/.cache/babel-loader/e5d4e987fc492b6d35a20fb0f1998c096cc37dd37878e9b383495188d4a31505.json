{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __reflectGet = Reflect.get;\nvar __knownSymbol = (name, symbol) => {\n  return (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\n};\nvar __pow = Math.pow;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n};\nvar __export = (target, all) => {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--) if (decorator = decorators[i]) result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\nvar __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar __await = function (promise, isYieldStar) {\n  this[0] = promise;\n  this[1] = isYieldStar;\n};\nvar __yieldStar = value => {\n  var obj = value[__knownSymbol(\"asyncIterator\")];\n  var isAwait = false;\n  var method;\n  var it = {};\n  if (obj == null) {\n    obj = value[__knownSymbol(\"iterator\")]();\n    method = k => it[k] = x => obj[k](x);\n  } else {\n    obj = obj.call(value);\n    method = k => it[k] = v => {\n      if (isAwait) {\n        isAwait = false;\n        if (k === \"throw\") throw v;\n        return v;\n      }\n      isAwait = true;\n      return {\n        done: false,\n        value: new __await(new Promise(resolve => {\n          var x = obj[k](v);\n          if (!(x instanceof Object)) throw TypeError(\"Object expected\");\n          resolve(x);\n        }), 1)\n      };\n    };\n  }\n  return it[__knownSymbol(\"iterator\")] = () => it, method(\"next\"), \"throw\" in obj ? method(\"throw\") : it.throw = x => {\n    throw x;\n  }, \"return\" in obj && method(\"return\"), it;\n};\n\n// packages/ag-charts-community/src/options/chart/errorBarOptions.ts\nvar AgErrorBarSupportedSeriesTypes = [\"bar\", \"line\", \"scatter\"];\n\n// packages/ag-charts-community/src/options/chart/navigatorOptions.ts\nvar __MINI_CHART_SERIES_OPTIONS = {};\nvar __VERIFY_MINI_CHART_SERIES_OPTIONS = void 0;\n__VERIFY_MINI_CHART_SERIES_OPTIONS = __MINI_CHART_SERIES_OPTIONS;\n\n// packages/ag-charts-community/src/options/chart/tooltipOptions.ts\nvar AgTooltipPositionType = /* @__PURE__ */(AgTooltipPositionType2 => {\n  AgTooltipPositionType2[\"POINTER\"] = \"pointer\";\n  AgTooltipPositionType2[\"NODE\"] = \"node\";\n  AgTooltipPositionType2[\"TOP\"] = \"top\";\n  AgTooltipPositionType2[\"RIGHT\"] = \"right\";\n  AgTooltipPositionType2[\"BOTTOM\"] = \"bottom\";\n  AgTooltipPositionType2[\"LEFT\"] = \"left\";\n  AgTooltipPositionType2[\"TOP_LEFT\"] = \"top-left\";\n  AgTooltipPositionType2[\"TOP_RIGHT\"] = \"top-right\";\n  AgTooltipPositionType2[\"BOTTOM_RIGHT\"] = \"bottom-right\";\n  AgTooltipPositionType2[\"BOTTOM_LEFT\"] = \"bottom-left\";\n  return AgTooltipPositionType2;\n})(AgTooltipPositionType || {});\n\n// packages/ag-charts-community/src/options/chart/themeOptions.ts\nvar __THEME_OVERRIDES = {};\nvar __VERIFY_THEME_OVERRIDES = void 0;\n__VERIFY_THEME_OVERRIDES = __THEME_OVERRIDES;\n\n// packages/ag-charts-community/src/options/agChartOptions.ts\nvar __FORCE_MODULE_DETECTION = 0;\n\n// packages/ag-charts-community/src/util/time/index.ts\nvar time_exports = {};\n__export(time_exports, {\n  day: () => day,\n  friday: () => friday,\n  hour: () => hour,\n  millisecond: () => millisecond,\n  minute: () => minute,\n  monday: () => monday,\n  month: () => month,\n  saturday: () => saturday,\n  second: () => second,\n  sunday: () => sunday,\n  thursday: () => thursday,\n  tuesday: () => tuesday,\n  utcDay: () => utcDay,\n  utcHour: () => utcHour,\n  utcMinute: () => utcMinute,\n  utcMonth: () => utcMonth,\n  utcYear: () => utcYear,\n  wednesday: () => wednesday,\n  year: () => year\n});\n\n// packages/ag-charts-community/src/util/function.ts\nvar doOnceState = /* @__PURE__ */new Map();\nfunction doOnce(func, key) {\n  if (doOnceState.has(key)) return;\n  doOnceState.set(key, true);\n  func();\n}\ndoOnce.clear = () => doOnceState.clear();\nfunction identity(x) {\n  return x;\n}\nfunction* iterate() {\n  for (var _len = arguments.length, iterators = new Array(_len), _key = 0; _key < _len; _key++) {\n    iterators[_key] = arguments[_key];\n  }\n  for (const iterator of iterators) {\n    yield* __yieldStar(iterator);\n  }\n}\nfunction* iterateReverseArray(array) {\n  for (let j = array.length - 1; j >= 0; j--) {\n    yield array[j];\n  }\n}\nfunction throttle(callback) {\n  let waitMs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  let options = arguments.length > 2 ? arguments[2] : undefined;\n  const {\n    leading = true,\n    trailing = true\n  } = options != null ? options : {};\n  let timerId;\n  let lastArgs;\n  let shouldWait = false;\n  function timeoutHandler() {\n    if (trailing && lastArgs) {\n      timerId = setTimeout(timeoutHandler, waitMs);\n      callback(...lastArgs);\n    } else {\n      shouldWait = false;\n    }\n    lastArgs = null;\n  }\n  function throttleCallback() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    if (shouldWait) {\n      lastArgs = args;\n    } else {\n      shouldWait = true;\n      timerId = setTimeout(timeoutHandler, waitMs);\n      if (leading) {\n        callback(...args);\n      } else {\n        lastArgs = args;\n      }\n    }\n  }\n  return Object.assign(throttleCallback, {\n    cancel() {\n      clearTimeout(timerId);\n      shouldWait = false;\n      lastArgs = null;\n    }\n  });\n}\nfunction joinFunctions() {\n  for (var _len3 = arguments.length, fns = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    fns[_key3] = arguments[_key3];\n  }\n  return () => {\n    for (const fn of fns) {\n      fn();\n    }\n  };\n}\n\n// packages/ag-charts-community/src/util/logger.ts\nvar Logger = {\n  log() {\n    console.log(...arguments);\n  },\n  warn(message) {\n    for (var _len4 = arguments.length, logContent = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      logContent[_key4 - 1] = arguments[_key4];\n    }\n    console.warn(\"AG Charts - \".concat(message), ...logContent);\n  },\n  error(message) {\n    for (var _len5 = arguments.length, logContent = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n      logContent[_key5 - 1] = arguments[_key5];\n    }\n    if (typeof message === \"object\") {\n      console.error(\"AG Charts error\", message, ...logContent);\n    } else {\n      console.error(\"AG Charts - \".concat(message), ...logContent);\n    }\n  },\n  table() {\n    console.table(...arguments);\n  },\n  warnOnce(message) {\n    for (var _len6 = arguments.length, logContent = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n      logContent[_key6 - 1] = arguments[_key6];\n    }\n    doOnce(() => Logger.warn(message, ...logContent), \"Logger.warn: \".concat(message));\n  },\n  errorOnce(message) {\n    for (var _len7 = arguments.length, logContent = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n      logContent[_key7 - 1] = arguments[_key7];\n    }\n    doOnce(() => Logger.error(message, ...logContent), \"Logger.error: \".concat(message));\n  }\n};\n\n// packages/ag-charts-community/src/util/time/interval.ts\nvar TimeInterval = class {\n  constructor(_encode, _decode, _rangeCallback) {\n    this._encode = _encode;\n    this._decode = _decode;\n    this._rangeCallback = _rangeCallback;\n  }\n  /**\n   * Returns a new date representing the latest interval boundary date before or equal to date.\n   * For example, `day.floor(date)` typically returns 12:00 AM local time on the given date.\n   * @param date\n   */\n  floor(date) {\n    const d = new Date(date);\n    const e = this._encode(d);\n    return this._decode(e);\n  }\n  /**\n   * Returns a new date representing the earliest interval boundary date after or equal to date.\n   * @param date\n   */\n  ceil(date) {\n    const d = new Date(Number(date) - 1);\n    const e = this._encode(d);\n    return this._decode(e + 1);\n  }\n  /**\n   * Returns an array of dates representing every interval boundary after or equal to start (inclusive) and before stop (exclusive).\n   * @param start Range start.\n   * @param stop Range end.\n   * @param extend If specified, the requested range will be extended to the closest \"nice\" values.\n   */\n  range(start, stop, extend) {\n    var _a;\n    const rangeCallback = (_a = this._rangeCallback) == null ? void 0 : _a.call(this, start, stop);\n    const e0 = this._encode(extend ? this.floor(start) : this.ceil(start));\n    const e1 = this._encode(extend ? this.ceil(stop) : this.floor(stop));\n    if (e1 < e0) {\n      return [];\n    }\n    const range3 = [];\n    for (let e = e0; e <= e1; e++) {\n      const d = this._decode(e);\n      range3.push(d);\n    }\n    rangeCallback == null ? void 0 : rangeCallback();\n    return range3;\n  }\n};\nvar CountableTimeInterval = class extends TimeInterval {\n  getOffset(snapTo, step) {\n    const s = typeof snapTo === \"number\" || snapTo instanceof Date ? this._encode(new Date(snapTo)) : 0;\n    return Math.floor(s) % step;\n  }\n  /**\n   * Returns a filtered view of this interval representing every step'th date.\n   * It can be a number of minutes, hours, days etc.\n   * Must be a positive integer.\n   * @param step\n   */\n  every(step, options) {\n    let offset4 = 0;\n    let rangeCallback;\n    const unsafeStep = step;\n    step = Math.max(1, Math.round(step));\n    if (unsafeStep !== step) {\n      Logger.warnOnce(\"interval step of [\".concat(unsafeStep, \"] rounded to [\").concat(step, \"].\"));\n    }\n    const {\n      snapTo = \"start\"\n    } = options != null ? options : {};\n    if (typeof snapTo === \"string\") {\n      const initialOffset = offset4;\n      rangeCallback = (start, stop) => {\n        const s = snapTo === \"start\" ? start : stop;\n        offset4 = this.getOffset(s, step);\n        return () => offset4 = initialOffset;\n      };\n    } else if (typeof snapTo === \"number\") {\n      offset4 = this.getOffset(new Date(snapTo), step);\n    } else if (snapTo instanceof Date) {\n      offset4 = this.getOffset(snapTo, step);\n    }\n    const encode13 = date => {\n      const e = this._encode(date);\n      return Math.floor((e - offset4) / step);\n    };\n    const decode13 = encoded => {\n      return this._decode(encoded * step + offset4);\n    };\n    return new TimeInterval(encode13, decode13, rangeCallback);\n  }\n};\n\n// packages/ag-charts-community/src/util/time/millisecond.ts\nfunction encode(date) {\n  return date.getTime();\n}\nfunction decode(encoded) {\n  return new Date(encoded);\n}\nvar millisecond = new CountableTimeInterval(encode, decode);\nvar millisecond_default = millisecond;\n\n// packages/ag-charts-community/src/util/time/duration.ts\nvar epochYear = ( /* @__PURE__ */new Date(0)).getFullYear();\nvar durationSecond = 1e3;\nvar durationMinute = durationSecond * 60;\nvar durationHour = durationMinute * 60;\nvar durationDay = durationHour * 24;\nvar durationWeek = durationDay * 7;\nvar durationMonth = durationDay * 30;\nvar durationYear = durationDay * 365;\n\n// packages/ag-charts-community/src/util/time/second.ts\nvar offset = ( /* @__PURE__ */new Date()).getTimezoneOffset() * durationMinute;\nfunction encode2(date) {\n  return Math.floor((date.getTime() - offset) / durationSecond);\n}\nfunction decode2(encoded) {\n  return new Date(offset + encoded * durationSecond);\n}\nvar second = new CountableTimeInterval(encode2, decode2);\nvar second_default = second;\n\n// packages/ag-charts-community/src/util/time/minute.ts\nvar offset2 = ( /* @__PURE__ */new Date()).getTimezoneOffset() * durationMinute;\nfunction encode3(date) {\n  return Math.floor((date.getTime() - offset2) / durationMinute);\n}\nfunction decode3(encoded) {\n  return new Date(offset2 + encoded * durationMinute);\n}\nvar minute = new CountableTimeInterval(encode3, decode3);\nvar minute_default = minute;\n\n// packages/ag-charts-community/src/util/time/hour.ts\nvar offset3 = ( /* @__PURE__ */new Date()).getTimezoneOffset() * durationMinute;\nfunction encode4(date) {\n  return Math.floor((date.getTime() - offset3) / durationHour);\n}\nfunction decode4(encoded) {\n  return new Date(offset3 + encoded * durationHour);\n}\nvar hour = new CountableTimeInterval(encode4, decode4);\nvar hour_default = hour;\n\n// packages/ag-charts-community/src/util/time/day.ts\nfunction encode5(date) {\n  const tzOffsetMs = date.getTimezoneOffset() * durationMinute;\n  return Math.floor((date.getTime() - tzOffsetMs) / durationDay);\n}\nfunction decode5(encoded) {\n  const d = new Date(1970, 0, 1);\n  d.setDate(d.getDate() + encoded);\n  return d;\n}\nvar day = new CountableTimeInterval(encode5, decode5);\nvar day_default = day;\n\n// packages/ag-charts-community/src/util/time/week.ts\nfunction weekday(weekStart) {\n  const thursday2 = 4;\n  const dayShift = (7 + weekStart - thursday2) % 7;\n  function encode13(date) {\n    const tzOffsetMs = date.getTimezoneOffset() * durationMinute;\n    return Math.floor((date.getTime() - tzOffsetMs) / durationWeek - dayShift / 7);\n  }\n  function decode13(encoded) {\n    const d = new Date(1970, 0, 1);\n    d.setDate(d.getDate() + encoded * 7 + dayShift);\n    return d;\n  }\n  return new CountableTimeInterval(encode13, decode13);\n}\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar week_default = sunday;\n\n// packages/ag-charts-community/src/util/time/month.ts\nfunction encode6(date) {\n  return date.getFullYear() * 12 + date.getMonth();\n}\nfunction decode6(encoded) {\n  const year2 = Math.floor(encoded / 12);\n  const month2 = encoded - year2 * 12;\n  return new Date(year2, month2, 1);\n}\nvar month = new CountableTimeInterval(encode6, decode6);\nvar month_default = month;\n\n// packages/ag-charts-community/src/util/time/year.ts\nfunction encode7(date) {\n  return date.getFullYear();\n}\nfunction decode7(encoded) {\n  const d = /* @__PURE__ */new Date();\n  d.setFullYear(encoded);\n  d.setMonth(0, 1);\n  d.setHours(0, 0, 0, 0);\n  return d;\n}\nvar year = new CountableTimeInterval(encode7, decode7);\nvar year_default = year;\n\n// packages/ag-charts-community/src/util/time/utcMinute.ts\nfunction encode8(date) {\n  return Math.floor(date.getTime() / durationMinute);\n}\nfunction decode8(encoded) {\n  return new Date(encoded * durationMinute);\n}\nvar utcMinute = new CountableTimeInterval(encode8, decode8);\n\n// packages/ag-charts-community/src/util/time/utcHour.ts\nfunction encode9(date) {\n  return Math.floor(date.getTime() / durationHour);\n}\nfunction decode9(encoded) {\n  return new Date(encoded * durationHour);\n}\nvar utcHour = new CountableTimeInterval(encode9, decode9);\n\n// packages/ag-charts-community/src/util/time/utcDay.ts\nfunction encode10(date) {\n  return Math.floor(date.getTime() / durationDay);\n}\nfunction decode10(encoded) {\n  const d = /* @__PURE__ */new Date(0);\n  d.setUTCDate(d.getUTCDate() + encoded);\n  d.setUTCHours(0, 0, 0, 0);\n  return d;\n}\nvar utcDay = new CountableTimeInterval(encode10, decode10);\n\n// packages/ag-charts-community/src/util/time/utcMonth.ts\nfunction encode11(date) {\n  return date.getUTCFullYear() * 12 + date.getUTCMonth();\n}\nfunction decode11(encoded) {\n  const year2 = Math.floor(encoded / 12);\n  const month2 = encoded - year2 * 12;\n  return new Date(Date.UTC(year2, month2, 1));\n}\nvar utcMonth = new CountableTimeInterval(encode11, decode11);\n\n// packages/ag-charts-community/src/util/time/utcYear.ts\nfunction encode12(date) {\n  return date.getUTCFullYear();\n}\nfunction decode12(encoded) {\n  const d = /* @__PURE__ */new Date();\n  d.setUTCFullYear(encoded);\n  d.setUTCMonth(0, 1);\n  d.setUTCHours(0, 0, 0, 0);\n  return d;\n}\nvar utcYear = new CountableTimeInterval(encode12, decode12);\n\n// packages/ag-charts-community/src/module/enterpriseModule.ts\nvar enterpriseModule = {\n  isEnterprise: false\n};\n\n// packages/ag-charts-community/src/module/module.ts\nvar BaseModuleInstance = class {\n  constructor() {\n    this.destroyFns = [];\n  }\n  destroy() {\n    for (const destroyFn of this.destroyFns) {\n      destroyFn();\n    }\n  }\n};\nvar ModuleRegistry = class {\n  constructor() {\n    this.modules = [];\n    this.dependencies = /* @__PURE__ */new Set();\n    this.dependents = /* @__PURE__ */new Set();\n  }\n  register() {\n    for (var _len8 = arguments.length, modules = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      modules[_key8] = arguments[_key8];\n    }\n    for (const module of modules) {\n      this.registerDependencies(module);\n      const otherModule = this.modules.find(other => module.type === other.type && module.optionsKey === other.optionsKey && module.identifier === other.identifier);\n      if (otherModule) {\n        if (module.packageType === \"enterprise\" && otherModule.packageType === \"community\") {\n          const index = this.modules.indexOf(otherModule);\n          this.modules.splice(index, 1, module);\n        }\n      } else {\n        this.modules.push(module);\n      }\n    }\n  }\n  hasEnterpriseModules() {\n    return this.modules.some(m => m.packageType === \"enterprise\");\n  }\n  *byType() {\n    for (var _len9 = arguments.length, types = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      types[_key9] = arguments[_key9];\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && this.dependencies.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && !this.dependencies.has(module.optionsKey) && !this.dependents.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && this.dependents.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n  }\n  registerDependencies(module) {\n    if (module.dependencies == null || module.dependencies.length === 0) return;\n    if (this.dependencies.has(module.optionsKey)) {\n      throw new Error(\"Module [\".concat(module.optionsKey, \"] can not both be depended upon by any module and have dependencies of [\").concat(module.dependencies, \"].\"));\n    }\n    for (const dep of module.dependencies) {\n      if (this.dependents.has(dep)) {\n        throw new Error(\"Module [\".concat(dep, \"] can not both be depended upon by any module and have dependencies of [\").concat(module.optionsKey, \"].\"));\n      }\n      this.dependencies.add(dep);\n    }\n    this.dependents.add(module.optionsKey);\n  }\n};\nvar moduleRegistry = new ModuleRegistry();\n\n// packages/ag-charts-community/src/chart/factory/axisRegistry.ts\nvar AxisRegistry = class {\n  constructor() {\n    this.axesMap = /* @__PURE__ */new Map();\n    this.hidden = /* @__PURE__ */new Set();\n    this.themeTemplates = /* @__PURE__ */new Map();\n  }\n  register(axisType, module) {\n    this.axesMap.set(axisType, module.instanceConstructor);\n    if (module.themeTemplate) {\n      this.setThemeTemplate(axisType, module.themeTemplate);\n    }\n    if (module.hidden) {\n      this.hidden.add(axisType);\n    }\n  }\n  create(axisType, moduleContext) {\n    const AxisConstructor = this.axesMap.get(axisType);\n    if (AxisConstructor) {\n      return new AxisConstructor(moduleContext);\n    }\n    throw new Error(\"AG Charts - unknown axis type: \".concat(axisType));\n  }\n  has(axisType) {\n    return this.axesMap.has(axisType);\n  }\n  keys() {\n    return this.axesMap.keys();\n  }\n  publicKeys() {\n    return [...this.keys()].filter(k => !this.hidden.has(k));\n  }\n  setThemeTemplate(axisType, themeTemplate) {\n    this.themeTemplates.set(axisType, themeTemplate);\n    return this;\n  }\n  getThemeTemplate(axisType) {\n    return this.themeTemplates.get(axisType);\n  }\n};\nvar axisRegistry = new AxisRegistry();\n\n// packages/ag-charts-community/src/util/decorator.ts\nvar BREAK_TRANSFORM_CHAIN = Symbol(\"BREAK\");\nvar CONFIG_KEY = \"__decorator_config\";\nfunction initialiseConfig(target, propertyKeyOrSymbol) {\n  if (Object.getOwnPropertyDescriptor(target, CONFIG_KEY) == null) {\n    Object.defineProperty(target, CONFIG_KEY, {\n      value: {}\n    });\n  }\n  const config = target[CONFIG_KEY];\n  const propertyKey = propertyKeyOrSymbol.toString();\n  if (typeof config[propertyKey] !== \"undefined\") {\n    return config[propertyKey];\n  }\n  const valuesMap = /* @__PURE__ */new WeakMap();\n  config[propertyKey] = {\n    setters: [],\n    getters: [],\n    observers: [],\n    valuesMap\n  };\n  const descriptor = Object.getOwnPropertyDescriptor(target, propertyKeyOrSymbol);\n  const prevSet = descriptor == null ? void 0 : descriptor.set;\n  const prevGet = descriptor == null ? void 0 : descriptor.get;\n  const getter = function () {\n    let value = prevGet ? prevGet.call(this) : valuesMap.get(this);\n    for (const transformFn of config[propertyKey].getters) {\n      value = transformFn(this, propertyKeyOrSymbol, value);\n      if (value === BREAK_TRANSFORM_CHAIN) {\n        return;\n      }\n    }\n    return value;\n  };\n  const setter = function (value) {\n    const {\n      setters,\n      observers\n    } = config[propertyKey];\n    let oldValue;\n    if (setters.some(f => f.length > 2)) {\n      oldValue = prevGet ? prevGet.call(this) : valuesMap.get(this);\n    }\n    for (const transformFn of setters) {\n      value = transformFn(this, propertyKeyOrSymbol, value, oldValue);\n      if (value === BREAK_TRANSFORM_CHAIN) {\n        return;\n      }\n    }\n    if (prevSet) {\n      prevSet.call(this, value);\n    } else {\n      valuesMap.set(this, value);\n    }\n    for (const observerFn of observers) {\n      observerFn(this, value, oldValue);\n    }\n  };\n  Object.defineProperty(target, propertyKeyOrSymbol, {\n    set: setter,\n    get: getter,\n    enumerable: true,\n    configurable: false\n  });\n  return config[propertyKey];\n}\nfunction addTransformToInstanceProperty(setTransform, getTransform, configMetadata) {\n  return (target, propertyKeyOrSymbol) => {\n    const config = initialiseConfig(target, propertyKeyOrSymbol);\n    config.setters.push(setTransform);\n    if (getTransform) {\n      config.getters.unshift(getTransform);\n    }\n    if (configMetadata) {\n      Object.assign(config, configMetadata);\n    }\n  };\n}\nfunction addObserverToInstanceProperty(setObserver) {\n  return (target, propertyKeyOrSymbol) => {\n    initialiseConfig(target, propertyKeyOrSymbol).observers.push(setObserver);\n  };\n}\nfunction isDecoratedObject(target) {\n  return typeof target !== \"undefined\" && CONFIG_KEY in target;\n}\nfunction listDecoratedProperties(target) {\n  const targets = /* @__PURE__ */new Set();\n  while (isDecoratedObject(target)) {\n    targets.add(target == null ? void 0 : target[CONFIG_KEY]);\n    target = Object.getPrototypeOf(target);\n  }\n  return Array.from(targets).flatMap(configMap => Object.keys(configMap));\n}\nfunction extractDecoratedProperties(target) {\n  return listDecoratedProperties(target).reduce((result, key) => {\n    var _a;\n    result[key] = (_a = target[key]) != null ? _a : null;\n    return result;\n  }, {});\n}\nfunction extractDecoratedPropertyMetadata(target, propertyKeyOrSymbol) {\n  const propertyKey = propertyKeyOrSymbol.toString();\n  while (isDecoratedObject(target)) {\n    const config = target[CONFIG_KEY];\n    if (Object.hasOwn(config, propertyKey)) {\n      return config[propertyKey];\n    }\n    target = Object.getPrototypeOf(target);\n  }\n}\n\n// packages/ag-charts-community/src/util/type-guards.ts\nfunction isDefined(val) {\n  return val != null;\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\nfunction isDate(value) {\n  return value instanceof Date;\n}\nfunction isValidDate(value) {\n  return isDate(value) && !isNaN(Number(value));\n}\nfunction isRegExp(value) {\n  return value instanceof RegExp;\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null && !isArray(value);\n}\nfunction isObjectLike(value) {\n  return isArray(value) || isPlainObject(value);\n}\nfunction isPlainObject(value) {\n  return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nfunction isString(value) {\n  return typeof value === \"string\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isFiniteNumber(value) {\n  return isNumber(value) && Number.isFinite(value);\n}\nfunction isHtmlElement(value) {\n  return typeof window !== \"undefined\" && value instanceof HTMLElement;\n}\nfunction isEnumKey(enumObject, enumKey) {\n  return isString(enumKey) && Object.keys(enumObject).includes(enumKey);\n}\nfunction isEnumValue(enumObject, enumValue) {\n  return Object.values(enumObject).includes(enumValue);\n}\nfunction isSymbol(value) {\n  return typeof value === \"symbol\";\n}\n\n// packages/ag-charts-community/src/util/object.ts\nfunction deepMerge() {\n  for (var _len10 = arguments.length, sources = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n    sources[_key10] = arguments[_key10];\n  }\n  return mergeDefaults(...sources.reverse());\n}\nfunction mergeDefaults() {\n  var _a;\n  const target = {};\n  for (var _len11 = arguments.length, sources = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n    sources[_key11] = arguments[_key11];\n  }\n  for (const source of sources) {\n    if (!isObject(source)) continue;\n    const keys = isDecoratedObject(source) ? listDecoratedProperties(source) : Object.keys(source);\n    for (const key of keys) {\n      if (isPlainObject(target[key]) && isPlainObject(source[key])) {\n        target[key] = mergeDefaults(target[key], source[key]);\n      } else {\n        (_a = target[key]) != null ? _a : target[key] = source[key];\n      }\n    }\n  }\n  return target;\n}\nfunction mergeArrayDefaults(dataArray) {\n  for (var _len12 = arguments.length, itemDefaults = new Array(_len12 > 1 ? _len12 - 1 : 0), _key12 = 1; _key12 < _len12; _key12++) {\n    itemDefaults[_key12 - 1] = arguments[_key12];\n  }\n  if (itemDefaults && isArray(dataArray)) {\n    return dataArray.map(item => mergeDefaults(item, ...itemDefaults));\n  }\n  return dataArray;\n}\nfunction mapValues(object, mapper) {\n  return Object.entries(object).reduce((result, _ref) => {\n    let [key, value] = _ref;\n    result[key] = mapper(value, key, object);\n    return result;\n  }, {});\n}\nfunction without(object, keys) {\n  const clone = __spreadValues({}, object);\n  for (const key of keys) {\n    delete clone[key];\n  }\n  return clone;\n}\nfunction getPath(object, path) {\n  const pathArray = isArray(path) ? path : path.split(\".\");\n  return pathArray.reduce((value, pathKey) => value[pathKey], object);\n}\nfunction setPath(object, path, newValue) {\n  const pathArray = isArray(path) ? path.slice() : path.split(\".\");\n  const lastKey = pathArray.pop();\n  const lastObject = pathArray.reduce((value, pathKey) => value[pathKey], object);\n  lastObject[lastKey] = newValue;\n}\nfunction partialAssign(keysToCopy, target, source) {\n  if (source === void 0) {\n    return target;\n  }\n  for (const key of keysToCopy) {\n    const value = source[key];\n    if (value !== void 0) {\n      target[key] = value;\n    }\n  }\n  return target;\n}\n\n// packages/ag-charts-community/src/chart/factory/chartTypes.ts\nvar ChartTypes = class extends Map {\n  get(seriesType) {\n    var _a;\n    return (_a = super.get(seriesType)) != null ? _a : \"unknown\";\n  }\n  isCartesian(seriesType) {\n    return this.get(seriesType) === \"cartesian\";\n  }\n  isPolar(seriesType) {\n    return this.get(seriesType) === \"polar\";\n  }\n  isHierarchy(seriesType) {\n    return this.get(seriesType) === \"hierarchy\";\n  }\n  isTopology(seriesType) {\n    return this.get(seriesType) === \"topology\";\n  }\n  get seriesTypes() {\n    return Array.from(this.keys());\n  }\n  get cartesianTypes() {\n    return this.seriesTypes.filter(t => this.isCartesian(t));\n  }\n  get polarTypes() {\n    return this.seriesTypes.filter(t => this.isPolar(t));\n  }\n  get hierarchyTypes() {\n    return this.seriesTypes.filter(t => this.isHierarchy(t));\n  }\n  get topologyTypes() {\n    return this.seriesTypes.filter(t => this.isTopology(t));\n  }\n};\nvar ChartDefaults = class extends Map {\n  set(chartType2, defaults) {\n    return super.set(chartType2, mergeDefaults(defaults, this.get(chartType2)));\n  }\n};\nvar chartTypes = new ChartTypes();\nvar publicChartTypes = new ChartTypes();\nvar chartDefaults = new ChartDefaults();\n\n// packages/ag-charts-community/src/chart/factory/expectedEnterpriseModules.ts\nvar EXPECTED_ENTERPRISE_MODULES = [{\n  type: \"root\",\n  optionsKey: \"animation\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"]\n}, {\n  type: \"root\",\n  optionsKey: \"annotations\",\n  chartTypes: [\"cartesian\"]\n}, {\n  type: \"root\",\n  optionsKey: \"background\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  optionsInnerKey: \"image\"\n}, {\n  type: \"root\",\n  optionsKey: \"contextMenu\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"]\n}, {\n  type: \"root\",\n  optionsKey: \"dataSource\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"]\n}, {\n  type: \"root\",\n  optionsKey: \"sync\",\n  chartTypes: [\"cartesian\"]\n}, {\n  type: \"root\",\n  optionsKey: \"zoom\",\n  chartTypes: [\"cartesian\", \"topology\"]\n}, {\n  type: \"legend\",\n  optionsKey: \"gradientLegend\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  identifier: \"gradient\"\n}, {\n  type: \"root\",\n  optionsKey: \"navigator\",\n  chartTypes: [\"cartesian\"],\n  optionsInnerKey: \"miniChart\"\n}, {\n  type: \"axis\",\n  optionsKey: \"axes[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"angle-category\"\n}, {\n  type: \"axis\",\n  optionsKey: \"axes[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"angle-number\"\n}, {\n  type: \"axis\",\n  optionsKey: \"axes[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radius-category\"\n}, {\n  type: \"axis\",\n  optionsKey: \"axes[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radius-number\"\n}, {\n  type: \"axis\",\n  optionsKey: \"axes[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"ordinal-time\"\n}, {\n  type: \"axis-option\",\n  optionsKey: \"crosshair\",\n  chartTypes: [\"cartesian\"]\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"box-plot\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"candlestick\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"ohlc\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bullet\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"heatmap\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"range-area\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"range-bar\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"waterfall\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"nightingale\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radar-area\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radar-line\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radial-bar\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"polar\"],\n  identifier: \"radial-column\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"hierarchy\"],\n  identifier: \"sunburst\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"hierarchy\"],\n  identifier: \"treemap\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"topology\"],\n  identifier: \"map-shape\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"topology\"],\n  identifier: \"map-line\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"topology\"],\n  identifier: \"map-marker\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"topology\"],\n  identifier: \"map-shape-background\"\n}, {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  chartTypes: [\"topology\"],\n  identifier: \"map-line-background\"\n}, {\n  type: \"series-option\",\n  optionsKey: \"errorBar\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"error-bars\"\n}];\nfunction isEnterpriseSeriesType(type) {\n  return EXPECTED_ENTERPRISE_MODULES.some(s => s.type === \"series\" && s.identifier === type);\n}\nfunction getEnterpriseSeriesChartTypes(type) {\n  var _a;\n  return (_a = EXPECTED_ENTERPRISE_MODULES.find(s => s.type === \"series\" && s.identifier === type)) == null ? void 0 : _a.chartTypes;\n}\nfunction isEnterpriseCartesian(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find(v => v === \"cartesian\");\n  return type === \"cartesian\";\n}\nfunction isEnterprisePolar(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find(v => v === \"polar\");\n  return type === \"polar\";\n}\nfunction isEnterpriseHierarchy(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find(v => v === \"hierarchy\");\n  return type === \"hierarchy\";\n}\nfunction isEnterpriseTopology(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find(v => v === \"topology\");\n  return type === \"topology\";\n}\nfunction isEnterpriseModule(module) {\n  return module.packageType === \"enterprise\";\n}\nfunction verifyIfModuleExpected(module) {\n  var _a;\n  if (!isEnterpriseModule(module)) {\n    throw new Error(\"AG Charts - internal configuration error, only enterprise modules need verification.\");\n  }\n  const stub = EXPECTED_ENTERPRISE_MODULES.find(s => {\n    return s.type === module.type && s.optionsKey === module.optionsKey && s.identifier === module.identifier && module.chartTypes.every(t => s.chartTypes.includes(t));\n  });\n  if (stub) {\n    (_a = stub.useCount) != null ? _a : stub.useCount = 0;\n    stub.useCount++;\n  }\n  return stub != null;\n}\nfunction getUnusedExpectedModules() {\n  return EXPECTED_ENTERPRISE_MODULES.filter(_ref2 => {\n    let {\n      useCount\n    } = _ref2;\n    return useCount == null || useCount === 0;\n  });\n}\n\n// packages/ag-charts-community/src/chart/mapping/types.ts\nfunction optionsType(input) {\n  var _a, _b, _c;\n  return (_c = (_b = (_a = input.series) == null ? void 0 : _a[0]) == null ? void 0 : _b.type) != null ? _c : \"line\";\n}\nfunction isAgCartesianChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return true;\n  }\n  if (specifiedType === \"cartesian\") {\n    Logger.warnOnce(\"type '\".concat(specifiedType, \"' is deprecated, use a series type instead\"));\n    return true;\n  }\n  return chartTypes.isCartesian(specifiedType) || isEnterpriseCartesian(specifiedType);\n}\nfunction isAgPolarChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"polar\") {\n    Logger.warnOnce(\"type '\".concat(specifiedType, \"' is deprecated, use a series type instead\"));\n    return true;\n  }\n  return chartTypes.isPolar(specifiedType) || isEnterprisePolar(specifiedType);\n}\nfunction isAgHierarchyChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"hierarchy\") {\n    Logger.warnOnce(\"type '\".concat(specifiedType, \"' is deprecated, use a series type instead\"));\n    return true;\n  }\n  return chartTypes.isHierarchy(specifiedType) || isEnterpriseHierarchy(specifiedType);\n}\nfunction isAgTopologyChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"topology\") {\n    Logger.warnOnce(\"type '\".concat(specifiedType, \"' is deprecated, use a series type instead\"));\n    return true;\n  }\n  return chartTypes.isTopology(specifiedType) || isEnterpriseTopology(specifiedType);\n}\nfunction isAgPolarChartOptionsWithSeriesBasedLegend(input) {\n  const specifiedType = optionsType(input);\n  return isAgPolarChartOptions(input) && specifiedType !== \"pie\" && specifiedType !== \"donut\";\n}\nfunction isSeriesOptionType(input) {\n  if (input == null) {\n    return false;\n  }\n  return chartTypes.has(input);\n}\nfunction isAxisOptionType(input) {\n  if (input == null) {\n    return false;\n  }\n  return axisRegistry.has(input);\n}\n\n// packages/ag-charts-community/src/chart/factory/processEnterpriseOptions.ts\nfunction removeUsedEnterpriseOptions(options) {\n  var _a, _b, _c, _d;\n  const usedOptions = [];\n  const optionsChartType = chartTypes.get(optionsType(options));\n  for (const {\n    type,\n    chartTypes: moduleChartTypes,\n    optionsKey,\n    optionsInnerKey,\n    identifier\n  } of EXPECTED_ENTERPRISE_MODULES) {\n    if (optionsChartType !== \"unknown\" && !moduleChartTypes.includes(optionsChartType)) continue;\n    if (type === \"root\" || type === \"legend\") {\n      const optionValue = options[optionsKey];\n      if (optionValue == null) continue;\n      if (!optionsInnerKey) {\n        usedOptions.push(optionsKey);\n        delete options[optionsKey];\n      } else if (optionValue[optionsInnerKey]) {\n        usedOptions.push(\"\".concat(optionsKey, \".\").concat(optionsInnerKey));\n        delete optionValue[optionsInnerKey];\n      }\n    } else if (type === \"axis\") {\n      if (!(\"axes\" in options) || !((_a = options.axes) == null ? void 0 : _a.some(axis => axis.type === identifier))) continue;\n      usedOptions.push(\"axis[type=\".concat(identifier, \"]\"));\n      options.axes = options.axes.filter(axis => axis.type !== identifier);\n    } else if (type === \"axis-option\") {\n      if (!(\"axes\" in options) || !((_b = options.axes) == null ? void 0 : _b.some(axis => axis[optionsKey]))) continue;\n      usedOptions.push(\"axis.\".concat(optionsKey));\n      options.axes.forEach(axis => {\n        if (axis[optionsKey]) {\n          delete axis[optionsKey];\n        }\n      });\n    } else if (type === \"series\") {\n      if (!((_c = options.series) == null ? void 0 : _c.some(series => series.type === identifier))) continue;\n      usedOptions.push(\"series[type=\".concat(identifier, \"]\"));\n      options.series = options.series.filter(series => series.type !== identifier);\n    } else if (type === \"series-option\") {\n      if (!((_d = options.series) == null ? void 0 : _d.some(series => series[optionsKey]))) continue;\n      usedOptions.push(\"series.\".concat(optionsKey));\n      options.series.forEach(series => {\n        if (series[optionsKey]) {\n          delete series[optionsKey];\n        }\n      });\n    }\n  }\n  if (usedOptions.length) {\n    let enterprisePackageName = \"ag-charts-enterprise\";\n    let enterpriseReferenceUrl = \"https://charts.ag-grid.com/javascript/installation/\";\n    if (options.mode === \"integrated\") {\n      enterprisePackageName = \"ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise\";\n      enterpriseReferenceUrl = \"https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/\";\n    }\n    Logger.warnOnce([\"unable to use these enterprise features as '\".concat(enterprisePackageName, \"' has not been loaded:\"), \"\", ...usedOptions, \"\", \"See: \".concat(enterpriseReferenceUrl)].join(\"\\n\"));\n  }\n}\n\n// packages/ag-charts-community/src/util/properties.ts\nvar BaseProperties = class {\n  set(properties) {\n    const {\n      className = this.constructor.name\n    } = this.constructor;\n    if (typeof properties !== \"object\") {\n      Logger.warn(\"unable to set \".concat(className, \" - expecting a properties object\"));\n      return this;\n    }\n    const keys = new Set(Object.keys(properties));\n    for (const propertyKey of listDecoratedProperties(this)) {\n      if (keys.has(propertyKey)) {\n        const value = properties[propertyKey];\n        const self = this;\n        if (isProperties(self[propertyKey])) {\n          self[propertyKey] = self[propertyKey] instanceof PropertiesArray ? self[propertyKey].reset(value) : self[propertyKey].set(value);\n        } else {\n          self[propertyKey] = value;\n        }\n        keys.delete(propertyKey);\n      }\n    }\n    for (const unknownKey of keys) {\n      Logger.warn(\"unable to set [\".concat(unknownKey, \"] in \").concat(className, \" - property is unknown\"));\n    }\n    return this;\n  }\n  isValid() {\n    return listDecoratedProperties(this).every(propertyKey => {\n      const {\n        optional\n      } = extractDecoratedPropertyMetadata(this, propertyKey);\n      const valid = optional || typeof this[propertyKey] !== \"undefined\";\n      if (!valid) {\n        Logger.warnOnce(\"[\".concat(propertyKey, \"] is required.\"));\n      }\n      return valid;\n    });\n  }\n  toJson() {\n    return listDecoratedProperties(this).reduce((object, propertyKey) => {\n      const propertyValue = this[propertyKey];\n      object[propertyKey] = isProperties(propertyValue) ? propertyValue.toJson() : propertyValue;\n      return object;\n    }, {});\n  }\n};\nvar PropertiesArray = class _PropertiesArray extends Array {\n  constructor(itemFactory) {\n    for (var _len13 = arguments.length, properties = new Array(_len13 > 1 ? _len13 - 1 : 0), _key13 = 1; _key13 < _len13; _key13++) {\n      properties[_key13 - 1] = arguments[_key13];\n    }\n    super(properties.length);\n    Object.defineProperty(this, \"itemFactory\", {\n      value: itemFactory,\n      enumerable: false,\n      configurable: false\n    });\n    this.set(properties);\n  }\n  set(properties) {\n    if (isArray(properties)) {\n      this.length = properties.length;\n      for (let i = 0; i < properties.length; i++) {\n        this[i] = new this.itemFactory().set(properties[i]);\n      }\n    }\n    return this;\n  }\n  reset(properties) {\n    return new _PropertiesArray(this.itemFactory, ...properties);\n  }\n  toJson() {\n    return this.map(value => {\n      var _a, _b;\n      return (_b = (_a = value == null ? void 0 : value.toJson) == null ? void 0 : _a.call(value)) != null ? _b : value;\n    });\n  }\n};\nfunction isProperties(value) {\n  return value instanceof BaseProperties || value instanceof PropertiesArray;\n}\n\n// packages/ag-charts-community/src/util/json.ts\nvar CLASS_INSTANCE_TYPE = \"class-instance\";\nfunction jsonDiff(source, target, skip) {\n  if (isArray(target)) {\n    if (!isArray(source) || source.length !== target.length || target.some((v, i) => jsonDiff(source[i], v) != null)) {\n      return target;\n    }\n  } else if (isPlainObject(target)) {\n    if (!isPlainObject(source)) {\n      return target;\n    }\n    const result = {};\n    const allKeys = /* @__PURE__ */new Set([...Object.keys(source), ...Object.keys(target)]);\n    for (const key of allKeys) {\n      if (source[key] === target[key] || (skip == null ? void 0 : skip.includes(key))) {\n        continue;\n      }\n      if (typeof source[key] === typeof target[key]) {\n        const diff2 = jsonDiff(source[key], target[key]);\n        if (diff2 !== null) {\n          result[key] = diff2;\n        }\n      } else {\n        result[key] = target[key];\n      }\n    }\n    return Object.keys(result).length ? result : null;\n  } else if (source !== target) {\n    return target;\n  }\n  return null;\n}\nfunction deepClone(source, options) {\n  if (isArray(source)) {\n    return source.map(item => deepClone(item, options));\n  }\n  if (isPlainObject(source)) {\n    return mapValues(source, (value, key) => {\n      var _a;\n      return ((_a = options == null ? void 0 : options.shallow) == null ? void 0 : _a.includes(key)) ? shallowClone(value) : deepClone(value, options);\n    });\n  }\n  return shallowClone(source);\n}\nfunction shallowClone(source) {\n  if (isArray(source)) {\n    return [...source];\n  }\n  if (isPlainObject(source)) {\n    return __spreadValues({}, source);\n  }\n  if (isDate(source)) {\n    return new Date(source);\n  }\n  if (isRegExp(source)) {\n    return new RegExp(source.source, source.flags);\n  }\n  return source;\n}\nfunction jsonWalk(json, visit, opts) {\n  for (var _len14 = arguments.length, jsons = new Array(_len14 > 3 ? _len14 - 3 : 0), _key14 = 3; _key14 < _len14; _key14++) {\n    jsons[_key14 - 3] = arguments[_key14];\n  }\n  var _a;\n  if (isArray(json)) {\n    visit(json, ...jsons);\n    json.forEach((node, index) => {\n      jsonWalk(node, visit, opts, ...keyMapper(jsons, index));\n    });\n  } else if (isPlainObject(json)) {\n    visit(json, ...jsons);\n    for (const key of Object.keys(json)) {\n      if ((_a = opts == null ? void 0 : opts.skip) == null ? void 0 : _a.includes(key)) {\n        continue;\n      }\n      const value = json[key];\n      if (isArray(value) || isPlainObject(value)) {\n        jsonWalk(value, visit, opts, ...keyMapper(jsons, key));\n      }\n    }\n  }\n}\nfunction jsonApply(target, source) {\n  let params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const {\n    path,\n    constructedArrays,\n    matcherPath = path == null ? void 0 : path.replace(/(\\[[0-9+]+])/i, \"[]\"),\n    skip = []\n  } = params;\n  if (target == null) {\n    throw new Error(\"AG Charts - target is uninitialised: \".concat(path != null ? path : \"<root>\"));\n  }\n  if (source == null) {\n    return target;\n  }\n  if (isProperties(target)) {\n    return target.set(source);\n  }\n  const targetAny = target;\n  const targetType = classify(target);\n  for (const property in source) {\n    const propertyMatcherPath = \"\".concat(matcherPath ? matcherPath + \".\" : \"\").concat(property);\n    if (skip.includes(propertyMatcherPath)) continue;\n    const newValue = source[property];\n    const propertyPath = \"\".concat(path ? path + \".\" : \"\").concat(property);\n    const targetClass = targetAny.constructor;\n    const currentValue = targetAny[property];\n    let ctr;\n    try {\n      const currentValueType = classify(currentValue);\n      const newValueType = classify(newValue);\n      if (targetType === CLASS_INSTANCE_TYPE && !(property in target)) {\n        Logger.warn(\"unable to set [\".concat(propertyPath, \"] in \").concat(targetClass == null ? void 0 : targetClass.name, \" - property is unknown\"));\n        continue;\n      }\n      if (currentValueType != null && newValueType != null && newValueType !== currentValueType && (currentValueType !== CLASS_INSTANCE_TYPE || newValueType !== \"object\")) {\n        Logger.warn(\"unable to set [\".concat(propertyPath, \"] in \").concat(targetClass == null ? void 0 : targetClass.name, \" - can't apply type of [\").concat(newValueType, \"], allowed types are: [\").concat(currentValueType, \"]\"));\n        continue;\n      }\n      if (isProperties(currentValue)) {\n        targetAny[property].set(newValue);\n      } else if (newValueType === \"array\") {\n        ctr != null ? ctr : ctr = constructedArrays == null ? void 0 : constructedArrays.get(currentValue);\n        if (ctr == null) {\n          targetAny[property] = newValue;\n        } else {\n          const newValueArray = newValue;\n          targetAny[property] = newValueArray.map(v => jsonApply(new ctr(), v, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath + \"[]\"\n          })));\n        }\n      } else if (newValueType === CLASS_INSTANCE_TYPE) {\n        targetAny[property] = newValue;\n      } else if (newValueType === \"object\") {\n        if (currentValue != null) {\n          jsonApply(currentValue, newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        } else if (ctr == null) {\n          targetAny[property] = {};\n          jsonApply(targetAny[property], newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        } else {\n          targetAny[property] = jsonApply(new ctr(), newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        }\n      } else {\n        targetAny[property] = newValue;\n      }\n    } catch (error) {\n      Logger.warn(\"unable to set [\".concat(propertyPath, \"] in [\").concat(targetClass == null ? void 0 : targetClass.name, \"]; nested error is: \").concat(error.message));\n    }\n  }\n  return target;\n}\nfunction keyMapper(data, key) {\n  return data.map(dataObject => dataObject == null ? void 0 : dataObject[key]);\n}\nfunction classify(value) {\n  if (value == null) {\n    return null;\n  }\n  if (isHtmlElement(value) || isDate(value)) {\n    return \"primitive\";\n  }\n  if (isArray(value)) {\n    return \"array\";\n  }\n  if (isObject(value)) {\n    return isPlainObject(value) ? \"object\" : CLASS_INSTANCE_TYPE;\n  }\n  if (isFunction(value)) {\n    return \"function\";\n  }\n  return \"primitive\";\n}\n\n// packages/ag-charts-community/src/chart/factory/seriesRegistry.ts\nvar SeriesRegistry = class {\n  constructor() {\n    this.seriesMap = /* @__PURE__ */new Map();\n    this.themeTemplates = /* @__PURE__ */new Map();\n  }\n  register(seriesType, _ref3) {\n    let {\n      chartTypes: [chartType2],\n      instanceConstructor,\n      defaultAxes,\n      themeTemplate,\n      enterpriseThemeTemplate,\n      paletteFactory,\n      solo,\n      stackable,\n      groupable,\n      stackedByDefault,\n      swapDefaultAxesCondition,\n      hidden\n    } = _ref3;\n    this.setThemeTemplate(seriesType, themeTemplate, enterpriseThemeTemplate);\n    this.seriesMap.set(seriesType, {\n      instanceConstructor,\n      defaultAxes,\n      paletteFactory,\n      solo,\n      stackable,\n      groupable,\n      stackedByDefault,\n      swapDefaultAxesCondition\n    });\n    chartTypes.set(seriesType, chartType2);\n    if (!hidden) {\n      publicChartTypes.set(seriesType, chartType2);\n    }\n  }\n  create(seriesType, moduleContext) {\n    var _a;\n    const SeriesConstructor = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.instanceConstructor;\n    if (SeriesConstructor) {\n      return new SeriesConstructor(moduleContext);\n    }\n    throw new Error(\"AG Charts - unknown series type: \".concat(seriesType));\n  }\n  cloneDefaultAxes(seriesType) {\n    var _a;\n    const defaultAxes = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.defaultAxes;\n    return defaultAxes ? {\n      axes: deepClone(defaultAxes)\n    } : null;\n  }\n  setThemeTemplate(seriesType, themeTemplate) {\n    let enterpriseThemeTemplate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const currentTemplate = this.themeTemplates.get(seriesType);\n    this.themeTemplates.set(seriesType, {\n      community: mergeDefaults(themeTemplate, currentTemplate == null ? void 0 : currentTemplate.community),\n      enterprise: mergeDefaults(enterpriseThemeTemplate, themeTemplate, currentTemplate == null ? void 0 : currentTemplate.community)\n    });\n  }\n  getThemeTemplate(seriesType) {\n    const themeTemplate = this.themeTemplates.get(seriesType);\n    return enterpriseModule.isEnterprise ? themeTemplate == null ? void 0 : themeTemplate.enterprise : themeTemplate == null ? void 0 : themeTemplate.community;\n  }\n  getPaletteFactory(seriesType) {\n    var _a;\n    return (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.paletteFactory;\n  }\n  isSolo(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.solo) != null ? _b : false;\n  }\n  isGroupable(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.groupable) != null ? _b : false;\n  }\n  isStackable(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.stackable) != null ? _b : false;\n  }\n  isStackedByDefault(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.stackedByDefault) != null ? _b : false;\n  }\n  isDefaultAxisSwapNeeded(options) {\n    var _a, _b, _c;\n    let result;\n    for (const series of (_a = options.series) != null ? _a : []) {\n      const {\n        type = \"line\"\n      } = series;\n      const isDefaultAxisSwapped = (_c = (_b = this.seriesMap.get(type)) == null ? void 0 : _b.swapDefaultAxesCondition) == null ? void 0 : _c.call(_b, series);\n      if (isDefaultAxisSwapped != null) {\n        if (result != null && result != isDefaultAxisSwapped) {\n          throw new Error(\"AG Charts - The provided series have incompatible directions\");\n        }\n        result = isDefaultAxisSwapped;\n      }\n    }\n    return result;\n  }\n};\nvar seriesRegistry = new SeriesRegistry();\n\n// packages/ag-charts-community/src/chart/factory/legendRegistry.ts\nvar LegendRegistry = class {\n  constructor() {\n    this.legendMap = /* @__PURE__ */new Map();\n    this.themeTemplates = /* @__PURE__ */new Map();\n  }\n  register(legendType, _ref4) {\n    let {\n      optionsKey,\n      instanceConstructor,\n      themeTemplate\n    } = _ref4;\n    this.legendMap.set(legendType, {\n      optionsKey,\n      instanceConstructor\n    });\n    this.themeTemplates.set(optionsKey, themeTemplate);\n  }\n  create(legendType, moduleContext) {\n    var _a;\n    const LegendConstructor = (_a = this.legendMap.get(legendType)) == null ? void 0 : _a.instanceConstructor;\n    if (LegendConstructor) {\n      return new LegendConstructor(moduleContext);\n    }\n    throw new Error(\"AG Charts - unknown legend type: \".concat(legendType));\n  }\n  getThemeTemplates() {\n    return Object.fromEntries(this.themeTemplates);\n  }\n  getKeys() {\n    return Array.from(this.legendMap.entries()).reduce((result, _ref5) => {\n      let [legendType, record] = _ref5;\n      result[legendType] = record.optionsKey;\n      return result;\n    }, {});\n  }\n};\nvar legendRegistry = new LegendRegistry();\n\n// packages/ag-charts-community/src/chart/themes/constants.ts\nvar FONT_SIZE = /* @__PURE__ */(FONT_SIZE2 => {\n  FONT_SIZE2[FONT_SIZE2[\"SMALL\"] = 12] = \"SMALL\";\n  FONT_SIZE2[FONT_SIZE2[\"MEDIUM\"] = 13] = \"MEDIUM\";\n  FONT_SIZE2[FONT_SIZE2[\"LARGE\"] = 17] = \"LARGE\";\n  return FONT_SIZE2;\n})(FONT_SIZE || {});\nvar FONT_WEIGHT = /* @__PURE__ */(FONT_WEIGHT3 => {\n  FONT_WEIGHT3[\"NORMAL\"] = \"normal\";\n  FONT_WEIGHT3[\"BOLD\"] = \"bold\";\n  FONT_WEIGHT3[\"BOLDER\"] = \"bolder\";\n  FONT_WEIGHT3[\"LIGHTER\"] = \"lighter\";\n  return FONT_WEIGHT3;\n})(FONT_WEIGHT || {});\nvar POSITION = /* @__PURE__ */(POSITION3 => {\n  POSITION3[\"TOP\"] = \"top\";\n  POSITION3[\"RIGHT\"] = \"right\";\n  POSITION3[\"BOTTOM\"] = \"bottom\";\n  POSITION3[\"LEFT\"] = \"left\";\n  return POSITION3;\n})(POSITION || {});\nvar CARTESIAN_AXIS_TYPE = /* @__PURE__ */(CARTESIAN_AXIS_TYPE2 => {\n  CARTESIAN_AXIS_TYPE2[\"CATEGORY\"] = \"category\";\n  CARTESIAN_AXIS_TYPE2[\"ORDINAL_TIME\"] = \"ordinal-time\";\n  CARTESIAN_AXIS_TYPE2[\"NUMBER\"] = \"number\";\n  CARTESIAN_AXIS_TYPE2[\"TIME\"] = \"time\";\n  CARTESIAN_AXIS_TYPE2[\"LOG\"] = \"log\";\n  return CARTESIAN_AXIS_TYPE2;\n})(CARTESIAN_AXIS_TYPE || {});\nvar POLAR_AXIS_TYPE = /* @__PURE__ */(POLAR_AXIS_TYPE2 => {\n  POLAR_AXIS_TYPE2[\"ANGLE_CATEGORY\"] = \"angle-category\";\n  POLAR_AXIS_TYPE2[\"ANGLE_NUMBER\"] = \"angle-number\";\n  POLAR_AXIS_TYPE2[\"RADIUS_CATEGORY\"] = \"radius-category\";\n  POLAR_AXIS_TYPE2[\"RADIUS_NUMBER\"] = \"radius-number\";\n  return POLAR_AXIS_TYPE2;\n})(POLAR_AXIS_TYPE || {});\nvar POLAR_AXIS_SHAPE = /* @__PURE__ */(POLAR_AXIS_SHAPE2 => {\n  POLAR_AXIS_SHAPE2[\"CIRCLE\"] = \"circle\";\n  POLAR_AXIS_SHAPE2[\"POLYGON\"] = \"polygon\";\n  return POLAR_AXIS_SHAPE2;\n})(POLAR_AXIS_SHAPE || {});\n\n// packages/ag-charts-community/src/chart/themes/defaultColors.ts\nvar DEFAULT_FILLS = {\n  BLUE: \"#5090dc\",\n  ORANGE: \"#ffa03a\",\n  GREEN: \"#459d55\",\n  CYAN: \"#34bfe1\",\n  YELLOW: \"#e1cc00\",\n  VIOLET: \"#9669cb\",\n  GRAY: \"#b5b5b5\",\n  MAGENTA: \"#bd5aa7\",\n  BROWN: \"#8a6224\",\n  RED: \"#ef5452\"\n};\nvar DEFAULT_STROKES = {\n  BLUE: \"#2b5c95\",\n  ORANGE: \"#cc6f10\",\n  GREEN: \"#1e652e\",\n  CYAN: \"#18859e\",\n  YELLOW: \"#a69400\",\n  VIOLET: \"#603c88\",\n  GRAY: \"#575757\",\n  MAGENTA: \"#7d2f6d\",\n  BROWN: \"#4f3508\",\n  RED: \"#a82529\"\n};\n\n// packages/ag-charts-community/src/chart/themes/symbols.ts\nvar IS_DARK_THEME = Symbol(\"is-dark-theme\");\nvar EXTENDS_AXES_DEFAULTS = Symbol(\"extends-axes-defaults\");\nvar EXTENDS_AXES_LINE_DEFAULTS = Symbol(\"extends-axes-line-defaults\");\nvar EXTENDS_AXES_TICK_DEFAULTS = Symbol(\"extends-axes-tick-defaults\");\nvar EXTENDS_AXES_GRID_LINE_DEFAULTS = Symbol(\"extends-axes-grid-line-defaults\");\nvar EXTENDS_SERIES_DEFAULTS = Symbol(\"extends-series-defaults\");\nvar EXTENDS_CARTESIAN_MARKER_DEFAULTS = Symbol(\"extends-cartesian-marker-defaults\");\nvar DEFAULT_FONT_FAMILY = Symbol(\"default-font\");\nvar DEFAULT_LABEL_COLOUR = Symbol(\"default-label-colour\");\nvar DEFAULT_INVERTED_LABEL_COLOUR = Symbol(\"default-inverted-label-colour\");\nvar DEFAULT_INSIDE_SERIES_LABEL_COLOUR = Symbol(\"default-inside-series-label-colour\");\nvar DEFAULT_MUTED_LABEL_COLOUR = Symbol(\"default-muted-label-colour\");\nvar DEFAULT_AXIS_GRID_COLOUR = Symbol(\"default-axis-grid-colour\");\nvar DEFAULT_AXIS_LINE_COLOUR = Symbol(\"default-axis-line-colour\");\nvar DEFAULT_CROSS_LINES_COLOUR = Symbol(\"default-cross-lines-colour\");\nvar DEFAULT_BACKGROUND_COLOUR = Symbol(\"default-background-colour\");\nvar DEFAULT_SHADOW_COLOUR = Symbol(\"default-shadow-colour\");\nvar DEFAULT_COLOURS = Symbol(\"default-colours\");\nvar DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS = Symbol(\"default-waterfall-series-positive-colors\");\nvar DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS = Symbol(\"default-waterfall-series-negative-colors\");\nvar DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS = Symbol(\"default-waterfall-series-total-colors\");\nvar DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE = Symbol(\"default-waterfall-series-connector-line-stroke\");\nvar DEFAULT_POLAR_SERIES_STROKE = Symbol(\"default-polar-series-stroke\");\nvar DEFAULT_DIVERGING_SERIES_COLOUR_RANGE = Symbol(\"default-diverging-series-colour-range\");\nvar DEFAULT_HIERARCHY_FILLS = Symbol(\"default-hierarchy-fills\");\nvar DEFAULT_HIERARCHY_STROKES = Symbol(\"default-hierarchy-strokes\");\nvar DEFAULT_ANNOTATION_STROKE = Symbol(\"default-annotation-stroke\");\nvar DEFAULT_ANNOTATION_BACKGROUND_FILL = Symbol(\"default-annotation-background-fill\");\nvar DEFAULT_ANNOTATION_HANDLE_FILL = Symbol(\"default-annotation-handle-fill\");\n\n// packages/ag-charts-community/src/chart/themes/chartTheme.ts\nvar DEFAULT_BACKGROUND_FILL = \"white\";\nvar DEFAULT_PALETTE = {\n  fills: Object.values(DEFAULT_FILLS),\n  strokes: Object.values(DEFAULT_STROKES)\n};\nvar CHART_TYPE_CONFIG = {\n  get cartesian() {\n    return {\n      seriesTypes: chartTypes.cartesianTypes,\n      commonOptions: [\"zoom\", \"navigator\"]\n    };\n  },\n  get polar() {\n    return {\n      seriesTypes: chartTypes.polarTypes,\n      commonOptions: []\n    };\n  },\n  get hierarchy() {\n    return {\n      seriesTypes: chartTypes.hierarchyTypes,\n      commonOptions: []\n    };\n  },\n  get topology() {\n    return {\n      seriesTypes: chartTypes.topologyTypes,\n      commonOptions: []\n    };\n  }\n};\nvar CHART_TYPE_SPECIFIC_COMMON_OPTIONS = Object.values(CHART_TYPE_CONFIG).reduce((r, _ref6) => {\n  let {\n    commonOptions\n  } = _ref6;\n  return r.concat(commonOptions);\n}, []);\nvar _ChartTheme = class _ChartTheme {\n  getPalette() {\n    return DEFAULT_PALETTE;\n  }\n  static getAxisDefaults(overrideDefaults) {\n    return mergeDefaults(overrideDefaults, {\n      title: {\n        enabled: false,\n        text: \"Axis Title\",\n        spacing: 25,\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      },\n      label: {\n        fontSize: 12 /* SMALL */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        padding: 5,\n        color: DEFAULT_LABEL_COLOUR,\n        avoidCollisions: true\n      },\n      line: {\n        enabled: true,\n        width: 1,\n        color: DEFAULT_AXIS_LINE_COLOUR\n      },\n      tick: {\n        enabled: false,\n        width: 1,\n        color: DEFAULT_AXIS_LINE_COLOUR\n      },\n      gridLine: {\n        enabled: true,\n        style: [{\n          stroke: DEFAULT_AXIS_GRID_COLOUR,\n          lineDash: []\n        }]\n      },\n      crossLines: {\n        enabled: false,\n        fill: DEFAULT_CROSS_LINES_COLOUR,\n        stroke: DEFAULT_CROSS_LINES_COLOUR,\n        fillOpacity: 0.1,\n        strokeWidth: 1,\n        label: {\n          enabled: false,\n          fontSize: 12 /* SMALL */,\n          fontFamily: DEFAULT_FONT_FAMILY,\n          padding: 5,\n          color: DEFAULT_LABEL_COLOUR\n        }\n      }\n    });\n  }\n  static getSeriesDefaults() {\n    return {\n      visible: true,\n      showInLegend: true,\n      highlightStyle: {\n        item: {\n          fill: \"#ffffff54\",\n          stroke: \"#0006\",\n          strokeWidth: 2\n        },\n        series: {\n          dimOpacity: 1\n        }\n      },\n      nodeClickRange: \"exact\",\n      tooltip: {\n        enabled: true\n      }\n    };\n  }\n  static getCartesianSeriesMarkerDefaults() {\n    return {\n      enabled: true,\n      shape: \"circle\",\n      size: 7,\n      strokeWidth: 1\n    };\n  }\n  static getChartDefaults() {\n    return {\n      background: {\n        visible: true,\n        fill: DEFAULT_BACKGROUND_COLOUR\n      },\n      padding: {\n        top: 20,\n        right: 20,\n        bottom: 20,\n        left: 20\n      },\n      keyboard: {\n        enabled: true\n      },\n      title: {\n        enabled: false,\n        text: \"Title\",\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 17 /* LARGE */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR,\n        wrapping: \"hyphenate\"\n      },\n      subtitle: {\n        enabled: false,\n        text: \"Subtitle\",\n        spacing: 20,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_MUTED_LABEL_COLOUR,\n        wrapping: \"hyphenate\"\n      },\n      footnote: {\n        enabled: false,\n        text: \"Footnote\",\n        spacing: 20,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: \"rgb(140, 140, 140)\",\n        wrapping: \"hyphenate\"\n      },\n      legend: {\n        position: \"bottom\" /* BOTTOM */,\n        spacing: 30,\n        listeners: {},\n        item: {\n          paddingX: 16,\n          paddingY: 8,\n          marker: {\n            size: 15,\n            padding: 8\n          },\n          toggleSeriesVisible: true,\n          label: {\n            color: DEFAULT_LABEL_COLOUR,\n            fontSize: 12 /* SMALL */,\n            fontFamily: DEFAULT_FONT_FAMILY\n          }\n        },\n        reverseOrder: false,\n        pagination: {\n          marker: {\n            size: 12\n          },\n          activeStyle: {\n            fill: DEFAULT_LABEL_COLOUR\n          },\n          inactiveStyle: {\n            fill: DEFAULT_MUTED_LABEL_COLOUR\n          },\n          highlightStyle: {\n            fill: DEFAULT_LABEL_COLOUR\n          },\n          label: {\n            color: DEFAULT_LABEL_COLOUR\n          }\n        }\n      },\n      tooltip: {\n        enabled: true,\n        darkTheme: IS_DARK_THEME,\n        range: \"nearest\",\n        delay: 0\n      },\n      overlays: {\n        loading: {\n          darkTheme: IS_DARK_THEME\n        },\n        noData: {\n          darkTheme: IS_DARK_THEME\n        },\n        noVisibleSeries: {\n          darkTheme: IS_DARK_THEME\n        }\n      },\n      listeners: {}\n    };\n  }\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      overrides,\n      palette: palette10\n    } = deepClone(options);\n    const defaults = this.createChartConfigPerChartType(this.getDefaults());\n    if (overrides) {\n      this.mergeOverrides(defaults, overrides);\n    }\n    this.config = Object.freeze(this.templateTheme(defaults));\n    this.palette = mergeDefaults(palette10, this.getPalette());\n  }\n  mergeOverrides(defaults, overrides) {\n    for (const {\n      seriesTypes,\n      commonOptions\n    } of Object.values(CHART_TYPE_CONFIG)) {\n      const cleanedCommon = __spreadValues({}, overrides.common);\n      for (const commonKey of CHART_TYPE_SPECIFIC_COMMON_OPTIONS) {\n        if (!commonOptions.includes(commonKey)) {\n          delete cleanedCommon[commonKey];\n        }\n      }\n      if (!cleanedCommon) continue;\n      for (const s of seriesTypes) {\n        const seriesType = s;\n        defaults[seriesType] = mergeDefaults(cleanedCommon, defaults[seriesType]);\n      }\n    }\n    chartTypes.seriesTypes.forEach(s => {\n      const seriesType = s;\n      if (overrides[seriesType]) {\n        defaults[seriesType] = mergeDefaults(overrides[seriesType], defaults[seriesType]);\n      }\n    });\n  }\n  createChartConfigPerChartType(config) {\n    for (const [nextType, {\n      seriesTypes\n    }] of Object.entries(CHART_TYPE_CONFIG)) {\n      const typeDefaults = chartDefaults.get(nextType);\n      for (const seriesType of seriesTypes) {\n        config[seriesType] || (config[seriesType] = deepClone(typeDefaults));\n      }\n    }\n    return config;\n  }\n  getDefaults() {\n    const getOverridesByType = (chartType2, seriesTypes) => {\n      var _a;\n      const result = {};\n      const chartTypeDefaults = __spreadValues(__spreadValues(__spreadValues({\n        axes: {}\n      }, legendRegistry.getThemeTemplates()), _ChartTheme.getChartDefaults()), chartDefaults.get(chartType2));\n      for (const seriesType of seriesTypes) {\n        result[seriesType] = mergeDefaults(seriesRegistry.getThemeTemplate(seriesType), (_a = result[seriesType]) != null ? _a : deepClone(chartTypeDefaults));\n        const {\n          axes\n        } = result[seriesType];\n        for (const axisType of axisRegistry.keys()) {\n          axes[axisType] = mergeDefaults(axes[axisType], axisRegistry.getThemeTemplate(axisType), chartType2 === \"cartesian\" && _ChartTheme.cartesianAxisDefault[axisType]);\n        }\n      }\n      return result;\n    };\n    return mergeDefaults(getOverridesByType(\"cartesian\", chartTypes.cartesianTypes), getOverridesByType(\"polar\", chartTypes.polarTypes), getOverridesByType(\"hierarchy\", chartTypes.hierarchyTypes), getOverridesByType(\"topology\", chartTypes.topologyTypes));\n  }\n  templateTheme(themeTemplate) {\n    const themeInstance = deepClone(themeTemplate);\n    const {\n      extensions,\n      properties\n    } = this.getTemplateParameters();\n    jsonWalk(themeInstance, node => {\n      if (node[\"__extends__\"]) {\n        const extendsValue = node[\"__extends__\"];\n        const source = extensions.get(extendsValue);\n        if (source == null) {\n          throw new Error(\"AG Charts - no template variable provided for: \".concat(extendsValue));\n        }\n        Object.keys(source).forEach(key => {\n          if (!(key in node)) {\n            node[key] = source[key];\n          } else if (isObject(node[key])) {\n            node[key] = mergeDefaults(node[key], source[key]);\n          }\n        });\n        delete node[\"__extends__\"];\n      }\n      if (isArray(node)) {\n        for (let i = 0; i < node.length; i++) {\n          const symbol = node[i];\n          if (properties.has(symbol)) {\n            node[i] = properties.get(symbol);\n          }\n        }\n      } else {\n        for (const [name, value] of Object.entries(node)) {\n          if (properties.has(value)) {\n            node[name] = properties.get(value);\n          }\n        }\n      }\n    });\n    return deepClone(themeInstance);\n  }\n  static getDefaultColors() {\n    return {\n      fills: DEFAULT_FILLS,\n      strokes: DEFAULT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: DEFAULT_FILLS.BLUE,\n      stroke: DEFAULT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: DEFAULT_FILLS.ORANGE,\n      stroke: DEFAULT_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: DEFAULT_FILLS.GRAY,\n      stroke: DEFAULT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const extensions = /* @__PURE__ */new Map();\n    extensions.set(EXTENDS_AXES_DEFAULTS, _ChartTheme.getAxisDefaults());\n    extensions.set(EXTENDS_AXES_LINE_DEFAULTS, _ChartTheme.getAxisDefaults().line);\n    extensions.set(EXTENDS_AXES_TICK_DEFAULTS, _ChartTheme.getAxisDefaults().tick);\n    extensions.set(EXTENDS_AXES_GRID_LINE_DEFAULTS, _ChartTheme.getAxisDefaults().gridLine);\n    extensions.set(EXTENDS_SERIES_DEFAULTS, _ChartTheme.getSeriesDefaults());\n    extensions.set(EXTENDS_CARTESIAN_MARKER_DEFAULTS, _ChartTheme.getCartesianSeriesMarkerDefaults());\n    const properties = /* @__PURE__ */new Map();\n    properties.set(IS_DARK_THEME, false);\n    properties.set(DEFAULT_FONT_FAMILY, \"Verdana, sans-serif\");\n    properties.set(DEFAULT_LABEL_COLOUR, \"rgb(70, 70, 70)\");\n    properties.set(DEFAULT_INVERTED_LABEL_COLOUR, \"white\");\n    properties.set(DEFAULT_MUTED_LABEL_COLOUR, \"rgb(140, 140, 140)\");\n    properties.set(DEFAULT_AXIS_GRID_COLOUR, \"rgb(224,234,241)\");\n    properties.set(DEFAULT_AXIS_LINE_COLOUR, \"rgb(195, 195, 195)\");\n    properties.set(DEFAULT_CROSS_LINES_COLOUR, \"rgb(70, 70, 70)\");\n    properties.set(DEFAULT_INSIDE_SERIES_LABEL_COLOUR, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_BACKGROUND_COLOUR, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_SHADOW_COLOUR, \"rgba(0, 0, 0, 0.5)\");\n    properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [DEFAULT_FILLS.ORANGE, DEFAULT_FILLS.YELLOW, DEFAULT_FILLS.GREEN]);\n    properties.set(DEFAULT_HIERARCHY_FILLS, [\"#ffffff\", \"#e0e5ea\", \"#c1ccd5\", \"#a3b4c1\", \"#859cad\"]);\n    properties.set(DEFAULT_HIERARCHY_STROKES, [\"#ffffff\", \"#c5cbd1\", \"#a4b1bd\", \"#8498a9\", \"#648096\"]);\n    properties.set(DEFAULT_POLAR_SERIES_STROKE, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_COLOURS, _ChartTheme.getDefaultColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _ChartTheme.getWaterfallSeriesDefaultPositiveColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _ChartTheme.getWaterfallSeriesDefaultNegativeColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _ChartTheme.getWaterfallSeriesDefaultTotalColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _ChartTheme.getWaterfallSeriesDefaultTotalColors().stroke);\n    properties.set(DEFAULT_ANNOTATION_STROKE, DEFAULT_STROKES.BLUE);\n    properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, DEFAULT_FILLS.BLUE);\n    properties.set(DEFAULT_ANNOTATION_HANDLE_FILL, DEFAULT_BACKGROUND_FILL);\n    return {\n      extensions,\n      properties\n    };\n  }\n};\n_ChartTheme.cartesianAxisDefault = {\n  [\"number\" /* NUMBER */]: _ChartTheme.getAxisDefaults({\n    line: {\n      enabled: false\n    }\n  }),\n  [\"log\" /* LOG */]: _ChartTheme.getAxisDefaults({\n    base: 10,\n    line: {\n      enabled: false\n    }\n  }),\n  [\"category\" /* CATEGORY */]: _ChartTheme.getAxisDefaults({\n    groupPaddingInner: 0.1,\n    label: {\n      autoRotate: true\n    },\n    gridLine: {\n      enabled: false\n    }\n  }),\n  [\"time\" /* TIME */]: _ChartTheme.getAxisDefaults({\n    gridLine: {\n      enabled: false\n    }\n  }),\n  \"grouped-category\": _ChartTheme.getAxisDefaults()\n};\nvar ChartTheme = _ChartTheme;\n\n// packages/ag-charts-community/src/chart/themes/darkTheme.ts\nvar DEFAULT_DARK_BACKGROUND_FILL = \"#192232\";\nvar DEFAULT_DARK_FILLS = {\n  BLUE: \"#5090dc\",\n  ORANGE: \"#ffa03a\",\n  GREEN: \"#459d55\",\n  CYAN: \"#34bfe1\",\n  YELLOW: \"#e1cc00\",\n  VIOLET: \"#9669cb\",\n  GRAY: \"#b5b5b5\",\n  MAGENTA: \"#bd5aa7\",\n  BROWN: \"#8a6224\",\n  RED: \"#ef5452\"\n};\nvar DEFAULT_DARK_STROKES = {\n  BLUE: \"#74a8e6\",\n  ORANGE: \"#ffbe70\",\n  GREEN: \"#6cb176\",\n  CYAN: \"#75d4ef\",\n  YELLOW: \"#f6e559\",\n  VIOLET: \"#aa86d8\",\n  GRAY: \"#a1a1a1\",\n  MAGENTA: \"#ce7ab9\",\n  BROWN: \"#997b52\",\n  RED: \"#ff7872\"\n};\nvar palette = {\n  fills: Object.values(DEFAULT_DARK_FILLS),\n  strokes: Object.values(DEFAULT_DARK_STROKES)\n};\nvar DarkTheme = class _DarkTheme extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: DEFAULT_DARK_FILLS,\n      strokes: DEFAULT_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.BLUE,\n      stroke: DEFAULT_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.ORANGE,\n      stroke: DEFAULT_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.GRAY,\n      stroke: DEFAULT_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(IS_DARK_THEME, true);\n    result.properties.set(DEFAULT_COLOURS, _DarkTheme.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _DarkTheme.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _DarkTheme.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _DarkTheme.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _DarkTheme.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_POLAR_SERIES_STROKE, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_LABEL_COLOUR, \"white\");\n    result.properties.set(DEFAULT_MUTED_LABEL_COLOUR, \"#7D91A0\");\n    result.properties.set(DEFAULT_AXIS_GRID_COLOUR, \"#545A6E\");\n    result.properties.set(DEFAULT_CROSS_LINES_COLOUR, \"white\");\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [DEFAULT_DARK_FILLS.ORANGE, DEFAULT_DARK_FILLS.YELLOW, DEFAULT_DARK_FILLS.GREEN]);\n    result.properties.set(DEFAULT_HIERARCHY_FILLS, [\"#192834\", \"#253746\", \"#324859\", \"#3f596c\", \"#4d6a80\"]);\n    result.properties.set(DEFAULT_HIERARCHY_STROKES, [\"#192834\", \"#3b5164\", \"#496275\", \"#577287\", \"#668399\"]);\n    result.properties.set(DEFAULT_BACKGROUND_COLOUR, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_INSIDE_SERIES_LABEL_COLOUR, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, DEFAULT_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, DEFAULT_DARK_FILLS.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_HANDLE_FILL, DEFAULT_DARK_BACKGROUND_FILL);\n    return result;\n  }\n  getPalette() {\n    return palette;\n  }\n  constructor(options) {\n    super(options);\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/materialDark.ts\nvar MATERIAL_DARK_FILLS = {\n  BLUE: \"#2196F3\",\n  ORANGE: \"#FF9800\",\n  GREEN: \"#4CAF50\",\n  CYAN: \"#00BCD4\",\n  YELLOW: \"#FFEB3B\",\n  VIOLET: \"#7E57C2\",\n  GRAY: \"#9E9E9E\",\n  MAGENTA: \"#F06292\",\n  BROWN: \"#795548\",\n  RED: \"#F44336\"\n};\nvar MATERIAL_DARK_STROKES = {\n  BLUE: \"#90CAF9\",\n  ORANGE: \"#FFCC80\",\n  GREEN: \"#A5D6A7\",\n  CYAN: \"#80DEEA\",\n  YELLOW: \"#FFF9C4\",\n  VIOLET: \"#B39DDB\",\n  GRAY: \"#E0E0E0\",\n  MAGENTA: \"#F48FB1\",\n  BROWN: \"#A1887F\",\n  RED: \"#EF9A9A\"\n};\nvar palette2 = {\n  fills: Object.values(MATERIAL_DARK_FILLS),\n  strokes: Object.values(MATERIAL_DARK_STROKES)\n};\nvar MaterialDark = class _MaterialDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: MATERIAL_DARK_FILLS,\n      strokes: MATERIAL_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.BLUE,\n      stroke: MATERIAL_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.RED,\n      stroke: MATERIAL_DARK_STROKES.RED,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.GRAY,\n      stroke: MATERIAL_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _MaterialDark.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _MaterialDark.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _MaterialDark.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _MaterialDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [MATERIAL_DARK_FILLS.ORANGE, MATERIAL_DARK_FILLS.YELLOW, MATERIAL_DARK_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _MaterialDark.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, MATERIAL_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, MATERIAL_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette2;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/materialLight.ts\nvar MATERIAL_LIGHT_FILLS = {\n  BLUE: \"#2196F3\",\n  ORANGE: \"#FF9800\",\n  GREEN: \"#4CAF50\",\n  CYAN: \"#00BCD4\",\n  YELLOW: \"#FFEB3B\",\n  VIOLET: \"#7E57C2\",\n  GRAY: \"#9E9E9E\",\n  MAGENTA: \"#F06292\",\n  BROWN: \"#795548\",\n  RED: \"#F44336\"\n};\nvar MATERIAL_LIGHT_STROKES = {\n  BLUE: \"#1565C0\",\n  ORANGE: \"#E65100\",\n  GREEN: \"#2E7D32\",\n  CYAN: \"#00838F\",\n  YELLOW: \"#F9A825\",\n  VIOLET: \"#4527A0\",\n  GRAY: \"#616161\",\n  MAGENTA: \"#C2185B\",\n  BROWN: \"#4E342E\",\n  RED: \"#B71C1C\"\n};\nvar palette3 = {\n  fills: Object.values(MATERIAL_LIGHT_FILLS),\n  strokes: Object.values(MATERIAL_LIGHT_STROKES)\n};\nvar MaterialLight = class _MaterialLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: MATERIAL_LIGHT_FILLS,\n      strokes: MATERIAL_LIGHT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.BLUE,\n      stroke: MATERIAL_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.RED,\n      stroke: MATERIAL_LIGHT_STROKES.RED,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.GRAY,\n      stroke: MATERIAL_LIGHT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _MaterialLight.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _MaterialLight.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _MaterialLight.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _MaterialLight.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [MATERIAL_LIGHT_FILLS.ORANGE, MATERIAL_LIGHT_FILLS.YELLOW, MATERIAL_LIGHT_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _MaterialLight.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, MATERIAL_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, MATERIAL_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette3;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/polychromaDark.ts\nvar POLYCHROMA_DARK_FILLS = {\n  BLUE: \"#436ff4\",\n  PURPLE: \"#9a7bff\",\n  MAGENTA: \"#d165d2\",\n  PINK: \"#f0598b\",\n  RED: \"#f47348\",\n  ORANGE: \"#f2a602\",\n  YELLOW: \"#e9e201\",\n  GREEN: \"#21b448\",\n  CYAN: \"#00b9a2\",\n  MODERATE_BLUE: \"#00aee4\"\n};\nvar POLYCHROMA_DARK_STROKES = {\n  BLUE: \"#6698ff\",\n  PURPLE: \"#c0a3ff\",\n  MAGENTA: \"#fc8dfc\",\n  PINK: \"#ff82b1\",\n  RED: \"#ff9b70\",\n  ORANGE: \"#ffcf4e\",\n  YELLOW: \"#ffff58\",\n  GREEN: \"#58dd70\",\n  CYAN: \"#51e2c9\",\n  MODERATE_BLUE: \"#4fd7ff\"\n};\nvar POLYCHROMA_DARK_FILL_GRAY = \"#bbbbbb\";\nvar POLYCHROMA_DARK_STROKE_GRAY = \"#eeeeee\";\nvar palette4 = {\n  fills: Object.values(POLYCHROMA_DARK_FILLS),\n  strokes: Object.values(POLYCHROMA_DARK_STROKES)\n};\nvar PolychromaDark = class _PolychromaDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: POLYCHROMA_DARK_FILLS,\n      strokes: POLYCHROMA_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILLS.BLUE,\n      stroke: POLYCHROMA_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILLS.RED,\n      stroke: POLYCHROMA_DARK_STROKES.RED,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILL_GRAY,\n      stroke: POLYCHROMA_DARK_STROKE_GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _PolychromaDark.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _PolychromaDark.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _PolychromaDark.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _PolychromaDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [POLYCHROMA_DARK_FILLS.BLUE, POLYCHROMA_DARK_FILLS.RED]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _PolychromaDark.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, POLYCHROMA_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, POLYCHROMA_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette4;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/polychromaLight.ts\nvar POLYCHROMA_LIGHT_FILLS = {\n  BLUE: \"#436ff4\",\n  PURPLE: \"#9a7bff\",\n  MAGENTA: \"#d165d2\",\n  PINK: \"#f0598b\",\n  RED: \"#f47348\",\n  ORANGE: \"#f2a602\",\n  YELLOW: \"#e9e201\",\n  GREEN: \"#21b448\",\n  CYAN: \"#00b9a2\",\n  MODERATE_BLUE: \"#00aee4\"\n};\nvar POLYCHROMA_LIGHT_STROKES = {\n  BLUE: \"#2346c9\",\n  PURPLE: \"#7653d4\",\n  MAGENTA: \"#a73da9\",\n  PINK: \"#c32d66\",\n  RED: \"#c84b1c\",\n  ORANGE: \"#c87f00\",\n  YELLOW: \"#c1b900\",\n  GREEN: \"#008c1c\",\n  CYAN: \"#00927c\",\n  MODERATE_BLUE: \"#0087bb\"\n};\nvar POLYCHROMA_LIGHT_FILL_GRAY = \"#bbbbbb\";\nvar POLYCHROMA_LIGHT_STROKE_GRAY = \"#888888\";\nvar palette5 = {\n  fills: Object.values(POLYCHROMA_LIGHT_FILLS),\n  strokes: Object.values(POLYCHROMA_LIGHT_STROKES)\n};\nvar PolychromaLight = class _PolychromaLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: POLYCHROMA_LIGHT_FILLS,\n      strokes: POLYCHROMA_LIGHT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILLS.BLUE,\n      stroke: POLYCHROMA_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILLS.RED,\n      stroke: POLYCHROMA_LIGHT_STROKES.RED,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILL_GRAY,\n      stroke: POLYCHROMA_LIGHT_STROKE_GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _PolychromaLight.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _PolychromaLight.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _PolychromaLight.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _PolychromaLight.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [POLYCHROMA_LIGHT_FILLS.BLUE, POLYCHROMA_LIGHT_FILLS.RED]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _PolychromaLight.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, POLYCHROMA_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, POLYCHROMA_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette5;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/sheetsDark.ts\nvar SHEETS_DARK_FILLS = {\n  BLUE: \"#4472C4\",\n  ORANGE: \"#ED7D31\",\n  GRAY: \"#A5A5A5\",\n  YELLOW: \"#FFC000\",\n  MODERATE_BLUE: \"#5B9BD5\",\n  GREEN: \"#70AD47\",\n  DARK_GRAY: \"#7B7B7B\",\n  DARK_BLUE: \"#264478\",\n  VERY_DARK_GRAY: \"#636363\",\n  DARK_YELLOW: \"#997300\"\n};\nvar SHEETS_DARK_STROKES = {\n  BLUE: \"#6899ee\",\n  ORANGE: \"#ffa55d\",\n  GRAY: \"#cdcdcd\",\n  YELLOW: \"#ffea53\",\n  MODERATE_BLUE: \"#82c3ff\",\n  GREEN: \"#96d56f\",\n  DARK_GRAY: \"#a1a1a1\",\n  DARK_BLUE: \"#47689f\",\n  VERY_DARK_GRAY: \"#878787\",\n  DARK_YELLOW: \"#c0993d\"\n};\nvar palette6 = {\n  fills: Object.values(SHEETS_DARK_FILLS),\n  strokes: Object.values(SHEETS_DARK_STROKES)\n};\nvar SheetsDark = class _SheetsDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: __spreadProps(__spreadValues({}, SHEETS_DARK_FILLS), {\n        RED: SHEETS_DARK_FILLS.ORANGE\n      }),\n      strokes: __spreadProps(__spreadValues({}, SHEETS_DARK_STROKES), {\n        RED: SHEETS_DARK_STROKES.ORANGE\n      })\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.BLUE,\n      stroke: SHEETS_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.ORANGE,\n      stroke: SHEETS_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.GRAY,\n      stroke: SHEETS_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _SheetsDark.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _SheetsDark.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _SheetsDark.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _SheetsDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [SHEETS_DARK_FILLS.ORANGE, SHEETS_DARK_FILLS.YELLOW, SHEETS_DARK_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _SheetsDark.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, SHEETS_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, SHEETS_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette6;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/sheetsLight.ts\nvar SHEETS_LIGHT_FILLS = {\n  BLUE: \"#5281d5\",\n  ORANGE: \"#ff8d44\",\n  GRAY: \"#b5b5b5\",\n  YELLOW: \"#ffd02f\",\n  MODERATE_BLUE: \"#6aabe6\",\n  GREEN: \"#7fbd57\",\n  DARK_GRAY: \"#8a8a8a\",\n  DARK_BLUE: \"#335287\",\n  VERY_DARK_GRAY: \"#717171\",\n  DARK_YELLOW: \"#a98220\"\n};\nvar SHEETS_LIGHT_STROKES = {\n  BLUE: \"#214d9b\",\n  ORANGE: \"#c25600\",\n  GRAY: \"#7f7f7f\",\n  YELLOW: \"#d59800\",\n  MODERATE_BLUE: \"#3575ac\",\n  GREEN: \"#4b861a\",\n  DARK_GRAY: \"#575757\",\n  DARK_BLUE: \"#062253\",\n  VERY_DARK_GRAY: \"#414141\",\n  DARK_YELLOW: \"#734f00\"\n};\nvar palette7 = {\n  fills: Object.values(SHEETS_LIGHT_FILLS),\n  strokes: Object.values(SHEETS_LIGHT_STROKES)\n};\nvar SheetsLight = class _SheetsLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: __spreadProps(__spreadValues({}, SHEETS_LIGHT_FILLS), {\n        RED: SHEETS_LIGHT_FILLS.ORANGE\n      }),\n      strokes: __spreadProps(__spreadValues({}, SHEETS_LIGHT_STROKES), {\n        RED: SHEETS_LIGHT_STROKES.ORANGE\n      })\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.BLUE,\n      stroke: SHEETS_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.ORANGE,\n      stroke: SHEETS_LIGHT_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.GRAY,\n      stroke: SHEETS_LIGHT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _SheetsLight.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _SheetsLight.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _SheetsLight.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _SheetsLight.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [SHEETS_LIGHT_FILLS.ORANGE, SHEETS_LIGHT_FILLS.YELLOW, SHEETS_LIGHT_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _SheetsLight.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, SHEETS_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, SHEETS_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette7;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/vividDark.ts\nvar VIVID_DARK_FILLS = {\n  BLUE: \"#0083ff\",\n  ORANGE: \"#ff6600\",\n  GREEN: \"#00af00\",\n  CYAN: \"#00ccff\",\n  YELLOW: \"#f7c700\",\n  VIOLET: \"#ac26ff\",\n  GRAY: \"#a7a7b7\",\n  MAGENTA: \"#e800c5\",\n  BROWN: \"#b54300\",\n  RED: \"#ff0000\"\n};\nvar VIVID_DARK_STROKES = {\n  BLUE: \"#67b7ff\",\n  ORANGE: \"#ffc24d\",\n  GREEN: \"#5cc86f\",\n  CYAN: \"#54ebff\",\n  VIOLET: \"#c18aff\",\n  YELLOW: \"#fff653\",\n  GRAY: \"#aeaeae\",\n  MAGENTA: \"#f078d4\",\n  BROWN: \"#ba8438\",\n  RED: \"#ff726e\"\n};\nvar palette8 = {\n  fills: Object.values(VIVID_DARK_FILLS),\n  strokes: Object.values(VIVID_DARK_STROKES)\n};\nvar VividDark = class _VividDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: VIVID_DARK_FILLS,\n      strokes: VIVID_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: VIVID_DARK_FILLS.BLUE,\n      stroke: VIVID_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: VIVID_DARK_FILLS.ORANGE,\n      stroke: VIVID_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: VIVID_DARK_FILLS.GRAY,\n      stroke: VIVID_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _VividDark.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _VividDark.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _VividDark.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _VividDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [VIVID_DARK_FILLS.ORANGE, VIVID_DARK_FILLS.YELLOW, VIVID_DARK_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _VividDark.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, VIVID_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, VIVID_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette8;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/vividLight.ts\nvar VIVID_FILLS = {\n  BLUE: \"#0083ff\",\n  ORANGE: \"#ff6600\",\n  GREEN: \"#00af00\",\n  CYAN: \"#00ccff\",\n  YELLOW: \"#f7c700\",\n  VIOLET: \"#ac26ff\",\n  GRAY: \"#a7a7b7\",\n  MAGENTA: \"#e800c5\",\n  BROWN: \"#b54300\",\n  RED: \"#ff0000\"\n};\nvar VIVID_STROKES = {\n  BLUE: \"#0f68c0\",\n  ORANGE: \"#d47100\",\n  GREEN: \"#007922\",\n  CYAN: \"#009ac2\",\n  VIOLET: \"#bca400\",\n  YELLOW: \"#753cac\",\n  GRAY: \"#646464\",\n  MAGENTA: \"#9b2685\",\n  BROWN: \"#6c3b00\",\n  RED: \"#cb0021\"\n};\nvar palette9 = {\n  fills: Object.values(VIVID_FILLS),\n  strokes: Object.values(VIVID_STROKES)\n};\nvar VividLight = class _VividLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: VIVID_FILLS,\n      strokes: VIVID_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: VIVID_FILLS.BLUE,\n      stroke: VIVID_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: VIVID_FILLS.ORANGE,\n      stroke: VIVID_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: VIVID_FILLS.GRAY,\n      stroke: VIVID_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _VividLight.getDefaultColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _VividLight.getWaterfallSeriesDefaultPositiveColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _VividLight.getWaterfallSeriesDefaultNegativeColors());\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _VividLight.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [VIVID_FILLS.ORANGE, VIVID_FILLS.YELLOW, VIVID_FILLS.GREEN]);\n    result.properties.set(DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE, _VividLight.getWaterfallSeriesDefaultTotalColors().stroke);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, VIVID_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, VIVID_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette9;\n  }\n};\n\n// packages/ag-charts-community/src/chart/mapping/themes.ts\nvar lightTheme = () => new ChartTheme();\nvar darkTheme = () => new DarkTheme();\nvar lightThemes = {\n  undefined: lightTheme,\n  null: lightTheme,\n  \"ag-default\": lightTheme,\n  \"ag-sheets\": () => new SheetsLight(),\n  \"ag-polychroma\": () => new PolychromaLight(),\n  \"ag-vivid\": () => new VividLight(),\n  \"ag-material\": () => new MaterialLight()\n};\nvar darkThemes = {\n  undefined: darkTheme,\n  null: darkTheme,\n  \"ag-default-dark\": darkTheme,\n  \"ag-sheets-dark\": () => new SheetsDark(),\n  \"ag-polychroma-dark\": () => new PolychromaDark(),\n  \"ag-vivid-dark\": () => new VividDark(),\n  \"ag-material-dark\": () => new MaterialDark()\n};\nvar themes = __spreadValues(__spreadValues({}, darkThemes), lightThemes);\nfunction validateChartThemeObject(unknownObject) {\n  if (unknownObject === null) {\n    return;\n  }\n  let valid = true;\n  const {\n    baseTheme,\n    palette: palette10,\n    overrides\n  } = unknownObject;\n  if (baseTheme !== void 0 && typeof baseTheme !== \"string\" && typeof baseTheme !== \"object\") {\n    Logger.warn(\"invalid theme.baseTheme type \".concat(typeof baseTheme, \", expected (string | object).\"));\n    valid = false;\n  }\n  if (overrides !== void 0 && typeof overrides !== \"object\") {\n    Logger.warn(\"invalid theme.overrides type \".concat(typeof overrides, \", expected object.\"));\n    valid = false;\n  }\n  if (typeof palette10 === \"object\") {\n    if (palette10 !== null) {\n      const {\n        fills,\n        strokes\n      } = palette10;\n      if (fills !== void 0 && !Array.isArray(fills)) {\n        Logger.warn(\"theme.overrides.fills must be undefined or an array\");\n        valid = false;\n      }\n      if (strokes !== void 0 && !Array.isArray(strokes)) {\n        Logger.warn(\"theme.overrides.strokes must be undefined or an array\");\n        valid = false;\n      }\n    }\n  } else if (palette10 !== void 0) {\n    Logger.warn(\"invalid theme.palette type \".concat(typeof palette10, \", expected object.\"));\n    valid = false;\n  }\n  if (valid) {\n    return unknownObject;\n  }\n}\nfunction validateChartTheme(value) {\n  if (value === void 0 || typeof value === \"string\" || value instanceof ChartTheme) {\n    return value;\n  }\n  if (typeof value === \"object\") {\n    return validateChartThemeObject(value);\n  }\n  Logger.warn(\"invalid theme value type \".concat(typeof value, \", expected object or string.\"));\n}\nfunction getChartTheme(unvalidatedValue) {\n  let value = validateChartTheme(unvalidatedValue);\n  if (value instanceof ChartTheme) {\n    return value;\n  }\n  if (value == null || typeof value === \"string\") {\n    const stockTheme = themes[value];\n    if (stockTheme) {\n      return stockTheme();\n    }\n    Logger.warnOnce(\"the theme [\".concat(value, \"] is invalid, using [ag-default] instead.\"));\n    return lightTheme();\n  }\n  const overrides = [];\n  let palette10;\n  while (typeof value === \"object\") {\n    overrides.push(value.overrides);\n    palette10 != null ? palette10 : palette10 = value.palette;\n    value = value.baseTheme;\n  }\n  const flattenedTheme = {\n    baseTheme: value,\n    overrides: mergeDefaults(...overrides),\n    palette: palette10\n  };\n  const baseTheme = flattenedTheme.baseTheme ? getChartTheme(flattenedTheme.baseTheme) : lightTheme();\n  return new baseTheme.constructor(flattenedTheme);\n}\n\n// packages/ag-charts-community/src/util/array.ts\nfunction extent(values) {\n  if (values.length === 0) {\n    return;\n  }\n  let min = Infinity;\n  let max = -Infinity;\n  for (let n of values) {\n    if (n instanceof Date) {\n      n = n.getTime();\n    }\n    if (typeof n !== \"number\") {\n      continue;\n    }\n    if (n < min) {\n      min = n;\n    }\n    if (n > max) {\n      max = n;\n    }\n  }\n  const result = [min, max];\n  if (result.every(isFinite)) {\n    return result;\n  }\n}\nfunction normalisedExtent(d, min, max) {\n  return normalisedExtentWithMetadata(d, min, max).extent;\n}\nfunction normalisedExtentWithMetadata(d, min, max) {\n  var _a;\n  let clipped = false;\n  if (d.length > 2) {\n    d = (_a = extent(d)) != null ? _a : [NaN, NaN];\n  }\n  if (!isNaN(min)) {\n    clipped || (clipped = min > d[0]);\n    d = [min, d[1]];\n  }\n  if (!isNaN(max)) {\n    clipped || (clipped = max < d[1]);\n    d = [d[0], max];\n  }\n  if (d[0] > d[1]) {\n    d = [];\n  }\n  return {\n    extent: d,\n    clipped\n  };\n}\nfunction arraysEqual(a, b) {\n  if (a == null || b == null || a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (Array.isArray(a[i]) && Array.isArray(b[i])) {\n      if (!arraysEqual(a[i], b[i])) {\n        return false;\n      }\n    } else if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction toArray(value) {\n  if (typeof value === \"undefined\") {\n    return [];\n  }\n  return Array.isArray(value) ? value : [value];\n}\nfunction unique(array) {\n  return Array.from(new Set(array));\n}\nfunction groupBy(array, iteratee) {\n  return array.reduce((result, item) => {\n    var _a;\n    const groupKey = iteratee(item);\n    (_a = result[groupKey]) != null ? _a : result[groupKey] = [];\n    result[groupKey].push(item);\n    return result;\n  }, {});\n}\nfunction circularSliceArray(data, size) {\n  let offset4 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  if (data.length === 0) {\n    return [];\n  }\n  const result = [];\n  for (let i = 0; i < size; i++) {\n    result.push(data.at((i + offset4) % data.length));\n  }\n  return result;\n}\nfunction bifurcate(isLeft, array) {\n  return array.reduce((_ref7, value) => {\n    let [left, right] = _ref7;\n    return isLeft(value) ? [[...left, value], right] : [left, [...right, value]];\n  }, [[], []]);\n}\nfunction* mapIterable(src, predicate) {\n  for (const e of src) {\n    yield predicate(e);\n  }\n}\nfunction constStringsIncludes(array, value) {\n  const casting = array;\n  return casting.includes(value);\n}\nfunction isInStringUnion(unionValues, value) {\n  return constStringsIncludes(unionValues, value);\n}\nfunction allInStringUnion(unionValues, values) {\n  return !values.some(v => !isInStringUnion(unionValues, v));\n}\n\n// packages/ag-charts-community/src/util/dom.ts\nvar verifiedGlobals = {};\nvar injectCache = /* @__PURE__ */new WeakMap();\nif (typeof window !== \"undefined\") {\n  verifiedGlobals.window = window;\n} else if (typeof global !== \"undefined\") {\n  verifiedGlobals.window = global.window;\n}\nif (typeof document !== \"undefined\") {\n  verifiedGlobals.document = document;\n} else if (typeof global !== \"undefined\") {\n  verifiedGlobals.document = global.document;\n}\nfunction getDocument(propertyName) {\n  var _a;\n  return propertyName ? (_a = verifiedGlobals.document) == null ? void 0 : _a[propertyName] : verifiedGlobals.document;\n}\nfunction getWindow(propertyName) {\n  var _a;\n  return propertyName ? (_a = verifiedGlobals.window) == null ? void 0 : _a[propertyName] : verifiedGlobals.window;\n}\nfunction createElement(tagName, className, style) {\n  const element2 = getDocument().createElement(tagName);\n  if (typeof className === \"object\") {\n    style = className;\n    className = void 0;\n  }\n  if (className) {\n    element2.classList.add(className);\n  }\n  if (style) {\n    Object.assign(element2.style, style);\n  }\n  return element2;\n}\nfunction downloadUrl(dataUrl, fileName) {\n  const {\n    body\n  } = getDocument();\n  const element2 = createElement(\"a\", {\n    display: \"none\"\n  });\n  element2.href = dataUrl;\n  element2.download = fileName;\n  body.appendChild(element2);\n  element2.click();\n  setTimeout(() => body.removeChild(element2));\n}\nfunction injectStyle(cssStyle, uniqueId) {\n  var _a, _b;\n  const document2 = getDocument();\n  if (uniqueId && ((_a = injectCache.get(document2)) == null ? void 0 : _a.has(uniqueId))) return;\n  const styleElement = createElement(\"style\");\n  styleElement.innerHTML = cssStyle;\n  document2.head.insertBefore(styleElement, document2.head.querySelector(\"style\"));\n  if (uniqueId && !injectCache.has(document2)) {\n    injectCache.set(document2, /* @__PURE__ */new Set([uniqueId]));\n  } else if (uniqueId) {\n    (_b = injectCache.get(document2)) == null ? void 0 : _b.add(uniqueId);\n  }\n}\nfunction setDocument(document2) {\n  verifiedGlobals.document = document2;\n}\nfunction setWindow(window2) {\n  verifiedGlobals.window = window2;\n}\n\n// packages/ag-charts-community/src/util/debug.ts\nvar LONG_TIME_PERIOD_THRESHOLD = 2e3;\nvar timeOfLastLog = Date.now();\nvar logTimeGap = () => {\n  const timeSinceLastLog = Date.now() - timeOfLastLog;\n  if (timeSinceLastLog > LONG_TIME_PERIOD_THRESHOLD) {\n    const prettyDuration = (Math.floor(timeSinceLastLog / 100) / 10).toFixed(1);\n    Logger.log(\"**** \".concat(prettyDuration, \"s since last log message ****\"));\n  }\n  timeOfLastLog = Date.now();\n};\nvar Debug = {\n  create() {\n    for (var _len15 = arguments.length, debugSelectors = new Array(_len15), _key15 = 0; _key15 < _len15; _key15++) {\n      debugSelectors[_key15] = arguments[_key15];\n    }\n    const resultFn = function () {\n      for (var _len16 = arguments.length, logContent = new Array(_len16), _key16 = 0; _key16 < _len16; _key16++) {\n        logContent[_key16] = arguments[_key16];\n      }\n      if (Debug.check(...debugSelectors)) {\n        if (typeof logContent[0] === \"function\") {\n          logContent = toArray(logContent[0]());\n        }\n        logTimeGap();\n        Logger.log(...logContent);\n      }\n    };\n    return Object.assign(resultFn, {\n      check: () => Debug.check(...debugSelectors)\n    });\n  },\n  check() {\n    for (var _len17 = arguments.length, debugSelectors = new Array(_len17), _key17 = 0; _key17 < _len17; _key17++) {\n      debugSelectors[_key17] = arguments[_key17];\n    }\n    if (debugSelectors.length === 0) {\n      debugSelectors.push(true);\n    }\n    const chartDebug = toArray(getWindow(\"agChartsDebug\"));\n    return chartDebug.some(selector => debugSelectors.includes(selector));\n  }\n};\n\n// packages/ag-charts-community/src/module/optionsModule.ts\nvar unthemedSeries = /* @__PURE__ */new Set([\"map-shape-background\", \"map-line-background\"]);\nvar ChartOptions = class {\n  constructor(userOptions, specialOverrides) {\n    var _b, _c, _d;\n    const cloneOptions = {\n      shallow: [\"data\"]\n    };\n    const options = deepClone(userOptions, cloneOptions);\n    const chartType2 = this.optionsType(options);\n    this.sanityCheckAndCleanup(options);\n    this.userOptions = options;\n    this.activeTheme = getChartTheme(options.theme);\n    this.defaultAxes = this.getDefaultAxes(options);\n    this.specialOverrides = this.specialOverridesDefaults(__spreadValues({}, specialOverrides));\n    const _a = this.getSeriesThemeConfig(chartType2),\n      {\n        axes: axesThemes = {},\n        annotations: annotationsThemes = {},\n        series: _\n      } = _a,\n      themeDefaults = __objRest(_a, [\"axes\", \"annotations\", \"series\"]);\n    this.processedOptions = deepClone(mergeDefaults(this.userOptions, themeDefaults, this.defaultAxes), cloneOptions);\n    this.processAxesOptions(this.processedOptions, axesThemes);\n    this.processSeriesOptions(this.processedOptions);\n    this.processMiniChartSeriesOptions(this.processedOptions);\n    this.processAnnotationsOptions(this.processedOptions, annotationsThemes);\n    if ((isAgCartesianChartOptions(this.processedOptions) || isAgPolarChartOptionsWithSeriesBasedLegend(this.processedOptions)) && ((_b = this.processedOptions.legend) == null ? void 0 : _b.enabled) == null) {\n      (_d = (_c = this.processedOptions).legend) != null ? _d : _c.legend = {};\n      this.processedOptions.legend.enabled = this.processedOptions.series.length > 1;\n    }\n    this.enableConfiguredOptions(this.processedOptions);\n    if (!enterpriseModule.isEnterprise) {\n      removeUsedEnterpriseOptions(this.processedOptions);\n    }\n  }\n  getOptions() {\n    var _a;\n    return (_a = this.processedOptions) != null ? _a : {};\n  }\n  diffOptions(options) {\n    return jsonDiff(options, this.processedOptions);\n  }\n  getSeriesThemeConfig(seriesType) {\n    var _a, _b;\n    return deepClone((_b = (_a = this.activeTheme) == null ? void 0 : _a.config[seriesType]) != null ? _b : {});\n  }\n  getDefaultAxes(options) {\n    const optionsType2 = this.optionsType(options);\n    const axesDefaults = seriesRegistry.cloneDefaultAxes(optionsType2);\n    if (seriesRegistry.isDefaultAxisSwapNeeded(options)) {\n      this.swapAxesPosition(axesDefaults);\n    }\n    return axesDefaults;\n  }\n  optionsType(options) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = options.series) == null ? void 0 : _a[0]) == null ? void 0 : _b.type) != null ? _c : \"line\";\n  }\n  sanityCheckAndCleanup(options) {\n    var _a;\n    this.deprecationWarnings(options);\n    this.axesTypeIntegrity(options);\n    this.seriesTypeIntegrity(options);\n    this.soloSeriesIntegrity(options);\n    this.removeDisabledOptions(options);\n    this.removeLeftoverSymbols(options);\n    if (((_a = options.series) == null ? void 0 : _a.some(s => s.type === \"bullet\")) && options.sync != null && options.sync.enabled !== false) {\n      Logger.warnOnce(\"bullet series cannot be synced, disabling synchronization.\");\n      delete options.sync;\n    }\n  }\n  swapAxesPosition(options) {\n    var _a;\n    if (isAgCartesianChartOptions(options)) {\n      const [axis0, axis1] = (_a = options.axes) != null ? _a : [];\n      options.axes = [__spreadProps(__spreadValues({}, axis0), {\n        position: axis1.position\n      }), __spreadProps(__spreadValues({}, axis1), {\n        position: axis0.position\n      })];\n    }\n  }\n  processAxesOptions(options, axesThemes) {\n    if (!(\"axes\" in options)) return;\n    options.axes = options.axes.map(axis => {\n      var _a, _c, _d;\n      const _b = mergeDefaults((_a = axesThemes[axis.type]) == null ? void 0 : _a[axis.position], axesThemes[axis.type]),\n        {\n          crossLines: crossLinesTheme\n        } = _b,\n        axisTheme = __objRest(_b, [\"crossLines\"]);\n      if (axis.crossLines) {\n        axis.crossLines = mergeArrayDefaults(axis.crossLines, crossLinesTheme);\n      }\n      const gridLineStyle = (_c = axisTheme.gridLine) == null ? void 0 : _c.style;\n      if (((_d = axis.gridLine) == null ? void 0 : _d.style) && (gridLineStyle == null ? void 0 : gridLineStyle.length)) {\n        axis.gridLine.style = axis.gridLine.style.map((style, index) => style.stroke != null || style.lineDash != null ? mergeDefaults(style, gridLineStyle.at(index % gridLineStyle.length)) : style);\n      }\n      const _e = mergeDefaults(axis, axisTheme),\n        {\n          top: _1,\n          right: _2,\n          bottom: _3,\n          left: _4\n        } = _e,\n        axisOptions = __objRest(_e, [\"top\", \"right\", \"bottom\", \"left\"]);\n      return axisOptions;\n    });\n  }\n  processSeriesOptions(options) {\n    const defaultSeriesType = this.getDefaultSeriesType(options);\n    const defaultTooltipPosition = this.getTooltipPositionDefaults(options);\n    const userPalette = Boolean(isObject(options.theme) && options.theme.palette);\n    const paletteOptions = {\n      colourIndex: 0,\n      userPalette\n    };\n    const processedSeries = options.series.map(series => {\n      var _a, _b;\n      (_a = series.type) != null ? _a : series.type = defaultSeriesType;\n      const _c = (_b = this.getSeriesThemeConfig(series.type).series) != null ? _b : {},\n        {\n          innerLabels: innerLabelsTheme\n        } = _c,\n        seriesTheme = __objRest(_c, [\"innerLabels\"]);\n      const seriesPaletteOptions = unthemedSeries.has(series.type) ? {\n        colourIndex: 0,\n        userPalette\n      } : paletteOptions;\n      const palette10 = this.getSeriesPalette(series.type, seriesPaletteOptions);\n      const seriesOptions = mergeDefaults(this.getSeriesGroupingOptions(series), series, defaultTooltipPosition, seriesTheme, palette10);\n      if (seriesOptions.innerLabels) {\n        seriesOptions.innerLabels = mergeArrayDefaults(seriesOptions.innerLabels, innerLabelsTheme);\n      }\n      return this.activeTheme.templateTheme(seriesOptions);\n    });\n    options.series = this.setSeriesGroupingOptions(processedSeries);\n  }\n  processMiniChartSeriesOptions(options) {\n    var _a, _b;\n    let miniChartSeries = (_b = (_a = options.navigator) == null ? void 0 : _a.miniChart) == null ? void 0 : _b.series;\n    if (miniChartSeries == null) return;\n    const paletteOptions = {\n      colourIndex: 0,\n      userPalette: Boolean(isObject(options.theme) && options.theme.palette)\n    };\n    miniChartSeries = miniChartSeries.map(series => {\n      var _a2, _b2;\n      (_a2 = series.type) != null ? _a2 : series.type = \"line\";\n      const _c = (_b2 = this.getSeriesThemeConfig(series.type).series) != null ? _b2 : {},\n        {\n          innerLabels: _\n        } = _c,\n        seriesTheme = __objRest(_c, [\"innerLabels\"]);\n      const seriesOptions = mergeDefaults(this.getSeriesGroupingOptions(series), series, seriesTheme, this.getSeriesPalette(series.type, paletteOptions));\n      return this.activeTheme.templateTheme(seriesOptions);\n    });\n    options.navigator.miniChart.series = this.setSeriesGroupingOptions(miniChartSeries);\n  }\n  processAnnotationsOptions(options, _annotationsThemes) {\n    if (!isAgCartesianChartOptions(options)) return;\n  }\n  getSeriesPalette(seriesType, options) {\n    const paletteFactory = seriesRegistry.getPaletteFactory(seriesType);\n    const {\n      colourIndex: colourOffset,\n      userPalette\n    } = options;\n    const {\n      fills = [],\n      strokes = []\n    } = this.activeTheme.palette;\n    return paletteFactory == null ? void 0 : paletteFactory({\n      userPalette,\n      colorsCount: Math.max(fills.length, strokes.length),\n      themeTemplateParameters: this.activeTheme.getTemplateParameters(),\n      takeColors(count) {\n        options.colourIndex += count;\n        return {\n          fills: circularSliceArray(fills, count, colourOffset),\n          strokes: circularSliceArray(strokes, count, colourOffset)\n        };\n      }\n    });\n  }\n  getSeriesGroupingOptions(series) {\n    const groupable = seriesRegistry.isGroupable(series.type);\n    const stackable = seriesRegistry.isStackable(series.type);\n    const stackedByDefault = seriesRegistry.isStackedByDefault(series.type);\n    if (series.grouped && !groupable) {\n      Logger.warnOnce(\"unsupported grouping of series type \\\"\".concat(series.type, \"\\\".\"));\n    }\n    if ((series.stacked || series.stackGroup) && !stackable) {\n      Logger.warnOnce(\"unsupported stacking of series type \\\"\".concat(series.type, \"\\\".\"));\n    }\n    let {\n      grouped,\n      stacked\n    } = series;\n    stacked != null ? stacked : stacked = (stackedByDefault || series.stackGroup != null) && !(groupable && grouped);\n    grouped != null ? grouped : grouped = true;\n    return {\n      stacked: stackable && stacked,\n      grouped: groupable && grouped && !(stackable && stacked)\n    };\n  }\n  setSeriesGroupingOptions(allSeries) {\n    const seriesGroups = this.getSeriesGrouping(allSeries);\n    Debug.create(true, \"opts\")(\"setSeriesGroupingOptions() - series grouping: \", seriesGroups);\n    const groupIdx = {};\n    const groupCount2 = seriesGroups.reduce((countMap, seriesGroup) => {\n      var _a, _b;\n      if (seriesGroup.groupType === \"default\" /* DEFAULT */) {\n        return countMap;\n      }\n      (_b = countMap[_a = seriesGroup.seriesType]) != null ? _b : countMap[_a] = 0;\n      countMap[seriesGroup.seriesType] += seriesGroup.groupType === \"stack\" /* STACK */ ? 1 : seriesGroup.series.length;\n      return countMap;\n    }, {});\n    return seriesGroups.flatMap(seriesGroup => {\n      var _a, _b;\n      (_b = groupIdx[_a = seriesGroup.seriesType]) != null ? _b : groupIdx[_a] = 0;\n      switch (seriesGroup.groupType) {\n        case \"stack\" /* STACK */:\n          const groupIndex = groupIdx[seriesGroup.seriesType]++;\n          return seriesGroup.series.map((series, stackIndex) => Object.assign(series, {\n            seriesGrouping: {\n              groupIndex,\n              groupCount: groupCount2[seriesGroup.seriesType],\n              stackIndex,\n              stackCount: seriesGroup.series.length\n            }\n          }));\n        case \"group\" /* GROUP */:\n          return seriesGroup.series.map(series => Object.assign(series, {\n            seriesGrouping: {\n              groupIndex: groupIdx[seriesGroup.seriesType]++,\n              groupCount: groupCount2[seriesGroup.seriesType],\n              stackIndex: 0,\n              stackCount: 0\n            }\n          }));\n      }\n      return seriesGroup.series;\n    }).map(_a => {\n      var _b = _a,\n        {\n          stacked: _,\n          grouped: __\n        } = _b,\n        seriesOptions = __objRest(_b, [\"stacked\", \"grouped\"]);\n      return seriesOptions;\n    });\n  }\n  getSeriesGroupId(series) {\n    var _a;\n    return [series.type, series.xKey, series.stacked ? (_a = series.stackGroup) != null ? _a : \"stacked\" : \"grouped\"].filter(Boolean).join(\"-\");\n  }\n  getSeriesGrouping(allSeries) {\n    const groupMap = /* @__PURE__ */new Map();\n    return allSeries.reduce((result, series) => {\n      const seriesType = series.type;\n      if (!series.stacked && !series.grouped) {\n        result.push({\n          groupType: \"default\" /* DEFAULT */,\n          seriesType,\n          series: [series]\n        });\n      } else {\n        const groupId = this.getSeriesGroupId(series);\n        if (!groupMap.has(groupId)) {\n          const groupType = series.stacked ? \"stack\" /* STACK */ : \"group\" /* GROUP */;\n          const record = {\n            groupType,\n            seriesType,\n            series: []\n          };\n          groupMap.set(groupId, record);\n          result.push(record);\n        }\n        groupMap.get(groupId).series.push(series);\n      }\n      return result;\n    }, []);\n  }\n  getDefaultSeriesType(options) {\n    if (isAgCartesianChartOptions(options)) {\n      return \"line\";\n    } else if (isAgPolarChartOptions(options)) {\n      return \"pie\";\n    } else if (isAgHierarchyChartOptions(options)) {\n      return \"treemap\";\n    } else if (isAgTopologyChartOptions(options)) {\n      return \"map-shape\";\n    }\n    throw new Error(\"Invalid chart options type detected.\");\n  }\n  getTooltipPositionDefaults(options) {\n    var _a;\n    const position = (_a = options.tooltip) == null ? void 0 : _a.position;\n    if (!isPlainObject(position)) {\n      return;\n    }\n    const {\n      type,\n      xOffset,\n      yOffset\n    } = position;\n    const result = {};\n    if (isString(type) && isEnumValue(AgTooltipPositionType, type)) {\n      result.type = type;\n    }\n    if (isFiniteNumber(xOffset)) {\n      result.xOffset = xOffset;\n    }\n    if (isFiniteNumber(yOffset)) {\n      result.yOffset = yOffset;\n    }\n    return {\n      tooltip: {\n        position: result\n      }\n    };\n  }\n  deprecationWarnings(options) {\n    const deprecatedArrayProps = {\n      yKeys: \"yKey\",\n      yNames: \"yName\"\n    };\n    Object.entries(deprecatedArrayProps).forEach(_ref8 => {\n      let [oldProp, newProp] = _ref8;\n      var _a;\n      if ((_a = options.series) == null ? void 0 : _a.some(s => s[oldProp] != null)) {\n        Logger.warnOnce(\"Property [series.\".concat(oldProp, \"] is deprecated, please use [series.\").concat(newProp, \"] and multiple series instead.\"));\n      }\n    });\n  }\n  axesTypeIntegrity(options) {\n    var _a;\n    if (\"axes\" in options) {\n      const axes = (_a = options.axes) != null ? _a : [];\n      for (const {\n        type\n      } of axes) {\n        if (!isAxisOptionType(type)) {\n          delete options.axes;\n          const expectedTypes = Array.from(axisRegistry.publicKeys()).join(\", \");\n          Logger.warnOnce(\"unknown axis type: \".concat(type, \"; expected one of: \").concat(expectedTypes));\n        }\n      }\n    }\n  }\n  seriesTypeIntegrity(options) {\n    var _a;\n    const series = (_a = options.series) != null ? _a : [];\n    options.series = series.filter(_ref9 => {\n      let {\n        type\n      } = _ref9;\n      if (type == null || isSeriesOptionType(type) || isEnterpriseSeriesType(type)) {\n        return true;\n      }\n      Logger.warnOnce(\"unknown series type: \".concat(type, \"; expected one of: \").concat(publicChartTypes.seriesTypes.join(\", \")));\n    });\n  }\n  soloSeriesIntegrity(options) {\n    const allSeries = options.series;\n    if (allSeries && allSeries.length > 1 && allSeries.some(series => seriesRegistry.isSolo(series.type))) {\n      const mainSeriesType = this.optionsType(options);\n      if (seriesRegistry.isSolo(mainSeriesType)) {\n        Logger.warn(\"series[0] of type '\".concat(mainSeriesType, \"' is incompatible with other series types. Only processing series[0]\"));\n        options.series = allSeries.slice(0, 1);\n      } else {\n        const {\n          solo,\n          nonSolo\n        } = groupBy(allSeries, s => seriesRegistry.isSolo(s.type) ? \"solo\" : \"nonSolo\");\n        const rejects = unique(solo.map(s => s.type)).join(\", \");\n        Logger.warn(\"Unable to mix these series types with the lead series type: \".concat(rejects));\n        options.series = nonSolo;\n      }\n    }\n  }\n  enableConfiguredOptions(options) {\n    jsonWalk(this.userOptions, (visitingUserOpts, visitingMergedOpts) => {\n      if (visitingMergedOpts && \"enabled\" in visitingMergedOpts && !visitingMergedOpts._enabledFromTheme && visitingUserOpts.enabled == null) {\n        visitingMergedOpts.enabled = true;\n      }\n    }, {\n      skip: [\"data\", \"theme\"]\n    }, options);\n    jsonWalk(options, visitingMergedOpts => {\n      if (visitingMergedOpts._enabledFromTheme != null) {\n        delete visitingMergedOpts._enabledFromTheme;\n      }\n    }, {\n      skip: [\"data\", \"theme\"]\n    });\n  }\n  removeDisabledOptions(options) {\n    jsonWalk(options, optionsNode => {\n      if (\"enabled\" in optionsNode && optionsNode.enabled === false) {\n        Object.keys(optionsNode).forEach(key => {\n          if (key === \"enabled\") return;\n          delete optionsNode[key];\n        });\n      }\n    }, {\n      skip: [\"data\", \"theme\"]\n    });\n  }\n  removeLeftoverSymbols(options) {\n    jsonWalk(options, optionsNode => {\n      if (!optionsNode || !isObject(optionsNode)) return;\n      for (const [key, value] of Object.entries(optionsNode)) {\n        if (isSymbol(value)) {\n          delete optionsNode[key];\n        }\n      }\n    }, {\n      skip: [\"data\"]\n    });\n  }\n  specialOverridesDefaults(options) {\n    if (options.window != null) {\n      setWindow(options.window);\n    } else if (typeof window !== \"undefined\") {\n      options.window = window;\n    } else if (typeof global !== \"undefined\") {\n      options.window = global.window;\n    }\n    if (options.document != null) {\n      setDocument(options.document);\n    } else if (typeof document !== \"undefined\") {\n      options.document = document;\n    } else if (typeof global !== \"undefined\") {\n      options.document = global.document;\n    }\n    if (options.window == null) {\n      throw new Error(\"AG Charts - unable to resolve global window\");\n    }\n    if (options.document == null) {\n      throw new Error(\"AG Charts - unable to resolve global document\");\n    }\n    return options;\n  }\n};\n\n// packages/ag-charts-community/src/util/deprecation.ts\nfunction createDeprecationWarning() {\n  return (key, message) => {\n    const msg = [\"Property [\".concat(key, \"] is deprecated.\"), message].filter(Boolean).join(\" \");\n    Logger.warnOnce(msg);\n  };\n}\nfunction Deprecated(message, opts) {\n  const warnDeprecated = createDeprecationWarning();\n  const def = opts == null ? void 0 : opts.default;\n  return addTransformToInstanceProperty((_, key, value) => {\n    if (value !== def) {\n      warnDeprecated(key.toString(), message);\n    }\n    return value;\n  });\n}\nfunction DeprecatedAndRenamedTo(newPropName, mapValue) {\n  const warnDeprecated = createDeprecationWarning();\n  return addTransformToInstanceProperty((target, key, value) => {\n    if (value !== target[newPropName]) {\n      warnDeprecated(key.toString(), \"Use [\".concat(newPropName, \"] instead.\"));\n      setPath(target, newPropName, mapValue ? mapValue(value) : value);\n    }\n    return BREAK_TRANSFORM_CHAIN;\n  }, (target, key) => {\n    warnDeprecated(key.toString(), \"Use [\".concat(newPropName, \"] instead.\"));\n    return getPath(target, newPropName);\n  });\n}\n\n// packages/ag-charts-community/src/motion/fromToMotion.ts\nvar fromToMotion_exports = {};\n__export(fromToMotion_exports, {\n  NODE_UPDATE_STATE_TO_PHASE_MAPPING: () => NODE_UPDATE_STATE_TO_PHASE_MAPPING,\n  fromToMotion: () => fromToMotion,\n  staticFromToMotion: () => staticFromToMotion\n});\n\n// packages/ag-charts-community/src/util/id.ts\nvar ID_MAP = /* @__PURE__ */new Map();\nfunction resetIds() {\n  ID_MAP.clear();\n}\nfunction createId(instance) {\n  var _a;\n  const constructor = instance.constructor;\n  const className = Object.hasOwn(constructor, \"className\") ? constructor.className : constructor.name;\n  if (!className) {\n    throw new Error(\"The \".concat(constructor, \" is missing the 'className' property.\"));\n  }\n  const nextId = ((_a = ID_MAP.get(className)) != null ? _a : 0) + 1;\n  ID_MAP.set(className, nextId);\n  return \"\".concat(className, \"-\").concat(nextId);\n}\n\n// packages/ag-charts-community/src/util/interpolating.ts\nvar interpolate = \"$interpolate\";\nvar isInterpolating = x => x[interpolate] != null;\n\n// packages/ag-charts-community/src/util/number.ts\nfunction clamp(min, value, max) {\n  return Math.min(max, Math.max(min, value));\n}\nfunction clampArray(value, array) {\n  const [min, max] = findMinMax(array);\n  return clamp(min, value, max);\n}\nfunction findMinMax(array) {\n  return array.length ? [Math.min(...array), Math.max(...array)] : [];\n}\nfunction findRangeExtent(array) {\n  const [min, max] = findMinMax(array);\n  return max - min;\n}\nfunction isEqual(a, b) {\n  let epsilon2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1e-10;\n  return Math.abs(a - b) < epsilon2;\n}\nfunction isNegative(value) {\n  return Math.sign(value) === -1 || Object.is(value, -0);\n}\nfunction round(value) {\n  let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  const base = __pow(10, decimals);\n  return Math.round(value * base) / base;\n}\nfunction toFixed(value) {\n  let fractionOrSignificantDigits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  const power = Math.floor(Math.log(Math.abs(value)) / Math.LN10);\n  if (power >= 0 || !isFinite(power)) {\n    return value.toFixed(fractionOrSignificantDigits);\n  }\n  return value.toFixed(Math.abs(power) - 1 + fractionOrSignificantDigits);\n}\nfunction mod(n, m) {\n  return Math.floor(n % m + (n < 0 ? m : 0));\n}\nfunction countFractionDigits(value) {\n  let maximumFractionDigits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n  const [, decimal = \"\"] = (Math.abs(value) % 1).toLocaleString(\"en-GB\", {\n    minimumFractionDigits: 0,\n    maximumFractionDigits\n  }).split(\".\");\n  return decimal.length;\n}\n\n// packages/ag-charts-community/src/scene/nearest.ts\nfunction nearestSquared(x, y, objects) {\n  let maxDistanceSquared = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Infinity;\n  const result = {\n    nearest: void 0,\n    distanceSquared: maxDistanceSquared\n  };\n  for (const obj of objects) {\n    const thisDistance = obj.distanceSquared(x, y);\n    if (thisDistance === 0) {\n      return {\n        nearest: obj,\n        distanceSquared: 0\n      };\n    } else if (thisDistance < result.distanceSquared) {\n      result.nearest = obj;\n      result.distanceSquared = thisDistance;\n    }\n  }\n  return result;\n}\nfunction nearestSquaredInContainer(x, y, container) {\n  let maxDistanceSquared = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Infinity;\n  const {\n    x: tx,\n    y: ty\n  } = container.transformPoint(x, y);\n  const result = {\n    nearest: void 0,\n    distanceSquared: maxDistanceSquared\n  };\n  for (const child of container.children) {\n    const {\n      nearest,\n      distanceSquared: distanceSquared2\n    } = child.nearestSquared(tx, ty, result.distanceSquared);\n    if (distanceSquared2 === 0) {\n      return {\n        nearest,\n        distanceSquared: distanceSquared2\n      };\n    } else if (distanceSquared2 < result.distanceSquared) {\n      result.nearest = nearest;\n      result.distanceSquared = distanceSquared2;\n    }\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/scene/bbox.ts\nvar _BBox = class _BBox {\n  constructor(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n  clone() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    return new _BBox(x, y, width, height);\n  }\n  equals(other) {\n    return this.x === other.x && this.y === other.y && this.width === other.width && this.height === other.height;\n  }\n  containsPoint(x, y) {\n    return x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height;\n  }\n  collidesBBox(other) {\n    return this.x < other.x + other.width && this.x + this.width > other.x && this.y < other.y + other.height && this.y + this.height > other.y;\n  }\n  computeCenter() {\n    return {\n      x: this.x + this.width / 2,\n      y: this.y + this.height / 2\n    };\n  }\n  isFinite() {\n    return Number.isFinite(this.x) && Number.isFinite(this.y) && Number.isFinite(this.width) && Number.isFinite(this.height);\n  }\n  distanceSquared(x, y) {\n    if (this.containsPoint(x, y)) {\n      return 0;\n    }\n    const dx = x - clamp(this.x, x, this.x + this.width);\n    const dy = y - clamp(this.y, y, this.y + this.height);\n    return dx * dx + dy * dy;\n  }\n  static nearestBox(x, y, boxes) {\n    return nearestSquared(x, y, boxes);\n  }\n  clip(clipRect) {\n    if (clipRect === void 0) return this;\n    const x1 = Math.max(this.x, clipRect.x);\n    const y1 = Math.max(this.y, clipRect.y);\n    const x2 = Math.min(this.x + this.width, clipRect.x + clipRect.width);\n    const y2 = Math.min(this.y + this.height, clipRect.y + clipRect.height);\n    this.x = x1;\n    this.y = y1;\n    this.width = Math.max(0, x2 - x1);\n    this.height = Math.max(0, y2 - y1);\n    return this;\n  }\n  shrink(amount, position) {\n    const apply = (pos, amt) => {\n      switch (pos) {\n        case \"top\":\n          this.y += amt;\n        case \"bottom\":\n          this.height -= amt;\n          break;\n        case \"left\":\n          this.x += amt;\n        case \"right\":\n          this.width -= amt;\n          break;\n        case \"vertical\":\n          this.y += amt;\n          this.height -= amt * 2;\n          break;\n        case \"horizontal\":\n          this.x += amt;\n          this.width -= amt * 2;\n          break;\n        case void 0:\n          this.x += amt;\n          this.width -= amt * 2;\n          this.y += amt;\n          this.height -= amt * 2;\n          break;\n        default:\n      }\n    };\n    if (typeof amount === \"number\") {\n      apply(position, amount);\n    } else if (typeof amount === \"object\") {\n      Object.entries(amount).forEach(_ref10 => {\n        let [pos, amt] = _ref10;\n        return apply(pos, amt);\n      });\n    }\n    return this;\n  }\n  grow(amount, position) {\n    if (typeof amount === \"number\") {\n      this.shrink(-amount, position);\n    } else {\n      const paddingCopy = __spreadValues({}, amount);\n      for (const key in paddingCopy) {\n        paddingCopy[key] *= -1;\n      }\n      this.shrink(paddingCopy);\n    }\n    return this;\n  }\n  combine(other) {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    this.x = Math.min(x, other.x);\n    this.y = Math.min(y, other.y);\n    this.width = Math.max(x + width, other.x + other.width) - this.x;\n    this.height = Math.max(y + height, other.y + other.height) - this.y;\n  }\n  static merge(boxes) {\n    let left = Infinity;\n    let top = Infinity;\n    let right = -Infinity;\n    let bottom = -Infinity;\n    for (const box of boxes) {\n      if (box.x < left) {\n        left = box.x;\n      }\n      if (box.y < top) {\n        top = box.y;\n      }\n      if (box.x + box.width > right) {\n        right = box.x + box.width;\n      }\n      if (box.y + box.height > bottom) {\n        bottom = box.y + box.height;\n      }\n    }\n    return new _BBox(left, top, right - left, bottom - top);\n  }\n  [interpolate](other, d) {\n    return new _BBox(this.x * (1 - d) + other.x * d, this.y * (1 - d) + other.y * d, this.width * (1 - d) + other.width * d, this.height * (1 - d) + other.height * d);\n  }\n};\n_BBox.zero = new _BBox(0, 0, 0, 0);\n_BBox.NaN = new _BBox(NaN, NaN, NaN, NaN);\nvar BBox = _BBox;\n\n// packages/ag-charts-community/src/scene/changeDetectable.ts\nvar RedrawType = /* @__PURE__ */(RedrawType2 => {\n  RedrawType2[RedrawType2[\"NONE\"] = 0] = \"NONE\";\n  RedrawType2[RedrawType2[\"TRIVIAL\"] = 1] = \"TRIVIAL\";\n  RedrawType2[RedrawType2[\"MINOR\"] = 2] = \"MINOR\";\n  RedrawType2[RedrawType2[\"MAJOR\"] = 3] = \"MAJOR\";\n  return RedrawType2;\n})(RedrawType || {});\nfunction functionConstructorAvailable() {\n  try {\n    new Function(\"return true\");\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar STRING_FUNCTION_USEABLE = functionConstructorAvailable();\nfunction SceneChangeDetection(opts) {\n  const {\n    changeCb,\n    convertor\n  } = opts != null ? opts : {};\n  return function (target, key) {\n    const privateKey = \"__\".concat(key);\n    if (target[key]) {\n      return;\n    }\n    if (STRING_FUNCTION_USEABLE && changeCb == null && convertor == null) {\n      prepareFastGetSet(target, key, privateKey, opts);\n    } else {\n      prepareSlowGetSet(target, key, privateKey, opts);\n    }\n  };\n}\nfunction prepareFastGetSet(target, key, privateKey, opts) {\n  const {\n    redraw = 1 /* TRIVIAL */,\n    type = \"normal\",\n    checkDirtyOnAssignment = false\n  } = opts != null ? opts : {};\n  const setterJs = new Function(\"value\", \"\\n        const oldValue = this.\".concat(privateKey, \";\\n        if (value !== oldValue) {\\n            this.\").concat(privateKey, \" = value;\\n            \").concat(type === \"normal\" ? \"this.markDirty(this, \".concat(redraw, \");\") : \"\", \"\\n            \").concat(type === \"transform\" ? \"this.markDirtyTransform(\".concat(redraw, \");\") : \"\", \"\\n            \").concat(type === \"path\" ? \"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, \".concat(redraw, \"); }\") : \"\", \"\\n            \").concat(type === \"font\" ? \"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, \".concat(redraw, \"); }\") : \"\", \"\\n        }\\n        \").concat(checkDirtyOnAssignment ? \"if (value != null && value._dirty > \".concat(0 /* NONE */, \") { this.markDirty(value, value._dirty); }\") : \"\", \"\\n\"));\n  const getterJs = new Function(\"return this.\".concat(privateKey, \";\"));\n  Object.defineProperty(target, key, {\n    set: setterJs,\n    get: getterJs,\n    enumerable: true,\n    configurable: true\n  });\n}\nfunction prepareSlowGetSet(target, key, privateKey, opts) {\n  const {\n    redraw = 1 /* TRIVIAL */,\n    type = \"normal\",\n    changeCb,\n    convertor,\n    checkDirtyOnAssignment = false\n  } = opts != null ? opts : {};\n  const setter = function (value) {\n    const oldValue = this[privateKey];\n    value = convertor ? convertor(value) : value;\n    if (value !== oldValue) {\n      this[privateKey] = value;\n      if (type === \"normal\") this.markDirty(this, redraw);\n      if (type === \"transform\") this.markDirtyTransform(redraw);\n      if (type === \"path\" && !this._dirtyPath) {\n        this._dirtyPath = true;\n        this.markDirty(this, redraw);\n      }\n      if (type === \"font\" && !this._dirtyFont) {\n        this._dirtyFont = true;\n        this.markDirty(this, redraw);\n      }\n      changeCb == null ? void 0 : changeCb(this);\n    }\n    if (checkDirtyOnAssignment && value != null && value._dirty > 0 /* NONE */) this.markDirty(value, value._dirty);\n  };\n  const getter = function () {\n    return this[privateKey];\n  };\n  Object.defineProperty(target, key, {\n    set: setter,\n    get: getter,\n    enumerable: true,\n    configurable: true\n  });\n}\nvar ChangeDetectable = class {\n  constructor() {\n    this._dirty = 3 /* MAJOR */;\n  }\n  markDirty(_source) {\n    let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    if (this._dirty < type) {\n      this._dirty = type;\n    }\n  }\n  markClean(_opts) {\n    this._dirty = 0 /* NONE */;\n  }\n  isDirty() {\n    return this._dirty > 0 /* NONE */;\n  }\n};\n\n// packages/ag-charts-community/src/scene/matrix.ts\nvar _Matrix = class _Matrix {\n  get e() {\n    return [...this.elements];\n  }\n  constructor() {\n    let elements3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [1, 0, 0, 1, 0, 0];\n    this.elements = elements3;\n  }\n  setElements(elements3) {\n    const e = this.elements;\n    e[0] = elements3[0];\n    e[1] = elements3[1];\n    e[2] = elements3[2];\n    e[3] = elements3[3];\n    e[4] = elements3[4];\n    e[5] = elements3[5];\n    return this;\n  }\n  get identity() {\n    const e = this.elements;\n    return e[0] === 1 && e[1] === 0 && e[2] === 0 && e[3] === 1 && e[4] === 0 && e[5] === 0;\n  }\n  /**\n   * Performs the AxB matrix multiplication and saves the result\n   * to `C`, if given, or to `A` otherwise.\n   */\n  AxB(A, B, C) {\n    const a = A[0] * B[0] + A[2] * B[1],\n      b = A[1] * B[0] + A[3] * B[1],\n      c = A[0] * B[2] + A[2] * B[3],\n      d = A[1] * B[2] + A[3] * B[3],\n      e = A[0] * B[4] + A[2] * B[5] + A[4],\n      f = A[1] * B[4] + A[3] * B[5] + A[5];\n    C = C != null ? C : A;\n    C[0] = a;\n    C[1] = b;\n    C[2] = c;\n    C[3] = d;\n    C[4] = e;\n    C[5] = f;\n  }\n  /**\n   * The `other` matrix gets post-multiplied to the current matrix.\n   * Returns the current matrix.\n   * @param other\n   */\n  multiplySelf(other) {\n    this.AxB(this.elements, other.elements);\n    return this;\n  }\n  /**\n   * The `other` matrix gets post-multiplied to the current matrix.\n   * Returns a new matrix.\n   * @param other\n   */\n  multiply(other) {\n    const elements3 = new Array(6);\n    this.AxB(this.elements, other.elements, elements3);\n    return new _Matrix(elements3);\n  }\n  preMultiplySelf(other) {\n    this.AxB(other.elements, this.elements, this.elements);\n    return this;\n  }\n  /**\n   * Returns the inverse of this matrix as a new matrix.\n   */\n  inverse() {\n    const el = this.elements;\n    let a = el[0],\n      b = el[1],\n      c = el[2],\n      d = el[3];\n    const e = el[4],\n      f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    return new _Matrix([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n  }\n  /**\n   * Save the inverse of this matrix to the given matrix.\n   */\n  inverseTo(other) {\n    const el = this.elements;\n    let a = el[0],\n      b = el[1],\n      c = el[2],\n      d = el[3];\n    const e = el[4],\n      f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    other.setElements([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n    return this;\n  }\n  invertSelf() {\n    const el = this.elements;\n    let a = el[0],\n      b = el[1],\n      c = el[2],\n      d = el[3];\n    const e = el[4],\n      f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    el[0] = d;\n    el[1] = -b;\n    el[2] = -c;\n    el[3] = a;\n    el[4] = c * f - d * e;\n    el[5] = b * e - a * f;\n    return this;\n  }\n  transformPoint(x, y) {\n    const e = this.elements;\n    return {\n      x: x * e[0] + y * e[2] + e[4],\n      y: x * e[1] + y * e[3] + e[5]\n    };\n  }\n  transformBBox(bbox, target) {\n    const elements3 = this.elements;\n    const xx = elements3[0];\n    const xy = elements3[1];\n    const yx = elements3[2];\n    const yy = elements3[3];\n    const h_w = bbox.width * 0.5;\n    const h_h = bbox.height * 0.5;\n    const cx = bbox.x + h_w;\n    const cy = bbox.y + h_h;\n    const w = Math.abs(h_w * xx) + Math.abs(h_h * yx);\n    const h = Math.abs(h_w * xy) + Math.abs(h_h * yy);\n    if (!target) {\n      target = new BBox(0, 0, 0, 0);\n    }\n    target.x = cx * xx + cy * yx + elements3[4] - w;\n    target.y = cx * xy + cy * yy + elements3[5] - h;\n    target.width = w + w;\n    target.height = h + h;\n    return target;\n  }\n  toContext(ctx) {\n    if (this.identity) {\n      return;\n    }\n    const e = this.elements;\n    ctx.transform(e[0], e[1], e[2], e[3], e[4], e[5]);\n  }\n  static flyweight(sourceMatrix) {\n    return _Matrix.instance.setElements(sourceMatrix.elements);\n  }\n  static updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, opts) {\n    const [bbcx, bbcy] = [0, 0];\n    const sx = scalingX;\n    const sy = scalingY;\n    let scx;\n    let scy;\n    if (sx === 1 && sy === 1) {\n      scx = 0;\n      scy = 0;\n    } else {\n      scx = (opts == null ? void 0 : opts.scalingCenterX) == null ? bbcx : opts == null ? void 0 : opts.scalingCenterX;\n      scy = (opts == null ? void 0 : opts.scalingCenterY) == null ? bbcy : opts == null ? void 0 : opts.scalingCenterY;\n    }\n    const r = rotation;\n    const cos = Math.cos(r);\n    const sin = Math.sin(r);\n    let rcx;\n    let rcy;\n    if (r === 0) {\n      rcx = 0;\n      rcy = 0;\n    } else {\n      rcx = (opts == null ? void 0 : opts.rotationCenterX) == null ? bbcx : opts == null ? void 0 : opts.rotationCenterX;\n      rcy = (opts == null ? void 0 : opts.rotationCenterY) == null ? bbcy : opts == null ? void 0 : opts.rotationCenterY;\n    }\n    const tx = translationX;\n    const ty = translationY;\n    const tx4 = scx * (1 - sx) - rcx;\n    const ty4 = scy * (1 - sy) - rcy;\n    matrix.setElements([cos * sx, sin * sx, -sin * sy, cos * sy, cos * tx4 - sin * ty4 + rcx + tx, sin * tx4 + cos * ty4 + rcy + ty]);\n    return matrix;\n  }\n  static fromContext(ctx) {\n    const domMatrix = ctx.getTransform();\n    return new _Matrix([domMatrix.a, domMatrix.b, domMatrix.c, domMatrix.d, domMatrix.e, domMatrix.f]);\n  }\n};\n_Matrix.instance = new _Matrix();\nvar Matrix = _Matrix;\n\n// packages/ag-charts-community/src/scene/node.ts\nvar PointerEvents = /* @__PURE__ */(PointerEvents2 => {\n  PointerEvents2[PointerEvents2[\"All\"] = 0] = \"All\";\n  PointerEvents2[PointerEvents2[\"None\"] = 1] = \"None\";\n  return PointerEvents2;\n})(PointerEvents || {});\nvar _Node = class _Node extends ChangeDetectable {\n  constructor() {\n    let {\n      isVirtual,\n      tag,\n      zIndex\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super();\n    /** Unique number to allow creation order to be easily determined. */\n    this.serialNumber = _Node._nextSerialNumber++;\n    /**\n     * Unique node ID in the form `ClassName-NaturalNumber`.\n     */\n    this.id = createId(this);\n    /**\n     * To simplify the type system (especially in Selections) we don't have the `Parent` node\n     * (one that has children). Instead, we mimic HTML DOM, where any node can have children.\n     * But we still need to distinguish regular leaf nodes from container leafs somehow.\n     */\n    this.isContainerNode = false;\n    this._virtualChildren = [];\n    this._children = [];\n    // Used to check for duplicate nodes.\n    this.childSet = {};\n    // These matrices may need to have package level visibility\n    // for performance optimization purposes.\n    this.matrix = new Matrix();\n    this.dirtyTransform = false;\n    this.scalingX = 1;\n    this.scalingY = 1;\n    this.scalingCenterX = null;\n    this.scalingCenterY = null;\n    this.rotationCenterX = null;\n    this.rotationCenterY = null;\n    this.rotation = 0;\n    this.translationX = 0;\n    this.translationY = 0;\n    this._childNodeCounts = {\n      groups: 0,\n      nonGroups: 0\n    };\n    this.visible = true;\n    this.dirtyZIndex = false;\n    this.zIndex = 0;\n    /** Discriminators for render order within a zIndex. */\n    this.zIndexSubOrder = void 0;\n    this.pointerEvents = 0 /* All */;\n    this.isVirtual = isVirtual != null ? isVirtual : false;\n    this.tag = tag != null ? tag : NaN;\n    this.zIndex = zIndex != null ? zIndex : 0;\n  }\n  /**\n   * Some arbitrary data bound to the node.\n   */\n  get datum() {\n    var _a, _b;\n    return (_b = this._datum) != null ? _b : (_a = this._parent) == null ? void 0 : _a.datum;\n  }\n  get previousDatum() {\n    return this._previousDatum;\n  }\n  set datum(datum) {\n    if (this._datum !== datum) {\n      this._previousDatum = this._datum;\n    }\n    this._datum = datum;\n  }\n  _setLayerManager(value) {\n    this._layerManager = value;\n    this._debug = value == null ? void 0 : value.debug;\n    for (const child of this._children) {\n      child._setLayerManager(value);\n    }\n    for (const child of this._virtualChildren) {\n      child._setLayerManager(value);\n    }\n  }\n  get layerManager() {\n    return this._layerManager;\n  }\n  *ancestors() {\n    let node = this;\n    while (node = node.parent) {\n      yield node;\n    }\n  }\n  *traverseUp() {\n    yield this;\n    yield* __yieldStar(this.ancestors());\n  }\n  get parent() {\n    return this._parent;\n  }\n  get children() {\n    return this._virtualChildren.length ? this._children.concat(this._virtualChildren.flatMap(next => next.children)) : this._children;\n  }\n  get virtualChildren() {\n    return this._virtualChildren;\n  }\n  hasVirtualChildren() {\n    return this._virtualChildren.length > 0;\n  }\n  // new Set<Node>()\n  setProperties(styles, pickKeys) {\n    const keys = pickKeys != null ? pickKeys : Object.keys(styles);\n    for (const key of keys) {\n      this[key] = styles[key];\n    }\n    return this;\n  }\n  /**\n   * Appends one or more new node instances to this parent.\n   * If one needs to:\n   * - move a child to the end of the list of children\n   * - move a child from one parent to another (including parents in other scenes)\n   * one should use the {@link insertBefore} method instead.\n   * @param nodes A node or nodes to append.\n   */\n  append(nodes) {\n    if (!Array.isArray(nodes)) {\n      nodes = [nodes];\n    }\n    for (const node of nodes) {\n      if (node.parent) {\n        throw new Error(\"\".concat(node, \" already belongs to another parent: \").concat(node.parent, \".\"));\n      }\n      if (node.layerManager) {\n        throw new Error(\"\".concat(node, \" already belongs to a scene: \").concat(node.layerManager, \".\"));\n      }\n      if (this.childSet[node.id]) {\n        throw new Error(\"Duplicate \".concat(node.constructor.name, \" node: \").concat(node));\n      }\n      if (node.isVirtual) {\n        this._virtualChildren.push(node);\n      } else {\n        this._children.push(node);\n      }\n      this.childSet[node.id] = true;\n      node._parent = this;\n      node._setLayerManager(this.layerManager);\n    }\n    this.dirtyZIndex = true;\n    this.markDirty(this, 3 /* MAJOR */);\n  }\n  appendChild(node) {\n    this.append(node);\n    return node;\n  }\n  removeChild(node) {\n    const error = () => {\n      throw new Error(\"The node to be removed is not a child of this node.\");\n    };\n    if (node.parent !== this) {\n      error();\n    }\n    if (node.isVirtual) {\n      const i = this._virtualChildren.indexOf(node);\n      if (i < 0) error();\n      this._virtualChildren.splice(i, 1);\n    } else {\n      const i = this._children.indexOf(node);\n      if (i < 0) error();\n      this._children.splice(i, 1);\n    }\n    delete this.childSet[node.id];\n    node._parent = void 0;\n    node._setLayerManager();\n    this.dirtyZIndex = true;\n    this.markDirty(node, 3 /* MAJOR */);\n    return node;\n  }\n  calculateCumulativeMatrix() {\n    this.computeTransformMatrix();\n    const matrix = Matrix.flyweight(this.matrix);\n    for (const parent of this.ancestors()) {\n      parent.computeTransformMatrix();\n      matrix.preMultiplySelf(parent.matrix);\n    }\n    return matrix;\n  }\n  transformPoint(x, y) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.invertSelf().transformPoint(x, y);\n  }\n  inverseTransformPoint(x, y) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.transformPoint(x, y);\n  }\n  transformBBox(bbox) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.invertSelf().transformBBox(bbox);\n  }\n  inverseTransformBBox(bbox) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.transformBBox(bbox);\n  }\n  markDirtyTransform() {\n    this.dirtyTransform = true;\n    this.markDirty(this, 3 /* MAJOR */);\n  }\n  containsPoint(_x, _y) {\n    return false;\n  }\n  /**\n   * Hit testing method.\n   * Recursively checks if the given point is inside this node or any of its children.\n   * Returns the first matching node or `undefined`.\n   * Nodes that render later (show on top) are hit tested first.\n   */\n  pickNode(x, y) {\n    var _a;\n    if (!this.visible || this.pointerEvents === 1 /* None */ || !this.containsPoint(x, y)) {\n      return;\n    }\n    const {\n      children\n    } = this;\n    if (children.length > 1e3) {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n        const containsPoint = (_a = child.computeTransformedBBox()) == null ? void 0 : _a.containsPoint(x, y);\n        const hit = containsPoint ? child.pickNode(x, y) : void 0;\n        if (hit) {\n          return hit;\n        }\n      }\n    } else if (children.length) {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const hit = children[i].pickNode(x, y);\n        if (hit) {\n          return hit;\n        }\n      }\n    } else if (!this.isContainerNode) {\n      return this;\n    }\n  }\n  getCachedBBox() {\n    var _a;\n    return (_a = this.cachedBBox) != null ? _a : BBox.zero;\n  }\n  computeBBox() {\n    return;\n  }\n  computeTransformedBBox() {\n    const bbox = this.computeBBox();\n    if (!bbox) {\n      return;\n    }\n    this.computeTransformMatrix();\n    const matrix = Matrix.flyweight(this.matrix);\n    for (const parent of this.ancestors()) {\n      parent.computeTransformMatrix();\n      matrix.preMultiplySelf(parent.matrix);\n    }\n    matrix.transformBBox(bbox, bbox);\n    return bbox;\n  }\n  computeTransformMatrix() {\n    if (!this.dirtyTransform) {\n      return;\n    }\n    const {\n      matrix,\n      scalingX,\n      scalingY,\n      rotation,\n      translationX,\n      translationY,\n      scalingCenterX,\n      scalingCenterY,\n      rotationCenterX,\n      rotationCenterY\n    } = this;\n    Matrix.updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, {\n      scalingCenterX,\n      scalingCenterY,\n      rotationCenterX,\n      rotationCenterY\n    });\n    this.dirtyTransform = false;\n  }\n  /** Perform any pre-rendering initialization. */\n  preRender() {\n    this._childNodeCounts.groups = 0;\n    this._childNodeCounts.nonGroups = 1;\n    for (const child of this.children) {\n      const childCounts = child.preRender();\n      this._childNodeCounts.groups += childCounts.groups;\n      this._childNodeCounts.nonGroups += childCounts.nonGroups;\n    }\n    return this._childNodeCounts;\n  }\n  render(renderCtx) {\n    const {\n      stats\n    } = renderCtx;\n    this._dirty = 0 /* NONE */;\n    this.cachedBBox = this.computeBBox();\n    if (stats) {\n      stats.nodesRendered++;\n    }\n  }\n  markDirty(_source) {\n    let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    let parentType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : type;\n    if (this._dirty > type || this._dirty === type && type === parentType) {\n      return;\n    }\n    this._dirty = type;\n    if (this.parent) {\n      this.parent.markDirty(this, parentType);\n    } else if (this.layerManager) {\n      this.layerManager.markDirty();\n    }\n  }\n  get dirty() {\n    return this._dirty;\n  }\n  markClean(opts) {\n    const {\n      force = false,\n      recursive = true\n    } = opts != null ? opts : {};\n    if (this._dirty === 0 /* NONE */ && !force) {\n      return;\n    }\n    this._dirty = 0 /* NONE */;\n    if (recursive !== false) {\n      for (const child of this._virtualChildren) {\n        child.markClean({\n          force\n        });\n      }\n    }\n    if (recursive === true) {\n      for (const child of this._children) {\n        child.markClean({\n          force\n        });\n      }\n    }\n  }\n  onVisibleChange() {}\n  get nodeCount() {\n    let count = 1;\n    let dirtyCount = this._dirty >= 0 /* NONE */ || this.dirtyTransform ? 1 : 0;\n    let visibleCount = this.visible ? 1 : 0;\n    const countChild = child => {\n      const {\n        count: childCount,\n        visibleCount: childVisibleCount,\n        dirtyCount: childDirtyCount\n      } = child.nodeCount;\n      count += childCount;\n      visibleCount += childVisibleCount;\n      dirtyCount += childDirtyCount;\n    };\n    for (const child of this._children) {\n      countChild(child);\n    }\n    for (const child of this._virtualChildren) {\n      countChild(child);\n    }\n    return {\n      count,\n      visibleCount,\n      dirtyCount\n    };\n  }\n  onZIndexChange() {\n    if (this.parent) {\n      this.parent.dirtyZIndex = true;\n    }\n  }\n};\n_Node._nextSerialNumber = 0;\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"scalingX\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"scalingY\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"scalingCenterX\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"scalingCenterY\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"rotationCenterX\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"rotationCenterY\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"rotation\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"translationX\", 2);\n__decorateClass([SceneChangeDetection({\n  type: \"transform\"\n})], _Node.prototype, \"translationY\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */,\n  changeCb: target => target.onVisibleChange()\n})], _Node.prototype, \"visible\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 1 /* TRIVIAL */,\n  changeCb: target => target.onZIndexChange()\n})], _Node.prototype, \"zIndex\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 1 /* TRIVIAL */,\n  changeCb: target => target.onZIndexChange()\n})], _Node.prototype, \"zIndexSubOrder\", 2);\nvar Node = _Node;\n\n// packages/ag-charts-community/src/util/color.ts\nvar srgbToLinear = value => {\n  const sign = value < 0 ? -1 : 1;\n  const abs = Math.abs(value);\n  if (abs <= 0.04045) return value / 12.92;\n  return sign * __pow((abs + 0.055) / 1.055, 2.4);\n};\nvar srgbFromLinear = value => {\n  const sign = value < 0 ? -1 : 1;\n  const abs = Math.abs(value);\n  if (abs > 31308e-7) {\n    return sign * (1.055 * __pow(abs, 1 / 2.4) - 0.055);\n  }\n  return 12.92 * value;\n};\nvar _Color = class _Color {\n  /**\n   * Every color component should be in the [0, 1] range.\n   * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n   * So, when animating colors, if the source or target color components are already near\n   * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n   * component value to end up outside of that range mid-animation. For this reason the constructor\n   * performs range checking/constraining.\n   * @param r Red component.\n   * @param g Green component.\n   * @param b Blue component.\n   * @param a Alpha (opacity) component.\n   */\n  constructor(r, g, b) {\n    let a = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    this.r = clamp(0, r || 0, 1);\n    this.g = clamp(0, g || 0, 1);\n    this.b = clamp(0, b || 0, 1);\n    this.a = clamp(0, a || 0, 1);\n  }\n  /**\n   * A color string can be in one of the following formats to be valid:\n   * - #rgb\n   * - #rrggbb\n   * - rgb(r, g, b)\n   * - rgba(r, g, b, a)\n   * - CSS color name such as 'white', 'orange', 'cyan', etc.\n   */\n  static validColorString(str) {\n    if (str.indexOf(\"#\") >= 0) {\n      return !!_Color.parseHex(str);\n    }\n    if (str.indexOf(\"rgb\") >= 0) {\n      return !!_Color.stringToRgba(str);\n    }\n    return !!_Color.nameToHex[str.toLowerCase()];\n  }\n  /**\n   * The given string can be in one of the following formats:\n   * - #rgb\n   * - #rrggbb\n   * - rgb(r, g, b)\n   * - rgba(r, g, b, a)\n   * - CSS color name such as 'white', 'orange', 'cyan', etc.\n   * @param str\n   */\n  static fromString(str) {\n    if (str.indexOf(\"#\") >= 0) {\n      return _Color.fromHexString(str);\n    }\n    const hex = _Color.nameToHex[str.toLowerCase()];\n    if (hex) {\n      return _Color.fromHexString(hex);\n    }\n    if (str.indexOf(\"rgb\") >= 0) {\n      return _Color.fromRgbaString(str);\n    }\n    throw new Error(\"Invalid color string: '\".concat(str, \"'\"));\n  }\n  static tryParseFromString(str) {\n    try {\n      return _Color.fromString(str);\n    } catch (e) {\n      Logger.warnOnce(\"invalid color string: '\".concat(str, \"'.\"));\n      return _Color.fromArray([0, 0, 0]);\n    }\n  }\n  // See https://drafts.csswg.org/css-color/#hex-notation\n  static parseHex(input) {\n    input = input.replace(/ /g, \"\").slice(1);\n    let parts;\n    switch (input.length) {\n      case 6:\n      case 8:\n        parts = [];\n        for (let i = 0; i < input.length; i += 2) {\n          parts.push(parseInt(\"\".concat(input[i]).concat(input[i + 1]), 16));\n        }\n        break;\n      case 3:\n      case 4:\n        parts = input.split(\"\").map(p => parseInt(p, 16)).map(p => p + p * 16);\n        break;\n    }\n    if ((parts == null ? void 0 : parts.length) >= 3 && parts.every(p => p >= 0)) {\n      if (parts.length === 3) {\n        parts.push(255);\n      }\n      return parts;\n    }\n  }\n  static fromHexString(str) {\n    const values = _Color.parseHex(str);\n    if (values) {\n      const [r, g, b, a] = values;\n      return new _Color(r / 255, g / 255, b / 255, a / 255);\n    }\n    throw new Error(\"Malformed hexadecimal color string: '\".concat(str, \"'\"));\n  }\n  static stringToRgba(str) {\n    let [po, pc] = [NaN, NaN];\n    for (let i = 0; i < str.length; i++) {\n      const c = str[i];\n      if (!po && c === \"(\") {\n        po = i;\n      } else if (c === \")\") {\n        pc = i;\n        break;\n      }\n    }\n    const contents = po && pc && str.substring(po + 1, pc);\n    if (!contents) {\n      return;\n    }\n    const parts = contents.split(\",\");\n    const rgba = [];\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n      let value = parseFloat(part);\n      if (isNaN(value)) {\n        return;\n      }\n      if (part.indexOf(\"%\") >= 0) {\n        value = clamp(0, value, 100);\n        value /= 100;\n      } else if (i === 3) {\n        value = clamp(0, value, 1);\n      } else {\n        value = clamp(0, value, 255);\n        value /= 255;\n      }\n      rgba.push(value);\n    }\n    return rgba;\n  }\n  static fromRgbaString(str) {\n    const rgba = _Color.stringToRgba(str);\n    if (rgba) {\n      if (rgba.length === 3) {\n        return new _Color(rgba[0], rgba[1], rgba[2]);\n      } else if (rgba.length === 4) {\n        return new _Color(rgba[0], rgba[1], rgba[2], rgba[3]);\n      }\n    }\n    throw new Error(\"Malformed rgb/rgba color string: '\".concat(str, \"'\"));\n  }\n  static fromArray(arr) {\n    if (arr.length === 4) {\n      return new _Color(arr[0], arr[1], arr[2], arr[3]);\n    }\n    if (arr.length === 3) {\n      return new _Color(arr[0], arr[1], arr[2]);\n    }\n    throw new Error(\"The given array should contain 3 or 4 color components (numbers).\");\n  }\n  static fromHSB(h, s, b) {\n    let alpha = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    const rgb = _Color.HSBtoRGB(h, s, b);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static fromHSL(h, s, l) {\n    let alpha = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    const rgb = _Color.HSLtoRGB(h, s, l);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static fromOKLCH(l, c, h) {\n    let alpha = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    const rgb = _Color.OKLCHtoRGB(l, c, h);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static padHex(str) {\n    return str.length === 1 ? \"0\" + str : str;\n  }\n  toHexString() {\n    let hex = \"#\" + _Color.padHex(Math.round(this.r * 255).toString(16)) + _Color.padHex(Math.round(this.g * 255).toString(16)) + _Color.padHex(Math.round(this.b * 255).toString(16));\n    if (this.a < 1) {\n      hex += _Color.padHex(Math.round(this.a * 255).toString(16));\n    }\n    return hex;\n  }\n  toRgbaString() {\n    let fractionDigits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n    const components = [Math.round(this.r * 255), Math.round(this.g * 255), Math.round(this.b * 255)];\n    const k = Math.pow(10, fractionDigits);\n    if (this.a !== 1) {\n      components.push(Math.round(this.a * k) / k);\n      return \"rgba(\".concat(components.join(\", \"), \")\");\n    }\n    return \"rgb(\".concat(components.join(\", \"), \")\");\n  }\n  toString() {\n    if (this.a === 1) {\n      return this.toHexString();\n    }\n    return this.toRgbaString();\n  }\n  toHSB() {\n    return _Color.RGBtoHSB(this.r, this.g, this.b);\n  }\n  static RGBtoOKLCH(r, g, b) {\n    const LSRGB0 = srgbToLinear(r);\n    const LSRGB1 = srgbToLinear(g);\n    const LSRGB2 = srgbToLinear(b);\n    const LMS0 = Math.cbrt(0.4122214708 * LSRGB0 + 0.5363325363 * LSRGB1 + 0.0514459929 * LSRGB2);\n    const LMS1 = Math.cbrt(0.2119034982 * LSRGB0 + 0.6806995451 * LSRGB1 + 0.1073969566 * LSRGB2);\n    const LMS2 = Math.cbrt(0.0883024619 * LSRGB0 + 0.2817188376 * LSRGB1 + 0.6299787005 * LSRGB2);\n    const OKLAB0 = 0.2104542553 * LMS0 + 0.793617785 * LMS1 - 0.0040720468 * LMS2;\n    const OKLAB1 = 1.9779984951 * LMS0 - 2.428592205 * LMS1 + 0.4505937099 * LMS2;\n    const OKLAB2 = 0.0259040371 * LMS0 + 0.7827717662 * LMS1 - 0.808675766 * LMS2;\n    const hue = Math.atan2(OKLAB2, OKLAB1) * 180 / Math.PI;\n    const OKLCH0 = OKLAB0;\n    const OKLCH1 = Math.hypot(OKLAB1, OKLAB2);\n    const OKLCH2 = hue >= 0 ? hue : hue + 360;\n    return [OKLCH0, OKLCH1, OKLCH2];\n  }\n  static OKLCHtoRGB(l, c, h) {\n    const OKLAB0 = l;\n    const OKLAB1 = c * Math.cos(h * Math.PI / 180);\n    const OKLAB2 = c * Math.sin(h * Math.PI / 180);\n    const LMS0 = __pow(OKLAB0 + 0.3963377774 * OKLAB1 + 0.2158037573 * OKLAB2, 3);\n    const LMS1 = __pow(OKLAB0 - 0.1055613458 * OKLAB1 - 0.0638541728 * OKLAB2, 3);\n    const LMS2 = __pow(OKLAB0 - 0.0894841775 * OKLAB1 - 1.291485548 * OKLAB2, 3);\n    const LSRGB0 = 4.0767416621 * LMS0 - 3.3077115913 * LMS1 + 0.2309699292 * LMS2;\n    const LSRGB1 = -1.2684380046 * LMS0 + 2.6097574011 * LMS1 - 0.3413193965 * LMS2;\n    const LSRGB2 = -0.0041960863 * LMS0 - 0.7034186147 * LMS1 + 1.707614701 * LMS2;\n    const SRGB0 = srgbFromLinear(LSRGB0);\n    const SRGB1 = srgbFromLinear(LSRGB1);\n    const SRGB2 = srgbFromLinear(LSRGB2);\n    return [SRGB0, SRGB1, SRGB2];\n  }\n  static RGBtoHSL(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const l = (max + min) / 2;\n    let h;\n    let s;\n    if (max === min) {\n      h = NaN;\n      s = 0;\n    } else {\n      const delta2 = max - min;\n      s = l > 0.5 ? delta2 / (2 - max - min) : delta2 / (max + min);\n      if (max === r) {\n        h = (g - b) / delta2 + (g < b ? 6 : 0);\n      } else if (max === g) {\n        h = (b - r) / delta2 + 2;\n      } else {\n        h = (r - g) / delta2 + 4;\n      }\n      h *= 360 / 6;\n    }\n    return [h, s, l];\n  }\n  static HSLtoRGB(h, s, l) {\n    if (s === 0) {\n      return [l, l, l];\n    }\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    function hueToRgb(t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n    const r = hueToRgb(h / 360 + 1 / 3);\n    const g = hueToRgb(h / 360);\n    const b = hueToRgb(h / 360 - 1 / 3);\n    return [r, g, b];\n  }\n  /**\n   * Converts the given RGB triple to an array of HSB (HSV) components.\n   * The hue component will be `NaN` for achromatic colors.\n   */\n  static RGBtoHSB(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const S = max === 0 ? 0 : (max - min) / max;\n    let H = NaN;\n    if (min !== max) {\n      const delta2 = max - min;\n      const rc = (max - r) / delta2;\n      const gc = (max - g) / delta2;\n      const bc = (max - b) / delta2;\n      if (r === max) {\n        H = bc - gc;\n      } else if (g === max) {\n        H = 2 + rc - bc;\n      } else {\n        H = 4 + gc - rc;\n      }\n      H /= 6;\n      if (H < 0) {\n        H = H + 1;\n      }\n    }\n    return [H * 360, S, max];\n  }\n  /**\n   * Converts the given HSB (HSV) triple to an array of RGB components.\n   */\n  static HSBtoRGB(H, S, B) {\n    if (isNaN(H)) {\n      H = 0;\n    }\n    H = (H % 360 + 360) % 360 / 360;\n    let r = 0;\n    let g = 0;\n    let b = 0;\n    if (S === 0) {\n      r = g = b = B;\n    } else {\n      const h = (H - Math.floor(H)) * 6;\n      const f = h - Math.floor(h);\n      const p = B * (1 - S);\n      const q = B * (1 - S * f);\n      const t = B * (1 - S * (1 - f));\n      switch (h >> 0) {\n        case 0:\n          r = B;\n          g = t;\n          b = p;\n          break;\n        case 1:\n          r = q;\n          g = B;\n          b = p;\n          break;\n        case 2:\n          r = p;\n          g = B;\n          b = t;\n          break;\n        case 3:\n          r = p;\n          g = q;\n          b = B;\n          break;\n        case 4:\n          r = t;\n          g = p;\n          b = B;\n          break;\n        case 5:\n          r = B;\n          g = p;\n          b = q;\n          break;\n      }\n    }\n    return [r, g, b];\n  }\n  derive(hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n    const hsb = _Color.RGBtoHSB(this.r, this.g, this.b);\n    let b = hsb[2];\n    if (b == 0 && brightnessFactor > 1) {\n      b = 0.05;\n    }\n    const h = ((hsb[0] + hueShift) % 360 + 360) % 360;\n    const s = clamp(0, hsb[1] * saturationFactor, 1);\n    b = clamp(0, b * brightnessFactor, 1);\n    const a = clamp(0, this.a * opacityFactor, 1);\n    const rgba = _Color.HSBtoRGB(h, s, b);\n    rgba.push(a);\n    return _Color.fromArray(rgba);\n  }\n  brighter() {\n    return this.derive(0, 1, 1 / 0.7, 1);\n  }\n  darker() {\n    return this.derive(0, 1, 0.7, 1);\n  }\n  static interpolate(color, other) {\n    const c0 = _Color.tryParseFromString(color);\n    const c1 = _Color.tryParseFromString(other);\n    return t => {\n      const i = (x, y) => x * (1 - t) + y * t;\n      const c = new _Color(i(c0.r, c1.r), i(c0.g, c1.g), i(c0.b, c1.b), i(c0.a, c1.a));\n      return c.toString();\n    };\n  }\n};\n_Color.didDebug = false;\n/**\n * CSS Color Module Level 4:\n * https://drafts.csswg.org/css-color/#named-colors\n */\n_Color.nameToHex = Object.freeze({\n  aliceblue: \"#F0F8FF\",\n  antiquewhite: \"#FAEBD7\",\n  aqua: \"#00FFFF\",\n  aquamarine: \"#7FFFD4\",\n  azure: \"#F0FFFF\",\n  beige: \"#F5F5DC\",\n  bisque: \"#FFE4C4\",\n  black: \"#000000\",\n  blanchedalmond: \"#FFEBCD\",\n  blue: \"#0000FF\",\n  blueviolet: \"#8A2BE2\",\n  brown: \"#A52A2A\",\n  burlywood: \"#DEB887\",\n  cadetblue: \"#5F9EA0\",\n  chartreuse: \"#7FFF00\",\n  chocolate: \"#D2691E\",\n  coral: \"#FF7F50\",\n  cornflowerblue: \"#6495ED\",\n  cornsilk: \"#FFF8DC\",\n  crimson: \"#DC143C\",\n  cyan: \"#00FFFF\",\n  darkblue: \"#00008B\",\n  darkcyan: \"#008B8B\",\n  darkgoldenrod: \"#B8860B\",\n  darkgray: \"#A9A9A9\",\n  darkgreen: \"#006400\",\n  darkgrey: \"#A9A9A9\",\n  darkkhaki: \"#BDB76B\",\n  darkmagenta: \"#8B008B\",\n  darkolivegreen: \"#556B2F\",\n  darkorange: \"#FF8C00\",\n  darkorchid: \"#9932CC\",\n  darkred: \"#8B0000\",\n  darksalmon: \"#E9967A\",\n  darkseagreen: \"#8FBC8F\",\n  darkslateblue: \"#483D8B\",\n  darkslategray: \"#2F4F4F\",\n  darkslategrey: \"#2F4F4F\",\n  darkturquoise: \"#00CED1\",\n  darkviolet: \"#9400D3\",\n  deeppink: \"#FF1493\",\n  deepskyblue: \"#00BFFF\",\n  dimgray: \"#696969\",\n  dimgrey: \"#696969\",\n  dodgerblue: \"#1E90FF\",\n  firebrick: \"#B22222\",\n  floralwhite: \"#FFFAF0\",\n  forestgreen: \"#228B22\",\n  fuchsia: \"#FF00FF\",\n  gainsboro: \"#DCDCDC\",\n  ghostwhite: \"#F8F8FF\",\n  gold: \"#FFD700\",\n  goldenrod: \"#DAA520\",\n  gray: \"#808080\",\n  green: \"#008000\",\n  greenyellow: \"#ADFF2F\",\n  grey: \"#808080\",\n  honeydew: \"#F0FFF0\",\n  hotpink: \"#FF69B4\",\n  indianred: \"#CD5C5C\",\n  indigo: \"#4B0082\",\n  ivory: \"#FFFFF0\",\n  khaki: \"#F0E68C\",\n  lavender: \"#E6E6FA\",\n  lavenderblush: \"#FFF0F5\",\n  lawngreen: \"#7CFC00\",\n  lemonchiffon: \"#FFFACD\",\n  lightblue: \"#ADD8E6\",\n  lightcoral: \"#F08080\",\n  lightcyan: \"#E0FFFF\",\n  lightgoldenrodyellow: \"#FAFAD2\",\n  lightgray: \"#D3D3D3\",\n  lightgreen: \"#90EE90\",\n  lightgrey: \"#D3D3D3\",\n  lightpink: \"#FFB6C1\",\n  lightsalmon: \"#FFA07A\",\n  lightseagreen: \"#20B2AA\",\n  lightskyblue: \"#87CEFA\",\n  lightslategray: \"#778899\",\n  lightslategrey: \"#778899\",\n  lightsteelblue: \"#B0C4DE\",\n  lightyellow: \"#FFFFE0\",\n  lime: \"#00FF00\",\n  limegreen: \"#32CD32\",\n  linen: \"#FAF0E6\",\n  magenta: \"#FF00FF\",\n  maroon: \"#800000\",\n  mediumaquamarine: \"#66CDAA\",\n  mediumblue: \"#0000CD\",\n  mediumorchid: \"#BA55D3\",\n  mediumpurple: \"#9370DB\",\n  mediumseagreen: \"#3CB371\",\n  mediumslateblue: \"#7B68EE\",\n  mediumspringgreen: \"#00FA9A\",\n  mediumturquoise: \"#48D1CC\",\n  mediumvioletred: \"#C71585\",\n  midnightblue: \"#191970\",\n  mintcream: \"#F5FFFA\",\n  mistyrose: \"#FFE4E1\",\n  moccasin: \"#FFE4B5\",\n  navajowhite: \"#FFDEAD\",\n  navy: \"#000080\",\n  oldlace: \"#FDF5E6\",\n  olive: \"#808000\",\n  olivedrab: \"#6B8E23\",\n  orange: \"#FFA500\",\n  orangered: \"#FF4500\",\n  orchid: \"#DA70D6\",\n  palegoldenrod: \"#EEE8AA\",\n  palegreen: \"#98FB98\",\n  paleturquoise: \"#AFEEEE\",\n  palevioletred: \"#DB7093\",\n  papayawhip: \"#FFEFD5\",\n  peachpuff: \"#FFDAB9\",\n  peru: \"#CD853F\",\n  pink: \"#FFC0CB\",\n  plum: \"#DDA0DD\",\n  powderblue: \"#B0E0E6\",\n  purple: \"#800080\",\n  rebeccapurple: \"#663399\",\n  red: \"#FF0000\",\n  rosybrown: \"#BC8F8F\",\n  royalblue: \"#4169E1\",\n  saddlebrown: \"#8B4513\",\n  salmon: \"#FA8072\",\n  sandybrown: \"#F4A460\",\n  seagreen: \"#2E8B57\",\n  seashell: \"#FFF5EE\",\n  sienna: \"#A0522D\",\n  silver: \"#C0C0C0\",\n  skyblue: \"#87CEEB\",\n  slateblue: \"#6A5ACD\",\n  slategray: \"#708090\",\n  slategrey: \"#708090\",\n  snow: \"#FFFAFA\",\n  springgreen: \"#00FF7F\",\n  steelblue: \"#4682B4\",\n  tan: \"#D2B48C\",\n  teal: \"#008080\",\n  thistle: \"#D8BFD8\",\n  tomato: \"#FF6347\",\n  transparent: \"#00000000\",\n  turquoise: \"#40E0D0\",\n  violet: \"#EE82EE\",\n  wheat: \"#F5DEB3\",\n  white: \"#FFFFFF\",\n  whitesmoke: \"#F5F5F5\",\n  yellow: \"#FFFF00\",\n  yellowgreen: \"#9ACD32\"\n});\nvar Color = _Color;\n\n// packages/ag-charts-community/src/util/interpolate.ts\nfunction interpolateNumber(a, b) {\n  return d => Number(a) * (1 - d) + Number(b) * d;\n}\nfunction interpolateColor(a, b) {\n  if (typeof a === \"string\") {\n    try {\n      a = Color.fromString(a);\n    } catch (e) {\n      a = Color.fromArray([0, 0, 0]);\n    }\n  }\n  if (typeof b === \"string\") {\n    try {\n      b = Color.fromString(b);\n    } catch (e) {\n      b = Color.fromArray([0, 0, 0]);\n    }\n  }\n  const red = interpolateNumber(a.r, b.r);\n  const green = interpolateNumber(a.g, b.g);\n  const blue = interpolateNumber(a.b, b.b);\n  const alpha = interpolateNumber(a.a, b.a);\n  return d => Color.fromArray([red(d), green(d), blue(d), alpha(d)]).toRgbaString();\n}\n\n// packages/ag-charts-community/src/motion/easing.ts\nvar easing_exports = {};\n__export(easing_exports, {\n  easeIn: () => easeIn,\n  easeInOut: () => easeInOut,\n  easeInOutQuad: () => easeInOutQuad,\n  easeInQuad: () => easeInQuad,\n  easeOut: () => easeOut,\n  easeOutQuad: () => easeOutQuad,\n  inverseEaseOut: () => inverseEaseOut,\n  linear: () => linear\n});\nvar linear = n => n;\nvar easeIn = n => 1 - Math.cos(n * Math.PI / 2);\nvar easeOut = n => Math.sin(n * Math.PI / 2);\nvar easeInOut = n => -(Math.cos(n * Math.PI) - 1) / 2;\nvar easeInQuad = n => n * n;\nvar easeOutQuad = n => 1 - __pow(1 - n, 2);\nvar easeInOutQuad = n => n < 0.5 ? 2 * n * n : 1 - __pow(-2 * n + 2, 2) / 2;\nvar inverseEaseOut = x => 2 * Math.asin(x) / Math.PI;\n\n// packages/ag-charts-community/src/motion/animation.ts\nvar QUICK_TRANSITION = 0.2;\nvar PHASE_ORDER = [\"initial\", \"remove\", \"update\", \"add\", \"trailing\", \"end\", \"none\"];\nvar PHASE_METADATA = {\n  initial: {\n    animationDuration: 1,\n    animationDelay: 0\n  },\n  add: {\n    animationDuration: 0.25,\n    animationDelay: 0.75\n  },\n  remove: {\n    animationDuration: 0.25,\n    animationDelay: 0\n  },\n  update: {\n    animationDuration: 0.5,\n    animationDelay: 0.25\n  },\n  trailing: {\n    animationDuration: QUICK_TRANSITION,\n    animationDelay: 1,\n    skipIfNoEarlierAnimations: true\n  },\n  end: {\n    animationDelay: 1 + QUICK_TRANSITION,\n    animationDuration: 0,\n    skipIfNoEarlierAnimations: true\n  },\n  none: {\n    animationDuration: 0,\n    animationDelay: 0\n  }\n};\nvar RepeatType = /* @__PURE__ */(RepeatType2 => {\n  RepeatType2[\"Loop\"] = \"loop\";\n  RepeatType2[\"Reverse\"] = \"reverse\";\n  return RepeatType2;\n})(RepeatType || {});\nfunction isNodeArray(array) {\n  return array.every(n => n instanceof Node);\n}\nfunction deconstructSelectionsOrNodes(selectionsOrNodes) {\n  return isNodeArray(selectionsOrNodes) ? {\n    nodes: selectionsOrNodes,\n    selections: []\n  } : {\n    nodes: [],\n    selections: selectionsOrNodes\n  };\n}\nvar Animation = class {\n  constructor(opts) {\n    this.isComplete = false;\n    this.elapsed = 0;\n    this.iteration = 0;\n    this.isPlaying = false;\n    this.isReverse = false;\n    var _a, _b, _c, _d, _e, _f, _g;\n    this.id = opts.id;\n    this.groupId = opts.groupId;\n    this.autoplay = (_a = opts.autoplay) != null ? _a : true;\n    this.ease = (_b = opts.ease) != null ? _b : linear;\n    this.phase = opts.phase;\n    const durationProportion = (_c = opts.duration) != null ? _c : PHASE_METADATA[this.phase].animationDuration;\n    this.duration = durationProportion * opts.defaultDuration;\n    this.delay = ((_d = opts.delay) != null ? _d : 0) * opts.defaultDuration;\n    this.onComplete = opts.onComplete;\n    this.onPlay = opts.onPlay;\n    this.onStop = opts.onStop;\n    this.onUpdate = opts.onUpdate;\n    this.interpolate = this.createInterpolator(opts.from, opts.to);\n    this.from = opts.from;\n    if (opts.skip === true) {\n      (_e = this.onUpdate) == null ? void 0 : _e.call(this, opts.to, false, this);\n      (_f = this.onStop) == null ? void 0 : _f.call(this, this);\n      (_g = this.onComplete) == null ? void 0 : _g.call(this, this);\n      this.isComplete = true;\n    }\n    if (opts.collapsable !== false) {\n      this.duration = this.checkCollapse(opts, this.duration);\n    }\n  }\n  checkCollapse(opts, calculatedDuration) {\n    if (opts.from === opts.to) return 0;\n    const diff2 = typeof opts.from === \"object\" ? jsonDiff(opts.from, opts.to) : null;\n    if (diff2) {\n      return calculatedDuration;\n    }\n    return 0;\n  }\n  play() {\n    let initialUpdate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var _a, _b;\n    if (this.isPlaying || this.isComplete) return;\n    this.isPlaying = true;\n    (_a = this.onPlay) == null ? void 0 : _a.call(this, this);\n    if (!this.autoplay) return;\n    this.autoplay = false;\n    if (!initialUpdate) return;\n    (_b = this.onUpdate) == null ? void 0 : _b.call(this, this.from, true, this);\n  }\n  pause() {\n    this.isPlaying = false;\n  }\n  stop() {\n    var _a;\n    this.isPlaying = false;\n    if (!this.isComplete) {\n      this.isComplete = true;\n      (_a = this.onStop) == null ? void 0 : _a.call(this, this);\n    }\n  }\n  update(time2) {\n    var _a, _b;\n    if (this.isComplete) return time2;\n    if (!this.isPlaying && this.autoplay) {\n      this.play(true);\n    }\n    const previousElapsed = this.elapsed;\n    this.elapsed += time2;\n    if (this.delay > this.elapsed) return 0;\n    const value = this.interpolate(this.isReverse ? 1 - this.delta : this.delta);\n    (_a = this.onUpdate) == null ? void 0 : _a.call(this, value, false, this);\n    const totalDuration = this.delay + this.duration;\n    if (this.elapsed >= totalDuration) {\n      this.stop();\n      this.isComplete = true;\n      (_b = this.onComplete) == null ? void 0 : _b.call(this, this);\n      return time2 - (totalDuration - previousElapsed);\n    }\n    return 0;\n  }\n  get delta() {\n    return this.ease(clamp(0, (this.elapsed - this.delay) / this.duration, 1));\n  }\n  createInterpolator(from, to) {\n    if (typeof to !== \"object\" || isInterpolating(to)) {\n      return this.interpolateValue(from, to);\n    }\n    const interpolatorEntries = [];\n    for (const key in to) {\n      const interpolator = this.interpolateValue(from[key], to[key]);\n      if (interpolator != null) {\n        interpolatorEntries.push([key, interpolator]);\n      }\n    }\n    return d => {\n      const result = {};\n      for (const [key, interpolator] of interpolatorEntries) {\n        result[key] = interpolator(d);\n      }\n      return result;\n    };\n  }\n  interpolateValue(a, b) {\n    if (a === void 0 || b === void 0) {\n      return;\n    } else if (isInterpolating(a)) {\n      return d => a[interpolate](b, d);\n    }\n    try {\n      switch (typeof a) {\n        case \"number\":\n          return interpolateNumber(a, b);\n        case \"string\":\n          return interpolateColor(a, b);\n        case \"boolean\":\n          if (a === b) return () => a;\n          break;\n      }\n    } catch (e) {}\n    throw new Error(\"Unable to interpolate values: \".concat(a, \", \").concat(b));\n  }\n};\n\n// packages/ag-charts-community/src/motion/fromToMotion.ts\nvar NODE_UPDATE_STATE_TO_PHASE_MAPPING = {\n  added: \"add\",\n  updated: \"update\",\n  removed: \"remove\",\n  unknown: \"initial\",\n  \"no-op\": \"none\"\n};\nfunction fromToMotion(groupId, subId, animationManager, selectionsOrNodes, fns, getDatumId, diff2) {\n  const {\n    fromFn,\n    toFn,\n    intermediateFn\n  } = fns;\n  const {\n    nodes,\n    selections\n  } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  const processNodes = (liveNodes, subNodes) => {\n    var _c;\n    let prevFromProps;\n    let liveNodeIndex = 0;\n    let nodeIndex = 0;\n    for (const node of subNodes) {\n      const isLive = liveNodes[liveNodeIndex] === node;\n      const ctx = {\n        last: nodeIndex >= subNodes.length - 1,\n        lastLive: liveNodeIndex >= liveNodes.length - 1,\n        prev: subNodes[nodeIndex - 1],\n        prevFromProps,\n        prevLive: liveNodes[liveNodeIndex - 1],\n        next: subNodes[nodeIndex + 1],\n        nextLive: liveNodes[liveNodeIndex + (isLive ? 1 : 0)]\n      };\n      const animationId = \"\".concat(groupId, \"_\").concat(subId, \"_\").concat(node.id);\n      animationManager.stopByAnimationId(animationId);\n      let status = \"unknown\";\n      if (!isLive) {\n        status = \"removed\";\n      } else if (getDatumId && diff2) {\n        status = calculateStatus(node, node.datum, getDatumId, diff2);\n      }\n      const _a = fromFn(node, node.datum, status, ctx),\n        {\n          phase,\n          start,\n          finish,\n          delay,\n          duration\n        } = _a,\n        from = __objRest(_a, [\"phase\", \"start\", \"finish\", \"delay\", \"duration\"]);\n      const _b = toFn(node, node.datum, status, ctx),\n        {\n          phase: toPhase,\n          start: toStart,\n          finish: toFinish,\n          delay: toDelay,\n          duration: toDuration\n        } = _b,\n        to = __objRest(_b, [\"phase\", \"start\", \"finish\", \"delay\", \"duration\"]);\n      const collapsable = finish == null && toFinish == null;\n      animationManager.animate({\n        id: animationId,\n        groupId,\n        phase: (_c = phase != null ? phase : toPhase) != null ? _c : \"update\",\n        duration: duration != null ? duration : toDuration,\n        delay: delay != null ? delay : toDelay,\n        from,\n        to,\n        ease: easeOut,\n        collapsable,\n        onPlay: () => {\n          node.setProperties(__spreadValues(__spreadValues({}, start), toStart));\n        },\n        onUpdate(props) {\n          node.setProperties(props);\n          if (intermediateFn) {\n            node.setProperties(intermediateFn(node, node.datum, status, ctx));\n          }\n        },\n        onStop: () => {\n          node.setProperties(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, start), toStart), from), to), finish), toFinish));\n        }\n      });\n      if (isLive) {\n        liveNodeIndex++;\n      }\n      nodeIndex++;\n      prevFromProps = from;\n    }\n  };\n  let selectionIndex = 0;\n  for (const selection of selections) {\n    const selectionNodes = selection.nodes();\n    const liveNodes = selectionNodes.filter(n => !selection.isGarbage(n));\n    processNodes(liveNodes, selectionNodes);\n    animationManager.animate({\n      id: \"\".concat(groupId, \"_\").concat(subId, \"_selection_\").concat(selectionIndex),\n      groupId,\n      phase: \"end\",\n      from: 0,\n      to: 1,\n      ease: easeOut,\n      onStop() {\n        selection.cleanup();\n      }\n    });\n    selectionIndex++;\n  }\n  processNodes(nodes, nodes);\n}\nfunction staticFromToMotion(groupId, subId, animationManager, selectionsOrNodes, from, to, extraOpts) {\n  const {\n    nodes,\n    selections\n  } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  const {\n    start,\n    finish,\n    phase\n  } = extraOpts;\n  const collapsable = finish == null;\n  animationManager.animate({\n    id: \"\".concat(groupId, \"_\").concat(subId),\n    groupId,\n    phase: phase != null ? phase : \"update\",\n    from,\n    to,\n    ease: easeOut,\n    collapsable,\n    onPlay: () => {\n      if (!start) return;\n      for (const node of nodes) {\n        node.setProperties(start);\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(start);\n        }\n      }\n    },\n    onUpdate(props) {\n      for (const node of nodes) {\n        node.setProperties(props);\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(props);\n        }\n      }\n    },\n    onStop: () => {\n      for (const node of nodes) {\n        node.setProperties(__spreadValues(__spreadValues({}, to), finish));\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(__spreadValues(__spreadValues({}, to), finish));\n        }\n      }\n    }\n  });\n}\nfunction calculateStatus(node, datum, getDatumId, diff2) {\n  const id = getDatumId(node, datum);\n  if (diff2.added.has(id)) {\n    return \"added\";\n  }\n  if (diff2.removed.has(id)) {\n    return \"removed\";\n  }\n  return \"updated\";\n}\n\n// packages/ag-charts-community/src/util/angle.ts\nvar twoPi = Math.PI * 2;\nfunction normalizeAngle360(radians) {\n  radians %= twoPi;\n  radians += twoPi;\n  radians %= twoPi;\n  return radians;\n}\nfunction normalizeAngle360Inclusive(radians) {\n  radians %= twoPi;\n  radians += twoPi;\n  if (radians !== twoPi) {\n    radians %= twoPi;\n  }\n  return radians;\n}\nfunction normalizeAngle180(radians) {\n  radians %= twoPi;\n  if (radians < -Math.PI) {\n    radians += twoPi;\n  } else if (radians >= Math.PI) {\n    radians -= twoPi;\n  }\n  return radians;\n}\nfunction isBetweenAngles(targetAngle, startAngle, endAngle) {\n  const t = normalizeAngle360(targetAngle);\n  const a0 = normalizeAngle360(startAngle);\n  const a1 = normalizeAngle360Inclusive(endAngle);\n  if (a0 <= a1) {\n    return a0 <= t && t <= a1;\n  } else {\n    return a0 <= t || t <= a1;\n  }\n}\nfunction toRadians(degrees) {\n  return degrees / 180 * Math.PI;\n}\nfunction toDegrees(radians) {\n  return radians / Math.PI * 180;\n}\nfunction angleBetween(angle0, angle1) {\n  angle0 = normalizeAngle360(angle0);\n  angle1 = normalizeAngle360(angle1);\n  return angle1 - angle0 + (angle0 > angle1 ? 2 * Math.PI : 0);\n}\nfunction displacePointFromVector(centerX, centerY, radius, angle) {\n  const x = centerX + radius * Math.cos(angle);\n  const y = centerY + radius * Math.sin(angle);\n  return {\n    x,\n    y\n  };\n}\n\n// packages/ag-charts-community/src/scale/invalidating.ts\nvar Invalidating = (target, propertyKey) => {\n  const mappedProperty = Symbol(String(propertyKey));\n  target[mappedProperty] = void 0;\n  Object.defineProperty(target, propertyKey, {\n    get() {\n      return this[mappedProperty];\n    },\n    set(newValue) {\n      const oldValue = this[mappedProperty];\n      if (oldValue !== newValue) {\n        this[mappedProperty] = newValue;\n        this.invalid = true;\n      }\n    },\n    enumerable: true,\n    configurable: false\n  });\n};\n\n// packages/ag-charts-community/src/scale/bandScale.ts\nvar _BandScale = class _BandScale {\n  constructor() {\n    this.type = \"band\";\n    this.invalid = true;\n    this.interval = void 0;\n    /**\n     * Maps datum to its index in the {@link domain} array.\n     * Used to check for duplicate datums (not allowed).\n     */\n    this.index = /* @__PURE__ */new Map();\n    /**\n     * The output range values for datum at each index.\n     */\n    this.ordinalRange = [];\n    /**\n     * Contains unique datums only. Since `{}` is used in place of `Map`\n     * for IE11 compatibility, the datums are converted `toString` before\n     * the uniqueness check.\n     */\n    this._domain = [];\n    this.range = [0, 1];\n    this._bandwidth = 1;\n    this._step = 1;\n    this._rawBandwidth = 1;\n    /**\n     * The ratio of the range that is reserved for space between bands.\n     */\n    this._paddingInner = 0;\n    /**\n     * The ratio of the range that is reserved for space before the first\n     * and after the last band.\n     */\n    this._paddingOuter = 0;\n    this.round = false;\n  }\n  static is(value) {\n    return value instanceof _BandScale;\n  }\n  refresh() {\n    if (!this.invalid) return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n  set domain(values) {\n    this.invalid = true;\n    const domain = [];\n    this.index = /* @__PURE__ */new Map();\n    const index = this.index;\n    values.forEach(value => {\n      if (this.getIndex(value) === void 0) {\n        index.set(value, domain.push(value) - 1);\n      }\n    });\n    this._domain = domain;\n  }\n  get domain() {\n    return this._domain;\n  }\n  ticks() {\n    this.refresh();\n    let {\n      interval = 1\n    } = this;\n    if (typeof interval !== \"number\") {\n      interval = Number(interval);\n    }\n    const step = Math.abs(Math.round(interval));\n    return this._domain.filter((_, i) => i % step === 0);\n  }\n  convert(d) {\n    this.refresh();\n    const i = this.getIndex(d);\n    if (i === void 0) {\n      return NaN;\n    }\n    const r = this.ordinalRange[i];\n    if (r === void 0) {\n      return NaN;\n    }\n    return r;\n  }\n  invert(position) {\n    this.refresh();\n    const index = this.ordinalRange.findIndex(p => p === position);\n    return this.domain[index];\n  }\n  invertNearest(position) {\n    var _a;\n    this.refresh();\n    let nearest = -1;\n    let minDistance = Infinity;\n    const index = this.ordinalRange.findIndex((p, i) => {\n      if (p === position) return true;\n      const distance2 = Math.abs(position - p);\n      if (distance2 < minDistance) {\n        minDistance = distance2;\n        nearest = i;\n      }\n      return false;\n    });\n    return (_a = this.domain[index]) != null ? _a : this.domain[nearest];\n  }\n  get bandwidth() {\n    this.refresh();\n    return this._bandwidth;\n  }\n  get step() {\n    this.refresh();\n    return this._step;\n  }\n  get rawBandwidth() {\n    this.refresh();\n    return this._rawBandwidth;\n  }\n  set padding(value) {\n    value = clamp(0, value, 1);\n    this._paddingInner = value;\n    this._paddingOuter = value;\n  }\n  get padding() {\n    return this._paddingInner;\n  }\n  set paddingInner(value) {\n    this._paddingInner = clamp(0, value, 1);\n  }\n  get paddingInner() {\n    return this._paddingInner;\n  }\n  set paddingOuter(value) {\n    this._paddingOuter = clamp(0, value, 1);\n  }\n  get paddingOuter() {\n    return this._paddingOuter;\n  }\n  update() {\n    const count = this._domain.length;\n    if (count === 0) {\n      return;\n    }\n    const round3 = this.round;\n    const paddingInner = this._paddingInner;\n    const paddingOuter = this._paddingOuter;\n    const [r0, r1] = this.range;\n    const width = r1 - r0;\n    const rawStep = width / Math.max(1, count + 2 * paddingOuter - paddingInner);\n    const step = round3 ? Math.floor(rawStep) : rawStep;\n    const fullBandWidth = step * (count - paddingInner);\n    const x0 = r0 + (width - fullBandWidth) / 2;\n    const start = round3 ? Math.round(x0) : x0;\n    const bw = step * (1 - paddingInner);\n    const bandwidth = round3 ? Math.round(bw) : bw;\n    const rawBandwidth = rawStep * (1 - paddingInner);\n    const values = [];\n    for (let i = 0; i < count; i++) {\n      values.push(start + step * i);\n    }\n    this._bandwidth = bandwidth;\n    this._rawBandwidth = rawBandwidth;\n    this._step = step;\n    this.ordinalRange = values;\n  }\n  getIndex(value) {\n    if (!(value instanceof Date)) {\n      return this.index.get(value);\n    }\n    const valueOf = value.valueOf();\n    let index = 0;\n    for (const key of this.index.keys()) {\n      if (key instanceof Date && key.valueOf() === valueOf) {\n        return index;\n      }\n      index++;\n    }\n  }\n};\n__decorateClass([Invalidating], _BandScale.prototype, \"interval\", 2);\n__decorateClass([Invalidating], _BandScale.prototype, \"range\", 2);\n__decorateClass([Invalidating], _BandScale.prototype, \"round\", 2);\nvar BandScale = _BandScale;\n\n// packages/ag-charts-community/src/util/default.ts\nfunction Default(defaultValue) {\n  let replaces = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [void 0];\n  return addTransformToInstanceProperty((_, __, v) => {\n    if (replaces.includes(v)) {\n      return isFunction(defaultValue) ? defaultValue(v) : defaultValue;\n    }\n    return v;\n  });\n}\n\n// packages/ag-charts-community/src/util/validation.ts\nfunction Validate(predicate) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    optional = false,\n    property: overrideProperty\n  } = options;\n  return addTransformToInstanceProperty((target, property, value) => {\n    var _a;\n    const context = __spreadProps(__spreadValues({}, options), {\n      target,\n      property\n    });\n    if (optional && typeof value === \"undefined\" || predicate(value, context)) {\n      if (isProperties(target[property]) && !isProperties(value)) {\n        target[property].set(value);\n        return target[property];\n      }\n      return value;\n    }\n    const cleanKey = overrideProperty != null ? overrideProperty : String(property).replace(/^_*/, \"\");\n    const targetName = (_a = target.constructor.className) != null ? _a : target.constructor.name.replace(/Properties$/, \"\");\n    let valueString = stringify(value);\n    const maxLength = 50;\n    if (valueString != null && valueString.length > maxLength) {\n      const excessCharacters = valueString.length - maxLength;\n      valueString = valueString.slice(0, maxLength) + \"... (+\".concat(excessCharacters, \" characters)\");\n    }\n    Logger.warn(\"Property [\".concat(cleanKey, \"] of [\").concat(targetName, \"] cannot be set to [\").concat(valueString, \"]\").concat(predicate.message ? \"; expecting \".concat(getPredicateMessage(predicate, context)) : \"\", \", ignoring.\"));\n    return BREAK_TRANSFORM_CHAIN;\n  }, void 0, {\n    optional\n  });\n}\nvar AND = function () {\n  for (var _len18 = arguments.length, predicates = new Array(_len18), _key18 = 0; _key18 < _len18; _key18++) {\n    predicates[_key18] = arguments[_key18];\n  }\n  const messages = [];\n  return predicateWithMessage((value, ctx) => {\n    messages.length = 0;\n    return predicates.every(predicate => {\n      const isValid = predicate(value, ctx);\n      if (!isValid) {\n        messages.push(getPredicateMessage(predicate, ctx));\n      }\n      return isValid;\n    });\n  }, () => messages.filter(Boolean).join(\" AND \"));\n};\nvar OR = function () {\n  for (var _len19 = arguments.length, predicates = new Array(_len19), _key19 = 0; _key19 < _len19; _key19++) {\n    predicates[_key19] = arguments[_key19];\n  }\n  return predicateWithMessage((value, ctx) => predicates.some(predicate => predicate(value, ctx)), ctx => predicates.map(getPredicateMessageMapper(ctx)).filter(Boolean).join(\" OR \"));\n};\nvar OBJECT = attachObjectRestrictions(predicateWithMessage((value, ctx) => isProperties(value) || isObject(value) && isProperties(ctx.target[ctx.property]), \"a properties object\"));\nvar PLAIN_OBJECT = attachObjectRestrictions(predicateWithMessage(value => isObject(value), \"an object\"));\nvar BOOLEAN = predicateWithMessage(isBoolean, \"a boolean\");\nvar FUNCTION = predicateWithMessage(isFunction, \"a function\");\nvar STRING = predicateWithMessage(isString, \"a string\");\nvar NUMBER = attachNumberRestrictions(predicateWithMessage(isFiniteNumber, \"a number\"));\nvar NAN = predicateWithMessage(value => isNumber(value) && isNaN(value), \"NaN\");\nvar POSITIVE_NUMBER = NUMBER.restrict({\n  min: 0\n});\nvar RATIO = NUMBER.restrict({\n  min: 0,\n  max: 1\n});\nvar DEGREE = NUMBER.restrict({\n  min: -360,\n  max: 360\n});\nvar NUMBER_OR_NAN = OR(NUMBER, NAN);\nvar ARRAY = attachArrayRestrictions(predicateWithMessage(isArray, \"an array\"));\nvar ARRAY_OF = (predicate, message) => predicateWithMessage((value, ctx) => isArray(value) && value.every(item => predicate(item, ctx)), ctx => {\n  var _a;\n  const arrayMessage = (_a = getPredicateMessage(ARRAY, ctx)) != null ? _a : \"\";\n  return message ? \"\".concat(arrayMessage, \" of \").concat(message) : arrayMessage;\n});\nvar isComparable = value => isFiniteNumber(value) || isValidDate(value);\nvar LESS_THAN = otherField => predicateWithMessage((v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v < ctx.target[otherField], \"to be less than \".concat(otherField));\nvar GREATER_THAN = otherField => predicateWithMessage((v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v > ctx.target[otherField], \"to be greater than \".concat(otherField));\nvar DATE = predicateWithMessage(isValidDate, \"Date object\");\nvar DATE_OR_DATETIME_MS = OR(DATE, POSITIVE_NUMBER);\nvar colorMessage = \"A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc\";\nvar COLOR_STRING = predicateWithMessage(v => isString(v) && Color.validColorString(v), \"color String. \".concat(colorMessage));\nvar COLOR_STRING_ARRAY = predicateWithMessage(ARRAY_OF(COLOR_STRING), \"color strings. \".concat(colorMessage));\nvar BOOLEAN_ARRAY = ARRAY_OF(BOOLEAN, \"boolean values\");\nvar NUMBER_ARRAY = ARRAY_OF(NUMBER, \"numbers\");\nvar STRING_ARRAY = ARRAY_OF(STRING, \"strings\");\nvar DATE_ARRAY = predicateWithMessage(ARRAY_OF(DATE), \"Date objects\");\nvar OBJECT_ARRAY = predicateWithMessage(ARRAY_OF(OBJECT), \"objects\");\nvar LINE_CAP = UNION([\"butt\", \"round\", \"square\"], \"a line cap\");\nvar LINE_JOIN = UNION([\"round\", \"bevel\", \"miter\"], \"a line join\");\nvar LINE_DASH = predicateWithMessage(ARRAY_OF(POSITIVE_NUMBER), \"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels.\");\nvar POSITION2 = UNION([\"top\", \"right\", \"bottom\", \"left\"], \"a position\");\nvar FONT_STYLE = UNION([\"normal\", \"italic\", \"oblique\"], \"a font style\");\nvar FONT_WEIGHT2 = OR(UNION([\"normal\", \"bold\", \"bolder\", \"lighter\"], \"a font weight\"), NUMBER.restrict({\n  min: 1,\n  max: 1e3\n}));\nvar TEXT_WRAP = UNION([\"never\", \"always\", \"hyphenate\", \"on-space\"], \"a text wrap strategy\");\nvar TEXT_ALIGN = UNION([\"left\", \"center\", \"right\"], \"a text align\");\nvar VERTICAL_ALIGN = UNION([\"top\", \"middle\", \"bottom\"], \"a vertical align\");\nvar OVERFLOW_STRATEGY = UNION([\"ellipsis\", \"hide\"], \"an overflow strategy\");\nvar DIRECTION = UNION([\"horizontal\", \"vertical\"], \"a direction\");\nvar PLACEMENT = UNION([\"inside\", \"outside\"], \"a placement\");\nvar INTERACTION_RANGE = OR(UNION([\"exact\", \"nearest\"], \"interaction range\"), NUMBER);\nvar LABEL_PLACEMENT = UNION([\"top\", \"bottom\", \"left\", \"right\"]);\nfunction UNION(options) {\n  let message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"a\";\n  return predicateWithMessage(v => options.includes(v), \"\".concat(message, \" keyword such as \").concat(joinUnionOptions(options)));\n}\nvar MIN_SPACING = OR(AND(NUMBER.restrict({\n  min: 1\n}), LESS_THAN(\"maxSpacing\")), NAN);\nvar MAX_SPACING = OR(AND(NUMBER.restrict({\n  min: 1\n}), GREATER_THAN(\"minSpacing\")), NAN);\nfunction predicateWithMessage(predicate, message) {\n  predicate.message = message;\n  return predicate;\n}\nfunction joinUnionOptions(options) {\n  const values = options.map(option => \"'\".concat(option, \"'\"));\n  if (values.length === 1) {\n    return values[0];\n  }\n  const lastValue = values.pop();\n  return \"\".concat(values.join(\", \"), \" or \").concat(lastValue);\n}\nfunction getPredicateMessage(predicate, ctx) {\n  return isFunction(predicate.message) ? predicate.message(ctx) : predicate.message;\n}\nfunction getPredicateMessageMapper(ctx) {\n  return predicate => getPredicateMessage(predicate, ctx);\n}\nfunction attachArrayRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict() {\n      let {\n        length,\n        minLength\n      } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      let message = \"an array\";\n      if (isNumber(minLength) && minLength > 0) {\n        message = \"a non-empty array\";\n      } else if (isNumber(length)) {\n        message = \"an array of length \".concat(length);\n      }\n      return predicateWithMessage(value => isArray(value) && (isNumber(length) ? value.length === length : true) && (isNumber(minLength) ? value.length >= minLength : true), message);\n    }\n  });\n}\nfunction attachNumberRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict() {\n      let {\n        min,\n        max\n      } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      const message = [\"a number\"];\n      const hasMin = isNumber(min);\n      const hasMax = isNumber(max);\n      if (hasMin && hasMax) {\n        message.push(\"between \".concat(min, \" and \").concat(max, \" inclusive\"));\n      } else if (hasMin) {\n        message.push(\"greater than or equal to \".concat(min));\n      } else if (hasMax) {\n        message.push(\"less than or equal to \".concat(max));\n      }\n      return predicateWithMessage(value => isFiniteNumber(value) && (hasMin ? value >= min : true) && (hasMax ? value <= max : true), message.join(\" \"));\n    }\n  });\n}\nfunction attachObjectRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict(objectType) {\n      return predicateWithMessage(value => value instanceof objectType, ctx => {\n        var _a;\n        return (_a = getPredicateMessage(predicate, ctx)) != null ? _a : \"an instance of \".concat(objectType.name);\n      });\n    }\n  });\n}\nfunction stringify(value) {\n  if (typeof value === \"number\") {\n    if (isNaN(value)) return \"NaN\";\n    if (value === Infinity) return \"Infinity\";\n    if (value === -Infinity) return \"-Infinity\";\n  }\n  return JSON.stringify(value);\n}\n\n// packages/ag-charts-community/src/chart/axis/axisTick.ts\nvar TICK_INTERVAL = predicateWithMessage(value => isFiniteNumber(value) && value > 0 || value instanceof TimeInterval, \"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'\");\nvar AxisTick = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.width = 1;\n    this.size = 6;\n    this.color = void 0;\n    this.interval = void 0;\n    this.values = void 0;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], AxisTick.prototype, \"enabled\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisTick.prototype, \"width\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisTick.prototype, \"size\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], AxisTick.prototype, \"color\", 2);\n__decorateClass([Validate(TICK_INTERVAL, {\n  optional: true\n})], AxisTick.prototype, \"interval\", 2);\n__decorateClass([Validate(ARRAY, {\n  optional: true\n})], AxisTick.prototype, \"values\", 2);\n\n// packages/ag-charts-community/src/chart/chartAxisDirection.ts\nvar ChartAxisDirection = /* @__PURE__ */(ChartAxisDirection2 => {\n  ChartAxisDirection2[\"X\"] = \"x\";\n  ChartAxisDirection2[\"Y\"] = \"y\";\n  return ChartAxisDirection2;\n})(ChartAxisDirection || {});\n\n// packages/ag-charts-community/src/chart/chartOptions.ts\nvar JSON_APPLY_PLUGINS = {\n  constructedArrays: /* @__PURE__ */new WeakMap()\n};\nfunction assignJsonApplyConstructedArray(array, ctor) {\n  var _a;\n  (_a = JSON_APPLY_PLUGINS.constructedArrays) == null ? void 0 : _a.set(array, ctor);\n}\n\n// packages/ag-charts-community/src/scale/continuousScale.ts\nvar _ContinuousScale = class _ContinuousScale {\n  constructor(domain, range3) {\n    this.invalid = true;\n    this.nice = false;\n    this.interval = void 0;\n    this.tickCount = _ContinuousScale.defaultTickCount;\n    this.minTickCount = 0;\n    this.maxTickCount = Infinity;\n    this.niceDomain = [];\n    this.defaultClampMode = \"raw\";\n    this.domain = domain;\n    this.range = range3;\n  }\n  static is(value) {\n    return value instanceof _ContinuousScale;\n  }\n  transform(x) {\n    return x;\n  }\n  transformInvert(x) {\n    return x;\n  }\n  calcBandwidth() {\n    let smallestInterval = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    const {\n      range: range3\n    } = this;\n    const domain = this.getDomain();\n    const rangeDistance = Math.abs(range3[1] - range3[0]);\n    const intervals = Math.abs(domain[1] - domain[0]) / smallestInterval + 1;\n    const maxBands = Math.floor(rangeDistance);\n    const bands = Math.min(intervals, maxBands);\n    return rangeDistance / Math.max(1, bands);\n  }\n  getDomain() {\n    if (this.nice) {\n      this.refresh();\n      if (this.niceDomain.length) {\n        return this.niceDomain;\n      }\n    }\n    return this.domain;\n  }\n  convert(x, opts) {\n    var _a;\n    const clampMode = (_a = opts == null ? void 0 : opts.clampMode) != null ? _a : this.defaultClampMode;\n    if (!this.domain || this.domain.length < 2) {\n      return NaN;\n    }\n    this.refresh();\n    const domain = this.getDomain().map(d => this.transform(d));\n    const [d0, d1] = domain;\n    const {\n      range: range3\n    } = this;\n    const [r0, r1] = range3;\n    x = this.transform(x);\n    if (clampMode === \"clamped\") {\n      const [start, stop] = findMinMax(domain.map(Number));\n      if (Number(x) < start) {\n        return r0;\n      } else if (Number(x) > stop) {\n        return r1;\n      }\n    }\n    if (d0 === d1) {\n      return (r0 + r1) / 2;\n    } else if (x === d0) {\n      return r0;\n    } else if (x === d1) {\n      return r1;\n    }\n    return r0 + (Number(x) - Number(d0)) / (Number(d1) - Number(d0)) * (r1 - r0);\n  }\n  invert(x) {\n    this.refresh();\n    const domain = this.getDomain().map(d2 => this.transform(d2));\n    const [d0, d1] = domain;\n    const {\n      range: range3\n    } = this;\n    const [r0, r1] = range3;\n    const isReversed = r0 > r1;\n    const rMin = isReversed ? r1 : r0;\n    const rMax = isReversed ? r0 : r1;\n    let d;\n    if (x < rMin) {\n      return isReversed ? d1 : d0;\n    } else if (x > rMax) {\n      return isReversed ? d0 : d1;\n    } else if (r0 === r1) {\n      d = this.toDomain((Number(d0) + Number(d1)) / 2);\n    } else {\n      d = this.toDomain(Number(d0) + (x - r0) / (r1 - r0) * (Number(d1) - Number(d0)));\n    }\n    return this.transformInvert(d);\n  }\n  refresh() {\n    if (!this.invalid) return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n  getPixelRange() {\n    const [a, b] = this.range;\n    return Math.abs(b - a);\n  }\n};\n_ContinuousScale.defaultTickCount = 5;\n_ContinuousScale.defaultMaxTickCount = 6;\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"domain\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"range\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"nice\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"interval\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"tickCount\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"minTickCount\", 2);\n__decorateClass([Invalidating], _ContinuousScale.prototype, \"maxTickCount\", 2);\nvar ContinuousScale = _ContinuousScale;\n\n// packages/ag-charts-community/src/util/timeFormat.ts\nvar CONSTANTS = {\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n};\nfunction dayOfYear(date) {\n  let startOfYear = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Date(date.getFullYear(), 0, 1);\n  const startOffset = date.getTimezoneOffset() - startOfYear.getTimezoneOffset();\n  const timeDiff = date.getTime() - startOfYear.getTime() + startOffset * 6e4;\n  const timeOneDay = 36e5 * 24;\n  return Math.floor(timeDiff / timeOneDay);\n}\nfunction weekOfYear(date, startDay) {\n  const startOfYear = new Date(date.getFullYear(), 0, 1);\n  const startOfYearDay = startOfYear.getDay();\n  const firstWeekStartOffset = (startDay - startOfYearDay + 7) % 7;\n  const startOffset = new Date(date.getFullYear(), 0, firstWeekStartOffset + 1);\n  if (startOffset <= date) {\n    return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n  }\n  return 0;\n}\nvar SUNDAY = 0;\nvar MONDAY = 1;\nvar THURSDAY = 4;\nfunction isoWeekOfYear(date) {\n  let year2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : date.getFullYear();\n  const firstOfYear = new Date(year2, 0, 1);\n  const firstOfYearDay = firstOfYear.getDay();\n  const firstThursdayOffset = (THURSDAY - firstOfYearDay + 7) % 7;\n  const startOffset = new Date(year2, 0, firstThursdayOffset - (THURSDAY - MONDAY) + 1);\n  if (startOffset <= date) {\n    return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n  }\n  return isoWeekOfYear(date, year2 - 1);\n}\nfunction timezone(date) {\n  const offset4 = date.getTimezoneOffset();\n  const unsignedOffset = Math.abs(offset4);\n  const sign = offset4 > 0 ? \"-\" : \"+\";\n  return \"\".concat(sign).concat(pad(Math.floor(unsignedOffset / 60), 2, \"0\")).concat(pad(Math.floor(unsignedOffset % 60), 2, \"0\"));\n}\nvar FORMATTERS = {\n  a: d => CONSTANTS.shortDays[d.getDay()],\n  A: d => CONSTANTS.days[d.getDay()],\n  b: d => CONSTANTS.shortMonths[d.getMonth()],\n  B: d => CONSTANTS.months[d.getMonth()],\n  c: \"%x, %X\",\n  d: (d, p) => pad(d.getDate(), 2, p != null ? p : \"0\"),\n  e: \"%_d\",\n  f: (d, p) => pad(d.getMilliseconds() * 1e3, 6, p != null ? p : \"0\"),\n  H: (d, p) => pad(d.getHours(), 2, p != null ? p : \"0\"),\n  I: (d, p) => {\n    const hours = d.getHours() % 12;\n    return hours === 0 ? \"12\" : pad(hours, 2, p != null ? p : \"0\");\n  },\n  j: (d, p) => pad(dayOfYear(d) + 1, 3, p != null ? p : \"0\"),\n  m: (d, p) => pad(d.getMonth() + 1, 2, p != null ? p : \"0\"),\n  M: (d, p) => pad(d.getMinutes(), 2, p != null ? p : \"0\"),\n  L: (d, p) => pad(d.getMilliseconds(), 3, p != null ? p : \"0\"),\n  p: d => d.getHours() < 12 ? \"AM\" : \"PM\",\n  Q: d => String(d.getTime()),\n  s: d => String(Math.floor(d.getTime() / 1e3)),\n  S: (d, p) => pad(d.getSeconds(), 2, p != null ? p : \"0\"),\n  u: d => {\n    let day2 = d.getDay();\n    if (day2 < 1) day2 += 7;\n    return String(day2 % 7);\n  },\n  U: (d, p) => pad(weekOfYear(d, SUNDAY), 2, p != null ? p : \"0\"),\n  V: (d, p) => pad(isoWeekOfYear(d), 2, p != null ? p : \"0\"),\n  w: (d, p) => pad(d.getDay(), 2, p != null ? p : \"0\"),\n  W: (d, p) => pad(weekOfYear(d, MONDAY), 2, p != null ? p : \"0\"),\n  x: \"%-m/%-d/%Y\",\n  X: \"%-I:%M:%S %p\",\n  y: (d, p) => pad(d.getFullYear() % 100, 2, p != null ? p : \"0\"),\n  Y: (d, p) => pad(d.getFullYear(), 4, p != null ? p : \"0\"),\n  Z: d => timezone(d),\n  \"%\": () => \"%\"\n};\nvar PADS = {\n  _: \" \",\n  \"0\": \"0\",\n  \"-\": \"\"\n};\nfunction pad(value, size, padChar) {\n  const output = String(Math.floor(value));\n  if (output.length >= size) {\n    return output;\n  }\n  return \"\".concat(padChar.repeat(size - output.length)).concat(output);\n}\nfunction buildFormatter(formatString) {\n  const formatParts = [];\n  while (formatString.length > 0) {\n    let nextEscapeIdx = formatString.indexOf(\"%\");\n    if (nextEscapeIdx !== 0) {\n      const literalPart = nextEscapeIdx > 0 ? formatString.substring(0, nextEscapeIdx) : formatString;\n      formatParts.push(literalPart);\n    }\n    if (nextEscapeIdx < 0) break;\n    const maybePadSpecifier = formatString[nextEscapeIdx + 1];\n    const maybePad = PADS[maybePadSpecifier];\n    if (maybePad != null) {\n      nextEscapeIdx++;\n    }\n    const maybeFormatterSpecifier = formatString[nextEscapeIdx + 1];\n    const maybeFormatter = FORMATTERS[maybeFormatterSpecifier];\n    if (typeof maybeFormatter === \"function\") {\n      formatParts.push([maybeFormatter, maybePad]);\n    } else if (typeof maybeFormatter === \"string\") {\n      const formatter = buildFormatter(maybeFormatter);\n      formatParts.push([formatter, maybePad]);\n    } else {\n      formatParts.push(\"\".concat(maybePad != null ? maybePad : \"\").concat(maybeFormatterSpecifier));\n    }\n    formatString = formatString.substring(nextEscapeIdx + 2);\n  }\n  return dateTime => {\n    const dateTimeAsDate = typeof dateTime === \"number\" ? new Date(dateTime) : dateTime;\n    return formatParts.map(c => typeof c === \"string\" ? c : c[0](dateTimeAsDate, c[1])).join(\"\");\n  };\n}\n\n// packages/ag-charts-community/src/util/timeFormatDefaults.ts\nfunction dateToNumber(x) {\n  return x instanceof Date ? x.getTime() : x;\n}\nfunction defaultTimeTickFormat(ticks, domain) {\n  const formatString = calculateDefaultTimeTickFormat(ticks, domain);\n  return date => buildFormatter(formatString)(date);\n}\nfunction calculateDefaultTimeTickFormat() {\n  let ticks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let domain = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ticks;\n  let defaultTimeFormat = 8 /* YEAR */;\n  const updateFormat = format2 => {\n    if (format2 < defaultTimeFormat) {\n      defaultTimeFormat = format2;\n    }\n  };\n  for (const value of ticks) {\n    const format2 = getLowestGranularityFormat(value);\n    updateFormat(format2);\n  }\n  const startDomain = dateToNumber(domain[0]);\n  const endDomain = dateToNumber(domain.at(-1));\n  const startYear = new Date(startDomain).getFullYear();\n  const stopYear = new Date(endDomain).getFullYear();\n  const yearChange = stopYear - startYear > 0;\n  return formatStringBuilder(defaultTimeFormat, yearChange, ticks);\n}\nfunction getLowestGranularityFormat(value) {\n  if (second_default.floor(value) < value) {\n    return 0 /* MILLISECOND */;\n  } else if (minute_default.floor(value) < value) {\n    return 1 /* SECOND */;\n  } else if (hour_default.floor(value) < value) {\n    return 2 /* MINUTE */;\n  } else if (day_default.floor(value) < value) {\n    return 3 /* HOUR */;\n  } else if (month_default.floor(value) < value) {\n    if (week_default.floor(value) < value) {\n      return 4 /* WEEK_DAY */;\n    }\n    return 5 /* SHORT_MONTH */;\n  } else if (year_default.floor(value) < value) {\n    return 6 /* MONTH */;\n  }\n  return 8 /* YEAR */;\n}\nfunction formatStringBuilder(defaultTimeFormat, yearChange, ticks) {\n  const firstTick = dateToNumber(ticks[0]);\n  const lastTick = dateToNumber(ticks.at(-1));\n  const extent2 = Math.abs(lastTick - firstTick);\n  const activeYear = yearChange || defaultTimeFormat === 8 /* YEAR */;\n  const activeDate = extent2 === 0;\n  const parts = [[\"hour\", 6 * durationHour, 14 * durationDay, 3 /* HOUR */, \"%I %p\"], [\"hour\", durationMinute, 6 * durationHour, 3 /* HOUR */, \"%I:%M\"], [\"second\", 1e3, 6 * durationHour, 1 /* SECOND */, \":%S\"], [\"ms\", 0, 6 * durationHour, 0 /* MILLISECOND */, \".%L\"], [\"am/pm\", durationMinute, 6 * durationHour, 3 /* HOUR */, \"%p\"], \" \", [\"day\", durationDay, 1 * durationWeek, 4 /* WEEK_DAY */, \"%a\"], [\"month\", activeDate ? 0 : durationWeek, 52 * durationWeek, 5 /* SHORT_MONTH */, \"%b %d\"], [\"month\", 5 * durationWeek, 10 * durationYear, 6 /* MONTH */, \"%B\"], \" \", [\"year\", activeYear ? 0 : durationYear, Infinity, 8 /* YEAR */, \"%Y\"]];\n  const formatParts = parts.filter(v => {\n    if (typeof v === \"string\") return true;\n    const [_, min, max, format2] = v;\n    return format2 >= defaultTimeFormat && min <= extent2 && extent2 < max;\n  }).reduce((r, next) => {\n    if (typeof next === \"string\") {\n      r.result.push(next);\n    } else if (!r.used.has(next[0])) {\n      r.result.push(next);\n      r.used.add(next[0]);\n    }\n    return r;\n  }, {\n    result: [],\n    used: /* @__PURE__ */new Set()\n  }).result;\n  const firstFormat = formatParts.findIndex(v => typeof v !== \"string\");\n  const lastFormat = formatParts.length - [...formatParts].reverse().findIndex(v => typeof v !== \"string\");\n  return formatParts.slice(firstFormat, lastFormat).map(v => typeof v === \"string\" ? v : v[4]).join(\"\").replaceAll(/\\s+/g, \" \").trim();\n}\n\n// packages/ag-charts-community/src/util/ticks.ts\nvar createNumericTicks = function (fractionDigits) {\n  let takingValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return Object.assign(takingValues, {\n    fractionDigits\n  });\n};\nfunction ticks_default(start, stop, count, minCount, maxCount) {\n  if (count < 2) {\n    return range(start, stop, stop - start);\n  }\n  const step = tickStep(start, stop, count, minCount, maxCount);\n  if (isNaN(step)) {\n    return createNumericTicks(0);\n  }\n  start = Math.ceil(start / step) * step;\n  stop = Math.floor(stop / step) * step;\n  return range(start, stop, step);\n}\nvar tickMultipliers = [1, 2, 5, 10];\nfunction tickStep(a, b, count) {\n  let minCount = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  let maxCount = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : Infinity;\n  const extent2 = Math.abs(b - a);\n  const rawStep = extent2 / count;\n  const power = Math.floor(Math.log10(rawStep));\n  const step = Math.pow(10, power);\n  const m = tickMultipliers.map(multiplier => {\n    const s = multiplier * step;\n    const c = Math.ceil(extent2 / s);\n    const isWithinBounds = c >= minCount && c <= maxCount;\n    const diffCount = Math.abs(c - count);\n    return {\n      multiplier,\n      isWithinBounds,\n      diffCount\n    };\n  }).sort((a2, b2) => {\n    if (a2.isWithinBounds !== b2.isWithinBounds) {\n      return a2.isWithinBounds ? -1 : 1;\n    }\n    return a2.diffCount - b2.diffCount;\n  })[0].multiplier;\n  if (!m || isNaN(m)) {\n    return NaN;\n  }\n  return m * step;\n}\nfunction singleTickDomain(a, b) {\n  const extent2 = Math.abs(b - a);\n  const power = Math.floor(Math.log10(extent2));\n  const step = Math.pow(10, power);\n  const roundStart = a > b ? Math.ceil : Math.floor;\n  const roundStop = b < a ? Math.floor : Math.ceil;\n  return tickMultipliers.map(multiplier => {\n    const s = multiplier * step;\n    const start = roundStart(a / s) * s;\n    const end = roundStop(b / s) * s;\n    const error = 1 - extent2 / Math.abs(end - start);\n    const domain = [start, end];\n    return {\n      error,\n      domain\n    };\n  }).sort((a2, b2) => a2.error - b2.error)[0].domain;\n}\nfunction range(start, stop, step) {\n  const d0 = Math.min(start, stop);\n  const d1 = Math.max(start, stop);\n  const fractionalDigits = countFractionDigits(step);\n  const f = Math.pow(10, fractionalDigits);\n  const n = Math.ceil((d1 - d0) / step);\n  const values = createNumericTicks(fractionalDigits);\n  for (let i = 0; i <= n; i++) {\n    const value = d0 + step * i;\n    values.push(Math.round(value * f) / f);\n  }\n  return values;\n}\nfunction isDenseInterval(_ref11) {\n  let {\n    start,\n    stop,\n    interval,\n    count,\n    availableRange\n  } = _ref11;\n  const domain = stop - start;\n  const step = typeof interval === \"number\" ? interval : 1;\n  count != null ? count : count = domain / step;\n  if (count >= availableRange) {\n    Logger.warnOnce(\"the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration\");\n    return true;\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/scale/timeScale.ts\nvar _TimeScale = class _TimeScale extends ContinuousScale {\n  constructor() {\n    super([], [0, 1]);\n    this.type = \"time\";\n  }\n  toDomain(d) {\n    return new Date(d);\n  }\n  /**\n   * @param options Tick interval options.\n   * @param options.start The start time (timestamp).\n   * @param options.stop The end time (timestamp).\n   * @param options.count Number of intervals between ticks.\n   */\n  static getTickInterval(_ref12) {\n    let {\n      start,\n      stop,\n      count,\n      minCount,\n      maxCount,\n      target\n    } = _ref12;\n    let countableTimeInterval;\n    let step;\n    const tickCount = count != null ? count : ContinuousScale.defaultTickCount;\n    const targetInterval = target != null ? target : Math.abs(stop - start) / Math.max(tickCount, 1);\n    const i = _TimeScale.getIntervalIndex(targetInterval);\n    if (i === 0) {\n      step = Math.max(tickStep(start, stop, tickCount, minCount, maxCount), 1);\n      countableTimeInterval = millisecond_default;\n    } else if (i === _TimeScale.tickIntervals.length) {\n      const y0 = start / durationYear;\n      const y1 = stop / durationYear;\n      step = target === void 0 ? tickStep(y0, y1, tickCount, minCount, maxCount) : 1;\n      countableTimeInterval = year_default;\n    } else {\n      const diff0 = targetInterval - _TimeScale.tickIntervals[i - 1][2];\n      const diff1 = _TimeScale.tickIntervals[i][2] - targetInterval;\n      const index = diff0 < diff1 ? i - 1 : i;\n      [countableTimeInterval, step] = _TimeScale.tickIntervals[index];\n    }\n    return countableTimeInterval.every(step);\n  }\n  static getIntervalIndex(target) {\n    let i = 0;\n    while (i < _TimeScale.tickIntervals.length && target > _TimeScale.tickIntervals[i][2]) {\n      i++;\n    }\n    return i;\n  }\n  invert(y) {\n    return new Date(super.invert(y));\n  }\n  /**\n   * Returns uniformly-spaced dates that represent the scale's domain.\n   */\n  ticks() {\n    if (!this.domain || this.domain.length < 2) {\n      return [];\n    }\n    this.refresh();\n    const [t0, t1] = this.getDomain().map(dateToNumber);\n    const start = Math.min(t0, t1);\n    const stop = Math.max(t0, t1);\n    const {\n      interval,\n      nice,\n      tickCount,\n      minTickCount,\n      maxTickCount\n    } = this;\n    if (interval !== void 0) {\n      const availableRange = this.getPixelRange();\n      const ticks = _TimeScale.getTicksForInterval({\n        start,\n        stop,\n        interval,\n        availableRange\n      });\n      return ticks != null ? ticks : _TimeScale.getDefaultTicks({\n        start,\n        stop,\n        tickCount,\n        minTickCount,\n        maxTickCount\n      });\n    }\n    if (nice) {\n      if (tickCount === 2) {\n        return this.niceDomain;\n      }\n      if (tickCount === 1) {\n        return this.niceDomain.slice(0, 1);\n      }\n    }\n    return _TimeScale.getDefaultTicks({\n      start,\n      stop,\n      tickCount,\n      minTickCount,\n      maxTickCount\n    });\n  }\n  static getDefaultTicks(_ref13) {\n    let {\n      start,\n      stop,\n      tickCount,\n      minTickCount,\n      maxTickCount\n    } = _ref13;\n    const t = _TimeScale.getTickInterval({\n      start,\n      stop,\n      count: tickCount,\n      minCount: minTickCount,\n      maxCount: maxTickCount\n    });\n    return t ? t.range(new Date(start), new Date(stop)) : [];\n  }\n  static getTicksForInterval(_ref14) {\n    let {\n      start,\n      stop,\n      interval,\n      availableRange\n    } = _ref14;\n    if (!interval) {\n      return [];\n    }\n    if (interval instanceof TimeInterval) {\n      const ticks2 = interval.range(new Date(start), new Date(stop));\n      if (isDenseInterval({\n        start,\n        stop,\n        interval,\n        count: ticks2.length,\n        availableRange\n      })) {\n        return;\n      }\n      return ticks2;\n    }\n    const absInterval = Math.abs(interval);\n    if (isDenseInterval({\n      start,\n      stop,\n      interval: absInterval,\n      availableRange\n    })) {\n      return;\n    }\n    const reversedInterval = [..._TimeScale.tickIntervals];\n    reversedInterval.reverse();\n    const timeInterval = reversedInterval.find(tickInterval => absInterval % tickInterval[2] === 0);\n    if (timeInterval) {\n      const i = timeInterval[0].every(absInterval / (timeInterval[2] / timeInterval[1]));\n      return i.range(new Date(start), new Date(stop));\n    }\n    let date = new Date(start);\n    const stopDate = new Date(stop);\n    const ticks = [];\n    while (date <= stopDate) {\n      ticks.push(date);\n      date = new Date(date);\n      date.setMilliseconds(date.getMilliseconds() + absInterval);\n    }\n    return ticks;\n  }\n  /**\n   * Returns a time format function suitable for displaying tick values.\n   * @param specifier If the specifier string is provided, this method is equivalent to\n   * the {@link TimeLocaleObject.format} method.\n   * If no specifier is provided, this method returns the default time format function.\n   */\n  tickFormat(_ref15) {\n    let {\n      ticks,\n      domain,\n      specifier\n    } = _ref15;\n    return specifier == null ? defaultTimeTickFormat(ticks, domain) : buildFormatter(specifier);\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  /**\n   * Extends the domain so that it starts and ends on nice round values.\n   * This method typically modifies the scales domain, and may only extend the bounds to the nearest round value.\n   */\n  updateNiceDomain() {\n    const maxAttempts = 4;\n    let [d0, d1] = this.domain;\n    for (let i = 0; i < maxAttempts; i++) {\n      this.updateNiceDomainIteration(d0, d1);\n      const [n0, n1] = this.niceDomain;\n      if (dateToNumber(d0) === dateToNumber(n0) && dateToNumber(d1) === dateToNumber(n1)) {\n        break;\n      }\n      d0 = n0;\n      d1 = n1;\n    }\n  }\n  updateNiceDomainIteration(d0, d1) {\n    const start = Math.min(dateToNumber(d0), dateToNumber(d1));\n    const stop = Math.max(dateToNumber(d0), dateToNumber(d1));\n    const isReversed = d0 > d1;\n    const {\n      interval\n    } = this;\n    let i;\n    if (interval instanceof TimeInterval) {\n      i = interval;\n    } else {\n      const tickCount = typeof interval === \"number\" ? (stop - start) / Math.max(interval, 1) : this.tickCount;\n      i = _TimeScale.getTickInterval({\n        start,\n        stop,\n        count: tickCount,\n        minCount: this.minTickCount,\n        maxCount: this.maxTickCount\n      });\n    }\n    if (i) {\n      const intervalRange = i.range(new Date(start), new Date(stop), true);\n      const domain = isReversed ? [...intervalRange].reverse() : intervalRange;\n      const n0 = domain[0];\n      const n1 = domain.at(-1);\n      this.niceDomain = [n0, n1];\n    }\n  }\n};\n/**\n * Array of default tick intervals in the following format:\n *\n *     [\n *         interval (unit of time),\n *         number of units (step),\n *         the length of that number of units in milliseconds\n *     ]\n */\n_TimeScale.tickIntervals = [[second_default, 1, durationSecond], [second_default, 5, 5 * durationSecond], [second_default, 15, 15 * durationSecond], [second_default, 30, 30 * durationSecond], [minute_default, 1, durationMinute], [minute_default, 5, 5 * durationMinute], [minute_default, 15, 15 * durationMinute], [minute_default, 30, 30 * durationMinute], [hour_default, 1, durationHour], [hour_default, 3, 3 * durationHour], [hour_default, 6, 6 * durationHour], [hour_default, 12, 12 * durationHour], [day_default, 1, durationDay], [day_default, 2, 2 * durationDay], [week_default, 1, durationWeek], [week_default, 2, 2 * durationWeek], [week_default, 3, 3 * durationWeek], [month_default, 1, durationMonth], [month_default, 2, 2 * durationMonth], [month_default, 3, 3 * durationMonth], [month_default, 4, 4 * durationMonth], [month_default, 6, 6 * durationMonth], [year_default, 1, durationYear]];\nvar TimeScale = _TimeScale;\n\n// packages/ag-charts-community/src/scale/ordinalTimeScale.ts\nvar _OrdinalTimeScale = class _OrdinalTimeScale extends BandScale {\n  constructor() {\n    super(...arguments);\n    this.type = \"ordinal-time\";\n    this.tickCount = ContinuousScale.defaultTickCount;\n    this.minTickCount = 0;\n    this.maxTickCount = Infinity;\n    this.interval = void 0;\n    this.index = /* @__PURE__ */new Map();\n    /**\n     * Contains unique datums only. Since `{}` is used in place of `Map`\n     * for IE11 compatibility, the datums are converted `toString` before\n     * the uniqueness check.\n     */\n    this._domain = [];\n  }\n  static is(value) {\n    return value instanceof _OrdinalTimeScale;\n  }\n  toDomain(d) {\n    return new Date(d);\n  }\n  set domain(values) {\n    this.invalid = true;\n    if (values.length === 0) {\n      this._domain = [];\n      return;\n    }\n    const domain = this.updateIndex(values);\n    this._domain = domain;\n  }\n  get domain() {\n    return this._domain;\n  }\n  updateIndex(values) {\n    this.index = /* @__PURE__ */new Map();\n    const {\n      index\n    } = this;\n    const domain = [];\n    const extents = [];\n    const isReversed = values[0] > values.at(-1);\n    const indexShift = isReversed ? 0 : 1;\n    values.forEach((value, i2) => {\n      const nextValue = values[i2 + 1];\n      const e02 = isReversed ? value : this.toDomain(dateToNumber(value) + 1);\n      const e12 = isReversed ? this.toDomain(dateToNumber(nextValue) + 1) : nextValue;\n      const dateRange2 = isReversed ? [e12, e02] : [e02, e12];\n      domain.push(value);\n      if (nextValue !== void 0 && index.get(dateRange2) === void 0) {\n        extents.push(Math.abs(dateToNumber(e12) - dateToNumber(e02)));\n        index.set(dateRange2, i2 + indexShift);\n      }\n    });\n    extents.sort((a, b) => a - b);\n    const bands = extents.length;\n    const middleIndex = Math.floor(bands / 2);\n    this.medianInterval = bands > 2 && bands % 2 === 0 ? (extents[middleIndex - 1] + extents[middleIndex + 1]) / 2 : extents[middleIndex];\n    const intervalIndex = Math.max(0, TimeScale.getIntervalIndex(this.medianInterval) - 1);\n    const [countableTimeInterval, step] = TimeScale.tickIntervals[intervalIndex];\n    const interval = countableTimeInterval.every(step);\n    const i = isReversed ? values.length - 1 : 0;\n    const e1 = values[i];\n    const e0 = interval.floor(values[i]);\n    const dateRange = [e0, e1];\n    index.set(dateRange, i);\n    return domain;\n  }\n  ticks() {\n    if (!this.domain) {\n      return [];\n    }\n    this.refresh();\n    const [t0, t1] = [dateToNumber(this.domain[0]), dateToNumber(this.domain.at(-1))];\n    const start = Math.min(t0, t1);\n    const stop = Math.max(t0, t1);\n    const isReversed = t0 > t1;\n    let ticks;\n    if (this.interval !== void 0) {\n      ticks = this.getTicksForInterval({\n        start,\n        stop,\n        interval: this.interval\n      });\n    }\n    const n = this.domain.length;\n    const {\n      maxTickCount,\n      tickCount\n    } = this;\n    let {\n      minTickCount\n    } = this;\n    let medianInterval;\n    if (isFinite(maxTickCount) && n <= maxTickCount) {\n      minTickCount = Math.max(1, n);\n      medianInterval = this.medianInterval;\n    }\n    ticks != null ? ticks : ticks = this.getDefaultTicks({\n      start,\n      stop,\n      tickCount,\n      minTickCount,\n      maxTickCount,\n      isReversed,\n      interval: medianInterval\n    });\n    const tickPositions = /* @__PURE__ */new Set();\n    return ticks.filter(tick => {\n      const position = this.convert(tick);\n      if (isNaN(position) || tickPositions.has(position)) {\n        return false;\n      }\n      tickPositions.add(position);\n      return true;\n    });\n  }\n  getDefaultTicks(_ref16) {\n    let {\n      start,\n      stop,\n      tickCount,\n      minTickCount,\n      maxTickCount,\n      isReversed,\n      interval\n    } = _ref16;\n    const tickInterval = TimeScale.getTickInterval({\n      start,\n      stop,\n      count: tickCount,\n      minCount: minTickCount,\n      maxCount: maxTickCount,\n      target: interval\n    });\n    if (!tickInterval) {\n      return [];\n    }\n    const tickEvery = Math.ceil(this.domain.length / maxTickCount);\n    const ticks = [];\n    for (const [dateRange, index] of this.index.entries()) {\n      if (index % tickEvery > 0) {\n        continue;\n      }\n      const tick = isReversed ? tickInterval.ceil(dateRange[0]) : tickInterval.floor(dateRange[1]);\n      ticks.splice(index, 0, tick);\n    }\n    return ticks;\n  }\n  getTicksForInterval(_ref17) {\n    let {\n      start,\n      stop,\n      interval\n    } = _ref17;\n    var _a;\n    const [r0, r1] = this.range;\n    const availableRange = Math.abs(r1 - r0);\n    return (_a = TimeScale.getTicksForInterval({\n      start,\n      stop,\n      interval,\n      availableRange\n    })) != null ? _a : [];\n  }\n  convert(d) {\n    if (typeof d === \"number\") {\n      d = new Date(d);\n    }\n    if (!(d instanceof Date)) {\n      return NaN;\n    }\n    this.refresh();\n    let i;\n    for (const [dateRange, index] of this.index.entries()) {\n      if (d >= dateRange[0] && d <= dateRange[1]) {\n        i = index;\n        break;\n      }\n    }\n    if (i === void 0) {\n      return NaN;\n    }\n    const r = this.ordinalRange[i];\n    if (r === void 0) {\n      return NaN;\n    }\n    return r;\n  }\n  /**\n   * Returns a time format function suitable for displaying tick values.\n   * @param specifier If the specifier string is provided, this method is equivalent to\n   * the {@link TimeLocaleObject.format} method.\n   * If no specifier is provided, this method returns the default time format function.\n   */\n  tickFormat(_ref18) {\n    let {\n      ticks,\n      domain,\n      specifier\n    } = _ref18;\n    return specifier == null ? defaultTimeTickFormat(ticks, domain) : buildFormatter(specifier);\n  }\n  invert(y) {\n    return new Date(super.invert(y));\n  }\n  invertNearest(y) {\n    return new Date(super.invertNearest(y));\n  }\n};\n__decorateClass([Invalidating], _OrdinalTimeScale.prototype, \"tickCount\", 2);\n__decorateClass([Invalidating], _OrdinalTimeScale.prototype, \"minTickCount\", 2);\n__decorateClass([Invalidating], _OrdinalTimeScale.prototype, \"maxTickCount\", 2);\n__decorateClass([Invalidating], _OrdinalTimeScale.prototype, \"interval\", 2);\nvar OrdinalTimeScale = _OrdinalTimeScale;\n\n// packages/ag-charts-community/src/util/compare.ts\nfunction ascendingStringNumberUndefined(a, b) {\n  if (typeof a === \"number\" && typeof b === \"number\") {\n    return a - b;\n  } else if (typeof a === \"string\" && typeof b === \"string\") {\n    return a.localeCompare(b);\n  } else if (a == null && b == null) {\n    return 0;\n  } else if (a == null) {\n    return -1;\n  } else if (b == null) {\n    return 1;\n  }\n  return String(a).localeCompare(String(b));\n}\nfunction toLiteral(v) {\n  return typeof v === \"function\" ? v() : v;\n}\nfunction compoundAscending(a, b, comparator) {\n  for (const idx in a) {\n    const diff2 = comparator(toLiteral(a[idx]), toLiteral(b[idx]));\n    if (diff2 !== 0) {\n      return diff2;\n    }\n  }\n  return 0;\n}\n\n// packages/ag-charts-community/src/scene/group.ts\nvar _Group = class _Group extends Node {\n  constructor(opts) {\n    var _a;\n    super({\n      isVirtual: opts == null ? void 0 : opts.isVirtual\n    });\n    this.opts = opts;\n    this.opacity = 1;\n    this.lastBBox = void 0;\n    const {\n      zIndex,\n      zIndexSubOrder\n    } = opts != null ? opts : {};\n    this.isContainerNode = true;\n    if (zIndex !== void 0) {\n      this.zIndex = zIndex;\n    }\n    if (zIndexSubOrder !== void 0) {\n      this.zIndexSubOrder = zIndexSubOrder;\n    }\n    this.name = (_a = this.opts) == null ? void 0 : _a.name;\n  }\n  static is(value) {\n    return value instanceof _Group;\n  }\n  onZIndexChange() {\n    var _a;\n    super.onZIndexChange();\n    if (this.layer) {\n      (_a = this._layerManager) == null ? void 0 : _a.moveLayer(this.layer, this.zIndex, this.zIndexSubOrder);\n    }\n  }\n  isLayer() {\n    return this.layer != null;\n  }\n  _setLayerManager(layersManager) {\n    if (this._layerManager && this.layer) {\n      this._layerManager.removeLayer(this.layer);\n      this.layer = void 0;\n    }\n    if (this.layer) {\n      throw new Error(\"AG Charts - unable to deregister scene rendering layer!\");\n    }\n    super._setLayerManager(layersManager);\n  }\n  initialiseLayer() {\n    var _a;\n    if (this.layer) return;\n    if (!this._layerManager || ((_a = this.opts) == null ? void 0 : _a.layer) !== true) return;\n    this.layer = this._layerManager.addLayer({\n      name: this.name,\n      zIndex: this.zIndex,\n      zIndexSubOrder: this.zIndexSubOrder,\n      getComputedOpacity: () => this.getComputedOpacity(),\n      getVisibility: () => this.getVisibility()\n    });\n  }\n  getComputedOpacity() {\n    let opacity = 1;\n    for (const node of this.traverseUp()) {\n      if (node instanceof _Group) {\n        opacity *= node.opacity;\n      }\n    }\n    return opacity;\n  }\n  getVisibility() {\n    for (const node of this.traverseUp()) {\n      if (!node.visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n  onVisibleChange() {\n    if (this.layer) {\n      this.layer.enabled = this.visible;\n    }\n  }\n  markDirty(source) {\n    let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    if (this.isVirtual) {\n      super.markDirty(source, type);\n      return;\n    }\n    let parentType = type;\n    if (type < 2 /* MINOR */ || this.layer != null) {\n      parentType = 1 /* TRIVIAL */;\n    }\n    super.markDirty(source, type, parentType);\n  }\n  // We consider a group to be boundless, thus any point belongs to it.\n  containsPoint(_x, _y) {\n    return true;\n  }\n  computeBBox() {\n    this.computeTransformMatrix();\n    return _Group.computeBBox(this.children);\n  }\n  computeTransformedBBox() {\n    return this.computeBBox();\n  }\n  preRender() {\n    var _a, _b;\n    const counts = super.preRender();\n    counts.groups += 1;\n    counts.nonGroups -= 1;\n    if (((_a = this.opts) == null ? void 0 : _a.layer) !== true || this.layer != null) return counts;\n    if (counts.nonGroups > 0) {\n      this.initialiseLayer();\n    }\n    if (((_b = this.opts) == null ? void 0 : _b.nonEmptyChildDerivedZIndex) && counts.nonGroups > 0) {\n      this.deriveZIndexFromChildren();\n    }\n    return counts;\n  }\n  deriveZIndexFromChildren() {\n    var _a;\n    const children = this.children.filter(c => c._childNodeCounts.nonGroups > 0);\n    this.sortChildren(children);\n    const lastChild = children.at(-1);\n    this.zIndex = (_a = lastChild == null ? void 0 : lastChild.zIndex) != null ? _a : -Infinity;\n    this.zIndexSubOrder = lastChild == null ? void 0 : lastChild.zIndexSubOrder;\n  }\n  render(renderCtx) {\n    var _a, _b;\n    const {\n      opts: {\n        name = void 0\n      } = {},\n      _debug: debug3\n    } = this;\n    const {\n      dirty,\n      dirtyZIndex,\n      layer,\n      children,\n      clipRect,\n      dirtyTransform\n    } = this;\n    let {\n      ctx,\n      forceRender,\n      clipBBox\n    } = renderCtx;\n    const {\n      resized,\n      stats\n    } = renderCtx;\n    const canvasCtxTransform = ctx.getTransform();\n    const isDirty = dirty >= 2 /* MINOR */ || dirtyZIndex || resized;\n    let isChildDirty = isDirty;\n    let isChildLayerDirty = false;\n    for (const child of children) {\n      isChildDirty || (isChildDirty = child.layerManager == null && child.dirty >= 1 /* TRIVIAL */);\n      isChildLayerDirty || (isChildLayerDirty = child.layerManager != null && child.dirty >= 1 /* TRIVIAL */);\n      if (isChildDirty) {\n        break;\n      }\n    }\n    if (name) {\n      debug3 == null ? void 0 : debug3({\n        name,\n        group: this,\n        isDirty,\n        isChildDirty,\n        dirtyTransform,\n        renderCtx,\n        forceRender\n      });\n    }\n    if (dirtyTransform) {\n      forceRender = \"dirtyTransform\";\n    } else if (layer) {\n      const currentBBox = this.computeBBox();\n      if (this.lastBBox === void 0 || !this.lastBBox.equals(currentBBox)) {\n        forceRender = \"dirtyTransform\";\n        this.lastBBox = currentBBox;\n      }\n    }\n    if (!isDirty && !isChildDirty && !isChildLayerDirty && !forceRender) {\n      if (name && stats) {\n        debug3 == null ? void 0 : debug3({\n          name,\n          result: \"skipping\",\n          renderCtx,\n          counts: this.nodeCount,\n          group: this\n        });\n      }\n      if (layer && stats) {\n        stats.layersSkipped++;\n        stats.nodesSkipped += this.nodeCount.count;\n      }\n      this.markClean({\n        recursive: false\n      });\n      return;\n    }\n    const groupVisible = this.visible;\n    if (layer) {\n      ctx = layer.context;\n      ctx.save();\n      ctx.setTransform(layer.pixelRatio, 0, 0, layer.pixelRatio, 0, 0);\n      if (forceRender !== \"dirtyTransform\") {\n        forceRender = isChildDirty || dirtyZIndex;\n      }\n      if (forceRender) layer.clear();\n      if (clipBBox) {\n        const {\n          width,\n          height,\n          x,\n          y\n        } = clipBBox;\n        debug3 == null ? void 0 : debug3(() => ({\n          name,\n          clipBBox,\n          ctxTransform: ctx.getTransform(),\n          renderCtx,\n          group: this\n        }));\n        ctx.beginPath();\n        ctx.rect(x, y, width, height);\n        ctx.clip();\n      }\n      ctx.setTransform(canvasCtxTransform);\n    } else {\n      ctx.globalAlpha *= this.opacity;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    if (clipRect) {\n      const {\n        x,\n        y,\n        width,\n        height\n      } = clipRect;\n      ctx.save();\n      debug3 == null ? void 0 : debug3(() => ({\n        name,\n        clipRect,\n        ctxTransform: ctx.getTransform(),\n        renderCtx,\n        group: this\n      }));\n      ctx.beginPath();\n      ctx.rect(x, y, width, height);\n      ctx.clip();\n      clipBBox = this.matrix.transformBBox(clipRect);\n    }\n    const hasVirtualChildren = this.hasVirtualChildren();\n    if (dirtyZIndex) {\n      this.sortChildren(children);\n      if (forceRender !== \"dirtyTransform\") forceRender = true;\n    } else if (hasVirtualChildren) {\n      this.sortChildren(children);\n    }\n    const renderContextChanged = forceRender !== renderCtx.forceRender || clipBBox !== renderCtx.clipBBox || ctx !== renderCtx.ctx;\n    const childRenderContext = renderContextChanged ? __spreadProps(__spreadValues({}, renderCtx), {\n      ctx,\n      forceRender,\n      clipBBox\n    }) : renderCtx;\n    let skipped = 0;\n    for (const child of children) {\n      if (!child.visible || !groupVisible) {\n        child.markClean();\n        if (stats) skipped += child.nodeCount.count;\n        continue;\n      }\n      if (!forceRender && child.dirty === 0 /* NONE */) {\n        if (stats) skipped += child.nodeCount.count;\n        continue;\n      }\n      ctx.save();\n      child.render(childRenderContext);\n      ctx.restore();\n    }\n    if (stats) stats.nodesSkipped += skipped;\n    super.render(renderCtx);\n    if (clipRect) {\n      ctx.restore();\n    }\n    if (hasVirtualChildren) {\n      for (const child of this.virtualChildren) {\n        child.markClean({\n          recursive: \"virtual\"\n        });\n      }\n    }\n    if (layer) {\n      if (stats) stats.layersRendered++;\n      ctx.restore();\n      if (forceRender) layer.snapshot();\n      (_b = (_a = layer.context).verifyDepthZero) == null ? void 0 : _b.call(_a);\n    }\n    if (name && stats) {\n      debug3 == null ? void 0 : debug3({\n        name,\n        result: \"rendered\",\n        skipped,\n        renderCtx,\n        counts: this.nodeCount,\n        group: this\n      });\n    }\n  }\n  sortChildren(children) {\n    this.dirtyZIndex = false;\n    children.sort((a, b) => {\n      var _a, _b;\n      return compoundAscending([a.zIndex, ...((_a = a.zIndexSubOrder) != null ? _a : [void 0, void 0]), a.serialNumber], [b.zIndex, ...((_b = b.zIndexSubOrder) != null ? _b : [void 0, void 0]), b.serialNumber], ascendingStringNumberUndefined);\n    });\n  }\n  static computeBBox(nodes) {\n    let left = Infinity;\n    let right = -Infinity;\n    let top = Infinity;\n    let bottom = -Infinity;\n    for (const n of nodes) {\n      if (!n.visible) continue;\n      const bbox = n.computeTransformedBBox();\n      if (!bbox) continue;\n      const {\n        x,\n        y,\n        width,\n        height\n      } = bbox;\n      if (x < left) {\n        left = x;\n      }\n      if (y < top) {\n        top = y;\n      }\n      if (x + width > right) {\n        right = x + width;\n      }\n      if (y + height > bottom) {\n        bottom = y + height;\n      }\n    }\n    return new BBox(left, top, right - left, bottom - top);\n  }\n  /**\n   * Transforms bbox given in the canvas coordinate space to bbox in this group's coordinate space and\n   * sets this group's clipRect to the transformed bbox.\n   * @param bbox clipRect bbox in the canvas coordinate space.\n   */\n  setClipRectInGroupCoordinateSpace(bbox) {\n    this.clipRect = bbox ? this.transformBBox(bbox) : void 0;\n  }\n};\n_Group.className = \"Group\";\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */,\n  convertor: v => clamp(0, v, 1)\n})], _Group.prototype, \"opacity\", 2);\nvar Group = _Group;\n\n// packages/ag-charts-community/src/scene/gradient/gradient.ts\nvar Gradient = class {\n  constructor() {\n    let stops = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    this.stops = stops;\n  }\n};\n\n// packages/ag-charts-community/src/scene/gradient/linearGradient.ts\nvar LinearGradient = class extends Gradient {\n  constructor(stops) {\n    let angle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    super(stops);\n    this.angle = angle;\n  }\n  createGradient(ctx, bbox) {\n    const angleOffset = 90;\n    const {\n      stops,\n      angle\n    } = this;\n    const radians = normalizeAngle360(toRadians(angle + angleOffset));\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    const w = bbox.width;\n    const h = bbox.height;\n    const cx = bbox.x + w * 0.5;\n    const cy = bbox.y + h * 0.5;\n    if (w > 0 && h > 0) {\n      const diagonal = Math.sqrt(h * h + w * w) / 2;\n      const diagonalAngle = Math.atan2(h, w);\n      let quarteredAngle;\n      if (radians < Math.PI / 2) {\n        quarteredAngle = radians;\n      } else if (radians < Math.PI) {\n        quarteredAngle = Math.PI - radians;\n      } else if (radians < 1.5 * Math.PI) {\n        quarteredAngle = radians - Math.PI;\n      } else {\n        quarteredAngle = 2 * Math.PI - radians;\n      }\n      const l = diagonal * Math.abs(Math.cos(quarteredAngle - diagonalAngle));\n      const gradient = ctx.createLinearGradient(cx + cos * l, cy + sin * l, cx - cos * l, cy - sin * l);\n      for (const stop of stops) {\n        gradient.addColorStop(stop.offset, stop.color);\n      }\n      return gradient;\n    }\n    return \"black\";\n  }\n};\n\n// packages/ag-charts-community/src/scene/shape/shape.ts\nvar LINEAR_GRADIENT_REGEXP = /^linear-gradient\\((.*?)deg,\\s*(.*?)\\s*\\)$/i;\nvar _Shape = class _Shape extends Node {\n  constructor() {\n    super(...arguments);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.fill = _Shape.defaultStyles.fill;\n    this.stroke = _Shape.defaultStyles.stroke;\n    this.strokeWidth = _Shape.defaultStyles.strokeWidth;\n    this.lineDash = _Shape.defaultStyles.lineDash;\n    this.lineDashOffset = _Shape.defaultStyles.lineDashOffset;\n    this.lineCap = _Shape.defaultStyles.lineCap;\n    this.lineJoin = _Shape.defaultStyles.lineJoin;\n    this.opacity = _Shape.defaultStyles.opacity;\n    this.fillShadow = _Shape.defaultStyles.fillShadow;\n  }\n  /**\n   * Restores the default styles introduced by this subclass.\n   */\n  restoreOwnStyles() {\n    const {\n      defaultStyles\n    } = this.constructor;\n    Object.assign(this, defaultStyles);\n  }\n  onFillChange() {\n    const {\n      fill\n    } = this;\n    let linearGradientMatch;\n    if ((fill == null ? void 0 : fill.startsWith(\"linear-gradient\")) && (linearGradientMatch = LINEAR_GRADIENT_REGEXP.exec(fill))) {\n      const angle = parseFloat(linearGradientMatch[1]);\n      const colors = [];\n      const colorsPart = linearGradientMatch[2];\n      const colorRegex = /(#[0-9a-f]+)|(rgba?\\(.+?\\))|([a-z]+)/gi;\n      let c;\n      while (c = colorRegex.exec(colorsPart)) {\n        colors.push(c[0]);\n      }\n      this.gradient = new LinearGradient(colors.map((color, index) => ({\n        color,\n        offset: index / (colors.length - 1)\n      })), angle);\n    } else {\n      this.gradient = void 0;\n    }\n  }\n  /**\n   * Returns a device-pixel aligned coordinate (or length if length is supplied).\n   *\n   * NOTE: Not suitable for strokes, since the stroke needs to be offset to the middle\n   * of a device pixel.\n   */\n  align(start, length) {\n    var _a, _b, _c;\n    const pixelRatio = (_c = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas) == null ? void 0 : _b.pixelRatio) != null ? _c : 1;\n    const alignedStart = Math.round(start * pixelRatio) / pixelRatio;\n    if (length == null) {\n      return alignedStart;\n    } else if (length === 0) {\n      return 0;\n    } else if (length < 1) {\n      return Math.ceil(length * pixelRatio) / pixelRatio;\n    }\n    return Math.round((length + start) * pixelRatio) / pixelRatio - alignedStart;\n  }\n  fillStroke(ctx, path) {\n    this.renderFill(ctx, path);\n    this.renderStroke(ctx, path);\n  }\n  renderFill(ctx, path) {\n    if (this.fill) {\n      const {\n        globalAlpha\n      } = ctx;\n      this.applyFill(ctx);\n      this.applyFillAlpha(ctx);\n      this.applyShadow(ctx);\n      this.executeFill(ctx, path);\n      ctx.globalAlpha = globalAlpha;\n    }\n    ctx.shadowColor = \"rgba(0, 0, 0, 0)\";\n  }\n  executeFill(ctx, path) {\n    path ? ctx.fill(path) : ctx.fill();\n  }\n  applyFill(ctx) {\n    var _a, _b;\n    ctx.fillStyle = (_b = (_a = this.gradient) == null ? void 0 : _a.createGradient(ctx, this.computeBBox())) != null ? _b : this.fill;\n  }\n  applyFillAlpha(ctx) {\n    ctx.globalAlpha *= this.opacity * this.fillOpacity;\n  }\n  applyShadow(ctx) {\n    var _a, _b;\n    const pixelRatio = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas.pixelRatio) != null ? _b : 1;\n    const fillShadow = this.fillShadow;\n    if (fillShadow == null ? void 0 : fillShadow.enabled) {\n      ctx.shadowColor = fillShadow.color;\n      ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n      ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n      ctx.shadowBlur = fillShadow.blur * pixelRatio;\n    }\n  }\n  renderStroke(ctx, path) {\n    if (this.stroke && this.strokeWidth) {\n      const {\n        globalAlpha\n      } = ctx;\n      ctx.strokeStyle = this.stroke;\n      ctx.globalAlpha *= this.opacity * this.strokeOpacity;\n      ctx.lineWidth = this.strokeWidth;\n      if (this.lineDash) {\n        ctx.setLineDash(this.lineDash);\n      }\n      if (this.lineDashOffset) {\n        ctx.lineDashOffset = this.lineDashOffset;\n      }\n      if (this.lineCap) {\n        ctx.lineCap = this.lineCap;\n      }\n      if (this.lineJoin) {\n        ctx.lineJoin = this.lineJoin;\n      }\n      this.executeStroke(ctx, path);\n      ctx.globalAlpha = globalAlpha;\n    }\n  }\n  executeStroke(ctx, path) {\n    path ? ctx.stroke(path) : ctx.stroke();\n  }\n  containsPoint(x, y) {\n    return this.isPointInPath(x, y);\n  }\n};\n/**\n * Defaults for style properties. Note that properties that affect the position\n * and shape of the node are not considered style properties, for example:\n * `x`, `y`, `width`, `height`, `radius`, `rotation`, etc.\n * Can be used to reset to the original styling after some custom styling\n * has been applied (using the `restoreOwnStyles` method).\n * These static defaults are meant to be inherited by subclasses.\n */\n_Shape.defaultStyles = {\n  fill: \"black\",\n  stroke: void 0,\n  strokeWidth: 0,\n  lineDash: void 0,\n  lineDashOffset: 0,\n  lineCap: void 0,\n  lineJoin: void 0,\n  opacity: 1,\n  fillShadow: void 0\n};\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"fillOpacity\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"strokeOpacity\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */,\n  changeCb: s => s.onFillChange()\n})], _Shape.prototype, \"fill\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"stroke\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"strokeWidth\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"lineDash\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"lineDashOffset\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"lineCap\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], _Shape.prototype, \"lineJoin\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */,\n  convertor: v => clamp(0, v, 1)\n})], _Shape.prototype, \"opacity\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */,\n  checkDirtyOnAssignment: true\n})], _Shape.prototype, \"fillShadow\", 2);\nvar Shape = _Shape;\n\n// packages/ag-charts-community/src/scene/shape/range.ts\nvar Range = class extends Shape {\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(opts);\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.startLine = false;\n    this.endLine = false;\n    this.isRange = false;\n    this.restoreOwnStyles();\n  }\n  computeBBox() {\n    return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n  }\n  isPointInPath(_x, _y) {\n    return false;\n  }\n  render(renderCtx) {\n    var _a;\n    const {\n      ctx,\n      forceRender,\n      stats\n    } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats) stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    let {\n      x1,\n      y1,\n      x2,\n      y2\n    } = this;\n    x1 = this.align(x1);\n    y1 = this.align(y1);\n    x2 = this.align(x2);\n    y2 = this.align(y2);\n    const {\n      fill,\n      opacity,\n      isRange\n    } = this;\n    const fillActive = !!(isRange && fill);\n    if (fillActive) {\n      const {\n        fillOpacity\n      } = this;\n      ctx.fillStyle = fill;\n      ctx.globalAlpha = opacity * fillOpacity;\n      ctx.beginPath();\n      ctx.moveTo(x1, y1);\n      ctx.lineTo(x2, y1);\n      ctx.lineTo(x2, y2);\n      ctx.lineTo(x1, y2);\n      ctx.closePath();\n      ctx.fill();\n    }\n    const {\n      stroke,\n      strokeWidth,\n      startLine,\n      endLine\n    } = this;\n    const strokeActive = !!((startLine || endLine) && stroke && strokeWidth);\n    if (strokeActive) {\n      const {\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        lineCap,\n        lineJoin\n      } = this;\n      ctx.strokeStyle = stroke;\n      ctx.globalAlpha = opacity * strokeOpacity;\n      ctx.lineWidth = strokeWidth;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      ctx.beginPath();\n      if (startLine) {\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y1);\n      }\n      if (endLine) {\n        ctx.moveTo(x2, y2);\n        ctx.lineTo(x1, y2);\n      }\n      ctx.stroke();\n    }\n    (_a = this.fillShadow) == null ? void 0 : _a.markClean();\n    super.render(renderCtx);\n  }\n};\nRange.className = \"Range\";\nRange.defaultStyles = __spreadProps(__spreadValues({}, Shape.defaultStyles), {\n  strokeWidth: 1\n});\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"x1\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"y1\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"x2\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"y2\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"startLine\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"endLine\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 2 /* MINOR */\n})], Range.prototype, \"isRange\", 2);\n\n// packages/ag-charts-community/src/util/memo.ts\nvar memorizedFns = /* @__PURE__ */new WeakMap();\nvar memorizedMap = /* @__PURE__ */new WeakMap();\nfunction memo(params, fnGenerator) {\n  var _a, _b, _c;\n  const serialisedParams = JSON.stringify(params, null, 0);\n  if (!memorizedFns.has(fnGenerator)) {\n    memorizedFns.set(fnGenerator, /* @__PURE__ */new Map());\n  }\n  if (!((_a = memorizedFns.get(fnGenerator)) == null ? void 0 : _a.has(serialisedParams))) {\n    (_b = memorizedFns.get(fnGenerator)) == null ? void 0 : _b.set(serialisedParams, fnGenerator(params));\n  }\n  return (_c = memorizedFns.get(fnGenerator)) == null ? void 0 : _c.get(serialisedParams);\n}\nfunction memoizeFunction(baseFn) {\n  return function (params) {\n    var _a, _b, _c;\n    const serialisedParams = JSON.stringify(params, null, 0);\n    if (!memorizedMap.has(baseFn)) {\n      memorizedMap.set(baseFn, /* @__PURE__ */new Map());\n    }\n    if (!((_a = memorizedMap.get(baseFn)) == null ? void 0 : _a.has(serialisedParams))) {\n      for (var _len20 = arguments.length, rest = new Array(_len20 > 1 ? _len20 - 1 : 0), _key20 = 1; _key20 < _len20; _key20++) {\n        rest[_key20 - 1] = arguments[_key20];\n      }\n      (_b = memorizedMap.get(baseFn)) == null ? void 0 : _b.set(serialisedParams, baseFn(params, ...rest));\n    }\n    return (_c = memorizedMap.get(baseFn)) == null ? void 0 : _c.get(serialisedParams);\n  };\n}\n\n// packages/ag-charts-community/src/scene/shape/text.ts\nvar ellipsis = \"\\u2026\";\nfunction SceneFontChangeDetection(opts) {\n  const {\n    redraw = 3 /* MAJOR */,\n    changeCb\n  } = opts != null ? opts : {};\n  return SceneChangeDetection({\n    redraw,\n    type: \"font\",\n    changeCb\n  });\n}\nvar _Text = class _Text extends Shape {\n  constructor() {\n    super(...arguments);\n    this.x = 0;\n    this.y = 0;\n    this.lines = [];\n    this.text = void 0;\n    this._dirtyFont = true;\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.textAlign = _Text.defaultStyles.textAlign;\n    this.textBaseline = _Text.defaultStyles.textBaseline;\n  }\n  onTextChange() {\n    var _a, _b;\n    this.lines = (_b = (_a = this.text) == null ? void 0 : _a.split(\"\\n\").map(s => s.trim())) != null ? _b : [];\n  }\n  get font() {\n    if (this._font == null || this._dirtyFont) {\n      this._dirtyFont = false;\n      this._font = getFont(this);\n    }\n    return this._font;\n  }\n  computeBBox() {\n    const {\n      x,\n      y,\n      lines,\n      lineHeight,\n      textBaseline,\n      textAlign\n    } = this;\n    const {\n      top,\n      left,\n      width,\n      height\n    } = _Text.getTextSizeMultiline(lines, getFont(this), textBaseline, textAlign, lineHeight);\n    return new BBox(x - left, y - top, width, height);\n  }\n  getLineHeight(line) {\n    var _a, _b;\n    if (this.lineHeight) {\n      return this.lineHeight;\n    }\n    const metrics = _Text.measureText(line, this.font, this.textBaseline, this.textAlign);\n    return (\n      // Fallback to emHeightAscent + emHeightDescent is needed for server-side rendering.\n      ((_a = metrics.fontBoundingBoxAscent) != null ? _a : metrics.emHeightAscent) + ((_b = metrics.fontBoundingBoxDescent) != null ? _b : metrics.emHeightDescent)\n    );\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return bbox ? bbox.containsPoint(point.x, point.y) : false;\n  }\n  render(renderCtx) {\n    const {\n      ctx,\n      forceRender,\n      stats\n    } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats) stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    if (!this.lines.length || !this.layerManager) {\n      if (stats) stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    const {\n      fill,\n      stroke,\n      strokeWidth\n    } = this;\n    ctx.font = this.font;\n    ctx.textAlign = this.textAlign;\n    ctx.textBaseline = this.textBaseline;\n    const pixelRatio = this.layerManager.canvas.pixelRatio || 1;\n    const {\n      globalAlpha\n    } = ctx;\n    if (fill) {\n      ctx.fillStyle = fill;\n      ctx.globalAlpha = globalAlpha * this.opacity * this.fillOpacity;\n      const {\n        fillShadow\n      } = this;\n      if (fillShadow == null ? void 0 : fillShadow.enabled) {\n        ctx.shadowColor = fillShadow.color;\n        ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n        ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n        ctx.shadowBlur = fillShadow.blur * pixelRatio;\n      }\n      this.renderLines((line, x, y) => ctx.fillText(line, x, y));\n    }\n    if (stroke && strokeWidth) {\n      ctx.strokeStyle = stroke;\n      ctx.lineWidth = strokeWidth;\n      ctx.globalAlpha = globalAlpha * this.opacity * this.strokeOpacity;\n      const {\n        lineDash,\n        lineDashOffset,\n        lineCap,\n        lineJoin\n      } = this;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      this.renderLines((line, x, y) => ctx.strokeText(line, x, y));\n    }\n    super.render(renderCtx);\n  }\n  renderLines(renderCallback) {\n    const {\n      lines,\n      x,\n      y\n    } = this;\n    const lineHeights = lines.map(line => this.getLineHeight(line));\n    const totalHeight = lineHeights.reduce((a, b) => a + b, 0);\n    let offsetY = (lineHeights[0] - totalHeight) * _Text.getVerticalModifier(this.textBaseline);\n    for (let i = 0; i < lines.length; i++) {\n      renderCallback(lines[i], x, y + offsetY);\n      offsetY += lineHeights[i];\n    }\n  }\n  static wrapLines(text, maxWidth, maxHeight, textProps, wrapping, overflow) {\n    const canOverflow = overflow !== \"hide\";\n    const measurer = new TextMeasurer(textProps);\n    const lines = text.split(/\\r?\\n/g);\n    if (lines.length === 0) {\n      return {\n        lines: void 0,\n        truncated: false\n      };\n    }\n    if (wrapping === \"never\") {\n      const {\n        text: truncText,\n        truncated: truncated2\n      } = _Text.truncateLine(lines[0], maxWidth, measurer, canOverflow ? \"auto\" : \"never\");\n      return {\n        lines: truncText != null ? [truncText] : void 0,\n        truncated: truncated2\n      };\n    }\n    const wrappedLines = [];\n    let cumulativeHeight = 0;\n    let truncated = false;\n    for (const line of lines) {\n      const wrappedLine = _Text.wrapLine(line, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow);\n      if (wrappedLine == null) {\n        return {\n          lines: void 0,\n          truncated: false\n        };\n      }\n      wrappedLines.push(...wrappedLine.result);\n      cumulativeHeight = wrappedLine.cumulativeHeight;\n      if (wrappedLine.truncated) {\n        truncated = true;\n        break;\n      }\n    }\n    return {\n      lines: wrappedLines,\n      truncated\n    };\n  }\n  static wrap(text, maxWidth, maxHeight, textProps, wrapping) {\n    let overflow = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : \"ellipsis\";\n    var _a;\n    const {\n      lines,\n      truncated\n    } = _Text.wrapLines(text, maxWidth, maxHeight, textProps, wrapping, overflow);\n    return {\n      text: (_a = lines == null ? void 0 : lines.join(\"\\n\").trim()) != null ? _a : \"\",\n      truncated\n    };\n  }\n  static wrapLine(text, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow) {\n    text = text.trim();\n    if (!text) {\n      return {\n        result: [],\n        truncated: false,\n        cumulativeHeight\n      };\n    }\n    const initialSize = measurer.size(text);\n    if (initialSize.width <= maxWidth) {\n      return {\n        result: [text],\n        truncated: false,\n        cumulativeHeight: cumulativeHeight + initialSize.height\n      };\n    }\n    if (initialSize.height > maxHeight || measurer.width(\"W\") > maxWidth) {\n      return canOverflow ? {\n        result: [],\n        truncated: true,\n        cumulativeHeight\n      } : void 0;\n    }\n    const words = text.split(/\\s+/g);\n    const wrapResult = _Text.wrapLineSequentially(words, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow);\n    if (wrapResult == null) {\n      return;\n    }\n    cumulativeHeight = wrapResult.cumulativeHeight;\n    let {\n      lines\n    } = wrapResult;\n    if (!(wrapResult.wordsBrokenOrTruncated || wrapResult.linesTruncated)) {\n      const linesCount = wrapResult.lines.length;\n      const balanced = _Text.wrapLineBalanced(words, maxWidth, measurer, linesCount);\n      if (balanced.length === lines.length) {\n        lines = balanced;\n      }\n    }\n    const wrappedText = lines.map(ln => ln.join(\" \"));\n    return {\n      result: wrappedText,\n      truncated: wrapResult.linesTruncated,\n      cumulativeHeight\n    };\n  }\n  static breakWord(word, firstLineWidth, maxWidth, hyphens, measurer) {\n    const isPunctuationAt = index => _Text.punctuationMarks.includes(word[index]);\n    const h = hyphens ? measurer.width(\"-\") : 0;\n    const breaks = [];\n    let partWidth = 0;\n    let p = 0;\n    for (let i = 0; i < word.length; i++) {\n      const c = word[i];\n      const w = measurer.width(c);\n      const limit = p === 0 ? firstLineWidth : maxWidth;\n      if (partWidth + w + h > limit) {\n        breaks.push(i);\n        partWidth = 0;\n        p++;\n      }\n      partWidth += w;\n    }\n    const parts = [];\n    let start = 0;\n    for (const index of breaks) {\n      let part = word.substring(start, index);\n      if (hyphens && part.length > 0 && !isPunctuationAt(index - 1) && !isPunctuationAt(index)) {\n        part += \"-\";\n      }\n      parts.push(part);\n      start = index;\n    }\n    parts.push(word.substring(start));\n    return parts;\n  }\n  static truncateLine(text, maxWidth, measurer, ellipsisMode) {\n    text = text.trimEnd();\n    const lineWidth = measurer.width(text);\n    if (lineWidth > maxWidth && ellipsisMode === \"never\") {\n      return {\n        text: void 0,\n        truncated: false\n      };\n    } else if (lineWidth <= maxWidth && ellipsisMode !== \"force\") {\n      return {\n        text,\n        truncated: false\n      };\n    }\n    const ellipsisWidth = measurer.width(ellipsis);\n    let trunc = text;\n    let truncWidth = lineWidth;\n    while (trunc.length > 0 && truncWidth + ellipsisWidth > maxWidth) {\n      trunc = trunc.slice(0, -1).trimEnd();\n      truncWidth = measurer.width(trunc);\n    }\n    if (truncWidth + ellipsisWidth <= maxWidth) {\n      return {\n        text: \"\".concat(trunc).concat(ellipsis),\n        truncated: true\n      };\n    } else {\n      return {\n        text: void 0,\n        truncated: false\n      };\n    }\n  }\n  static wrapLineSequentially(words, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow) {\n    const {\n      fontSize = 0,\n      lineHeight = fontSize * _Text.defaultLineHeightRatio\n    } = textProps;\n    const breakWord = wrapping === \"always\" || wrapping === \"hyphenate\";\n    const hyphenate = wrapping === \"hyphenate\";\n    const spaceWidth = measurer.width(\" \");\n    let wordsBrokenOrTruncated = false;\n    let linesTruncated = false;\n    const lines = [];\n    let currentLine = [];\n    let lineWidth = 0;\n    const getReturnValue = () => ({\n      lines,\n      linesTruncated,\n      wordsBrokenOrTruncated,\n      cumulativeHeight\n    });\n    const truncateLastLine = () => {\n      if (!canOverflow) {\n        return;\n      }\n      const lastLine = currentLine.join(\" \");\n      const {\n        text\n      } = _Text.truncateLine(lastLine, maxWidth, measurer, \"force\");\n      if (text == null) {\n        return;\n      }\n      currentLine.splice(0, currentLine.length, text);\n      linesTruncated = true;\n      return getReturnValue();\n    };\n    const addNewLine = () => {\n      const expectedHeight = cumulativeHeight + lineHeight;\n      if (expectedHeight >= maxHeight) {\n        return false;\n      }\n      currentLine = [];\n      lineWidth = 0;\n      cumulativeHeight = expectedHeight;\n      lines.push(currentLine);\n      return true;\n    };\n    if (!addNewLine()) {\n      return truncateLastLine();\n    }\n    for (let i = 0; i < words.length; i++) {\n      const word = words[i];\n      const wordWidth = measurer.width(word);\n      const expectedSpaceWidth = currentLine.length === 0 ? 0 : spaceWidth;\n      const expectedLineWidth = lineWidth + expectedSpaceWidth + wordWidth;\n      if (expectedLineWidth <= maxWidth) {\n        currentLine.push(word);\n        lineWidth = expectedLineWidth;\n        continue;\n      }\n      if (wordWidth <= maxWidth) {\n        if (!addNewLine()) {\n          return truncateLastLine();\n        }\n        currentLine.push(word);\n        lineWidth = wordWidth;\n        continue;\n      }\n      wordsBrokenOrTruncated = true;\n      if (breakWord) {\n        const availWidth = maxWidth - lineWidth - expectedSpaceWidth;\n        const parts = _Text.breakWord(word, availWidth, maxWidth, hyphenate, measurer);\n        for (let p = 0; p < parts.length; p++) {\n          const part = parts[p];\n          part && currentLine.push(part);\n          if (p === parts.length - 1) {\n            lineWidth = measurer.width(part);\n          } else if (!addNewLine()) {\n            return truncateLastLine();\n          }\n        }\n      } else if (canOverflow) {\n        if (!addNewLine()) {\n          return truncateLastLine();\n        }\n        const {\n          text\n        } = _Text.truncateLine(word, maxWidth, measurer, \"force\");\n        if (text == null) {\n          return;\n        }\n        currentLine.push(text);\n        if (i < words.length - 1) {\n          linesTruncated = true;\n        }\n        break;\n      } else {\n        return;\n      }\n    }\n    return getReturnValue();\n  }\n  static wrapLineBalanced(words, maxWidth, measurer, linesCount) {\n    const totalWordsWidth = words.reduce((sum2, w) => sum2 + measurer.width(w), 0);\n    const spaceWidth = measurer.width(\" \");\n    const totalSpaceWidth = spaceWidth * (words.length - linesCount - 2);\n    const averageLineWidth = (totalWordsWidth + totalSpaceWidth) / linesCount;\n    const lines = [];\n    let currentLine = [];\n    let lineWidth = measurer.width(words[0]);\n    let newLine = true;\n    for (const word of words) {\n      const width = measurer.width(word);\n      if (newLine) {\n        currentLine = [];\n        currentLine.push(word);\n        lineWidth = width;\n        newLine = false;\n        lines.push(currentLine);\n        continue;\n      }\n      const expectedLineWidth = lineWidth + spaceWidth + width;\n      if (expectedLineWidth <= averageLineWidth) {\n        currentLine.push(word);\n        lineWidth = expectedLineWidth;\n      } else if (expectedLineWidth <= maxWidth) {\n        currentLine.push(word);\n        newLine = true;\n      } else {\n        currentLine = [word];\n        lineWidth = width;\n        lines.push(currentLine);\n      }\n    }\n    return lines;\n  }\n  setFont(props) {\n    this.fontFamily = props.fontFamily;\n    this.fontSize = props.fontSize;\n    this.fontStyle = props.fontStyle;\n    this.fontWeight = props.fontWeight;\n  }\n  setAlign(props) {\n    this.textAlign = props.textAlign;\n    this.textBaseline = props.textBaseline;\n  }\n  static getVerticalModifier(textBaseline) {\n    switch (textBaseline) {\n      case \"top\":\n      case \"hanging\":\n        return 0;\n      case \"bottom\":\n      case \"alphabetic\":\n      case \"ideographic\":\n        return 1;\n      case \"middle\":\n        return 0.5;\n    }\n  }\n  static get textContext() {\n    if (!this._textContext) {\n      const canvasElement = createElement(\"canvas\");\n      canvasElement.width = 0;\n      canvasElement.height = 0;\n      this._textContext = canvasElement.getContext(\"2d\");\n    }\n    return this._textContext;\n  }\n  static measureText(text, font, textBaseline, textAlign) {\n    return this._measureText({\n      text,\n      font,\n      textBaseline,\n      textAlign\n    });\n  }\n  /**\n   * Returns the width and height of the measured text.\n   * @param text The single-line text to measure.\n   * @param font The font shorthand string.\n   */\n  static getTextSize(text, font) {\n    return this._getTextSize({\n      text,\n      font\n    });\n  }\n  static getTextSizeMultiline(lines, font) {\n    let textBaseline = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _Text.defaultStyles.textBaseline;\n    let textAlign = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _Text.defaultStyles.textAlign;\n    let lineHeight = arguments.length > 4 ? arguments[4] : undefined;\n    var _a, _b;\n    let top = 0;\n    let left = 0;\n    let width = 0;\n    let height = 0;\n    let baselineDistance = 0;\n    for (const [i, text] of lines.entries()) {\n      const metrics = this._measureText({\n        text,\n        font,\n        textBaseline,\n        textAlign\n      });\n      left = Math.max(left, metrics.actualBoundingBoxLeft);\n      width = Math.max(width, metrics.width);\n      if (i == 0) {\n        top += metrics.actualBoundingBoxAscent;\n        height += metrics.actualBoundingBoxAscent;\n      } else {\n        baselineDistance += (_a = metrics.fontBoundingBoxAscent) != null ? _a : metrics.emHeightAscent;\n      }\n      if (i == lines.length - 1) {\n        height += metrics.actualBoundingBoxDescent;\n      } else {\n        baselineDistance += (_b = metrics.fontBoundingBoxDescent) != null ? _b : metrics.emHeightDescent;\n      }\n    }\n    if (lineHeight != null) {\n      baselineDistance = (lines.length - 1) * lineHeight;\n    }\n    height += baselineDistance;\n    top += baselineDistance * _Text.getVerticalModifier(textBaseline);\n    return {\n      top,\n      left,\n      width,\n      height\n    };\n  }\n};\n_Text.className = \"Text\";\n// The default line spacing for document editors is usually 1.15\n_Text.defaultLineHeightRatio = 1.15;\n_Text.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  textAlign: \"start\",\n  fontStyle: void 0,\n  fontWeight: void 0,\n  fontSize: 10,\n  fontFamily: \"sans-serif\",\n  textBaseline: \"alphabetic\"\n});\n_Text.ellipsis = ellipsis;\n_Text.punctuationMarks = [\".\", \",\", \"-\", \":\", \";\", \"!\", \"?\", \"'\", '\"', \"(\", \")\"];\n_Text._measureText = memoizeFunction(_ref19 => {\n  let {\n    text,\n    font,\n    textBaseline,\n    textAlign\n  } = _ref19;\n  const ctx = _Text.textContext;\n  if (ctx.font !== font) {\n    ctx.font = font;\n  }\n  if (ctx.textBaseline !== textBaseline) {\n    ctx.textBaseline = textBaseline;\n  }\n  if (ctx.textAlign !== textAlign) {\n    ctx.textAlign = textAlign;\n  }\n  return ctx.measureText(text);\n});\n_Text._getTextSize = memoizeFunction(_ref20 => {\n  let {\n    text,\n    font\n  } = _ref20;\n  const ctx = _Text.textContext;\n  if (ctx.font !== font) {\n    ctx.font = font;\n  }\n  const metrics = ctx.measureText(text);\n  return {\n    width: metrics.width,\n    height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n  };\n});\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], _Text.prototype, \"x\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], _Text.prototype, \"y\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */,\n  changeCb: o => o.onTextChange()\n})], _Text.prototype, \"text\", 2);\n__decorateClass([SceneFontChangeDetection()], _Text.prototype, \"fontStyle\", 2);\n__decorateClass([SceneFontChangeDetection()], _Text.prototype, \"fontWeight\", 2);\n__decorateClass([SceneFontChangeDetection()], _Text.prototype, \"fontSize\", 2);\n__decorateClass([SceneFontChangeDetection()], _Text.prototype, \"fontFamily\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], _Text.prototype, \"textAlign\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], _Text.prototype, \"textBaseline\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], _Text.prototype, \"lineHeight\", 2);\nvar Text = _Text;\nvar TextMeasurer = class {\n  constructor(font) {\n    this.font = isString(font) ? font : getFont(font);\n  }\n  size(text) {\n    return text.includes(\"\\n\") ? Text.getTextSizeMultiline(text.split(\"\\n\").map(s => s.trim()), this.font) : Text.getTextSize(text, this.font);\n  }\n  width(text) {\n    const {\n      width\n    } = this.size(text);\n    return width;\n  }\n};\nfunction getFont(fontProps) {\n  const {\n    fontFamily,\n    fontSize,\n    fontStyle,\n    fontWeight\n  } = fontProps;\n  return [fontStyle != null ? fontStyle : \"\", fontWeight != null ? fontWeight : \"\", fontSize + \"px\", fontFamily].join(\" \").trim();\n}\n\n// packages/ag-charts-community/src/chart/label.ts\nvar Label = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n  }\n  getFont() {\n    return getFont(this);\n  }\n};\n__decorateClass([Validate(BOOLEAN)], Label.prototype, \"enabled\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], Label.prototype, \"color\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], Label.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], Label.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Label.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], Label.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], Label.prototype, \"formatter\", 2);\nfunction calculateLabelRotation(opts) {\n  const {\n    parallelFlipRotation = 0,\n    regularFlipRotation = 0\n  } = opts;\n  const configuredRotation = opts.rotation ? normalizeAngle360(toRadians(opts.rotation)) : 0;\n  const parallelFlipFlag = !configuredRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI ? -1 : 1;\n  const regularFlipFlag = !configuredRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI ? -1 : 1;\n  let defaultRotation = 0;\n  if (opts.parallel) {\n    defaultRotation = parallelFlipFlag * Math.PI / 2;\n  } else if (regularFlipFlag === -1) {\n    defaultRotation = Math.PI;\n  }\n  return {\n    configuredRotation,\n    defaultRotation,\n    parallelFlipFlag,\n    regularFlipFlag\n  };\n}\nfunction getLabelSpacing(minSpacing, rotated) {\n  if (!isNaN(minSpacing)) {\n    return minSpacing;\n  }\n  return rotated ? 0 : 10;\n}\nfunction getTextBaseline(parallel, labelRotation, sideFlag, parallelFlipFlag) {\n  if (parallel && !labelRotation) {\n    return sideFlag * parallelFlipFlag === -1 ? \"hanging\" : \"bottom\";\n  }\n  return \"middle\";\n}\nfunction getTextAlign(parallel, labelRotation, labelAutoRotation, sideFlag, regularFlipFlag) {\n  const labelRotated = labelRotation > 0 && labelRotation <= Math.PI;\n  const labelAutoRotated = labelAutoRotation > 0 && labelAutoRotation <= Math.PI;\n  const alignFlag = labelRotated || labelAutoRotated ? -1 : 1;\n  if (parallel) {\n    if (labelRotation || labelAutoRotation) {\n      if (sideFlag * alignFlag === -1) {\n        return \"end\";\n      }\n    } else {\n      return \"center\";\n    }\n  } else if (sideFlag * regularFlipFlag === -1) {\n    return \"end\";\n  }\n  return \"start\";\n}\nfunction calculateLabelBBox(text, bbox, labelX, labelY, labelMatrix) {\n  const {\n    width,\n    height\n  } = bbox;\n  const translatedBBox = new BBox(labelX, labelY, 0, 0);\n  labelMatrix.transformBBox(translatedBBox, bbox);\n  const {\n    x,\n    y\n  } = bbox;\n  bbox.width = width;\n  bbox.height = height;\n  return {\n    point: {\n      x,\n      y\n    },\n    label: {\n      text,\n      width,\n      height\n    }\n  };\n}\n\n// packages/ag-charts-community/src/chart/layers.ts\nvar Layers = /* @__PURE__ */(Layers2 => {\n  Layers2[Layers2[\"SERIES_BACKGROUND_ZINDEX\"] = 0] = \"SERIES_BACKGROUND_ZINDEX\";\n  Layers2[Layers2[\"AXIS_GRID_ZINDEX\"] = 1] = \"AXIS_GRID_ZINDEX\";\n  Layers2[Layers2[\"AXIS_ZINDEX\"] = 2] = \"AXIS_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSLINE_RANGE_ZINDEX\"] = 3] = \"SERIES_CROSSLINE_RANGE_ZINDEX\";\n  Layers2[Layers2[\"SERIES_LAYER_ZINDEX\"] = 4] = \"SERIES_LAYER_ZINDEX\";\n  Layers2[Layers2[\"SERIES_HIGHLIGHT_ZINDEX\"] = 5] = \"SERIES_HIGHLIGHT_ZINDEX\";\n  Layers2[Layers2[\"AXIS_FOREGROUND_ZINDEX\"] = 6] = \"AXIS_FOREGROUND_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSHAIR_ZINDEX\"] = 7] = \"SERIES_CROSSHAIR_ZINDEX\";\n  Layers2[Layers2[\"SERIES_LABEL_ZINDEX\"] = 8] = \"SERIES_LABEL_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSLINE_LINE_ZINDEX\"] = 9] = \"SERIES_CROSSLINE_LINE_ZINDEX\";\n  Layers2[Layers2[\"SERIES_ANNOTATION_ZINDEX\"] = 10] = \"SERIES_ANNOTATION_ZINDEX\";\n  Layers2[Layers2[\"LEGEND_ZINDEX\"] = 11] = \"LEGEND_ZINDEX\";\n  Layers2[Layers2[\"NAVIGATOR_ZINDEX\"] = 12] = \"NAVIGATOR_ZINDEX\";\n  return Layers2;\n})(Layers || {});\n\n// packages/ag-charts-community/src/util/value.ts\nfunction isStringObject(value) {\n  return value != null && Object.hasOwn(value, \"toString\") && isString(value.toString());\n}\nfunction isNumberObject(value) {\n  return value != null && Object.hasOwn(value, \"valueOf\") && isFiniteNumber(value.valueOf());\n}\nfunction isContinuous(value) {\n  return isFiniteNumber(value) || isValidDate(value) || isNumberObject(value);\n}\nfunction checkDatum(value, isContinuousScale) {\n  return value != null && (!isContinuousScale || isContinuous(value));\n}\nfunction transformIntegratedCategoryValue(value) {\n  if (isStringObject(value) && Object.hasOwn(value, \"id\")) {\n    return value.id;\n  }\n  return value;\n}\n\n// packages/ag-charts-community/src/chart/crossline/crossLine.ts\nvar MATCHING_CROSSLINE_TYPE = property => {\n  return property === \"value\" ? predicateWithMessage((_, ctx) => ctx.target[\"type\"] === \"line\", ctx => ctx.target[\"type\"] === \"range\" ? \"crossLine type 'range' to have a 'range' property instead of 'value'\" : \"crossLine property 'type' to be 'line'\") : predicateWithMessage((_, ctx) => ctx.target[\"type\"] === \"range\", ctx => ctx.target.type === \"line\" ? \"crossLine type 'line' to have a 'value' property instead of 'range'\" : \"crossLine property 'type' to be 'range'\");\n};\nvar validateCrossLineValues = (type, value, range3, scale2) => {\n  const lineCrossLine = type === \"line\" && value !== void 0;\n  const rangeCrossLine = type === \"range\" && range3 !== void 0;\n  if (!lineCrossLine && !rangeCrossLine) {\n    return true;\n  }\n  const [start, end] = range3 != null ? range3 : [value, void 0];\n  const isContinuous2 = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n  const validStart = checkDatum(start, isContinuous2) && !isNaN(scale2.convert(start));\n  const validEnd = checkDatum(end, isContinuous2) && !isNaN(scale2.convert(end));\n  if (lineCrossLine && validStart || rangeCrossLine && validStart && validEnd) {\n    return true;\n  }\n  const message = [\"Expecting crossLine\"];\n  if (rangeCrossLine) {\n    if (!validStart) {\n      message.push(\"range start \".concat(stringify(start)));\n    }\n    if (!validEnd) {\n      message.push(\"\".concat(validStart ? \"\" : \"and \", \"range end \").concat(stringify(end)));\n    }\n  } else {\n    message.push(\"value \".concat(stringify(start)));\n  }\n  message.push(\"to match the axis scale domain.\");\n  Logger.warnOnce(message.join(\" \"));\n  return false;\n};\n\n// packages/ag-charts-community/src/chart/crossline/crossLineLabelPosition.ts\nvar horizontalCrosslineTranslationDirections = {\n  top: {\n    xTranslationDirection: 0,\n    yTranslationDirection: -1\n  },\n  bottom: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 1\n  },\n  left: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 0\n  },\n  right: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 0\n  },\n  topLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: -1\n  },\n  topRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: -1\n  },\n  bottomLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 1\n  },\n  bottomRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 1\n  },\n  inside: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 0\n  },\n  insideLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 0\n  },\n  insideRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 0\n  },\n  insideTop: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 1\n  },\n  insideBottom: {\n    xTranslationDirection: 0,\n    yTranslationDirection: -1\n  },\n  insideTopLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 1\n  },\n  insideBottomLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: -1\n  },\n  insideTopRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 1\n  },\n  insideBottomRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: -1\n  }\n};\nvar verticalCrossLineTranslationDirections = {\n  top: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 0\n  },\n  bottom: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 0\n  },\n  left: {\n    xTranslationDirection: 0,\n    yTranslationDirection: -1\n  },\n  right: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 1\n  },\n  topLeft: {\n    xTranslationDirection: -1,\n    yTranslationDirection: -1\n  },\n  topRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 1\n  },\n  bottomLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: -1\n  },\n  bottomRight: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 1\n  },\n  inside: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 0\n  },\n  insideLeft: {\n    xTranslationDirection: 0,\n    yTranslationDirection: 1\n  },\n  insideRight: {\n    xTranslationDirection: 0,\n    yTranslationDirection: -1\n  },\n  insideTop: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 0\n  },\n  insideBottom: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 0\n  },\n  insideTopLeft: {\n    xTranslationDirection: -1,\n    yTranslationDirection: 1\n  },\n  insideBottomLeft: {\n    xTranslationDirection: 1,\n    yTranslationDirection: 1\n  },\n  insideTopRight: {\n    xTranslationDirection: -1,\n    yTranslationDirection: -1\n  },\n  insideBottomRight: {\n    xTranslationDirection: 1,\n    yTranslationDirection: -1\n  }\n};\nfunction calculateLabelTranslation(_ref21) {\n  let {\n    yDirection,\n    padding = 0,\n    position = \"top\",\n    bbox\n  } = _ref21;\n  const crossLineTranslationDirections = yDirection ? horizontalCrosslineTranslationDirections : verticalCrossLineTranslationDirections;\n  const {\n    xTranslationDirection,\n    yTranslationDirection\n  } = crossLineTranslationDirections[position];\n  const w = yDirection ? bbox.width : bbox.height;\n  const h = yDirection ? bbox.height : bbox.width;\n  const xTranslation = xTranslationDirection * (padding + w / 2);\n  const yTranslation = yTranslationDirection * (padding + h / 2);\n  return {\n    xTranslation,\n    yTranslation\n  };\n}\nfunction calculateLabelChartPadding(_ref22) {\n  let {\n    yDirection,\n    bbox,\n    padding = 0,\n    position = \"top\"\n  } = _ref22;\n  const chartPadding = {};\n  if (position.startsWith(\"inside\")) return chartPadding;\n  if (position === \"top\" && !yDirection) {\n    chartPadding.top = padding + bbox.height;\n  } else if (position === \"bottom\" && !yDirection) {\n    chartPadding.bottom = padding + bbox.height;\n  } else if (position === \"left\" && yDirection) {\n    chartPadding.left = padding + bbox.width;\n  } else if (position === \"right\" && yDirection) {\n    chartPadding.right = padding + bbox.width;\n  }\n  return chartPadding;\n}\nvar POSITION_TOP_COORDINATES = _ref23 => {\n  let {\n    yDirection,\n    xEnd,\n    yStart,\n    yEnd\n  } = _ref23;\n  if (yDirection) {\n    return {\n      x: xEnd / 2,\n      y: yStart\n    };\n  } else {\n    return {\n      x: xEnd,\n      y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2\n    };\n  }\n};\nvar POSITION_LEFT_COORDINATES = _ref24 => {\n  let {\n    yDirection,\n    xStart,\n    xEnd,\n    yStart,\n    yEnd\n  } = _ref24;\n  if (yDirection) {\n    return {\n      x: xStart,\n      y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2\n    };\n  } else {\n    return {\n      x: xEnd / 2,\n      y: yStart\n    };\n  }\n};\nvar POSITION_RIGHT_COORDINATES = _ref25 => {\n  let {\n    yDirection,\n    xEnd,\n    yStart,\n    yEnd\n  } = _ref25;\n  if (yDirection) {\n    return {\n      x: xEnd,\n      y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2\n    };\n  } else {\n    return {\n      x: xEnd / 2,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  }\n};\nvar POSITION_BOTTOM_COORDINATES = _ref26 => {\n  let {\n    yDirection,\n    xStart,\n    xEnd,\n    yStart,\n    yEnd\n  } = _ref26;\n  if (yDirection) {\n    return {\n      x: xEnd / 2,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  } else {\n    return {\n      x: xStart,\n      y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2\n    };\n  }\n};\nvar POSITION_INSIDE_COORDINATES = _ref27 => {\n  let {\n    xEnd,\n    yStart,\n    yEnd\n  } = _ref27;\n  return {\n    x: xEnd / 2,\n    y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2\n  };\n};\nvar POSITION_TOP_LEFT_COORDINATES = _ref28 => {\n  let {\n    yDirection,\n    xStart,\n    xEnd,\n    yStart\n  } = _ref28;\n  if (yDirection) {\n    return {\n      x: xStart / 2,\n      y: yStart\n    };\n  } else {\n    return {\n      x: xEnd,\n      y: yStart\n    };\n  }\n};\nvar POSITION_BOTTOM_LEFT_COORDINATES = _ref29 => {\n  let {\n    yDirection,\n    xStart,\n    yStart,\n    yEnd\n  } = _ref29;\n  if (yDirection) {\n    return {\n      x: xStart,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  } else {\n    return {\n      x: xStart,\n      y: yStart\n    };\n  }\n};\nvar POSITION_TOP_RIGHT_COORDINATES = _ref30 => {\n  let {\n    yDirection,\n    xEnd,\n    yStart,\n    yEnd\n  } = _ref30;\n  if (yDirection) {\n    return {\n      x: xEnd,\n      y: yStart\n    };\n  } else {\n    return {\n      x: xEnd,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  }\n};\nvar POSITION_BOTTOM_RIGHT_COORDINATES = _ref31 => {\n  let {\n    yDirection,\n    xStart,\n    xEnd,\n    yStart,\n    yEnd\n  } = _ref31;\n  if (yDirection) {\n    return {\n      x: xEnd,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  } else {\n    return {\n      x: xStart,\n      y: isNaN(yEnd) ? yStart : yEnd\n    };\n  }\n};\nvar labelDirectionHandling = {\n  top: {\n    c: POSITION_TOP_COORDINATES\n  },\n  bottom: {\n    c: POSITION_BOTTOM_COORDINATES\n  },\n  left: {\n    c: POSITION_LEFT_COORDINATES\n  },\n  right: {\n    c: POSITION_RIGHT_COORDINATES\n  },\n  topLeft: {\n    c: POSITION_TOP_LEFT_COORDINATES\n  },\n  topRight: {\n    c: POSITION_TOP_RIGHT_COORDINATES\n  },\n  bottomLeft: {\n    c: POSITION_BOTTOM_LEFT_COORDINATES\n  },\n  bottomRight: {\n    c: POSITION_BOTTOM_RIGHT_COORDINATES\n  },\n  inside: {\n    c: POSITION_INSIDE_COORDINATES\n  },\n  insideLeft: {\n    c: POSITION_LEFT_COORDINATES\n  },\n  insideRight: {\n    c: POSITION_RIGHT_COORDINATES\n  },\n  insideTop: {\n    c: POSITION_TOP_COORDINATES\n  },\n  insideBottom: {\n    c: POSITION_BOTTOM_COORDINATES\n  },\n  insideTopLeft: {\n    c: POSITION_TOP_LEFT_COORDINATES\n  },\n  insideBottomLeft: {\n    c: POSITION_BOTTOM_LEFT_COORDINATES\n  },\n  insideTopRight: {\n    c: POSITION_TOP_RIGHT_COORDINATES\n  },\n  insideBottomRight: {\n    c: POSITION_BOTTOM_RIGHT_COORDINATES\n  }\n};\n\n// packages/ag-charts-community/src/chart/crossline/cartesianCrossLine.ts\nvar CROSSLINE_LABEL_POSITION = UNION([\"top\", \"left\", \"right\", \"bottom\", \"topLeft\", \"topRight\", \"bottomLeft\", \"bottomRight\", \"inside\", \"insideLeft\", \"insideRight\", \"insideTop\", \"insideBottom\", \"insideTopLeft\", \"insideBottomLeft\", \"insideTopRight\", \"insideBottomRight\"], \"crossLine label position\");\nvar CartesianCrossLineLabel = class {\n  constructor() {\n    this.enabled = void 0;\n    this.text = void 0;\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 14;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.padding = 5;\n    this.color = \"rgba(87, 87, 87, 1)\";\n    this.position = void 0;\n    this.rotation = void 0;\n    this.parallel = void 0;\n  }\n};\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"enabled\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"text\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], CartesianCrossLineLabel.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], CartesianCrossLineLabel.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(NUMBER)], CartesianCrossLineLabel.prototype, \"padding\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"color\", 2);\n__decorateClass([Validate(CROSSLINE_LABEL_POSITION, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"position\", 2);\n__decorateClass([Validate(DEGREE, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"rotation\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], CartesianCrossLineLabel.prototype, \"parallel\", 2);\nvar _CartesianCrossLine = class _CartesianCrossLine {\n  constructor() {\n    this.id = createId(this);\n    this.enabled = void 0;\n    this.type = void 0;\n    this.range = void 0;\n    this.value = void 0;\n    this.fill = void 0;\n    this.fillOpacity = void 0;\n    this.stroke = void 0;\n    this.strokeWidth = void 0;\n    this.strokeOpacity = void 0;\n    this.lineDash = void 0;\n    this.label = new CartesianCrossLineLabel();\n    this.scale = void 0;\n    this.clippedRange = [-Infinity, Infinity];\n    this.gridLength = 0;\n    this.sideFlag = -1;\n    this.parallelFlipRotation = 0;\n    this.regularFlipRotation = 0;\n    this.direction = \"x\" /* X */;\n    this.group = new Group({\n      name: \"\".concat(this.id),\n      layer: true,\n      zIndex: _CartesianCrossLine.LINE_LAYER_ZINDEX\n    });\n    this.labelGroup = new Group({\n      name: \"\".concat(this.id),\n      layer: true,\n      zIndex: _CartesianCrossLine.LABEL_LAYER_ZINDEX\n    });\n    this.crossLineRange = new Range();\n    this.crossLineLabel = new Text();\n    this.labelPoint = void 0;\n    this.data = [];\n    this.startLine = false;\n    this.endLine = false;\n    this.isRange = false;\n    const {\n      group: group2,\n      labelGroup,\n      crossLineRange,\n      crossLineLabel\n    } = this;\n    group2.append(crossLineRange);\n    labelGroup.append(crossLineLabel);\n    crossLineRange.pointerEvents = 1 /* None */;\n  }\n  update(visible) {\n    const {\n      enabled,\n      data,\n      type,\n      value,\n      range: range3,\n      scale: scale2\n    } = this;\n    if (!type || !scale2 || !enabled || !visible || !validateCrossLineValues(type, value, range3, scale2) || data.length === 0) {\n      this.group.visible = false;\n      this.labelGroup.visible = false;\n      return;\n    }\n    this.group.visible = visible;\n    this.labelGroup.visible = visible;\n    this.group.zIndex = this.getZIndex(this.isRange);\n    this.updateNodes();\n  }\n  calculateLayout(visible, reversedAxis) {\n    if (!visible) {\n      return;\n    }\n    const dataCreated = this.createNodeData(reversedAxis);\n    if (!dataCreated) {\n      return;\n    }\n    const {\n      sideFlag,\n      gridLength,\n      data\n    } = this;\n    const boxes = [];\n    const x1 = 0;\n    const x2 = sideFlag * gridLength;\n    const y1 = data[0];\n    const y2 = data[1];\n    const crossLineBox = new BBox(Math.min(x1, x2), Math.min(y1, y2), Math.abs(x1 - x2), Math.abs(y1 - y2));\n    boxes.push(crossLineBox);\n    const labelBox = this.computeLabelBBox();\n    if (labelBox) {\n      boxes.push(labelBox);\n    }\n    return BBox.merge(boxes);\n  }\n  updateNodes() {\n    this.updateRangeNode();\n    if (this.label.enabled) {\n      this.updateLabel();\n      this.positionLabel();\n    }\n  }\n  createNodeData(reversedAxis) {\n    var _a, _b, _c;\n    const {\n      scale: scale2,\n      gridLength,\n      sideFlag,\n      direction,\n      label: {\n        position = \"top\"\n      },\n      clippedRange,\n      strokeWidth = 0\n    } = this;\n    this.data = [];\n    if (!scale2) {\n      return false;\n    }\n    const bandwidth = (_a = scale2.bandwidth) != null ? _a : 0;\n    const step = (_b = scale2.step) != null ? _b : 0;\n    const padding = (reversedAxis ? -1 : 1) * (scale2 instanceof BandScale ? (step - bandwidth) / 2 : 0);\n    const [xStart, xEnd] = [0, sideFlag * gridLength];\n    let [yStart, yEnd] = this.getRange();\n    const ordinalTimeScalePadding = yEnd === void 0 && OrdinalTimeScale.is(scale2) ? bandwidth / 2 + padding : 0;\n    let [clampedYStart, clampedYEnd] = [Number(scale2.convert(yStart, {\n      clampMode: \"clamped\"\n    })) - padding + ordinalTimeScalePadding, scale2.convert(yEnd, {\n      clampMode: \"clamped\"\n    }) + bandwidth + padding];\n    clampedYStart = clampArray(clampedYStart, clippedRange);\n    clampedYEnd = clampArray(clampedYEnd, clippedRange);\n    [yStart, yEnd] = [Number(scale2.convert(yStart)) + ordinalTimeScalePadding, scale2.convert(yEnd) + bandwidth];\n    const validRange = (yStart === clampedYStart || yEnd === clampedYEnd || clampedYStart !== clampedYEnd) && Math.abs(clampedYEnd - clampedYStart) > 0;\n    if (validRange && clampedYStart > clampedYEnd) {\n      [clampedYStart, clampedYEnd] = [clampedYEnd, clampedYStart];\n      [yStart, yEnd] = [yEnd, yStart];\n    }\n    if (yStart - padding >= clampedYStart) yStart -= padding;\n    if (yEnd + padding <= clampedYEnd) yEnd += padding;\n    this.isRange = validRange;\n    this.startLine = strokeWidth > 0 && yStart >= clampedYStart && yStart <= clampedYStart + padding;\n    this.endLine = strokeWidth > 0 && yEnd >= clampedYEnd - bandwidth - padding && yEnd <= clampedYEnd;\n    if (!validRange && !this.startLine && !this.endLine) {\n      return false;\n    }\n    this.data = [clampedYStart, clampedYEnd];\n    if (this.label.enabled) {\n      const yDirection = direction === \"y\" /* Y */;\n      const {\n        c = POSITION_TOP_COORDINATES\n      } = (_c = labelDirectionHandling[position]) != null ? _c : {};\n      const {\n        x: labelX,\n        y: labelY\n      } = c({\n        yDirection,\n        xStart,\n        xEnd,\n        yStart: clampedYStart,\n        yEnd: clampedYEnd\n      });\n      this.labelPoint = {\n        x: labelX,\n        y: labelY\n      };\n    }\n    return true;\n  }\n  updateRangeNode() {\n    var _a;\n    const {\n      crossLineRange,\n      sideFlag,\n      gridLength,\n      data,\n      startLine,\n      endLine,\n      isRange,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      lineDash\n    } = this;\n    crossLineRange.x1 = 0;\n    crossLineRange.x2 = sideFlag * gridLength;\n    crossLineRange.y1 = data[0];\n    crossLineRange.y2 = data[1];\n    crossLineRange.startLine = startLine;\n    crossLineRange.endLine = endLine;\n    crossLineRange.isRange = isRange;\n    crossLineRange.fill = fill;\n    crossLineRange.fillOpacity = fillOpacity != null ? fillOpacity : 1;\n    crossLineRange.stroke = stroke;\n    crossLineRange.strokeWidth = strokeWidth != null ? strokeWidth : 1;\n    crossLineRange.strokeOpacity = (_a = this.strokeOpacity) != null ? _a : 1;\n    crossLineRange.lineDash = lineDash;\n  }\n  updateLabel() {\n    const {\n      crossLineLabel,\n      label\n    } = this;\n    if (!label.text) {\n      return;\n    }\n    crossLineLabel.fontStyle = label.fontStyle;\n    crossLineLabel.fontWeight = label.fontWeight;\n    crossLineLabel.fontSize = label.fontSize;\n    crossLineLabel.fontFamily = label.fontFamily;\n    crossLineLabel.fill = label.color;\n    crossLineLabel.text = label.text;\n  }\n  positionLabel() {\n    const {\n      crossLineLabel,\n      labelPoint: {\n        x = void 0,\n        y = void 0\n      } = {},\n      label: {\n        parallel,\n        rotation,\n        position = \"top\",\n        padding = 0\n      },\n      direction,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this;\n    if (x === void 0 || y === void 0) {\n      return;\n    }\n    const {\n      defaultRotation,\n      configuredRotation\n    } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    crossLineLabel.rotation = defaultRotation + configuredRotation;\n    crossLineLabel.textBaseline = \"middle\";\n    crossLineLabel.textAlign = \"center\";\n    const bbox = crossLineLabel.computeTransformedBBox();\n    if (!bbox) {\n      return;\n    }\n    const yDirection = direction === \"y\" /* Y */;\n    const {\n      xTranslation,\n      yTranslation\n    } = calculateLabelTranslation({\n      yDirection,\n      padding,\n      position,\n      bbox\n    });\n    crossLineLabel.translationX = x + xTranslation;\n    crossLineLabel.translationY = y + yTranslation;\n  }\n  getZIndex() {\n    let isRange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (isRange) {\n      return _CartesianCrossLine.RANGE_LAYER_ZINDEX;\n    }\n    return _CartesianCrossLine.LINE_LAYER_ZINDEX;\n  }\n  getRange() {\n    var _a;\n    const {\n      value,\n      range: range3,\n      scale: scale2\n    } = this;\n    const isContinuous2 = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const start = (_a = range3 == null ? void 0 : range3[0]) != null ? _a : value;\n    let end = range3 == null ? void 0 : range3[1];\n    if (!isContinuous2 && end === void 0) {\n      end = start;\n    }\n    if (isContinuous2 && start === end) {\n      end = void 0;\n    }\n    return [start, end];\n  }\n  computeLabelBBox() {\n    const {\n      label\n    } = this;\n    if (!label.enabled) {\n      return;\n    }\n    const tempText = new Text();\n    tempText.fontFamily = label.fontFamily;\n    tempText.fontSize = label.fontSize;\n    tempText.fontStyle = label.fontStyle;\n    tempText.fontWeight = label.fontWeight;\n    tempText.text = label.text;\n    const {\n      labelPoint: {\n        x = void 0,\n        y = void 0\n      } = {},\n      label: {\n        parallel,\n        rotation,\n        position = \"top\",\n        padding = 0\n      },\n      direction,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this;\n    if (x === void 0 || y === void 0) {\n      return;\n    }\n    const {\n      configuredRotation\n    } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    tempText.rotation = configuredRotation;\n    tempText.textBaseline = \"middle\";\n    tempText.textAlign = \"center\";\n    const bbox = tempText.computeTransformedBBox();\n    if (!bbox) {\n      return;\n    }\n    const yDirection = direction === \"y\" /* Y */;\n    const {\n      xTranslation,\n      yTranslation\n    } = calculateLabelTranslation({\n      yDirection,\n      padding,\n      position,\n      bbox\n    });\n    tempText.translationX = x + xTranslation;\n    tempText.translationY = y + yTranslation;\n    return tempText.computeTransformedBBox();\n  }\n  calculatePadding(padding) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const {\n      isRange,\n      startLine,\n      endLine,\n      direction,\n      label: {\n        padding: labelPadding = 0,\n        position = \"top\"\n      }\n    } = this;\n    if (!isRange && !startLine && !endLine) {\n      return;\n    }\n    const crossLineLabelBBox = this.computeLabelBBox();\n    if ((crossLineLabelBBox == null ? void 0 : crossLineLabelBBox.x) == null || (crossLineLabelBBox == null ? void 0 : crossLineLabelBBox.y) == null) {\n      return;\n    }\n    const chartPadding = calculateLabelChartPadding({\n      yDirection: direction === \"y\" /* Y */,\n      padding: labelPadding,\n      position,\n      bbox: crossLineLabelBBox\n    });\n    padding.left = Math.max((_a = padding.left) != null ? _a : 0, (_b = chartPadding.left) != null ? _b : 0);\n    padding.right = Math.max((_c = padding.right) != null ? _c : 0, (_d = chartPadding.right) != null ? _d : 0);\n    padding.top = Math.max((_e = padding.top) != null ? _e : 0, (_f = chartPadding.top) != null ? _f : 0);\n    padding.bottom = Math.max((_g = padding.bottom) != null ? _g : 0, (_h = chartPadding.bottom) != null ? _h : 0);\n  }\n};\n_CartesianCrossLine.LINE_LAYER_ZINDEX = 9 /* SERIES_CROSSLINE_LINE_ZINDEX */;\n_CartesianCrossLine.RANGE_LAYER_ZINDEX = 3 /* SERIES_CROSSLINE_RANGE_ZINDEX */;\n_CartesianCrossLine.LABEL_LAYER_ZINDEX = 8 /* SERIES_LABEL_ZINDEX */;\n_CartesianCrossLine.className = \"CrossLine\";\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"enabled\", 2);\n__decorateClass([Validate(UNION([\"range\", \"line\"], \"a crossLine type\"), {\n  optional: true\n})], _CartesianCrossLine.prototype, \"type\", 2);\n__decorateClass([Validate(AND(MATCHING_CROSSLINE_TYPE(\"range\"), ARRAY.restrict({\n  length: 2\n})), {\n  optional: true\n})], _CartesianCrossLine.prototype, \"range\", 2);\n__decorateClass([Validate(MATCHING_CROSSLINE_TYPE(\"value\"), {\n  optional: true\n})], _CartesianCrossLine.prototype, \"value\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"stroke\", 2);\n__decorateClass([Validate(NUMBER, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH, {\n  optional: true\n})], _CartesianCrossLine.prototype, \"lineDash\", 2);\nvar CartesianCrossLine = _CartesianCrossLine;\n\n// packages/ag-charts-community/src/module/moduleMap.ts\nvar ModuleMap = class {\n  constructor() {\n    this.moduleMap = /* @__PURE__ */new Map();\n  }\n  *modules() {\n    for (const m of this.moduleMap.values()) {\n      yield m.moduleInstance;\n    }\n  }\n  addModule(module, moduleFactory) {\n    if (this.moduleMap.has(module.optionsKey)) {\n      throw new Error(\"AG Charts - module already initialised: \".concat(module.optionsKey));\n    }\n    this.moduleMap.set(module.optionsKey, {\n      module,\n      moduleInstance: moduleFactory(module)\n    });\n  }\n  removeModule(module) {\n    var _a;\n    const moduleKey = isString(module) ? module : module.optionsKey;\n    (_a = this.moduleMap.get(moduleKey)) == null ? void 0 : _a.moduleInstance.destroy();\n    this.moduleMap.delete(moduleKey);\n  }\n  getModule(module) {\n    var _a;\n    return (_a = this.moduleMap.get(isString(module) ? module : module.optionsKey)) == null ? void 0 : _a.moduleInstance;\n  }\n  isEnabled(module) {\n    return this.moduleMap.has(isString(module) ? module : module.optionsKey);\n  }\n  mapModules(callback) {\n    return Array.from(this.moduleMap.values(), (m, i) => callback(m.moduleInstance, i));\n  }\n  destroy() {\n    var _a;\n    for (const moduleKey of this.moduleMap.keys()) {\n      (_a = this.moduleMap.get(moduleKey)) == null ? void 0 : _a.moduleInstance.destroy();\n    }\n    this.moduleMap.clear();\n  }\n};\n\n// packages/ag-charts-community/src/motion/resetMotion.ts\nvar resetMotion_exports = {};\n__export(resetMotion_exports, {\n  resetMotion: () => resetMotion\n});\nfunction resetMotion(selectionsOrNodes, propsFn) {\n  const {\n    nodes,\n    selections\n  } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  for (const selection of selections) {\n    for (const node of selection.nodes()) {\n      const from = propsFn(node, node.datum);\n      node.setProperties(from);\n    }\n    selection.cleanup();\n  }\n  for (const node of nodes) {\n    const from = propsFn(node, node.datum);\n    node.setProperties(from);\n  }\n}\n\n// packages/ag-charts-community/src/motion/states.ts\nvar StateMachine = class {\n  constructor(initialState, states, preTransitionCb) {\n    this.states = states;\n    this.preTransitionCb = preTransitionCb;\n    this.debug = Debug.create(true, \"animation\");\n    this.state = initialState;\n    this.debug(\"%c\".concat(this.constructor.name, \" | init -> \").concat(initialState), \"color: green\");\n  }\n  transition(event, data) {\n    var _a, _b;\n    const currentStateConfig = this.states[this.state];\n    const destinationTransition = currentStateConfig == null ? void 0 : currentStateConfig[event];\n    if (!destinationTransition) {\n      this.debug(\"%c\".concat(this.constructor.name, \" | \").concat(this.state, \" -> \").concat(event, \" -> \").concat(this.state), \"color: grey\");\n      return;\n    }\n    let destinationState = this.state;\n    if (typeof destinationTransition === \"string\") {\n      destinationState = destinationTransition;\n    } else if (typeof destinationTransition === \"object\") {\n      destinationState = destinationTransition.target;\n    }\n    this.debug(\"%c\".concat(this.constructor.name, \" | \").concat(this.state, \" -> \").concat(event, \" -> \").concat(destinationState), \"color: green\");\n    (_a = this.preTransitionCb) == null ? void 0 : _a.call(this, this.state, destinationState);\n    this.state = destinationState;\n    if (typeof destinationTransition === \"function\") {\n      destinationTransition(data);\n    } else if (typeof destinationTransition === \"object\") {\n      (_b = destinationTransition.action) == null ? void 0 : _b.call(destinationTransition, data);\n    }\n    return this.state;\n  }\n};\n\n// packages/ag-charts-community/src/util/numberFormat.ts\nvar group = content => \"(\".concat(content, \")\");\nvar optionalGroup = content => \"\".concat(group(content), \"?\");\nvar nonCapturingGroup = content => optionalGroup(\"?:\".concat(content));\nvar formatRegEx = (() => {\n  const fill = \".\";\n  const align = \"[<>=^]\";\n  const sign = \"[+\\\\-( ]\";\n  const symbol = \"[$\\u20AC\\xA3\\xA5\\u20A3\\u20B9#]\";\n  const zero = \"0\";\n  const width = \"\\\\d+\";\n  const comma = \",\";\n  const precision = \"\\\\d+\";\n  const tilde = \"~\";\n  const type = \"[%a-z]\";\n  return new RegExp([\"^\", nonCapturingGroup(\"\".concat(optionalGroup(fill)).concat(group(align))), optionalGroup(sign), optionalGroup(symbol), optionalGroup(zero), optionalGroup(width), optionalGroup(comma), nonCapturingGroup(\"\\\\.\".concat(group(precision))), optionalGroup(tilde), optionalGroup(type), \"$\"].join(\"\"), \"i\");\n})();\nvar surroundedRegEx = (() => {\n  const prefix = \".*?\";\n  const content = \".+?\";\n  const suffix = \".*?\";\n  return new RegExp([\"^\", group(prefix), \"#\\\\{\".concat(group(content), \"\\\\}\"), group(suffix), \"$\"].join(\"\"));\n})();\nfunction parseFormatter(formatter) {\n  let prefix;\n  let suffix;\n  const surrounded = surroundedRegEx.exec(formatter);\n  if (surrounded) {\n    [, prefix, formatter, suffix] = surrounded;\n  }\n  const match = formatRegEx.exec(formatter);\n  if (!match) {\n    throw new Error(\"The number formatter is invalid: \".concat(formatter));\n  }\n  const [, fill, align, sign, symbol, zero, width, comma, precision, trim, type] = match;\n  return {\n    fill,\n    align,\n    sign,\n    symbol,\n    zero,\n    width: parseInt(width),\n    comma,\n    precision: parseInt(precision),\n    trim: Boolean(trim),\n    type,\n    prefix,\n    suffix\n  };\n}\nfunction format(formatter) {\n  const options = typeof formatter === \"string\" ? parseFormatter(formatter) : formatter;\n  const {\n    fill,\n    align,\n    sign = \"-\",\n    symbol,\n    zero,\n    width,\n    comma,\n    type,\n    prefix = \"\",\n    suffix = \"\",\n    precision\n  } = options;\n  let {\n    trim\n  } = options;\n  const precisionIsNaN = precision === void 0 || isNaN(precision);\n  let formatBody;\n  if (!type) {\n    formatBody = decimalTypes[\"g\"];\n    trim = true;\n  } else if (type in decimalTypes && type in integerTypes) {\n    formatBody = precisionIsNaN ? integerTypes[type] : decimalTypes[type];\n  } else if (type in decimalTypes) {\n    formatBody = decimalTypes[type];\n  } else if (type in integerTypes) {\n    formatBody = integerTypes[type];\n  } else {\n    throw new Error(\"The number formatter type is invalid: \".concat(type));\n  }\n  let formatterPrecision;\n  if (precision == null || precisionIsNaN) {\n    formatterPrecision = type ? 6 : 12;\n  } else {\n    formatterPrecision = precision;\n  }\n  return n => {\n    let result = formatBody(n, formatterPrecision);\n    if (trim) {\n      result = removeTrailingZeros(result);\n    }\n    if (comma) {\n      result = insertSeparator(result, comma);\n    }\n    result = addSign(n, result, sign);\n    if (symbol && symbol !== \"#\") {\n      result = \"\".concat(symbol).concat(result);\n    }\n    if (symbol === \"#\" && type === \"x\") {\n      result = \"0x\".concat(result);\n    }\n    if (type === \"s\") {\n      result = \"\".concat(result).concat(getSIPrefix(n));\n    }\n    if (type === \"%\" || type === \"p\") {\n      result = \"\".concat(result, \"%\");\n    }\n    if (width != null && !isNaN(width)) {\n      result = addPadding(result, width, fill != null ? fill : zero, align);\n    }\n    result = \"\".concat(prefix).concat(result).concat(suffix);\n    return result;\n  };\n}\nvar absFloor = n => Math.floor(Math.abs(n));\nvar integerTypes = {\n  b: n => absFloor(n).toString(2),\n  c: n => String.fromCharCode(n),\n  d: n => Math.round(Math.abs(n)).toFixed(0),\n  o: n => absFloor(n).toString(8),\n  x: n => absFloor(n).toString(16),\n  X: n => integerTypes.x(n).toUpperCase(),\n  n: n => integerTypes.d(n),\n  \"%\": n => \"\".concat(absFloor(n * 100).toFixed(0))\n};\nvar decimalTypes = {\n  e: (n, f) => Math.abs(n).toExponential(f),\n  E: (n, f) => decimalTypes.e(n, f).toUpperCase(),\n  f: (n, f) => Math.abs(n).toFixed(f),\n  F: (n, f) => decimalTypes.f(n, f).toUpperCase(),\n  g: (n, f) => {\n    if (n === 0) {\n      return \"0\";\n    }\n    const a = Math.abs(n);\n    const p = Math.floor(Math.log10(a));\n    if (p >= -4 && p < f) {\n      return a.toFixed(f - 1 - p);\n    }\n    return a.toExponential(f - 1);\n  },\n  G: (n, f) => decimalTypes.g(n, f).toUpperCase(),\n  n: (n, f) => decimalTypes.g(n, f),\n  p: (n, f) => decimalTypes.r(n * 100, f),\n  r: (n, f) => {\n    if (n === 0) {\n      return \"0\";\n    }\n    const a = Math.abs(n);\n    const p = Math.floor(Math.log10(a));\n    const q = p - (f - 1);\n    if (q <= 0) {\n      return a.toFixed(-q);\n    }\n    const x = Math.pow(10, q);\n    return (Math.round(a / x) * x).toFixed();\n  },\n  s: (n, f) => {\n    const p = getSIPrefixPower(n);\n    return decimalTypes.r(n / Math.pow(10, p), f);\n  },\n  \"%\": (n, f) => decimalTypes.f(n * 100, f)\n};\nfunction removeTrailingZeros(numString) {\n  return numString.replace(/\\.0+$/, \"\").replace(/(\\.[1-9])0+$/, \"$1\");\n}\nfunction insertSeparator(numString, separator) {\n  let dotIndex = numString.indexOf(\".\");\n  if (dotIndex < 0) {\n    dotIndex = numString.length;\n  }\n  const integerChars = numString.substring(0, dotIndex).split(\"\");\n  const fractionalPart = numString.substring(dotIndex);\n  for (let i = integerChars.length - 3; i > 0; i -= 3) {\n    integerChars.splice(i, 0, separator);\n  }\n  return \"\".concat(integerChars.join(\"\")).concat(fractionalPart);\n}\nfunction getSIPrefix(n) {\n  return siPrefixes[getSIPrefixPower(n)];\n}\nfunction getSIPrefixPower(n) {\n  return clamp(minSIPrefix, n ? Math.floor(Math.log10(Math.abs(n)) / 3) * 3 : 0, maxSIPrefix);\n}\nvar minSIPrefix = -24;\nvar maxSIPrefix = 24;\nvar siPrefixes = {\n  [minSIPrefix]: \"y\",\n  [-21]: \"z\",\n  [-18]: \"a\",\n  [-15]: \"f\",\n  [-12]: \"p\",\n  [-9]: \"n\",\n  [-6]: \"\\xB5\",\n  [-3]: \"m\",\n  [0]: \"\",\n  [3]: \"k\",\n  [6]: \"M\",\n  [9]: \"G\",\n  [12]: \"T\",\n  [15]: \"P\",\n  [18]: \"E\",\n  [21]: \"Z\",\n  [maxSIPrefix]: \"Y\"\n};\nvar minusSign = \"\\u2212\";\nfunction addSign(num, numString) {\n  let signType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n  if (signType === \"(\") {\n    return num >= 0 ? numString : \"(\".concat(numString, \")\");\n  }\n  const plusSign = signType === \"+\" ? \"+\" : \"\";\n  return \"\".concat(num >= 0 ? plusSign : minusSign).concat(numString);\n}\nfunction addPadding(numString, width) {\n  let fill = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \" \";\n  let align = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \">\";\n  let result = numString;\n  if (align === \">\" || !align) {\n    result = result.padStart(width, fill);\n  } else if (align === \"<\") {\n    result = result.padEnd(width, fill);\n  } else if (align === \"^\") {\n    const padWidth = Math.max(0, width - result.length);\n    const padLeft = Math.ceil(padWidth / 2);\n    const padRight = Math.floor(padWidth / 2);\n    result = result.padStart(padLeft + result.length, fill);\n    result = result.padEnd(padRight + result.length, fill);\n  }\n  return result;\n}\nfunction tickFormat(ticks, formatter) {\n  const options = parseFormatter(formatter != null ? formatter : \",f\");\n  const {\n    precision\n  } = options;\n  if (precision == null || isNaN(precision)) {\n    if (options.type === \"f\" || options.type === \"%\") {\n      options.precision = Math.max(...ticks.map(x => {\n        if (typeof x !== \"number\" || x === 0) {\n          return 0;\n        }\n        const l = Math.floor(Math.log10(Math.abs(x)));\n        const digits = options.type ? 6 : 12;\n        const exp = x.toExponential(digits - 1).replace(/\\.?0+e/, \"e\");\n        const dotIndex = exp.indexOf(\".\");\n        if (dotIndex < 0) {\n          return l >= 0 ? 0 : -l;\n        }\n        const s = exp.indexOf(\"e\") - dotIndex;\n        return Math.max(0, s - l - 1);\n      }));\n    } else if (!options.type || options.type in decimalTypes) {\n      options.precision = Math.max(...ticks.map(x => {\n        if (typeof x !== \"number\") {\n          return 0;\n        }\n        const exp = x.toExponential((options.type ? 6 : 12) - 1).replace(/\\.?0+e/, \"e\");\n        return exp.substring(0, exp.indexOf(\"e\")).replace(\".\", \"\").length;\n      }));\n    }\n  }\n  const f = format(options);\n  return n => f(Number(n));\n}\n\n// packages/ag-charts-community/src/scale/logScale.ts\nvar _LogScale = class _LogScale extends ContinuousScale {\n  constructor() {\n    super([1, 10], [0, 1]);\n    this.type = \"log\";\n    this.base = 10;\n    this.baseLog = identity;\n    this.basePow = identity;\n    this.log = x => {\n      const start = Math.min(...this.domain);\n      return start >= 0 ? this.baseLog(x) : -this.baseLog(-x);\n    };\n    this.pow = x => {\n      const start = Math.min(...this.domain);\n      return start >= 0 ? this.basePow(x) : -this.basePow(-x);\n    };\n    this.defaultClampMode = \"clamped\";\n  }\n  toDomain(d) {\n    return d;\n  }\n  transform(x) {\n    const start = Math.min(...this.domain);\n    return start >= 0 ? Math.log(x) : -Math.log(-x);\n  }\n  transformInvert(x) {\n    const start = Math.min(...this.domain);\n    return start >= 0 ? Math.exp(x) : -Math.exp(-x);\n  }\n  refresh() {\n    if (this.base <= 0) {\n      this.base = 0;\n      Logger.warnOnce(\"expecting a finite Number greater than to 0\");\n    }\n    super.refresh();\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    this.baseLog = _LogScale.getBaseLogMethod(this.base);\n    this.basePow = _LogScale.getBasePowerMethod(this.base);\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  updateNiceDomain() {\n    const [d0, d1] = this.domain;\n    const roundStart = d0 > d1 ? Math.ceil : Math.floor;\n    const roundStop = d0 > d1 ? Math.floor : Math.ceil;\n    const n0 = this.pow(roundStart(this.log(d0)));\n    const n1 = this.pow(roundStop(this.log(d1)));\n    this.niceDomain = [n0, n1];\n  }\n  ticks() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : 10;\n    if (!this.domain || this.domain.length < 2 || count < 1) {\n      return [];\n    }\n    this.refresh();\n    const base = this.base;\n    const [d0, d1] = this.getDomain();\n    const start = Math.min(d0, d1);\n    const stop = Math.max(d0, d1);\n    let p0 = this.log(start);\n    let p1 = this.log(stop);\n    if (this.interval) {\n      const step = Math.abs(this.interval);\n      const absDiff = Math.abs(p1 - p0);\n      let ticks2 = range(p0, p1, Math.min(absDiff, step));\n      ticks2 = createNumericTicks(ticks2.fractionDigits, ticks2.map(x => this.pow(x)).filter(t => t >= start && t <= stop));\n      const availableRange = this.getPixelRange();\n      if (!isDenseInterval({\n        start,\n        stop,\n        interval: step,\n        count: ticks2.length,\n        availableRange\n      })) {\n        return ticks2;\n      }\n    }\n    const isBaseInteger = base % 1 === 0;\n    const isDiffLarge = p1 - p0 >= count;\n    if (!isBaseInteger || isDiffLarge) {\n      let ticks2 = ticks_default(p0, p1, Math.min(p1 - p0, count));\n      ticks2 = createNumericTicks(ticks2.fractionDigits, ticks2.map(x => this.pow(x)));\n      return ticks2;\n    }\n    const ticks = [];\n    const isPositive = start > 0;\n    p0 = Math.floor(p0) - 1;\n    p1 = Math.round(p1) + 1;\n    const availableSpacing = findRangeExtent(this.range) / count;\n    let lastTickPosition = Infinity;\n    for (let p = p0; p <= p1; p++) {\n      const nextMagnitudeTickPosition = this.convert(this.pow(p + 1));\n      for (let k = 1; k < base; k++) {\n        const q = isPositive ? k : base - k + 1;\n        const t = this.pow(p) * q;\n        const tickPosition = this.convert(t);\n        const prevSpacing = Math.abs(lastTickPosition - tickPosition);\n        const nextSpacing = Math.abs(tickPosition - nextMagnitudeTickPosition);\n        const fits = prevSpacing >= availableSpacing && nextSpacing >= availableSpacing;\n        if (t >= start && t <= stop && (k === 1 || fits || ticks.length === 0)) {\n          ticks.push(t);\n          lastTickPosition = tickPosition;\n        }\n      }\n    }\n    return ticks;\n  }\n  tickFormat(_ref32) {\n    let {\n      count,\n      ticks,\n      specifier\n    } = _ref32;\n    if (count !== Infinity && ticks == null) {\n      this.ticks();\n    }\n    specifier != null ? specifier : specifier = this.base === 10 ? \".0e\" : \",\";\n    return isString(specifier) ? format(specifier) : specifier;\n  }\n  static getBaseLogMethod(base) {\n    switch (base) {\n      case 10:\n        return Math.log10;\n      case Math.E:\n        return Math.log;\n      case 2:\n        return Math.log2;\n      default:\n        const logBase = Math.log(base);\n        return x => Math.log(x) / logBase;\n    }\n  }\n  static getBasePowerMethod(base) {\n    switch (base) {\n      case 10:\n        return x => x >= 0 ? __pow(10, x) : 1 / __pow(10, -x);\n      case Math.E:\n        return Math.exp;\n      default:\n        return x => __pow(base, x);\n    }\n  }\n};\n__decorateClass([Invalidating], _LogScale.prototype, \"base\", 2);\nvar LogScale = _LogScale;\n\n// packages/ag-charts-community/src/scene/selection.ts\nvar Selection = class _Selection {\n  constructor(parentNode, classOrFactory) {\n    let autoCleanup = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    this.parentNode = parentNode;\n    this.autoCleanup = autoCleanup;\n    this.garbageBin = /* @__PURE__ */new Set();\n    this._nodesMap = /* @__PURE__ */new Map();\n    this._nodes = [];\n    this.data = [];\n    this.debug = Debug.create(true, \"scene\", \"scene:selections\");\n    this.nodeFactory = Object.prototype.isPrototypeOf.call(Node, classOrFactory) ? () => new classOrFactory() : classOrFactory;\n  }\n  static select(parent, classOrFactory) {\n    let garbageCollection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    return new _Selection(parent, classOrFactory, garbageCollection);\n  }\n  static selectAll(parent, predicate) {\n    const results = [];\n    const traverse = node => {\n      if (predicate(node)) {\n        results.push(node);\n      }\n      node.children.forEach(traverse);\n    };\n    traverse(parent);\n    return results;\n  }\n  static selectByClass(node, Class) {\n    for (var _len21 = arguments.length, ExtraClasses = new Array(_len21 > 2 ? _len21 - 2 : 0), _key21 = 2; _key21 < _len21; _key21++) {\n      ExtraClasses[_key21 - 2] = arguments[_key21];\n    }\n    return _Selection.selectAll(node, n => {\n      return n instanceof Class || ExtraClasses.some(C => n instanceof C);\n    });\n  }\n  static selectByTag(node, tag) {\n    return _Selection.selectAll(node, n => n.tag === tag);\n  }\n  createNode(datum, initializer, idx) {\n    const node = this.nodeFactory(datum);\n    node.datum = datum;\n    initializer == null ? void 0 : initializer(node);\n    if (idx == null) {\n      this._nodes.push(node);\n    } else {\n      this._nodes.splice(idx, 0, node);\n    }\n    this.parentNode.appendChild(node);\n    return node;\n  }\n  /**\n   * Update the data in a selection. If an `getDatumId()` function is provided, maintain a list of ids related to\n   * the nodes. Otherwise, take the more efficient route of simply creating and destroying nodes at the end\n   * of the array.\n   */\n  update(data, initializer, getDatumId) {\n    if (this.garbageBin.size > 0) {\n      this.debug(\"Selection - update() called with pending garbage: \".concat(data));\n    }\n    if (getDatumId) {\n      const dataMap = new Map(data.map((datum, idx) => [getDatumId(datum), [datum, idx]]));\n      for (const [node, datumId] of this._nodesMap.entries()) {\n        if (dataMap.has(datumId)) {\n          const [newDatum] = dataMap.get(datumId);\n          node.datum = newDatum;\n          this.garbageBin.delete(node);\n          dataMap.delete(datumId);\n        } else {\n          this.garbageBin.add(node);\n        }\n      }\n      for (const [datumId, [datum, idx]] of dataMap.entries()) {\n        this._nodesMap.set(this.createNode(datum, initializer, idx), datumId);\n      }\n    } else {\n      const maxLength = Math.max(data.length, this.data.length);\n      for (let i = 0; i < maxLength; i++) {\n        if (i >= data.length) {\n          this.garbageBin.add(this._nodes[i]);\n        } else if (i >= this._nodes.length) {\n          this.createNode(data[i], initializer);\n        } else {\n          this._nodes[i].datum = data[i];\n          this.garbageBin.delete(this._nodes[i]);\n        }\n      }\n    }\n    this.data = data.slice();\n    if (this.autoCleanup) {\n      this.cleanup();\n    }\n    return this;\n  }\n  cleanup() {\n    if (this.garbageBin.size === 0) {\n      return this;\n    }\n    this._nodes = this._nodes.filter(node => {\n      if (this.garbageBin.has(node)) {\n        this._nodesMap.delete(node);\n        this.garbageBin.delete(node);\n        this.parentNode.removeChild(node);\n        return false;\n      }\n      return true;\n    });\n    return this;\n  }\n  clear() {\n    this.update([]);\n    return this;\n  }\n  isGarbage(node) {\n    return this.garbageBin.has(node);\n  }\n  hasGarbage() {\n    return this.garbageBin.size > 0;\n  }\n  each(iterate2) {\n    for (const entry of this._nodes.entries()) {\n      iterate2(entry[1], entry[1].datum, entry[0]);\n    }\n    return this;\n  }\n  *[Symbol.iterator]() {\n    for (let index = 0; index < this._nodes.length; index++) {\n      const node = this._nodes[index];\n      const datum = this._nodes[index].datum;\n      yield {\n        node,\n        datum,\n        index\n      };\n    }\n  }\n  select(predicate) {\n    return _Selection.selectAll(this.parentNode, predicate);\n  }\n  selectByClass(Class) {\n    return _Selection.selectByClass(this.parentNode, Class);\n  }\n  selectByTag(tag) {\n    return _Selection.selectByTag(this.parentNode, tag);\n  }\n  nodes() {\n    return this._nodes;\n  }\n};\n\n// packages/ag-charts-community/src/util/distance.ts\nfunction pointsDistanceSquared(x1, y1, x2, y2) {\n  const dx = x1 - x2;\n  const dy = y1 - y2;\n  return dx * dx + dy * dy;\n}\nfunction lineDistanceSquared(x, y, x1, y1, x2, y2, best) {\n  if (x1 === x2 && y1 === y2) {\n    return Math.min(best, pointsDistanceSquared(x, y, x1, y1));\n  }\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const t = Math.max(0, Math.min(1, ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy)));\n  const ix = x1 + t * dx;\n  const iy = y1 + t * dy;\n  return Math.min(best, pointsDistanceSquared(x, y, ix, iy));\n}\nfunction arcDistanceSquared(x, y, cx, cy, radius, startAngle, endAngle, counterClockwise, best) {\n  if (counterClockwise) {\n    [endAngle, startAngle] = [startAngle, endAngle];\n  }\n  const angle = Math.atan2(y - cy, x - cx);\n  if (!isBetweenAngles(angle, startAngle, endAngle)) {\n    const startX = cx + Math.cos(startAngle) * radius;\n    const startY = cy + Math.sin(startAngle) * radius;\n    const endX = cx + Math.cos(startAngle) * radius;\n    const endY = cy + Math.sin(startAngle) * radius;\n    return Math.min(best, pointsDistanceSquared(x, y, startX, startY), pointsDistanceSquared(x, y, endX, endY));\n  }\n  const distToArc = radius - Math.sqrt(pointsDistanceSquared(x, y, cx, cy));\n  return Math.min(best, distToArc * distToArc);\n}\n\n// packages/ag-charts-community/src/scene/shape/line.ts\nvar Line = class extends Shape {\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(opts);\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.restoreOwnStyles();\n  }\n  set x(value) {\n    this.x1 = value;\n    this.x2 = value;\n  }\n  set y(value) {\n    this.y1 = value;\n    this.y2 = value;\n  }\n  computeBBox() {\n    return new BBox(Math.min(this.x1, this.x2), Math.min(this.y1, this.y2), Math.abs(this.x2 - this.x1), Math.abs(this.y2 - this.y1));\n  }\n  isPointInPath(px, py) {\n    if (this.x1 === this.x2 || this.y1 === this.y2) {\n      const {\n        x,\n        y\n      } = this.transformPoint(px, py);\n      return this.computeBBox().grow(this.strokeWidth / 2).containsPoint(x, y);\n    }\n    return false;\n  }\n  distanceSquared(px, py) {\n    const {\n      x1,\n      y1,\n      x2,\n      y2\n    } = this;\n    return lineDistanceSquared(px, py, x1, y1, x2, y2, Infinity);\n  }\n  render(renderCtx) {\n    var _a;\n    const {\n      ctx,\n      forceRender,\n      stats,\n      devicePixelRatio\n    } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats) stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    let {\n      x1,\n      y1,\n      x2,\n      y2\n    } = this;\n    if (x1 === x2) {\n      const {\n        strokeWidth\n      } = this;\n      const x = Math.round(x1 * devicePixelRatio) / devicePixelRatio + Math.trunc(strokeWidth * devicePixelRatio) % 2 / (devicePixelRatio * 2);\n      x1 = x;\n      x2 = x;\n    } else if (y1 === y2) {\n      const {\n        strokeWidth\n      } = this;\n      const y = Math.round(y1 * devicePixelRatio) / devicePixelRatio + Math.trunc(strokeWidth * devicePixelRatio) % 2 / (devicePixelRatio * 2);\n      y1 = y;\n      y2 = y;\n    }\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    this.fillStroke(ctx);\n    (_a = this.fillShadow) == null ? void 0 : _a.markClean();\n    super.render(renderCtx);\n  }\n};\nLine.className = \"Line\";\nLine.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  fill: void 0,\n  strokeWidth: 1\n});\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Line.prototype, \"x1\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Line.prototype, \"y1\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Line.prototype, \"x2\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Line.prototype, \"y2\", 2);\n\n// packages/ag-charts-community/src/scene/util/labelPlacement.ts\nfunction circleRectOverlap(c, unitCenter, x, y, w, h) {\n  if (c.size === 0) return false;\n  let cx = c.x;\n  let cy = c.y;\n  if (unitCenter != null) {\n    cx -= (unitCenter.x - 0.5) * c.size;\n    cy -= (unitCenter.y - 0.5) * c.size;\n  }\n  let edgeX = cx;\n  if (cx < x) {\n    edgeX = x;\n  } else if (cx > x + w) {\n    edgeX = x + w;\n  }\n  let edgeY = cy;\n  if (cy < y) {\n    edgeY = y;\n  } else if (cy > y + h) {\n    edgeY = y + h;\n  }\n  const dx = cx - edgeX;\n  const dy = cy - edgeY;\n  const d = Math.sqrt(dx * dx + dy * dy);\n  return d <= c.size * 0.5;\n}\nfunction rectRectOverlap(r1, x2, y2, w2, h2) {\n  const xOverlap = r1.x + r1.width > x2 && r1.x < x2 + w2;\n  const yOverlap = r1.y + r1.height > y2 && r1.y < y2 + h2;\n  return xOverlap && yOverlap;\n}\nfunction rectContainsRect(r1, r2x, r2y, r2w, r2h) {\n  return r2x + r2w < r1.x + r1.width && r2x > r1.x && r2y > r1.y && r2y + r2h < r1.y + r1.height;\n}\nfunction isPointLabelDatum(x) {\n  return x != null && typeof x.point === \"object\" && typeof x.label === \"object\";\n}\nvar labelPlacements = {\n  top: {\n    x: 0,\n    y: -1\n  },\n  bottom: {\n    x: 0,\n    y: 1\n  },\n  left: {\n    x: -1,\n    y: 0\n  },\n  right: {\n    x: 1,\n    y: 0\n  }\n};\nfunction placeLabels(data, bounds) {\n  let padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n  var _a, _b;\n  const result = [];\n  data = data.map(d => d.slice().sort((a, b) => b.point.size - a.point.size));\n  for (let j = 0; j < data.length; j++) {\n    const labels = result[j] = [];\n    const datum = data[j];\n    if (!((datum == null ? void 0 : datum.length) && datum[0].label)) {\n      continue;\n    }\n    for (let i = 0, ln = datum.length; i < ln; i++) {\n      const d = datum[i];\n      const {\n        point,\n        label,\n        marker\n      } = d;\n      const {\n        text,\n        width,\n        height\n      } = label;\n      const r = point.size * 0.5;\n      let dx = 0;\n      let dy = 0;\n      if (r > 0 && d.placement != null) {\n        const placement = labelPlacements[d.placement];\n        dx = (width * 0.5 + r + padding) * placement.x;\n        dy = (height * 0.5 + r + padding) * placement.y;\n      }\n      const x = point.x - width * 0.5 + dx - (((_a = marker == null ? void 0 : marker.center.x) != null ? _a : 0.5) - 0.5) * point.size;\n      const y = point.y - height * 0.5 + dy - (((_b = marker == null ? void 0 : marker.center.y) != null ? _b : 0.5) - 0.5) * point.size;\n      const withinBounds = !bounds || rectContainsRect(bounds, x, y, width, height);\n      if (!withinBounds) {\n        continue;\n      }\n      const overlapPoints = data.some(dataDatums => dataDatums.some(dataDatum => {\n        var _a2;\n        return circleRectOverlap(dataDatum.point, (_a2 = dataDatum.marker) == null ? void 0 : _a2.center, x, y, width, height);\n      }));\n      if (overlapPoints) {\n        continue;\n      }\n      const overlapLabels = result.some(l2 => l2.some(l3 => rectRectOverlap(l3, x, y, width, height)));\n      if (overlapLabels) {\n        continue;\n      }\n      labels.push({\n        index: i,\n        text,\n        x,\n        y,\n        width,\n        height,\n        datum: d\n      });\n    }\n  }\n  return result;\n}\nfunction axisLabelsOverlap(data, padding) {\n  const result = [];\n  for (let i = 0; i < data.length; i++) {\n    const datum = data[i];\n    const {\n      point: {\n        x,\n        y\n      },\n      label: {\n        text\n      }\n    } = datum;\n    let {\n      label: {\n        width,\n        height\n      }\n    } = datum;\n    width += padding != null ? padding : 0;\n    height += padding != null ? padding : 0;\n    const overlapLabels = result.some(l => {\n      return rectRectOverlap(l, x, y, width, height);\n    });\n    if (overlapLabels) {\n      return true;\n    }\n    result.push({\n      index: i,\n      text,\n      x,\n      y,\n      width,\n      height,\n      datum\n    });\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/util/equal.ts\nfunction areArrayItemsStrictlyEqual(arrA, arrB) {\n  return arrA.length === arrB.length && arrA.every((a, i) => {\n    const b = arrB[i];\n    if (Array.isArray(a) && Array.isArray(b)) {\n      return areArrayItemsStrictlyEqual(a, b);\n    }\n    return a === b;\n  });\n}\nfunction areArrayNumbersEqual(arrA, arrB) {\n  return arrA.length === arrB.length && arrA.every((item, i) => Number(item) === Number(arrB[i]));\n}\n\n// packages/ag-charts-community/src/util/proxy.ts\nfunction ProxyProperty(proxyPath) {\n  const pathArray = isArray(proxyPath) ? proxyPath : proxyPath.split(\".\");\n  if (pathArray.length === 1) {\n    const [property] = pathArray;\n    return addTransformToInstanceProperty((target, _, value) => target[property] = value, target => target[property]);\n  }\n  return addTransformToInstanceProperty((target, _, value) => setPath(target, pathArray, value), target => getPath(target, pathArray));\n}\nfunction ProxyOnWrite(proxyProperty) {\n  return addTransformToInstanceProperty((target, _, value) => target[proxyProperty] = value);\n}\nfunction ProxyPropertyOnWrite(childName, childProperty) {\n  return addTransformToInstanceProperty((target, key, value) => target[childName][childProperty != null ? childProperty : key] = value);\n}\nfunction ActionOnSet(opts) {\n  const {\n    newValue: newValueFn,\n    oldValue: oldValueFn,\n    changeValue: changeValueFn\n  } = opts;\n  return addTransformToInstanceProperty((target, _, newValue, oldValue) => {\n    if (newValue !== oldValue) {\n      if (oldValue !== void 0) {\n        oldValueFn == null ? void 0 : oldValueFn.call(target, oldValue);\n      }\n      if (newValue !== void 0) {\n        newValueFn == null ? void 0 : newValueFn.call(target, newValue);\n      }\n      changeValueFn == null ? void 0 : changeValueFn.call(target, newValue, oldValue);\n    }\n    return newValue;\n  });\n}\nfunction ObserveChanges(observerFn) {\n  return addObserverToInstanceProperty(observerFn);\n}\n\n// packages/ag-charts-community/src/util/attributeUtil.ts\nfunction setAttribute(e, qualifiedName, value) {\n  if (value === void 0 || value === \"\") {\n    e == null ? void 0 : e.removeAttribute(qualifiedName);\n  } else {\n    e == null ? void 0 : e.setAttribute(qualifiedName, value.toString());\n  }\n}\n\n// packages/ag-charts-community/src/util/placement.ts\nfunction calculatePlacement(naturalWidth, naturalHeight, containerWidth, containerHeight, bounds) {\n  let {\n    top,\n    right,\n    bottom,\n    left,\n    width,\n    height\n  } = bounds;\n  if (left != null) {\n    if (width != null) {\n      right = containerWidth - left + width;\n    } else if (right != null) {\n      width = containerWidth - left - right;\n    }\n  } else if (right != null && width != null) {\n    left = containerWidth - right - width;\n  }\n  if (top != null) {\n    if (height != null) {\n      bottom = containerHeight - top - height;\n    } else if (bottom != null) {\n      height = containerHeight - bottom - top;\n    }\n  } else if (bottom != null && height != null) {\n    top = containerHeight - bottom - height;\n  }\n  if (width == null) {\n    if (height == null) {\n      width = naturalWidth;\n      height = naturalHeight;\n    } else {\n      width = Math.ceil(naturalWidth * height / naturalHeight);\n    }\n  } else if (height == null) {\n    height = Math.ceil(naturalHeight * width / naturalWidth);\n  }\n  if (left == null) {\n    if (right == null) {\n      left = Math.floor((containerWidth - width) / 2);\n    } else {\n      left = containerWidth - right - width;\n    }\n  }\n  if (top == null) {\n    if (bottom == null) {\n      top = Math.floor((containerHeight - height) / 2);\n    } else {\n      top = containerHeight - height - bottom;\n    }\n  }\n  return {\n    x: left,\n    y: top,\n    width,\n    height\n  };\n}\n\n// packages/ag-charts-community/src/chart/tooltip/tooltip.ts\nvar DEFAULT_TOOLTIP_CLASS = \"ag-chart-tooltip\";\nvar DEFAULT_TOOLTIP_DARK_CLASS = \"ag-chart-dark-tooltip\";\nvar EMPTY_TOOLTIP_CONTENT = {\n  html: \"\",\n  ariaLabel: \"\"\n};\nfunction toAccessibleText(inputHtml) {\n  const lineConverter = (_match, offset4, str) => {\n    if (offset4 === 0 || str[offset4 - 1] !== \".\") {\n      return \". \";\n    }\n    return \" \";\n  };\n  return inputHtml.replace(/<br\\s*\\/?>/g, lineConverter).replace(/<\\/p\\s+>/g, lineConverter).replace(/<\\/li\\s*\\/>/g, lineConverter).replace(/<[^>]+>/g, \"\");\n}\nfunction toTooltipHtml(input, defaults) {\n  var _a, _b, _c;\n  if (typeof input === \"string\") {\n    return {\n      html: input,\n      ariaLabel: input\n    };\n  }\n  const {\n    content = (_a = defaults == null ? void 0 : defaults.content) != null ? _a : \"\",\n    title = defaults == null ? void 0 : defaults.title,\n    color = (_b = defaults == null ? void 0 : defaults.color) != null ? _b : \"white\",\n    backgroundColor = (_c = defaults == null ? void 0 : defaults.backgroundColor) != null ? _c : \"#888\"\n  } = input;\n  const titleHtml = title ? \"<div class=\\\"\".concat(DEFAULT_TOOLTIP_CLASS, \"-title\\\"\\n        style=\\\"color: \").concat(color, \"; background-color: \").concat(backgroundColor, \"\\\">\").concat(title, \"</div>\") : \"\";\n  const titleAria = title ? \"\".concat(title, \": \") : \"\";\n  const contentHtml = content ? \"<div class=\\\"\".concat(DEFAULT_TOOLTIP_CLASS, \"-content\\\">\").concat(content, \"</div>\") : \"\";\n  return {\n    html: \"\".concat(titleHtml).concat(contentHtml),\n    ariaLabel: toAccessibleText(\"\".concat(titleAria).concat(content))\n  };\n}\nvar TooltipPosition = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    /** The type of positioning for the tooltip. By default, the tooltip follows the pointer. */\n    this.type = \"pointer\";\n    /** The horizontal offset in pixels for the position of the tooltip. */\n    this.xOffset = 0;\n    /** The vertical offset in pixels for the position of the tooltip. */\n    this.yOffset = 0;\n  }\n};\n__decorateClass([Validate(UNION([\"pointer\", \"node\", \"top\", \"right\", \"bottom\", \"left\", \"top-left\", \"top-right\", \"bottom-right\", \"bottom-left\"], \"a position type\"))], TooltipPosition.prototype, \"type\", 2);\n__decorateClass([Validate(NUMBER)], TooltipPosition.prototype, \"xOffset\", 2);\n__decorateClass([Validate(NUMBER)], TooltipPosition.prototype, \"yOffset\", 2);\nvar Tooltip = class extends BaseProperties {\n  constructor() {\n    super();\n    this.enabled = true;\n    this.delay = 0;\n    this.range = \"nearest\";\n    this.wrapping = \"hyphenate\";\n    this.position = new TooltipPosition();\n    this.darkTheme = false;\n    this.enableInteraction = false;\n    this.lastVisibilityChange = Date.now();\n    this.wrapTypes = [\"always\", \"hyphenate\", \"on-space\", \"never\"];\n    this.showTimeout = 0;\n    this._showArrow = true;\n    this.element = createElement(\"div\", DEFAULT_TOOLTIP_CLASS);\n    setAttribute(this.element, \"aria-hidden\", true);\n    this.root = getDocument(\"body\");\n    this.root.appendChild(this.element);\n  }\n  destroy() {\n    this.element.remove();\n  }\n  isVisible() {\n    return !this.element.classList.contains(DEFAULT_TOOLTIP_CLASS + \"-hidden\");\n  }\n  /**\n   * Shows tooltip at the given event's coordinates.\n   * If the `html` parameter is missing, moves the existing tooltip to the new position.\n   */\n  show(canvasRect, meta, content) {\n    let instantly = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const {\n      element: element2\n    } = this;\n    if (content != null) {\n      element2.innerHTML = content.html;\n    } else if (!element2.innerHTML) {\n      this.toggle(false);\n      return;\n    }\n    const positionType = (_b = (_a = meta.position) == null ? void 0 : _a.type) != null ? _b : this.position.type;\n    const xOffset = (_d = (_c = meta.position) == null ? void 0 : _c.xOffset) != null ? _d : 0;\n    const yOffset = (_f = (_e = meta.position) == null ? void 0 : _e.yOffset) != null ? _f : 0;\n    const tooltipBounds = this.getTooltipBounds({\n      positionType,\n      meta,\n      yOffset,\n      xOffset,\n      canvasRect\n    });\n    const windowBounds = this.getWindowSize();\n    const position = calculatePlacement(element2.clientWidth, element2.clientHeight, canvasRect.width, canvasRect.height, tooltipBounds);\n    position.x += canvasRect.x;\n    position.y += canvasRect.y;\n    const left = clamp(0, position.x, windowBounds.width - element2.clientWidth - 1);\n    const top = clamp(0, position.y, windowBounds.height - element2.clientHeight);\n    const constrained = left !== position.x || top !== position.y;\n    const defaultShowArrow = (positionType === \"node\" || positionType === \"pointer\") && !constrained && !xOffset && !yOffset;\n    const showArrow = (_h = (_g = meta.showArrow) != null ? _g : this.showArrow) != null ? _h : defaultShowArrow;\n    this.updateShowArrow(showArrow);\n    element2.style.transform = \"translate(\".concat(Math.round(left), \"px, \").concat(Math.round(top), \"px)\");\n    this.enableInteraction = (_i = meta.enableInteraction) != null ? _i : false;\n    if (this.delay > 0 && !instantly) {\n      this.toggle(false);\n      this.showTimeout = setTimeout(() => {\n        this.toggle(true);\n      }, this.delay);\n    } else {\n      this.toggle(true);\n    }\n  }\n  getWindowSize() {\n    const {\n      innerWidth,\n      innerHeight\n    } = getWindow();\n    return {\n      width: innerWidth,\n      height: innerHeight\n    };\n  }\n  toggle(visible) {\n    const {\n      classList\n    } = this.element;\n    const toggleClass = (name, include) => classList.toggle(\"\".concat(DEFAULT_TOOLTIP_CLASS, \"-\").concat(name), include);\n    const wasVisible = this.isVisible();\n    let timeSinceLastVisibilityChangeMs = Infinity;\n    if (!visible) {\n      clearTimeout(this.showTimeout);\n    }\n    if (wasVisible !== visible) {\n      const now = Date.now();\n      timeSinceLastVisibilityChangeMs = now - this.lastVisibilityChange;\n      this.lastVisibilityChange = now;\n    }\n    const animatedMoveThresholdMs = 100;\n    const thrashingThresholdMs = 5;\n    const noAnimation = !wasVisible && visible && timeSinceLastVisibilityChangeMs > animatedMoveThresholdMs;\n    if (timeSinceLastVisibilityChangeMs > thrashingThresholdMs) {\n      toggleClass(\"no-animation\", noAnimation);\n    }\n    toggleClass(\"no-interaction\", !this.enableInteraction);\n    toggleClass(\"hidden\", !visible);\n    toggleClass(\"arrow\", this._showArrow);\n    classList.toggle(DEFAULT_TOOLTIP_DARK_CLASS, this.darkTheme);\n    for (const wrapType of this.wrapTypes) {\n      classList.toggle(\"\".concat(DEFAULT_TOOLTIP_CLASS, \"-wrap-\").concat(wrapType), wrapType === this.wrapping);\n    }\n  }\n  pointerLeftOntoTooltip(event) {\n    var _a;\n    if (!this.enableInteraction) return false;\n    const classList = (_a = event.sourceEvent.relatedTarget) == null ? void 0 : _a.classList;\n    const classes = [\"\", \"-title\", \"-content\"];\n    const classListContains = Boolean(classes.filter(c => classList == null ? void 0 : classList.contains(\"\".concat(DEFAULT_TOOLTIP_CLASS).concat(c))));\n    return classList !== void 0 && classListContains;\n  }\n  updateShowArrow(show) {\n    this._showArrow = show;\n  }\n  getTooltipBounds(_ref33) {\n    let {\n      positionType,\n      meta,\n      yOffset,\n      xOffset,\n      canvasRect\n    } = _ref33;\n    const {\n      clientWidth: tooltipWidth,\n      clientHeight: tooltipHeight\n    } = this.element;\n    const bounds = {\n      width: tooltipWidth,\n      height: tooltipHeight\n    };\n    switch (positionType) {\n      case \"node\":\n      case \"pointer\":\n        {\n          bounds.top = meta.offsetY + yOffset - tooltipHeight - 8;\n          bounds.left = meta.offsetX + xOffset - tooltipWidth / 2;\n          return bounds;\n        }\n      case \"top\":\n        {\n          bounds.top = yOffset;\n          bounds.left = canvasRect.width / 2 - tooltipWidth / 2 + xOffset;\n          return bounds;\n        }\n      case \"right\":\n        {\n          bounds.top = canvasRect.height / 2 - tooltipHeight / 2 + yOffset;\n          bounds.left = canvasRect.width - tooltipWidth / 2 + xOffset;\n          return bounds;\n        }\n      case \"left\":\n        {\n          bounds.top = canvasRect.height / 2 - tooltipHeight / 2 + yOffset;\n          bounds.left = xOffset;\n          return bounds;\n        }\n      case \"bottom\":\n        {\n          bounds.top = canvasRect.height - tooltipHeight + yOffset;\n          bounds.left = canvasRect.width / 2 - tooltipWidth / 2 + xOffset;\n          return bounds;\n        }\n      case \"top-left\":\n        {\n          bounds.top = yOffset;\n          bounds.left = xOffset;\n          return bounds;\n        }\n      case \"top-right\":\n        {\n          bounds.top = yOffset;\n          bounds.left = canvasRect.width - tooltipWidth + xOffset;\n          return bounds;\n        }\n      case \"bottom-right\":\n        {\n          bounds.top = canvasRect.height - tooltipHeight + yOffset;\n          bounds.left = canvasRect.width - tooltipWidth + xOffset;\n          return bounds;\n        }\n      case \"bottom-left\":\n        {\n          bounds.top = canvasRect.height - tooltipHeight + yOffset;\n          bounds.left = xOffset;\n          return bounds;\n        }\n    }\n  }\n};\n__decorateClass([Validate(BOOLEAN)], Tooltip.prototype, \"enabled\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], Tooltip.prototype, \"showArrow\", 2);\n__decorateClass([ObserveChanges((target, newValue, oldValue) => {\n  if (newValue) {\n    target.element.classList.add(newValue);\n  }\n  if (oldValue) {\n    target.element.classList.remove(oldValue);\n  }\n}), Validate(STRING, {\n  optional: true\n})], Tooltip.prototype, \"class\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Tooltip.prototype, \"delay\", 2);\n__decorateClass([Validate(INTERACTION_RANGE)], Tooltip.prototype, \"range\", 2);\n__decorateClass([Validate(TEXT_WRAP)], Tooltip.prototype, \"wrapping\", 2);\n__decorateClass([Validate(OBJECT)], Tooltip.prototype, \"position\", 2);\n__decorateClass([Validate(BOOLEAN)], Tooltip.prototype, \"darkTheme\", 2);\n\n// packages/ag-charts-community/src/chart/caption.ts\nvar Caption = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.id = createId(this);\n    this.node = new Text({\n      zIndex: 1\n    }).setProperties({\n      textAlign: \"center\",\n      pointerEvents: 1 /* None */\n    });\n    this.enabled = false;\n    this.textAlign = \"center\";\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.wrapping = \"always\";\n    this.truncated = false;\n  }\n  getOrAddRegion(moduleCtx, regionName) {\n    if (regionName === \"root\") {\n      return moduleCtx.regionManager.getRegion(\"root\");\n    } else {\n      return moduleCtx.regionManager.addRegionFromProperties({\n        name: regionName,\n        bboxproviders: [this.node],\n        canInteraction: () => this.enabled && this.node.visible\n      });\n    }\n  }\n  registerInteraction(moduleCtx, regionName) {\n    const region = this.getOrAddRegion(moduleCtx, regionName);\n    const destroyFns = [region.addListener(\"hover\", event => this.handleMouseMove(moduleCtx, event)), region.addListener(\"leave\", event => this.handleMouseLeave(moduleCtx, event))];\n    return joinFunctions(...destroyFns);\n  }\n  computeTextWrap(containerWidth, containerHeight) {\n    var _a, _b;\n    const {\n      text,\n      wrapping\n    } = this;\n    const maxWidth = Math.min((_a = this.maxWidth) != null ? _a : Infinity, containerWidth);\n    const maxHeight = (_b = this.maxHeight) != null ? _b : containerHeight;\n    if (!isFinite(maxWidth) && !isFinite(maxHeight)) {\n      this.node.text = text;\n      return;\n    }\n    const {\n      text: wrappedText,\n      truncated\n    } = Text.wrap(text != null ? text : \"\", maxWidth, maxHeight, this, wrapping);\n    this.node.text = wrappedText;\n    this.truncated = truncated;\n  }\n  updateTooltip(moduleCtx, event) {\n    if (event !== void 0 && this.enabled && this.node.visible && this.truncated) {\n      const {\n        offsetX,\n        offsetY\n      } = event;\n      moduleCtx.tooltipManager.updateTooltip(this.id, {\n        offsetX,\n        offsetY,\n        lastPointerEvent: event,\n        showArrow: false\n      }, toTooltipHtml({\n        content: this.text\n      }));\n      return true;\n    }\n    return false;\n  }\n  handleMouseMove(moduleCtx, event) {\n    if (this.updateTooltip(moduleCtx, event)) {\n      event.consume();\n    }\n  }\n  handleMouseLeave(moduleCtx, _event) {\n    moduleCtx.tooltipManager.removeTooltip(this.id);\n  }\n};\nCaption.SMALL_PADDING = 10;\nCaption.LARGE_PADDING = 20;\n__decorateClass([Validate(BOOLEAN)], Caption.prototype, \"enabled\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n}), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"text\", 2);\n__decorateClass([Validate(TEXT_ALIGN, {\n  optional: true\n}), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"textAlign\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n}), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n}), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING), ProxyPropertyOnWrite(\"node\")], Caption.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n}), ProxyPropertyOnWrite(\"node\", \"fill\")], Caption.prototype, \"color\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Caption.prototype, \"spacing\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Caption.prototype, \"lineHeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Caption.prototype, \"maxWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Caption.prototype, \"maxHeight\", 2);\n__decorateClass([Validate(TEXT_WRAP)], Caption.prototype, \"wrapping\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisGridLine.ts\nvar GRID_STYLE_KEYS = [\"stroke\", \"lineDash\"];\nvar GRID_STYLE = ARRAY_OF(value => isObject(value) && Object.keys(value).every(key => GRID_STYLE_KEYS.includes(key)), \"objects with gridline style properties such as 'stroke' or 'lineDash'\");\nvar AxisGridLine = class {\n  constructor() {\n    this.enabled = true;\n    this.width = 1;\n    this.style = [{\n      stroke: void 0,\n      lineDash: []\n    }];\n  }\n};\n__decorateClass([Validate(BOOLEAN)], AxisGridLine.prototype, \"enabled\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisGridLine.prototype, \"width\", 2);\n__decorateClass([Validate(GRID_STYLE)], AxisGridLine.prototype, \"style\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisLabel.ts\nvar AxisLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.autoWrap = false;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.padding = 5;\n    this.minSpacing = NaN;\n    this.color = \"rgba(87, 87, 87, 1)\";\n    this.avoidCollisions = true;\n    this.mirrored = false;\n    this.parallel = false;\n  }\n  /**\n   * The side of the axis line to position the labels on.\n   * -1 = left (default)\n   * 1 = right\n   */\n  getSideFlag() {\n    return this.mirrored ? 1 : -1;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], AxisLabel.prototype, \"enabled\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], AxisLabel.prototype, \"autoWrap\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], AxisLabel.prototype, \"maxWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], AxisLabel.prototype, \"maxHeight\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], AxisLabel.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], AxisLabel.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(NUMBER.restrict({\n  min: 1\n}))], AxisLabel.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], AxisLabel.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisLabel.prototype, \"padding\", 2);\n__decorateClass([Validate(NUMBER_OR_NAN), Default(NaN)], AxisLabel.prototype, \"minSpacing\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], AxisLabel.prototype, \"color\", 2);\n__decorateClass([Validate(DEGREE, {\n  optional: true\n})], AxisLabel.prototype, \"rotation\", 2);\n__decorateClass([Validate(BOOLEAN)], AxisLabel.prototype, \"avoidCollisions\", 2);\n__decorateClass([Validate(BOOLEAN)], AxisLabel.prototype, \"mirrored\", 2);\n__decorateClass([Validate(BOOLEAN)], AxisLabel.prototype, \"parallel\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], AxisLabel.prototype, \"formatter\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], AxisLabel.prototype, \"format\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisLine.ts\nvar AxisLine = class {\n  constructor() {\n    this.enabled = true;\n    this.width = 1;\n    this.color = void 0;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], AxisLine.prototype, \"enabled\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisLine.prototype, \"width\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], AxisLine.prototype, \"color\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisTitle.ts\nvar AxisTitle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n    this.spacing = Caption.SMALL_PADDING;\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.wrapping = \"always\";\n  }\n};\n__decorateClass([Validate(BOOLEAN)], AxisTitle.prototype, \"enabled\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], AxisTitle.prototype, \"text\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], AxisTitle.prototype, \"spacing\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], AxisTitle.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], AxisTitle.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AxisTitle.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], AxisTitle.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], AxisTitle.prototype, \"color\", 2);\n__decorateClass([Validate(TEXT_WRAP)], AxisTitle.prototype, \"wrapping\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], AxisTitle.prototype, \"formatter\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisUtil.ts\nfunction prepareAxisAnimationContext(axis) {\n  const [requestedRangeMin, requestedRangeMax] = findMinMax(axis.range);\n  const min = Math.floor(requestedRangeMin);\n  const max = Math.ceil(requestedRangeMax);\n  return {\n    min,\n    max,\n    visible: min !== max\n  };\n}\nvar fullCircle = Math.PI * 2;\nvar halfCircle = fullCircle / 2;\nfunction normaliseEndRotation(start, end) {\n  const directDistance = Math.abs(end - start);\n  if (directDistance < halfCircle) return end;\n  if (start > end) return end + fullCircle;\n  return end - fullCircle;\n}\nfunction prepareAxisAnimationFunctions(ctx) {\n  const outOfBounds = (y, range3) => {\n    const [min = ctx.min, max = ctx.max] = findMinMax(range3 != null ? range3 : []);\n    return y < min || y > max;\n  };\n  const tick = {\n    fromFn(node, datum, status) {\n      let y = node.y1 + node.translationY;\n      let opacity = node.opacity;\n      if (status === \"added\" || outOfBounds(node.datum.translationY, node.datum.range)) {\n        y = datum.translationY;\n        opacity = 0;\n      }\n      return {\n        y: 0,\n        translationY: y,\n        opacity,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n      };\n    },\n    toFn(_node, datum, status) {\n      const y = datum.translationY;\n      let opacity = 1;\n      if (status === \"removed\") {\n        opacity = 0;\n      }\n      return {\n        y: 0,\n        translationY: y,\n        opacity,\n        finish: {\n          // Set explicit y after animation so it's pixel aligned\n          y,\n          translationY: 0\n        }\n      };\n    },\n    intermediateFn(node, _datum, _status) {\n      return {\n        visible: !outOfBounds(node.y)\n      };\n    }\n  };\n  const label = {\n    fromFn(node, newDatum, status) {\n      var _a;\n      const datum = (_a = node.previousDatum) != null ? _a : newDatum;\n      const x = datum.x;\n      const y = datum.y;\n      const rotationCenterX = datum.rotationCenterX;\n      let translationY = Math.round(node.translationY);\n      let rotation = datum.rotation;\n      let opacity = node.opacity;\n      if (status === \"removed\" || outOfBounds(datum.y, datum.range)) {\n        rotation = newDatum.rotation;\n      } else if (status === \"added\" || outOfBounds(node.datum.y, node.datum.range)) {\n        translationY = Math.round(datum.translationY);\n        opacity = 0;\n        rotation = newDatum.rotation;\n      }\n      return {\n        x,\n        y,\n        rotationCenterX,\n        translationY,\n        rotation,\n        opacity,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n      };\n    },\n    toFn(node, datum, status) {\n      var _a, _b;\n      const x = datum.x;\n      const y = datum.y;\n      const rotationCenterX = datum.rotationCenterX;\n      const translationY = Math.round(datum.translationY);\n      let rotation = 0;\n      let opacity = 1;\n      if (status === \"added\") {\n        opacity = 1;\n        rotation = datum.rotation;\n      } else if (status === \"removed\") {\n        opacity = 0;\n        rotation = datum.rotation;\n      } else {\n        rotation = normaliseEndRotation((_b = (_a = node.previousDatum) == null ? void 0 : _a.rotation) != null ? _b : datum.rotation, datum.rotation);\n      }\n      return {\n        x,\n        y,\n        rotationCenterX,\n        translationY,\n        rotation,\n        opacity,\n        finish: {\n          rotation: datum.rotation\n        }\n      };\n    }\n  };\n  const line = {\n    fromFn(node, datum) {\n      var _a;\n      return __spreadProps(__spreadValues({}, (_a = node.previousDatum) != null ? _a : datum), {\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"updated\"]\n      });\n    },\n    toFn(_node, datum) {\n      return __spreadValues({}, datum);\n    }\n  };\n  const group2 = {\n    fromFn(node, _datum) {\n      const {\n        rotation,\n        translationX,\n        translationY\n      } = node;\n      return {\n        rotation,\n        translationX,\n        translationY,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"updated\"]\n      };\n    },\n    toFn(_node, datum) {\n      const {\n        rotation,\n        translationX,\n        translationY\n      } = datum;\n      return {\n        rotation,\n        translationX,\n        translationY\n      };\n    }\n  };\n  return {\n    tick,\n    line,\n    label,\n    group: group2\n  };\n}\nfunction resetAxisGroupFn() {\n  return (_node, datum) => {\n    return {\n      rotation: datum.rotation,\n      rotationCenterX: datum.rotationCenterX,\n      rotationCenterY: datum.rotationCenterY,\n      translationX: datum.translationX,\n      translationY: datum.translationY\n    };\n  };\n}\nfunction resetAxisSelectionFn(ctx) {\n  const {\n    visible: rangeVisible,\n    min,\n    max\n  } = ctx;\n  return (_node, datum) => {\n    const y = datum.translationY;\n    const visible = rangeVisible && y >= min && y <= max;\n    return {\n      y,\n      translationY: 0,\n      opacity: 1,\n      visible\n    };\n  };\n}\nfunction resetAxisLabelSelectionFn() {\n  return (_node, datum) => {\n    return {\n      x: datum.x,\n      y: datum.y,\n      translationY: datum.translationY,\n      rotation: datum.rotation,\n      rotationCenterX: datum.rotationCenterX\n    };\n  };\n}\nfunction resetAxisLineSelectionFn() {\n  return (_node, datum) => {\n    return __spreadValues({}, datum);\n  };\n}\n\n// packages/ag-charts-community/src/chart/axis/axis.ts\nvar _Axis = class _Axis {\n  constructor(moduleCtx, scale2, options) {\n    this.moduleCtx = moduleCtx;\n    this.scale = scale2;\n    this.id = createId(this);\n    this.nice = true;\n    this.reverse = false;\n    this.keys = [];\n    this.dataDomain = {\n      domain: [],\n      clipped: false\n    };\n    this.boundSeries = [];\n    this.includeInvisibleDomains = false;\n    this.interactionEnabled = true;\n    this.axisGroup = new Group({\n      name: \"\".concat(this.id, \"-axis\"),\n      zIndex: 2 /* AXIS_ZINDEX */\n    });\n    this.lineNode = this.axisGroup.appendChild(new Line());\n    this.tickLineGroup = this.axisGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-Axis-tick-lines\"),\n      zIndex: 2 /* AXIS_ZINDEX */\n    }));\n    this.tickLabelGroup = this.axisGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-Axis-tick-labels\"),\n      zIndex: 2 /* AXIS_ZINDEX */\n    }));\n    this.crossLineGroup = new Group({\n      name: \"\".concat(this.id, \"-CrossLines\")\n    });\n    this.gridGroup = new Group({\n      name: \"\".concat(this.id, \"-Axis-grid\")\n    });\n    this.gridLineGroup = this.gridGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-gridLines\"),\n      zIndex: 1 /* AXIS_GRID_ZINDEX */\n    }));\n    this.tickLineGroupSelection = Selection.select(this.tickLineGroup, Line, false);\n    this.tickLabelGroupSelection = Selection.select(this.tickLabelGroup, Text, false);\n    this.gridLineGroupSelection = Selection.select(this.gridLineGroup, Line, false);\n    this.line = new AxisLine();\n    this.tick = this.createTick();\n    this.gridLine = new AxisGridLine();\n    this.label = this.createLabel();\n    this.defaultTickMinSpacing = _Axis.defaultTickMinSpacing;\n    this.translation = {\n      x: 0,\n      y: 0\n    };\n    this.rotation = 0;\n    // axis rotation angle in degrees\n    this.layout = {\n      label: {\n        fractionDigits: 0,\n        padding: this.label.padding,\n        format: this.label.format\n      }\n    };\n    this.destroyFns = [];\n    this.range = [0, 1];\n    this.visibleRange = [0, 1];\n    this.title = new AxisTitle();\n    this._titleCaption = new Caption();\n    this.gridLength = 0;\n    this.fractionDigits = 0;\n    /**\n     * The distance between the grid ticks and the axis ticks.\n     */\n    this.gridPadding = 0;\n    /**\n     * Is used to avoid collisions between axis labels and series.\n     */\n    this.seriesAreaPadding = 0;\n    this.tickGenerationResult = void 0;\n    this.maxThickness = Infinity;\n    this.moduleMap = new ModuleMap();\n    this.refreshScale();\n    this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx, \"root\"));\n    this._titleCaption.node.rotation = -Math.PI / 2;\n    this.axisGroup.appendChild(this._titleCaption.node);\n    this.destroyFns.push(moduleCtx.regionManager.getRegion(\"series\").addListener(\"hover\", e => this.checkAxisHover(e)));\n    this.animationManager = moduleCtx.animationManager;\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: () => this.resetSelectionNodes()\n        },\n        reset: \"empty\"\n      },\n      ready: {\n        update: data => this.animateReadyUpdate(data),\n        resize: () => this.resetSelectionNodes(),\n        reset: \"empty\"\n      }\n    });\n    this._crossLines = [];\n    this.assignCrossLineArrayConstructor(this._crossLines);\n    let previousSize = void 0;\n    this.destroyFns.push(moduleCtx.layoutService.addListener(\"layout-complete\", e => {\n      if (previousSize != null && jsonDiff(e.chart, previousSize) != null) {\n        this.animationState.transition(\"resize\");\n      }\n      previousSize = __spreadValues({}, e.chart);\n    }));\n    if ((options == null ? void 0 : options.respondsToZoom) !== false) {\n      this.destroyFns.push(moduleCtx.updateService.addListener(\"update-complete\", e => {\n        this.minRect = e.minRect;\n      }));\n    }\n  }\n  get type() {\n    var _a;\n    return (_a = this.constructor.type) != null ? _a : \"\";\n  }\n  set crossLines(value) {\n    var _a, _b;\n    (_a = this._crossLines) == null ? void 0 : _a.forEach(crossLine => this.detachCrossLine(crossLine));\n    if (value) {\n      this.assignCrossLineArrayConstructor(value);\n    }\n    this._crossLines = value;\n    (_b = this._crossLines) == null ? void 0 : _b.forEach(crossLine => {\n      this.attachCrossLine(crossLine);\n      this.initCrossLine(crossLine);\n    });\n  }\n  get crossLines() {\n    return this._crossLines;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    }\n  }\n  attachCrossLine(crossLine) {\n    this.crossLineGroup.appendChild(crossLine.group);\n    this.crossLineGroup.appendChild(crossLine.labelGroup);\n  }\n  detachCrossLine(crossLine) {\n    this.crossLineGroup.removeChild(crossLine.group);\n    this.crossLineGroup.removeChild(crossLine.labelGroup);\n  }\n  destroy() {\n    this.moduleMap.destroy();\n    this.destroyFns.forEach(f => f());\n  }\n  refreshScale() {\n    var _a;\n    this.range = this.scale.range.slice();\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(this.initCrossLine, this);\n  }\n  updateRange() {\n    var _a;\n    const {\n      range: rr,\n      visibleRange: vr,\n      scale: scale2\n    } = this;\n    const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n    const shift = span * vr[0];\n    const start = rr[0] - shift;\n    scale2.range = [start, start + span];\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(crossLine => {\n      crossLine.clippedRange = [rr[0], rr[1]];\n    });\n  }\n  setCrossLinesVisible(visible) {\n    this.crossLineGroup.visible = visible;\n  }\n  attachAxis(axisNode, gridNode) {\n    gridNode.appendChild(this.gridGroup);\n    axisNode.appendChild(this.axisGroup);\n    axisNode.appendChild(this.crossLineGroup);\n  }\n  detachAxis(axisNode, gridNode) {\n    gridNode.removeChild(this.gridGroup);\n    axisNode.removeChild(this.axisGroup);\n    axisNode.removeChild(this.crossLineGroup);\n  }\n  /**\n   * Checks if a point or an object is in range.\n   * @param x A point (or object's starting point).\n   * @param width Object's width.\n   * @param tolerance Expands the range on both ends by this amount.\n   */\n  inRange(x) {\n    let width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let tolerance = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    const [min, max] = findMinMax(this.range);\n    return x + width >= min - tolerance && x <= max + tolerance;\n  }\n  onLabelFormatChange(ticks, _domain, format2) {\n    const {\n      scale: scale2,\n      fractionDigits\n    } = this;\n    const logScale = scale2 instanceof LogScale;\n    const defaultLabelFormatter = !logScale && fractionDigits > 0 ? x => typeof x === \"number\" ? x.toFixed(fractionDigits) : String(x) : x => String(x);\n    if (format2 && scale2 && scale2.tickFormat) {\n      try {\n        this.labelFormatter = scale2.tickFormat({\n          ticks,\n          specifier: format2\n        });\n      } catch (e) {\n        this.labelFormatter = defaultLabelFormatter;\n        Logger.warnOnce(\"the axis label format string \".concat(format2, \" is invalid. No formatting will be applied\"));\n      }\n    } else {\n      this.labelFormatter = defaultLabelFormatter;\n    }\n  }\n  setTickInterval(interval) {\n    var _a;\n    this.scale.interval = (_a = this.tick.interval) != null ? _a : interval;\n  }\n  setTickCount(count, minTickCount, maxTickCount) {\n    const {\n      scale: scale2\n    } = this;\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    if (!(count && continuous)) {\n      return;\n    }\n    if (typeof count === \"number\") {\n      scale2.tickCount = count;\n      scale2.minTickCount = minTickCount != null ? minTickCount : 0;\n      scale2.maxTickCount = maxTickCount != null ? maxTickCount : Infinity;\n      return;\n    }\n    if (scale2 instanceof TimeScale) {\n      this.setTickInterval(count);\n    }\n  }\n  onGridLengthChange(value, prevValue) {\n    var _a;\n    if (prevValue && !value || !prevValue && value) {\n      this.onGridVisibilityChange();\n    }\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(this.initCrossLine, this);\n  }\n  onGridVisibilityChange() {\n    this.gridLineGroupSelection.clear();\n  }\n  createLabel() {\n    return new AxisLabel();\n  }\n  checkAxisHover(event) {\n    if (!this.interactionEnabled) return;\n    const bbox = this.computeBBox();\n    const isInAxis = bbox.containsPoint(event.offsetX, event.offsetY);\n    if (!isInAxis) return;\n    this.moduleCtx.chartEventManager.axisHover(this.id, this.direction);\n  }\n  /**\n   * Creates/removes/updates the scene graph nodes that constitute the axis.\n   */\n  update() {\n    let _primaryTickCount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (!this.tickGenerationResult) {\n      return;\n    }\n    const {\n      rotation,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    this.updatePosition();\n    const lineData = this.getAxisLineCoordinates();\n    const {\n      tickData,\n      combinedRotation,\n      textBaseline,\n      textAlign,\n      primaryTickCount\n    } = this.tickGenerationResult;\n    const previousTicks = this.tickLabelGroupSelection.nodes().map(node => node.datum.tickId);\n    this.updateSelections(lineData, tickData.ticks, {\n      combinedRotation,\n      textAlign,\n      textBaseline,\n      range: this.scale.range\n    });\n    if (!animated || this.animationManager.isSkipped()) {\n      this.resetSelectionNodes();\n    } else {\n      const diff2 = this.calculateUpdateDiff(previousTicks, tickData);\n      this.animationState.transition(\"update\", diff2);\n    }\n    this.updateAxisLine();\n    this.updateLabels();\n    this.updateVisibility();\n    this.updateGridLines(sideFlag);\n    this.updateTickLines();\n    this.updateTitle({\n      anyTickVisible: tickData.ticks.length > 0\n    });\n    this.updateCrossLines({\n      rotation,\n      parallelFlipRotation,\n      regularFlipRotation\n    });\n    this.updateLayoutState();\n    return primaryTickCount;\n  }\n  getAxisLineCoordinates() {\n    const [min, max] = findMinMax(this.range);\n    return {\n      x: 0,\n      y1: min,\n      y2: max\n    };\n  }\n  getTickLineCoordinates(datum) {\n    const sideFlag = this.label.getSideFlag();\n    const x = sideFlag * this.getTickSize();\n    const x1 = Math.min(0, x);\n    const x2 = x1 + Math.abs(x);\n    const y = datum.translationY;\n    return {\n      x1,\n      x2,\n      y\n    };\n  }\n  getTickLabelProps(datum, params) {\n    const {\n      label\n    } = this;\n    const {\n      combinedRotation,\n      textBaseline,\n      textAlign,\n      range: range3\n    } = params;\n    const text = datum.tickLabel;\n    const sideFlag = label.getSideFlag();\n    const labelX = sideFlag * (this.getTickSize() + label.padding + this.seriesAreaPadding);\n    const visible = text !== \"\" && text != null;\n    return {\n      tickId: datum.tickId,\n      translationY: datum.translationY,\n      fill: label.color,\n      fontFamily: label.fontFamily,\n      fontSize: label.fontSize,\n      fontStyle: label.fontStyle,\n      fontWeight: label.fontWeight,\n      rotation: combinedRotation,\n      rotationCenterX: labelX,\n      text,\n      textAlign,\n      textBaseline,\n      visible,\n      x: labelX,\n      y: 0,\n      range: range3\n    };\n  }\n  getTickSize() {\n    return this.tick.enabled ? this.tick.size : this.createTick().size;\n  }\n  setTitleProps(caption, params) {\n    var _a;\n    const {\n      title\n    } = this;\n    if (!title.enabled) {\n      caption.enabled = false;\n      return;\n    }\n    caption.color = title.color;\n    caption.fontFamily = title.fontFamily;\n    caption.fontSize = title.fontSize;\n    caption.fontStyle = title.fontStyle;\n    caption.fontWeight = title.fontWeight;\n    caption.enabled = title.enabled;\n    caption.wrapping = title.wrapping;\n    if (title.enabled) {\n      const titleNode = caption.node;\n      const padding = ((_a = title.spacing) != null ? _a : 0) + params.spacing;\n      const sideFlag = this.label.getSideFlag();\n      const parallelFlipRotation = normalizeAngle360(this.rotation);\n      const titleRotationFlag = sideFlag === -1 && parallelFlipRotation > Math.PI && parallelFlipRotation < Math.PI * 2 ? -1 : 1;\n      const rotation = titleRotationFlag * sideFlag * Math.PI / 2;\n      const textBaseline = titleRotationFlag === 1 ? \"bottom\" : \"top\";\n      const {\n        range: range3\n      } = this;\n      const x = Math.floor(titleRotationFlag * sideFlag * (range3[0] + range3[1]) / 2);\n      const y = sideFlag === -1 ? Math.floor(titleRotationFlag * -padding) : Math.floor(-padding);\n      const {\n        callbackCache\n      } = this.moduleCtx;\n      const {\n        formatter = p => p.defaultValue\n      } = title;\n      const text = callbackCache.call(formatter, this.getTitleFormatterParams());\n      titleNode.setProperties({\n        rotation,\n        text,\n        textBaseline,\n        visible: true,\n        x,\n        y\n      });\n    }\n  }\n  calculateLayout(primaryTickCount) {\n    var _b, _c;\n    const {\n      rotation,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    const labelX = sideFlag * (this.getTickSize() + this.label.padding + this.seriesAreaPadding);\n    this.updateScale();\n    this.tickGenerationResult = this.generateTicks({\n      primaryTickCount,\n      parallelFlipRotation,\n      regularFlipRotation,\n      labelX,\n      sideFlag\n    });\n    this.updateLayoutState();\n    const _a = this.tickGenerationResult,\n      {\n        tickData,\n        combinedRotation,\n        textBaseline,\n        textAlign\n      } = _a,\n      ticksResult = __objRest(_a, [\"tickData\", \"combinedRotation\", \"textBaseline\", \"textAlign\"]);\n    const boxes = [];\n    const {\n      x,\n      y1,\n      y2\n    } = this.getAxisLineCoordinates();\n    const lineBox = new BBox(x + Math.min(sideFlag * this.seriesAreaPadding, 0), y1, this.seriesAreaPadding, y2 - y1);\n    boxes.push(lineBox);\n    if (this.tick.enabled) {\n      tickData.ticks.forEach(datum => {\n        const {\n          x1,\n          x2,\n          y\n        } = this.getTickLineCoordinates(datum);\n        const tickLineBox = new BBox(x1, y, x2 - x1, 0);\n        boxes.push(tickLineBox);\n      });\n    }\n    if (this.label.enabled) {\n      const tempText = new Text();\n      tickData.ticks.forEach(datum => {\n        const labelProps = this.getTickLabelProps(datum, {\n          combinedRotation,\n          textAlign,\n          textBaseline,\n          range: this.scale.range\n        });\n        if (!labelProps.visible) {\n          return;\n        }\n        tempText.setProperties(__spreadProps(__spreadValues({}, labelProps), {\n          translationY: Math.round(datum.translationY)\n        }));\n        const box = tempText.computeTransformedBBox();\n        if (box) {\n          boxes.push(box);\n        }\n      });\n    }\n    const getTransformBox = bbox2 => {\n      const matrix = new Matrix();\n      const {\n        rotation: axisRotation,\n        translationX,\n        translationY,\n        rotationCenterX,\n        rotationCenterY\n      } = this.getAxisTransform();\n      Matrix.updateTransformMatrix(matrix, 1, 1, axisRotation, translationX, translationY, {\n        scalingCenterX: 0,\n        scalingCenterY: 0,\n        rotationCenterX,\n        rotationCenterY\n      });\n      return matrix.transformBBox(bbox2);\n    };\n    if ((_b = this.title) == null ? void 0 : _b.enabled) {\n      const caption = new Caption();\n      const spacing = BBox.merge(boxes).width;\n      this.setTitleProps(caption, {\n        spacing\n      });\n      const titleNode = caption.node;\n      const titleBox = titleNode.computeTransformedBBox();\n      if (titleBox) {\n        boxes.push(titleBox);\n      }\n    }\n    const bbox = BBox.merge(boxes);\n    const transformedBBox = getTransformBox(bbox);\n    const anySeriesActive = this.isAnySeriesActive();\n    (_c = this.crossLines) == null ? void 0 : _c.forEach(crossLine => {\n      var _a2;\n      crossLine.sideFlag = -sideFlag;\n      crossLine.direction = rotation === -Math.PI / 2 ? \"x\" /* X */ : \"y\" /* Y */;\n      if (crossLine instanceof CartesianCrossLine) {\n        crossLine.label.parallel = (_a2 = crossLine.label.parallel) != null ? _a2 : this.label.parallel;\n      }\n      crossLine.parallelFlipRotation = parallelFlipRotation;\n      crossLine.regularFlipRotation = regularFlipRotation;\n      crossLine.calculateLayout(anySeriesActive, this.reverse);\n    });\n    primaryTickCount = ticksResult.primaryTickCount;\n    return {\n      primaryTickCount,\n      bbox: transformedBBox\n    };\n  }\n  updateLayoutState() {\n    this.layout.label = {\n      fractionDigits: this.fractionDigits,\n      padding: this.label.padding,\n      format: this.label.format\n    };\n  }\n  setDomain(domain) {\n    this.dataDomain = this.normaliseDataDomain(domain);\n    if (this.reverse) {\n      this.dataDomain.domain.reverse();\n    }\n    this.scale.domain = this.dataDomain.domain;\n  }\n  updateScale() {\n    this.updateRange();\n    this.calculateDomain();\n    this.setTickInterval(this.tick.interval);\n    const {\n      scale: scale2,\n      nice\n    } = this;\n    if (!ContinuousScale.is(scale2)) {\n      return;\n    }\n    scale2.nice = nice;\n    scale2.update();\n  }\n  calculateRotations() {\n    const rotation = toRadians(this.rotation);\n    const parallelFlipRotation = normalizeAngle360(rotation);\n    const regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n    return {\n      rotation,\n      parallelFlipRotation,\n      regularFlipRotation\n    };\n  }\n  generateTicks(_ref34) {\n    let {\n      primaryTickCount,\n      parallelFlipRotation,\n      regularFlipRotation,\n      labelX,\n      sideFlag\n    } = _ref34;\n    var _a;\n    const {\n      scale: scale2,\n      tick,\n      label: {\n        parallel,\n        rotation,\n        fontFamily,\n        fontSize,\n        fontStyle,\n        fontWeight\n      }\n    } = this;\n    const secondaryAxis = primaryTickCount !== void 0;\n    const {\n      defaultRotation,\n      configuredRotation,\n      parallelFlipFlag,\n      regularFlipFlag\n    } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    const initialRotation = configuredRotation + defaultRotation;\n    const labelMatrix = new Matrix();\n    const {\n      maxTickCount\n    } = this.estimateTickCount({\n      minSpacing: tick.minSpacing,\n      maxSpacing: (_a = tick.maxSpacing) != null ? _a : NaN\n    });\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const maxIterations = !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n    let textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n    const textBaseline = getTextBaseline(parallel, configuredRotation, sideFlag, parallelFlipFlag);\n    const textProps = {\n      fontFamily,\n      fontSize,\n      fontStyle,\n      fontWeight,\n      textBaseline,\n      textAlign\n    };\n    let tickData = {\n      rawTicks: [],\n      ticks: [],\n      labelCount: 0\n    };\n    let index = 0;\n    let autoRotation = 0;\n    let labelOverlap = true;\n    let terminate = false;\n    while (labelOverlap && index <= maxIterations) {\n      if (terminate) {\n        break;\n      }\n      autoRotation = 0;\n      textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n      const tickStrategies = this.getTickStrategies({\n        secondaryAxis,\n        index\n      });\n      for (const strategy of tickStrategies) {\n        ({\n          tickData,\n          index,\n          autoRotation,\n          terminate\n        } = strategy({\n          index,\n          tickData,\n          textProps,\n          labelOverlap,\n          terminate,\n          primaryTickCount\n        }));\n        const rotated = configuredRotation !== 0 || autoRotation !== 0;\n        const labelRotation = initialRotation + autoRotation;\n        textAlign = getTextAlign(parallel, configuredRotation, autoRotation, sideFlag, regularFlipFlag);\n        labelOverlap = this.label.avoidCollisions ? this.checkLabelOverlap(labelRotation, rotated, labelMatrix, tickData.ticks, labelX, __spreadProps(__spreadValues({}, textProps), {\n          textAlign\n        })) : false;\n      }\n    }\n    const combinedRotation = defaultRotation + configuredRotation + autoRotation;\n    if (!secondaryAxis && tickData.rawTicks.length > 0) {\n      primaryTickCount = tickData.rawTicks.length;\n    }\n    return {\n      tickData,\n      primaryTickCount,\n      combinedRotation,\n      textBaseline,\n      textAlign\n    };\n  }\n  getTickStrategies(_ref35) {\n    let {\n      index: iteration,\n      secondaryAxis\n    } = _ref35;\n    const {\n      scale: scale2,\n      label,\n      tick\n    } = this;\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const avoidLabelCollisions = label.enabled && label.avoidCollisions;\n    const filterTicks = !continuous && iteration !== 0 && avoidLabelCollisions;\n    const autoRotate = label.autoRotate === true && label.rotation === void 0;\n    const strategies = [];\n    let tickGenerationType;\n    if (this.tick.values) {\n      tickGenerationType = 3 /* VALUES */;\n    } else if (secondaryAxis) {\n      tickGenerationType = 1 /* CREATE_SECONDARY */;\n    } else if (filterTicks) {\n      tickGenerationType = 2 /* FILTER */;\n    } else {\n      tickGenerationType = 0 /* CREATE */;\n    }\n    const tickGenerationStrategy = _ref36 => {\n      let {\n        index,\n        tickData,\n        primaryTickCount,\n        terminate\n      } = _ref36;\n      return this.createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount);\n    };\n    strategies.push(tickGenerationStrategy);\n    if (!continuous && !isNaN(tick.minSpacing)) {\n      const tickFilterStrategy = _ref37 => {\n        let {\n          index,\n          tickData,\n          primaryTickCount,\n          terminate\n        } = _ref37;\n        return this.createTickData(2 /* FILTER */, index, tickData, terminate, primaryTickCount);\n      };\n      strategies.push(tickFilterStrategy);\n    }\n    if (!avoidLabelCollisions) {\n      return strategies;\n    }\n    if (label.autoWrap) {\n      const autoWrapStrategy = _ref38 => {\n        let {\n          index,\n          tickData,\n          textProps\n        } = _ref38;\n        return this.wrapLabels(tickData, index, textProps);\n      };\n      strategies.push(autoWrapStrategy);\n    } else if (autoRotate) {\n      const autoRotateStrategy = _ref39 => {\n        let {\n          index,\n          tickData,\n          labelOverlap,\n          terminate\n        } = _ref39;\n        return {\n          index,\n          tickData,\n          autoRotation: this.getAutoRotation(labelOverlap),\n          terminate\n        };\n      };\n      strategies.push(autoRotateStrategy);\n    }\n    return strategies;\n  }\n  createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount) {\n    var _a;\n    const {\n      scale: scale2,\n      tick\n    } = this;\n    const {\n      maxTickCount,\n      minTickCount,\n      defaultTickCount\n    } = this.estimateTickCount({\n      minSpacing: tick.minSpacing,\n      maxSpacing: (_a = tick.maxSpacing) != null ? _a : NaN\n    });\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const maxIterations = !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n    let tickCount = continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount;\n    const regenerateTicks = tick.interval === void 0 && tick.values === void 0 && tickCount > minTickCount && (continuous || tickGenerationType === 2 /* FILTER */);\n    let unchanged = true;\n    while (unchanged && index <= maxIterations) {\n      const prevTicks = tickData.rawTicks;\n      tickCount = continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount;\n      const {\n        rawTicks,\n        ticks,\n        labelCount\n      } = this.getTicks({\n        tickGenerationType,\n        previousTicks: prevTicks,\n        tickCount,\n        minTickCount,\n        maxTickCount,\n        primaryTickCount\n      });\n      tickData.rawTicks = rawTicks;\n      tickData.ticks = ticks;\n      tickData.labelCount = labelCount;\n      unchanged = regenerateTicks ? areArrayNumbersEqual(rawTicks, prevTicks) : false;\n      index++;\n    }\n    const shouldTerminate = tick.interval !== void 0 || tick.values !== void 0;\n    terminate || (terminate = shouldTerminate);\n    return {\n      tickData,\n      index,\n      autoRotation: 0,\n      terminate\n    };\n  }\n  checkLabelOverlap(rotation, rotated, labelMatrix, tickData, labelX, textProps) {\n    Matrix.updateTransformMatrix(labelMatrix, 1, 1, rotation, 0, 0);\n    const labelData = this.createLabelData(tickData, labelX, textProps, labelMatrix);\n    const labelSpacing = getLabelSpacing(this.label.minSpacing, rotated);\n    return axisLabelsOverlap(labelData, labelSpacing);\n  }\n  createLabelData(tickData, labelX, textProps, labelMatrix) {\n    const labelData = [];\n    const measurer = new TextMeasurer(textProps);\n    for (const {\n      tickLabel,\n      translationY\n    } of tickData) {\n      if (tickLabel === \"\" || tickLabel == null) continue;\n      const {\n        width,\n        height\n      } = measurer.size(tickLabel);\n      const bbox = new BBox(labelX, translationY, width, height);\n      const labelDatum = calculateLabelBBox(tickLabel, bbox, labelX, translationY, labelMatrix);\n      labelData.push(labelDatum);\n    }\n    return labelData;\n  }\n  getAutoRotation(labelOverlap) {\n    var _a;\n    return labelOverlap ? normalizeAngle360(toRadians((_a = this.label.autoRotateAngle) != null ? _a : 0)) : 0;\n  }\n  getTicks(_ref40) {\n    let {\n      tickGenerationType,\n      previousTicks,\n      tickCount,\n      minTickCount,\n      maxTickCount,\n      primaryTickCount\n    } = _ref40;\n    var _a;\n    const {\n      range: range3,\n      scale: scale2,\n      visibleRange\n    } = this;\n    let rawTicks;\n    switch (tickGenerationType) {\n      case 3 /* VALUES */:\n        if (ContinuousScale.is(scale2)) {\n          const [d0, d1] = findMinMax(scale2.getDomain().map(Number));\n          rawTicks = this.tick.values.filter(value => value >= d0 && value <= d1).sort((a, b) => a - b);\n        } else {\n          rawTicks = this.tick.values;\n        }\n        break;\n      case 1 /* CREATE_SECONDARY */:\n        if (ContinuousScale.is(scale2)) {\n          rawTicks = this.updateSecondaryAxisTicks(primaryTickCount);\n        } else {\n          rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n        }\n        break;\n      case 2 /* FILTER */:\n        rawTicks = this.filterTicks(previousTicks, tickCount);\n        break;\n      default:\n        rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n        break;\n    }\n    this.fractionDigits = rawTicks.fractionDigits >= 0 ? rawTicks.fractionDigits : 0;\n    const halfBandwidth = ((_a = scale2.bandwidth) != null ? _a : 0) / 2;\n    const ticks = [];\n    let labelCount = 0;\n    const tickIdCounts = /* @__PURE__ */new Map();\n    const start = Math.max(0, Math.floor(visibleRange[0] * rawTicks.length));\n    const end = Math.min(rawTicks.length, Math.ceil(visibleRange[1] * rawTicks.length));\n    const filteredTicks = rawTicks.slice(start, end);\n    this.onLabelFormatChange(filteredTicks, rawTicks, this.label.format);\n    for (let i = 0; i < filteredTicks.length; i++) {\n      const tick = filteredTicks[i];\n      const translationY = scale2.convert(tick) + halfBandwidth;\n      if (range3.length > 0 && !this.inRange(translationY, 0, 1e-3)) continue;\n      const tickLabel = this.formatTick(tick, start + i);\n      let tickId = tickLabel;\n      if (tickIdCounts.has(tickId)) {\n        const count = tickIdCounts.get(tickId);\n        tickIdCounts.set(tickId, count + 1);\n        tickId = \"\".concat(tickId, \"_\").concat(count);\n      } else {\n        tickIdCounts.set(tickId, 1);\n      }\n      ticks.push({\n        tick,\n        tickId,\n        tickLabel,\n        translationY: Math.floor(translationY)\n      });\n      if (tickLabel === \"\" || tickLabel == null) {\n        continue;\n      }\n      labelCount++;\n    }\n    return {\n      rawTicks,\n      ticks,\n      labelCount\n    };\n  }\n  filterTicks(ticks, tickCount) {\n    var _a;\n    const tickSpacing = !isNaN(this.tick.minSpacing) || !isNaN((_a = this.tick.maxSpacing) != null ? _a : NaN);\n    const keepEvery = tickSpacing ? Math.ceil(ticks.length / tickCount) : 2;\n    return ticks.filter((_, i) => i % keepEvery === 0);\n  }\n  createTicks(tickCount, minTickCount, maxTickCount) {\n    var _a, _b, _c;\n    this.setTickCount(tickCount, minTickCount, maxTickCount);\n    return (_c = (_b = (_a = this.scale).ticks) == null ? void 0 : _b.call(_a)) != null ? _c : [];\n  }\n  estimateTickCount(_ref41) {\n    let {\n      minSpacing,\n      maxSpacing\n    } = _ref41;\n    const {\n      minRect,\n      label: {\n        avoidCollisions\n      }\n    } = this;\n    if (!avoidCollisions) {\n      return {\n        minTickCount: ContinuousScale.defaultMaxTickCount,\n        maxTickCount: ContinuousScale.defaultMaxTickCount,\n        defaultTickCount: ContinuousScale.defaultMaxTickCount\n      };\n    }\n    const rangeWithBleed = this.calculateRangeWithBleed();\n    const defaultMinSpacing = Math.max(this.defaultTickMinSpacing, rangeWithBleed / ContinuousScale.defaultMaxTickCount);\n    let clampMaxTickCount = !isNaN(maxSpacing);\n    if (isNaN(minSpacing)) {\n      minSpacing = defaultMinSpacing;\n    }\n    if (isNaN(maxSpacing)) {\n      maxSpacing = rangeWithBleed;\n    }\n    if (minSpacing > maxSpacing) {\n      if (minSpacing === defaultMinSpacing) {\n        minSpacing = maxSpacing;\n      } else {\n        maxSpacing = minSpacing;\n      }\n    }\n    let minRectDistance = 1;\n    if (minRect) {\n      minRectDistance = this.direction === \"x\" /* X */ ? minRect.width : minRect.height;\n    }\n    clampMaxTickCount && (clampMaxTickCount = minRectDistance < defaultMinSpacing);\n    const maxTickCount = clamp(1, Math.floor(rangeWithBleed / minSpacing), clampMaxTickCount ? Math.min(Math.floor(rangeWithBleed / minRectDistance), 100) : 100);\n    const minTickCount = Math.min(maxTickCount, Math.ceil(rangeWithBleed / maxSpacing));\n    const defaultTickCount = clamp(minTickCount, ContinuousScale.defaultTickCount, maxTickCount);\n    return {\n      minTickCount,\n      maxTickCount,\n      defaultTickCount\n    };\n  }\n  updateVisibility() {\n    if (this.moduleCtx.animationManager.isSkipped()) {\n      this.resetSelectionNodes();\n    }\n    this.tickLineGroup.visible = this.tick.enabled;\n    this.gridLineGroup.visible = this.gridLine.enabled;\n    this.tickLabelGroup.visible = this.label.enabled;\n  }\n  updateCrossLines(_ref42) {\n    let {\n      rotation,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = _ref42;\n    var _a;\n    const sideFlag = this.label.getSideFlag();\n    const anySeriesActive = this.isAnySeriesActive();\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(crossLine => {\n      var _a2;\n      crossLine.sideFlag = -sideFlag;\n      crossLine.direction = rotation === -Math.PI / 2 ? \"x\" /* X */ : \"y\" /* Y */;\n      if (crossLine instanceof CartesianCrossLine) {\n        crossLine.label.parallel = (_a2 = crossLine.label.parallel) != null ? _a2 : this.label.parallel;\n      }\n      crossLine.parallelFlipRotation = parallelFlipRotation;\n      crossLine.regularFlipRotation = regularFlipRotation;\n      crossLine.update(anySeriesActive);\n    });\n  }\n  updateTickLines() {\n    const {\n      tick,\n      label\n    } = this;\n    const sideFlag = label.getSideFlag();\n    this.tickLineGroupSelection.each(line => {\n      line.strokeWidth = tick.width;\n      line.stroke = tick.color;\n      line.x1 = sideFlag * this.getTickSize();\n      line.x2 = 0;\n    });\n  }\n  calculateAvailableRange() {\n    return findRangeExtent(this.range);\n  }\n  /**\n   * Calculates the available range with an additional \"bleed\" beyond the canvas that encompasses the full axis when\n   * the visible range is only a portion of the axis.\n   */\n  calculateRangeWithBleed() {\n    const visibleScale = 1 / findRangeExtent(this.visibleRange);\n    return round(this.calculateAvailableRange() * visibleScale, 2);\n  }\n  calculateDomain() {\n    const visibleSeries = this.boundSeries.filter(s => this.includeInvisibleDomains || s.isEnabled());\n    const domains = visibleSeries.flatMap(series => series.getDomain(this.direction));\n    this.setDomain(domains);\n  }\n  getAxisTransform() {\n    return {\n      rotation: toRadians(this.rotation),\n      rotationCenterX: 0,\n      rotationCenterY: 0,\n      translationX: Math.floor(this.translation.x),\n      translationY: Math.floor(this.translation.y)\n    };\n  }\n  updatePosition() {\n    const {\n      crossLineGroup,\n      axisGroup,\n      gridGroup,\n      translation,\n      gridLineGroupSelection,\n      gridPadding,\n      gridLength\n    } = this;\n    const {\n      rotation\n    } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    const translationX = Math.floor(translation.x);\n    const translationY = Math.floor(translation.y);\n    crossLineGroup.setProperties({\n      rotation,\n      translationX,\n      translationY\n    });\n    gridGroup.setProperties({\n      rotation,\n      translationX,\n      translationY\n    });\n    axisGroup.datum = this.getAxisTransform();\n    gridLineGroupSelection.each(line => {\n      line.x1 = gridPadding;\n      line.x2 = -sideFlag * gridLength + gridPadding;\n    });\n  }\n  updateSecondaryAxisTicks(_primaryTickCount) {\n    throw new Error(\"AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.\");\n  }\n  updateSelections(lineData, data, params) {\n    this.lineNode.datum = lineData;\n    this.gridLineGroupSelection.update(this.gridLength ? data : [], group2 => group2.append(new Line()), datum => datum.tickId);\n    this.tickLineGroupSelection.update(data, group2 => group2.appendChild(new Line()), datum => datum.tickId);\n    this.tickLabelGroupSelection.update(data.map(d => this.getTickLabelProps(d, params)), group2 => group2.appendChild(new Text()), datum => datum.tickId);\n  }\n  updateAxisLine() {\n    const {\n      line\n    } = this;\n    const strokeWidth = line.enabled ? line.width : 0;\n    this.lineNode.setProperties({\n      stroke: line.color,\n      strokeWidth\n    });\n  }\n  updateGridLines(sideFlag) {\n    const {\n      gridLine: {\n        style,\n        width\n      },\n      gridPadding,\n      gridLength\n    } = this;\n    if (gridLength === 0 || style.length === 0) {\n      return;\n    }\n    this.gridLineGroupSelection.each((line, _, index) => {\n      const {\n        stroke,\n        lineDash\n      } = style[index % style.length];\n      line.setProperties({\n        x1: gridPadding,\n        x2: -sideFlag * gridLength + gridPadding,\n        fill: void 0,\n        stroke,\n        strokeWidth: width,\n        lineDash\n      });\n    });\n  }\n  updateLabels() {\n    const {\n      label\n    } = this;\n    if (!label.enabled) {\n      return;\n    }\n    this.tickLabelGroupSelection.each((node, datum) => {\n      node.setProperties(datum, [\"fill\", \"fontFamily\", \"fontSize\", \"fontStyle\", \"fontWeight\", \"text\", \"textAlign\", \"textBaseline\"]);\n    });\n  }\n  wrapLabels(tickData, index, labelProps) {\n    const {\n      parallel,\n      maxWidth,\n      maxHeight\n    } = this.label;\n    let defaultMaxWidth = this.maxThickness;\n    let defaultMaxHeight = Math.round(this.calculateAvailableRange() / tickData.labelCount);\n    if (parallel) {\n      [defaultMaxWidth, defaultMaxHeight] = [defaultMaxHeight, defaultMaxWidth];\n    }\n    tickData.ticks.forEach(tickDatum => {\n      const {\n        text\n      } = Text.wrap(tickDatum.tickLabel, maxWidth != null ? maxWidth : defaultMaxWidth, maxHeight != null ? maxHeight : defaultMaxHeight, labelProps, \"hyphenate\");\n      tickDatum.tickLabel = text;\n    });\n    return {\n      tickData,\n      index,\n      autoRotation: 0,\n      terminate: true\n    };\n  }\n  updateTitle(params) {\n    const {\n      rotation,\n      title,\n      _titleCaption,\n      lineNode,\n      tickLineGroup,\n      tickLabelGroup\n    } = this;\n    if (!title) {\n      _titleCaption.enabled = false;\n      return;\n    }\n    let spacing = 0;\n    if (title.enabled && params.anyTickVisible) {\n      const tickBBox = Group.computeBBox([tickLineGroup, tickLabelGroup, lineNode]);\n      const tickWidth = rotation === 0 ? tickBBox.width : tickBBox.height;\n      spacing += tickWidth + (this.tickLabelGroup.visible ? 0 : this.seriesAreaPadding);\n    }\n    this.setTitleProps(_titleCaption, {\n      spacing\n    });\n  }\n  // For formatting (nice rounded) tick values.\n  formatTick(datum, index) {\n    return this.datumFormatter(index)(datum);\n  }\n  // For formatting arbitrary values between the ticks.\n  formatDatum(datum) {\n    return String(datum);\n  }\n  datumFormatter() {\n    let index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    const {\n      label,\n      labelFormatter,\n      fractionDigits,\n      moduleCtx: {\n        callbackCache\n      }\n    } = this;\n    if (label.formatter) {\n      return datum => {\n        var _a;\n        return (_a = callbackCache.call(label.formatter, {\n          value: fractionDigits > 0 ? datum : String(datum),\n          index,\n          fractionDigits,\n          formatter: labelFormatter\n        })) != null ? _a : datum;\n      };\n    } else if (labelFormatter) {\n      return datum => {\n        var _a;\n        return (_a = callbackCache.call(labelFormatter, datum)) != null ? _a : String(datum);\n      };\n    }\n    return datum => String(datum);\n  }\n  computeBBox() {\n    return this.axisGroup.computeBBox();\n  }\n  initCrossLine(crossLine) {\n    crossLine.scale = this.scale;\n    crossLine.gridLength = this.gridLength;\n  }\n  isAnySeriesActive() {\n    return this.boundSeries.some(s => this.includeInvisibleDomains || s.isEnabled());\n  }\n  clipTickLines(x, y, width, height) {\n    this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n  }\n  clipGrid(x, y, width, height) {\n    this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n  }\n  calculatePadding(min, max) {\n    const padding = Math.abs(this.reverse ? max : min) * 0.01;\n    return [padding, padding];\n  }\n  getTitleFormatterParams() {\n    var _a;\n    const boundSeries = this.boundSeries.reduce((acc, next) => {\n      const keys = next.getKeys(this.direction);\n      const names = next.getNames(this.direction);\n      for (let idx = 0; idx < keys.length; idx++) {\n        acc.push({\n          key: keys[idx],\n          name: names[idx]\n        });\n      }\n      return acc;\n    }, []);\n    return {\n      direction: this.direction,\n      boundSeries,\n      defaultValue: (_a = this.title) == null ? void 0 : _a.text\n    };\n  }\n  normaliseDataDomain(d) {\n    return {\n      domain: [...d],\n      clipped: false\n    };\n  }\n  getLayoutState() {\n    return __spreadValues({\n      rect: this.computeBBox(),\n      gridPadding: this.gridPadding,\n      seriesAreaPadding: this.seriesAreaPadding,\n      tickSize: this.getTickSize(),\n      direction: this.direction,\n      domain: this.dataDomain.domain,\n      scale: this.scale\n    }, this.layout);\n  }\n  getModuleMap() {\n    return this.moduleMap;\n  }\n  createModuleContext() {\n    var _a;\n    (_a = this.axisContext) != null ? _a : this.axisContext = this.createAxisContext();\n    return __spreadProps(__spreadValues({}, this.moduleCtx), {\n      parent: this.axisContext\n    });\n  }\n  createAxisContext() {\n    return {\n      axisId: this.id,\n      direction: this.direction,\n      continuous: ContinuousScale.is(this.scale),\n      keys: () => this.boundSeries.flatMap(s => s.getKeys(this.direction)),\n      seriesKeyProperties: () => this.boundSeries.reduce((keys, series) => {\n        const seriesKeys = series.getKeyProperties(this.direction);\n        seriesKeys.forEach(key => {\n          if (keys.indexOf(key) < 0) {\n            keys.push(key);\n          }\n        });\n        return keys;\n      }, []),\n      scaleValueFormatter: specifier => {\n        var _a, _b;\n        return specifier ? (_b = (_a = this.scale).tickFormat) == null ? void 0 : _b.call(_a, {\n          specifier\n        }) : this.formatDatum;\n      },\n      scaleBandwidth: () => {\n        var _a;\n        return (_a = this.scale.bandwidth) != null ? _a : 0;\n      },\n      scaleConvert: val => this.scale.convert(val),\n      scaleInvert: val => {\n        var _a, _b;\n        return (_b = (_a = this.scale).invert) == null ? void 0 : _b.call(_a, val);\n      }\n    };\n  }\n  animateReadyUpdate(diff2) {\n    const {\n      animationManager\n    } = this.moduleCtx;\n    const selectionCtx = prepareAxisAnimationContext(this);\n    const fns = prepareAxisAnimationFunctions(selectionCtx);\n    fromToMotion(this.id, \"axis-group\", animationManager, [this.axisGroup], fns.group);\n    fromToMotion(this.id, \"line\", animationManager, [this.lineNode], fns.line);\n    fromToMotion(this.id, \"line-paths\", animationManager, [this.gridLineGroupSelection, this.tickLineGroupSelection], fns.tick, (_, d) => d.tickId, diff2);\n    fromToMotion(this.id, \"tick-labels\", animationManager, [this.tickLabelGroupSelection], fns.label, (_, d) => d.tickId, diff2);\n  }\n  resetSelectionNodes() {\n    const {\n      gridLineGroupSelection,\n      tickLineGroupSelection,\n      tickLabelGroupSelection,\n      lineNode\n    } = this;\n    const selectionCtx = prepareAxisAnimationContext(this);\n    resetMotion([this.axisGroup], resetAxisGroupFn());\n    resetMotion([gridLineGroupSelection, tickLineGroupSelection], resetAxisSelectionFn(selectionCtx));\n    resetMotion([tickLabelGroupSelection], resetAxisLabelSelectionFn());\n    resetMotion([lineNode], resetAxisLineSelectionFn());\n  }\n  calculateUpdateDiff(previous, tickData) {\n    const added = /* @__PURE__ */new Set();\n    const removed = /* @__PURE__ */new Set();\n    const tickMap = {};\n    const tickCount = Math.max(previous.length, tickData.ticks.length);\n    for (let i = 0; i < tickCount; i++) {\n      const tickDatum = tickData.ticks[i];\n      const prev = previous[i];\n      const tick = tickDatum == null ? void 0 : tickDatum.tickId;\n      tickMap[tick != null ? tick : prev] = tickDatum;\n      if (prev === tick) {\n        continue;\n      }\n      if (removed.has(tick)) {\n        removed.delete(tick);\n      } else if (tick) {\n        added.add(tick);\n      }\n      if (added.has(prev)) {\n        added.delete(prev);\n      } else if (prev) {\n        removed.add(prev);\n      }\n    }\n    return {\n      changed: added.size > 0 || removed.size > 0,\n      added,\n      removed\n    };\n  }\n  isReversed() {\n    return this.reverse;\n  }\n};\n_Axis.defaultTickMinSpacing = 50;\n__decorateClass([Validate(BOOLEAN)], _Axis.prototype, \"nice\", 2);\n__decorateClass([Validate(BOOLEAN)], _Axis.prototype, \"reverse\", 2);\n__decorateClass([Validate(STRING_ARRAY)], _Axis.prototype, \"keys\", 2);\n__decorateClass([Validate(OBJECT, {\n  optional: true\n})], _Axis.prototype, \"title\", 2);\n__decorateClass([ObserveChanges((target, value, oldValue) => target.onGridLengthChange(value, oldValue))], _Axis.prototype, \"gridLength\", 2);\nvar Axis = _Axis;\n\n// packages/ag-charts-community/src/chart/axis/cartesianAxisLabel.ts\nvar CartesianAxisLabel = class extends AxisLabel {\n  constructor() {\n    super(...arguments);\n    this.autoRotateAngle = 335;\n  }\n};\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], CartesianAxisLabel.prototype, \"autoRotate\", 2);\n__decorateClass([Validate(DEGREE)], CartesianAxisLabel.prototype, \"autoRotateAngle\", 2);\n\n// packages/ag-charts-community/src/chart/axis/cartesianAxis.ts\nvar _CartesianAxis = class _CartesianAxis extends Axis {\n  constructor() {\n    super(...arguments);\n    this.thickness = 0;\n    this.position = \"left\";\n  }\n  static is(value) {\n    return value instanceof _CartesianAxis;\n  }\n  get direction() {\n    return [\"top\", \"bottom\"].includes(this.position) ? \"x\" /* X */ : \"y\" /* Y */;\n  }\n  updateDirection() {\n    switch (this.position) {\n      case \"top\":\n        this.rotation = -90;\n        this.label.mirrored = true;\n        this.label.parallel = true;\n        break;\n      case \"right\":\n        this.rotation = 0;\n        this.label.mirrored = true;\n        this.label.parallel = false;\n        break;\n      case \"bottom\":\n        this.rotation = -90;\n        this.label.mirrored = false;\n        this.label.parallel = true;\n        break;\n      case \"left\":\n        this.rotation = 0;\n        this.label.mirrored = false;\n        this.label.parallel = false;\n        break;\n    }\n    if (this.axisContext) {\n      this.axisContext.position = this.position;\n      this.axisContext.direction = this.direction;\n    }\n  }\n  update(primaryTickCount, animated) {\n    this.updateDirection();\n    return super.update(primaryTickCount, animated);\n  }\n  calculateLayout(primaryTickCount) {\n    this.updateDirection();\n    return super.calculateLayout(primaryTickCount);\n  }\n  createAxisContext() {\n    return __spreadProps(__spreadValues({}, super.createAxisContext()), {\n      position: this.position\n    });\n  }\n  assignCrossLineArrayConstructor(crossLines) {\n    assignJsonApplyConstructedArray(crossLines, CartesianCrossLine);\n  }\n  createLabel() {\n    return new CartesianAxisLabel();\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER)], _CartesianAxis.prototype, \"thickness\", 2);\n__decorateClass([Validate(POSITION2)], _CartesianAxis.prototype, \"position\", 2);\nvar CartesianAxis = _CartesianAxis;\n\n// packages/ag-charts-community/src/chart/axis/categoryAxis.ts\nvar CategoryAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n  }\n};\n__decorateClass([Validate(MIN_SPACING), Default(NaN)], CategoryAxisTick.prototype, \"minSpacing\", 2);\nvar CategoryAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    let scale2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new BandScale();\n    super(moduleCtx, scale2);\n    this._paddingOverrideEnabled = false;\n    this.groupPaddingInner = 0.1;\n    this.includeInvisibleDomains = true;\n  }\n  set paddingInner(value) {\n    this._paddingOverrideEnabled = true;\n    this.scale.paddingInner = value;\n  }\n  get paddingInner() {\n    this._paddingOverrideEnabled = true;\n    return this.scale.paddingInner;\n  }\n  set paddingOuter(value) {\n    this.scale.paddingOuter = value;\n  }\n  get paddingOuter() {\n    return this.scale.paddingOuter;\n  }\n  createTick() {\n    return new CategoryAxisTick();\n  }\n  normaliseDataDomain(d) {\n    const domain = [];\n    const uniqueValues = /* @__PURE__ */new Set();\n    for (const v of d) {\n      const key = v instanceof Date ? v.getTime() : v;\n      if (!uniqueValues.has(key)) {\n        uniqueValues.add(key);\n        domain.push(v);\n      }\n    }\n    return {\n      domain,\n      clipped: false\n    };\n  }\n  calculateDomain() {\n    if (!this._paddingOverrideEnabled) {\n      const paddings = this.boundSeries.map(s => {\n        var _a;\n        return (_a = s.getBandScalePadding) == null ? void 0 : _a.call(s);\n      }).filter(p => p != null);\n      if (paddings.length > 0) {\n        this.scale.paddingInner = Math.min(...paddings.map(p => p.inner));\n        this.scale.paddingOuter = Math.max(...paddings.map(p => p.outer));\n      }\n    }\n    return super.calculateDomain();\n  }\n};\nCategoryAxis.className = \"CategoryAxis\";\nCategoryAxis.type = \"category\";\n__decorateClass([Validate(RATIO)], CategoryAxis.prototype, \"groupPaddingInner\", 2);\n\n// packages/ag-charts-community/src/chart/axis/tree.ts\nvar TreeNode = class {\n  // current number in sibling group (index)\n  constructor() {\n    let label = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    let parent = arguments.length > 1 ? arguments[1] : undefined;\n    let number = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    this.x = 0;\n    this.y = 0;\n    this.subtreeLeft = NaN;\n    this.subtreeRight = NaN;\n    this.screenX = 0;\n    this.screenY = 0;\n    this.children = [];\n    this.leafCount = 0;\n    this.prelim = 0;\n    this.mod = 0;\n    this.ancestor = this;\n    this.change = 0;\n    this.shift = 0;\n    this.label = label;\n    this.parent = parent;\n    this.depth = parent ? parent.depth + 1 : 0;\n    this.number = number;\n  }\n  getLeftSibling() {\n    return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : void 0;\n  }\n  getLeftmostSibling() {\n    return this.number > 0 && this.parent ? this.parent.children[0] : void 0;\n  }\n  // traverse the left contour of a subtree, return the successor of v on this contour\n  nextLeft() {\n    return this.children ? this.children[0] : this.thread;\n  }\n  // traverse the right contour of a subtree, return the successor of v on this contour\n  nextRight() {\n    return this.children ? this.children[this.children.length - 1] : this.thread;\n  }\n  getSiblings() {\n    return this.parent ? this.parent.children.filter((_, i) => i !== this.number) : [];\n  }\n};\nfunction ticksToTree(ticks) {\n  let pad2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  const root = new TreeNode();\n  let depth = 0;\n  if (pad2) {\n    ticks.forEach(tick => depth = Math.max(depth, tick.labels.length));\n  }\n  ticks.forEach(tick => {\n    if (pad2) {\n      while (tick.labels.length < depth) {\n        tick.labels.unshift(\"\");\n      }\n    }\n    insertTick(root, tick);\n  });\n  return root;\n}\nfunction insertTick(root, tick) {\n  const pathParts = tick.labels.slice().reverse();\n  const lastPartIndex = pathParts.length - 1;\n  pathParts.forEach((pathPart, partIndex) => {\n    const children = root.children;\n    const existingNode = children.find(child => child.label === pathPart);\n    const isNotLeaf = partIndex !== lastPartIndex;\n    if (existingNode && isNotLeaf) {\n      root = existingNode;\n    } else {\n      const node = new TreeNode(pathPart, root);\n      node.number = children.length;\n      children.push(node);\n      if (isNotLeaf) {\n        root = node;\n      }\n    }\n  });\n}\nfunction moveSubtree(wm, wp, shift) {\n  const subtrees = wp.number - wm.number;\n  const ratio = shift / subtrees;\n  wp.change -= ratio;\n  wp.shift += shift;\n  wm.change += ratio;\n  wp.prelim += shift;\n  wp.mod += shift;\n}\nfunction ancestor(vim, v, defaultAncestor) {\n  return v.getSiblings().indexOf(vim.ancestor) >= 0 ? vim.ancestor : defaultAncestor;\n}\nfunction executeShifts(v) {\n  const children = v.children;\n  if (children) {\n    let shift = 0;\n    let change = 0;\n    for (let i = children.length - 1; i >= 0; i--) {\n      const w = children[i];\n      w.prelim += shift;\n      w.mod += shift;\n      change += w.change;\n      shift += w.shift + change;\n    }\n  }\n}\nfunction apportion(v, defaultAncestor, distance2) {\n  const w = v.getLeftSibling();\n  if (w) {\n    let vop = v;\n    let vip = v;\n    let vim = w;\n    let vom = vip.getLeftmostSibling();\n    let sip = vip.mod;\n    let sop = vop.mod;\n    let sim = vim.mod;\n    let som = vom.mod;\n    while (vim.nextRight() && vip.nextLeft()) {\n      vim = vim.nextRight();\n      vip = vip.nextLeft();\n      vom = vom.nextLeft();\n      vop = vop.nextRight();\n      vop.ancestor = v;\n      const shift = vim.prelim + sim - (vip.prelim + sip) + distance2;\n      if (shift > 0) {\n        moveSubtree(ancestor(vim, v, defaultAncestor), v, shift);\n        sip += shift;\n        sop += shift;\n      }\n      sim += vim.mod;\n      sip += vip.mod;\n      som += vom.mod;\n      sop += vop.mod;\n    }\n    if (vim.nextRight() && !vop.nextRight()) {\n      vop.thread = vim.nextRight();\n      vop.mod += sim - sop;\n    } else {\n      if (vip.nextLeft() && !vom.nextLeft()) {\n        vom.thread = vip.nextLeft();\n        vom.mod += sip - som;\n      }\n      defaultAncestor = v;\n    }\n  }\n  return defaultAncestor;\n}\nfunction firstWalk(node, distance2) {\n  const children = node.children;\n  if (children.length) {\n    let defaultAncestor = children[0];\n    children.forEach(child => {\n      firstWalk(child, distance2);\n      defaultAncestor = apportion(child, defaultAncestor, distance2);\n    });\n    executeShifts(node);\n    const midpoint = (children[0].prelim + children.at(-1).prelim) / 2;\n    const leftSibling = node.getLeftSibling();\n    if (leftSibling) {\n      node.prelim = leftSibling.prelim + distance2;\n      node.mod = node.prelim - midpoint;\n    } else {\n      node.prelim = midpoint;\n    }\n  } else {\n    const leftSibling = node.getLeftSibling();\n    node.prelim = leftSibling ? leftSibling.prelim + distance2 : 0;\n  }\n}\nvar Dimensions = class {\n  constructor() {\n    this.top = Infinity;\n    this.right = -Infinity;\n    this.bottom = -Infinity;\n    this.left = Infinity;\n  }\n  update(node, xy) {\n    const {\n      x,\n      y\n    } = xy(node);\n    if (x > this.right) {\n      this.right = x;\n    }\n    if (x < this.left) {\n      this.left = x;\n    }\n    if (y > this.bottom) {\n      this.bottom = y;\n    }\n    if (y < this.top) {\n      this.top = y;\n    }\n  }\n};\nfunction secondWalk(v, m, layout) {\n  v.x = v.prelim + m;\n  v.y = v.depth;\n  layout.update(v);\n  v.children.forEach(w => secondWalk(w, m + v.mod, layout));\n}\nfunction thirdWalk(v) {\n  const children = v.children;\n  let leafCount = 0;\n  children.forEach(w => {\n    thirdWalk(w);\n    if (w.children.length) {\n      leafCount += w.leafCount;\n    } else {\n      leafCount++;\n    }\n  });\n  v.leafCount = leafCount;\n  if (children.length) {\n    v.subtreeLeft = children[0].subtreeLeft;\n    v.subtreeRight = children[v.children.length - 1].subtreeRight;\n    v.x = (v.subtreeLeft + v.subtreeRight) / 2;\n  } else {\n    v.subtreeLeft = v.x;\n    v.subtreeRight = v.x;\n  }\n}\nfunction treeLayout(root) {\n  const layout = new TreeLayout();\n  firstWalk(root, 1);\n  secondWalk(root, -root.prelim, layout);\n  thirdWalk(root);\n  return layout;\n}\nvar TreeLayout = class {\n  constructor() {\n    this.dimensions = new Dimensions();\n    this.leafCount = 0;\n    this.nodes = [];\n    // One might want to process leaf nodes separately from the rest of the tree.\n    // For example, position labels corresponding to leafs vertically, rather than horizontally.\n    this.leafNodes = [];\n    this.nonLeafNodes = [];\n    this.depth = 0;\n  }\n  update(node) {\n    this.dimensions.update(node, n => ({\n      x: n.x,\n      y: n.y\n    }));\n    if (node.children.length) {\n      this.nonLeafNodes.push(node);\n    } else {\n      this.leafCount++;\n      this.leafNodes.push(node);\n    }\n    if (node.depth > this.depth) {\n      this.depth = node.depth;\n    }\n    this.nodes.push(node);\n  }\n  resize(width, height) {\n    let shiftX = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    let shiftY = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let flipX = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    const xSteps = this.leafCount - 1;\n    const ySteps = this.depth;\n    const dimensions = this.dimensions;\n    let scalingX = 1;\n    let scalingY = 1;\n    if (width > 0 && xSteps) {\n      const existingSpacingX = (dimensions.right - dimensions.left) / xSteps;\n      const desiredSpacingX = width / xSteps;\n      scalingX = desiredSpacingX / existingSpacingX;\n      if (flipX) {\n        scalingX = -scalingX;\n      }\n    }\n    if (height > 0 && ySteps) {\n      const existingSpacingY = (dimensions.bottom - dimensions.top) / ySteps;\n      const desiredSpacingY = height / ySteps;\n      scalingY = desiredSpacingY / existingSpacingY;\n    }\n    const screenDimensions = new Dimensions();\n    this.nodes.forEach(node => {\n      node.screenX = node.x * scalingX;\n      node.screenY = node.y * scalingY;\n      screenDimensions.update(node, n => ({\n        x: n.screenX,\n        y: n.screenY\n      }));\n    });\n    const offsetX = -screenDimensions.left;\n    const offsetY = -screenDimensions.top;\n    this.nodes.forEach(node => {\n      node.screenX += offsetX + shiftX;\n      node.screenY += offsetY + shiftY;\n    });\n  }\n};\n\n// packages/ag-charts-community/src/chart/axis/groupedCategoryAxis.ts\nvar GroupedCategoryAxisLabel = class extends AxisLabel {\n  constructor() {\n    super(...arguments);\n    this.grid = false;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], GroupedCategoryAxisLabel.prototype, \"grid\", 2);\nvar GroupedCategoryAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new BandScale());\n    // Label scale (labels are positioned between ticks, tick count = label count + 1).\n    // We don't call is `labelScale` for consistency with other axes.\n    this.tickScale = new BandScale();\n    this.line = new AxisLine();\n    this.label = new GroupedCategoryAxisLabel();\n    this.labelColor = \"rgba(87, 87, 87, 1)\";\n    this.includeInvisibleDomains = true;\n    const {\n      tickLineGroup,\n      tickLabelGroup,\n      gridLineGroup,\n      tickScale,\n      scale: scale2\n    } = this;\n    scale2.paddingOuter = 0.1;\n    scale2.paddingInner = scale2.paddingOuter * 2;\n    this.refreshScale();\n    tickScale.paddingInner = 1;\n    tickScale.paddingOuter = 0;\n    this.gridLineSelection = Selection.select(gridLineGroup, Line);\n    this.axisLineSelection = Selection.select(tickLineGroup, Line);\n    this.separatorSelection = Selection.select(tickLineGroup, Line);\n    this.labelSelection = Selection.select(tickLabelGroup, Text);\n  }\n  updateRange() {\n    const {\n      range: rr,\n      visibleRange: vr,\n      scale: scale2\n    } = this;\n    const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n    const shift = span * vr[0];\n    const start = rr[0] - shift;\n    this.tickScale.range = scale2.range = [start, start + span];\n    this.resizeTickTree();\n  }\n  resizeTickTree() {\n    var _a;\n    const s = this.scale;\n    const range3 = s.domain.length ? [s.convert(s.domain[0]), s.convert(s.domain[s.domain.length - 1])] : s.range;\n    const layout = this.tickTreeLayout;\n    const lineHeight = this.lineHeight;\n    if (layout) {\n      layout.resize(Math.abs(range3[1] - range3[0]), layout.depth * lineHeight, (Math.min(range3[0], range3[1]) || 0) + ((_a = s.bandwidth) != null ? _a : 0) / 2, -layout.depth * lineHeight, range3[1] - range3[0] < 0);\n    }\n  }\n  get lineHeight() {\n    return this.label.fontSize * 1.5;\n  }\n  /**\n   * The length of the grid. The grid is only visible in case of a non-zero value.\n   */\n  onGridVisibilityChange() {\n    this.gridLineSelection.clear();\n    this.labelSelection.clear();\n  }\n  createTick() {\n    return new CategoryAxisTick();\n  }\n  calculateDomain() {\n    var _a;\n    const {\n      direction\n    } = this;\n    let isNumericX = null;\n    const flatDomains = this.boundSeries.filter(s => s.visible).flatMap(series => {\n      if (direction === \"y\" /* Y */ || isNumericX) {\n        return series.getDomain(direction);\n      }\n      if (isNumericX === null) {\n        const domain2 = series.getDomain(direction);\n        isNumericX = isNumber(domain2[0]);\n        return domain2;\n      }\n      return [];\n    });\n    this.setDomain((_a = extent(flatDomains)) != null ? _a : unique(flatDomains));\n    const {\n      domain\n    } = this.dataDomain;\n    this.tickTreeLayout = treeLayout(ticksToTree(domain));\n    this.tickScale.domain = domain.concat(\"\");\n    this.resizeTickTree();\n  }\n  /**\n   * Creates/removes/updates the scene graph nodes that constitute the axis.\n   * Supposed to be called _manually_ after changing _any_ of the axis properties.\n   * This allows to bulk set axis properties before updating the nodes.\n   * The node changes made by this method are rendered on the next animation frame.\n   * We could schedule this method call automatically on the next animation frame\n   * when any of the axis properties change (the way we do when properties of scene graph's\n   * nodes change), but this will mean that we first wait for the next animation\n   * frame to make changes to the nodes of the axis, then wait for another animation\n   * frame to render those changes. It's nice to have everything update automatically,\n   * but this extra level of async indirection will not just introduce an unwanted delay,\n   * it will also make it harder to reason about the program.\n   */\n  update() {\n    if (!this.computedLayout) {\n      return;\n    }\n    this.updatePosition();\n    this.updateTitleCaption();\n    this.updateCategoryLabels();\n    this.updateSeparators();\n    this.updateAxisLines();\n    this.updateCategoryGridLines();\n    this.resetSelectionNodes();\n  }\n  updateTitleCaption() {\n    const {\n      _titleCaption\n    } = this;\n    _titleCaption.node.visible = false;\n  }\n  updateCategoryLabels() {\n    if (!this.computedLayout) return;\n    const {\n      tickLabelLayout\n    } = this.computedLayout;\n    const labelSelection = this.labelSelection.update(tickLabelLayout);\n    labelSelection.each((node, datum) => {\n      node.setProperties(datum);\n    });\n  }\n  updateSeparators() {\n    if (!this.computedLayout) return;\n    const {\n      separatorLayout\n    } = this.computedLayout;\n    const {\n      range: range3\n    } = this;\n    const epsilon2 = 1e-7;\n    const separatorSelection = this.separatorSelection.update(separatorLayout);\n    separatorSelection.each((line, datum) => {\n      line.x1 = datum.x1;\n      line.x2 = datum.x2;\n      line.y1 = datum.y;\n      line.y2 = datum.y;\n      line.visible = datum.y >= range3[0] - epsilon2 && datum.y <= range3[1] + epsilon2;\n      line.stroke = this.tick.color;\n      line.fill = void 0;\n      line.strokeWidth = 1;\n    });\n  }\n  updateAxisLines() {\n    if (!this.computedLayout) return;\n    const {\n      axisLineLayout\n    } = this.computedLayout;\n    const axisLineSelection = this.axisLineSelection.update(axisLineLayout);\n    axisLineSelection.each((line, datum) => {\n      line.setProperties(__spreadProps(__spreadValues({}, datum), {\n        stroke: this.line.color,\n        strokeWidth: this.line.width\n      }));\n      line.x1 = datum.x;\n      line.x2 = datum.x;\n      line.y1 = datum.y1;\n      line.y2 = datum.y2;\n      line.strokeWidth = this.line.width;\n      line.stroke = this.line.color;\n    });\n  }\n  updateCategoryGridLines() {\n    const {\n      gridLength,\n      gridLine,\n      label,\n      range: range3,\n      tickScale\n    } = this;\n    const ticks = tickScale.ticks();\n    const sideFlag = label.getSideFlag();\n    const gridSelection = this.gridLineSelection.update(gridLength ? ticks : []);\n    if (gridLength) {\n      const {\n        width,\n        style\n      } = gridLine;\n      const styleCount = style.length;\n      gridSelection.each((line, datum, index) => {\n        const y = Math.round(tickScale.convert(datum));\n        line.x1 = 0;\n        line.x2 = -sideFlag * gridLength;\n        line.y1 = y;\n        line.y2 = y;\n        line.visible = y >= range3[0] && y <= range3[1];\n        const {\n          stroke,\n          lineDash\n        } = style[index % styleCount];\n        line.stroke = stroke;\n        line.strokeWidth = width;\n        line.lineDash = lineDash;\n        line.fill = void 0;\n      });\n    }\n  }\n  computeLayout() {\n    this.updateDirection();\n    this.calculateDomain();\n    this.updateRange();\n    const {\n      scale: scale2,\n      label,\n      label: {\n        parallel\n      },\n      moduleCtx: {\n        callbackCache\n      },\n      range: range3,\n      title,\n      title: {\n        formatter = p => p.defaultValue\n      } = {}\n    } = this;\n    const rangeStart = scale2.range[0];\n    const rangeEnd = scale2.range[1];\n    const rangeLength = Math.abs(rangeEnd - rangeStart);\n    const bandwidth = rangeLength / scale2.domain.length || 0;\n    const keepEvery = Math.ceil(label.fontSize / bandwidth);\n    const rotation = toRadians(this.rotation);\n    const isHorizontal = Math.abs(Math.cos(rotation)) < 1e-8;\n    const sideFlag = label.getSideFlag();\n    const lineHeight = this.lineHeight;\n    const tickTreeLayout = this.tickTreeLayout;\n    const labels = scale2.ticks();\n    const treeLabels = tickTreeLayout ? tickTreeLayout.nodes : [];\n    const isLabelTree = tickTreeLayout ? tickTreeLayout.depth > 1 : false;\n    const {\n      defaultRotation,\n      configuredRotation,\n      parallelFlipFlag\n    } = calculateLabelRotation({\n      rotation: label.rotation,\n      parallel,\n      regularFlipRotation: normalizeAngle360(rotation - Math.PI / 2),\n      parallelFlipRotation: normalizeAngle360(rotation)\n    });\n    const tickLabelLayout = [];\n    const copyLabelProps = node => {\n      return {\n        fill: node.fill,\n        fontFamily: node.fontFamily,\n        fontSize: node.fontSize,\n        fontStyle: node.fontStyle,\n        fontWeight: node.fontWeight,\n        rotation: node.rotation,\n        rotationCenterX: node.rotationCenterX,\n        rotationCenterY: node.rotationCenterY,\n        text: node.text,\n        textAlign: node.textAlign,\n        textBaseline: node.textBaseline,\n        translationX: node.translationX,\n        translationY: node.translationY,\n        visible: node.visible,\n        x: node.x,\n        y: node.y\n      };\n    };\n    const labelBBoxes = /* @__PURE__ */new Map();\n    let maxLeafLabelWidth = 0;\n    const tempText = new Text();\n    const setLabelProps = (datum, index) => {\n      var _a;\n      tempText.setProperties({\n        fill: label.color,\n        fontFamily: label.fontFamily,\n        fontSize: label.fontSize,\n        fontStyle: label.fontStyle,\n        fontWeight: label.fontWeight,\n        textAlign: \"center\",\n        textBaseline: parallelFlipFlag === -1 ? \"bottom\" : \"hanging\",\n        translationX: datum.screenY - label.fontSize * 0.25,\n        translationY: datum.screenX\n      });\n      if (index === 0) {\n        const isCaptionEnabled = (title == null ? void 0 : title.enabled) && labels.length > 0;\n        if (!isCaptionEnabled) {\n          return false;\n        }\n        const text = callbackCache.call(formatter, this.getTitleFormatterParams());\n        tempText.setProperties({\n          fill: title.color,\n          fontFamily: title.fontFamily,\n          fontSize: title.fontSize,\n          fontStyle: title.fontStyle,\n          fontWeight: title.fontWeight,\n          text,\n          textBaseline: \"hanging\",\n          translationX: datum.screenY - label.fontSize * 0.25,\n          translationY: datum.screenX\n        });\n      } else if (index % keepEvery === 0) {\n        const isInRange = datum.screenX >= range3[0] && datum.screenX <= range3[1];\n        if (!isInRange) {\n          return false;\n        }\n        if (label.formatter) {\n          tempText.text = (_a = callbackCache.call(label.formatter, {\n            value: String(datum.label),\n            index\n          })) != null ? _a : String(datum.label);\n        } else {\n          tempText.text = String(datum.label);\n        }\n      } else {\n        return false;\n      }\n      return true;\n    };\n    treeLabels.forEach((datum, index) => {\n      const isVisible = setLabelProps(datum, index);\n      if (!isVisible) return;\n      const bbox2 = tempText.computeTransformedBBox();\n      if (!bbox2) return;\n      labelBBoxes.set(index, bbox2);\n      const isLeaf = !datum.children.length;\n      if (isLeaf && bbox2.width > maxLeafLabelWidth) {\n        maxLeafLabelWidth = bbox2.width;\n      }\n    });\n    const labelX = sideFlag * label.padding;\n    const labelGrid = this.label.grid;\n    const separatorData = [];\n    treeLabels.forEach((datum, index) => {\n      let visible = setLabelProps(datum, index);\n      const id = index;\n      tempText.x = labelX;\n      tempText.rotationCenterX = labelX;\n      const isLeaf = !datum.children.length;\n      if (isLeaf) {\n        tempText.rotation = configuredRotation;\n        tempText.textAlign = \"end\";\n        tempText.textBaseline = \"middle\";\n      } else {\n        tempText.translationX -= maxLeafLabelWidth - lineHeight + this.label.padding;\n        const availableRange = datum.leafCount * bandwidth;\n        const bbox2 = labelBBoxes.get(id);\n        if (bbox2 && bbox2.width > availableRange) {\n          visible = false;\n          labelBBoxes.delete(id);\n        } else if (isHorizontal) {\n          tempText.rotation = defaultRotation;\n        } else {\n          tempText.rotation = -Math.PI / 2;\n        }\n      }\n      if (datum.parent && isLabelTree) {\n        const y = isLeaf ? datum.screenX - bandwidth / 2 : datum.screenX - datum.leafCount * bandwidth / 2;\n        if (isLeaf) {\n          if (datum.number !== datum.children.length - 1 || labelGrid) {\n            separatorData.push({\n              y,\n              x1: 0,\n              x2: -maxLeafLabelWidth - this.label.padding * 2\n            });\n          }\n        } else {\n          const x = -maxLeafLabelWidth - this.label.padding * 2 + datum.screenY;\n          separatorData.push({\n            y,\n            x1: x + lineHeight,\n            x2: x\n          });\n        }\n      }\n      let props;\n      if (visible) {\n        const bbox2 = tempText.computeTransformedBBox();\n        if (bbox2) {\n          labelBBoxes.set(index, bbox2);\n        }\n        props = __spreadProps(__spreadValues({}, copyLabelProps(tempText)), {\n          visible\n        });\n      } else {\n        labelBBoxes.delete(index);\n        props = {\n          visible\n        };\n      }\n      tickLabelLayout.push(props);\n    });\n    let minX = 0;\n    separatorData.forEach(d => minX = Math.min(minX, d.x2));\n    separatorData.push({\n      y: Math.max(rangeStart, rangeEnd),\n      x1: 0,\n      x2: minX\n    });\n    const separatorLayout = [];\n    const separatorBoxes = [];\n    const epsilon2 = 1e-7;\n    separatorData.forEach(datum => {\n      if (datum.y >= range3[0] - epsilon2 && datum.y <= range3[1] + epsilon2) {\n        const {\n          x1,\n          x2,\n          y\n        } = datum;\n        const separatorBox = new BBox(Math.min(x1, x2), y, Math.abs(x1 - x2), 0);\n        separatorBoxes.push(separatorBox);\n        separatorLayout.push({\n          x1,\n          x2,\n          y\n        });\n      }\n    });\n    const axisLineLayout = [];\n    const axisLineBoxes = [];\n    const lineCount = tickTreeLayout ? tickTreeLayout.depth + 1 : 1;\n    for (let i = 0; i < lineCount; i++) {\n      const visible = labels.length > 0 && (i === 0 || labelGrid && isLabelTree);\n      const x = i > 0 ? -maxLeafLabelWidth - this.label.padding * 2 - (i - 1) * lineHeight : 0;\n      const lineBox = new BBox(x, Math.min(...range3), 0, Math.abs(range3[1] - range3[0]));\n      axisLineBoxes.push(lineBox);\n      axisLineLayout.push({\n        x,\n        y1: range3[0],\n        y2: range3[1],\n        visible\n      });\n    }\n    const getTransformBox = bbox2 => {\n      const matrix = new Matrix();\n      const {\n        rotation: axisRotation,\n        translationX,\n        translationY,\n        rotationCenterX,\n        rotationCenterY\n      } = this.getAxisTransform();\n      Matrix.updateTransformMatrix(matrix, 1, 1, axisRotation, translationX, translationY, {\n        scalingCenterX: 0,\n        scalingCenterY: 0,\n        rotationCenterX,\n        rotationCenterY\n      });\n      return matrix.transformBBox(bbox2);\n    };\n    const bbox = BBox.merge([...labelBBoxes.values(), ...separatorBoxes, ...axisLineBoxes]);\n    const transformedBBox = getTransformBox(bbox);\n    return {\n      bbox: transformedBBox,\n      tickLabelLayout,\n      separatorLayout,\n      axisLineLayout\n    };\n  }\n  calculateLayout() {\n    const {\n      axisLineLayout,\n      separatorLayout,\n      tickLabelLayout,\n      bbox\n    } = this.computeLayout();\n    this.computedLayout = {\n      axisLineLayout,\n      separatorLayout,\n      tickLabelLayout\n    };\n    return {\n      bbox,\n      primaryTickCount: void 0\n    };\n  }\n};\nGroupedCategoryAxis.className = \"GroupedCategoryAxis\";\nGroupedCategoryAxis.type = \"grouped-category\";\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], GroupedCategoryAxis.prototype, \"labelColor\", 2);\n\n// packages/ag-charts-community/src/util/userAgent.ts\nfunction hasConstrainedCanvasMemory() {\n  if (typeof navigator === \"undefined\") {\n    return false;\n  }\n  const iPhoneOSMatch = navigator.userAgent.match(/\\(iPhone; CPU iPhone OS (\\d+_\\d+_\\d+) like Mac OS X\\)/);\n  if (iPhoneOSMatch == null) {\n    return false;\n  }\n  const [major, minor] = iPhoneOSMatch[1].split(\"_\").map(Number);\n  return major < 16 || major === 16 && minor < 6;\n}\n\n// packages/ag-charts-community/src/scene/canvas/hdpiCanvas.ts\nvar _HdpiCanvas = class _HdpiCanvas {\n  constructor(options) {\n    this.enabled = true;\n    this.width = 600;\n    this.height = 300;\n    const {\n      width,\n      height,\n      pixelRatio,\n      position,\n      insertAsFirstChild\n    } = options;\n    this.insertAsFirstChild = insertAsFirstChild != null ? insertAsFirstChild : false;\n    this.pixelRatio = hasConstrainedCanvasMemory() ? 1 : pixelRatio != null ? pixelRatio : getWindow(\"devicePixelRatio\");\n    this.element = createElement(\"canvas\");\n    this.element.width = Math.round((width != null ? width : this.width) * this.pixelRatio);\n    this.element.height = Math.round((height != null ? height : this.height) * this.pixelRatio);\n    if (position) {\n      this.element.style.position = position;\n    }\n    this.context = this.element.getContext(\"2d\");\n    this.onEnabledChange();\n    this.resize(width != null ? width : 0, height != null ? height : 0);\n    _HdpiCanvas.debugContext(this.context);\n  }\n  static is(value) {\n    return value instanceof _HdpiCanvas;\n  }\n  drawImage(context) {\n    let dx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let dy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    return context.drawImage(this.context.canvas, dx, dy);\n  }\n  toDataURL(type) {\n    return this.element.toDataURL(type);\n  }\n  resize(width, height) {\n    if (!(width > 0 && height > 0)) return;\n    const {\n      element: element2,\n      context,\n      pixelRatio\n    } = this;\n    element2.width = Math.round(width * pixelRatio);\n    element2.height = Math.round(height * pixelRatio);\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    element2.style.width = width + \"px\";\n    element2.style.height = height + \"px\";\n    this.width = width;\n    this.height = height;\n  }\n  snapshot() {}\n  clear() {\n    this.context.save();\n    this.context.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n    this.context.clearRect(0, 0, this.width, this.height);\n    this.context.restore();\n  }\n  destroy() {\n    this.element.remove();\n    this.element.width = 0;\n    this.element.height = 0;\n    this.context.clearRect(0, 0, 0, 0);\n    Object.freeze(this);\n  }\n  onContainerChange(newValue, oldValue) {\n    var _a, _b, _c, _d;\n    if (newValue === oldValue) return;\n    (_a = this.element.parentNode) == null ? void 0 : _a.removeChild(this.element);\n    if (this.insertAsFirstChild && ((_b = this.container) == null ? void 0 : _b.firstChild)) {\n      (_c = this.container) == null ? void 0 : _c.insertBefore(this.element, this.container.firstChild);\n    } else {\n      (_d = this.container) == null ? void 0 : _d.appendChild(this.element);\n    }\n  }\n  onEnabledChange() {\n    if (this.element) {\n      this.element.style.display = this.enabled ? \"block\" : \"none\";\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n  static debugContext(ctx) {\n    if (Debug.check(\"canvas\")) {\n      const save = ctx.save.bind(ctx);\n      const restore = ctx.restore.bind(ctx);\n      let depth = 0;\n      Object.assign(ctx, {\n        save() {\n          save();\n          depth++;\n        },\n        restore() {\n          if (depth === 0) {\n            throw new Error(\"AG Charts - Unable to restore() past depth 0\");\n          }\n          restore();\n          depth--;\n        },\n        verifyDepthZero() {\n          if (depth !== 0) {\n            throw new Error(\"AG Charts - Save/restore depth is non-zero: \".concat(depth));\n          }\n        }\n      });\n    }\n  }\n};\n__decorateClass([ObserveChanges(target => target.onEnabledChange())], _HdpiCanvas.prototype, \"enabled\", 2);\n__decorateClass([ObserveChanges((target, newValue, oldValue) => target.onContainerChange(newValue, oldValue))], _HdpiCanvas.prototype, \"container\", 2);\nvar HdpiCanvas = _HdpiCanvas;\n\n// packages/ag-charts-community/src/scene/layersManager.ts\nvar LayersManager = class _LayersManager {\n  constructor(canvas, markDirty) {\n    this.canvas = canvas;\n    this.markDirty = markDirty;\n    this.debug = Debug.create(true, \"scene\");\n    this.layersMap = /* @__PURE__ */new Map();\n    this.nextZIndex = 0;\n    this.nextLayerId = 0;\n  }\n  static sortLayers(a, b) {\n    var _a, _b;\n    return compoundAscending([a.zIndex, ...((_a = a.zIndexSubOrder) != null ? _a : [void 0, void 0]), a.id], [b.zIndex, ...((_b = b.zIndexSubOrder) != null ? _b : [void 0, void 0]), b.id], ascendingStringNumberUndefined);\n  }\n  get size() {\n    return this.layersMap.size;\n  }\n  forEach(callback) {\n    Array.from(this.layersMap.values()).sort(_LayersManager.sortLayers).forEach(callback);\n  }\n  resize(width, height) {\n    this.canvas.resize(width, height);\n    this.layersMap.forEach(_ref43 => {\n      let {\n        canvas\n      } = _ref43;\n      return canvas.resize(width, height);\n    });\n  }\n  addLayer(opts) {\n    const {\n      width,\n      height,\n      pixelRatio\n    } = this.canvas;\n    const {\n      zIndex = this.nextZIndex++,\n      name,\n      zIndexSubOrder,\n      getComputedOpacity,\n      getVisibility\n    } = opts;\n    const canvas = new HdpiCanvas({\n      width,\n      height,\n      pixelRatio,\n      position: \"absolute\"\n    });\n    const newLayer = {\n      id: this.nextLayerId++,\n      name,\n      canvas,\n      zIndex,\n      zIndexSubOrder,\n      getComputedOpacity,\n      getVisibility\n    };\n    if (zIndex >= this.nextZIndex) {\n      this.nextZIndex = zIndex + 1;\n    }\n    this.layersMap.set(canvas, newLayer);\n    this.debug(\"Scene.addLayer() - layers\", this.layersMap);\n    return newLayer.canvas;\n  }\n  removeLayer(canvas) {\n    if (this.layersMap.has(canvas)) {\n      this.layersMap.delete(canvas);\n      canvas.destroy();\n      this.markDirty();\n      this.debug(\"Scene.removeLayer() -  layers\", this.layersMap);\n    }\n  }\n  moveLayer(canvas, newZIndex, newZIndexSubOrder) {\n    const layer = this.layersMap.get(canvas);\n    if (layer) {\n      layer.zIndex = newZIndex;\n      layer.zIndexSubOrder = newZIndexSubOrder;\n      this.markDirty();\n      this.debug(\"Scene.moveLayer() -  layers\", this.layersMap);\n    }\n  }\n  clear() {\n    this.layersMap.clear();\n  }\n};\n\n// packages/ag-charts-community/src/scene/sceneDebug.ts\nfunction debugStats(layersManager, debugSplitTimes, ctx, renderCtxStats) {\n  let extraDebugStats = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  if (!Debug.check(\"scene:stats\" /* SCENE_STATS */, \"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */)) return;\n  const {\n    layersRendered = 0,\n    layersSkipped = 0,\n    nodesRendered = 0,\n    nodesSkipped = 0\n  } = renderCtxStats != null ? renderCtxStats : {};\n  const end = performance.now();\n  const _a = debugSplitTimes,\n    {\n      start\n    } = _a,\n    durations = __objRest(_a, [\"start\"]);\n  const splits = Object.entries(durations).map(_ref44 => {\n    let [n, t] = _ref44;\n    return time(n, t);\n  }).filter(v => v != null).join(\" + \");\n  const extras = Object.entries(extraDebugStats).map(_ref45 => {\n    let [k, v] = _ref45;\n    return \"\".concat(k, \": \").concat(v);\n  }).join(\" ; \");\n  const detailedStats = Debug.check(\"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */);\n  const stats = [\"\".concat(time(\"\\u23F1\\uFE0F\", start, end), \" (\").concat(splits, \")\"), \"\".concat(extras), \"Layers: \".concat(detailedStats ? pct(layersRendered, layersSkipped) : layersManager.size), detailedStats ? \"Nodes: \".concat(pct(nodesRendered, nodesSkipped)) : null].filter(isString);\n  const statsSize = new Map(stats.map(t => [t, Text.getTextSize(t, ctx.font)]));\n  const width = Math.max(...Array.from(statsSize.values(), s => s.width));\n  const height = accumulate(statsSize.values(), s => s.height);\n  ctx.save();\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(0, 0, width, height);\n  ctx.fillStyle = \"black\";\n  let y = 0;\n  for (const [stat, size] of statsSize.entries()) {\n    y += size.height;\n    ctx.fillText(stat, 2, y);\n  }\n  ctx.restore();\n}\nfunction debugSceneNodeHighlight(ctx, debugNodes) {\n  ctx.save();\n  for (const [name, node] of Object.entries(debugNodes)) {\n    const bbox = node.computeTransformedBBox();\n    if (!bbox) {\n      Logger.log(\"Scene.render() - no bbox for debugged node [\".concat(name, \"].\"));\n      continue;\n    }\n    ctx.globalAlpha = 0.8;\n    ctx.strokeStyle = \"red\";\n    ctx.lineWidth = 1;\n    ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);\n    ctx.fillStyle = \"red\";\n    ctx.strokeStyle = \"white\";\n    ctx.font = \"16px sans-serif\";\n    ctx.textBaseline = \"top\";\n    ctx.textAlign = \"left\";\n    ctx.lineWidth = 2;\n    ctx.strokeText(name, bbox.x, bbox.y, bbox.width);\n    ctx.fillText(name, bbox.x, bbox.y, bbox.width);\n  }\n  ctx.restore();\n}\nfunction buildTree(node) {\n  var _a, _b;\n  if (!Debug.check(true, \"scene\" /* SCENE */)) return {};\n  return __spreadValues(__spreadValues({\n    node,\n    name: (_a = node instanceof Group ? node.name : null) != null ? _a : node.id,\n    dirty: RedrawType[node.dirty]\n  }, ((_b = node.parent) == null ? void 0 : _b.isVirtual) ? {\n    virtualParentDirty: RedrawType[node.parent.dirty],\n    virtualParent: node.parent\n  } : {}), node.children.map(c => buildTree(c)).reduce((result, childTree) => {\n    let {\n      name: treeNodeName\n    } = childTree;\n    const {\n      node: {\n        visible,\n        opacity,\n        zIndex,\n        zIndexSubOrder\n      },\n      node: childNode,\n      virtualParent\n    } = childTree;\n    if (!visible || opacity <= 0) {\n      treeNodeName = \"(\".concat(treeNodeName, \")\");\n    }\n    if (childNode instanceof Group && childNode.isLayer()) {\n      treeNodeName = \"*\".concat(treeNodeName, \"*\");\n    }\n    const key = [\"\".concat(treeNodeName != null ? treeNodeName : \"<unknown>\"), \"z: \".concat(zIndex), zIndexSubOrder && \"zo: \".concat(zIndexSubOrder.map(v => typeof v === \"function\" ? \"\".concat(v(), \" (fn)\") : v).join(\" / \")), virtualParent && \"(virtual parent)\"].filter(v => !!v).join(\" \");\n    let selectedKey = key;\n    let index = 1;\n    while (result[selectedKey] != null && index < 100) {\n      selectedKey = \"\".concat(key, \" (\").concat(index++, \")\");\n    }\n    result[selectedKey] = childTree;\n    return result;\n  }, {}));\n}\nfunction buildDirtyTree(node) {\n  var _a;\n  if (node.dirty === 0 /* NONE */) {\n    return {\n      dirtyTree: {},\n      paths: []\n    };\n  }\n  const childrenDirtyTree = node.children.map(c => buildDirtyTree(c)).filter(c => c.paths.length > 0);\n  const name = Group.is(node) ? (_a = node.name) != null ? _a : node.id : node.id;\n  const paths = childrenDirtyTree.length ? childrenDirtyTree.flatMap(c => c.paths).map(p => \"\".concat(name, \".\").concat(p)) : [name];\n  return {\n    dirtyTree: __spreadValues({\n      name,\n      node,\n      dirty: RedrawType[node.dirty]\n    }, childrenDirtyTree.map(c => c.dirtyTree).filter(t => t.dirty != null).reduce((result, childTree) => {\n      var _a2;\n      result[(_a2 = childTree.name) != null ? _a2 : \"<unknown>\"] = childTree;\n      return result;\n    }, {})),\n    paths\n  };\n}\nfunction pct(rendered, skipped) {\n  const total = rendered + skipped;\n  return \"\".concat(rendered, \" / \").concat(total, \" (\").concat(Math.round(100 * rendered / total), \"%)\");\n}\nfunction time(name, start, end) {\n  const duration = end != null ? end - start : start;\n  return \"\".concat(name, \": \").concat(Math.round(duration * 100) / 100, \"ms\");\n}\nfunction accumulate(iterator, mapper) {\n  let sum2 = 0;\n  for (const item of iterator) {\n    sum2 += mapper(item);\n  }\n  return sum2;\n}\n\n// packages/ag-charts-community/src/scene/scene.ts\nvar Scene = class {\n  constructor(_ref46) {\n    let {\n      width,\n      height,\n      pixelRatio,\n      canvasPosition\n    } = _ref46;\n    this.debug = Debug.create(true, \"scene\" /* SCENE */);\n    this.id = createId(this);\n    this.root = null;\n    this.isDirty = false;\n    this.canvas = new HdpiCanvas({\n      width,\n      height,\n      pixelRatio,\n      position: canvasPosition,\n      insertAsFirstChild: canvasPosition === \"absolute\"\n    });\n    this.layersManager = new LayersManager(this.canvas, () => {\n      this.isDirty = true;\n    });\n  }\n  get width() {\n    var _a, _b;\n    return (_b = (_a = this.pendingSize) == null ? void 0 : _a[0]) != null ? _b : this.canvas.width;\n  }\n  get height() {\n    var _a, _b;\n    return (_b = (_a = this.pendingSize) == null ? void 0 : _a[1]) != null ? _b : this.canvas.height;\n  }\n  setContainer(value) {\n    this.canvas.container = value;\n    return this;\n  }\n  setRoot(node) {\n    var _a;\n    if (this.root === node) {\n      return this;\n    }\n    this.isDirty = true;\n    (_a = this.root) == null ? void 0 : _a._setLayerManager();\n    this.root = node;\n    if (node) {\n      node.visible = true;\n      node._setLayerManager(this.layersManager);\n    }\n    return this;\n  }\n  attachNode(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.appendChild(node);\n    return () => this.removeChild(node);\n  }\n  appendChild(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.appendChild(node);\n    return this;\n  }\n  removeChild(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.removeChild(node);\n    return this;\n  }\n  download(fileName, fileFormat) {\n    var _a;\n    downloadUrl(this.canvas.toDataURL(fileFormat), (_a = fileName == null ? void 0 : fileName.trim()) != null ? _a : \"image\");\n  }\n  /** NOTE: Integrated Charts undocumented image download method. */\n  getDataURL(fileFormat) {\n    return this.canvas.toDataURL(fileFormat);\n  }\n  resize(width, height) {\n    width = Math.round(width);\n    height = Math.round(height);\n    if (width > 0 && height > 0 && (width !== this.width || height !== this.height)) {\n      this.pendingSize = [width, height];\n      this.isDirty = true;\n      return true;\n    }\n    return false;\n  }\n  render(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const {\n        debugSplitTimes = {\n          start: performance.now()\n        },\n        extraDebugStats\n      } = opts != null ? opts : {};\n      const {\n        canvas,\n        canvas: {\n          context: ctx\n        } = {},\n        root,\n        pendingSize\n      } = this;\n      if (!ctx) {\n        return;\n      }\n      const renderStartTime = performance.now();\n      if (pendingSize) {\n        this.layersManager.resize(...pendingSize);\n        this.pendingSize = void 0;\n      }\n      if (root && !root.visible) {\n        this.isDirty = false;\n        return;\n      }\n      if (root && !this.isDirty) {\n        if (this.debug.check()) {\n          this.debug(\"Scene.render() - no-op\", {\n            redrawType: RedrawType[root.dirty],\n            tree: buildTree(root)\n          });\n        }\n        debugStats(this.layersManager, debugSplitTimes, ctx, void 0, extraDebugStats);\n        return;\n      }\n      const renderCtx = {\n        ctx,\n        devicePixelRatio: (_a = this.canvas.pixelRatio) != null ? _a : 1,\n        forceRender: true,\n        resized: Boolean(pendingSize),\n        debugNodes: {}\n      };\n      if (Debug.check(\"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */)) {\n        renderCtx.stats = {\n          layersRendered: 0,\n          layersSkipped: 0,\n          nodesRendered: 0,\n          nodesSkipped: 0\n        };\n      }\n      let canvasCleared = false;\n      if (!root || root.dirty >= 1 /* TRIVIAL */) {\n        canvasCleared = true;\n        canvas.clear();\n      }\n      if (root && Debug.check(\"scene:dirtyTree\" /* SCENE_DIRTY_TREE */)) {\n        const {\n          dirtyTree,\n          paths\n        } = buildDirtyTree(root);\n        Debug.create(\"scene:dirtyTree\" /* SCENE_DIRTY_TREE */)(\"Scene.render() - dirtyTree\", {\n          dirtyTree,\n          paths\n        });\n      }\n      if (root && canvasCleared) {\n        this.debug(\"Scene.render() - before\", {\n          redrawType: RedrawType[root.dirty],\n          canvasCleared,\n          tree: buildTree(root)\n        });\n        if (root.visible) {\n          root.preRender();\n          ctx.save();\n          root.render(renderCtx);\n          ctx.restore();\n        }\n      }\n      debugSplitTimes[\"\\u270D\\uFE0F\"] = performance.now() - renderStartTime;\n      if (this.layersManager.size && canvasCleared) {\n        const layerRenderStart = performance.now();\n        ctx.save();\n        ctx.resetTransform();\n        this.layersManager.forEach(layer => {\n          if (layer.canvas.enabled && layer.getVisibility()) {\n            ctx.globalAlpha = layer.getComputedOpacity();\n            layer.canvas.drawImage(ctx);\n          }\n        });\n        ctx.restore();\n        debugSplitTimes[\"\\u26D9\"] = performance.now() - layerRenderStart;\n      }\n      (_b = ctx.verifyDepthZero) == null ? void 0 : _b.call(ctx);\n      this.isDirty = false;\n      debugStats(this.layersManager, debugSplitTimes, ctx, renderCtx.stats, extraDebugStats);\n      debugSceneNodeHighlight(ctx, renderCtx.debugNodes);\n      if (root && this.debug.check()) {\n        this.debug(\"Scene.render() - after\", {\n          redrawType: RedrawType[root.dirty],\n          tree: buildTree(root),\n          canvasCleared\n        });\n      }\n    });\n  }\n  /** Alternative to destroy() that preserves re-usable resources. */\n  strip() {\n    const {\n      context,\n      pixelRatio\n    } = this.canvas;\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    this.layersManager.clear();\n    this.setRoot(null);\n    this.isDirty = false;\n  }\n  destroy() {\n    this.canvas.container = void 0;\n    this.strip();\n    this.canvas.destroy();\n    Object.assign(this, {\n      canvas: void 0\n    });\n  }\n};\nScene.className = \"Scene\";\n\n// packages/ag-charts-community/src/styles/icons.ts\nvar icons_default = \"\\n[class^='ag-charts-icon'] {\\n    display: block;\\n    /* speak: none; */\\n    mask-size: contain;\\n    mask-repeat: no-repeat;\\n    background-color: currentColor;\\n}\\n\\n.ag-charts-icon-zoom-in {\\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+);\\n}\\n\\n.ag-charts-icon-zoom-out {\\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=);\\n}\\n\\n.ag-charts-icon-reset {\\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXJvdGF0ZS1jY3ciPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDEgMCA5LTkgOS43NSA5Ljc1IDAgMCAwLTYuNzQgMi43NEwzIDgiLz48cGF0aCBkPSJNMyAzdjVoNSIvPjwvc3ZnPg==);\\n}\\n\\n.ag-charts-icon-pan-left {\\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGVmdCI+PHBhdGggZD0ibTE1IDE4LTYtNiA2LTYiLz48L3N2Zz4=);\\n}\\n\\n.ag-charts-icon-pan-right {\\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tcmlnaHQiPjxwYXRoIGQ9Im05IDE4IDYtNi02LTYiLz48L3N2Zz4=);\\n}\\n\\n.ag-charts-icon-pan-start {\\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==);\\n}\\n\\n.ag-charts-icon-pan-end {\\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+);\\n}\\n\\n\";\n\n// packages/ag-charts-community/src/styles/reset.ts\nvar reset_default = \"\\n[class^='ag-charts'],\\n[class^='ag-charts']:focus,\\n[class^='ag-charts']:after,\\n[class^='ag-charts']:before {\\n    box-sizing: border-box;\\n    outline: none;\\n}\\n\\nbutton[class^='ag-charts'] {\\n    background: none;\\n    border: 0;\\n}\\n\\n\";\n\n// packages/ag-charts-community/src/styles/theme-default.ts\nvar theme_default_default = \"\\n.ag-charts-theme-default,\\n.ag-charts-theme-default-dark {\\n    /* Colors */\\n    --ag-charts-active-color: var(--ag-active-color, #2196f3);\\n    --ag-charts-background-color: var(--ag-background-color, #fff);\\n    --ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);\\n    --ag-charts-border-color: var(--ag-border-color, #dddddd);\\n\\n    /* Sizing */\\n    --ag-charts-font-size: var(--ag-font-size, 14px);\\n    --ag-charts-size: var(--ag-grid-size, 8px);\\n\\n    /* Borders */\\n    --ag-charts-border: var(--ag-borders, solid 1px);\\n    --ag-charts-border-critical: var(--ag-borders-critical, solid 1px);\\n\\n    /* Toolbar */\\n    --ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));\\n    --ag-charts-toolbar-background-color: var(\\n        --ag-header-background-color,\\n        color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%)\\n    );\\n    --ag-charts-toolbar-size: var(--ag-header-height, 48px);\\n    --ag-charts-toolbar-padding: calc(var(--ag-charts-size) * 2);\\n    --ag-charts-toolbar-border: var(--ag-charts-border, solid 1px) var(--ag-charts-border-color);\\n    --ag-charts-toolbar-border-critical: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);\\n    --ag-charts-toolbar-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);\\n    --ag-charts-toolbar-disabled-foreground-color: var(\\n        --ag-disabled-foreground-color,\\n        color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%)\\n    );\\n    --ag-charts-toolbar-disabled-background-color: var(\\n        --ag-input-disabled-background-color,\\n        color-mix(in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6%)\\n    );\\n    --ag-charts-toolbar-gap: var(--ag-charts-size);\\n\\n    /* Buttons */\\n    --ag-charts-button-padding: var(--ag-charts-size);\\n    --ag-charts-button-radius: var(--ag-border-radius, 4px);\\n\\n    /* Focus Indicator */\\n    --ag-charts-focus-border: solid 2px var(--ag-input-focus-border-color, var(--ag-charts-active-color));\\n    --ag-charts-focus-border-shadow: var(--ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-focus-border) 47%));\\n\\n    /* Icons */\\n    --ag-charts-icon-font-family: 'agChartsDefault';\\n    --ag-charts-icon-font-weight: normal;\\n    --ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);\\n}\\n\\n\";\n\n// packages/ag-charts-community/src/styles/theme-default-dark.ts\nvar theme_default_dark_default = \"\\n.ag-charts-theme-default-dark {\\n    /* Colors */\\n    --ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));\\n    --ag-charts-foreground-color: var(--ag-foreground-color, #fff);\\n    --ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, 0.16));\\n    --ag-charts-hover-color: var(\\n        --ag-row-hover-color,\\n        color-mix(in srgb, transparent, var(--ag-charts-active-color) 20%)\\n    );\\n\\n    /* Toolbar */\\n    --ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));\\n}\\n\\n\";\n\n// packages/ag-charts-community/src/styles/styles.ts\nvar styles_default = \"\\n/* Reset */\\n\".concat(reset_default, \"\\n\\n/* Icons */\\n\").concat(icons_default, \"\\n\\n/* AG Charts Theme Default */\\n\").concat(theme_default_default, \"\\n\\n/* AG Charts Theme Default Dark */\\n\").concat(theme_default_dark_default, \"\\n\");\n\n// packages/ag-charts-community/src/util/async.ts\nfunction sleep(sleepTimeoutMs) {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(void 0), sleepTimeoutMs);\n  });\n}\n\n// packages/ag-charts-community/src/util/mutex.ts\nvar Mutex = class {\n  constructor() {\n    this.available = true;\n    this.acquireQueue = [];\n  }\n  acquire(cb) {\n    return new Promise(resolve => {\n      this.acquireQueue.push([cb, resolve]);\n      if (this.available) {\n        this.dispatchNext().catch(e => Logger.errorOnce(e));\n      }\n    });\n  }\n  acquireImmediately(cb) {\n    return __async(this, null, function* () {\n      if (!this.available) {\n        return false;\n      }\n      yield this.acquire(cb);\n      return true;\n    });\n  }\n  waitForClearAcquireQueue() {\n    return __async(this, null, function* () {\n      return this.acquire(() => __async(this, null, function* () {\n        return void 0;\n      }));\n    });\n  }\n  dispatchNext() {\n    return __async(this, null, function* () {\n      var _a, _b;\n      this.available = false;\n      let [next, done] = (_a = this.acquireQueue.shift()) != null ? _a : [];\n      while (next) {\n        try {\n          yield next();\n          done == null ? void 0 : done();\n        } catch (error) {\n          Logger.error(\"mutex callback error\", error);\n          done == null ? void 0 : done();\n        }\n        [next, done] = (_b = this.acquireQueue.shift()) != null ? _b : [];\n      }\n      this.available = true;\n    });\n  }\n};\n\n// packages/ag-charts-community/src/util/observable.ts\nvar Observable = class {\n  constructor() {\n    this.eventListeners = /* @__PURE__ */new Map();\n  }\n  addEventListener(eventType, listener) {\n    if (typeof listener !== \"function\") {\n      throw new Error(\"AG Charts - listener must be a Function\");\n    }\n    const eventTypeListeners = this.eventListeners.get(eventType);\n    if (eventTypeListeners) {\n      eventTypeListeners.add(listener);\n    } else {\n      this.eventListeners.set(eventType, /* @__PURE__ */new Set([listener]));\n    }\n  }\n  removeEventListener(type, listener) {\n    var _a;\n    (_a = this.eventListeners.get(type)) == null ? void 0 : _a.delete(listener);\n    if (this.eventListeners.size === 0) {\n      this.eventListeners.delete(type);\n    }\n  }\n  hasEventListener(type) {\n    return this.eventListeners.has(type);\n  }\n  clearEventListeners() {\n    this.eventListeners.clear();\n  }\n  fireEvent(event) {\n    var _a;\n    (_a = this.eventListeners.get(event.type)) == null ? void 0 : _a.forEach(listener => listener(event));\n  }\n};\n\n// packages/ag-charts-community/src/util/padding.ts\nvar Padding = class extends BaseProperties {\n  constructor() {\n    let top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let right = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : top;\n    let bottom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : top;\n    let left = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : right;\n    super();\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n  clear() {\n    this.top = this.right = this.bottom = this.left = 0;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER)], Padding.prototype, \"top\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Padding.prototype, \"right\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Padding.prototype, \"bottom\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Padding.prototype, \"left\", 2);\n\n// packages/ag-charts-community/src/util/render.ts\nfunction debouncedAnimationFrame(cb) {\n  return buildScheduler((innerCb, _delayMs) => requestAnimationFrame(innerCb), cb);\n}\nfunction debouncedCallback(cb) {\n  return buildScheduler(function (innerCb) {\n    let delayMs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return setTimeout(innerCb, delayMs);\n  }, cb);\n}\nfunction buildScheduler(scheduleFn, cb) {\n  let scheduleCount = 0;\n  let promiseRunning = false;\n  let awaitingPromise;\n  let awaitingDone;\n  const busy = () => {\n    return promiseRunning;\n  };\n  const done = () => {\n    promiseRunning = false;\n    awaitingDone == null ? void 0 : awaitingDone();\n    awaitingDone = void 0;\n    awaitingPromise = void 0;\n    if (scheduleCount > 0) {\n      scheduleFn(scheduleCb);\n    }\n  };\n  const scheduleCb = () => {\n    const count = scheduleCount;\n    scheduleCount = 0;\n    promiseRunning = true;\n    const maybePromise = cb({\n      count\n    });\n    if (!maybePromise) {\n      done();\n      return;\n    }\n    maybePromise.then(done, done);\n  };\n  return {\n    schedule(delayMs) {\n      if (scheduleCount === 0 && !busy()) {\n        scheduleFn(scheduleCb, delayMs);\n      }\n      scheduleCount++;\n    },\n    await() {\n      return __async(this, null, function* () {\n        if (!busy()) {\n          return;\n        }\n        if (awaitingPromise == null) {\n          awaitingPromise = new Promise(resolve => {\n            awaitingDone = resolve;\n          });\n        }\n        while (busy()) {\n          yield awaitingPromise;\n        }\n      });\n    }\n  };\n}\n\n// packages/ag-charts-community/src/util/sizeMonitor.ts\nvar SizeMonitor = class {\n  constructor() {\n    this.elements = /* @__PURE__ */new Map();\n    this.documentReady = false;\n    this.queuedObserveRequests = [];\n    this.onLoad = () => {\n      this.documentReady = true;\n      this.queuedObserveRequests.forEach(_ref47 => {\n        let [el, cb] = _ref47;\n        return this.observe(el, cb);\n      });\n      this.queuedObserveRequests = [];\n    };\n    var _a;\n    if (typeof ResizeObserver === \"undefined\") return;\n    this.resizeObserver = new ResizeObserver(entries => {\n      for (const {\n        target,\n        contentRect\n      } of entries) {\n        const {\n          width,\n          height\n        } = contentRect;\n        this.checkSize(this.elements.get(target), target, width, height);\n      }\n    });\n    this.documentReady = getDocument(\"readyState\") === \"complete\";\n    if (!this.documentReady) {\n      (_a = getWindow()) == null ? void 0 : _a.addEventListener(\"load\", this.onLoad);\n    }\n  }\n  destroy() {\n    var _a, _b;\n    (_a = getWindow()) == null ? void 0 : _a.removeEventListener(\"load\", this.onLoad);\n    (_b = this.resizeObserver) == null ? void 0 : _b.disconnect();\n    this.resizeObserver = null;\n  }\n  checkSize(entry, element2, width, height) {\n    var _a, _b;\n    if (!entry) return;\n    if (width !== ((_a = entry.size) == null ? void 0 : _a.width) || height !== ((_b = entry.size) == null ? void 0 : _b.height)) {\n      entry.size = {\n        width,\n        height\n      };\n      entry.cb(entry.size, element2);\n    }\n  }\n  // Only a single callback is supported.\n  observe(element2, cb) {\n    var _a;\n    if (!this.documentReady) {\n      this.queuedObserveRequests.push([element2, cb]);\n      return;\n    }\n    if (this.elements.has(element2)) {\n      this.removeFromQueue(element2);\n    } else {\n      (_a = this.resizeObserver) == null ? void 0 : _a.observe(element2);\n    }\n    this.elements.set(element2, {\n      cb\n    });\n  }\n  unobserve(element2) {\n    var _a;\n    (_a = this.resizeObserver) == null ? void 0 : _a.unobserve(element2);\n    this.elements.delete(element2);\n    this.removeFromQueue(element2);\n    if (!this.elements.size) {\n      this.destroy();\n    }\n  }\n  removeFromQueue(element2) {\n    this.queuedObserveRequests = this.queuedObserveRequests.filter(_ref48 => {\n      let [el] = _ref48;\n      return el !== element2;\n    });\n  }\n};\n\n// packages/ag-charts-community/src/util/callbackCache.ts\nvar CallbackCache = class {\n  constructor() {\n    this.cache = /* @__PURE__ */new WeakMap();\n  }\n  call(fn) {\n    for (var _len22 = arguments.length, params = new Array(_len22 > 1 ? _len22 - 1 : 0), _key22 = 1; _key22 < _len22; _key22++) {\n      params[_key22 - 1] = arguments[_key22];\n    }\n    let serialisedParams;\n    let paramCache = this.cache.get(fn);\n    const invoke = () => {\n      try {\n        const result = fn(...params);\n        if (paramCache && serialisedParams != null) {\n          paramCache.set(serialisedParams, result);\n        }\n        return result;\n      } catch (e) {\n        Logger.warnOnce(\"User callback errored, ignoring\", e);\n        return;\n      }\n    };\n    try {\n      serialisedParams = JSON.stringify(params);\n    } catch (e) {\n      return invoke();\n    }\n    if (paramCache == null) {\n      paramCache = /* @__PURE__ */new Map();\n      this.cache.set(fn, paramCache);\n    }\n    if (!paramCache.has(serialisedParams)) {\n      return invoke();\n    }\n    return paramCache.get(serialisedParams);\n  }\n  invalidateCache() {\n    this.cache = /* @__PURE__ */new WeakMap();\n  }\n};\n\n// packages/ag-charts-community/src/chart/annotation/annotationManager.ts\nvar AnnotationManager = class {\n  constructor(annotationRoot) {\n    this.annotationRoot = annotationRoot;\n  }\n  attachNode(node) {\n    this.annotationRoot.append(node);\n    return () => {\n      var _a;\n      (_a = this.annotationRoot) == null ? void 0 : _a.removeChild(node);\n      return this;\n    };\n  }\n  setAnnotationStyles(styles) {\n    this.styles = styles;\n  }\n  getAnnotationTypeStyles(type) {\n    var _a;\n    return (_a = this.styles) == null ? void 0 : _a[type];\n  }\n};\n\n// packages/ag-charts-community/src/util/listeners.ts\nvar Listeners = class {\n  constructor() {\n    this.registeredListeners = /* @__PURE__ */new Map();\n  }\n  addListener(eventType, handler) {\n    const record = {\n      symbol: Symbol(eventType),\n      handler\n    };\n    if (this.registeredListeners.has(eventType)) {\n      this.registeredListeners.get(eventType).push(record);\n    } else {\n      this.registeredListeners.set(eventType, [record]);\n    }\n    return () => this.removeListener(record.symbol);\n  }\n  removeListener(eventSymbol) {\n    for (const [type, listeners] of this.registeredListeners.entries()) {\n      const matchIndex = listeners.findIndex(listener => listener.symbol === eventSymbol);\n      if (matchIndex >= 0) {\n        listeners.splice(matchIndex, 1);\n        if (listeners.length === 0) {\n          this.registeredListeners.delete(type);\n        }\n        break;\n      }\n    }\n  }\n  dispatch(eventType) {\n    for (var _len23 = arguments.length, params = new Array(_len23 > 1 ? _len23 - 1 : 0), _key23 = 1; _key23 < _len23; _key23++) {\n      params[_key23 - 1] = arguments[_key23];\n    }\n    for (const listener of this.getListenersByType(eventType)) {\n      try {\n        listener.handler(...params);\n      } catch (e) {\n        Logger.errorOnce(e);\n      }\n    }\n  }\n  dispatchWrapHandlers(eventType, wrapFn) {\n    for (var _len24 = arguments.length, params = new Array(_len24 > 2 ? _len24 - 2 : 0), _key24 = 2; _key24 < _len24; _key24++) {\n      params[_key24 - 2] = arguments[_key24];\n    }\n    for (const listener of this.getListenersByType(eventType)) {\n      try {\n        wrapFn(listener.handler, ...params);\n      } catch (e) {\n        Logger.errorOnce(e);\n      }\n    }\n  }\n  getListenersByType(eventType) {\n    var _a;\n    return (_a = this.registeredListeners.get(eventType)) != null ? _a : [];\n  }\n  destroy() {\n    this.registeredListeners.clear();\n  }\n};\n\n// packages/ag-charts-community/src/chart/data/dataService.ts\nvar DataService = class extends Listeners {\n  constructor(animationManager) {\n    super();\n    this.animationManager = animationManager;\n    this.dispatchOnlyLatest = true;\n    this.dispatchThrottle = 0;\n    this.requestThrottle = 300;\n    this.isLoadingInitialData = false;\n    this.isLoadingData = false;\n    this.freshRequests = [];\n    this.requestCounter = 0;\n    this.debug = Debug.create(true, \"data-model\", \"data-source\");\n    this.throttledFetch = this.createThrottledFetch(this.requestThrottle);\n    this.throttledDispatch = this.createThrottledDispatch(this.dispatchThrottle);\n  }\n  updateCallback(dataSourceCallback) {\n    if (typeof dataSourceCallback !== \"function\") return;\n    this.debug(\"DataService - updated data source callback\");\n    this.dataSourceCallback = dataSourceCallback;\n    this.isLoadingInitialData = true;\n    this.animationManager.skip();\n    this.dispatch(\"data-source-change\");\n  }\n  clearCallback() {\n    this.dataSourceCallback = void 0;\n  }\n  load(params) {\n    this.isLoadingData = true;\n    this.throttledFetch(params);\n  }\n  isLazy() {\n    return this.dataSourceCallback != null;\n  }\n  isLoading() {\n    return this.isLazy() && (this.isLoadingInitialData || this.isLoadingData);\n  }\n  createThrottledFetch(requestThrottle) {\n    return throttle(params => this.fetch(params), requestThrottle, {\n      leading: false,\n      trailing: true\n    });\n  }\n  createThrottledDispatch(dispatchThrottle) {\n    return throttle((id, data) => {\n      this.debug(\"DataService - dispatching 'data-load' | \".concat(id));\n      this.dispatch(\"data-load\", {\n        type: \"data-load\",\n        data\n      });\n    }, dispatchThrottle, {\n      leading: true,\n      trailing: true\n    });\n  }\n  fetch(params) {\n    return __async(this, null, function* () {\n      if (!this.dataSourceCallback) {\n        throw new Error(\"DataService - [dataSource.getData] callback not initialised\");\n      }\n      const start = performance.now();\n      const id = this.requestCounter++;\n      this.debug(\"DataService - requesting | \".concat(id));\n      this.freshRequests.push(id);\n      let response;\n      try {\n        response = yield this.dataSourceCallback(params);\n        this.debug(\"DataService - response | \".concat(performance.now() - start, \"ms | \").concat(id));\n      } catch (error) {\n        this.debug(\"DataService - request failed | \".concat(id));\n        Logger.errorOnce(\"DataService - request failed | [\".concat(error, \"]\"));\n      }\n      this.isLoadingInitialData = false;\n      const requestIndex = this.freshRequests.findIndex(rid => rid === id);\n      if (requestIndex === -1 || this.dispatchOnlyLatest && requestIndex !== this.freshRequests.length - 1) {\n        this.debug(\"DataService - discarding stale request | \".concat(id));\n        return;\n      }\n      this.freshRequests = this.freshRequests.slice(requestIndex + 1);\n      if (this.freshRequests.length === 0) {\n        this.isLoadingData = false;\n      }\n      if (Array.isArray(response)) {\n        this.throttledDispatch(id, response);\n      } else {\n        this.dispatch(\"data-error\");\n      }\n    });\n  }\n};\n__decorateClass([ActionOnSet({\n  newValue(dispatchThrottle) {\n    this.throttledDispatch = this.createThrottledDispatch(dispatchThrottle);\n  }\n})], DataService.prototype, \"dispatchThrottle\", 2);\n__decorateClass([ActionOnSet({\n  newValue(requestThrottle) {\n    this.throttledFetch = this.createThrottledFetch(requestThrottle);\n  }\n})], DataService.prototype, \"requestThrottle\", 2);\n\n// packages/ag-charts-community/src/chart/interaction/animationBatch.ts\nvar AnimationBatch = class {\n  constructor(maxAnimationTime) {\n    this.maxAnimationTime = maxAnimationTime;\n    this.debug = Debug.create(true, \"animation\");\n    this.controllers = /* @__PURE__ */new Map();\n    this.stoppedCbs = /* @__PURE__ */new Set();\n    this.currentPhase = 0;\n    this.phases = new Map(PHASE_ORDER.map(p => [p, []]));\n    this.skipAnimations = false;\n    this.animationTimeConsumed = 0;\n    /** Guard against premature animation execution. */\n    this.isReady = false;\n  }\n  get size() {\n    return this.controllers.size;\n  }\n  get consumedTimeMs() {\n    return this.animationTimeConsumed;\n  }\n  isActive() {\n    return this.controllers.size > 0;\n  }\n  getActiveControllers() {\n    var _a;\n    return (_a = this.phases.get(PHASE_ORDER[this.currentPhase])) != null ? _a : [];\n  }\n  checkOverlappingId(id) {\n    if (id != null && this.controllers.has(id)) {\n      this.controllers.get(id).stop();\n      this.debug(\"Skipping animation batch due to update of existing animation: \".concat(id));\n      this.skip();\n    }\n  }\n  addAnimation(animation) {\n    var _a;\n    if (animation.isComplete) return;\n    const animationPhaseIdx = PHASE_ORDER.indexOf(animation.phase);\n    if (animationPhaseIdx < this.currentPhase) {\n      this.debug(\"Skipping animation due to being for an earlier phase\", animation.id);\n      animation.stop();\n      return;\n    }\n    this.controllers.set(animation.id, animation);\n    (_a = this.phases.get(animation.phase)) == null ? void 0 : _a.push(animation);\n  }\n  removeAnimation(animation) {\n    this.controllers.delete(animation.id);\n    const phase = this.phases.get(animation.phase);\n    const index = phase == null ? void 0 : phase.indexOf(animation);\n    if (index != null && index >= 0) {\n      phase == null ? void 0 : phase.splice(index, 1);\n    }\n  }\n  progress(deltaTime) {\n    if (!this.isReady) return;\n    let unusedTime = deltaTime === 0 ? 0.01 : deltaTime;\n    const refresh = () => {\n      const phase2 = PHASE_ORDER[this.currentPhase];\n      return {\n        phaseControllers: [...this.getActiveControllers()],\n        phase: phase2,\n        phaseMeta: PHASE_METADATA[phase2]\n      };\n    };\n    let {\n      phase,\n      phaseControllers,\n      phaseMeta\n    } = refresh();\n    const arePhasesComplete = () => PHASE_ORDER[this.currentPhase] == null;\n    const progressPhase = () => {\n      ({\n        phase,\n        phaseControllers,\n        phaseMeta\n      } = refresh());\n      while (!arePhasesComplete() && phaseControllers.length === 0) {\n        this.currentPhase++;\n        ({\n          phase,\n          phaseControllers,\n          phaseMeta\n        } = refresh());\n        this.debug(\"AnimationBatch - phase changing to \".concat(phase), {\n          unusedTime\n        }, phaseControllers);\n      }\n    };\n    const total = this.controllers.size;\n    this.debug(\"AnimationBatch - \".concat(deltaTime, \"ms; phase \").concat(phase, \" with \").concat(phaseControllers == null ? void 0 : phaseControllers.length, \" of \").concat(total));\n    do {\n      const phaseDeltaTime = unusedTime;\n      const skipPhase = phaseMeta.skipIfNoEarlierAnimations && this.animationTimeConsumed === 0;\n      let completeCount = 0;\n      for (const controller of phaseControllers) {\n        if (skipPhase) {\n          controller.stop();\n        } else {\n          unusedTime = Math.min(controller.update(phaseDeltaTime), unusedTime);\n        }\n        if (controller.isComplete) {\n          completeCount++;\n          this.removeAnimation(controller);\n        }\n      }\n      this.animationTimeConsumed += phaseDeltaTime - unusedTime;\n      this.debug(\"AnimationBatch - updated \".concat(phaseControllers.length, \" controllers; \").concat(completeCount, \" completed\"));\n      this.debug(\"AnimationBatch - animationTimeConsumed: \".concat(this.animationTimeConsumed));\n      progressPhase();\n    } while (unusedTime > 0 && !arePhasesComplete());\n    if (this.animationTimeConsumed > this.maxAnimationTime) {\n      Logger.warnOnce(\"Animation batch exceeded max animation time, skipping.\", new Map(this.controllers.entries()));\n      this.stop();\n    }\n  }\n  ready() {\n    if (this.isReady) return;\n    this.isReady = true;\n    this.debug(\"AnimationBatch - ready; skipped: \".concat(this.skipAnimations), [...this.controllers]);\n    let skipAll = true;\n    for (const [, controller] of this.controllers) {\n      if (controller.duration > 0 && PHASE_METADATA[controller.phase].skipIfNoEarlierAnimations !== true) {\n        skipAll = false;\n        break;\n      }\n    }\n    if (!skipAll) {\n      for (const [, controller] of this.controllers) {\n        if (controller.autoplay) {\n          controller.play(true);\n        }\n      }\n    }\n  }\n  skip() {\n    let skip = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    if (this.skipAnimations === false && skip === true) {\n      for (const controller of this.controllers.values()) {\n        controller.stop();\n      }\n      this.controllers.clear();\n    }\n    this.skipAnimations = skip;\n  }\n  play() {\n    for (const controller of this.controllers.values()) {\n      controller.play();\n    }\n  }\n  pause() {\n    for (const controller of this.controllers.values()) {\n      controller.pause();\n    }\n  }\n  stop() {\n    for (const controller of this.controllers.values()) {\n      try {\n        controller.stop();\n        this.removeAnimation(controller);\n      } catch (error) {\n        Logger.error(\"Error during animation stop\", error);\n      }\n    }\n    this.dispatchStopped();\n  }\n  stopByAnimationId(id) {\n    if (id != null && this.controllers.has(id)) {\n      const controller = this.controllers.get(id);\n      if (controller) {\n        controller.stop();\n        this.removeAnimation(controller);\n      }\n    }\n  }\n  stopByAnimationGroupId(id) {\n    for (const controller of this.controllers.values()) {\n      if (controller.groupId === id) {\n        this.stopByAnimationId(controller.id);\n      }\n    }\n  }\n  dispatchStopped() {\n    this.stoppedCbs.forEach(cb => cb());\n    this.stoppedCbs.clear();\n  }\n  isSkipped() {\n    return this.skipAnimations;\n  }\n  destroy() {\n    this.stop();\n    this.controllers.clear();\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/baseManager.ts\nvar BaseManager = class {\n  constructor() {\n    this.listeners = new Listeners();\n    this.destroyFns = [];\n  }\n  addListener(type, handler) {\n    return this.listeners.addListener(type, handler);\n  }\n  removeListener(listenerSymbol) {\n    this.listeners.removeListener(listenerSymbol);\n  }\n  destroy() {\n    this.listeners.destroy();\n    this.destroyFns.forEach(fn => fn());\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/consumableEvent.ts\nfunction buildConsumable(obj) {\n  const builtEvent = __spreadProps(__spreadValues({}, obj), {\n    consumed: false,\n    consume() {\n      var _a, _b;\n      builtEvent.consumed = true;\n      if (obj.sourceEvent instanceof Event) {\n        (_a = obj.sourceEvent) == null ? void 0 : _a.preventDefault();\n      } else {\n        (_b = obj.sourceEvent) == null ? void 0 : _b.consume();\n      }\n    }\n  });\n  return builtEvent;\n}\nfunction buildConsumptionHandler() {\n  return (handler, e) => {\n    if (!e.consumed) {\n      handler(e);\n    }\n  };\n}\nfunction dispatchTypedConsumable(listeners, type, event) {\n  listeners.dispatchWrapHandlers(type, buildConsumptionHandler(), event);\n}\n\n// packages/ag-charts-community/src/chart/interaction/interactionManager.ts\nvar POINTER_INTERACTION_TYPES = [\"click\", \"dblclick\", \"contextmenu\", \"hover\", \"drag-start\", \"drag\", \"drag-end\", \"leave\", \"enter\", \"page-left\", \"wheel\"];\nvar FOCUS_INTERACTION_TYPES = [\"blur\", \"focus\"];\nvar KEY_INTERACTION_TYPES = [\"keydown\", \"keyup\"];\nvar WINDOW_EVENT_HANDLERS = [\"pagehide\", \"mousemove\", \"mouseup\"];\nvar EVENT_HANDLERS = [\"click\", \"dblclick\", \"contextmenu\", \"mousedown\", \"mouseout\", \"mouseenter\", \"touchstart\", \"touchmove\", \"touchend\", \"touchcancel\", \"wheel\", \"blur\", \"focus\", \"keydown\", \"keyup\"];\nvar CSS = \"\\n.ag-chart-wrapper {\\n    touch-action: none;\\n}\\n\";\nvar InteractionState = /* @__PURE__ */(InteractionState2 => {\n  InteractionState2[InteractionState2[\"Default\"] = 16] = \"Default\";\n  InteractionState2[InteractionState2[\"ZoomDrag\"] = 8] = \"ZoomDrag\";\n  InteractionState2[InteractionState2[\"Annotations\"] = 4] = \"Annotations\";\n  InteractionState2[InteractionState2[\"ContextMenu\"] = 2] = \"ContextMenu\";\n  InteractionState2[InteractionState2[\"Animation\"] = 1] = \"Animation\";\n  InteractionState2[InteractionState2[\"All\"] = 31] = \"All\";\n  return InteractionState2;\n})(InteractionState || {});\nvar _InteractionManager = class _InteractionManager extends BaseManager {\n  constructor(keyboardOptions, element2) {\n    super();\n    this.keyboardOptions = keyboardOptions;\n    this.debug = Debug.create(true, \"interaction\");\n    this.eventHandler = event => this.processEvent(event);\n    this.mouseDown = false;\n    this.touchDown = false;\n    this.clickHistory = [{\n      offsetX: NaN,\n      offsetY: NaN,\n      type: \"mousedown\"\n    }];\n    this.dblclickHistory = [{\n      offsetX: NaN,\n      offsetY: NaN,\n      type: \"mousedown\"\n    }, {\n      offsetX: NaN,\n      offsetY: NaN,\n      type: \"mouseup\"\n    }, {\n      offsetX: NaN,\n      offsetY: NaN,\n      type: \"mousedown\"\n    }];\n    this.stateQueue = 16 /* Default */ | 1 /* Animation */;\n    this.rootElement = getDocument(\"body\");\n    this.element = element2;\n    for (const type of EVENT_HANDLERS) {\n      if (type.startsWith(\"touch\")) {\n        element2.addEventListener(type, this.eventHandler, {\n          passive: true\n        });\n      } else if (type === \"wheel\") {\n        element2.addEventListener(type, this.eventHandler, {\n          passive: false\n        });\n      } else {\n        element2.addEventListener(type, this.eventHandler);\n      }\n    }\n    for (const type of WINDOW_EVENT_HANDLERS) {\n      getWindow().addEventListener(type, this.eventHandler);\n    }\n    injectStyle(CSS, \"interactionManager\");\n  }\n  destroy() {\n    super.destroy();\n    for (const type of WINDOW_EVENT_HANDLERS) {\n      getWindow().removeEventListener(type, this.eventHandler);\n    }\n    for (const type of EVENT_HANDLERS) {\n      this.element.removeEventListener(type, this.eventHandler);\n    }\n  }\n  // Wrapper to only broadcast events when the InteractionManager is a given state.\n  addListener(type, handler) {\n    let triggeringStates = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 16;\n    return super.addListener(type, e => {\n      const currentState = this.getState();\n      if (currentState & triggeringStates) {\n        handler(e);\n      }\n    });\n  }\n  pushState(state) {\n    this.stateQueue |= state;\n  }\n  popState(state) {\n    this.stateQueue &= ~state;\n  }\n  getState() {\n    return this.stateQueue & -this.stateQueue;\n  }\n  processEvent(event) {\n    const types = this.decideInteractionEventTypes(event);\n    if (types.length > 0) {\n      this.dispatchEvent(event, types).catch(e => Logger.errorOnce(e));\n    }\n  }\n  dispatchEvent(event, types) {\n    return __async(this, null, function* () {\n      if (allInStringUnion(POINTER_INTERACTION_TYPES, types)) {\n        this.dispatchPointerEvent(event, types);\n      } else if (allInStringUnion(FOCUS_INTERACTION_TYPES, types)) {\n        for (const type of types) {\n          dispatchTypedConsumable(this.listeners, type, buildConsumable({\n            type,\n            sourceEvent: event\n          }));\n        }\n      } else if (allInStringUnion(KEY_INTERACTION_TYPES, types)) {\n        for (const type of types) {\n          dispatchTypedConsumable(this.listeners, type, buildConsumable({\n            type,\n            sourceEvent: event\n          }));\n        }\n      }\n    });\n  }\n  dispatchPointerEvent(event, types) {\n    const coords = this.calculateCoordinates(event);\n    if (coords == null) {\n      return;\n    }\n    for (const type of types) {\n      dispatchTypedConsumable(this.listeners, type, this.buildPointerEvent(__spreadValues({\n        type,\n        event\n      }, coords)));\n    }\n  }\n  recordDown(event) {\n    if (event instanceof MouseEvent) {\n      partialAssign([\"offsetX\", \"offsetY\"], this.clickHistory[0], event);\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[2], this.dblclickHistory[0]);\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[0], event);\n    }\n    this.dragStartElement = event.target;\n  }\n  recordUp(event) {\n    if (event instanceof MouseEvent) {\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[1], event);\n    }\n    this.dragStartElement = void 0;\n  }\n  decideInteractionEventTypes(event) {\n    const dragStart = \"drag-start\";\n    switch (event.type) {\n      case \"blur\":\n      case \"focus\":\n      case \"keydown\":\n      case \"keyup\":\n        return this.keyboardOptions.enabled ? [event.type] : [];\n      case \"click\":\n      case \"dblclick\":\n      case \"contextmenu\":\n      case \"wheel\":\n        return [event.type];\n      case \"mousedown\":\n        if (!this.isEventOverElement(event)) {\n          return [];\n        }\n        this.mouseDown = true;\n        this.recordDown(event);\n        return [dragStart];\n      case \"touchstart\":\n        if (!this.isEventOverElement(event)) {\n          return [];\n        }\n        this.touchDown = true;\n        this.recordDown(event);\n        return [dragStart];\n      case \"touchmove\":\n      case \"mousemove\":\n        if (!this.mouseDown && !this.touchDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        return this.mouseDown || this.touchDown ? [\"drag\"] : [\"hover\"];\n      case \"mouseup\":\n        if (!this.mouseDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        this.mouseDown = false;\n        this.recordUp(event);\n        return [\"drag-end\"];\n      case \"touchend\":\n        if (!this.touchDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        this.touchDown = false;\n        this.recordUp(event);\n        return [\"drag-end\"];\n      case \"mouseout\":\n      case \"touchcancel\":\n        return [\"leave\"];\n      case \"mouseenter\":\n        const mouseButtonDown = event instanceof MouseEvent && (event.buttons & 1) === 1;\n        if (this.mouseDown !== mouseButtonDown) {\n          this.mouseDown = mouseButtonDown;\n          return [mouseButtonDown ? dragStart : \"drag-end\"];\n        }\n        return [\"enter\"];\n      case \"pagehide\":\n        return [\"page-left\"];\n    }\n    return [];\n  }\n  isEventOverElement(event) {\n    var _a, _b, _c;\n    return event.target === this.element || ((_a = event.target) == null ? void 0 : _a.parentElement) === this.element || ((_c = (_b = event.target) == null ? void 0 : _b.parentElement) == null ? void 0 : _c.parentElement) === this.element;\n  }\n  calculateCoordinates(event) {\n    var _a;\n    if (event instanceof MouseEvent) {\n      return this.getMouseEventCoords(event);\n    } else if (typeof TouchEvent !== \"undefined\" && event instanceof TouchEvent) {\n      const lastTouch = (_a = event.touches[0]) != null ? _a : event.changedTouches[0];\n      const {\n        clientX,\n        clientY,\n        pageX,\n        pageY\n      } = lastTouch;\n      return __spreadProps(__spreadValues({}, _InteractionManager.NULL_COORDS), {\n        clientX,\n        clientY,\n        pageX,\n        pageY\n      });\n    } else if (event instanceof PageTransitionEvent) {\n      if (event.persisted) {\n        return;\n      }\n      return _InteractionManager.NULL_COORDS;\n    }\n  }\n  getMouseEventCoords(event) {\n    const {\n      clientX,\n      clientY,\n      pageX,\n      pageY\n    } = event;\n    let {\n      offsetX,\n      offsetY\n    } = event;\n    const offsets = el => {\n      let x = 0;\n      let y = 0;\n      while (el) {\n        x += el.offsetLeft;\n        y += el.offsetTop;\n        el = el.offsetParent;\n      }\n      return {\n        x,\n        y\n      };\n    };\n    if (this.dragStartElement != null && event.target !== this.dragStartElement) {\n      const offsetDragStart = offsets(this.dragStartElement);\n      const offsetEvent = offsets(event.target);\n      offsetX -= offsetDragStart.x - offsetEvent.x;\n      offsetY -= offsetDragStart.y - offsetEvent.y;\n    }\n    return {\n      clientX,\n      clientY,\n      pageX,\n      pageY,\n      offsetX,\n      offsetY\n    };\n  }\n  isWheelEvent(event) {\n    return event.type === \"wheel\";\n  }\n  buildPointerEvent(opts) {\n    const {\n      type,\n      event,\n      clientX,\n      clientY\n    } = opts;\n    let {\n      offsetX,\n      offsetY,\n      pageX,\n      pageY\n    } = opts;\n    if (!isFiniteNumber(offsetX) || !isFiniteNumber(offsetY)) {\n      const rect = this.element.getBoundingClientRect();\n      offsetX = clientX - rect.left;\n      offsetY = clientY - rect.top;\n    }\n    if (!isFiniteNumber(pageX) || !isFiniteNumber(pageY)) {\n      const pageRect = this.rootElement.getBoundingClientRect();\n      pageX = clientX - pageRect.left;\n      pageY = clientY - pageRect.top;\n    }\n    let [deltaX, deltaY] = [NaN, NaN];\n    if (this.isWheelEvent(event)) {\n      const factor = event.deltaMode === 0 ? 0.01 : 1;\n      deltaX = event.deltaX * factor;\n      deltaY = event.deltaY * factor;\n    }\n    let pointerHistory = [];\n    if (event.type === \"click\") {\n      pointerHistory = this.clickHistory;\n    } else if (event.type === \"dblclick\") {\n      pointerHistory = this.dblclickHistory;\n    }\n    const builtEvent = buildConsumable({\n      type,\n      offsetX,\n      offsetY,\n      pageX,\n      pageY,\n      deltaX,\n      deltaY,\n      pointerHistory,\n      sourceEvent: event\n    });\n    this.debug(\"InteractionManager - builtEvent: \", builtEvent);\n    return builtEvent;\n  }\n};\n_InteractionManager.NULL_COORDS = {\n  clientX: -Infinity,\n  clientY: -Infinity,\n  pageX: -Infinity,\n  pageY: -Infinity,\n  offsetX: -Infinity,\n  offsetY: -Infinity\n};\nvar InteractionManager = _InteractionManager;\n\n// packages/ag-charts-community/src/chart/interaction/animationManager.ts\nfunction validAnimationDuration(testee) {\n  if (testee == null) return true;\n  return !isNaN(testee) && testee >= 0 && testee <= 2;\n}\nvar AnimationManager = class extends BaseManager {\n  constructor(interactionManager, chartUpdateMutex) {\n    super();\n    this.interactionManager = interactionManager;\n    this.chartUpdateMutex = chartUpdateMutex;\n    this.defaultDuration = 1e3;\n    this.batch = new AnimationBatch(this.defaultDuration * 1.5);\n    this.debug = Debug.create(true, \"animation\");\n    this.rafAvailable = typeof requestAnimationFrame !== \"undefined\";\n    this.isPlaying = false;\n    this.requestId = null;\n    this.skipAnimations = false;\n  }\n  /**\n   * Create an animation to tween a value between the `from` and `to` properties. If an animation already exists\n   * with the same `id`, immediately stop it.\n   */\n  animate(_a) {\n    var opts = __objRest(_a, []);\n    var _a2;\n    const batch = this.batch;\n    try {\n      batch.checkOverlappingId(opts.id);\n    } catch (error) {\n      this.failsafeOnError(error);\n      return;\n    }\n    const id = (_a2 = opts.id) != null ? _a2 : Math.random().toString();\n    const skip = this.isSkipped() || opts.phase === \"none\";\n    if (skip) {\n      this.debug(\"AnimationManager - skipping animation\");\n    }\n    const {\n      delay,\n      duration\n    } = opts;\n    if (!validAnimationDuration(delay)) {\n      throw new Error(\"Animation delay of \".concat(delay, \" is unsupported (\").concat(id, \")\"));\n    }\n    if (!validAnimationDuration(duration)) {\n      throw new Error(\"Animation duration of \".concat(duration, \" is unsupported (\").concat(id, \")\"));\n    }\n    const animation = new Animation(__spreadProps(__spreadValues({}, opts), {\n      id,\n      skip,\n      autoplay: this.isPlaying ? opts.autoplay : false,\n      phase: opts.phase,\n      defaultDuration: this.defaultDuration\n    }));\n    if (this.forceTimeJump(animation, this.defaultDuration)) {\n      return;\n    }\n    this.batch.addAnimation(animation);\n    return animation;\n  }\n  play() {\n    if (this.isPlaying) {\n      return;\n    }\n    this.isPlaying = true;\n    this.debug(\"AnimationManager.play()\");\n    try {\n      this.batch.play();\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n    this.requestAnimation();\n  }\n  pause() {\n    if (!this.isPlaying) {\n      return;\n    }\n    this.isPlaying = false;\n    this.cancelAnimation();\n    this.debug(\"AnimationManager.pause()\");\n    try {\n      this.batch.pause();\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  stop() {\n    this.isPlaying = false;\n    this.cancelAnimation();\n    this.debug(\"AnimationManager.stop()\");\n    this.batch.stop();\n  }\n  stopByAnimationId(id) {\n    try {\n      this.batch.stopByAnimationId(id);\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  stopByAnimationGroupId(id) {\n    try {\n      this.batch.stopByAnimationGroupId(id);\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  reset() {\n    if (this.isPlaying) {\n      this.stop();\n      this.play();\n    } else {\n      this.stop();\n    }\n  }\n  skip() {\n    let skip = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    this.skipAnimations = skip;\n  }\n  isSkipped() {\n    return !this.rafAvailable || this.skipAnimations || this.batch.isSkipped();\n  }\n  isActive() {\n    return this.isPlaying && this.batch.isActive();\n  }\n  skipCurrentBatch() {\n    if (this.debug.check()) {\n      this.debug(\"AnimationManager - skipCurrentBatch()\", {\n        stack: new Error().stack\n      });\n    }\n    this.batch.skip();\n  }\n  /** Mocking point for tests to guarantee that animation updates happen. */\n  isSkippingFrames() {\n    return true;\n  }\n  /** Mocking point for tests to capture requestAnimationFrame callbacks. */\n  scheduleAnimationFrame(cb) {\n    this.requestId = requestAnimationFrame(cb);\n  }\n  /** Mocking point for tests to skip animations to a specific point in time. */\n  forceTimeJump(_animation, _defaultDuration) {\n    return false;\n  }\n  requestAnimation() {\n    if (!this.rafAvailable) return;\n    if (!this.batch.isActive() || this.requestId !== null) return;\n    let prevTime;\n    const onAnimationFrame = time2 => __async(this, null, function* () {\n      const executeAnimationFrame = () => __async(this, null, function* () {\n        const deltaTime = time2 - (prevTime != null ? prevTime : time2);\n        prevTime = time2;\n        this.debug(\"AnimationManager - onAnimationFrame()\", {\n          controllersCount: this.batch.size,\n          deltaTime\n        });\n        this.interactionManager.pushState(1 /* Animation */);\n        try {\n          this.batch.progress(deltaTime);\n        } catch (error) {\n          this.failsafeOnError(error);\n        }\n        this.listeners.dispatch(\"animation-frame\", {\n          type: \"animation-frame\",\n          deltaMs: deltaTime\n        });\n      });\n      if (this.isSkippingFrames()) {\n        yield this.chartUpdateMutex.acquireImmediately(executeAnimationFrame);\n      } else {\n        yield this.chartUpdateMutex.acquire(executeAnimationFrame);\n      }\n      if (this.batch.isActive()) {\n        this.scheduleAnimationFrame(onAnimationFrame);\n      } else {\n        this.batch.stop();\n        this.listeners.dispatch(\"animation-stop\", {\n          type: \"animation-stop\",\n          deltaMs: this.batch.consumedTimeMs\n        });\n      }\n    });\n    this.listeners.dispatch(\"animation-start\", {\n      type: \"animation-start\",\n      deltaMs: 0\n    });\n    this.scheduleAnimationFrame(onAnimationFrame);\n  }\n  cancelAnimation() {\n    if (this.requestId === null) return;\n    cancelAnimationFrame(this.requestId);\n    this.requestId = null;\n    this.startBatch();\n  }\n  failsafeOnError(error) {\n    let cancelAnimation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    Logger.error(\"Error during animation, skipping animations\", error);\n    if (cancelAnimation) {\n      this.cancelAnimation();\n    }\n  }\n  startBatch(skipAnimations) {\n    this.debug(\"AnimationManager - startBatch() with skipAnimations=\".concat(skipAnimations, \".\"));\n    this.reset();\n    this.batch.stop();\n    this.batch.destroy();\n    this.batch = new AnimationBatch(this.defaultDuration * 1.5);\n    if (skipAnimations === true) {\n      this.batch.skip();\n    }\n  }\n  endBatch() {\n    if (this.batch.isActive()) {\n      this.batch.ready();\n      this.requestAnimation();\n    } else {\n      this.interactionManager.popState(1 /* Animation */);\n      if (this.batch.isSkipped()) {\n        this.batch.skip(false);\n      }\n    }\n  }\n  onBatchStop(cb) {\n    this.batch.stoppedCbs.add(cb);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/ariaAnnouncementServices.ts\nvar AriaAnnouncementService = class _AriaAnnouncementService {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.debug = Debug.create(true, \"aria\");\n    this.canvas.appendChild(this.liveElem = _AriaAnnouncementService.createAnnouncer());\n  }\n  static createAnnouncer() {\n    const e = getDocument().createElement(\"div\");\n    e.classList.add(\"ag-charts-aria-announcer\");\n    setAttribute(e, \"role\", \"status\");\n    setAttribute(e, \"aria-live\", \"assertive\");\n    return e;\n  }\n  destroy() {\n    this.canvas.removeChild(this.liveElem);\n  }\n  announceValue(value) {\n    this.debug(\"AriaAnnouncementService - announceValue: \".concat(value));\n    this.liveElem.textContent = value;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/chartEventManager.ts\nvar ChartEventManager = class extends BaseManager {\n  legendItemClick(series, itemId, enabled, legendItemName) {\n    const event = {\n      type: \"legend-item-click\",\n      series,\n      itemId,\n      enabled,\n      legendItemName\n    };\n    this.listeners.dispatch(\"legend-item-click\", event);\n  }\n  legendItemDoubleClick(series, itemId, enabled, numVisibleItems, legendItemName) {\n    const event = {\n      type: \"legend-item-double-click\",\n      series,\n      itemId,\n      enabled,\n      legendItemName,\n      numVisibleItems\n    };\n    this.listeners.dispatch(\"legend-item-double-click\", event);\n  }\n  axisHover(axisId, direction) {\n    const event = {\n      type: \"axis-hover\",\n      axisId,\n      direction\n    };\n    this.listeners.dispatch(\"axis-hover\", event);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/contextMenuRegistry.ts\nvar ContextMenuRegistry = class {\n  constructor() {\n    this.defaultActions = [];\n    this.disabledActions = /* @__PURE__ */new Set();\n  }\n  copyDefaultActions() {\n    return [...this.defaultActions];\n  }\n  registerDefaultAction(action) {\n    if (action.id && this.defaultActions.find(_ref49 => {\n      let {\n        id\n      } = _ref49;\n      return id === action.id;\n    })) {\n      return;\n    }\n    this.defaultActions.push(action);\n  }\n  enableAction(actionId) {\n    this.disabledActions.delete(actionId);\n  }\n  disableAction(actionId) {\n    this.disabledActions.add(actionId);\n  }\n  isDisabled(actionId) {\n    return this.disabledActions.has(actionId);\n  }\n};\n\n// packages/ag-charts-community/src/util/stateTracker.ts\nvar StateTracker = class extends Map {\n  constructor(defaultValue, defaultState) {\n    super();\n    this.defaultValue = defaultValue;\n    this.defaultState = defaultState;\n  }\n  set(key, value) {\n    this.delete(key);\n    if (typeof value !== \"undefined\") {\n      super.set(key, value);\n    }\n    return this;\n  }\n  stateId() {\n    var _a;\n    return (_a = Array.from(this.keys()).pop()) != null ? _a : this.defaultState;\n  }\n  stateValue() {\n    var _a;\n    return (_a = Array.from(this.values()).pop()) != null ? _a : this.defaultValue;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/cursorManager.ts\nvar CursorManager = class {\n  constructor(element2) {\n    this.element = element2;\n    this.stateTracker = new StateTracker(\"default\");\n  }\n  updateCursor(callerId, style) {\n    this.stateTracker.set(callerId, style);\n    this.element.style.cursor = this.stateTracker.stateValue();\n  }\n  getCursor() {\n    return this.element.style.cursor;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/gestureDetector.ts\nfunction distanceSquared(finger1, finger2) {\n  const dx = finger1.screenX - finger2.screenX;\n  const dy = finger1.screenY - finger2.screenY;\n  return dx * dx + dy * dy;\n}\nfunction distance(finger1, finger2) {\n  return Math.sqrt(distanceSquared(finger1, finger2));\n}\nvar MIN_DISTANCE_TO_START_PINCH = 1;\nvar GestureDetector = class extends BaseManager {\n  constructor(element2) {\n    super();\n    this.touchstart = event => this.onTouchStart(event);\n    this.touchmove = event => this.onTouchMove(event);\n    this.touchend = event => this.onTouchEnd(event);\n    this.touchcancel = event => this.onTouchCancel(event);\n    this.pinch = {\n      finger1: {\n        identifier: NaN,\n        screenX: NaN,\n        screenY: NaN\n      },\n      finger2: {\n        identifier: NaN,\n        screenX: NaN,\n        screenY: NaN\n      },\n      origin: {\n        x: NaN,\n        y: NaN\n      },\n      distance: NaN,\n      status: 0 /* Off */\n    };\n    this.element = element2;\n    element2.addEventListener(\"touchstart\", this.touchstart, {\n      passive: true\n    });\n    element2.addEventListener(\"touchmove\", this.touchmove, {\n      passive: true\n    });\n    element2.addEventListener(\"touchend\", this.touchend);\n    element2.addEventListener(\"touchcancel\", this.touchcancel);\n  }\n  destroy() {\n    const {\n      element: element2\n    } = this;\n    element2.removeEventListener(\"touchstart\", this.touchstart);\n    element2.removeEventListener(\"touchmove\", this.touchmove);\n    element2.removeEventListener(\"touchend\", this.touchend);\n    element2.removeEventListener(\"touchcancel\", this.touchcancel);\n  }\n  findPinchTouches(moveEvent) {\n    const {\n      touches\n    } = moveEvent;\n    const {\n      finger1,\n      finger2\n    } = this.pinch;\n    if (this.pinch.status !== 0 /* Off */ && touches.length === 2) {\n      if (touches[0].identifier === finger1.identifier && touches[1].identifier === finger2.identifier) {\n        return [touches[0], touches[1]];\n      }\n      if (touches[0].identifier === finger2.identifier && touches[1].identifier === finger1.identifier) {\n        return [touches[1], touches[0]];\n      }\n    }\n  }\n  copyTouchData(event) {\n    const keys = [\"identifier\", \"screenX\", \"screenY\"];\n    partialAssign(keys, this.pinch.finger1, event.touches[0]);\n    partialAssign(keys, this.pinch.finger2, event.touches[1]);\n    this.pinch.distance = distance(this.pinch.finger1, this.pinch.finger2);\n  }\n  dispatchPinchEvent(type, deltaDistance) {\n    const {\n      finger1,\n      finger2,\n      origin\n    } = this.pinch;\n    const newEvent = {\n      type,\n      finger1,\n      finger2,\n      deltaDistance,\n      origin\n    };\n    this.listeners.dispatch(type, newEvent);\n  }\n  onTouchStart(event) {\n    this.stopPinchTracking();\n    const {\n      pinch\n    } = this;\n    if (event.touches.length === 2) {\n      pinch.status = 1 /* Initialized */;\n      this.copyTouchData(event);\n      pinch.origin.x = (event.touches[0].clientX + event.touches[1].clientX) / 2;\n      pinch.origin.y = (event.touches[0].clientY + event.touches[1].clientY) / 2;\n    }\n  }\n  onTouchMove(event) {\n    const pinchTouches = this.findPinchTouches(event);\n    if (pinchTouches !== void 0) {\n      const [touch1, touch2] = pinchTouches;\n      const {\n        pinch\n      } = this;\n      const newDistance = distance(touch1, touch2);\n      const deltaDistance = newDistance - pinch.distance;\n      if (pinch.status === 1 /* Initialized */) {\n        if (Math.abs(deltaDistance) > MIN_DISTANCE_TO_START_PINCH) {\n          pinch.status = 2 /* Running */;\n          this.copyTouchData(event);\n          this.dispatchPinchEvent(\"pinch-start\", 0);\n        }\n      } else if (pinch.status === 2 /* Running */) {\n        pinch.distance = newDistance;\n        this.copyTouchData(event);\n        this.dispatchPinchEvent(\"pinch-move\", deltaDistance);\n      } else {\n        Logger.error(\"unexpected pinch.status: \".concat(pinch.status));\n      }\n    }\n  }\n  onTouchEnd(_event) {\n    this.stopPinchTracking();\n  }\n  onTouchCancel(_event) {\n    this.stopPinchTracking();\n  }\n  stopPinchTracking() {\n    const {\n      pinch\n    } = this;\n    if (pinch.status === 2 /* Running */) {\n      this.dispatchPinchEvent(\"pinch-end\", 0);\n    }\n    this.pinch.status = 0 /* Off */;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/highlightManager.ts\nvar HighlightManager = class extends BaseManager {\n  constructor() {\n    super(...arguments);\n    this.highlightStates = new StateTracker();\n    this.pickedStates = new StateTracker();\n  }\n  updateHighlight(callerId, highlightedDatum) {\n    const {\n      activeHighlight: previousHighlight\n    } = this;\n    this.highlightStates.set(callerId, highlightedDatum);\n    this.activeHighlight = this.highlightStates.stateValue();\n    if (!this.isEqual(this.activeHighlight, previousHighlight)) {\n      this.listeners.dispatch(\"highlight-change\", {\n        type: \"highlight-change\",\n        currentHighlight: this.activeHighlight,\n        previousHighlight\n      });\n    }\n  }\n  getActiveHighlight() {\n    return this.activeHighlight;\n  }\n  updatePicked(callerId, clickableDatum) {\n    this.pickedStates.set(callerId, clickableDatum);\n    this.activePicked = this.pickedStates.stateValue();\n  }\n  getActivePicked() {\n    return this.activePicked;\n  }\n  isEqual(a, b) {\n    return a === b || (a == null ? void 0 : a.series) === (b == null ? void 0 : b.series) && (a == null ? void 0 : a.itemId) === (b == null ? void 0 : b.itemId) && (a == null ? void 0 : a.datum) === (b == null ? void 0 : b.datum);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/keyNavManager.ts\nvar KeyNavManager = class extends BaseManager {\n  constructor(interactionManager) {\n    super();\n    this.hasBrowserFocus = false;\n    this.isMouseBlurred = false;\n    this.isClicking = false;\n    this.destroyFns.push(interactionManager.addListener(\"drag-start\", e => this.onClickStart(e), 31 /* All */), interactionManager.addListener(\"click\", e => this.onClickStop(e), 31 /* All */), interactionManager.addListener(\"drag-end\", e => this.onClickStop(e), 31 /* All */), interactionManager.addListener(\"wheel\", e => this.mouseBlur(e)), interactionManager.addListener(\"hover\", e => this.mouseBlur(e)), interactionManager.addListener(\"drag\", e => this.mouseBlur(e)), interactionManager.addListener(\"blur\", e => this.onBlur(e), 31 /* All */), interactionManager.addListener(\"focus\", e => this.onFocus(e), 31 /* All */), interactionManager.addListener(\"keydown\", e => this.onKeyDown(e), 31 /* All */));\n  }\n  destroy() {\n    super.destroy();\n  }\n  onClickStart(event) {\n    this.isClicking = true;\n    this.mouseBlur(event);\n  }\n  onClickStop(event) {\n    this.isClicking = false;\n    this.mouseBlur(event);\n  }\n  mouseBlur(event) {\n    if (!this.hasBrowserFocus) return;\n    if (!this.isMouseBlurred) {\n      this.dispatch(\"blur\", 0, event);\n      this.isMouseBlurred = true;\n    }\n  }\n  onBlur(event) {\n    this.hasBrowserFocus = false;\n    this.isMouseBlurred = false;\n    this.dispatch(\"blur\", 0, event);\n  }\n  onFocus(event) {\n    this.hasBrowserFocus = true;\n    if (this.isClicking) {\n      this.isMouseBlurred = true;\n    } else {\n      this.dispatch(\"browserfocus\", 1, event);\n      this.dispatch(\"tab\", 0, event);\n    }\n  }\n  onKeyDown(event) {\n    if (!this.hasBrowserFocus || this.isClicking) return;\n    this.isMouseBlurred = false;\n    switch (event.sourceEvent.code) {\n      case \"Tab\":\n        if (event.sourceEvent.shiftKey) {\n          return this.dispatch(\"tab\", -1, event);\n        } else {\n          return this.dispatch(\"tab\", 1, event);\n        }\n      case \"ArrowDown\":\n        return this.dispatch(\"nav-vert\", 1, event);\n      case \"ArrowUp\":\n        return this.dispatch(\"nav-vert\", -1, event);\n      case \"ArrowLeft\":\n        return this.dispatch(\"nav-hori\", -1, event);\n      case \"ArrowRight\":\n        return this.dispatch(\"nav-hori\", 1, event);\n      case \"Space\":\n      case \"Enter\":\n        return this.dispatch(\"submit\", 0, event);\n    }\n  }\n  dispatch(type, delta2, interactionEvent) {\n    const event = buildConsumable({\n      type,\n      delta: delta2,\n      sourceEvent: interactionEvent\n    });\n    dispatchTypedConsumable(this.listeners, type, event);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/focusStyles.ts\nvar focusStyles_exports = {};\n__export(focusStyles_exports, {\n  block: () => block,\n  css: () => css,\n  elements: () => elements,\n  modifiers: () => modifiers\n});\nvar block = \"ag-charts-focus\";\nvar elements = {\n  wrapper: \"\".concat(block, \"__wrapper\"),\n  indicator: \"\".concat(block, \"__indicator\")\n};\nvar modifiers = {\n  hidden: \"\".concat(block, \"--hidden\")\n};\nvar css = \"\\n.\".concat(block, \".\").concat(elements.wrapper, \" {\\n    position: relative;\\n    display: block;\\n    pointer-events: none;\\n    user-select: none;\\n    overflow: hidden;\\n    top: 0;\\n    left: 0;\\n}\\n\\n.\").concat(block, \".\").concat(elements.indicator, \" {\\n    position: absolute;\\n    display: block;\\n    pointer-events: none;\\n    user-select: none;\\n    border: var(--ag-charts-focus-border);\\n    box-shadow: var(--ag-charts-focus-border-shadow);\\n}\\n\\n.\").concat(modifiers.hidden, \" {\\n    visibility: hidden;\\n}\\n\");\n\n// packages/ag-charts-community/src/chart/interaction/regionManager.ts\nvar REGION_TAB_ORDERING = [\"series\", \"legend\"];\nvar RegionListeners = class extends Listeners {};\nvar RegionManager = class {\n  constructor(interactionManager, keyNavManager, canvasElement, element2) {\n    this.interactionManager = interactionManager;\n    this.keyNavManager = keyNavManager;\n    this.canvasElement = canvasElement;\n    this.currentTabIndex = 0;\n    this.isDragging = false;\n    this.leftCanvas = false;\n    this.regions = /* @__PURE__ */new Map();\n    this.destroyFns = [];\n    this.destroyFns.push(...POINTER_INTERACTION_TYPES.map(eventName => interactionManager.addListener(eventName, this.processPointerEvent.bind(this), 31 /* All */)), this.keyNavManager.addListener(\"blur\", this.onNav.bind(this)), this.keyNavManager.addListener(\"browserfocus\", this.onFocus.bind(this)), this.keyNavManager.addListener(\"tab\", this.onTab.bind(this)), this.keyNavManager.addListener(\"nav-vert\", this.onNav.bind(this)), this.keyNavManager.addListener(\"nav-hori\", this.onNav.bind(this)), this.keyNavManager.addListener(\"submit\", this.onNav.bind(this)));\n    injectStyle(css, block);\n    this.focusWrapper = getDocument().createElement(\"div\");\n    this.focusIndicator = getDocument().createElement(\"div\");\n    this.focusWrapper.appendChild(this.focusIndicator);\n    element2.appendChild(this.focusWrapper);\n    const {\n      block: block3,\n      elements: elements3,\n      modifiers: modifiers3\n    } = focusStyles_exports;\n    this.focusWrapper.classList.add(block3, elements3.wrapper);\n    this.focusIndicator.classList.add(block3, elements3.indicator, modifiers3.hidden);\n  }\n  destroy() {\n    this.destroyFns.forEach(fn => fn());\n    this.currentRegion = void 0;\n    for (const region of this.regions.values()) {\n      region.listeners.destroy();\n    }\n    this.focusWrapper.remove();\n    this.regions.clear();\n  }\n  addRegionFromProperties(properties) {\n    const region = {\n      properties,\n      listeners: new RegionListeners()\n    };\n    this.regions.set(properties.name, region);\n    return this.makeObserver(region);\n  }\n  addRegion(name, bboxprovider) {\n    for (var _len25 = arguments.length, extraProviders = new Array(_len25 > 2 ? _len25 - 2 : 0), _key25 = 2; _key25 < _len25; _key25++) {\n      extraProviders[_key25 - 2] = arguments[_key25];\n    }\n    return this.addRegionFromProperties({\n      name,\n      bboxproviders: [bboxprovider, ...extraProviders],\n      canInteraction: () => true\n    });\n  }\n  getRegion(name) {\n    return this.makeObserver(this.regions.get(name));\n  }\n  find(x, y) {\n    const matches = [];\n    for (const [_name, region] of this.regions.entries()) {\n      for (const provider of region.properties.bboxproviders) {\n        const bbox = provider.getCachedBBox();\n        if (bbox.containsPoint(x, y)) {\n          matches.push([region, bbox.width * bbox.height]);\n        }\n      }\n    }\n    return matches.sort((a, b) => a[1] - b[1]).map(m => m[0]);\n  }\n  // This method return a wrapper object that matches the interface of InteractionManager.addListener.\n  // The intent is to allow the InteractionManager and RegionManager to be used almost interchangeably.\n  makeObserver(region) {\n    const {\n      interactionManager\n    } = this;\n    class ObservableRegionImplementation {\n      addListener(type, handler) {\n        let triggeringStates = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 16;\n        var _a;\n        return (_a = region == null ? void 0 : region.listeners.addListener(type, e => {\n          if (!e.consumed) {\n            const currentState = interactionManager.getState();\n            if (currentState & triggeringStates) {\n              handler(e);\n            }\n          }\n        })) != null ? _a : () => {};\n      }\n    }\n    return new ObservableRegionImplementation();\n  }\n  checkPointerHistory(targetRegion, event) {\n    for (const historyEvent of event.pointerHistory) {\n      const historyRegion = this.pickRegion(historyEvent.offsetX, historyEvent.offsetY);\n      if (targetRegion.properties.name !== (historyRegion == null ? void 0 : historyRegion.properties.name)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  dispatch(region, event) {\n    region == null ? void 0 : region.listeners.dispatch(event.type, event);\n  }\n  // Process events during a drag action. Returns false if this event should follow the standard\n  // RegionManager.processEvent flow, or true if this event already processed by this function.\n  handleDragging(event) {\n    const {\n      currentRegion\n    } = this;\n    switch (event.type) {\n      case \"drag-start\":\n        this.isDragging = true;\n        this.leftCanvas = false;\n        break;\n      case \"leave\":\n        this.leftCanvas = true;\n        return this.isDragging;\n      case \"enter\":\n        this.leftCanvas = false;\n        return this.isDragging;\n      case \"drag\":\n        if (this.isDragging) {\n          this.dispatch(currentRegion, event);\n          return true;\n        }\n        break;\n      case \"drag-end\":\n        if (this.isDragging) {\n          this.isDragging = false;\n          this.dispatch(currentRegion, event);\n          if (this.leftCanvas) {\n            this.dispatch(currentRegion, __spreadProps(__spreadValues({}, event), {\n              type: \"leave\"\n            }));\n          }\n          return true;\n        }\n        break;\n    }\n    return false;\n  }\n  processPointerEvent(event) {\n    if (this.handleDragging(event)) {\n      return;\n    }\n    const {\n      currentRegion\n    } = this;\n    const newRegion = this.pickRegion(event.offsetX, event.offsetY);\n    if (currentRegion !== void 0 && (newRegion == null ? void 0 : newRegion.properties.name) !== currentRegion.properties.name) {\n      this.dispatch(currentRegion, __spreadProps(__spreadValues({}, event), {\n        type: \"leave\"\n      }));\n    }\n    if (newRegion !== void 0 && newRegion.properties.name !== (currentRegion == null ? void 0 : currentRegion.properties.name)) {\n      this.dispatch(newRegion, __spreadProps(__spreadValues({}, event), {\n        type: \"enter\"\n      }));\n    }\n    if (newRegion !== void 0 && this.checkPointerHistory(newRegion, event)) {\n      this.dispatch(newRegion, event);\n    }\n    this.currentRegion = newRegion;\n  }\n  pickRegion(x, y) {\n    const matchingRegions = this.find(x, y);\n    return matchingRegions.length > 0 ? matchingRegions[0] : void 0;\n  }\n  getTabRegion(tabIndex) {\n    if (tabIndex !== void 0 && tabIndex >= 0 && tabIndex < REGION_TAB_ORDERING.length) {\n      return this.regions.get(REGION_TAB_ORDERING[tabIndex]);\n    }\n    return void 0;\n  }\n  dispatchTabStart(event) {\n    const {\n      delta: delta2,\n      sourceEvent\n    } = event;\n    const startEvent = buildConsumable({\n      type: \"tab-start\",\n      delta: delta2,\n      sourceEvent\n    });\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    this.dispatch(focusedRegion, startEvent);\n    return !!startEvent.consumed;\n  }\n  getNextInteractableTabIndex(currentIndex, delta2) {\n    const direction = delta2 < 0 ? -1 : 1;\n    let i = currentIndex;\n    while (delta2 !== 0) {\n      const region = this.getTabRegion(i + direction);\n      if (region === void 0) {\n        return void 0;\n      } else if (region.properties.canInteraction()) {\n        delta2 = delta2 - direction;\n      }\n      i = i + direction;\n    }\n    return i;\n  }\n  validateCurrentTabIndex() {\n    var _a;\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (focusedRegion !== void 0 && !focusedRegion.properties.canInteraction()) {\n      this.currentTabIndex = (_a = this.getNextInteractableTabIndex(-1, 1)) != null ? _a : 0;\n    }\n  }\n  onFocus(event) {\n    const {\n      delta: delta2,\n      sourceEvent\n    } = event;\n    const newIndex = delta2 > 0 ? this.getNextInteractableTabIndex(-1, 1) : this.getNextInteractableTabIndex(REGION_TAB_ORDERING.length, -1);\n    this.currentTabIndex = newIndex != null ? newIndex : 0;\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (focusedRegion) {\n      this.dispatch(focusedRegion, buildConsumable({\n        type: \"tab\",\n        delta: delta2,\n        sourceEvent\n      }));\n    }\n  }\n  onTab(event) {\n    const consumed = this.dispatchTabStart(event);\n    if (consumed) return;\n    this.validateCurrentTabIndex();\n    const newTabIndex = this.getNextInteractableTabIndex(this.currentTabIndex, event.delta);\n    const newRegion = this.getTabRegion(newTabIndex);\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (newTabIndex !== void 0) {\n      this.currentTabIndex = newTabIndex;\n    }\n    if (focusedRegion !== void 0 && (newRegion == null ? void 0 : newRegion.properties.name) !== focusedRegion.properties.name) {\n      const {\n        delta: delta2,\n        sourceEvent\n      } = event;\n      const blurEvent = buildConsumable({\n        type: \"blur\",\n        delta: delta2,\n        sourceEvent\n      });\n      this.dispatch(focusedRegion, blurEvent);\n    }\n    if (newRegion === void 0 || !newRegion.properties.canInteraction()) {\n      this.updateFocusIndicatorRect(void 0);\n    } else {\n      this.dispatch(newRegion, event);\n    }\n  }\n  onNav(event) {\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    this.dispatch(focusedRegion, event);\n  }\n  updateFocusWrapperRect() {\n    this.focusWrapper.style.width = this.canvasElement.style.width;\n    this.focusWrapper.style.height = this.canvasElement.style.height;\n  }\n  updateFocusIndicatorRect(rect) {\n    if (rect == null) {\n      this.focusIndicator.classList.add(modifiers.hidden);\n      return;\n    }\n    this.updateFocusWrapperRect();\n    this.focusIndicator.classList.remove(modifiers.hidden);\n    this.focusIndicator.style.width = \"\".concat(rect.width, \"px\");\n    this.focusIndicator.style.height = \"\".concat(rect.height, \"px\");\n    this.focusIndicator.style.left = \"\".concat(rect.x, \"px\");\n    this.focusIndicator.style.top = \"\".concat(rect.y, \"px\");\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/toolbarManager.ts\nvar ToolbarManager = class extends BaseManager {\n  constructor(element2) {\n    super();\n    this.element = element2;\n  }\n  static isGroup(group2, event) {\n    return event.group === group2;\n  }\n  pressButton(group2, value) {\n    this.listeners.dispatch(\"button-pressed\", {\n      type: \"button-pressed\",\n      group: group2,\n      value\n    });\n  }\n  toggleGroup(group2, visible) {\n    this.listeners.dispatch(\"group-toggled\", {\n      type: \"group-toggled\",\n      group: group2,\n      visible\n    });\n  }\n  toggleButton(group2, value, enabled) {\n    this.listeners.dispatch(\"button-toggled\", {\n      type: \"button-toggled\",\n      group: group2,\n      value,\n      enabled\n    });\n  }\n  proxyGroupOptions(group2, options) {\n    this.listeners.dispatch(\"proxy-group-options\", {\n      type: \"proxy-group-options\",\n      group: group2,\n      options\n    });\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/tooltipManager.ts\nvar defaultTooltipCss = \"\\n.\".concat(DEFAULT_TOOLTIP_CLASS, \" {\\n    transition: transform 0.1s ease;\\n    max-width: 100%;\\n    position: fixed;\\n    left: 0px;\\n    top: 0px;\\n    z-index: 99999;\\n    font: 12px Verdana, sans-serif;\\n    color: rgb(70, 70, 70);\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-wrap-always {\\n    overflow-wrap: break-word;\\n    word-break: break-word;\\n    hyphens: none;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-wrap-hyphenate {\\n    overflow-wrap: break-word;\\n    word-break: break-word;\\n    hyphens: auto;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-wrap-on-space {\\n    overflow-wrap: normal;\\n    word-break: normal;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-wrap-never {\\n    white-space: pre;\\n    text-overflow: ellipsis;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-no-interaction {\\n    pointer-events: none;\\n    user-select: none;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-no-animation {\\n    transition: none !important;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-hidden {\\n    visibility: hidden;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-title {\\n    overflow: hidden;\\n    position: relative;\\n    padding: 8px 14px;\\n    border-top-left-radius: 2px;\\n    border-top-right-radius: 2px;\\n    color: white;\\n    background-color: #888888;\\n    z-index: 1;\\n    text-overflow: inherit;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-title:only-child {\\n    border-bottom-left-radius: 2px;\\n    border-bottom-right-radius: 2px;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-content {\\n    overflow: hidden;\\n    padding: 6px 14px;\\n    line-height: 1.7em;\\n    background: white;\\n    border-bottom-left-radius: 2px;\\n    border-bottom-right-radius: 2px;\\n    border: 1px solid rgba(0, 0, 0, 0.15);\\n    overflow: hidden;\\n    text-overflow: inherit;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-arrow::before {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 5px solid #d9d9d9;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.\").concat(DEFAULT_TOOLTIP_CLASS, \"-arrow::after {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: calc(100% - 1px);\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 5px solid white;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.ag-chart-wrapper {\\n    box-sizing: border-box;\\n    overflow: hidden;\\n}\\n\");\nvar TooltipManager = class {\n  constructor(canvasElement, tooltip) {\n    this.canvasElement = canvasElement;\n    this.tooltip = tooltip;\n    this.stateTracker = new StateTracker();\n    this.appliedState = null;\n    if (typeof IntersectionObserver !== \"undefined\") {\n      const observer = new IntersectionObserver(entries => {\n        for (const entry of entries) {\n          if (entry.target === this.canvasElement && entry.intersectionRatio === 0) {\n            this.tooltip.toggle(false);\n          }\n        }\n      }, {\n        root: this.tooltip.root\n      });\n      observer.observe(this.canvasElement);\n      this.observer = observer;\n    }\n    injectStyle(defaultTooltipCss, \"tooltip\");\n  }\n  updateTooltip(callerId, meta, content) {\n    var _a;\n    if (!this.tooltip.enabled) return;\n    content != null ? content : content = (_a = this.stateTracker.get(callerId)) == null ? void 0 : _a.content;\n    this.stateTracker.set(callerId, {\n      content,\n      meta\n    });\n    this.applyStates();\n  }\n  removeTooltip(callerId) {\n    if (!this.tooltip.enabled) return;\n    this.stateTracker.delete(callerId);\n    this.applyStates();\n  }\n  getTooltipMeta(callerId) {\n    var _a;\n    return (_a = this.stateTracker.get(callerId)) == null ? void 0 : _a.meta;\n  }\n  destroy() {\n    var _a;\n    (_a = this.observer) == null ? void 0 : _a.unobserve(this.canvasElement);\n  }\n  applyStates() {\n    var _a;\n    const id = this.stateTracker.stateId();\n    const state = id ? this.stateTracker.get(id) : null;\n    if ((state == null ? void 0 : state.meta) == null || (state == null ? void 0 : state.content) == null) {\n      this.appliedState = null;\n      this.tooltip.toggle(false);\n      return;\n    }\n    const canvasRect = this.canvasElement.getBoundingClientRect();\n    if (((_a = this.appliedState) == null ? void 0 : _a.content) === (state == null ? void 0 : state.content)) {\n      const renderInstantly = this.tooltip.isVisible();\n      this.tooltip.show(canvasRect, state == null ? void 0 : state.meta, null, renderInstantly);\n    } else {\n      this.tooltip.show(canvasRect, state == null ? void 0 : state.meta, state == null ? void 0 : state.content);\n    }\n    this.appliedState = state;\n  }\n  static makeTooltipMeta(event, datum) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    const {\n      tooltip\n    } = datum.series.properties;\n    const meta = {\n      offsetX,\n      offsetY,\n      enableInteraction: (_b = (_a = tooltip.interaction) == null ? void 0 : _a.enabled) != null ? _b : false,\n      lastPointerEvent: {\n        type: event.type,\n        offsetX,\n        offsetY\n      },\n      showArrow: tooltip.showArrow,\n      position: {\n        type: tooltip.position.type,\n        xOffset: tooltip.position.xOffset,\n        yOffset: tooltip.position.yOffset\n      }\n    };\n    const refPoint = (_g = (_d = (_c = datum.yBar) == null ? void 0 : _c.upperPoint) != null ? _d : datum.midPoint) != null ? _g : (_f = (_e = datum.series).datumMidPoint) == null ? void 0 : _f.call(_e, datum);\n    if (tooltip.position.type === \"node\" && refPoint) {\n      const {\n        x,\n        y\n      } = refPoint;\n      const point = datum.series.contentGroup.inverseTransformPoint(x, y);\n      return __spreadProps(__spreadValues({}, meta), {\n        offsetX: Math.round(point.x),\n        offsetY: Math.round(point.y)\n      });\n    }\n    return meta;\n  }\n};\n\n// packages/ag-charts-community/src/chart/layout/layoutService.ts\nvar LayoutService = class extends Listeners {\n  constructor() {\n    super(...arguments);\n    this.layoutComplete = \"layout-complete\";\n  }\n  addListener(eventType, handler) {\n    if (this.isLayoutStage(eventType) || this.isLayoutComplete(eventType)) {\n      return super.addListener(eventType, handler);\n    }\n    throw new Error(\"AG Charts - unsupported listener type: \".concat(eventType));\n  }\n  dispatchPerformLayout(stage, ctx) {\n    if (this.isLayoutStage(stage)) {\n      return this.getListenersByType(stage).reduce((result, listener) => {\n        try {\n          return listener.handler(result);\n        } catch (e) {\n          Logger.errorOnce(e);\n          return result;\n        }\n      }, ctx);\n    }\n    return ctx;\n  }\n  dispatchLayoutComplete(event) {\n    this.dispatch(this.layoutComplete, event);\n  }\n  isLayoutStage(eventType) {\n    return eventType !== this.layoutComplete;\n  }\n  isLayoutComplete(eventType) {\n    return eventType === this.layoutComplete;\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/seriesStateManager.ts\nvar SeriesStateManager = class {\n  constructor() {\n    this.groups = {};\n  }\n  registerSeries(_ref50) {\n    let {\n      id,\n      seriesGrouping,\n      visible,\n      type\n    } = _ref50;\n    var _a, _b;\n    if (!seriesGrouping) return;\n    (_b = (_a = this.groups)[type]) != null ? _b : _a[type] = {};\n    this.groups[type][id] = {\n      grouping: seriesGrouping,\n      visible\n    };\n  }\n  deregisterSeries(_ref51) {\n    let {\n      id,\n      type\n    } = _ref51;\n    if (this.groups[type]) {\n      delete this.groups[type][id];\n    }\n    if (this.groups[type] && Object.keys(this.groups[type]).length === 0) {\n      delete this.groups[type];\n    }\n  }\n  getVisiblePeerGroupIndex(_ref52) {\n    let {\n      type,\n      seriesGrouping,\n      visible\n    } = _ref52;\n    var _a;\n    if (!seriesGrouping) return {\n      visibleGroupCount: visible ? 1 : 0,\n      visibleSameStackCount: visible ? 1 : 0,\n      index: 0\n    };\n    const visibleGroupsSet = /* @__PURE__ */new Set();\n    const visibleSameStackSet = /* @__PURE__ */new Set();\n    for (const entry of Object.values((_a = this.groups[type]) != null ? _a : {})) {\n      if (!entry.visible) continue;\n      visibleGroupsSet.add(entry.grouping.groupIndex);\n      if (entry.grouping.groupIndex === seriesGrouping.groupIndex) {\n        visibleSameStackSet.add(entry.grouping.stackIndex);\n      }\n    }\n    const visibleGroups = Array.from(visibleGroupsSet);\n    visibleGroups.sort((a, b) => a - b);\n    return {\n      visibleGroupCount: visibleGroups.length,\n      visibleSameStackCount: visibleSameStackSet.size,\n      index: visibleGroups.indexOf(seriesGrouping.groupIndex)\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartUpdateType.ts\nvar ChartUpdateType = /* @__PURE__ */(ChartUpdateType2 => {\n  ChartUpdateType2[ChartUpdateType2[\"FULL\"] = 0] = \"FULL\";\n  ChartUpdateType2[ChartUpdateType2[\"UPDATE_DATA\"] = 1] = \"UPDATE_DATA\";\n  ChartUpdateType2[ChartUpdateType2[\"PROCESS_DATA\"] = 2] = \"PROCESS_DATA\";\n  ChartUpdateType2[ChartUpdateType2[\"PERFORM_LAYOUT\"] = 3] = \"PERFORM_LAYOUT\";\n  ChartUpdateType2[ChartUpdateType2[\"SERIES_UPDATE\"] = 4] = \"SERIES_UPDATE\";\n  ChartUpdateType2[ChartUpdateType2[\"TOOLTIP_RECALCULATION\"] = 5] = \"TOOLTIP_RECALCULATION\";\n  ChartUpdateType2[ChartUpdateType2[\"SCENE_RENDER\"] = 6] = \"SCENE_RENDER\";\n  ChartUpdateType2[ChartUpdateType2[\"NONE\"] = 7] = \"NONE\";\n  return ChartUpdateType2;\n})(ChartUpdateType || {});\n\n// packages/ag-charts-community/src/chart/updateService.ts\nvar UpdateService = class extends Listeners {\n  constructor(updateCallback) {\n    super();\n    this.updateCallback = updateCallback;\n  }\n  update() {\n    let type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let options = arguments.length > 1 ? arguments[1] : undefined;\n    this.updateCallback(type, options);\n  }\n  dispatchUpdateComplete(rects) {\n    this.dispatch(\"update-complete\", {\n      type: \"update-complete\",\n      minRect: rects == null ? void 0 : rects.minRect,\n      minVisibleRect: rects == null ? void 0 : rects.minVisibleRect\n    });\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartContext.ts\nvar ChartContext = class {\n  constructor(chart, vars) {\n    const {\n      scene,\n      syncManager,\n      element: element2,\n      updateCallback,\n      updateMutex\n    } = vars;\n    this.chartService = chart;\n    this.scene = scene;\n    this.syncManager = syncManager;\n    this.zoomManager = chart.zoomManager;\n    this.annotationManager = new AnnotationManager(chart.annotationRoot);\n    this.ariaAnnouncementService = new AriaAnnouncementService(scene.canvas.element);\n    this.chartEventManager = new ChartEventManager();\n    this.contextMenuRegistry = new ContextMenuRegistry();\n    this.cursorManager = new CursorManager(element2);\n    this.highlightManager = new HighlightManager();\n    this.interactionManager = new InteractionManager(chart.keyboard, element2);\n    this.keyNavManager = new KeyNavManager(this.interactionManager);\n    this.regionManager = new RegionManager(this.interactionManager, this.keyNavManager, this.scene.canvas.element, element2);\n    this.toolbarManager = new ToolbarManager(element2);\n    this.gestureDetector = new GestureDetector(element2);\n    this.layoutService = new LayoutService();\n    this.updateService = new UpdateService(updateCallback);\n    this.seriesStateManager = new SeriesStateManager();\n    this.callbackCache = new CallbackCache();\n    this.animationManager = new AnimationManager(this.interactionManager, updateMutex);\n    this.animationManager.skip();\n    this.animationManager.play();\n    this.dataService = new DataService(this.animationManager);\n    this.tooltipManager = new TooltipManager(this.scene.canvas.element, chart.tooltip);\n  }\n  destroy() {\n    this.tooltipManager.destroy();\n    this.regionManager.destroy();\n    this.keyNavManager.destroy();\n    this.interactionManager.destroy();\n    this.animationManager.stop();\n    this.animationManager.destroy();\n    this.ariaAnnouncementService.destroy();\n    this.chartEventManager.destroy();\n    this.highlightManager.destroy();\n    this.callbackCache.invalidateCache();\n    this.animationManager.reset();\n    this.syncManager.destroy();\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartHighlight.ts\nvar ChartHighlight = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.range = \"tooltip\";\n  }\n};\n__decorateClass([Validate(UNION([\"tooltip\", \"node\"], \"a range\"))], ChartHighlight.prototype, \"range\", 2);\n\n// packages/ag-charts-community/src/chart/data/dataDomain.ts\nvar DiscreteDomain = class _DiscreteDomain {\n  constructor() {\n    this.domain = /* @__PURE__ */new Set();\n  }\n  static is(value) {\n    return value instanceof _DiscreteDomain;\n  }\n  extend(val) {\n    this.domain.add(val);\n  }\n  getDomain() {\n    return Array.from(this.domain);\n  }\n};\nvar ContinuousDomain = class _ContinuousDomain {\n  constructor() {\n    this.domain = [Infinity, -Infinity];\n  }\n  static is(value) {\n    return value instanceof _ContinuousDomain;\n  }\n  static extendDomain(values) {\n    let domain = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [Infinity, -Infinity];\n    for (const value of values) {\n      if (typeof value !== \"number\") {\n        continue;\n      }\n      if (domain[0] > value) {\n        domain[0] = value;\n      }\n      if (domain[1] < value) {\n        domain[1] = value;\n      }\n    }\n    return domain;\n  }\n  extend(value) {\n    if (this.domain[0] > value) {\n      this.domain[0] = value;\n    }\n    if (this.domain[1] < value) {\n      this.domain[1] = value;\n    }\n  }\n  getDomain() {\n    return [...this.domain];\n  }\n};\n\n// packages/ag-charts-community/src/chart/data/dataModel.ts\nfunction toKeyString(keys) {\n  return keys.map(key => isObject(key) ? JSON.stringify(key) : key).join(\"-\");\n}\nfunction round2(val) {\n  const accuracy = 1e4;\n  if (Number.isInteger(val)) {\n    return val;\n  } else if (Math.abs(val) > accuracy) {\n    return Math.trunc(val);\n  }\n  return Math.round(val * accuracy) / accuracy;\n}\nfunction fixNumericExtentInternal(extent2) {\n  if (extent2 == null) {\n    return [];\n  }\n  let [min, max] = extent2.map(Number);\n  if (min === 0 && max === 0) {\n    return [0, 1];\n  }\n  if (min === Infinity && max === -Infinity) {\n    return [];\n  } else if (min === Infinity) {\n    min = 0;\n  } else if (max === -Infinity) {\n    max = 0;\n  }\n  return isFiniteNumber(min) && isFiniteNumber(max) ? [min, max] : [];\n}\nfunction fixNumericExtent(extent2, axis) {\n  var _a;\n  const fixedExtent = fixNumericExtentInternal(extent2);\n  if (fixedExtent.length === 0) {\n    return fixedExtent;\n  }\n  let [min, max] = fixedExtent;\n  if (min === max) {\n    const [paddingMin, paddingMax] = (_a = axis == null ? void 0 : axis.calculatePadding(min, max)) != null ? _a : [1, 1];\n    min -= paddingMin;\n    max += paddingMax;\n  }\n  return [min, max];\n}\nfunction getMissCount(scopeProvider, missMap) {\n  var _a;\n  return (_a = missMap == null ? void 0 : missMap.get(scopeProvider.id)) != null ? _a : 0;\n}\nvar INVALID_VALUE = Symbol(\"invalid\");\nvar DataModel = class {\n  constructor(opts) {\n    let mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"standalone\";\n    this.opts = opts;\n    this.mode = mode;\n    this.debug = Debug.create(true, \"data-model\");\n    this.scopeCache = /* @__PURE__ */new Map();\n    this.keys = [];\n    this.values = [];\n    this.aggregates = [];\n    this.groupProcessors = [];\n    this.propertyProcessors = [];\n    this.reducers = [];\n    this.processors = [];\n    let keys = true;\n    for (const next of opts.props) {\n      if (next.type === \"key\" && !keys) {\n        throw new Error(\"AG Charts - internal config error: keys must come before values.\");\n      }\n      if (next.type === \"value\" && keys) {\n        keys = false;\n      }\n    }\n    const verifyMatchGroupId = _ref53 => {\n      let {\n        matchGroupIds = []\n      } = _ref53;\n      for (const matchGroupId of matchGroupIds) {\n        if (this.values.every(def => def.groupId !== matchGroupId)) {\n          throw new Error(\"AG Charts - internal config error: matchGroupIds properties must match defined groups (\".concat(matchGroupId, \").\"));\n        }\n      }\n    };\n    for (const def of opts.props) {\n      switch (def.type) {\n        case \"key\":\n          this.keys.push(__spreadProps(__spreadValues({}, def), {\n            index: this.keys.length,\n            missing: /* @__PURE__ */new Map()\n          }));\n          break;\n        case \"value\":\n          if (def.property == null) {\n            throw new Error(\"AG Charts - internal config error: no properties specified for value definitions: \".concat(JSON.stringify(def)));\n          }\n          this.values.push(__spreadProps(__spreadValues({}, def), {\n            index: this.values.length,\n            missing: /* @__PURE__ */new Map()\n          }));\n          break;\n        case \"aggregate\":\n          verifyMatchGroupId(def);\n          this.aggregates.push(__spreadProps(__spreadValues({}, def), {\n            index: this.aggregates.length\n          }));\n          break;\n        case \"group-value-processor\":\n          verifyMatchGroupId(def);\n          this.groupProcessors.push(__spreadProps(__spreadValues({}, def), {\n            index: this.groupProcessors.length\n          }));\n          break;\n        case \"property-value-processor\":\n          this.propertyProcessors.push(__spreadProps(__spreadValues({}, def), {\n            index: this.propertyProcessors.length\n          }));\n          break;\n        case \"reducer\":\n          this.reducers.push(__spreadProps(__spreadValues({}, def), {\n            index: this.reducers.length\n          }));\n          break;\n        case \"processor\":\n          this.processors.push(__spreadProps(__spreadValues({}, def), {\n            index: this.processors.length\n          }));\n          break;\n      }\n    }\n  }\n  resolveProcessedDataDefById(scope, searchId) {\n    var _a;\n    const def = (_a = this.scopeCache.get(scope.id)) == null ? void 0 : _a.get(searchId);\n    if (!def) {\n      throw new Error(\"AG Charts - didn't find property definition for [\".concat(searchId, \", \").concat(scope.id, \"]\"));\n    }\n    return {\n      index: def.index,\n      def\n    };\n  }\n  resolveProcessedDataIndexById(scope, searchId) {\n    return this.resolveProcessedDataDefById(scope, searchId).index;\n  }\n  resolveProcessedDataDefsByIds(scope, searchIds) {\n    return searchIds.map(searchId => [searchId, this.resolveProcessedDataDefById(scope, searchId)]);\n  }\n  resolveProcessedDataDefsValues(defs, _ref54) {\n    let {\n      keys,\n      values\n    } = _ref54;\n    const result = {};\n    for (const [searchId, {\n      index,\n      def\n    }] of defs) {\n      const processedData = def.type === \"key\" ? keys : values;\n      result[searchId] = processedData[index];\n    }\n    return result;\n  }\n  getDomain(scope, searchId) {\n    let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"value\";\n    let processedData = arguments.length > 3 ? arguments[3] : undefined;\n    var _a;\n    const domains = this.getDomainsByType(type, processedData);\n    return (_a = domains == null ? void 0 : domains[this.resolveProcessedDataIndexById(scope, searchId)]) != null ? _a : [];\n  }\n  getDomainsByType(type, processedData) {\n    switch (type) {\n      case \"key\":\n        return processedData.domain.keys;\n      case \"value\":\n        return processedData.domain.values;\n      case \"aggregate\":\n        return processedData.domain.aggValues;\n      case \"group-value-processor\":\n        return processedData.domain.groups;\n      default:\n        return null;\n    }\n  }\n  processData(data, sources) {\n    var _a;\n    const {\n      opts: {\n        groupByKeys,\n        groupByFn\n      },\n      aggregates,\n      groupProcessors,\n      reducers,\n      processors,\n      propertyProcessors\n    } = this;\n    const start = performance.now();\n    if (groupByKeys && this.keys.length === 0) {\n      return;\n    }\n    let processedData = this.extractData(data, sources);\n    if (groupByKeys) {\n      processedData = this.groupData(processedData);\n    } else if (groupByFn) {\n      processedData = this.groupData(processedData, groupByFn(processedData));\n    }\n    if (groupProcessors.length > 0) {\n      this.postProcessGroups(processedData);\n    }\n    if (aggregates.length > 0) {\n      this.aggregateData(processedData);\n    }\n    if (propertyProcessors.length > 0) {\n      this.postProcessProperties(processedData);\n    }\n    if (reducers.length > 0) {\n      this.reduceData(processedData);\n    }\n    if (processors.length > 0) {\n      this.postProcessData(processedData);\n    }\n    if (data.length > 0) {\n      for (const def of iterate(this.keys, this.values)) {\n        for (const [scope, missCount] of def.missing) {\n          if (missCount >= data.length) {\n            const scopeHint = scope == null ? \"\" : \" for \".concat(scope);\n            Logger.warnOnce(\"the key '\".concat(def.property, \"' was not found in any data element\").concat(scopeHint, \".\"));\n          }\n        }\n      }\n    }\n    const end = performance.now();\n    processedData.time = end - start;\n    if (this.debug.check()) {\n      logProcessedData(processedData);\n    }\n    this.scopeCache.clear();\n    for (const def of iterate(this.keys, this.values, this.aggregates)) {\n      if (!def.idsMap) continue;\n      for (const [scope, ids] of def.idsMap) {\n        for (const id of ids) {\n          if (!this.scopeCache.has(scope)) {\n            this.scopeCache.set(scope, /* @__PURE__ */new Map([[id, def]]));\n          } else if ((_a = this.scopeCache.get(scope)) == null ? void 0 : _a.has(id)) {\n            throw new Error(\"duplicate definition ids on the same scope are not allowed.\");\n          } else {\n            this.scopeCache.get(scope).set(id, def);\n          }\n        }\n      }\n    }\n    return processedData;\n  }\n  valueGroupIdxLookup(_ref55) {\n    let {\n      matchGroupIds\n    } = _ref55;\n    const result = [];\n    for (const [index, def] of this.values.entries()) {\n      if (!matchGroupIds || def.groupId && matchGroupIds.includes(def.groupId)) {\n        result.push(index);\n      }\n    }\n    return result;\n  }\n  valueIdxLookup(scopes, prop) {\n    const noScopesToMatch = scopes == null || scopes.length === 0;\n    const propId = typeof prop === \"string\" ? prop : prop.id;\n    const hasMatchingScopeId = def => {\n      if (def.idsMap) {\n        for (const [scope, ids] of def.idsMap) {\n          if ((scopes == null ? void 0 : scopes.includes(scope)) && ids.has(propId)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const result = this.values.findIndex(def => {\n      const validDefScopes = def.scopes == null || noScopesToMatch && !def.scopes.length || def.scopes.some(s => scopes == null ? void 0 : scopes.includes(s));\n      return validDefScopes && (def.property === propId || def.id === propId || hasMatchingScopeId(def));\n    });\n    if (result === -1) {\n      throw new Error(\"AG Charts - configuration error, unknown property \".concat(JSON.stringify(prop), \" in scope(s) \").concat(JSON.stringify(scopes)));\n    }\n    return result;\n  }\n  extractData(data, sources) {\n    var _a, _b, _c, _d;\n    const {\n      dataDomain,\n      processValue,\n      scopes,\n      allScopesHaveSameDefs\n    } = this.initDataDomainProcessor();\n    const sourcesById = new Map(sources == null ? void 0 : sources.map(s => [s.id, s]));\n    const {\n      keys: keyDefs,\n      values: valueDefs\n    } = this;\n    const resultData = new Array(data.length);\n    let resultDataIdx = 0;\n    let partialValidDataCount = 0;\n    for (const [datumIdx, datum] of data.entries()) {\n      const sourceDatums = {};\n      const validScopes = scopes.size > 0 ? new Set(scopes) : void 0;\n      const keys = new Array(keyDefs.length);\n      let keyIdx = 0;\n      let key;\n      for (const def of keyDefs) {\n        key = processValue(def, datum, key);\n        if (key === INVALID_VALUE) break;\n        if (keys) {\n          keys[keyIdx++] = key;\n        }\n      }\n      if (key === INVALID_VALUE) continue;\n      const values = valueDefs.length > 0 ? new Array(valueDefs.length) : void 0;\n      let value;\n      for (const [valueDefIdx, def] of valueDefs.entries()) {\n        for (const scope of (_a = def.scopes) != null ? _a : scopes) {\n          const source = sourcesById.get(scope);\n          const valueDatum = (_b = source == null ? void 0 : source.data[datumIdx]) != null ? _b : datum;\n          value = processValue(def, valueDatum, value, scope);\n          if (value === INVALID_VALUE || !values) continue;\n          if (source != null && def.includeProperty !== false) {\n            const property = def.includeProperty && def.id != null ? def.id : def.property;\n            (_c = sourceDatums[scope]) != null ? _c : sourceDatums[scope] = {};\n            sourceDatums[scope][property] = value;\n          }\n          values[valueDefIdx] = value;\n        }\n        if (value === INVALID_VALUE) {\n          if (allScopesHaveSameDefs) break;\n          for (const scope of (_d = def.scopes) != null ? _d : scopes) {\n            validScopes == null ? void 0 : validScopes.delete(scope);\n          }\n          if ((validScopes == null ? void 0 : validScopes.size) === 0) break;\n        }\n      }\n      if (value === INVALID_VALUE && allScopesHaveSameDefs) continue;\n      if ((validScopes == null ? void 0 : validScopes.size) === 0) continue;\n      const result = {\n        datum: __spreadValues(__spreadValues({}, datum), sourceDatums),\n        keys,\n        values\n      };\n      if (!allScopesHaveSameDefs && validScopes && validScopes.size < scopes.size) {\n        partialValidDataCount++;\n        result.validScopes = new Set(validScopes);\n      }\n      resultData[resultDataIdx++] = result;\n    }\n    resultData.length = resultDataIdx;\n    const propertyDomain = def => {\n      const defDomain = dataDomain.get(def);\n      const result = defDomain.getDomain();\n      if (ContinuousDomain.is(defDomain) && result[0] > result[1]) {\n        return [];\n      }\n      return result;\n    };\n    return {\n      type: \"ungrouped\",\n      input: {\n        count: data.length\n      },\n      data: resultData,\n      domain: {\n        keys: keyDefs.map(propertyDomain),\n        values: valueDefs.map(propertyDomain)\n      },\n      defs: {\n        allScopesHaveSameDefs,\n        keys: keyDefs,\n        values: valueDefs\n      },\n      partialValidDataCount,\n      time: 0\n    };\n  }\n  groupData(data, groupingFn) {\n    var _a;\n    const processedData = /* @__PURE__ */new Map();\n    for (const dataEntry of data.data) {\n      const {\n        keys,\n        values,\n        datum,\n        validScopes\n      } = dataEntry;\n      const group2 = (_a = groupingFn == null ? void 0 : groupingFn(dataEntry)) != null ? _a : keys;\n      const groupStr = toKeyString(group2);\n      if (processedData.has(groupStr)) {\n        const existingData = processedData.get(groupStr);\n        existingData.values.push(values);\n        existingData.datum.push(datum);\n        if (validScopes != null && existingData.validScopes != null) {\n          for (const scope of existingData.validScopes) {\n            if (!validScopes.has(scope)) {\n              existingData.validScopes.delete(scope);\n            }\n          }\n        }\n      } else {\n        processedData.set(groupStr, {\n          keys: group2,\n          values: [values],\n          datum: [datum],\n          validScopes\n        });\n      }\n    }\n    const resultData = new Array(processedData.size);\n    const resultGroups = new Array(processedData.size);\n    let dataIndex = 0;\n    for (const {\n      keys,\n      values,\n      datum,\n      validScopes\n    } of processedData.values()) {\n      if ((validScopes == null ? void 0 : validScopes.size) === 0) continue;\n      resultGroups[dataIndex] = keys;\n      resultData[dataIndex++] = {\n        keys,\n        values,\n        datum,\n        validScopes\n      };\n    }\n    return __spreadProps(__spreadValues({}, data), {\n      type: \"grouped\",\n      data: resultData,\n      domain: __spreadProps(__spreadValues({}, data.domain), {\n        groups: resultGroups\n      })\n    });\n  }\n  aggregateData(processedData) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const isUngrouped = processedData.type === \"ungrouped\";\n    processedData.domain.aggValues = [];\n    for (const [index, def] of this.aggregates.entries()) {\n      const indices = this.valueGroupIdxLookup(def);\n      const domain = [Infinity, -Infinity];\n      for (const datum of processedData.data) {\n        (_a = datum.aggValues) != null ? _a : datum.aggValues = new Array(this.aggregates.length);\n        if (datum.validScopes) continue;\n        const values = isUngrouped ? [datum.values] : datum.values;\n        let groupAggValues = (_c = (_b = def.groupAggregateFunction) == null ? void 0 : _b.call(def)) != null ? _c : [Infinity, -Infinity];\n        for (const distinctValues of values) {\n          const valuesToAgg = indices.map(valueIdx => distinctValues[valueIdx]);\n          const valuesAgg = def.aggregateFunction(valuesToAgg, datum.keys);\n          if (valuesAgg) {\n            groupAggValues = (_e = (_d = def.groupAggregateFunction) == null ? void 0 : _d.call(def, valuesAgg, groupAggValues)) != null ? _e : ContinuousDomain.extendDomain(valuesAgg, groupAggValues);\n          }\n        }\n        const finalValues = ((_g = (_f = def.finalFunction) == null ? void 0 : _f.call(def, groupAggValues)) != null ? _g : groupAggValues).map(v => round2(v));\n        datum.aggValues[index] = finalValues;\n        ContinuousDomain.extendDomain(finalValues, domain);\n      }\n      processedData.domain.aggValues.push(domain);\n    }\n  }\n  postProcessGroups(processedData) {\n    var _a, _b;\n    const {\n      groupProcessors\n    } = this;\n    const affectedIndices = /* @__PURE__ */new Set();\n    const updatedDomains = /* @__PURE__ */new Map();\n    const groupProcessorIndices = /* @__PURE__ */new Map();\n    const groupProcessorInitFns = /* @__PURE__ */new Map();\n    for (const processor of groupProcessors) {\n      const indices = this.valueGroupIdxLookup(processor);\n      groupProcessorIndices.set(processor, indices);\n      groupProcessorInitFns.set(processor, processor.adjust());\n      for (const idx of indices) {\n        const valueDef = this.values[idx];\n        const isDiscrete = valueDef.valueType === \"category\";\n        affectedIndices.add(idx);\n        updatedDomains.set(idx, isDiscrete ? new DiscreteDomain() : new ContinuousDomain());\n      }\n    }\n    const updateDomains = values => {\n      var _a2;\n      for (const valueIndex of affectedIndices) {\n        (_a2 = updatedDomains.get(valueIndex)) == null ? void 0 : _a2.extend(values[valueIndex]);\n      }\n    };\n    for (const group2 of processedData.data) {\n      for (const processor of groupProcessors) {\n        if (group2.validScopes) continue;\n        const valueIndexes = (_a = groupProcessorIndices.get(processor)) != null ? _a : [];\n        const adjustFn = (_b = groupProcessorInitFns.get(processor)) == null ? void 0 : _b();\n        if (!adjustFn) continue;\n        if (processedData.type === \"grouped\") {\n          for (const values of group2.values) {\n            if (values) {\n              adjustFn(values, valueIndexes);\n            }\n          }\n        } else if (group2.values) {\n          adjustFn(group2.values, valueIndexes);\n        }\n      }\n      if (processedData.type === \"grouped\") {\n        for (const values of group2.values) {\n          updateDomains(values);\n        }\n      } else {\n        updateDomains(group2.values);\n      }\n    }\n    for (const [idx, dataDomain] of updatedDomains) {\n      processedData.domain.values[idx] = dataDomain.getDomain();\n    }\n  }\n  postProcessProperties(processedData) {\n    for (const {\n      adjust,\n      property,\n      scopes\n    } of this.propertyProcessors) {\n      adjust()(processedData, this.valueIdxLookup(scopes, property));\n    }\n  }\n  reduceData(processedData) {\n    var _a, _b;\n    (_a = processedData.reduced) != null ? _a : processedData.reduced = {};\n    for (const def of this.reducers) {\n      const reducer = def.reducer();\n      let accValue = def.initialValue;\n      for (const datum of processedData.data) {\n        if (!datum.validScopes || ((_b = def.scopes) == null ? void 0 : _b.some(s => {\n          var _a2;\n          return (_a2 = datum.validScopes) == null ? void 0 : _a2.has(s);\n        }))) {\n          accValue = reducer(accValue, datum);\n        }\n      }\n      processedData.reduced[def.property] = accValue;\n    }\n  }\n  postProcessData(processedData) {\n    var _a;\n    (_a = processedData.reduced) != null ? _a : processedData.reduced = {};\n    for (const def of this.processors) {\n      processedData.reduced[def.property] = def.calculate(processedData);\n    }\n  }\n  initDataDomainProcessor() {\n    const {\n      keys: keyDefs,\n      values: valueDefs\n    } = this;\n    const scopes = /* @__PURE__ */new Set();\n    for (const valueDef of valueDefs) {\n      if (!valueDef.scopes) continue;\n      for (const scope of valueDef.scopes) {\n        scopes.add(scope);\n      }\n    }\n    const dataDomain = /* @__PURE__ */new Map();\n    const processorFns = /* @__PURE__ */new Map();\n    let allScopesHaveSameDefs = true;\n    const initDataDomain = () => {\n      var _a;\n      for (const def of iterate(keyDefs, valueDefs)) {\n        if (def.valueType === \"category\") {\n          dataDomain.set(def, new DiscreteDomain());\n        } else {\n          dataDomain.set(def, new ContinuousDomain());\n          allScopesHaveSameDefs && (allScopesHaveSameDefs = ((_a = def.scopes) != null ? _a : []).length === scopes.size);\n        }\n      }\n    };\n    initDataDomain();\n    const accessors = this.buildAccessors(iterate(keyDefs, valueDefs));\n    const processValue = (def, datum, previousDatum, scope) => {\n      var _a, _b, _c, _d, _e;\n      let valueInDatum;\n      let value;\n      if (accessors.has(def.property)) {\n        try {\n          value = accessors.get(def.property)(datum);\n        } catch (error) {}\n        valueInDatum = value != null;\n      } else {\n        valueInDatum = def.property in datum;\n        value = valueInDatum ? datum[def.property] : def.missingValue;\n      }\n      if (def.forceValue != null) {\n        const valueNegative = valueInDatum && isNegative(value);\n        value = valueNegative ? -1 * def.forceValue : def.forceValue;\n        valueInDatum = true;\n      }\n      const missingValueDef = (\"missingValue\" in def);\n      if (!valueInDatum && !missingValueDef) {\n        const missCount = (_a = def.missing.get(scope)) != null ? _a : 0;\n        def.missing.set(scope, missCount + 1);\n      }\n      if (!dataDomain.has(def)) {\n        initDataDomain();\n      }\n      if (valueInDatum && !((_c = (_b = def.validation) == null ? void 0 : _b.call(def, value, datum)) != null ? _c : true)) {\n        if (\"invalidValue\" in def) {\n          value = def.invalidValue;\n        } else {\n          if (this.mode !== \"integrated\") {\n            Logger.warnOnce(\"invalid value of type [\".concat(typeof value, \"] ignored:\"), \"[\".concat(value, \"]\"));\n          }\n          return INVALID_VALUE;\n        }\n      }\n      if (def.processor) {\n        if (!processorFns.has(def)) {\n          processorFns.set(def, def.processor());\n        }\n        value = (_d = processorFns.get(def)) == null ? void 0 : _d(value, previousDatum === INVALID_VALUE ? void 0 : previousDatum);\n      }\n      (_e = dataDomain.get(def)) == null ? void 0 : _e.extend(value);\n      return value;\n    };\n    return {\n      dataDomain,\n      processValue,\n      initDataDomain,\n      scopes,\n      allScopesHaveSameDefs\n    };\n  }\n  buildAccessors(defs) {\n    const result = /* @__PURE__ */new Map();\n    if (this.mode === \"integrated\") {\n      return result;\n    }\n    for (const def of defs) {\n      const isPath = def.property.includes(\".\") || def.property.includes(\"[\");\n      if (!isPath) continue;\n      let fnBody;\n      if (def.property.startsWith(\"[\")) {\n        fnBody = \"return datum\".concat(def.property, \";\");\n      } else {\n        fnBody = \"return datum.\".concat(def.property, \";\");\n      }\n      result.set(def.property, new Function(\"datum\", fnBody));\n    }\n    return result;\n  }\n};\nfunction logProcessedData(processedData) {\n  var _a, _b;\n  const logValues = (name, data) => {\n    if (data.length > 0) {\n      Logger.log(\"DataModel.processData() - \".concat(name));\n      Logger.table(data);\n    }\n  };\n  Logger.log(\"DataModel.processData() - processedData\", processedData);\n  logValues(\"Key Domains\", processedData.domain.keys);\n  logValues(\"Group Domains\", (_a = processedData.domain.groups) != null ? _a : []);\n  logValues(\"Value Domains\", processedData.domain.values);\n  logValues(\"Aggregate Domains\", (_b = processedData.domain.aggValues) != null ? _b : []);\n  if (processedData.type === \"grouped\") {\n    const flattenedValues = processedData.data.reduce((acc, next) => {\n      var _a2, _b2;\n      const keys = (_a2 = next.keys) != null ? _a2 : [];\n      const aggValues = (_b2 = next.aggValues) != null ? _b2 : [];\n      const skipKeys = next.keys.map(() => void 0);\n      const skipAggValues = aggValues == null ? void 0 : aggValues.map(() => void 0);\n      acc.push(...next.values.map((v, i) => [...(i === 0 ? keys : skipKeys), ...(v != null ? v : []), ...(i == 0 ? aggValues : skipAggValues)]));\n      return acc;\n    }, []);\n    logValues(\"Values\", flattenedValues);\n  } else {\n    const flattenedValues = processedData.data.reduce((acc, next) => {\n      var _a2;\n      const aggValues = (_a2 = next.aggValues) != null ? _a2 : [];\n      acc.push([...next.keys, ...next.values, ...aggValues]);\n      return acc;\n    }, []);\n    logValues(\"Values\", flattenedValues);\n  }\n}\n\n// packages/ag-charts-community/src/chart/data/dataController.ts\nvar _DataController = class _DataController {\n  constructor(mode) {\n    this.mode = mode;\n    this.debug = Debug.create(true, \"data-model\");\n    this.requested = [];\n    this.status = \"setup\";\n  }\n  request(id, data, opts) {\n    return __async(this, null, function* () {\n      if (this.status !== \"setup\") {\n        throw new Error(\"AG Charts - data request after data setup phase.\");\n      }\n      return new Promise((resolve, reject) => {\n        this.requested.push({\n          id,\n          opts,\n          data,\n          resolve,\n          reject\n        });\n      });\n    });\n  }\n  execute() {\n    if (this.status !== \"setup\") {\n      throw new Error(\"AG Charts - data request after data setup phase.\");\n    }\n    this.status = \"executed\";\n    this.debug(\"DataController.execute() - requested\", this.requested);\n    const valid = this.validateRequests(this.requested);\n    this.debug(\"DataController.execute() - validated\", valid);\n    const merged = this.mergeRequested(valid);\n    this.debug(\"DataController.execute() - merged\", merged);\n    if (this.debug.check()) {\n      getWindow().processedData = [];\n    }\n    const scopes = this.requested.map(_ref56 => {\n      let {\n        id\n      } = _ref56;\n      return id;\n    });\n    const needsValueExtraction = this.hasMultipleDataSources(valid);\n    for (const {\n      opts,\n      data,\n      resolves,\n      rejects,\n      ids\n    } of merged) {\n      try {\n        const dataModel = new DataModel(opts, this.mode);\n        const processedData = dataModel.processData(data, valid);\n        if (this.debug.check()) {\n          getWindow(\"processedData\").push(processedData);\n        }\n        if ((processedData == null ? void 0 : processedData.partialValidDataCount) === 0) {\n          resolves.forEach((resolve, requestIdx) => resolve({\n            dataModel,\n            processedData: this.processScopedData(ids[requestIdx], processedData, scopes, needsValueExtraction)\n          }));\n        } else if (processedData) {\n          this.splitResult(dataModel, processedData, ids, resolves);\n        } else {\n          rejects.forEach(cb => cb(new Error(\"AG Charts - no processed data generated\")));\n        }\n      } catch (error) {\n        rejects.forEach(cb => cb(error));\n      }\n    }\n  }\n  hasMultipleDataSources(validRequests) {\n    if (validRequests.length) {\n      const [{\n        data\n      }, ...restRequests] = validRequests;\n      return restRequests.some(v => data !== v.data);\n    }\n    return false;\n  }\n  processScopedData(id, processedData, ids, needsValueExtraction) {\n    const extractDatum = datum => {\n      if (Array.isArray(datum)) {\n        return datum.map(extractDatum);\n      }\n      const extracted = needsValueExtraction ? __spreadValues(__spreadValues({}, datum), datum[id]) : datum;\n      for (const otherId of ids) {\n        delete extracted[otherId];\n      }\n      return extracted;\n    };\n    const extractValues = values => {\n      var _a;\n      if (Array.isArray(values)) {\n        return values.map(extractValues);\n      }\n      return (_a = values == null ? void 0 : values[id]) != null ? _a : values;\n    };\n    return __spreadProps(__spreadValues({}, processedData), {\n      data: processedData.data.map(datum => {\n        var _a;\n        return __spreadProps(__spreadValues({}, datum), {\n          datum: extractDatum(datum.datum),\n          values: needsValueExtraction ? (_a = datum.values) == null ? void 0 : _a.map(extractValues) : datum.values\n        });\n      })\n    });\n  }\n  validateRequests(requested) {\n    const valid = [];\n    for (const [index, request] of requested.entries()) {\n      if (index > 0 && request.data.length !== requested[0].data.length && request.opts.groupByData === false) {\n        request.reject(new Error(\"all series[].data arrays must be of the same length and have matching keys.\"));\n      } else {\n        valid.push(request);\n      }\n    }\n    return valid;\n  }\n  mergeRequested(requested) {\n    const grouped = [];\n    for (const request of requested) {\n      const match = grouped.find(_DataController.groupMatch(request));\n      if (match) {\n        match.push(request);\n      } else {\n        grouped.push([request]);\n      }\n    }\n    return grouped.map(_DataController.mergeRequests);\n  }\n  splitResult(dataModel, processedData, scopes, resolves) {\n    for (let i = 0; i < scopes.length; i++) {\n      const scope = scopes[i];\n      const resolve = resolves[i];\n      resolve({\n        dataModel,\n        processedData: __spreadProps(__spreadValues({}, processedData), {\n          data: processedData.data.filter(_ref57 => {\n            let {\n              validScopes\n            } = _ref57;\n            var _a;\n            return (_a = validScopes == null ? void 0 : validScopes.has(scope)) != null ? _a : true;\n          })\n        })\n      });\n    }\n  }\n  static groupMatch(_ref58) {\n    let {\n      data,\n      opts\n    } = _ref58;\n    function keys(props) {\n      return props.filter(p => p.type === \"key\").map(p => p.property).join(\";\");\n    }\n    return _ref59 => {\n      let [group2] = _ref59;\n      return (opts.groupByData === false || group2.data === data) && group2.opts.groupByKeys === opts.groupByKeys && group2.opts.groupByFn === opts.groupByFn && keys(group2.opts.props) === keys(opts.props);\n    };\n  }\n  static mergeRequests(requests) {\n    return requests.reduce((result, _a) => {\n      var {\n          id,\n          data,\n          resolve,\n          reject,\n          opts: _b\n        } = _a,\n        _c = _b,\n        {\n          props\n        } = _c,\n        opts = __objRest(_c, [\"props\"]);\n      var _a2, _b2, _c2, _d, _e;\n      result.ids.push(id);\n      result.rejects.push(reject);\n      result.resolves.push(resolve);\n      (_a2 = result.data) != null ? _a2 : result.data = data;\n      (_b2 = result.opts) != null ? _b2 : result.opts = __spreadProps(__spreadValues({}, opts), {\n        props: []\n      });\n      for (const prop of props) {\n        const clone = __spreadProps(__spreadValues({}, prop), {\n          scopes: [id]\n        });\n        _DataController.createIdsMap(id, clone);\n        const match = result.opts.props.find(existing => existing.type === clone.type && _DataController.deepEqual(existing, clone));\n        if (!match) {\n          result.opts.props.push(clone);\n          continue;\n        }\n        (_c2 = match.scopes) != null ? _c2 : match.scopes = [];\n        match.scopes.push(...((_d = clone.scopes) != null ? _d : []));\n        if ((match.type === \"key\" || match.type === \"value\") && ((_e = clone.idsMap) == null ? void 0 : _e.size)) {\n          _DataController.mergeIdsMap(clone.idsMap, match.idsMap);\n        }\n      }\n      return result;\n    }, {\n      ids: [],\n      rejects: [],\n      resolves: [],\n      data: null,\n      opts: null\n    });\n  }\n  static mergeIdsMap(fromMap, toMap) {\n    for (const [scope, ids] of fromMap) {\n      if (toMap.has(scope)) {\n        for (const id of ids) {\n          toMap.get(scope).add(id);\n        }\n      } else {\n        toMap.set(scope, new Set(ids));\n      }\n    }\n  }\n  static createIdsMap(scope, prop) {\n    var _a;\n    if (prop.id == null) return;\n    (_a = prop.idsMap) != null ? _a : prop.idsMap = /* @__PURE__ */new Map();\n    if (prop.idsMap.has(scope)) {\n      prop.idsMap.get(scope).add(prop.id);\n    } else {\n      prop.idsMap.set(scope, /* @__PURE__ */new Set([prop.id]));\n    }\n  }\n  static deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n    if (a && b && typeof a == \"object\" && typeof b == \"object\") {\n      if (a.constructor !== b.constructor) {\n        return false;\n      }\n      let i, length;\n      if (Array.isArray(a)) {\n        length = a.length;\n        if (length !== b.length) {\n          return false;\n        }\n        for (i = length - 1; i >= 0; i--) {\n          if (!_DataController.deepEqual(a[i], b[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      const keys = Object.keys(a);\n      length = keys.length;\n      if (length !== Object.keys(b).length) {\n        return false;\n      }\n      for (i = length - 1; i >= 0; i--) {\n        const key = keys[i];\n        if (!_DataController.skipKeys.has(key) && (!Object.hasOwn(b, key) || !_DataController.deepEqual(a[key], b[key]))) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n};\n// optimized version of deep equality for `mergeRequests` which can potentially loop over 1M times\n_DataController.skipKeys = /* @__PURE__ */new Set([\"id\", \"idsMap\", \"type\", \"scopes\"]);\nvar DataController = _DataController;\n\n// packages/ag-charts-community/src/chart/interaction/syncManager.ts\nvar _SyncManager = class _SyncManager extends BaseManager {\n  constructor(chart) {\n    super();\n    this.chart = chart;\n  }\n  subscribe() {\n    let groupId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _SyncManager.DEFAULT_GROUP;\n    let syncGroup = this.get(groupId);\n    if (!syncGroup) {\n      syncGroup = /* @__PURE__ */new Set();\n      _SyncManager.chartsGroups.set(groupId, syncGroup);\n    }\n    syncGroup.add(this.chart);\n    return this;\n  }\n  unsubscribe() {\n    let groupId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _SyncManager.DEFAULT_GROUP;\n    var _a;\n    (_a = this.get(groupId)) == null ? void 0 : _a.delete(this.chart);\n    return this;\n  }\n  getChart() {\n    return this.chart;\n  }\n  getGroup() {\n    let groupId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _SyncManager.DEFAULT_GROUP;\n    const syncGroup = this.get(groupId);\n    return syncGroup ? Array.from(syncGroup) : [];\n  }\n  getGroupSiblings() {\n    let groupId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _SyncManager.DEFAULT_GROUP;\n    return this.getGroup(groupId).filter(chart => chart !== this.chart);\n  }\n  get(groupId) {\n    return _SyncManager.chartsGroups.get(groupId);\n  }\n};\n_SyncManager.chartsGroups = /* @__PURE__ */new Map();\n_SyncManager.DEFAULT_GROUP = Symbol(\"sync-group-default\");\nvar SyncManager = _SyncManager;\n\n// packages/ag-charts-community/src/chart/interaction/zoomManager.ts\nvar ZoomManager = class extends BaseManager {\n  constructor() {\n    super(...arguments);\n    this.axisZoomManagers = /* @__PURE__ */new Map();\n    this.state = new StateTracker(void 0, \"initial\");\n    this.rejectCallbacks = /* @__PURE__ */new Map();\n  }\n  updateAxes(axes) {\n    var _a;\n    const zoomManagers = new Map(axes.map(axis => [axis.id, this.axisZoomManagers.get(axis.id)]));\n    this.axisZoomManagers.clear();\n    for (const axis of axes) {\n      this.axisZoomManagers.set(axis.id, (_a = zoomManagers.get(axis.id)) != null ? _a : new AxisZoomManager(axis));\n    }\n    if (this.state.size > 0 && axes.length > 0) {\n      this.updateZoom(this.state.stateId(), this.state.stateValue());\n    }\n  }\n  updateZoom(callerId, newZoom) {\n    let canChangeInitial = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    let rejectCallback = arguments.length > 3 ? arguments[3] : undefined;\n    var _a;\n    if (rejectCallback) {\n      this.rejectCallbacks.set(callerId, rejectCallback);\n    }\n    if (this.axisZoomManagers.size === 0) {\n      const stateId = this.state.stateId();\n      if (stateId === \"initial\" || stateId === callerId || canChangeInitial) {\n        this.state.set(callerId, newZoom);\n        if (stateId !== callerId) {\n          (_a = this.rejectCallbacks.get(stateId)) == null ? void 0 : _a(callerId);\n        }\n      } else {\n        rejectCallback == null ? void 0 : rejectCallback(stateId);\n      }\n      return;\n    }\n    this.state.set(callerId, newZoom);\n    this.axisZoomManagers.forEach(axis => {\n      axis.updateZoom(callerId, newZoom == null ? void 0 : newZoom[axis.getDirection()]);\n    });\n    this.applyChanges(callerId);\n  }\n  updateAxisZoom(callerId, axisId, newZoom) {\n    var _a;\n    (_a = this.axisZoomManagers.get(axisId)) == null ? void 0 : _a.updateZoom(callerId, newZoom);\n    this.applyChanges(callerId);\n  }\n  // Fire this event to signal to listeners that the view is changing through a zoom and/or pan change.\n  fireZoomPanStartEvent(callerId) {\n    this.listeners.dispatch(\"zoom-pan-start\", {\n      type: \"zoom-pan-start\",\n      callerId\n    });\n  }\n  getZoom() {\n    let x;\n    let y;\n    this.axisZoomManagers.forEach(axis => {\n      if (axis.getDirection() === \"x\" /* X */) {\n        x != null ? x : x = axis.getZoom();\n      } else if (axis.getDirection() === \"y\" /* Y */) {\n        y != null ? y : y = axis.getZoom();\n      }\n    });\n    if (x || y) {\n      return {\n        x,\n        y\n      };\n    }\n  }\n  getAxisZoom(axisId) {\n    var _a, _b;\n    return (_b = (_a = this.axisZoomManagers.get(axisId)) == null ? void 0 : _a.getZoom()) != null ? _b : {\n      min: 0,\n      max: 1\n    };\n  }\n  getAxisZooms() {\n    const axes = {};\n    for (const [axisId, axis] of this.axisZoomManagers.entries()) {\n      axes[axisId] = {\n        direction: axis.getDirection(),\n        zoom: axis.getZoom()\n      };\n    }\n    return axes;\n  }\n  applyChanges(callerId) {\n    const changed = Array.from(this.axisZoomManagers.values(), axis => axis.applyChanges()).some(Boolean);\n    if (!changed) {\n      return;\n    }\n    const axes = {};\n    for (const [axisId, axis] of this.axisZoomManagers.entries()) {\n      axes[axisId] = axis.getZoom();\n    }\n    this.listeners.dispatch(\"zoom-change\", __spreadProps(__spreadValues({\n      type: \"zoom-change\"\n    }, this.getZoom()), {\n      axes,\n      callerId\n    }));\n  }\n};\nvar AxisZoomManager = class {\n  constructor(axis) {\n    this.axis = axis;\n    const [min = 0, max = 1] = axis.visibleRange;\n    this.state = new StateTracker({\n      min,\n      max\n    });\n    this.currentZoom = this.state.stateValue();\n  }\n  getDirection() {\n    return this.axis.direction;\n  }\n  updateZoom(callerId, newZoom) {\n    this.state.set(callerId, newZoom);\n  }\n  getZoom() {\n    return deepClone(this.state.stateValue());\n  }\n  applyChanges() {\n    const prevZoom = this.currentZoom;\n    this.currentZoom = this.state.stateValue();\n    return prevZoom.min !== this.currentZoom.min || prevZoom.max !== this.currentZoom.max;\n  }\n};\n\n// packages/ag-charts-community/src/chart/keyboard.ts\nvar Keyboard = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], Keyboard.prototype, \"enabled\", 2);\n__decorateClass([Validate(NUMBER)], Keyboard.prototype, \"tabIndex\", 2);\n\n// packages/ag-charts-community/src/chart/keyboardUtil.ts\nfunction makeKeyboardPointerEvent(regionManager, pick) {\n  const {\n    bbox,\n    showFocusBox\n  } = pick;\n  if (showFocusBox) {\n    regionManager.updateFocusIndicatorRect(pick.bbox);\n  }\n  if (bbox !== void 0) {\n    const {\n      x: offsetX,\n      y: offsetY\n    } = bbox.computeCenter();\n    return {\n      type: \"keyboard\",\n      offsetX,\n      offsetY\n    };\n  }\n  return void 0;\n}\n\n// packages/ag-charts-community/src/chart/mapping/prepareAxis.ts\nvar CARTESIAN_AXIS_POSITIONS = [\"top\", \"right\", \"bottom\", \"left\"];\nvar CARTESIAN_AXIS_TYPES = [\"category\", \"grouped-category\", \"ordinal-time\", \"number\", \"log\", \"time\"];\nfunction hasCartesianAxisPosition(axis) {\n  const allowedTypes = CARTESIAN_AXIS_TYPES;\n  return allowedTypes.includes(axis.type);\n}\nfunction isCartesianAxisOptions(options) {\n  const allowedTypes = CARTESIAN_AXIS_TYPES;\n  return allowedTypes.includes(options.type);\n}\nfunction isAxisPosition(position) {\n  const allowedPositions = CARTESIAN_AXIS_POSITIONS;\n  return typeof position === \"string\" && allowedPositions.includes(position);\n}\nvar AxisPositionGuesser = class {\n  constructor() {\n    this.result = [];\n    this.valid = [];\n    this.invalid = [];\n  }\n  push(axis, options) {\n    const {\n      result,\n      valid,\n      invalid\n    } = this;\n    if (isCartesianAxisOptions(options)) {\n      if (isAxisPosition(options.position)) {\n        valid.push(axis);\n      } else {\n        invalid.push(axis);\n      }\n    }\n    result.push(axis);\n  }\n  guessInvalidPositions() {\n    const takenPosition = this.valid.filter(v => hasCartesianAxisPosition(v)).map(v => v.position).filter(v => v !== void 0);\n    const guesses = [\"top\", \"right\", \"bottom\", \"left\"];\n    for (const invalidAxis of this.invalid) {\n      let nextGuess = guesses.pop();\n      while (takenPosition.includes(nextGuess) && nextGuess !== void 0) {\n        nextGuess = guesses.pop();\n      }\n      if (nextGuess === void 0) break;\n      invalidAxis.position = nextGuess;\n    }\n    return this.result;\n  }\n};\n\n// packages/ag-charts-community/src/chart/mapping/prepareSeries.ts\nvar MATCHING_KEYS = [\"direction\", \"xKey\", \"yKey\", \"sizeKey\", \"angleKey\", \"radiusKey\", \"normalizedTo\", \"stacked\", \"grouped\", \"stackGroup\"];\nfunction matchSeriesOptions(series, optSeries, oldOptsSeries) {\n  var _a, _b, _c, _d;\n  const generateKey = (type, i) => {\n    const result = [type];\n    for (const key of MATCHING_KEYS) {\n      if (key in i && i[key] != null) result.push(\"\".concat(key, \"=\").concat(i[key]));\n    }\n    return result.join(\";\");\n  };\n  const seriesMap = /* @__PURE__ */new Map();\n  let idx = 0;\n  for (const s of series) {\n    const key = generateKey(s.type, s.properties);\n    if (!seriesMap.has(key)) {\n      seriesMap.set(key, []);\n    }\n    (_a = seriesMap.get(key)) == null ? void 0 : _a.push([s, idx++]);\n  }\n  const optsMap = /* @__PURE__ */new Map();\n  for (const o of optSeries) {\n    const key = generateKey(o.type, o);\n    if (!optsMap.has(key)) {\n      optsMap.set(key, []);\n    }\n    (_b = optsMap.get(key)) == null ? void 0 : _b.push(o);\n  }\n  const overlap = [...seriesMap.keys()].some(k => optsMap.has(k));\n  if (!overlap) {\n    return {\n      status: \"no-overlap\",\n      oldKeys: seriesMap.keys(),\n      newKeys: optsMap.keys()\n    };\n  }\n  const changes = [];\n  let targetIdx = -1;\n  for (const [key, optArray] of optsMap.entries()) {\n    for (const opts of optArray) {\n      targetIdx++;\n      const seriesArray = seriesMap.get(key);\n      if (seriesArray == null || seriesArray.length < 1) {\n        changes.push({\n          opts,\n          idx: targetIdx,\n          status: \"add\"\n        });\n        seriesMap.delete(key);\n        continue;\n      }\n      const [outputSeries, outputIdx] = seriesArray.shift();\n      const previousOpts = (_c = oldOptsSeries == null ? void 0 : oldOptsSeries[outputIdx]) != null ? _c : {};\n      const diff2 = jsonDiff(previousOpts, opts != null ? opts : {});\n      const {\n        groupIndex,\n        stackIndex\n      } = (_d = diff2 == null ? void 0 : diff2.seriesGrouping) != null ? _d : {};\n      if (groupIndex != null || stackIndex != null) {\n        changes.push({\n          opts,\n          series: outputSeries,\n          diff: diff2,\n          idx: outputIdx,\n          status: \"series-grouping\"\n        });\n      } else if (diff2) {\n        changes.push({\n          opts,\n          series: outputSeries,\n          diff: diff2,\n          idx: outputIdx,\n          status: \"update\"\n        });\n      } else {\n        changes.push({\n          opts,\n          series: outputSeries,\n          idx: outputIdx,\n          status: \"no-op\"\n        });\n      }\n      if (seriesArray.length === 0) {\n        seriesMap.delete(key);\n      }\n    }\n  }\n  for (const seriesArray of seriesMap.values()) {\n    for (const [outputSeries, outputIdx] of seriesArray) {\n      changes.push({\n        series: outputSeries,\n        idx: outputIdx,\n        status: \"remove\"\n      });\n    }\n  }\n  return {\n    status: \"overlap\",\n    changes\n  };\n}\n\n// packages/ag-charts-community/src/chart/modulesManager.ts\nvar ModulesManager = class extends ModuleMap {\n  applyOptions(options) {\n    for (const m of this.moduleMap.values()) {\n      if (m.module.optionsKey in options && isProperties(m.moduleInstance)) {\n        m.moduleInstance.set(options[m.module.optionsKey]);\n      }\n    }\n  }\n  *legends() {\n    for (const {\n      module,\n      moduleInstance\n    } of this.moduleMap.values()) {\n      if (module.type !== \"legend\") continue;\n      yield {\n        legendType: module.identifier,\n        legend: moduleInstance\n      };\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/overlay/overlay.ts\nvar DEFAULT_OVERLAY_CLASS = \"ag-chart-overlay\";\nvar DEFAULT_OVERLAY_DARK_CLASS = \"ag-chart-dark-overlay\";\nvar Overlay = class extends BaseProperties {\n  constructor(className, defaultText) {\n    super();\n    this.className = className;\n    this.defaultText = defaultText;\n    this.darkTheme = false;\n  }\n  getText() {\n    var _a;\n    return (_a = this.text) != null ? _a : this.defaultText;\n  }\n  getElement(animationManager, rect) {\n    var _a;\n    (_a = this.element) != null ? _a : this.element = createElement(\"div\", DEFAULT_OVERLAY_CLASS, {\n      position: \"absolute\"\n    });\n    this.element.classList.toggle(DEFAULT_OVERLAY_DARK_CLASS, this.darkTheme);\n    this.focusBox = rect;\n    const element2 = this.element;\n    element2.style.left = \"\".concat(rect.x, \"px\");\n    element2.style.top = \"\".concat(rect.y, \"px\");\n    element2.style.width = \"\".concat(rect.width, \"px\");\n    element2.style.height = \"\".concat(rect.height, \"px\");\n    if (this.renderer) {\n      const htmlContent = this.renderer();\n      if (htmlContent instanceof HTMLElement) {\n        element2.replaceChildren(htmlContent);\n      } else {\n        element2.innerHTML = htmlContent;\n      }\n    } else {\n      const content = createElement(\"div\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        boxSizing: \"border-box\",\n        height: \"100%\",\n        margin: \"8px\",\n        font: \"12px Verdana, sans-serif\"\n      });\n      content.innerText = this.getText();\n      element2.replaceChildren(content);\n      animationManager == null ? void 0 : animationManager.animate({\n        from: 0,\n        to: 1,\n        id: \"overlay\",\n        phase: \"add\",\n        groupId: \"opacity\",\n        onUpdate(value) {\n          element2.style.opacity = String(value);\n        },\n        onStop() {\n          element2.style.opacity = \"1\";\n        }\n      });\n    }\n    return this.element;\n  }\n  removeElement(animationManager) {\n    if (!this.element) return;\n    if (animationManager) {\n      const {\n        element: element2\n      } = this;\n      animationManager.animate({\n        from: 1,\n        to: 0,\n        phase: \"remove\",\n        id: \"overlay\",\n        groupId: \"opacity\",\n        onUpdate(value) {\n          element2.style.opacity = String(value);\n        },\n        onStop() {\n          element2.remove();\n        }\n      });\n    } else {\n      this.element.remove();\n    }\n    this.element = void 0;\n    this.focusBox = void 0;\n  }\n};\n__decorateClass([Validate(STRING, {\n  optional: true\n})], Overlay.prototype, \"text\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], Overlay.prototype, \"renderer\", 2);\n__decorateClass([Validate(BOOLEAN)], Overlay.prototype, \"darkTheme\", 2);\n\n// packages/ag-charts-community/src/chart/overlay/chartOverlays.ts\nvar ChartOverlays = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.loading = new Overlay(\"ag-chart-loading-overlay\", \"Loading data...\");\n    this.noData = new Overlay(\"ag-chart-no-data-overlay\", \"No data to display\");\n    this.noVisibleSeries = new Overlay(\"ag-chart-no-visible-series\", \"No visible series\");\n  }\n  getFocusInfo() {\n    for (const overlay of [this.loading, this.noData, this.noVisibleSeries]) {\n      if (overlay.focusBox !== void 0) {\n        return {\n          text: overlay.getText(),\n          rect: overlay.focusBox\n        };\n      }\n    }\n    return void 0;\n  }\n  destroy() {\n    this.loading.removeElement();\n    this.noData.removeElement();\n    this.noVisibleSeries.removeElement();\n  }\n};\n__decorateClass([Validate(OBJECT)], ChartOverlays.prototype, \"loading\", 2);\n__decorateClass([Validate(OBJECT)], ChartOverlays.prototype, \"noData\", 2);\n__decorateClass([Validate(OBJECT)], ChartOverlays.prototype, \"noVisibleSeries\", 2);\n\n// packages/ag-charts-community/src/chart/overlay/loadingSpinner.ts\nvar defaultOverlayCss = \"\\n.\".concat(DEFAULT_OVERLAY_CLASS, \" {\\n    color: #181d1f;\\n}\\n\\n.\").concat(DEFAULT_OVERLAY_CLASS, \".\").concat(DEFAULT_OVERLAY_DARK_CLASS, \" {\\n    color: #ffffff;\\n}\\n\\n.\").concat(DEFAULT_OVERLAY_CLASS, \"--loading {\\n    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */\\n}\\n\\n.\").concat(DEFAULT_OVERLAY_CLASS, \"__loading-background {\\n    background: white; /* DEFAULT_BACKGROUND_FILL */\\n}\\n\\n.\").concat(DEFAULT_OVERLAY_CLASS, \".\").concat(DEFAULT_OVERLAY_DARK_CLASS, \" .\").concat(DEFAULT_OVERLAY_CLASS, \"__loading-background {\\n    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */\\n}\\n\");\nfunction getLoadingSpinner(text, defaultDuration) {\n  const {\n    animationDuration\n  } = PHASE_METADATA[\"add\"];\n  const duration = animationDuration * defaultDuration;\n  const container = createElement(\"div\", \"\".concat(DEFAULT_OVERLAY_CLASS, \"--loading\"), {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    boxSizing: \"border-box\",\n    font: \"13px Verdana, sans-serif\",\n    // FONT_SIZE.MEDIUM\n    userSelect: \"none\",\n    animation: \"ag-charts-loading \".concat(duration, \"ms linear 50ms both\")\n  });\n  const matrix = createElement(\"span\", {\n    width: \"45px\",\n    height: \"40px\",\n    backgroundImage: [\"linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), \", \"linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), \", \"linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)\"].join(\"\"),\n    backgroundSize: \"10px 400%\",\n    backgroundRepeat: \"no-repeat\",\n    animation: \"ag-charts-loading-matrix 1s infinite linear\"\n  });\n  const label = createElement(\"p\", {\n    marginTop: \"1em\"\n  });\n  label.innerText = text;\n  const background = createElement(\"div\", \"\".concat(DEFAULT_OVERLAY_CLASS, \"__loading-background\"), {\n    position: \"absolute\",\n    inset: \"0\",\n    opacity: \"0.5\",\n    zIndex: \"-1\"\n  });\n  const animationStyles = createElement(\"style\");\n  animationStyles.innerText = [\"@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }\", \"@keyframes ag-charts-loading-matrix {\", \"0% { background-position: 0% 0%, 50% 0%, 100% 0%; }\", \"100% { background-position: 0% 100%, 50% 100%, 100% 100%; }\", \"}\"].join(\" \");\n  container.replaceChildren(animationStyles, matrix, label, background);\n  injectStyle(defaultOverlayCss, \"chartOverlays\");\n  return container;\n}\n\n// packages/ag-charts-community/src/chart/data/aggregateFunctions.ts\nfunction sumValues(values) {\n  let accumulator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n  for (const value of values) {\n    if (typeof value !== \"number\") {\n      continue;\n    }\n    if (value < 0) {\n      accumulator[0] += value;\n    }\n    if (value > 0) {\n      accumulator[1] += value;\n    }\n  }\n  return accumulator;\n}\nfunction sum(id, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: [matchGroupId],\n    type: \"aggregate\",\n    aggregateFunction: values => sumValues(values)\n  };\n  return result;\n}\nfunction groupSum(id, matchGroupId) {\n  return {\n    id,\n    type: \"aggregate\",\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    aggregateFunction: values => sumValues(values),\n    groupAggregateFunction: function (next) {\n      let acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      return acc;\n    }\n  };\n}\nfunction range2(id, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: [matchGroupId],\n    type: \"aggregate\",\n    aggregateFunction: values => ContinuousDomain.extendDomain(values)\n  };\n  return result;\n}\nfunction groupCount(id) {\n  return {\n    id,\n    type: \"aggregate\",\n    aggregateFunction: () => [0, 1],\n    groupAggregateFunction: function (next) {\n      let acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      return acc;\n    }\n  };\n}\nfunction groupAverage(id, matchGroupId) {\n  const def = {\n    id,\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    type: \"aggregate\",\n    aggregateFunction: values => sumValues(values),\n    groupAggregateFunction: function (next) {\n      let acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, -1];\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      acc[2]++;\n      return acc;\n    },\n    finalFunction: function () {\n      let acc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0, 0];\n      const result = acc[0] + acc[1];\n      if (result >= 0) {\n        return [0, result / acc[2]];\n      }\n      return [result / acc[2], 0];\n    }\n  };\n  return def;\n}\nfunction area(id, aggFn, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    type: \"aggregate\",\n    aggregateFunction: function (values) {\n      let keyRange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      const keyWidth = keyRange[1] - keyRange[0];\n      return aggFn.aggregateFunction(values).map(v => v / keyWidth);\n    }\n  };\n  if (aggFn.groupAggregateFunction) {\n    result.groupAggregateFunction = aggFn.groupAggregateFunction;\n  }\n  return result;\n}\nfunction accumulatedValue(onlyPositive) {\n  return () => {\n    let value = 0;\n    return datum => {\n      if (!isFiniteNumber(datum)) {\n        return datum;\n      }\n      value += onlyPositive ? Math.max(0, datum) : datum;\n      return value;\n    };\n  };\n}\nfunction trailingAccumulatedValue() {\n  return () => {\n    let value = 0;\n    return datum => {\n      if (!isFiniteNumber(datum)) {\n        return datum;\n      }\n      const trailingValue = value;\n      value += datum;\n      return trailingValue;\n    };\n  };\n}\n\n// packages/ag-charts-community/src/chart/data/processors.ts\nvar SMALLEST_KEY_INTERVAL = {\n  type: \"reducer\",\n  property: \"smallestKeyInterval\",\n  initialValue: Infinity,\n  reducer: () => {\n    let prevX = NaN;\n    return function () {\n      let smallestSoFar = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Infinity;\n      let next = arguments.length > 1 ? arguments[1] : undefined;\n      const nextX = next.keys[0];\n      const interval = Math.abs(nextX - prevX);\n      prevX = nextX;\n      if (!isNaN(interval) && interval > 0 && interval < smallestSoFar) {\n        return interval;\n      }\n      return smallestSoFar;\n    };\n  }\n};\nvar SORT_DOMAIN_GROUPS = {\n  type: \"processor\",\n  property: \"sortedGroupDomain\",\n  calculate: _ref60 => {\n    let {\n      domain: {\n        groups\n      }\n    } = _ref60;\n    return groups == null ? void 0 : groups.slice().sort((a, b) => {\n      for (let i = 0; i < a.length; i++) {\n        const result = a[i] - b[i];\n        if (result !== 0) {\n          return result;\n        }\n      }\n      return 0;\n    });\n  }\n};\nfunction normaliseFnBuilder(_ref61) {\n  let {\n    normaliseTo,\n    mode\n  } = _ref61;\n  const normalise = (val, extent2) => {\n    const result = val * normaliseTo / extent2;\n    if (result >= 0) {\n      return Math.min(normaliseTo, result);\n    }\n    return Math.max(-normaliseTo, result);\n  };\n  return () => () => (values, valueIndexes) => {\n    const valuesExtent = [0, 0];\n    for (const valueIdx of valueIndexes) {\n      const value = values[valueIdx];\n      const valIdx = value < 0 ? 0 : 1;\n      if (mode === \"sum\") {\n        valuesExtent[valIdx] += value;\n      } else if (valIdx === 0) {\n        valuesExtent[valIdx] = Math.min(valuesExtent[valIdx], value);\n      } else {\n        valuesExtent[valIdx] = Math.max(valuesExtent[valIdx], value);\n      }\n    }\n    const extent2 = Math.max(Math.abs(valuesExtent[0]), valuesExtent[1]);\n    for (const valueIdx of valueIndexes) {\n      values[valueIdx] = normalise(values[valueIdx], extent2);\n    }\n  };\n}\nfunction normaliseGroupTo(matchGroupIds, normaliseTo) {\n  let mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"sum\";\n  return {\n    type: \"group-value-processor\",\n    matchGroupIds,\n    adjust: memo({\n      normaliseTo,\n      mode\n    }, normaliseFnBuilder)\n  };\n}\nfunction normalisePropertyFnBuilder(_ref62) {\n  let {\n    normaliseTo,\n    zeroDomain,\n    rangeMin,\n    rangeMax\n  } = _ref62;\n  const normaliseSpan = normaliseTo[1] - normaliseTo[0];\n  const normalise = (val, start, span) => {\n    const result = normaliseTo[0] + (val - start) / span * normaliseSpan;\n    if (span === 0) {\n      return zeroDomain;\n    } else if (result >= normaliseTo[1]) {\n      return normaliseTo[1];\n    } else if (result < normaliseTo[0]) {\n      return normaliseTo[0];\n    }\n    return result;\n  };\n  return () => (pData, pIdx) => {\n    let [start, end] = pData.domain.values[pIdx];\n    if (rangeMin != null) start = rangeMin;\n    if (rangeMax != null) end = rangeMax;\n    const span = end - start;\n    pData.domain.values[pIdx] = [normaliseTo[0], normaliseTo[1]];\n    for (const group2 of pData.data) {\n      let groupValues = group2.values;\n      if (pData.type === \"ungrouped\") {\n        groupValues = [groupValues];\n      }\n      for (const values of groupValues) {\n        values[pIdx] = normalise(values[pIdx], start, span);\n      }\n    }\n  };\n}\nfunction normalisePropertyTo(property, normaliseTo, zeroDomain, rangeMin, rangeMax) {\n  return {\n    type: \"property-value-processor\",\n    property,\n    adjust: memo({\n      normaliseTo,\n      rangeMin,\n      rangeMax,\n      zeroDomain\n    }, normalisePropertyFnBuilder)\n  };\n}\nfunction animationValidation(valueKeyIds) {\n  return {\n    type: \"processor\",\n    property: \"animationValidation\",\n    calculate(result) {\n      const {\n        keys,\n        values\n      } = result.defs;\n      const {\n        input,\n        data\n      } = result;\n      let uniqueKeys = true;\n      let orderedKeys = true;\n      const valueKeys = [];\n      for (let k = 0; k < values.length; k++) {\n        if (!(valueKeyIds == null ? void 0 : valueKeyIds.includes(values[k].id))) continue;\n        valueKeys.push([k, values[k]]);\n      }\n      const processKey = (idx, def, type) => {\n        var _a;\n        if (def.valueType === \"category\") {\n          const keyValues = result.domain[type][idx];\n          uniqueKeys && (uniqueKeys = keyValues.length === input.count);\n          return;\n        }\n        let lastValue = (_a = data[0]) == null ? void 0 : _a[type][idx];\n        for (let d = 1; (uniqueKeys || orderedKeys) && d < data.length; d++) {\n          const keyValue = data[d][type][idx];\n          orderedKeys && (orderedKeys = lastValue <= keyValue);\n          uniqueKeys && (uniqueKeys = lastValue !== keyValue);\n          lastValue = keyValue;\n        }\n      };\n      for (let k = 0; (uniqueKeys || orderedKeys) && k < keys.length; k++) {\n        processKey(k, keys[k], \"keys\");\n      }\n      for (let k = 0; (uniqueKeys || orderedKeys) && k < valueKeys.length; k++) {\n        const [idx, key] = valueKeys[k];\n        processKey(idx, key, \"values\");\n      }\n      return {\n        uniqueKeys,\n        orderedKeys\n      };\n    }\n  };\n}\nfunction buildGroupAccFn(_ref63) {\n  let {\n    mode,\n    separateNegative\n  } = _ref63;\n  return () => () => (values, valueIndexes) => {\n    const acc = [0, 0];\n    for (const valueIdx of valueIndexes) {\n      const currentVal = values[valueIdx];\n      const accIndex = isNegative(currentVal) && separateNegative ? 0 : 1;\n      if (!isFiniteNumber(currentVal)) continue;\n      if (mode === \"normal\") acc[accIndex] += currentVal;\n      values[valueIdx] = acc[accIndex];\n      if (mode === \"trailing\") acc[accIndex] += currentVal;\n    }\n  };\n}\nfunction buildGroupWindowAccFn(_ref64) {\n  let {\n    mode,\n    sum: sum2\n  } = _ref64;\n  return () => {\n    const lastValues = [];\n    let firstRow = true;\n    return () => {\n      return (values, valueIndexes) => {\n        let acc = 0;\n        for (const valueIdx of valueIndexes) {\n          const currentVal = values[valueIdx];\n          const lastValue = firstRow && sum2 === \"current\" ? 0 : lastValues[valueIdx];\n          lastValues[valueIdx] = currentVal;\n          const sumValue = sum2 === \"current\" ? currentVal : lastValue;\n          if (!isFiniteNumber(currentVal) || !isFiniteNumber(lastValue)) {\n            values[valueIdx] = acc;\n            continue;\n          }\n          if (mode === \"normal\") {\n            acc += sumValue;\n          }\n          values[valueIdx] = acc;\n          if (mode === \"trailing\") {\n            acc += sumValue;\n          }\n        }\n        firstRow = false;\n      };\n    };\n  };\n}\nfunction accumulateGroup(matchGroupId, mode, sum2) {\n  let separateNegative = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  let adjust;\n  if (mode.startsWith(\"window\")) {\n    const modeParam = mode.endsWith(\"-trailing\") ? \"trailing\" : \"normal\";\n    adjust = memo({\n      mode: modeParam,\n      sum: sum2\n    }, buildGroupWindowAccFn);\n  } else {\n    adjust = memo({\n      mode,\n      separateNegative\n    }, buildGroupAccFn);\n  }\n  return {\n    type: \"group-value-processor\",\n    matchGroupIds: [matchGroupId],\n    adjust\n  };\n}\nfunction diff(previousData) {\n  let updateMovedData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return {\n    type: \"processor\",\n    property: \"diff\",\n    calculate: processedData => {\n      const moved = /* @__PURE__ */new Map();\n      const added = /* @__PURE__ */new Map();\n      const updated = /* @__PURE__ */new Map();\n      const removed = /* @__PURE__ */new Map();\n      const length = Math.max(previousData.data.length, processedData.data.length);\n      for (let i = 0; i < length; i++) {\n        const prev = previousData.data[i];\n        const datum = processedData.data[i];\n        const prevId = prev ? createDatumId(prev.keys) : \"\";\n        const datumId = datum ? createDatumId(datum.keys) : \"\";\n        if (datum && prev && prevId === datumId) {\n          if (!arraysEqual(prev.values, datum.values)) {\n            updated.set(datumId, datum);\n          }\n          continue;\n        }\n        if (removed.has(datumId)) {\n          if (updateMovedData || !arraysEqual(removed.get(datumId).values, datum.values)) {\n            updated.set(datumId, datum);\n            moved.set(datumId, datum);\n          }\n          removed.delete(datumId);\n        } else if (datum) {\n          added.set(datumId, datum);\n        }\n        if (added.has(prevId)) {\n          if (updateMovedData || !arraysEqual(added.get(prevId).values, prev.values)) {\n            updated.set(prevId, prev);\n            moved.set(prevId, prev);\n          }\n          added.delete(prevId);\n        } else if (prev) {\n          updated.delete(prevId);\n          removed.set(prevId, prev);\n        }\n      }\n      const changed = added.size > 0 || updated.size > 0 || removed.size > 0;\n      return {\n        changed,\n        added,\n        updated,\n        removed,\n        moved\n      };\n    }\n  };\n}\nfunction createDatumId(keys) {\n  let result;\n  if (isArray(keys)) {\n    result = keys.map(key => transformIntegratedCategoryValue(key)).join(\"___\");\n  } else {\n    result = transformIntegratedCategoryValue(keys);\n  }\n  const primitiveType = typeof result === \"string\" || typeof result === \"number\" || result instanceof Date;\n  for (var _len26 = arguments.length, extraKeys = new Array(_len26 > 1 ? _len26 - 1 : 0), _key26 = 1; _key26 < _len26; _key26++) {\n    extraKeys[_key26 - 1] = arguments[_key26];\n  }\n  if (primitiveType && extraKeys.length > 0) {\n    result += \"___\".concat(extraKeys.join(\"___\"));\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/chart/series/series.ts\nvar SeriesNodePickMode = /* @__PURE__ */(SeriesNodePickMode2 => {\n  SeriesNodePickMode2[SeriesNodePickMode2[\"EXACT_SHAPE_MATCH\"] = 0] = \"EXACT_SHAPE_MATCH\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_BY_MAIN_AXIS_FIRST\"] = 1] = \"NEAREST_BY_MAIN_AXIS_FIRST\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\"] = 2] = \"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_NODE\"] = 3] = \"NEAREST_NODE\";\n  return SeriesNodePickMode2;\n})(SeriesNodePickMode || {});\nfunction basicContinuousCheckDatumValidation(value) {\n  return value != null && isContinuous(value);\n}\nfunction basicDiscreteCheckDatumValidation(value) {\n  return value != null;\n}\nfunction getValidationFn(scaleType) {\n  switch (scaleType) {\n    case \"number\":\n    case \"log\":\n    case \"ordinal-time\":\n    case \"time\":\n    case \"color\":\n      return basicContinuousCheckDatumValidation;\n    default:\n      return basicDiscreteCheckDatumValidation;\n  }\n}\nfunction getValueType(scaleType) {\n  switch (scaleType) {\n    case \"number\":\n    case \"log\":\n    case \"time\":\n    case \"color\":\n      return \"range\";\n    default:\n      return \"category\";\n  }\n}\nfunction keyProperty(propName, scaleType) {\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const result = __spreadValues({\n    property: propName,\n    type: \"key\",\n    valueType: getValueType(scaleType),\n    validation: getValidationFn(scaleType)\n  }, opts);\n  return result;\n}\nfunction valueProperty(propName, scaleType) {\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const result = __spreadValues({\n    property: propName,\n    type: \"value\",\n    valueType: getValueType(scaleType),\n    validation: getValidationFn(scaleType)\n  }, opts);\n  return result;\n}\nfunction rangedValueProperty(propName) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const _a = opts,\n    {\n      min = -Infinity,\n      max = Infinity\n    } = _a,\n    defOpts = __objRest(_a, [\"min\", \"max\"]);\n  return __spreadValues({\n    type: \"value\",\n    property: propName,\n    valueType: \"range\",\n    validation: basicContinuousCheckDatumValidation,\n    processor: () => datum => isFiniteNumber(datum) ? clamp(min, datum, max) : datum\n  }, defOpts);\n}\nfunction accumulativeValueProperty(propName, scaleType) {\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const _a = opts,\n    {\n      onlyPositive\n    } = _a,\n    defOpts = __objRest(_a, [\"onlyPositive\"]);\n  const result = __spreadProps(__spreadValues({}, valueProperty(propName, scaleType, defOpts)), {\n    processor: accumulatedValue(onlyPositive)\n  });\n  return result;\n}\nfunction trailingAccumulatedValueProperty(propName, scaleType) {\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const result = __spreadProps(__spreadValues({}, valueProperty(propName, scaleType, opts)), {\n    processor: trailingAccumulatedValue()\n  });\n  return result;\n}\nfunction groupAccumulativeValueProperty(propName, mode) {\n  let sum2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"current\";\n  let opts = arguments.length > 3 ? arguments[3] : undefined;\n  let scaleType = arguments.length > 4 ? arguments[4] : undefined;\n  return [valueProperty(propName, scaleType, opts), accumulateGroup(opts.groupId, mode, sum2, opts.separateNegative), ...(opts.rangeId != null ? [range2(opts.rangeId, opts.groupId)] : [])];\n}\nvar SeriesNodeEvent = class {\n  constructor(type, event, _ref65, series) {\n    let {\n      datum\n    } = _ref65;\n    this.type = type;\n    this.event = event;\n    this.datum = datum;\n    this.seriesId = series.id;\n  }\n};\nvar SeriesGroupingChangedEvent = class {\n  constructor(series, seriesGrouping, oldGrouping) {\n    this.series = series;\n    this.seriesGrouping = seriesGrouping;\n    this.oldGrouping = oldGrouping;\n    this.type = \"groupingChanged\";\n  }\n};\nvar Series = class extends Observable {\n  constructor(seriesOpts) {\n    super();\n    this.destroyFns = [];\n    this.seriesGrouping = void 0;\n    this.NodeEvent = SeriesNodeEvent;\n    this.internalId = createId(this);\n    // The group node that contains all the nodes used to render this series.\n    this.rootGroup = new Group({\n      name: \"seriesRoot\",\n      isVirtual: true\n    });\n    this.axes = {\n      [\"x\" /* X */]: void 0,\n      [\"y\" /* Y */]: void 0\n    };\n    this.directions = [\"x\" /* X */, \"y\" /* Y */];\n    // Flag to determine if we should recalculate node data.\n    this.nodeDataRefresh = true;\n    this.moduleMap = new ModuleMap();\n    this._declarationOrder = -1;\n    this.seriesListeners = new Listeners();\n    const {\n      moduleCtx,\n      pickModes = [1 /* NEAREST_BY_MAIN_AXIS_FIRST */],\n      directionKeys = {},\n      directionNames = {},\n      contentGroupVirtual = true,\n      canHaveAxes = false\n    } = seriesOpts;\n    this.ctx = moduleCtx;\n    this.directionKeys = directionKeys;\n    this.directionNames = directionNames;\n    this.canHaveAxes = canHaveAxes;\n    this.contentGroup = this.rootGroup.appendChild(new Group({\n      name: \"\".concat(this.internalId, \"-content\"),\n      isVirtual: contentGroupVirtual,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"data\")\n    }));\n    this.highlightGroup = new Group({\n      name: \"\".concat(this.internalId, \"-highlight\"),\n      isVirtual: contentGroupVirtual,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"highlight\")\n    });\n    this.highlightNode = this.highlightGroup.appendChild(new Group({\n      name: \"highlightNode\",\n      zIndex: 0\n    }));\n    this.highlightLabel = this.highlightGroup.appendChild(new Group({\n      name: \"highlightLabel\",\n      zIndex: 10\n    }));\n    this.pickModes = pickModes;\n    this.labelGroup = this.rootGroup.appendChild(new Group({\n      name: \"\".concat(this.internalId, \"-series-labels\"),\n      zIndex: 8 /* SERIES_LABEL_ZINDEX */\n    }));\n    this.annotationGroup = new Group({\n      name: \"\".concat(this.id, \"-annotation\"),\n      isVirtual: contentGroupVirtual,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"annotation\")\n    });\n  }\n  get id() {\n    var _a, _b;\n    return (_b = (_a = this.properties) == null ? void 0 : _a.id) != null ? _b : this.internalId;\n  }\n  get type() {\n    var _a;\n    return (_a = this.constructor.type) != null ? _a : \"\";\n  }\n  get data() {\n    var _a;\n    return (_a = this._data) != null ? _a : this._chartData;\n  }\n  set visible(value) {\n    this.properties.visible = value;\n    this.visibleChanged();\n  }\n  get visible() {\n    return this.properties.visible;\n  }\n  get hasData() {\n    return this.data != null && this.data.length > 0;\n  }\n  get tooltipEnabled() {\n    var _a, _b;\n    return (_b = (_a = this.properties.tooltip) == null ? void 0 : _a.enabled) != null ? _b : false;\n  }\n  onDataChange() {\n    this.nodeDataRefresh = true;\n  }\n  setOptionsData(input) {\n    this._data = input;\n    this.onDataChange();\n  }\n  setChartData(input) {\n    this._chartData = input;\n    if (this.data === input) {\n      this.onDataChange();\n    }\n  }\n  onSeriesGroupingChange(prev, next) {\n    const {\n      internalId,\n      type,\n      visible\n    } = this;\n    if (prev) {\n      this.ctx.seriesStateManager.deregisterSeries({\n        id: internalId,\n        type\n      });\n    }\n    if (next) {\n      this.ctx.seriesStateManager.registerSeries({\n        id: internalId,\n        type,\n        visible,\n        seriesGrouping: next\n      });\n    }\n    this.fireEvent(new SeriesGroupingChangedEvent(this, next, prev));\n  }\n  getBandScalePadding() {\n    return {\n      inner: 1,\n      outer: 0\n    };\n  }\n  getGroupZIndexSubOrder(type) {\n    let subIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let mainAdjust = 0;\n    switch (type) {\n      case \"data\":\n      case \"paths\":\n        break;\n      case \"labels\":\n        mainAdjust += 2e4;\n        break;\n      case \"marker\":\n        mainAdjust += 1e4;\n        break;\n      case \"highlight\":\n        subIndex += 15e3;\n        break;\n      case \"annotation\":\n        mainAdjust += 15e3;\n        break;\n    }\n    const main = () => this._declarationOrder + mainAdjust;\n    return [main, subIndex];\n  }\n  addListener(type, listener) {\n    return this.seriesListeners.addListener(type, listener);\n  }\n  dispatch(type, event) {\n    this.seriesListeners.dispatch(type, event);\n  }\n  addChartEventListeners() {\n    return;\n  }\n  destroy() {\n    this.destroyFns.forEach(f => f());\n    this.destroyFns = [];\n    this.ctx.seriesStateManager.deregisterSeries(this);\n  }\n  getDirectionValues(direction, properties) {\n    const resolvedDirection = this.resolveKeyDirection(direction);\n    const keys = properties == null ? void 0 : properties[resolvedDirection];\n    const values = [];\n    if (!keys) {\n      return values;\n    }\n    const addValues = function () {\n      for (var _len27 = arguments.length, items = new Array(_len27), _key27 = 0; _key27 < _len27; _key27++) {\n        items[_key27] = arguments[_key27];\n      }\n      for (const value of items) {\n        if (Array.isArray(value)) {\n          addValues(...value);\n        } else if (typeof value === \"object\") {\n          addValues(...Object.values(value));\n        } else {\n          values.push(value);\n        }\n      }\n    };\n    addValues(...keys.map(key => this.properties[key]));\n    return values;\n  }\n  getKeys(direction) {\n    return this.getDirectionValues(direction, this.directionKeys);\n  }\n  getKeyProperties(direction) {\n    var _a;\n    return (_a = this.directionKeys[this.resolveKeyDirection(direction)]) != null ? _a : [];\n  }\n  getNames(direction) {\n    return this.getDirectionValues(direction, this.directionNames);\n  }\n  resolveKeyDirection(direction) {\n    return direction;\n  }\n  // The union of the series domain ('community') and series-option domains ('enterprise').\n  getDomain(direction) {\n    const seriesDomain = this.getSeriesDomain(direction);\n    const moduleDomains = this.moduleMap.mapModules(module => module.getDomain(direction));\n    return seriesDomain.concat(moduleDomains.flat());\n  }\n  // Indicate that something external changed and we should recalculate nodeData.\n  markNodeDataDirty() {\n    this.nodeDataRefresh = true;\n  }\n  visibleChanged() {\n    this.ctx.seriesStateManager.registerSeries(this);\n  }\n  getOpacity() {\n    const defaultOpacity = 1;\n    const {\n      dimOpacity = 1,\n      enabled = true\n    } = this.properties.highlightStyle.series;\n    if (!enabled || dimOpacity === defaultOpacity) {\n      return defaultOpacity;\n    }\n    switch (this.isItemIdHighlighted()) {\n      case 0 /* None */:\n      case 1 /* This */:\n        return defaultOpacity;\n      case 2 /* Other */:\n      default:\n        return dimOpacity;\n    }\n  }\n  getStrokeWidth(defaultStrokeWidth) {\n    const {\n      strokeWidth,\n      enabled = true\n    } = this.properties.highlightStyle.series;\n    if (!enabled || strokeWidth === void 0) {\n      return defaultStrokeWidth;\n    }\n    switch (this.isItemIdHighlighted()) {\n      case 1 /* This */:\n        return strokeWidth;\n      case 0 /* None */:\n      case 2 /* Other */:\n        return defaultStrokeWidth;\n    }\n  }\n  isItemIdHighlighted() {\n    var _a, _b;\n    const series = (_b = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight()) == null ? void 0 : _b.series;\n    if (series == null) {\n      return 0 /* None */;\n    }\n    if (series !== this) {\n      return 2 /* Other */;\n    }\n    return 1 /* This */;\n  }\n  getModuleTooltipParams() {\n    return this.moduleMap.mapModules(module => module.getTooltipParams()).reduce((total, current) => Object.assign(total, current), {});\n  }\n  pickNode(point, limitPickModes) {\n    const {\n      pickModes,\n      visible,\n      rootGroup\n    } = this;\n    if (!visible || !rootGroup.visible) {\n      return;\n    }\n    for (const pickMode of pickModes) {\n      if (limitPickModes && !limitPickModes.includes(pickMode)) {\n        continue;\n      }\n      let match;\n      switch (pickMode) {\n        case 0 /* EXACT_SHAPE_MATCH */:\n          match = this.pickNodeExactShape(point);\n          break;\n        case 1 /* NEAREST_BY_MAIN_AXIS_FIRST */:\n        case 2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */:\n          match = this.pickNodeMainAxisFirst(point, pickMode === 2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */);\n          break;\n        case 3 /* NEAREST_NODE */:\n          match = this.pickNodeClosestDatum(point);\n          break;\n      }\n      if (match) {\n        return {\n          pickMode,\n          match: match.datum,\n          distance: match.distance\n        };\n      }\n    }\n  }\n  pickNodeExactShape(point) {\n    const match = this.contentGroup.pickNode(point.x, point.y);\n    if (match && match.datum.missing !== true) {\n      return {\n        datum: match.datum,\n        distance: 0\n      };\n    }\n    return void 0;\n  }\n  pickNodeClosestDatum(_point) {\n    throw new Error(\"AG Charts - Series.pickNodeClosestDatum() not implemented\");\n  }\n  pickNodeNearestDistantObject(point, items) {\n    const match = nearestSquared(point.x, point.y, items);\n    if (match.nearest !== void 0 && match.nearest.datum.missing !== true) {\n      return {\n        datum: match.nearest.datum,\n        distance: Math.sqrt(match.distanceSquared)\n      };\n    }\n    return void 0;\n  }\n  pickNodeMainAxisFirst(_point, _requireCategoryAxis) {\n    throw new Error(\"AG Charts - Series.pickNodeMainAxisFirst() not implemented\");\n  }\n  fireNodeClickEvent(event, datum) {\n    this.fireEvent(new this.NodeEvent(\"nodeClick\", event, datum, this));\n  }\n  fireNodeDoubleClickEvent(event, datum) {\n    this.fireEvent(new this.NodeEvent(\"nodeDoubleClick\", event, datum, this));\n  }\n  createNodeContextMenuActionEvent(event, datum) {\n    return new this.NodeEvent(\"nodeContextMenuAction\", event, datum, this);\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.visible = enabled;\n    this.nodeDataRefresh = true;\n    this.dispatch(\"visibility-changed\", {\n      itemId,\n      enabled\n    });\n  }\n  isEnabled() {\n    return this.visible;\n  }\n  getModuleMap() {\n    return this.moduleMap;\n  }\n  createModuleContext() {\n    return __spreadProps(__spreadValues({}, this.ctx), {\n      series: this\n    });\n  }\n  getLabelText(label, params) {\n    let defaultFormatter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : String;\n    var _a;\n    if (label.formatter) {\n      return (_a = this.ctx.callbackCache.call(label.formatter, __spreadValues({\n        seriesId: this.id\n      }, params))) != null ? _a : defaultFormatter(params.value);\n    }\n    return defaultFormatter(params.value);\n  }\n  getMarkerStyle(marker, params) {\n    let defaultStyle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : marker.getStyle();\n    var _a, _b;\n    const defaultSize = {\n      size: (_b = (_a = params.datum.point) == null ? void 0 : _a.size) != null ? _b : 0\n    };\n    const markerStyle = mergeDefaults(defaultSize, defaultStyle);\n    if (marker.formatter) {\n      const style = this.ctx.callbackCache.call(marker.formatter, __spreadProps(__spreadValues(__spreadValues({\n        seriesId: this.id\n      }, markerStyle), params), {\n        datum: params.datum.datum\n      }));\n      return mergeDefaults(style, markerStyle);\n    }\n    return markerStyle;\n  }\n  updateMarkerStyle(markerNode, marker, params) {\n    let defaultStyle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : marker.getStyle();\n    let {\n      applyTranslation = true\n    } = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    const {\n      point\n    } = params.datum;\n    const activeStyle = this.getMarkerStyle(marker, params, defaultStyle);\n    const visible = this.visible && activeStyle.size > 0 && point && !isNaN(point.x) && !isNaN(point.y);\n    if (applyTranslation) {\n      markerNode.setProperties(__spreadProps(__spreadValues({\n        visible\n      }, activeStyle), {\n        translationX: point == null ? void 0 : point.x,\n        translationY: point == null ? void 0 : point.y\n      }));\n    } else {\n      markerNode.setProperties(__spreadValues({\n        visible\n      }, activeStyle));\n    }\n    if (typeof marker.shape === \"function\" && !markerNode.dirtyPath) {\n      markerNode.path.clear(true);\n      markerNode.updatePath();\n      markerNode.checkPathDirty();\n    }\n  }\n  getMinRects(_width, _height) {\n    return;\n  }\n  get nodeDataDependencies() {\n    var _a;\n    return (_a = this._nodeDataDependencies) != null ? _a : {\n      seriesRectWidth: NaN,\n      seriesRectHeight: NaN\n    };\n  }\n  checkResize(newSeriesRect) {\n    const {\n      width: seriesRectWidth,\n      height: seriesRectHeight\n    } = newSeriesRect != null ? newSeriesRect : {\n      width: NaN,\n      height: NaN\n    };\n    const newNodeDataDependencies = newSeriesRect ? {\n      seriesRectWidth,\n      seriesRectHeight\n    } : void 0;\n    const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n    if (resize) {\n      this._nodeDataDependencies = newNodeDataDependencies;\n      this.markNodeDataDirty();\n    }\n    return resize;\n  }\n  pickFocus(_opts) {\n    return void 0;\n  }\n};\nSeries.highlightedZIndex = 1e12;\n__decorateClass([ActionOnSet({\n  changeValue: function (newVal, oldVal) {\n    this.onSeriesGroupingChange(oldVal, newVal);\n  }\n})], Series.prototype, \"seriesGrouping\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesLayerManager.ts\nvar SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION = 30;\nvar SeriesLayerManager = class {\n  constructor(seriesRoot, highlightRoot, annotationRoot) {\n    this.seriesRoot = seriesRoot;\n    this.highlightRoot = highlightRoot;\n    this.annotationRoot = annotationRoot;\n    this.groups = {};\n    this.series = {};\n    this.expectedSeriesCount = 1;\n    this.mode = \"normal\";\n  }\n  setSeriesCount(count) {\n    this.expectedSeriesCount = count;\n  }\n  requestGroup(seriesConfig) {\n    var _a, _b, _c, _d;\n    const {\n      internalId,\n      type,\n      rootGroup: seriesRootGroup,\n      highlightGroup: seriesHighlightGroup,\n      annotationGroup: seriesAnnotationGroup,\n      seriesGrouping\n    } = seriesConfig;\n    const {\n      groupIndex = internalId\n    } = seriesGrouping != null ? seriesGrouping : {};\n    if (this.series[internalId] != null) {\n      throw new Error(\"AG Charts - series already has an allocated layer: \".concat(this.series[internalId]));\n    }\n    if (Object.keys(this.series).length === 0) {\n      this.mode = this.expectedSeriesCount >= SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION ? \"aggressive-grouping\" : \"normal\";\n    }\n    (_b = (_a = this.groups)[type]) != null ? _b : _a[type] = {};\n    const lookupIndex = this.lookupIdx(groupIndex);\n    let groupInfo = this.groups[type][lookupIndex];\n    if (!groupInfo) {\n      groupInfo = (_d = (_c = this.groups[type])[lookupIndex]) != null ? _d : _c[lookupIndex] = {\n        seriesIds: [],\n        group: this.seriesRoot.appendChild(new Group({\n          name: \"\".concat(type, \"-content\"),\n          layer: true,\n          zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n          zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"data\")\n        })),\n        highlight: this.highlightRoot.appendChild(new Group({\n          name: \"\".concat(type, \"-highlight\"),\n          zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n          zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"highlight\")\n        })),\n        annotation: this.annotationRoot.appendChild(new Group({\n          name: \"\".concat(type, \"-annotation\"),\n          zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n          zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"annotation\")\n        }))\n      };\n    }\n    this.series[internalId] = {\n      layerState: groupInfo,\n      seriesConfig\n    };\n    groupInfo.seriesIds.push(internalId);\n    groupInfo.group.appendChild(seriesRootGroup);\n    groupInfo.highlight.appendChild(seriesHighlightGroup);\n    groupInfo.annotation.appendChild(seriesAnnotationGroup);\n    return groupInfo.group;\n  }\n  changeGroup(seriesConfig) {\n    var _a, _b;\n    const {\n      internalId,\n      seriesGrouping,\n      type,\n      rootGroup,\n      highlightGroup,\n      annotationGroup,\n      oldGrouping\n    } = seriesConfig;\n    const {\n      groupIndex = internalId\n    } = seriesGrouping != null ? seriesGrouping : {};\n    if ((_b = (_a = this.groups[type]) == null ? void 0 : _a[groupIndex]) == null ? void 0 : _b.seriesIds.includes(internalId)) {\n      return;\n    }\n    if (this.series[internalId] != null) {\n      this.releaseGroup({\n        internalId,\n        seriesGrouping: oldGrouping,\n        type,\n        rootGroup,\n        highlightGroup,\n        annotationGroup\n      });\n    }\n    this.requestGroup(seriesConfig);\n  }\n  releaseGroup(seriesConfig) {\n    var _a, _b, _c, _d, _e;\n    const {\n      internalId,\n      seriesGrouping,\n      rootGroup,\n      highlightGroup,\n      annotationGroup,\n      type\n    } = seriesConfig;\n    const {\n      groupIndex = internalId\n    } = seriesGrouping != null ? seriesGrouping : {};\n    if (this.series[internalId] == null) {\n      throw new Error(\"AG Charts - series doesn't have an allocated layer: \".concat(internalId));\n    }\n    const lookupIndex = this.lookupIdx(groupIndex);\n    const groupInfo = (_c = (_a = this.groups[type]) == null ? void 0 : _a[lookupIndex]) != null ? _c : (_b = this.series[internalId]) == null ? void 0 : _b.layerState;\n    if (groupInfo) {\n      groupInfo.seriesIds = groupInfo.seriesIds.filter(v => v !== internalId);\n      groupInfo.group.removeChild(rootGroup);\n      groupInfo.highlight.removeChild(highlightGroup);\n      groupInfo.annotation.removeChild(annotationGroup);\n    }\n    if ((groupInfo == null ? void 0 : groupInfo.seriesIds.length) === 0) {\n      this.seriesRoot.removeChild(groupInfo.group);\n      this.highlightRoot.removeChild(groupInfo.highlight);\n      this.annotationRoot.removeChild(groupInfo.annotation);\n      delete this.groups[type][lookupIndex];\n      delete this.groups[type][internalId];\n    } else if ((groupInfo == null ? void 0 : groupInfo.seriesIds.length) > 0) {\n      const leadSeriesConfig = (_e = this.series[(_d = groupInfo == null ? void 0 : groupInfo.seriesIds) == null ? void 0 : _d[0]]) == null ? void 0 : _e.seriesConfig;\n      groupInfo.group.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"data\");\n      groupInfo.highlight.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"highlight\");\n      groupInfo.annotation.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"annotation\");\n    }\n    delete this.series[internalId];\n  }\n  lookupIdx(groupIndex) {\n    if (this.mode === \"normal\") {\n      return groupIndex;\n    }\n    if (typeof groupIndex === \"string\") {\n      groupIndex = Number(groupIndex.split(\"-\").slice(-1)[0]);\n      if (!groupIndex) {\n        return 0;\n      }\n    }\n    return Math.floor(clamp(0, groupIndex / this.expectedSeriesCount, 1) * SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION);\n  }\n  destroy() {\n    for (const groups of Object.values(this.groups)) {\n      for (const groupInfo of Object.values(groups)) {\n        this.seriesRoot.removeChild(groupInfo.group);\n        this.highlightRoot.removeChild(groupInfo.highlight);\n        this.annotationRoot.removeChild(groupInfo.annotation);\n      }\n    }\n    this.groups = {};\n    this.series = {};\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/baseLayoutProcessor.ts\nvar BaseLayoutProcessor = class {\n  constructor(chartLike, layoutService) {\n    this.chartLike = chartLike;\n    this.layoutService = layoutService;\n    this.destroyFns = [];\n    this.destroyFns.push(\n    // eslint-disable-next-line sonarjs/no-duplicate-string\n    this.layoutService.addListener(\"start-layout\", e => this.positionPadding(e.shrinkRect)), this.layoutService.addListener(\"start-layout\", e => this.positionCaptions(e.shrinkRect)));\n  }\n  destroy() {\n    this.destroyFns.forEach(cb => cb());\n  }\n  positionPadding(shrinkRect) {\n    const {\n      padding\n    } = this.chartLike;\n    shrinkRect.shrink(padding.left, \"left\");\n    shrinkRect.shrink(padding.top, \"top\");\n    shrinkRect.shrink(padding.right, \"right\");\n    shrinkRect.shrink(padding.bottom, \"bottom\");\n    return {\n      shrinkRect\n    };\n  }\n  positionCaptions(shrinkRect) {\n    var _a, _b;\n    const {\n      title,\n      subtitle,\n      footnote\n    } = this.chartLike;\n    const newShrinkRect = shrinkRect.clone();\n    const updateCaption = caption => {\n      var _a2;\n      const defaultCaptionHeight = shrinkRect.height / 10;\n      const captionLineHeight = (_a2 = caption.lineHeight) != null ? _a2 : caption.fontSize * Text.defaultLineHeightRatio;\n      const maxWidth = shrinkRect.width;\n      const maxHeight = Math.max(captionLineHeight, defaultCaptionHeight);\n      caption.computeTextWrap(maxWidth, maxHeight);\n    };\n    const computeX = align => {\n      if (align === \"left\") {\n        return newShrinkRect.x;\n      } else if (align === \"right\") {\n        return newShrinkRect.x + newShrinkRect.width;\n      } else if (align !== \"center\") {\n        Logger.error(\"invalid textAlign value: \".concat(align));\n      }\n      return newShrinkRect.x + newShrinkRect.width / 2;\n    };\n    const positionTopAndShrinkBBox = (caption, spacing) => {\n      const baseY = newShrinkRect.y;\n      caption.node.x = computeX(caption.textAlign);\n      caption.node.y = baseY;\n      caption.node.textBaseline = \"top\";\n      updateCaption(caption);\n      const bbox = caption.node.computeBBox();\n      const bboxHeight = Math.ceil(bbox.y - baseY + bbox.height + spacing);\n      newShrinkRect.shrink(bboxHeight, \"top\");\n    };\n    const positionBottomAndShrinkBBox = (caption, spacing) => {\n      const baseY = newShrinkRect.y + newShrinkRect.height;\n      caption.node.x = computeX(caption.textAlign);\n      caption.node.y = baseY;\n      caption.node.textBaseline = \"bottom\";\n      updateCaption(caption);\n      const bbox = caption.node.computeBBox();\n      const bboxHeight = Math.ceil(baseY - bbox.y + spacing);\n      newShrinkRect.shrink(bboxHeight, \"bottom\");\n    };\n    title.node.visible = title.enabled;\n    subtitle.node.visible = subtitle.enabled;\n    footnote.node.visible = footnote.enabled;\n    if (title.enabled) {\n      const {\n        spacing = subtitle.enabled ? Caption.SMALL_PADDING : Caption.LARGE_PADDING\n      } = title;\n      positionTopAndShrinkBBox(title, spacing);\n    }\n    if (subtitle.enabled) {\n      positionTopAndShrinkBBox(subtitle, (_a = subtitle.spacing) != null ? _a : 0);\n    }\n    if (footnote.enabled) {\n      positionBottomAndShrinkBBox(footnote, (_b = footnote.spacing) != null ? _b : 0);\n    }\n    return {\n      shrinkRect: newShrinkRect\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/dataWindowProcessor.ts\nvar DataWindowProcessor = class {\n  constructor(chart, dataService, updateService, zoomManager) {\n    this.chart = chart;\n    this.dataService = dataService;\n    this.updateService = updateService;\n    this.zoomManager = zoomManager;\n    this.dirtyZoom = false;\n    this.dirtyDataSource = false;\n    this.lastAxisZooms = /* @__PURE__ */new Map();\n    this.destroyFns = [];\n    this.destroyFns.push(this.dataService.addListener(\"data-source-change\", () => this.onDataSourceChange()), this.dataService.addListener(\"data-load\", () => this.onDataLoad()), this.dataService.addListener(\"data-error\", () => this.onDataError()), this.updateService.addListener(\"update-complete\", () => this.onUpdateComplete()), this.zoomManager.addListener(\"zoom-change\", () => this.onZoomChange()));\n  }\n  destroy() {\n    this.destroyFns.forEach(cb => cb());\n  }\n  onDataLoad() {\n    this.updateService.update(1 /* UPDATE_DATA */);\n  }\n  onDataError() {\n    this.updateService.update(3 /* PERFORM_LAYOUT */);\n  }\n  onDataSourceChange() {\n    this.dirtyDataSource = true;\n  }\n  onUpdateComplete() {\n    if (!this.dirtyZoom && !this.dirtyDataSource) return;\n    this.updateWindow().catch(e => Logger.errorOnce(e));\n  }\n  onZoomChange() {\n    this.dirtyZoom = true;\n  }\n  updateWindow() {\n    return __async(this, null, function* () {\n      if (!this.dataService.isLazy()) return;\n      const axis = this.getValidAxis();\n      let window2;\n      let shouldRefresh = true;\n      if (axis) {\n        const zoom2 = this.zoomManager.getAxisZoom(axis.id);\n        window2 = this.getAxisWindow(axis, zoom2);\n        shouldRefresh = this.shouldRefresh(axis, zoom2);\n      }\n      this.dirtyZoom = false;\n      this.dirtyDataSource = false;\n      if (!shouldRefresh) return;\n      this.dataService.load({\n        windowStart: window2 == null ? void 0 : window2.min,\n        windowEnd: window2 == null ? void 0 : window2.max\n      });\n    });\n  }\n  getValidAxis() {\n    return this.chart.axes.find(axis => axis.type === \"time\");\n  }\n  shouldRefresh(axis, zoom2) {\n    if (this.dirtyDataSource) return true;\n    if (!this.dirtyZoom) return false;\n    const lastZoom = this.lastAxisZooms.get(axis.id);\n    if (lastZoom && zoom2.min === lastZoom.min && zoom2.max === lastZoom.max) {\n      return false;\n    }\n    this.lastAxisZooms.set(axis.id, zoom2);\n    return true;\n  }\n  getAxisWindow(axis, zoom2) {\n    var _a, _b;\n    const domain = (_b = (_a = axis.scale).getDomain) == null ? void 0 : _b.call(_a);\n    if (!zoom2 || !domain || domain.length === 0 || isNaN(Number(domain[0]))) return;\n    const diff2 = Number(domain[1]) - Number(domain[0]);\n    const min = new Date(Number(domain[0]) + diff2 * zoom2.min);\n    const max = new Date(Number(domain[0]) + diff2 * zoom2.max);\n    return {\n      min,\n      max\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/overlaysProcessor.ts\nvar OverlaysProcessor = class {\n  constructor(chartLike, overlays, dataService, layoutService, animationManager) {\n    this.chartLike = chartLike;\n    this.overlays = overlays;\n    this.dataService = dataService;\n    this.layoutService = layoutService;\n    this.animationManager = animationManager;\n    this.destroyFns = [];\n    this.destroyFns.push(this.layoutService.addListener(\"layout-complete\", e => this.onLayoutComplete(e)));\n  }\n  destroy() {\n    this.destroyFns.forEach(cb => cb());\n  }\n  onLayoutComplete(_ref66) {\n    let {\n      series: {\n        rect\n      }\n    } = _ref66;\n    const isLoading = this.dataService.isLoading();\n    const hasData = this.chartLike.series.some(s => s.hasData);\n    const anySeriesVisible = this.chartLike.series.some(s => s.visible);\n    this.toggleOverlay(this.overlays.loading, rect, isLoading);\n    this.toggleOverlay(this.overlays.noData, rect, !isLoading && !hasData);\n    this.toggleOverlay(this.overlays.noVisibleSeries, rect, hasData && !anySeriesVisible);\n  }\n  toggleOverlay(overlay, seriesRect, visible) {\n    if (visible) {\n      const element2 = overlay.getElement(this.animationManager, seriesRect);\n      this.chartLike.element.append(element2);\n    } else {\n      overlay.removeElement(this.animationManager);\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/chart.ts\nvar debug = Debug.create(true, \"opts\");\nvar SeriesArea = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.padding = new Padding(0);\n  }\n};\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], SeriesArea.prototype, \"clip\", 2);\n__decorateClass([Validate(OBJECT)], SeriesArea.prototype, \"padding\", 2);\nvar _Chart = class _Chart extends Observable {\n  constructor(options, resources) {\n    var _this2;\n    var _a, _b, _c;\n    super();\n    _this2 = this;\n    this.id = createId(this);\n    this.seriesRoot = new Group({\n      name: \"\".concat(this.id, \"-series-root\")\n    });\n    this.highlightRoot = new Group({\n      name: \"\".concat(this.id, \"-highlight-root\"),\n      layer: true,\n      zIndex: 5 /* SERIES_HIGHLIGHT_ZINDEX */,\n      nonEmptyChildDerivedZIndex: true\n    });\n    this.annotationRoot = new Group({\n      name: \"\".concat(this.id, \"-annotation-root\"),\n      layer: true,\n      zIndex: 10 /* SERIES_ANNOTATION_ZINDEX */\n    });\n    this.debug = Debug.create();\n    this.extraDebugStats = {};\n    this.data = [];\n    this._firstAutoSize = true;\n    this.padding = new Padding(20);\n    this.seriesArea = new SeriesArea();\n    this.title = new Caption();\n    this.subtitle = new Caption();\n    this.footnote = new Caption();\n    this.keyboard = new Keyboard();\n    this.mode = \"standalone\";\n    this.destroyed = false;\n    this._skipSync = false;\n    this._destroyFns = [];\n    this.chartAnimationPhase = \"initial\";\n    this.modulesManager = new ModulesManager();\n    // FIXME: zoomManager should be owned by ctx, but it can't because it is used by CartesianChart.onAxisChange before ctx is initialised\n    this.zoomManager = new ZoomManager();\n    this.processors = [];\n    this.processedOptions = {};\n    this.userOptions = {};\n    this.queuedUserOptions = [];\n    this._pendingFactoryUpdatesCount = 0;\n    this._performUpdateNoRenderCount = 0;\n    this._performUpdateSkipAnimations = false;\n    this.performUpdateType = 7 /* NONE */;\n    this.updateShortcutCount = 0;\n    this.seriesToUpdate = /* @__PURE__ */new Set();\n    this.updateMutex = new Mutex();\n    this.updateRequestors = {};\n    this.performUpdateTrigger = debouncedCallback(_0 => __async(this, [_0], function (_ref67) {\n      var _this = this;\n      let {\n        count\n      } = _ref67;\n      return function* () {\n        if (_this.destroyed) return;\n        _this.updateMutex.acquire(() => __async(_this, null, function* () {\n          try {\n            yield this.performUpdate(count);\n          } catch (error) {\n            Logger.error(\"update error\", error);\n          }\n        })).catch(e => Logger.errorOnce(e));\n      }();\n    }));\n    this._performUpdateSplits = {};\n    this.axes = [];\n    this.series = [];\n    this.focus = {\n      hasFocus: false,\n      series: void 0,\n      seriesIndex: 0,\n      datumIndex: 0,\n      datum: void 0\n    };\n    this.pointerScheduler = debouncedAnimationFrame(() => {\n      if (!this.lastInteractionEvent) return;\n      if (this.performUpdateType <= 4 /* SERIES_UPDATE */) {\n        this.pointerScheduler.schedule();\n        return;\n      }\n      this.handlePointer(this.lastInteractionEvent, false);\n      this.lastInteractionEvent = void 0;\n    });\n    this.onSeriesNodeClick = event => {\n      const seriesNodeClickEvent = __spreadProps(__spreadValues({}, event), {\n        type: \"seriesNodeClick\"\n      });\n      Object.defineProperty(seriesNodeClickEvent, \"series\", {\n        enumerable: false,\n        // Should display the deprecation warning\n        get: () => event.series\n      });\n      this.fireEvent(seriesNodeClickEvent);\n    };\n    this.onSeriesNodeDoubleClick = event => {\n      const seriesNodeDoubleClick = __spreadProps(__spreadValues({}, event), {\n        type: \"seriesNodeDoubleClick\"\n      });\n      this.fireEvent(seriesNodeDoubleClick);\n    };\n    this.seriesGroupingChanged = event => {\n      if (!(event instanceof SeriesGroupingChangedEvent)) return;\n      const {\n        series,\n        seriesGrouping,\n        oldGrouping\n      } = event;\n      if (series.rootGroup.parent == null) return;\n      this.seriesLayerManager.changeGroup({\n        internalId: series.internalId,\n        type: series.type,\n        rootGroup: series.rootGroup,\n        highlightGroup: series.highlightGroup,\n        annotationGroup: series.annotationGroup,\n        getGroupZIndexSubOrder: type => series.getGroupZIndexSubOrder(type),\n        seriesGrouping,\n        oldGrouping\n      });\n    };\n    this.dataProcessListeners = /* @__PURE__ */new Set();\n    this.chartOptions = options;\n    let scene = resources == null ? void 0 : resources.scene;\n    const element2 = (_a = resources == null ? void 0 : resources.element) != null ? _a : createElement(\"div\", \"ag-chart-wrapper\", {\n      position: \"relative\",\n      userSelect: \"none\"\n    });\n    const container = resources == null ? void 0 : resources.container;\n    this.element = element2;\n    const root = new Group({\n      name: \"root\"\n    });\n    root.visible = false;\n    root.append(this.seriesRoot);\n    root.append(this.highlightRoot);\n    root.append(this.annotationRoot);\n    this.axisGridGroup = new Group({\n      name: \"Axes-Grids\",\n      layer: true,\n      zIndex: 1 /* AXIS_GRID_ZINDEX */\n    });\n    root.appendChild(this.axisGridGroup);\n    this.axisGroup = new Group({\n      name: \"Axes\",\n      layer: true,\n      zIndex: 2 /* AXIS_ZINDEX */\n    });\n    root.appendChild(this.axisGroup);\n    this.sizeMonitor = new SizeMonitor();\n    this.sizeMonitor.observe(this.element, size => this.rawResize(size));\n    const {\n      overrideDevicePixelRatio\n    } = options.specialOverrides;\n    scene != null ? scene : scene = new Scene({\n      pixelRatio: overrideDevicePixelRatio,\n      canvasPosition: \"absolute\"\n    });\n    scene.setRoot(root).setContainer(element2);\n    this.autoSize = true;\n    this.tooltip = new Tooltip();\n    this.seriesLayerManager = new SeriesLayerManager(this.seriesRoot, this.highlightRoot, this.annotationRoot);\n    const ctx = this.ctx = new ChartContext(this, {\n      scene,\n      syncManager: new SyncManager(this),\n      element: element2,\n      updateCallback: function () {\n        let type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        let opts = arguments.length > 1 ? arguments[1] : undefined;\n        return _this2.update(type, opts);\n      },\n      updateMutex: this.updateMutex\n    });\n    this.overlays = new ChartOverlays();\n    (_c = (_b = this.overlays.loading).renderer) != null ? _c : _b.renderer = () => getLoadingSpinner(this.overlays.loading.getText(), ctx.animationManager.defaultDuration);\n    this.processors = [new BaseLayoutProcessor(this, ctx.layoutService), new DataWindowProcessor(this, ctx.dataService, ctx.updateService, ctx.zoomManager), new OverlaysProcessor(this, this.overlays, ctx.dataService, ctx.layoutService, ctx.animationManager)];\n    this.highlight = new ChartHighlight();\n    this.container = container;\n    const {\n      All\n    } = InteractionState;\n    const moduleContext = this.getModuleContext();\n    const seriesRegion = ctx.regionManager.addRegion(\"series\", this.seriesRoot, this.axisGroup);\n    ctx.regionManager.addRegion(\"root\", root);\n    this._destroyFns.push(ctx.dataService.addListener(\"data-load\", event => {\n      this.data = event.data;\n    }), ctx.scene.attachNode(this.title.node), ctx.scene.attachNode(this.subtitle.node), ctx.scene.attachNode(this.footnote.node), this.title.registerInteraction(moduleContext, \"title\"), this.subtitle.registerInteraction(moduleContext, \"subtitle\"), this.footnote.registerInteraction(moduleContext, \"footnote\"), ctx.interactionManager.addListener(\"click\", event => this.onClick(event)), ctx.interactionManager.addListener(\"dblclick\", event => this.onDoubleClick(event)), seriesRegion.addListener(\"hover\", event => this.onMouseMove(event)), seriesRegion.addListener(\"leave\", event => this.onLeave(event)), seriesRegion.addListener(\"blur\", () => this.onBlur()), seriesRegion.addListener(\"tab\", event => this.onTab(event)), seriesRegion.addListener(\"nav-vert\", event => this.onNavVert(event)), seriesRegion.addListener(\"nav-hori\", event => this.onNavHori(event)), seriesRegion.addListener(\"submit\", event => this.onSubmit(event)), ctx.keyNavManager.addListener(\"browserfocus\", event => this.onBrowserFocus(event)), ctx.interactionManager.addListener(\"page-left\", () => this.destroy()), ctx.interactionManager.addListener(\"contextmenu\", event => this.onContextMenu(event), All), ctx.animationManager.addListener(\"animation-start\", () => this.onAnimationStart()), ctx.animationManager.addListener(\"animation-frame\", () => {\n      this.update(6 /* SCENE_RENDER */);\n    }), ctx.highlightManager.addListener(\"highlight-change\", event => this.changeHighlightDatum(event)), ctx.zoomManager.addListener(\"zoom-pan-start\", () => this.resetPointer()), ctx.zoomManager.addListener(\"zoom-change\", () => {\n      this.resetPointer();\n      this.series.map(s => {\n        var _a2;\n        return (_a2 = s.animationState) == null ? void 0 : _a2.transition(\"updateData\");\n      });\n      const skipAnimations = this.chartAnimationPhase !== \"initial\";\n      this.update(3 /* PERFORM_LAYOUT */, {\n        forceNodeDataRefresh: true,\n        skipAnimations\n      });\n    }));\n  }\n  static getInstance(element2) {\n    return _Chart.chartsInstances.get(element2);\n  }\n  /** NOTE: This is exposed for use by Integrated charts only. */\n  get canvasElement() {\n    return this.ctx.scene.canvas.element;\n  }\n  /** NOTE: This is exposed for use by Integrated charts only. */\n  getCanvasDataURL(fileFormat) {\n    return this.ctx.scene.getDataURL(fileFormat);\n  }\n  onAutoSizeChange(value) {\n    const {\n      style\n    } = this.element;\n    if (value) {\n      style.display = \"block\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      if (!this._lastAutoSize) {\n        return;\n      }\n      this.resize(void 0, void 0, \"autoSize option\");\n    } else {\n      style.display = \"inline-block\";\n      style.width = \"auto\";\n      style.height = \"auto\";\n    }\n  }\n  download(fileName, fileFormat) {\n    this.ctx.scene.download(fileName, fileFormat);\n  }\n  getOptions() {\n    var _a;\n    return (_a = this.queuedUserOptions.at(-1)) != null ? _a : this.userOptions;\n  }\n  getModuleContext() {\n    return this.ctx;\n  }\n  getAriaLabel() {\n    var _a;\n    const captionText = [this.title, this.subtitle, this.footnote].filter(caption => caption.enabled && caption.text).map(caption => caption.text).join(\". \");\n    const nSeries = (_a = this.series.length) != null ? _a : 0;\n    return \"chart, \".concat(nSeries, \" series, \").concat(captionText);\n  }\n  resetAnimations() {\n    this.chartAnimationPhase = \"initial\";\n    for (const series of this.series) {\n      series.resetAnimation(this.chartAnimationPhase);\n    }\n    for (const axis of this.axes) {\n      axis.resetAnimation(this.chartAnimationPhase);\n    }\n    this.animationRect = void 0;\n    this.ctx.animationManager.reset();\n  }\n  skipAnimations() {\n    this.ctx.animationManager.skipCurrentBatch();\n    this._performUpdateSkipAnimations = true;\n  }\n  destroy(opts) {\n    if (this.destroyed) {\n      return;\n    }\n    const keepTransferableResources = opts == null ? void 0 : opts.keepTransferableResources;\n    let result;\n    this.performUpdateType = 7 /* NONE */;\n    this._destroyFns.forEach(fn => fn());\n    this.processors.forEach(p => p.destroy());\n    this.tooltip.destroy();\n    this.overlays.destroy();\n    this.sizeMonitor.unobserve(this.element);\n    this.modulesManager.destroy();\n    if (keepTransferableResources) {\n      this.ctx.scene.strip();\n      result = {\n        container: this.container,\n        scene: this.ctx.scene,\n        element: this.element\n      };\n    } else {\n      this.ctx.scene.destroy();\n      this.container = void 0;\n    }\n    this.destroySeries(this.series);\n    this.seriesLayerManager.destroy();\n    this.axes.forEach(a => a.destroy());\n    this.axes = [];\n    this.animationRect = void 0;\n    this.ctx.destroy();\n    this.zoomManager.destroy();\n    this.destroyed = true;\n    Object.freeze(this);\n    return result;\n  }\n  resetPointer() {\n    let highlightOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (!highlightOnly) {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n    }\n    this.ctx.highlightManager.updateHighlight(this.id);\n    this.lastInteractionEvent = void 0;\n  }\n  requestFactoryUpdate(cb) {\n    if (this.destroyed) return;\n    this._pendingFactoryUpdatesCount++;\n    this.updateMutex.acquire(() => __async(this, null, function* () {\n      if (this.destroyed) return;\n      yield cb(this);\n      if (this.destroyed) return;\n      this._pendingFactoryUpdatesCount--;\n    })).catch(e => Logger.errorOnce(e));\n  }\n  update() {\n    let type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let opts = arguments.length > 1 ? arguments[1] : undefined;\n    var _a, _b;\n    const {\n      forceNodeDataRefresh = false,\n      skipAnimations,\n      seriesToUpdate = this.series,\n      newAnimationBatch\n    } = opts != null ? opts : {};\n    if (forceNodeDataRefresh) {\n      this.series.forEach(series => series.markNodeDataDirty());\n    }\n    for (const series of seriesToUpdate) {\n      this.seriesToUpdate.add(series);\n    }\n    if (skipAnimations) {\n      this.ctx.animationManager.skipCurrentBatch();\n      this._performUpdateSkipAnimations = true;\n    }\n    if (newAnimationBatch && this.ctx.animationManager.isActive()) {\n      this._performUpdateSkipAnimations = true;\n    }\n    this._skipSync = (_a = opts == null ? void 0 : opts.skipSync) != null ? _a : false;\n    if (this.debug.check()) {\n      let stack = (_b = new Error().stack) != null ? _b : \"<unknown>\";\n      stack = stack.replace(/\\([^)]*/g, \"\");\n      this.updateRequestors[stack] = type;\n    }\n    if (type < this.performUpdateType) {\n      this.performUpdateType = type;\n      this.performUpdateTrigger.schedule(opts == null ? void 0 : opts.backOffMs);\n    }\n  }\n  performUpdate(count) {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        performUpdateType,\n        extraDebugStats,\n        _performUpdateSplits: splits,\n        ctx\n      } = this;\n      const seriesToUpdate = [...this.seriesToUpdate];\n      this.performUpdateType = 7 /* NONE */;\n      this.seriesToUpdate.clear();\n      if (this.updateShortcutCount === 0 && performUpdateType < 6 /* SCENE_RENDER */) {\n        ctx.animationManager.startBatch(this._performUpdateSkipAnimations);\n        ctx.animationManager.onBatchStop(() => this.chartAnimationPhase = \"ready\");\n      }\n      this.debug(\"Chart.performUpdate() - start\", ChartUpdateType[performUpdateType]);\n      let previousSplit = performance.now();\n      (_a = splits.start) != null ? _a : splits.start = previousSplit;\n      const updateSplits = splitName => {\n        var _a2;\n        (_a2 = splits[splitName]) != null ? _a2 : splits[splitName] = 0;\n        splits[splitName] += performance.now() - previousSplit;\n        previousSplit = performance.now();\n      };\n      let updateDeferred = false;\n      switch (performUpdateType) {\n        case 0 /* FULL */:\n          this.updateDOM();\n        case 1 /* UPDATE_DATA */:\n          yield this.updateData();\n          updateSplits(\"\\u2B07\\uFE0F\");\n        case 2 /* PROCESS_DATA */:\n          yield this.processData();\n          this.resetPointer(true);\n          updateSplits(\"\\u{1F3ED}\");\n        case 3 /* PERFORM_LAYOUT */:\n          if (this.checkUpdateShortcut(3 /* PERFORM_LAYOUT */)) break;\n          if (!this.checkFirstAutoSize(seriesToUpdate)) {\n            updateDeferred = true;\n            break;\n          }\n          yield this.processLayout();\n          updateSplits(\"\\u2316\");\n        case 4 /* SERIES_UPDATE */:\n          if (this.checkUpdateShortcut(4 /* SERIES_UPDATE */)) break;\n          const {\n            seriesRect\n          } = this;\n          yield Promise.all(seriesToUpdate.map(series => series.update({\n            seriesRect\n          })));\n          updateSplits(\"\\u{1F914}\");\n        case 5 /* TOOLTIP_RECALCULATION */:\n          if (this.checkUpdateShortcut(5 /* TOOLTIP_RECALCULATION */)) break;\n          const tooltipMeta = ctx.tooltipManager.getTooltipMeta(this.id);\n          if (performUpdateType <= 4 /* SERIES_UPDATE */ && (tooltipMeta == null ? void 0 : tooltipMeta.lastPointerEvent) != null) {\n            this.handlePointer(tooltipMeta.lastPointerEvent, true);\n          }\n          updateSplits(\"\\u2196\");\n        case 6 /* SCENE_RENDER */:\n          if (this.checkUpdateShortcut(6 /* SCENE_RENDER */)) break;\n          ctx.animationManager.endBatch();\n          extraDebugStats[\"updateShortcutCount\"] = this.updateShortcutCount;\n          yield ctx.scene.render({\n            debugSplitTimes: splits,\n            extraDebugStats\n          });\n          this.ctx.regionManager.updateFocusWrapperRect();\n          this.extraDebugStats = {};\n          for (const key in splits) {\n            delete splits[key];\n          }\n        case 7 /* NONE */:\n          this.updateShortcutCount = 0;\n          this.updateRequestors = {};\n          this._performUpdateSkipAnimations = false;\n          ctx.animationManager.endBatch();\n      }\n      if (!updateDeferred) {\n        ctx.updateService.dispatchUpdateComplete(this.getMinRects());\n      }\n      const end = performance.now();\n      this.debug(\"Chart.performUpdate() - end\", {\n        chart: this,\n        durationMs: Math.round((end - splits[\"start\"]) * 100) / 100,\n        count,\n        performUpdateType: ChartUpdateType[performUpdateType]\n      });\n    });\n  }\n  updateThemeClassName() {\n    const {\n      element: element2,\n      processedOptions: {\n        theme\n      }\n    } = this;\n    const themeClassNamePrefix = \"ag-charts-theme-\";\n    const validThemeClassNames = [\"\".concat(themeClassNamePrefix, \"default\"), \"\".concat(themeClassNamePrefix, \"default-dark\")];\n    let themeClassName = validThemeClassNames[0];\n    let isDark = false;\n    if (typeof theme === \"string\") {\n      themeClassName = theme.replace(\"ag-\", themeClassNamePrefix);\n      isDark = theme.includes(\"-dark\");\n    } else if (typeof (theme == null ? void 0 : theme.baseTheme) === \"string\") {\n      themeClassName = theme.baseTheme.replace(\"ag-\", themeClassNamePrefix);\n      isDark = theme.baseTheme.includes(\"-dark\");\n    }\n    if (!validThemeClassNames.includes(themeClassName)) {\n      themeClassName = isDark ? validThemeClassNames[1] : validThemeClassNames[0];\n    }\n    element2.classList.forEach(className => {\n      if (className.startsWith(themeClassNamePrefix) && className !== themeClassName) {\n        element2.classList.remove(className);\n      }\n    });\n    element2.classList.add(themeClassName);\n  }\n  updateDOM() {\n    this.updateThemeClassName();\n    const {\n      enabled,\n      tabIndex\n    } = this.keyboard;\n    this.element.tabIndex = enabled ? tabIndex != null ? tabIndex : 0 : -1;\n    setAttribute(this.ctx.scene.canvas.element, \"role\", \"figure\");\n    setAttribute(this.ctx.scene.canvas.element, \"aria-label\", this.getAriaLabel());\n  }\n  checkUpdateShortcut(checkUpdateType) {\n    const maxShortcuts = 3;\n    if (this.updateShortcutCount > maxShortcuts) {\n      Logger.warn(\"exceeded the maximum number of simultaneous updates (\".concat(maxShortcuts + 1, \"), discarding changes and rendering\"), this.updateRequestors);\n      return false;\n    }\n    if (this.performUpdateType <= checkUpdateType) {\n      this.updateShortcutCount++;\n      return true;\n    }\n    return false;\n  }\n  checkFirstAutoSize(seriesToUpdate) {\n    if (this.autoSize && !this._lastAutoSize) {\n      const count = this._performUpdateNoRenderCount++;\n      const backOffMs = __pow(count + 1, 2) * 40;\n      if (count < 8) {\n        this.update(3 /* PERFORM_LAYOUT */, {\n          seriesToUpdate,\n          backOffMs\n        });\n        this.debug(\"Chart.checkFirstAutoSize() - backing off until first size update\", backOffMs);\n        return false;\n      }\n      this.debug(\"Chart.checkFirstAutoSize() - timeout for first size update.\");\n    }\n    this._performUpdateNoRenderCount = 0;\n    return true;\n  }\n  onAxisChange(newValue) {\n    let oldValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    for (const axis of oldValue) {\n      if (newValue.includes(axis)) continue;\n      axis.detachAxis(this.axisGroup, this.axisGridGroup);\n      axis.destroy();\n    }\n    for (const axis of newValue) {\n      if (oldValue == null ? void 0 : oldValue.includes(axis)) continue;\n      axis.attachAxis(this.axisGroup, this.axisGridGroup);\n    }\n  }\n  onSeriesChange(newValue, oldValue) {\n    var _a, _b;\n    const seriesToDestroy = (_a = oldValue == null ? void 0 : oldValue.filter(series => !newValue.includes(series))) != null ? _a : [];\n    this.destroySeries(seriesToDestroy);\n    (_b = this.seriesLayerManager) == null ? void 0 : _b.setSeriesCount(newValue.length);\n    for (const series of newValue) {\n      if (oldValue == null ? void 0 : oldValue.includes(series)) continue;\n      if (series.rootGroup.parent == null) {\n        this.seriesLayerManager.requestGroup(series);\n      }\n      const chart = this;\n      series.chart = {\n        get mode() {\n          return chart.mode;\n        },\n        get isMiniChart() {\n          return false;\n        },\n        get seriesRect() {\n          return chart.seriesRect;\n        },\n        placeLabels() {\n          return chart.placeLabels();\n        }\n      };\n      series.resetAnimation(this.chartAnimationPhase);\n      this.addSeriesListeners(series);\n      series.addChartEventListeners();\n    }\n  }\n  destroySeries(allSeries) {\n    allSeries == null ? void 0 : allSeries.forEach(series => {\n      series.removeEventListener(\"nodeClick\", this.onSeriesNodeClick);\n      series.removeEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n      series.removeEventListener(\"groupingChanged\", this.seriesGroupingChanged);\n      series.destroy();\n      this.seriesLayerManager.releaseGroup(series);\n      series.chart = void 0;\n    });\n  }\n  addSeriesListeners(series) {\n    if (this.hasEventListener(\"seriesNodeClick\")) {\n      series.addEventListener(\"nodeClick\", this.onSeriesNodeClick);\n    }\n    if (this.hasEventListener(\"seriesNodeDoubleClick\")) {\n      series.addEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n    }\n    series.addEventListener(\"groupingChanged\", this.seriesGroupingChanged);\n  }\n  updateAllSeriesListeners() {\n    this.series.forEach(series => {\n      series.removeEventListener(\"nodeClick\", this.onSeriesNodeClick);\n      series.removeEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n      this.addSeriesListeners(series);\n    });\n  }\n  assignSeriesToAxes() {\n    this.axes.forEach(axis => {\n      axis.boundSeries = this.series.filter(s => {\n        const seriesAxis = s.axes[axis.direction];\n        return seriesAxis === axis;\n      });\n    });\n  }\n  assignAxesToSeries() {\n    const directionToAxesMap = groupBy(this.axes, axis => axis.direction);\n    this.series.forEach(series => {\n      series.directions.forEach(direction => {\n        const directionAxes = directionToAxesMap[direction];\n        if (!directionAxes) {\n          Logger.warnOnce(\"no available axis for direction [\".concat(direction, \"]; check series and axes configuration.\"));\n          return;\n        }\n        const seriesKeys = series.getKeys(direction);\n        const newAxis = directionAxes.find(axis => !axis.keys.length || seriesKeys.some(key => axis.keys.includes(key)));\n        if (!newAxis) {\n          Logger.warnOnce(\"no matching axis for direction [\".concat(direction, \"] and keys [\").concat(seriesKeys, \"]; check series and axes configuration.\"));\n          return;\n        }\n        series.axes[direction] = newAxis;\n      });\n    });\n  }\n  rawResize(_ref68) {\n    let {\n      width,\n      height\n    } = _ref68;\n    var _a;\n    if (!this.autoSize) return;\n    width = Math.floor(width);\n    height = Math.floor(height);\n    if (width === 0 && height === 0) return;\n    const [autoWidth = 0, authHeight = 0] = (_a = this._lastAutoSize) != null ? _a : [];\n    if (autoWidth === width && authHeight === height) return;\n    this._lastAutoSize = [width, height];\n    this.resize(void 0, void 0, \"SizeMonitor\");\n  }\n  resize(width, height, source) {\n    var _a, _b, _c, _d;\n    const {\n      scene,\n      animationManager\n    } = this.ctx;\n    width != null ? width : width = (_b = this.width) != null ? _b : this.autoSize ? (_a = this._lastAutoSize) == null ? void 0 : _a[0] : scene.canvas.width;\n    height != null ? height : height = (_d = this.height) != null ? _d : this.autoSize ? (_c = this._lastAutoSize) == null ? void 0 : _c[1] : scene.canvas.height;\n    this.debug(\"Chart.resize() from \".concat(source), {\n      width,\n      height,\n      stack: new Error().stack\n    });\n    if (!width || !height || !isFiniteNumber(width) || !isFiniteNumber(height)) return;\n    if (scene.resize(width, height)) {\n      this.resetPointer();\n      animationManager.reset();\n      let skipAnimations = true;\n      if (this.autoSize && this._firstAutoSize) {\n        skipAnimations = false;\n        this._firstAutoSize = false;\n      }\n      this.update(3 /* PERFORM_LAYOUT */, {\n        forceNodeDataRefresh: true,\n        skipAnimations\n      });\n    }\n  }\n  updateData() {\n    return __async(this, null, function* () {\n      this.series.forEach(s => s.setChartData(this.data));\n      const modulePromises = this.modulesManager.mapModules(m => {\n        var _a;\n        return (_a = m.updateData) == null ? void 0 : _a.call(m, {\n          data: this.data\n        });\n      });\n      yield Promise.all(modulePromises);\n    });\n  }\n  processData() {\n    return __async(this, null, function* () {\n      if (this.series.some(s => s.canHaveAxes)) {\n        this.assignAxesToSeries();\n        const syncModule = this.modulesManager.getModule(\"sync\");\n        if (syncModule == null ? void 0 : syncModule.enabled) {\n          syncModule.syncAxes(this._skipSync);\n        } else {\n          this.assignSeriesToAxes();\n        }\n      }\n      const dataController = new DataController(this.mode);\n      const seriesPromises = this.series.map(s => s.processData(dataController));\n      const modulePromises = this.modulesManager.mapModules(m => {\n        var _a;\n        return (_a = m.processData) == null ? void 0 : _a.call(m, {\n          dataController\n        });\n      });\n      dataController.execute();\n      yield Promise.all([...seriesPromises, ...modulePromises]);\n      for (const {\n        legendType,\n        legend\n      } of this.modulesManager.legends()) {\n        legend.data = this.getLegendData(legendType, this.mode !== \"integrated\");\n      }\n      this.dataProcessListeners.forEach(resolve => resolve());\n      this.dataProcessListeners.clear();\n    });\n  }\n  placeLabels() {\n    const visibleSeries = [];\n    const data = [];\n    for (const series of this.series) {\n      if (!series.visible) continue;\n      const labelData = series.getLabelData();\n      if (isPointLabelDatum(labelData == null ? void 0 : labelData[0])) {\n        data.push(labelData);\n        visibleSeries.push(series);\n      }\n    }\n    const {\n      seriesRect\n    } = this;\n    const {\n      top,\n      right,\n      bottom,\n      left\n    } = this.seriesArea.padding;\n    const labels = seriesRect && data.length > 0 ? placeLabels(data, {\n      x: -left,\n      y: -top,\n      width: seriesRect.width + left + right,\n      height: seriesRect.height + top + bottom\n    }) : [];\n    return new Map(labels.map((l, i) => [visibleSeries[i], l]));\n  }\n  getLegendData(legendType, warnConflicts) {\n    var _a, _b, _c;\n    const legendData = this.series.filter(s => s.properties.showInLegend).flatMap(s => s.getLegendData(legendType));\n    const isCategoryLegendData = data => data.every(d => d.legendType === \"category\");\n    if (warnConflicts && isCategoryLegendData(legendData)) {\n      const seriesMarkerFills = {};\n      const seriesTypeMap = new Map(this.series.map(s => [s.id, s.type]));\n      for (const {\n        seriesId,\n        marker,\n        label\n      } of legendData) {\n        if (marker.fill == null) continue;\n        const seriesType = seriesTypeMap.get(seriesId);\n        const markerFill = (_a = seriesMarkerFills[seriesType]) != null ? _a : seriesMarkerFills[seriesType] = {};\n        (_c = markerFill[_b = label.text]) != null ? _c : markerFill[_b] = marker.fill;\n        if (markerFill[label.text] !== marker.fill) {\n          Logger.warnOnce(\"legend item '\".concat(label.text, \"' has multiple fill colors, this may cause unexpected behaviour.\"));\n        }\n      }\n    }\n    return legendData;\n  }\n  processLayout() {\n    return __async(this, null, function* () {\n      var _a;\n      const oldRect = this.animationRect;\n      yield this.performLayout();\n      if (oldRect && !((_a = this.animationRect) == null ? void 0 : _a.equals(oldRect))) {\n        this.ctx.animationManager.skipCurrentBatch();\n      }\n      this.debug(\"Chart.performUpdate() - seriesRect\", this.seriesRect);\n    });\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const {\n        width,\n        height\n      } = this.ctx.scene;\n      let ctx = {\n        shrinkRect: new BBox(0, 0, width, height)\n      };\n      ctx = this.ctx.layoutService.dispatchPerformLayout(\"start-layout\", ctx);\n      ctx = this.ctx.layoutService.dispatchPerformLayout(\"before-series\", ctx);\n      const modulePromises = this.modulesManager.mapModules(m => __async(this, null, function* () {\n        if (m.performLayout != null) {\n          ctx = yield m.performLayout(ctx);\n        }\n      }));\n      yield Promise.all(modulePromises);\n      return ctx.shrinkRect;\n    });\n  }\n  // x/y are local canvas coordinates in CSS pixels, not actual pixels\n  pickSeriesNode(point, exactMatchOnly, maxDistance) {\n    var _a, _b;\n    const start = performance.now();\n    const pickModes = exactMatchOnly ? [0 /* EXACT_SHAPE_MATCH */] : void 0;\n    const reverseSeries = [...this.series].reverse();\n    let result;\n    for (const series of reverseSeries) {\n      if (!series.visible || !series.rootGroup.visible) {\n        continue;\n      }\n      const {\n        match,\n        distance: distance2\n      } = (_a = series.pickNode(point, pickModes)) != null ? _a : {};\n      if (!match || distance2 == null) {\n        continue;\n      }\n      if ((!result || result.distance > distance2) && distance2 <= (maxDistance != null ? maxDistance : Infinity)) {\n        result = {\n          series,\n          distance: distance2,\n          datum: match\n        };\n      }\n      if (distance2 === 0) {\n        break;\n      }\n    }\n    this.extraDebugStats[\"pickSeriesNode\"] = Math.round(((_b = this.extraDebugStats[\"pickSeriesNode\"]) != null ? _b : 0) + (performance.now() - start));\n    return result;\n  }\n  onMouseMove(event) {\n    this.lastInteractionEvent = event;\n    this.pointerScheduler.schedule();\n    this.extraDebugStats[\"mouseX\"] = event.offsetX;\n    this.extraDebugStats[\"mouseY\"] = event.offsetY;\n    this.update(6 /* SCENE_RENDER */);\n  }\n  onLeave(event) {\n    if (!this.tooltip.pointerLeftOntoTooltip(event)) {\n      this.resetPointer();\n      this.update(6 /* SCENE_RENDER */);\n      this.ctx.cursorManager.updateCursor(\"chart\");\n    }\n  }\n  onBrowserFocus(event) {\n    if (event.delta > 0) {\n      this.focus.datum = void 0;\n      this.focus.series = void 0;\n      this.focus.datumIndex = 0;\n      this.focus.seriesIndex = 0;\n    } else {\n      this.focus.datum = void 0;\n      this.focus.series = void 0;\n      this.focus.datumIndex = Infinity;\n      this.focus.seriesIndex = Infinity;\n    }\n  }\n  onAnimationStart() {\n    if (this.focus.hasFocus) {\n      this.onBlur();\n    }\n  }\n  onBlur() {\n    this.ctx.regionManager.updateFocusIndicatorRect(void 0);\n    this.resetPointer();\n    this.focus.hasFocus = false;\n  }\n  onTab(event) {\n    this.handleFocus();\n    event.consume();\n    this.focus.hasFocus = true;\n  }\n  onNavVert(event) {\n    this.focus.seriesIndex += event.delta;\n    this.handleFocus();\n    event.consume();\n  }\n  onNavHori(event) {\n    this.focus.datumIndex += event.delta;\n    this.handleFocus(event.delta);\n    event.consume();\n  }\n  onSubmit(event) {\n    const {\n      series,\n      datum\n    } = this.focus;\n    const sourceEvent = event.sourceEvent.sourceEvent;\n    if (series !== void 0 && datum !== void 0) {\n      series.fireNodeClickEvent(sourceEvent, datum);\n    } else {\n      this.fireEvent({\n        type: \"click\",\n        event: sourceEvent\n      });\n    }\n  }\n  onContextMenu(event) {\n    this.ctx.tooltipManager.removeTooltip(this.id);\n    const {\n      Default: Default2,\n      ContextMenu\n    } = InteractionState;\n    if (this.ctx.interactionManager.getState() & (Default2 | ContextMenu)) {\n      this.checkSeriesNodeRange(event, () => {\n        this.ctx.highlightManager.updateHighlight(this.id);\n      });\n    }\n  }\n  handleFocus(datumIndexDelta) {\n    this.focus.hasFocus = true;\n    const overlayFocus = this.overlays.getFocusInfo();\n    if (overlayFocus == null) {\n      this.handleSeriesFocus(datumIndexDelta != null ? datumIndexDelta : 0);\n    } else {\n      this.ctx.regionManager.updateFocusIndicatorRect(overlayFocus.rect);\n      this.ctx.ariaAnnouncementService.announceValue(overlayFocus.text);\n    }\n  }\n  handleSeriesFocus(datumIndexDelta) {\n    const {\n      series,\n      seriesRect,\n      focus\n    } = this;\n    const visibleSeries = series.filter(s => s.visible);\n    if (visibleSeries.length === 0) return;\n    focus.seriesIndex = clamp(0, focus.seriesIndex, visibleSeries.length - 1);\n    focus.series = visibleSeries[focus.seriesIndex];\n    const pick = focus.series.pickFocus({\n      datumIndex: focus.datumIndex,\n      datumIndexDelta,\n      seriesRect\n    });\n    if (pick === void 0) return;\n    const {\n      datum,\n      datumIndex\n    } = pick;\n    focus.datumIndex = datumIndex;\n    focus.datum = datum;\n    const keyboardEvent = makeKeyboardPointerEvent(this.ctx.regionManager, pick);\n    if (keyboardEvent !== void 0) {\n      this.lastInteractionEvent = keyboardEvent;\n      const html = focus.series.getTooltipHtml(datum);\n      const meta = TooltipManager.makeTooltipMeta(this.lastInteractionEvent, datum);\n      this.ctx.highlightManager.updateHighlight(this.id, datum);\n      this.ctx.tooltipManager.updateTooltip(this.id, meta, html);\n      this.ctx.ariaAnnouncementService.announceValue(html.ariaLabel);\n    }\n  }\n  static isHoverEvent(event) {\n    return event !== void 0 && event.type === \"hover\";\n  }\n  handlePointer(event, redisplay) {\n    var _this3 = this;\n    if (this.ctx.interactionManager.getState() !== 16 /* Default */ || !_Chart.isHoverEvent(event)) {\n      return;\n    }\n    const {\n      lastPick,\n      hoverRect\n    } = this;\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    const disablePointer = function () {\n      let highlightOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (lastPick) {\n        _this3.resetPointer(highlightOnly);\n      }\n    };\n    if (redisplay ? this.ctx.animationManager.isActive() : !(hoverRect == null ? void 0 : hoverRect.containsPoint(offsetX, offsetY))) {\n      disablePointer();\n      return;\n    }\n    this.handlePointerTooltip(event, disablePointer);\n    this.handlePointerNode(event);\n  }\n  handlePointerTooltip(event, disablePointer) {\n    const {\n      lastPick,\n      tooltip\n    } = this;\n    const {\n      range: range3\n    } = tooltip;\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    let pixelRange;\n    if (isFiniteNumber(range3)) {\n      pixelRange = range3;\n    }\n    const pick = this.pickSeriesNode({\n      x: offsetX,\n      y: offsetY\n    }, range3 === \"exact\", pixelRange);\n    if (!pick) {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n      if (this.highlight.range === \"tooltip\") {\n        disablePointer(true);\n      }\n      return;\n    }\n    const isNewDatum = this.highlight.range === \"node\" || !lastPick || lastPick !== pick.datum;\n    let html;\n    if (isNewDatum) {\n      html = pick.series.getTooltipHtml(pick.datum);\n      if (this.highlight.range === \"tooltip\") {\n        this.ctx.highlightManager.updateHighlight(this.id, pick.datum);\n      }\n    }\n    const isPixelRange = pixelRange != null;\n    const tooltipEnabled = this.tooltip.enabled && pick.series.tooltipEnabled;\n    const exactlyMatched = range3 === \"exact\" && pick.distance === 0;\n    const rangeMatched = range3 === \"nearest\" || isPixelRange || exactlyMatched;\n    const shouldUpdateTooltip = tooltipEnabled && rangeMatched && (!isNewDatum || html !== void 0);\n    const meta = TooltipManager.makeTooltipMeta(event, pick.datum);\n    if (shouldUpdateTooltip) {\n      this.ctx.tooltipManager.updateTooltip(this.id, meta, html);\n    }\n  }\n  handlePointerNode(event) {\n    const found = this.checkSeriesNodeRange(event, (series, datum) => {\n      if (series.hasEventListener(\"nodeClick\") || series.hasEventListener(\"nodeDoubleClick\")) {\n        this.ctx.cursorManager.updateCursor(\"chart\", \"pointer\");\n      }\n      if (this.highlight.range === \"node\") {\n        this.ctx.highlightManager.updateHighlight(this.id, datum);\n      }\n    });\n    if (!found) {\n      this.ctx.cursorManager.updateCursor(\"chart\");\n      if (this.highlight.range === \"node\") {\n        this.ctx.highlightManager.updateHighlight(this.id);\n      }\n    }\n  }\n  onClick(event) {\n    if (this.checkSeriesNodeClick(event)) {\n      this.update(4 /* SERIES_UPDATE */);\n      return;\n    }\n    this.fireEvent({\n      type: \"click\",\n      event: event.sourceEvent\n    });\n  }\n  onDoubleClick(event) {\n    if (this.checkSeriesNodeDoubleClick(event)) {\n      this.update(4 /* SERIES_UPDATE */);\n      return;\n    }\n    this.fireEvent({\n      type: \"doubleClick\",\n      event: event.sourceEvent\n    });\n  }\n  checkSeriesNodeClick(event) {\n    return this.checkSeriesNodeRange(event, (series, datum) => series.fireNodeClickEvent(event.sourceEvent, datum));\n  }\n  checkSeriesNodeDoubleClick(event) {\n    return this.checkSeriesNodeRange(event, (series, datum) => series.fireNodeDoubleClickEvent(event.sourceEvent, datum));\n  }\n  checkSeriesNodeRange(event, callback) {\n    var _a;\n    const nearestNode = this.pickSeriesNode({\n      x: event.offsetX,\n      y: event.offsetY\n    }, false);\n    const datum = nearestNode == null ? void 0 : nearestNode.datum;\n    const nodeClickRange = datum == null ? void 0 : datum.series.properties.nodeClickRange;\n    let pixelRange;\n    if (isFiniteNumber(nodeClickRange)) {\n      pixelRange = nodeClickRange;\n    }\n    let pickedNode = this.pickSeriesNode({\n      x: event.offsetX,\n      y: event.offsetY\n    }, true);\n    if (pickedNode) {\n      this.ctx.highlightManager.updatePicked(this.id, pickedNode.datum);\n    } else {\n      this.ctx.highlightManager.updatePicked(this.id);\n    }\n    if (datum && nodeClickRange === \"nearest\") {\n      callback(datum.series, datum);\n      return true;\n    }\n    if (nodeClickRange !== \"exact\") {\n      pickedNode = this.pickSeriesNode({\n        x: event.offsetX,\n        y: event.offsetY\n      }, false, pixelRange);\n    }\n    if (!pickedNode) return false;\n    const isPixelRange = pixelRange != null;\n    const exactlyMatched = nodeClickRange === \"exact\" && pickedNode.distance === 0;\n    if (isPixelRange || exactlyMatched) {\n      const allMatch = event.pointerHistory === void 0 || ((_a = event.pointerHistory) == null ? void 0 : _a.every(pastEvent => {\n        const historyPoint = {\n          x: pastEvent.offsetX,\n          y: pastEvent.offsetY\n        };\n        const historyNode = this.pickSeriesNode(historyPoint, false, pixelRange);\n        return (historyNode == null ? void 0 : historyNode.datum) === (pickedNode == null ? void 0 : pickedNode.datum);\n      }));\n      if (allMatch) {\n        callback(pickedNode.series, pickedNode.datum);\n        return true;\n      }\n    }\n    return false;\n  }\n  changeHighlightDatum(event) {\n    var _a, _b;\n    const seriesToUpdate = /* @__PURE__ */new Set();\n    const {\n      series: newSeries = void 0,\n      datum: newDatum\n    } = (_a = event.currentHighlight) != null ? _a : {};\n    const {\n      series: lastSeries = void 0,\n      datum: lastDatum\n    } = (_b = event.previousHighlight) != null ? _b : {};\n    if (lastSeries) {\n      seriesToUpdate.add(lastSeries);\n    }\n    if (newSeries) {\n      seriesToUpdate.add(newSeries);\n    }\n    if ((lastSeries == null ? void 0 : lastSeries.properties.cursor) && lastDatum) {\n      this.ctx.cursorManager.updateCursor(lastSeries.id);\n    }\n    if ((newSeries == null ? void 0 : newSeries.properties.cursor) && newDatum) {\n      this.ctx.cursorManager.updateCursor(newSeries.id, newSeries.properties.cursor);\n    }\n    this.lastPick = event.currentHighlight;\n    const updateAll = newSeries == null || lastSeries == null;\n    if (updateAll) {\n      this.update(4 /* SERIES_UPDATE */);\n    } else {\n      this.update(4 /* SERIES_UPDATE */, {\n        seriesToUpdate\n      });\n    }\n  }\n  waitForUpdate() {\n    let timeoutMs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1e4;\n    let failOnTimeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return __async(this, null, function* () {\n      const start = performance.now();\n      if (this._pendingFactoryUpdatesCount > 0) {\n        yield this.updateMutex.waitForClearAcquireQueue();\n      }\n      while (this.performUpdateType !== 7 /* NONE */) {\n        if (performance.now() - start > timeoutMs) {\n          const message = \"Chart.waitForUpdate() timeout of \".concat(timeoutMs, \" reached - first chart update taking too long.\");\n          if (failOnTimeout) {\n            throw new Error(message);\n          } else {\n            Logger.warnOnce(message);\n          }\n        }\n        yield sleep(50);\n      }\n      yield this.updateMutex.waitForClearAcquireQueue();\n    });\n  }\n  waitForDataProcess(timeout) {\n    return new Promise(resolve => {\n      this.dataProcessListeners.add(resolve);\n      if (isNumber(timeout)) {\n        setTimeout(() => {\n          if (this.dataProcessListeners.has(resolve)) {\n            this.dataProcessListeners.delete(resolve);\n            resolve();\n          }\n        }, timeout);\n      }\n    });\n  }\n  getMinRects() {\n    const {\n      width,\n      height\n    } = this.ctx.scene;\n    const minRects = this.series.map(series => series.getMinRects(width, height)).filter(isDefined);\n    if (minRects.length === 0) return;\n    let maxWidth = 0;\n    let maxHeight = 0;\n    let maxVisibleWidth = 0;\n    let maxVisibleHeight = 0;\n    for (const {\n      minRect: minRect2,\n      minVisibleRect: minVisibleRect2\n    } of minRects) {\n      maxWidth = Math.max(maxWidth, minRect2.width);\n      maxHeight = Math.max(maxHeight, minRect2.height);\n      maxVisibleWidth = Math.max(maxVisibleWidth, minVisibleRect2.width);\n      maxVisibleHeight = Math.max(maxVisibleHeight, minVisibleRect2.height);\n    }\n    const minRect = new BBox(0, 0, maxWidth, maxHeight);\n    let minVisibleRect = minRect.clone();\n    if (maxVisibleWidth > 0 && maxVisibleHeight > 0) {\n      minVisibleRect = new BBox(0, 0, maxVisibleWidth, maxVisibleHeight);\n    }\n    return {\n      minRect,\n      minVisibleRect\n    };\n  }\n  filterMiniChartSeries(series) {\n    return series == null ? void 0 : series.filter(s => s.showInMiniChart !== false);\n  }\n  applyOptions(chartOptions) {\n    var _a, _b, _c, _d, _e;\n    const oldOpts = this.processedOptions;\n    const deltaOptions = chartOptions.diffOptions(oldOpts);\n    const userOptions = chartOptions.userOptions;\n    if (deltaOptions == null) return;\n    debug(\"AgChartV2.updateDelta() - applying delta\", deltaOptions);\n    const completeOptions = mergeDefaults(deltaOptions, oldOpts);\n    const modulesChanged = this.applyModules(completeOptions);\n    const skip = [\"type\", \"data\", \"series\", \"listeners\", \"theme\", \"legend.listeners\", \"navigator.miniChart.series\", \"navigator.miniChart.label\", \"axes\", \"topology\"];\n    if (deltaOptions.listeners) {\n      this.registerListeners(this, deltaOptions.listeners);\n    }\n    jsonApply(this, deltaOptions, {\n      skip\n    });\n    let forceNodeDataRefresh = false;\n    let seriesStatus = \"no-op\";\n    if ((_a = deltaOptions.series) == null ? void 0 : _a.length) {\n      seriesStatus = this.applySeries(this, deltaOptions.series, oldOpts == null ? void 0 : oldOpts.series);\n      forceNodeDataRefresh = true;\n    }\n    if (seriesStatus === \"replaced\") {\n      this.resetAnimations();\n    }\n    if (this.applyAxes(this, completeOptions, oldOpts, seriesStatus)) {\n      forceNodeDataRefresh = true;\n    }\n    if (deltaOptions.data) {\n      this.data = deltaOptions.data;\n    }\n    if (((_b = deltaOptions.legend) == null ? void 0 : _b.listeners) && this.modulesManager.isEnabled(\"legend\")) {\n      Object.assign(this.legend.listeners, deltaOptions.legend.listeners);\n    }\n    if (deltaOptions.listeners) {\n      this.updateAllSeriesListeners();\n    }\n    this.chartOptions = chartOptions;\n    this.processedOptions = completeOptions;\n    this.userOptions = mergeDefaults(userOptions, this.userOptions);\n    const navigatorModule = this.modulesManager.getModule(\"navigator\");\n    const zoomModule = this.modulesManager.getModule(\"zoom\");\n    if (!(navigatorModule == null ? void 0 : navigatorModule.enabled) && !(zoomModule == null ? void 0 : zoomModule.enabled)) {\n      this.ctx.zoomManager.updateZoom(\"chart\");\n    }\n    const miniChart = navigatorModule == null ? void 0 : navigatorModule.miniChart;\n    const miniChartSeries = (_e = (_d = (_c = completeOptions.navigator) == null ? void 0 : _c.miniChart) == null ? void 0 : _d.series) != null ? _e : completeOptions.series;\n    if ((miniChart == null ? void 0 : miniChart.enabled) === true && miniChartSeries != null) {\n      this.applyMiniChartOptions(miniChart, miniChartSeries, completeOptions, oldOpts);\n    } else if ((miniChart == null ? void 0 : miniChart.enabled) === false) {\n      miniChart.series = [];\n      miniChart.axes = [];\n    }\n    injectStyle(styles_default, \"chart\");\n    this.ctx.annotationManager.setAnnotationStyles(chartOptions.annotationThemes);\n    forceNodeDataRefresh || (forceNodeDataRefresh = this.shouldForceNodeDataRefresh(deltaOptions, seriesStatus));\n    const majorChange = forceNodeDataRefresh || modulesChanged;\n    const updateType = majorChange ? 0 /* FULL */ : 3 /* PERFORM_LAYOUT */;\n    this.maybeResetAnimations(seriesStatus);\n    debug(\"AgChartV2.applyChartOptions() - update type\", ChartUpdateType[updateType], {\n      seriesStatus,\n      forceNodeDataRefresh\n    });\n    this.update(updateType, {\n      forceNodeDataRefresh,\n      newAnimationBatch: true\n    });\n  }\n  maybeResetAnimations(seriesStatus) {\n    if (this.mode !== \"standalone\") return;\n    switch (seriesStatus) {\n      case \"series-grouping-change\":\n      case \"replaced\":\n        this.resetAnimations();\n        break;\n      default:\n    }\n  }\n  shouldForceNodeDataRefresh(deltaOptions, seriesStatus) {\n    const seriesDataUpdate = !!deltaOptions.data || seriesStatus === \"data-change\" || seriesStatus === \"replaced\";\n    const legendKeys = legendRegistry.getKeys();\n    const optionsHaveLegend = Object.values(legendKeys).some(legendKey => deltaOptions[legendKey] != null);\n    const otherRefreshUpdate = deltaOptions.title != null && deltaOptions.subtitle != null;\n    return seriesDataUpdate || optionsHaveLegend || otherRefreshUpdate;\n  }\n  applyMiniChartOptions(miniChart, miniChartSeries, completeOptions, oldOpts) {\n    var _a, _b, _c, _d, _e;\n    const oldSeries = (_c = (_b = (_a = oldOpts == null ? void 0 : oldOpts.navigator) == null ? void 0 : _a.miniChart) == null ? void 0 : _b.series) != null ? _c : oldOpts == null ? void 0 : oldOpts.series;\n    const miniChartSeriesStatus = this.applySeries(miniChart, this.filterMiniChartSeries(miniChartSeries), this.filterMiniChartSeries(oldSeries));\n    this.applyAxes(miniChart, completeOptions, oldOpts, miniChartSeriesStatus, [\"axes[].tick\", \"axes[].thickness\", \"axes[].title\", \"axes[].crosshair\", \"axes[].gridLine\", \"axes[].label\"]);\n    const axes = miniChart.axes;\n    const horizontalAxis = axes.find(axis => axis.direction === \"x\" /* X */);\n    for (const axis of axes) {\n      axis.gridLine.enabled = false;\n      axis.label.enabled = axis === horizontalAxis;\n      axis.tick.enabled = false;\n      axis.interactionEnabled = false;\n    }\n    if (horizontalAxis != null) {\n      const miniChartOpts = (_d = completeOptions.navigator) == null ? void 0 : _d.miniChart;\n      const labelOptions = miniChartOpts == null ? void 0 : miniChartOpts.label;\n      const intervalOptions = (_e = miniChartOpts == null ? void 0 : miniChartOpts.label) == null ? void 0 : _e.interval;\n      horizontalAxis.line.enabled = false;\n      horizontalAxis.label.set(without(labelOptions, [\"interval\", \"rotation\", \"minSpacing\", \"autoRotate\", \"autoRotateAngle\"]));\n      horizontalAxis.tick.set(without(intervalOptions, [\"enabled\", \"width\", \"size\", \"color\", \"interval\", \"step\"]));\n      const step = intervalOptions == null ? void 0 : intervalOptions.step;\n      if (step != null) {\n        horizontalAxis.tick.interval = step;\n      }\n    }\n  }\n  applyModules(options) {\n    var _a;\n    const {\n      type: chartType2\n    } = this.constructor;\n    let modulesChanged = false;\n    for (const module of moduleRegistry.byType(\"root\", \"legend\")) {\n      const isConfigured = options[module.optionsKey] != null;\n      const shouldBeEnabled = isConfigured && module.chartTypes.includes(chartType2);\n      if (shouldBeEnabled === this.modulesManager.isEnabled(module)) continue;\n      if (shouldBeEnabled) {\n        this.modulesManager.addModule(module, m => new m.instanceConstructor(this.getModuleContext()));\n        if (module.type === \"legend\") {\n          (_a = this.modulesManager.getModule(module)) == null ? void 0 : _a.attachLegend(this.ctx.scene);\n        }\n        this[module.optionsKey] = this.modulesManager.getModule(module);\n      } else {\n        this.modulesManager.removeModule(module);\n        delete this[module.optionsKey];\n      }\n      modulesChanged = true;\n    }\n    return modulesChanged;\n  }\n  applySeries(chart, optSeries, oldOptSeries) {\n    var _a;\n    if (!optSeries) {\n      return \"no-change\";\n    }\n    const matchResult = matchSeriesOptions(chart.series, optSeries, oldOptSeries);\n    if (matchResult.status === \"no-overlap\") {\n      debug(\"AgChartV2.applySeries() - creating new series instances, status: \".concat(matchResult.status), matchResult);\n      chart.series = optSeries.map(opts => this.createSeries(opts));\n      return \"replaced\";\n    }\n    debug(\"AgChartV2.applySeries() - matchResult\", matchResult);\n    const seriesInstances = [];\n    let dataChanged = false;\n    let groupingChanged = false;\n    let isUpdated = false;\n    for (const change of matchResult.changes) {\n      groupingChanged || (groupingChanged = change.status === \"series-grouping\");\n      dataChanged || (dataChanged = ((_a = change.diff) == null ? void 0 : _a.data) != null);\n      isUpdated || (isUpdated = change.status !== \"no-op\");\n      switch (change.status) {\n        case \"add\":\n          const newSeries = this.createSeries(change.opts);\n          seriesInstances.push(newSeries);\n          debug(\"AgChartV2.applySeries() - created new series\", newSeries);\n          break;\n        case \"remove\":\n          debug(\"AgChartV2.applySeries() - removing series at previous idx \".concat(change.idx), change.series);\n          break;\n        case \"no-op\":\n          seriesInstances.push(change.series);\n          debug(\"AgChartV2.applySeries() - no change to series at previous idx \".concat(change.idx), change.series);\n          break;\n        case \"series-grouping\":\n        case \"update\":\n        default:\n          const {\n            series,\n            diff: diff2,\n            idx\n          } = change;\n          debug(\"AgChartV2.applySeries() - applying series diff previous idx \".concat(idx), diff2, series);\n          this.applySeriesValues(series, diff2);\n          series.markNodeDataDirty();\n          seriesInstances.push(series);\n      }\n    }\n    for (let idx = 0; idx < seriesInstances.length; idx++) {\n      seriesInstances[idx]._declarationOrder = idx;\n    }\n    debug(\"AgChartV2.applySeries() - final series instances\", seriesInstances);\n    chart.series = seriesInstances;\n    if (groupingChanged) {\n      return \"series-grouping-change\";\n    }\n    if (dataChanged) {\n      return \"data-change\";\n    }\n    return isUpdated ? \"updated\" : \"no-op\";\n  }\n  applyAxes(chart, options, oldOpts, seriesStatus) {\n    let skip = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n    if (!(\"axes\" in options) || !options.axes) {\n      return false;\n    }\n    skip = [\"axes[].type\", ...skip];\n    const {\n      axes\n    } = options;\n    const forceRecreate = seriesStatus === \"replaced\";\n    const matchingTypes = !forceRecreate && chart.axes.length === axes.length && chart.axes.every((a, i) => a.type === axes[i].type);\n    if (matchingTypes && isAgCartesianChartOptions(oldOpts)) {\n      chart.axes.forEach((axis, index) => {\n        var _a, _b;\n        const previousOpts = (_b = (_a = oldOpts.axes) == null ? void 0 : _a[index]) != null ? _b : {};\n        const axisDiff = jsonDiff(previousOpts, axes[index]);\n        debug(\"AgChartV2.applyAxes() - applying axis diff idx \".concat(index), axisDiff);\n        const path = \"axes[\".concat(index, \"]\");\n        jsonApply(axis, axisDiff, __spreadProps(__spreadValues({}, JSON_APPLY_PLUGINS), {\n          path,\n          skip\n        }));\n      });\n      return true;\n    }\n    debug(\"AgChartV2.applyAxes() - creating new axes instances; seriesStatus: \".concat(seriesStatus));\n    chart.axes = this.createAxis(axes, skip);\n    return true;\n  }\n  createSeries(seriesOptions) {\n    const seriesInstance = seriesRegistry.create(seriesOptions.type, this.getModuleContext());\n    this.applySeriesOptionModules(seriesInstance, seriesOptions);\n    this.applySeriesValues(seriesInstance, seriesOptions);\n    return seriesInstance;\n  }\n  applySeriesOptionModules(series, options) {\n    const moduleContext = series.createModuleContext();\n    const moduleMap = series.getModuleMap();\n    for (const module of moduleRegistry.byType(\"series-option\")) {\n      if (module.optionsKey in options && module.seriesTypes.includes(series.type)) {\n        moduleMap.addModule(module, m => new m.instanceConstructor(moduleContext));\n      }\n    }\n  }\n  applySeriesValues(target, options) {\n    const moduleMap = target.getModuleMap();\n    const _a = options,\n      {\n        type: _,\n        data,\n        listeners,\n        seriesGrouping,\n        showInMiniChart: __\n      } = _a,\n      seriesOptions = __objRest(_a, [\"type\", \"data\", \"listeners\", \"seriesGrouping\", \"showInMiniChart\"]);\n    for (const moduleDef of EXPECTED_ENTERPRISE_MODULES) {\n      if (moduleDef.type !== \"series-option\") continue;\n      if (moduleDef.optionsKey in seriesOptions) {\n        const module = moduleMap.getModule(moduleDef.optionsKey);\n        const moduleOptions = seriesOptions[moduleDef.optionsKey];\n        delete seriesOptions[moduleDef.optionsKey];\n        module.properties.set(moduleOptions);\n      }\n    }\n    target.properties.set(seriesOptions);\n    if (\"data\" in options) {\n      target.setOptionsData(data);\n    }\n    if (listeners) {\n      this.registerListeners(target, listeners);\n    }\n    if (\"seriesGrouping\" in options) {\n      if (seriesGrouping == null) {\n        target.seriesGrouping = void 0;\n      } else {\n        target.seriesGrouping = __spreadValues(__spreadValues({}, target.seriesGrouping), seriesGrouping);\n      }\n    }\n  }\n  createAxis(options, skip) {\n    const guesser = new AxisPositionGuesser();\n    const moduleContext = this.getModuleContext();\n    for (let index = 0; index < options.length; index++) {\n      const axisOptions = options[index];\n      const axis = axisRegistry.create(axisOptions.type, moduleContext);\n      this.applyAxisModules(axis, axisOptions);\n      jsonApply(axis, axisOptions, __spreadProps(__spreadValues({}, JSON_APPLY_PLUGINS), {\n        path: \"axes[\".concat(index, \"]\"),\n        skip\n      }));\n      guesser.push(axis, axisOptions);\n    }\n    return guesser.guessInvalidPositions();\n  }\n  applyAxisModules(axis, options) {\n    const moduleContext = axis.createModuleContext();\n    const moduleMap = axis.getModuleMap();\n    for (const module of moduleRegistry.byType(\"axis-option\")) {\n      const shouldBeEnabled = options[module.optionsKey] != null;\n      if (shouldBeEnabled === moduleMap.isEnabled(module)) continue;\n      if (shouldBeEnabled) {\n        moduleMap.addModule(module, m => new m.instanceConstructor(moduleContext));\n        axis[module.optionsKey] = moduleMap.getModule(module);\n      } else {\n        moduleMap.removeModule(module);\n        delete axis[module.optionsKey];\n      }\n    }\n  }\n  registerListeners(source, listeners) {\n    source.clearEventListeners();\n    for (const [property, listener] of Object.entries(listeners)) {\n      if (isFunction(listener)) {\n        source.addEventListener(property, listener);\n      }\n    }\n  }\n};\n_Chart.chartsInstances = /* @__PURE__ */new WeakMap();\n__decorateClass([ActionOnSet({\n  newValue(value) {\n    if (this.destroyed) return;\n    value.setAttribute(\"data-ag-charts\", \"\");\n    value.appendChild(this.element);\n    _Chart.chartsInstances.set(value, this);\n  },\n  oldValue(value) {\n    value.removeAttribute(\"data-ag-charts\");\n    value.removeChild(this.element);\n    _Chart.chartsInstances.delete(value);\n  }\n})], _Chart.prototype, \"container\", 2);\n__decorateClass([ActionOnSet({\n  newValue(value) {\n    this.resize(value, void 0, \"width option\");\n  }\n})], _Chart.prototype, \"width\", 2);\n__decorateClass([ActionOnSet({\n  newValue(value) {\n    this.resize(void 0, value, \"height option\");\n  }\n})], _Chart.prototype, \"height\", 2);\n__decorateClass([ActionOnSet({\n  newValue(value) {\n    this.onAutoSizeChange(value);\n  }\n}), Validate(BOOLEAN)], _Chart.prototype, \"autoSize\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"padding\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"seriesArea\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"title\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"subtitle\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"footnote\", 2);\n__decorateClass([Validate(OBJECT)], _Chart.prototype, \"keyboard\", 2);\n__decorateClass([Validate(UNION([\"standalone\", \"integrated\"], \"a chart mode\"))], _Chart.prototype, \"mode\", 2);\n__decorateClass([ActionOnSet({\n  changeValue(newValue, oldValue) {\n    this.onAxisChange(newValue, oldValue);\n  }\n})], _Chart.prototype, \"axes\", 2);\n__decorateClass([ActionOnSet({\n  changeValue(newValue, oldValue) {\n    this.onSeriesChange(newValue, oldValue);\n  }\n})], _Chart.prototype, \"series\", 2);\nvar Chart = _Chart;\n\n// packages/ag-charts-community/src/scene/polyRoots.ts\nfunction linearRoot(a, b) {\n  const t = -b / a;\n  return a !== 0 && t >= 0 && t <= 1 ? [t] : [];\n}\nfunction quadraticRoots(a, b, c) {\n  if (a === 0) {\n    return linearRoot(b, c);\n  }\n  const D = b * b - 4 * a * c;\n  const roots = [];\n  if (D === 0) {\n    const t = -b / (2 * a);\n    if (t >= 0 && t <= 1) {\n      roots.push(t);\n    }\n  } else if (D > 0) {\n    const rD = Math.sqrt(D);\n    const t1 = (-b - rD) / (2 * a);\n    const t2 = (-b + rD) / (2 * a);\n    if (t1 >= 0 && t1 <= 1) {\n      roots.push(t1);\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      roots.push(t2);\n    }\n  }\n  return roots;\n}\nfunction cubicRoots(a, b, c, d) {\n  if (a === 0) {\n    return quadraticRoots(b, c, d);\n  }\n  const A = b / a;\n  const B = c / a;\n  const C = d / a;\n  const Q = (3 * B - A * A) / 9;\n  const R = (9 * A * B - 27 * C - 2 * A * A * A) / 54;\n  const D = Q * Q * Q + R * R;\n  const third = 1 / 3;\n  const roots = [];\n  if (D >= 0) {\n    const rD = Math.sqrt(D);\n    const S = Math.sign(R + rD) * Math.pow(Math.abs(R + rD), third);\n    const T = Math.sign(R - rD) * Math.pow(Math.abs(R - rD), third);\n    const Im = Math.abs(Math.sqrt(3) * (S - T) / 2);\n    const t = -third * A + (S + T);\n    if (t >= 0 && t <= 1) {\n      roots.push(t);\n    }\n    if (Im === 0) {\n      const t2 = -third * A - (S + T) / 2;\n      if (t2 >= 0 && t2 <= 1) {\n        roots.push(t2);\n      }\n    }\n  } else {\n    const theta = Math.acos(R / Math.sqrt(-Q * Q * Q));\n    const thirdA = third * A;\n    const twoSqrtQ = 2 * Math.sqrt(-Q);\n    const t1 = twoSqrtQ * Math.cos(third * theta) - thirdA;\n    const t2 = twoSqrtQ * Math.cos(third * (theta + 2 * Math.PI)) - thirdA;\n    const t3 = twoSqrtQ * Math.cos(third * (theta + 4 * Math.PI)) - thirdA;\n    if (t1 >= 0 && t1 <= 1) {\n      roots.push(t1);\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      roots.push(t2);\n    }\n    if (t3 >= 0 && t3 <= 1) {\n      roots.push(t3);\n    }\n  }\n  return roots;\n}\n\n// packages/ag-charts-community/src/scene/intersection.ts\nfunction segmentIntersection(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\n  const d = (ax2 - ax1) * (by2 - by1) - (ay2 - ay1) * (bx2 - bx1);\n  if (d === 0) {\n    return 0;\n  }\n  const ua = ((bx2 - bx1) * (ay1 - by1) - (ax1 - bx1) * (by2 - by1)) / d;\n  const ub = ((ax2 - ax1) * (ay1 - by1) - (ay2 - ay1) * (ax1 - bx1)) / d;\n  if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n    return 1;\n  }\n  return 0;\n}\nfunction cubicSegmentIntersections(px1, py1, px2, py2, px3, py3, px4, py4, x1, y1, x2, y2) {\n  let intersections = 0;\n  const A = y1 - y2;\n  const B = x2 - x1;\n  const C = x1 * (y2 - y1) - y1 * (x2 - x1);\n  const bx = bezierCoefficients(px1, px2, px3, px4);\n  const by = bezierCoefficients(py1, py2, py3, py4);\n  const a = A * bx[0] + B * by[0];\n  const b = A * bx[1] + B * by[1];\n  const c = A * bx[2] + B * by[2];\n  const d = A * bx[3] + B * by[3] + C;\n  const roots = cubicRoots(a, b, c, d);\n  for (const t of roots) {\n    const tt = t * t;\n    const ttt = t * tt;\n    const x = bx[0] * ttt + bx[1] * tt + bx[2] * t + bx[3];\n    const y = by[0] * ttt + by[1] * tt + by[2] * t + by[3];\n    let s;\n    if (x1 === x2) {\n      s = (y - y1) / (y2 - y1);\n    } else {\n      s = (x - x1) / (x2 - x1);\n    }\n    if (s >= 0 && s <= 1) {\n      intersections++;\n    }\n  }\n  return intersections;\n}\nfunction bezierCoefficients(P1, P2, P3, P4) {\n  return [\n  // Bzier expressed as matrix operations:\n  -P1 + 3 * P2 - 3 * P3 + P4,\n  //                 |-1  3 -3  1| |P1|\n  3 * P1 - 6 * P2 + 3 * P3,\n  //   [t^3 t^2 t 1] | 3 -6  3  0| |P2|\n  -3 * P1 + 3 * P2,\n  //                 |-3  3  0  0| |P3|\n  P1\n  //                 | 1  0  0  0| |P4|\n  ];\n}\nfunction arcIntersections(cx, cy, r, startAngle, endAngle, counterClockwise, x1, y1, x2, y2) {\n  if (isNaN(cx) || isNaN(cy)) {\n    return 0;\n  }\n  if (counterClockwise) {\n    [endAngle, startAngle] = [startAngle, endAngle];\n  }\n  const k = (y2 - y1) / (x2 - x1);\n  const y0 = y1 - k * x1;\n  const a = Math.pow(k, 2) + 1;\n  const b = 2 * (k * (y0 - cy) - cx);\n  const c = Math.pow(cx, 2) + Math.pow(y0 - cy, 2) - Math.pow(r, 2);\n  const d = Math.pow(b, 2) - 4 * a * c;\n  if (d < 0) {\n    return 0;\n  }\n  const i1x = (-b + Math.sqrt(d)) / 2 / a;\n  const i2x = (-b - Math.sqrt(d)) / 2 / a;\n  let intersections = 0;\n  [i1x, i2x].forEach(x => {\n    const isXInsideLine = x >= Math.min(x1, x2) && x <= Math.max(x1, x2);\n    if (!isXInsideLine) {\n      return;\n    }\n    const y = k * x + y0;\n    const adjacent = x - cx;\n    const opposite = y - cy;\n    const angle = Math.atan2(opposite, adjacent);\n    if (isBetweenAngles(angle, startAngle, endAngle)) {\n      intersections++;\n    }\n  });\n  return intersections;\n}\n\n// packages/ag-charts-community/src/scene/extendedPath2D.ts\nvar ExtendedPath2D = class {\n  constructor() {\n    // The methods of this class will likely be called many times per animation frame,\n    // and any allocation can trigger a GC cycle during animation, so we attempt\n    // to minimize the number of allocations.\n    this.path2d = new Path2D();\n    this.previousCommands = [];\n    this.previousParams = [];\n    this.previousClosedPath = false;\n    this.commands = [];\n    this.params = [];\n    this.openedPath = false;\n    this.closedPath = false;\n  }\n  isDirty() {\n    return this.closedPath !== this.previousClosedPath || this.previousCommands.length !== this.commands.length || this.previousParams.length !== this.params.length || this.previousCommands.toString() !== this.commands.toString() || this.previousParams.toString() !== this.params.toString();\n  }\n  getPath2D() {\n    return this.path2d;\n  }\n  moveTo(x, y) {\n    this.openedPath = true;\n    this.path2d.moveTo(x, y);\n    this.commands.push(0 /* Move */);\n    this.params.push(x, y);\n  }\n  lineTo(x, y) {\n    if (this.openedPath) {\n      this.path2d.lineTo(x, y);\n      this.commands.push(1 /* Line */);\n      this.params.push(x, y);\n    } else {\n      this.moveTo(x, y);\n    }\n  }\n  rect(x, y, width, height) {\n    this.moveTo(x, y);\n    this.lineTo(x + width, y);\n    this.lineTo(x + width, y + height);\n    this.lineTo(x, y + height);\n    this.closePath();\n  }\n  roundRect(x, y, width, height, radii) {\n    radii = Math.min(radii, width / 2, height / 2);\n    this.moveTo(x, y + radii);\n    this.arc(x + radii, y + radii, radii, Math.PI, 1.5 * Math.PI);\n    this.lineTo(x + radii, y);\n    this.lineTo(x + width - radii, y);\n    this.arc(x + width - radii, y + radii, radii, 1.5 * Math.PI, 2 * Math.PI);\n    this.lineTo(x + width, y + radii);\n    this.lineTo(x + width, y + height - radii);\n    this.arc(x + width - radii, y + height - radii, radii, 0, Math.PI / 2);\n    this.lineTo(x + width - radii, y + height);\n    this.lineTo(x + radii, y + height);\n    this.arc(x + +radii, y + height - radii, radii, Math.PI / 2, Math.PI);\n    this.lineTo(x, y + height - radii);\n    this.closePath();\n  }\n  arc(x, y, r, sAngle, eAngle, counterClockwise) {\n    this.openedPath = true;\n    this.path2d.arc(x, y, r, sAngle, eAngle, counterClockwise);\n    this.commands.push(2 /* Arc */);\n    this.params.push(x, y, r, sAngle, eAngle, counterClockwise ? 1 : 0);\n  }\n  cubicCurveTo(cx1, cy1, cx2, cy2, x, y) {\n    if (!this.openedPath) {\n      this.moveTo(cx1, cy1);\n    }\n    this.path2d.bezierCurveTo(cx1, cy1, cx2, cy2, x, y);\n    this.commands.push(3 /* Curve */);\n    this.params.push(cx1, cy1, cx2, cy2, x, y);\n  }\n  closePath() {\n    if (this.openedPath) {\n      this.path2d.closePath();\n      this.commands.push(4 /* ClosePath */);\n      this.openedPath = false;\n      this.closedPath = true;\n    }\n  }\n  clear(trackChanges) {\n    if (trackChanges) {\n      this.previousCommands = this.commands;\n      this.previousParams = this.params;\n      this.previousClosedPath = this.closedPath;\n    }\n    this.path2d = new Path2D();\n    this.openedPath = false;\n    this.closedPath = false;\n    this.commands = [];\n    this.params = [];\n  }\n  isPointInPath(x, y) {\n    const commands = this.commands;\n    const params = this.params;\n    const cn = commands.length;\n    const ox = -1e4;\n    const oy = -1e4;\n    let sx = NaN;\n    let sy = NaN;\n    let px = 0;\n    let py = 0;\n    let intersectionCount = 0;\n    for (let ci = 0, pi = 0; ci < cn; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n          intersectionCount += segmentIntersection(sx, sy, px, py, ox, oy, x, y);\n          px = params[pi++];\n          sx = px;\n          py = params[pi++];\n          sy = py;\n          break;\n        case 1 /* Line */:\n          intersectionCount += segmentIntersection(px, py, params[pi++], params[pi++], ox, oy, x, y);\n          px = params[pi - 2];\n          py = params[pi - 1];\n          break;\n        case 3 /* Curve */:\n          intersectionCount += cubicSegmentIntersections(px, py, params[pi++], params[pi++], params[pi++], params[pi++], params[pi++], params[pi++], ox, oy, x, y);\n          px = params[pi - 2];\n          py = params[pi - 1];\n          break;\n        case 2 /* Arc */:\n          const cx = params[pi++];\n          const cy = params[pi++];\n          const r = params[pi++];\n          const startAngle = params[pi++];\n          const endAngle = params[pi++];\n          const counterClockwise = Boolean(params[pi++]);\n          intersectionCount += arcIntersections(cx, cy, r, startAngle, endAngle, counterClockwise, ox, oy, x, y);\n          if (!isNaN(sx)) {\n            const startX = cx + Math.cos(startAngle) * r;\n            const startY = cy + Math.sin(startAngle) * r;\n            intersectionCount += segmentIntersection(px, py, startX, startY, ox, oy, x, y);\n          }\n          px = cx + Math.cos(endAngle) * r;\n          py = cy + Math.sin(endAngle) * r;\n          break;\n        case 4 /* ClosePath */:\n          intersectionCount += segmentIntersection(sx, sy, px, py, ox, oy, x, y);\n          break;\n      }\n    }\n    return intersectionCount % 2 === 1;\n  }\n  distanceSquared(x, y) {\n    let best = Infinity;\n    const commands = this.commands;\n    const params = this.params;\n    const cn = commands.length;\n    let sx = NaN;\n    let sy = NaN;\n    let px = 0;\n    let py = 0;\n    for (let ci = 0, pi = 0; ci < cn; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n          px = sx = params[pi++];\n          py = sy = params[pi++];\n          break;\n        case 1 /* Line */:\n          {\n            const nx = params[pi++];\n            const ny = params[pi++];\n            best = lineDistanceSquared(x, y, px, py, nx, ny, best);\n            break;\n          }\n        case 3 /* Curve */:\n          Logger.error(\"Command.Curve distanceSquare not implemented\");\n          break;\n        case 2 /* Arc */:\n          {\n            const cx = params[pi++];\n            const cy = params[pi++];\n            const r = params[pi++];\n            const startAngle = params[pi++];\n            const endAngle = params[pi++];\n            const startX = cx + Math.cos(startAngle) * r;\n            const startY = cy + Math.sin(startAngle) * r;\n            const counterClockwise = Boolean(params[pi++]);\n            best = lineDistanceSquared(x, y, px, py, startX, startY, best);\n            best = arcDistanceSquared(x, y, cx, cy, r, startAngle, endAngle, counterClockwise, best);\n            px = cx + Math.cos(endAngle) * r;\n            py = cy + Math.sin(endAngle) * r;\n            break;\n          }\n        case 4 /* ClosePath */:\n          best = lineDistanceSquared(x, y, px, py, sx, sy, best);\n          break;\n      }\n    }\n    return best;\n  }\n  getPoints() {\n    const {\n      commands,\n      params\n    } = this;\n    const coords = [];\n    let pi = 0;\n    for (let ci = 0; ci < commands.length; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n        case 1 /* Line */:\n          coords.push({\n            x: params[pi++],\n            y: params[pi++]\n          });\n          break;\n        case 3 /* Curve */:\n          pi += 4;\n          coords.push({\n            x: params[pi++],\n            y: params[pi++]\n          });\n          break;\n        case 2 /* Arc */:\n          coords.push({\n            x: params[pi++],\n            y: params[pi++]\n          });\n          pi += 4;\n          break;\n        case 4 /* ClosePath */:\n          break;\n      }\n    }\n    return coords;\n  }\n};\n\n// packages/ag-charts-community/src/scene/shape/path.ts\nfunction ScenePathChangeDetection(opts) {\n  const {\n    redraw = 3 /* MAJOR */,\n    changeCb,\n    convertor\n  } = opts != null ? opts : {};\n  return SceneChangeDetection({\n    redraw,\n    type: \"path\",\n    convertor,\n    changeCb\n  });\n}\nvar Path = class extends Shape {\n  constructor() {\n    super(...arguments);\n    /**\n     * Declare a path to retain for later rendering and hit testing\n     * using custom Path2D class. Think of it as a TypeScript version\n     * of the native Path2D (with some differences) that works in all browsers.\n     */\n    this.path = new ExtendedPath2D();\n    this._clipX = NaN;\n    this._clipY = NaN;\n    /**\n     * The path only has to be updated when certain attributes change.\n     * For example, if transform attributes (such as `translationX`)\n     * are changed, we don't have to update the path. The `dirtyPath` flag\n     * is how we keep track if the path has to be updated or not.\n     */\n    this._dirtyPath = true;\n  }\n  set clipX(value) {\n    this._clipX = value;\n    this.dirtyPath = true;\n  }\n  set clipY(value) {\n    this._clipY = value;\n    this.dirtyPath = true;\n  }\n  set dirtyPath(value) {\n    if (this._dirtyPath !== value) {\n      this._dirtyPath = value;\n      if (value) {\n        this.markDirty(this, 3 /* MAJOR */);\n      }\n    }\n  }\n  get dirtyPath() {\n    return this._dirtyPath;\n  }\n  checkPathDirty() {\n    var _a, _b, _c, _d;\n    if (this._dirtyPath) {\n      return;\n    }\n    this.dirtyPath = this.path.isDirty() || ((_b = (_a = this.fillShadow) == null ? void 0 : _a.isDirty()) != null ? _b : false) || ((_d = (_c = this._clipPath) == null ? void 0 : _c.isDirty()) != null ? _d : false);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    return this.path.closedPath && this.path.isPointInPath(point.x, point.y);\n  }\n  distanceSquared(x, y) {\n    const point = this.transformPoint(x, y);\n    return this.path.distanceSquared(point.x, point.y);\n  }\n  isDirtyPath() {\n    return false;\n  }\n  updatePath() {}\n  render(renderCtx) {\n    var _a, _b, _c, _d, _e;\n    const {\n      ctx,\n      forceRender,\n      stats\n    } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats) stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    if (this.dirtyPath || this.isDirtyPath()) {\n      this.updatePath();\n      this.dirtyPath = false;\n    }\n    if (!isNaN(this._clipX) && !isNaN(this._clipY) && this.clipMode != null) {\n      ctx.save();\n      const margin = this.strokeWidth / 2;\n      (_a = this._clipPath) != null ? _a : this._clipPath = new ExtendedPath2D();\n      this._clipPath.clear();\n      this._clipPath.rect(-margin, -margin, this._clipX + margin, this._clipY + margin + margin);\n      if (this.clipMode === \"normal\") {\n        ctx.clip((_b = this._clipPath) == null ? void 0 : _b.getPath2D());\n      }\n      if (this._clipX > 0 && this._clipY > 0) {\n        this.drawPath(ctx);\n      }\n      if (this.clipMode === \"punch-out\") {\n        ctx.clip((_c = this._clipPath) == null ? void 0 : _c.getPath2D());\n        const {\n          x = -1e4,\n          y = -1e4,\n          width = 2e4,\n          height = 2e4\n        } = (_d = this.computeBBox()) != null ? _d : {};\n        ctx.clearRect(x, y, width, height);\n      }\n      ctx.restore();\n    } else {\n      this.drawPath(ctx);\n    }\n    (_e = this.fillShadow) == null ? void 0 : _e.markClean();\n    super.render(renderCtx);\n  }\n  drawPath(ctx) {\n    this.fillStroke(ctx, this.path.getPath2D());\n  }\n};\nPath.className = \"Path\";\n__decorateClass([ScenePathChangeDetection()], Path.prototype, \"clipMode\", 2);\n__decorateClass([ScenePathChangeDetection()], Path.prototype, \"clipX\", 1);\n__decorateClass([ScenePathChangeDetection()], Path.prototype, \"clipY\", 1);\n\n// packages/ag-charts-community/src/scene/util/quadtree.ts\nvar QuadtreeNearest = class {\n  constructor(capacity, maxdepth, boundary) {\n    this.root = new QuadtreeNodeNearest(capacity, maxdepth, boundary);\n  }\n  clear(boundary) {\n    this.root.clear(boundary);\n  }\n  addValue(hitTester, value) {\n    const elem = {\n      hitTester,\n      value,\n      distanceSquared: (x, y) => {\n        return hitTester.distanceSquared(x, y);\n      }\n    };\n    this.root.addElem(elem);\n  }\n  find(x, y) {\n    const arg = {\n      best: {\n        nearest: void 0,\n        distanceSquared: Infinity\n      }\n    };\n    this.root.find(x, y, arg);\n    return arg.best;\n  }\n};\nvar QuadtreeSubdivisions = class {\n  constructor(nw, ne, sw, se) {\n    this.nw = nw;\n    this.ne = ne;\n    this.sw = sw;\n    this.se = se;\n  }\n  addElem(elem) {\n    this.nw.addElem(elem);\n    this.ne.addElem(elem);\n    this.sw.addElem(elem);\n    this.se.addElem(elem);\n  }\n  find(x, y, arg) {\n    this.nw.find(x, y, arg);\n    this.ne.find(x, y, arg);\n    this.sw.find(x, y, arg);\n    this.se.find(x, y, arg);\n  }\n};\nvar QuadtreeNode = class {\n  constructor(capacity, maxdepth, boundary) {\n    this.capacity = capacity;\n    this.maxdepth = maxdepth;\n    this.boundary = boundary != null ? boundary : BBox.NaN;\n    this.elems = [];\n    this.subdivisions = void 0;\n  }\n  clear(boundary) {\n    this.elems.length = 0;\n    this.boundary = boundary;\n    this.subdivisions = void 0;\n  }\n  addElem(e) {\n    if (this.addCondition(e)) {\n      if (this.subdivisions === void 0) {\n        if (this.maxdepth === 0 || this.elems.length < this.capacity) {\n          this.elems.push(e);\n        } else {\n          this.subdivide(e);\n        }\n      } else {\n        this.subdivisions.addElem(e);\n      }\n    }\n  }\n  find(x, y, arg) {\n    if (this.findCondition(x, y, arg)) {\n      if (this.subdivisions === void 0) {\n        this.findAction(x, y, arg);\n      } else {\n        this.subdivisions.find(x, y, arg);\n      }\n    }\n  }\n  subdivide(newElem) {\n    this.subdivisions = this.makeSubdivisions();\n    for (const e of this.elems) {\n      this.subdivisions.addElem(e);\n    }\n    this.subdivisions.addElem(newElem);\n    this.elems.length = 0;\n  }\n  makeSubdivisions() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.boundary;\n    const {\n      capacity\n    } = this;\n    const depth = this.maxdepth - 1;\n    const halfWidth = width / 2;\n    const halfHeight = height / 2;\n    const nwBoundary = new BBox(x, y, halfWidth, halfHeight);\n    const neBoundary = new BBox(x + halfWidth, y, halfWidth, halfHeight);\n    const swBoundary = new BBox(x, y + halfHeight, halfWidth, halfHeight);\n    const seBoundary = new BBox(x + halfWidth, y + halfHeight, halfWidth, halfHeight);\n    return new QuadtreeSubdivisions(this.child(capacity, depth, nwBoundary), this.child(capacity, depth, neBoundary), this.child(capacity, depth, swBoundary), this.child(capacity, depth, seBoundary));\n  }\n};\nvar QuadtreeNodeNearest = class _QuadtreeNodeNearest extends QuadtreeNode {\n  addCondition(e) {\n    const {\n      x,\n      y\n    } = e.hitTester.midPoint;\n    return this.boundary.containsPoint(x, y);\n  }\n  findCondition(x, y, arg) {\n    const {\n      best\n    } = arg;\n    return best.distanceSquared !== 0 && this.boundary.distanceSquared(x, y) < best.distanceSquared;\n  }\n  findAction(x, y, arg) {\n    const other = nearestSquared(x, y, this.elems, arg.best.distanceSquared);\n    if (other.nearest !== void 0 && other.distanceSquared < arg.best.distanceSquared) {\n      arg.best = other;\n    }\n  }\n  child(capacity, depth, boundary) {\n    return new _QuadtreeNodeNearest(capacity, depth, boundary);\n  }\n};\n\n// packages/ag-charts-community/src/chart/marker/marker.ts\nvar Marker = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.x = 0;\n    this.y = 0;\n    this.size = 12;\n  }\n  computeBBox() {\n    const {\n      x,\n      y,\n      size\n    } = this;\n    const {\n      center\n    } = this.constructor;\n    return new BBox(x - size * center.x, y - size * center.y, size, size);\n  }\n  applyPath(s, moves) {\n    const {\n      path\n    } = this;\n    let {\n      x,\n      y\n    } = this;\n    if (this.repeat != null) {\n      x = 0;\n      y = 0;\n    }\n    path.clear();\n    for (const {\n      x: mx,\n      y: my,\n      t\n    } of moves) {\n      x += mx * s;\n      y += my * s;\n      if (t === \"move\") {\n        path.moveTo(x, y);\n      } else {\n        path.lineTo(x, y);\n      }\n    }\n    path.closePath();\n  }\n  executeFill(ctx, path) {\n    if (!path) return;\n    if (this.repeat == null) {\n      return super.executeFill(ctx, path);\n    }\n    ctx.save();\n    let x = this.translationX;\n    let y = this.translationY;\n    for (const translation of this.repeat) {\n      ctx.translate(translation.x - x, translation.y - y);\n      ctx.fill(path);\n      x = translation.x;\n      y = translation.y;\n    }\n    ctx.restore();\n  }\n  executeStroke(ctx, path) {\n    if (!path) return;\n    if (this.repeat == null) {\n      return super.executeStroke(ctx, path);\n    }\n    ctx.save();\n    let x = this.translationX;\n    let y = this.translationY;\n    for (const translation of this.repeat) {\n      ctx.translate(translation.x - x, translation.y - y);\n      ctx.stroke(path);\n      x = translation.x;\n      y = translation.y;\n    }\n    ctx.restore();\n  }\n};\nMarker.center = {\n  x: 0.5,\n  y: 0.5\n};\n__decorateClass([ScenePathChangeDetection()], Marker.prototype, \"x\", 2);\n__decorateClass([ScenePathChangeDetection()], Marker.prototype, \"y\", 2);\n__decorateClass([ScenePathChangeDetection({\n  convertor: Math.abs\n})], Marker.prototype, \"size\", 2);\n__decorateClass([ScenePathChangeDetection()], Marker.prototype, \"repeat\", 2);\n\n// packages/ag-charts-community/src/chart/marker/circle.ts\nvar Circle = class extends Marker {\n  updatePath() {\n    const {\n      x,\n      y,\n      path,\n      size\n    } = this;\n    const r = size / 2;\n    path.clear();\n    path.arc(x, y, r, 0, Math.PI * 2);\n    path.closePath();\n  }\n};\nCircle.className = \"Circle\";\n\n// packages/ag-charts-community/src/chart/marker/cross.ts\nvar _Cross = class _Cross extends Marker {\n  updatePath() {\n    const s = this.size / 4.2;\n    super.applyPath(s, _Cross.moves);\n  }\n};\n_Cross.className = \"Cross\";\n_Cross.moves = [{\n  x: -1,\n  y: 0,\n  t: \"move\"\n}, {\n  x: -1,\n  y: -1\n}, {\n  x: 1,\n  y: -1\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: 1,\n  y: -1\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: -1,\n  y: 1\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: -1,\n  y: 1\n}, {\n  x: -1,\n  y: -1\n}, {\n  x: -1,\n  y: 1\n}, {\n  x: -1,\n  y: -1\n}];\nvar Cross = _Cross;\n\n// packages/ag-charts-community/src/chart/marker/diamond.ts\nvar _Diamond = class _Diamond extends Marker {\n  updatePath() {\n    const s = this.size / 2;\n    super.applyPath(s, _Diamond.moves);\n  }\n};\n_Diamond.className = \"Diamond\";\n_Diamond.moves = [{\n  x: 0,\n  y: -1,\n  t: \"move\"\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: -1,\n  y: 1\n}, {\n  x: -1,\n  y: -1\n}, {\n  x: 1,\n  y: -1\n}];\nvar Diamond = _Diamond;\n\n// packages/ag-charts-community/src/chart/marker/heart.ts\nvar Heart = class extends Marker {\n  rad(degree) {\n    return degree / 180 * Math.PI;\n  }\n  updatePath() {\n    const {\n      x,\n      path,\n      size,\n      rad\n    } = this;\n    const r = size / 4;\n    const y = this.y + r / 2;\n    path.clear();\n    path.arc(x - r, y - r, r, rad(130), rad(330));\n    path.arc(x + r, y - r, r, rad(220), rad(50));\n    path.lineTo(x, y + r);\n    path.closePath();\n  }\n};\nHeart.className = \"Heart\";\n\n// packages/ag-charts-community/src/chart/marker/pin.ts\nvar Pin = class extends Marker {\n  updatePath() {\n    const {\n      path,\n      x,\n      y\n    } = this;\n    const s = this.size;\n    const cx = 0.5;\n    const cy = 1;\n    path.clear();\n    path.moveTo(x + (0.15625 - cx) * s, y + (0.34375 - cy) * s);\n    path.cubicCurveTo(x + (0.15625 - cx) * s, y + (0.151491 - cy) * s, x + (0.307741 - cx) * s, y + (0 - cy) * s, x + (0.5 - cx) * s, y + (0 - cy) * s);\n    path.cubicCurveTo(x + (0.692259 - cx) * s, y + (0 - cy) * s, x + (0.84375 - cx) * s, y + (0.151491 - cy) * s, x + (0.84375 - cx) * s, y + (0.34375 - cy) * s);\n    path.cubicCurveTo(x + (0.84375 - cx) * s, y + (0.493824 - cy) * s, x + (0.784625 - cx) * s, y + (0.600181 - cy) * s, x + (0.716461 - cx) * s, y + (0.695393 - cy) * s);\n    path.cubicCurveTo(x + (0.699009 - cx) * s, y + (0.719769 - cy) * s, x + (0.681271 - cx) * s, y + (0.743104 - cy) * s, x + (0.663785 - cx) * s, y + (0.766105 - cy) * s);\n    path.cubicCurveTo(x + (0.611893 - cx) * s, y + (0.834367 - cy) * s, x + (0.562228 - cx) * s, y + (0.899699 - cy) * s, x + (0.528896 - cx) * s, y + (0.980648 - cy) * s);\n    path.cubicCurveTo(x + (0.524075 - cx) * s, y + (0.992358 - cy) * s, x + (0.512663 - cx) * s, y + (1 - cy) * s, x + (0.5 - cx) * s, y + (1 - cy) * s);\n    path.cubicCurveTo(x + (0.487337 - cx) * s, y + (1 - cy) * s, x + (0.475925 - cx) * s, y + (0.992358 - cy) * s, x + (0.471104 - cx) * s, y + (0.980648 - cy) * s);\n    path.cubicCurveTo(x + (0.487337 - cx) * s, y + (1 - cy) * s, x + (0.475925 - cx) * s, y + (0.992358 - cy) * s, x + (0.471104 - cx) * s, y + (0.980648 - cy) * s);\n    path.cubicCurveTo(x + (0.437772 - cx) * s, y + (0.899699 - cy) * s, x + (0.388107 - cx) * s, y + (0.834367 - cy) * s, x + (0.336215 - cx) * s, y + (0.766105 - cy) * s);\n    path.cubicCurveTo(x + (0.318729 - cx) * s, y + (0.743104 - cy) * s, x + (0.300991 - cx) * s, y + (0.719769 - cy) * s, x + (0.283539 - cx) * s, y + (0.695393 - cy) * s);\n    path.cubicCurveTo(x + (0.215375 - cx) * s, y + (0.600181 - cy) * s, x + (0.15625 - cx) * s, y + (0.493824 - cy) * s, x + (0.15625 - cx) * s, y + (0.34375 - cy) * s);\n    path.closePath();\n  }\n};\nPin.className = \"MapPin\";\nPin.center = {\n  x: 0.5,\n  y: 1\n};\n\n// packages/ag-charts-community/src/chart/marker/plus.ts\nvar _Plus = class _Plus extends Marker {\n  updatePath() {\n    const s = this.size / 3;\n    super.applyPath(s, _Plus.moves);\n  }\n};\n_Plus.className = \"Plus\";\n_Plus.moves = [{\n  x: -0.5,\n  y: -0.5,\n  t: \"move\"\n}, {\n  x: 0,\n  y: -1\n}, {\n  x: 1,\n  y: 0\n}, {\n  x: 0,\n  y: 1\n}, {\n  x: 1,\n  y: 0\n}, {\n  x: 0,\n  y: 1\n}, {\n  x: -1,\n  y: 0\n}, {\n  x: 0,\n  y: 1\n}, {\n  x: -1,\n  y: 0\n}, {\n  x: 0,\n  y: -1\n}, {\n  x: -1,\n  y: 0\n}, {\n  x: 0,\n  y: -1\n}];\nvar Plus = _Plus;\n\n// packages/ag-charts-community/src/chart/marker/square.ts\nvar Square = class extends Marker {\n  updatePath() {\n    const {\n      path,\n      x,\n      y\n    } = this;\n    const hs = this.size / 2;\n    path.clear();\n    path.moveTo(this.align(x - hs), this.align(y - hs));\n    path.lineTo(this.align(x + hs), this.align(y - hs));\n    path.lineTo(this.align(x + hs), this.align(y + hs));\n    path.lineTo(this.align(x - hs), this.align(y + hs));\n    path.closePath();\n  }\n};\nSquare.className = \"Square\";\n\n// packages/ag-charts-community/src/chart/marker/star.ts\nvar Star = class extends Marker {\n  updatePath() {\n    const {\n      x,\n      y,\n      path,\n      size\n    } = this;\n    const spikes = 5;\n    const innerRadius = size / 2;\n    const rotation = Math.PI / 2;\n    path.clear();\n    for (let i = 0; i < spikes * 2; i++) {\n      const radius = i % 2 === 0 ? size : innerRadius;\n      const angle = i * Math.PI / spikes - rotation;\n      const xCoordinate = x + Math.cos(angle) * radius;\n      const yCoordinate = y + Math.sin(angle) * radius;\n      path.lineTo(xCoordinate, yCoordinate);\n    }\n    path.closePath();\n  }\n};\nStar.className = \"Star\";\n\n// packages/ag-charts-community/src/chart/marker/triangle.ts\nvar _Triangle = class _Triangle extends Marker {\n  updatePath() {\n    const s = this.size * 1.1;\n    super.applyPath(s, _Triangle.moves);\n  }\n};\n_Triangle.className = \"Triangle\";\n_Triangle.moves = [{\n  x: 0,\n  y: -0.48,\n  t: \"move\"\n}, {\n  x: 0.5,\n  y: 0.87\n}, {\n  x: -1,\n  y: 0\n}];\nvar Triangle = _Triangle;\n\n// packages/ag-charts-community/src/chart/marker/util.ts\nvar MARKER_SHAPES = {\n  circle: Circle,\n  cross: Cross,\n  diamond: Diamond,\n  heart: Heart,\n  pin: Pin,\n  plus: Plus,\n  square: Square,\n  star: Star,\n  triangle: Triangle\n};\nvar MARKER_SUPPORTED_SHAPES = Object.keys(MARKER_SHAPES);\nfunction isMarkerShape(shape) {\n  return typeof shape === \"string\" && MARKER_SUPPORTED_SHAPES.includes(shape);\n}\nfunction getMarker() {\n  let shape = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Square;\n  if (isMarkerShape(shape)) {\n    return MARKER_SHAPES[shape];\n  }\n  if (typeof shape === \"function\") {\n    return shape;\n  }\n  return Square;\n}\n\n// packages/ag-charts-community/src/chart/series/dataModelSeries.ts\nvar DataModelSeries = class extends Series {\n  constructor() {\n    super(...arguments);\n    this.showFocusBox = true;\n  }\n  getScaleInformation(_ref69) {\n    let {\n      xScale,\n      yScale\n    } = _ref69;\n    const isContinuousX = ContinuousScale.is(xScale);\n    const isContinuousY = ContinuousScale.is(yScale);\n    return {\n      isContinuousX,\n      isContinuousY,\n      xScaleType: xScale == null ? void 0 : xScale.type,\n      yScaleType: yScale == null ? void 0 : yScale.type\n    };\n  }\n  getModulePropertyDefinitions() {\n    var _a, _b;\n    const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n    const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n    return this.moduleMap.mapModules(mod2 => mod2.getPropertyDefinitions(this.getScaleInformation({\n      xScale,\n      yScale\n    }))).flat();\n  }\n  // Request data, but with message dispatching to series-options (modules).\n  requestDataModel(dataController, data, opts) {\n    return __async(this, null, function* () {\n      opts.props.push(...this.getModulePropertyDefinitions());\n      const {\n        dataModel,\n        processedData\n      } = yield dataController.request(this.id, data != null ? data : [], opts);\n      this.dataModel = dataModel;\n      this.processedData = processedData;\n      this.dispatch(\"data-processed\", {\n        dataModel,\n        processedData\n      });\n      return {\n        dataModel,\n        processedData\n      };\n    });\n  }\n  isProcessedDataAnimatable() {\n    var _a, _b;\n    const validationResults = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation;\n    if (!validationResults) {\n      return true;\n    }\n    const {\n      orderedKeys,\n      uniqueKeys\n    } = validationResults;\n    return orderedKeys && uniqueKeys;\n  }\n  checkProcessedDataAnimatable() {\n    if (!this.isProcessedDataAnimatable()) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  pickFocus(opts) {\n    return this.doPickFocus(opts, this);\n  }\n  // The legend behaves differently for Pie and Donut series. We need to use a seriesItemEnabled\n  // array to determine whether a datum has been toggled on/off using the legend.\n  doPickFocus(opts, derivedSeries) {\n    const nodeData = this.getNodeData();\n    if (nodeData === void 0 || nodeData.length === 0) {\n      return void 0;\n    }\n    const {\n      datumIndexDelta,\n      seriesRect\n    } = opts;\n    const datumIndex = this.computeFocusDatumIndex(opts, nodeData, derivedSeries.seriesItemEnabled);\n    if (datumIndex === void 0) {\n      return void 0;\n    }\n    const {\n      showFocusBox\n    } = this;\n    const datum = nodeData[datumIndex];\n    const bbox = this.computeFocusBounds({\n      datumIndex,\n      datumIndexDelta,\n      seriesRect\n    });\n    if (bbox !== void 0) {\n      return {\n        bbox,\n        showFocusBox,\n        datum,\n        datumIndex\n      };\n    }\n  }\n  computeFocusDatumIndex(opts, nodeData, seriesItemEnabled) {\n    if (seriesItemEnabled && nodeData.length !== seriesItemEnabled.length) {\n      Logger.error(\"invalid state: nodeData.length (\".concat(nodeData.length, \" !== seriesItemEnabled.length (\").concat(seriesItemEnabled == null ? void 0 : seriesItemEnabled.length, \")\"));\n    }\n    const isDatumEnabled = datumIndex2 => {\n      const nodeDatum = nodeData[datumIndex2];\n      return (nodeDatum.missing === void 0 || nodeDatum.missing === false) && (seriesItemEnabled === void 0 || seriesItemEnabled[datumIndex2]);\n    };\n    const searchBackward = datumIndex2 => {\n      while (datumIndex2 >= 0 && !isDatumEnabled(datumIndex2)) {\n        datumIndex2--;\n      }\n      return datumIndex2 === -1 ? void 0 : datumIndex2;\n    };\n    const searchForward = datumIndex2 => {\n      while (datumIndex2 < nodeData.length && !isDatumEnabled(datumIndex2)) {\n        datumIndex2++;\n      }\n      return datumIndex2 === nodeData.length ? void 0 : datumIndex2;\n    };\n    let datumIndex;\n    const clampedIndex = clamp(0, opts.datumIndex, nodeData.length - 1);\n    if (opts.datumIndexDelta < 0) {\n      datumIndex = searchBackward(clampedIndex);\n    } else if (opts.datumIndexDelta > 0) {\n      datumIndex = searchForward(clampedIndex);\n    } else {\n      datumIndex != null ? datumIndex : datumIndex = searchForward(clampedIndex);\n      datumIndex != null ? datumIndex : datumIndex = searchBackward(clampedIndex);\n    }\n    if (datumIndex === void 0) {\n      if (opts.datumIndexDelta === 0) {\n        return void 0;\n      } else {\n        return opts.datumIndex - opts.datumIndexDelta;\n      }\n    } else {\n      return datumIndex;\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/seriesProperties.ts\nvar SeriesItemHighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"rgba(255,255,255, 0.33)\";\n    this.stroke = \"rgba(0, 0, 0, 0.4)\";\n    this.strokeWidth = 2;\n  }\n};\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], SeriesItemHighlightStyle.prototype, \"lineDashOffset\", 2);\nvar SeriesHighlightStyle = class extends BaseProperties {};\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], SeriesHighlightStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], SeriesHighlightStyle.prototype, \"dimOpacity\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], SeriesHighlightStyle.prototype, \"enabled\", 2);\nvar TextHighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.color = \"black\";\n  }\n};\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], TextHighlightStyle.prototype, \"color\", 2);\nvar HighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.item = new SeriesItemHighlightStyle();\n    this.series = new SeriesHighlightStyle();\n    this.text = new TextHighlightStyle();\n  }\n};\n__decorateClass([Validate(OBJECT)], HighlightStyle.prototype, \"item\", 2);\n__decorateClass([Validate(OBJECT)], HighlightStyle.prototype, \"series\", 2);\n__decorateClass([Validate(OBJECT)], HighlightStyle.prototype, \"text\", 2);\nvar SeriesProperties = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.visible = true;\n    this.showInLegend = true;\n    this.cursor = \"default\";\n    this.nodeClickRange = \"exact\";\n    this.highlightStyle = new HighlightStyle();\n  }\n};\n__decorateClass([Validate(STRING, {\n  optional: true\n})], SeriesProperties.prototype, \"id\", 2);\n__decorateClass([Validate(BOOLEAN)], SeriesProperties.prototype, \"visible\", 2);\n__decorateClass([Validate(BOOLEAN)], SeriesProperties.prototype, \"showInLegend\", 2);\n__decorateClass([Validate(STRING)], SeriesProperties.prototype, \"cursor\", 2);\n__decorateClass([Validate(INTERACTION_RANGE)], SeriesProperties.prototype, \"nodeClickRange\", 2);\n__decorateClass([Validate(OBJECT)], SeriesProperties.prototype, \"highlightStyle\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/cartesianSeries.ts\nvar DEFAULT_CARTESIAN_DIRECTION_KEYS = {\n  [\"x\" /* X */]: [\"xKey\"],\n  [\"y\" /* Y */]: [\"yKey\"]\n};\nvar DEFAULT_CARTESIAN_DIRECTION_NAMES = {\n  [\"x\" /* X */]: [\"xName\"],\n  [\"y\" /* Y */]: [\"yName\"]\n};\nvar CartesianSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.xKey = series.properties.xKey;\n    this.yKey = series.properties.yKey;\n  }\n};\nvar CartesianSeriesProperties = class extends SeriesProperties {};\n__decorateClass([Validate(STRING, {\n  optional: true\n})], CartesianSeriesProperties.prototype, \"legendItemName\", 2);\nvar CartesianSeries = class extends DataModelSeries {\n  constructor(_a) {\n    var _b = _a,\n      {\n        pathsPerSeries = 1,\n        hasMarkers = false,\n        hasHighlightedLabels = false,\n        pathsZIndexSubOrderOffset = [],\n        datumSelectionGarbageCollection = true,\n        markerSelectionGarbageCollection = true,\n        animationAlwaysUpdateSelections = false,\n        animationResetFns,\n        directionKeys,\n        directionNames\n      } = _b,\n      otherOpts = __objRest(_b, [\"pathsPerSeries\", \"hasMarkers\", \"hasHighlightedLabels\", \"pathsZIndexSubOrderOffset\", \"datumSelectionGarbageCollection\", \"markerSelectionGarbageCollection\", \"animationAlwaysUpdateSelections\", \"animationResetFns\", \"directionKeys\", \"directionNames\"]);\n    super(__spreadValues({\n      directionKeys,\n      directionNames,\n      canHaveAxes: true\n    }, otherOpts));\n    this.NodeEvent = CartesianSeriesNodeEvent;\n    this.dataNodeGroup = this.contentGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-series-dataNodes\"),\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"data\")\n    }));\n    this.markerGroup = this.contentGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-series-markers\"),\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"marker\")\n    }));\n    this.labelGroup = this.contentGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-series-labels\"),\n      zIndex: 8 /* SERIES_LABEL_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"labels\")\n    }));\n    this.labelSelection = Selection.select(this.labelGroup, Text);\n    this.highlightSelection = Selection.select(this.highlightNode, () => this.opts.hasMarkers ? this.markerFactory() : this.nodeFactory());\n    this.highlightLabelSelection = Selection.select(this.highlightLabel, Text);\n    this.annotationSelections = /* @__PURE__ */new Set();\n    this.minRectsCache = {\n      dirtyNodeData: true\n    };\n    this.debug = Debug.create();\n    if (!directionKeys || !directionNames) throw new Error(\"Unable to initialise series type \".concat(this.type));\n    this.opts = {\n      pathsPerSeries,\n      hasMarkers,\n      hasHighlightedLabels,\n      pathsZIndexSubOrderOffset,\n      directionKeys,\n      directionNames,\n      animationResetFns,\n      animationAlwaysUpdateSelections,\n      datumSelectionGarbageCollection,\n      markerSelectionGarbageCollection\n    };\n    this.paths = [];\n    for (let index = 0; index < pathsPerSeries; index++) {\n      this.paths[index] = new Path();\n      this.paths[index].zIndex = 4 /* SERIES_LAYER_ZINDEX */;\n      this.paths[index].zIndexSubOrder = this.getGroupZIndexSubOrder(\"paths\", index);\n      this.contentGroup.appendChild(this.paths[index]);\n    }\n    this.datumSelection = Selection.select(this.dataNodeGroup, () => this.nodeFactory(), datumSelectionGarbageCollection);\n    this.markerSelection = Selection.select(this.markerGroup, () => this.markerFactory(), markerSelectionGarbageCollection);\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateEmptyUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\",\n        disable: \"disabled\"\n      },\n      ready: {\n        updateData: \"waiting\",\n        clear: \"clearing\",\n        highlight: data => this.animateReadyHighlight(data),\n        highlightMarkers: data => this.animateReadyHighlightMarkers(data),\n        resize: data => this.animateReadyResize(data),\n        reset: \"empty\",\n        skip: \"ready\",\n        disable: \"disabled\"\n      },\n      waiting: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateWaitingUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\",\n        disable: \"disabled\"\n      },\n      disabled: {\n        update: data => this.resetAllAnimation(data),\n        reset: \"empty\"\n      },\n      clearing: {\n        update: {\n          target: \"empty\",\n          action: data => this.animateClearingUpdateEmpty(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      }\n    }, () => this.checkProcessedDataAnimatable());\n  }\n  get contextNodeData() {\n    return this._contextNodeData;\n  }\n  getNodeData() {\n    var _a;\n    return (_a = this.contextNodeData) == null ? void 0 : _a.nodeData;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    } else if (phase === \"disabled\") {\n      this.animationState.transition(\"disable\");\n    }\n  }\n  addChartEventListeners() {\n    this.destroyFns.push(this.ctx.chartEventManager.addListener(\"legend-item-click\", event => this.onLegendItemClick(event)), this.ctx.chartEventManager.addListener(\"legend-item-double-click\", event => this.onLegendItemDoubleClick(event)));\n  }\n  destroy() {\n    super.destroy();\n    this._contextNodeData = void 0;\n  }\n  update(_0) {\n    return __async(this, arguments, function (_ref70) {\n      var _this4 = this;\n      let {\n        seriesRect\n      } = _ref70;\n      return function* () {\n        var _a, _b;\n        const {\n          visible,\n          _contextNodeData: previousContextData\n        } = _this4;\n        const series = (_b = (_a = _this4.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight()) == null ? void 0 : _b.series;\n        const seriesHighlighted = series === _this4;\n        const resize = _this4.checkResize(seriesRect);\n        const highlightItems = yield _this4.updateHighlightSelection(seriesHighlighted);\n        yield _this4.updateSelections(visible);\n        yield _this4.updateNodes(highlightItems, seriesHighlighted, visible);\n        const animationData = _this4.getAnimationData(seriesRect, previousContextData);\n        if (!animationData) return;\n        if (resize) {\n          _this4.animationState.transition(\"resize\", animationData);\n        }\n        _this4.animationState.transition(\"update\", animationData);\n      }();\n    });\n  }\n  updateSelections(anySeriesItemEnabled) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const animationSkipUpdate = !this.opts.animationAlwaysUpdateSelections && this.ctx.animationManager.isSkipped();\n      if (!anySeriesItemEnabled && animationSkipUpdate) {\n        return;\n      }\n      if (!this.nodeDataRefresh && !this.isPathOrSelectionDirty()) {\n        return;\n      }\n      if (this.nodeDataRefresh) {\n        this.nodeDataRefresh = false;\n        this.debug(\"CartesianSeries.updateSelections() - calling createNodeData() for\", this.id);\n        this.markQuadtreeDirty();\n        this._contextNodeData = yield this.createNodeData();\n        const animationValid = this.isProcessedDataAnimatable();\n        if (this._contextNodeData) {\n          (_b = (_a = this._contextNodeData).animationValid) != null ? _b : _a.animationValid = animationValid;\n        }\n        this.minRectsCache.dirtyNodeData = true;\n        const {\n          dataModel,\n          processedData\n        } = this;\n        if (dataModel !== void 0 && processedData !== void 0) {\n          this.dispatch(\"data-update\", {\n            dataModel,\n            processedData\n          });\n        }\n      }\n      yield this.updateSeriesSelections();\n    });\n  }\n  updateSeriesSelections(seriesHighlighted) {\n    return __async(this, null, function* () {\n      const {\n        datumSelection,\n        labelSelection,\n        markerSelection,\n        paths\n      } = this;\n      const contextData = this._contextNodeData;\n      if (!contextData) return;\n      const {\n        nodeData,\n        labelData,\n        itemId\n      } = contextData;\n      yield this.updatePaths({\n        seriesHighlighted,\n        itemId,\n        contextData,\n        paths\n      });\n      this.datumSelection = yield this.updateDatumSelection({\n        nodeData,\n        datumSelection\n      });\n      this.labelSelection = yield this.updateLabelSelection({\n        labelData,\n        labelSelection\n      });\n      if (this.opts.hasMarkers) {\n        this.markerSelection = yield this.updateMarkerSelection({\n          nodeData,\n          markerSelection\n        });\n      }\n    });\n  }\n  markerFactory() {\n    const MarkerShape = getMarker();\n    return new MarkerShape();\n  }\n  getGroupZIndexSubOrder(type) {\n    let subIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var _a;\n    const result = super.getGroupZIndexSubOrder(type, subIndex);\n    if (type === \"paths\") {\n      const [superFn] = result;\n      const pathOffset = (_a = this.opts.pathsZIndexSubOrderOffset[subIndex]) != null ? _a : 0;\n      result[0] = isFunction(superFn) ? () => Number(superFn()) + pathOffset : Number(superFn) + pathOffset;\n    }\n    return result;\n  }\n  updateNodes(highlightedItems, seriesHighlighted, anySeriesItemEnabled) {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        highlightSelection,\n        highlightLabelSelection,\n        opts: {\n          hasMarkers,\n          hasHighlightedLabels\n        }\n      } = this;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const visible = this.visible && this._contextNodeData != null && anySeriesItemEnabled;\n      this.rootGroup.visible = animationEnabled || visible;\n      this.contentGroup.visible = animationEnabled || visible;\n      this.highlightGroup.visible = (animationEnabled || visible) && seriesHighlighted;\n      const opacity = this.getOpacity();\n      if (hasMarkers) {\n        yield this.updateMarkerNodes({\n          markerSelection: highlightSelection,\n          isHighlight: true\n        });\n        this.animationState.transition(\"highlightMarkers\", highlightSelection);\n      } else {\n        yield this.updateDatumNodes({\n          datumSelection: highlightSelection,\n          isHighlight: true\n        });\n        this.animationState.transition(\"highlight\", highlightSelection);\n      }\n      if (hasHighlightedLabels) {\n        yield this.updateLabelNodes({\n          labelSelection: highlightLabelSelection\n        });\n      }\n      const {\n        dataNodeGroup,\n        markerGroup,\n        datumSelection,\n        labelSelection,\n        markerSelection,\n        paths,\n        labelGroup\n      } = this;\n      const {\n        itemId\n      } = (_a = this.contextNodeData) != null ? _a : {};\n      dataNodeGroup.opacity = opacity;\n      dataNodeGroup.visible = animationEnabled || visible;\n      labelGroup.visible = visible;\n      if (hasMarkers) {\n        markerGroup.opacity = opacity;\n        markerGroup.zIndex = dataNodeGroup.zIndex >= 4 /* SERIES_LAYER_ZINDEX */ ? dataNodeGroup.zIndex : dataNodeGroup.zIndex + 1;\n        markerGroup.visible = visible;\n      }\n      if (labelGroup) {\n        labelGroup.opacity = opacity;\n      }\n      yield this.updatePathNodes({\n        seriesHighlighted,\n        itemId,\n        paths,\n        opacity,\n        visible,\n        animationEnabled\n      });\n      if (!dataNodeGroup.visible) {\n        return;\n      }\n      yield this.updateDatumNodes({\n        datumSelection,\n        highlightedItems,\n        isHighlight: false\n      });\n      yield this.updateLabelNodes({\n        labelSelection\n      });\n      if (hasMarkers) {\n        yield this.updateMarkerNodes({\n          markerSelection,\n          isHighlight: false\n        });\n      }\n    });\n  }\n  getHighlightLabelData(labelData, highlightedItem) {\n    const labelItems = labelData.filter(ld => ld.datum === highlightedItem.datum && ld.itemId === highlightedItem.itemId);\n    return labelItems.length === 0 ? void 0 : labelItems;\n  }\n  getHighlightData(_nodeData, highlightedItem) {\n    return highlightedItem ? [highlightedItem] : void 0;\n  }\n  updateHighlightSelection(seriesHighlighted) {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        highlightSelection,\n        highlightLabelSelection,\n        _contextNodeData: contextNodeData\n      } = this;\n      if (!contextNodeData) return;\n      const highlightedDatum = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight();\n      const item = seriesHighlighted && (highlightedDatum == null ? void 0 : highlightedDatum.datum) ? highlightedDatum : void 0;\n      let labelItems;\n      let highlightItems;\n      if (item != null) {\n        const labelsEnabled = this.isLabelEnabled();\n        const {\n          labelData,\n          nodeData\n        } = contextNodeData;\n        highlightItems = this.getHighlightData(nodeData, item);\n        labelItems = labelsEnabled ? this.getHighlightLabelData(labelData, item) : void 0;\n      }\n      this.highlightSelection = yield this.updateHighlightSelectionItem({\n        items: highlightItems,\n        highlightSelection\n      });\n      this.highlightLabelSelection = yield this.updateHighlightSelectionLabel({\n        items: labelItems,\n        highlightLabelSelection\n      });\n      return highlightItems;\n    });\n  }\n  markQuadtreeDirty() {\n    this.quadtree = void 0;\n  }\n  *datumNodesIter() {\n    for (const {\n      node\n    } of this.datumSelection) {\n      if (node.datum.missing === true) continue;\n      yield node;\n    }\n  }\n  getQuadTree() {\n    if (this.quadtree === void 0) {\n      const {\n        width,\n        height\n      } = this.ctx.scene.canvas;\n      const canvasRect = new BBox(0, 0, width, height);\n      this.quadtree = new QuadtreeNearest(100, 10, canvasRect);\n      this.initQuadTree(this.quadtree);\n    }\n    return this.quadtree;\n  }\n  initQuadTree(_quadtree) {}\n  pickNodeExactShape(point) {\n    var _a;\n    const result = super.pickNodeExactShape(point);\n    if (result) {\n      return result;\n    }\n    const {\n      x,\n      y\n    } = point;\n    const {\n      opts: {\n        hasMarkers\n      }\n    } = this;\n    let match;\n    const {\n      dataNodeGroup,\n      markerGroup\n    } = this;\n    match = dataNodeGroup.pickNode(x, y);\n    if (!match && hasMarkers) {\n      match = markerGroup == null ? void 0 : markerGroup.pickNode(x, y);\n    }\n    if (match && match.datum.missing !== true) {\n      return {\n        datum: match.datum,\n        distance: 0\n      };\n    }\n    for (const mod2 of this.moduleMap.modules()) {\n      const {\n        datum\n      } = (_a = mod2.pickNodeExact(point)) != null ? _a : {};\n      if (datum == null) continue;\n      if ((datum == null ? void 0 : datum.missing) === true) continue;\n      return {\n        datum,\n        distance: 0\n      };\n    }\n  }\n  pickNodeClosestDatum(point) {\n    var _a, _b;\n    const {\n      x,\n      y\n    } = point;\n    const {\n      axes,\n      rootGroup,\n      _contextNodeData: contextNodeData\n    } = this;\n    if (!contextNodeData) return;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const hitPoint = rootGroup.transformPoint(x, y);\n    let minDistance = Infinity;\n    let closestDatum;\n    for (const datum of contextNodeData.nodeData) {\n      const {\n        point: {\n          x: datumX = NaN,\n          y: datumY = NaN\n        } = {}\n      } = datum;\n      if (isNaN(datumX) || isNaN(datumY)) {\n        continue;\n      }\n      const isInRange = (xAxis == null ? void 0 : xAxis.inRange(datumX)) && (yAxis == null ? void 0 : yAxis.inRange(datumY));\n      if (!isInRange) {\n        continue;\n      }\n      const distance2 = Math.max(__pow(hitPoint.x - datumX, 2) + __pow(hitPoint.y - datumY, 2), 0);\n      if (distance2 < minDistance) {\n        minDistance = distance2;\n        closestDatum = datum;\n      }\n    }\n    for (const mod2 of this.moduleMap.modules()) {\n      const modPick = mod2.pickNodeNearest(point);\n      if (modPick !== void 0 && modPick.distanceSquared < minDistance) {\n        minDistance = modPick.distanceSquared;\n        closestDatum = modPick.datum;\n        break;\n      }\n    }\n    if (closestDatum) {\n      const distance2 = Math.max(Math.sqrt(minDistance) - ((_b = (_a = closestDatum.point) == null ? void 0 : _a.size) != null ? _b : 0), 0);\n      return {\n        datum: closestDatum,\n        distance: distance2\n      };\n    }\n  }\n  pickNodeMainAxisFirst(point, requireCategoryAxis) {\n    var _a, _b, _c, _d;\n    const {\n      x,\n      y\n    } = point;\n    const {\n      axes,\n      rootGroup,\n      _contextNodeData: contextNodeData\n    } = this;\n    if (!contextNodeData) return;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const directions2 = [xAxis, yAxis].filter(a => a instanceof CategoryAxis).map(a => a.direction);\n    if (requireCategoryAxis && directions2.length === 0) {\n      return;\n    }\n    const [primaryDirection = \"x\" /* X */] = directions2;\n    const hitPoint = rootGroup.transformPoint(x, y);\n    const hitPointCoords = primaryDirection === \"x\" /* X */ ? [hitPoint.x, hitPoint.y] : [hitPoint.y, hitPoint.x];\n    const minDistance = [Infinity, Infinity];\n    let closestDatum;\n    for (const datum of contextNodeData.nodeData) {\n      const {\n        x: datumX = NaN,\n        y: datumY = NaN\n      } = (_b = (_a = datum.point) != null ? _a : datum.midPoint) != null ? _b : {};\n      if (isNaN(datumX) || isNaN(datumY) || datum.missing === true) {\n        continue;\n      }\n      const isInRange = (xAxis == null ? void 0 : xAxis.inRange(datumX)) && (yAxis == null ? void 0 : yAxis.inRange(datumY));\n      if (!isInRange) {\n        continue;\n      }\n      const datumPoint = primaryDirection === \"x\" /* X */ ? [datumX, datumY] : [datumY, datumX];\n      let newMinDistance = true;\n      for (let i = 0; i < datumPoint.length; i++) {\n        const dist = Math.abs(datumPoint[i] - hitPointCoords[i]);\n        if (dist > minDistance[i]) {\n          newMinDistance = false;\n          break;\n        }\n        if (dist < minDistance[i]) {\n          minDistance[i] = dist;\n          minDistance.fill(Infinity, i + 1, minDistance.length);\n        }\n      }\n      if (newMinDistance) {\n        closestDatum = datum;\n      }\n    }\n    if (closestDatum) {\n      let closestDistanceSquared = Math.max(__pow(minDistance[0], 2) + __pow(minDistance[1], 2) - ((_d = (_c = closestDatum.point) == null ? void 0 : _c.size) != null ? _d : 0), 0);\n      for (const mod2 of this.moduleMap.modules()) {\n        const modPick = mod2.pickNodeMainAxisFirst(point);\n        if (modPick !== void 0 && modPick.distanceSquared < closestDistanceSquared) {\n          closestDatum = modPick.datum;\n          closestDistanceSquared = modPick.distanceSquared;\n          break;\n        }\n      }\n      return {\n        datum: closestDatum,\n        distance: Math.sqrt(closestDistanceSquared)\n      };\n    }\n  }\n  onLegendItemClick(event) {\n    const {\n      legendItemName\n    } = this.properties;\n    const {\n      enabled,\n      itemId,\n      series\n    } = event;\n    const matchedLegendItemName = legendItemName != null && legendItemName === event.legendItemName;\n    if (series.id === this.id || matchedLegendItemName) {\n      this.toggleSeriesItem(itemId, enabled);\n    }\n  }\n  onLegendItemDoubleClick(event) {\n    const {\n      enabled,\n      itemId,\n      series,\n      numVisibleItems\n    } = event;\n    const {\n      legendItemName\n    } = this.properties;\n    const matchedLegendItemName = legendItemName != null && legendItemName === event.legendItemName;\n    if (series.id === this.id || matchedLegendItemName) {\n      this.toggleSeriesItem(itemId, true);\n    } else if (enabled && numVisibleItems === 1) {\n      this.toggleSeriesItem(itemId, true);\n    } else {\n      this.toggleSeriesItem(itemId, false);\n    }\n  }\n  isPathOrSelectionDirty() {\n    return false;\n  }\n  getLabelData() {\n    return [];\n  }\n  shouldFlipXY() {\n    return false;\n  }\n  /**\n   * Get the minimum bounding box that contains any adjacent two nodes. The axes are treated independently, so this\n   * may not represent the same two points for both directions. The dimensions represent the greatest distance\n   * between any two adjacent nodes.\n   */\n  getMinRects(width, height) {\n    const {\n      dirtyNodeData,\n      sizeCache,\n      minRect,\n      minVisibleRect\n    } = this.minRectsCache;\n    const newSizeCache = JSON.stringify({\n      width,\n      height\n    });\n    const dirtySize = newSizeCache !== sizeCache;\n    if (!dirtySize && !dirtyNodeData && minRect && minVisibleRect) {\n      return {\n        minRect,\n        minVisibleRect\n      };\n    }\n    const rects = this.computeMinRects(width, height);\n    this.minRectsCache = {\n      dirtyNodeData: false,\n      sizeCache: newSizeCache,\n      minRect: rects == null ? void 0 : rects.minRect,\n      minVisibleRect: rects == null ? void 0 : rects.minVisibleRect\n    };\n    return rects;\n  }\n  computeMinRects(width, height) {\n    var _a, _b;\n    const context = this._contextNodeData;\n    if (!(context == null ? void 0 : context.nodeData.length)) {\n      return;\n    }\n    const {\n      nodeData\n    } = context;\n    const minRectXs = Array(nodeData.length);\n    const minRectYs = Array(nodeData.length);\n    for (const [i, {\n      midPoint\n    }] of nodeData.entries()) {\n      minRectXs[i] = (_a = midPoint == null ? void 0 : midPoint.x) != null ? _a : 0;\n      minRectYs[i] = (_b = midPoint == null ? void 0 : midPoint.y) != null ? _b : 0;\n    }\n    minRectXs.sort((a, b) => a - b);\n    minRectYs.sort((a, b) => a - b);\n    let zeroX, widthX, zeroY, heightY;\n    let maxWidth = 0;\n    let maxHeight = 0;\n    for (let i = 1; i < nodeData.length; i++) {\n      if (minRectXs[i] >= 0) zeroX != null ? zeroX : zeroX = i;\n      if (minRectXs[i] > width) widthX != null ? widthX : widthX = i;\n      if (minRectYs[i] >= 0) zeroY != null ? zeroY : zeroY = i;\n      if (minRectYs[i] > height) heightY != null ? heightY : heightY = i;\n      maxWidth = Math.max(maxWidth, minRectXs[i] - minRectXs[i - 1]);\n      maxHeight = Math.max(maxHeight, minRectYs[i] - minRectYs[i - 1]);\n    }\n    widthX != null ? widthX : widthX = nodeData.length;\n    heightY != null ? heightY : heightY = nodeData.length;\n    const minVisibleRectXs = zeroX != null && widthX != null ? minRectXs.slice(zeroX, widthX) : [];\n    const minVisibleRectYs = zeroY != null && heightY != null ? minRectYs.slice(zeroY, heightY) : [];\n    let maxVisibleWidth = 0;\n    let maxVisibleHeight = 0;\n    for (let i = 1; i < Math.max(minVisibleRectXs.length, minVisibleRectYs.length); i++) {\n      const x1 = minVisibleRectXs[i];\n      const x2 = minVisibleRectXs[i - 1];\n      const y1 = minVisibleRectYs[i];\n      const y2 = minVisibleRectYs[i - 1];\n      if (x1 != null && x2 != null) {\n        maxVisibleWidth = Math.max(maxVisibleWidth, x1 - x2);\n      }\n      if (y1 != null && y2 != null) {\n        maxVisibleHeight = Math.max(maxVisibleHeight, y1 - y2);\n      }\n    }\n    const minRect = new BBox(0, 0, maxWidth, maxHeight);\n    const minVisibleRect = new BBox(0, 0, maxVisibleWidth, maxVisibleHeight);\n    return {\n      minRect,\n      minVisibleRect\n    };\n  }\n  updateHighlightSelectionItem(opts) {\n    const {\n      opts: {\n        hasMarkers\n      }\n    } = this;\n    const {\n      items,\n      highlightSelection\n    } = opts;\n    const nodeData = items != null ? items : [];\n    if (hasMarkers) {\n      const markerSelection = highlightSelection;\n      return this.updateMarkerSelection({\n        nodeData,\n        markerSelection\n      });\n    } else {\n      return this.updateDatumSelection({\n        nodeData,\n        datumSelection: highlightSelection\n      });\n    }\n  }\n  updateHighlightSelectionLabel(opts) {\n    var _a;\n    return this.updateLabelSelection({\n      labelData: (_a = opts.items) != null ? _a : [],\n      labelSelection: opts.highlightLabelSelection\n    });\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.datumSelection;\n    });\n  }\n  updateDatumNodes(_opts) {\n    return __async(this, null, function* () {});\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.markerSelection;\n    });\n  }\n  updateMarkerNodes(_opts) {\n    return __async(this, null, function* () {});\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      opts.paths.forEach(p => p.visible = false);\n    });\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        paths,\n        opacity,\n        visible\n      } = opts;\n      for (const path of paths) {\n        path.opacity = opacity;\n        path.visible = visible;\n      }\n    });\n  }\n  resetAllAnimation(data) {\n    var _a, _b, _c;\n    const {\n      path,\n      datum,\n      label,\n      marker\n    } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (path) {\n      data.paths.forEach(paths => {\n        resetMotion([paths], path);\n      });\n    }\n    if (datum) {\n      resetMotion([data.datumSelection], datum);\n    }\n    if (label) {\n      resetMotion([data.labelSelection], label);\n    }\n    if (marker && this.opts.hasMarkers) {\n      resetMotion([data.markerSelection], marker);\n    }\n    if (((_c = data.contextData) == null ? void 0 : _c.animationValid) === false) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  animateEmptyUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateWaitingUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateReadyHighlight(data) {\n    var _a, _b;\n    const {\n      datum\n    } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    if (datum) {\n      resetMotion([data], datum);\n    }\n  }\n  animateReadyHighlightMarkers(data) {\n    var _a, _b;\n    const {\n      marker\n    } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    if (marker) {\n      resetMotion([data], marker);\n    }\n  }\n  animateReadyResize(data) {\n    this.resetAllAnimation(data);\n  }\n  animateClearingUpdateEmpty(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animationTransitionClear() {\n    const animationData = this.getAnimationData();\n    if (!animationData) return;\n    this.animationState.transition(\"clear\", animationData);\n  }\n  getAnimationData(seriesRect, previousContextData) {\n    const {\n      _contextNodeData: contextData\n    } = this;\n    if (!contextData) return;\n    const animationData = {\n      datumSelection: this.datumSelection,\n      markerSelection: this.markerSelection,\n      labelSelection: this.labelSelection,\n      annotationSelections: [...this.annotationSelections],\n      contextData,\n      previousContextData,\n      paths: this.paths,\n      seriesRect\n    };\n    return animationData;\n  }\n  calculateScaling() {\n    const result = {};\n    for (const direction of Object.values(ChartAxisDirection)) {\n      const axis = this.axes[direction];\n      if (!axis) continue;\n      if (axis.scale instanceof LogScale) {\n        const {\n          range: range3,\n          domain\n        } = axis.scale;\n        result[direction] = {\n          type: \"log\",\n          convert: d => axis.scale.convert(d),\n          domain: [domain[0], domain[1]],\n          range: [range3[0], range3[1]]\n        };\n      } else if (axis.scale instanceof ContinuousScale) {\n        const {\n          range: range3\n        } = axis.scale;\n        const domain = axis.scale.getDomain();\n        result[direction] = {\n          type: \"continuous\",\n          domain: [domain[0], domain[1]],\n          range: [range3[0], range3[1]]\n        };\n      } else if (axis.scale) {\n        const {\n          domain\n        } = axis.scale;\n        result[direction] = {\n          type: \"category\",\n          domain,\n          range: domain.map(d => axis.scale.convert(d))\n        };\n      }\n    }\n    return result;\n  }\n};\n\n// packages/ag-charts-community/src/chart/cartesianChart.ts\nvar directions = [\"top\", \"right\", \"bottom\", \"left\"];\nvar _CartesianChart = class _CartesianChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    /** Integrated Charts feature state - not used in Standalone Charts. */\n    this.paired = true;\n    this.firstSeriesTranslation = true;\n    this._lastCrossLineIds = void 0;\n    this._lastAxisWidths = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n    this._lastClipSeries = false;\n    this._lastVisibility = {\n      crossLines: true,\n      series: true\n    };\n  }\n  onAxisChange(newValue, oldValue) {\n    super.onAxisChange(newValue, oldValue);\n    this.zoomManager.updateAxes(newValue);\n  }\n  destroySeries(series) {\n    super.destroySeries(series);\n    this.firstSeriesTranslation = true;\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_CartesianChart.prototype, this, \"performLayout\").call(this);\n      const {\n        firstSeriesTranslation,\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const {\n        animationRect,\n        seriesRect,\n        visibility,\n        clipSeries\n      } = this.updateAxes(shrinkRect);\n      this.seriesRoot.visible = visibility.series;\n      this.seriesRect = seriesRect;\n      this.animationRect = animationRect;\n      const {\n        x,\n        y\n      } = seriesRect;\n      if (firstSeriesTranslation) {\n        for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n          group2.translationX = Math.floor(x);\n          group2.translationY = Math.floor(y);\n        }\n        this.firstSeriesTranslation = false;\n      } else {\n        const {\n          translationX,\n          translationY\n        } = seriesRoot;\n        staticFromToMotion(this.id, \"seriesRect\", this.ctx.animationManager, [seriesRoot, highlightRoot, annotationRoot], {\n          translationX,\n          translationY\n        }, {\n          translationX: Math.floor(x),\n          translationY: Math.floor(y)\n        }, {\n          phase: \"update\"\n        });\n      }\n      const seriesPaddedRect = seriesRect.clone().grow(this.seriesArea.padding);\n      this.hoverRect = seriesPaddedRect;\n      const clipRect = this.seriesArea.clip || clipSeries ? seriesPaddedRect : void 0;\n      seriesRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      highlightRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      annotationRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: {\n          width: this.ctx.scene.width,\n          height: this.ctx.scene.height\n        },\n        clipSeries,\n        series: {\n          rect: seriesRect,\n          paddedRect: seriesPaddedRect,\n          visible: visibility.series,\n          shouldFlipXY: this.shouldFlipXY()\n        },\n        axes: this.axes.map(axis => __spreadValues({\n          id: axis.id\n        }, axis.getLayoutState()))\n      });\n      const modulePromises = this.modulesManager.mapModules(m => {\n        var _a;\n        return (_a = m.performCartesianLayout) == null ? void 0 : _a.call(m, {\n          seriesRect\n        });\n      });\n      yield Promise.all(modulePromises);\n      return shrinkRect;\n    });\n  }\n  updateAxes(inputShrinkRect) {\n    var _a;\n    const crossLineIds = this.axes.flatMap(axis => {\n      var _a2;\n      return (_a2 = axis.crossLines) != null ? _a2 : [];\n    }).map(crossLine => crossLine.id);\n    const axesValid = this._lastCrossLineIds != null && this._lastCrossLineIds.length === crossLineIds.length && this._lastCrossLineIds.every((id, index) => crossLineIds[index] === id);\n    let axisWidths;\n    let clipSeries;\n    let visibility;\n    if (axesValid) {\n      axisWidths = __spreadValues({}, this._lastAxisWidths);\n      clipSeries = this._lastClipSeries;\n      visibility = __spreadValues({}, this._lastVisibility);\n    } else {\n      axisWidths = {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0\n      };\n      clipSeries = false;\n      visibility = {\n        crossLines: true,\n        series: true\n      };\n      this._lastCrossLineIds = crossLineIds;\n    }\n    const liveAxisWidths = new Set(this.axes.map(a => a.position));\n    for (const position of Object.keys(axisWidths)) {\n      if (!liveAxisWidths.has(position)) {\n        delete axisWidths[position];\n      }\n    }\n    const stableOutputs = (otherAxisWidths, otherClipSeries, otherVisibility) => {\n      if (Object.keys(otherAxisWidths).some(k => axisWidths[k] == null)) {\n        return false;\n      }\n      return visibility.crossLines === otherVisibility.crossLines && visibility.series === otherVisibility.series &&\n      // Check for existing axis positions and equality.\n      Object.entries(axisWidths).every(_ref71 => {\n        let [p, w] = _ref71;\n        const otherW = otherAxisWidths[p];\n        if (w != null || otherW != null) {\n          return w === otherW;\n        }\n        return true;\n      }) && clipSeries === otherClipSeries;\n    };\n    const ceilValues = records => mapValues(records, value => {\n      if (value && Math.abs(value) === Infinity) {\n        return 0;\n      }\n      return value != null ? Math.ceil(value) : value;\n    });\n    let lastPassAxisWidths = {};\n    let lastPassVisibility = {};\n    let lastPassClipSeries = false;\n    let seriesRect = (_a = this.seriesRect) == null ? void 0 : _a.clone();\n    let count = 0;\n    let primaryTickCounts = {};\n    do {\n      Object.assign(axisWidths, lastPassAxisWidths);\n      clipSeries = lastPassClipSeries;\n      Object.assign(visibility, lastPassVisibility);\n      const result = this.updateAxesPass(axisWidths, inputShrinkRect.clone(), seriesRect);\n      lastPassAxisWidths = ceilValues(result.axisWidths);\n      lastPassVisibility = result.visibility;\n      lastPassClipSeries = result.clipSeries;\n      seriesRect = result.seriesRect;\n      primaryTickCounts = result.primaryTickCounts;\n      if (count++ > 10) {\n        Logger.warn(\"unable to find stable axis layout.\");\n        break;\n      }\n    } while (!stableOutputs(lastPassAxisWidths, lastPassClipSeries, lastPassVisibility));\n    this.axes.forEach(axis => {\n      axis.update(primaryTickCounts[axis.direction]);\n    });\n    const clipRectPadding = 5;\n    this.axes.forEach(axis => {\n      axis.setCrossLinesVisible(visibility.crossLines);\n      if (!seriesRect) {\n        return;\n      }\n      axis.clipGrid(seriesRect.x, seriesRect.y, seriesRect.width + clipRectPadding, seriesRect.height + clipRectPadding);\n      switch (axis.position) {\n        case \"left\":\n        case \"right\":\n          axis.clipTickLines(inputShrinkRect.x, seriesRect.y, inputShrinkRect.width + clipRectPadding, seriesRect.height + clipRectPadding);\n          break;\n        case \"top\":\n        case \"bottom\":\n          axis.clipTickLines(seriesRect.x, inputShrinkRect.y, seriesRect.width + clipRectPadding, inputShrinkRect.height + clipRectPadding);\n          break;\n      }\n    });\n    this._lastAxisWidths = axisWidths;\n    this._lastVisibility = visibility;\n    return {\n      seriesRect,\n      animationRect: inputShrinkRect,\n      visibility,\n      clipSeries\n    };\n  }\n  updateAxesPass(axisWidths, bounds, lastPassSeriesRect) {\n    const visited = {};\n    const newAxisWidths = {};\n    const visibility = {\n      series: true,\n      crossLines: true\n    };\n    let clipSeries = false;\n    const primaryTickCounts = {};\n    const paddedBounds = this.applySeriesPadding(bounds);\n    const crossLinePadding = lastPassSeriesRect ? this.buildCrossLinePadding(axisWidths) : {};\n    const axisBound = this.buildAxisBound(paddedBounds, axisWidths, crossLinePadding, visibility);\n    const seriesRect = this.buildSeriesRect(axisBound, axisWidths);\n    this.axes.forEach(axis => {\n      var _a, _b;\n      const {\n        position = \"left\"\n      } = axis;\n      const {\n        clipSeries: newClipSeries,\n        axisThickness,\n        axisOffset\n      } = this.calculateAxisDimensions({\n        axis,\n        seriesRect,\n        paddedBounds,\n        axisWidths,\n        newAxisWidths,\n        primaryTickCounts,\n        clipSeries,\n        addInterAxisPadding: ((_a = visited[position]) != null ? _a : 0) > 0\n      });\n      visited[position] = ((_b = visited[position]) != null ? _b : 0) + 1;\n      clipSeries = clipSeries || newClipSeries;\n      this.positionAxis({\n        axis,\n        axisBound,\n        axisOffset,\n        axisThickness,\n        axisWidths,\n        primaryTickCounts,\n        seriesRect\n      });\n    });\n    return {\n      clipSeries,\n      seriesRect,\n      axisWidths: newAxisWidths,\n      visibility,\n      primaryTickCounts\n    };\n  }\n  buildCrossLinePadding(axisWidths) {\n    var _a;\n    const crossLinePadding = {};\n    this.axes.forEach(axis => {\n      if (axis.crossLines) {\n        axis.crossLines.forEach(crossLine => {\n          var _a2;\n          (_a2 = crossLine.calculatePadding) == null ? void 0 : _a2.call(crossLine, crossLinePadding);\n        });\n      }\n    });\n    for (const [side, padding = 0] of Object.entries(crossLinePadding)) {\n      crossLinePadding[side] = Math.max(padding - ((_a = axisWidths[side]) != null ? _a : 0), 0);\n    }\n    return crossLinePadding;\n  }\n  applySeriesPadding(bounds) {\n    const paddedRect = bounds.clone();\n    const reversedAxes = this.axes.slice().reverse();\n    directions.forEach(dir => {\n      const padding = this.seriesArea.padding[dir];\n      const axis = reversedAxes.find(a => a.position === dir);\n      if (axis) {\n        axis.seriesAreaPadding = padding;\n      } else {\n        paddedRect.shrink(padding, dir);\n      }\n    });\n    return paddedRect;\n  }\n  buildAxisBound(bounds, axisWidths, crossLinePadding, visibility) {\n    var _a, _b, _c, _d;\n    const result = bounds.clone();\n    const {\n      top = 0,\n      right = 0,\n      bottom = 0,\n      left = 0\n    } = crossLinePadding;\n    const horizontalPadding = left + right;\n    const verticalPadding = top + bottom;\n    const totalWidth = ((_a = axisWidths.left) != null ? _a : 0) + ((_b = axisWidths.right) != null ? _b : 0) + horizontalPadding;\n    const totalHeight = ((_c = axisWidths.top) != null ? _c : 0) + ((_d = axisWidths.bottom) != null ? _d : 0) + verticalPadding;\n    if (result.width <= totalWidth || result.height <= totalHeight) {\n      visibility.crossLines = false;\n      visibility.series = false;\n      return result;\n    }\n    result.x += left;\n    result.y += top;\n    result.width -= horizontalPadding;\n    result.height -= verticalPadding;\n    return result;\n  }\n  buildSeriesRect(axisBound, axisWidths) {\n    const result = axisBound.clone();\n    const {\n      top,\n      bottom,\n      left,\n      right\n    } = axisWidths;\n    result.x += left != null ? left : 0;\n    result.y += top != null ? top : 0;\n    result.width -= (left != null ? left : 0) + (right != null ? right : 0);\n    result.height -= (top != null ? top : 0) + (bottom != null ? bottom : 0);\n    result.width = Math.max(0, result.width);\n    result.height = Math.max(0, result.height);\n    return result;\n  }\n  clampToOutsideSeriesRect(seriesRect, value, dimension, direction) {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = seriesRect;\n    const clampBounds = [x, y, x + width, y + height];\n    const compareTo = clampBounds[(dimension === \"x\" ? 0 : 1) + (direction === 1 ? 0 : 2)];\n    const clampFn = direction === 1 ? Math.min : Math.max;\n    return clampFn(value, compareTo);\n  }\n  calculateAxisDimensions(opts) {\n    var _a, _b, _c, _d;\n    const {\n      axis,\n      seriesRect,\n      paddedBounds,\n      axisWidths,\n      newAxisWidths,\n      primaryTickCounts,\n      addInterAxisPadding\n    } = opts;\n    let {\n      clipSeries\n    } = opts;\n    const {\n      position = \"left\",\n      direction\n    } = axis;\n    const isCategory = axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis;\n    const isLeftRight = position === \"left\" || position === \"right\";\n    const axisOffset = (_a = newAxisWidths[position]) != null ? _a : 0;\n    const {\n      min,\n      max\n    } = this.ctx.zoomManager.getAxisZoom(axis.id);\n    if (isLeftRight) {\n      if (isCategory) {\n        axis.range = [0, seriesRect.height];\n        axis.visibleRange = [1 - max, 1 - min];\n      } else {\n        axis.range = [seriesRect.height, 0];\n        axis.visibleRange = [min, max];\n      }\n      axis.gridLength = seriesRect.width;\n    } else {\n      axis.range = [0, seriesRect.width];\n      axis.visibleRange = [min, max];\n      axis.gridLength = seriesRect.height;\n    }\n    let primaryTickCount = axis.nice ? primaryTickCounts[direction] : void 0;\n    const isVertical = direction === \"y\" /* Y */;\n    const paddedBoundsCoefficient = 0.3;\n    if (axis.thickness) {\n      axis.maxThickness = axis.thickness;\n    } else {\n      axis.maxThickness = (isVertical ? paddedBounds.width : paddedBounds.height) * paddedBoundsCoefficient;\n    }\n    const layout = axis.calculateLayout(primaryTickCount);\n    primaryTickCount = layout.primaryTickCount;\n    (_b = primaryTickCounts[direction]) != null ? _b : primaryTickCounts[direction] = primaryTickCount;\n    clipSeries || (clipSeries = axis.dataDomain.clipped || axis.visibleRange[0] > 0 || axis.visibleRange[1] < 1);\n    let axisThickness;\n    if (axis.thickness != null && axis.thickness > 0) {\n      axisThickness = axis.thickness;\n    } else {\n      const {\n        bbox\n      } = layout;\n      axisThickness = isVertical ? bbox.width : bbox.height;\n    }\n    const axisPadding = 15;\n    if (addInterAxisPadding) {\n      axisThickness += axisPadding;\n    }\n    axisThickness = Math.ceil(axisThickness);\n    newAxisWidths[position] = ((_c = newAxisWidths[position]) != null ? _c : 0) + axisThickness;\n    axis.gridPadding = ((_d = axisWidths[position]) != null ? _d : 0) - newAxisWidths[position];\n    return {\n      clipSeries,\n      axisThickness,\n      axisOffset,\n      primaryTickCount\n    };\n  }\n  positionAxis(opts) {\n    var _a, _b, _c, _d;\n    const {\n      axis,\n      axisBound,\n      axisWidths,\n      seriesRect,\n      axisOffset,\n      axisThickness\n    } = opts;\n    const {\n      position\n    } = axis;\n    switch (position) {\n      case \"top\":\n        axis.translation.x = axisBound.x + ((_a = axisWidths.left) != null ? _a : 0);\n        axis.translation.y = this.clampToOutsideSeriesRect(seriesRect, axisBound.y + 1 + axisOffset + axisThickness, \"y\", 1);\n        break;\n      case \"bottom\":\n        axis.translation.x = axisBound.x + ((_b = axisWidths.left) != null ? _b : 0);\n        axis.translation.y = this.clampToOutsideSeriesRect(seriesRect, axisBound.y + axisBound.height + 1 - axisThickness - axisOffset, \"y\", -1);\n        break;\n      case \"left\":\n        axis.translation.y = axisBound.y + ((_c = axisWidths.top) != null ? _c : 0);\n        axis.translation.x = this.clampToOutsideSeriesRect(seriesRect, axisBound.x + axisOffset + axisThickness, \"x\", 1);\n        break;\n      case \"right\":\n        axis.translation.y = axisBound.y + ((_d = axisWidths.top) != null ? _d : 0);\n        axis.translation.x = this.clampToOutsideSeriesRect(seriesRect, axisBound.x + axisBound.width - axisThickness - axisOffset, \"x\", -1);\n        break;\n    }\n    axis.updatePosition({\n      rotation: toRadians(axis.rotation),\n      sideFlag: axis.label.getSideFlag()\n    });\n  }\n  shouldFlipXY() {\n    return !this.series.some(series => !(series instanceof CartesianSeries && series.shouldFlipXY()));\n  }\n};\n_CartesianChart.className = \"CartesianChart\";\n_CartesianChart.type = \"cartesian\";\nvar CartesianChart = _CartesianChart;\n\n// packages/ag-charts-community/src/chart/chartProxy.ts\nvar _AgChartInstanceProxy = class _AgChartInstanceProxy {\n  static isInstance(x) {\n    var _a;\n    if (x instanceof _AgChartInstanceProxy) {\n      return true;\n    }\n    if (((_a = x.constructor) == null ? void 0 : _a.name) === \"AgChartInstanceProxy\" && x.chart != null) {\n      return true;\n    }\n    return x.chart != null && this.validateImplementation(x);\n  }\n  static validateImplementation(x) {\n    var _a;\n    const chartProps = [\"getOptions\", \"destroy\"];\n    const signatureProps = Object.keys((_a = Object.getPrototypeOf(x)) != null ? _a : {});\n    return chartProps.every(prop => signatureProps.includes(prop));\n  }\n  constructor(chart) {\n    this.chart = chart;\n  }\n  getOptions() {\n    return deepClone(this.chart.getOptions());\n  }\n  resetAnimations() {\n    this.chart.resetAnimations();\n  }\n  skipAnimations() {\n    this.chart.skipAnimations();\n  }\n  destroy() {\n    this.chart.destroy();\n  }\n};\n_AgChartInstanceProxy.chartInstances = /* @__PURE__ */new WeakMap();\n__decorateClass([ActionOnSet({\n  oldValue(chart) {\n    _AgChartInstanceProxy.chartInstances.delete(chart);\n  },\n  newValue(chart) {\n    _AgChartInstanceProxy.chartInstances.set(chart, this);\n  }\n})], _AgChartInstanceProxy.prototype, \"chart\", 2);\nvar AgChartInstanceProxy = _AgChartInstanceProxy;\n\n// packages/ag-charts-community/src/scale/linearScale.ts\nvar LinearScale = class extends ContinuousScale {\n  constructor() {\n    super([0, 1], [0, 1]);\n    this.type = \"number\";\n  }\n  toDomain(d) {\n    return d;\n  }\n  ticks() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    if (!this.domain || this.domain.length < 2 || count < 1 || this.domain.some(d => !isFinite(d))) {\n      return [];\n    }\n    this.refresh();\n    const [d0, d1] = this.getDomain();\n    const {\n      interval\n    } = this;\n    if (interval) {\n      const step = Math.abs(interval);\n      const availableRange = this.getPixelRange();\n      if (!isDenseInterval({\n        start: d0,\n        stop: d1,\n        interval: step,\n        availableRange\n      })) {\n        return range(d0, d1, step);\n      }\n    }\n    return ticks_default(d0, d1, count, this.minTickCount, this.maxTickCount);\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  getTickStep(start, stop) {\n    var _a, _b;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    return (_b = this.interval) != null ? _b : tickStep(start, stop, count, this.minTickCount, this.maxTickCount);\n  }\n  /**\n   * Extends the domain so that it starts and ends on nice round values.\n   */\n  updateNiceDomain() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    if (count < 1) {\n      this.niceDomain = [...this.domain];\n      return;\n    }\n    let [start, stop] = this.domain;\n    if (count === 1) {\n      [start, stop] = singleTickDomain(start, stop);\n    } else {\n      const roundStart = start > stop ? Math.ceil : Math.floor;\n      const roundStop = stop < start ? Math.floor : Math.ceil;\n      const maxAttempts = 4;\n      for (let i = 0; i < maxAttempts; i++) {\n        const prev0 = start;\n        const prev1 = stop;\n        const step = this.getTickStep(start, stop);\n        const [d0, d1] = this.domain;\n        if (step >= 1) {\n          start = roundStart(d0 / step) * step;\n          stop = roundStop(d1 / step) * step;\n        } else {\n          const s = 1 / step;\n          start = roundStart(d0 * s) / s;\n          stop = roundStop(d1 * s) / s;\n        }\n        if (start === prev0 && stop === prev1) {\n          break;\n        }\n      }\n    }\n    this.niceDomain = [start, stop];\n  }\n  tickFormat(_ref72) {\n    let {\n      ticks: specifiedTicks,\n      specifier\n    } = _ref72;\n    return tickFormat(specifiedTicks != null ? specifiedTicks : this.ticks(), specifier);\n  }\n};\n\n// packages/ag-charts-community/src/util/secondaryAxisTicks.ts\nfunction calculateNiceSecondaryAxis(domain, primaryTickCount, reverse) {\n  let [start, stop] = findMinMax(domain);\n  start = calculateNiceStart(Math.floor(start), stop, primaryTickCount);\n  const step = getTickStep(start, stop, primaryTickCount);\n  const segments = primaryTickCount - 1;\n  stop = start + segments * step;\n  const d = reverse ? [stop, start] : [start, stop];\n  const ticks = getTicks(start, step, primaryTickCount);\n  return [d, ticks];\n}\nfunction calculateNiceStart(a, b, count) {\n  const rawStep = Math.abs(b - a) / (count - 1);\n  const order = Math.floor(Math.log10(rawStep));\n  const magnitude = Math.pow(10, order);\n  return Math.floor(a / magnitude) * magnitude;\n}\nfunction getTicks(start, step, count) {\n  const stepPower = Math.floor(Math.log10(step));\n  const fractionDigits = step > 0 && step < 1 ? Math.abs(stepPower) : 0;\n  const f = Math.pow(10, fractionDigits);\n  const ticks = createNumericTicks(fractionDigits);\n  for (let i = 0; i < count; i++) {\n    const tick = start + step * i;\n    ticks[i] = Math.round(tick * f) / f;\n  }\n  return ticks;\n}\nfunction getTickStep(start, stop, count) {\n  const segments = count - 1;\n  const rawStep = (stop - start) / segments;\n  return calculateNextNiceStep(rawStep);\n}\nfunction calculateNextNiceStep(rawStep) {\n  const order = Math.floor(Math.log10(rawStep));\n  const magnitude = Math.pow(10, order);\n  const step = rawStep / magnitude * 10;\n  if (step > 0 && step <= 1) {\n    return magnitude / 10;\n  }\n  if (step > 1 && step <= 2) {\n    return 2 * magnitude / 10;\n  }\n  if (step > 1 && step <= 5) {\n    return 5 * magnitude / 10;\n  }\n  if (step > 5 && step <= 10) {\n    return 10 * magnitude / 10;\n  }\n  if (step > 10 && step <= 20) {\n    return 20 * magnitude / 10;\n  }\n  if (step > 20 && step <= 40) {\n    return 40 * magnitude / 10;\n  }\n  if (step > 40 && step <= 50) {\n    return 50 * magnitude / 10;\n  }\n  if (step > 50 && step <= 100) {\n    return 100 * magnitude / 10;\n  }\n  return step;\n}\n\n// packages/ag-charts-community/src/chart/axis/numberAxis.ts\nvar NumberAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n    this.maxSpacing = NaN;\n  }\n};\n__decorateClass([Validate(MIN_SPACING), Default(NaN)], NumberAxisTick.prototype, \"minSpacing\", 2);\n__decorateClass([Validate(MAX_SPACING), Default(NaN)], NumberAxisTick.prototype, \"maxSpacing\", 2);\nvar NumberAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    let scale2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new LinearScale();\n    super(moduleCtx, scale2);\n    this.min = NaN;\n    this.max = NaN;\n  }\n  normaliseDataDomain(d) {\n    const {\n      min,\n      max\n    } = this;\n    const {\n      extent: extent2,\n      clipped\n    } = normalisedExtentWithMetadata(d, min, max);\n    return {\n      domain: extent2,\n      clipped\n    };\n  }\n  createTick() {\n    return new NumberAxisTick();\n  }\n  updateSecondaryAxisTicks(primaryTickCount) {\n    if (this.dataDomain == null) {\n      throw new Error(\"AG Charts - dataDomain not calculated, cannot perform tick calculation.\");\n    }\n    if (this.dataDomain.domain.length === 0) return [];\n    const [d, ticks] = calculateNiceSecondaryAxis(this.dataDomain.domain, primaryTickCount != null ? primaryTickCount : 0, this.reverse);\n    this.scale.nice = false;\n    this.scale.domain = d;\n    this.scale.update();\n    return ticks;\n  }\n  formatDatum(datum) {\n    if (typeof datum === \"number\") {\n      return datum.toFixed(2);\n    } else {\n      return String(datum);\n    }\n  }\n};\nNumberAxis.className = \"NumberAxis\";\nNumberAxis.type = \"number\";\n__decorateClass([Validate(AND(NUMBER_OR_NAN, LESS_THAN(\"max\"))), Default(NaN)], NumberAxis.prototype, \"min\", 2);\n__decorateClass([Validate(AND(NUMBER_OR_NAN, GREATER_THAN(\"min\"))), Default(NaN)], NumberAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/axis/logAxis.ts\nvar NON_ZERO_NUMBER = predicateWithMessage(value => isNumber(value) && value !== 0, \"a non-zero number\");\nvar LogAxis = class extends NumberAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new LogScale());\n    this.min = NaN;\n    this.max = NaN;\n  }\n  normaliseDataDomain(d) {\n    const {\n      min,\n      max\n    } = this;\n    const {\n      extent: extent2,\n      clipped\n    } = normalisedExtentWithMetadata(d, min, max);\n    const isInverted = extent2[0] > extent2[1];\n    const crossesZero = extent2[0] < 0 && extent2[1] > 0;\n    const hasZeroExtent = extent2[0] === 0 && extent2[1] === 0;\n    const invalidDomain = isInverted || crossesZero || hasZeroExtent;\n    if (invalidDomain) {\n      if (crossesZero) {\n        Logger.warn(\"the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information.\");\n      } else if (hasZeroExtent) {\n        Logger.warn(\"the data domain has 0 extent, no data is rendered.\");\n      }\n    }\n    if (extent2[0] === 0) {\n      extent2[0] = 1;\n    }\n    if (extent2[1] === 0) {\n      extent2[1] = -1;\n    }\n    return {\n      domain: extent2,\n      clipped\n    };\n  }\n  set base(value) {\n    this.scale.base = value;\n  }\n  get base() {\n    return this.scale.base;\n  }\n};\nLogAxis.className = \"LogAxis\";\nLogAxis.type = \"log\";\n__decorateClass([Validate(AND(NUMBER_OR_NAN, NON_ZERO_NUMBER, LESS_THAN(\"max\"))), Default(NaN)], LogAxis.prototype, \"min\", 2);\n__decorateClass([Validate(AND(NUMBER_OR_NAN, NON_ZERO_NUMBER, GREATER_THAN(\"min\"))), Default(NaN)], LogAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/axis/timeAxis.ts\nvar TimeAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n    this.maxSpacing = NaN;\n  }\n};\n__decorateClass([Validate(MIN_SPACING), Default(NaN)], TimeAxisTick.prototype, \"minSpacing\", 2);\n__decorateClass([Validate(MAX_SPACING), Default(NaN)], TimeAxisTick.prototype, \"maxSpacing\", 2);\nvar TimeAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new TimeScale());\n    this.min = void 0;\n    this.max = void 0;\n    this.refreshScale();\n  }\n  normaliseDataDomain(d) {\n    var _a;\n    let {\n      min,\n      max\n    } = this;\n    let clipped = false;\n    if (typeof min === \"number\") {\n      min = new Date(min);\n    }\n    if (typeof max === \"number\") {\n      max = new Date(max);\n    }\n    if (d.length > 2) {\n      d = ((_a = extent(d)) != null ? _a : [0, 1e3]).map(x => new Date(x));\n    }\n    if (min instanceof Date) {\n      clipped || (clipped = min > d[0]);\n      d = [min, d[1]];\n    }\n    if (max instanceof Date) {\n      clipped || (clipped = max < d[1]);\n      d = [d[0], max];\n    }\n    if (d[0] > d[1]) {\n      d = [];\n    }\n    return {\n      domain: d,\n      clipped\n    };\n  }\n  createTick() {\n    return new TimeAxisTick();\n  }\n  onLabelFormatChange(ticks, domain, format2) {\n    if (format2) {\n      super.onLabelFormatChange(ticks, domain, format2);\n    } else {\n      this.labelFormatter = this.scale.tickFormat({\n        ticks,\n        domain\n      });\n    }\n  }\n  calculatePadding() {\n    return [0, 0];\n  }\n  formatDatum(datum) {\n    var _a;\n    const formatter = this.scale.tickFormat({\n      specifier: \"%m/%d/%y, %H:%M:%S\"\n    });\n    return (_a = this.moduleCtx.callbackCache.call(formatter, datum)) != null ? _a : String(datum);\n  }\n};\nTimeAxis.className = \"TimeAxis\";\nTimeAxis.type = \"time\";\n__decorateClass([Validate(AND(DATE_OR_DATETIME_MS, LESS_THAN(\"max\")), {\n  optional: true\n})], TimeAxis.prototype, \"min\", 2);\n__decorateClass([Validate(AND(DATE_OR_DATETIME_MS, GREATER_THAN(\"min\")), {\n  optional: true\n})], TimeAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/scene/shape/rect.ts\nvar epsilon = 1e-6;\nvar cornerEdges = (leadingEdge, trailingEdge, leadingInset, trailingInset, cornerRadius) => {\n  let leadingClipped = false;\n  let trailingClipped = false;\n  let leading0 = trailingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(leadingInset, 2), 0));\n  let leading1 = 0;\n  let trailing0 = 0;\n  let trailing1 = leadingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(trailingInset, 2), 0));\n  if (leading0 > leadingEdge) {\n    leadingClipped = true;\n    leading0 = leadingEdge;\n    leading1 = leadingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(trailingInset - leadingEdge, 2)));\n  } else if (leading0 < epsilon) {\n    leading0 = 0;\n  }\n  if (trailing1 > trailingEdge) {\n    trailingClipped = true;\n    trailing0 = trailingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(leadingInset - trailingEdge, 2)));\n    trailing1 = trailingEdge;\n  } else if (trailing1 < epsilon) {\n    trailing1 = 0;\n  }\n  return {\n    leading0,\n    leading1,\n    trailing0,\n    trailing1,\n    leadingClipped,\n    trailingClipped\n  };\n};\nvar drawCorner = (path, _ref73, cornerRadius, move) => {\n  let {\n    x0,\n    y0,\n    x1,\n    y1,\n    cx,\n    cy\n  } = _ref73;\n  if (move) {\n    path.moveTo(x0, y0);\n  }\n  if (x0 !== x1 || y0 !== y1) {\n    const r0 = Math.atan2(y0 - cy, x0 - cx);\n    const r1 = Math.atan2(y1 - cy, x1 - cx);\n    path.arc(cx, cy, cornerRadius, r0, r1);\n  } else {\n    path.lineTo(x0, y0);\n  }\n};\nvar insetCornerRadiusRect = (path, x, y, width, height, cornerRadii, clipBBox) => {\n  let {\n    topLeft: topLeftCornerRadius,\n    topRight: topRightCornerRadius,\n    bottomRight: bottomRightCornerRadius,\n    bottomLeft: bottomLeftCornerRadius\n  } = cornerRadii;\n  const maxVerticalCornerRadius = Math.max(topLeftCornerRadius + bottomLeftCornerRadius, topRightCornerRadius + bottomRightCornerRadius);\n  const maxHorizontalCornerRadius = Math.max(topLeftCornerRadius + topRightCornerRadius, bottomLeftCornerRadius + bottomRightCornerRadius);\n  if (maxVerticalCornerRadius <= 0 && maxHorizontalCornerRadius <= 0) {\n    if (clipBBox == null) {\n      path.rect(x, y, width, height);\n    } else {\n      path.rect(clipBBox.x, clipBBox.y, clipBBox.width, clipBBox.height);\n    }\n    return;\n  } else if (clipBBox == null && topLeftCornerRadius === topRightCornerRadius && topLeftCornerRadius === bottomRightCornerRadius && topLeftCornerRadius === bottomLeftCornerRadius) {\n    path.roundRect(x, y, width, height, topLeftCornerRadius);\n    return;\n  }\n  if (width < 0) {\n    x += width;\n    width = Math.abs(width);\n  }\n  if (height < 0) {\n    y += height;\n    height = Math.abs(height);\n  }\n  if (width <= 0 || height <= 0) return;\n  if (clipBBox == null) {\n    clipBBox = new BBox(x, y, width, height);\n  } else {\n    const x0 = Math.max(x, clipBBox.x);\n    const x1 = Math.min(x + width, clipBBox.x + clipBBox.width);\n    const y0 = Math.max(y, clipBBox.y);\n    const y1 = Math.min(y + height, clipBBox.y + clipBBox.height);\n    clipBBox = new BBox(x0, y0, x1 - x0, y1 - y0);\n  }\n  const borderScale = Math.max(maxVerticalCornerRadius / height, maxHorizontalCornerRadius / width, 1);\n  if (borderScale > 1) {\n    topLeftCornerRadius /= borderScale;\n    topRightCornerRadius /= borderScale;\n    bottomRightCornerRadius /= borderScale;\n    bottomLeftCornerRadius /= borderScale;\n  }\n  let drawTopLeftCorner = true;\n  let drawTopRightCorner = true;\n  let drawBottomRightCorner = true;\n  let drawBottomLeftCorner = true;\n  let topLeftCorner;\n  let topRightCorner;\n  let bottomRightCorner;\n  let bottomLeftCorner;\n  if (drawTopLeftCorner) {\n    const nodes = cornerEdges(clipBBox.height, clipBBox.width, Math.max(x + topLeftCornerRadius - clipBBox.x, 0), Math.max(y + topLeftCornerRadius - clipBBox.y, 0), topLeftCornerRadius);\n    if (nodes.leadingClipped) drawBottomLeftCorner = false;\n    if (nodes.trailingClipped) drawTopRightCorner = false;\n    const x0 = Math.max(clipBBox.x + nodes.leading1, clipBBox.x);\n    const y0 = Math.max(clipBBox.y + nodes.leading0, clipBBox.y);\n    const x1 = Math.max(clipBBox.x + nodes.trailing1, clipBBox.x);\n    const y1 = Math.max(clipBBox.y + nodes.trailing0, clipBBox.y);\n    const cx = x + topLeftCornerRadius;\n    const cy = y + topLeftCornerRadius;\n    topLeftCorner = {\n      x0,\n      y0,\n      x1,\n      y1,\n      cx,\n      cy\n    };\n  }\n  if (drawTopRightCorner) {\n    const nodes = cornerEdges(clipBBox.width, clipBBox.height, Math.max(y + topRightCornerRadius - clipBBox.y, 0), Math.max(clipBBox.x + clipBBox.width - (x + width - topRightCornerRadius), 0), topRightCornerRadius);\n    if (nodes.leadingClipped) drawTopLeftCorner = false;\n    if (nodes.trailingClipped) drawBottomRightCorner = false;\n    const x0 = Math.min(clipBBox.x + clipBBox.width - nodes.leading0, clipBBox.x + clipBBox.width);\n    const y0 = Math.max(clipBBox.y + nodes.leading1, clipBBox.y);\n    const x1 = Math.min(clipBBox.x + clipBBox.width - nodes.trailing0, clipBBox.x + clipBBox.width);\n    const y1 = Math.max(clipBBox.y + nodes.trailing1, clipBBox.y);\n    const cx = x + width - topRightCornerRadius;\n    const cy = y + topRightCornerRadius;\n    topRightCorner = {\n      x0,\n      y0,\n      x1,\n      y1,\n      cx,\n      cy\n    };\n  }\n  if (drawBottomRightCorner) {\n    const nodes = cornerEdges(clipBBox.height, clipBBox.width, Math.max(clipBBox.x + clipBBox.width - (x + width - bottomRightCornerRadius), 0), Math.max(clipBBox.y + clipBBox.height - (y + height - bottomRightCornerRadius), 0), bottomRightCornerRadius);\n    if (nodes.leadingClipped) drawTopRightCorner = false;\n    if (nodes.trailingClipped) drawBottomLeftCorner = false;\n    const x0 = Math.min(clipBBox.x + clipBBox.width - nodes.leading1, clipBBox.x + clipBBox.width);\n    const y0 = Math.min(clipBBox.y + clipBBox.height - nodes.leading0, clipBBox.y + clipBBox.height);\n    const x1 = Math.min(clipBBox.x + clipBBox.width - nodes.trailing1, clipBBox.x + clipBBox.width);\n    const y1 = Math.min(clipBBox.y + clipBBox.height - nodes.trailing0, clipBBox.y + clipBBox.height);\n    const cx = x + width - bottomRightCornerRadius;\n    const cy = y + height - bottomRightCornerRadius;\n    bottomRightCorner = {\n      x0,\n      y0,\n      x1,\n      y1,\n      cx,\n      cy\n    };\n  }\n  if (drawBottomLeftCorner) {\n    const nodes = cornerEdges(clipBBox.width, clipBBox.height, Math.max(clipBBox.y + clipBBox.height - (y + height - bottomLeftCornerRadius), 0), Math.max(x + bottomLeftCornerRadius - clipBBox.x, 0), bottomLeftCornerRadius);\n    if (nodes.leadingClipped) drawBottomRightCorner = false;\n    if (nodes.trailingClipped) drawTopLeftCorner = false;\n    const x0 = Math.max(clipBBox.x + nodes.leading0, clipBBox.x);\n    const y0 = Math.min(clipBBox.y + clipBBox.height - nodes.leading1, clipBBox.y + clipBBox.height);\n    const x1 = Math.max(clipBBox.x + nodes.trailing0, clipBBox.x);\n    const y1 = Math.min(clipBBox.y + clipBBox.height - nodes.trailing1, clipBBox.y + clipBBox.height);\n    const cx = x + bottomLeftCornerRadius;\n    const cy = y + height - bottomLeftCornerRadius;\n    bottomLeftCorner = {\n      x0,\n      y0,\n      x1,\n      y1,\n      cx,\n      cy\n    };\n  }\n  let didMove = false;\n  if (drawTopLeftCorner && topLeftCorner != null) {\n    drawCorner(path, topLeftCorner, topLeftCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawTopRightCorner && topRightCorner != null) {\n    drawCorner(path, topRightCorner, topRightCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawBottomRightCorner && bottomRightCorner != null) {\n    drawCorner(path, bottomRightCorner, bottomRightCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawBottomLeftCorner && bottomLeftCorner != null) {\n    drawCorner(path, bottomLeftCorner, bottomLeftCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  path.closePath();\n};\nvar Rect = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.borderPath = new ExtendedPath2D();\n    this.x = 0;\n    this.y = 0;\n    this.width = 10;\n    this.height = 10;\n    this.topLeftCornerRadius = 0;\n    this.topRightCornerRadius = 0;\n    this.bottomRightCornerRadius = 0;\n    this.bottomLeftCornerRadius = 0;\n    this.clipBBox = void 0;\n    this.crisp = false;\n    this.lastUpdatePathStrokeWidth = Shape.defaultStyles.strokeWidth;\n    this.effectiveStrokeWidth = Shape.defaultStyles.strokeWidth;\n    this.hittester = super.isPointInPath;\n    this.distanceCalculator = super.distanceSquared;\n    /**\n     * When the rectangle's width or height is less than a pixel\n     * and crisp mode is on, the rectangle will still fit into the pixel,\n     * but will be less opaque to make an effect of holding less space.\n     */\n    this.microPixelEffectOpacity = 1;\n  }\n  set cornerRadius(cornerRadius) {\n    this.topLeftCornerRadius = cornerRadius;\n    this.topRightCornerRadius = cornerRadius;\n    this.bottomRightCornerRadius = cornerRadius;\n    this.bottomLeftCornerRadius = cornerRadius;\n  }\n  isDirtyPath() {\n    return this.lastUpdatePathStrokeWidth !== this.strokeWidth || Boolean(this.path.isDirty() || this.borderPath.isDirty());\n  }\n  updatePath() {\n    var _a, _b, _c;\n    const {\n      path,\n      borderPath,\n      crisp,\n      topLeftCornerRadius: topLeft,\n      topRightCornerRadius: topRight,\n      bottomRightCornerRadius: bottomRight,\n      bottomLeftCornerRadius: bottomLeft\n    } = this;\n    let {\n      x,\n      y,\n      width: w,\n      height: h,\n      strokeWidth,\n      clipBBox\n    } = this;\n    const pixelRatio = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas.pixelRatio) != null ? _b : 1;\n    const pixelSize = 1 / pixelRatio;\n    let microPixelEffectOpacity = 1;\n    path.clear(true);\n    borderPath.clear(true);\n    if (crisp) {\n      if (w <= pixelSize) {\n        microPixelEffectOpacity *= w / pixelSize;\n      }\n      if (h <= pixelSize) {\n        microPixelEffectOpacity *= h / pixelSize;\n      }\n      w = this.align(x, w);\n      h = this.align(y, h);\n      x = this.align(x);\n      y = this.align(y);\n      clipBBox = clipBBox != null ? new BBox(this.align(clipBBox.x), this.align(clipBBox.y), this.align(clipBBox.x, clipBBox.width), this.align(clipBBox.y, clipBBox.height)) : void 0;\n    }\n    if (strokeWidth) {\n      if (w < pixelSize) {\n        const lx = x + pixelSize / 2;\n        borderPath.moveTo(lx, y);\n        borderPath.lineTo(lx, y + h);\n        strokeWidth = pixelSize;\n        this.borderClipPath = void 0;\n      } else if (h < pixelSize) {\n        const ly = y + pixelSize / 2;\n        borderPath.moveTo(x, ly);\n        borderPath.lineTo(x + w, ly);\n        strokeWidth = pixelSize;\n        this.borderClipPath = void 0;\n      } else if (strokeWidth < w && strokeWidth < h) {\n        const halfStrokeWidth = strokeWidth / 2;\n        x += halfStrokeWidth;\n        y += halfStrokeWidth;\n        w -= strokeWidth;\n        h -= strokeWidth;\n        const adjustedClipBBox = clipBBox == null ? void 0 : clipBBox.clone().shrink(halfStrokeWidth);\n        const cornerRadii = {\n          topLeft: topLeft > 0 ? topLeft - strokeWidth : 0,\n          topRight: topRight > 0 ? topRight - strokeWidth : 0,\n          bottomRight: bottomRight > 0 ? bottomRight - strokeWidth : 0,\n          bottomLeft: bottomLeft > 0 ? bottomLeft - strokeWidth : 0\n        };\n        this.borderClipPath = void 0;\n        if (w > 0 && h > 0 && (adjustedClipBBox == null || (adjustedClipBBox == null ? void 0 : adjustedClipBBox.width) > 0 && (adjustedClipBBox == null ? void 0 : adjustedClipBBox.height) > 0)) {\n          insetCornerRadiusRect(path, x, y, w, h, cornerRadii, adjustedClipBBox);\n          insetCornerRadiusRect(borderPath, x, y, w, h, cornerRadii, adjustedClipBBox);\n        }\n      } else {\n        this.borderClipPath = (_c = this.borderClipPath) != null ? _c : new ExtendedPath2D();\n        this.borderClipPath.clear(true);\n        this.borderClipPath.rect(x, y, w, h);\n        borderPath.rect(x, y, w, h);\n      }\n    } else {\n      const cornerRadii = {\n        topLeft,\n        topRight,\n        bottomRight,\n        bottomLeft\n      };\n      this.borderClipPath = void 0;\n      insetCornerRadiusRect(path, x, y, w, h, cornerRadii, clipBBox);\n    }\n    if ([topLeft, topRight, bottomRight, bottomLeft].every(r => r === 0)) {\n      this.hittester = (hitX, hitY) => {\n        const point = this.transformPoint(hitX, hitY);\n        return this.getCachedBBox().containsPoint(point.x, point.y);\n      };\n      this.distanceSquared = (hitX, hitY) => this.getCachedBBox().distanceSquared(hitX, hitY);\n    } else {\n      this.hittester = super.isPointInPath;\n      this.distanceCalculator = super.distanceSquared;\n    }\n    this.effectiveStrokeWidth = strokeWidth;\n    this.lastUpdatePathStrokeWidth = strokeWidth;\n    this.microPixelEffectOpacity = microPixelEffectOpacity;\n  }\n  computeBBox() {\n    var _a;\n    const {\n      x,\n      y,\n      width,\n      height,\n      clipBBox\n    } = this;\n    return (_a = clipBBox == null ? void 0 : clipBBox.clone()) != null ? _a : new BBox(x, y, width, height);\n  }\n  isPointInPath(x, y) {\n    return this.hittester(x, y);\n  }\n  get midPoint() {\n    return {\n      x: this.x + this.width / 2,\n      y: this.y + this.height / 2\n    };\n  }\n  distanceSquared(x, y) {\n    return this.distanceCalculator(x, y);\n  }\n  applyFillAlpha(ctx) {\n    const {\n      fillOpacity,\n      microPixelEffectOpacity,\n      opacity\n    } = this;\n    ctx.globalAlpha *= opacity * fillOpacity * microPixelEffectOpacity;\n  }\n  renderStroke(ctx) {\n    const {\n      stroke,\n      effectiveStrokeWidth\n    } = this;\n    if (stroke && effectiveStrokeWidth) {\n      const {\n        globalAlpha\n      } = ctx;\n      const {\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        lineCap,\n        lineJoin,\n        borderPath,\n        borderClipPath,\n        opacity,\n        microPixelEffectOpacity\n      } = this;\n      if (borderClipPath) {\n        ctx.clip(borderClipPath.getPath2D());\n      }\n      ctx.strokeStyle = stroke;\n      ctx.globalAlpha *= opacity * strokeOpacity * microPixelEffectOpacity;\n      ctx.lineWidth = effectiveStrokeWidth;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      ctx.stroke(borderPath.getPath2D());\n      ctx.globalAlpha = globalAlpha;\n    }\n  }\n};\nRect.className = \"Rect\";\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"x\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"y\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"width\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"height\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"topLeftCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"topRightCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"bottomRightCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"bottomLeftCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"clipBBox\", 2);\n__decorateClass([ScenePathChangeDetection()], Rect.prototype, \"crisp\", 2);\n\n// packages/ag-charts-community/src/chart/background/background.ts\nvar Background = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.node = new Group({\n      name: \"background\",\n      zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */\n    });\n    this.rectNode = new Rect();\n    this.visible = true;\n    this.fill = \"white\";\n    this.node.appendChild(this.rectNode);\n    this.destroyFns.push(ctx.scene.attachNode(this.node), ctx.layoutService.addListener(\"layout-complete\", e => this.onLayoutComplete(e)));\n  }\n  onLayoutComplete(e) {\n    const {\n      width,\n      height\n    } = e.chart;\n    this.rectNode.width = width;\n    this.rectNode.height = height;\n  }\n};\n__decorateClass([Validate(BOOLEAN), ProxyPropertyOnWrite(\"node\", \"visible\")], Background.prototype, \"visible\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n}), ProxyPropertyOnWrite(\"rectNode\", \"fill\")], Background.prototype, \"fill\", 2);\n__decorateClass([Validate(OBJECT, {\n  optional: true\n})], Background.prototype, \"image\", 2);\n\n// packages/ag-charts-community/src/chart/background/backgroundModule.ts\nvar BackgroundModule = {\n  type: \"root\",\n  optionsKey: \"background\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  instanceConstructor: Background\n};\n\n// packages/ag-charts-community/src/chart/gridLayout.ts\nfunction gridLayout(_ref74) {\n  let {\n    orientation,\n    bboxes,\n    maxHeight,\n    maxWidth,\n    itemPaddingY = 0,\n    itemPaddingX = 0,\n    forceResult = false\n  } = _ref74;\n  const horizontal = orientation === \"horizontal\";\n  const primary = {\n    max: horizontal ? maxWidth : maxHeight,\n    fn: horizontal ? b => b.width : b => b.height,\n    padding: horizontal ? itemPaddingX : itemPaddingY\n  };\n  const secondary = {\n    max: horizontal ? maxHeight : maxWidth,\n    fn: horizontal ? b => b.height : b => b.width,\n    padding: horizontal ? itemPaddingY : itemPaddingX\n  };\n  let processedBBoxCount = 0;\n  const rawPages = [];\n  while (processedBBoxCount < bboxes.length) {\n    const unprocessedBBoxes = bboxes.slice(processedBBoxCount);\n    const result = processBBoxes(unprocessedBBoxes, processedBBoxCount, primary, secondary, forceResult);\n    if (!result) {\n      return;\n    }\n    processedBBoxCount += result.processedBBoxCount;\n    rawPages.push(result.pageIndices);\n  }\n  return buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX);\n}\nfunction processBBoxes(bboxes, indexOffset, primary, secondary, forceResult) {\n  const minGuess = 1;\n  let startingGuess = estimateStartingGuess(bboxes, primary);\n  if (startingGuess < minGuess) {\n    if (!forceResult) {\n      return;\n    }\n    startingGuess = minGuess;\n  }\n  let guess = startingGuess;\n  while (guess >= minGuess) {\n    const pageIndices = calculatePage(bboxes, indexOffset, guess, primary, secondary, forceResult);\n    if (pageIndices == null && guess <= minGuess) {\n      return;\n    }\n    if (pageIndices == null) {\n      guess--;\n      continue;\n    }\n    if (typeof pageIndices === \"number\") {\n      if (pageIndices <= minGuess) {\n        return;\n      }\n      guess = pageIndices < guess && pageIndices > minGuess ? pageIndices : guess;\n      guess--;\n      continue;\n    }\n    const processedBBoxCount = pageIndices.length * pageIndices[0].length;\n    return {\n      processedBBoxCount,\n      pageIndices\n    };\n  }\n}\nfunction calculatePage(bboxes, indexOffset, primaryCount, primary, secondary, forceResult) {\n  var _a;\n  const result = [];\n  let sumSecondary = 0;\n  let currentMaxSecondary = 0;\n  let currentPrimaryIndices = [];\n  const maxPrimaryValues = [];\n  for (let bboxIndex = 0; bboxIndex < bboxes.length; bboxIndex++) {\n    const primaryValueIdx = (bboxIndex + primaryCount) % primaryCount;\n    if (primaryValueIdx === 0) {\n      sumSecondary += currentMaxSecondary;\n      currentMaxSecondary = 0;\n      if (currentPrimaryIndices.length > 0) {\n        result.push(currentPrimaryIndices);\n      }\n      currentPrimaryIndices = [];\n    }\n    const primaryValue = primary.fn(bboxes[bboxIndex]) + primary.padding;\n    maxPrimaryValues[primaryValueIdx] = Math.max((_a = maxPrimaryValues[primaryValueIdx]) != null ? _a : 0, primaryValue);\n    currentMaxSecondary = Math.max(currentMaxSecondary, secondary.fn(bboxes[bboxIndex]) + secondary.padding);\n    const currentSecondaryDimension = sumSecondary + currentMaxSecondary;\n    const returnResult = !forceResult || result.length > 0;\n    if (currentSecondaryDimension > secondary.max && returnResult) {\n      currentPrimaryIndices = [];\n      break;\n    }\n    const sumPrimary = maxPrimaryValues.reduce((sum2, next) => sum2 + next, 0);\n    if (sumPrimary > primary.max && !forceResult) {\n      if (maxPrimaryValues.length < primaryCount) {\n        return maxPrimaryValues.length;\n      }\n      return;\n    }\n    currentPrimaryIndices.push(bboxIndex + indexOffset);\n  }\n  if (currentPrimaryIndices.length > 0) {\n    result.push(currentPrimaryIndices);\n  }\n  return result.length > 0 ? result : void 0;\n}\nfunction buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX) {\n  let maxPageWidth = 0;\n  let maxPageHeight = 0;\n  const pages = rawPages.map(indices => {\n    if (orientation === \"horizontal\") {\n      indices = transpose(indices);\n    }\n    let endIndex = 0;\n    const columns = indices.map(colIndices => {\n      const colBBoxes = colIndices.map(bboxIndex => {\n        endIndex = Math.max(bboxIndex, endIndex);\n        return bboxes[bboxIndex];\n      });\n      let columnHeight = 0;\n      let columnWidth = 0;\n      colBBoxes.forEach(bbox => {\n        columnHeight += bbox.height + itemPaddingY;\n        columnWidth = Math.max(columnWidth, bbox.width + itemPaddingX);\n      });\n      return {\n        indices: colIndices,\n        bboxes: colBBoxes,\n        columnHeight: Math.ceil(columnHeight),\n        columnWidth: Math.ceil(columnWidth)\n      };\n    });\n    let pageWidth = 0;\n    let pageHeight = 0;\n    columns.forEach(column => {\n      pageWidth += column.columnWidth;\n      pageHeight = Math.max(pageHeight, column.columnHeight);\n    });\n    maxPageWidth = Math.max(pageWidth, maxPageWidth);\n    maxPageHeight = Math.max(pageHeight, maxPageHeight);\n    return {\n      columns,\n      startIndex: indices[0][0],\n      endIndex,\n      pageWidth,\n      pageHeight\n    };\n  });\n  return {\n    pages,\n    maxPageWidth,\n    maxPageHeight\n  };\n}\nfunction transpose(data) {\n  const result = [];\n  for (const _ of data[0]) {\n    result.push([]);\n  }\n  data.forEach((innerData, dataIdx) => {\n    innerData.forEach((item, itemIdx) => {\n      result[itemIdx][dataIdx] = item;\n    });\n  });\n  return result;\n}\nfunction estimateStartingGuess(bboxes, primary) {\n  const n = bboxes.length;\n  let primarySum = 0;\n  for (let bboxIndex = 0; bboxIndex < n; bboxIndex++) {\n    primarySum += primary.fn(bboxes[bboxIndex]) + primary.padding;\n    if (primarySum > primary.max) {\n      const ratio = n / bboxIndex;\n      if (ratio < 2) {\n        return Math.ceil(n / 2);\n      }\n      return bboxIndex;\n    }\n  }\n  return n;\n}\n\n// packages/ag-charts-community/src/chart/markerLabel.ts\nvar MarkerLabel = class extends Group {\n  constructor() {\n    super({\n      name: \"markerLabelGroup\"\n    });\n    this.label = new Text();\n    this.line = new Line();\n    this._marker = new Square();\n    this._markerSize = 15;\n    this._spacing = 8;\n    const {\n      marker,\n      label,\n      line\n    } = this;\n    label.textBaseline = \"middle\";\n    label.fontSize = 12;\n    label.fontFamily = \"Verdana, sans-serif\";\n    label.fill = \"black\";\n    label.y = 1;\n    this.append([line, marker, label]);\n    this.update();\n  }\n  set marker(value) {\n    if (this._marker !== value) {\n      this.removeChild(this._marker);\n      this._marker = value;\n      this.appendChild(value);\n      this.update();\n    }\n  }\n  get marker() {\n    return this._marker;\n  }\n  set markerSize(value) {\n    if (this._markerSize !== value) {\n      this._markerSize = value;\n      this.update();\n    }\n  }\n  get markerSize() {\n    return this._markerSize;\n  }\n  set spacing(value) {\n    if (this._spacing !== value) {\n      this._spacing = value;\n      this.update();\n    }\n  }\n  get spacing() {\n    return this._spacing;\n  }\n  setSeriesStrokeOffset(xOff) {\n    const offset4 = this.marker.size / 2 + xOff;\n    this.line.x1 = -offset4;\n    this.line.x2 = offset4;\n    this.line.y1 = 0;\n    this.line.y2 = 0;\n    this.line.markDirtyTransform();\n    this.update();\n  }\n  update() {\n    const {\n      markerSize\n    } = this;\n    const center = this.marker.constructor.center;\n    this.marker.size = markerSize;\n    this.marker.x = (center.x - 0.5) * markerSize;\n    this.marker.y = (center.y - 0.5) * markerSize;\n    const lineEnd = this.line.visible ? this.line.x2 : -Infinity;\n    const markerEnd = markerSize / 2;\n    this.label.x = Math.max(lineEnd, markerEnd) + this.spacing;\n  }\n  render(renderCtx) {\n    this.marker.opacity = this.opacity;\n    this.label.opacity = this.opacity;\n    this.line.opacity = this.opacity;\n    super.render(renderCtx);\n  }\n};\nMarkerLabel.className = \"MarkerLabel\";\n__decorateClass([ProxyPropertyOnWrite(\"label\")], MarkerLabel.prototype, \"text\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"label\")], MarkerLabel.prototype, \"fontStyle\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"label\")], MarkerLabel.prototype, \"fontWeight\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"label\")], MarkerLabel.prototype, \"fontSize\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"label\")], MarkerLabel.prototype, \"fontFamily\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"label\", \"fill\")], MarkerLabel.prototype, \"color\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"fill\")], MarkerLabel.prototype, \"markerFill\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"stroke\")], MarkerLabel.prototype, \"markerStroke\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"strokeWidth\")], MarkerLabel.prototype, \"markerStrokeWidth\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"fillOpacity\")], MarkerLabel.prototype, \"markerFillOpacity\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"strokeOpacity\")], MarkerLabel.prototype, \"markerStrokeOpacity\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"marker\", \"visible\")], MarkerLabel.prototype, \"markerVisible\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"line\", \"stroke\")], MarkerLabel.prototype, \"lineStroke\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"line\", \"strokeWidth\")], MarkerLabel.prototype, \"lineStrokeWidth\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"line\", \"strokeOpacity\")], MarkerLabel.prototype, \"lineStrokeOpacity\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"line\", \"lineDash\")], MarkerLabel.prototype, \"lineLineDash\", 2);\n__decorateClass([ProxyPropertyOnWrite(\"line\", \"visible\")], MarkerLabel.prototype, \"lineVisible\", 2);\n\n// packages/ag-charts-community/src/chart/pagination/pagination.ts\nvar PaginationLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.color = \"black\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n  }\n};\n__decorateClass([Validate(COLOR_STRING)], PaginationLabel.prototype, \"color\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], PaginationLabel.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], PaginationLabel.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PaginationLabel.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], PaginationLabel.prototype, \"fontFamily\", 2);\nvar PaginationMarkerStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.size = 15;\n    this.fill = void 0;\n    this.fillOpacity = void 0;\n    this.stroke = void 0;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER)], PaginationMarkerStyle.prototype, \"size\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], PaginationMarkerStyle.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], PaginationMarkerStyle.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], PaginationMarkerStyle.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PaginationMarkerStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO)], PaginationMarkerStyle.prototype, \"strokeOpacity\", 2);\nvar PaginationMarker = class extends BaseProperties {\n  constructor(parent) {\n    super();\n    this.parent = parent;\n    this.shape = Triangle;\n    this.size = 15;\n    this.padding = 8;\n  }\n};\n__decorateClass([ActionOnSet({\n  changeValue() {\n    if (this.parent.marker === this) {\n      this.parent.onMarkerShapeChange();\n    }\n  }\n})], PaginationMarker.prototype, \"shape\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PaginationMarker.prototype, \"size\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PaginationMarker.prototype, \"padding\", 2);\nvar Pagination = class extends BaseProperties {\n  constructor(chartUpdateCallback, pageUpdateCallback, regionManager, cursorManager) {\n    super();\n    this.chartUpdateCallback = chartUpdateCallback;\n    this.pageUpdateCallback = pageUpdateCallback;\n    this.regionManager = regionManager;\n    this.cursorManager = cursorManager;\n    this.id = createId(this);\n    this.marker = new PaginationMarker(this);\n    this.activeStyle = new PaginationMarkerStyle();\n    this.inactiveStyle = new PaginationMarkerStyle();\n    this.highlightStyle = new PaginationMarkerStyle();\n    this.label = new PaginationLabel();\n    this.group = new Group({\n      name: \"pagination\"\n    });\n    this.labelNode = new Text();\n    this.destroyFns = [];\n    this.totalPages = 0;\n    this.currentPage = 0;\n    this.translationX = 0;\n    this.translationY = 0;\n    this.nextButtonDisabled = false;\n    this.previousButtonDisabled = false;\n    this._visible = true;\n    this._enabled = true;\n    this._orientation = \"vertical\";\n    this._nextButton = new Triangle();\n    this._previousButton = new Triangle();\n    this.labelNode.setProperties({\n      textBaseline: \"middle\",\n      fontSize: 12,\n      fontFamily: \"Verdana, sans-serif\",\n      fill: \"black\",\n      y: 1\n    });\n    this.group.append([this.nextButton, this.previousButton, this.labelNode]);\n    const region = this.regionManager.addRegion(\"pagination\", this.group);\n    this.destroyFns.push(region.addListener(\"click\", event => this.onPaginationClick(event)), region.addListener(\"hover\", event => this.onPaginationMouseMove(event)));\n    this.update();\n    this.updateMarkers();\n  }\n  destroy() {\n    this.destroyFns.forEach(f => f());\n  }\n  set visible(value) {\n    this._visible = value;\n    this.updateGroupVisibility();\n  }\n  get visible() {\n    return this._visible;\n  }\n  set enabled(value) {\n    this._enabled = value;\n    this.updateGroupVisibility();\n  }\n  get enabled() {\n    return this._enabled;\n  }\n  updateGroupVisibility() {\n    this.group.visible = this.enabled && this.visible;\n  }\n  set orientation(value) {\n    this._orientation = value;\n    switch (value) {\n      case \"horizontal\":\n        {\n          this.previousButton.rotation = -Math.PI / 2;\n          this.nextButton.rotation = Math.PI / 2;\n          break;\n        }\n      case \"vertical\":\n      default:\n        {\n          this.previousButton.rotation = 0;\n          this.nextButton.rotation = Math.PI;\n        }\n    }\n  }\n  get orientation() {\n    return this._orientation;\n  }\n  set nextButton(value) {\n    if (this._nextButton !== value) {\n      this.group.removeChild(this._nextButton);\n      this._nextButton = value;\n      this.group.appendChild(value);\n    }\n  }\n  get nextButton() {\n    return this._nextButton;\n  }\n  set previousButton(value) {\n    if (this._previousButton !== value) {\n      this.group.removeChild(this._previousButton);\n      this._previousButton = value;\n      this.group.appendChild(value);\n    }\n  }\n  get previousButton() {\n    return this._previousButton;\n  }\n  update() {\n    this.updateLabel();\n    this.updatePositions();\n    this.enableOrDisableButtons();\n  }\n  updatePositions() {\n    this.group.translationX = this.translationX;\n    this.group.translationY = this.translationY;\n    this.updateLabelPosition();\n    this.updateNextButtonPosition();\n  }\n  updateLabelPosition() {\n    const {\n      size: markerSize,\n      padding: markerPadding\n    } = this.marker;\n    this.nextButton.size = markerSize;\n    this.previousButton.size = markerSize;\n    this.labelNode.x = markerSize / 2 + markerPadding;\n  }\n  updateNextButtonPosition() {\n    const labelBBox = this.labelNode.computeBBox();\n    this.nextButton.translationX = labelBBox.x + labelBBox.width + this.marker.size / 2 + this.marker.padding;\n  }\n  updateLabel() {\n    const {\n      currentPage,\n      totalPages: pages,\n      labelNode,\n      label: {\n        color,\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily\n      }\n    } = this;\n    labelNode.text = \"\".concat(currentPage + 1, \" / \").concat(pages);\n    labelNode.fill = color;\n    labelNode.fontStyle = fontStyle;\n    labelNode.fontWeight = fontWeight;\n    labelNode.fontSize = fontSize;\n    labelNode.fontFamily = fontFamily;\n  }\n  updateMarkers() {\n    const {\n      nextButton,\n      previousButton,\n      nextButtonDisabled,\n      previousButtonDisabled,\n      activeStyle,\n      inactiveStyle,\n      highlightStyle,\n      highlightActive\n    } = this;\n    const buttonStyle = (button, disabled) => {\n      if (disabled) {\n        return inactiveStyle;\n      } else if (button === highlightActive) {\n        return highlightStyle;\n      }\n      return activeStyle;\n    };\n    this.updateMarker(nextButton, buttonStyle(\"next\", nextButtonDisabled));\n    this.updateMarker(previousButton, buttonStyle(\"previous\", previousButtonDisabled));\n  }\n  updateMarker(marker, style) {\n    var _a;\n    const {\n      size\n    } = this.marker;\n    marker.size = size;\n    marker.fill = style.fill;\n    marker.fillOpacity = (_a = style.fillOpacity) != null ? _a : 1;\n    marker.stroke = style.stroke;\n    marker.strokeWidth = style.strokeWidth;\n    marker.strokeOpacity = style.strokeOpacity;\n  }\n  enableOrDisableButtons() {\n    const {\n      currentPage,\n      totalPages\n    } = this;\n    const zeroPagesToDisplay = totalPages === 0;\n    const onLastPage = currentPage === totalPages - 1;\n    const onFirstPage = currentPage === 0;\n    this.nextButtonDisabled = onLastPage || zeroPagesToDisplay;\n    this.previousButtonDisabled = onFirstPage || zeroPagesToDisplay;\n  }\n  nextButtonContainsPoint(offsetX, offsetY) {\n    return !this.nextButtonDisabled && this.nextButton.containsPoint(offsetX, offsetY);\n  }\n  previousButtonContainsPoint(offsetX, offsetY) {\n    return !this.previousButtonDisabled && this.previousButton.containsPoint(offsetX, offsetY);\n  }\n  clickNext() {\n    this.incrementPage();\n    this.onPaginationChanged();\n  }\n  clickPrevious() {\n    this.decrementPage();\n    this.onPaginationChanged();\n  }\n  setPage(pageNumber) {\n    pageNumber = clamp(0, pageNumber, this.totalPages - 1);\n    if (this.currentPage !== pageNumber) {\n      this.currentPage = pageNumber;\n      this.onPaginationChanged();\n    }\n  }\n  onPaginationClick(event) {\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n      this.clickNext();\n      event.consume();\n    } else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n      this.clickPrevious();\n      event.consume();\n    }\n  }\n  onPaginationMouseMove(event) {\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n      this.cursorManager.updateCursor(this.id, \"pointer\");\n      this.highlightActive = \"next\";\n    } else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n      this.cursorManager.updateCursor(this.id, \"pointer\");\n      this.highlightActive = \"previous\";\n    } else {\n      this.cursorManager.updateCursor(this.id);\n      this.highlightActive = void 0;\n    }\n    this.updateMarkers();\n    this.chartUpdateCallback(6 /* SCENE_RENDER */);\n  }\n  onPaginationChanged() {\n    this.pageUpdateCallback(this.currentPage);\n  }\n  incrementPage() {\n    this.currentPage = Math.min(this.currentPage + 1, this.totalPages - 1);\n  }\n  decrementPage() {\n    this.currentPage = Math.max(this.currentPage - 1, 0);\n  }\n  onMarkerShapeChange() {\n    const Marker2 = getMarker(this.marker.shape || Triangle);\n    this.previousButton = new Marker2();\n    this.nextButton = new Marker2();\n    this.updatePositions();\n    this.updateMarkers();\n    this.chartUpdateCallback(6 /* SCENE_RENDER */);\n  }\n  attachPagination(node) {\n    node.append(this.group);\n  }\n  computeBBox() {\n    return this.group.computeBBox();\n  }\n};\nPagination.className = \"Pagination\";\n__decorateClass([Validate(OBJECT)], Pagination.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], Pagination.prototype, \"activeStyle\", 2);\n__decorateClass([Validate(OBJECT)], Pagination.prototype, \"inactiveStyle\", 2);\n__decorateClass([Validate(OBJECT)], Pagination.prototype, \"highlightStyle\", 2);\n__decorateClass([Validate(OBJECT)], Pagination.prototype, \"label\", 2);\n\n// packages/ag-charts-community/src/chart/legend.ts\nvar LegendLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.maxLength = void 0;\n    this.color = \"black\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.formatter = void 0;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], LegendLabel.prototype, \"maxLength\", 2);\n__decorateClass([Validate(COLOR_STRING)], LegendLabel.prototype, \"color\", 2);\n__decorateClass([Validate(FONT_STYLE, {\n  optional: true\n})], LegendLabel.prototype, \"fontStyle\", 2);\n__decorateClass([Validate(FONT_WEIGHT2, {\n  optional: true\n})], LegendLabel.prototype, \"fontWeight\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LegendLabel.prototype, \"fontSize\", 2);\n__decorateClass([Validate(STRING)], LegendLabel.prototype, \"fontFamily\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], LegendLabel.prototype, \"formatter\", 2);\nvar LegendMarker = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.size = 15;\n    this.padding = 8;\n    this.enabled = true;\n  }\n};\n__decorateClass([ObserveChanges(target => {\n  var _a;\n  return (_a = target.parent) == null ? void 0 : _a.onMarkerShapeChange();\n})], LegendMarker.prototype, \"shape\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LegendMarker.prototype, \"size\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LegendMarker.prototype, \"padding\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], LegendMarker.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(BOOLEAN)], LegendMarker.prototype, \"enabled\", 2);\nvar LegendLine = class extends BaseProperties {};\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], LegendLine.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], LegendLine.prototype, \"length\", 2);\nvar LegendItem = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.paddingX = 16;\n    this.paddingY = 8;\n    this.toggleSeriesVisible = true;\n    this.showSeriesStroke = false;\n    this.marker = new LegendMarker();\n    this.label = new LegendLabel();\n    this.line = new LegendLine();\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], LegendItem.prototype, \"maxWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LegendItem.prototype, \"paddingX\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LegendItem.prototype, \"paddingY\", 2);\n__decorateClass([Validate(BOOLEAN)], LegendItem.prototype, \"toggleSeriesVisible\", 2);\n__decorateClass([Validate(BOOLEAN)], LegendItem.prototype, \"showSeriesStroke\", 2);\n__decorateClass([Validate(OBJECT)], LegendItem.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], LegendItem.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], LegendItem.prototype, \"line\", 2);\nvar LegendListeners = class extends BaseProperties {};\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], LegendListeners.prototype, \"legendItemClick\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], LegendListeners.prototype, \"legendItemDoubleClick\", 2);\nvar Legend = class extends BaseProperties {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.id = createId(this);\n    this.group = new Group({\n      name: \"legend\",\n      layer: true,\n      zIndex: 11 /* LEGEND_ZINDEX */\n    });\n    this.itemSelection = Selection.select(this.group, MarkerLabel);\n    this.oldSize = [0, 0];\n    this.pages = [];\n    this.maxPageSize = [0, 0];\n    /** Item index to track on re-pagination, so current page updates appropriately. */\n    this.paginationTrackingIndex = 0;\n    this.truncatedItems = /* @__PURE__ */new Set();\n    this._data = [];\n    this.item = new LegendItem();\n    this.listeners = new LegendListeners();\n    this.enabled = true;\n    this.position = \"bottom\";\n    this.spacing = 20;\n    this.characterWidths = /* @__PURE__ */new Map();\n    this.destroyFns = [];\n    this.size = [0, 0];\n    this._visible = true;\n    this.focus = {\n      mode: \"item\",\n      index: 0\n    };\n    this.item.marker.parent = this;\n    this.pagination = new Pagination(type => ctx.updateService.update(type), page => this.updatePageNumber(page), ctx.regionManager, ctx.cursorManager);\n    this.pagination.attachPagination(this.group);\n    this.item.marker.parent = this;\n    const animationState = 16 /* Default */ | 1 /* Animation */;\n    const region = ctx.regionManager.addRegionFromProperties({\n      name: \"legend\",\n      bboxproviders: [this.group],\n      canInteraction: () => this.enabled && this.group.visible\n    });\n    this.destroyFns.push(region.addListener(\"click\", e => this.checkLegendClick(e), animationState), region.addListener(\"dblclick\", e => this.checkLegendDoubleClick(e), animationState), region.addListener(\"hover\", e => this.handleLegendMouseMove(e)), region.addListener(\"leave\", e => this.handleLegendMouseExit(e), animationState), region.addListener(\"enter\", e => this.handleLegendMouseEnter(e), animationState), region.addListener(\"blur\", e => this.onBlur(e)), region.addListener(\"tab\", e => this.onTab(e)), region.addListener(\"tab-start\", e => this.onTabStart(e)), region.addListener(\"nav-vert\", e => this.onNav(e)), region.addListener(\"nav-hori\", e => this.onNav(e)), region.addListener(\"submit\", e => this.onSubmit(e)), ctx.layoutService.addListener(\"start-layout\", e => this.positionLegend(e.shrinkRect)), () => this.detachLegend());\n  }\n  set data(value) {\n    this._data = value;\n    this.updateGroupVisibility();\n  }\n  get data() {\n    return this._data;\n  }\n  destroy() {\n    this.destroyFns.forEach(f => f());\n    this.pagination.destroy();\n  }\n  onMarkerShapeChange() {\n    this.itemSelection.clear();\n    this.group.markDirty(this.group, 2 /* MINOR */);\n  }\n  getOrientation() {\n    if (this.orientation !== void 0) {\n      return this.orientation;\n    }\n    switch (this.position) {\n      case \"right\":\n      case \"left\":\n        return \"vertical\";\n      case \"bottom\":\n      case \"top\":\n        return \"horizontal\";\n    }\n  }\n  getCharacterWidths(font) {\n    const {\n      characterWidths\n    } = this;\n    if (characterWidths.has(font)) {\n      return characterWidths.get(font);\n    }\n    const cw = {\n      \"...\": Text.getTextSize(\"...\", font).width\n    };\n    characterWidths.set(font, cw);\n    return cw;\n  }\n  set visible(value) {\n    this._visible = value;\n    this.updateGroupVisibility();\n  }\n  get visible() {\n    return this._visible;\n  }\n  updateGroupVisibility() {\n    this.group.visible = this.enabled && this.visible && this.data.length > 0;\n  }\n  attachLegend(scene) {\n    scene.appendChild(this.group);\n  }\n  detachLegend() {\n    var _a;\n    (_a = this.group.parent) == null ? void 0 : _a.removeChild(this.group);\n  }\n  getItemLabel(datum) {\n    const {\n      ctx: {\n        callbackCache\n      }\n    } = this;\n    const {\n      formatter\n    } = this.item.label;\n    if (formatter) {\n      return callbackCache.call(formatter, {\n        itemId: datum.itemId,\n        value: datum.label.text,\n        seriesId: datum.seriesId\n      });\n    }\n    return datum.label.text;\n  }\n  /**\n   * The method is given the desired size of the legend, which only serves as a hint.\n   * The vertically oriented legend will take as much horizontal space as needed, but will\n   * respect the height constraints, and the horizontal legend will take as much vertical\n   * space as needed in an attempt not to exceed the given width.\n   * After the layout is done, the {@link size} will contain the actual size of the legend.\n   * If the actual size is not the same as the previous actual size, the legend will fire\n   * the 'layoutChange' event to communicate that another layout is needed, and the above\n   * process should be repeated.\n   * @param width\n   * @param height\n   */\n  calcLayout(width, height) {\n    const {\n      paddingX,\n      paddingY,\n      label,\n      maxWidth,\n      marker: {\n        size: markerSize,\n        padding: markerPadding,\n        shape: markerShape\n      },\n      label: {\n        maxLength = Infinity,\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily\n      },\n      line: itemLine,\n      showSeriesStroke\n    } = this.item;\n    const data = [...this.data];\n    if (this.reverseOrder) {\n      data.reverse();\n    }\n    this.itemSelection.update(data);\n    const bboxes = [];\n    const font = getFont(label);\n    const itemMaxWidthPercentage = 0.8;\n    const maxItemWidth = maxWidth != null ? maxWidth : width * itemMaxWidthPercentage;\n    const paddedMarkerWidth = markerSize + markerPadding + paddingX;\n    this.itemSelection.each((markerLabel, datum) => {\n      var _a, _b, _c;\n      const Marker2 = getMarker(markerShape != null ? markerShape : datum.marker.shape);\n      const markerEnabled = (_a = datum.marker.enabled) != null ? _a : this.item.marker.enabled;\n      if (!(markerLabel.marker && markerLabel.marker instanceof Marker2)) {\n        markerLabel.marker = new Marker2();\n      }\n      markerLabel.markerSize = markerSize;\n      markerLabel.spacing = markerPadding;\n      markerLabel.fontStyle = fontStyle;\n      markerLabel.fontWeight = fontWeight;\n      markerLabel.fontSize = fontSize;\n      markerLabel.fontFamily = fontFamily;\n      const id = (_b = datum.itemId) != null ? _b : datum.id;\n      const labelText = this.getItemLabel(datum);\n      const text = (labelText != null ? labelText : \"<unknown>\").replace(/\\r?\\n/g, \" \");\n      markerLabel.text = this.truncate(text, maxLength, maxItemWidth, paddedMarkerWidth, font, id);\n      if (showSeriesStroke && datum.line !== void 0) {\n        markerLabel.lineVisible = true;\n        markerLabel.markerVisible = markerEnabled;\n        markerLabel.setSeriesStrokeOffset((_c = itemLine.length) != null ? _c : 5);\n      } else {\n        markerLabel.lineVisible = false;\n        markerLabel.markerVisible = true;\n      }\n      bboxes.push(markerLabel.computeBBox());\n    });\n    width = Math.max(1, width);\n    height = Math.max(1, height);\n    if (!isFinite(width)) {\n      return false;\n    }\n    const size = this.size;\n    const oldSize = this.oldSize;\n    size[0] = width;\n    size[1] = height;\n    if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      oldSize[0] = size[0];\n      oldSize[1] = size[1];\n    }\n    const {\n      pages,\n      maxPageHeight,\n      maxPageWidth\n    } = this.updatePagination(bboxes, width, height);\n    this.pages = pages;\n    this.maxPageSize = [maxPageWidth - paddingX, maxPageHeight - paddingY];\n    const pageNumber = this.pagination.currentPage;\n    const page = this.pages[pageNumber];\n    if (this.pages.length < 1 || !page) {\n      this.visible = false;\n      return;\n    }\n    this.visible = true;\n    this.updatePositions(pageNumber);\n    this.update();\n  }\n  truncate(text, maxCharLength, maxItemWidth, paddedMarkerWidth, font, id) {\n    const ellipsis2 = \"...\";\n    const textChars = text.split(\"\");\n    let addEllipsis = false;\n    if (text.length > maxCharLength) {\n      text = \"\".concat(text.substring(0, maxCharLength));\n      addEllipsis = true;\n    }\n    const labelWidth = Math.floor(paddedMarkerWidth + Text.getTextSize(text, font).width);\n    if (labelWidth > maxItemWidth) {\n      let truncatedText = \"\";\n      const characterWidths = this.getCharacterWidths(font);\n      let cumulativeWidth = paddedMarkerWidth + characterWidths[ellipsis2];\n      for (const char of textChars) {\n        if (!characterWidths[char]) {\n          characterWidths[char] = Text.getTextSize(char, font).width;\n        }\n        cumulativeWidth += characterWidths[char];\n        if (cumulativeWidth > maxItemWidth) {\n          break;\n        }\n        truncatedText += char;\n      }\n      text = truncatedText;\n      addEllipsis = true;\n    }\n    if (addEllipsis) {\n      text += ellipsis2;\n      this.truncatedItems.add(id);\n    } else {\n      this.truncatedItems.delete(id);\n    }\n    return text;\n  }\n  updatePagination(bboxes, width, height) {\n    const orientation = this.getOrientation();\n    const trackingIndex = Math.min(this.paginationTrackingIndex, bboxes.length);\n    this.pagination.orientation = orientation;\n    this.pagination.translationX = 0;\n    this.pagination.translationY = 0;\n    const {\n      pages,\n      maxPageHeight,\n      maxPageWidth,\n      paginationBBox,\n      paginationVertical\n    } = this.calculatePagination(bboxes, width, height);\n    const newCurrentPage = pages.findIndex(p => p.endIndex >= trackingIndex);\n    this.pagination.currentPage = clamp(0, newCurrentPage, pages.length - 1);\n    const {\n      paddingX: itemPaddingX,\n      paddingY: itemPaddingY\n    } = this.item;\n    const paginationComponentPadding = 8;\n    const legendItemsWidth = maxPageWidth - itemPaddingX;\n    const legendItemsHeight = maxPageHeight - itemPaddingY;\n    let paginationX = 0;\n    let paginationY = -paginationBBox.y - this.item.marker.size / 2;\n    if (paginationVertical) {\n      paginationY += legendItemsHeight + paginationComponentPadding;\n    } else {\n      paginationX += -paginationBBox.x + legendItemsWidth + paginationComponentPadding;\n      paginationY += (legendItemsHeight - paginationBBox.height) / 2;\n    }\n    this.pagination.translationX = paginationX;\n    this.pagination.translationY = paginationY;\n    this.pagination.update();\n    this.pagination.updateMarkers();\n    return {\n      maxPageHeight,\n      maxPageWidth,\n      pages\n    };\n  }\n  calculatePagination(bboxes, width, height) {\n    var _a, _b, _c;\n    const {\n      paddingX: itemPaddingX,\n      paddingY: itemPaddingY\n    } = this.item;\n    const orientation = this.getOrientation();\n    const paginationVertical = [\"left\", \"right\"].includes(this.position);\n    let paginationBBox = this.pagination.computeBBox();\n    let lastPassPaginationBBox = new BBox(0, 0, 0, 0);\n    let pages = [];\n    let maxPageWidth = 0;\n    let maxPageHeight = 0;\n    let count = 0;\n    const stableOutput = bbox => {\n      return bbox.width === paginationBBox.width && bbox.height === paginationBBox.height;\n    };\n    const forceResult = this.maxWidth !== void 0 && this.maxHeight !== void 0;\n    do {\n      if (count++ > 10) {\n        Logger.warn(\"unable to find stable legend layout.\");\n        break;\n      }\n      paginationBBox = lastPassPaginationBBox;\n      const maxWidth = width - (paginationVertical ? 0 : paginationBBox.width);\n      const maxHeight = height - (paginationVertical ? paginationBBox.height : 0);\n      const layout = gridLayout({\n        orientation,\n        bboxes,\n        maxHeight,\n        maxWidth,\n        itemPaddingY,\n        itemPaddingX,\n        forceResult\n      });\n      pages = (_a = layout == null ? void 0 : layout.pages) != null ? _a : [];\n      maxPageWidth = (_b = layout == null ? void 0 : layout.maxPageWidth) != null ? _b : 0;\n      maxPageHeight = (_c = layout == null ? void 0 : layout.maxPageHeight) != null ? _c : 0;\n      const totalPages = pages.length;\n      this.pagination.visible = totalPages > 1;\n      this.pagination.totalPages = totalPages;\n      this.pagination.update();\n      lastPassPaginationBBox = this.pagination.computeBBox();\n      if (!this.pagination.visible) {\n        break;\n      }\n    } while (!stableOutput(lastPassPaginationBBox));\n    return {\n      maxPageWidth,\n      maxPageHeight,\n      pages,\n      paginationBBox,\n      paginationVertical\n    };\n  }\n  getPageItemCount(pageNumber) {\n    let count = 0;\n    for (const col of this.pages[pageNumber].columns) {\n      count += col.indices.length;\n    }\n    return count;\n  }\n  getNodeIndexFromFocusIndex() {\n    const {\n      index\n    } = this.focus;\n    const page = this.pages[this.pagination.currentPage];\n    let itemCount = 0;\n    for (const col of page.columns) {\n      if (index < itemCount + col.indices.length) {\n        return col.indices[index - itemCount];\n      } else {\n        itemCount += col.indices.length;\n      }\n    }\n    return -1;\n  }\n  updatePositions() {\n    let pageNumber = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    const {\n      item: {\n        paddingY\n      },\n      itemSelection,\n      pages\n    } = this;\n    if (pages.length < 1 || !pages[pageNumber]) {\n      return;\n    }\n    const {\n      columns,\n      startIndex: visibleStart,\n      endIndex: visibleEnd\n    } = pages[pageNumber];\n    let x = 0;\n    let y = 0;\n    const columnCount = columns.length;\n    const rowCount = columns[0].indices.length;\n    const horizontal = this.getOrientation() === \"horizontal\";\n    const itemHeight = columns[0].bboxes[0].height + paddingY;\n    const rowSumColumnWidths = [];\n    itemSelection.each((markerLabel, _, i) => {\n      var _a, _b;\n      if (i < visibleStart || i > visibleEnd) {\n        markerLabel.visible = false;\n        return;\n      }\n      const pageIndex = i - visibleStart;\n      let columnIndex = 0;\n      let rowIndex = 0;\n      if (horizontal) {\n        columnIndex = pageIndex % columnCount;\n        rowIndex = Math.floor(pageIndex / columnCount);\n      } else {\n        columnIndex = Math.floor(pageIndex / rowCount);\n        rowIndex = pageIndex % rowCount;\n      }\n      markerLabel.visible = true;\n      const column = columns[columnIndex];\n      if (!column) {\n        return;\n      }\n      y = itemHeight * rowIndex;\n      x = (_a = rowSumColumnWidths[rowIndex]) != null ? _a : 0;\n      rowSumColumnWidths[rowIndex] = ((_b = rowSumColumnWidths[rowIndex]) != null ? _b : 0) + column.columnWidth;\n      markerLabel.translationX = Math.floor(x);\n      markerLabel.translationY = Math.floor(y);\n    });\n  }\n  updatePageNumber(pageNumber) {\n    const {\n      pages\n    } = this;\n    const {\n      startIndex,\n      endIndex\n    } = pages[pageNumber];\n    if (startIndex === 0) {\n      this.paginationTrackingIndex = 0;\n    } else if (pageNumber === pages.length - 1) {\n      this.paginationTrackingIndex = endIndex;\n    } else {\n      this.paginationTrackingIndex = Math.floor((startIndex + endIndex) / 2);\n    }\n    this.pagination.update();\n    this.pagination.updateMarkers();\n    this.updatePositions(pageNumber);\n    this.ctx.updateService.update(6 /* SCENE_RENDER */);\n  }\n  update() {\n    const {\n      label: {\n        color\n      },\n      marker: itemMarker,\n      line: itemLine,\n      showSeriesStroke\n    } = this.item;\n    this.itemSelection.each((markerLabel, datum) => {\n      var _a, _b;\n      const marker = datum.marker;\n      markerLabel.markerFill = marker.fill;\n      markerLabel.markerStroke = marker.stroke;\n      markerLabel.markerStrokeWidth = (_a = itemMarker.strokeWidth) != null ? _a : Math.min(2, marker.strokeWidth);\n      markerLabel.markerFillOpacity = marker.fillOpacity;\n      markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n      markerLabel.opacity = datum.enabled ? 1 : 0.5;\n      markerLabel.color = color;\n      const {\n        line\n      } = datum;\n      if (showSeriesStroke && line !== void 0) {\n        markerLabel.lineStroke = line.stroke;\n        markerLabel.lineStrokeOpacity = line.strokeOpacity;\n        markerLabel.lineStrokeWidth = (_b = itemLine.strokeWidth) != null ? _b : Math.min(2, line.strokeWidth);\n        markerLabel.lineLineDash = line.lineDash;\n      }\n    });\n  }\n  getDatumForPoint(x, y) {\n    const visibleChildBBoxes = [];\n    const closestLeftTop = {\n      dist: Infinity,\n      datum: void 0\n    };\n    for (const child of this.group.children) {\n      if (!child.visible) continue;\n      if (!(child instanceof MarkerLabel)) continue;\n      const childBBox = child.computeBBox();\n      childBBox.grow(this.item.paddingX / 2, \"horizontal\");\n      childBBox.grow(this.item.paddingY / 2, \"vertical\");\n      if (childBBox.containsPoint(x, y)) {\n        return child.datum;\n      }\n      const distX = x - childBBox.x - this.item.paddingX / 2;\n      const distY = y - childBBox.y - this.item.paddingY / 2;\n      const dist = __pow(distX, 2) + __pow(distY, 2);\n      const toTheLeftTop = distX >= 0 && distY >= 0;\n      if (toTheLeftTop && dist < closestLeftTop.dist) {\n        closestLeftTop.dist = dist;\n        closestLeftTop.datum = child.datum;\n      }\n      visibleChildBBoxes.push(childBBox);\n    }\n    const pageBBox = BBox.merge(visibleChildBBoxes);\n    if (!pageBBox.containsPoint(x, y)) {\n      return;\n    }\n    return closestLeftTop.datum;\n  }\n  computePagedBBox() {\n    const actualBBox = this.group.computeBBox();\n    if (this.pages.length <= 1) {\n      return actualBBox;\n    }\n    const [maxPageWidth, maxPageHeight] = this.maxPageSize;\n    actualBBox.height = Math.max(maxPageHeight, actualBBox.height);\n    actualBBox.width = Math.max(maxPageWidth, actualBBox.width);\n    return actualBBox;\n  }\n  checkLegendClick(event) {\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (this.doClick(datum)) {\n      event.consume();\n    }\n  }\n  doClick(datum) {\n    const {\n      listeners: {\n        legendItemClick\n      },\n      ctx: {\n        chartService,\n        highlightManager\n      },\n      item: {\n        toggleSeriesVisible\n      },\n      preventHidingAll\n    } = this;\n    if (!datum) {\n      return false;\n    }\n    const {\n      id,\n      itemId,\n      enabled\n    } = datum;\n    const series = chartService.series.find(s => s.id === id);\n    if (!series) {\n      return false;\n    }\n    let newEnabled = enabled;\n    if (toggleSeriesVisible) {\n      newEnabled = !enabled;\n      if (preventHidingAll && !newEnabled) {\n        const numVisibleItems = chartService.series.flatMap(s => s.getLegendData(\"category\")).filter(d => d.enabled).length;\n        if (numVisibleItems < 2) {\n          newEnabled = true;\n        }\n      }\n      const status = newEnabled ? \"visible\" : \"hidden\";\n      this.ctx.ariaAnnouncementService.announceValue(\"\".concat(status));\n      this.ctx.chartEventManager.legendItemClick(series, itemId, newEnabled, datum.legendItemName);\n    }\n    if (newEnabled) {\n      highlightManager.updateHighlight(this.id, {\n        series,\n        itemId,\n        datum: void 0\n      });\n    } else {\n      highlightManager.updateHighlight(this.id);\n    }\n    this.ctx.updateService.update(2 /* PROCESS_DATA */, {\n      forceNodeDataRefresh: true\n    });\n    legendItemClick == null ? void 0 : legendItemClick({\n      type: \"click\",\n      enabled: newEnabled,\n      itemId,\n      seriesId: series.id\n    });\n    return true;\n  }\n  checkLegendDoubleClick(event) {\n    var _a;\n    const {\n      listeners: {\n        legendItemDoubleClick\n      },\n      ctx: {\n        chartService\n      },\n      item: {\n        toggleSeriesVisible\n      }\n    } = this;\n    if (chartService.mode === \"integrated\") {\n      return;\n    }\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (!datum) {\n      return;\n    }\n    const {\n      id,\n      itemId,\n      seriesId\n    } = datum;\n    const series = chartService.series.find(s => s.id === id);\n    if (!series) {\n      return;\n    }\n    event.consume();\n    if (toggleSeriesVisible) {\n      const legendData = chartService.series.flatMap(s => s.getLegendData(\"category\"));\n      const numVisibleItems = legendData.filter(d => d.enabled).length;\n      const clickedItem = legendData.find(d => d.itemId === itemId && d.seriesId === seriesId);\n      this.ctx.chartEventManager.legendItemDoubleClick(series, itemId, (_a = clickedItem == null ? void 0 : clickedItem.enabled) != null ? _a : false, numVisibleItems, clickedItem == null ? void 0 : clickedItem.legendItemName);\n    }\n    this.ctx.updateService.update(2 /* PROCESS_DATA */, {\n      forceNodeDataRefresh: true\n    });\n    legendItemDoubleClick == null ? void 0 : legendItemDoubleClick({\n      type: \"dblclick\",\n      enabled: true,\n      itemId,\n      seriesId: series.id\n    });\n  }\n  handleLegendMouseMove(event) {\n    if (!this.enabled) {\n      return;\n    }\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    event.consume();\n    const datum = this.getDatumForPoint(offsetX, offsetY);\n    this.doHover(event, datum);\n  }\n  doHover(event, datum) {\n    var _a;\n    const {\n      item: {\n        toggleSeriesVisible\n      },\n      listeners\n    } = this;\n    if (event === void 0 || datum === void 0) {\n      this.ctx.cursorManager.updateCursor(this.id);\n      this.ctx.highlightManager.updateHighlight(this.id);\n      return;\n    }\n    const series = datum ? this.ctx.chartService.series.find(s => s.id === (datum == null ? void 0 : datum.id)) : void 0;\n    if (datum && this.truncatedItems.has((_a = datum.itemId) != null ? _a : datum.id)) {\n      const {\n        offsetX,\n        offsetY\n      } = event;\n      this.ctx.tooltipManager.updateTooltip(this.id, {\n        offsetX,\n        offsetY,\n        lastPointerEvent: event,\n        showArrow: false\n      }, toTooltipHtml({\n        content: this.getItemLabel(datum)\n      }));\n    } else {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n    }\n    if (toggleSeriesVisible || listeners.legendItemClick != null || listeners.legendItemDoubleClick != null) {\n      this.ctx.cursorManager.updateCursor(this.id, \"pointer\");\n    }\n    if ((datum == null ? void 0 : datum.enabled) && series) {\n      this.ctx.highlightManager.updateHighlight(this.id, {\n        series,\n        itemId: datum == null ? void 0 : datum.itemId,\n        datum: void 0\n      });\n    } else {\n      this.ctx.highlightManager.updateHighlight(this.id);\n    }\n  }\n  handleLegendMouseExit(_event) {\n    this.doMouseExit();\n  }\n  doMouseExit() {\n    this.ctx.cursorManager.updateCursor(this.id);\n    this.ctx.tooltipManager.removeTooltip(this.id);\n    if (this.ctx.interactionManager.getState() === 16 /* Default */) {\n      this.ctx.highlightManager.updateHighlight(this.id);\n    }\n  }\n  handleLegendMouseEnter(event) {\n    const {\n      enabled,\n      item: {\n        toggleSeriesVisible: toggle\n      },\n      listeners: {\n        legendItemClick: clickListener,\n        legendItemDoubleClick: dblclickListener\n      }\n    } = this;\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (enabled && datum !== void 0 && (toggle || clickListener != null || dblclickListener != null)) {\n      this.ctx.cursorManager.updateCursor(this.id, \"pointer\");\n    }\n  }\n  onBlur(_event) {\n    this.doMouseExit();\n    this.focus.mode = \"item\";\n    this.ctx.regionManager.updateFocusIndicatorRect(void 0);\n  }\n  onTab(event) {\n    this.updateFocus();\n    event.consume();\n  }\n  onTabStart(event) {\n    if (!this.pagination.visible || !this.pagination.enabled) return;\n    const consumeTabStart = newMode => {\n      this.focus.mode = newMode;\n      this.updateFocus();\n      event.consume();\n    };\n    if (this.focus.mode === \"item\" && event.delta === 1) {\n      this.focus.index = this.pagination.currentPage === 0 ? 1 : 0;\n      consumeTabStart(\"page\");\n    } else if (this.focus.mode === \"page\" && event.delta === -1) {\n      this.focus.index = 0;\n      consumeTabStart(\"item\");\n    }\n  }\n  onNav(event) {\n    if (this.focus.mode === \"item\") {\n      const newIndex = this.focus.index + event.delta;\n      const pageItemCount = this.getPageItemCount(this.pagination.currentPage);\n      this.focus.index = clamp(-1, newIndex, pageItemCount);\n      this.updateFocus();\n      event.consume();\n    } else if (this.focus.mode === \"page\") {\n      if (event.delta < 0) this.focus.index = 0;\n      if (event.delta > 0) this.focus.index = 1;\n      this.updateFocus();\n      event.consume();\n    }\n  }\n  onSubmit(_event) {\n    if (this.focus.mode === \"item\") {\n      this.doClick(this.getFocusedItem().datum);\n    } else if (this.focus.mode === \"page\") {\n      if (this.focus.index === 0) this.pagination.clickPrevious();\n      if (this.focus.index === 1) this.pagination.clickNext();\n      this.ctx.ariaAnnouncementService.announceValue(\"Legend page \".concat(this.pagination.currentPage + 1, \" of \").concat(this.pages.length));\n    }\n  }\n  maybeChangeFocusPage() {\n    const oldPage = this.pagination.currentPage;\n    const oldPageItemCount = this.getPageItemCount(oldPage);\n    if (this.focus.index === -1) {\n      this.pagination.setPage(oldPage - 1);\n    } else if (this.focus.index === oldPageItemCount) {\n      this.pagination.setPage(oldPage + 1);\n    } else {\n      return;\n    }\n    const {\n      currentPage\n    } = this.pagination;\n    if (oldPage === currentPage) {\n      this.focus.index = clamp(0, this.focus.index, oldPageItemCount - 1);\n    } else if (this.focus.index === -1) {\n      this.focus.index = this.getPageItemCount(currentPage) - 1;\n    } else {\n      this.focus.index = 0;\n    }\n  }\n  getFocusedItem() {\n    if (this.focus.mode !== \"item\") {\n      Logger.error(\"getFocusedItem() should be called only when focus.mode is 'item'\");\n      return {\n        nodeIndex: -1,\n        node: void 0,\n        datum: void 0\n      };\n    }\n    this.maybeChangeFocusPage();\n    const nodeIndex = this.getNodeIndexFromFocusIndex();\n    if (nodeIndex < 0) {\n      Logger.error(\"Cannot access negative nodeIndex \".concat(nodeIndex));\n      return {\n        nodeIndex: -1,\n        node: void 0,\n        datum: void 0\n      };\n    }\n    const node = this.itemSelection.nodes()[nodeIndex];\n    const data = this.data;\n    let datum;\n    if (nodeIndex < data.length) {\n      datum = this.data[nodeIndex];\n    } else {\n      Logger.error(\"Cannot access datum[\".concat(nodeIndex, \"]\"));\n    }\n    return {\n      nodeIndex,\n      node,\n      datum\n    };\n  }\n  updateFocus() {\n    const {\n      focus,\n      pagination\n    } = this;\n    if (focus.mode === \"item\") {\n      const {\n        nodeIndex,\n        node,\n        datum\n      } = this.getFocusedItem();\n      if (datum === void 0) return;\n      const bbox = node == null ? void 0 : node.computeTransformedBBox();\n      this.doHover(makeKeyboardPointerEvent(this.ctx.regionManager, {\n        bbox,\n        showFocusBox: true\n      }), datum);\n      const label = datum && this.getItemLabel(datum);\n      if (label) {\n        const visibility = datum.enabled ? \"visible\" : \"hidden\";\n        this.ctx.ariaAnnouncementService.announceValue(\"Legend item \".concat(nodeIndex + 1, \" of \").concat(this.data.length, \", \").concat(label, \", \").concat(visibility));\n      }\n    } else if (focus.mode === \"page\") {\n      const button = focus.index === 0 ? pagination.previousButton : pagination.nextButton;\n      this.ctx.regionManager.updateFocusIndicatorRect(button.computeTransformedBBox());\n      const value = [\"Previous legend page\", \"Next legend page\"][focus.index];\n      this.ctx.ariaAnnouncementService.announceValue(\"\".concat(value, \", button\"));\n    }\n  }\n  positionLegend(shrinkRect) {\n    const newShrinkRect = shrinkRect.clone();\n    if (!this.enabled || !this.data.length) {\n      return {\n        shrinkRect: newShrinkRect\n      };\n    }\n    const [legendWidth, legendHeight] = this.calculateLegendDimensions(shrinkRect);\n    this.group.translationX = 0;\n    this.group.translationY = 0;\n    this.calcLayout(legendWidth, legendHeight);\n    const legendBBox = this.computePagedBBox();\n    const calculateTranslationPerpendicularDimension = () => {\n      switch (this.position) {\n        case \"top\":\n        case \"left\":\n          return 0;\n        case \"bottom\":\n          return shrinkRect.height - legendBBox.height;\n        case \"right\":\n        default:\n          return shrinkRect.width - legendBBox.width;\n      }\n    };\n    if (this.visible) {\n      let translationX;\n      let translationY;\n      switch (this.position) {\n        case \"top\":\n        case \"bottom\":\n          translationX = (shrinkRect.width - legendBBox.width) / 2;\n          translationY = calculateTranslationPerpendicularDimension();\n          newShrinkRect.shrink(legendBBox.height, this.position);\n          break;\n        case \"left\":\n        case \"right\":\n        default:\n          translationX = calculateTranslationPerpendicularDimension();\n          translationY = (shrinkRect.height - legendBBox.height) / 2;\n          newShrinkRect.shrink(legendBBox.width, this.position);\n      }\n      this.group.translationX = Math.floor(-legendBBox.x + shrinkRect.x + translationX);\n      this.group.translationY = Math.floor(-legendBBox.y + shrinkRect.y + translationY);\n    }\n    if (this.visible && this.enabled && this.data.length) {\n      const legendPadding = this.spacing;\n      newShrinkRect.shrink(legendPadding, this.position);\n      const legendPositionedBBox = legendBBox.clone();\n      legendPositionedBBox.x += this.group.translationX;\n      legendPositionedBBox.y += this.group.translationY;\n    }\n    return {\n      shrinkRect: newShrinkRect\n    };\n  }\n  calculateLegendDimensions(shrinkRect) {\n    const {\n      width,\n      height\n    } = shrinkRect;\n    const aspectRatio = width / height;\n    const maxCoefficient = 0.5;\n    const minHeightCoefficient = 0.2;\n    const minWidthCoefficient = 0.25;\n    let legendWidth, legendHeight;\n    switch (this.position) {\n      case \"top\":\n      case \"bottom\":\n        const heightCoefficient = aspectRatio < 1 ? Math.min(maxCoefficient, minHeightCoefficient * (1 / aspectRatio)) : minHeightCoefficient;\n        legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : width;\n        legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : Math.round(height * heightCoefficient);\n        break;\n      case \"left\":\n      case \"right\":\n      default:\n        const widthCoefficient = aspectRatio > 1 ? Math.min(maxCoefficient, minWidthCoefficient * aspectRatio) : minWidthCoefficient;\n        legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : Math.round(width * widthCoefficient);\n        legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : height;\n    }\n    return [legendWidth, legendHeight];\n  }\n};\nLegend.className = \"Legend\";\n__decorateClass([Validate(OBJECT)], Legend.prototype, \"pagination\", 2);\n__decorateClass([Validate(OBJECT)], Legend.prototype, \"item\", 2);\n__decorateClass([Validate(OBJECT)], Legend.prototype, \"listeners\", 2);\n__decorateClass([ObserveChanges(target => target.updateGroupVisibility()), Validate(BOOLEAN)], Legend.prototype, \"enabled\", 2);\n__decorateClass([Validate(POSITION2)], Legend.prototype, \"position\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Legend.prototype, \"maxWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], Legend.prototype, \"maxHeight\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], Legend.prototype, \"reverseOrder\", 2);\n__decorateClass([Validate(UNION([\"horizontal\", \"vertical\"], \"an orientation\"), {\n  optional: true\n})], Legend.prototype, \"orientation\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], Legend.prototype, \"preventHidingAll\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Legend.prototype, \"spacing\", 2);\n\n// packages/ag-charts-community/src/chart/legendModule.ts\nvar CommunityLegendModule = {\n  type: \"legend\",\n  optionsKey: \"legend\",\n  identifier: \"category\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  instanceConstructor: Legend,\n  packageType: \"community\"\n};\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeHandle.ts\nvar RangeHandle = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.zIndex = 3;\n    this._fill = \"#f2f2f2\";\n    this._stroke = \"#999999\";\n    this._strokeWidth = 1;\n    this._lineCap = \"square\";\n    this._centerX = 0;\n    this._centerY = 0;\n    this._width = 8;\n    this._gripLineGap = 2;\n    this._gripLineLength = 8;\n    this._height = 16;\n  }\n  set centerX(value) {\n    if (this._centerX !== value) {\n      this._centerX = value;\n      this.dirtyPath = true;\n    }\n  }\n  get centerX() {\n    return this._centerX;\n  }\n  set centerY(value) {\n    if (this._centerY !== value) {\n      this._centerY = value;\n      this.dirtyPath = true;\n    }\n  }\n  get centerY() {\n    return this._centerY;\n  }\n  set width(value) {\n    if (this._width !== value) {\n      this._width = value;\n      this.dirtyPath = true;\n    }\n  }\n  get width() {\n    return this._width;\n  }\n  set gripLineGap(value) {\n    if (this._gripLineGap !== value) {\n      this._gripLineGap = value;\n      this.dirtyPath = true;\n    }\n  }\n  get gripLineGap() {\n    return this._gripLineGap;\n  }\n  set gripLineLength(value) {\n    if (this._gripLineLength !== value) {\n      this._gripLineLength = value;\n      this.dirtyPath = true;\n    }\n  }\n  get gripLineLength() {\n    return this._gripLineLength;\n  }\n  set height(value) {\n    if (this._height !== value) {\n      this._height = value;\n      this.dirtyPath = true;\n    }\n  }\n  get height() {\n    return this._height;\n  }\n  layout(x, y) {\n    this.centerX = x;\n    this.centerY = y;\n  }\n  static align(minHandle, maxHandle, x, y, width, height, min, max) {\n    const handlePixelAlign = minHandle.strokeWidth / 2;\n    const minHandleX = minHandle.align(x + width * min) + handlePixelAlign;\n    const maxHandleX = minHandleX + minHandle.align(x + width * min, width * (max - min)) - 2 * handlePixelAlign;\n    const handleY = minHandle.align(y + height / 2) + handlePixelAlign;\n    minHandle.layout(minHandleX, handleY);\n    maxHandle.layout(maxHandleX, handleY);\n  }\n  computeBBox() {\n    const {\n      centerX,\n      centerY,\n      width,\n      height\n    } = this;\n    const x = centerX - width / 2;\n    const y = centerY - height / 2;\n    return new BBox(x, y, width, height);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return bbox.containsPoint(point.x, point.y);\n  }\n  updatePath() {\n    var _a, _b, _c;\n    const {\n      centerX,\n      centerY,\n      path,\n      strokeWidth,\n      gripLineGap,\n      gripLineLength\n    } = this;\n    const pixelRatio = (_c = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas) == null ? void 0 : _b.pixelRatio) != null ? _c : 1;\n    path.clear();\n    const halfWidth = Math.floor(this.width / 2 * pixelRatio) / pixelRatio;\n    const halfHeight = Math.floor(this.height / 2 * pixelRatio) / pixelRatio;\n    path.moveTo(centerX - halfWidth, centerY - halfHeight);\n    path.lineTo(centerX + halfWidth, centerY - halfHeight);\n    path.lineTo(centerX + halfWidth, centerY + halfHeight);\n    path.lineTo(centerX - halfWidth, centerY + halfHeight);\n    path.closePath();\n    const dx = Math.floor((gripLineGap + strokeWidth) / 2 * pixelRatio) / pixelRatio;\n    const dy = Math.floor(gripLineLength / 2 * pixelRatio) / pixelRatio;\n    path.moveTo(centerX - dx, centerY - dy);\n    path.lineTo(centerX - dx, centerY + dy);\n    path.moveTo(centerX + dx, centerY - dy);\n    path.lineTo(centerX + dx, centerY + dy);\n  }\n};\nRangeHandle.className = \"RangeHandle\";\n__decorateClass([Validate(COLOR_STRING)], RangeHandle.prototype, \"_fill\", 2);\n__decorateClass([Validate(COLOR_STRING)], RangeHandle.prototype, \"_stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], RangeHandle.prototype, \"_strokeWidth\", 2);\n__decorateClass([Validate(LINE_CAP)], RangeHandle.prototype, \"_lineCap\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], RangeHandle.prototype, \"_width\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], RangeHandle.prototype, \"_gripLineGap\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], RangeHandle.prototype, \"_gripLineLength\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], RangeHandle.prototype, \"_height\", 2);\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeMask.ts\nvar RangeMask = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.zIndex = 2;\n    this.x = 0;\n    this.y = 0;\n    this.width = 200;\n    this.height = 30;\n    this.min = 0;\n    this.max = 1;\n  }\n  layout(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.dirtyPath = true;\n  }\n  update(min, max) {\n    this.min = isNaN(min) ? this.min : min;\n    this.max = isNaN(max) ? this.max : max;\n    this.dirtyPath = true;\n  }\n  computeBBox() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    return new BBox(x, y, width, height);\n  }\n  computeVisibleRangeBBox() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      min,\n      max\n    } = this;\n    const minX = x + width * min;\n    const maxX = x + width * max;\n    return new BBox(minX, y, maxX - minX, height);\n  }\n  updatePath() {\n    const {\n      path,\n      x,\n      y,\n      width,\n      height,\n      min,\n      max,\n      strokeWidth\n    } = this;\n    const pixelAlign = strokeWidth / 2;\n    path.clear();\n    const ax = this.align(x) + pixelAlign;\n    const ay = this.align(y) + pixelAlign;\n    const axw = ax + this.align(x, width) - 2 * pixelAlign;\n    const ayh = ay + this.align(y, height) - 2 * pixelAlign;\n    path.moveTo(ax, ay);\n    path.lineTo(axw, ay);\n    path.lineTo(axw, ayh);\n    path.lineTo(ax, ayh);\n    path.closePath();\n    const minX = this.align(x + width * min) + pixelAlign;\n    const maxX = minX + this.align(x + width * min, width * (max - min)) - 2 * pixelAlign;\n    path.moveTo(minX, ay);\n    path.lineTo(minX, ayh);\n    path.lineTo(maxX, ayh);\n    path.lineTo(maxX, ay);\n    path.closePath();\n  }\n};\nRangeMask.className = \"RangeMask\";\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeSelector.ts\nvar RangeSelector = class extends Group {\n  constructor(children) {\n    super({\n      name: \"rangeSelectorGroup\",\n      layer: true,\n      zIndex: 12 /* NAVIGATOR_ZINDEX */\n    });\n    this.x = 0;\n    this.y = 0;\n    this.width = 200;\n    this.height = 30;\n    this.lOffset = 0;\n    this.rOffset = 0;\n    this.isContainerNode = true;\n    this.background = new Group({\n      name: \"navigator-background\"\n    });\n    this.background.zIndex = 1;\n    this.appendChild(this.background);\n    this.append(children);\n  }\n  layout(x, y, width, height, lOffset, rOffset) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.lOffset = lOffset;\n    this.rOffset = rOffset;\n    this.background.translationX = x;\n    this.background.translationY = y;\n  }\n  updateBackground(oldGroup, newGroup) {\n    if (oldGroup != null) {\n      this.background.removeChild(oldGroup);\n    }\n    if (newGroup != null) {\n      this.background.appendChild(newGroup);\n    }\n  }\n  computeBBox() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      lOffset,\n      rOffset\n    } = this;\n    return new BBox(x - lOffset, y, width + (lOffset + rOffset), height);\n  }\n};\n\n// packages/ag-charts-community/src/chart/navigator/navigator.ts\nvar Navigator = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.miniChart = void 0;\n    this.enabled = false;\n    this.mask = new RangeMask();\n    this.minHandle = new RangeHandle();\n    this.maxHandle = new RangeHandle();\n    this.height = 30;\n    this.margin = 10;\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.rangeSelector = new RangeSelector([this.mask, this.minHandle, this.maxHandle]);\n    this._min = 0;\n    this._max = 1;\n    this.minRange = 1e-3;\n    const region = ctx.regionManager.addRegion(\"navigator\", this.rangeSelector);\n    const dragStates = 16 /* Default */ | 1 /* Animation */ | 8 /* ZoomDrag */;\n    this.destroyFns.push(ctx.scene.attachNode(this.rangeSelector), region.addListener(\"hover\", event => this.onHover(event), dragStates), region.addListener(\"drag-start\", event => this.onDragStart(event), dragStates), region.addListener(\"drag\", event => this.onDrag(event), dragStates), region.addListener(\"drag-end\", () => this.onDragEnd(), dragStates), region.addListener(\"leave\", event => this.onLeave(event), dragStates), ctx.zoomManager.addListener(\"zoom-change\", event => this.onZoomChange(event)));\n    this.updateGroupVisibility();\n  }\n  updateBackground(oldGroup, newGroup) {\n    var _a;\n    (_a = this.rangeSelector) == null ? void 0 : _a.updateBackground(oldGroup, newGroup);\n  }\n  updateGroupVisibility() {\n    const {\n      enabled\n    } = this;\n    if (this.rangeSelector == null || enabled === this.rangeSelector.visible) return;\n    this.rangeSelector.visible = enabled;\n    if (enabled) {\n      this.updateZoom();\n    } else {\n      this.ctx.zoomManager.updateZoom(\"navigator\");\n    }\n  }\n  performLayout(_0) {\n    return __async(this, arguments, function (_ref75) {\n      var _this5 = this;\n      let {\n        shrinkRect\n      } = _ref75;\n      return function* () {\n        if (_this5.enabled) {\n          const navigatorTotalHeight = _this5.height + _this5.margin;\n          shrinkRect.shrink(navigatorTotalHeight, \"bottom\");\n          _this5.y = shrinkRect.y + shrinkRect.height + _this5.margin;\n        } else {\n          _this5.y = 0;\n        }\n        return {\n          shrinkRect\n        };\n      }();\n    });\n  }\n  performCartesianLayout(opts) {\n    return __async(this, null, function* () {\n      const {\n        x,\n        width\n      } = opts.seriesRect;\n      if (this.enabled) {\n        const {\n          y,\n          height\n        } = this;\n        this.layoutNodes(x, y, width, height);\n      }\n      this.x = x;\n      this.width = width;\n    });\n  }\n  onHover(event) {\n    if (!this.enabled) return;\n    const {\n      mask,\n      minHandle,\n      maxHandle\n    } = this;\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    if (minHandle.containsPoint(offsetX, offsetY) || maxHandle.containsPoint(offsetX, offsetY)) {\n      this.ctx.cursorManager.updateCursor(\"navigator\", \"ew-resize\");\n    } else if (mask.computeVisibleRangeBBox().containsPoint(offsetX, offsetY)) {\n      this.ctx.cursorManager.updateCursor(\"navigator\", \"grab\");\n    } else {\n      this.ctx.cursorManager.updateCursor(\"navigator\");\n    }\n  }\n  onDragStart(event) {\n    if (!this.enabled) return;\n    const {\n      mask,\n      minHandle,\n      maxHandle,\n      x,\n      width,\n      _min: min\n    } = this;\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    if (minHandle.zIndex < maxHandle.zIndex) {\n      if (maxHandle.containsPoint(offsetX, offsetY)) {\n        this.dragging = \"max\";\n      } else if (minHandle.containsPoint(offsetX, offsetY)) {\n        this.dragging = \"min\";\n      }\n    } else if (minHandle.containsPoint(offsetX, offsetY)) {\n      this.dragging = \"min\";\n    } else if (maxHandle.containsPoint(offsetX, offsetY)) {\n      this.dragging = \"max\";\n    }\n    if (this.dragging == null && mask.computeVisibleRangeBBox().containsPoint(offsetX, offsetY)) {\n      this.dragging = \"pan\";\n      this.panStart = (offsetX - x) / width - min;\n    }\n    if (this.dragging != null) {\n      this.ctx.zoomManager.fireZoomPanStartEvent(\"navigator\");\n    }\n  }\n  onDrag(event) {\n    if (!this.enabled || this.dragging == null) return;\n    const {\n      dragging,\n      minRange,\n      panStart,\n      x,\n      width\n    } = this;\n    let {\n      _min: min,\n      _max: max\n    } = this;\n    const {\n      offsetX\n    } = event;\n    const ratio = (offsetX - x) / width;\n    if (dragging === \"min\") {\n      min = clamp(0, ratio, max - minRange);\n    } else if (dragging === \"max\") {\n      max = clamp(min + minRange, ratio, 1);\n    } else if (dragging === \"pan\" && panStart != null) {\n      const span = max - min;\n      min = clamp(0, ratio - panStart, 1 - span);\n      max = min + span;\n    }\n    this._min = min;\n    this._max = max;\n    this.updateZoom();\n  }\n  onDragEnd() {\n    this.dragging = void 0;\n  }\n  onLeave(_event) {\n    this.ctx.cursorManager.updateCursor(\"navigator\");\n  }\n  onZoomChange(event) {\n    const {\n      x\n    } = event;\n    if (!x) return;\n    this._min = x.min;\n    this._max = x.max;\n    this.updateNodes(x.min, x.max);\n  }\n  layoutNodes(x, y, width, height) {\n    const {\n      rangeSelector,\n      mask,\n      minHandle,\n      maxHandle,\n      _min: min,\n      _max: max\n    } = this;\n    rangeSelector.layout(x, y, width, height, minHandle.width / 2, maxHandle.width / 2);\n    mask.layout(x, y, width, height);\n    RangeHandle.align(minHandle, maxHandle, x, y, width, height, min, max);\n    if (min + (max - min) / 2 < 0.5) {\n      minHandle.zIndex = 3;\n      maxHandle.zIndex = 4;\n    } else {\n      minHandle.zIndex = 4;\n      maxHandle.zIndex = 3;\n    }\n  }\n  updateNodes(min, max) {\n    this.mask.update(min, max);\n  }\n  updateZoom() {\n    if (!this.enabled) return;\n    const {\n      _min: min,\n      _max: max\n    } = this;\n    const zoom2 = this.ctx.zoomManager.getZoom();\n    if (min == null || max == null) return;\n    const warnOnConflict = stateId => {\n      if (this.min == null && this.max == null) return;\n      Logger.warnOnce(\"Could not apply [navigator.min] or [navigator.max] as [\".concat(stateId, \"] has modified the initial zoom state.\"));\n    };\n    return this.ctx.zoomManager.updateZoom(\"navigator\", {\n      x: {\n        min,\n        max\n      },\n      y: zoom2 == null ? void 0 : zoom2.y\n    }, false, warnOnConflict);\n  }\n};\n__decorateClass([Validate(OBJECT, {\n  optional: true\n})], Navigator.prototype, \"miniChart\", 2);\n__decorateClass([Validate(BOOLEAN), ObserveChanges(target => target.updateGroupVisibility())], Navigator.prototype, \"enabled\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Navigator.prototype, \"height\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], Navigator.prototype, \"margin\", 2);\n__decorateClass([ActionOnSet({\n  newValue(min) {\n    this._min = min;\n    this.updateZoom();\n  }\n}), Validate(AND(RATIO, LESS_THAN(\"max\")), {\n  optional: true\n})], Navigator.prototype, \"min\", 2);\n__decorateClass([ActionOnSet({\n  newValue(max) {\n    this._max = max;\n    this.updateZoom();\n  }\n}), Validate(AND(RATIO, GREATER_THAN(\"min\")), {\n  optional: true\n})], Navigator.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/navigator/navigatorModule.ts\nvar NavigatorModule = {\n  type: \"root\",\n  optionsKey: \"navigator\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  instanceConstructor: Navigator,\n  themeTemplate: {\n    navigator: {\n      enabled: false,\n      height: 30,\n      mask: {\n        fill: \"#999999\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        fillOpacity: 0.2\n      },\n      minHandle: {\n        fill: \"#f2f2f2\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        width: 9,\n        height: 16,\n        gripLineGap: 1,\n        gripLineLength: 8\n      },\n      maxHandle: {\n        fill: \"#f2f2f2\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        width: 9,\n        height: 16,\n        gripLineGap: 1,\n        gripLineLength: 8\n      }\n    }\n  }\n};\n\n// packages/ag-charts-community/src/module/theme.ts\nvar singleSeriesPaletteFactory = _ref76 => {\n  let {\n    takeColors\n  } = _ref76;\n  const {\n    fills: [fill],\n    strokes: [stroke]\n  } = takeColors(1);\n  return {\n    fill,\n    stroke\n  };\n};\nvar markerPaletteFactory = params => {\n  const {\n    fill,\n    stroke\n  } = singleSeriesPaletteFactory(params);\n  return {\n    marker: {\n      fill,\n      stroke\n    }\n  };\n};\n\n// packages/ag-charts-community/src/motion/pathMotion.ts\nfunction pathMotion(groupId, subId, animationManager, paths, fns) {\n  const {\n    addPhaseFn,\n    updatePhaseFn,\n    removePhaseFn\n  } = fns;\n  const animate = (phase, path, updateFn) => {\n    animationManager.animate({\n      id: \"\".concat(groupId, \"_\").concat(subId, \"_\").concat(path.id, \"_\").concat(phase),\n      groupId,\n      from: 0,\n      to: 1,\n      ease: easeOut,\n      collapsable: false,\n      onUpdate(ratio, preInit) {\n        if (preInit && phase !== \"removed\") return;\n        path.path.clear(true);\n        updateFn(ratio, path);\n        path.checkPathDirty();\n      },\n      onStop() {\n        if (phase !== \"added\") return;\n        path.path.clear(true);\n        updateFn(1, path);\n        path.checkPathDirty();\n      },\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase]\n    });\n  };\n  for (const path of paths) {\n    if (!animationManager.isSkipped()) {\n      animate(\"removed\", path, removePhaseFn);\n      animate(\"updated\", path, updatePhaseFn);\n    }\n    animate(\"added\", path, addPhaseFn);\n  }\n}\n\n// packages/ag-charts-community/src/util/sanitize.ts\nvar element = null;\nfunction sanitizeHtml(text) {\n  if (text == null) {\n    return;\n  } else if (text === \"\") {\n    return \"\";\n  }\n  element != null ? element : element = createElement(\"div\");\n  element.textContent = String(text);\n  return element.innerHTML;\n}\n\n// packages/ag-charts-community/src/chart/series/seriesLabelUtil.ts\nfunction seriesLabelFadeInAnimation(_ref77, subId, animationManager) {\n  let {\n    id\n  } = _ref77;\n  for (var _len28 = arguments.length, labelSelections = new Array(_len28 > 3 ? _len28 - 3 : 0), _key28 = 3; _key28 < _len28; _key28++) {\n    labelSelections[_key28 - 3] = arguments[_key28];\n  }\n  staticFromToMotion(id, subId, animationManager, labelSelections, {\n    opacity: 0\n  }, {\n    opacity: 1\n  }, {\n    phase: \"trailing\"\n  });\n}\nfunction seriesLabelFadeOutAnimation(_ref78, subId, animationManager) {\n  let {\n    id\n  } = _ref78;\n  for (var _len29 = arguments.length, labelSelections = new Array(_len29 > 3 ? _len29 - 3 : 0), _key29 = 3; _key29 < _len29; _key29++) {\n    labelSelections[_key29 - 3] = arguments[_key29];\n  }\n  staticFromToMotion(id, subId, animationManager, labelSelections, {\n    opacity: 1\n  }, {\n    opacity: 0\n  }, {\n    phase: \"remove\"\n  });\n}\nfunction resetLabelFn(_node) {\n  return {\n    opacity: 1\n  };\n}\n\n// packages/ag-charts-community/src/scene/util/changeDetectableProperties.ts\nvar ChangeDetectableProperties = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this._dirty = 3 /* MAJOR */;\n  }\n  markDirty(_source) {\n    let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    if (this._dirty < type) {\n      this._dirty = type;\n    }\n  }\n  markClean(_opts) {\n    this._dirty = 0 /* NONE */;\n  }\n  isDirty() {\n    return this._dirty > 0 /* NONE */;\n  }\n};\n\n// packages/ag-charts-community/src/scene/dropShadow.ts\nvar DropShadow = class extends ChangeDetectableProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.color = \"rgba(0, 0, 0, 0.5)\";\n    this.xOffset = 0;\n    this.yOffset = 0;\n    this.blur = 5;\n  }\n};\n__decorateClass([Validate(BOOLEAN), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], DropShadow.prototype, \"enabled\", 2);\n__decorateClass([Validate(COLOR_STRING), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], DropShadow.prototype, \"color\", 2);\n__decorateClass([Validate(NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], DropShadow.prototype, \"xOffset\", 2);\n__decorateClass([Validate(NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], DropShadow.prototype, \"yOffset\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], DropShadow.prototype, \"blur\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesMarker.ts\nvar MARKER_SHAPE = predicateWithMessage(value => isMarkerShape(value) || typeof Marker === \"function\" && Object.create(value.prototype) instanceof Marker, \"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class\");\nvar SeriesMarker = class extends ChangeDetectableProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.shape = Circle;\n    this.size = 6;\n    this.fillOpacity = 1;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n  }\n  getStyle() {\n    const {\n      size,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      strokeOpacity\n    } = this;\n    return {\n      size,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      strokeOpacity\n    };\n  }\n  getDiameter() {\n    return this.size + this.strokeWidth;\n  }\n};\n__decorateClass([Validate(BOOLEAN), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"enabled\", 2);\n__decorateClass([Validate(MARKER_SHAPE), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"shape\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"size\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n}), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n}), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n}), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], SeriesMarker.prototype, \"formatter\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesTooltip.ts\nvar SeriesTooltipInteraction = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], SeriesTooltipInteraction.prototype, \"enabled\", 2);\nvar SeriesTooltip = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.interaction = new SeriesTooltipInteraction();\n    this.position = new TooltipPosition();\n  }\n  toTooltipHtml(defaults, params) {\n    if (this.renderer) {\n      return toTooltipHtml(this.renderer(params), defaults);\n    }\n    return toTooltipHtml(defaults);\n  }\n};\n__decorateClass([Validate(BOOLEAN)], SeriesTooltip.prototype, \"enabled\", 2);\n__decorateClass([Validate(BOOLEAN, {\n  optional: true\n})], SeriesTooltip.prototype, \"showArrow\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], SeriesTooltip.prototype, \"renderer\", 2);\n__decorateClass([Validate(OBJECT)], SeriesTooltip.prototype, \"interaction\", 2);\n__decorateClass([Validate(OBJECT)], SeriesTooltip.prototype, \"position\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeriesProperties.ts\nvar AreaSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.xName = void 0;\n    this.fill = \"#c16068\";\n    this.fillOpacity = 1;\n    this.stroke = \"#874349\";\n    this.strokeWidth = 2;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.shadow = new DropShadow();\n    this.marker = new SeriesMarker();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n    this.connectMissingData = false;\n  }\n};\n__decorateClass([Validate(STRING)], AreaSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], AreaSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING)], AreaSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], AreaSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], AreaSeriesProperties.prototype, \"normalizedTo\", 2);\n__decorateClass([Validate(COLOR_STRING)], AreaSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO)], AreaSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING)], AreaSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AreaSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO)], AreaSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], AreaSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], AreaSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(OBJECT)], AreaSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([Validate(OBJECT)], AreaSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], AreaSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], AreaSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([Validate(BOOLEAN)], AreaSeriesProperties.prototype, \"connectMissingData\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/markerUtil.ts\nfunction markerFadeInAnimation(_ref79, animationManager, status) {\n  let {\n    id\n  } = _ref79;\n  const params = {\n    phase: status ? NODE_UPDATE_STATE_TO_PHASE_MAPPING[status] : \"trailing\"\n  };\n  for (var _len30 = arguments.length, markerSelections = new Array(_len30 > 3 ? _len30 - 3 : 0), _key30 = 3; _key30 < _len30; _key30++) {\n    markerSelections[_key30 - 3] = arguments[_key30];\n  }\n  staticFromToMotion(id, \"markers\", animationManager, markerSelections, {\n    opacity: 0\n  }, {\n    opacity: 1\n  }, params);\n  markerSelections.forEach(s => s.cleanup());\n}\nfunction markerScaleInAnimation(_ref80, animationManager) {\n  let {\n    id\n  } = _ref80;\n  for (var _len31 = arguments.length, markerSelections = new Array(_len31 > 2 ? _len31 - 2 : 0), _key31 = 2; _key31 < _len31; _key31++) {\n    markerSelections[_key31 - 2] = arguments[_key31];\n  }\n  staticFromToMotion(id, \"markers\", animationManager, markerSelections, {\n    scalingX: 0,\n    scalingY: 0\n  }, {\n    scalingX: 1,\n    scalingY: 1\n  }, {\n    phase: \"initial\"\n  });\n  markerSelections.forEach(s => s.cleanup());\n}\nfunction markerSwipeScaleInAnimation(_ref81, animationManager) {\n  let {\n    id,\n    nodeDataDependencies\n  } = _ref81;\n  const seriesWidth = nodeDataDependencies.seriesRectWidth;\n  const fromFn = (_, datum) => {\n    var _a, _b;\n    const x = (_b = (_a = datum.midPoint) == null ? void 0 : _a.x) != null ? _b : seriesWidth;\n    let delay = clamp(0, inverseEaseOut(x / seriesWidth), 1);\n    if (isNaN(delay)) {\n      delay = 0;\n    }\n    return {\n      scalingX: 0,\n      scalingY: 0,\n      delay,\n      duration: QUICK_TRANSITION,\n      phase: \"initial\"\n    };\n  };\n  const toFn = () => {\n    return {\n      scalingX: 1,\n      scalingY: 1\n    };\n  };\n  for (var _len32 = arguments.length, markerSelections = new Array(_len32 > 2 ? _len32 - 2 : 0), _key32 = 2; _key32 < _len32; _key32++) {\n    markerSelections[_key32 - 2] = arguments[_key32];\n  }\n  fromToMotion(id, \"markers\", animationManager, markerSelections, {\n    fromFn,\n    toFn\n  });\n}\nfunction resetMarkerFn(_node) {\n  return {\n    opacity: 1,\n    scalingX: 1,\n    scalingY: 1\n  };\n}\nfunction resetMarkerPositionFn(_node, datum) {\n  var _a, _b, _c, _d;\n  return {\n    translationX: (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : NaN,\n    translationY: (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : NaN\n  };\n}\nfunction prepareMarkerAnimation(pairMap, parentStatus) {\n  const readFirstPair = (xValue, type) => {\n    const val = pairMap[type][xValue];\n    return Array.isArray(val) ? val[0] : val;\n  };\n  const markerStatus = datum => {\n    const {\n      xValue\n    } = datum;\n    if (pairMap.moved[xValue]) {\n      return {\n        point: readFirstPair(xValue, \"moved\"),\n        status: \"updated\"\n      };\n    } else if (pairMap.removed[xValue]) {\n      return {\n        point: readFirstPair(xValue, \"removed\"),\n        status: \"removed\"\n      };\n    } else if (pairMap.added[xValue]) {\n      return {\n        point: readFirstPair(xValue, \"added\"),\n        status: \"added\"\n      };\n    }\n    return {\n      status: \"unknown\"\n    };\n  };\n  const fromFn = (marker, datum) => {\n    var _a, _b, _c, _d, _e, _f;\n    const {\n      status,\n      point\n    } = markerStatus(datum);\n    if (status === \"unknown\") return {\n      opacity: 0\n    };\n    const defaults = {\n      translationX: (_b = (_a = point == null ? void 0 : point.from) == null ? void 0 : _a.x) != null ? _b : marker.translationX,\n      translationY: (_d = (_c = point == null ? void 0 : point.from) == null ? void 0 : _c.y) != null ? _d : marker.translationY,\n      opacity: marker.opacity,\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n    };\n    if (parentStatus === \"added\") {\n      return __spreadProps(__spreadValues({}, defaults), {\n        opacity: 0,\n        translationX: (_e = point == null ? void 0 : point.to) == null ? void 0 : _e.x,\n        translationY: (_f = point == null ? void 0 : point.to) == null ? void 0 : _f.y,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"added\"]\n      });\n    }\n    if (status === \"added\") {\n      defaults.opacity = 0;\n    }\n    return defaults;\n  };\n  const toFn = (_marker, datum) => {\n    var _a, _b;\n    const {\n      status,\n      point\n    } = markerStatus(datum);\n    if (status === \"unknown\") return {\n      opacity: 0\n    };\n    const defaults = {\n      translationX: datum.point.x,\n      translationY: datum.point.y,\n      opacity: 1,\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n    };\n    if (status === \"removed\" || parentStatus === \"removed\") {\n      return __spreadProps(__spreadValues({}, defaults), {\n        translationX: (_a = point == null ? void 0 : point.to) == null ? void 0 : _a.x,\n        translationY: (_b = point == null ? void 0 : point.to) == null ? void 0 : _b.y,\n        opacity: 0,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"removed\"]\n      });\n    }\n    return defaults;\n  };\n  return {\n    fromFn,\n    toFn\n  };\n}\nfunction computeMarkerFocusBounds(series, _ref82) {\n  let {\n    datumIndex\n  } = _ref82;\n  const nodeData = series.getNodeData();\n  if (nodeData === void 0) return void 0;\n  const datum = nodeData[datumIndex];\n  if (datum === void 0 || datum.point === void 0) return void 0;\n  const size = series.getFormattedMarkerStyle(datum).size;\n  const radius = size / 2;\n  const {\n    x,\n    y\n  } = series.contentGroup.inverseTransformPoint(datum.point.x - radius, datum.point.y - radius);\n  return new BBox(x, y, size, size);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/pathUtil.ts\nfunction minMax(nodeData) {\n  return nodeData.reduce((_ref83, node) => {\n    let {\n      min,\n      max\n    } = _ref83;\n    if (min == null || min.point.x > node.point.x) {\n      min = node;\n    }\n    if (max == null || max.point.x < node.point.x) {\n      max = node;\n    }\n    return {\n      min,\n      max\n    };\n  }, {});\n}\nfunction intersectionOnLine(a, b, targetX) {\n  const m = (b.y - a.y) / (b.x - a.x);\n  const y = (targetX - a.x) * m + a.y;\n  return {\n    x: targetX,\n    y\n  };\n}\nfunction backfillPathPoint(results, process, skip, processFn) {\n  let prevMarkerIdx = -1,\n    nextMarkerIdx = 0;\n  const toProcess = [];\n  while (nextMarkerIdx < results.length) {\n    if (results[nextMarkerIdx].change === process) {\n      toProcess.push(results[nextMarkerIdx]);\n      nextMarkerIdx++;\n      continue;\n    }\n    if (results[nextMarkerIdx].change === skip) {\n      nextMarkerIdx++;\n      continue;\n    }\n    if (toProcess.length > 0) {\n      processFn(toProcess, prevMarkerIdx, nextMarkerIdx);\n      toProcess.length = 0;\n    }\n    prevMarkerIdx = nextMarkerIdx;\n    nextMarkerIdx++;\n  }\n  if (toProcess.length > 0) {\n    processFn(toProcess, prevMarkerIdx, nextMarkerIdx);\n  }\n}\nfunction backfillPathPointData(result, splitMode) {\n  backfillPathPoint(result, \"out\", \"in\", (toProcess, sIdx, eIdx) => {\n    var _a, _b;\n    if (sIdx === -1 && result[eIdx]) {\n      toProcess.forEach(d => d.to = result[eIdx].from);\n    } else if (eIdx === result.length && result[sIdx]) {\n      toProcess.forEach(d => d.to = result[sIdx].from);\n    } else if (splitMode === \"intersect\" && ((_a = result[sIdx]) == null ? void 0 : _a.from) && ((_b = result[eIdx]) == null ? void 0 : _b.from)) {\n      toProcess.forEach(d => d.to = intersectionOnLine(result[sIdx].from, result[eIdx].from, d.from.x));\n    } else {\n      toProcess.forEach(d => d.to = d.from);\n    }\n  });\n  backfillPathPoint(result, \"in\", \"out\", (toProcess, sIdx, eIdx) => {\n    var _a, _b;\n    if (sIdx === -1 && result[eIdx]) {\n      toProcess.forEach(d => d.from = result[eIdx].to);\n    } else if (eIdx === result.length && result[sIdx]) {\n      toProcess.forEach(d => d.from = result[sIdx].to);\n    } else if (splitMode === \"intersect\" && ((_a = result[sIdx]) == null ? void 0 : _a.to) && ((_b = result[eIdx]) == null ? void 0 : _b.to)) {\n      toProcess.forEach(d => d.from = intersectionOnLine(result[sIdx].to, result[eIdx].to, d.to.x));\n    } else {\n      toProcess.forEach(d => d.from = d.to);\n    }\n  });\n}\nfunction calculatePoint(from, to, ratio) {\n  const x1 = isNaN(from.x) ? to.x : from.x;\n  const y1 = isNaN(from.y) ? to.y : from.y;\n  const xd = to.x - from.x;\n  const yd = to.y - from.y;\n  const xr = isNaN(xd) ? 0 : xd * ratio;\n  const yr = isNaN(yd) ? 0 : yd * ratio;\n  return {\n    x: x1 + xr,\n    y: y1 + yr\n  };\n}\nfunction renderPartialPath(pairData, ratios, path) {\n  const {\n    path: linePath\n  } = path;\n  let previousTo;\n  for (const data of pairData) {\n    const {\n      from,\n      to\n    } = data;\n    const ratio = ratios[data.change];\n    if (ratio == null || from == null || to == null) continue;\n    const {\n      x,\n      y\n    } = calculatePoint(from, to, ratio);\n    if (data.moveTo === false) {\n      linePath.lineTo(x, y);\n    } else if (data.moveTo === true || !previousTo) {\n      linePath.moveTo(x, y);\n    } else if (previousTo) {\n      const moveToRatio = data.moveTo === \"in\" ? ratio : 1 - ratio;\n      const {\n        x: midPointX,\n        y: midPointY\n      } = calculatePoint(previousTo, {\n        x,\n        y\n      }, moveToRatio);\n      linePath.lineTo(midPointX, midPointY);\n      linePath.moveTo(x, y);\n    }\n    previousTo = {\n      x,\n      y\n    };\n  }\n}\nfunction pathSwipeInAnimation(_ref84, animationManager) {\n  let {\n    id,\n    visible,\n    nodeDataDependencies\n  } = _ref84;\n  const {\n    seriesRectWidth: width,\n    seriesRectHeight: height\n  } = nodeDataDependencies;\n  for (var _len33 = arguments.length, paths = new Array(_len33 > 2 ? _len33 - 2 : 0), _key33 = 2; _key33 < _len33; _key33++) {\n    paths[_key33 - 2] = arguments[_key33];\n  }\n  staticFromToMotion(id, \"path_properties\", animationManager, paths, {\n    clipX: 0\n  }, {\n    clipX: width\n  }, {\n    phase: \"initial\",\n    start: {\n      clipMode: \"normal\",\n      clipY: height,\n      visible\n    },\n    finish: {\n      clipMode: void 0,\n      visible\n    }\n  });\n}\nfunction pathFadeInAnimation(_ref85, subId, animationManager) {\n  let {\n    id\n  } = _ref85;\n  let phase = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"add\";\n  for (var _len34 = arguments.length, selection = new Array(_len34 > 4 ? _len34 - 4 : 0), _key34 = 4; _key34 < _len34; _key34++) {\n    selection[_key34 - 4] = arguments[_key34];\n  }\n  staticFromToMotion(id, subId, animationManager, selection, {\n    opacity: 0\n  }, {\n    opacity: 1\n  }, {\n    phase\n  });\n}\nfunction pathFadeOutAnimation(_ref86, subId, animationManager) {\n  let {\n    id\n  } = _ref86;\n  for (var _len35 = arguments.length, selection = new Array(_len35 > 3 ? _len35 - 3 : 0), _key35 = 3; _key35 < _len35; _key35++) {\n    selection[_key35 - 3] = arguments[_key35];\n  }\n  staticFromToMotion(id, subId, animationManager, selection, {\n    opacity: 1\n  }, {\n    opacity: 0\n  }, {\n    phase: \"remove\"\n  });\n}\nfunction buildResetPathFn(opts) {\n  return _node => {\n    return {\n      opacity: opts.getOpacity(),\n      clipScalingX: 1,\n      clipMode: void 0\n    };\n  };\n}\nfunction updateClipPath(_ref87, path) {\n  let {\n    nodeDataDependencies\n  } = _ref87;\n  const toFinite = value => isFinite(value) ? value : 0;\n  path.clipX = toFinite(nodeDataDependencies.seriesRectWidth);\n  path.clipY = toFinite(nodeDataDependencies.seriesRectHeight);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/scaling.ts\nfunction isContinuousScaling(scaling) {\n  return scaling.type === \"continuous\" || scaling.type === \"log\";\n}\nfunction isCategoryScaling(scaling) {\n  return scaling.type === \"category\";\n}\nfunction areEqual(a, b) {\n  return a.domain.length === b.domain.length && a.range.length === b.range.length && a.domain.every((val, index) => val === b.domain[index]) && a.range.every((val, index) => val === b.range[index]);\n}\nfunction areScalingEqual(a, b) {\n  if (a === void 0 || b === void 0) {\n    return a !== void 0 || b !== void 0;\n  }\n  if (isContinuousScaling(a) && isContinuousScaling(b)) {\n    return a.type === b.type && areEqual(a, b);\n  }\n  if (isCategoryScaling(a) && isCategoryScaling(b)) {\n    return areEqual(a, b);\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineUtil.ts\nfunction scale(val, scaling) {\n  if (!scaling) return NaN;\n  if (val instanceof Date) {\n    val = val.getTime();\n  }\n  if (scaling.type === \"continuous\" && typeof val === \"number\") {\n    const domainRatio = (val - scaling.domain[0]) / (scaling.domain[1] - scaling.domain[0]);\n    return domainRatio * (scaling.range[1] - scaling.range[0]) + scaling.range[0];\n  }\n  if (scaling.type === \"log\" && typeof val === \"number\") {\n    return scaling.convert(val);\n  }\n  const matchingIndex = scaling.domain.findIndex(d => d === val);\n  if (matchingIndex >= 0) {\n    return scaling.range[matchingIndex];\n  }\n  return NaN;\n}\nfunction scalesChanged(newData, oldData) {\n  return !areScalingEqual(newData.scales.x, oldData.scales.x) || !areScalingEqual(newData.scales.y, oldData.scales.y);\n}\nfunction closeMatch(a, b) {\n  const an = Number(a);\n  const bn = Number(b);\n  if (!isNaN(an) && !isNaN(bn)) {\n    return Math.abs(bn - an) < 0.25;\n  }\n  return a === b;\n}\nfunction calculateMoveTo() {\n  let from = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  let to = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (from === to) {\n    return Boolean(from);\n  }\n  return from ? \"in\" : \"out\";\n}\nfunction pairContinuousData(newData, oldData) {\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _a, _b, _c, _d;\n  const {\n    backfillSplitMode = \"intersect\"\n  } = opts;\n  const toNewScale = oldDatum => {\n    var _a2, _b2;\n    return {\n      x: scale((_a2 = oldDatum.xValue) != null ? _a2 : NaN, newData.scales.x),\n      y: scale((_b2 = oldDatum.yValue) != null ? _b2 : NaN, newData.scales.y)\n    };\n  };\n  const toOldScale = newDatum => {\n    var _a2, _b2;\n    return {\n      x: scale((_a2 = newDatum.xValue) != null ? _a2 : NaN, oldData.scales.x),\n      y: scale((_b2 = newDatum.yValue) != null ? _b2 : NaN, oldData.scales.y)\n    };\n  };\n  const result = [];\n  const resultMap = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const pairUp = function (from, to, xValue) {\n    let change = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"move\";\n    if (from && (isNaN(from.point.x) || isNaN(from.point.y))) {\n      from = to;\n    }\n    const resultPoint = {\n      from: from == null ? void 0 : from.point,\n      to: to == null ? void 0 : to.point,\n      moveTo: calculateMoveTo(from == null ? void 0 : from.point.moveTo, to == null ? void 0 : to.point.moveTo),\n      change\n    };\n    if (change === \"move\") {\n      resultMap.moved[xValue] = resultPoint;\n      oldIdx++;\n      newIdx++;\n    } else if (change === \"in\") {\n      resultMap.added[xValue] = resultPoint;\n      newIdx++;\n    } else if (change === \"out\") {\n      resultMap.removed[xValue] = resultPoint;\n      oldIdx++;\n    }\n    result.push(resultPoint);\n  };\n  const {\n    min: minFromNode,\n    max: maxFromNode\n  } = minMax(oldData.nodeData);\n  const {\n    min: minToNode,\n    max: maxToNode\n  } = minMax(newData.nodeData);\n  let oldIdx = 0;\n  let newIdx = 0;\n  while (oldIdx < oldData.nodeData.length || newIdx < newData.nodeData.length) {\n    const from = oldData.nodeData[oldIdx];\n    const to = newData.nodeData[newIdx];\n    const fromShifted = from ? toNewScale(from) : void 0;\n    const toUnshifted = to ? toOldScale(to) : void 0;\n    const NA = void 0;\n    if (fromShifted && closeMatch(fromShifted.x, to == null ? void 0 : to.point.x)) {\n      pairUp(from, to, to.xValue, \"move\");\n    } else if (fromShifted && fromShifted.x < ((_a = minToNode == null ? void 0 : minToNode.point.x) != null ? _a : -Infinity)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (fromShifted && fromShifted.x > ((_b = maxToNode == null ? void 0 : maxToNode.point.x) != null ? _b : Infinity)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (toUnshifted && toUnshifted.x < ((_c = minFromNode == null ? void 0 : minFromNode.point.x) != null ? _c : -Infinity)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (toUnshifted && toUnshifted.x > ((_d = maxFromNode == null ? void 0 : maxFromNode.point.x) != null ? _d : Infinity)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (fromShifted && fromShifted.x < (to == null ? void 0 : to.point.x)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (toUnshifted && toUnshifted.x < (from == null ? void 0 : from.point.x)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (from) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (to) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else {\n      throw new Error(\"Unable to process points\");\n    }\n  }\n  backfillPathPointData(result, backfillSplitMode);\n  return {\n    result,\n    resultMap\n  };\n}\nfunction pairCategoryData(newData, oldData, diff2) {\n  let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var _a, _b, _c;\n  const {\n    backfillSplitMode = \"intersect\",\n    multiDatum = false\n  } = opts;\n  const result = [];\n  const resultMapSingle = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const resultMapMulti = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const pointResultMapping = {\n    in: \"added\",\n    move: \"moved\",\n    out: \"removed\"\n  };\n  let previousResultPoint = void 0;\n  let previousXValue = void 0;\n  const addToResultMap = (xValue, newPoint) => {\n    var _a2, _b2;\n    const type = pointResultMapping[newPoint.change];\n    if (multiDatum) {\n      (_b2 = (_a2 = resultMapMulti[type])[xValue]) != null ? _b2 : _a2[xValue] = [];\n      resultMapMulti[type][xValue].push(newPoint);\n    } else {\n      resultMapSingle[type][xValue] = newPoint;\n    }\n    previousResultPoint = newPoint;\n    previousXValue = transformIntegratedCategoryValue(xValue);\n  };\n  let oldIndex = 0;\n  let newIndex = 0;\n  let isXUnordered = false;\n  while (oldIndex < oldData.nodeData.length || newIndex < newData.nodeData.length) {\n    const before = oldData.nodeData[oldIndex];\n    const after = newData.nodeData[newIndex];\n    const bXValue = transformIntegratedCategoryValue(before == null ? void 0 : before.xValue);\n    const aXValue = transformIntegratedCategoryValue(after == null ? void 0 : after.xValue);\n    let resultPoint;\n    if (bXValue === aXValue) {\n      resultPoint = {\n        change: \"move\",\n        moveTo: calculateMoveTo((_a = before.point.moveTo) != null ? _a : false, after.point.moveTo),\n        from: before.point,\n        to: after.point\n      };\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n      newIndex++;\n    } else if (diff2 == null ? void 0 : diff2.removed.has(String(bXValue))) {\n      resultPoint = {\n        change: \"out\",\n        moveTo: (_b = before.point.moveTo) != null ? _b : false,\n        from: before.point\n      };\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n    } else if (diff2 == null ? void 0 : diff2.added.has(String(aXValue))) {\n      resultPoint = {\n        change: \"in\",\n        moveTo: (_c = after.point.moveTo) != null ? _c : false,\n        to: after.point\n      };\n      addToResultMap(after == null ? void 0 : after.xValue, resultPoint);\n      newIndex++;\n    } else if (multiDatum && previousResultPoint && previousXValue === bXValue) {\n      resultPoint = __spreadValues({}, previousResultPoint);\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n    } else if (multiDatum && previousResultPoint && previousXValue === aXValue) {\n      resultPoint = __spreadValues({}, previousResultPoint);\n      addToResultMap(after == null ? void 0 : after.xValue, resultPoint);\n      newIndex++;\n    } else {\n      isXUnordered = true;\n      break;\n    }\n    result.push(resultPoint);\n  }\n  let previousX = -Infinity;\n  isXUnordered || (isXUnordered = result.some(pathPoint => {\n    const {\n      change: marker,\n      to: {\n        x = -Infinity\n      } = {}\n    } = pathPoint;\n    if (marker === \"out\") return;\n    const unordered = x < previousX;\n    previousX = x;\n    return unordered;\n  }));\n  if (isXUnordered) {\n    return {\n      result: void 0,\n      resultMap: void 0\n    };\n  }\n  backfillPathPointData(result, backfillSplitMode);\n  return {\n    result,\n    resultMap: multiDatum ? resultMapMulti : resultMapSingle\n  };\n}\nfunction determinePathStatus(newData, oldData, pairData) {\n  var _a, _b, _c, _d;\n  let status = \"updated\";\n  const visible = data => {\n    return data.visible;\n  };\n  if (!visible(oldData) && visible(newData)) {\n    status = \"added\";\n  } else if (visible(oldData) && !visible(newData)) {\n    status = \"removed\";\n  } else {\n    for (let i = 0; i < pairData.length; i++) {\n      if (pairData[i].change !== \"move\") break;\n      if (((_a = pairData[i].from) == null ? void 0 : _a.x) !== ((_b = pairData[i].to) == null ? void 0 : _b.x)) break;\n      if (((_c = pairData[i].from) == null ? void 0 : _c.y) !== ((_d = pairData[i].to) == null ? void 0 : _d.y)) break;\n      if (i === pairData.length - 1) return \"no-op\";\n    }\n  }\n  return status;\n}\nfunction prepareLinePathPropertyAnimation(status, visibleToggleMode) {\n  const phase = visibleToggleMode === \"none\" ? \"updated\" : status;\n  const result = {\n    fromFn: _path => {\n      let mixin;\n      if (status === \"removed\") {\n        mixin = {\n          finish: {\n            visible: false\n          }\n        };\n      } else if (status === \"added\") {\n        mixin = {\n          start: {\n            visible: true\n          }\n        };\n      } else {\n        mixin = {};\n      }\n      return __spreadValues({\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase]\n      }, mixin);\n    },\n    toFn: _path => {\n      return {\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase]\n      };\n    }\n  };\n  if (visibleToggleMode === \"fade\") {\n    return {\n      fromFn: path => {\n        const opacity = status === \"added\" ? 0 : path.opacity;\n        return __spreadValues({\n          opacity\n        }, result.fromFn(path));\n      },\n      toFn: path => {\n        const opacity = status === \"removed\" ? 0 : 1;\n        return __spreadValues({\n          opacity\n        }, result.toFn(path));\n      }\n    };\n  }\n  return result;\n}\nfunction prepareLinePathAnimationFns(newData, oldData, pairData, visibleToggleMode, render) {\n  const status = determinePathStatus(newData, oldData, pairData);\n  const removePhaseFn = (ratio, path) => {\n    render(pairData, {\n      move: 0,\n      out: ratio\n    }, path);\n  };\n  const updatePhaseFn = (ratio, path) => {\n    render(pairData, {\n      move: ratio\n    }, path);\n  };\n  const addPhaseFn = (ratio, path) => {\n    render(pairData, {\n      move: 1,\n      in: ratio\n    }, path);\n  };\n  const pathProperties = prepareLinePathPropertyAnimation(status, visibleToggleMode);\n  return {\n    status,\n    path: {\n      addPhaseFn,\n      updatePhaseFn,\n      removePhaseFn\n    },\n    pathProperties\n  };\n}\nfunction prepareLinePathAnimation(newData, oldData, diff2) {\n  var _a, _b, _c;\n  const isCategoryBased = ((_a = newData.scales.x) == null ? void 0 : _a.type) === \"category\";\n  const wasCategoryBased = ((_b = oldData.scales.x) == null ? void 0 : _b.type) === \"category\";\n  if (isCategoryBased !== wasCategoryBased) {\n    return;\n  }\n  const {\n    result: pairData,\n    resultMap: pairMap\n  } = isCategoryBased ? pairCategoryData(newData, oldData, diff2) : pairContinuousData(newData, oldData);\n  let status = \"updated\";\n  if (oldData.visible && !newData.visible) {\n    status = \"removed\";\n  } else if (!oldData.visible && newData.visible) {\n    status = \"added\";\n  }\n  if (pairData === void 0 || pairMap === void 0) {\n    return;\n  }\n  const hasMotion = ((_c = diff2 == null ? void 0 : diff2.changed) != null ? _c : true) || scalesChanged(newData, oldData) || status !== \"updated\";\n  const pathFns = prepareLinePathAnimationFns(newData, oldData, pairData, \"fade\", renderPartialPath);\n  const marker = prepareMarkerAnimation(pairMap, status);\n  return __spreadProps(__spreadValues({}, pathFns), {\n    marker,\n    hasMotion\n  });\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaUtil.ts\nvar AreaSeriesTag = /* @__PURE__ */(AreaSeriesTag2 => {\n  AreaSeriesTag2[AreaSeriesTag2[\"Fill\"] = 0] = \"Fill\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Stroke\"] = 1] = \"Stroke\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Marker\"] = 2] = \"Marker\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Label\"] = 3] = \"Label\";\n  return AreaSeriesTag2;\n})(AreaSeriesTag || {});\nfunction splitFillPoints(context) {\n  const {\n    points,\n    phantomPoints\n  } = context.fillData;\n  return {\n    top: points,\n    bottom: phantomPoints\n  };\n}\nfunction prepPoints(key, ctx, points) {\n  return {\n    scales: ctx.scales,\n    nodeData: points[key],\n    visible: ctx.visible\n  };\n}\nfunction pairFillCategoryData(newData, oldData, diff2) {\n  const oldPoints = splitFillPoints(oldData);\n  const newPoints = splitFillPoints(newData);\n  const pairOpts = {\n    multiDatum: true\n  };\n  return {\n    top: pairCategoryData(prepPoints(\"top\", newData, newPoints), prepPoints(\"top\", oldData, oldPoints), diff2, pairOpts),\n    bottom: pairCategoryData(prepPoints(\"bottom\", newData, newPoints), prepPoints(\"bottom\", oldData, oldPoints), diff2, pairOpts)\n  };\n}\nfunction pairFillContinuousData(newData, oldData) {\n  const oldPoints = splitFillPoints(oldData);\n  const newPoints = splitFillPoints(newData);\n  return {\n    top: pairContinuousData(prepPoints(\"top\", newData, newPoints), prepPoints(\"top\", oldData, oldPoints)),\n    bottom: pairContinuousData(prepPoints(\"bottom\", newData, newPoints), prepPoints(\"bottom\", oldData, oldPoints))\n  };\n}\nfunction prepareAreaPathAnimation(newData, oldData, diff2) {\n  var _a, _b;\n  const isCategoryBased = ((_a = newData.scales.x) == null ? void 0 : _a.type) === \"category\";\n  const wasCategoryBased = ((_b = oldData.scales.x) == null ? void 0 : _b.type) === \"category\";\n  if (isCategoryBased !== wasCategoryBased) {\n    return;\n  }\n  let status = \"updated\";\n  if (oldData.visible && !newData.visible) {\n    status = \"removed\";\n  } else if (!oldData.visible && newData.visible) {\n    status = \"added\";\n  }\n  const prepareMarkerPairs = () => {\n    if (isCategoryBased) {\n      return pairCategoryData(newData, oldData, diff2, {\n        backfillSplitMode: \"static\",\n        multiDatum: true\n      });\n    }\n    return pairContinuousData(newData, oldData, {\n      backfillSplitMode: \"static\"\n    });\n  };\n  const prepareFillPairs = () => {\n    if (isCategoryBased) {\n      return pairFillCategoryData(newData, oldData, diff2);\n    }\n    return pairFillContinuousData(newData, oldData);\n  };\n  const {\n    resultMap: markerPairMap\n  } = prepareMarkerPairs();\n  const {\n    top,\n    bottom\n  } = prepareFillPairs();\n  if (markerPairMap === void 0 || top.result === void 0 || bottom.result === void 0) {\n    return;\n  }\n  const pairData = [...top.result, ...bottom.result.reverse()];\n  const stackVisible = oldData.stackVisible ? newData.stackVisible : false;\n  const fadeMode = stackVisible ? \"none\" : \"fade\";\n  const fill = prepareLinePathAnimationFns(newData, oldData, pairData, fadeMode, renderPartialPath);\n  const marker = prepareMarkerAnimation(markerPairMap, status);\n  return {\n    status: fill.status,\n    fill,\n    marker\n  };\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeries.ts\nvar AreaSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pathsPerSeries: 2,\n      pathsZIndexSubOrderOffset: [0, 1e3],\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      pickModes: [1 /* NEAREST_BY_MAIN_AXIS_FIRST */, 0 /* EXACT_SHAPE_MATCH */],\n      animationResetFns: {\n        path: buildResetPathFn({\n          getOpacity: () => this.getOpacity()\n        }),\n        label: resetLabelFn,\n        marker: (node, datum) => __spreadValues(__spreadValues({}, resetMarkerFn(node)), resetMarkerPositionFn(node, datum))\n      }\n    });\n    this.properties = new AreaSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      const {\n        data,\n        visible,\n        seriesGrouping: {\n          groupIndex = this.id,\n          stackCount = 1\n        } = {}\n      } = this;\n      const {\n        xKey,\n        yKey,\n        connectMissingData,\n        normalizedTo\n      } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const {\n        isContinuousX,\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const ids = [\"area-stack-\".concat(groupIndex, \"-yValues\"), \"area-stack-\".concat(groupIndex, \"-yValues-trailing\"), \"area-stack-\".concat(groupIndex, \"-yValues-prev\"), \"area-stack-\".concat(groupIndex, \"-yValues-trailing-prev\"), \"area-stack-\".concat(groupIndex, \"-yValues-marker\")];\n      const extraProps = [];\n      if (isDefined(normalizedTo)) {\n        extraProps.push(normaliseGroupTo([ids[0], ids[1], ids[4]], normalizedTo, \"range\"));\n        extraProps.push(normaliseGroupTo([ids[2], ids[3]], normalizedTo, \"range\"));\n      }\n      if (!isContinuousX && animationEnabled && this.processedData) {\n        extraProps.push(diff(this.processedData));\n      }\n      if (animationEnabled) {\n        extraProps.push(animationValidation());\n      }\n      const common = {\n        invalidValue: null\n      };\n      if (connectMissingData && stackCount > 1) {\n        common.invalidValue = 0;\n      }\n      if (!visible) {\n        common.forceValue = 0;\n      }\n      yield this.requestDataModel(dataController, data, {\n        props: [keyProperty(xKey, xScaleType, {\n          id: \"xValue\"\n        }), valueProperty(yKey, yScaleType, __spreadValues({\n          id: \"yValueRaw\"\n        }, common)), ...groupAccumulativeValueProperty(yKey, \"window\", \"current\", __spreadProps(__spreadValues({\n          id: \"yValueEnd\"\n        }, common), {\n          groupId: ids[0]\n        }), yScaleType), ...groupAccumulativeValueProperty(yKey, \"window-trailing\", \"current\", __spreadProps(__spreadValues({\n          id: \"yValueStart\"\n        }, common), {\n          groupId: ids[1]\n        }), yScaleType), ...groupAccumulativeValueProperty(yKey, \"window\", \"last\", __spreadProps(__spreadValues({\n          id: \"yValuePreviousEnd\"\n        }, common), {\n          groupId: ids[2]\n        }), yScaleType), ...groupAccumulativeValueProperty(yKey, \"window-trailing\", \"last\", __spreadProps(__spreadValues({\n          id: \"yValuePreviousStart\"\n        }, common), {\n          groupId: ids[3]\n        }), yScaleType), ...groupAccumulativeValueProperty(yKey, \"normal\", \"current\", __spreadProps(__spreadValues({\n          id: \"yValueCumulative\"\n        }, common), {\n          groupId: ids[4]\n        }), yScaleType), ...extraProps],\n        groupByKeys: true,\n        groupByData: false\n      });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const {\n      processedData,\n      dataModel,\n      axes\n    } = this;\n    if (!processedData || !dataModel || processedData.data.length === 0) return [];\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const keyDef = dataModel.resolveProcessedDataDefById(this, \"xValue\");\n    const keys = dataModel.getDomain(this, \"xValue\", \"key\", processedData);\n    const yExtent = dataModel.getDomain(this, \"yValueEnd\", \"value\", processedData);\n    if (direction === \"x\" /* X */) {\n      if ((keyDef == null ? void 0 : keyDef.def.type) === \"key\" && keyDef.def.valueType === \"category\") {\n        return keys;\n      }\n      return fixNumericExtent(extent(keys), xAxis);\n    } else if (yAxis instanceof LogAxis || yAxis instanceof TimeAxis) {\n      return fixNumericExtent(yExtent, yAxis);\n    } else {\n      const fixedYExtent = [yExtent[0] > 0 ? 0 : yExtent[0], yExtent[1] < 0 ? 0 : yExtent[1]];\n      return fixNumericExtent(fixedYExtent, yAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        axes,\n        data,\n        processedData: {\n          data: groupedData\n        } = {},\n        dataModel\n      } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!xAxis || !yAxis || !data || !dataModel || !this.properties.isValid()) {\n        return;\n      }\n      const {\n        yKey,\n        xKey,\n        marker,\n        label,\n        fill: seriesFill,\n        stroke: seriesStroke,\n        connectMissingData\n      } = this.properties;\n      const {\n        scale: xScale\n      } = xAxis;\n      const {\n        scale: yScale\n      } = yAxis;\n      const {\n        isContinuousY\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const defs = dataModel.resolveProcessedDataDefsByIds(this, [\"yValueStart\", \"yValueEnd\", \"yValueRaw\", \"yValuePreviousStart\", \"yValuePreviousEnd\", \"yValueCumulative\"]);\n      const createMovePoint = plainPoint => __spreadProps(__spreadValues({}, plainPoint), {\n        point: __spreadProps(__spreadValues({}, plainPoint.point), {\n          moveTo: true\n        })\n      });\n      const createPathCoordinates = (xValue, lastYEnd, yEnd) => {\n        const x = xScale.convert(xValue) + xOffset;\n        const prevYCoordinate = yScale.convert(lastYEnd);\n        const currYCoordinate = yScale.convert(yEnd);\n        return [{\n          point: {\n            x,\n            y: currYCoordinate\n          },\n          yValue: yEnd,\n          xValue\n        }, {\n          point: {\n            x,\n            y: prevYCoordinate\n          },\n          yValue: lastYEnd,\n          xValue\n        }];\n      };\n      const createMarkerCoordinate = (xDatum, yEnd, rawYDatum) => {\n        let currY;\n        if (isDefined(this.properties.normalizedTo) ? isContinuousY && isContinuous(rawYDatum) : !isNaN(rawYDatum)) {\n          currY = yEnd;\n        }\n        return {\n          x: xScale.convert(xDatum) + xOffset,\n          y: yScale.convert(currY),\n          size: marker.size\n        };\n      };\n      const itemId = yKey;\n      const labelData = [];\n      const markerData = [];\n      const {\n        visibleSameStackCount\n      } = this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);\n      const context = {\n        itemId,\n        fillData: {\n          itemId,\n          points: [],\n          phantomPoints: []\n        },\n        strokeData: {\n          itemId,\n          points: []\n        },\n        labelData,\n        nodeData: markerData,\n        scales: this.calculateScaling(),\n        visible: this.visible,\n        stackVisible: visibleSameStackCount > 0\n      };\n      const fillPoints = context.fillData.points;\n      const fillPhantomPoints = context.fillData.phantomPoints;\n      const strokePoints = context.strokeData.points;\n      let datumIdx = -1;\n      let lastXDatum;\n      let lastYDatum = -Infinity;\n      groupedData == null ? void 0 : groupedData.forEach(datumGroup => {\n        const {\n          keys,\n          keys: [xDatum],\n          datum: datumArray,\n          values: valuesArray\n        } = datumGroup;\n        valuesArray.forEach((values, valueIdx) => {\n          var _a2, _b, _c;\n          datumIdx++;\n          const seriesDatum = datumArray[valueIdx];\n          const dataValues = dataModel.resolveProcessedDataDefsValues(defs, {\n            keys,\n            values\n          });\n          const {\n            yValueRaw: yDatum,\n            yValueCumulative\n          } = dataValues;\n          let {\n            yValueStart,\n            yValueEnd,\n            yValuePreviousStart,\n            yValuePreviousEnd\n          } = dataValues;\n          const validPoint = yDatum != null;\n          const point = createMarkerCoordinate(xDatum, +yValueCumulative, yDatum);\n          if (validPoint && marker) {\n            markerData.push({\n              index: datumIdx,\n              series: this,\n              itemId,\n              datum: seriesDatum,\n              midPoint: {\n                x: point.x,\n                y: point.y\n              },\n              cumulativeValue: yValueEnd,\n              yValue: yDatum,\n              xValue: xDatum,\n              yKey,\n              xKey,\n              point,\n              fill: (_a2 = marker.fill) != null ? _a2 : seriesFill,\n              stroke: (_b = marker.stroke) != null ? _b : seriesStroke,\n              strokeWidth: (_c = marker.strokeWidth) != null ? _c : this.getStrokeWidth(this.properties.strokeWidth)\n            });\n          }\n          if (validPoint && label) {\n            const labelText = this.getLabelText(label, {\n              value: yDatum,\n              datum: seriesDatum,\n              xKey,\n              yKey,\n              xName: this.properties.xName,\n              yName: this.properties.yName\n            }, value => isFiniteNumber(value) ? value.toFixed(2) : String(value));\n            labelData.push({\n              index: datumIdx,\n              series: this,\n              itemId: yKey,\n              datum: seriesDatum,\n              x: point.x,\n              y: point.y,\n              label: labelText ? {\n                text: labelText,\n                fontStyle: label.fontStyle,\n                fontWeight: label.fontWeight,\n                fontSize: label.fontSize,\n                fontFamily: label.fontFamily,\n                textAlign: \"center\",\n                textBaseline: \"bottom\",\n                fill: label.color\n              } : void 0\n            });\n          }\n          const xValid = lastXDatum != null && xDatum != null;\n          const yValid = lastYDatum != null && validPoint;\n          if (!yValid) {\n            yValueStart = yValueStart != null ? yValueStart : 0;\n            yValueEnd = yValueStart != null ? yValueStart : 0;\n            yValuePreviousStart = yValuePreviousStart != null ? yValuePreviousStart : 0;\n            yValuePreviousEnd = yValuePreviousStart != null ? yValuePreviousStart : 0;\n          }\n          const [prevTop, prevBottom] = createPathCoordinates(lastXDatum, yValuePreviousStart, yValuePreviousEnd);\n          const [top, bottom] = createPathCoordinates(xDatum, yValueStart, yValueEnd);\n          if (xValid && (!connectMissingData || yValid)) {\n            fillPoints.push(prevTop, top);\n            fillPhantomPoints.push(prevBottom, bottom);\n          }\n          if (yValid && datumIdx > 0) {\n            strokePoints.push(createMovePoint(prevTop), top);\n          }\n          lastXDatum = xDatum;\n          lastYDatum = yDatum;\n        });\n      });\n      if (strokePoints.length > 0) {\n        strokePoints[0] = createMovePoint(strokePoints[0]);\n      }\n      return context;\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  markerFactory() {\n    const {\n      shape\n    } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        opacity,\n        visible,\n        animationEnabled\n      } = opts;\n      const [fill, stroke] = opts.paths;\n      const strokeWidth = this.getStrokeWidth(this.properties.strokeWidth);\n      stroke.setProperties({\n        tag: 1 /* Stroke */,\n        fill: void 0,\n        lineJoin: stroke.lineCap = \"round\",\n        pointerEvents: 1 /* None */,\n        stroke: this.properties.stroke,\n        strokeWidth,\n        strokeOpacity: this.properties.strokeOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset,\n        opacity,\n        visible\n      });\n      fill.setProperties({\n        tag: 0 /* Fill */,\n        stroke: void 0,\n        lineJoin: \"round\",\n        pointerEvents: 1 /* None */,\n        fill: this.properties.fill,\n        fillOpacity: this.properties.fillOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset,\n        strokeOpacity: this.properties.strokeOpacity,\n        fillShadow: this.properties.shadow,\n        opacity,\n        visible: visible || animationEnabled,\n        strokeWidth\n      });\n      updateClipPath(this, stroke);\n      updateClipPath(this, fill);\n    });\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      this.updateAreaPaths(opts.paths, opts.contextData);\n    });\n  }\n  updateAreaPaths(paths, contextData) {\n    this.updateFillPath(paths, contextData);\n    this.updateStrokePath(paths, contextData);\n  }\n  updateFillPath(paths, contextData) {\n    const {\n      fillData\n    } = contextData;\n    const [fill] = paths;\n    const {\n      path: fillPath\n    } = fill;\n    fillPath.clear(true);\n    let lastPoint;\n    for (const {\n      point\n    } of iterate(fillData.points, iterateReverseArray(fillData.phantomPoints))) {\n      if (point.moveTo) {\n        fillPath.moveTo(point.x, point.y);\n      } else if ((lastPoint == null ? void 0 : lastPoint.y) !== point.y) {\n        if (lastPoint) {\n          fillPath.lineTo(lastPoint.x, lastPoint.y);\n        }\n        fillPath.lineTo(point.x, point.y);\n      }\n      lastPoint = point;\n    }\n    if (lastPoint) {\n      fillPath.lineTo(lastPoint.x, lastPoint.y);\n    }\n    fillPath.closePath();\n    fill.checkPathDirty();\n  }\n  updateStrokePath(paths, contextData) {\n    const {\n      strokeData\n    } = contextData;\n    const [, stroke] = paths;\n    const {\n      path: strokePath\n    } = stroke;\n    strokePath.clear(true);\n    for (const {\n      point\n    } of strokeData.points) {\n      if (point.moveTo) {\n        strokePath.moveTo(point.x, point.y);\n      } else {\n        strokePath.lineTo(point.x, point.y);\n      }\n    }\n    stroke.checkPathDirty();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        nodeData,\n        markerSelection\n      } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(this.properties.marker.enabled ? nodeData : []);\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        markerSelection,\n        isHighlight: highlighted\n      } = opts;\n      const {\n        xKey,\n        yKey,\n        marker,\n        fill,\n        stroke,\n        strokeWidth,\n        fillOpacity,\n        strokeOpacity,\n        highlightStyle\n      } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle(), {\n        fill,\n        stroke,\n        strokeWidth,\n        fillOpacity,\n        strokeOpacity\n      });\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, {\n          datum,\n          highlighted,\n          xKey,\n          yKey\n        }, baseStyle);\n      });\n      if (!highlighted) {\n        this.properties.marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        labelData,\n        labelSelection\n      } = opts;\n      return labelSelection.update(labelData, text => {\n        text.tag = 3 /* Label */;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        labelSelection\n      } = opts;\n      const {\n        enabled: labelEnabled,\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily,\n        color\n      } = this.properties.label;\n      labelSelection.each((text, datum) => {\n        const {\n          x,\n          y,\n          label\n        } = datum;\n        if (label && labelEnabled && this.visible) {\n          text.fontStyle = fontStyle;\n          text.fontWeight = fontWeight;\n          text.fontSize = fontSize;\n          text.fontFamily = fontFamily;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n          text.text = label.text;\n          text.x = x;\n          text.y = y - 10;\n          text.fill = color;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    const {\n      id: seriesId,\n      axes,\n      dataModel\n    } = this;\n    const {\n      xKey,\n      xName,\n      yName,\n      tooltip,\n      marker\n    } = this.properties;\n    const {\n      yKey,\n      xValue,\n      yValue,\n      datum,\n      itemId\n    } = nodeDatum;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !(xAxis && yAxis && isFiniteNumber(yValue)) || !dataModel) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml(yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    const baseStyle = mergeDefaults({\n      fill: this.properties.fill\n    }, marker.getStyle(), {\n      stroke: this.properties.stroke,\n      strokeWidth: this.properties.strokeWidth\n    });\n    const {\n      fill: color\n    } = this.getMarkerStyle(marker, {\n      datum: nodeDatum,\n      xKey,\n      yKey,\n      highlighted: false\n    }, baseStyle);\n    return tooltip.toTooltipHtml({\n      title,\n      content,\n      backgroundColor: color\n    }, {\n      datum,\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      color,\n      title,\n      seriesId\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    const {\n      yKey,\n      yName,\n      fill,\n      stroke,\n      fillOpacity,\n      strokeOpacity,\n      strokeWidth,\n      lineDash,\n      marker,\n      visible\n    } = this.properties;\n    const useAreaFill = !marker.enabled || marker.fill === void 0;\n    return [{\n      legendType,\n      id: this.id,\n      itemId: yKey,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: yName != null ? yName : yKey\n      },\n      marker: {\n        shape: marker.shape,\n        fill: useAreaFill ? fill : marker.fill,\n        fillOpacity: useAreaFill ? fillOpacity : marker.fillOpacity,\n        stroke: (_b = marker.stroke) != null ? _b : stroke,\n        strokeOpacity: (_c = marker.strokeOpacity) != null ? _c : strokeOpacity,\n        strokeWidth: (_d = marker.strokeWidth) != null ? _d : 0,\n        enabled: marker.enabled || strokeWidth <= 0\n      },\n      line: {\n        stroke,\n        strokeOpacity,\n        strokeWidth,\n        lineDash\n      }\n    }];\n  }\n  animateEmptyUpdateReady(animationData) {\n    const {\n      markerSelection,\n      labelSelection,\n      contextData,\n      paths\n    } = animationData;\n    const {\n      animationManager\n    } = this.ctx;\n    this.updateAreaPaths(paths, contextData);\n    pathSwipeInAnimation(this, animationManager, ...paths);\n    resetMotion([markerSelection], resetMarkerPositionFn);\n    markerSwipeScaleInAnimation(this, animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n  }\n  animateReadyResize(animationData) {\n    const {\n      contextData,\n      paths\n    } = animationData;\n    this.updateAreaPaths(paths, contextData);\n    super.animateReadyResize(animationData);\n  }\n  animateWaitingUpdateReady(animationData) {\n    var _a, _b;\n    const {\n      animationManager\n    } = this.ctx;\n    const {\n      markerSelection,\n      labelSelection,\n      contextData,\n      paths,\n      previousContextData\n    } = animationData;\n    const [fill, stroke] = paths;\n    if (fill == null && stroke == null) return;\n    super.resetAllAnimation(animationData);\n    const update = () => {\n      this.updateAreaPaths(paths, contextData);\n      this.updateStrokePath(paths, contextData);\n    };\n    const skip = () => {\n      animationManager.skipCurrentBatch();\n      update();\n    };\n    if (contextData == null || previousContextData == null) {\n      update();\n      markerFadeInAnimation(this, animationManager, \"added\", markerSelection);\n      pathFadeInAnimation(this, \"fill_path_properties\", animationManager, \"add\", fill);\n      pathFadeInAnimation(this, \"stroke\", animationManager, \"trailing\", stroke);\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n      return;\n    }\n    const fns = prepareAreaPathAnimation(contextData, previousContextData, (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff);\n    if (fns === void 0) {\n      skip();\n      return;\n    } else if (fns.status === \"no-op\") {\n      return;\n    }\n    markerFadeInAnimation(this, animationManager, void 0, markerSelection);\n    fromToMotion(this.id, \"fill_path_properties\", animationManager, [fill], fns.fill.pathProperties);\n    pathMotion(this.id, \"fill_path_update\", animationManager, [fill], fns.fill.path);\n    this.updateStrokePath(paths, contextData);\n    pathFadeInAnimation(this, \"stroke\", animationManager, \"trailing\", stroke);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const {\n      xKey,\n      yKey\n    } = datum;\n    return this.getMarkerStyle(this.properties.marker, {\n      datum,\n      xKey,\n      yKey,\n      highlighted: true\n    });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nAreaSeries.className = \"AreaSeries\";\nAreaSeries.type = \"area\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeriesModule.ts\nvar AreaSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"area\",\n  instanceConstructor: AreaSeries,\n  stackable: true,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }, {\n    type: \"category\" /* CATEGORY */,\n    position: \"bottom\" /* BOTTOM */\n  }],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      nodeClickRange: \"nearest\",\n      tooltip: {\n        position: {\n          type: \"node\"\n        }\n      },\n      fillOpacity: 0.8,\n      strokeOpacity: 1,\n      strokeWidth: 0,\n      lineDash: [0],\n      lineDashOffset: 0,\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        enabled: false,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 0\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  paletteFactory: params => {\n    const {\n      marker\n    } = markerPaletteFactory(params);\n    return {\n      fill: marker.fill,\n      stroke: marker.stroke,\n      marker\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/quadtreeUtil.ts\nfunction* childrenIter(parent) {\n  for (const node of parent.children) {\n    yield node;\n  }\n}\nfunction addHitTestersToQuadtree(quadtree, hitTesters) {\n  for (const node of hitTesters) {\n    const datum = node.datum;\n    if (datum === void 0) {\n      Logger.error(\"undefined datum\");\n    } else {\n      quadtree.addValue(node, datum);\n    }\n  }\n}\nfunction findQuadtreeMatch(series, point) {\n  const {\n    x,\n    y\n  } = series.contentGroup.transformPoint(point.x, point.y);\n  const {\n    nearest,\n    distanceSquared: distanceSquared2\n  } = series.getQuadTree().find(x, y);\n  if (nearest !== void 0) {\n    return {\n      datum: nearest.value,\n      distance: Math.sqrt(distanceSquared2)\n    };\n  }\n  return void 0;\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/abstractBarSeries.ts\nvar AbstractBarSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.direction = \"vertical\";\n  }\n};\n__decorateClass([Validate(DIRECTION)], AbstractBarSeriesProperties.prototype, \"direction\", 2);\nvar AbstractBarSeries = class extends CartesianSeries {\n  constructor() {\n    super(...arguments);\n    /**\n     * Used to get the position of bars within each group.\n     */\n    this.groupScale = new BandScale();\n    this.smallestDataInterval = void 0;\n  }\n  getBandScalePadding() {\n    return {\n      inner: 0.2,\n      outer: 0.1\n    };\n  }\n  shouldFlipXY() {\n    return !this.isVertical();\n  }\n  isVertical() {\n    return this.properties.direction === \"vertical\";\n  }\n  getBarDirection() {\n    return this.shouldFlipXY() ? \"x\" /* X */ : \"y\" /* Y */;\n  }\n  getCategoryDirection() {\n    return this.shouldFlipXY() ? \"y\" /* Y */ : \"x\" /* X */;\n  }\n  getValueAxis() {\n    const direction = this.getBarDirection();\n    return this.axes[direction];\n  }\n  getCategoryAxis() {\n    const direction = this.getCategoryDirection();\n    return this.axes[direction];\n  }\n  updateGroupScale(xAxis) {\n    const {\n      groupScale,\n      smallestDataInterval,\n      ctx: {\n        seriesStateManager\n      }\n    } = this;\n    const xScale = xAxis.scale;\n    const xBandWidth = ContinuousScale.is(xScale) ? xScale.calcBandwidth(smallestDataInterval) : xScale.bandwidth;\n    const domain = [];\n    const {\n      index: groupIndex,\n      visibleGroupCount\n    } = seriesStateManager.getVisiblePeerGroupIndex(this);\n    for (let groupIdx = 0; groupIdx < visibleGroupCount; groupIdx++) {\n      domain.push(String(groupIdx));\n    }\n    groupScale.domain = domain;\n    groupScale.range = [0, xBandWidth != null ? xBandWidth : 0];\n    if (xAxis instanceof CategoryAxis) {\n      groupScale.paddingInner = xAxis.groupPaddingInner;\n    } else if (xAxis instanceof GroupedCategoryAxis) {\n      groupScale.padding = 0.1;\n    } else {\n      groupScale.padding = 0;\n    }\n    groupScale.round = groupScale.padding !== 0;\n    const barWidth = groupScale.bandwidth >= 1 ?\n    // Pixel-rounded value for low-volume bar charts.\n    groupScale.bandwidth :\n    // Handle high-volume bar charts gracefully.\n    groupScale.rawBandwidth;\n    return {\n      barWidth,\n      groupIndex\n    };\n  }\n  resolveKeyDirection(direction) {\n    if (this.getBarDirection() === \"x\" /* X */) {\n      if (direction === \"x\" /* X */) {\n        return \"y\" /* Y */;\n      }\n      return \"x\" /* X */;\n    }\n    return direction;\n  }\n  initQuadTree(quadtree) {\n    addHitTestersToQuadtree(quadtree, this.datumNodesIter());\n  }\n  pickNodeClosestDatum(point) {\n    return findQuadtreeMatch(this, point);\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeriesProperties.ts\nvar BarSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"inside\";\n  }\n};\n__decorateClass([Validate(PLACEMENT)], BarSeriesLabel.prototype, \"placement\", 2);\nvar BarSeriesProperties = class extends AbstractBarSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"#c16068\";\n    this.fillOpacity = 1;\n    this.stroke = \"#874349\";\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.shadow = new DropShadow();\n    this.label = new BarSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([Validate(STRING)], BarSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BarSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING)], BarSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BarSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BarSeriesProperties.prototype, \"stackGroup\", 2);\n__decorateClass([Validate(NUMBER, {\n  optional: true\n})], BarSeriesProperties.prototype, \"normalizedTo\", 2);\n__decorateClass([Validate(COLOR_STRING)], BarSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO)], BarSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING)], BarSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], BarSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO)], BarSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], BarSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], BarSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], BarSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], BarSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([Validate(OBJECT, {\n  optional: true\n})], BarSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([Validate(OBJECT)], BarSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], BarSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/barUtil.ts\nfunction updateRect(_ref88) {\n  let {\n    rect,\n    config\n  } = _ref88;\n  const {\n    crisp = true,\n    fill,\n    stroke,\n    strokeWidth,\n    fillOpacity,\n    strokeOpacity,\n    lineDash,\n    lineDashOffset,\n    fillShadow,\n    cornerRadius = 0,\n    topLeftCornerRadius = true,\n    topRightCornerRadius = true,\n    bottomRightCornerRadius = true,\n    bottomLeftCornerRadius = true,\n    visible = true\n  } = config;\n  rect.crisp = crisp;\n  rect.fill = fill;\n  rect.stroke = stroke;\n  rect.strokeWidth = strokeWidth;\n  rect.fillOpacity = fillOpacity;\n  rect.strokeOpacity = strokeOpacity;\n  rect.lineDash = lineDash;\n  rect.lineDashOffset = lineDashOffset;\n  rect.fillShadow = fillShadow;\n  rect.topLeftCornerRadius = topLeftCornerRadius ? cornerRadius : 0;\n  rect.topRightCornerRadius = topRightCornerRadius ? cornerRadius : 0;\n  rect.bottomRightCornerRadius = bottomRightCornerRadius ? cornerRadius : 0;\n  rect.bottomLeftCornerRadius = bottomLeftCornerRadius ? cornerRadius : 0;\n  rect.visible = visible;\n}\nfunction getRectConfig(_a) {\n  var _b = _a,\n    {\n      datum,\n      isHighlighted,\n      style,\n      highlightStyle,\n      formatter,\n      seriesId,\n      ctx: {\n        callbackCache\n      }\n    } = _b,\n    opts = __objRest(_b, [\"datum\", \"isHighlighted\", \"style\", \"highlightStyle\", \"formatter\", \"seriesId\", \"ctx\"]);\n  var _a2, _b2, _c, _d, _e, _f;\n  const {\n    fill,\n    fillOpacity,\n    stroke,\n    strokeWidth\n  } = mergeDefaults(isHighlighted && highlightStyle, style);\n  const {\n    strokeOpacity,\n    fillShadow,\n    lineDash,\n    lineDashOffset,\n    cornerRadius = 0,\n    topLeftCornerRadius = true,\n    topRightCornerRadius = true,\n    bottomRightCornerRadius = true,\n    bottomLeftCornerRadius = true\n  } = style;\n  let format2;\n  if (formatter) {\n    format2 = callbackCache.call(formatter, __spreadValues({\n      datum: datum.datum,\n      xKey: datum.xKey,\n      fill,\n      stroke,\n      strokeWidth,\n      cornerRadius,\n      highlighted: isHighlighted,\n      seriesId\n    }, opts));\n  }\n  return {\n    fill: (_a2 = format2 == null ? void 0 : format2.fill) != null ? _a2 : fill,\n    stroke: (_b2 = format2 == null ? void 0 : format2.stroke) != null ? _b2 : stroke,\n    strokeWidth: (_c = format2 == null ? void 0 : format2.strokeWidth) != null ? _c : strokeWidth,\n    fillOpacity: (_d = format2 == null ? void 0 : format2.fillOpacity) != null ? _d : fillOpacity,\n    strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity,\n    lineDash,\n    lineDashOffset,\n    fillShadow,\n    cornerRadius: (_f = format2 == null ? void 0 : format2.cornerRadius) != null ? _f : cornerRadius,\n    topLeftCornerRadius,\n    topRightCornerRadius,\n    bottomRightCornerRadius,\n    bottomLeftCornerRadius\n  };\n}\nfunction checkCrisp() {\n  let visibleRange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  const [visibleMin, visibleMax] = visibleRange;\n  const isZoomed = visibleMin !== 0 || visibleMax !== 1;\n  return !isZoomed;\n}\nvar isDatumNegative = datum => {\n  var _a;\n  return isNegative((_a = datum.yValue) != null ? _a : 0);\n};\nfunction collapsedStartingBarPosition(isVertical, axes, mode) {\n  const {\n    startingX,\n    startingY\n  } = getStartingValues(isVertical, axes);\n  const calculate = (datum, prevDatum) => {\n    let x = isVertical ? datum.x : startingX;\n    let y = isVertical ? startingY : datum.y;\n    let width = isVertical ? datum.width : 0;\n    let height = isVertical ? 0 : datum.height;\n    const {\n      opacity\n    } = datum;\n    if (prevDatum && (isNaN(x) || isNaN(y))) {\n      ({\n        x,\n        y\n      } = prevDatum);\n      width = isVertical ? prevDatum.width : 0;\n      height = isVertical ? 0 : prevDatum.height;\n      if (isVertical && !isDatumNegative(prevDatum)) {\n        y += prevDatum.height;\n      } else if (!isVertical && isDatumNegative(prevDatum)) {\n        x += prevDatum.width;\n      }\n    }\n    let clipBBox;\n    if (datum.clipBBox == null) {\n      clipBBox = void 0;\n    } else if (isDatumNegative(datum)) {\n      clipBBox = isVertical ? new BBox(x, y - height, width, height) : new BBox(x - width, y, width, height);\n    } else {\n      clipBBox = new BBox(x, y, width, height);\n    }\n    return {\n      x,\n      y,\n      width,\n      height,\n      clipBBox,\n      opacity\n    };\n  };\n  return {\n    isVertical,\n    calculate,\n    mode\n  };\n}\nfunction midpointStartingBarPosition(isVertical, mode) {\n  return {\n    isVertical,\n    calculate: datum => {\n      return {\n        x: isVertical ? datum.x : datum.x + datum.width / 2,\n        y: isVertical ? datum.y + datum.height / 2 : datum.y,\n        width: isVertical ? datum.width : 0,\n        height: isVertical ? 0 : datum.height,\n        clipBBox: datum.clipBBox,\n        opacity: datum.opacity\n      };\n    },\n    mode\n  };\n}\nfunction prepareBarAnimationFunctions(initPos) {\n  const isRemoved = datum => datum == null || isNaN(datum.x) || isNaN(datum.y);\n  const fromFn = (rect, datum, status) => {\n    if (status === \"updated\" && isRemoved(datum)) {\n      status = \"removed\";\n    } else if (status === \"updated\" && isRemoved(rect.previousDatum)) {\n      status = \"added\";\n    }\n    let source;\n    if (status === \"added\" && rect.previousDatum == null && initPos.mode === \"fade\") {\n      source = __spreadProps(__spreadValues({}, resetBarSelectionsFn(rect, datum)), {\n        opacity: 0\n      });\n    } else if (status === \"unknown\" || status === \"added\") {\n      source = initPos.calculate(datum, rect.previousDatum);\n    } else {\n      source = {\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height,\n        clipBBox: rect.clipBBox,\n        opacity: rect.opacity\n      };\n    }\n    const phase = NODE_UPDATE_STATE_TO_PHASE_MAPPING[status];\n    return __spreadProps(__spreadValues({}, source), {\n      phase\n    });\n  };\n  const toFn = (rect, datum, status) => {\n    let source;\n    if (status === \"removed\" && rect.datum == null && initPos.mode === \"fade\") {\n      source = __spreadProps(__spreadValues({}, resetBarSelectionsFn(rect, datum)), {\n        opacity: 0\n      });\n    } else if (status === \"removed\" || isRemoved(datum)) {\n      source = initPos.calculate(datum, rect.previousDatum);\n    } else {\n      source = {\n        x: datum.x,\n        y: datum.y,\n        width: datum.width,\n        height: datum.height,\n        clipBBox: datum.clipBBox,\n        opacity: datum.opacity\n      };\n    }\n    return source;\n  };\n  return {\n    toFn,\n    fromFn\n  };\n}\nfunction getStartingValues(isVertical, axes) {\n  const axis = axes[isVertical ? \"y\" /* Y */ : \"x\" /* X */];\n  let startingX = Infinity;\n  let startingY = 0;\n  if (!axis) {\n    return {\n      startingX,\n      startingY\n    };\n  }\n  if (isVertical) {\n    startingY = axis.scale.convert(ContinuousScale.is(axis.scale) ? 0 : Math.max(...axis.range));\n  } else {\n    startingX = axis.scale.convert(ContinuousScale.is(axis.scale) ? 0 : Math.min(...axis.range));\n  }\n  return {\n    startingX,\n    startingY\n  };\n}\nfunction resetBarSelectionsFn(_node, _ref89) {\n  let {\n    x,\n    y,\n    width,\n    height,\n    clipBBox,\n    opacity\n  } = _ref89;\n  return {\n    x,\n    y,\n    width,\n    height,\n    clipBBox,\n    opacity\n  };\n}\nfunction computeBarFocusBounds(datum, barGroup, seriesRect) {\n  if (datum === void 0) return void 0;\n  const {\n    x,\n    y,\n    width,\n    height\n  } = datum;\n  return barGroup.inverseTransformBBox(new BBox(x, y, width, height)).clip(seriesRect);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/labelUtil.ts\nfunction updateLabelNode(textNode, label, labelDatum) {\n  if (label.enabled && labelDatum) {\n    const {\n      x,\n      y,\n      text,\n      textAlign,\n      textBaseline\n    } = labelDatum;\n    const {\n      color: fill,\n      fontStyle,\n      fontWeight,\n      fontSize,\n      fontFamily\n    } = label;\n    textNode.setProperties({\n      visible: true,\n      x,\n      y,\n      text,\n      fill,\n      fontStyle,\n      fontWeight,\n      fontSize,\n      fontFamily,\n      textAlign,\n      textBaseline\n    });\n  } else {\n    textNode.visible = false;\n  }\n}\nfunction adjustLabelPlacement(_ref90) {\n  let {\n    isPositive,\n    isVertical,\n    placement,\n    padding = 0,\n    rect\n  } = _ref90;\n  let x = rect.x + rect.width / 2;\n  let y = rect.y + rect.height / 2;\n  let textAlign = \"center\";\n  let textBaseline = \"middle\";\n  switch (placement) {\n    case \"start\":\n      {\n        if (isVertical) {\n          y = isPositive ? rect.y + rect.height + padding : rect.y - padding;\n          textBaseline = isPositive ? \"top\" : \"bottom\";\n        } else {\n          x = isPositive ? rect.x - padding : rect.x + rect.width + padding;\n          textAlign = isPositive ? \"start\" : \"end\";\n        }\n        break;\n      }\n    case \"outside\":\n    case \"end\":\n      {\n        if (isVertical) {\n          y = isPositive ? rect.y - padding : rect.y + rect.height + padding;\n          textBaseline = isPositive ? \"bottom\" : \"top\";\n        } else {\n          x = isPositive ? rect.x + rect.width + padding : rect.x - padding;\n          textAlign = isPositive ? \"start\" : \"end\";\n        }\n        break;\n      }\n  }\n  return {\n    x,\n    y,\n    textAlign,\n    textBaseline\n  };\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeries.ts\nvar BarSeries = class extends AbstractBarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      pathsPerSeries: 0,\n      hasHighlightedLabels: true,\n      datumSelectionGarbageCollection: false,\n      animationAlwaysUpdateSelections: true,\n      animationResetFns: {\n        datum: resetBarSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new BarSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      if (!this.properties.isValid() || !this.data) {\n        return;\n      }\n      const {\n        seriesGrouping: {\n          groupIndex = this.id\n        } = {},\n        data = []\n      } = this;\n      const {\n        xKey,\n        yKey,\n        normalizedTo\n      } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.getCategoryAxis()) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.getValueAxis()) == null ? void 0 : _b.scale;\n      const {\n        isContinuousX,\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const stackGroupName = \"bar-stack-\".concat(groupIndex, \"-yValues\");\n      const stackGroupTrailingName = \"\".concat(stackGroupName, \"-trailing\");\n      const extraProps = [];\n      if (isFiniteNumber(normalizedTo)) {\n        extraProps.push(normaliseGroupTo([stackGroupName, stackGroupTrailingName], Math.abs(normalizedTo), \"range\"));\n      }\n      if (animationEnabled && this.processedData) {\n        extraProps.push(diff(this.processedData));\n      }\n      if (animationEnabled) {\n        extraProps.push(animationValidation());\n      }\n      const visibleProps = this.visible ? {} : {\n        forceValue: 0\n      };\n      const {\n        processedData\n      } = yield this.requestDataModel(dataController, data, {\n        props: [keyProperty(xKey, xScaleType, {\n          id: \"xValue\"\n        }), valueProperty(yKey, yScaleType, __spreadValues({\n          id: \"yValue-raw\",\n          invalidValue: null\n        }, visibleProps)), ...groupAccumulativeValueProperty(yKey, \"normal\", \"current\", __spreadValues({\n          id: \"yValue-end\",\n          rangeId: \"yValue-range\",\n          invalidValue: null,\n          missingValue: 0,\n          groupId: stackGroupName,\n          separateNegative: true\n        }, visibleProps), yScaleType), ...groupAccumulativeValueProperty(yKey, \"trailing\", \"current\", __spreadValues({\n          id: \"yValue-start\",\n          invalidValue: null,\n          missingValue: 0,\n          groupId: stackGroupTrailingName,\n          separateNegative: true\n        }, visibleProps), yScaleType), ...(isContinuousX ? [SMALLEST_KEY_INTERVAL] : []), ...extraProps],\n        groupByKeys: true,\n        groupByData: false\n      });\n      this.smallestDataInterval = (_c = processedData.reduced) == null ? void 0 : _c.smallestKeyInterval;\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    var _a;\n    const {\n      processedData,\n      dataModel,\n      smallestDataInterval\n    } = this;\n    if (!processedData || !dataModel || processedData.data.length === 0) return [];\n    const categoryAxis = this.getCategoryAxis();\n    const valueAxis = this.getValueAxis();\n    const keyDef = dataModel.resolveProcessedDataDefById(this, \"xValue\");\n    const keys = dataModel.getDomain(this, \"xValue\", \"key\", processedData);\n    const yExtent = dataModel.getDomain(this, \"yValue-end\", \"value\", processedData);\n    if (direction === this.getCategoryDirection()) {\n      if ((keyDef == null ? void 0 : keyDef.def.type) === \"key\" && keyDef.def.valueType === \"category\") {\n        return keys;\n      }\n      const scalePadding = isFiniteNumber(smallestDataInterval) ? smallestDataInterval * 0.5 : 0;\n      const keysExtent = (_a = extent(keys)) != null ? _a : [NaN, NaN];\n      const d0 = keysExtent[0] + -scalePadding;\n      const d1 = keysExtent[1] + scalePadding;\n      return fixNumericExtent([d0, d1], categoryAxis);\n    } else if (this.getValueAxis() instanceof LogAxis) {\n      return fixNumericExtent(yExtent, valueAxis);\n    } else {\n      const fixedYExtent = [Math.min(0, yExtent[0]), Math.max(0, yExtent[1])];\n      return fixNumericExtent(fixedYExtent, valueAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const {\n        dataModel\n      } = this;\n      const xAxis = this.getCategoryAxis();\n      const yAxis = this.getValueAxis();\n      if (!dataModel || !xAxis || !yAxis || !this.properties.isValid()) return;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const {\n        xKey,\n        yKey,\n        xName,\n        yName,\n        fill,\n        stroke,\n        strokeWidth,\n        cornerRadius,\n        legendItemName,\n        label\n      } = this.properties;\n      const yReversed = yAxis.isReversed();\n      const {\n        barWidth,\n        groupIndex\n      } = this.updateGroupScale(xAxis);\n      const barOffset = ContinuousScale.is(xScale) ? barWidth * -0.5 : 0;\n      const xIndex = dataModel.resolveProcessedDataIndexById(this, \"xValue\");\n      const yRawIndex = dataModel.resolveProcessedDataIndexById(this, \"yValue-raw\");\n      const yStartIndex = dataModel.resolveProcessedDataIndexById(this, \"yValue-start\");\n      const yEndIndex = dataModel.resolveProcessedDataIndexById(this, \"yValue-end\");\n      const yRangeIndex = dataModel.resolveProcessedDataIndexById(this, \"yValue-range\");\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const context = {\n        itemId: yKey,\n        nodeData: [],\n        labelData: [],\n        scales: this.calculateScaling(),\n        visible: this.visible || animationEnabled\n      };\n      const {\n        groupScale,\n        processedData\n      } = this;\n      processedData == null ? void 0 : processedData.data.forEach(_ref91 => {\n        let {\n          keys,\n          datum: seriesDatum,\n          values,\n          aggValues\n        } = _ref91;\n        values.forEach((value, valueIndex) => {\n          var _a;\n          const xValue = keys[xIndex];\n          const x = xScale.convert(xValue);\n          const currY = +value[yEndIndex];\n          const prevY = +value[yStartIndex];\n          const yRawValue = value[yRawIndex];\n          const isPositive = yRawValue >= 0 && !Object.is(yRawValue, -0);\n          const isUpward = isPositive !== yReversed;\n          const yRange = (_a = aggValues == null ? void 0 : aggValues[yRangeIndex][isPositive ? 1 : 0]) != null ? _a : 0;\n          const barX = x + groupScale.convert(String(groupIndex)) + barOffset;\n          if (isNaN(currY)) return;\n          const y = yScale.convert(currY);\n          const bottomY = yScale.convert(prevY);\n          const barAlongX = this.getBarDirection() === \"x\" /* X */;\n          const bboxHeight = yScale.convert(yRange);\n          const bboxBottom = yScale.convert(0);\n          const rect = {\n            x: barAlongX ? Math.min(y, bottomY) : barX,\n            y: barAlongX ? barX : Math.min(y, bottomY),\n            width: barAlongX ? Math.abs(bottomY - y) : barWidth,\n            height: barAlongX ? barWidth : Math.abs(bottomY - y)\n          };\n          const clipBBox = new BBox(rect.x, rect.y, rect.width, rect.height);\n          const barRect = {\n            x: barAlongX ? Math.min(bboxBottom, bboxHeight) : barX,\n            y: barAlongX ? barX : Math.min(bboxBottom, bboxHeight),\n            width: barAlongX ? Math.abs(bboxBottom - bboxHeight) : barWidth,\n            height: barAlongX ? barWidth : Math.abs(bboxBottom - bboxHeight),\n            clipBBox\n          };\n          const {\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily,\n            color: labelColor,\n            placement\n          } = label;\n          const labelText = this.getLabelText(this.properties.label, {\n            datum: seriesDatum[valueIndex],\n            value: yRawValue,\n            xKey,\n            yKey,\n            xName,\n            yName,\n            legendItemName\n          }, v => isFiniteNumber(v) ? v.toFixed(2) : String(v));\n          const labelDatum = labelText ? __spreadValues({\n            text: labelText,\n            fill: labelColor,\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily\n          }, adjustLabelPlacement({\n            isPositive,\n            isVertical: !barAlongX,\n            placement,\n            rect\n          })) : void 0;\n          const lengthRatioMultiplier = this.shouldFlipXY() ? rect.height : rect.width;\n          const nodeData = {\n            series: this,\n            itemId: yKey,\n            datum: seriesDatum[valueIndex],\n            valueIndex,\n            cumulativeValue: currY,\n            xValue,\n            yValue: yRawValue,\n            yKey,\n            xKey,\n            capDefaults: {\n              lengthRatioMultiplier,\n              lengthMax: lengthRatioMultiplier\n            },\n            x: barRect.x,\n            y: barRect.y,\n            width: barRect.width,\n            height: barRect.height,\n            midPoint: {\n              x: rect.x + rect.width / 2,\n              y: rect.y + rect.height / 2\n            },\n            fill,\n            stroke,\n            opacity: 1,\n            strokeWidth,\n            cornerRadius,\n            topLeftCornerRadius: barAlongX !== isUpward,\n            topRightCornerRadius: isUpward,\n            bottomRightCornerRadius: barAlongX === isUpward,\n            bottomLeftCornerRadius: !isUpward,\n            clipBBox,\n            label: labelDatum,\n            missing: yRawValue == null\n          };\n          context.nodeData.push(nodeData);\n          context.labelData.push(nodeData);\n        });\n      });\n      return context;\n    });\n  }\n  nodeFactory() {\n    return new Rect();\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.datumSelection.update(opts.nodeData, rect => {\n        rect.tag = 0 /* Bar */;\n      }, datum => createDatumId(datum.xValue, datum.valueIndex));\n    });\n  }\n  updateDatumNodes(opts) {\n    return __async(this, null, function* () {\n      if (!this.properties.isValid()) {\n        return;\n      }\n      const {\n        yKey,\n        stackGroup,\n        fill,\n        fillOpacity,\n        stroke,\n        strokeWidth,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        formatter,\n        shadow,\n        highlightStyle: {\n          item: itemHighlightStyle\n        }\n      } = this.properties;\n      const xAxis = this.axes[\"x\" /* X */];\n      const crisp = checkCrisp(xAxis == null ? void 0 : xAxis.visibleRange);\n      const categoryAlongX = this.getCategoryDirection() === \"x\" /* X */;\n      opts.datumSelection.each((rect, datum) => {\n        var _a, _b, _c, _d;\n        const style = {\n          fill,\n          stroke,\n          fillOpacity,\n          strokeOpacity,\n          lineDash,\n          lineDashOffset,\n          fillShadow: shadow,\n          strokeWidth: this.getStrokeWidth(strokeWidth),\n          cornerRadius: datum.cornerRadius,\n          topLeftCornerRadius: datum.topLeftCornerRadius,\n          topRightCornerRadius: datum.topRightCornerRadius,\n          bottomRightCornerRadius: datum.bottomRightCornerRadius,\n          bottomLeftCornerRadius: datum.bottomLeftCornerRadius\n        };\n        const visible = categoryAlongX ? ((_b = (_a = datum.clipBBox) == null ? void 0 : _a.width) != null ? _b : datum.width) > 0 : ((_d = (_c = datum.clipBBox) == null ? void 0 : _c.height) != null ? _d : datum.height) > 0;\n        const config = getRectConfig({\n          datum,\n          ctx: this.ctx,\n          seriesId: this.id,\n          isHighlighted: opts.isHighlight,\n          highlightStyle: itemHighlightStyle,\n          yKey,\n          style,\n          formatter,\n          stackGroup\n        });\n        config.crisp = crisp;\n        config.visible = visible;\n        updateRect({\n          rect,\n          config\n        });\n      });\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const data = this.isLabelEnabled() ? opts.labelData : [];\n      return opts.labelSelection.update(data, text => {\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      opts.labelSelection.each((textNode, datum) => {\n        updateLabelNode(textNode, this.properties.label, datum.label);\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const {\n      id: seriesId,\n      processedData,\n      ctx: {\n        callbackCache\n      }\n    } = this;\n    const xAxis = this.getCategoryAxis();\n    const yAxis = this.getValueAxis();\n    if (!processedData || !this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      xKey,\n      yKey,\n      xName,\n      yName,\n      fill,\n      stroke,\n      strokeWidth,\n      tooltip,\n      formatter,\n      stackGroup,\n      legendItemName\n    } = this.properties;\n    const {\n      xValue,\n      yValue,\n      datum,\n      itemId\n    } = nodeDatum;\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml(yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        seriesId,\n        datum,\n        xKey,\n        yKey,\n        stackGroup,\n        fill,\n        stroke,\n        strokeWidth: this.getStrokeWidth(strokeWidth),\n        highlighted: false\n      });\n    }\n    const color = (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill;\n    return tooltip.toTooltipHtml({\n      title,\n      content,\n      backgroundColor: color\n    }, __spreadValues({\n      seriesId,\n      itemId,\n      datum,\n      xKey,\n      yKey,\n      xName,\n      yName,\n      stackGroup,\n      title,\n      color,\n      legendItemName\n    }, this.getModuleTooltipParams()));\n  }\n  getLegendData(legendType) {\n    var _a, _b;\n    const {\n      showInLegend\n    } = this.properties;\n    if (legendType !== \"category\" || !((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || !showInLegend) {\n      return [];\n    }\n    const {\n      yKey,\n      yName,\n      fill,\n      stroke,\n      strokeWidth,\n      fillOpacity,\n      strokeOpacity,\n      legendItemName,\n      visible\n    } = this.properties;\n    return [{\n      legendType: \"category\",\n      id: this.id,\n      itemId: yKey,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: (_b = legendItemName != null ? legendItemName : yName) != null ? _b : yKey\n      },\n      marker: {\n        fill,\n        fillOpacity,\n        stroke,\n        strokeWidth,\n        strokeOpacity\n      },\n      legendItemName\n    }];\n  }\n  animateEmptyUpdateReady(_ref92) {\n    let {\n      datumSelection,\n      labelSelection,\n      annotationSelections\n    } = _ref92;\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(), this.axes, \"normal\"));\n    fromToMotion(this.id, \"nodes\", this.ctx.animationManager, [datumSelection], fns);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n  }\n  animateWaitingUpdateReady(data) {\n    var _a, _b, _c;\n    const {\n      datumSelection,\n      labelSelection,\n      annotationSelections,\n      previousContextData\n    } = data;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const dataDiff = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff;\n    const mode = previousContextData == null ? \"fade\" : \"normal\";\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(), this.axes, mode));\n    fromToMotion(this.id, \"nodes\", this.ctx.animationManager, [datumSelection], fns, (_, datum) => createDatumId(datum.xValue, datum.valueIndex), dataDiff);\n    const hasMotion = (_c = dataDiff == null ? void 0 : dataDiff.changed) != null ? _c : true;\n    if (hasMotion) {\n      seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n      seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n    }\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  computeFocusBounds(_ref93) {\n    let {\n      datumIndex,\n      seriesRect\n    } = _ref93;\n    var _a;\n    const datumBox = (_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex].clipBBox;\n    return computeBarFocusBounds(datumBox, this.contentGroup, seriesRect);\n  }\n};\nBarSeries.className = \"BarSeries\";\nBarSeries.type = \"bar\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeriesModule.ts\nvar BarSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bar\",\n  instanceConstructor: BarSeries,\n  stackable: true,\n  groupable: true,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }, {\n    type: \"category\" /* CATEGORY */,\n    position: \"bottom\" /* BOTTOM */\n  }],\n  swapDefaultAxesCondition: series => (series == null ? void 0 : series.direction) === \"horizontal\",\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      direction: \"vertical\",\n      fillOpacity: 1,\n      strokeWidth: 0,\n      lineDash: [0],\n      lineDashOffset: 0,\n      label: {\n        enabled: false,\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n        placement: \"inside\"\n      },\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 0.3\n        }\n      }\n    }\n  },\n  paletteFactory: singleSeriesPaletteFactory\n};\n\n// packages/ag-charts-community/src/scale/colorScale.ts\nvar convertColorStringToOklcha = v => {\n  const color = Color.fromString(v);\n  const [l, c, h] = Color.RGBtoOKLCH(color.r, color.g, color.b);\n  return {\n    l,\n    c,\n    h,\n    a: color.a\n  };\n};\nvar interpolateOklch = (x, y, d) => {\n  d = clamp(0, d, 1);\n  let h;\n  let c;\n  if (Number.isNaN(x.h) && Number.isNaN(y.h)) {\n    h = 0;\n    c = 0;\n  } else if (Number.isNaN(x.h)) {\n    h = y.h;\n    c = y.c;\n  } else if (Number.isNaN(y.h)) {\n    h = x.h;\n    c = x.c;\n  } else {\n    const xH = x.h;\n    let yH = y.h;\n    const deltaH = y.h - x.h;\n    if (deltaH > 180) {\n      yH -= 360;\n    } else if (deltaH < -180) {\n      yH += 360;\n    }\n    h = xH * (1 - d) + yH * d;\n    c = x.c * (1 - d) + y.c * d;\n  }\n  const l = x.l * (1 - d) + y.l * d;\n  const a = x.a * (1 - d) + y.a * d;\n  return Color.fromOKLCH(l, c, h, a);\n};\nvar ColorScale = class {\n  constructor() {\n    this.type = \"color\";\n    this.invalid = true;\n    this.domain = [0, 1];\n    this.range = [\"red\", \"blue\"];\n    this.parsedRange = this.range.map(convertColorStringToOklcha);\n  }\n  update() {\n    const {\n      domain,\n      range: range3\n    } = this;\n    if (domain.length < 2) {\n      Logger.warnOnce(\"`colorDomain` should have at least 2 values.\");\n      if (domain.length === 0) {\n        domain.push(0, 1);\n      } else if (domain.length === 1) {\n        domain.push(domain[0] + 1);\n      }\n    }\n    for (let i = 1; i < domain.length; i++) {\n      const a = domain[i - 1];\n      const b = domain[i];\n      if (a >= b) {\n        Logger.warnOnce(\"`colorDomain` values should be supplied in ascending order.\");\n        domain.sort((a2, b2) => a2 - b2);\n        break;\n      }\n    }\n    if (range3.length < domain.length) {\n      for (let i = range3.length; i < domain.length; i++) {\n        range3.push(range3.length > 0 ? range3[0] : \"black\");\n      }\n    }\n    this.parsedRange = this.range.map(convertColorStringToOklcha);\n  }\n  convert(x) {\n    this.refresh();\n    const {\n      domain,\n      range: range3,\n      parsedRange\n    } = this;\n    const d0 = domain[0];\n    const d1 = domain.at(-1);\n    const r0 = range3[0];\n    const r1 = range3[range3.length - 1];\n    if (x <= d0) {\n      return r0;\n    }\n    if (x >= d1) {\n      return r1;\n    }\n    let index;\n    let q;\n    if (domain.length === 2) {\n      const t = (x - d0) / (d1 - d0);\n      const step = 1 / (range3.length - 1);\n      index = range3.length <= 2 ? 0 : Math.min(Math.floor(t * (range3.length - 1)), range3.length - 2);\n      q = (t - index * step) / step;\n    } else {\n      for (index = 0; index < domain.length - 2; index++) {\n        if (x < domain[index + 1]) {\n          break;\n        }\n      }\n      const a = domain[index];\n      const b = domain[index + 1];\n      q = (x - a) / (b - a);\n    }\n    const c0 = parsedRange[index];\n    const c1 = parsedRange[index + 1];\n    return interpolateOklch(c0, c1, q).toRgbaString();\n  }\n  refresh() {\n    if (!this.invalid) return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n};\n__decorateClass([Invalidating], ColorScale.prototype, \"domain\", 2);\n__decorateClass([Invalidating], ColorScale.prototype, \"range\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeriesProperties.ts\nvar BubbleSeriesMarker = class extends SeriesMarker {\n  constructor() {\n    super(...arguments);\n    this.maxSize = 30;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], BubbleSeriesMarker.prototype, \"maxSize\", 2);\n__decorateClass([Validate(NUMBER_ARRAY, {\n  optional: true\n}), SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], BubbleSeriesMarker.prototype, \"domain\", 2);\nvar BubbleSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"top\";\n  }\n};\n__decorateClass([Validate(LABEL_PLACEMENT)], BubbleSeriesLabel.prototype, \"placement\", 2);\nvar BubbleSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.colorRange = [\"#ffff00\", \"#00ff00\", \"#0000ff\"];\n    this.marker = new BubbleSeriesMarker();\n    this.label = new BubbleSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([Validate(STRING)], BubbleSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING)], BubbleSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING)], BubbleSeriesProperties.prototype, \"sizeKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"labelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"sizeName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"labelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([Validate(NUMBER_ARRAY, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"colorDomain\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], BubbleSeriesProperties.prototype, \"colorRange\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], BubbleSeriesProperties.prototype, \"title\", 2);\n__decorateClass([Validate(OBJECT)], BubbleSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], BubbleSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], BubbleSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeries.ts\nvar BubbleSeriesNodeEvent = class extends CartesianSeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.sizeKey = series.properties.sizeKey;\n  }\n};\nvar BubbleSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */, 3 /* NEAREST_NODE */, 0 /* EXACT_SHAPE_MATCH */],\n      pathsPerSeries: 0,\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        label: resetLabelFn,\n        marker: resetMarkerFn\n      }\n    });\n    this.NodeEvent = BubbleSeriesNodeEvent;\n    this.properties = new BubbleSeriesProperties();\n    this.sizeScale = new LinearScale();\n    this.colorScale = new ColorScale();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d;\n      if (!this.properties.isValid() || this.data == null || !this.visible) return;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const {\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const colorScaleType = this.colorScale.type;\n      const sizeScaleType = this.sizeScale.type;\n      const {\n        xKey,\n        yKey,\n        sizeKey,\n        labelKey,\n        colorDomain,\n        colorRange,\n        colorKey,\n        marker\n      } = this.properties;\n      const {\n        dataModel,\n        processedData\n      } = yield this.requestDataModel(dataController, this.data, {\n        props: [keyProperty(xKey, xScaleType, {\n          id: \"xKey-raw\"\n        }), keyProperty(yKey, yScaleType, {\n          id: \"yKey-raw\"\n        }), ...(labelKey ? [keyProperty(labelKey, \"band\", {\n          id: \"labelKey-raw\"\n        })] : []), valueProperty(xKey, xScaleType, {\n          id: \"xValue\"\n        }), valueProperty(yKey, yScaleType, {\n          id: \"yValue\"\n        }), valueProperty(sizeKey, sizeScaleType, {\n          id: \"sizeValue\"\n        }), ...(colorKey ? [valueProperty(colorKey, colorScaleType, {\n          id: \"colorValue\"\n        })] : []), ...(labelKey ? [valueProperty(labelKey, \"band\", {\n          id: \"labelValue\"\n        })] : [])]\n      });\n      const sizeKeyIdx = dataModel.resolveProcessedDataIndexById(this, \"sizeValue\");\n      const processedSize = (_c = processedData.domain.values[sizeKeyIdx]) != null ? _c : [];\n      this.sizeScale.domain = marker.domain ? marker.domain : processedSize;\n      if (colorKey) {\n        const colorKeyIdx = dataModel.resolveProcessedDataIndexById(this, \"colorValue\");\n        this.colorScale.domain = (_d = colorDomain != null ? colorDomain : processedData.domain.values[colorKeyIdx]) != null ? _d : [];\n        this.colorScale.range = colorRange;\n        this.colorScale.update();\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const {\n      dataModel,\n      processedData\n    } = this;\n    if (!processedData || !dataModel) return [];\n    const id = direction === \"x\" /* X */ ? \"xValue\" : \"yValue\";\n    const dataDef = dataModel.resolveProcessedDataDefById(this, id);\n    const domain = dataModel.getDomain(this, id, \"value\", processedData);\n    if ((dataDef == null ? void 0 : dataDef.def.type) === \"value\" && (dataDef == null ? void 0 : dataDef.def.valueType) === \"category\") {\n      return domain;\n    }\n    const axis = this.axes[direction];\n    return fixNumericExtent(extent(domain), axis);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const {\n        axes,\n        dataModel,\n        processedData,\n        colorScale,\n        sizeScale\n      } = this;\n      const {\n        xKey,\n        yKey,\n        sizeKey,\n        labelKey,\n        xName,\n        yName,\n        sizeName,\n        labelName,\n        label,\n        colorKey,\n        marker,\n        visible\n      } = this.properties;\n      const markerShape = getMarker(marker.shape);\n      const {\n        placement\n      } = label;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!(dataModel && processedData && visible && xAxis && yAxis)) {\n        return;\n      }\n      const xDataIdx = dataModel.resolveProcessedDataIndexById(this, \"xValue\");\n      const yDataIdx = dataModel.resolveProcessedDataIndexById(this, \"yValue\");\n      const sizeDataIdx = sizeKey ? dataModel.resolveProcessedDataIndexById(this, \"sizeValue\") : -1;\n      const colorDataIdx = colorKey ? dataModel.resolveProcessedDataIndexById(this, \"colorValue\") : -1;\n      const labelDataIdx = labelKey ? dataModel.resolveProcessedDataIndexById(this, \"labelValue\") : -1;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      sizeScale.range = [marker.size, marker.maxSize];\n      const font = label.getFont();\n      for (const {\n        values,\n        datum\n      } of (_c = processedData.data) != null ? _c : []) {\n        const xDatum = values[xDataIdx];\n        const yDatum = values[yDataIdx];\n        const x = xScale.convert(xDatum) + xOffset;\n        const y = yScale.convert(yDatum) + yOffset;\n        const labelText = this.getLabelText(label, {\n          value: labelKey ? values[labelDataIdx] : yDatum,\n          datum,\n          xKey,\n          yKey,\n          sizeKey,\n          labelKey,\n          xName,\n          yName,\n          sizeName,\n          labelName\n        });\n        const size = Text.getTextSize(String(labelText), font);\n        const markerSize = sizeKey ? sizeScale.convert(values[sizeDataIdx]) : marker.size;\n        const fill = colorKey ? colorScale.convert(values[colorDataIdx]) : void 0;\n        nodeData.push({\n          series: this,\n          itemId: yKey,\n          yKey,\n          xKey,\n          datum,\n          xValue: xDatum,\n          yValue: yDatum,\n          sizeValue: values[sizeDataIdx],\n          point: {\n            x,\n            y,\n            size: markerSize\n          },\n          midPoint: {\n            x,\n            y\n          },\n          fill,\n          label: __spreadValues({\n            text: labelText\n          }, size),\n          marker: markerShape,\n          placement\n        });\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  getLabelData() {\n    var _a, _b;\n    return (_b = (_a = this.contextNodeData) == null ? void 0 : _a.labelData) != null ? _b : [];\n  }\n  markerFactory() {\n    const {\n      shape\n    } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        nodeData,\n        markerSelection\n      } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      const data = this.properties.marker.enabled ? nodeData : [];\n      return markerSelection.update(data, void 0, datum => createDatumId([datum.xValue, datum.yValue, datum.label.text]));\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        markerSelection,\n        isHighlight: highlighted\n      } = opts;\n      const {\n        xKey,\n        yKey,\n        sizeKey,\n        labelKey,\n        marker\n      } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && this.properties.highlightStyle.item, marker.getStyle());\n      this.sizeScale.range = [marker.size, marker.maxSize];\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, {\n          datum,\n          highlighted,\n          xKey,\n          yKey,\n          sizeKey,\n          labelKey\n        }, baseStyle);\n      });\n      if (!highlighted) {\n        this.properties.marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const placedLabels = this.properties.label.enabled ? (_b = (_a = this.chart) == null ? void 0 : _a.placeLabels().get(this)) != null ? _b : [] : [];\n      return opts.labelSelection.update(placedLabels.map(v => __spreadProps(__spreadValues({}, v.datum), {\n        point: {\n          x: v.x,\n          y: v.y,\n          size: v.datum.point.size\n        }\n      })));\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        label\n      } = this.properties;\n      opts.labelSelection.each((text, datum) => {\n        var _a, _b, _c, _d;\n        text.text = datum.label.text;\n        text.fill = label.color;\n        text.x = (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : 0;\n        text.y = (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : 0;\n        text.fontStyle = label.fontStyle;\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = \"left\";\n        text.textBaseline = \"top\";\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      xKey,\n      yKey,\n      sizeKey,\n      labelKey,\n      xName,\n      yName,\n      sizeName,\n      labelName,\n      marker,\n      tooltip\n    } = this.properties;\n    const title = (_a = this.properties.title) != null ? _a : yName;\n    const baseStyle = mergeDefaults({\n      fill: nodeDatum.fill,\n      strokeWidth: this.getStrokeWidth(marker.strokeWidth)\n    }, marker.getStyle());\n    const {\n      fill: color = \"gray\"\n    } = this.getMarkerStyle(marker, {\n      datum: nodeDatum,\n      highlighted: false,\n      xKey,\n      yKey,\n      sizeKey,\n      labelKey\n    }, baseStyle);\n    const {\n      datum,\n      xValue,\n      yValue,\n      sizeValue,\n      label: {\n        text: labelText\n      },\n      itemId\n    } = nodeDatum;\n    const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n    const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n    let content = \"<b>\".concat(sanitizeHtml(xName != null ? xName : xKey), \"</b>: \").concat(xString, \"<br><b>\").concat(sanitizeHtml(yName != null ? yName : yKey), \"</b>: \").concat(yString);\n    if (sizeKey) {\n      content += \"<br><b>\".concat(sanitizeHtml(sizeName != null ? sizeName : sizeKey), \"</b>: \").concat(sanitizeHtml(String(sizeValue)));\n    }\n    if (labelKey) {\n      content = \"<b>\".concat(sanitizeHtml(labelName != null ? labelName : labelKey), \"</b>: \").concat(sanitizeHtml(labelText), \"<br>\") + content;\n    }\n    return tooltip.toTooltipHtml({\n      title,\n      content,\n      backgroundColor: color\n    }, {\n      datum,\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      sizeKey,\n      sizeName,\n      labelKey,\n      labelName,\n      title,\n      color,\n      seriesId: this.id\n    });\n  }\n  getLegendData() {\n    var _a, _b;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid()) {\n      return [];\n    }\n    const {\n      yKey,\n      yName,\n      title,\n      marker,\n      visible\n    } = this.properties;\n    const {\n      shape,\n      fill,\n      stroke,\n      fillOpacity,\n      strokeOpacity,\n      strokeWidth\n    } = marker;\n    return [{\n      legendType: \"category\",\n      id: this.id,\n      itemId: yKey,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: (_b = title != null ? title : yName) != null ? _b : yKey\n      },\n      marker: {\n        shape,\n        fill: fill != null ? fill : \"rgba(0, 0, 0, 0)\",\n        stroke: stroke != null ? stroke : \"rgba(0, 0, 0, 0)\",\n        fillOpacity: fillOpacity != null ? fillOpacity : 1,\n        strokeOpacity: strokeOpacity != null ? strokeOpacity : 1,\n        strokeWidth: strokeWidth != null ? strokeWidth : 0\n      }\n    }];\n  }\n  animateEmptyUpdateReady(_ref94) {\n    let {\n      markerSelection,\n      labelSelection\n    } = _ref94;\n    markerScaleInAnimation(this, this.ctx.animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const {\n      xKey,\n      yKey,\n      sizeKey,\n      labelKey\n    } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, {\n      datum,\n      xKey,\n      yKey,\n      sizeKey,\n      labelKey,\n      highlighted: false\n    });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nBubbleSeries.className = \"BubbleSeries\";\nBubbleSeries.type = \"bubble\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeriesModule.ts\nvar BubbleSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bubble\",\n  instanceConstructor: BubbleSeries,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"bottom\" /* BOTTOM */\n  }, {\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: {\n        position: {\n          type: \"node\"\n        }\n      },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        maxSize: 30,\n        fillOpacity: 0.8\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  paletteFactory: markerPaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeriesProperties.ts\nvar HistogramSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fillOpacity = 1;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.areaPlot = false;\n    this.aggregation = \"sum\";\n    this.shadow = new DropShadow();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([Validate(STRING)], HistogramSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO)], HistogramSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(COLOR_STRING, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], HistogramSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO)], HistogramSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], HistogramSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], HistogramSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], HistogramSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([Validate(BOOLEAN)], HistogramSeriesProperties.prototype, \"areaPlot\", 2);\n__decorateClass([Validate(ARRAY, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"bins\", 2);\n__decorateClass([Validate(UNION([\"count\", \"sum\", \"mean\"], \"a histogram aggregation\"))], HistogramSeriesProperties.prototype, \"aggregation\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], HistogramSeriesProperties.prototype, \"binCount\", 2);\n__decorateClass([Validate(OBJECT)], HistogramSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([Validate(OBJECT)], HistogramSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], HistogramSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeries.ts\nvar defaultBinCount = 10;\nvar HistogramSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      datumSelectionGarbageCollection: false,\n      animationResetFns: {\n        datum: resetBarSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new HistogramSeriesProperties();\n    this.calculatedBins = [];\n  }\n  // During processData phase, used to unify different ways of the user specifying\n  // the bins. Returns bins in format[[min1, max1], [min2, max2], ... ].\n  deriveBins(xDomain) {\n    const binStarts = ticks_default(xDomain[0], xDomain[1], defaultBinCount);\n    const binSize = tickStep(xDomain[0], xDomain[1], defaultBinCount);\n    const [firstBinEnd] = binStarts;\n    const expandStartToBin = n => [n, n + binSize];\n    return [[firstBinEnd - binSize, firstBinEnd], ...binStarts.map(expandStartToBin)];\n  }\n  calculateNiceBins(domain, binCount) {\n    const startGuess = Math.floor(domain[0]);\n    const stop = domain[1];\n    const segments = binCount || 1;\n    const {\n      start,\n      binSize\n    } = this.calculateNiceStart(startGuess, stop, segments);\n    return this.getBins(start, stop, binSize, segments);\n  }\n  getBins(start, stop, step, count) {\n    const bins = [];\n    const precision = this.calculatePrecision(step);\n    for (let i = 0; i < count; i++) {\n      const a = Math.round((start + i * step) * precision) / precision;\n      let b = Math.round((start + (i + 1) * step) * precision) / precision;\n      if (i === count - 1) {\n        b = Math.max(b, stop);\n      }\n      bins[i] = [a, b];\n    }\n    return bins;\n  }\n  calculatePrecision(step) {\n    let precision = 10;\n    if (isFinite(step) && step > 0) {\n      while (step < 1) {\n        precision *= 10;\n        step *= 10;\n      }\n    }\n    return precision;\n  }\n  calculateNiceStart(a, b, segments) {\n    const binSize = Math.abs(b - a) / segments;\n    const order = Math.floor(Math.log10(binSize));\n    const magnitude = Math.pow(10, order);\n    const start = Math.floor(a / magnitude) * magnitude;\n    return {\n      start,\n      binSize\n    };\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (!this.visible) {\n        this.processedData = void 0;\n        this.animationState.transition(\"updateData\");\n      }\n      const {\n        xKey,\n        yKey,\n        areaPlot,\n        aggregation\n      } = this.properties;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const {\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        yScale,\n        xScale\n      });\n      const props = [keyProperty(xKey, xScaleType), SORT_DOMAIN_GROUPS];\n      if (yKey) {\n        let aggProp = groupCount(\"groupAgg\");\n        if (aggregation === \"count\") {} else if (aggregation === \"sum\") {\n          aggProp = groupSum(\"groupAgg\");\n        } else if (aggregation === \"mean\") {\n          aggProp = groupAverage(\"groupAgg\");\n        }\n        if (areaPlot) {\n          aggProp = area(\"groupAgg\", aggProp);\n        }\n        props.push(valueProperty(yKey, yScaleType, {\n          invalidValue: void 0\n        }), aggProp);\n      } else {\n        let aggProp = groupCount(\"groupAgg\");\n        if (areaPlot) {\n          aggProp = area(\"groupAgg\", aggProp);\n        }\n        props.push(aggProp);\n      }\n      const groupByFn = dataSet => {\n        var _a2;\n        const xExtent = fixNumericExtent(dataSet.domain.keys[0]);\n        if (xExtent.length === 0) {\n          dataSet.domain.groups = [];\n          return () => [];\n        }\n        const bins = isNumber(this.properties.binCount) ? this.calculateNiceBins(xExtent, this.properties.binCount) : (_a2 = this.properties.bins) != null ? _a2 : this.deriveBins(xExtent);\n        const binCount = bins.length;\n        this.calculatedBins = [...bins];\n        return item => {\n          const xValue = item.keys[0];\n          for (let i = 0; i < binCount; i++) {\n            const nextBin = bins[i];\n            if (xValue >= nextBin[0] && xValue < nextBin[1]) {\n              return nextBin;\n            }\n            if (i === binCount - 1 && xValue <= nextBin[1]) {\n              return nextBin;\n            }\n          }\n          return [];\n        };\n      };\n      if (!this.ctx.animationManager.isSkipped() && this.processedData) {\n        props.push(diff(this.processedData, false));\n      }\n      yield this.requestDataModel(dataController, this.data, {\n        props,\n        groupByFn\n      });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    var _a, _b, _c, _d;\n    const {\n      processedData,\n      dataModel\n    } = this;\n    if (!processedData || !dataModel || !this.calculatedBins.length) return [];\n    const yDomain = dataModel.getDomain(this, \"groupAgg\", \"aggregate\", processedData);\n    const xDomainMin = (_a = this.calculatedBins) == null ? void 0 : _a[0][0];\n    const xDomainMax = (_d = this.calculatedBins) == null ? void 0 : _d[((_c = (_b = this.calculatedBins) == null ? void 0 : _b.length) != null ? _c : 0) - 1][1];\n    if (direction === \"x\" /* X */) {\n      return fixNumericExtent([xDomainMin, xDomainMax]);\n    }\n    return fixNumericExtent(yDomain);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        id: seriesId,\n        axes,\n        processedData,\n        ctx: {\n          callbackCache\n        }\n      } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!xAxis || !yAxis) {\n        return;\n      }\n      const {\n        scale: xScale\n      } = xAxis;\n      const {\n        scale: yScale\n      } = yAxis;\n      const {\n        xKey,\n        yKey,\n        xName,\n        yName,\n        fill,\n        stroke,\n        strokeWidth,\n        cornerRadius\n      } = this.properties;\n      const {\n        formatter: labelFormatter = params => String(params.value),\n        fontStyle: labelFontStyle,\n        fontWeight: labelFontWeight,\n        fontSize: labelFontSize,\n        fontFamily: labelFontFamily,\n        color: labelColor\n      } = this.properties.label;\n      const nodeData = [];\n      const context = {\n        itemId: (_a = this.properties.yKey) != null ? _a : this.id,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        animationValid: true,\n        visible: this.visible\n      };\n      if (!this.visible || !processedData || processedData.type !== \"grouped\") return context;\n      processedData.data.forEach(group2 => {\n        var _a2;\n        const {\n          aggValues: [[negativeAgg, positiveAgg]] = [[0, 0]],\n          datum,\n          datum: {\n            length: frequency\n          },\n          keys: domain,\n          keys: [xDomainMin, xDomainMax]\n        } = group2;\n        const xMinPx = xScale.convert(xDomainMin);\n        const xMaxPx = xScale.convert(xDomainMax);\n        const total = negativeAgg + positiveAgg;\n        const yZeroPx = yScale.convert(0);\n        const yMaxPx = yScale.convert(total);\n        const w = Math.abs(xMaxPx - xMinPx);\n        const h = Math.abs(yMaxPx - yZeroPx);\n        const x = Math.min(xMinPx, xMaxPx);\n        const y = Math.min(yZeroPx, yMaxPx);\n        let selectionDatumLabel = void 0;\n        if (total !== 0) {\n          selectionDatumLabel = {\n            text: (_a2 = callbackCache.call(labelFormatter, {\n              value: total,\n              datum,\n              seriesId,\n              xKey,\n              yKey,\n              xName,\n              yName\n            })) != null ? _a2 : String(total),\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily,\n            fill: labelColor,\n            x: x + w / 2,\n            y: y + h / 2\n          };\n        }\n        const nodeMidPoint = {\n          x: x + w / 2,\n          y: y + h / 2\n        };\n        const yAxisReversed = yAxis.isReversed();\n        nodeData.push({\n          series: this,\n          datum,\n          // required by SeriesNodeDatum, but might not make sense here\n          // since each selection is an aggregation of multiple data.\n          aggregatedValue: total,\n          frequency,\n          domain,\n          yKey,\n          xKey,\n          x,\n          y,\n          xValue: xMinPx,\n          yValue: yMaxPx,\n          width: w,\n          height: h,\n          midPoint: nodeMidPoint,\n          fill,\n          stroke,\n          cornerRadius,\n          topLeftCornerRadius: !yAxisReversed,\n          topRightCornerRadius: !yAxisReversed,\n          bottomRightCornerRadius: yAxisReversed,\n          bottomLeftCornerRadius: yAxisReversed,\n          opacity: 1,\n          strokeWidth,\n          label: selectionDatumLabel\n        });\n      });\n      nodeData.sort((a, b) => a.x - b.x);\n      return context;\n    });\n  }\n  nodeFactory() {\n    return new Rect();\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        nodeData,\n        datumSelection\n      } = opts;\n      return datumSelection.update(nodeData, rect => {\n        rect.tag = 0 /* Bin */;\n        rect.crisp = true;\n      }, datum => datum.domain.join(\"_\"));\n    });\n  }\n  updateDatumNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        isHighlight: isDatumHighlighted\n      } = opts;\n      const {\n        fillOpacity: seriesFillOpacity,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        shadow,\n        highlightStyle: {\n          item: {\n            fill: highlightedFill,\n            fillOpacity: highlightFillOpacity = seriesFillOpacity,\n            stroke: highlightedStroke,\n            strokeWidth: highlightedDatumStrokeWidth\n          }\n        }\n      } = this.properties;\n      opts.datumSelection.each((rect, datum, index) => {\n        var _a, _b;\n        const {\n          cornerRadius,\n          topLeftCornerRadius,\n          topRightCornerRadius,\n          bottomRightCornerRadius,\n          bottomLeftCornerRadius\n        } = datum;\n        const strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== void 0 ? highlightedDatumStrokeWidth : datum.strokeWidth;\n        const fillOpacity = isDatumHighlighted ? highlightFillOpacity : seriesFillOpacity;\n        rect.fill = (_a = isDatumHighlighted ? highlightedFill : void 0) != null ? _a : datum.fill;\n        rect.stroke = (_b = isDatumHighlighted ? highlightedStroke : void 0) != null ? _b : datum.stroke;\n        rect.fillOpacity = fillOpacity;\n        rect.strokeOpacity = strokeOpacity;\n        rect.strokeWidth = strokeWidth;\n        rect.lineDash = lineDash;\n        rect.lineDashOffset = lineDashOffset;\n        rect.topLeftCornerRadius = topLeftCornerRadius ? cornerRadius : 0;\n        rect.topRightCornerRadius = topRightCornerRadius ? cornerRadius : 0;\n        rect.bottomRightCornerRadius = bottomRightCornerRadius ? cornerRadius : 0;\n        rect.bottomLeftCornerRadius = bottomLeftCornerRadius ? cornerRadius : 0;\n        rect.fillShadow = shadow;\n        rect.zIndex = isDatumHighlighted ? Series.highlightedZIndex : index;\n        rect.visible = datum.height > 0;\n      });\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        labelData,\n        labelSelection\n      } = opts;\n      return labelSelection.update(labelData, text => {\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const labelEnabled = this.isLabelEnabled();\n      opts.labelSelection.each((text, datum) => {\n        const label = datum.label;\n        if (label && labelEnabled) {\n          text.text = label.text;\n          text.x = label.x;\n          text.y = label.y;\n          text.fontStyle = label.fontStyle;\n          text.fontWeight = label.fontWeight;\n          text.fontSize = label.fontSize;\n          text.fontFamily = label.fontFamily;\n          text.fill = label.fill;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  initQuadTree(quadtree) {\n    addHitTestersToQuadtree(quadtree, childrenIter(this.contentGroup.children[0]));\n  }\n  pickNodeClosestDatum(point) {\n    return findQuadtreeMatch(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      xKey,\n      yKey,\n      xName,\n      yName,\n      fill: color,\n      aggregation,\n      tooltip\n    } = this.properties;\n    const {\n      aggregatedValue,\n      frequency,\n      domain: [rangeMin, rangeMax],\n      itemId\n    } = nodeDatum;\n    const title = \"\".concat(sanitizeHtml(xName != null ? xName : xKey), \": \").concat(xAxis.formatDatum(rangeMin), \" - \").concat(xAxis.formatDatum(rangeMax));\n    let content = yKey ? \"<b>\".concat(sanitizeHtml(yName != null ? yName : yKey), \" (\").concat(aggregation, \")</b>: \").concat(yAxis.formatDatum(aggregatedValue), \"<br>\") : \"\";\n    content += \"<b>Frequency</b>: \".concat(frequency);\n    const defaults = {\n      title,\n      backgroundColor: color,\n      content\n    };\n    return tooltip.toTooltipHtml(defaults, {\n      datum: {\n        data: nodeDatum.datum,\n        aggregatedValue: nodeDatum.aggregatedValue,\n        domain: nodeDatum.domain,\n        frequency: nodeDatum.frequency\n      },\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      color,\n      title,\n      seriesId: this.id\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || legendType !== \"category\") {\n      return [];\n    }\n    const {\n      xKey,\n      yName,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      strokeOpacity,\n      visible\n    } = this.properties;\n    return [{\n      legendType: \"category\",\n      id: this.id,\n      itemId: xKey,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: (_b = yName != null ? yName : xKey) != null ? _b : \"Frequency\"\n      },\n      marker: {\n        fill: fill != null ? fill : \"rgba(0, 0, 0, 0)\",\n        stroke: stroke != null ? stroke : \"rgba(0, 0, 0, 0)\",\n        fillOpacity,\n        strokeOpacity,\n        strokeWidth\n      }\n    }];\n  }\n  animateEmptyUpdateReady(_ref95) {\n    let {\n      datumSelection,\n      labelSelection\n    } = _ref95;\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(true, this.axes, \"normal\"));\n    fromToMotion(this.id, \"datums\", this.ctx.animationManager, [datumSelection], fns);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n  }\n  animateWaitingUpdateReady(data) {\n    var _a, _b;\n    const dataDiff = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff;\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(true, this.axes, \"normal\"));\n    fromToMotion(this.id, \"datums\", this.ctx.animationManager, [data.datumSelection], fns, (_, datum) => createDatumId(datum.domain), dataDiff);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, data.labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  computeFocusBounds(_ref96) {\n    let {\n      datumIndex,\n      seriesRect\n    } = _ref96;\n    var _a;\n    return computeBarFocusBounds((_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex], this.contentGroup, seriesRect);\n  }\n};\nHistogramSeries.className = \"HistogramSeries\";\nHistogramSeries.type = \"histogram\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeriesModule.ts\nvar HistogramSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"histogram\",\n  instanceConstructor: HistogramSeries,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"bottom\" /* BOTTOM */\n  }, {\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      strokeWidth: 1,\n      fillOpacity: 1,\n      strokeOpacity: 1,\n      lineDash: [0],\n      lineDashOffset: 0,\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR\n      },\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      }\n    }\n  },\n  paletteFactory: _ref97 => {\n    let {\n      takeColors\n    } = _ref97;\n    const {\n      fills: [fill],\n      strokes: [stroke]\n    } = takeColors(1);\n    return {\n      fill,\n      stroke\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeriesProperties.ts\nvar LineSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.stroke = \"#874349\";\n    this.strokeWidth = 2;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.marker = new SeriesMarker();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n    this.connectMissingData = false;\n  }\n};\n__decorateClass([Validate(STRING)], LineSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING)], LineSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], LineSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], LineSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], LineSeriesProperties.prototype, \"title\", 2);\n__decorateClass([Validate(COLOR_STRING)], LineSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LineSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(RATIO)], LineSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], LineSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], LineSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(OBJECT)], LineSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], LineSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], LineSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([Validate(BOOLEAN)], LineSeriesProperties.prototype, \"connectMissingData\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeries.ts\nvar LineSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      hasMarkers: true,\n      pickModes: [2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */, 3 /* NEAREST_NODE */, 0 /* EXACT_SHAPE_MATCH */],\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        path: buildResetPathFn({\n          getOpacity: () => this.getOpacity()\n        }),\n        label: resetLabelFn,\n        marker: (node, datum) => __spreadValues(__spreadValues({}, resetMarkerFn(node)), resetMarkerPositionFn(node, datum))\n      }\n    });\n    this.properties = new LineSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (!this.properties.isValid() || this.data == null) {\n        return;\n      }\n      const {\n        xKey,\n        yKey\n      } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const {\n        isContinuousX,\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const props = [];\n      if (!isContinuousX) {\n        props.push(keyProperty(xKey, xScaleType, {\n          id: \"xKey\"\n        }));\n      }\n      if (animationEnabled) {\n        props.push(animationValidation(isContinuousX ? [\"xValue\"] : void 0));\n        if (this.processedData) {\n          props.push(diff(this.processedData));\n        }\n      }\n      props.push(valueProperty(xKey, xScaleType, {\n        id: \"xValue\"\n      }), valueProperty(yKey, yScaleType, {\n        id: \"yValue\",\n        invalidValue: void 0\n      }));\n      yield this.requestDataModel(dataController, this.data, {\n        props\n      });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const {\n      axes,\n      dataModel,\n      processedData\n    } = this;\n    if (!processedData || !dataModel) return [];\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const xDef = dataModel.resolveProcessedDataDefById(this, \"xValue\");\n    if (direction === \"x\" /* X */) {\n      const domain = dataModel.getDomain(this, \"xValue\", \"value\", processedData);\n      if ((xDef == null ? void 0 : xDef.def.type) === \"value\" && xDef.def.valueType === \"category\") {\n        return domain;\n      }\n      return fixNumericExtent(extent(domain), xAxis);\n    } else {\n      const domain = dataModel.getDomain(this, \"yValue\", \"value\", processedData);\n      return fixNumericExtent(domain, yAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const {\n        processedData,\n        dataModel,\n        axes\n      } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!processedData || !dataModel || !xAxis || !yAxis) {\n        return;\n      }\n      const {\n        xKey,\n        yKey,\n        xName,\n        yName,\n        marker,\n        label,\n        connectMissingData,\n        legendItemName\n      } = this.properties;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      const size = marker.enabled ? marker.size : 0;\n      const xIdx = dataModel.resolveProcessedDataIndexById(this, \"xValue\");\n      const yIdx = dataModel.resolveProcessedDataIndexById(this, \"yValue\");\n      let moveTo = true;\n      let nextPoint;\n      for (let i = 0; i < processedData.data.length; i++) {\n        const {\n          datum,\n          values\n        } = nextPoint != null ? nextPoint : processedData.data[i];\n        const xDatum = values[xIdx];\n        const yDatum = values[yIdx];\n        if (yDatum === void 0) {\n          moveTo = !connectMissingData;\n        } else {\n          const x = xScale.convert(xDatum) + xOffset;\n          if (isNaN(x)) {\n            moveTo = !connectMissingData;\n            nextPoint = void 0;\n            continue;\n          }\n          nextPoint = ((_c = processedData.data[i + 1]) == null ? void 0 : _c.values[yIdx]) === void 0 ? void 0 : processedData.data[i + 1];\n          const y = yScale.convert(yDatum) + yOffset;\n          const labelText = this.getLabelText(label, {\n            value: yDatum,\n            datum,\n            xKey,\n            yKey,\n            xName,\n            yName,\n            legendItemName\n          }, value => isFiniteNumber(value) ? value.toFixed(2) : String(value));\n          nodeData.push({\n            series: this,\n            datum,\n            yKey,\n            xKey,\n            point: {\n              x,\n              y,\n              moveTo,\n              size\n            },\n            midPoint: {\n              x,\n              y\n            },\n            yValue: yDatum,\n            xValue: xDatum,\n            capDefaults: {\n              lengthRatioMultiplier: this.properties.marker.getDiameter(),\n              lengthMax: Infinity\n            },\n            label: labelText ? {\n              text: labelText,\n              fontStyle: label.fontStyle,\n              fontWeight: label.fontWeight,\n              fontSize: label.fontSize,\n              fontFamily: label.fontFamily,\n              textAlign: \"center\",\n              textBaseline: \"bottom\",\n              fill: label.color\n            } : void 0\n          });\n          moveTo = false;\n        }\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  markerFactory() {\n    const {\n      shape\n    } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        paths: [lineNode],\n        opacity,\n        visible,\n        animationEnabled\n      } = opts;\n      lineNode.setProperties({\n        fill: void 0,\n        lineJoin: \"round\",\n        pointerEvents: 1 /* None */,\n        opacity,\n        stroke: this.properties.stroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.properties.strokeOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset\n      });\n      if (!animationEnabled) {\n        lineNode.visible = visible;\n      }\n      updateClipPath(this, lineNode);\n    });\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      let {\n        nodeData\n      } = opts;\n      const {\n        markerSelection\n      } = opts;\n      const {\n        shape,\n        enabled\n      } = this.properties.marker;\n      nodeData = shape && enabled ? nodeData : [];\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(nodeData, void 0, datum => createDatumId(datum.xValue));\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        markerSelection,\n        isHighlight: highlighted\n      } = opts;\n      const {\n        xKey,\n        yKey,\n        stroke,\n        strokeWidth,\n        strokeOpacity,\n        marker,\n        highlightStyle\n      } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle(), {\n        stroke,\n        strokeWidth,\n        strokeOpacity\n      });\n      const applyTranslation = this.ctx.animationManager.isSkipped();\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, {\n          datum,\n          highlighted,\n          xKey,\n          yKey\n        }, baseStyle, {\n          applyTranslation\n        });\n      });\n      if (!highlighted) {\n        marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.labelSelection.update(this.isLabelEnabled() ? opts.labelData : []);\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        enabled,\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily,\n        color\n      } = this.properties.label;\n      opts.labelSelection.each((text, datum) => {\n        const {\n          point,\n          label\n        } = datum;\n        if (datum && label && enabled) {\n          text.fontStyle = fontStyle;\n          text.fontWeight = fontWeight;\n          text.fontSize = fontSize;\n          text.fontFamily = fontFamily;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n          text.text = label.text;\n          text.x = point.x;\n          text.y = point.y - 10;\n          text.fill = color;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      xKey,\n      yKey,\n      xName,\n      yName,\n      strokeWidth,\n      marker,\n      tooltip\n    } = this.properties;\n    const {\n      datum,\n      xValue,\n      yValue,\n      itemId\n    } = nodeDatum;\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml((_a = this.properties.title) != null ? _a : yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    const baseStyle = mergeDefaults({\n      fill: marker.stroke\n    }, marker.getStyle(), {\n      strokeWidth\n    });\n    const {\n      fill: color\n    } = this.getMarkerStyle(marker, {\n      datum: nodeDatum,\n      xKey,\n      yKey,\n      highlighted: false\n    }, baseStyle);\n    return tooltip.toTooltipHtml({\n      title,\n      content,\n      backgroundColor: color\n    }, __spreadValues({\n      datum,\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      title,\n      color,\n      seriesId: this.id\n    }, this.getModuleTooltipParams()));\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    if (!(((_a = this.data) == null ? void 0 : _a.length) && this.properties.isValid() && legendType === \"category\")) {\n      return [];\n    }\n    const {\n      yKey,\n      yName,\n      stroke,\n      strokeOpacity,\n      strokeWidth,\n      lineDash,\n      title,\n      marker,\n      visible,\n      legendItemName\n    } = this.properties;\n    const color0 = \"rgba(0, 0, 0, 0)\";\n    return [{\n      legendType: \"category\",\n      id: this.id,\n      itemId: yKey,\n      legendItemName,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: (_c = (_b = legendItemName != null ? legendItemName : title) != null ? _b : yName) != null ? _c : yKey\n      },\n      marker: {\n        shape: marker.shape,\n        fill: (_d = marker.fill) != null ? _d : color0,\n        stroke: (_f = (_e = marker.stroke) != null ? _e : stroke) != null ? _f : color0,\n        fillOpacity: (_g = marker.fillOpacity) != null ? _g : 1,\n        strokeOpacity: (_i = (_h = marker.strokeOpacity) != null ? _h : strokeOpacity) != null ? _i : 1,\n        strokeWidth: (_j = marker.strokeWidth) != null ? _j : 0,\n        enabled: marker.enabled\n      },\n      line: {\n        stroke: stroke != null ? stroke : color0,\n        strokeOpacity,\n        strokeWidth,\n        lineDash\n      }\n    }];\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      this.updateLinePaths(opts.paths, opts.contextData);\n    });\n  }\n  updateLinePaths(paths, contextData) {\n    const {\n      nodeData\n    } = contextData;\n    const [lineNode] = paths;\n    const {\n      path: linePath\n    } = lineNode;\n    linePath.clear(true);\n    for (const data of nodeData) {\n      if (data.point.moveTo) {\n        linePath.moveTo(data.point.x, data.point.y);\n      } else {\n        linePath.lineTo(data.point.x, data.point.y);\n      }\n    }\n    lineNode.checkPathDirty();\n  }\n  animateEmptyUpdateReady(animationData) {\n    const {\n      markerSelection,\n      labelSelection,\n      annotationSelections,\n      contextData,\n      paths\n    } = animationData;\n    const {\n      animationManager\n    } = this.ctx;\n    this.updateLinePaths(paths, contextData);\n    pathSwipeInAnimation(this, animationManager, ...paths);\n    resetMotion([markerSelection], resetMarkerPositionFn);\n    markerSwipeScaleInAnimation(this, animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n  }\n  animateReadyResize(animationData) {\n    const {\n      contextData,\n      paths\n    } = animationData;\n    this.updateLinePaths(paths, contextData);\n    super.animateReadyResize(animationData);\n  }\n  animateWaitingUpdateReady(animationData) {\n    var _a, _b;\n    const {\n      animationManager\n    } = this.ctx;\n    const {\n      markerSelection: markerSelections,\n      labelSelection: labelSelections,\n      annotationSelections,\n      contextData,\n      paths,\n      previousContextData\n    } = animationData;\n    const [path] = paths;\n    super.resetAllAnimation(animationData);\n    const update = () => {\n      this.updateLinePaths(paths, contextData);\n    };\n    const skip = () => {\n      animationManager.skipCurrentBatch();\n      update();\n    };\n    if (contextData == null || previousContextData == null) {\n      update();\n      markerFadeInAnimation(this, animationManager, \"added\", markerSelections);\n      pathFadeInAnimation(this, \"path_properties\", animationManager, \"add\", path);\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelections);\n      seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n      return;\n    }\n    const fns = prepareLinePathAnimation(contextData, previousContextData, (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff);\n    if (fns === void 0) {\n      skip();\n      return;\n    } else if (fns.status === \"no-op\") {\n      return;\n    }\n    markerFadeInAnimation(this, animationManager, void 0, markerSelections);\n    fromToMotion(this.id, \"path_properties\", animationManager, [path], fns.pathProperties);\n    pathMotion(this.id, \"path_update\", animationManager, [path], fns.path);\n    if (fns.hasMotion) {\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelections);\n      seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n    }\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  getBandScalePadding() {\n    return {\n      inner: 1,\n      outer: 0.1\n    };\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const {\n      xKey,\n      yKey\n    } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, {\n      datum,\n      xKey,\n      yKey,\n      highlighted: true\n    });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nLineSeries.className = \"LineSeries\";\nLineSeries.type = \"line\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeriesModule.ts\nvar LineSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"line\",\n  instanceConstructor: LineSeries,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }, {\n    type: \"category\" /* CATEGORY */,\n    position: \"bottom\" /* BOTTOM */\n  }],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: {\n        position: {\n          type: \"node\"\n        }\n      },\n      strokeWidth: 2,\n      strokeOpacity: 1,\n      lineDash: [0],\n      lineDashOffset: 0,\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 0\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 1\n        }\n      }\n    }\n  },\n  paletteFactory: params => {\n    const {\n      marker\n    } = markerPaletteFactory(params);\n    return {\n      stroke: marker.fill,\n      marker\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeriesProperties.ts\nvar ScatterSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"top\";\n  }\n};\n__decorateClass([Validate(LABEL_PLACEMENT)], ScatterSeriesLabel.prototype, \"placement\", 2);\nvar ScatterSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.colorRange = [\"#ffff00\", \"#00ff00\", \"#0000ff\"];\n    this.marker = new SeriesMarker();\n    this.label = new ScatterSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([Validate(STRING)], ScatterSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([Validate(STRING)], ScatterSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"labelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"labelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([Validate(NUMBER_ARRAY, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"colorDomain\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], ScatterSeriesProperties.prototype, \"colorRange\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], ScatterSeriesProperties.prototype, \"title\", 2);\n__decorateClass([Validate(OBJECT)], ScatterSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([Validate(OBJECT)], ScatterSeriesProperties.prototype, \"label\", 2);\n__decorateClass([Validate(OBJECT)], ScatterSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeries.ts\nvar ScatterSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */, 3 /* NEAREST_NODE */, 0 /* EXACT_SHAPE_MATCH */],\n      pathsPerSeries: 0,\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        marker: resetMarkerFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new ScatterSeriesProperties();\n    this.colorScale = new ColorScale();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      if (!this.properties.isValid() || this.data == null || !this.visible) return;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const {\n        xScaleType,\n        yScaleType\n      } = this.getScaleInformation({\n        xScale,\n        yScale\n      });\n      const colorScaleType = this.colorScale.type;\n      const {\n        xKey,\n        yKey,\n        labelKey,\n        colorKey,\n        colorDomain,\n        colorRange\n      } = this.properties;\n      const {\n        dataModel,\n        processedData\n      } = yield this.requestDataModel(dataController, this.data, {\n        props: [keyProperty(xKey, xScaleType, {\n          id: \"xKey-raw\"\n        }), keyProperty(yKey, yScaleType, {\n          id: \"yKey-raw\"\n        }), ...(labelKey ? [keyProperty(labelKey, \"band\", {\n          id: \"labelKey-raw\"\n        })] : []), valueProperty(xKey, xScaleType, {\n          id: \"xValue\"\n        }), valueProperty(yKey, yScaleType, {\n          id: \"yValue\"\n        }), ...(colorKey ? [valueProperty(colorKey, colorScaleType, {\n          id: \"colorValue\"\n        })] : []), ...(labelKey ? [valueProperty(labelKey, \"band\", {\n          id: \"labelValue\"\n        })] : [])]\n      });\n      if (colorKey) {\n        const colorKeyIdx = dataModel.resolveProcessedDataIndexById(this, \"colorValue\");\n        this.colorScale.domain = (_c = colorDomain != null ? colorDomain : processedData.domain.values[colorKeyIdx]) != null ? _c : [];\n        this.colorScale.range = colorRange;\n        this.colorScale.update();\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const {\n      dataModel,\n      processedData\n    } = this;\n    if (!processedData || !dataModel) return [];\n    const id = direction === \"x\" /* X */ ? \"xValue\" : \"yValue\";\n    const dataDef = dataModel.resolveProcessedDataDefById(this, id);\n    const domain = dataModel.getDomain(this, id, \"value\", processedData);\n    if ((dataDef == null ? void 0 : dataDef.def.type) === \"value\" && (dataDef == null ? void 0 : dataDef.def.valueType) === \"category\") {\n      return domain;\n    }\n    const axis = this.axes[direction];\n    return fixNumericExtent(extent(domain), axis);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const {\n        axes,\n        dataModel,\n        processedData,\n        colorScale\n      } = this;\n      const {\n        xKey,\n        yKey,\n        labelKey,\n        colorKey,\n        xName,\n        yName,\n        labelName,\n        marker,\n        label,\n        visible\n      } = this.properties;\n      const {\n        placement\n      } = label;\n      const markerShape = getMarker(marker.shape);\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!(dataModel && processedData && visible && xAxis && yAxis)) {\n        return;\n      }\n      const xDataIdx = dataModel.resolveProcessedDataIndexById(this, \"xValue\");\n      const yDataIdx = dataModel.resolveProcessedDataIndexById(this, \"yValue\");\n      const colorDataIdx = colorKey ? dataModel.resolveProcessedDataIndexById(this, \"colorValue\") : -1;\n      const labelDataIdx = labelKey ? dataModel.resolveProcessedDataIndexById(this, \"labelValue\") : -1;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      const font = label.getFont();\n      for (const {\n        values,\n        datum\n      } of (_c = processedData.data) != null ? _c : []) {\n        const xDatum = values[xDataIdx];\n        const yDatum = values[yDataIdx];\n        const x = xScale.convert(xDatum) + xOffset;\n        const y = yScale.convert(yDatum) + yOffset;\n        const labelText = this.getLabelText(label, {\n          value: labelKey ? values[labelDataIdx] : yDatum,\n          datum,\n          xKey,\n          yKey,\n          labelKey,\n          xName,\n          yName,\n          labelName\n        });\n        const size = Text.getTextSize(labelText, font);\n        const fill = colorKey ? colorScale.convert(values[colorDataIdx]) : void 0;\n        nodeData.push({\n          series: this,\n          itemId: yKey,\n          yKey,\n          xKey,\n          datum,\n          xValue: xDatum,\n          yValue: yDatum,\n          capDefaults: {\n            lengthRatioMultiplier: marker.getDiameter(),\n            lengthMax: Infinity\n          },\n          point: {\n            x,\n            y,\n            size: marker.size\n          },\n          midPoint: {\n            x,\n            y\n          },\n          fill,\n          label: __spreadValues({\n            text: labelText\n          }, size),\n          marker: markerShape,\n          placement\n        });\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  getLabelData() {\n    var _a, _b;\n    return (_b = (_a = this.contextNodeData) == null ? void 0 : _a.labelData) != null ? _b : [];\n  }\n  markerFactory() {\n    const {\n      shape\n    } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const {\n        nodeData,\n        markerSelection\n      } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(this.properties.marker.enabled ? nodeData : []);\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        markerSelection,\n        isHighlight: highlighted\n      } = opts;\n      const {\n        xKey,\n        yKey,\n        labelKey,\n        marker,\n        highlightStyle\n      } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle());\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, {\n          datum,\n          highlighted,\n          xKey,\n          yKey,\n          labelKey\n        }, baseStyle);\n      });\n      if (!highlighted) {\n        marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const placedLabels = this.isLabelEnabled() ? (_b = (_a = this.chart) == null ? void 0 : _a.placeLabels().get(this)) != null ? _b : [] : [];\n      return opts.labelSelection.update(placedLabels.map(_ref98 => {\n        let {\n          datum,\n          x,\n          y\n        } = _ref98;\n        return __spreadProps(__spreadValues({}, datum), {\n          point: {\n            x,\n            y,\n            size: datum.point.size\n          },\n          placement: \"top\"\n        });\n      }), text => {\n        text.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        label\n      } = this.properties;\n      opts.labelSelection.each((text, datum) => {\n        var _a, _b, _c, _d;\n        text.text = datum.label.text;\n        text.fill = label.color;\n        text.x = (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : 0;\n        text.y = (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : 0;\n        text.fontStyle = label.fontStyle;\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = \"left\";\n        text.textBaseline = \"top\";\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      xKey,\n      yKey,\n      labelKey,\n      xName,\n      yName,\n      labelName,\n      title = yName,\n      marker,\n      tooltip\n    } = this.properties;\n    const {\n      datum,\n      xValue,\n      yValue,\n      label,\n      itemId\n    } = nodeDatum;\n    const baseStyle = mergeDefaults({\n      fill: nodeDatum.fill,\n      strokeWidth: this.getStrokeWidth(marker.strokeWidth)\n    }, marker.getStyle());\n    const {\n      fill: color = \"gray\"\n    } = this.getMarkerStyle(marker, {\n      datum: nodeDatum,\n      highlighted: false,\n      xKey,\n      yKey,\n      labelKey\n    }, baseStyle);\n    const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n    const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n    let content = \"<b>\".concat(sanitizeHtml(xName != null ? xName : xKey), \"</b>: \").concat(xString, \"<br><b>\").concat(sanitizeHtml(yName != null ? yName : yKey), \"</b>: \").concat(yString);\n    if (labelKey) {\n      content = \"<b>\".concat(sanitizeHtml(labelName != null ? labelName : labelKey), \"</b>: \").concat(sanitizeHtml(label.text), \"<br>\") + content;\n    }\n    return tooltip.toTooltipHtml({\n      title,\n      content,\n      backgroundColor: color\n    }, __spreadValues({\n      datum,\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      labelKey,\n      labelName,\n      title,\n      color,\n      seriesId: this.id\n    }, this.getModuleTooltipParams()));\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e, _f;\n    const {\n      yKey,\n      yName,\n      title,\n      marker,\n      visible\n    } = this.properties;\n    const {\n      fill,\n      stroke,\n      fillOpacity,\n      strokeOpacity,\n      strokeWidth\n    } = marker;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    return [{\n      legendType: \"category\",\n      id: this.id,\n      itemId: yKey,\n      seriesId: this.id,\n      enabled: visible,\n      label: {\n        text: (_b = title != null ? title : yName) != null ? _b : yKey\n      },\n      marker: {\n        shape: marker.shape,\n        fill: (_d = (_c = marker.fill) != null ? _c : fill) != null ? _d : \"rgba(0, 0, 0, 0)\",\n        stroke: (_f = (_e = marker.stroke) != null ? _e : stroke) != null ? _f : \"rgba(0, 0, 0, 0)\",\n        fillOpacity: fillOpacity != null ? fillOpacity : 1,\n        strokeOpacity: strokeOpacity != null ? strokeOpacity : 1,\n        strokeWidth: strokeWidth != null ? strokeWidth : 0\n      }\n    }];\n  }\n  animateEmptyUpdateReady(data) {\n    const {\n      markerSelection,\n      labelSelection,\n      annotationSelections\n    } = data;\n    markerScaleInAnimation(this, this.ctx.animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const {\n      xKey,\n      yKey,\n      labelKey\n    } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, {\n      datum,\n      xKey,\n      yKey,\n      labelKey,\n      highlighted: true\n    });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nScatterSeries.className = \"ScatterSeries\";\nScatterSeries.type = \"scatter\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeriesModule.ts\nvar ScatterSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"scatter\",\n  instanceConstructor: ScatterSeries,\n  defaultAxes: [{\n    type: \"number\" /* NUMBER */,\n    position: \"bottom\" /* BOTTOM */\n  }, {\n    type: \"number\" /* NUMBER */,\n    position: \"left\" /* LEFT */\n  }],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: {\n        position: {\n          type: \"node\"\n        }\n      },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        fillOpacity: 0.8\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 1\n        }\n      }\n    }\n  },\n  paletteFactory: markerPaletteFactory\n};\n\n// packages/ag-charts-community/src/scene/sectorBox.ts\nvar SectorBox = class _SectorBox {\n  constructor(startAngle, endAngle, innerRadius, outerRadius) {\n    this.startAngle = startAngle;\n    this.endAngle = endAngle;\n    this.innerRadius = innerRadius;\n    this.outerRadius = outerRadius;\n  }\n  clone() {\n    const {\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius\n    } = this;\n    return new _SectorBox(startAngle, endAngle, innerRadius, outerRadius);\n  }\n  [interpolate](other, d) {\n    return new _SectorBox(this.startAngle * (1 - d) + other.startAngle * d, this.endAngle * (1 - d) + other.endAngle * d, this.innerRadius * (1 - d) + other.innerRadius * d, this.outerRadius * (1 - d) + other.outerRadius * d);\n  }\n};\n\n// packages/ag-charts-community/src/scene/util/sector.ts\nfunction isPointInSector(x, y, sector) {\n  const radius = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n  const {\n    innerRadius,\n    outerRadius\n  } = sector;\n  if (sector.startAngle === sector.endAngle || radius < Math.min(innerRadius, outerRadius) || radius > Math.max(innerRadius, outerRadius)) {\n    return false;\n  }\n  const startAngle = normalizeAngle180(sector.startAngle);\n  const endAngle = normalizeAngle180(sector.endAngle);\n  const angle = Math.atan2(y, x);\n  return startAngle < endAngle ? angle <= endAngle && angle >= startAngle : angle <= endAngle && angle >= -Math.PI || angle >= startAngle && angle <= Math.PI;\n}\nfunction lineCollidesSector(line, sector) {\n  const {\n    startAngle,\n    endAngle,\n    innerRadius,\n    outerRadius\n  } = sector;\n  const outerStart = {\n    x: outerRadius * Math.cos(startAngle),\n    y: outerRadius * Math.sin(startAngle)\n  };\n  const outerEnd = {\n    x: outerRadius * Math.cos(endAngle),\n    y: outerRadius * Math.sin(endAngle)\n  };\n  const innerStart = innerRadius === 0 ? {\n    x: 0,\n    y: 0\n  } : {\n    x: innerRadius * Math.cos(startAngle),\n    y: innerRadius * Math.sin(startAngle)\n  };\n  const innerEnd = innerRadius === 0 ? {\n    x: 0,\n    y: 0\n  } : {\n    x: innerRadius * Math.cos(endAngle),\n    y: innerRadius * Math.sin(endAngle)\n  };\n  return segmentIntersection(line.start.x, line.start.y, line.end.x, line.end.y, outerStart.x, outerStart.y, innerStart.x, innerStart.y) || segmentIntersection(line.start.x, line.start.y, line.end.x, line.end.y, outerEnd.x, outerEnd.y, innerEnd.x, innerEnd.y) || arcIntersections(0, 0, outerRadius, startAngle, endAngle, true, line.start.x, line.start.y, line.end.x, line.end.y);\n}\nfunction boxCollidesSector(box, sector) {\n  const topLeft = {\n    x: box.x,\n    y: box.y\n  };\n  const topRight = {\n    x: box.x + box.width,\n    y: box.y\n  };\n  const bottomLeft = {\n    x: box.x,\n    y: box.y + box.height\n  };\n  const bottomRight = {\n    x: box.x + box.width,\n    y: box.y + box.height\n  };\n  return lineCollidesSector({\n    start: topLeft,\n    end: topRight\n  }, sector) || lineCollidesSector({\n    start: bottomLeft,\n    end: bottomRight\n  }, sector);\n}\nfunction radiiScalingFactor(r, sweep, a, b) {\n  if (a === 0 && b === 0) return 0;\n  const fs1 = Math.asin(Math.abs(1 * a) / (r + 1 * a)) + Math.asin(Math.abs(1 * b) / (r + 1 * b)) - sweep;\n  if (fs1 < 0) return 1;\n  let start = 0;\n  let end = 1;\n  for (let i = 0; i < 8; i += 1) {\n    const s = (start + end) / 2;\n    const fs = Math.asin(Math.abs(s * a) / (r + s * a)) + Math.asin(Math.abs(s * b) / (r + s * b)) - sweep;\n    if (fs < 0) {\n      start = s;\n    } else {\n      end = s;\n    }\n  }\n  return start;\n}\nvar delta = 1e-6;\nfunction clockwiseAngle(angle, relativeToStartAngle) {\n  if (angleBetween(angle, relativeToStartAngle) < delta) {\n    return relativeToStartAngle;\n  } else {\n    return normalizeAngle360(angle - relativeToStartAngle) + relativeToStartAngle;\n  }\n}\nfunction clockwiseAngles(startAngle, endAngle) {\n  let relativeToStartAngle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  const fullPie = Math.abs(endAngle - startAngle) >= 2 * Math.PI;\n  const sweepAngle = fullPie ? 2 * Math.PI : normalizeAngle360(endAngle - startAngle);\n  startAngle = clockwiseAngle(startAngle, relativeToStartAngle);\n  endAngle = startAngle + sweepAngle;\n  return {\n    startAngle,\n    endAngle\n  };\n}\nfunction arcRadialLineIntersectionAngle(cx, cy, r, startAngle, endAngle, clipAngle) {\n  const sinA = Math.sin(clipAngle);\n  const cosA = Math.cos(clipAngle);\n  const c = __pow(cx, 2) + __pow(cy, 2) - __pow(r, 2);\n  let p0x = NaN;\n  let p0y = NaN;\n  let p1x = NaN;\n  let p1y = NaN;\n  if (cosA > 0.5) {\n    const tanA = sinA / cosA;\n    const a = 1 + __pow(tanA, 2);\n    const b = -2 * (cx + cy * tanA);\n    const d = __pow(b, 2) - 4 * a * c;\n    if (d < 0) return;\n    const x0 = (-b + Math.sqrt(d)) / (2 * a);\n    const x1 = (-b - Math.sqrt(d)) / (2 * a);\n    p0x = x0;\n    p0y = x0 * tanA;\n    p1x = x1;\n    p1y = x1 * tanA;\n  } else {\n    const cotA = cosA / sinA;\n    const a = 1 + __pow(cotA, 2);\n    const b = -2 * (cy + cx * cotA);\n    const d = __pow(b, 2) - 4 * a * c;\n    if (d < 0) return;\n    const y0 = (-b + Math.sqrt(d)) / (2 * a);\n    const y1 = (-b - Math.sqrt(d)) / (2 * a);\n    p0x = y0 * cotA;\n    p0y = y0;\n    p1x = y1 * cotA;\n    p1y = y1;\n  }\n  const normalisedX = cosA;\n  const normalisedY = sinA;\n  const p0DotNormalized = p0x * normalisedX + p0y * normalisedY;\n  const p1DotNormalized = p1x * normalisedX + p1y * normalisedY;\n  const a0 = p0DotNormalized > 0 ? clockwiseAngle(Math.atan2(p0y - cy, p0x - cx), startAngle) : NaN;\n  const a1 = p1DotNormalized > 0 ? clockwiseAngle(Math.atan2(p1y - cy, p1x - cx), startAngle) : NaN;\n  if (a0 >= startAngle && a0 <= endAngle) {\n    return a0;\n  } else if (a1 >= startAngle && a1 <= endAngle) {\n    return a1;\n  }\n}\nfunction arcCircleIntersectionAngle(cx, cy, r, startAngle, endAngle, circleR) {\n  const d = Math.hypot(cx, cy);\n  const d1 = (__pow(d, 2) - __pow(r, 2) + __pow(circleR, 2)) / (2 * d);\n  const d2 = d - d1;\n  const theta = Math.atan2(cy, cx);\n  const deltaTheta = Math.acos(-d2 / r);\n  const a0 = clockwiseAngle(theta + deltaTheta, startAngle);\n  const a1 = clockwiseAngle(theta - deltaTheta, startAngle);\n  if (a0 >= startAngle && a0 <= endAngle) {\n    return a0;\n  } else if (a1 >= startAngle && a1 <= endAngle) {\n    return a1;\n  }\n}\n\n// packages/ag-charts-community/src/scene/shape/sector.ts\nvar Arc = class {\n  constructor(cx, cy, r, a0, a1) {\n    this.cx = cx;\n    this.cy = cy;\n    this.r = r;\n    this.a0 = a0;\n    this.a1 = a1;\n    if (this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n  isValid() {\n    return Number.isFinite(this.a0) && Number.isFinite(this.a1);\n  }\n  pointAt(a) {\n    return {\n      x: this.cx + this.r * Math.cos(a),\n      y: this.cy + this.r * Math.sin(a)\n    };\n  }\n  clipStart(a) {\n    if (a == null || !this.isValid() || a < this.a0) return;\n    this.a0 = a;\n    if (Number.isNaN(a) || this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n  clipEnd(a) {\n    if (a == null || !this.isValid() || a > this.a1) return;\n    this.a1 = a;\n    if (Number.isNaN(a) || this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n};\nvar Sector = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.centerX = 0;\n    this.centerY = 0;\n    this.innerRadius = 10;\n    this.outerRadius = 20;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.clipSector = void 0;\n    this.concentricEdgeInset = 0;\n    this.radialEdgeInset = 0;\n    this.startOuterCornerRadius = 0;\n    this.endOuterCornerRadius = 0;\n    this.startInnerCornerRadius = 0;\n    this.endInnerCornerRadius = 0;\n  }\n  set inset(value) {\n    this.concentricEdgeInset = value;\n    this.radialEdgeInset = value;\n  }\n  set cornerRadius(value) {\n    this.startOuterCornerRadius = value;\n    this.endOuterCornerRadius = value;\n    this.startInnerCornerRadius = value;\n    this.endInnerCornerRadius = value;\n  }\n  computeBBox() {\n    const radius = this.outerRadius;\n    return new BBox(this.centerX - radius, this.centerY - radius, radius * 2, radius * 2);\n  }\n  normalizedRadii() {\n    const {\n      concentricEdgeInset\n    } = this;\n    return {\n      innerRadius: Math.max(Math.min(this.innerRadius, this.outerRadius) + concentricEdgeInset, 0),\n      outerRadius: Math.max(Math.max(this.innerRadius, this.outerRadius) - concentricEdgeInset, 0)\n    };\n  }\n  normalizedClipSector() {\n    const {\n      clipSector\n    } = this;\n    if (clipSector == null) return;\n    const {\n      startAngle,\n      endAngle\n    } = clockwiseAngles(this.startAngle, this.endAngle);\n    const {\n      innerRadius,\n      outerRadius\n    } = this.normalizedRadii();\n    const clipAngles = clockwiseAngles(clipSector.startAngle, clipSector.endAngle, startAngle);\n    return new SectorBox(Math.max(startAngle, clipAngles.startAngle), Math.min(endAngle, clipAngles.endAngle), Math.max(innerRadius, clipSector.innerRadius), Math.min(outerRadius, clipSector.outerRadius));\n  }\n  getAngleOffset(radius) {\n    return radius > 0 ? this.radialEdgeInset / radius : 0;\n  }\n  arc(r, angleSweep, a0, a1, outerArc, innerArc, start, inner) {\n    if (r <= 0) return;\n    const {\n      startAngle,\n      endAngle\n    } = clockwiseAngles(this.startAngle, this.endAngle);\n    const {\n      innerRadius,\n      outerRadius\n    } = this.normalizedRadii();\n    const clipSector = this.normalizedClipSector();\n    if (inner && innerRadius <= 0) return;\n    const innerAngleOffset = this.getAngleOffset(innerRadius);\n    const outerAngleOffset = this.getAngleOffset(outerRadius);\n    const angleOffset = inner ? this.getAngleOffset(innerRadius + r) : this.getAngleOffset(outerRadius - r);\n    const angle = start ? startAngle + angleOffset + angleSweep : endAngle - angleOffset - angleSweep;\n    const radius = inner ? innerRadius + r : outerRadius - r;\n    const cx = radius * Math.cos(angle);\n    const cy = radius * Math.sin(angle);\n    if (clipSector != null) {\n      const delta2 = 1e-6;\n      if (!start && !(angle >= startAngle - delta2 && angle <= clipSector.endAngle - delta2)) return;\n      if (start && !(angle >= clipSector.startAngle + delta2 && angle <= endAngle - delta2)) return;\n      if (inner && !(radius >= clipSector.innerRadius - delta2)) return;\n      if (!inner && !(radius <= clipSector.outerRadius + delta2)) return;\n    }\n    const arc = new Arc(cx, cy, r, a0, a1);\n    if (clipSector != null) {\n      if (inner) {\n        arc.clipStart(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.endAngle - innerAngleOffset));\n        arc.clipEnd(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.startAngle + innerAngleOffset));\n      } else {\n        arc.clipStart(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.startAngle + outerAngleOffset));\n        arc.clipEnd(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.endAngle - outerAngleOffset));\n      }\n      let circleClipStart;\n      let circleClipEnd;\n      if (start) {\n        circleClipStart = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.innerRadius);\n        circleClipEnd = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.outerRadius);\n      } else {\n        circleClipStart = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.outerRadius);\n        circleClipEnd = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.innerRadius);\n      }\n      arc.clipStart(circleClipStart);\n      arc.clipEnd(circleClipEnd);\n      if (circleClipStart != null) {\n        const {\n          x: x2,\n          y: y2\n        } = arc.pointAt(circleClipStart);\n        const theta2 = clockwiseAngle(Math.atan2(y2, x2), startAngle);\n        if (start) {\n          innerArc == null ? void 0 : innerArc.clipStart(theta2);\n        } else {\n          outerArc.clipEnd(theta2);\n        }\n      }\n      if (circleClipEnd != null) {\n        const {\n          x: x2,\n          y: y2\n        } = arc.pointAt(circleClipEnd);\n        const theta2 = clockwiseAngle(Math.atan2(y2, x2), startAngle);\n        if (start) {\n          outerArc.clipStart(theta2);\n        } else {\n          innerArc == null ? void 0 : innerArc.clipEnd(theta2);\n        }\n      }\n    }\n    if (clipSector != null) {\n      const {\n        x: x2,\n        y: y2\n      } = arc.pointAt((arc.a0 + arc.a1) / 2);\n      if (!isPointInSector(x2, y2, clipSector)) return;\n    }\n    const {\n      x,\n      y\n    } = arc.pointAt(start === inner ? arc.a0 : arc.a1);\n    const theta = clockwiseAngle(Math.atan2(y, x), startAngle);\n    const radialArc = inner ? innerArc : outerArc;\n    if (start) {\n      radialArc == null ? void 0 : radialArc.clipStart(theta);\n    } else {\n      radialArc == null ? void 0 : radialArc.clipEnd(theta);\n    }\n    return arc;\n  }\n  updatePath() {\n    var _a, _b, _c, _d, _e;\n    const delta2 = 1e-6;\n    const {\n      path,\n      centerX,\n      centerY,\n      concentricEdgeInset,\n      radialEdgeInset\n    } = this;\n    let {\n      startOuterCornerRadius,\n      endOuterCornerRadius,\n      startInnerCornerRadius,\n      endInnerCornerRadius\n    } = this;\n    const {\n      startAngle,\n      endAngle\n    } = clockwiseAngles(this.startAngle, this.endAngle);\n    const {\n      innerRadius,\n      outerRadius\n    } = this.normalizedRadii();\n    const clipSector = this.normalizedClipSector();\n    const sweepAngle = endAngle - startAngle;\n    const fullPie = sweepAngle >= 2 * Math.PI - delta2;\n    path.clear();\n    if (((_a = clipSector == null ? void 0 : clipSector.startAngle) != null ? _a : startAngle) === ((_b = clipSector == null ? void 0 : clipSector.endAngle) != null ? _b : endAngle)) {\n      return;\n    } else if (fullPie && this.clipSector == null && startOuterCornerRadius === 0 && endOuterCornerRadius === 0 && startInnerCornerRadius === 0 && endInnerCornerRadius === 0) {\n      path.moveTo(centerX + outerRadius * Math.cos(startAngle), centerY + outerRadius * Math.sin(startAngle));\n      path.arc(centerX, centerY, outerRadius, startAngle, endAngle);\n      if (innerRadius > concentricEdgeInset) {\n        path.moveTo(centerX + innerRadius * Math.cos(endAngle), centerY + innerRadius * Math.sin(endAngle));\n        path.arc(centerX, centerY, innerRadius, endAngle, startAngle, true);\n      }\n      path.closePath();\n      return;\n    }\n    const innerAngleOffset = this.getAngleOffset(innerRadius);\n    const outerAngleOffset = this.getAngleOffset(outerRadius);\n    const outerAngleExceeded = sweepAngle < 2 * outerAngleOffset;\n    if (outerAngleExceeded) return;\n    const hasInnerSweep = ((_c = clipSector == null ? void 0 : clipSector.innerRadius) != null ? _c : innerRadius) > concentricEdgeInset;\n    const innerAngleExceeded = innerRadius < concentricEdgeInset || sweepAngle < 2 * innerAngleOffset;\n    const radialLength = outerRadius - innerRadius;\n    const maxRadialLength = Math.max(startOuterCornerRadius, startInnerCornerRadius, endOuterCornerRadius, endInnerCornerRadius);\n    const initialScalingFactor = maxRadialLength > 0 ? Math.min(radialLength / maxRadialLength, 1) : 1;\n    startOuterCornerRadius *= initialScalingFactor;\n    endOuterCornerRadius *= initialScalingFactor;\n    startInnerCornerRadius *= initialScalingFactor;\n    endInnerCornerRadius *= initialScalingFactor;\n    const outerScalingFactor = radiiScalingFactor(outerRadius, sweepAngle - 2 * outerAngleOffset, -startOuterCornerRadius, -endOuterCornerRadius);\n    startOuterCornerRadius *= outerScalingFactor;\n    endOuterCornerRadius *= outerScalingFactor;\n    if (!innerAngleExceeded && hasInnerSweep) {\n      const innerScalingFactor = radiiScalingFactor(innerRadius, sweepAngle - 2 * innerAngleOffset, startInnerCornerRadius, endInnerCornerRadius);\n      startInnerCornerRadius *= innerScalingFactor;\n      endInnerCornerRadius *= innerScalingFactor;\n    } else {\n      startInnerCornerRadius = 0;\n      endInnerCornerRadius = 0;\n    }\n    const maxCombinedRadialLength = Math.max(startOuterCornerRadius + startInnerCornerRadius, endOuterCornerRadius + endInnerCornerRadius);\n    const edgesScalingFactor = maxCombinedRadialLength > 0 ? Math.min(radialLength / maxCombinedRadialLength, 1) : 1;\n    startOuterCornerRadius *= edgesScalingFactor;\n    endOuterCornerRadius *= edgesScalingFactor;\n    startInnerCornerRadius *= edgesScalingFactor;\n    endInnerCornerRadius *= edgesScalingFactor;\n    let startOuterCornerRadiusAngleSweep = 0;\n    let endOuterCornerRadiusAngleSweep = 0;\n    const startOuterCornerRadiusSweep = startOuterCornerRadius / (outerRadius - startOuterCornerRadius);\n    const endOuterCornerRadiusSweep = endOuterCornerRadius / (outerRadius - endOuterCornerRadius);\n    if (startOuterCornerRadiusSweep >= 0 && startOuterCornerRadiusSweep < 1 - delta2) {\n      startOuterCornerRadiusAngleSweep = Math.asin(startOuterCornerRadiusSweep);\n    } else {\n      startOuterCornerRadiusAngleSweep = sweepAngle / 2;\n      const maxStartOuterCornerRadius = outerRadius / (1 / Math.sin(startOuterCornerRadiusAngleSweep) + 1);\n      startOuterCornerRadius = Math.min(maxStartOuterCornerRadius, startOuterCornerRadius);\n    }\n    if (endOuterCornerRadiusSweep >= 0 && endOuterCornerRadiusSweep < 1 - delta2) {\n      endOuterCornerRadiusAngleSweep = Math.asin(endOuterCornerRadiusSweep);\n    } else {\n      endOuterCornerRadiusAngleSweep = sweepAngle / 2;\n      const maxEndOuterCornerRadius = outerRadius / (1 / Math.sin(endOuterCornerRadiusAngleSweep) + 1);\n      endOuterCornerRadius = Math.min(maxEndOuterCornerRadius, endOuterCornerRadius);\n    }\n    const startInnerCornerRadiusAngleSweep = Math.asin(startInnerCornerRadius / (innerRadius + startInnerCornerRadius));\n    const endInnerCornerRadiusAngleSweep = Math.asin(endInnerCornerRadius / (innerRadius + endInnerCornerRadius));\n    const outerArcRadius = (_d = clipSector == null ? void 0 : clipSector.outerRadius) != null ? _d : outerRadius;\n    const outerArcRadiusOffset = this.getAngleOffset(outerArcRadius);\n    const outerArc = new Arc(0, 0, outerArcRadius, startAngle + outerArcRadiusOffset, endAngle - outerArcRadiusOffset);\n    const innerArcRadius = (_e = clipSector == null ? void 0 : clipSector.innerRadius) != null ? _e : innerRadius;\n    const innerArcRadiusOffset = this.getAngleOffset(innerArcRadius);\n    const innerArc = hasInnerSweep ? new Arc(0, 0, innerArcRadius, startAngle + innerArcRadiusOffset, endAngle - innerArcRadiusOffset) : void 0;\n    if (clipSector != null) {\n      outerArc.clipStart(clipSector.startAngle);\n      outerArc.clipEnd(clipSector.endAngle);\n      innerArc == null ? void 0 : innerArc.clipStart(clipSector.startAngle);\n      innerArc == null ? void 0 : innerArc.clipEnd(clipSector.endAngle);\n    }\n    const startOuterArc = this.arc(startOuterCornerRadius, startOuterCornerRadiusAngleSweep, startAngle - Math.PI * 0.5, startAngle + startOuterCornerRadiusAngleSweep, outerArc, innerArc, true, false);\n    const endOuterArc = this.arc(endOuterCornerRadius, endOuterCornerRadiusAngleSweep, endAngle - endOuterCornerRadiusAngleSweep, endAngle + Math.PI * 0.5, outerArc, innerArc, false, false);\n    const endInnerArc = this.arc(endInnerCornerRadius, endInnerCornerRadiusAngleSweep, endAngle + Math.PI * 0.5, endAngle + Math.PI - endInnerCornerRadiusAngleSweep, outerArc, innerArc, false, true);\n    const startInnerArc = this.arc(startInnerCornerRadius, startInnerCornerRadiusAngleSweep, startAngle + Math.PI + startInnerCornerRadiusAngleSweep, startAngle + Math.PI * 1.5, outerArc, innerArc, true, true);\n    if (innerAngleExceeded) {\n      const x = sweepAngle < Math.PI * 0.5 ? radialEdgeInset * (1 + Math.cos(sweepAngle)) / Math.sin(sweepAngle) : NaN;\n      let r;\n      if (x > 0 && x < outerRadius) {\n        r = Math.max(Math.hypot(radialEdgeInset, x), innerRadius);\n      } else {\n        r = innerRadius;\n      }\n      const midAngle = startAngle + sweepAngle * 0.5;\n      path.moveTo(centerX + r * Math.cos(midAngle), centerY + r * Math.sin(midAngle));\n    } else if ((startInnerArc == null ? void 0 : startInnerArc.isValid()) === true) {\n      const {\n        x,\n        y\n      } = startInnerArc.pointAt(startInnerArc.a1);\n      path.moveTo(centerX + x, centerY + y);\n    } else if ((innerArc == null ? void 0 : innerArc.isValid()) === true) {\n      const {\n        x,\n        y\n      } = innerArc.pointAt(innerArc.a0);\n      path.moveTo(centerX + x, centerY + y);\n    } else {\n      const midAngle = startAngle + sweepAngle / 2;\n      const cx = innerRadius * Math.cos(midAngle);\n      const cy = innerRadius * Math.sin(midAngle);\n      path.moveTo(centerX + cx, centerY + cy);\n    }\n    if ((startOuterArc == null ? void 0 : startOuterArc.isValid()) === true) {\n      const {\n        cx,\n        cy,\n        r,\n        a0,\n        a1\n      } = startOuterArc;\n      path.arc(centerX + cx, centerY + cy, r, a0, a1);\n    }\n    if (outerArc.isValid()) {\n      const {\n        r,\n        a0,\n        a1\n      } = outerArc;\n      path.arc(centerX, centerY, r, a0, a1);\n    }\n    if ((endOuterArc == null ? void 0 : endOuterArc.isValid()) === true) {\n      const {\n        cx,\n        cy,\n        r,\n        a0,\n        a1\n      } = endOuterArc;\n      path.arc(centerX + cx, centerY + cy, r, a0, a1);\n    }\n    if (!innerAngleExceeded) {\n      if ((endInnerArc == null ? void 0 : endInnerArc.isValid()) === true) {\n        const {\n          cx,\n          cy,\n          r,\n          a0,\n          a1\n        } = endInnerArc;\n        path.arc(centerX + cx, centerY + cy, r, a0, a1);\n      }\n      if ((innerArc == null ? void 0 : innerArc.isValid()) === true) {\n        const {\n          r,\n          a0,\n          a1\n        } = innerArc;\n        path.arc(centerX, centerY, r, a1, a0, true);\n      }\n      if ((startInnerArc == null ? void 0 : startInnerArc.isValid()) === true) {\n        const {\n          cx,\n          cy,\n          r,\n          a0,\n          a1\n        } = startInnerArc;\n        path.arc(centerX + cx, centerY + cy, r, a0, a1);\n      }\n    }\n    path.closePath();\n  }\n  isPointInPath(x, y) {\n    var _a;\n    const point = this.transformPoint(x, y);\n    const {\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius\n    } = (_a = this.clipSector) != null ? _a : this;\n    return isPointInSector(point.x, point.y, {\n      startAngle,\n      endAngle,\n      innerRadius: Math.min(innerRadius, outerRadius),\n      outerRadius: Math.max(innerRadius, outerRadius)\n    });\n  }\n};\nSector.className = \"Sector\";\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"centerX\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"centerY\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"innerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"outerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"startAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"endAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"clipSector\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"concentricEdgeInset\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"radialEdgeInset\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"startOuterCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"endOuterCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"startInnerCornerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], Sector.prototype, \"endInnerCornerRadius\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeriesProperties.ts\nvar DonutTitle = class extends Caption {\n  constructor() {\n    super(...arguments);\n    this.showInLegend = false;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], DonutTitle.prototype, \"showInLegend\", 2);\nvar DonutInnerLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.margin = 2;\n  }\n  set(properties, _reset) {\n    return super.set(properties);\n  }\n};\n__decorateClass([Validate(STRING)], DonutInnerLabel.prototype, \"text\", 2);\n__decorateClass([Validate(NUMBER)], DonutInnerLabel.prototype, \"margin\", 2);\nvar DonutInnerCircle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"transparent\";\n    this.fillOpacity = 1;\n  }\n};\n__decorateClass([Validate(COLOR_STRING)], DonutInnerCircle.prototype, \"fill\", 2);\n__decorateClass([Validate(RATIO)], DonutInnerCircle.prototype, \"fillOpacity\", 2);\nvar DonutSeriesCalloutLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.offset = 3;\n    this.minAngle = 0;\n    this.minSpacing = 4;\n    this.maxCollisionOffset = 50;\n    this.avoidCollisions = true;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesCalloutLabel.prototype, \"offset\", 2);\n__decorateClass([Validate(DEGREE)], DonutSeriesCalloutLabel.prototype, \"minAngle\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesCalloutLabel.prototype, \"minSpacing\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesCalloutLabel.prototype, \"maxCollisionOffset\", 2);\n__decorateClass([Validate(BOOLEAN)], DonutSeriesCalloutLabel.prototype, \"avoidCollisions\", 2);\nvar DonutSeriesSectorLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.positionOffset = 0;\n    this.positionRatio = 0.5;\n  }\n};\n__decorateClass([Validate(NUMBER)], DonutSeriesSectorLabel.prototype, \"positionOffset\", 2);\n__decorateClass([Validate(RATIO)], DonutSeriesSectorLabel.prototype, \"positionRatio\", 2);\nvar DonutSeriesCalloutLine = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.length = 10;\n    this.strokeWidth = 1;\n  }\n};\n__decorateClass([Validate(COLOR_STRING_ARRAY, {\n  optional: true\n})], DonutSeriesCalloutLine.prototype, \"colors\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesCalloutLine.prototype, \"length\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesCalloutLine.prototype, \"strokeWidth\", 2);\nvar DonutSeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.rotation = 0;\n    this.outerRadiusOffset = 0;\n    this.outerRadiusRatio = 1;\n    this.strokeWidth = 1;\n    this.sectorSpacing = void 0;\n    this.innerLabels = new PropertiesArray(DonutInnerLabel);\n    this.title = new DonutTitle();\n    this.innerCircle = new DonutInnerCircle();\n    this.shadow = new DropShadow();\n    this.calloutLabel = new DonutSeriesCalloutLabel();\n    this.sectorLabel = new DonutSeriesSectorLabel();\n    this.calloutLine = new DonutSeriesCalloutLine();\n    this.tooltip = new SeriesTooltip();\n    this.__BACKGROUND_COLOR_DO_NOT_USE = void 0;\n  }\n  isValid() {\n    const superIsValid = super.isValid();\n    if (this.innerRadiusRatio == null && this.innerRadiusOffset == null) {\n      Logger.warnOnce(\"Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series.\");\n      return false;\n    }\n    return superIsValid;\n  }\n};\n__decorateClass([Validate(STRING)], DonutSeriesProperties.prototype, \"angleKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"angleName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"radiusKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"radiusName\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"radiusMin\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"radiusMax\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"calloutLabelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"calloutLabelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"sectorLabelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"sectorLabelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"legendItemKey\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], DonutSeriesProperties.prototype, \"fills\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], DonutSeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([Validate(RATIO)], DonutSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(RATIO)], DonutSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], DonutSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([Validate(DEGREE)], DonutSeriesProperties.prototype, \"rotation\", 2);\n__decorateClass([Validate(NUMBER)], DonutSeriesProperties.prototype, \"outerRadiusOffset\", 2);\n__decorateClass([Validate(RATIO)], DonutSeriesProperties.prototype, \"outerRadiusRatio\", 2);\n__decorateClass([Validate(NUMBER, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"innerRadiusOffset\", 2);\n__decorateClass([Validate(RATIO, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"innerRadiusRatio\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], DonutSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"sectorSpacing\", 2);\n__decorateClass([Validate(OBJECT_ARRAY)], DonutSeriesProperties.prototype, \"innerLabels\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"title\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"innerCircle\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"calloutLabel\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"sectorLabel\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"calloutLine\", 2);\n__decorateClass([Validate(OBJECT)], DonutSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], DonutSeriesProperties.prototype, \"__BACKGROUND_COLOR_DO_NOT_USE\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/pieUtil.ts\nfunction preparePieSeriesAnimationFunctions(initialLoad, rotationDegrees, scaleFn, oldScaleFn) {\n  const scale2 = [scaleFn.convert(0), scaleFn.convert(1)];\n  const oldScale = [oldScaleFn.convert(0), oldScaleFn.convert(1)];\n  const rotation = Math.PI / -2 + toRadians(rotationDegrees);\n  const phase = initialLoad ? \"initial\" : \"update\";\n  const scaleToNewRadius = _ref99 => {\n    let {\n      radius\n    } = _ref99;\n    return {\n      innerRadius: scale2[0],\n      outerRadius: scale2[0] + (scale2[1] - scale2[0]) * radius\n    };\n  };\n  const scaleToOldRadius = _ref100 => {\n    let {\n      radius\n    } = _ref100;\n    return {\n      innerRadius: oldScale[0],\n      outerRadius: oldScale[0] + (oldScale[1] - oldScale[0]) * radius\n    };\n  };\n  const fromFn = (sect, datum, status, _ref101) => {\n    let {\n      prevFromProps\n    } = _ref101;\n    var _a, _b, _c, _d, _e, _f;\n    let {\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius\n    } = sect;\n    let {\n      fill,\n      stroke\n    } = datum.sectorFormat;\n    if (status === \"unknown\" || status === \"added\" && !prevFromProps) {\n      startAngle = rotation;\n      endAngle = rotation;\n      innerRadius = datum.innerRadius;\n      outerRadius = datum.outerRadius;\n    } else if (status === \"added\" && prevFromProps) {\n      startAngle = (_a = prevFromProps.endAngle) != null ? _a : rotation;\n      endAngle = (_b = prevFromProps.endAngle) != null ? _b : rotation;\n      innerRadius = (_c = prevFromProps.innerRadius) != null ? _c : datum.innerRadius;\n      outerRadius = (_d = prevFromProps.outerRadius) != null ? _d : datum.outerRadius;\n    }\n    if (status === \"added\" && !initialLoad) {\n      const radii = scaleToOldRadius(datum);\n      innerRadius = radii.innerRadius;\n      outerRadius = radii.outerRadius;\n    }\n    if (status === \"updated\") {\n      fill = (_e = sect.fill) != null ? _e : fill;\n      stroke = (_f = sect.stroke) != null ? _f : stroke;\n    }\n    return {\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius,\n      fill,\n      stroke,\n      phase\n    };\n  };\n  const toFn = (_sect, datum, status, _ref102) => {\n    let {\n      prevLive\n    } = _ref102;\n    var _a, _b;\n    let {\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius\n    } = datum;\n    const {\n      stroke,\n      fill\n    } = datum.sectorFormat;\n    if (status === \"removed\" && prevLive) {\n      startAngle = (_a = prevLive.datum) == null ? void 0 : _a.endAngle;\n      endAngle = (_b = prevLive.datum) == null ? void 0 : _b.endAngle;\n    } else if (status === \"removed\" && !prevLive) {\n      startAngle = rotation;\n      endAngle = rotation;\n    }\n    if (status === \"removed\") {\n      const radii = scaleToNewRadius(datum);\n      innerRadius = radii.innerRadius;\n      outerRadius = radii.outerRadius;\n    }\n    return {\n      startAngle,\n      endAngle,\n      outerRadius,\n      innerRadius,\n      stroke,\n      fill\n    };\n  };\n  const innerCircleFromFn = (node, _) => {\n    var _a, _b, _c;\n    return {\n      size: (_c = (_b = (_a = node.previousDatum) == null ? void 0 : _a.radius) != null ? _b : node.size) != null ? _c : 0,\n      phase\n    };\n  };\n  const innerCircleToFn = (_, datum) => {\n    var _a;\n    return {\n      size: (_a = datum.radius) != null ? _a : 0\n    };\n  };\n  return {\n    nodes: {\n      toFn,\n      fromFn\n    },\n    innerCircle: {\n      fromFn: innerCircleFromFn,\n      toFn: innerCircleToFn\n    }\n  };\n}\nfunction resetPieSelectionsFn(_node, datum) {\n  return {\n    startAngle: datum.startAngle,\n    endAngle: datum.endAngle,\n    innerRadius: datum.innerRadius,\n    outerRadius: datum.outerRadius,\n    fill: datum.sectorFormat.fill,\n    stroke: datum.sectorFormat.stroke\n  };\n}\nfunction pickByMatchingAngle(series, point) {\n  const dy = point.y - series.centerY;\n  const dx = point.x - series.centerX;\n  const angle = Math.atan2(dy, dx);\n  const sectors = series.getItemNodes();\n  for (const sector of sectors) {\n    if (sector.datum.missing === true) continue;\n    if (isBetweenAngles(angle, sector.startAngle, sector.endAngle)) {\n      const radius = Math.sqrt(dx * dx + dy * dy);\n      let distance2 = 0;\n      if (radius < sector.innerRadius) {\n        distance2 = sector.innerRadius - radius;\n      } else if (radius > sector.outerRadius) {\n        distance2 = radius - sector.outerRadius;\n      }\n      return {\n        datum: sector.datum,\n        distance: distance2\n      };\n    }\n  }\n  return void 0;\n}\nfunction computeSectorFocusBounds(series, opts) {\n  const nodeData = series.getNodeData();\n  if (nodeData === void 0) return void 0;\n  const {\n    centerX,\n    centerY\n  } = series;\n  const datum = nodeData[opts.datumIndex];\n  const pointVars = [{\n    radius: datum.innerRadius,\n    angle: datum.startAngle\n  }, {\n    radius: datum.innerRadius,\n    angle: datum.endAngle\n  }, {\n    radius: datum.outerRadius,\n    angle: datum.startAngle\n  }, {\n    radius: datum.outerRadius,\n    angle: datum.endAngle\n  }];\n  const rightAngles = [0, Math.PI / 2, Math.PI, 3 * Math.PI / 2];\n  for (const rightAngle of rightAngles) {\n    if (isBetweenAngles(rightAngle, datum.startAngle, datum.endAngle)) {\n      pointVars.push({\n        radius: datum.outerRadius,\n        angle: rightAngle\n      });\n    }\n  }\n  const points = pointVars.map(_ref103 => {\n    let {\n      radius,\n      angle\n    } = _ref103;\n    return displacePointFromVector(centerX, centerY, radius, angle);\n  });\n  const xs = points.map(p => p.x);\n  const ys = points.map(p => p.y);\n  const x = Math.min(...xs);\n  const y = Math.min(...ys);\n  const width = Math.max(...xs) - x;\n  const height = Math.max(...ys) - y;\n  return new BBox(x, y, width, height);\n}\n\n// packages/ag-charts-community/src/chart/series/polar/polarSeries.ts\nvar PolarSeries = class extends DataModelSeries {\n  constructor(_a) {\n    var _b = _a,\n      {\n        useLabelLayer = false,\n        pickModes = [0 /* EXACT_SHAPE_MATCH */],\n        canHaveAxes = false,\n        animationResetFns\n      } = _b,\n      opts = __objRest(_b, [\"useLabelLayer\", \"pickModes\", \"canHaveAxes\", \"animationResetFns\"]);\n    super(__spreadProps(__spreadValues({}, opts), {\n      useLabelLayer,\n      pickModes,\n      contentGroupVirtual: false,\n      directionKeys: {\n        [\"x\" /* X */]: [\"angleKey\"],\n        [\"y\" /* Y */]: [\"radiusKey\"]\n      },\n      directionNames: {\n        [\"x\" /* X */]: [\"angleName\"],\n        [\"y\" /* Y */]: [\"radiusName\"]\n      },\n      canHaveAxes\n    }));\n    this.itemGroup = this.contentGroup.appendChild(new Group());\n    this.nodeData = [];\n    this.itemSelection = Selection.select(this.itemGroup, () => this.nodeFactory(), false);\n    this.labelSelection = Selection.select(this.labelGroup, Text, false);\n    this.highlightSelection = Selection.select(this.highlightGroup, () => this.nodeFactory());\n    /**\n     * The center of the polar series (for example, the center of a pie).\n     * If the polar chart has multiple series, all of them will have their\n     * center set to the same value as a result of the polar chart layout.\n     * The center coordinates are not supposed to be set by the user.\n     */\n    this.centerX = 0;\n    this.centerY = 0;\n    /**\n     * The maximum radius the series can use.\n     * This value is set automatically as a result of the polar chart layout\n     * and is not supposed to be set by the user.\n     */\n    this.radius = 0;\n    this.showFocusBox = false;\n    this.itemGroup.zIndexSubOrder = [() => this._declarationOrder, 1];\n    this.animationResetFns = animationResetFns;\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateEmptyUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      ready: {\n        updateData: \"waiting\",\n        clear: \"clearing\",\n        highlight: data => this.animateReadyHighlight(data),\n        highlightMarkers: data => this.animateReadyHighlightMarkers(data),\n        resize: data => this.animateReadyResize(data),\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      waiting: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateWaitingUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      clearing: {\n        update: {\n          target: \"empty\",\n          action: data => this.animateClearingUpdateEmpty(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      }\n    }, () => this.checkProcessedDataAnimatable());\n  }\n  getItemNodes() {\n    return this.itemGroup.children;\n  }\n  getNodeData() {\n    return this.nodeData;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    }\n  }\n  getLabelData() {\n    return [];\n  }\n  computeLabelsBBox(_options, _seriesRect) {\n    return null;\n  }\n  resetAllAnimation() {\n    var _a;\n    const {\n      item,\n      label\n    } = (_a = this.animationResetFns) != null ? _a : {};\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (item) {\n      resetMotion([this.itemSelection, this.highlightSelection], item);\n    }\n    if (label) {\n      resetMotion([this.labelSelection], label);\n    }\n    this.itemSelection.cleanup();\n    this.labelSelection.cleanup();\n    this.highlightSelection.cleanup();\n  }\n  animateEmptyUpdateReady(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animateWaitingUpdateReady(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animateReadyHighlight(_data) {\n    var _a;\n    const {\n      item\n    } = (_a = this.animationResetFns) != null ? _a : {};\n    if (item) {\n      resetMotion([this.highlightSelection], item);\n    }\n  }\n  animateReadyHighlightMarkers(_data) {}\n  animateReadyResize(_data) {\n    this.resetAllAnimation();\n  }\n  animateClearingUpdateEmpty(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animationTransitionClear() {\n    this.animationState.transition(\"clear\", this.getAnimationData());\n  }\n  getAnimationData(seriesRect) {\n    return {\n      seriesRect\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeries.ts\nvar DonutSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.angleKey = series.properties.angleKey;\n    this.radiusKey = series.properties.radiusKey;\n    this.calloutLabelKey = series.properties.calloutLabelKey;\n    this.sectorLabelKey = series.properties.sectorLabelKey;\n  }\n};\nvar DonutSeries = class extends PolarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      useLabelLayer: true,\n      animationResetFns: {\n        item: resetPieSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new DonutSeriesProperties();\n    this.previousRadiusScale = new LinearScale();\n    this.radiusScale = new LinearScale();\n    // The group node that contains the background graphics.\n    this.backgroundGroup = this.rootGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-background\"),\n      layer: true,\n      zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */\n    }));\n    // AG-6193 If the sum of all datums is 0, then we'll draw 1 or 2 rings to represent the empty series.\n    this.zerosumRingsGroup = this.backgroundGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-zerosumRings\")\n    }));\n    this.zerosumOuterRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.zerosumInnerRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.innerCircleGroup = this.backgroundGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-innerCircle\")\n    }));\n    // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n    this.seriesItemEnabled = [];\n    this.surroundingRadius = void 0;\n    this.NodeEvent = DonutSeriesNodeEvent;\n    this.angleScale = new LinearScale();\n    this.angleScale.domain = [0, 1];\n    this.angleScale.range = [-Math.PI, Math.PI].map(angle => angle + Math.PI / 2);\n    const pieCalloutLabels = new Group({\n      name: \"pieCalloutLabels\"\n    });\n    const pieSectorLabels = new Group({\n      name: \"pieSectorLabels\"\n    });\n    const innerLabels = new Group({\n      name: \"innerLabels\"\n    });\n    this.labelGroup.append(pieCalloutLabels);\n    this.labelGroup.append(pieSectorLabels);\n    this.labelGroup.append(innerLabels);\n    this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n    this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n    this.innerLabelsSelection = Selection.select(innerLabels, Text);\n    this.innerCircleSelection = Selection.select(this.innerCircleGroup, Circle);\n  }\n  addChartEventListeners() {\n    var _a;\n    this.destroyFns.push((_a = this.ctx.chartEventManager) == null ? void 0 : _a.addListener(\"legend-item-click\", event => this.onLegendItemClick(event)));\n  }\n  get visible() {\n    return super.visible && (this.seriesItemEnabled.length === 0 || this.seriesItemEnabled.some(visible => visible));\n  }\n  nodeFactory() {\n    return new Sector();\n  }\n  getSeriesDomain(direction) {\n    if (direction === \"x\" /* X */) {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      let {\n        data\n      } = this;\n      const {\n        visible,\n        seriesItemEnabled\n      } = this;\n      const {\n        angleKey,\n        radiusKey,\n        calloutLabelKey,\n        sectorLabelKey,\n        legendItemKey\n      } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const extraKeyProps = [];\n      const extraProps = [];\n      if (legendItemKey) {\n        extraKeyProps.push(keyProperty(legendItemKey, \"band\", {\n          id: \"legendItemKey\"\n        }));\n      } else if (calloutLabelKey) {\n        extraKeyProps.push(keyProperty(calloutLabelKey, \"band\", {\n          id: \"calloutLabelKey\"\n        }));\n      } else if (sectorLabelKey) {\n        extraKeyProps.push(keyProperty(sectorLabelKey, \"band\", {\n          id: \"sectorLabelKey\"\n        }));\n      }\n      const radiusScaleType = this.radiusScale.type;\n      const angleScaleType = this.radiusScale.type;\n      if (radiusKey) {\n        extraProps.push(rangedValueProperty(radiusKey, {\n          id: \"radiusValue\",\n          min: (_a = this.properties.radiusMin) != null ? _a : 0,\n          max: this.properties.radiusMax\n        }), valueProperty(radiusKey, radiusScaleType, {\n          id: \"radiusRaw\"\n        }),\n        // Raw value pass-through.\n        normalisePropertyTo({\n          id: \"radiusValue\"\n        }, [0, 1], 1, (_b = this.properties.radiusMin) != null ? _b : 0, this.properties.radiusMax));\n      }\n      if (calloutLabelKey) {\n        extraProps.push(valueProperty(calloutLabelKey, \"band\", {\n          id: \"calloutLabelValue\"\n        }));\n      }\n      if (sectorLabelKey) {\n        extraProps.push(valueProperty(sectorLabelKey, \"band\", {\n          id: \"sectorLabelValue\"\n        }));\n      }\n      if (legendItemKey) {\n        extraProps.push(valueProperty(legendItemKey, \"band\", {\n          id: \"legendItemValue\"\n        }));\n      }\n      if (animationEnabled && this.processedData && extraKeyProps.length > 0) {\n        extraProps.push(diff(this.processedData));\n      }\n      extraProps.push(animationValidation());\n      data = data.map((d, idx) => visible && seriesItemEnabled[idx] ? d : __spreadProps(__spreadValues({}, d), {\n        [angleKey]: 0\n      }));\n      yield this.requestDataModel(dataController, data, {\n        props: [...extraKeyProps, accumulativeValueProperty(angleKey, angleScaleType, {\n          id: \"angleValue\",\n          onlyPositive: true\n        }), valueProperty(angleKey, angleScaleType, {\n          id: \"angleRaw\"\n        }),\n        // Raw value pass-through.\n        normalisePropertyTo({\n          id: \"angleValue\"\n        }, [0, 1], 0, 0), ...extraProps]\n      });\n      for (const valueDef of (_e = (_d = (_c = this.processedData) == null ? void 0 : _c.defs) == null ? void 0 : _d.values) != null ? _e : []) {\n        const {\n          id,\n          missing,\n          property\n        } = valueDef;\n        const missCount = getMissCount(this, missing);\n        if (id !== \"angleRaw\" && missCount > 0) {\n          Logger.warnOnce(\"no value was found for the key '\".concat(String(property), \"' on \").concat(missCount, \" data element\").concat(missCount > 1 ? \"s\" : \"\"));\n        }\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  maybeRefreshNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.nodeDataRefresh) return;\n      const {\n        nodeData = []\n      } = (_a = yield this.createNodeData()) != null ? _a : {};\n      this.nodeData = nodeData;\n      this.nodeDataRefresh = false;\n    });\n  }\n  getProcessedDataIndexes(dataModel) {\n    const angleIdx = dataModel.resolveProcessedDataIndexById(this, \"angleValue\");\n    const radiusIdx = this.properties.radiusKey ? dataModel.resolveProcessedDataIndexById(this, \"radiusValue\") : -1;\n    const calloutLabelIdx = this.properties.calloutLabelKey ? dataModel.resolveProcessedDataIndexById(this, \"calloutLabelValue\") : -1;\n    const sectorLabelIdx = this.properties.sectorLabelKey ? dataModel.resolveProcessedDataIndexById(this, \"sectorLabelValue\") : -1;\n    const legendItemIdx = this.properties.legendItemKey ? dataModel.resolveProcessedDataIndexById(this, \"legendItemValue\") : -1;\n    return {\n      angleIdx,\n      radiusIdx,\n      calloutLabelIdx,\n      sectorLabelIdx,\n      legendItemIdx\n    };\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const {\n        id: seriesId,\n        processedData,\n        dataModel,\n        angleScale\n      } = this;\n      const {\n        rotation,\n        innerRadiusRatio\n      } = this.properties;\n      if (!this.properties.isValid()) {\n        this.zerosumOuterRing.visible = true;\n        this.zerosumInnerRing.visible = true;\n        return {\n          itemId: seriesId,\n          nodeData: [],\n          labelData: []\n        };\n      }\n      if (!processedData || !dataModel || processedData.type !== \"ungrouped\") return;\n      const {\n        angleIdx,\n        radiusIdx,\n        calloutLabelIdx,\n        sectorLabelIdx,\n        legendItemIdx\n      } = this.getProcessedDataIndexes(dataModel);\n      let currentStart = 0;\n      let sum2 = 0;\n      const nodeData = processedData.data.map((group2, index) => {\n        var _a;\n        const {\n          datum,\n          values\n        } = group2;\n        const currentValue = values[angleIdx];\n        const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        currentStart = currentValue;\n        sum2 += currentValue;\n        const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        const span = Math.abs(endAngle - startAngle);\n        const midAngle = startAngle + span / 2;\n        const angleValue = values[angleIdx + 1];\n        const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) != null ? _a : 1 : 1;\n        const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : void 0;\n        const legendItemValue = legendItemIdx >= 0 ? values[legendItemIdx] : void 0;\n        const labels = this.getLabels(datum, midAngle, span, true, values[calloutLabelIdx], values[sectorLabelIdx], legendItemValue);\n        const sectorFormat = this.getSectorFormat(datum, index, false);\n        return __spreadValues({\n          itemId: index,\n          series: this,\n          datum,\n          index,\n          angleValue,\n          midAngle,\n          midCos: Math.cos(midAngle),\n          midSin: Math.sin(midAngle),\n          startAngle,\n          endAngle,\n          sectorFormat,\n          radiusValue,\n          radius,\n          innerRadius: Math.max(this.radiusScale.convert(0), 0),\n          outerRadius: Math.max(this.radiusScale.convert(radius), 0),\n          legendItemValue\n        }, labels);\n      });\n      this.zerosumOuterRing.visible = sum2 === 0;\n      this.zerosumInnerRing.visible = sum2 === 0 && innerRadiusRatio != null && innerRadiusRatio !== 1 && innerRadiusRatio > 0;\n      return {\n        itemId: seriesId,\n        nodeData,\n        labelData: nodeData\n      };\n    });\n  }\n  getLabels(datum, midAngle, span, skipDisabled, calloutLabelValue, sectorLabelValue, legendItemValue) {\n    const {\n      calloutLabel,\n      sectorLabel,\n      legendItemKey\n    } = this.properties;\n    const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.properties.calloutLabelKey : void 0;\n    const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.properties.sectorLabelKey : void 0;\n    if (!calloutLabelKey && !sectorLabelKey && !legendItemKey) {\n      return {};\n    }\n    const labelFormatterParams = {\n      datum,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    };\n    const result = {};\n    if (calloutLabelKey && span > toRadians(calloutLabel.minAngle)) {\n      result.calloutLabel = __spreadProps(__spreadValues({}, this.getTextAlignment(midAngle)), {\n        text: this.getLabelText(calloutLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: calloutLabelValue\n        })),\n        hidden: false,\n        collisionTextAlign: void 0,\n        collisionOffsetY: 0,\n        box: void 0\n      });\n    }\n    if (sectorLabelKey) {\n      result.sectorLabel = {\n        text: this.getLabelText(sectorLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: sectorLabelValue\n        }))\n      };\n    }\n    if (legendItemKey != null && legendItemValue != null) {\n      result.legendItem = {\n        key: legendItemKey,\n        text: legendItemValue\n      };\n    }\n    return result;\n  }\n  getTextAlignment(midAngle) {\n    const quadrantTextOpts = [{\n      textAlign: \"center\",\n      textBaseline: \"bottom\"\n    }, {\n      textAlign: \"left\",\n      textBaseline: \"middle\"\n    }, {\n      textAlign: \"center\",\n      textBaseline: \"hanging\"\n    }, {\n      textAlign: \"right\",\n      textBaseline: \"middle\"\n    }];\n    const midAngle180 = normalizeAngle180(midAngle);\n    const quadrantStart = -0.75 * Math.PI;\n    const quadrantOffset = midAngle180 - quadrantStart;\n    const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n    const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n    return quadrantTextOpts[quadrantIndex];\n  }\n  getSectorFormat(datum, formatIndex, highlight) {\n    var _a, _b, _c, _d, _e;\n    const {\n      callbackCache,\n      highlightManager\n    } = this.ctx;\n    const {\n      angleKey,\n      radiusKey,\n      fills,\n      strokes,\n      formatter,\n      sectorSpacing,\n      __BACKGROUND_COLOR_DO_NOT_USE\n    } = this.properties;\n    const highlightedDatum = highlightManager.getActiveHighlight();\n    const isDatumHighlighted = highlight && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && formatIndex === highlightedDatum.itemId;\n    let defaultStroke = strokes[formatIndex % strokes.length];\n    if (sectorSpacing == null && defaultStroke == null) {\n      defaultStroke = __BACKGROUND_COLOR_DO_NOT_USE;\n    }\n    const {\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      strokeOpacity\n    } = mergeDefaults(isDatumHighlighted && this.properties.highlightStyle.item, {\n      fill: fills.length > 0 ? fills[formatIndex % fills.length] : void 0,\n      fillOpacity: this.properties.fillOpacity,\n      stroke: defaultStroke,\n      strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n      strokeOpacity: this.getOpacity()\n    });\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        datum,\n        angleKey,\n        radiusKey,\n        fill,\n        stroke,\n        fills,\n        strokes,\n        strokeWidth,\n        highlighted: isDatumHighlighted,\n        seriesId: this.id\n      });\n    }\n    return {\n      fill: (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill,\n      fillOpacity: (_b = format2 == null ? void 0 : format2.fillOpacity) != null ? _b : fillOpacity,\n      stroke: (_c = format2 == null ? void 0 : format2.stroke) != null ? _c : stroke,\n      strokeWidth: (_d = format2 == null ? void 0 : format2.strokeWidth) != null ? _d : strokeWidth,\n      strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity\n    };\n  }\n  getInnerRadius() {\n    const {\n      radius\n    } = this;\n    const {\n      innerRadiusRatio = 1,\n      innerRadiusOffset = 0\n    } = this.properties;\n    const innerRadius = radius * innerRadiusRatio + innerRadiusOffset;\n    if (innerRadius === radius || innerRadius < 0) {\n      return 0;\n    }\n    return innerRadius;\n  }\n  getOuterRadius() {\n    const {\n      outerRadiusRatio,\n      outerRadiusOffset\n    } = this.properties;\n    return Math.max(this.radius * outerRadiusRatio + outerRadiusOffset, 0);\n  }\n  updateRadiusScale(resize) {\n    const newRange = [this.getInnerRadius(), this.getOuterRadius()];\n    this.radiusScale.range = newRange;\n    if (resize) {\n      this.previousRadiusScale.range = newRange;\n    }\n    this.nodeData = this.nodeData.map(_a => {\n      var _b = _a,\n        {\n          radius\n        } = _b,\n        d = __objRest(_b, [\"radius\"]);\n      return __spreadProps(__spreadValues({}, d), {\n        radius,\n        innerRadius: Math.max(this.radiusScale.convert(0), 0),\n        outerRadius: Math.max(this.radiusScale.convert(radius), 0)\n      });\n    });\n  }\n  getTitleTranslationY() {\n    var _a, _b;\n    const outerRadius = Math.max(0, this.radiusScale.range[1]);\n    if (outerRadius === 0) {\n      return NaN;\n    }\n    const spacing = (_b = (_a = this.properties.title) == null ? void 0 : _a.spacing) != null ? _b : 0;\n    const titleOffset = 2 + spacing;\n    const dy = Math.max(0, -outerRadius);\n    return -outerRadius - titleOffset - dy;\n  }\n  update(_0) {\n    return __async(this, arguments, function (_ref104) {\n      var _this6 = this;\n      let {\n        seriesRect\n      } = _ref104;\n      return function* () {\n        const {\n          title\n        } = _this6.properties;\n        const newNodeDataDependencies = {\n          seriesRectWidth: seriesRect == null ? void 0 : seriesRect.width,\n          seriesRectHeight: seriesRect == null ? void 0 : seriesRect.height\n        };\n        const resize = jsonDiff(_this6.nodeDataDependencies, newNodeDataDependencies) != null;\n        if (resize) {\n          _this6._nodeDataDependencies = newNodeDataDependencies;\n        }\n        yield _this6.maybeRefreshNodeData();\n        _this6.updateTitleNodes();\n        _this6.updateRadiusScale(resize);\n        _this6.contentGroup.translationX = _this6.centerX;\n        _this6.contentGroup.translationY = _this6.centerY;\n        _this6.highlightGroup.translationX = _this6.centerX;\n        _this6.highlightGroup.translationY = _this6.centerY;\n        _this6.backgroundGroup.translationX = _this6.centerX;\n        _this6.backgroundGroup.translationY = _this6.centerY;\n        if (_this6.labelGroup) {\n          _this6.labelGroup.translationX = _this6.centerX;\n          _this6.labelGroup.translationY = _this6.centerY;\n        }\n        if (title) {\n          const dy = _this6.getTitleTranslationY();\n          const titleBox = title.node.computeBBox();\n          title.node.visible = title.enabled && isFinite(dy) && !_this6.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n          title.node.translationY = isFinite(dy) ? dy : 0;\n        }\n        for (const circle of [_this6.zerosumInnerRing, _this6.zerosumOuterRing]) {\n          circle.fillOpacity = 0;\n          circle.stroke = _this6.properties.calloutLabel.color;\n          circle.strokeWidth = 1;\n          circle.strokeOpacity = 1;\n        }\n        _this6.updateNodeMidPoint();\n        yield _this6.updateSelections();\n        yield _this6.updateNodes(seriesRect);\n      }();\n    });\n  }\n  updateTitleNodes() {\n    var _a, _b;\n    const {\n      oldTitle\n    } = this;\n    const {\n      title\n    } = this.properties;\n    if (oldTitle !== title) {\n      if (oldTitle) {\n        (_a = this.labelGroup) == null ? void 0 : _a.removeChild(oldTitle.node);\n      }\n      if (title) {\n        title.node.textBaseline = \"bottom\";\n        (_b = this.labelGroup) == null ? void 0 : _b.appendChild(title.node);\n      }\n      this.oldTitle = title;\n    }\n  }\n  updateNodeMidPoint() {\n    this.nodeData.forEach(d => {\n      const radius = d.innerRadius + (d.outerRadius - d.innerRadius) / 2;\n      d.midPoint = {\n        x: d.midCos * Math.max(0, radius),\n        y: d.midSin * Math.max(0, radius)\n      };\n    });\n  }\n  updateSelections() {\n    return __async(this, null, function* () {\n      yield this.updateGroupSelection();\n      this.updateInnerCircleSelection();\n    });\n  }\n  updateGroupSelection() {\n    return __async(this, null, function* () {\n      const {\n        itemSelection,\n        highlightSelection,\n        calloutLabelSelection,\n        sectorLabelSelection,\n        innerLabelsSelection\n      } = this;\n      const update = (selection, clone) => {\n        let nodeData = this.nodeData;\n        if (clone) {\n          nodeData = nodeData.map(datum => __spreadProps(__spreadValues({}, datum), {\n            sectorFormat: __spreadValues({}, datum.sectorFormat)\n          }));\n        }\n        selection.update(nodeData, void 0, datum => this.getDatumId(datum));\n        if (this.ctx.animationManager.isSkipped()) {\n          selection.cleanup();\n        }\n      };\n      update(itemSelection, false);\n      update(highlightSelection, true);\n      calloutLabelSelection.update(this.nodeData, group2 => {\n        const line = new Line();\n        line.tag = 0 /* Callout */;\n        line.pointerEvents = 1 /* None */;\n        group2.appendChild(line);\n        const text = new Text();\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        group2.appendChild(text);\n      });\n      sectorLabelSelection.update(this.nodeData, node => {\n        node.pointerEvents = 1 /* None */;\n      });\n      innerLabelsSelection.update(this.properties.innerLabels, node => {\n        node.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateInnerCircleSelection() {\n    const {\n      innerCircle\n    } = this.properties;\n    let radius = 0;\n    const innerRadius = this.getInnerRadius();\n    if (innerRadius > 0) {\n      const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n      const antiAliasingPadding = 1;\n      radius = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n    }\n    const datums = innerCircle ? [{\n      radius\n    }] : [];\n    this.innerCircleSelection.update(datums);\n  }\n  updateNodes(seriesRect) {\n    return __async(this, null, function* () {\n      const highlightedDatum = this.ctx.highlightManager.getActiveHighlight();\n      const isVisible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n      this.rootGroup.visible = isVisible;\n      this.backgroundGroup.visible = isVisible;\n      this.contentGroup.visible = isVisible;\n      this.highlightGroup.visible = isVisible && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this;\n      if (this.labelGroup) {\n        this.labelGroup.visible = isVisible;\n      }\n      this.contentGroup.opacity = this.getOpacity();\n      this.innerCircleSelection.each((node, _ref105) => {\n        let {\n          radius\n        } = _ref105;\n        var _a, _b;\n        node.setProperties({\n          fill: (_a = this.properties.innerCircle) == null ? void 0 : _a.fill,\n          opacity: (_b = this.properties.innerCircle) == null ? void 0 : _b.fillOpacity,\n          size: radius\n        });\n      });\n      const updateSectorFn = (sector, datum, _index, isDatumHighlighted) => {\n        const format2 = this.getSectorFormat(datum.datum, datum.itemId, isDatumHighlighted);\n        datum.sectorFormat.fill = format2.fill;\n        datum.sectorFormat.stroke = format2.stroke;\n        const animationDisabled = this.ctx.animationManager.isSkipped();\n        if (animationDisabled) {\n          sector.startAngle = datum.startAngle;\n          sector.endAngle = datum.endAngle;\n          sector.innerRadius = datum.innerRadius;\n          sector.outerRadius = datum.outerRadius;\n        }\n        if (isDatumHighlighted || animationDisabled) {\n          sector.fill = format2.fill;\n          sector.stroke = format2.stroke;\n        }\n        sector.strokeWidth = format2.strokeWidth;\n        sector.fillOpacity = format2.fillOpacity;\n        sector.strokeOpacity = this.properties.strokeOpacity;\n        sector.lineDash = this.properties.lineDash;\n        sector.lineDashOffset = this.properties.lineDashOffset;\n        sector.fillShadow = this.properties.shadow;\n        sector.cornerRadius = this.properties.cornerRadius;\n        sector.inset = this.properties.sectorSpacing != null ? (this.properties.sectorSpacing + (format2.stroke != null ? format2.strokeWidth : 0)) / 2 : 0;\n        sector.lineJoin = this.properties.sectorSpacing != null ? \"miter\" : \"round\";\n      };\n      this.itemSelection.each((node, datum, index) => updateSectorFn(node, datum, index, false));\n      this.highlightSelection.each((node, datum, index) => {\n        const isDatumHighlighted = (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n        updateSectorFn(node, datum, index, true);\n        node.visible = isDatumHighlighted;\n      });\n      this.updateCalloutLineNodes();\n      this.updateCalloutLabelNodes(seriesRect);\n      this.updateSectorLabelNodes();\n      this.updateInnerLabelNodes();\n      this.updateZerosumRings();\n      this.animationState.transition(\"update\");\n    });\n  }\n  updateCalloutLineNodes() {\n    var _a;\n    const {\n      calloutLine\n    } = this.properties;\n    const calloutLength = calloutLine.length;\n    const calloutStrokeWidth = calloutLine.strokeWidth;\n    const calloutColors = (_a = calloutLine.colors) != null ? _a : this.properties.strokes;\n    const {\n      offset: offset4\n    } = this.properties.calloutLabel;\n    this.calloutLabelSelection.selectByTag(0 /* Callout */).forEach((line, index) => {\n      var _a2;\n      const datum = line.datum;\n      const {\n        calloutLabel: label,\n        outerRadius\n      } = datum;\n      if ((label == null ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n        line.visible = true;\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.fill = void 0;\n        const x1 = datum.midCos * outerRadius;\n        const y1 = datum.midSin * outerRadius;\n        let x2 = datum.midCos * (outerRadius + calloutLength);\n        let y2 = datum.midSin * (outerRadius + calloutLength);\n        const isMoved = (_a2 = label.collisionTextAlign) != null ? _a2 : label.collisionOffsetY !== 0;\n        if (isMoved && label.box != null) {\n          const box = label.box;\n          let cx = x2;\n          let cy = y2;\n          if (x2 < box.x) {\n            cx = box.x;\n          } else if (x2 > box.x + box.width) {\n            cx = box.x + box.width;\n          }\n          if (y2 < box.y) {\n            cy = box.y;\n          } else if (y2 > box.y + box.height) {\n            cy = box.y + box.height;\n          }\n          const dx = cx - x2;\n          const dy = cy - y2;\n          const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n          const paddedLength = length - offset4;\n          if (paddedLength > 0) {\n            x2 = x2 + dx * paddedLength / length;\n            y2 = y2 + dy * paddedLength / length;\n          }\n        }\n        line.x1 = x1;\n        line.y1 = y1;\n        line.x2 = x2;\n        line.y2 = y2;\n      } else {\n        line.visible = false;\n      }\n    });\n  }\n  getLabelOverflow(text, box, seriesRect) {\n    const seriesLeft = seriesRect.x - this.centerX;\n    const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n    const seriesTop = seriesRect.y - this.centerY;\n    const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n    const errPx = 1;\n    let visibleTextPart = 1;\n    if (box.x + errPx < seriesLeft) {\n      visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n    } else if (box.x + box.width - errPx > seriesRight) {\n      visibleTextPart = (seriesRight - box.x) / box.width;\n    }\n    const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n    const textLength = visibleTextPart === 1 ? text.length : Math.floor(text.length * visibleTextPart) - 1;\n    const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n    return {\n      textLength,\n      hasVerticalOverflow,\n      hasSurroundingSeriesOverflow\n    };\n  }\n  bboxIntersectsSurroundingSeries(box) {\n    let dx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let dy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    const {\n      surroundingRadius\n    } = this;\n    if (surroundingRadius == null) {\n      return false;\n    }\n    const corners = [{\n      x: box.x + dx,\n      y: box.y + dy\n    }, {\n      x: box.x + box.width + dx,\n      y: box.y + dy\n    }, {\n      x: box.x + box.width + dx,\n      y: box.y + box.height + dy\n    }, {\n      x: box.x + dx,\n      y: box.y + box.height + dy\n    }];\n    const sur2 = __pow(surroundingRadius, 2);\n    return corners.some(corner => __pow(corner.x, 2) + __pow(corner.y, 2) > sur2);\n  }\n  computeCalloutLabelCollisionOffsets() {\n    const {\n      radiusScale\n    } = this;\n    const {\n      calloutLabel,\n      calloutLine\n    } = this.properties;\n    const {\n      offset: offset4,\n      minSpacing\n    } = calloutLabel;\n    const innerRadius = radiusScale.convert(0);\n    const shouldSkip = datum => {\n      const label = datum.calloutLabel;\n      return !label || datum.outerRadius === 0;\n    };\n    const fullData = this.nodeData;\n    const data = this.nodeData.filter(t => !shouldSkip(t));\n    data.forEach(datum => {\n      const label = datum.calloutLabel;\n      if (label == null) return;\n      label.hidden = false;\n      label.collisionTextAlign = void 0;\n      label.collisionOffsetY = 0;\n    });\n    if (data.length <= 1) {\n      return;\n    }\n    const leftLabels = data.filter(d => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n    const rightLabels = data.filter(d => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n    const topLabels = data.filter(d => {\n      var _a;\n      return d.midSin < 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const bottomLabels = data.filter(d => {\n      var _a;\n      return d.midSin >= 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const tempTextNode = new Text();\n    const getTextBBox = datum => {\n      var _a;\n      const label = datum.calloutLabel;\n      if (label == null) return new BBox(0, 0, 0, 0);\n      const labelRadius = datum.outerRadius + calloutLine.length + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign({\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      });\n      return tempTextNode.computeBBox();\n    };\n    const avoidNeighbourYCollision = (label, next, direction) => {\n      const box = getTextBBox(label).grow(minSpacing / 2);\n      const other = getTextBBox(next).grow(minSpacing / 2);\n      const collidesOrBehind = box.x < other.x + other.width && box.x + box.width > other.x && (direction === \"to-top\" ? box.y < other.y + other.height : box.y + box.height > other.y);\n      if (collidesOrBehind) {\n        const dy = direction === \"to-top\" ? box.y - other.y - other.height : box.y + box.height - other.y;\n        next.calloutLabel.collisionOffsetY = dy;\n      }\n    };\n    const avoidYCollisions = labels => {\n      const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n      const midIndex = labels.indexOf(midLabel);\n      for (let i = midIndex - 1; i >= 0; i--) {\n        const prev = labels[i + 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-top\");\n      }\n      for (let i = midIndex + 1; i < labels.length; i++) {\n        const prev = labels[i - 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-bottom\");\n      }\n    };\n    const avoidXCollisions = labels => {\n      const labelsCollideLabelsByY = data.some(datum => datum.calloutLabel.collisionOffsetY !== 0);\n      const boxes = labels.map(label => getTextBBox(label));\n      const paddedBoxes = boxes.map(box => box.clone().grow(minSpacing / 2));\n      let labelsCollideLabelsByX = false;\n      for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n        const box = paddedBoxes[i];\n        for (let j = i + 1; j < labels.length; j++) {\n          const other = paddedBoxes[j];\n          if (box.collidesBBox(other)) {\n            labelsCollideLabelsByX = true;\n            break;\n          }\n        }\n      }\n      const sectors = fullData.map(datum => {\n        const {\n          startAngle,\n          endAngle,\n          outerRadius\n        } = datum;\n        return {\n          startAngle,\n          endAngle,\n          innerRadius,\n          outerRadius\n        };\n      });\n      const labelsCollideSectors = boxes.some(box => {\n        return sectors.some(sector => boxCollidesSector(box, sector));\n      });\n      if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n        return;\n      }\n      labels.filter(d => d.calloutLabel.textAlign === \"center\").forEach(d => {\n        const label = d.calloutLabel;\n        if (d.midCos < 0) {\n          label.collisionTextAlign = \"right\";\n        } else if (d.midCos > 0) {\n          label.collisionTextAlign = \"left\";\n        } else {\n          label.collisionTextAlign = \"center\";\n        }\n      });\n    };\n    avoidYCollisions(leftLabels);\n    avoidYCollisions(rightLabels);\n    avoidXCollisions(topLabels);\n    avoidXCollisions(bottomLabels);\n  }\n  updateCalloutLabelNodes(seriesRect) {\n    const {\n      radiusScale\n    } = this;\n    const {\n      calloutLabel,\n      calloutLine\n    } = this.properties;\n    const calloutLength = calloutLine.length;\n    const {\n      offset: offset4,\n      color\n    } = calloutLabel;\n    const tempTextNode = new Text();\n    this.calloutLabelSelection.selectByTag(1 /* Label */).forEach(text => {\n      var _a;\n      const {\n        datum\n      } = text;\n      const label = datum.calloutLabel;\n      const radius = radiusScale.convert(datum.radius);\n      const outerRadius = Math.max(0, radius);\n      if (!(label == null ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n        text.visible = false;\n        return;\n      }\n      const labelRadius = outerRadius + calloutLength + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      const align = {\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      };\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign(align);\n      const box = tempTextNode.computeBBox();\n      let displayText = label.text;\n      let visible = true;\n      if (calloutLabel.avoidCollisions) {\n        const {\n          textLength,\n          hasVerticalOverflow\n        } = this.getLabelOverflow(label.text, box, seriesRect);\n        displayText = label.text.length === textLength ? label.text : \"\".concat(label.text.substring(0, textLength), \"\\u2026\");\n        visible = !hasVerticalOverflow;\n      }\n      text.text = displayText;\n      text.x = x;\n      text.y = y;\n      text.setFont(this.properties.calloutLabel);\n      text.setAlign(align);\n      text.fill = color;\n      text.visible = visible;\n    });\n  }\n  computeLabelsBBox(options, seriesRect) {\n    return __async(this, null, function* () {\n      const {\n        calloutLabel,\n        calloutLine\n      } = this.properties;\n      const calloutLength = calloutLine.length;\n      const {\n        offset: offset4,\n        maxCollisionOffset,\n        minSpacing\n      } = calloutLabel;\n      if (!calloutLabel.avoidCollisions) {\n        return null;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateRadiusScale(false);\n      this.computeCalloutLabelCollisionOffsets();\n      const textBoxes = [];\n      const text = new Text();\n      let titleBox;\n      const {\n        title\n      } = this.properties;\n      if ((title == null ? void 0 : title.text) && title.enabled) {\n        const dy = this.getTitleTranslationY();\n        if (isFinite(dy)) {\n          text.text = title.text;\n          text.x = 0;\n          text.y = dy;\n          text.setFont(title);\n          text.setAlign({\n            textBaseline: \"bottom\",\n            textAlign: \"center\"\n          });\n          titleBox = text.computeBBox();\n          textBoxes.push(titleBox);\n        }\n      }\n      this.nodeData.forEach(datum => {\n        var _a;\n        const label = datum.calloutLabel;\n        if (!label || datum.outerRadius === 0) {\n          return null;\n        }\n        const labelRadius = datum.outerRadius + calloutLength + offset4;\n        const x = datum.midCos * labelRadius;\n        const y = datum.midSin * labelRadius + label.collisionOffsetY;\n        text.text = label.text;\n        text.x = x;\n        text.y = y;\n        text.setFont(this.properties.calloutLabel);\n        text.setAlign({\n          textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n          textBaseline: label.textBaseline\n        });\n        const box = text.computeBBox();\n        label.box = box;\n        if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n          label.hidden = true;\n          return;\n        }\n        if (titleBox) {\n          const seriesTop = seriesRect.y - this.centerY;\n          const titleCleanArea = new BBox(titleBox.x - minSpacing, seriesTop, titleBox.width + 2 * minSpacing, titleBox.y + titleBox.height + minSpacing - seriesTop);\n          if (box.collidesBBox(titleCleanArea)) {\n            label.hidden = true;\n            return;\n          }\n        }\n        if (options.hideWhenNecessary) {\n          const {\n            textLength,\n            hasVerticalOverflow,\n            hasSurroundingSeriesOverflow\n          } = this.getLabelOverflow(label.text, box, seriesRect);\n          const isTooShort = label.text.length > 2 && textLength < 2;\n          if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n            label.hidden = true;\n            return;\n          }\n        }\n        label.hidden = false;\n        textBoxes.push(box);\n      });\n      if (textBoxes.length === 0) {\n        return null;\n      }\n      return BBox.merge(textBoxes);\n    });\n  }\n  updateSectorLabelNodes() {\n    const {\n      radiusScale\n    } = this;\n    const innerRadius = radiusScale.convert(0);\n    const {\n      fontSize,\n      fontStyle,\n      fontWeight,\n      fontFamily,\n      positionOffset,\n      positionRatio,\n      color\n    } = this.properties.sectorLabel;\n    this.sectorLabelSelection.each((text, datum) => {\n      const {\n        sectorLabel,\n        outerRadius\n      } = datum;\n      let isTextVisible = false;\n      if (sectorLabel && outerRadius !== 0) {\n        const labelRadius = innerRadius * (1 - positionRatio) + outerRadius * positionRatio + positionOffset;\n        text.fill = color;\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.text = sectorLabel.text;\n        text.x = datum.midCos * labelRadius;\n        text.y = datum.midSin * labelRadius;\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n        const bbox = text.computeBBox();\n        const corners = [[bbox.x, bbox.y], [bbox.x + bbox.width, bbox.y], [bbox.x + bbox.width, bbox.y + bbox.height], [bbox.x, bbox.y + bbox.height]];\n        const {\n          startAngle,\n          endAngle\n        } = datum;\n        const sectorBounds = {\n          startAngle,\n          endAngle,\n          innerRadius,\n          outerRadius\n        };\n        if (corners.every(_ref106 => {\n          let [x, y] = _ref106;\n          return isPointInSector(x, y, sectorBounds);\n        })) {\n          isTextVisible = true;\n        }\n      }\n      text.visible = isTextVisible;\n    });\n  }\n  updateInnerLabelNodes() {\n    const textBBoxes = [];\n    const margins = [];\n    this.innerLabelsSelection.each((text, datum) => {\n      const {\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily,\n        color\n      } = datum;\n      text.fontStyle = fontStyle;\n      text.fontWeight = fontWeight;\n      text.fontSize = fontSize;\n      text.fontFamily = fontFamily;\n      text.text = datum.text;\n      text.x = 0;\n      text.y = 0;\n      text.fill = color;\n      text.textAlign = \"center\";\n      text.textBaseline = \"alphabetic\";\n      textBBoxes.push(text.computeBBox());\n      margins.push(datum.margin);\n    });\n    const getMarginTop = index => index === 0 ? 0 : margins[index];\n    const getMarginBottom = index => index === margins.length - 1 ? 0 : margins[index];\n    const totalHeight = textBBoxes.reduce((sum2, bbox, i) => {\n      return sum2 + bbox.height + getMarginTop(i) + getMarginBottom(i);\n    }, 0);\n    const totalWidth = Math.max(...textBBoxes.map(bbox => bbox.width));\n    const innerRadius = this.getInnerRadius();\n    const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n    const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n    const textBottoms = [];\n    for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n      const bbox = textBBoxes[i];\n      const bottom = bbox.height + prev + getMarginTop(i);\n      textBottoms.push(bottom);\n      prev = bottom + getMarginBottom(i);\n    }\n    this.innerLabelsSelection.each((text, _datum, index) => {\n      text.y = textBottoms[index];\n      text.visible = labelsVisible;\n    });\n  }\n  updateZerosumRings() {\n    this.zerosumOuterRing.size = this.getOuterRadius() * 2;\n    this.zerosumInnerRing.size = this.getInnerRadius() * 2;\n  }\n  getDatumLegendName(nodeDatum) {\n    const {\n      angleKey,\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    const {\n      sectorLabel,\n      calloutLabel,\n      legendItem\n    } = nodeDatum;\n    if (legendItemKey && legendItem !== void 0) {\n      return legendItem.text;\n    } else if (calloutLabelKey && calloutLabelKey !== angleKey && (calloutLabel == null ? void 0 : calloutLabel.text) !== void 0) {\n      return calloutLabel.text;\n    } else if (sectorLabelKey && sectorLabelKey !== angleKey && (sectorLabel == null ? void 0 : sectorLabel.text) !== void 0) {\n      return sectorLabel.text;\n    }\n  }\n  pickNodeClosestDatum(point) {\n    return pickByMatchingAngle(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    if (!this.properties.isValid()) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      datum,\n      angleValue,\n      sectorFormat: {\n        fill: color\n      },\n      itemId\n    } = nodeDatum;\n    const title = sanitizeHtml((_a = this.properties.title) == null ? void 0 : _a.text);\n    const content = isFiniteNumber(angleValue) ? toFixed(angleValue) : String(angleValue);\n    const labelText = this.getDatumLegendName(nodeDatum);\n    return this.properties.tooltip.toTooltipHtml({\n      title: title != null ? title : labelText,\n      content: title && labelText ? \"\".concat(labelText, \": \").concat(content) : content,\n      backgroundColor: color\n    }, {\n      datum,\n      itemId,\n      title,\n      color,\n      seriesId: this.id,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e;\n    const {\n      visible,\n      processedData,\n      dataModel\n    } = this;\n    if (!dataModel || !(processedData == null ? void 0 : processedData.data.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    const {\n      angleKey,\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    if (!legendItemKey && (!calloutLabelKey || calloutLabelKey === angleKey) && (!sectorLabelKey || sectorLabelKey === angleKey)) return [];\n    const {\n      calloutLabelIdx,\n      sectorLabelIdx,\n      legendItemIdx\n    } = this.getProcessedDataIndexes(dataModel);\n    const titleText = ((_a = this.properties.title) == null ? void 0 : _a.showInLegend) && this.properties.title.text;\n    const legendData = [];\n    for (let index = 0; index < processedData.data.length; index++) {\n      const {\n        datum,\n        values\n      } = processedData.data[index];\n      const labelParts = [];\n      if (titleText) {\n        labelParts.push(titleText);\n      }\n      const labels = this.getLabels(datum, 2 * Math.PI, 2 * Math.PI, false, values[calloutLabelIdx], values[sectorLabelIdx], values[legendItemIdx]);\n      if (legendItemKey && labels.legendItem !== void 0) {\n        labelParts.push(labels.legendItem.text);\n      } else if (calloutLabelKey && calloutLabelKey !== angleKey && ((_b = labels.calloutLabel) == null ? void 0 : _b.text) !== void 0) {\n        labelParts.push((_c = labels.calloutLabel) == null ? void 0 : _c.text);\n      } else if (sectorLabelKey && sectorLabelKey !== angleKey && ((_d = labels.sectorLabel) == null ? void 0 : _d.text) !== void 0) {\n        labelParts.push((_e = labels.sectorLabel) == null ? void 0 : _e.text);\n      }\n      if (labelParts.length === 0) continue;\n      const sectorFormat = this.getSectorFormat(datum, index, false);\n      legendData.push({\n        legendType: \"category\",\n        id: this.id,\n        itemId: index,\n        seriesId: this.id,\n        enabled: visible && this.seriesItemEnabled[index],\n        label: {\n          text: labelParts.join(\" - \")\n        },\n        marker: {\n          fill: sectorFormat.fill,\n          stroke: sectorFormat.stroke,\n          fillOpacity: this.properties.fillOpacity,\n          strokeOpacity: this.properties.strokeOpacity,\n          strokeWidth: this.properties.strokeWidth\n        },\n        legendItemName: legendItemKey != null ? datum[legendItemKey] : void 0\n      });\n    }\n    return legendData;\n  }\n  onLegendItemClick(event) {\n    const {\n      enabled,\n      itemId,\n      series,\n      legendItemName\n    } = event;\n    if (series.id === this.id) {\n      this.toggleSeriesItem(itemId, enabled);\n    } else if (legendItemName != null) {\n      this.toggleOtherSeriesItems(legendItemName, enabled);\n    }\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.nodeDataRefresh = true;\n  }\n  toggleOtherSeriesItems(legendItemName, enabled) {\n    var _a;\n    if (!this.properties.legendItemKey || !this.dataModel) {\n      return;\n    }\n    const legendItemIdx = this.dataModel.resolveProcessedDataIndexById(this, \"legendItemValue\");\n    (_a = this.processedData) == null ? void 0 : _a.data.forEach((_ref107, datumItemId) => {\n      let {\n        values\n      } = _ref107;\n      if (values[legendItemIdx] === legendItemName) {\n        this.toggleSeriesItem(datumItemId, enabled);\n      }\n    });\n  }\n  animateEmptyUpdateReady(_data) {\n    const {\n      animationManager\n    } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(true, this.properties.rotation, this.radiusScale, this.previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [this.itemSelection, this.highlightSelection], fns.nodes);\n    fromToMotion(this.id, \"innerCircle\", animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateWaitingUpdateReady() {\n    var _a, _b, _c, _d, _e, _f;\n    const {\n      itemSelection,\n      highlightSelection,\n      processedData,\n      radiusScale,\n      previousRadiusScale\n    } = this;\n    const {\n      animationManager\n    } = this.ctx;\n    const dataDiff = (_a = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _a.diff;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const supportedDiff = ((_b = dataDiff == null ? void 0 : dataDiff.moved.size) != null ? _b : 0) === 0;\n    const hasKeys = ((_c = processedData == null ? void 0 : processedData.defs.keys.length) != null ? _c : 0) > 0;\n    const hasUniqueKeys = (_f = (_e = (_d = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _d.animationValidation) == null ? void 0 : _e.uniqueKeys) != null ? _f : true;\n    if (!supportedDiff || !hasKeys || !hasUniqueKeys) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n    const fns = preparePieSeriesAnimationFunctions(false, this.properties.rotation, radiusScale, previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes, (_, datum) => this.getDatumId(datum), dataDiff);\n    fromToMotion(this.id, \"innerCircle\", animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateClearingUpdateEmpty() {\n    const {\n      itemSelection,\n      highlightSelection,\n      radiusScale,\n      previousRadiusScale\n    } = this;\n    const {\n      animationManager\n    } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(false, this.properties.rotation, radiusScale, previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes);\n    fromToMotion(this.id, \"innerCircle\", animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeOutAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  getDatumIdFromData(datum) {\n    var _a, _b, _c;\n    const {\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    if (!((_c = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation) == null ? void 0 : _c.uniqueKeys)) {\n      return;\n    }\n    if (legendItemKey) {\n      return datum[legendItemKey];\n    } else if (calloutLabelKey) {\n      return datum[calloutLabelKey];\n    } else if (sectorLabelKey) {\n      return datum[sectorLabelKey];\n    }\n  }\n  getDatumId(datum) {\n    const {\n      index\n    } = datum;\n    const datumId = this.getDatumIdFromData(datum.datum);\n    return datumId != null ? String(datumId) : \"\".concat(index);\n  }\n  onDataChange() {\n    var _a;\n    const {\n      data,\n      seriesItemEnabled\n    } = this;\n    this.seriesItemEnabled = (_a = data == null ? void 0 : data.map((_, index) => {\n      var _a2;\n      return (_a2 = seriesItemEnabled[index]) != null ? _a2 : true;\n    })) != null ? _a : [];\n  }\n  computeFocusBounds(opts) {\n    return computeSectorFocusBounds(this, opts);\n  }\n};\nDonutSeries.className = \"DonutSeries\";\nDonutSeries.type = \"donut\";\n\n// packages/ag-charts-community/src/chart/series/polar/pieTheme.ts\nvar pieTheme = {\n  series: {\n    __extends__: EXTENDS_SERIES_DEFAULTS,\n    title: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: \"normal\" /* NORMAL */,\n      fontSize: 14,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_MUTED_LABEL_COLOUR,\n      spacing: 5\n    },\n    calloutLabel: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: void 0,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_LABEL_COLOUR,\n      offset: 3,\n      minAngle: 0\n    },\n    sectorLabel: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: \"normal\" /* NORMAL */,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n      positionOffset: 0,\n      positionRatio: 0.5\n    },\n    calloutLine: {\n      length: 10,\n      strokeWidth: 2\n    },\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    strokeWidth: 1,\n    lineDash: [0],\n    lineDashOffset: 0,\n    rotation: 0,\n    // @todo(AG-10275) Uncomment this\n    // sectorSpacing: 1,\n    shadow: {\n      enabled: false,\n      color: DEFAULT_SHADOW_COLOUR,\n      xOffset: 3,\n      yOffset: 3,\n      blur: 5\n    },\n    innerLabels: {\n      fontStyle: void 0,\n      fontWeight: void 0,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_LABEL_COLOUR,\n      margin: 2\n    },\n    // @todo(AG-10275) Remove this\n    // @ts-expect-error\n    __BACKGROUND_COLOR_DO_NOT_USE: DEFAULT_BACKGROUND_COLOUR\n  }\n};\nvar piePaletteFactory = _ref108 => {\n  let {\n    takeColors,\n    colorsCount,\n    userPalette\n  } = _ref108;\n  const {\n    fills,\n    strokes\n  } = takeColors(colorsCount);\n  return {\n    fills,\n    strokes: userPalette ? strokes : [],\n    calloutLine: {\n      colors: strokes\n    }\n  };\n};\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeriesModule.ts\nvar DonutSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"polar\"],\n  identifier: \"donut\",\n  instanceConstructor: DonutSeries,\n  themeTemplate: pieTheme,\n  paletteFactory: piePaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeriesProperties.ts\nvar PieTitle = class extends Caption {\n  constructor() {\n    super(...arguments);\n    this.showInLegend = false;\n  }\n};\n__decorateClass([Validate(BOOLEAN)], PieTitle.prototype, \"showInLegend\", 2);\nvar DonutInnerLabel2 = class extends Label {\n  set(properties, _reset) {\n    return super.set(properties);\n  }\n};\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(STRING, {\n  optional: true\n})], DonutInnerLabel2.prototype, \"text\", 2);\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(NUMBER, {\n  optional: true\n})], DonutInnerLabel2.prototype, \"margin\", 2);\nvar DonutInnerCircle2 = class extends BaseProperties {};\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(COLOR_STRING, {\n  optional: true\n})], DonutInnerCircle2.prototype, \"fill\", 2);\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(RATIO, {\n  optional: true\n})], DonutInnerCircle2.prototype, \"fillOpacity\", 2);\nvar PieSeriesCalloutLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.offset = 3;\n    this.minAngle = 0;\n    this.minSpacing = 4;\n    this.maxCollisionOffset = 50;\n    this.avoidCollisions = true;\n  }\n};\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesCalloutLabel.prototype, \"offset\", 2);\n__decorateClass([Validate(DEGREE)], PieSeriesCalloutLabel.prototype, \"minAngle\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesCalloutLabel.prototype, \"minSpacing\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesCalloutLabel.prototype, \"maxCollisionOffset\", 2);\n__decorateClass([Validate(BOOLEAN)], PieSeriesCalloutLabel.prototype, \"avoidCollisions\", 2);\nvar PieSeriesSectorLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.positionOffset = 0;\n    this.positionRatio = 0.5;\n  }\n};\n__decorateClass([Validate(NUMBER)], PieSeriesSectorLabel.prototype, \"positionOffset\", 2);\n__decorateClass([Validate(RATIO)], PieSeriesSectorLabel.prototype, \"positionRatio\", 2);\nvar PieSeriesCalloutLine = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.length = 10;\n    this.strokeWidth = 1;\n  }\n};\n__decorateClass([Validate(COLOR_STRING_ARRAY, {\n  optional: true\n})], PieSeriesCalloutLine.prototype, \"colors\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesCalloutLine.prototype, \"length\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesCalloutLine.prototype, \"strokeWidth\", 2);\nvar PieSeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.rotation = 0;\n    this.outerRadiusOffset = 0;\n    this.outerRadiusRatio = 1;\n    this.strokeWidth = 1;\n    this.sectorSpacing = void 0;\n    this.innerLabels = new PropertiesArray(DonutInnerLabel2);\n    this.title = new PieTitle();\n    this.innerCircle = new DonutInnerCircle2();\n    this.shadow = new DropShadow();\n    this.calloutLabel = new PieSeriesCalloutLabel();\n    this.sectorLabel = new PieSeriesSectorLabel();\n    this.calloutLine = new PieSeriesCalloutLine();\n    this.tooltip = new SeriesTooltip();\n    this.__BACKGROUND_COLOR_DO_NOT_USE = void 0;\n  }\n};\n__decorateClass([Validate(STRING)], PieSeriesProperties.prototype, \"angleKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"angleName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"radiusKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"radiusName\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], PieSeriesProperties.prototype, \"radiusMin\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], PieSeriesProperties.prototype, \"radiusMax\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"calloutLabelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"calloutLabelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"sectorLabelKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"sectorLabelName\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"legendItemKey\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], PieSeriesProperties.prototype, \"fills\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], PieSeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([Validate(RATIO)], PieSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([Validate(RATIO)], PieSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([Validate(LINE_DASH)], PieSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([Validate(FUNCTION, {\n  optional: true\n})], PieSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([Validate(DEGREE)], PieSeriesProperties.prototype, \"rotation\", 2);\n__decorateClass([Validate(NUMBER)], PieSeriesProperties.prototype, \"outerRadiusOffset\", 2);\n__decorateClass([Validate(RATIO)], PieSeriesProperties.prototype, \"outerRadiusRatio\", 2);\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(NUMBER, {\n  optional: true\n})], PieSeriesProperties.prototype, \"innerRadiusOffset\", 2);\n__decorateClass([Deprecated(\"Use a Donut Series instead\"), Validate(RATIO, {\n  optional: true\n})], PieSeriesProperties.prototype, \"innerRadiusRatio\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER)], PieSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([Validate(POSITIVE_NUMBER, {\n  optional: true\n})], PieSeriesProperties.prototype, \"sectorSpacing\", 2);\n__decorateClass([Validate(OBJECT_ARRAY)], PieSeriesProperties.prototype, \"innerLabels\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"title\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"innerCircle\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"calloutLabel\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"sectorLabel\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"calloutLine\", 2);\n__decorateClass([Validate(OBJECT)], PieSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], PieSeriesProperties.prototype, \"__BACKGROUND_COLOR_DO_NOT_USE\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeries.ts\nvar PieSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.angleKey = series.properties.angleKey;\n    this.radiusKey = series.properties.radiusKey;\n    this.calloutLabelKey = series.properties.calloutLabelKey;\n    this.sectorLabelKey = series.properties.sectorLabelKey;\n  }\n};\nvar PieSeries = class extends PolarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      useLabelLayer: true,\n      animationResetFns: {\n        item: resetPieSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new PieSeriesProperties();\n    this.previousRadiusScale = new LinearScale();\n    this.radiusScale = new LinearScale();\n    // The group node that contains the background graphics.\n    this.backgroundGroup = this.rootGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-background\"),\n      layer: true,\n      zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */\n    }));\n    // AG-6193 If the sum of all datums is 0, then we'll draw 1 or 2 rings to represent the empty series.\n    this.zerosumRingsGroup = this.backgroundGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-zerosumRings\")\n    }));\n    this.zerosumOuterRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.zerosumInnerRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.innerCircleGroup = this.backgroundGroup.appendChild(new Group({\n      name: \"\".concat(this.id, \"-innerCircle\")\n    }));\n    // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n    this.seriesItemEnabled = [];\n    this.surroundingRadius = void 0;\n    this.NodeEvent = PieSeriesNodeEvent;\n    this.angleScale = new LinearScale();\n    this.angleScale.domain = [0, 1];\n    this.angleScale.range = [-Math.PI, Math.PI].map(angle => angle + Math.PI / 2);\n    const pieCalloutLabels = new Group({\n      name: \"pieCalloutLabels\"\n    });\n    const pieSectorLabels = new Group({\n      name: \"pieSectorLabels\"\n    });\n    const innerLabels = new Group({\n      name: \"innerLabels\"\n    });\n    this.labelGroup.append(pieCalloutLabels);\n    this.labelGroup.append(pieSectorLabels);\n    this.labelGroup.append(innerLabels);\n    this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n    this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n    this.innerLabelsSelection = Selection.select(innerLabels, Text);\n    this.innerCircleSelection = Selection.select(this.innerCircleGroup, Circle);\n  }\n  addChartEventListeners() {\n    var _a;\n    this.destroyFns.push((_a = this.ctx.chartEventManager) == null ? void 0 : _a.addListener(\"legend-item-click\", event => this.onLegendItemClick(event)));\n  }\n  get visible() {\n    return super.visible && (this.seriesItemEnabled.length === 0 || this.seriesItemEnabled.some(visible => visible));\n  }\n  nodeFactory() {\n    return new Sector();\n  }\n  getSeriesDomain(direction) {\n    if (direction === \"x\" /* X */) {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      let {\n        data\n      } = this;\n      const {\n        visible,\n        seriesItemEnabled\n      } = this;\n      const {\n        angleKey,\n        radiusKey,\n        calloutLabelKey,\n        sectorLabelKey,\n        legendItemKey\n      } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const extraKeyProps = [];\n      const extraProps = [];\n      if (legendItemKey) {\n        extraKeyProps.push(keyProperty(legendItemKey, \"band\", {\n          id: \"legendItemKey\"\n        }));\n      } else if (calloutLabelKey) {\n        extraKeyProps.push(keyProperty(calloutLabelKey, \"band\", {\n          id: \"calloutLabelKey\"\n        }));\n      } else if (sectorLabelKey) {\n        extraKeyProps.push(keyProperty(sectorLabelKey, \"band\", {\n          id: \"sectorLabelKey\"\n        }));\n      }\n      const radiusScaleType = this.radiusScale.type;\n      const angleScaleType = this.radiusScale.type;\n      if (radiusKey) {\n        extraProps.push(rangedValueProperty(radiusKey, {\n          id: \"radiusValue\",\n          min: (_a = this.properties.radiusMin) != null ? _a : 0,\n          max: this.properties.radiusMax\n        }), valueProperty(radiusKey, radiusScaleType, {\n          id: \"radiusRaw\"\n        }),\n        // Raw value pass-through.\n        normalisePropertyTo({\n          id: \"radiusValue\"\n        }, [0, 1], 1, (_b = this.properties.radiusMin) != null ? _b : 0, this.properties.radiusMax));\n      }\n      if (calloutLabelKey) {\n        extraProps.push(valueProperty(calloutLabelKey, \"band\", {\n          id: \"calloutLabelValue\"\n        }));\n      }\n      if (sectorLabelKey) {\n        extraProps.push(valueProperty(sectorLabelKey, \"band\", {\n          id: \"sectorLabelValue\"\n        }));\n      }\n      if (legendItemKey) {\n        extraProps.push(valueProperty(legendItemKey, \"band\", {\n          id: \"legendItemValue\"\n        }));\n      }\n      if (animationEnabled && this.processedData && extraKeyProps.length > 0) {\n        extraProps.push(diff(this.processedData));\n      }\n      extraProps.push(animationValidation());\n      data = data.map((d, idx) => visible && seriesItemEnabled[idx] ? d : __spreadProps(__spreadValues({}, d), {\n        [angleKey]: 0\n      }));\n      yield this.requestDataModel(dataController, data, {\n        props: [...extraKeyProps, accumulativeValueProperty(angleKey, angleScaleType, {\n          id: \"angleValue\",\n          onlyPositive: true\n        }), valueProperty(angleKey, angleScaleType, {\n          id: \"angleRaw\"\n        }),\n        // Raw value pass-through.\n        normalisePropertyTo({\n          id: \"angleValue\"\n        }, [0, 1], 0, 0), ...extraProps]\n      });\n      for (const valueDef of (_e = (_d = (_c = this.processedData) == null ? void 0 : _c.defs) == null ? void 0 : _d.values) != null ? _e : []) {\n        const {\n          id,\n          missing,\n          property\n        } = valueDef;\n        const missCount = getMissCount(this, missing);\n        if (id !== \"angleRaw\" && missCount > 0) {\n          Logger.warnOnce(\"no value was found for the key '\".concat(String(property), \"' on \").concat(missCount, \" data element\").concat(missCount > 1 ? \"s\" : \"\"));\n        }\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  maybeRefreshNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.nodeDataRefresh) return;\n      const {\n        nodeData = []\n      } = (_a = yield this.createNodeData()) != null ? _a : {};\n      this.nodeData = nodeData;\n      this.nodeDataRefresh = false;\n    });\n  }\n  getProcessedDataIndexes(dataModel) {\n    const angleIdx = dataModel.resolveProcessedDataIndexById(this, \"angleValue\");\n    const radiusIdx = this.properties.radiusKey ? dataModel.resolveProcessedDataIndexById(this, \"radiusValue\") : -1;\n    const calloutLabelIdx = this.properties.calloutLabelKey ? dataModel.resolveProcessedDataIndexById(this, \"calloutLabelValue\") : -1;\n    const sectorLabelIdx = this.properties.sectorLabelKey ? dataModel.resolveProcessedDataIndexById(this, \"sectorLabelValue\") : -1;\n    const legendItemIdx = this.properties.legendItemKey ? dataModel.resolveProcessedDataIndexById(this, \"legendItemValue\") : -1;\n    return {\n      angleIdx,\n      radiusIdx,\n      calloutLabelIdx,\n      sectorLabelIdx,\n      legendItemIdx\n    };\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const {\n        id: seriesId,\n        processedData,\n        dataModel,\n        angleScale\n      } = this;\n      const {\n        rotation\n      } = this.properties;\n      if (!processedData || !dataModel || processedData.type !== \"ungrouped\") return;\n      const {\n        angleIdx,\n        radiusIdx,\n        calloutLabelIdx,\n        sectorLabelIdx,\n        legendItemIdx\n      } = this.getProcessedDataIndexes(dataModel);\n      let currentStart = 0;\n      let sum2 = 0;\n      const nodeData = processedData.data.map((group2, index) => {\n        var _a;\n        const {\n          datum,\n          values\n        } = group2;\n        const currentValue = values[angleIdx];\n        const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        currentStart = currentValue;\n        sum2 += currentValue;\n        const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        const span = Math.abs(endAngle - startAngle);\n        const midAngle = startAngle + span / 2;\n        const angleValue = values[angleIdx + 1];\n        const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) != null ? _a : 1 : 1;\n        const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : void 0;\n        const legendItemValue = legendItemIdx >= 0 ? values[legendItemIdx] : void 0;\n        const labels = this.getLabels(datum, midAngle, span, true, values[calloutLabelIdx], values[sectorLabelIdx], legendItemValue);\n        const sectorFormat = this.getSectorFormat(datum, index, false);\n        return __spreadValues({\n          itemId: index,\n          series: this,\n          datum,\n          index,\n          angleValue,\n          midAngle,\n          midCos: Math.cos(midAngle),\n          midSin: Math.sin(midAngle),\n          startAngle,\n          endAngle,\n          sectorFormat,\n          radiusValue,\n          radius,\n          innerRadius: Math.max(this.radiusScale.convert(0), 0),\n          outerRadius: Math.max(this.radiusScale.convert(radius), 0),\n          legendItemValue\n        }, labels);\n      });\n      this.zerosumOuterRing.visible = sum2 === 0;\n      const {\n        innerRadiusRatio = 1\n      } = this.properties;\n      this.zerosumInnerRing.visible = sum2 === 0 && innerRadiusRatio !== 1 && innerRadiusRatio > 0;\n      return {\n        itemId: seriesId,\n        nodeData,\n        labelData: nodeData\n      };\n    });\n  }\n  getLabels(datum, midAngle, span, skipDisabled, calloutLabelValue, sectorLabelValue, legendItemValue) {\n    const {\n      calloutLabel,\n      sectorLabel,\n      legendItemKey\n    } = this.properties;\n    const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.properties.calloutLabelKey : void 0;\n    const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.properties.sectorLabelKey : void 0;\n    if (!calloutLabelKey && !sectorLabelKey && !legendItemKey) {\n      return {};\n    }\n    const labelFormatterParams = {\n      datum,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    };\n    const result = {};\n    if (calloutLabelKey && span > toRadians(calloutLabel.minAngle)) {\n      result.calloutLabel = __spreadProps(__spreadValues({}, this.getTextAlignment(midAngle)), {\n        text: this.getLabelText(calloutLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: calloutLabelValue\n        })),\n        hidden: false,\n        collisionTextAlign: void 0,\n        collisionOffsetY: 0,\n        box: void 0\n      });\n    }\n    if (sectorLabelKey) {\n      result.sectorLabel = {\n        text: this.getLabelText(sectorLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: sectorLabelValue\n        }))\n      };\n    }\n    if (legendItemKey != null && legendItemValue != null) {\n      result.legendItem = {\n        key: legendItemKey,\n        text: legendItemValue\n      };\n    }\n    return result;\n  }\n  getTextAlignment(midAngle) {\n    const quadrantTextOpts = [{\n      textAlign: \"center\",\n      textBaseline: \"bottom\"\n    }, {\n      textAlign: \"left\",\n      textBaseline: \"middle\"\n    }, {\n      textAlign: \"center\",\n      textBaseline: \"hanging\"\n    }, {\n      textAlign: \"right\",\n      textBaseline: \"middle\"\n    }];\n    const midAngle180 = normalizeAngle180(midAngle);\n    const quadrantStart = -0.75 * Math.PI;\n    const quadrantOffset = midAngle180 - quadrantStart;\n    const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n    const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n    return quadrantTextOpts[quadrantIndex];\n  }\n  getSectorFormat(datum, formatIndex, highlight) {\n    var _a, _b, _c, _d, _e;\n    const {\n      callbackCache,\n      highlightManager\n    } = this.ctx;\n    const {\n      angleKey,\n      radiusKey,\n      fills,\n      strokes,\n      formatter,\n      sectorSpacing,\n      __BACKGROUND_COLOR_DO_NOT_USE\n    } = this.properties;\n    const highlightedDatum = highlightManager.getActiveHighlight();\n    const isDatumHighlighted = highlight && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && formatIndex === highlightedDatum.itemId;\n    let defaultStroke = strokes[formatIndex % strokes.length];\n    if (sectorSpacing != null) {\n      defaultStroke != null ? defaultStroke : defaultStroke = __BACKGROUND_COLOR_DO_NOT_USE;\n    }\n    const {\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      strokeOpacity\n    } = mergeDefaults(isDatumHighlighted && this.properties.highlightStyle.item, {\n      fill: fills.length > 0 ? fills[formatIndex % fills.length] : void 0,\n      fillOpacity: this.properties.fillOpacity,\n      stroke: defaultStroke,\n      strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n      strokeOpacity: this.getOpacity()\n    });\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        datum,\n        angleKey,\n        radiusKey,\n        fill,\n        stroke,\n        fills,\n        strokes,\n        strokeWidth,\n        highlighted: isDatumHighlighted,\n        seriesId: this.id\n      });\n    }\n    return {\n      fill: (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill,\n      fillOpacity: (_b = format2 == null ? void 0 : format2.fillOpacity) != null ? _b : fillOpacity,\n      stroke: (_c = format2 == null ? void 0 : format2.stroke) != null ? _c : stroke,\n      strokeWidth: (_d = format2 == null ? void 0 : format2.strokeWidth) != null ? _d : strokeWidth,\n      strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity\n    };\n  }\n  getInnerRadius() {\n    const {\n      radius\n    } = this;\n    const {\n      innerRadiusRatio = 1,\n      innerRadiusOffset = 0\n    } = this.properties;\n    const innerRadius = radius * innerRadiusRatio + innerRadiusOffset;\n    if (innerRadius === radius || innerRadius < 0) {\n      return 0;\n    }\n    return innerRadius;\n  }\n  getOuterRadius() {\n    return Math.max(this.radius * this.properties.outerRadiusRatio + this.properties.outerRadiusOffset, 0);\n  }\n  updateRadiusScale(resize) {\n    const newRange = [this.getInnerRadius(), this.getOuterRadius()];\n    this.radiusScale.range = newRange;\n    if (resize) {\n      this.previousRadiusScale.range = newRange;\n    }\n    this.nodeData = this.nodeData.map(_a => {\n      var _b = _a,\n        {\n          radius\n        } = _b,\n        d = __objRest(_b, [\"radius\"]);\n      return __spreadProps(__spreadValues({}, d), {\n        radius,\n        innerRadius: Math.max(this.radiusScale.convert(0), 0),\n        outerRadius: Math.max(this.radiusScale.convert(radius), 0)\n      });\n    });\n  }\n  getTitleTranslationY() {\n    var _a, _b;\n    const outerRadius = Math.max(0, this.radiusScale.range[1]);\n    if (outerRadius === 0) {\n      return NaN;\n    }\n    const spacing = (_b = (_a = this.properties.title) == null ? void 0 : _a.spacing) != null ? _b : 0;\n    const titleOffset = 2 + spacing;\n    const dy = Math.max(0, -outerRadius);\n    return -outerRadius - titleOffset - dy;\n  }\n  update(_0) {\n    return __async(this, arguments, function (_ref109) {\n      var _this7 = this;\n      let {\n        seriesRect\n      } = _ref109;\n      return function* () {\n        const {\n          title\n        } = _this7.properties;\n        const newNodeDataDependencies = {\n          seriesRectWidth: seriesRect == null ? void 0 : seriesRect.width,\n          seriesRectHeight: seriesRect == null ? void 0 : seriesRect.height\n        };\n        const resize = jsonDiff(_this7.nodeDataDependencies, newNodeDataDependencies) != null;\n        if (resize) {\n          _this7._nodeDataDependencies = newNodeDataDependencies;\n        }\n        yield _this7.maybeRefreshNodeData();\n        _this7.updateTitleNodes();\n        _this7.updateRadiusScale(resize);\n        _this7.contentGroup.translationX = _this7.centerX;\n        _this7.contentGroup.translationY = _this7.centerY;\n        _this7.highlightGroup.translationX = _this7.centerX;\n        _this7.highlightGroup.translationY = _this7.centerY;\n        _this7.backgroundGroup.translationX = _this7.centerX;\n        _this7.backgroundGroup.translationY = _this7.centerY;\n        if (_this7.labelGroup) {\n          _this7.labelGroup.translationX = _this7.centerX;\n          _this7.labelGroup.translationY = _this7.centerY;\n        }\n        if (title) {\n          const dy = _this7.getTitleTranslationY();\n          const titleBox = title.node.computeBBox();\n          title.node.visible = title.enabled && isFinite(dy) && !_this7.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n          title.node.translationY = isFinite(dy) ? dy : 0;\n        }\n        for (const circle of [_this7.zerosumInnerRing, _this7.zerosumOuterRing]) {\n          circle.fillOpacity = 0;\n          circle.stroke = _this7.properties.calloutLabel.color;\n          circle.strokeWidth = 1;\n          circle.strokeOpacity = 1;\n        }\n        _this7.updateNodeMidPoint();\n        yield _this7.updateSelections();\n        yield _this7.updateNodes(seriesRect);\n      }();\n    });\n  }\n  updateTitleNodes() {\n    var _a, _b;\n    const {\n      oldTitle\n    } = this;\n    const {\n      title\n    } = this.properties;\n    if (oldTitle !== title) {\n      if (oldTitle) {\n        (_a = this.labelGroup) == null ? void 0 : _a.removeChild(oldTitle.node);\n      }\n      if (title) {\n        title.node.textBaseline = \"bottom\";\n        (_b = this.labelGroup) == null ? void 0 : _b.appendChild(title.node);\n      }\n      this.oldTitle = title;\n    }\n  }\n  updateNodeMidPoint() {\n    this.nodeData.forEach(d => {\n      const radius = d.innerRadius + (d.outerRadius - d.innerRadius) / 2;\n      d.midPoint = {\n        x: d.midCos * Math.max(0, radius),\n        y: d.midSin * Math.max(0, radius)\n      };\n    });\n  }\n  updateSelections() {\n    return __async(this, null, function* () {\n      yield this.updateGroupSelection();\n      this.updateInnerCircleSelection();\n    });\n  }\n  updateGroupSelection() {\n    return __async(this, null, function* () {\n      const {\n        itemSelection,\n        highlightSelection,\n        calloutLabelSelection,\n        sectorLabelSelection,\n        innerLabelsSelection\n      } = this;\n      const update = (selection, clone) => {\n        let nodeData = this.nodeData;\n        if (clone) {\n          nodeData = nodeData.map(datum => __spreadProps(__spreadValues({}, datum), {\n            sectorFormat: __spreadValues({}, datum.sectorFormat)\n          }));\n        }\n        selection.update(nodeData, void 0, datum => this.getDatumId(datum));\n        if (this.ctx.animationManager.isSkipped()) {\n          selection.cleanup();\n        }\n      };\n      update(itemSelection, false);\n      update(highlightSelection, true);\n      calloutLabelSelection.update(this.nodeData, group2 => {\n        const line = new Line();\n        line.tag = 0 /* Callout */;\n        line.pointerEvents = 1 /* None */;\n        group2.appendChild(line);\n        const text = new Text();\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        group2.appendChild(text);\n      });\n      sectorLabelSelection.update(this.nodeData, node => {\n        node.pointerEvents = 1 /* None */;\n      });\n      innerLabelsSelection.update(this.properties.innerLabels, node => {\n        node.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateInnerCircleSelection() {\n    const {\n      innerCircle\n    } = this.properties;\n    let radius = 0;\n    const innerRadius = this.getInnerRadius();\n    if (innerRadius > 0) {\n      const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n      const antiAliasingPadding = 1;\n      radius = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n    }\n    const datums = innerCircle ? [{\n      radius\n    }] : [];\n    this.innerCircleSelection.update(datums);\n  }\n  updateNodes(seriesRect) {\n    return __async(this, null, function* () {\n      const highlightedDatum = this.ctx.highlightManager.getActiveHighlight();\n      const isVisible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n      this.rootGroup.visible = isVisible;\n      this.backgroundGroup.visible = isVisible;\n      this.contentGroup.visible = isVisible;\n      this.highlightGroup.visible = isVisible && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this;\n      if (this.labelGroup) {\n        this.labelGroup.visible = isVisible;\n      }\n      this.contentGroup.opacity = this.getOpacity();\n      this.innerCircleSelection.each((node, _ref110) => {\n        let {\n          radius\n        } = _ref110;\n        var _a, _b;\n        node.setProperties({\n          fill: (_a = this.properties.innerCircle) == null ? void 0 : _a.fill,\n          opacity: (_b = this.properties.innerCircle) == null ? void 0 : _b.fillOpacity,\n          size: radius\n        });\n      });\n      const updateSectorFn = (sector, datum, _index, isDatumHighlighted) => {\n        const format2 = this.getSectorFormat(datum.datum, datum.itemId, isDatumHighlighted);\n        datum.sectorFormat.fill = format2.fill;\n        datum.sectorFormat.stroke = format2.stroke;\n        const animationDisabled = this.ctx.animationManager.isSkipped();\n        if (animationDisabled) {\n          sector.startAngle = datum.startAngle;\n          sector.endAngle = datum.endAngle;\n          sector.innerRadius = datum.innerRadius;\n          sector.outerRadius = datum.outerRadius;\n        }\n        if (isDatumHighlighted || animationDisabled) {\n          sector.fill = format2.fill;\n          sector.stroke = format2.stroke;\n        }\n        sector.strokeWidth = format2.strokeWidth;\n        sector.fillOpacity = format2.fillOpacity;\n        sector.strokeOpacity = this.properties.strokeOpacity;\n        sector.lineDash = this.properties.lineDash;\n        sector.lineDashOffset = this.properties.lineDashOffset;\n        sector.fillShadow = this.properties.shadow;\n        sector.cornerRadius = this.properties.cornerRadius;\n        sector.inset = this.properties.sectorSpacing != null ? (this.properties.sectorSpacing + (format2.stroke != null ? format2.strokeWidth : 0)) / 2 : 0;\n        sector.lineJoin = this.properties.sectorSpacing != null ? \"miter\" : \"round\";\n      };\n      this.itemSelection.each((node, datum, index) => updateSectorFn(node, datum, index, false));\n      this.highlightSelection.each((node, datum, index) => {\n        const isDatumHighlighted = (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n        updateSectorFn(node, datum, index, true);\n        node.visible = isDatumHighlighted;\n      });\n      this.updateCalloutLineNodes();\n      this.updateCalloutLabelNodes(seriesRect);\n      this.updateSectorLabelNodes();\n      this.updateInnerLabelNodes();\n      this.updateZerosumRings();\n      this.animationState.transition(\"update\");\n    });\n  }\n  updateCalloutLineNodes() {\n    var _a;\n    const {\n      calloutLine\n    } = this.properties;\n    const calloutLength = calloutLine.length;\n    const calloutStrokeWidth = calloutLine.strokeWidth;\n    const calloutColors = (_a = calloutLine.colors) != null ? _a : this.properties.strokes;\n    const {\n      offset: offset4\n    } = this.properties.calloutLabel;\n    this.calloutLabelSelection.selectByTag(0 /* Callout */).forEach((line, index) => {\n      var _a2;\n      const datum = line.datum;\n      const {\n        calloutLabel: label,\n        outerRadius\n      } = datum;\n      if ((label == null ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n        line.visible = true;\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.fill = void 0;\n        const x1 = datum.midCos * outerRadius;\n        const y1 = datum.midSin * outerRadius;\n        let x2 = datum.midCos * (outerRadius + calloutLength);\n        let y2 = datum.midSin * (outerRadius + calloutLength);\n        const isMoved = (_a2 = label.collisionTextAlign) != null ? _a2 : label.collisionOffsetY !== 0;\n        if (isMoved && label.box != null) {\n          const box = label.box;\n          let cx = x2;\n          let cy = y2;\n          if (x2 < box.x) {\n            cx = box.x;\n          } else if (x2 > box.x + box.width) {\n            cx = box.x + box.width;\n          }\n          if (y2 < box.y) {\n            cy = box.y;\n          } else if (y2 > box.y + box.height) {\n            cy = box.y + box.height;\n          }\n          const dx = cx - x2;\n          const dy = cy - y2;\n          const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n          const paddedLength = length - offset4;\n          if (paddedLength > 0) {\n            x2 = x2 + dx * paddedLength / length;\n            y2 = y2 + dy * paddedLength / length;\n          }\n        }\n        line.x1 = x1;\n        line.y1 = y1;\n        line.x2 = x2;\n        line.y2 = y2;\n      } else {\n        line.visible = false;\n      }\n    });\n  }\n  getLabelOverflow(text, box, seriesRect) {\n    const seriesLeft = seriesRect.x - this.centerX;\n    const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n    const seriesTop = seriesRect.y - this.centerY;\n    const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n    const errPx = 1;\n    let visibleTextPart = 1;\n    if (box.x + errPx < seriesLeft) {\n      visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n    } else if (box.x + box.width - errPx > seriesRight) {\n      visibleTextPart = (seriesRight - box.x) / box.width;\n    }\n    const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n    const textLength = visibleTextPart === 1 ? text.length : Math.floor(text.length * visibleTextPart) - 1;\n    const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n    return {\n      textLength,\n      hasVerticalOverflow,\n      hasSurroundingSeriesOverflow\n    };\n  }\n  bboxIntersectsSurroundingSeries(box) {\n    let dx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let dy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    const {\n      surroundingRadius\n    } = this;\n    if (surroundingRadius == null) {\n      return false;\n    }\n    const corners = [{\n      x: box.x + dx,\n      y: box.y + dy\n    }, {\n      x: box.x + box.width + dx,\n      y: box.y + dy\n    }, {\n      x: box.x + box.width + dx,\n      y: box.y + box.height + dy\n    }, {\n      x: box.x + dx,\n      y: box.y + box.height + dy\n    }];\n    const sur2 = __pow(surroundingRadius, 2);\n    return corners.some(corner => __pow(corner.x, 2) + __pow(corner.y, 2) > sur2);\n  }\n  computeCalloutLabelCollisionOffsets() {\n    const {\n      radiusScale\n    } = this;\n    const {\n      calloutLabel,\n      calloutLine\n    } = this.properties;\n    const {\n      offset: offset4,\n      minSpacing\n    } = calloutLabel;\n    const innerRadius = radiusScale.convert(0);\n    const shouldSkip = datum => {\n      const label = datum.calloutLabel;\n      return !label || datum.outerRadius === 0;\n    };\n    const fullData = this.nodeData;\n    const data = this.nodeData.filter(t => !shouldSkip(t));\n    data.forEach(datum => {\n      const label = datum.calloutLabel;\n      if (label == null) return;\n      label.hidden = false;\n      label.collisionTextAlign = void 0;\n      label.collisionOffsetY = 0;\n    });\n    if (data.length <= 1) {\n      return;\n    }\n    const leftLabels = data.filter(d => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n    const rightLabels = data.filter(d => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n    const topLabels = data.filter(d => {\n      var _a;\n      return d.midSin < 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const bottomLabels = data.filter(d => {\n      var _a;\n      return d.midSin >= 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const tempTextNode = new Text();\n    const getTextBBox = datum => {\n      var _a;\n      const label = datum.calloutLabel;\n      if (label == null) return new BBox(0, 0, 0, 0);\n      const labelRadius = datum.outerRadius + calloutLine.length + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign({\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      });\n      return tempTextNode.computeBBox();\n    };\n    const avoidNeighbourYCollision = (label, next, direction) => {\n      const box = getTextBBox(label).grow(minSpacing / 2);\n      const other = getTextBBox(next).grow(minSpacing / 2);\n      const collidesOrBehind = box.x < other.x + other.width && box.x + box.width > other.x && (direction === \"to-top\" ? box.y < other.y + other.height : box.y + box.height > other.y);\n      if (collidesOrBehind) {\n        const dy = direction === \"to-top\" ? box.y - other.y - other.height : box.y + box.height - other.y;\n        next.calloutLabel.collisionOffsetY = dy;\n      }\n    };\n    const avoidYCollisions = labels => {\n      const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n      const midIndex = labels.indexOf(midLabel);\n      for (let i = midIndex - 1; i >= 0; i--) {\n        const prev = labels[i + 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-top\");\n      }\n      for (let i = midIndex + 1; i < labels.length; i++) {\n        const prev = labels[i - 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-bottom\");\n      }\n    };\n    const avoidXCollisions = labels => {\n      const labelsCollideLabelsByY = data.some(datum => datum.calloutLabel.collisionOffsetY !== 0);\n      const boxes = labels.map(label => getTextBBox(label));\n      const paddedBoxes = boxes.map(box => box.clone().grow(minSpacing / 2));\n      let labelsCollideLabelsByX = false;\n      for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n        const box = paddedBoxes[i];\n        for (let j = i + 1; j < labels.length; j++) {\n          const other = paddedBoxes[j];\n          if (box.collidesBBox(other)) {\n            labelsCollideLabelsByX = true;\n            break;\n          }\n        }\n      }\n      const sectors = fullData.map(datum => {\n        const {\n          startAngle,\n          endAngle,\n          outerRadius\n        } = datum;\n        return {\n          startAngle,\n          endAngle,\n          innerRadius,\n          outerRadius\n        };\n      });\n      const labelsCollideSectors = boxes.some(box => {\n        return sectors.some(sector => boxCollidesSector(box, sector));\n      });\n      if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n        return;\n      }\n      labels.filter(d => d.calloutLabel.textAlign === \"center\").forEach(d => {\n        const label = d.calloutLabel;\n        if (d.midCos < 0) {\n          label.collisionTextAlign = \"right\";\n        } else if (d.midCos > 0) {\n          label.collisionTextAlign = \"left\";\n        } else {\n          label.collisionTextAlign = \"center\";\n        }\n      });\n    };\n    avoidYCollisions(leftLabels);\n    avoidYCollisions(rightLabels);\n    avoidXCollisions(topLabels);\n    avoidXCollisions(bottomLabels);\n  }\n  updateCalloutLabelNodes(seriesRect) {\n    const {\n      radiusScale\n    } = this;\n    const {\n      calloutLabel,\n      calloutLine\n    } = this.properties;\n    const calloutLength = calloutLine.length;\n    const {\n      offset: offset4,\n      color\n    } = calloutLabel;\n    const tempTextNode = new Text();\n    this.calloutLabelSelection.selectByTag(1 /* Label */).forEach(text => {\n      var _a;\n      const {\n        datum\n      } = text;\n      const label = datum.calloutLabel;\n      const radius = radiusScale.convert(datum.radius);\n      const outerRadius = Math.max(0, radius);\n      if (!(label == null ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n        text.visible = false;\n        return;\n      }\n      const labelRadius = outerRadius + calloutLength + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      const align = {\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      };\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign(align);\n      const box = tempTextNode.computeBBox();\n      let displayText = label.text;\n      let visible = true;\n      if (calloutLabel.avoidCollisions) {\n        const {\n          textLength,\n          hasVerticalOverflow\n        } = this.getLabelOverflow(label.text, box, seriesRect);\n        displayText = label.text.length === textLength ? label.text : \"\".concat(label.text.substring(0, textLength), \"\\u2026\");\n        visible = !hasVerticalOverflow;\n      }\n      text.text = displayText;\n      text.x = x;\n      text.y = y;\n      text.setFont(this.properties.calloutLabel);\n      text.setAlign(align);\n      text.fill = color;\n      text.visible = visible;\n    });\n  }\n  computeLabelsBBox(options, seriesRect) {\n    return __async(this, null, function* () {\n      const {\n        calloutLabel,\n        calloutLine\n      } = this.properties;\n      const calloutLength = calloutLine.length;\n      const {\n        offset: offset4,\n        maxCollisionOffset,\n        minSpacing\n      } = calloutLabel;\n      if (!calloutLabel.avoidCollisions) {\n        return null;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateRadiusScale(false);\n      this.computeCalloutLabelCollisionOffsets();\n      const textBoxes = [];\n      const text = new Text();\n      let titleBox;\n      const {\n        title\n      } = this.properties;\n      if ((title == null ? void 0 : title.text) && title.enabled) {\n        const dy = this.getTitleTranslationY();\n        if (isFinite(dy)) {\n          text.text = title.text;\n          text.x = 0;\n          text.y = dy;\n          text.setFont(title);\n          text.setAlign({\n            textBaseline: \"bottom\",\n            textAlign: \"center\"\n          });\n          titleBox = text.computeBBox();\n          textBoxes.push(titleBox);\n        }\n      }\n      this.nodeData.forEach(datum => {\n        var _a;\n        const label = datum.calloutLabel;\n        if (!label || datum.outerRadius === 0) {\n          return null;\n        }\n        const labelRadius = datum.outerRadius + calloutLength + offset4;\n        const x = datum.midCos * labelRadius;\n        const y = datum.midSin * labelRadius + label.collisionOffsetY;\n        text.text = label.text;\n        text.x = x;\n        text.y = y;\n        text.setFont(this.properties.calloutLabel);\n        text.setAlign({\n          textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n          textBaseline: label.textBaseline\n        });\n        const box = text.computeBBox();\n        label.box = box;\n        if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n          label.hidden = true;\n          return;\n        }\n        if (titleBox) {\n          const seriesTop = seriesRect.y - this.centerY;\n          const titleCleanArea = new BBox(titleBox.x - minSpacing, seriesTop, titleBox.width + 2 * minSpacing, titleBox.y + titleBox.height + minSpacing - seriesTop);\n          if (box.collidesBBox(titleCleanArea)) {\n            label.hidden = true;\n            return;\n          }\n        }\n        if (options.hideWhenNecessary) {\n          const {\n            textLength,\n            hasVerticalOverflow,\n            hasSurroundingSeriesOverflow\n          } = this.getLabelOverflow(label.text, box, seriesRect);\n          const isTooShort = label.text.length > 2 && textLength < 2;\n          if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n            label.hidden = true;\n            return;\n          }\n        }\n        label.hidden = false;\n        textBoxes.push(box);\n      });\n      if (textBoxes.length === 0) {\n        return null;\n      }\n      return BBox.merge(textBoxes);\n    });\n  }\n  updateSectorLabelNodes() {\n    const {\n      radiusScale\n    } = this;\n    const innerRadius = radiusScale.convert(0);\n    const {\n      fontSize,\n      fontStyle,\n      fontWeight,\n      fontFamily,\n      positionOffset,\n      positionRatio,\n      color\n    } = this.properties.sectorLabel;\n    const isDonut = innerRadius > 0;\n    const singleVisibleSector = this.seriesItemEnabled.filter(Boolean).length === 1;\n    this.sectorLabelSelection.each((text, datum) => {\n      const {\n        sectorLabel,\n        outerRadius\n      } = datum;\n      let isTextVisible = false;\n      if (sectorLabel && outerRadius !== 0) {\n        const labelRadius = innerRadius * (1 - positionRatio) + outerRadius * positionRatio + positionOffset;\n        text.fill = color;\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.text = sectorLabel.text;\n        const shouldPutTextInCenter = !isDonut && singleVisibleSector;\n        if (shouldPutTextInCenter) {\n          text.x = 0;\n          text.y = 0;\n        } else {\n          text.x = datum.midCos * labelRadius;\n          text.y = datum.midSin * labelRadius;\n        }\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n        const bbox = text.computeBBox();\n        const corners = [[bbox.x, bbox.y], [bbox.x + bbox.width, bbox.y], [bbox.x + bbox.width, bbox.y + bbox.height], [bbox.x, bbox.y + bbox.height]];\n        const {\n          startAngle,\n          endAngle\n        } = datum;\n        const sectorBounds = {\n          startAngle,\n          endAngle,\n          innerRadius,\n          outerRadius\n        };\n        if (corners.every(_ref111 => {\n          let [x, y] = _ref111;\n          return isPointInSector(x, y, sectorBounds);\n        })) {\n          isTextVisible = true;\n        }\n      }\n      text.visible = isTextVisible;\n    });\n  }\n  updateInnerLabelNodes() {\n    const textBBoxes = [];\n    const margins = [];\n    this.innerLabelsSelection.each((text, datum) => {\n      const {\n        fontStyle,\n        fontWeight,\n        fontSize,\n        fontFamily,\n        color,\n        margin = 2\n      } = datum;\n      text.fontStyle = fontStyle;\n      text.fontWeight = fontWeight;\n      text.fontSize = fontSize;\n      text.fontFamily = fontFamily;\n      text.text = datum.text;\n      text.x = 0;\n      text.y = 0;\n      text.fill = color;\n      text.textAlign = \"center\";\n      text.textBaseline = \"alphabetic\";\n      textBBoxes.push(text.computeBBox());\n      margins.push(margin);\n    });\n    const getMarginTop = index => index === 0 ? 0 : margins[index];\n    const getMarginBottom = index => index === margins.length - 1 ? 0 : margins[index];\n    const totalHeight = textBBoxes.reduce((sum2, bbox, i) => {\n      return sum2 + bbox.height + getMarginTop(i) + getMarginBottom(i);\n    }, 0);\n    const totalWidth = Math.max(...textBBoxes.map(bbox => bbox.width));\n    const innerRadius = this.getInnerRadius();\n    const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n    const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n    const textBottoms = [];\n    for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n      const bbox = textBBoxes[i];\n      const bottom = bbox.height + prev + getMarginTop(i);\n      textBottoms.push(bottom);\n      prev = bottom + getMarginBottom(i);\n    }\n    this.innerLabelsSelection.each((text, _datum, index) => {\n      text.y = textBottoms[index];\n      text.visible = labelsVisible;\n    });\n  }\n  updateZerosumRings() {\n    this.zerosumOuterRing.size = this.getOuterRadius() * 2;\n    this.zerosumInnerRing.size = this.getInnerRadius() * 2;\n  }\n  getDatumLegendName(nodeDatum) {\n    const {\n      angleKey,\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    const {\n      sectorLabel,\n      calloutLabel,\n      legendItem\n    } = nodeDatum;\n    if (legendItemKey && legendItem !== void 0) {\n      return legendItem.text;\n    } else if (calloutLabelKey && calloutLabelKey !== angleKey && (calloutLabel == null ? void 0 : calloutLabel.text) !== void 0) {\n      return calloutLabel.text;\n    } else if (sectorLabelKey && sectorLabelKey !== angleKey && (sectorLabel == null ? void 0 : sectorLabel.text) !== void 0) {\n      return sectorLabel.text;\n    }\n  }\n  pickNodeClosestDatum(point) {\n    return pickByMatchingAngle(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    if (!this.properties.isValid()) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      datum,\n      angleValue,\n      sectorFormat: {\n        fill: color\n      },\n      itemId\n    } = nodeDatum;\n    const title = sanitizeHtml((_a = this.properties.title) == null ? void 0 : _a.text);\n    const content = isFiniteNumber(angleValue) ? toFixed(angleValue) : String(angleValue);\n    const labelText = this.getDatumLegendName(nodeDatum);\n    return this.properties.tooltip.toTooltipHtml({\n      title: title != null ? title : labelText,\n      content: title && labelText ? \"\".concat(labelText, \": \").concat(content) : content,\n      backgroundColor: color\n    }, {\n      datum,\n      itemId,\n      title,\n      color,\n      seriesId: this.id,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e;\n    const {\n      visible,\n      processedData,\n      dataModel\n    } = this;\n    if (!dataModel || !(processedData == null ? void 0 : processedData.data.length) || legendType !== \"category\") {\n      return [];\n    }\n    const {\n      angleKey,\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    if (!legendItemKey && (!calloutLabelKey || calloutLabelKey === angleKey) && (!sectorLabelKey || sectorLabelKey === angleKey)) {\n      return [];\n    }\n    const {\n      calloutLabelIdx,\n      sectorLabelIdx,\n      legendItemIdx\n    } = this.getProcessedDataIndexes(dataModel);\n    const titleText = ((_a = this.properties.title) == null ? void 0 : _a.showInLegend) && this.properties.title.text;\n    const legendData = [];\n    for (let index = 0; index < processedData.data.length; index++) {\n      const {\n        datum,\n        values\n      } = processedData.data[index];\n      const labelParts = [];\n      if (titleText) {\n        labelParts.push(titleText);\n      }\n      const labels = this.getLabels(datum, 2 * Math.PI, 2 * Math.PI, false, values[calloutLabelIdx], values[sectorLabelIdx], values[legendItemIdx]);\n      if (legendItemKey && labels.legendItem !== void 0) {\n        labelParts.push(labels.legendItem.text);\n      } else if (calloutLabelKey && calloutLabelKey !== angleKey && ((_b = labels.calloutLabel) == null ? void 0 : _b.text) !== void 0) {\n        labelParts.push((_c = labels.calloutLabel) == null ? void 0 : _c.text);\n      } else if (sectorLabelKey && sectorLabelKey !== angleKey && ((_d = labels.sectorLabel) == null ? void 0 : _d.text) !== void 0) {\n        labelParts.push((_e = labels.sectorLabel) == null ? void 0 : _e.text);\n      }\n      if (labelParts.length === 0) continue;\n      const sectorFormat = this.getSectorFormat(datum, index, false);\n      legendData.push({\n        legendType: \"category\",\n        id: this.id,\n        itemId: index,\n        seriesId: this.id,\n        enabled: visible && this.seriesItemEnabled[index],\n        label: {\n          text: labelParts.join(\" - \")\n        },\n        marker: {\n          fill: sectorFormat.fill,\n          stroke: sectorFormat.stroke,\n          fillOpacity: this.properties.fillOpacity,\n          strokeOpacity: this.properties.strokeOpacity,\n          strokeWidth: this.properties.strokeWidth\n        },\n        legendItemName: legendItemKey != null ? datum[legendItemKey] : void 0\n      });\n    }\n    return legendData;\n  }\n  onLegendItemClick(event) {\n    const {\n      enabled,\n      itemId,\n      series,\n      legendItemName\n    } = event;\n    if (series.id === this.id) {\n      this.toggleSeriesItem(itemId, enabled);\n    } else if (legendItemName != null) {\n      this.toggleOtherSeriesItems(legendItemName, enabled);\n    }\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.nodeDataRefresh = true;\n  }\n  toggleOtherSeriesItems(legendItemName, enabled) {\n    var _a;\n    if (!this.properties.legendItemKey || !this.dataModel) {\n      return;\n    }\n    const legendItemIdx = this.dataModel.resolveProcessedDataIndexById(this, \"legendItemValue\");\n    (_a = this.processedData) == null ? void 0 : _a.data.forEach((_ref112, datumItemId) => {\n      let {\n        values\n      } = _ref112;\n      if (values[legendItemIdx] === legendItemName) {\n        this.toggleSeriesItem(datumItemId, enabled);\n      }\n    });\n  }\n  animateEmptyUpdateReady(_data) {\n    const {\n      animationManager\n    } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(true, this.properties.rotation, this.radiusScale, this.previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [this.itemSelection, this.highlightSelection], fns.nodes);\n    fromToMotion(this.id, \"innerCircle\", animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateWaitingUpdateReady() {\n    var _a, _b, _c, _d, _e, _f;\n    const {\n      itemSelection,\n      highlightSelection,\n      processedData,\n      radiusScale,\n      previousRadiusScale\n    } = this;\n    const {\n      animationManager\n    } = this.ctx;\n    const dataDiff = (_a = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _a.diff;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const supportedDiff = ((_b = dataDiff == null ? void 0 : dataDiff.moved.size) != null ? _b : 0) === 0;\n    const hasKeys = ((_c = processedData == null ? void 0 : processedData.defs.keys.length) != null ? _c : 0) > 0;\n    const hasUniqueKeys = (_f = (_e = (_d = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _d.animationValidation) == null ? void 0 : _e.uniqueKeys) != null ? _f : true;\n    if (!supportedDiff || !hasKeys || !hasUniqueKeys) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n    const fns = preparePieSeriesAnimationFunctions(false, this.properties.rotation, radiusScale, previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes, (_, datum) => this.getDatumId(datum), dataDiff);\n    fromToMotion(this.id, \"innerCircle\", animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateClearingUpdateEmpty() {\n    const {\n      itemSelection,\n      highlightSelection,\n      radiusScale,\n      previousRadiusScale\n    } = this;\n    const {\n      animationManager\n    } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(false, this.properties.rotation, radiusScale, previousRadiusScale);\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes);\n    fromToMotion(this.id, \"innerCircle\", animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeOutAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  getDatumIdFromData(datum) {\n    var _a, _b, _c;\n    const {\n      calloutLabelKey,\n      sectorLabelKey,\n      legendItemKey\n    } = this.properties;\n    if (!((_c = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation) == null ? void 0 : _c.uniqueKeys)) {\n      return;\n    }\n    if (legendItemKey) {\n      return datum[legendItemKey];\n    } else if (calloutLabelKey) {\n      return datum[calloutLabelKey];\n    } else if (sectorLabelKey) {\n      return datum[sectorLabelKey];\n    }\n  }\n  getDatumId(datum) {\n    const {\n      index\n    } = datum;\n    const datumId = this.getDatumIdFromData(datum.datum);\n    return datumId != null ? String(datumId) : \"\".concat(index);\n  }\n  onDataChange() {\n    var _a;\n    const {\n      data,\n      seriesItemEnabled\n    } = this;\n    this.seriesItemEnabled = (_a = data == null ? void 0 : data.map((_, index) => {\n      var _a2;\n      return (_a2 = seriesItemEnabled[index]) != null ? _a2 : true;\n    })) != null ? _a : [];\n  }\n  computeFocusBounds(opts) {\n    return computeSectorFocusBounds(this, opts);\n  }\n};\nPieSeries.className = \"PieSeries\";\nPieSeries.type = \"pie\";\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeriesModule.ts\nvar PieSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"polar\"],\n  identifier: \"pie\",\n  instanceConstructor: PieSeries,\n  themeTemplate: pieTheme,\n  paletteFactory: piePaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarTypes.ts\nvar TOOLBAR_ALIGNMENTS = [\"start\", \"center\", \"end\"];\nvar TOOLBAR_GROUPS = [\"annotations\", \"ranges\", \"zoom\"];\nvar ToolbarPosition = /* @__PURE__ */(ToolbarPosition2 => {\n  ToolbarPosition2[\"Top\"] = \"top\";\n  ToolbarPosition2[\"Right\"] = \"right\";\n  ToolbarPosition2[\"Bottom\"] = \"bottom\";\n  ToolbarPosition2[\"Left\"] = \"left\";\n  ToolbarPosition2[\"FloatingTop\"] = \"floating-top\";\n  ToolbarPosition2[\"FloatingBottom\"] = \"floating-bottom\";\n  return ToolbarPosition2;\n})(ToolbarPosition || {});\nvar TOOLBAR_POSITIONS = Object.values(ToolbarPosition);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarProperties.ts\nvar ToolbarGroupProperties = class extends BaseProperties {\n  constructor(onChange, onButtonsChange) {\n    super();\n    this.onChange = onChange;\n    this.onButtonsChange = onButtonsChange;\n    this.align = \"start\";\n    this.position = \"top\" /* Top */;\n  }\n};\n__decorateClass([ObserveChanges(target => {\n  target.onChange(target.enabled);\n}), Validate(BOOLEAN)], ToolbarGroupProperties.prototype, \"enabled\", 2);\n__decorateClass([ObserveChanges(target => {\n  target.onChange(target.enabled);\n}), Validate(UNION([\"start\", \"center\", \"end\"]), {\n  optional: true\n})], ToolbarGroupProperties.prototype, \"align\", 2);\n__decorateClass([ObserveChanges(target => {\n  target.onChange(target.enabled);\n}), Validate(UNION([\"top\", \"right\", \"bottom\", \"left\", \"floating-top\", \"floating-bottom\"]), {\n  optional: true\n})], ToolbarGroupProperties.prototype, \"position\", 2);\n__decorateClass([ObserveChanges(target => {\n  target.onButtonsChange(target.buttons);\n}), Validate(ARRAY, {\n  optional: true\n})], ToolbarGroupProperties.prototype, \"buttons\", 2);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarStyles.ts\nvar block2 = \"ag-charts-toolbar\";\nvar elements2 = {\n  align: \"\".concat(block2, \"__align\"),\n  button: \"\".concat(block2, \"__button\"),\n  icon: \"\".concat(block2, \"__icon\"),\n  label: \"\".concat(block2, \"__label\")\n};\nvar modifiers2 = {\n  [\"top\" /* Top */]: \"\".concat(block2, \"--top\"),\n  [\"right\" /* Right */]: \"\".concat(block2, \"--right\"),\n  [\"bottom\" /* Bottom */]: \"\".concat(block2, \"--bottom\"),\n  [\"left\" /* Left */]: \"\".concat(block2, \"--left\"),\n  [\"floating-top\" /* FloatingTop */]: \"\".concat(block2, \"--floating-top\"),\n  [\"floating-bottom\" /* FloatingBottom */]: \"\".concat(block2, \"--floating-bottom\"),\n  hidden: \"\".concat(block2, \"--hidden\"),\n  preventFlash: \"\".concat(block2, \"--prevent-flash\"),\n  floatingHidden: \"\".concat(block2, \"--floating-hidden\"),\n  align: {\n    start: \"\".concat(elements2.align, \"--start\"),\n    center: \"\".concat(elements2.align, \"--center\"),\n    end: \"\".concat(elements2.align, \"--end\")\n  },\n  button: {\n    hidden: \"\".concat(elements2.button, \"--hidden\")\n  }\n};\nvar css2 = \"\\n.\".concat(block2, \" {\\n    align-items: center;\\n    background: var(--ag-charts-toolbar-background-color);\\n    border-bottom: var(--ag-charts-toolbar-border-critical);\\n    border-top: var(--ag-charts-toolbar-border-critical);\\n    border-left: var(--ag-charts-toolbar-border);\\n    border-right: var(--ag-charts-toolbar-border);\\n    display: flex;\\n    flex-wrap: nowrap;\\n    opacity: 1;\\n    position: absolute;\\n    transform: translateY(0);\\n    transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;\\n}\\n\\n.\").concat(modifiers2.hidden, \",\\n.\").concat(modifiers2.preventFlash, \" {\\n    visibility: hidden;\\n}\\n\\n.\").concat(modifiers2.floatingHidden, \" {\\n    opacity: 0;\\n    transition: opacity 0.4s ease-in-out;\\n}\\n\\n.\").concat(modifiers2[\"top\" /* Top */], \",\\n.\").concat(modifiers2[\"bottom\" /* Bottom */], \" {\\n    flex-direction: row;\\n    height: var(--ag-charts-toolbar-size);\\n    padding: 0 var(--ag-charts-toolbar-padding);\\n    width: 100%;\\n}\\n\\n.\").concat(modifiers2[\"left\" /* Left */], \",\\n.\").concat(modifiers2[\"right\" /* Right */], \" {\\n    flex-direction: column;\\n    padding: var(--ag-charts-toolbar-padding) 0;\\n    width: var(--ag-charts-toolbar-size);\\n}\\n\\n.\").concat(modifiers2[\"floating-top\" /* FloatingTop */], \",\\n.\").concat(modifiers2[\"floating-bottom\" /* FloatingBottom */], \" {\\n    background: none;\\n    border: none;\\n    flex-direction: row;\\n    height: var(--ag-charts-toolbar-size);\\n    overflow: hidden;\\n    padding: 0 var(--ag-charts-toolbar-padding);\\n    pointer-events: none;\\n    width: 100%;\\n}\\n\\n.\").concat(elements2.align, \" {\\n    display: flex;\\n    flex-direction: inherit;\\n    flex-wrap: inherit;\\n    max-width: 100%;\\n}\\n\\n.\").concat(modifiers2.align.center, \",\\n.\").concat(modifiers2.align.end, \" {\\n    margin-left: auto;\\n}\\n\\n.\").concat(modifiers2[\"left\" /* Left */], \" .\").concat(modifiers2.align.center, \",\\n.\").concat(modifiers2[\"left\" /* Left */], \" .\").concat(modifiers2.align.end, \",\\n.\").concat(modifiers2[\"right\" /* Right */], \" .\").concat(modifiers2.align.center, \",\\n.\").concat(modifiers2[\"right\" /* Right */], \" .\").concat(modifiers2.align.end, \" {\\n    margin-left: 0;\\n    margin-top: auto;\\n}\\n\\n.\").concat(modifiers2[\"floating-top\" /* FloatingTop */], \" .\").concat(elements2.align, \",\\n.\").concat(modifiers2[\"floating-bottom\" /* FloatingBottom */], \" .\").concat(elements2.align, \" {\\n    gap: var(--ag-charts-toolbar-gap);\\n    transition: transform 0.4s ease-in-out;\\n}\\n\\n.\").concat(elements2.button, \" {\\n    align-items: center;\\n    border-radius: var(--ag-charts-button-radius);\\n    color: var(--ag-charts-toolbar-foreground-color);\\n    display: flex;\\n    font-size: 14px;\\n    font-weight: 500;\\n    justify-content: center;\\n    margin: 0;\\n    padding: var(--ag-charts-button-padding);\\n    pointer-events: all;\\n    transition: background-color .25s ease-in-out;\\n}\\n\\n.\").concat(modifiers2[\"left\" /* Left */], \" .\").concat(elements2.button, \",\\n.\").concat(modifiers2[\"right\" /* Right */], \" .\").concat(elements2.button, \" {\\n    height: var(--ag-charts-toolbar-size);\\n    max-width: 100%;\\n    overflow: hidden;\\n}\\n\\n.\").concat(modifiers2[\"floating-top\" /* FloatingTop */], \" .\").concat(elements2.button, \",\\n.\").concat(modifiers2[\"floating-bottom\" /* FloatingBottom */], \" .\").concat(elements2.button, \" {\\n    background: var(--ag-charts-toolbar-background-color);\\n    border: var(--ag-charts-toolbar-border-critical);\\n}\\n\\n.\").concat(modifiers2.button.hidden, \" {\\n    display: none;\\n}\\n\\n.\").concat(elements2.button, \":hover {\\n    background: var(--ag-charts-toolbar-hover-color);\\n}\\n\\n.\").concat(elements2.button, \":disabled {\\n    background: var(--ag-charts-toolbar-disabled-background-color);\\n    color: var(--ag-charts-toolbar-disabled-foreground-color);\\n}\\n\\n.\").concat(elements2.button, \":not([disabled]) {\\n    cursor: pointer;\\n}\\n\\n.\").concat(elements2.icon, \" {\\n    height: 1.2em;\\n    width: 1.2em;\\n}\\n\\n.\").concat(elements2.icon, \" + .\").concat(elements2.label, \" {\\n    margin-left: var(--ag-charts-size);\\n}\\n\\n.\").concat(elements2.icon, \",\\n.\").concat(elements2.label, \" {\\n    pointer-events: none;\\n}\\n\\n\");\n\n// packages/ag-charts-community/src/chart/toolbar/toolbar.ts\nvar Toolbar = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.enabled = true;\n    this.annotations = new ToolbarGroupProperties(this.onGroupChanged.bind(this, \"annotations\"), this.onGroupButtonsChanged.bind(this, \"annotations\"));\n    this.ranges = new ToolbarGroupProperties(this.onGroupChanged.bind(this, \"ranges\"), this.onGroupButtonsChanged.bind(this, \"ranges\"));\n    this.zoom = new ToolbarGroupProperties(this.onGroupChanged.bind(this, \"zoom\"), this.onGroupButtonsChanged.bind(this, \"zoom\"));\n    this.margin = 10;\n    this.floatingDetectionRange = 28;\n    this.positions = {\n      [\"top\" /* Top */]: /* @__PURE__ */new Set(),\n      [\"right\" /* Right */]: /* @__PURE__ */new Set(),\n      [\"bottom\" /* Bottom */]: /* @__PURE__ */new Set(),\n      [\"left\" /* Left */]: /* @__PURE__ */new Set(),\n      [\"floating-top\" /* FloatingTop */]: /* @__PURE__ */new Set(),\n      [\"floating-bottom\" /* FloatingBottom */]: /* @__PURE__ */new Set()\n    };\n    this.positionAlignments = {\n      [\"top\" /* Top */]: {},\n      [\"right\" /* Right */]: {},\n      [\"bottom\" /* Bottom */]: {},\n      [\"left\" /* Left */]: {},\n      [\"floating-top\" /* FloatingTop */]: {},\n      [\"floating-bottom\" /* FloatingBottom */]: {}\n    };\n    this.groupCallers = {\n      annotations: 0,\n      ranges: 0,\n      zoom: 0\n    };\n    this.groupButtons = {\n      annotations: [],\n      ranges: [],\n      zoom: []\n    };\n    this.pendingButtonToggledEvents = [];\n    this.groupProxied = /* @__PURE__ */new Set();\n    this.container = ctx.toolbarManager.element;\n    this.elements = {\n      [\"top\" /* Top */]: this.container.appendChild(createElement(\"div\")),\n      [\"right\" /* Right */]: this.container.appendChild(createElement(\"div\")),\n      [\"bottom\" /* Bottom */]: this.container.appendChild(createElement(\"div\")),\n      [\"left\" /* Left */]: this.container.appendChild(createElement(\"div\")),\n      [\"floating-top\" /* FloatingTop */]: this.container.appendChild(createElement(\"div\")),\n      [\"floating-bottom\" /* FloatingBottom */]: this.container.appendChild(createElement(\"div\"))\n    };\n    injectStyle(css2, block2);\n    this.renderToolbar(\"top\" /* Top */);\n    this.renderToolbar(\"right\" /* Right */);\n    this.renderToolbar(\"bottom\" /* Bottom */);\n    this.renderToolbar(\"left\" /* Left */);\n    this.renderToolbar(\"floating-top\" /* FloatingTop */);\n    this.renderToolbar(\"floating-bottom\" /* FloatingBottom */);\n    this.toggleVisibilities();\n    this.destroyFns.push(ctx.interactionManager.addListener(\"hover\", this.onHover.bind(this), 31 /* All */), ctx.interactionManager.addListener(\"leave\", this.onLeave.bind(this), 31 /* All */), ctx.toolbarManager.addListener(\"button-toggled\", this.onButtonToggled.bind(this)), ctx.toolbarManager.addListener(\"group-toggled\", this.onGroupToggled.bind(this)), ctx.toolbarManager.addListener(\"proxy-group-options\", this.onProxyGroupOptions.bind(this)), ctx.layoutService.addListener(\"layout-complete\", this.onLayoutComplete.bind(this)), () => this.destroyElements());\n  }\n  destroyElements() {\n    for (const element2 of Object.values(this.elements)) {\n      element2.remove();\n    }\n  }\n  onHover(event) {\n    const {\n      enabled,\n      elements: elements3,\n      floatingDetectionRange,\n      ctx: {\n        scene\n      }\n    } = this;\n    const {\n      offsetY,\n      sourceEvent: {\n        target\n      }\n    } = event;\n    const {\n      FloatingBottom,\n      FloatingTop\n    } = ToolbarPosition;\n    if (!enabled) return;\n    const bottom = elements3[FloatingBottom];\n    const top = elements3[FloatingTop];\n    const bottomDetectionY = bottom.offsetTop - floatingDetectionRange;\n    const bottomVisible = offsetY > bottomDetectionY && offsetY < scene.canvas.element.offsetHeight || target === bottom;\n    const topDetectionY = top.offsetTop + top.offsetHeight + floatingDetectionRange;\n    const topVisible = offsetY > 0 && offsetY < topDetectionY || target === top;\n    bottom.classList.toggle(modifiers2.floatingHidden, !bottomVisible);\n    top.classList.toggle(modifiers2.floatingHidden, !topVisible);\n    this.translateFloatingElements(FloatingBottom, bottomVisible);\n    this.translateFloatingElements(FloatingTop, topVisible);\n  }\n  onLeave(event) {\n    const {\n      enabled,\n      elements: elements3,\n      ctx: {\n        scene\n      }\n    } = this;\n    const {\n      relatedTarget,\n      target\n    } = event.sourceEvent;\n    const {\n      FloatingBottom,\n      FloatingTop\n    } = ToolbarPosition;\n    if (!enabled || target !== scene.canvas.element) return;\n    const isTargetButton = TOOLBAR_GROUPS.some(group2 => this.groupButtons[group2].some(button => button === relatedTarget));\n    if (isTargetButton) return;\n    elements3[FloatingBottom].classList.add(modifiers2.floatingHidden);\n    elements3[FloatingTop].classList.add(modifiers2.floatingHidden);\n    this.translateFloatingElements(FloatingBottom, false);\n    this.translateFloatingElements(FloatingTop, false);\n  }\n  onGroupChanged(group2) {\n    if (this[group2] == null || this.groupProxied.has(group2)) return;\n    this.createGroup(group2);\n    this.toggleVisibilities();\n  }\n  onGroupButtonsChanged(group2, buttons) {\n    if (!this.enabled || this.groupProxied.has(group2)) return;\n    this.createGroupButtons(group2, buttons);\n    this.toggleVisibilities();\n  }\n  onLayoutComplete() {\n    for (const position of TOOLBAR_POSITIONS) {\n      this.elements[position].classList.remove(modifiers2.preventFlash);\n    }\n  }\n  onButtonToggled(event) {\n    const {\n      group: group2,\n      value,\n      enabled\n    } = event;\n    if (this.groupButtons[group2].length === 0) {\n      this.pendingButtonToggledEvents.push(event);\n      return;\n    }\n    for (const button of this.groupButtons[group2]) {\n      if (button.dataset.toolbarValue !== \"\".concat(value)) continue;\n      button.disabled = !enabled;\n    }\n  }\n  onGroupToggled(event) {\n    const {\n      group: group2,\n      visible\n    } = event;\n    this.toggleGroup(group2, visible);\n    this.toggleVisibilities();\n  }\n  onProxyGroupOptions(event) {\n    const {\n      group: group2,\n      options\n    } = event;\n    this.groupProxied.add(group2);\n    this.createGroup(group2, options.enabled, options.position);\n    this.createGroupButtons(group2, options.buttons);\n    this.toggleGroup(group2, options.enabled);\n    this[group2].set(options);\n  }\n  createGroup(group2, enabled, position) {\n    enabled != null ? enabled : enabled = this[group2].enabled;\n    position != null ? position : position = this[group2].position;\n    for (const pos of TOOLBAR_POSITIONS) {\n      if (enabled && position === pos) {\n        this.positions[pos].add(group2);\n      } else {\n        this.positions[pos].delete(group2);\n      }\n    }\n  }\n  createGroupButtons(group2, buttons) {\n    var _a, _b;\n    for (const button of this.groupButtons[group2]) {\n      button.remove();\n    }\n    this.groupButtons[group2] = [];\n    const align = (_a = this[group2].align) != null ? _a : \"start\";\n    const position = (_b = this[group2].position) != null ? _b : \"top\";\n    const parent = this.positionAlignments[position][align];\n    for (const options of buttons != null ? buttons : []) {\n      const button = this.createButtonElement(group2, options);\n      parent == null ? void 0 : parent.appendChild(button);\n      this.groupButtons[group2].push(button);\n    }\n  }\n  toggleGroup(group2, enabled) {\n    if (enabled) {\n      this.groupCallers[group2] += 1;\n    } else {\n      this.groupCallers[group2] = Math.max(0, this.groupCallers[group2] - 1);\n    }\n  }\n  processPendingEvents() {\n    var _a;\n    const pendingButtonToggledEvents = ((_a = this.pendingButtonToggledEvents) != null ? _a : []).slice();\n    for (const event of pendingButtonToggledEvents) {\n      this.onButtonToggled(event);\n    }\n    this.pendingButtonToggledEvents = [];\n  }\n  performLayout(_0) {\n    return __async(this, arguments, function (_ref113) {\n      var _this8 = this;\n      let {\n        shrinkRect\n      } = _ref113;\n      return function* () {\n        const {\n          elements: elements3,\n          margin\n        } = _this8;\n        if (!elements3.top.classList.contains(modifiers2.hidden)) {\n          shrinkRect.shrink(elements3.top.offsetHeight + margin * 2, \"top\");\n        }\n        if (!elements3.right.classList.contains(modifiers2.hidden)) {\n          shrinkRect.shrink(elements3.right.offsetWidth + margin, \"right\");\n        }\n        if (!elements3.bottom.classList.contains(modifiers2.hidden)) {\n          shrinkRect.shrink(elements3.bottom.offsetHeight + margin * 2, \"bottom\");\n        }\n        if (!elements3.left.classList.contains(modifiers2.hidden)) {\n          shrinkRect.shrink(elements3.left.offsetWidth + margin, \"left\");\n        }\n        return {\n          shrinkRect\n        };\n      }();\n    });\n  }\n  performCartesianLayout(opts) {\n    return __async(this, null, function* () {\n      const {\n        elements: elements3,\n        margin\n      } = this;\n      const {\n        seriesRect\n      } = opts;\n      const {\n        FloatingBottom,\n        FloatingTop\n      } = ToolbarPosition;\n      elements3.top.style.top = \"\".concat(seriesRect.y - elements3.top.offsetHeight - margin * 2, \"px\");\n      elements3.top.style.left = \"\".concat(margin, \"px\");\n      elements3.top.style.width = \"calc(100% - \".concat(margin * 2, \"px)\");\n      elements3.right.style.top = \"\".concat(seriesRect.y + margin, \"px\");\n      elements3.right.style.right = \"\".concat(margin, \"px\");\n      elements3.right.style.height = \"calc(100% - \".concat(seriesRect.y + margin * 2, \"px)\");\n      elements3.bottom.style.bottom = \"\".concat(margin, \"px\");\n      elements3.bottom.style.left = \"\".concat(margin, \"px\");\n      elements3.bottom.style.width = \"calc(100% - \".concat(margin * 2, \"px)\");\n      elements3.left.style.top = \"\".concat(seriesRect.y, \"px\");\n      elements3.left.style.left = \"\".concat(margin, \"px\");\n      elements3.left.style.height = \"calc(100% - \".concat(seriesRect.y + margin * 2, \"px)\");\n      elements3[FloatingTop].style.top = \"\".concat(seriesRect.y, \"px\");\n      elements3[FloatingTop].style.paddingTop = \"\".concat(margin, \"px\");\n      elements3[FloatingBottom].style.top = \"\".concat(seriesRect.y + seriesRect.height - elements3[FloatingBottom].offsetHeight, \"px\");\n      elements3[FloatingBottom].style.paddingBottom = \"\".concat(margin, \"px\");\n    });\n  }\n  toggleVisibilities() {\n    var _a;\n    if (this.elements == null) return;\n    const isGroupVisible = group2 => this[group2].enabled && this.groupCallers[group2] > 0;\n    const isButtonVisible = element2 => button => typeof button.value !== \"string\" && typeof button.value !== \"number\" || \"\".concat(button.value) === element2.dataset.toolbarValue;\n    for (const position of TOOLBAR_POSITIONS) {\n      const visible = this.enabled && Array.from(this.positions[position].values()).some(isGroupVisible);\n      this.elements[position].classList.toggle(modifiers2.hidden, !visible);\n    }\n    for (const group2 of TOOLBAR_GROUPS) {\n      if (this[group2] == null) continue;\n      const visible = isGroupVisible(group2);\n      for (const button of this.groupButtons[group2]) {\n        const buttonVisible = visible && ((_a = this[group2].buttons) == null ? void 0 : _a.some(isButtonVisible(button)));\n        button.classList.toggle(modifiers2.button.hidden, !buttonVisible);\n      }\n    }\n  }\n  translateFloatingElements(position, visible) {\n    const {\n      elements: elements3,\n      margin,\n      positionAlignments\n    } = this;\n    const element2 = elements3[position];\n    const alignments = Object.values(positionAlignments[position]);\n    for (const align of alignments) {\n      align.style.transform = visible && align.style.transform !== \"\" ? \"translateY(0)\" : \"translateY(\".concat(element2.offsetHeight + margin, \"px)\");\n    }\n  }\n  renderToolbar() {\n    let position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"top\";\n    const element2 = this.elements[position];\n    element2.classList.add(block2, modifiers2[position], modifiers2.preventFlash);\n    if (position === \"floating-top\" /* FloatingTop */ || position === \"floating-bottom\" /* FloatingBottom */) {\n      element2.classList.add(modifiers2.floatingHidden);\n    }\n    for (const align of TOOLBAR_ALIGNMENTS) {\n      const alignmentElement = createElement(\"div\");\n      alignmentElement.classList.add(elements2.align, modifiers2.align[align]);\n      element2.appendChild(alignmentElement);\n      this.positionAlignments[position][align] = alignmentElement;\n    }\n  }\n  createButtonElement(group2, options) {\n    const button = createElement(\"button\");\n    button.classList.add(elements2.button);\n    button.dataset.toolbarGroup = group2;\n    button.tabIndex = -1;\n    if (typeof options.value === \"string\" || typeof options.value === \"number\") {\n      button.dataset.toolbarValue = \"\".concat(options.value);\n    }\n    if (options.tooltip) {\n      button.title = options.tooltip;\n    }\n    let inner = \"\";\n    if (options.icon != null) {\n      inner = \"<span class=\\\"ag-charts-icon-\".concat(options.icon, \" \").concat(elements2.icon, \"\\\"></span>\");\n    }\n    if (options.label != null) {\n      inner = \"\".concat(inner, \"<span class=\\\"\").concat(elements2.label, \"\\\">\").concat(options.label, \"</span>\");\n    }\n    button.innerHTML = inner;\n    button.onclick = this.onButtonPress.bind(this, group2, options.value);\n    this.destroyFns.push(() => button.remove());\n    return button;\n  }\n  onButtonPress(group2, value) {\n    this.ctx.toolbarManager.pressButton(group2, value);\n  }\n};\n__decorateClass([ObserveChanges(target => {\n  target.processPendingEvents();\n  target.toggleVisibilities();\n}), Validate(BOOLEAN)], Toolbar.prototype, \"enabled\", 2);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarModule.ts\nvar DAY = 1e3 * 60 * 60 * 24;\nvar MONTH = DAY * 30;\nvar YEAR = DAY * 365;\nvar annotations = {\n  enabled: false,\n  position: \"left\",\n  align: \"start\",\n  buttons: [{\n    label: \"Li\",\n    value: \"line\"\n  }, {\n    label: \"PCh\",\n    value: \"parallel-channel\"\n  }]\n};\nvar ranges = {\n  enabled: false,\n  position: \"top\",\n  align: \"start\",\n  buttons: [{\n    label: \"1m\",\n    value: MONTH\n  }, {\n    label: \"3m\",\n    value: 3 * MONTH\n  }, {\n    label: \"6m\",\n    value: 6 * MONTH\n  }, {\n    label: \"YTD\",\n    value: (_start, end) => [( /* @__PURE__ */new Date(\"\".concat(new Date(end).getFullYear(), \"-01-01\"))).getTime(), end]\n  }, {\n    label: \"1y\",\n    value: YEAR\n  }, {\n    label: \"All\",\n    value: (start, end) => [start, end]\n  }]\n};\nvar zoom = {\n  enabled: false,\n  position: \"top\",\n  align: \"end\",\n  buttons: [{\n    icon: \"zoom-out\",\n    tooltip: \"Zoom out\",\n    value: \"zoom-out\"\n  }, {\n    icon: \"zoom-in\",\n    tooltip: \"Zoom in\",\n    value: \"zoom-in\"\n  }, {\n    icon: \"pan-left\",\n    tooltip: \"Pan left\",\n    value: \"pan-left\"\n  }, {\n    icon: \"pan-right\",\n    tooltip: \"Pan right\",\n    value: \"pan-right\"\n  }, {\n    icon: \"pan-start\",\n    tooltip: \"Pan to the start\",\n    value: \"pan-start\"\n  }, {\n    icon: \"pan-end\",\n    tooltip: \"Pan to the end\",\n    value: \"pan-end\"\n  }, {\n    icon: \"reset\",\n    tooltip: \"Reset the zoom\",\n    value: \"reset\"\n  }]\n};\nvar ToolbarModule = {\n  type: \"root\",\n  optionsKey: \"toolbar\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  instanceConstructor: Toolbar,\n  themeTemplate: {\n    toolbar: {\n      enabled: true,\n      annotations,\n      ranges,\n      zoom\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/factory/registerInbuiltModules.ts\nfunction registerInbuiltModules() {\n  moduleRegistry.register(BackgroundModule, CommunityLegendModule, NavigatorModule, ToolbarModule, AreaSeriesModule, BarSeriesModule, BubbleSeriesModule, LineSeriesModule, ScatterSeriesModule, DonutSeriesModule, PieSeriesModule, HistogramSeriesModule);\n  for (const AxisConstructor of [NumberAxis, CategoryAxis, TimeAxis, GroupedCategoryAxis, LogAxis]) {\n    axisRegistry.register(AxisConstructor.type, {\n      instanceConstructor: AxisConstructor,\n      hidden: AxisConstructor === GroupedCategoryAxis\n    });\n  }\n}\n\n// packages/ag-charts-community/src/chart/factory/setupModules.ts\nfunction setupModules() {\n  for (const m of moduleRegistry.modules) {\n    if (m.packageType === \"enterprise\" && !verifyIfModuleExpected(m)) {\n      Logger.errorOnce(\"Unexpected enterprise module registered: \" + m.identifier);\n    }\n    if (m.type === \"root\" && m.themeTemplate) {\n      for (const chartType2 of m.chartTypes) {\n        chartDefaults.set(chartType2, m.themeTemplate);\n      }\n    }\n    if (m.type === \"series\") {\n      if (m.chartTypes.length > 1) {\n        throw new Error(\"AG Charts - Module definition error: \".concat(m.identifier));\n      }\n      seriesRegistry.register(m.identifier, m);\n    }\n    if (m.type === \"series-option\" && m.themeTemplate) {\n      for (const seriesType of m.seriesTypes) {\n        seriesRegistry.setThemeTemplate(seriesType, m.themeTemplate);\n      }\n    }\n    if (m.type === \"axis-option\" && m.themeTemplate) {\n      for (const axisType of m.axisTypes) {\n        const axisTypeTheme = m.themeTemplate[axisType];\n        const theme = __spreadValues(__spreadValues({}, m.themeTemplate), axisTypeTheme);\n        for (const innerAxisType of m.axisTypes) {\n          delete theme[innerAxisType];\n        }\n        axisRegistry.setThemeTemplate(axisType, theme);\n      }\n    }\n    if (m.type === \"axis\") {\n      axisRegistry.register(m.identifier, m);\n    }\n    if (m.type === \"legend\") {\n      legendRegistry.register(m.identifier, m);\n    }\n  }\n  if (moduleRegistry.hasEnterpriseModules()) {\n    const expectedButUnused = getUnusedExpectedModules();\n    if (expectedButUnused.length > 0) {\n      Logger.errorOnce(\"Enterprise modules expected but not registered: \", expectedButUnused);\n    }\n  }\n}\n\n// packages/ag-charts-community/src/chart/hierarchyChart.ts\nvar _HierarchyChart = class _HierarchyChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_HierarchyChart.prototype, this, \"performLayout\").call(this);\n      const {\n        seriesArea: {\n          padding\n        },\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const fullSeriesRect = shrinkRect.clone();\n      shrinkRect.shrink(padding.left, \"left\");\n      shrinkRect.shrink(padding.top, \"top\");\n      shrinkRect.shrink(padding.right, \"right\");\n      shrinkRect.shrink(padding.bottom, \"bottom\");\n      this.seriesRect = shrinkRect;\n      this.animationRect = shrinkRect;\n      this.hoverRect = shrinkRect;\n      for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n        group2.translationX = Math.floor(shrinkRect.x);\n        group2.translationY = Math.floor(shrinkRect.y);\n      }\n      yield Promise.all(this.series.map(series => __async(this, null, function* () {\n        yield series.update({\n          seriesRect: shrinkRect\n        });\n      })));\n      seriesRoot.visible = this.series[0].visible;\n      seriesRoot.setClipRectInGroupCoordinateSpace(new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height));\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: {\n          width: this.ctx.scene.width,\n          height: this.ctx.scene.height\n        },\n        clipSeries: false,\n        series: {\n          rect: fullSeriesRect,\n          paddedRect: shrinkRect,\n          visible: true\n        },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n};\n_HierarchyChart.className = \"HierarchyChart\";\n_HierarchyChart.type = \"hierarchy\";\nvar HierarchyChart = _HierarchyChart;\n\n// packages/ag-charts-community/src/chart/axis/polarAxis.ts\nvar PolarAxis = class extends Axis {\n  constructor() {\n    super(...arguments);\n    this.shape = \"polygon\";\n    this.innerRadiusRatio = 0;\n    this.defaultTickMinSpacing = 20;\n  }\n  computeLabelsBBox(_options, _seriesRect) {\n    return null;\n  }\n};\n__decorateClass([Validate(UNION([\"polygon\", \"circle\"], \"a polar axis shape\"))], PolarAxis.prototype, \"shape\", 2);\n__decorateClass([Validate(RATIO)], PolarAxis.prototype, \"innerRadiusRatio\", 2);\n\n// packages/ag-charts-community/src/chart/polarChart.ts\nvar _PolarChart = class _PolarChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.padding = new Padding(40);\n    this.axisGroup.zIndex = 6 /* AXIS_FOREGROUND_ZINDEX */;\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_PolarChart.prototype, this, \"performLayout\").call(this);\n      const fullSeriesRect = shrinkRect.clone();\n      this.computeSeriesRect(shrinkRect);\n      yield this.computeCircle(shrinkRect);\n      this.axes.forEach(axis => axis.update());\n      this.hoverRect = shrinkRect;\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: {\n          width: this.ctx.scene.width,\n          height: this.ctx.scene.height\n        },\n        clipSeries: false,\n        series: {\n          rect: fullSeriesRect,\n          paddedRect: shrinkRect,\n          visible: true\n        },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n  updateAxes(cx, cy, radius) {\n    var _a, _b;\n    const angleAxis = this.axes.find(axis => axis.direction === \"x\" /* X */);\n    const radiusAxis = this.axes.find(axis => axis.direction === \"y\" /* Y */);\n    if (!(angleAxis instanceof PolarAxis) || !(radiusAxis instanceof PolarAxis)) {\n      return;\n    }\n    const angleScale = angleAxis.scale;\n    const angles = (_a = angleScale.ticks) == null ? void 0 : _a.call(angleScale).map(value => angleScale.convert(value));\n    const innerRadiusRatio = radiusAxis.innerRadiusRatio;\n    angleAxis.innerRadiusRatio = innerRadiusRatio;\n    (_b = angleAxis.computeRange) == null ? void 0 : _b.call(angleAxis);\n    angleAxis.gridLength = radius;\n    radiusAxis.gridAngles = angles;\n    radiusAxis.gridRange = angleAxis.range;\n    radiusAxis.range = [radius, radius * innerRadiusRatio];\n    [angleAxis, radiusAxis].forEach(axis => {\n      axis.translation.x = cx;\n      axis.translation.y = cy;\n      axis.calculateLayout();\n    });\n  }\n  computeSeriesRect(shrinkRect) {\n    const {\n      seriesArea: {\n        padding\n      }\n    } = this;\n    shrinkRect.shrink(padding.left, \"left\");\n    shrinkRect.shrink(padding.top, \"top\");\n    shrinkRect.shrink(padding.right, \"right\");\n    shrinkRect.shrink(padding.bottom, \"bottom\");\n    this.seriesRect = shrinkRect;\n    this.animationRect = shrinkRect;\n  }\n  computeCircle(seriesBox) {\n    return __async(this, null, function* () {\n      var _this9 = this;\n      const polarSeries = this.series.filter(series => {\n        return series instanceof PolarSeries;\n      });\n      const polarAxes = this.axes.filter(axis => {\n        return axis instanceof PolarAxis;\n      });\n      const setSeriesCircle = (cx, cy, r) => {\n        this.updateAxes(cx, cy, r);\n        polarSeries.forEach(series => {\n          series.centerX = cx;\n          series.centerY = cy;\n          series.radius = r;\n        });\n        const pieSeries = polarSeries.filter(s => {\n          return s instanceof PieSeries || s instanceof DonutSeries;\n        });\n        if (pieSeries.length > 1) {\n          const innerRadii = pieSeries.map(series => {\n            const innerRadius = series.getInnerRadius();\n            return {\n              series,\n              innerRadius\n            };\n          }).sort((a, b) => a.innerRadius - b.innerRadius);\n          innerRadii.at(-1).series.surroundingRadius = void 0;\n          for (let i = 0; i < innerRadii.length - 1; i++) {\n            innerRadii[i].series.surroundingRadius = innerRadii[i + 1].innerRadius;\n          }\n        }\n      };\n      const centerX = seriesBox.x + seriesBox.width / 2;\n      const centerY = seriesBox.y + seriesBox.height / 2;\n      const initialRadius = Math.max(0, Math.min(seriesBox.width, seriesBox.height) / 2);\n      let radius = initialRadius;\n      setSeriesCircle(centerX, centerY, radius);\n      const shake = function () {\n        for (var _len36 = arguments.length, _0 = new Array(_len36), _key36 = 0; _key36 < _len36; _key36++) {\n          _0[_key36] = arguments[_key36];\n        }\n        return __async(_this9, [..._0], function () {\n          var _this10 = this;\n          let {\n            hideWhenNecessary = false\n          } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          return function* () {\n            const labelBoxes = [];\n            for (const series of [...polarAxes, ...polarSeries]) {\n              const box = yield series.computeLabelsBBox({\n                hideWhenNecessary\n              }, seriesBox);\n              if (box) {\n                labelBoxes.push(box);\n              }\n            }\n            if (labelBoxes.length === 0) {\n              setSeriesCircle(centerX, centerY, initialRadius);\n              return;\n            }\n            const labelBox = BBox.merge(labelBoxes);\n            const refined = _this10.refineCircle(labelBox, radius, seriesBox);\n            setSeriesCircle(refined.centerX, refined.centerY, refined.radius);\n            if (refined.radius === radius) {\n              return;\n            }\n            radius = refined.radius;\n          }();\n        });\n      };\n      yield shake();\n      yield shake();\n      yield shake();\n      yield shake({\n        hideWhenNecessary: true\n      });\n      yield shake({\n        hideWhenNecessary: true\n      });\n      return {\n        radius,\n        centerX,\n        centerY\n      };\n    });\n  }\n  refineCircle(labelsBox, radius, seriesBox) {\n    const minCircleRatio = 0.5;\n    const circleLeft = -radius;\n    const circleTop = -radius;\n    const circleRight = radius;\n    const circleBottom = radius;\n    let padLeft = Math.max(0, circleLeft - labelsBox.x);\n    let padTop = Math.max(0, circleTop - labelsBox.y);\n    let padRight = Math.max(0, labelsBox.x + labelsBox.width - circleRight);\n    let padBottom = Math.max(0, labelsBox.y + labelsBox.height - circleBottom);\n    padLeft = padRight = Math.max(padLeft, padRight);\n    padTop = padBottom = Math.max(padTop, padBottom);\n    const availCircleWidth = seriesBox.width - padLeft - padRight;\n    const availCircleHeight = seriesBox.height - padTop - padBottom;\n    let newRadius = Math.min(availCircleWidth, availCircleHeight) / 2;\n    const minHorizontalRadius = minCircleRatio * seriesBox.width / 2;\n    const minVerticalRadius = minCircleRatio * seriesBox.height / 2;\n    const minRadius = Math.min(minHorizontalRadius, minVerticalRadius);\n    if (newRadius < minRadius) {\n      newRadius = minRadius;\n      const horizontalPadding = padLeft + padRight;\n      const verticalPadding = padTop + padBottom;\n      if (2 * newRadius + verticalPadding > seriesBox.height) {\n        const padHeight = seriesBox.height - 2 * newRadius;\n        if (Math.min(padTop, padBottom) * 2 > padHeight) {\n          padTop = padHeight / 2;\n          padBottom = padHeight / 2;\n        } else if (padTop > padBottom) {\n          padTop = padHeight - padBottom;\n        } else {\n          padBottom = padHeight - padTop;\n        }\n      }\n      if (2 * newRadius + horizontalPadding > seriesBox.width) {\n        const padWidth = seriesBox.width - 2 * newRadius;\n        if (Math.min(padLeft, padRight) * 2 > padWidth) {\n          padLeft = padWidth / 2;\n          padRight = padWidth / 2;\n        } else if (padLeft > padRight) {\n          padLeft = padWidth - padRight;\n        } else {\n          padRight = padWidth - padLeft;\n        }\n      }\n    }\n    const newWidth = padLeft + 2 * newRadius + padRight;\n    const newHeight = padTop + 2 * newRadius + padBottom;\n    return {\n      centerX: seriesBox.x + (seriesBox.width - newWidth) / 2 + padLeft + newRadius,\n      centerY: seriesBox.y + (seriesBox.height - newHeight) / 2 + padTop + newRadius,\n      radius: newRadius\n    };\n  }\n};\n_PolarChart.className = \"PolarChart\";\n_PolarChart.type = \"polar\";\nvar PolarChart = _PolarChart;\n\n// packages/ag-charts-community/src/chart/series/topology/mercatorScale.ts\nvar radsInDeg = Math.PI / 180;\nvar lonX = lon => lon * radsInDeg;\nvar latY = lat => -Math.log(Math.tan(Math.PI * 0.25 + lat * radsInDeg * 0.5));\nvar xLon = x => x / radsInDeg;\nvar yLat = y => (Math.atan(Math.exp(-y)) - Math.PI * 0.25) / (radsInDeg * 0.5);\nvar MercatorScale = class _MercatorScale {\n  constructor(domain, range3) {\n    this.domain = domain;\n    this.range = range3;\n    this.type = \"mercator\";\n    this.bounds = _MercatorScale.bounds(domain);\n  }\n  static bounds(domain) {\n    const [[lon0, lat0], [lon1, lat1]] = domain;\n    const x0 = lonX(lon0);\n    const y0 = latY(lat0);\n    const x1 = lonX(lon1);\n    const y1 = latY(lat1);\n    return new BBox(Math.min(x0, x1), Math.min(y0, y1), Math.abs(x1 - x0), Math.abs(y1 - y0));\n  }\n  static fixedScale() {\n    return new _MercatorScale([[xLon(0), yLat(0)], [xLon(1), yLat(1)]], [[0, 0], [1, 1]]);\n  }\n  convert(_ref114) {\n    let [lon, lat] = _ref114;\n    const [[x0, y0], [x1, y1]] = this.range;\n    const xScale = (x1 - x0) / this.bounds.width;\n    const yScale = (y1 - y0) / this.bounds.height;\n    return [(lonX(lon) - this.bounds.x) * xScale + x0, (latY(lat) - this.bounds.y) * yScale + y0];\n  }\n  invert(_ref115) {\n    let [x, y] = _ref115;\n    const [[x0, y0], [x1, y1]] = this.range;\n    const xScale = (x1 - x0) / this.bounds.width;\n    const yScale = (y1 - y0) / this.bounds.height;\n    return [xLon((x - x0) / xScale + this.bounds.x), yLat((y - y0) / yScale + this.bounds.y)];\n  }\n};\n\n// packages/ag-charts-community/src/chart/topologyChart.ts\nfunction isTopologySeries(series) {\n  return series.type === \"map-shape\" || series.type === \"map-line\" || series.type === \"map-marker\" || series.type === \"map-shape-background\" || series.type === \"map-line-background\";\n}\nvar _TopologyChart = class _TopologyChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.xAxis = new NumberAxis(this.getModuleContext());\n    this.xAxis.position = \"bottom\";\n    this.yAxis = new NumberAxis(this.getModuleContext());\n    this.yAxis.position = \"left\";\n    this.ctx.zoomManager.updateAxes([this.xAxis, this.yAxis]);\n  }\n  updateData() {\n    return __async(this, null, function* () {\n      yield __superGet(_TopologyChart.prototype, this, \"updateData\").call(this);\n      const {\n        topology\n      } = this.getOptions();\n      this.series.forEach(series => {\n        if (isTopologySeries(series)) {\n          series.setChartTopology(topology);\n        }\n      });\n    });\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_TopologyChart.prototype, this, \"performLayout\").call(this);\n      const {\n        seriesArea: {\n          padding\n        },\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const fullSeriesRect = shrinkRect.clone();\n      shrinkRect.shrink(padding.left, \"left\");\n      shrinkRect.shrink(padding.top, \"top\");\n      shrinkRect.shrink(padding.right, \"right\");\n      shrinkRect.shrink(padding.bottom, \"bottom\");\n      this.seriesRect = shrinkRect;\n      this.animationRect = shrinkRect;\n      this.hoverRect = shrinkRect;\n      const mapSeries = this.series.filter(isTopologySeries);\n      const combinedBbox = mapSeries.reduce((combined, series) => {\n        if (!series.visible) return combined;\n        const bbox = series.topologyBounds;\n        if (bbox == null) return combined;\n        if (combined == null) return bbox;\n        combined.merge(bbox);\n        return combined;\n      }, void 0);\n      let scale2;\n      if (combinedBbox != null) {\n        const {\n          lon0,\n          lat0,\n          lon1,\n          lat1\n        } = combinedBbox;\n        const domain = [[lon0, lat0], [lon1, lat1]];\n        const bounds = MercatorScale.bounds(domain);\n        const {\n          width,\n          height\n        } = shrinkRect;\n        const viewBoxScale = Math.min(width / bounds.width, height / bounds.height);\n        const viewBoxWidth = bounds.width * viewBoxScale;\n        const viewBoxHeight = bounds.height * viewBoxScale;\n        const viewBoxOriginX = (width - viewBoxWidth) / 2;\n        const viewBoxOriginY = (height - viewBoxHeight) / 2;\n        const x0 = viewBoxOriginX;\n        const y0 = viewBoxOriginY;\n        const x1 = viewBoxOriginX + viewBoxWidth;\n        const y1 = viewBoxOriginY + viewBoxHeight;\n        const xZoom = this.ctx.zoomManager.getAxisZoom(this.xAxis.id);\n        const yZoom = this.ctx.zoomManager.getAxisZoom(this.yAxis.id);\n        const xSpan = (x1 - x0) / (xZoom.max - xZoom.min);\n        const xStart = x0 - xSpan * xZoom.min;\n        const ySpan = (y1 - y0) / (1 - yZoom.min - (1 - yZoom.max));\n        const yStart = y0 - ySpan * (1 - yZoom.max);\n        scale2 = new MercatorScale(domain, [[xStart, yStart], [xStart + xSpan, yStart + ySpan]]);\n      }\n      mapSeries.forEach(series => {\n        series.scale = scale2;\n      });\n      const seriesVisible = this.series.some(s => s.visible);\n      seriesRoot.visible = seriesVisible;\n      for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n        group2.translationX = Math.floor(shrinkRect.x);\n        group2.translationY = Math.floor(shrinkRect.y);\n        group2.setClipRectInGroupCoordinateSpace(new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height));\n      }\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: {\n          width: this.ctx.scene.width,\n          height: this.ctx.scene.height\n        },\n        clipSeries: false,\n        series: {\n          rect: fullSeriesRect,\n          paddedRect: shrinkRect,\n          visible: seriesVisible\n        },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n};\n_TopologyChart.className = \"TopologyChart\";\n_TopologyChart.type = \"topology\";\nvar TopologyChart = _TopologyChart;\n\n// packages/ag-charts-community/src/chart/agChartV2.ts\nvar debug2 = Debug.create(true, \"opts\");\nfunction chartType(options) {\n  if (isAgCartesianChartOptions(options)) {\n    return \"cartesian\";\n  } else if (isAgPolarChartOptions(options)) {\n    return \"polar\";\n  } else if (isAgHierarchyChartOptions(options)) {\n    return \"hierarchy\";\n  } else if (isAgTopologyChartOptions(options)) {\n    return \"topology\";\n  }\n  throw new Error(\"AG Chart - unknown type of chart for options with type: \".concat(options.type));\n}\nvar _AgCharts = class _AgCharts {\n  static licenseCheck(options) {\n    var _a, _b, _c, _d;\n    if (this.licenseChecked) return;\n    this.licenseManager = (_b = (_a = enterpriseModule).licenseManager) == null ? void 0 : _b.call(_a, options);\n    (_c = this.licenseManager) == null ? void 0 : _c.setLicenseKey(this.licenseKey, this.gridContext);\n    (_d = this.licenseManager) == null ? void 0 : _d.validateLicense();\n    this.licenseChecked = true;\n  }\n  static setLicenseKey(licenseKey) {\n    this.licenseKey = licenseKey;\n  }\n  static setGridContext(gridContext) {\n    this.gridContext = gridContext;\n  }\n  static getLicenseDetails(licenseKey) {\n    var _a, _b;\n    return (_b = (_a = enterpriseModule).licenseManager) == null ? void 0 : _b.call(_a, {}).getLicenseDetails(licenseKey);\n  }\n  /**\n   * Returns the `AgChartInstance` for a DOM node, if there is one.\n   */\n  static getInstance(element2) {\n    return AgChartsInternal.getInstance(element2);\n  }\n  /**\n   * Create a new `AgChartInstance` based upon the given configuration options.\n   */\n  static create(options) {\n    var _a, _b, _c;\n    this.licenseCheck(options);\n    const chart = AgChartsInternal.createOrUpdate(options);\n    if ((_a = this.licenseManager) == null ? void 0 : _a.isDisplayWatermark()) {\n      (_c = (_b = enterpriseModule).injectWatermark) == null ? void 0 : _c.call(_b, chart.chart.element, this.licenseManager.getWatermarkMessage());\n    }\n    return chart;\n  }\n  /**\n   * Update an existing `AgChartInstance`. Options provided should be complete and not\n   * partial.\n   *\n   * __NOTE__: As each call could trigger a chart redraw, multiple calls to update options in\n   * quick succession could result in undesirable flickering, so callers should batch up and/or\n   * debounce changes to avoid unintended partial update renderings.\n   */\n  static update(chart, options) {\n    if (!AgChartInstanceProxy.isInstance(chart)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.createOrUpdate(options, chart);\n  }\n  /**\n   * Update an existing `AgChartInstance` by applying a partial set of option changes.\n   *\n   * __NOTE__: As each call could trigger a chart redraw, each individual delta options update\n   * should leave the chart in a valid options state. Also, multiple calls to update options in\n   * quick succession could result in undesirable flickering, so callers should batch up and/or\n   * debounce changes to avoid unintended partial update renderings.\n   */\n  static updateDelta(chart, deltaOptions) {\n    if (!AgChartInstanceProxy.isInstance(chart)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.updateUserDelta(chart, deltaOptions);\n  }\n  /**\n   * Starts a browser-based image download for the given `AgChartInstance`.\n   */\n  static download(chart, options) {\n    if (!(chart instanceof AgChartInstanceProxy)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.download(chart, options).catch(e => Logger.errorOnce(e));\n  }\n  /**\n   * Returns a base64-encoded image data URL for the given `AgChartInstance`.\n   */\n  static getImageDataURL(chart, options) {\n    if (!(chart instanceof AgChartInstanceProxy)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    return AgChartsInternal.getImageDataURL(chart, options);\n  }\n};\n_AgCharts.INVALID_CHART_REF_MESSAGE = \"AG Charts - invalid chart reference passed\";\n_AgCharts.licenseChecked = false;\n_AgCharts.gridContext = false;\nvar AgCharts = _AgCharts;\nvar AgChart = class {\n  static warnDeprecated(memberName) {\n    const warnDeprecated = createDeprecationWarning();\n    warnDeprecated(\"AgChart.\".concat(memberName), \"Use AgCharts.\".concat(memberName, \" instead\"));\n  }\n  static create(options) {\n    this.warnDeprecated(\"create\");\n    return AgCharts.create(options);\n  }\n  static update(chart, options) {\n    this.warnDeprecated(\"update\");\n    return AgCharts.update(chart, options);\n  }\n  static updateDelta(chart, deltaOptions) {\n    this.warnDeprecated(\"updateDelta\");\n    return AgCharts.updateDelta(chart, deltaOptions);\n  }\n  static download(chart, options) {\n    this.warnDeprecated(\"download\");\n    return AgCharts.download(chart, options);\n  }\n  static getImageDataURL(chart, options) {\n    this.warnDeprecated(\"getImageDataURL\");\n    return AgCharts.getImageDataURL(chart, options);\n  }\n};\nvar _AgChartsInternal = class _AgChartsInternal {\n  static getInstance(element2) {\n    const chart = Chart.getInstance(element2);\n    return chart ? AgChartInstanceProxy.chartInstances.get(chart) : void 0;\n  }\n  static initialiseModules() {\n    if (_AgChartsInternal.initialised) return;\n    registerInbuiltModules();\n    setupModules();\n    _AgChartsInternal.initialised = true;\n  }\n  static createOrUpdate(options, proxy) {\n    var _b;\n    _AgChartsInternal.initialiseModules();\n    debug2(\">>> AgChartV2.createOrUpdate() user options\", options);\n    const _a = options,\n      {\n        overrideDevicePixelRatio,\n        document: document2,\n        window: userWindow\n      } = _a,\n      userOptions = __objRest(_a, [\"overrideDevicePixelRatio\", \"document\", \"window\"]);\n    const chartOptions = new ChartOptions(userOptions, {\n      overrideDevicePixelRatio,\n      document: document2,\n      window: userWindow\n    });\n    let chart = proxy == null ? void 0 : proxy.chart;\n    if (chart == null || chartType(userOptions) !== chartType(chart.processedOptions)) {\n      chart = _AgChartsInternal.createChartInstance(chartOptions, chart);\n    }\n    if (proxy == null) {\n      proxy = new AgChartInstanceProxy(chart);\n    } else {\n      proxy.chart = chart;\n    }\n    if (debug2.check() && typeof window !== \"undefined\") {\n      (_b = window.agChartInstances) != null ? _b : window.agChartInstances = {};\n      window.agChartInstances[chart.id] = chart;\n    }\n    chart.queuedUserOptions.push(userOptions);\n    chart.requestFactoryUpdate(chartRef => {\n      chartRef.applyOptions(chartOptions);\n      chartRef.queuedUserOptions.splice(0, chartRef.queuedUserOptions.indexOf(userOptions));\n    });\n    return proxy;\n  }\n  static updateUserDelta(proxy, deltaOptions) {\n    deltaOptions = deepClone(deltaOptions, {\n      shallow: [\"data\"]\n    });\n    jsonWalk(deltaOptions, node => {\n      if (typeof node !== \"object\") return;\n      for (const [key, value] of Object.entries(node)) {\n        if (typeof value === \"undefined\") {\n          Object.assign(node, {\n            [key]: Symbol(\"UNSET\")\n          });\n        }\n      }\n    }, {\n      skip: [\"data\"]\n    });\n    const {\n      chart\n    } = proxy;\n    const lastUpdateOptions = chart.getOptions();\n    const userOptions = mergeDefaults(deltaOptions, lastUpdateOptions);\n    debug2(\">>> AgChartV2.updateUserDelta() user delta\", deltaOptions);\n    debug2(\"AgChartV2.updateUserDelta() - base options\", lastUpdateOptions);\n    _AgChartsInternal.createOrUpdate(userOptions, proxy);\n  }\n  /**\n   * Returns the content of the current canvas as an image.\n   */\n  static download(proxy, opts) {\n    return __async(this, null, function* () {\n      try {\n        const clone = yield _AgChartsInternal.prepareResizedChart(proxy, opts);\n        clone.chart.ctx.scene.download(opts == null ? void 0 : opts.fileName, opts == null ? void 0 : opts.fileFormat);\n        clone.destroy();\n      } catch (error) {\n        Logger.errorOnce(error);\n      }\n    });\n  }\n  static getImageDataURL(proxy, opts) {\n    return __async(this, null, function* () {\n      const clone = yield _AgChartsInternal.prepareResizedChart(proxy, opts);\n      const result = clone.chart.ctx.scene.getDataURL(opts == null ? void 0 : opts.fileFormat);\n      clone.destroy();\n      return result;\n    });\n  }\n  static prepareResizedChart(_0) {\n    return __async(this, arguments, function (_ref116) {\n      let {\n        chart\n      } = _ref116;\n      let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return function* () {\n        var _a, _b, _c, _d;\n        const width = (_b = (_a = opts.width) != null ? _a : chart.width) != null ? _b : chart.ctx.scene.canvas.width;\n        const height = (_d = (_c = opts.height) != null ? _c : chart.height) != null ? _d : chart.ctx.scene.canvas.height;\n        const options = mergeDefaults({\n          container: document.createElement(\"div\"),\n          overrideDevicePixelRatio: 1,\n          autoSize: false,\n          width,\n          height\n        },\n        // Disable enterprise features that may interfere with image generation.\n        moduleRegistry.hasEnterpriseModules() && {\n          animation: {\n            enabled: false\n          }\n        }, chart.userOptions);\n        const cloneProxy = _AgChartsInternal.createOrUpdate(options);\n        cloneProxy.chart.ctx.zoomManager.updateZoom(\"agChartV2\", chart.ctx.zoomManager.getZoom());\n        chart.series.forEach((series, index) => {\n          if (!series.visible) {\n            cloneProxy.chart.series[index].visible = false;\n          }\n        });\n        chart.update(0 /* FULL */, {\n          forceNodeDataRefresh: true\n        });\n        yield cloneProxy.chart.waitForUpdate();\n        return cloneProxy;\n      }();\n    });\n  }\n  static createChartInstance(options, oldChart) {\n    const transferableResource = oldChart == null ? void 0 : oldChart.destroy({\n      keepTransferableResources: true\n    });\n    const ChartConstructor = _AgChartsInternal.getChartByOptions(options.processedOptions);\n    return new ChartConstructor(options, transferableResource);\n  }\n  static getChartByOptions(options) {\n    if (isAgCartesianChartOptions(options)) {\n      return CartesianChart;\n    } else if (isAgHierarchyChartOptions(options)) {\n      return HierarchyChart;\n    } else if (isAgPolarChartOptions(options)) {\n      return PolarChart;\n    } else if (isAgTopologyChartOptions(options)) {\n      return TopologyChart;\n    }\n    throw new Error(\"AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified\");\n  }\n};\n_AgChartsInternal.initialised = false;\nvar AgChartsInternal = _AgChartsInternal;\n\n// packages/ag-charts-community/src/version.ts\nvar VERSION = \"9.3.1\";\n\n// packages/ag-charts-community/src/integrated-charts-scene.ts\nvar integrated_charts_scene_exports = {};\n__export(integrated_charts_scene_exports, {\n  Arc: () => Arc2,\n  BBox: () => BBox,\n  BandScale: () => BandScale,\n  Caption: () => Caption,\n  ChangeDetectableProperties: () => ChangeDetectableProperties,\n  Circle: () => Circle,\n  ContinuousScale: () => ContinuousScale,\n  Diamond: () => Diamond,\n  DropShadow: () => DropShadow,\n  ExtendedPath2D: () => ExtendedPath2D,\n  Group: () => Group,\n  HdpiCanvas: () => HdpiCanvas,\n  Image: () => Image,\n  Label: () => Label,\n  Line: () => Line,\n  LinearGradientFill: () => LinearGradientFill,\n  LinearScale: () => LinearScale,\n  Marker: () => Marker,\n  Node: () => Node,\n  OrdinalTimeScale: () => OrdinalTimeScale,\n  Path: () => Path,\n  PointerEvents: () => PointerEvents,\n  RadialColumnShape: () => RadialColumnShape,\n  Rect: () => Rect,\n  RedrawType: () => RedrawType,\n  Scene: () => Scene,\n  SceneChangeDetection: () => SceneChangeDetection,\n  ScenePathChangeDetection: () => ScenePathChangeDetection,\n  Sector: () => Sector,\n  SectorBox: () => SectorBox,\n  Selection: () => Selection,\n  Shape: () => Shape,\n  Square: () => Square,\n  Text: () => Text,\n  Tooltip: () => Tooltip,\n  Triangle: () => Triangle,\n  easing: () => easing_exports,\n  getFont: () => getFont,\n  getMarker: () => getMarker,\n  getRadialColumnWidth: () => getRadialColumnWidth,\n  motion: () => motion,\n  nearestSquared: () => nearestSquared,\n  nearestSquaredInContainer: () => nearestSquaredInContainer,\n  toRadians: () => toRadians,\n  toTooltipHtml: () => toTooltipHtml\n});\n\n// packages/ag-charts-community/src/scene/shape/arc.ts\nvar Arc2 = class extends Path {\n  constructor() {\n    super();\n    this.centerX = 0;\n    this.centerY = 0;\n    this.radius = 10;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.counterClockwise = false;\n    this.type = 0 /* Open */;\n    this.restoreOwnStyles();\n  }\n  get fullPie() {\n    return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n  }\n  updatePath() {\n    const path = this.path;\n    path.clear();\n    path.arc(this.centerX, this.centerY, this.radius, this.startAngle, this.endAngle, this.counterClockwise);\n    if (this.type === 1 /* Chord */) {\n      path.closePath();\n    } else if (this.type === 2 /* Round */ && !this.fullPie) {\n      path.lineTo(this.centerX, this.centerY);\n      path.closePath();\n    }\n  }\n  computeBBox() {\n    return new BBox(this.centerX - this.radius, this.centerY - this.radius, this.radius * 2, this.radius * 2);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return this.type !== 0 /* Open */ && bbox.containsPoint(point.x, point.y) && this.path.isPointInPath(point.x, point.y);\n  }\n};\nArc2.className = \"Arc\";\nArc2.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  lineWidth: 1,\n  fillStyle: null\n});\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"centerX\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"centerY\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"radius\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"startAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"endAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"counterClockwise\", 2);\n__decorateClass([ScenePathChangeDetection()], Arc2.prototype, \"type\", 2);\n\n// packages/ag-charts-community/src/scene/shape/linearGradientFill.ts\nvar LinearGradientFill = class extends Shape {\n  constructor() {\n    super(...arguments);\n    this.direction = \"to-right\";\n    this.stops = void 0;\n    this._mask = void 0;\n  }\n  get mask() {\n    return this._mask;\n  }\n  set mask(newMask) {\n    if (this._mask != null) {\n      this.removeChild(this._mask);\n    }\n    if (newMask != null) {\n      this.appendChild(newMask);\n    }\n    this._mask = newMask;\n  }\n  isPointInPath(x, y) {\n    var _a, _b;\n    return (_b = (_a = this.mask) == null ? void 0 : _a.isPointInPath(x, y)) != null ? _b : false;\n  }\n  computeBBox() {\n    var _a;\n    return (_a = this.mask) == null ? void 0 : _a.computeBBox();\n  }\n  render(renderCtx) {\n    const {\n      mask,\n      stops\n    } = this;\n    const {\n      ctx,\n      devicePixelRatio\n    } = renderCtx;\n    const pixelLength = 1 / devicePixelRatio;\n    const maskBbox = mask == null ? void 0 : mask.computeTransformedBBox();\n    if (mask == null || stops == null || maskBbox == null) return;\n    if (mask.dirtyPath) {\n      mask.updatePath();\n      mask.dirtyPath = false;\n    }\n    ctx.save();\n    ctx.clip(mask.path.getPath2D());\n    ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);\n    const x0 = Math.floor(maskBbox.x);\n    const x1 = Math.ceil(maskBbox.x + maskBbox.width);\n    const y0 = Math.floor(maskBbox.y);\n    const y1 = Math.ceil(maskBbox.y + maskBbox.height);\n    const colorScale = new ColorScale();\n    const [i0, i1] = this.direction === \"to-right\" ? [x0, x1] : [y0, y1];\n    colorScale.domain = stops.map((_, index) => {\n      return i0 + (i1 - i0) * index / (stops.length - 1);\n    });\n    colorScale.range = stops;\n    colorScale.update();\n    if (this.direction === \"to-right\") {\n      const height = y1 - y0;\n      for (let x = x0; x <= x1; x += pixelLength) {\n        ctx.fillStyle = colorScale.convert(x);\n        ctx.fillRect(x, y0, pixelLength, height);\n      }\n    } else {\n      const width = x1 - x0;\n      for (let y = y0; y <= y1; y += pixelLength) {\n        ctx.fillStyle = colorScale.convert(y);\n        ctx.fillRect(x0, y, width, pixelLength);\n      }\n    }\n    ctx.restore();\n  }\n};\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], LinearGradientFill.prototype, \"direction\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], LinearGradientFill.prototype, \"stops\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], LinearGradientFill.prototype, \"_mask\", 2);\n\n// packages/ag-charts-community/src/scene/shape/radialColumnShape.ts\nfunction rotatePoint(x, y, rotation) {\n  const radius = Math.sqrt(__pow(x, 2) + __pow(y, 2));\n  const angle = Math.atan2(y, x);\n  const rotated = angle + rotation;\n  return {\n    x: Math.cos(rotated) * radius,\n    y: Math.sin(rotated) * radius\n  };\n}\nvar RadialColumnShape = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.borderPath = new ExtendedPath2D();\n    this.isBeveled = true;\n    this.columnWidth = 0;\n    this.startAngle = 0;\n    this.endAngle = 0;\n    this.outerRadius = 0;\n    this.innerRadius = 0;\n    this.axisInnerRadius = 0;\n    this.axisOuterRadius = 0;\n    this.isRadiusAxisReversed = false;\n  }\n  getRotation() {\n    const {\n      startAngle,\n      endAngle\n    } = this;\n    const midAngle = angleBetween(startAngle, endAngle);\n    return normalizeAngle360(startAngle + midAngle / 2 + Math.PI / 2);\n  }\n  updatePath() {\n    const {\n      isBeveled\n    } = this;\n    if (isBeveled) {\n      this.updateBeveledPath();\n    } else {\n      this.updateRectangularPath();\n    }\n    this.checkPathDirty();\n  }\n  updateRectangularPath() {\n    const {\n      columnWidth,\n      innerRadius,\n      outerRadius,\n      path\n    } = this;\n    const left = -columnWidth / 2;\n    const right = columnWidth / 2;\n    const top = -outerRadius;\n    const bottom = -innerRadius;\n    const rotation = this.getRotation();\n    const points = [[left, bottom], [left, top], [right, top], [right, bottom], [left, bottom]].map(_ref117 => {\n      let [x, y] = _ref117;\n      return rotatePoint(x, y, rotation);\n    });\n    path.clear(true);\n    path.moveTo(points[0].x, points[0].y);\n    path.lineTo(points[1].x, points[1].y);\n    path.lineTo(points[2].x, points[2].y);\n    path.lineTo(points[3].x, points[3].y);\n    path.lineTo(points[0].x, points[0].y);\n    path.closePath();\n  }\n  updateBeveledPath() {\n    const {\n      columnWidth,\n      path,\n      outerRadius,\n      innerRadius,\n      axisInnerRadius,\n      axisOuterRadius,\n      isRadiusAxisReversed\n    } = this;\n    const isStackBottom = isEqual(innerRadius, axisInnerRadius);\n    const sideRotation = Math.asin(columnWidth / 2 / innerRadius);\n    const pointRotation = this.getRotation();\n    const rotate = (x, y) => rotatePoint(x, y, pointRotation);\n    const getTriangleHypotenuse = (leg, otherLeg) => Math.sqrt(__pow(leg, 2) + __pow(otherLeg, 2));\n    const getTriangleLeg = (hypotenuse, otherLeg) => {\n      if (otherLeg > hypotenuse) {\n        return 0;\n      }\n      return Math.sqrt(__pow(hypotenuse, 2) - __pow(otherLeg, 2));\n    };\n    const compare = (value, otherValue, lessThan) => lessThan ? value < otherValue : value > otherValue;\n    const shouldConnectBottomCircle = isStackBottom && !isNaN(sideRotation) && sideRotation < Math.PI / 6;\n    let left = -columnWidth / 2;\n    let right = columnWidth / 2;\n    const top = -outerRadius;\n    const bottom = -innerRadius * (shouldConnectBottomCircle ? Math.cos(sideRotation) : 1);\n    const hasBottomIntersection = compare(axisOuterRadius, getTriangleHypotenuse(innerRadius, columnWidth / 2), !isRadiusAxisReversed);\n    if (hasBottomIntersection) {\n      const bottomIntersectionX = getTriangleLeg(axisOuterRadius, innerRadius);\n      left = -bottomIntersectionX;\n      right = bottomIntersectionX;\n    }\n    path.clear(true);\n    const bottomLeftPt = rotate(left, bottom);\n    path.moveTo(bottomLeftPt.x, bottomLeftPt.y);\n    const isEmpty = isEqual(innerRadius, outerRadius);\n    const hasSideIntersection = compare(axisOuterRadius, getTriangleHypotenuse(outerRadius, columnWidth / 2), !isRadiusAxisReversed);\n    if (isEmpty && shouldConnectBottomCircle) {\n      path.arc(0, 0, innerRadius, normalizeAngle360(-sideRotation - Math.PI / 2) + pointRotation, normalizeAngle360(sideRotation - Math.PI / 2) + pointRotation, false);\n    } else if (hasSideIntersection) {\n      const sideIntersectionY = -getTriangleLeg(axisOuterRadius, columnWidth / 2);\n      const topIntersectionX = getTriangleLeg(axisOuterRadius, outerRadius);\n      if (!hasBottomIntersection) {\n        const topLeftPt = rotate(left, sideIntersectionY);\n        path.lineTo(topLeftPt.x, topLeftPt.y);\n      }\n      path.arc(0, 0, axisOuterRadius, Math.atan2(sideIntersectionY, left) + pointRotation, Math.atan2(top, -topIntersectionX) + pointRotation, false);\n      if (!isEqual(topIntersectionX, 0)) {\n        const topRightBevelPt = rotate(topIntersectionX, top);\n        path.lineTo(topRightBevelPt.x, topRightBevelPt.y);\n      }\n      path.arc(0, 0, axisOuterRadius, Math.atan2(top, topIntersectionX) + pointRotation, Math.atan2(sideIntersectionY, right) + pointRotation, false);\n    } else {\n      const topLeftPt = rotate(left, top);\n      const topRightPt = rotate(right, top);\n      path.lineTo(topLeftPt.x, topLeftPt.y);\n      path.lineTo(topRightPt.x, topRightPt.y);\n    }\n    const bottomRightPt = rotate(right, bottom);\n    path.lineTo(bottomRightPt.x, bottomRightPt.y);\n    if (shouldConnectBottomCircle) {\n      path.arc(0, 0, innerRadius, normalizeAngle360(sideRotation - Math.PI / 2) + pointRotation, normalizeAngle360(-sideRotation - Math.PI / 2) + pointRotation, true);\n    } else {\n      const rotatedBottomLeftPt = rotate(left, bottom);\n      path.lineTo(rotatedBottomLeftPt.x, rotatedBottomLeftPt.y);\n    }\n    path.closePath();\n  }\n};\nRadialColumnShape.className = \"RadialColumnShape\";\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"isBeveled\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"columnWidth\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"startAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"endAngle\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"outerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"innerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"axisInnerRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"axisOuterRadius\", 2);\n__decorateClass([ScenePathChangeDetection()], RadialColumnShape.prototype, \"isRadiusAxisReversed\", 2);\nfunction getRadialColumnWidth(startAngle, endAngle, axisOuterRadius, columnWidthRatio, maxColumnWidthRatio) {\n  const rotation = angleBetween(startAngle, endAngle);\n  const pad2 = rotation * (1 - columnWidthRatio) / 2;\n  startAngle += pad2;\n  endAngle -= pad2;\n  if (rotation < 1e-3) {\n    return 2 * axisOuterRadius * maxColumnWidthRatio;\n  }\n  if (rotation >= 2 * Math.PI) {\n    const midAngle = startAngle + rotation / 2;\n    startAngle = midAngle - Math.PI;\n    endAngle = midAngle + Math.PI;\n  }\n  const startX = axisOuterRadius * Math.cos(startAngle);\n  const startY = axisOuterRadius * Math.sin(startAngle);\n  const endX = axisOuterRadius * Math.cos(endAngle);\n  const endY = axisOuterRadius * Math.sin(endAngle);\n  const colWidth = Math.floor(Math.sqrt(__pow(startX - endX, 2) + __pow(startY - endY, 2)));\n  const maxWidth = 2 * axisOuterRadius * maxColumnWidthRatio;\n  return Math.max(1, Math.min(maxWidth, colWidth));\n}\n\n// packages/ag-charts-community/src/scene/image.ts\nvar Image = class extends Node {\n  constructor(sourceImage) {\n    super();\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.height = 0;\n    this.opacity = 1;\n    this.sourceImage = sourceImage;\n  }\n  render(renderCtx) {\n    const {\n      ctx,\n      forceRender,\n      stats\n    } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats) stats.nodesSkipped++;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    const image = this.sourceImage;\n    ctx.globalAlpha = this.opacity;\n    ctx.drawImage(image, 0, 0, image.width, image.height, this.x, this.y, this.width, this.height);\n    super.render(renderCtx);\n  }\n};\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Image.prototype, \"x\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Image.prototype, \"y\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Image.prototype, \"width\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Image.prototype, \"height\", 2);\n__decorateClass([SceneChangeDetection({\n  redraw: 3 /* MAJOR */\n})], Image.prototype, \"opacity\", 2);\n\n// packages/ag-charts-community/src/integrated-charts-scene.ts\nvar motion = __spreadValues(__spreadValues({}, fromToMotion_exports), resetMotion_exports);\n\n// packages/ag-charts-community/src/integrated-charts-theme.ts\nvar integrated_charts_theme_exports = {};\n__export(integrated_charts_theme_exports, {\n  CARTESIAN_AXIS_TYPE: () => CARTESIAN_AXIS_TYPE,\n  ChartTheme: () => ChartTheme,\n  DEFAULT_ANNOTATION_BACKGROUND_FILL: () => DEFAULT_ANNOTATION_BACKGROUND_FILL,\n  DEFAULT_ANNOTATION_HANDLE_FILL: () => DEFAULT_ANNOTATION_HANDLE_FILL,\n  DEFAULT_ANNOTATION_STROKE: () => DEFAULT_ANNOTATION_STROKE,\n  DEFAULT_AXIS_GRID_COLOUR: () => DEFAULT_AXIS_GRID_COLOUR,\n  DEFAULT_AXIS_LINE_COLOUR: () => DEFAULT_AXIS_LINE_COLOUR,\n  DEFAULT_BACKGROUND_COLOUR: () => DEFAULT_BACKGROUND_COLOUR,\n  DEFAULT_COLOURS: () => DEFAULT_COLOURS,\n  DEFAULT_CROSS_LINES_COLOUR: () => DEFAULT_CROSS_LINES_COLOUR,\n  DEFAULT_DIVERGING_SERIES_COLOUR_RANGE: () => DEFAULT_DIVERGING_SERIES_COLOUR_RANGE,\n  DEFAULT_FONT_FAMILY: () => DEFAULT_FONT_FAMILY,\n  DEFAULT_HIERARCHY_FILLS: () => DEFAULT_HIERARCHY_FILLS,\n  DEFAULT_HIERARCHY_STROKES: () => DEFAULT_HIERARCHY_STROKES,\n  DEFAULT_INSIDE_SERIES_LABEL_COLOUR: () => DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n  DEFAULT_INVERTED_LABEL_COLOUR: () => DEFAULT_INVERTED_LABEL_COLOUR,\n  DEFAULT_LABEL_COLOUR: () => DEFAULT_LABEL_COLOUR,\n  DEFAULT_MUTED_LABEL_COLOUR: () => DEFAULT_MUTED_LABEL_COLOUR,\n  DEFAULT_POLAR_SERIES_STROKE: () => DEFAULT_POLAR_SERIES_STROKE,\n  DEFAULT_SHADOW_COLOUR: () => DEFAULT_SHADOW_COLOUR,\n  DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE: () => DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n  DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS: () => DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n  DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS: () => DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n  DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS: () => DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n  EXTENDS_AXES_DEFAULTS: () => EXTENDS_AXES_DEFAULTS,\n  EXTENDS_AXES_GRID_LINE_DEFAULTS: () => EXTENDS_AXES_GRID_LINE_DEFAULTS,\n  EXTENDS_AXES_LINE_DEFAULTS: () => EXTENDS_AXES_LINE_DEFAULTS,\n  EXTENDS_AXES_TICK_DEFAULTS: () => EXTENDS_AXES_TICK_DEFAULTS,\n  EXTENDS_CARTESIAN_MARKER_DEFAULTS: () => EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n  EXTENDS_SERIES_DEFAULTS: () => EXTENDS_SERIES_DEFAULTS,\n  FONT_SIZE: () => FONT_SIZE,\n  FONT_WEIGHT: () => FONT_WEIGHT,\n  IS_DARK_THEME: () => IS_DARK_THEME,\n  POLAR_AXIS_SHAPE: () => POLAR_AXIS_SHAPE,\n  POLAR_AXIS_TYPE: () => POLAR_AXIS_TYPE,\n  POSITION: () => POSITION,\n  getChartTheme: () => getChartTheme,\n  markerPaletteFactory: () => markerPaletteFactory,\n  singleSeriesPaletteFactory: () => singleSeriesPaletteFactory,\n  themes: () => themes2\n});\nvar themes2 = mapValues(themes, themeFactory => themeFactory == null ? void 0 : themeFactory());\n\n// packages/ag-charts-community/src/sparklines-scale.ts\nvar sparklines_scale_exports = {};\n__export(sparklines_scale_exports, {\n  BandScale: () => BandScale,\n  ColorScale: () => ColorScale,\n  ContinuousScale: () => ContinuousScale,\n  Invalidating: () => Invalidating,\n  LinearScale: () => LinearScale,\n  OrdinalTimeScale: () => OrdinalTimeScale,\n  TimeScale: () => TimeScale\n});\n\n// packages/ag-charts-community/src/sparklines-util.ts\nvar sparklines_util_exports = {};\n__export(sparklines_util_exports, {\n  Color: () => Color,\n  Logger: () => Logger,\n  Padding: () => Padding,\n  angleBetween: () => angleBetween,\n  areArrayItemsStrictlyEqual: () => areArrayItemsStrictlyEqual,\n  areArrayNumbersEqual: () => areArrayNumbersEqual,\n  bifurcate: () => bifurcate,\n  checkDatum: () => checkDatum,\n  clamp: () => clamp,\n  clampArray: () => clampArray,\n  countFractionDigits: () => countFractionDigits,\n  createId: () => createId,\n  deepClone: () => deepClone,\n  displacePointFromVector: () => displacePointFromVector,\n  extent: () => extent,\n  findMinMax: () => findMinMax,\n  findRangeExtent: () => findRangeExtent,\n  isBetweenAngles: () => isBetweenAngles,\n  isContinuous: () => isContinuous,\n  isDate: () => isValidDate,\n  isDenseInterval: () => isDenseInterval,\n  isEqual: () => isEqual,\n  isNegative: () => isNegative,\n  isNumber: () => isFiniteNumber,\n  isNumberEqual: () => isEqual,\n  isNumberObject: () => isNumberObject,\n  isString: () => isString,\n  isStringObject: () => isStringObject,\n  jsonApply: () => jsonApply,\n  jsonDiff: () => jsonDiff,\n  jsonWalk: () => jsonWalk,\n  mod: () => mod,\n  normalisedExtent: () => normalisedExtent,\n  normalisedExtentWithMetadata: () => normalisedExtentWithMetadata,\n  normalizeAngle180: () => normalizeAngle180,\n  normalizeAngle360: () => normalizeAngle360,\n  normalizeAngle360Inclusive: () => normalizeAngle360Inclusive,\n  range: () => range,\n  resetIds: () => resetIds,\n  round: () => round,\n  sanitizeHtml: () => sanitizeHtml,\n  setAttribute: () => setAttribute,\n  shallowClone: () => shallowClone,\n  tickFormat: () => tickFormat,\n  tickStep: () => tickStep,\n  ticks: () => ticks_default,\n  toDegrees: () => toDegrees,\n  toFixed: () => toFixed,\n  toRadians: () => toRadians,\n  transformIntegratedCategoryValue: () => transformIntegratedCategoryValue,\n  zipObject: () => zipObject\n});\n\n// packages/ag-charts-community/src/util/zip.ts\nfunction zipObject(keys, values) {\n  const zipped = {};\n  if (Array.isArray(values)) {\n    for (let i = 0; i < keys.length; i++) {\n      zipped[\"\".concat(keys[i])] = values[i];\n    }\n  } else {\n    for (let i = 0; i < keys.length; i++) {\n      zipped[\"\".concat(keys[i])] = values;\n    }\n  }\n  return zipped;\n}\n\n// packages/ag-charts-community/src/module-support.ts\nvar module_support_exports = {};\n__export(module_support_exports, {\n  AND: () => AND,\n  ARRAY: () => ARRAY,\n  ARRAY_OF: () => ARRAY_OF,\n  AbstractBarSeries: () => AbstractBarSeries,\n  AbstractBarSeriesProperties: () => AbstractBarSeriesProperties,\n  ActionOnSet: () => ActionOnSet,\n  Animation: () => Animation,\n  AnimationManager: () => AnimationManager,\n  AreaSeriesTag: () => AreaSeriesTag,\n  Axis: () => Axis,\n  AxisLabel: () => AxisLabel,\n  AxisTick: () => AxisTick,\n  BOOLEAN: () => BOOLEAN,\n  BOOLEAN_ARRAY: () => BOOLEAN_ARRAY,\n  Background: () => Background,\n  BackgroundModule: () => BackgroundModule,\n  BaseModuleInstance: () => BaseModuleInstance,\n  BaseProperties: () => BaseProperties,\n  COLOR_STRING: () => COLOR_STRING,\n  COLOR_STRING_ARRAY: () => COLOR_STRING_ARRAY,\n  CartesianAxis: () => CartesianAxis,\n  CartesianSeries: () => CartesianSeries,\n  CartesianSeriesNodeEvent: () => CartesianSeriesNodeEvent,\n  CartesianSeriesProperties: () => CartesianSeriesProperties,\n  CategoryAxis: () => CategoryAxis,\n  CategoryAxisTick: () => CategoryAxisTick,\n  ChartAxisDirection: () => ChartAxisDirection,\n  ChartEventManager: () => ChartEventManager,\n  ChartOptions: () => ChartOptions,\n  ChartUpdateType: () => ChartUpdateType,\n  ContextMenuRegistry: () => ContextMenuRegistry,\n  CursorManager: () => CursorManager,\n  DATE: () => DATE,\n  DATE_ARRAY: () => DATE_ARRAY,\n  DATE_OR_DATETIME_MS: () => DATE_OR_DATETIME_MS,\n  DEFAULT_CARTESIAN_DIRECTION_KEYS: () => DEFAULT_CARTESIAN_DIRECTION_KEYS,\n  DEFAULT_CARTESIAN_DIRECTION_NAMES: () => DEFAULT_CARTESIAN_DIRECTION_NAMES,\n  DEFAULT_TOOLTIP_CLASS: () => DEFAULT_TOOLTIP_CLASS,\n  DEFAULT_TOOLTIP_DARK_CLASS: () => DEFAULT_TOOLTIP_DARK_CLASS,\n  DEGREE: () => DEGREE,\n  DIRECTION: () => DIRECTION,\n  DataController: () => DataController,\n  DataModel: () => DataModel,\n  DataModelSeries: () => DataModelSeries,\n  DataService: () => DataService,\n  Default: () => Default,\n  Deprecated: () => Deprecated,\n  DeprecatedAndRenamedTo: () => DeprecatedAndRenamedTo,\n  EMPTY_TOOLTIP_CONTENT: () => EMPTY_TOOLTIP_CONTENT,\n  FONT_STYLE: () => FONT_STYLE,\n  FONT_WEIGHT: () => FONT_WEIGHT2,\n  FUNCTION: () => FUNCTION,\n  GREATER_THAN: () => GREATER_THAN,\n  GestureDetector: () => GestureDetector,\n  GroupedCategoryAxis: () => GroupedCategoryAxis,\n  HierarchyNode: () => HierarchyNode,\n  HierarchySeries: () => HierarchySeries,\n  HierarchySeriesProperties: () => HierarchySeriesProperties,\n  HighlightManager: () => HighlightManager,\n  HighlightStyle: () => HighlightStyle,\n  INTERACTION_RANGE: () => INTERACTION_RANGE,\n  InteractionManager: () => InteractionManager,\n  InteractionState: () => InteractionState,\n  LABEL_PLACEMENT: () => LABEL_PLACEMENT,\n  LESS_THAN: () => LESS_THAN,\n  LINE_CAP: () => LINE_CAP,\n  LINE_DASH: () => LINE_DASH,\n  LINE_JOIN: () => LINE_JOIN,\n  Layers: () => Layers,\n  LayoutService: () => LayoutService,\n  LonLatBBox: () => LonLatBBox,\n  MARKER_SHAPE: () => MARKER_SHAPE,\n  MATCHING_CROSSLINE_TYPE: () => MATCHING_CROSSLINE_TYPE,\n  MAX_SPACING: () => MAX_SPACING,\n  MIN_SPACING: () => MIN_SPACING,\n  MercatorScale: () => MercatorScale,\n  Motion: () => easing_exports,\n  NAN: () => NAN,\n  NODE_UPDATE_STATE_TO_PHASE_MAPPING: () => NODE_UPDATE_STATE_TO_PHASE_MAPPING,\n  NUMBER: () => NUMBER,\n  NUMBER_ARRAY: () => NUMBER_ARRAY,\n  NUMBER_OR_NAN: () => NUMBER_OR_NAN,\n  Navigator: () => Navigator,\n  NavigatorModule: () => NavigatorModule,\n  OBJECT: () => OBJECT,\n  OBJECT_ARRAY: () => OBJECT_ARRAY,\n  OR: () => OR,\n  OVERFLOW_STRATEGY: () => OVERFLOW_STRATEGY,\n  ObserveChanges: () => ObserveChanges,\n  PHASE_METADATA: () => PHASE_METADATA,\n  PHASE_ORDER: () => PHASE_ORDER,\n  PLACEMENT: () => PLACEMENT,\n  PLAIN_OBJECT: () => PLAIN_OBJECT,\n  POINTER_INTERACTION_TYPES: () => POINTER_INTERACTION_TYPES,\n  POSITION: () => POSITION2,\n  POSITIVE_NUMBER: () => POSITIVE_NUMBER,\n  PolarAxis: () => PolarAxis,\n  PolarSeries: () => PolarSeries,\n  PropertiesArray: () => PropertiesArray,\n  ProxyOnWrite: () => ProxyOnWrite,\n  ProxyProperty: () => ProxyProperty,\n  ProxyPropertyOnWrite: () => ProxyPropertyOnWrite,\n  QUICK_TRANSITION: () => QUICK_TRANSITION,\n  RATIO: () => RATIO,\n  RepeatType: () => RepeatType,\n  SMALLEST_KEY_INTERVAL: () => SMALLEST_KEY_INTERVAL,\n  SORT_DOMAIN_GROUPS: () => SORT_DOMAIN_GROUPS,\n  STRING: () => STRING,\n  STRING_ARRAY: () => STRING_ARRAY,\n  Series: () => Series,\n  SeriesGroupingChangedEvent: () => SeriesGroupingChangedEvent,\n  SeriesItemHighlightStyle: () => SeriesItemHighlightStyle,\n  SeriesMarker: () => SeriesMarker,\n  SeriesNodeEvent: () => SeriesNodeEvent,\n  SeriesNodePickMode: () => SeriesNodePickMode,\n  SeriesProperties: () => SeriesProperties,\n  SeriesTooltip: () => SeriesTooltip,\n  StateMachine: () => StateMachine,\n  TEXT_ALIGN: () => TEXT_ALIGN,\n  TEXT_WRAP: () => TEXT_WRAP,\n  ToolbarManager: () => ToolbarManager,\n  Tooltip: () => Tooltip,\n  TooltipManager: () => TooltipManager,\n  TooltipPosition: () => TooltipPosition,\n  UNION: () => UNION,\n  UpdateService: () => UpdateService,\n  VERTICAL_ALIGN: () => VERTICAL_ALIGN,\n  Validate: () => Validate,\n  ZoomManager: () => ZoomManager,\n  __FORCE_MODULE_DETECTION: () => __FORCE_MODULE_DETECTION2,\n  accumulateGroup: () => accumulateGroup,\n  accumulatedValue: () => accumulatedValue,\n  accumulativeValueProperty: () => accumulativeValueProperty,\n  addHitTestersToQuadtree: () => addHitTestersToQuadtree,\n  adjustLabelPlacement: () => adjustLabelPlacement,\n  allInStringUnion: () => allInStringUnion,\n  animationValidation: () => animationValidation,\n  area: () => area,\n  arraysEqual: () => arraysEqual,\n  assignJsonApplyConstructedArray: () => assignJsonApplyConstructedArray,\n  backfillPathPointData: () => backfillPathPointData,\n  basicContinuousCheckDatumValidation: () => basicContinuousCheckDatumValidation,\n  bifurcate: () => bifurcate,\n  buildFormatter: () => buildFormatter,\n  buildResetPathFn: () => buildResetPathFn,\n  calculateDefaultTimeTickFormat: () => calculateDefaultTimeTickFormat,\n  calculatePlacement: () => calculatePlacement,\n  checkCrisp: () => checkCrisp,\n  childrenIter: () => childrenIter,\n  circularSliceArray: () => circularSliceArray,\n  clamp: () => clamp,\n  clampArray: () => clampArray,\n  collapsedStartingBarPosition: () => collapsedStartingBarPosition,\n  computeBarFocusBounds: () => computeBarFocusBounds,\n  computeMarkerFocusBounds: () => computeMarkerFocusBounds,\n  computeSectorFocusBounds: () => computeSectorFocusBounds,\n  convertValuesToScaleByDefs: () => convertValuesToScaleByDefs,\n  countFractionDigits: () => countFractionDigits,\n  createDatumId: () => createDatumId,\n  createDeprecationWarning: () => createDeprecationWarning,\n  createElement: () => createElement,\n  dateToNumber: () => dateToNumber,\n  deconstructSelectionsOrNodes: () => deconstructSelectionsOrNodes,\n  deepClone: () => deepClone,\n  deepMerge: () => deepMerge,\n  defaultTimeTickFormat: () => defaultTimeTickFormat,\n  determinePathStatus: () => determinePathStatus,\n  diff: () => diff,\n  downloadUrl: () => downloadUrl,\n  enterpriseModule: () => enterpriseModule,\n  extent: () => extent,\n  extractDecoratedProperties: () => extractDecoratedProperties,\n  findMinMax: () => findMinMax,\n  findQuadtreeMatch: () => findQuadtreeMatch,\n  findRangeExtent: () => findRangeExtent,\n  fixNumericExtent: () => fixNumericExtent,\n  fromToMotion: () => fromToMotion,\n  getDocument: () => getDocument,\n  getMissCount: () => getMissCount,\n  getPath: () => getPath,\n  getRectConfig: () => getRectConfig,\n  getWindow: () => getWindow,\n  groupAccumulativeValueProperty: () => groupAccumulativeValueProperty,\n  groupAverage: () => groupAverage,\n  groupBy: () => groupBy,\n  groupCount: () => groupCount,\n  groupSum: () => groupSum,\n  injectStyle: () => injectStyle,\n  isArray: () => isArray,\n  isBoolean: () => isBoolean,\n  isDate: () => isDate,\n  isDecoratedObject: () => isDecoratedObject,\n  isDefined: () => isDefined,\n  isEnumKey: () => isEnumKey,\n  isEnumValue: () => isEnumValue,\n  isEqual: () => isEqual,\n  isFiniteNumber: () => isFiniteNumber,\n  isFunction: () => isFunction,\n  isHtmlElement: () => isHtmlElement,\n  isNegative: () => isNegative,\n  isNumber: () => isNumber,\n  isObject: () => isObject,\n  isObjectLike: () => isObjectLike,\n  isPlainObject: () => isPlainObject,\n  isProperties: () => isProperties,\n  isRegExp: () => isRegExp,\n  isString: () => isString,\n  isSymbol: () => isSymbol,\n  isValidDate: () => isValidDate,\n  jsonApply: () => jsonApply,\n  jsonDiff: () => jsonDiff,\n  jsonWalk: () => jsonWalk,\n  keyProperty: () => keyProperty,\n  listDecoratedProperties: () => listDecoratedProperties,\n  mapIterable: () => mapIterable,\n  mapValues: () => mapValues,\n  markerFadeInAnimation: () => markerFadeInAnimation,\n  markerPaletteFactory: () => markerPaletteFactory,\n  markerScaleInAnimation: () => markerScaleInAnimation,\n  markerSwipeScaleInAnimation: () => markerSwipeScaleInAnimation,\n  mergeArrayDefaults: () => mergeArrayDefaults,\n  mergeDefaults: () => mergeDefaults,\n  midpointStartingBarPosition: () => midpointStartingBarPosition,\n  minMax: () => minMax,\n  mod: () => mod,\n  moduleRegistry: () => moduleRegistry,\n  normaliseGroupTo: () => normaliseGroupTo,\n  normalisePropertyTo: () => normalisePropertyTo,\n  normalisedExtent: () => normalisedExtent,\n  normalisedExtentWithMetadata: () => normalisedExtentWithMetadata,\n  pairCategoryData: () => pairCategoryData,\n  pairContinuousData: () => pairContinuousData,\n  partialAssign: () => partialAssign,\n  pathFadeInAnimation: () => pathFadeInAnimation,\n  pathFadeOutAnimation: () => pathFadeOutAnimation,\n  pathSwipeInAnimation: () => pathSwipeInAnimation,\n  pickByMatchingAngle: () => pickByMatchingAngle,\n  predicateWithMessage: () => predicateWithMessage,\n  prepareAreaPathAnimation: () => prepareAreaPathAnimation,\n  prepareAxisAnimationContext: () => prepareAxisAnimationContext,\n  prepareAxisAnimationFunctions: () => prepareAxisAnimationFunctions,\n  prepareBarAnimationFunctions: () => prepareBarAnimationFunctions,\n  prepareLinePathAnimation: () => prepareLinePathAnimation,\n  prepareLinePathAnimationFns: () => prepareLinePathAnimationFns,\n  prepareMarkerAnimation: () => prepareMarkerAnimation,\n  preparePieSeriesAnimationFunctions: () => preparePieSeriesAnimationFunctions,\n  range: () => range2,\n  rangedValueProperty: () => rangedValueProperty,\n  renderPartialPath: () => renderPartialPath,\n  resetAxisGroupFn: () => resetAxisGroupFn,\n  resetAxisLabelSelectionFn: () => resetAxisLabelSelectionFn,\n  resetAxisLineSelectionFn: () => resetAxisLineSelectionFn,\n  resetAxisSelectionFn: () => resetAxisSelectionFn,\n  resetBarSelectionsFn: () => resetBarSelectionsFn,\n  resetIds: () => resetIds,\n  resetLabelFn: () => resetLabelFn,\n  resetMarkerFn: () => resetMarkerFn,\n  resetMarkerPositionFn: () => resetMarkerPositionFn,\n  resetMotion: () => resetMotion,\n  resetPieSelectionsFn: () => resetPieSelectionsFn,\n  round: () => round,\n  seriesLabelFadeInAnimation: () => seriesLabelFadeInAnimation,\n  seriesLabelFadeOutAnimation: () => seriesLabelFadeOutAnimation,\n  setDocument: () => setDocument,\n  setPath: () => setPath,\n  setWindow: () => setWindow,\n  shallowClone: () => shallowClone,\n  singleSeriesPaletteFactory: () => singleSeriesPaletteFactory,\n  staticFromToMotion: () => staticFromToMotion,\n  stringify: () => stringify,\n  sum: () => sum,\n  sumValues: () => sumValues,\n  toArray: () => toArray,\n  toFixed: () => toFixed,\n  toTooltipHtml: () => toTooltipHtml,\n  trailingAccumulatedValue: () => trailingAccumulatedValue,\n  trailingAccumulatedValueProperty: () => trailingAccumulatedValueProperty,\n  unique: () => unique,\n  updateClipPath: () => updateClipPath,\n  updateLabelNode: () => updateLabelNode,\n  updateRect: () => updateRect,\n  validateCrossLineValues: () => validateCrossLineValues,\n  valueProperty: () => valueProperty,\n  without: () => without\n});\n\n// packages/ag-charts-community/src/chart/series/util.ts\nfunction convertValuesToScaleByDefs(_ref118) {\n  let {\n    defs,\n    values,\n    xAxis,\n    yAxis\n  } = _ref118;\n  if (!(xAxis && yAxis)) {\n    throw new Error(\"Axes must be defined\");\n  }\n  const result = {};\n  for (const [searchId, {\n    def\n  }] of defs) {\n    if (Object.hasOwn(values, searchId)) {\n      const {\n        scale: scale2\n      } = def.type === \"key\" ? xAxis : yAxis;\n      result[searchId] = Math.round(scale2.convert(values[searchId]));\n    }\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/chart/series/hierarchy/hierarchySeries.ts\nvar _HierarchyNode = class _HierarchyNode {\n  constructor(series, index, datum, size, colorValue, fill, stroke, sumSize, depth, parent, children) {\n    this.series = series;\n    this.index = index;\n    this.datum = datum;\n    this.size = size;\n    this.colorValue = colorValue;\n    this.fill = fill;\n    this.stroke = stroke;\n    this.sumSize = sumSize;\n    this.depth = depth;\n    this.parent = parent;\n    this.children = children;\n    this.midPoint = {\n      x: 0,\n      y: 0\n    };\n  }\n  contains(other) {\n    let current = other;\n    while (current != null && current.index >= this.index) {\n      if (current === this) {\n        return true;\n      }\n      current = current.parent;\n    }\n    return false;\n  }\n  walk(callback) {\n    let order = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _HierarchyNode.Walk.PreOrder;\n    if (order === _HierarchyNode.Walk.PreOrder) {\n      callback(this);\n    }\n    this.children.forEach(child => {\n      child.walk(callback, order);\n    });\n    if (order === _HierarchyNode.Walk.PostOrder) {\n      callback(this);\n    }\n  }\n  *[Symbol.iterator]() {\n    yield this;\n    for (const child of this.children) {\n      yield* __yieldStar(child);\n    }\n  }\n};\n_HierarchyNode.Walk = {\n  PreOrder: 0,\n  PostOrder: 1\n};\nvar HierarchyNode = _HierarchyNode;\nvar HierarchySeries = class extends Series {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      contentGroupVirtual: false\n    });\n    this.rootNode = new HierarchyNode(this, 0, void 0, 0, void 0, void 0, void 0, 0, void 0, void 0, []);\n    this.colorDomain = [0, 0];\n    this.maxDepth = 0;\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateEmptyUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      ready: {\n        updateData: \"waiting\",\n        clear: \"clearing\",\n        highlight: data => this.animateReadyHighlight(data),\n        resize: data => this.animateReadyResize(data),\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      waiting: {\n        update: {\n          target: \"ready\",\n          action: data => this.animateWaitingUpdateReady(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      },\n      clearing: {\n        update: {\n          target: \"empty\",\n          action: data => this.animateClearingUpdateEmpty(data)\n        },\n        reset: \"empty\",\n        skip: \"ready\"\n      }\n    }, () => this.checkProcessedDataAnimatable());\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    }\n  }\n  processData() {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const {\n        childrenKey,\n        sizeKey,\n        colorKey,\n        fills,\n        strokes,\n        colorRange\n      } = this.properties;\n      let index = 0;\n      const getIndex = () => {\n        index += 1;\n        return index;\n      };\n      let maxDepth = 0;\n      let minColor = Infinity;\n      let maxColor = -Infinity;\n      const colors = new Array(((_b = (_a = this.data) == null ? void 0 : _a.length) != null ? _b : 0) + 1).fill(void 0);\n      const createNode = (datum, parent) => {\n        const nodeIndex = getIndex();\n        const depth = parent.depth != null ? parent.depth + 1 : 0;\n        const children = childrenKey != null ? datum[childrenKey] : void 0;\n        const isLeaf = children == null || children.length === 0;\n        let size = sizeKey != null ? datum[sizeKey] : void 0;\n        if (Number.isFinite(size)) {\n          size = Math.max(size, 0);\n        } else {\n          size = isLeaf ? 1 : 0;\n        }\n        const sumSize = size;\n        maxDepth = Math.max(maxDepth, depth);\n        const color = colorKey != null ? datum[colorKey] : void 0;\n        if (typeof color === \"number\") {\n          colors[nodeIndex] = color;\n          minColor = Math.min(minColor, color);\n          maxColor = Math.max(maxColor, color);\n        }\n        return appendChildren(new HierarchyNode(this, nodeIndex, datum, size, color, void 0, void 0, sumSize, depth, parent, []), children);\n      };\n      const appendChildren = (node, data) => {\n        data == null ? void 0 : data.forEach(datum => {\n          const child = createNode(datum, node);\n          node.children.push(child);\n          node.sumSize += child.sumSize;\n        });\n        return node;\n      };\n      const rootNode = appendChildren(new HierarchyNode(this, 0, void 0, 0, void 0, void 0, void 0, 0, void 0, void 0, []), this.data);\n      const colorDomain = [minColor, maxColor];\n      let colorScale;\n      if (colorRange != null && Number.isFinite(minColor) && Number.isFinite(maxColor)) {\n        colorScale = new ColorScale();\n        colorScale.domain = colorDomain;\n        colorScale.range = colorRange;\n        colorScale.update();\n      }\n      rootNode.children.forEach((child, childIndex) => {\n        child.walk(node => {\n          let fill;\n          const color = colors[node.index];\n          if (color != null) {\n            fill = colorScale == null ? void 0 : colorScale.convert(color);\n          }\n          fill != null ? fill : fill = fills == null ? void 0 : fills[childIndex % fills.length];\n          node.fill = fill;\n          node.stroke = colorScale == null ? strokes == null ? void 0 : strokes[childIndex % strokes.length] : \"rgba(0, 0, 0, 0.2)\";\n        });\n      });\n      this.rootNode = rootNode;\n      this.maxDepth = maxDepth;\n      this.colorDomain = colorDomain;\n    });\n  }\n  update(_0) {\n    return __async(this, arguments, function (_ref119) {\n      var _this11 = this;\n      let {\n        seriesRect\n      } = _ref119;\n      return function* () {\n        yield _this11.updateSelections();\n        yield _this11.updateNodes();\n        const animationData = _this11.getAnimationData();\n        const resize = _this11.checkResize(seriesRect);\n        if (resize) {\n          _this11.animationState.transition(\"resize\", animationData);\n        }\n        _this11.animationState.transition(\"update\", animationData);\n      }();\n    });\n  }\n  resetAllAnimation(data) {\n    var _a;\n    const datum = (_a = this.animationResetFns) == null ? void 0 : _a.datum;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (datum != null) {\n      resetMotion(data.datumSelections, datum);\n    }\n  }\n  animateEmptyUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateWaitingUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateReadyHighlight(data) {\n    var _a;\n    const datum = (_a = this.animationResetFns) == null ? void 0 : _a.datum;\n    if (datum != null) {\n      resetMotion([data], datum);\n    }\n  }\n  animateReadyResize(data) {\n    this.resetAllAnimation(data);\n  }\n  animateClearingUpdateEmpty(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animationTransitionClear() {\n    this.animationState.transition(\"clear\", this.getAnimationData());\n  }\n  getAnimationData() {\n    const animationData = {\n      datumSelections: [this.groupSelection]\n    };\n    return animationData;\n  }\n  isProcessedDataAnimatable() {\n    return true;\n  }\n  checkProcessedDataAnimatable() {\n    if (!this.isProcessedDataAnimatable()) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  getLabelData() {\n    return [];\n  }\n  getSeriesDomain() {\n    return [NaN, NaN];\n  }\n  getLegendData(legendType) {\n    const {\n      colorKey,\n      colorName,\n      colorRange,\n      visible\n    } = this.properties;\n    return legendType === \"gradient\" && colorKey != null && colorRange != null ? [{\n      legendType: \"gradient\",\n      enabled: visible,\n      seriesId: this.id,\n      colorName,\n      colorRange,\n      colorDomain: this.colorDomain\n    }] : [];\n  }\n  getDatumIdFromData(node) {\n    return \"\".concat(node.index);\n  }\n  getDatumId(node) {\n    return this.getDatumIdFromData(node);\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/hierarchy/hierarchySeriesProperties.ts\nvar HierarchySeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.childrenKey = \"children\";\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n  }\n};\n__decorateClass([Validate(STRING)], HierarchySeriesProperties.prototype, \"childrenKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HierarchySeriesProperties.prototype, \"sizeKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HierarchySeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([Validate(STRING, {\n  optional: true\n})], HierarchySeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], HierarchySeriesProperties.prototype, \"fills\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY)], HierarchySeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([Validate(COLOR_STRING_ARRAY, {\n  optional: true\n})], HierarchySeriesProperties.prototype, \"colorRange\", 2);\n\n// packages/ag-charts-community/src/chart/series/topology/lonLatBbox.ts\nvar LonLatBBox = class {\n  constructor(lon0, lat0, lon1, lat1) {\n    this.lon0 = lon0;\n    this.lat0 = lat0;\n    this.lon1 = lon1;\n    this.lat1 = lat1;\n  }\n  merge(other) {\n    this.lon0 = Math.min(this.lon0, other.lon0);\n    this.lat0 = Math.min(this.lat0, other.lat0);\n    this.lon1 = Math.max(this.lon1, other.lon1);\n    this.lat1 = Math.max(this.lat1, other.lat1);\n  }\n};\n\n// packages/ag-charts-community/src/chart/legendDatum.ts\nvar __FORCE_MODULE_DETECTION2 = 0;\nexport { AgChart, AgCharts, AgErrorBarSupportedSeriesTypes, AgTooltipPositionType, Marker, VERSION, module_support_exports as _ModuleSupport, sparklines_scale_exports as _Scale, integrated_charts_scene_exports as _Scene, integrated_charts_theme_exports as _Theme, sparklines_util_exports as _Util, __FORCE_MODULE_DETECTION, time_exports as time };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__getProtoOf","getPrototypeOf","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__reflectGet","Reflect","get","__knownSymbol","name","symbol","Symbol","for","__pow","Math","pow","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","__objRest","source","exclude","target","indexOf","__export","all","__decorateClass","decorators","kind","result","i","length","decorator","__superGet","cls","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","throw","x","done","then","apply","__await","promise","isYieldStar","__yieldStar","isAwait","method","it","k","v","TypeError","AgErrorBarSupportedSeriesTypes","__MINI_CHART_SERIES_OPTIONS","__VERIFY_MINI_CHART_SERIES_OPTIONS","AgTooltipPositionType","AgTooltipPositionType2","__THEME_OVERRIDES","__VERIFY_THEME_OVERRIDES","__FORCE_MODULE_DETECTION","time_exports","day","friday","hour","millisecond","minute","monday","month","saturday","second","sunday","thursday","tuesday","utcDay","utcHour","utcMinute","utcMonth","utcYear","wednesday","year","doOnceState","Map","doOnce","func","has","set","clear","identity","iterate","_len","arguments","iterators","Array","_key","iterator","iterateReverseArray","array","j","throttle","callback","waitMs","undefined","options","leading","trailing","timerId","lastArgs","shouldWait","timeoutHandler","setTimeout","throttleCallback","_len2","args","_key2","assign","cancel","clearTimeout","joinFunctions","_len3","fns","_key3","fn","Logger","log","console","warn","message","_len4","logContent","_key4","concat","error","_len5","_key5","table","warnOnce","_len6","_key6","errorOnce","_len7","_key7","TimeInterval","constructor","_encode","_decode","_rangeCallback","floor","date","d","Date","ceil","Number","range","start","stop","extend","_a","rangeCallback","e0","e1","range3","push","CountableTimeInterval","getOffset","snapTo","s","every","offset4","unsafeStep","max","round","initialOffset","encode13","decode13","encoded","encode","getTime","decode","millisecond_default","epochYear","getFullYear","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","offset","getTimezoneOffset","encode2","decode2","second_default","offset2","encode3","decode3","minute_default","offset3","encode4","decode4","hour_default","encode5","tzOffsetMs","decode5","setDate","getDate","day_default","weekday","weekStart","thursday2","dayShift","week_default","encode6","getMonth","decode6","year2","month2","month_default","encode7","decode7","setFullYear","setMonth","setHours","year_default","encode8","decode8","encode9","decode9","encode10","decode10","setUTCDate","getUTCDate","setUTCHours","encode11","getUTCFullYear","getUTCMonth","decode11","UTC","encode12","decode12","setUTCFullYear","setUTCMonth","enterpriseModule","isEnterprise","BaseModuleInstance","destroyFns","destroy","destroyFn","ModuleRegistry","modules","dependencies","Set","dependents","register","_len8","_key8","module","registerDependencies","otherModule","find","other","type","optionsKey","identifier","packageType","index","splice","hasEnterpriseModules","some","m","byType","_len9","types","_key9","includes","Error","dep","add","moduleRegistry","AxisRegistry","axesMap","hidden","themeTemplates","axisType","instanceConstructor","themeTemplate","setThemeTemplate","create","moduleContext","AxisConstructor","keys","publicKeys","filter","getThemeTemplate","axisRegistry","BREAK_TRANSFORM_CHAIN","CONFIG_KEY","initialiseConfig","propertyKeyOrSymbol","config","propertyKey","toString","valuesMap","WeakMap","setters","getters","observers","descriptor","prevSet","prevGet","getter","transformFn","setter","oldValue","f","observerFn","addTransformToInstanceProperty","setTransform","getTransform","configMetadata","unshift","addObserverToInstanceProperty","setObserver","isDecoratedObject","listDecoratedProperties","targets","from","flatMap","configMap","extractDecoratedProperties","reduce","extractDecoratedPropertyMetadata","hasOwn","isDefined","val","isArray","isBoolean","isDate","isValidDate","isNaN","isRegExp","RegExp","isFunction","isObject","isObjectLike","isPlainObject","isString","isNumber","isFiniteNumber","isFinite","isHtmlElement","window","HTMLElement","isEnumKey","enumObject","enumKey","isEnumValue","enumValue","values","isSymbol","deepMerge","_len10","sources","_key10","mergeDefaults","reverse","_len11","_key11","mergeArrayDefaults","dataArray","_len12","itemDefaults","_key12","map","item","mapValues","object","mapper","entries","_ref","without","clone","getPath","path","pathArray","split","pathKey","setPath","newValue","slice","lastKey","pop","lastObject","partialAssign","keysToCopy","ChartTypes","seriesType","isCartesian","isPolar","isHierarchy","isTopology","seriesTypes","cartesianTypes","t","polarTypes","hierarchyTypes","topologyTypes","ChartDefaults","chartType2","defaults","chartTypes","publicChartTypes","chartDefaults","EXPECTED_ENTERPRISE_MODULES","optionsInnerKey","isEnterpriseSeriesType","getEnterpriseSeriesChartTypes","isEnterpriseCartesian","isEnterprisePolar","isEnterpriseHierarchy","isEnterpriseTopology","isEnterpriseModule","verifyIfModuleExpected","stub","useCount","getUnusedExpectedModules","_ref2","optionsType","input","_b","_c","series","isAgCartesianChartOptions","specifiedType","isAgPolarChartOptions","isAgHierarchyChartOptions","isAgTopologyChartOptions","isAgPolarChartOptionsWithSeriesBasedLegend","isSeriesOptionType","isAxisOptionType","removeUsedEnterpriseOptions","_d","usedOptions","optionsChartType","moduleChartTypes","optionValue","axes","axis","forEach","enterprisePackageName","enterpriseReferenceUrl","mode","join","BaseProperties","properties","className","self","isProperties","PropertiesArray","reset","delete","unknownKey","isValid","optional","valid","toJson","propertyValue","_PropertiesArray","itemFactory","_len13","_key13","CLASS_INSTANCE_TYPE","jsonDiff","skip","allKeys","diff2","deepClone","shallow","shallowClone","flags","jsonWalk","json","visit","opts","_len14","jsons","_key14","node","keyMapper","jsonApply","params","constructedArrays","matcherPath","replace","targetAny","targetType","classify","property","propertyMatcherPath","propertyPath","targetClass","currentValue","ctr","currentValueType","newValueType","newValueArray","data","dataObject","SeriesRegistry","seriesMap","_ref3","defaultAxes","enterpriseThemeTemplate","paletteFactory","solo","stackable","groupable","stackedByDefault","swapDefaultAxesCondition","SeriesConstructor","cloneDefaultAxes","currentTemplate","community","enterprise","getPaletteFactory","isSolo","isGroupable","isStackable","isStackedByDefault","isDefaultAxisSwapNeeded","isDefaultAxisSwapped","seriesRegistry","LegendRegistry","legendMap","legendType","_ref4","LegendConstructor","getThemeTemplates","fromEntries","getKeys","_ref5","record","legendRegistry","FONT_SIZE","FONT_SIZE2","FONT_WEIGHT","FONT_WEIGHT3","POSITION","POSITION3","CARTESIAN_AXIS_TYPE","CARTESIAN_AXIS_TYPE2","POLAR_AXIS_TYPE","POLAR_AXIS_TYPE2","POLAR_AXIS_SHAPE","POLAR_AXIS_SHAPE2","DEFAULT_FILLS","BLUE","ORANGE","GREEN","CYAN","YELLOW","VIOLET","GRAY","MAGENTA","BROWN","RED","DEFAULT_STROKES","IS_DARK_THEME","EXTENDS_AXES_DEFAULTS","EXTENDS_AXES_LINE_DEFAULTS","EXTENDS_AXES_TICK_DEFAULTS","EXTENDS_AXES_GRID_LINE_DEFAULTS","EXTENDS_SERIES_DEFAULTS","EXTENDS_CARTESIAN_MARKER_DEFAULTS","DEFAULT_FONT_FAMILY","DEFAULT_LABEL_COLOUR","DEFAULT_INVERTED_LABEL_COLOUR","DEFAULT_INSIDE_SERIES_LABEL_COLOUR","DEFAULT_MUTED_LABEL_COLOUR","DEFAULT_AXIS_GRID_COLOUR","DEFAULT_AXIS_LINE_COLOUR","DEFAULT_CROSS_LINES_COLOUR","DEFAULT_BACKGROUND_COLOUR","DEFAULT_SHADOW_COLOUR","DEFAULT_COLOURS","DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS","DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS","DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS","DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE","DEFAULT_POLAR_SERIES_STROKE","DEFAULT_DIVERGING_SERIES_COLOUR_RANGE","DEFAULT_HIERARCHY_FILLS","DEFAULT_HIERARCHY_STROKES","DEFAULT_ANNOTATION_STROKE","DEFAULT_ANNOTATION_BACKGROUND_FILL","DEFAULT_ANNOTATION_HANDLE_FILL","DEFAULT_BACKGROUND_FILL","DEFAULT_PALETTE","fills","strokes","CHART_TYPE_CONFIG","cartesian","commonOptions","polar","hierarchy","topology","CHART_TYPE_SPECIFIC_COMMON_OPTIONS","r","_ref6","_ChartTheme","getPalette","getAxisDefaults","overrideDefaults","title","enabled","text","spacing","fontWeight","fontSize","fontFamily","color","label","padding","avoidCollisions","line","width","tick","gridLine","style","stroke","lineDash","crossLines","fill","fillOpacity","strokeWidth","getSeriesDefaults","visible","showInLegend","highlightStyle","dimOpacity","nodeClickRange","tooltip","getCartesianSeriesMarkerDefaults","shape","size","getChartDefaults","background","top","right","bottom","left","keyboard","wrapping","subtitle","footnote","legend","position","listeners","paddingX","paddingY","marker","toggleSeriesVisible","reverseOrder","pagination","activeStyle","inactiveStyle","darkTheme","delay","overlays","loading","noData","noVisibleSeries","overrides","palette","palette10","createChartConfigPerChartType","getDefaults","mergeOverrides","freeze","templateTheme","cleanedCommon","common","commonKey","nextType","typeDefaults","getOverridesByType","chartTypeDefaults","cartesianAxisDefault","themeInstance","extensions","getTemplateParameters","extendsValue","getDefaultColors","getWaterfallSeriesDefaultPositiveColors","getWaterfallSeriesDefaultNegativeColors","getWaterfallSeriesDefaultTotalColors","base","groupPaddingInner","autoRotate","ChartTheme","DEFAULT_DARK_BACKGROUND_FILL","DEFAULT_DARK_FILLS","DEFAULT_DARK_STROKES","DarkTheme","_DarkTheme","MATERIAL_DARK_FILLS","MATERIAL_DARK_STROKES","palette2","MaterialDark","_MaterialDark","MATERIAL_LIGHT_FILLS","MATERIAL_LIGHT_STROKES","palette3","MaterialLight","_MaterialLight","POLYCHROMA_DARK_FILLS","PURPLE","PINK","MODERATE_BLUE","POLYCHROMA_DARK_STROKES","POLYCHROMA_DARK_FILL_GRAY","POLYCHROMA_DARK_STROKE_GRAY","palette4","PolychromaDark","_PolychromaDark","POLYCHROMA_LIGHT_FILLS","POLYCHROMA_LIGHT_STROKES","POLYCHROMA_LIGHT_FILL_GRAY","POLYCHROMA_LIGHT_STROKE_GRAY","palette5","PolychromaLight","_PolychromaLight","SHEETS_DARK_FILLS","DARK_GRAY","DARK_BLUE","VERY_DARK_GRAY","DARK_YELLOW","SHEETS_DARK_STROKES","palette6","SheetsDark","_SheetsDark","SHEETS_LIGHT_FILLS","SHEETS_LIGHT_STROKES","palette7","SheetsLight","_SheetsLight","VIVID_DARK_FILLS","VIVID_DARK_STROKES","palette8","VividDark","_VividDark","VIVID_FILLS","VIVID_STROKES","palette9","VividLight","_VividLight","lightTheme","lightThemes","null","ag-sheets","ag-polychroma","ag-vivid","ag-material","darkThemes","ag-sheets-dark","ag-polychroma-dark","ag-vivid-dark","ag-material-dark","themes","validateChartThemeObject","unknownObject","baseTheme","validateChartTheme","getChartTheme","unvalidatedValue","stockTheme","flattenedTheme","extent","min","Infinity","n","normalisedExtent","normalisedExtentWithMetadata","clipped","NaN","arraysEqual","toArray","unique","groupBy","iteratee","groupKey","circularSliceArray","at","bifurcate","isLeft","_ref7","mapIterable","src","predicate","constStringsIncludes","casting","isInStringUnion","unionValues","allInStringUnion","verifiedGlobals","injectCache","global","document","getDocument","propertyName","getWindow","createElement","tagName","element2","classList","downloadUrl","dataUrl","fileName","body","display","href","download","appendChild","click","removeChild","injectStyle","cssStyle","uniqueId","document2","styleElement","innerHTML","head","insertBefore","querySelector","setDocument","setWindow","window2","LONG_TIME_PERIOD_THRESHOLD","timeOfLastLog","now","logTimeGap","timeSinceLastLog","prettyDuration","toFixed","Debug","_len15","debugSelectors","_key15","resultFn","_len16","_key16","check","_len17","_key17","chartDebug","selector","unthemedSeries","ChartOptions","userOptions","specialOverrides","cloneOptions","sanityCheckAndCleanup","activeTheme","theme","getDefaultAxes","specialOverridesDefaults","getSeriesThemeConfig","axesThemes","annotations","annotationsThemes","_","themeDefaults","processedOptions","processAxesOptions","processSeriesOptions","processMiniChartSeriesOptions","processAnnotationsOptions","enableConfiguredOptions","getOptions","diffOptions","optionsType2","axesDefaults","swapAxesPosition","deprecationWarnings","axesTypeIntegrity","seriesTypeIntegrity","soloSeriesIntegrity","removeDisabledOptions","removeLeftoverSymbols","sync","axis0","axis1","crossLinesTheme","axisTheme","gridLineStyle","_e","_1","_2","_3","_4","axisOptions","defaultSeriesType","getDefaultSeriesType","defaultTooltipPosition","getTooltipPositionDefaults","userPalette","Boolean","paletteOptions","colourIndex","processedSeries","innerLabels","innerLabelsTheme","seriesTheme","seriesPaletteOptions","getSeriesPalette","seriesOptions","getSeriesGroupingOptions","setSeriesGroupingOptions","miniChartSeries","navigator","miniChart","_a2","_b2","_annotationsThemes","colourOffset","colorsCount","themeTemplateParameters","takeColors","count","grouped","stacked","stackGroup","allSeries","seriesGroups","getSeriesGrouping","groupIdx","groupCount2","countMap","seriesGroup","groupType","groupIndex","stackIndex","seriesGrouping","groupCount","stackCount","__","getSeriesGroupId","xKey","groupMap","groupId","xOffset","yOffset","deprecatedArrayProps","yKeys","yNames","_ref8","oldProp","newProp","expectedTypes","_ref9","mainSeriesType","nonSolo","rejects","visitingUserOpts","visitingMergedOpts","_enabledFromTheme","optionsNode","createDeprecationWarning","msg","Deprecated","warnDeprecated","def","default","DeprecatedAndRenamedTo","newPropName","mapValue","fromToMotion_exports","NODE_UPDATE_STATE_TO_PHASE_MAPPING","fromToMotion","staticFromToMotion","ID_MAP","resetIds","createId","instance","nextId","interpolate","isInterpolating","clamp","clampArray","findMinMax","findRangeExtent","isEqual","epsilon2","abs","isNegative","sign","is","decimals","fractionOrSignificantDigits","power","LN10","mod","countFractionDigits","maximumFractionDigits","decimal","toLocaleString","minimumFractionDigits","nearestSquared","y","objects","maxDistanceSquared","nearest","distanceSquared","thisDistance","nearestSquaredInContainer","container","tx","ty","transformPoint","child","children","distanceSquared2","_BBox","height","equals","containsPoint","collidesBBox","computeCenter","dx","dy","nearestBox","boxes","clip","clipRect","x1","y1","x2","y2","shrink","amount","pos","amt","_ref10","grow","paddingCopy","combine","merge","box","zero","BBox","RedrawType","RedrawType2","functionConstructorAvailable","Function","STRING_FUNCTION_USEABLE","SceneChangeDetection","changeCb","convertor","privateKey","prepareFastGetSet","prepareSlowGetSet","redraw","checkDirtyOnAssignment","setterJs","getterJs","markDirty","markDirtyTransform","_dirtyPath","_dirtyFont","_dirty","ChangeDetectable","_source","markClean","_opts","isDirty","_Matrix","elements","elements3","setElements","AxB","A","B","C","c","multiplySelf","multiply","preMultiplySelf","inverse","el","rD","inverseTo","invertSelf","transformBBox","bbox","xx","xy","yx","yy","h_w","h_h","cx","cy","w","h","toContext","ctx","transform","flyweight","sourceMatrix","updateTransformMatrix","matrix","scalingX","scalingY","rotation","translationX","translationY","bbcx","bbcy","sx","sy","scx","scy","scalingCenterX","scalingCenterY","cos","sin","rcx","rcy","rotationCenterX","rotationCenterY","tx4","ty4","fromContext","domMatrix","Matrix","PointerEvents","PointerEvents2","_Node","isVirtual","tag","zIndex","serialNumber","_nextSerialNumber","id","isContainerNode","_virtualChildren","_children","childSet","dirtyTransform","_childNodeCounts","groups","nonGroups","dirtyZIndex","zIndexSubOrder","pointerEvents","datum","_datum","_parent","previousDatum","_previousDatum","_setLayerManager","_layerManager","_debug","debug","layerManager","ancestors","parent","traverseUp","virtualChildren","hasVirtualChildren","setProperties","styles","pickKeys","append","nodes","calculateCumulativeMatrix","computeTransformMatrix","inverseTransformPoint","inverseTransformBBox","_x","_y","pickNode","computeTransformedBBox","hit","getCachedBBox","cachedBBox","computeBBox","preRender","childCounts","render","renderCtx","stats","nodesRendered","parentType","dirty","force","recursive","onVisibleChange","nodeCount","dirtyCount","visibleCount","countChild","childCount","childVisibleCount","childDirtyCount","onZIndexChange","Node","srgbToLinear","srgbFromLinear","_Color","g","validColorString","str","parseHex","stringToRgba","nameToHex","toLowerCase","fromString","fromHexString","hex","fromRgbaString","tryParseFromString","fromArray","parts","parseInt","p","po","pc","contents","substring","rgba","part","parseFloat","arr","fromHSB","alpha","rgb","HSBtoRGB","fromHSL","l","HSLtoRGB","fromOKLCH","OKLCHtoRGB","padHex","toHexString","toRgbaString","fractionDigits","components","toHSB","RGBtoHSB","RGBtoOKLCH","LSRGB0","LSRGB1","LSRGB2","LMS0","cbrt","LMS1","LMS2","OKLAB0","OKLAB1","OKLAB2","hue","atan2","PI","OKLCH0","OKLCH1","hypot","OKLCH2","SRGB0","SRGB1","SRGB2","RGBtoHSL","delta2","q","hueToRgb","S","H","rc","gc","bc","derive","hueShift","saturationFactor","brightnessFactor","opacityFactor","hsb","brighter","darker","c0","c1","didDebug","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","Color","interpolateNumber","interpolateColor","easing_exports","easeIn","easeInOut","easeInOutQuad","easeInQuad","easeOut","easeOutQuad","inverseEaseOut","linear","asin","QUICK_TRANSITION","PHASE_ORDER","PHASE_METADATA","initial","animationDuration","animationDelay","remove","update","skipIfNoEarlierAnimations","end","none","RepeatType","RepeatType2","isNodeArray","deconstructSelectionsOrNodes","selectionsOrNodes","selections","Animation","isComplete","elapsed","iteration","isPlaying","isReverse","_f","_g","autoplay","ease","phase","durationProportion","duration","defaultDuration","onComplete","onPlay","onStop","onUpdate","createInterpolator","to","collapsable","checkCollapse","calculatedDuration","play","initialUpdate","pause","time2","previousElapsed","delta","totalDuration","interpolateValue","interpolatorEntries","interpolator","added","updated","removed","unknown","subId","animationManager","getDatumId","fromFn","toFn","intermediateFn","processNodes","liveNodes","subNodes","prevFromProps","liveNodeIndex","nodeIndex","isLive","last","lastLive","prev","prevLive","nextLive","animationId","stopByAnimationId","status","calculateStatus","finish","toPhase","toStart","toFinish","toDelay","toDuration","animate","props","selectionIndex","selection","selectionNodes","isGarbage","cleanup","extraOpts","twoPi","normalizeAngle360","radians","normalizeAngle360Inclusive","normalizeAngle180","isBetweenAngles","targetAngle","startAngle","endAngle","a0","a1","toRadians","degrees","toDegrees","angleBetween","angle0","angle1","displacePointFromVector","centerX","centerY","radius","angle","Invalidating","mappedProperty","String","invalid","_BandScale","interval","ordinalRange","_domain","_bandwidth","_step","_rawBandwidth","_paddingInner","_paddingOuter","refresh","domain","getIndex","ticks","convert","invert","findIndex","invertNearest","minDistance","distance2","bandwidth","rawBandwidth","paddingInner","paddingOuter","round3","r0","r1","rawStep","fullBandWidth","x0","bw","valueOf","BandScale","Default","defaultValue","replaces","Validate","overrideProperty","context","cleanKey","targetName","valueString","stringify","maxLength","excessCharacters","getPredicateMessage","AND","_len18","predicates","_key18","messages","predicateWithMessage","OR","_len19","_key19","getPredicateMessageMapper","OBJECT","attachObjectRestrictions","PLAIN_OBJECT","BOOLEAN","FUNCTION","STRING","NUMBER","attachNumberRestrictions","NAN","POSITIVE_NUMBER","restrict","RATIO","DEGREE","NUMBER_OR_NAN","ARRAY","attachArrayRestrictions","ARRAY_OF","arrayMessage","isComparable","LESS_THAN","otherField","GREATER_THAN","DATE","DATE_OR_DATETIME_MS","colorMessage","COLOR_STRING","COLOR_STRING_ARRAY","BOOLEAN_ARRAY","NUMBER_ARRAY","STRING_ARRAY","DATE_ARRAY","OBJECT_ARRAY","LINE_CAP","UNION","LINE_JOIN","LINE_DASH","POSITION2","FONT_STYLE","FONT_WEIGHT2","TEXT_WRAP","TEXT_ALIGN","VERTICAL_ALIGN","OVERFLOW_STRATEGY","DIRECTION","PLACEMENT","INTERACTION_RANGE","LABEL_PLACEMENT","joinUnionOptions","MIN_SPACING","MAX_SPACING","option","lastValue","minLength","hasMin","hasMax","objectType","JSON","TICK_INTERVAL","AxisTick","ChartAxisDirection","ChartAxisDirection2","JSON_APPLY_PLUGINS","assignJsonApplyConstructedArray","ctor","_ContinuousScale","nice","tickCount","defaultTickCount","minTickCount","maxTickCount","niceDomain","defaultClampMode","transformInvert","calcBandwidth","smallestInterval","getDomain","rangeDistance","intervals","maxBands","bands","clampMode","d0","d1","d2","isReversed","rMin","rMax","toDomain","getPixelRange","defaultMaxTickCount","ContinuousScale","CONSTANTS","periods","days","shortDays","months","shortMonths","dayOfYear","startOfYear","startOffset","timeDiff","timeOneDay","weekOfYear","startDay","startOfYearDay","getDay","firstWeekStartOffset","SUNDAY","MONDAY","THURSDAY","isoWeekOfYear","firstOfYear","firstOfYearDay","firstThursdayOffset","timezone","unsignedOffset","pad","FORMATTERS","getMilliseconds","getHours","I","hours","M","getMinutes","L","Q","getSeconds","u","day2","U","V","W","X","Y","Z","%","PADS","padChar","output","repeat","buildFormatter","formatString","formatParts","nextEscapeIdx","literalPart","maybePadSpecifier","maybePad","maybeFormatterSpecifier","maybeFormatter","formatter","dateTime","dateTimeAsDate","dateToNumber","defaultTimeTickFormat","calculateDefaultTimeTickFormat","defaultTimeFormat","updateFormat","format2","getLowestGranularityFormat","startDomain","endDomain","startYear","stopYear","yearChange","formatStringBuilder","firstTick","lastTick","extent2","activeYear","activeDate","used","firstFormat","lastFormat","replaceAll","trim","createNumericTicks","takingValues","ticks_default","minCount","maxCount","tickStep","tickMultipliers","log10","multiplier","isWithinBounds","diffCount","sort","a2","b2","singleTickDomain","roundStart","roundStop","fractionalDigits","isDenseInterval","_ref11","availableRange","_TimeScale","getTickInterval","_ref12","countableTimeInterval","targetInterval","getIntervalIndex","tickIntervals","y0","diff0","diff1","t0","t1","getTicksForInterval","getDefaultTicks","_ref13","_ref14","ticks2","absInterval","reversedInterval","timeInterval","tickInterval","stopDate","setMilliseconds","tickFormat","_ref15","specifier","updateNiceDomain","maxAttempts","updateNiceDomainIteration","n0","n1","intervalRange","TimeScale","_OrdinalTimeScale","updateIndex","extents","indexShift","i2","nextValue","e02","e12","dateRange2","middleIndex","medianInterval","intervalIndex","dateRange","tickPositions","_ref16","tickEvery","_ref17","_ref18","OrdinalTimeScale","ascendingStringNumberUndefined","localeCompare","toLiteral","compoundAscending","comparator","idx","_Group","opacity","lastBBox","layer","moveLayer","isLayer","layersManager","removeLayer","initialiseLayer","addLayer","getComputedOpacity","getVisibility","counts","nonEmptyChildDerivedZIndex","deriveZIndexFromChildren","sortChildren","lastChild","debug3","forceRender","clipBBox","resized","canvasCtxTransform","isChildDirty","isChildLayerDirty","group","currentBBox","layersSkipped","nodesSkipped","groupVisible","save","pixelRatio","ctxTransform","beginPath","rect","globalAlpha","renderContextChanged","childRenderContext","skipped","restore","layersRendered","snapshot","verifyDepthZero","setClipRectInGroupCoordinateSpace","Group","Gradient","stops","LinearGradient","createGradient","angleOffset","diagonal","sqrt","diagonalAngle","quarteredAngle","gradient","createLinearGradient","addColorStop","LINEAR_GRADIENT_REGEXP","_Shape","strokeOpacity","defaultStyles","lineDashOffset","lineCap","lineJoin","fillShadow","restoreOwnStyles","onFillChange","linearGradientMatch","startsWith","exec","colors","colorsPart","colorRegex","align","canvas","alignedStart","fillStroke","renderFill","renderStroke","applyFill","applyFillAlpha","applyShadow","executeFill","shadowColor","fillStyle","shadowOffsetX","shadowOffsetY","shadowBlur","blur","strokeStyle","lineWidth","setLineDash","executeStroke","isPointInPath","Shape","Range","startLine","endLine","isRange","fillActive","moveTo","lineTo","closePath","strokeActive","memorizedFns","memorizedMap","memo","fnGenerator","serialisedParams","memoizeFunction","baseFn","_len20","rest","_key20","ellipsis","SceneFontChangeDetection","_Text","lines","textAlign","textBaseline","onTextChange","font","_font","getFont","lineHeight","getTextSizeMultiline","getLineHeight","metrics","measureText","fontBoundingBoxAscent","emHeightAscent","fontBoundingBoxDescent","emHeightDescent","point","renderLines","fillText","strokeText","renderCallback","lineHeights","totalHeight","offsetY","getVerticalModifier","wrapLines","maxWidth","maxHeight","textProps","overflow","canOverflow","measurer","TextMeasurer","truncated","truncText","truncated2","truncateLine","wrappedLines","cumulativeHeight","wrappedLine","wrapLine","wrap","initialSize","words","wrapResult","wrapLineSequentially","wordsBrokenOrTruncated","linesTruncated","linesCount","balanced","wrapLineBalanced","wrappedText","ln","breakWord","word","firstLineWidth","hyphens","isPunctuationAt","punctuationMarks","breaks","partWidth","limit","ellipsisMode","trimEnd","ellipsisWidth","trunc","truncWidth","defaultLineHeightRatio","hyphenate","spaceWidth","currentLine","getReturnValue","truncateLastLine","lastLine","addNewLine","expectedHeight","wordWidth","expectedSpaceWidth","expectedLineWidth","availWidth","totalWordsWidth","sum2","totalSpaceWidth","averageLineWidth","newLine","setFont","fontStyle","setAlign","textContext","_textContext","canvasElement","getContext","_measureText","getTextSize","_getTextSize","baselineDistance","actualBoundingBoxLeft","actualBoundingBoxAscent","actualBoundingBoxDescent","_ref19","_ref20","o","Text","fontProps","Label","calculateLabelRotation","parallelFlipRotation","regularFlipRotation","configuredRotation","parallelFlipFlag","regularFlipFlag","defaultRotation","parallel","getLabelSpacing","minSpacing","rotated","getTextBaseline","labelRotation","sideFlag","getTextAlign","labelAutoRotation","labelRotated","labelAutoRotated","alignFlag","calculateLabelBBox","labelX","labelY","labelMatrix","translatedBBox","Layers","Layers2","isStringObject","isNumberObject","isContinuous","checkDatum","isContinuousScale","transformIntegratedCategoryValue","MATCHING_CROSSLINE_TYPE","validateCrossLineValues","scale2","lineCrossLine","rangeCrossLine","isContinuous2","validStart","validEnd","horizontalCrosslineTranslationDirections","xTranslationDirection","yTranslationDirection","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight","verticalCrossLineTranslationDirections","calculateLabelTranslation","_ref21","yDirection","crossLineTranslationDirections","xTranslation","yTranslation","calculateLabelChartPadding","_ref22","chartPadding","POSITION_TOP_COORDINATES","_ref23","xEnd","yStart","yEnd","POSITION_LEFT_COORDINATES","_ref24","xStart","POSITION_RIGHT_COORDINATES","_ref25","POSITION_BOTTOM_COORDINATES","_ref26","POSITION_INSIDE_COORDINATES","_ref27","POSITION_TOP_LEFT_COORDINATES","_ref28","POSITION_BOTTOM_LEFT_COORDINATES","_ref29","POSITION_TOP_RIGHT_COORDINATES","_ref30","POSITION_BOTTOM_RIGHT_COORDINATES","_ref31","labelDirectionHandling","CROSSLINE_LABEL_POSITION","CartesianCrossLineLabel","_CartesianCrossLine","scale","clippedRange","gridLength","direction","LINE_LAYER_ZINDEX","labelGroup","LABEL_LAYER_ZINDEX","crossLineRange","crossLineLabel","labelPoint","group2","getZIndex","updateNodes","calculateLayout","reversedAxis","dataCreated","createNodeData","crossLineBox","labelBox","computeLabelBBox","updateRangeNode","updateLabel","positionLabel","getRange","ordinalTimeScalePadding","clampedYStart","clampedYEnd","validRange","RANGE_LAYER_ZINDEX","tempText","calculatePadding","_h","labelPadding","crossLineLabelBBox","CartesianCrossLine","ModuleMap","moduleMap","moduleInstance","addModule","moduleFactory","removeModule","moduleKey","getModule","isEnabled","mapModules","resetMotion_exports","resetMotion","propsFn","StateMachine","initialState","states","preTransitionCb","state","transition","event","currentStateConfig","destinationTransition","destinationState","action","content","optionalGroup","nonCapturingGroup","formatRegEx","comma","precision","tilde","surroundedRegEx","prefix","suffix","parseFormatter","surrounded","match","format","precisionIsNaN","formatBody","decimalTypes","integerTypes","formatterPrecision","removeTrailingZeros","insertSeparator","addSign","getSIPrefix","addPadding","absFloor","fromCharCode","toUpperCase","toExponential","E","F","G","getSIPrefixPower","numString","separator","dotIndex","integerChars","fractionalPart","siPrefixes","minSIPrefix","maxSIPrefix","minusSign","num","signType","plusSign","padStart","padEnd","padWidth","padLeft","padRight","digits","exp","_LogScale","baseLog","basePow","getBaseLogMethod","getBasePowerMethod","p0","p1","absDiff","isBaseInteger","isDiffLarge","isPositive","availableSpacing","lastTickPosition","nextMagnitudeTickPosition","tickPosition","prevSpacing","nextSpacing","fits","_ref32","log2","logBase","LogScale","Selection","_Selection","parentNode","classOrFactory","autoCleanup","garbageBin","_nodesMap","_nodes","nodeFactory","isPrototypeOf","select","garbageCollection","selectAll","results","traverse","selectByClass","Class","_len21","ExtraClasses","_key21","selectByTag","createNode","initializer","dataMap","datumId","newDatum","hasGarbage","each","iterate2","entry","pointsDistanceSquared","lineDistanceSquared","best","ix","iy","arcDistanceSquared","counterClockwise","startX","startY","endX","endY","distToArc","Line","px","py","devicePixelRatio","circleRectOverlap","unitCenter","edgeX","edgeY","rectRectOverlap","w2","h2","xOverlap","yOverlap","rectContainsRect","r2x","r2y","r2w","r2h","isPointLabelDatum","labelPlacements","placeLabels","bounds","labels","placement","center","withinBounds","overlapPoints","dataDatums","dataDatum","overlapLabels","l2","l3","axisLabelsOverlap","areArrayItemsStrictlyEqual","arrA","arrB","areArrayNumbersEqual","ProxyProperty","proxyPath","ProxyOnWrite","proxyProperty","ProxyPropertyOnWrite","childName","childProperty","ActionOnSet","newValueFn","oldValueFn","changeValue","changeValueFn","ObserveChanges","setAttribute","qualifiedName","removeAttribute","calculatePlacement","naturalWidth","naturalHeight","containerWidth","containerHeight","DEFAULT_TOOLTIP_CLASS","DEFAULT_TOOLTIP_DARK_CLASS","EMPTY_TOOLTIP_CONTENT","html","ariaLabel","toAccessibleText","inputHtml","lineConverter","_match","toTooltipHtml","backgroundColor","titleHtml","titleAria","contentHtml","TooltipPosition","Tooltip","enableInteraction","lastVisibilityChange","wrapTypes","showTimeout","_showArrow","element","root","isVisible","contains","show","canvasRect","meta","instantly","_i","toggle","positionType","tooltipBounds","getTooltipBounds","windowBounds","getWindowSize","clientWidth","clientHeight","constrained","defaultShowArrow","showArrow","updateShowArrow","innerWidth","innerHeight","toggleClass","include","wasVisible","timeSinceLastVisibilityChangeMs","animatedMoveThresholdMs","thrashingThresholdMs","noAnimation","wrapType","pointerLeftOntoTooltip","sourceEvent","relatedTarget","classes","classListContains","_ref33","tooltipWidth","tooltipHeight","offsetX","Caption","getOrAddRegion","moduleCtx","regionName","regionManager","getRegion","addRegionFromProperties","bboxproviders","canInteraction","registerInteraction","region","addListener","handleMouseMove","handleMouseLeave","computeTextWrap","updateTooltip","tooltipManager","lastPointerEvent","consume","_event","removeTooltip","SMALL_PADDING","LARGE_PADDING","GRID_STYLE_KEYS","GRID_STYLE","AxisGridLine","AxisLabel","autoWrap","mirrored","getSideFlag","AxisLine","AxisTitle","prepareAxisAnimationContext","requestedRangeMin","requestedRangeMax","fullCircle","halfCircle","normaliseEndRotation","directDistance","prepareAxisAnimationFunctions","outOfBounds","_node","_status","resetAxisGroupFn","resetAxisSelectionFn","rangeVisible","resetAxisLabelSelectionFn","resetAxisLineSelectionFn","_Axis","dataDomain","boundSeries","includeInvisibleDomains","interactionEnabled","axisGroup","lineNode","tickLineGroup","tickLabelGroup","crossLineGroup","gridGroup","gridLineGroup","tickLineGroupSelection","tickLabelGroupSelection","gridLineGroupSelection","createTick","createLabel","defaultTickMinSpacing","translation","layout","visibleRange","_titleCaption","gridPadding","seriesAreaPadding","tickGenerationResult","maxThickness","refreshScale","checkAxisHover","animationState","empty","resetSelectionNodes","ready","animateReadyUpdate","resize","_crossLines","assignCrossLineArrayConstructor","previousSize","layoutService","chart","respondsToZoom","updateService","minRect","crossLine","detachCrossLine","attachCrossLine","initCrossLine","resetAnimation","updateRange","rr","vr","span","shift","setCrossLinesVisible","attachAxis","axisNode","gridNode","detachAxis","inRange","tolerance","onLabelFormatChange","logScale","defaultLabelFormatter","labelFormatter","setTickInterval","setTickCount","continuous","onGridLengthChange","prevValue","onGridVisibilityChange","isInAxis","chartEventManager","axisHover","_primaryTickCount","animated","calculateRotations","updatePosition","lineData","getAxisLineCoordinates","tickData","combinedRotation","primaryTickCount","previousTicks","tickId","updateSelections","isSkipped","calculateUpdateDiff","updateAxisLine","updateLabels","updateVisibility","updateGridLines","updateTickLines","updateTitle","anyTickVisible","updateCrossLines","updateLayoutState","getTickLineCoordinates","getTickSize","getTickLabelProps","tickLabel","setTitleProps","caption","titleNode","titleRotationFlag","callbackCache","getTitleFormatterParams","updateScale","generateTicks","ticksResult","lineBox","tickLineBox","labelProps","getTransformBox","bbox2","axisRotation","getAxisTransform","titleBox","transformedBBox","anySeriesActive","isAnySeriesActive","setDomain","normaliseDataDomain","calculateDomain","_ref34","secondaryAxis","initialRotation","estimateTickCount","maxSpacing","maxIterations","rawTicks","labelCount","autoRotation","labelOverlap","terminate","tickStrategies","getTickStrategies","strategy","checkLabelOverlap","_ref35","avoidLabelCollisions","filterTicks","strategies","tickGenerationType","tickGenerationStrategy","_ref36","createTickData","tickFilterStrategy","_ref37","autoWrapStrategy","_ref38","wrapLabels","autoRotateStrategy","_ref39","getAutoRotation","regenerateTicks","unchanged","prevTicks","getTicks","shouldTerminate","labelData","createLabelData","labelSpacing","labelDatum","autoRotateAngle","_ref40","updateSecondaryAxisTicks","createTicks","halfBandwidth","tickIdCounts","filteredTicks","formatTick","tickSpacing","keepEvery","_ref41","rangeWithBleed","calculateRangeWithBleed","defaultMinSpacing","clampMaxTickCount","minRectDistance","_ref42","calculateAvailableRange","visibleScale","visibleSeries","domains","defaultMaxWidth","defaultMaxHeight","tickDatum","tickBBox","tickWidth","datumFormatter","formatDatum","clipTickLines","clipGrid","acc","names","getNames","getLayoutState","tickSize","getModuleMap","createModuleContext","axisContext","createAxisContext","axisId","seriesKeyProperties","seriesKeys","getKeyProperties","scaleValueFormatter","scaleBandwidth","scaleConvert","scaleInvert","selectionCtx","previous","tickMap","changed","Axis","CartesianAxisLabel","_CartesianAxis","thickness","updateDirection","CartesianAxis","CategoryAxisTick","CategoryAxis","_paddingOverrideEnabled","uniqueValues","paddings","getBandScalePadding","inner","outer","TreeNode","number","subtreeLeft","subtreeRight","screenX","screenY","leafCount","prelim","ancestor","change","depth","getLeftSibling","getLeftmostSibling","nextLeft","thread","nextRight","getSiblings","ticksToTree","pad2","insertTick","pathParts","lastPartIndex","pathPart","partIndex","existingNode","isNotLeaf","moveSubtree","wm","wp","subtrees","ratio","vim","defaultAncestor","executeShifts","apportion","vop","vip","vom","sip","sop","sim","som","firstWalk","midpoint","leftSibling","Dimensions","secondWalk","thirdWalk","treeLayout","TreeLayout","dimensions","leafNodes","nonLeafNodes","shiftX","shiftY","flipX","xSteps","ySteps","existingSpacingX","desiredSpacingX","existingSpacingY","desiredSpacingY","screenDimensions","GroupedCategoryAxisLabel","grid","GroupedCategoryAxis","tickScale","labelColor","gridLineSelection","axisLineSelection","separatorSelection","labelSelection","resizeTickTree","tickTreeLayout","isNumericX","flatDomains","domain2","computedLayout","updateTitleCaption","updateCategoryLabels","updateSeparators","updateAxisLines","updateCategoryGridLines","tickLabelLayout","separatorLayout","axisLineLayout","gridSelection","styleCount","computeLayout","rangeStart","rangeEnd","rangeLength","isHorizontal","treeLabels","isLabelTree","copyLabelProps","labelBBoxes","maxLeafLabelWidth","setLabelProps","isCaptionEnabled","isInRange","isLeaf","labelGrid","separatorData","minX","separatorBoxes","separatorBox","axisLineBoxes","lineCount","hasConstrainedCanvasMemory","iPhoneOSMatch","userAgent","major","minor","_HdpiCanvas","insertAsFirstChild","onEnabledChange","debugContext","drawImage","toDataURL","clearRect","onContainerChange","firstChild","bind","HdpiCanvas","LayersManager","_LayersManager","layersMap","nextZIndex","nextLayerId","sortLayers","_ref43","newLayer","newZIndex","newZIndexSubOrder","debugStats","debugSplitTimes","renderCtxStats","extraDebugStats","performance","durations","splits","_ref44","time","extras","_ref45","detailedStats","pct","statsSize","accumulate","fillRect","stat","debugSceneNodeHighlight","debugNodes","strokeRect","buildTree","virtualParentDirty","virtualParent","childTree","treeNodeName","childNode","selectedKey","buildDirtyTree","dirtyTree","paths","childrenDirtyTree","rendered","total","Scene","_ref46","canvasPosition","pendingSize","setContainer","setRoot","attachNode","fileFormat","getDataURL","renderStartTime","redrawType","tree","canvasCleared","layerRenderStart","resetTransform","strip","icons_default","reset_default","theme_default_default","theme_default_dark_default","styles_default","sleep","sleepTimeoutMs","Mutex","available","acquireQueue","acquire","cb","dispatchNext","catch","acquireImmediately","waitForClearAcquireQueue","Observable","eventListeners","addEventListener","eventType","listener","eventTypeListeners","removeEventListener","hasEventListener","clearEventListeners","fireEvent","Padding","debouncedAnimationFrame","buildScheduler","innerCb","_delayMs","requestAnimationFrame","debouncedCallback","delayMs","scheduleFn","scheduleCount","promiseRunning","awaitingPromise","awaitingDone","busy","scheduleCb","maybePromise","schedule","await","SizeMonitor","documentReady","queuedObserveRequests","onLoad","_ref47","observe","ResizeObserver","resizeObserver","contentRect","checkSize","disconnect","removeFromQueue","unobserve","_ref48","CallbackCache","cache","_len22","_key22","paramCache","invoke","invalidateCache","AnnotationManager","annotationRoot","setAnnotationStyles","getAnnotationTypeStyles","Listeners","registeredListeners","handler","removeListener","eventSymbol","matchIndex","dispatch","_len23","_key23","getListenersByType","dispatchWrapHandlers","wrapFn","_len24","_key24","DataService","dispatchOnlyLatest","dispatchThrottle","requestThrottle","isLoadingInitialData","isLoadingData","freshRequests","requestCounter","throttledFetch","createThrottledFetch","throttledDispatch","createThrottledDispatch","updateCallback","dataSourceCallback","clearCallback","load","isLazy","isLoading","fetch","response","requestIndex","rid","AnimationBatch","maxAnimationTime","controllers","stoppedCbs","currentPhase","phases","skipAnimations","animationTimeConsumed","isReady","consumedTimeMs","isActive","getActiveControllers","checkOverlappingId","addAnimation","animation","animationPhaseIdx","removeAnimation","progress","deltaTime","unusedTime","phase2","phaseControllers","phaseMeta","arePhasesComplete","progressPhase","phaseDeltaTime","skipPhase","completeCount","controller","skipAll","dispatchStopped","stopByAnimationGroupId","BaseManager","listenerSymbol","buildConsumable","builtEvent","consumed","Event","preventDefault","buildConsumptionHandler","dispatchTypedConsumable","POINTER_INTERACTION_TYPES","FOCUS_INTERACTION_TYPES","KEY_INTERACTION_TYPES","WINDOW_EVENT_HANDLERS","EVENT_HANDLERS","CSS","InteractionState","InteractionState2","_InteractionManager","keyboardOptions","eventHandler","processEvent","mouseDown","touchDown","clickHistory","dblclickHistory","stateQueue","rootElement","passive","triggeringStates","currentState","getState","pushState","popState","decideInteractionEventTypes","dispatchEvent","dispatchPointerEvent","coords","calculateCoordinates","buildPointerEvent","recordDown","MouseEvent","dragStartElement","recordUp","dragStart","isEventOverElement","mouseButtonDown","buttons","parentElement","getMouseEventCoords","TouchEvent","lastTouch","touches","changedTouches","clientX","clientY","pageX","pageY","NULL_COORDS","PageTransitionEvent","persisted","offsets","offsetLeft","offsetTop","offsetParent","offsetDragStart","offsetEvent","isWheelEvent","getBoundingClientRect","pageRect","deltaX","deltaY","factor","deltaMode","pointerHistory","InteractionManager","validAnimationDuration","testee","AnimationManager","interactionManager","chartUpdateMutex","batch","rafAvailable","requestId","failsafeOnError","random","forceTimeJump","requestAnimation","cancelAnimation","skipCurrentBatch","stack","isSkippingFrames","scheduleAnimationFrame","_animation","_defaultDuration","prevTime","onAnimationFrame","executeAnimationFrame","controllersCount","deltaMs","cancelAnimationFrame","startBatch","endBatch","onBatchStop","AriaAnnouncementService","_AriaAnnouncementService","liveElem","createAnnouncer","announceValue","textContent","ChartEventManager","legendItemClick","itemId","legendItemName","legendItemDoubleClick","numVisibleItems","ContextMenuRegistry","defaultActions","disabledActions","copyDefaultActions","registerDefaultAction","_ref49","enableAction","actionId","disableAction","isDisabled","StateTracker","defaultState","stateId","stateValue","CursorManager","stateTracker","updateCursor","callerId","cursor","getCursor","finger1","finger2","distance","MIN_DISTANCE_TO_START_PINCH","GestureDetector","touchstart","onTouchStart","touchmove","onTouchMove","touchend","onTouchEnd","touchcancel","onTouchCancel","pinch","origin","findPinchTouches","moveEvent","copyTouchData","dispatchPinchEvent","deltaDistance","newEvent","stopPinchTracking","pinchTouches","touch1","touch2","newDistance","HighlightManager","highlightStates","pickedStates","updateHighlight","highlightedDatum","activeHighlight","previousHighlight","currentHighlight","getActiveHighlight","updatePicked","clickableDatum","activePicked","getActivePicked","KeyNavManager","hasBrowserFocus","isMouseBlurred","isClicking","onClickStart","onClickStop","mouseBlur","onBlur","onFocus","onKeyDown","code","shiftKey","interactionEvent","focusStyles_exports","block","css","modifiers","wrapper","indicator","REGION_TAB_ORDERING","RegionListeners","RegionManager","keyNavManager","currentTabIndex","isDragging","leftCanvas","regions","eventName","processPointerEvent","onNav","onTab","focusWrapper","focusIndicator","block3","modifiers3","currentRegion","makeObserver","addRegion","bboxprovider","_len25","extraProviders","_key25","matches","_name","provider","ObservableRegionImplementation","checkPointerHistory","targetRegion","historyEvent","historyRegion","pickRegion","handleDragging","newRegion","matchingRegions","getTabRegion","tabIndex","dispatchTabStart","startEvent","focusedRegion","getNextInteractableTabIndex","currentIndex","validateCurrentTabIndex","newIndex","newTabIndex","blurEvent","updateFocusIndicatorRect","updateFocusWrapperRect","ToolbarManager","isGroup","pressButton","toggleGroup","toggleButton","proxyGroupOptions","defaultTooltipCss","TooltipManager","appliedState","IntersectionObserver","observer","intersectionRatio","applyStates","getTooltipMeta","renderInstantly","makeTooltipMeta","interaction","refPoint","yBar","upperPoint","midPoint","datumMidPoint","contentGroup","LayoutService","layoutComplete","isLayoutStage","isLayoutComplete","dispatchPerformLayout","stage","dispatchLayoutComplete","SeriesStateManager","registerSeries","_ref50","grouping","deregisterSeries","_ref51","getVisiblePeerGroupIndex","_ref52","visibleGroupCount","visibleSameStackCount","visibleGroupsSet","visibleSameStackSet","visibleGroups","ChartUpdateType","ChartUpdateType2","UpdateService","dispatchUpdateComplete","rects","minVisibleRect","ChartContext","vars","scene","syncManager","updateMutex","chartService","zoomManager","annotationManager","ariaAnnouncementService","contextMenuRegistry","cursorManager","highlightManager","toolbarManager","gestureDetector","seriesStateManager","dataService","ChartHighlight","DiscreteDomain","_DiscreteDomain","ContinuousDomain","_ContinuousDomain","extendDomain","toKeyString","round2","accuracy","isInteger","fixNumericExtentInternal","fixNumericExtent","fixedExtent","paddingMin","paddingMax","getMissCount","scopeProvider","missMap","INVALID_VALUE","DataModel","scopeCache","aggregates","groupProcessors","propertyProcessors","reducers","processors","verifyMatchGroupId","_ref53","matchGroupIds","matchGroupId","missing","resolveProcessedDataDefById","scope","searchId","resolveProcessedDataIndexById","resolveProcessedDataDefsByIds","searchIds","resolveProcessedDataDefsValues","defs","_ref54","processedData","getDomainsByType","aggValues","processData","groupByKeys","groupByFn","extractData","groupData","postProcessGroups","aggregateData","postProcessProperties","reduceData","postProcessData","missCount","scopeHint","logProcessedData","idsMap","ids","valueGroupIdxLookup","_ref55","valueIdxLookup","scopes","noScopesToMatch","propId","hasMatchingScopeId","validDefScopes","processValue","allScopesHaveSameDefs","initDataDomainProcessor","sourcesById","keyDefs","valueDefs","resultData","resultDataIdx","partialValidDataCount","datumIdx","sourceDatums","validScopes","keyIdx","valueDefIdx","valueDatum","includeProperty","propertyDomain","defDomain","groupingFn","dataEntry","groupStr","existingData","resultGroups","dataIndex","isUngrouped","indices","groupAggValues","groupAggregateFunction","distinctValues","valuesToAgg","valueIdx","valuesAgg","aggregateFunction","finalValues","finalFunction","affectedIndices","updatedDomains","groupProcessorIndices","groupProcessorInitFns","processor","adjust","valueDef","isDiscrete","valueType","updateDomains","valueIndex","valueIndexes","adjustFn","reduced","reducer","accValue","initialValue","calculate","processorFns","initDataDomain","accessors","buildAccessors","valueInDatum","missingValue","forceValue","valueNegative","missingValueDef","validation","invalidValue","isPath","fnBody","logValues","flattenedValues","skipKeys","skipAggValues","_DataController","requested","request","execute","validateRequests","merged","mergeRequested","_ref56","needsValueExtraction","hasMultipleDataSources","resolves","dataModel","requestIdx","processScopedData","splitResult","validRequests","restRequests","extractDatum","extracted","otherId","extractValues","groupByData","groupMatch","mergeRequests","_ref57","_ref58","_ref59","requests","_c2","createIdsMap","existing","deepEqual","mergeIdsMap","fromMap","toMap","DataController","_SyncManager","subscribe","DEFAULT_GROUP","syncGroup","chartsGroups","unsubscribe","getChart","getGroup","getGroupSiblings","SyncManager","ZoomManager","axisZoomManagers","rejectCallbacks","updateAxes","zoomManagers","AxisZoomManager","updateZoom","newZoom","canChangeInitial","rejectCallback","getDirection","applyChanges","updateAxisZoom","fireZoomPanStartEvent","getZoom","getAxisZoom","getAxisZooms","zoom","currentZoom","prevZoom","Keyboard","makeKeyboardPointerEvent","pick","showFocusBox","CARTESIAN_AXIS_POSITIONS","CARTESIAN_AXIS_TYPES","hasCartesianAxisPosition","allowedTypes","isCartesianAxisOptions","isAxisPosition","allowedPositions","AxisPositionGuesser","guessInvalidPositions","takenPosition","guesses","invalidAxis","nextGuess","MATCHING_KEYS","matchSeriesOptions","optSeries","oldOptsSeries","generateKey","optsMap","overlap","oldKeys","newKeys","changes","targetIdx","optArray","seriesArray","outputSeries","outputIdx","previousOpts","diff","ModulesManager","applyOptions","legends","DEFAULT_OVERLAY_CLASS","DEFAULT_OVERLAY_DARK_CLASS","Overlay","defaultText","getText","getElement","focusBox","renderer","htmlContent","replaceChildren","alignItems","justifyContent","boxSizing","margin","innerText","removeElement","ChartOverlays","getFocusInfo","overlay","defaultOverlayCss","getLoadingSpinner","flexDirection","userSelect","backgroundImage","backgroundSize","backgroundRepeat","marginTop","inset","animationStyles","sumValues","accumulator","sum","groupSum","range2","groupAverage","area","aggFn","keyRange","keyWidth","accumulatedValue","onlyPositive","trailingAccumulatedValue","trailingValue","SMALLEST_KEY_INTERVAL","prevX","smallestSoFar","nextX","SORT_DOMAIN_GROUPS","_ref60","normaliseFnBuilder","_ref61","normaliseTo","normalise","valuesExtent","valIdx","normaliseGroupTo","normalisePropertyFnBuilder","_ref62","zeroDomain","rangeMin","rangeMax","normaliseSpan","pData","pIdx","groupValues","normalisePropertyTo","animationValidation","valueKeyIds","uniqueKeys","orderedKeys","valueKeys","processKey","keyValues","keyValue","buildGroupAccFn","_ref63","separateNegative","currentVal","accIndex","buildGroupWindowAccFn","_ref64","lastValues","firstRow","sumValue","accumulateGroup","modeParam","endsWith","previousData","updateMovedData","moved","prevId","createDatumId","primitiveType","_len26","extraKeys","_key26","SeriesNodePickMode","SeriesNodePickMode2","basicContinuousCheckDatumValidation","basicDiscreteCheckDatumValidation","getValidationFn","scaleType","getValueType","keyProperty","propName","valueProperty","rangedValueProperty","defOpts","accumulativeValueProperty","trailingAccumulatedValueProperty","groupAccumulativeValueProperty","rangeId","SeriesNodeEvent","_ref65","seriesId","SeriesGroupingChangedEvent","oldGrouping","Series","seriesOpts","NodeEvent","internalId","rootGroup","directions","nodeDataRefresh","_declarationOrder","seriesListeners","pickModes","directionKeys","directionNames","contentGroupVirtual","canHaveAxes","getGroupZIndexSubOrder","highlightGroup","highlightNode","highlightLabel","annotationGroup","_data","_chartData","visibleChanged","hasData","tooltipEnabled","onDataChange","setOptionsData","setChartData","onSeriesGroupingChange","subIndex","mainAdjust","main","addChartEventListeners","getDirectionValues","resolvedDirection","resolveKeyDirection","addValues","_len27","items","_key27","seriesDomain","getSeriesDomain","moduleDomains","flat","markNodeDataDirty","getOpacity","defaultOpacity","isItemIdHighlighted","getStrokeWidth","defaultStrokeWidth","getModuleTooltipParams","getTooltipParams","current","limitPickModes","pickMode","pickNodeExactShape","pickNodeMainAxisFirst","pickNodeClosestDatum","_point","pickNodeNearestDistantObject","_requireCategoryAxis","fireNodeClickEvent","fireNodeDoubleClickEvent","createNodeContextMenuActionEvent","toggleSeriesItem","getLabelText","defaultFormatter","getMarkerStyle","defaultStyle","getStyle","defaultSize","markerStyle","updateMarkerStyle","markerNode","applyTranslation","dirtyPath","updatePath","checkPathDirty","getMinRects","_width","_height","nodeDataDependencies","_nodeDataDependencies","seriesRectWidth","seriesRectHeight","checkResize","newSeriesRect","newNodeDataDependencies","pickFocus","highlightedZIndex","newVal","oldVal","SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION","SeriesLayerManager","seriesRoot","highlightRoot","expectedSeriesCount","setSeriesCount","requestGroup","seriesConfig","seriesRootGroup","seriesHighlightGroup","seriesAnnotationGroup","lookupIndex","lookupIdx","groupInfo","seriesIds","highlight","annotation","layerState","changeGroup","releaseGroup","leadSeriesConfig","BaseLayoutProcessor","chartLike","positionPadding","shrinkRect","positionCaptions","newShrinkRect","updateCaption","defaultCaptionHeight","captionLineHeight","computeX","positionTopAndShrinkBBox","baseY","bboxHeight","positionBottomAndShrinkBBox","DataWindowProcessor","dirtyZoom","dirtyDataSource","lastAxisZooms","onDataSourceChange","onDataLoad","onDataError","onUpdateComplete","onZoomChange","updateWindow","getValidAxis","shouldRefresh","zoom2","getAxisWindow","windowStart","windowEnd","lastZoom","OverlaysProcessor","onLayoutComplete","_ref66","anySeriesVisible","toggleOverlay","seriesRect","SeriesArea","_Chart","resources","_this2","this","_firstAutoSize","seriesArea","destroyed","_skipSync","_destroyFns","chartAnimationPhase","modulesManager","queuedUserOptions","_pendingFactoryUpdatesCount","_performUpdateNoRenderCount","_performUpdateSkipAnimations","performUpdateType","updateShortcutCount","seriesToUpdate","updateRequestors","performUpdateTrigger","_0","_ref67","_this","performUpdate","_performUpdateSplits","focus","hasFocus","seriesIndex","datumIndex","pointerScheduler","lastInteractionEvent","handlePointer","onSeriesNodeClick","seriesNodeClickEvent","onSeriesNodeDoubleClick","seriesNodeDoubleClick","seriesGroupingChanged","seriesLayerManager","dataProcessListeners","chartOptions","axisGridGroup","sizeMonitor","rawResize","overrideDevicePixelRatio","autoSize","All","getModuleContext","seriesRegion","onClick","onDoubleClick","onMouseMove","onLeave","onNavVert","onNavHori","onSubmit","onBrowserFocus","onContextMenu","onAnimationStart","changeHighlightDatum","resetPointer","forceNodeDataRefresh","getInstance","chartsInstances","getCanvasDataURL","onAutoSizeChange","_lastAutoSize","getAriaLabel","captionText","nSeries","resetAnimations","animationRect","keepTransferableResources","destroySeries","highlightOnly","requestFactoryUpdate","newAnimationBatch","skipSync","backOffMs","previousSplit","updateSplits","splitName","updateDeferred","updateDOM","updateData","checkUpdateShortcut","checkFirstAutoSize","processLayout","tooltipMeta","durationMs","updateThemeClassName","themeClassNamePrefix","validThemeClassNames","themeClassName","isDark","checkUpdateType","maxShortcuts","onAxisChange","onSeriesChange","seriesToDestroy","isMiniChart","addSeriesListeners","updateAllSeriesListeners","assignSeriesToAxes","seriesAxis","assignAxesToSeries","directionToAxesMap","directionAxes","newAxis","_ref68","autoWidth","authHeight","modulePromises","syncModule","syncAxes","dataController","seriesPromises","getLegendData","getLabelData","warnConflicts","legendData","isCategoryLegendData","seriesMarkerFills","seriesTypeMap","markerFill","oldRect","performLayout","pickSeriesNode","exactMatchOnly","maxDistance","reverseSeries","handleFocus","Default2","ContextMenu","checkSeriesNodeRange","datumIndexDelta","overlayFocus","handleSeriesFocus","keyboardEvent","getTooltipHtml","isHoverEvent","redisplay","_this3","lastPick","hoverRect","disablePointer","handlePointerTooltip","handlePointerNode","pixelRange","isNewDatum","isPixelRange","exactlyMatched","rangeMatched","shouldUpdateTooltip","found","checkSeriesNodeClick","checkSeriesNodeDoubleClick","nearestNode","pickedNode","allMatch","pastEvent","historyPoint","historyNode","newSeries","lastSeries","lastDatum","updateAll","waitForUpdate","timeoutMs","failOnTimeout","waitForDataProcess","timeout","minRects","maxVisibleWidth","maxVisibleHeight","minRect2","minVisibleRect2","filterMiniChartSeries","showInMiniChart","oldOpts","deltaOptions","completeOptions","modulesChanged","applyModules","registerListeners","seriesStatus","applySeries","applyAxes","navigatorModule","zoomModule","applyMiniChartOptions","annotationThemes","shouldForceNodeDataRefresh","majorChange","updateType","maybeResetAnimations","seriesDataUpdate","legendKeys","optionsHaveLegend","legendKey","otherRefreshUpdate","oldSeries","miniChartSeriesStatus","horizontalAxis","miniChartOpts","labelOptions","intervalOptions","isConfigured","shouldBeEnabled","attachLegend","oldOptSeries","matchResult","createSeries","seriesInstances","dataChanged","groupingChanged","isUpdated","applySeriesValues","forceRecreate","matchingTypes","axisDiff","createAxis","seriesInstance","applySeriesOptionModules","moduleDef","moduleOptions","guesser","applyAxisModules","Chart","linearRoot","quadraticRoots","D","roots","t2","cubicRoots","R","third","T","Im","theta","acos","thirdA","twoSqrtQ","t3","segmentIntersection","ax1","ay1","ax2","ay2","bx1","by1","bx2","by2","ua","ub","cubicSegmentIntersections","px1","py1","px2","py2","px3","py3","px4","py4","intersections","bx","bezierCoefficients","by","tt","ttt","P1","P2","P3","P4","arcIntersections","i1x","i2x","isXInsideLine","adjacent","opposite","ExtendedPath2D","path2d","Path2D","previousCommands","previousParams","previousClosedPath","commands","openedPath","closedPath","getPath2D","roundRect","radii","arc","sAngle","eAngle","cubicCurveTo","cx1","cy1","cx2","cy2","bezierCurveTo","trackChanges","cn","ox","oy","intersectionCount","ci","pi","nx","ny","getPoints","ScenePathChangeDetection","Path","_clipX","_clipY","clipX","clipY","_clipPath","isDirtyPath","clipMode","drawPath","QuadtreeNearest","capacity","maxdepth","boundary","QuadtreeNodeNearest","addValue","hitTester","elem","addElem","arg","QuadtreeSubdivisions","nw","ne","sw","se","QuadtreeNode","elems","subdivisions","addCondition","subdivide","findCondition","findAction","newElem","makeSubdivisions","halfWidth","halfHeight","nwBoundary","neBoundary","swBoundary","seBoundary","_QuadtreeNodeNearest","Marker","applyPath","moves","mx","my","translate","Circle","_Cross","Cross","_Diamond","Diamond","Heart","rad","degree","Pin","_Plus","Plus","Square","hs","Star","spikes","innerRadius","xCoordinate","yCoordinate","_Triangle","Triangle","MARKER_SHAPES","circle","cross","diamond","heart","pin","plus","square","star","triangle","MARKER_SUPPORTED_SHAPES","isMarkerShape","getMarker","DataModelSeries","getScaleInformation","_ref69","xScale","yScale","isContinuousX","isContinuousY","xScaleType","yScaleType","getModulePropertyDefinitions","mod2","getPropertyDefinitions","requestDataModel","isProcessedDataAnimatable","validationResults","checkProcessedDataAnimatable","doPickFocus","derivedSeries","nodeData","getNodeData","computeFocusDatumIndex","seriesItemEnabled","computeFocusBounds","isDatumEnabled","datumIndex2","nodeDatum","searchBackward","searchForward","clampedIndex","SeriesItemHighlightStyle","SeriesHighlightStyle","TextHighlightStyle","HighlightStyle","SeriesProperties","DEFAULT_CARTESIAN_DIRECTION_KEYS","DEFAULT_CARTESIAN_DIRECTION_NAMES","CartesianSeriesNodeEvent","nativeEvent","yKey","CartesianSeriesProperties","CartesianSeries","pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","otherOpts","dataNodeGroup","markerGroup","highlightSelection","markerFactory","highlightLabelSelection","annotationSelections","minRectsCache","dirtyNodeData","datumSelection","markerSelection","animateEmptyUpdateReady","disable","animateReadyHighlight","highlightMarkers","animateReadyHighlightMarkers","animateReadyResize","waiting","animateWaitingUpdateReady","disabled","resetAllAnimation","clearing","animateClearingUpdateEmpty","contextNodeData","_contextNodeData","onLegendItemClick","onLegendItemDoubleClick","_ref70","_this4","previousContextData","seriesHighlighted","highlightItems","updateHighlightSelection","animationData","getAnimationData","anySeriesItemEnabled","animationSkipUpdate","isPathOrSelectionDirty","markQuadtreeDirty","animationValid","updateSeriesSelections","contextData","updatePaths","updateDatumSelection","updateLabelSelection","updateMarkerSelection","MarkerShape","superFn","pathOffset","highlightedItems","animationEnabled","updateMarkerNodes","isHighlight","updateDatumNodes","updateLabelNodes","updatePathNodes","getHighlightLabelData","highlightedItem","labelItems","ld","getHighlightData","_nodeData","labelsEnabled","isLabelEnabled","updateHighlightSelectionItem","updateHighlightSelectionLabel","quadtree","datumNodesIter","getQuadTree","initQuadTree","_quadtree","pickNodeExact","xAxis","yAxis","hitPoint","closestDatum","datumX","datumY","modPick","pickNodeNearest","requireCategoryAxis","directions2","primaryDirection","hitPointCoords","datumPoint","newMinDistance","dist","closestDistanceSquared","matchedLegendItemName","shouldFlipXY","sizeCache","newSizeCache","dirtySize","computeMinRects","minRectXs","minRectYs","zeroX","widthX","zeroY","heightY","minVisibleRectXs","minVisibleRectYs","animationTransitionClear","calculateScaling","_CartesianChart","paired","firstSeriesTranslation","_lastCrossLineIds","_lastAxisWidths","_lastClipSeries","_lastVisibility","visibility","clipSeries","seriesPaddedRect","paddedRect","performCartesianLayout","inputShrinkRect","crossLineIds","axesValid","axisWidths","liveAxisWidths","stableOutputs","otherAxisWidths","otherClipSeries","otherVisibility","_ref71","otherW","ceilValues","records","lastPassAxisWidths","lastPassVisibility","lastPassClipSeries","primaryTickCounts","updateAxesPass","clipRectPadding","lastPassSeriesRect","visited","newAxisWidths","paddedBounds","applySeriesPadding","crossLinePadding","buildCrossLinePadding","axisBound","buildAxisBound","buildSeriesRect","newClipSeries","axisThickness","axisOffset","calculateAxisDimensions","addInterAxisPadding","positionAxis","side","reversedAxes","dir","horizontalPadding","verticalPadding","totalWidth","clampToOutsideSeriesRect","dimension","clampBounds","compareTo","clampFn","isCategory","isLeftRight","isVertical","paddedBoundsCoefficient","axisPadding","CartesianChart","_AgChartInstanceProxy","isInstance","validateImplementation","chartProps","signatureProps","chartInstances","AgChartInstanceProxy","LinearScale","getTickStep","prev0","prev1","_ref72","specifiedTicks","calculateNiceSecondaryAxis","calculateNiceStart","segments","order","magnitude","stepPower","calculateNextNiceStep","NumberAxisTick","NumberAxis","NON_ZERO_NUMBER","LogAxis","isInverted","crossesZero","hasZeroExtent","invalidDomain","TimeAxisTick","TimeAxis","epsilon","cornerEdges","leadingEdge","trailingEdge","leadingInset","trailingInset","cornerRadius","leadingClipped","trailingClipped","leading0","leading1","trailing0","trailing1","drawCorner","_ref73","move","insetCornerRadiusRect","cornerRadii","topLeftCornerRadius","topRightCornerRadius","bottomRightCornerRadius","bottomLeftCornerRadius","maxVerticalCornerRadius","maxHorizontalCornerRadius","borderScale","drawTopLeftCorner","drawTopRightCorner","drawBottomRightCorner","drawBottomLeftCorner","topLeftCorner","topRightCorner","bottomRightCorner","bottomLeftCorner","didMove","Rect","borderPath","crisp","lastUpdatePathStrokeWidth","effectiveStrokeWidth","hittester","distanceCalculator","microPixelEffectOpacity","pixelSize","lx","borderClipPath","ly","halfStrokeWidth","adjustedClipBBox","hitX","hitY","Background","rectNode","BackgroundModule","gridLayout","_ref74","orientation","bboxes","itemPaddingY","itemPaddingX","forceResult","horizontal","primary","secondary","processedBBoxCount","rawPages","unprocessedBBoxes","processBBoxes","pageIndices","buildPages","indexOffset","minGuess","startingGuess","estimateStartingGuess","guess","calculatePage","primaryCount","sumSecondary","currentMaxSecondary","currentPrimaryIndices","maxPrimaryValues","bboxIndex","primaryValueIdx","primaryValue","currentSecondaryDimension","returnResult","sumPrimary","maxPageWidth","maxPageHeight","pages","transpose","endIndex","columns","colIndices","colBBoxes","columnHeight","columnWidth","pageWidth","pageHeight","column","startIndex","innerData","dataIdx","itemIdx","primarySum","MarkerLabel","_marker","_markerSize","_spacing","markerSize","setSeriesStrokeOffset","xOff","lineEnd","markerEnd","PaginationLabel","PaginationMarkerStyle","PaginationMarker","onMarkerShapeChange","Pagination","chartUpdateCallback","pageUpdateCallback","labelNode","totalPages","currentPage","nextButtonDisabled","previousButtonDisabled","_visible","_enabled","_orientation","_nextButton","_previousButton","nextButton","previousButton","onPaginationClick","onPaginationMouseMove","updateMarkers","updateGroupVisibility","updatePositions","enableOrDisableButtons","updateLabelPosition","updateNextButtonPosition","markerPadding","labelBBox","highlightActive","buttonStyle","button","updateMarker","zeroPagesToDisplay","onLastPage","onFirstPage","nextButtonContainsPoint","previousButtonContainsPoint","clickNext","incrementPage","onPaginationChanged","clickPrevious","decrementPage","setPage","pageNumber","Marker2","attachPagination","LegendLabel","LegendMarker","LegendLine","LegendItem","showSeriesStroke","LegendListeners","Legend","itemSelection","oldSize","maxPageSize","paginationTrackingIndex","truncatedItems","characterWidths","page","updatePageNumber","checkLegendClick","checkLegendDoubleClick","handleLegendMouseMove","handleLegendMouseExit","handleLegendMouseEnter","onTabStart","positionLegend","detachLegend","getOrientation","getCharacterWidths","cw","getItemLabel","calcLayout","markerShape","itemLine","itemMaxWidthPercentage","maxItemWidth","paddedMarkerWidth","markerLabel","markerEnabled","labelText","truncate","lineVisible","markerVisible","updatePagination","maxCharLength","ellipsis2","textChars","addEllipsis","labelWidth","truncatedText","cumulativeWidth","char","trackingIndex","paginationBBox","paginationVertical","calculatePagination","newCurrentPage","paginationComponentPadding","legendItemsWidth","legendItemsHeight","paginationX","paginationY","lastPassPaginationBBox","stableOutput","getPageItemCount","col","getNodeIndexFromFocusIndex","itemCount","visibleStart","visibleEnd","columnCount","rowCount","itemHeight","rowSumColumnWidths","pageIndex","columnIndex","rowIndex","itemMarker","markerStroke","markerStrokeWidth","markerFillOpacity","markerStrokeOpacity","lineStroke","lineStrokeOpacity","lineStrokeWidth","lineLineDash","getDatumForPoint","visibleChildBBoxes","closestLeftTop","childBBox","distX","distY","toTheLeftTop","pageBBox","computePagedBBox","actualBBox","doClick","preventHidingAll","newEnabled","clickedItem","doHover","doMouseExit","clickListener","dblclickListener","updateFocus","consumeTabStart","newMode","pageItemCount","getFocusedItem","maybeChangeFocusPage","oldPage","oldPageItemCount","legendWidth","legendHeight","calculateLegendDimensions","legendBBox","calculateTranslationPerpendicularDimension","legendPadding","legendPositionedBBox","aspectRatio","maxCoefficient","minHeightCoefficient","minWidthCoefficient","heightCoefficient","widthCoefficient","CommunityLegendModule","RangeHandle","_fill","_stroke","_strokeWidth","_lineCap","_centerX","_centerY","_gripLineGap","_gripLineLength","gripLineGap","gripLineLength","minHandle","maxHandle","handlePixelAlign","minHandleX","maxHandleX","handleY","RangeMask","computeVisibleRangeBBox","maxX","pixelAlign","ax","ay","axw","ayh","RangeSelector","lOffset","rOffset","updateBackground","oldGroup","newGroup","Navigator","mask","rangeSelector","_min","_max","minRange","dragStates","onHover","onDragStart","onDrag","onDragEnd","_ref75","_this5","navigatorTotalHeight","layoutNodes","dragging","panStart","warnOnConflict","NavigatorModule","singleSeriesPaletteFactory","_ref76","markerPaletteFactory","pathMotion","addPhaseFn","updatePhaseFn","removePhaseFn","updateFn","preInit","sanitizeHtml","seriesLabelFadeInAnimation","_ref77","_len28","labelSelections","_key28","seriesLabelFadeOutAnimation","_ref78","_len29","_key29","resetLabelFn","ChangeDetectableProperties","DropShadow","MARKER_SHAPE","SeriesMarker","getDiameter","SeriesTooltipInteraction","SeriesTooltip","AreaSeriesProperties","xName","shadow","connectMissingData","markerFadeInAnimation","_ref79","_len30","markerSelections","_key30","markerScaleInAnimation","_ref80","_len31","_key31","markerSwipeScaleInAnimation","_ref81","seriesWidth","_len32","_key32","resetMarkerFn","resetMarkerPositionFn","prepareMarkerAnimation","pairMap","parentStatus","readFirstPair","xValue","markerStatus","computeMarkerFocusBounds","_ref82","getFormattedMarkerStyle","minMax","_ref83","intersectionOnLine","targetX","backfillPathPoint","process","processFn","prevMarkerIdx","nextMarkerIdx","toProcess","backfillPathPointData","splitMode","sIdx","eIdx","calculatePoint","xd","yd","xr","yr","renderPartialPath","pairData","ratios","linePath","previousTo","moveToRatio","midPointX","midPointY","pathSwipeInAnimation","_ref84","_len33","_key33","pathFadeInAnimation","_ref85","_len34","_key34","pathFadeOutAnimation","_ref86","_len35","_key35","buildResetPathFn","clipScalingX","updateClipPath","_ref87","toFinite","isContinuousScaling","scaling","isCategoryScaling","areEqual","areScalingEqual","domainRatio","matchingIndex","scalesChanged","newData","oldData","scales","closeMatch","an","bn","calculateMoveTo","pairContinuousData","backfillSplitMode","toNewScale","oldDatum","yValue","toOldScale","resultMap","pairUp","resultPoint","oldIdx","newIdx","minFromNode","maxFromNode","minToNode","maxToNode","fromShifted","toUnshifted","NA","pairCategoryData","multiDatum","resultMapSingle","resultMapMulti","pointResultMapping","in","out","previousResultPoint","previousXValue","addToResultMap","newPoint","oldIndex","isXUnordered","before","after","bXValue","aXValue","previousX","pathPoint","unordered","determinePathStatus","prepareLinePathPropertyAnimation","visibleToggleMode","_path","mixin","prepareLinePathAnimationFns","pathProperties","prepareLinePathAnimation","isCategoryBased","wasCategoryBased","hasMotion","pathFns","AreaSeriesTag","AreaSeriesTag2","splitFillPoints","points","phantomPoints","fillData","prepPoints","pairFillCategoryData","oldPoints","newPoints","pairOpts","pairFillContinuousData","prepareAreaPathAnimation","prepareMarkerPairs","prepareFillPairs","markerPairMap","stackVisible","fadeMode","AreaSeries","normalizedTo","extraProps","keyDef","yExtent","fixedYExtent","groupedData","seriesFill","seriesStroke","createMovePoint","plainPoint","createPathCoordinates","lastYEnd","prevYCoordinate","currYCoordinate","createMarkerCoordinate","xDatum","rawYDatum","currY","markerData","strokeData","fillPoints","fillPhantomPoints","strokePoints","lastXDatum","lastYDatum","datumGroup","datumArray","valuesArray","seriesDatum","dataValues","yValueRaw","yDatum","yValueCumulative","yValueStart","yValueEnd","yValuePreviousStart","yValuePreviousEnd","validPoint","cumulativeValue","yName","xValid","yValid","prevTop","prevBottom","updateAreaPaths","updateFillPath","updateStrokePath","fillPath","lastPoint","strokePath","highlighted","baseStyle","labelEnabled","xString","yString","useAreaFill","AreaSeriesModule","__extends__","childrenIter","addHitTestersToQuadtree","hitTesters","findQuadtreeMatch","AbstractBarSeriesProperties","AbstractBarSeries","groupScale","smallestDataInterval","getBarDirection","getCategoryDirection","getValueAxis","getCategoryAxis","updateGroupScale","xBandWidth","barWidth","BarSeriesLabel","BarSeriesProperties","updateRect","_ref88","getRectConfig","isHighlighted","checkCrisp","visibleMin","visibleMax","isZoomed","isDatumNegative","collapsedStartingBarPosition","startingX","startingY","getStartingValues","prevDatum","midpointStartingBarPosition","prepareBarAnimationFunctions","initPos","isRemoved","resetBarSelectionsFn","_ref89","computeBarFocusBounds","barGroup","updateLabelNode","textNode","adjustLabelPlacement","_ref90","BarSeries","stackGroupName","stackGroupTrailingName","visibleProps","smallestKeyInterval","categoryAxis","valueAxis","scalePadding","keysExtent","yReversed","barOffset","xIndex","yRawIndex","yStartIndex","yEndIndex","yRangeIndex","_ref91","prevY","yRawValue","isUpward","yRange","barX","bottomY","barAlongX","bboxBottom","barRect","labelFontStyle","labelFontWeight","labelFontSize","labelFontFamily","lengthRatioMultiplier","capDefaults","lengthMax","itemHighlightStyle","categoryAlongX","_ref92","dataDiff","_ref93","datumBox","BarSeriesModule","errorBar","cap","lengthRatio","convertColorStringToOklcha","interpolateOklch","xH","yH","deltaH","ColorScale","parsedRange","BubbleSeriesMarker","maxSize","BubbleSeriesLabel","BubbleSeriesProperties","colorRange","BubbleSeriesNodeEvent","sizeKey","BubbleSeries","sizeScale","colorScale","colorScaleType","sizeScaleType","labelKey","colorDomain","colorKey","sizeKeyIdx","processedSize","colorKeyIdx","dataDef","sizeName","labelName","xDataIdx","yDataIdx","sizeDataIdx","colorDataIdx","labelDataIdx","sizeValue","placedLabels","_ref94","BubbleSeriesModule","HistogramSeriesProperties","areaPlot","aggregation","defaultBinCount","HistogramSeries","calculatedBins","deriveBins","xDomain","binStarts","binSize","firstBinEnd","expandStartToBin","calculateNiceBins","binCount","startGuess","getBins","bins","calculatePrecision","aggProp","dataSet","xExtent","nextBin","yDomain","xDomainMin","xDomainMax","negativeAgg","positiveAgg","frequency","xMinPx","xMaxPx","yZeroPx","yMaxPx","selectionDatumLabel","nodeMidPoint","yAxisReversed","aggregatedValue","isDatumHighlighted","seriesFillOpacity","highlightedFill","highlightFillOpacity","highlightedStroke","highlightedDatumStrokeWidth","_ref95","_ref96","HistogramSeriesModule","_ref97","LineSeriesProperties","LineSeries","xDef","xIdx","yIdx","nextPoint","_j","color0","updateLinePaths","LineSeriesModule","ScatterSeriesLabel","ScatterSeriesProperties","ScatterSeries","_ref98","ScatterSeriesModule","SectorBox","_SectorBox","outerRadius","isPointInSector","sector","lineCollidesSector","outerStart","outerEnd","innerStart","innerEnd","boxCollidesSector","radiiScalingFactor","sweep","fs1","fs","clockwiseAngle","relativeToStartAngle","clockwiseAngles","fullPie","sweepAngle","arcRadialLineIntersectionAngle","clipAngle","sinA","cosA","p0x","p0y","p1x","p1y","tanA","cotA","normalisedX","normalisedY","p0DotNormalized","p1DotNormalized","arcCircleIntersectionAngle","circleR","deltaTheta","Arc","pointAt","clipStart","clipEnd","Sector","clipSector","concentricEdgeInset","radialEdgeInset","startOuterCornerRadius","endOuterCornerRadius","startInnerCornerRadius","endInnerCornerRadius","normalizedRadii","normalizedClipSector","clipAngles","getAngleOffset","angleSweep","outerArc","innerArc","innerAngleOffset","outerAngleOffset","circleClipStart","circleClipEnd","theta2","radialArc","outerAngleExceeded","hasInnerSweep","innerAngleExceeded","radialLength","maxRadialLength","initialScalingFactor","outerScalingFactor","innerScalingFactor","maxCombinedRadialLength","edgesScalingFactor","startOuterCornerRadiusAngleSweep","endOuterCornerRadiusAngleSweep","startOuterCornerRadiusSweep","endOuterCornerRadiusSweep","maxStartOuterCornerRadius","maxEndOuterCornerRadius","startInnerCornerRadiusAngleSweep","endInnerCornerRadiusAngleSweep","outerArcRadius","outerArcRadiusOffset","innerArcRadius","innerArcRadiusOffset","startOuterArc","endOuterArc","endInnerArc","startInnerArc","midAngle","DonutTitle","DonutInnerLabel","_reset","DonutInnerCircle","DonutSeriesCalloutLabel","minAngle","maxCollisionOffset","DonutSeriesSectorLabel","positionOffset","positionRatio","DonutSeriesCalloutLine","DonutSeriesProperties","outerRadiusOffset","outerRadiusRatio","sectorSpacing","innerCircle","calloutLabel","sectorLabel","calloutLine","__BACKGROUND_COLOR_DO_NOT_USE","superIsValid","innerRadiusRatio","innerRadiusOffset","preparePieSeriesAnimationFunctions","initialLoad","rotationDegrees","scaleFn","oldScaleFn","oldScale","scaleToNewRadius","_ref99","scaleToOldRadius","_ref100","sect","_ref101","sectorFormat","_sect","_ref102","innerCircleFromFn","innerCircleToFn","resetPieSelectionsFn","pickByMatchingAngle","sectors","getItemNodes","computeSectorFocusBounds","pointVars","rightAngles","rightAngle","_ref103","xs","ys","PolarSeries","useLabelLayer","itemGroup","computeLabelsBBox","_options","_seriesRect","DonutSeriesNodeEvent","angleKey","radiusKey","calloutLabelKey","sectorLabelKey","DonutSeries","previousRadiusScale","radiusScale","backgroundGroup","zerosumRingsGroup","zerosumOuterRing","zerosumInnerRing","innerCircleGroup","surroundingRadius","angleScale","pieCalloutLabels","pieSectorLabels","calloutLabelSelection","sectorLabelSelection","innerLabelsSelection","innerCircleSelection","legendItemKey","extraKeyProps","radiusScaleType","angleScaleType","radiusMin","radiusMax","maybeRefreshNodeData","getProcessedDataIndexes","angleIdx","radiusIdx","calloutLabelIdx","sectorLabelIdx","legendItemIdx","currentStart","angleValue","radiusValue","legendItemValue","getLabels","getSectorFormat","midCos","midSin","skipDisabled","calloutLabelValue","sectorLabelValue","labelFormatterParams","angleName","radiusName","calloutLabelName","sectorLabelName","getTextAlignment","collisionTextAlign","collisionOffsetY","legendItem","quadrantTextOpts","midAngle180","quadrantStart","quadrantOffset","quadrant","quadrantIndex","formatIndex","defaultStroke","getInnerRadius","getOuterRadius","updateRadiusScale","newRange","getTitleTranslationY","titleOffset","_ref104","_this6","updateTitleNodes","bboxIntersectsSurroundingSeries","updateNodeMidPoint","oldTitle","updateGroupSelection","updateInnerCircleSelection","circleRadius","antiAliasingPadding","datums","_ref105","updateSectorFn","_index","animationDisabled","updateCalloutLineNodes","updateCalloutLabelNodes","updateSectorLabelNodes","updateInnerLabelNodes","updateZerosumRings","calloutLength","calloutStrokeWidth","calloutColors","isMoved","paddedLength","getLabelOverflow","seriesLeft","seriesRight","seriesTop","seriesBottom","errPx","visibleTextPart","hasVerticalOverflow","textLength","hasSurroundingSeriesOverflow","corners","sur2","corner","computeCalloutLabelCollisionOffsets","shouldSkip","fullData","leftLabels","rightLabels","topLabels","bottomLabels","tempTextNode","getTextBBox","labelRadius","avoidNeighbourYCollision","collidesOrBehind","avoidYCollisions","midLabel","midIndex","avoidXCollisions","labelsCollideLabelsByY","paddedBoxes","labelsCollideLabelsByX","labelsCollideSectors","displayText","textBoxes","titleCleanArea","hideWhenNecessary","isTooShort","isTextVisible","sectorBounds","_ref106","textBBoxes","margins","getMarginTop","getMarginBottom","labelsVisible","textBottoms","getDatumLegendName","titleText","labelParts","toggleOtherSeriesItems","_ref107","datumItemId","supportedDiff","hasKeys","hasUniqueKeys","getDatumIdFromData","pieTheme","piePaletteFactory","_ref108","DonutSeriesModule","PieTitle","DonutInnerLabel2","DonutInnerCircle2","PieSeriesCalloutLabel","PieSeriesSectorLabel","PieSeriesCalloutLine","PieSeriesProperties","PieSeriesNodeEvent","PieSeries","_ref109","_this7","_ref110","isDonut","singleVisibleSector","shouldPutTextInCenter","_ref111","_ref112","PieSeriesModule","TOOLBAR_ALIGNMENTS","TOOLBAR_GROUPS","ToolbarPosition","ToolbarPosition2","TOOLBAR_POSITIONS","ToolbarGroupProperties","onChange","onButtonsChange","block2","elements2","icon","modifiers2","preventFlash","floatingHidden","css2","Toolbar","onGroupChanged","onGroupButtonsChanged","ranges","floatingDetectionRange","positions","positionAlignments","groupCallers","groupButtons","pendingButtonToggledEvents","groupProxied","renderToolbar","toggleVisibilities","onButtonToggled","onGroupToggled","onProxyGroupOptions","destroyElements","FloatingBottom","FloatingTop","bottomDetectionY","bottomVisible","offsetHeight","topDetectionY","topVisible","translateFloatingElements","isTargetButton","createGroup","createGroupButtons","dataset","toolbarValue","createButtonElement","processPendingEvents","_ref113","_this8","offsetWidth","paddingTop","paddingBottom","isGroupVisible","isButtonVisible","buttonVisible","alignments","alignmentElement","toolbarGroup","onclick","onButtonPress","DAY","MONTH","YEAR","_start","ToolbarModule","toolbar","registerInbuiltModules","setupModules","axisTypes","axisTypeTheme","innerAxisType","expectedButUnused","_HierarchyChart","fullSeriesRect","HierarchyChart","PolarAxis","_PolarChart","computeSeriesRect","computeCircle","angleAxis","radiusAxis","angles","computeRange","gridAngles","gridRange","seriesBox","_this9","polarSeries","polarAxes","setSeriesCircle","pieSeries","innerRadii","initialRadius","shake","_len36","_key36","_this10","labelBoxes","refined","refineCircle","labelsBox","minCircleRatio","circleLeft","circleTop","circleRight","circleBottom","padTop","padBottom","availCircleWidth","availCircleHeight","newRadius","minHorizontalRadius","minVerticalRadius","minRadius","padHeight","newWidth","newHeight","PolarChart","radsInDeg","lonX","lon","latY","lat","xLon","yLat","atan","MercatorScale","_MercatorScale","lon0","lat0","lon1","lat1","fixedScale","_ref114","_ref115","isTopologySeries","_TopologyChart","setChartTopology","mapSeries","combinedBbox","combined","topologyBounds","viewBoxScale","viewBoxWidth","viewBoxHeight","viewBoxOriginX","viewBoxOriginY","xZoom","yZoom","xSpan","ySpan","seriesVisible","TopologyChart","debug2","chartType","_AgCharts","licenseCheck","licenseChecked","licenseManager","setLicenseKey","licenseKey","gridContext","validateLicense","setGridContext","getLicenseDetails","AgChartsInternal","createOrUpdate","isDisplayWatermark","injectWatermark","getWatermarkMessage","INVALID_CHART_REF_MESSAGE","updateDelta","updateUserDelta","getImageDataURL","AgCharts","AgChart","memberName","_AgChartsInternal","initialiseModules","initialised","proxy","userWindow","createChartInstance","agChartInstances","chartRef","lastUpdateOptions","prepareResizedChart","_ref116","cloneProxy","oldChart","transferableResource","ChartConstructor","getChartByOptions","VERSION","integrated_charts_scene_exports","Arc2","Image","LinearGradientFill","RadialColumnShape","easing","getRadialColumnWidth","motion","_mask","newMask","pixelLength","maskBbox","i0","i1","rotatePoint","isBeveled","axisInnerRadius","axisOuterRadius","isRadiusAxisReversed","getRotation","updateBeveledPath","updateRectangularPath","_ref117","isStackBottom","sideRotation","pointRotation","rotate","getTriangleHypotenuse","leg","otherLeg","getTriangleLeg","hypotenuse","compare","otherValue","lessThan","shouldConnectBottomCircle","hasBottomIntersection","bottomIntersectionX","bottomLeftPt","isEmpty","hasSideIntersection","sideIntersectionY","topIntersectionX","topLeftPt","topRightBevelPt","topRightPt","bottomRightPt","rotatedBottomLeftPt","columnWidthRatio","maxColumnWidthRatio","colWidth","sourceImage","image","integrated_charts_theme_exports","themes2","themeFactory","sparklines_scale_exports","sparklines_util_exports","isNumberEqual","zipObject","zipped","module_support_exports","HierarchyNode","HierarchySeries","HierarchySeriesProperties","LonLatBBox","Motion","__FORCE_MODULE_DETECTION2","convertValuesToScaleByDefs","_ref118","_HierarchyNode","colorValue","sumSize","walk","Walk","PreOrder","PostOrder","rootNode","maxDepth","childrenKey","minColor","maxColor","appendChildren","childIndex","_ref119","_this11","datumSelections","groupSelection","colorName","_ModuleSupport","_Scale","_Scene","_Theme","_Util"],"sources":["/Users/kanishk/Desktop/aggrid/node_modules/ag-charts-community/dist/package/main.esm.mjs"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __reflectGet = Reflect.get;\nvar __knownSymbol = (name, symbol) => {\n  return (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\n};\nvar __pow = Math.pow;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nvar __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar __await = function(promise, isYieldStar) {\n  this[0] = promise;\n  this[1] = isYieldStar;\n};\nvar __yieldStar = (value) => {\n  var obj = value[__knownSymbol(\"asyncIterator\")];\n  var isAwait = false;\n  var method;\n  var it = {};\n  if (obj == null) {\n    obj = value[__knownSymbol(\"iterator\")]();\n    method = (k) => it[k] = (x) => obj[k](x);\n  } else {\n    obj = obj.call(value);\n    method = (k) => it[k] = (v) => {\n      if (isAwait) {\n        isAwait = false;\n        if (k === \"throw\")\n          throw v;\n        return v;\n      }\n      isAwait = true;\n      return {\n        done: false,\n        value: new __await(new Promise((resolve) => {\n          var x = obj[k](v);\n          if (!(x instanceof Object))\n            throw TypeError(\"Object expected\");\n          resolve(x);\n        }), 1)\n      };\n    };\n  }\n  return it[__knownSymbol(\"iterator\")] = () => it, method(\"next\"), \"throw\" in obj ? method(\"throw\") : it.throw = (x) => {\n    throw x;\n  }, \"return\" in obj && method(\"return\"), it;\n};\n\n// packages/ag-charts-community/src/options/chart/errorBarOptions.ts\nvar AgErrorBarSupportedSeriesTypes = [\"bar\", \"line\", \"scatter\"];\n\n// packages/ag-charts-community/src/options/chart/navigatorOptions.ts\nvar __MINI_CHART_SERIES_OPTIONS = {};\nvar __VERIFY_MINI_CHART_SERIES_OPTIONS = void 0;\n__VERIFY_MINI_CHART_SERIES_OPTIONS = __MINI_CHART_SERIES_OPTIONS;\n\n// packages/ag-charts-community/src/options/chart/tooltipOptions.ts\nvar AgTooltipPositionType = /* @__PURE__ */ ((AgTooltipPositionType2) => {\n  AgTooltipPositionType2[\"POINTER\"] = \"pointer\";\n  AgTooltipPositionType2[\"NODE\"] = \"node\";\n  AgTooltipPositionType2[\"TOP\"] = \"top\";\n  AgTooltipPositionType2[\"RIGHT\"] = \"right\";\n  AgTooltipPositionType2[\"BOTTOM\"] = \"bottom\";\n  AgTooltipPositionType2[\"LEFT\"] = \"left\";\n  AgTooltipPositionType2[\"TOP_LEFT\"] = \"top-left\";\n  AgTooltipPositionType2[\"TOP_RIGHT\"] = \"top-right\";\n  AgTooltipPositionType2[\"BOTTOM_RIGHT\"] = \"bottom-right\";\n  AgTooltipPositionType2[\"BOTTOM_LEFT\"] = \"bottom-left\";\n  return AgTooltipPositionType2;\n})(AgTooltipPositionType || {});\n\n// packages/ag-charts-community/src/options/chart/themeOptions.ts\nvar __THEME_OVERRIDES = {};\nvar __VERIFY_THEME_OVERRIDES = void 0;\n__VERIFY_THEME_OVERRIDES = __THEME_OVERRIDES;\n\n// packages/ag-charts-community/src/options/agChartOptions.ts\nvar __FORCE_MODULE_DETECTION = 0;\n\n// packages/ag-charts-community/src/util/time/index.ts\nvar time_exports = {};\n__export(time_exports, {\n  day: () => day,\n  friday: () => friday,\n  hour: () => hour,\n  millisecond: () => millisecond,\n  minute: () => minute,\n  monday: () => monday,\n  month: () => month,\n  saturday: () => saturday,\n  second: () => second,\n  sunday: () => sunday,\n  thursday: () => thursday,\n  tuesday: () => tuesday,\n  utcDay: () => utcDay,\n  utcHour: () => utcHour,\n  utcMinute: () => utcMinute,\n  utcMonth: () => utcMonth,\n  utcYear: () => utcYear,\n  wednesday: () => wednesday,\n  year: () => year\n});\n\n// packages/ag-charts-community/src/util/function.ts\nvar doOnceState = /* @__PURE__ */ new Map();\nfunction doOnce(func, key) {\n  if (doOnceState.has(key))\n    return;\n  doOnceState.set(key, true);\n  func();\n}\ndoOnce.clear = () => doOnceState.clear();\nfunction identity(x) {\n  return x;\n}\nfunction* iterate(...iterators) {\n  for (const iterator of iterators) {\n    yield* __yieldStar(iterator);\n  }\n}\nfunction* iterateReverseArray(array) {\n  for (let j = array.length - 1; j >= 0; j--) {\n    yield array[j];\n  }\n}\nfunction throttle(callback, waitMs = 0, options) {\n  const { leading = true, trailing = true } = options != null ? options : {};\n  let timerId;\n  let lastArgs;\n  let shouldWait = false;\n  function timeoutHandler() {\n    if (trailing && lastArgs) {\n      timerId = setTimeout(timeoutHandler, waitMs);\n      callback(...lastArgs);\n    } else {\n      shouldWait = false;\n    }\n    lastArgs = null;\n  }\n  function throttleCallback(...args) {\n    if (shouldWait) {\n      lastArgs = args;\n    } else {\n      shouldWait = true;\n      timerId = setTimeout(timeoutHandler, waitMs);\n      if (leading) {\n        callback(...args);\n      } else {\n        lastArgs = args;\n      }\n    }\n  }\n  return Object.assign(throttleCallback, {\n    cancel() {\n      clearTimeout(timerId);\n      shouldWait = false;\n      lastArgs = null;\n    }\n  });\n}\nfunction joinFunctions(...fns) {\n  return () => {\n    for (const fn of fns) {\n      fn();\n    }\n  };\n}\n\n// packages/ag-charts-community/src/util/logger.ts\nvar Logger = {\n  log(...logContent) {\n    console.log(...logContent);\n  },\n  warn(message, ...logContent) {\n    console.warn(`AG Charts - ${message}`, ...logContent);\n  },\n  error(message, ...logContent) {\n    if (typeof message === \"object\") {\n      console.error(`AG Charts error`, message, ...logContent);\n    } else {\n      console.error(`AG Charts - ${message}`, ...logContent);\n    }\n  },\n  table(...logContent) {\n    console.table(...logContent);\n  },\n  warnOnce(message, ...logContent) {\n    doOnce(() => Logger.warn(message, ...logContent), `Logger.warn: ${message}`);\n  },\n  errorOnce(message, ...logContent) {\n    doOnce(() => Logger.error(message, ...logContent), `Logger.error: ${message}`);\n  }\n};\n\n// packages/ag-charts-community/src/util/time/interval.ts\nvar TimeInterval = class {\n  constructor(_encode, _decode, _rangeCallback) {\n    this._encode = _encode;\n    this._decode = _decode;\n    this._rangeCallback = _rangeCallback;\n  }\n  /**\n   * Returns a new date representing the latest interval boundary date before or equal to date.\n   * For example, `day.floor(date)` typically returns 12:00 AM local time on the given date.\n   * @param date\n   */\n  floor(date) {\n    const d = new Date(date);\n    const e = this._encode(d);\n    return this._decode(e);\n  }\n  /**\n   * Returns a new date representing the earliest interval boundary date after or equal to date.\n   * @param date\n   */\n  ceil(date) {\n    const d = new Date(Number(date) - 1);\n    const e = this._encode(d);\n    return this._decode(e + 1);\n  }\n  /**\n   * Returns an array of dates representing every interval boundary after or equal to start (inclusive) and before stop (exclusive).\n   * @param start Range start.\n   * @param stop Range end.\n   * @param extend If specified, the requested range will be extended to the closest \"nice\" values.\n   */\n  range(start, stop, extend) {\n    var _a;\n    const rangeCallback = (_a = this._rangeCallback) == null ? void 0 : _a.call(this, start, stop);\n    const e0 = this._encode(extend ? this.floor(start) : this.ceil(start));\n    const e1 = this._encode(extend ? this.ceil(stop) : this.floor(stop));\n    if (e1 < e0) {\n      return [];\n    }\n    const range3 = [];\n    for (let e = e0; e <= e1; e++) {\n      const d = this._decode(e);\n      range3.push(d);\n    }\n    rangeCallback == null ? void 0 : rangeCallback();\n    return range3;\n  }\n};\nvar CountableTimeInterval = class extends TimeInterval {\n  getOffset(snapTo, step) {\n    const s = typeof snapTo === \"number\" || snapTo instanceof Date ? this._encode(new Date(snapTo)) : 0;\n    return Math.floor(s) % step;\n  }\n  /**\n   * Returns a filtered view of this interval representing every step'th date.\n   * It can be a number of minutes, hours, days etc.\n   * Must be a positive integer.\n   * @param step\n   */\n  every(step, options) {\n    let offset4 = 0;\n    let rangeCallback;\n    const unsafeStep = step;\n    step = Math.max(1, Math.round(step));\n    if (unsafeStep !== step) {\n      Logger.warnOnce(`interval step of [${unsafeStep}] rounded to [${step}].`);\n    }\n    const { snapTo = \"start\" } = options != null ? options : {};\n    if (typeof snapTo === \"string\") {\n      const initialOffset = offset4;\n      rangeCallback = (start, stop) => {\n        const s = snapTo === \"start\" ? start : stop;\n        offset4 = this.getOffset(s, step);\n        return () => offset4 = initialOffset;\n      };\n    } else if (typeof snapTo === \"number\") {\n      offset4 = this.getOffset(new Date(snapTo), step);\n    } else if (snapTo instanceof Date) {\n      offset4 = this.getOffset(snapTo, step);\n    }\n    const encode13 = (date) => {\n      const e = this._encode(date);\n      return Math.floor((e - offset4) / step);\n    };\n    const decode13 = (encoded) => {\n      return this._decode(encoded * step + offset4);\n    };\n    return new TimeInterval(encode13, decode13, rangeCallback);\n  }\n};\n\n// packages/ag-charts-community/src/util/time/millisecond.ts\nfunction encode(date) {\n  return date.getTime();\n}\nfunction decode(encoded) {\n  return new Date(encoded);\n}\nvar millisecond = new CountableTimeInterval(encode, decode);\nvar millisecond_default = millisecond;\n\n// packages/ag-charts-community/src/util/time/duration.ts\nvar epochYear = (/* @__PURE__ */ new Date(0)).getFullYear();\nvar durationSecond = 1e3;\nvar durationMinute = durationSecond * 60;\nvar durationHour = durationMinute * 60;\nvar durationDay = durationHour * 24;\nvar durationWeek = durationDay * 7;\nvar durationMonth = durationDay * 30;\nvar durationYear = durationDay * 365;\n\n// packages/ag-charts-community/src/util/time/second.ts\nvar offset = (/* @__PURE__ */ new Date()).getTimezoneOffset() * durationMinute;\nfunction encode2(date) {\n  return Math.floor((date.getTime() - offset) / durationSecond);\n}\nfunction decode2(encoded) {\n  return new Date(offset + encoded * durationSecond);\n}\nvar second = new CountableTimeInterval(encode2, decode2);\nvar second_default = second;\n\n// packages/ag-charts-community/src/util/time/minute.ts\nvar offset2 = (/* @__PURE__ */ new Date()).getTimezoneOffset() * durationMinute;\nfunction encode3(date) {\n  return Math.floor((date.getTime() - offset2) / durationMinute);\n}\nfunction decode3(encoded) {\n  return new Date(offset2 + encoded * durationMinute);\n}\nvar minute = new CountableTimeInterval(encode3, decode3);\nvar minute_default = minute;\n\n// packages/ag-charts-community/src/util/time/hour.ts\nvar offset3 = (/* @__PURE__ */ new Date()).getTimezoneOffset() * durationMinute;\nfunction encode4(date) {\n  return Math.floor((date.getTime() - offset3) / durationHour);\n}\nfunction decode4(encoded) {\n  return new Date(offset3 + encoded * durationHour);\n}\nvar hour = new CountableTimeInterval(encode4, decode4);\nvar hour_default = hour;\n\n// packages/ag-charts-community/src/util/time/day.ts\nfunction encode5(date) {\n  const tzOffsetMs = date.getTimezoneOffset() * durationMinute;\n  return Math.floor((date.getTime() - tzOffsetMs) / durationDay);\n}\nfunction decode5(encoded) {\n  const d = new Date(1970, 0, 1);\n  d.setDate(d.getDate() + encoded);\n  return d;\n}\nvar day = new CountableTimeInterval(encode5, decode5);\nvar day_default = day;\n\n// packages/ag-charts-community/src/util/time/week.ts\nfunction weekday(weekStart) {\n  const thursday2 = 4;\n  const dayShift = (7 + weekStart - thursday2) % 7;\n  function encode13(date) {\n    const tzOffsetMs = date.getTimezoneOffset() * durationMinute;\n    return Math.floor((date.getTime() - tzOffsetMs) / durationWeek - dayShift / 7);\n  }\n  function decode13(encoded) {\n    const d = new Date(1970, 0, 1);\n    d.setDate(d.getDate() + encoded * 7 + dayShift);\n    return d;\n  }\n  return new CountableTimeInterval(encode13, decode13);\n}\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar week_default = sunday;\n\n// packages/ag-charts-community/src/util/time/month.ts\nfunction encode6(date) {\n  return date.getFullYear() * 12 + date.getMonth();\n}\nfunction decode6(encoded) {\n  const year2 = Math.floor(encoded / 12);\n  const month2 = encoded - year2 * 12;\n  return new Date(year2, month2, 1);\n}\nvar month = new CountableTimeInterval(encode6, decode6);\nvar month_default = month;\n\n// packages/ag-charts-community/src/util/time/year.ts\nfunction encode7(date) {\n  return date.getFullYear();\n}\nfunction decode7(encoded) {\n  const d = /* @__PURE__ */ new Date();\n  d.setFullYear(encoded);\n  d.setMonth(0, 1);\n  d.setHours(0, 0, 0, 0);\n  return d;\n}\nvar year = new CountableTimeInterval(encode7, decode7);\nvar year_default = year;\n\n// packages/ag-charts-community/src/util/time/utcMinute.ts\nfunction encode8(date) {\n  return Math.floor(date.getTime() / durationMinute);\n}\nfunction decode8(encoded) {\n  return new Date(encoded * durationMinute);\n}\nvar utcMinute = new CountableTimeInterval(encode8, decode8);\n\n// packages/ag-charts-community/src/util/time/utcHour.ts\nfunction encode9(date) {\n  return Math.floor(date.getTime() / durationHour);\n}\nfunction decode9(encoded) {\n  return new Date(encoded * durationHour);\n}\nvar utcHour = new CountableTimeInterval(encode9, decode9);\n\n// packages/ag-charts-community/src/util/time/utcDay.ts\nfunction encode10(date) {\n  return Math.floor(date.getTime() / durationDay);\n}\nfunction decode10(encoded) {\n  const d = /* @__PURE__ */ new Date(0);\n  d.setUTCDate(d.getUTCDate() + encoded);\n  d.setUTCHours(0, 0, 0, 0);\n  return d;\n}\nvar utcDay = new CountableTimeInterval(encode10, decode10);\n\n// packages/ag-charts-community/src/util/time/utcMonth.ts\nfunction encode11(date) {\n  return date.getUTCFullYear() * 12 + date.getUTCMonth();\n}\nfunction decode11(encoded) {\n  const year2 = Math.floor(encoded / 12);\n  const month2 = encoded - year2 * 12;\n  return new Date(Date.UTC(year2, month2, 1));\n}\nvar utcMonth = new CountableTimeInterval(encode11, decode11);\n\n// packages/ag-charts-community/src/util/time/utcYear.ts\nfunction encode12(date) {\n  return date.getUTCFullYear();\n}\nfunction decode12(encoded) {\n  const d = /* @__PURE__ */ new Date();\n  d.setUTCFullYear(encoded);\n  d.setUTCMonth(0, 1);\n  d.setUTCHours(0, 0, 0, 0);\n  return d;\n}\nvar utcYear = new CountableTimeInterval(encode12, decode12);\n\n// packages/ag-charts-community/src/module/enterpriseModule.ts\nvar enterpriseModule = {\n  isEnterprise: false\n};\n\n// packages/ag-charts-community/src/module/module.ts\nvar BaseModuleInstance = class {\n  constructor() {\n    this.destroyFns = [];\n  }\n  destroy() {\n    for (const destroyFn of this.destroyFns) {\n      destroyFn();\n    }\n  }\n};\nvar ModuleRegistry = class {\n  constructor() {\n    this.modules = [];\n    this.dependencies = /* @__PURE__ */ new Set();\n    this.dependents = /* @__PURE__ */ new Set();\n  }\n  register(...modules) {\n    for (const module of modules) {\n      this.registerDependencies(module);\n      const otherModule = this.modules.find(\n        (other) => module.type === other.type && module.optionsKey === other.optionsKey && module.identifier === other.identifier\n      );\n      if (otherModule) {\n        if (module.packageType === \"enterprise\" && otherModule.packageType === \"community\") {\n          const index = this.modules.indexOf(otherModule);\n          this.modules.splice(index, 1, module);\n        }\n      } else {\n        this.modules.push(module);\n      }\n    }\n  }\n  hasEnterpriseModules() {\n    return this.modules.some((m) => m.packageType === \"enterprise\");\n  }\n  *byType(...types) {\n    for (const module of this.modules) {\n      if (types.includes(module.type) && this.dependencies.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && !this.dependencies.has(module.optionsKey) && !this.dependents.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n    for (const module of this.modules) {\n      if (types.includes(module.type) && this.dependents.has(module.optionsKey)) {\n        yield module;\n      }\n    }\n  }\n  registerDependencies(module) {\n    if (module.dependencies == null || module.dependencies.length === 0)\n      return;\n    if (this.dependencies.has(module.optionsKey)) {\n      throw new Error(\n        `Module [${module.optionsKey}] can not both be depended upon by any module and have dependencies of [${module.dependencies}].`\n      );\n    }\n    for (const dep of module.dependencies) {\n      if (this.dependents.has(dep)) {\n        throw new Error(\n          `Module [${dep}] can not both be depended upon by any module and have dependencies of [${module.optionsKey}].`\n        );\n      }\n      this.dependencies.add(dep);\n    }\n    this.dependents.add(module.optionsKey);\n  }\n};\nvar moduleRegistry = new ModuleRegistry();\n\n// packages/ag-charts-community/src/chart/factory/axisRegistry.ts\nvar AxisRegistry = class {\n  constructor() {\n    this.axesMap = /* @__PURE__ */ new Map();\n    this.hidden = /* @__PURE__ */ new Set();\n    this.themeTemplates = /* @__PURE__ */ new Map();\n  }\n  register(axisType, module) {\n    this.axesMap.set(axisType, module.instanceConstructor);\n    if (module.themeTemplate) {\n      this.setThemeTemplate(axisType, module.themeTemplate);\n    }\n    if (module.hidden) {\n      this.hidden.add(axisType);\n    }\n  }\n  create(axisType, moduleContext) {\n    const AxisConstructor = this.axesMap.get(axisType);\n    if (AxisConstructor) {\n      return new AxisConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown axis type: ${axisType}`);\n  }\n  has(axisType) {\n    return this.axesMap.has(axisType);\n  }\n  keys() {\n    return this.axesMap.keys();\n  }\n  publicKeys() {\n    return [...this.keys()].filter((k) => !this.hidden.has(k));\n  }\n  setThemeTemplate(axisType, themeTemplate) {\n    this.themeTemplates.set(axisType, themeTemplate);\n    return this;\n  }\n  getThemeTemplate(axisType) {\n    return this.themeTemplates.get(axisType);\n  }\n};\nvar axisRegistry = new AxisRegistry();\n\n// packages/ag-charts-community/src/util/decorator.ts\nvar BREAK_TRANSFORM_CHAIN = Symbol(\"BREAK\");\nvar CONFIG_KEY = \"__decorator_config\";\nfunction initialiseConfig(target, propertyKeyOrSymbol) {\n  if (Object.getOwnPropertyDescriptor(target, CONFIG_KEY) == null) {\n    Object.defineProperty(target, CONFIG_KEY, { value: {} });\n  }\n  const config = target[CONFIG_KEY];\n  const propertyKey = propertyKeyOrSymbol.toString();\n  if (typeof config[propertyKey] !== \"undefined\") {\n    return config[propertyKey];\n  }\n  const valuesMap = /* @__PURE__ */ new WeakMap();\n  config[propertyKey] = { setters: [], getters: [], observers: [], valuesMap };\n  const descriptor = Object.getOwnPropertyDescriptor(target, propertyKeyOrSymbol);\n  const prevSet = descriptor == null ? void 0 : descriptor.set;\n  const prevGet = descriptor == null ? void 0 : descriptor.get;\n  const getter = function() {\n    let value = prevGet ? prevGet.call(this) : valuesMap.get(this);\n    for (const transformFn of config[propertyKey].getters) {\n      value = transformFn(this, propertyKeyOrSymbol, value);\n      if (value === BREAK_TRANSFORM_CHAIN) {\n        return;\n      }\n    }\n    return value;\n  };\n  const setter = function(value) {\n    const { setters, observers } = config[propertyKey];\n    let oldValue;\n    if (setters.some((f) => f.length > 2)) {\n      oldValue = prevGet ? prevGet.call(this) : valuesMap.get(this);\n    }\n    for (const transformFn of setters) {\n      value = transformFn(this, propertyKeyOrSymbol, value, oldValue);\n      if (value === BREAK_TRANSFORM_CHAIN) {\n        return;\n      }\n    }\n    if (prevSet) {\n      prevSet.call(this, value);\n    } else {\n      valuesMap.set(this, value);\n    }\n    for (const observerFn of observers) {\n      observerFn(this, value, oldValue);\n    }\n  };\n  Object.defineProperty(target, propertyKeyOrSymbol, {\n    set: setter,\n    get: getter,\n    enumerable: true,\n    configurable: false\n  });\n  return config[propertyKey];\n}\nfunction addTransformToInstanceProperty(setTransform, getTransform, configMetadata) {\n  return (target, propertyKeyOrSymbol) => {\n    const config = initialiseConfig(target, propertyKeyOrSymbol);\n    config.setters.push(setTransform);\n    if (getTransform) {\n      config.getters.unshift(getTransform);\n    }\n    if (configMetadata) {\n      Object.assign(config, configMetadata);\n    }\n  };\n}\nfunction addObserverToInstanceProperty(setObserver) {\n  return (target, propertyKeyOrSymbol) => {\n    initialiseConfig(target, propertyKeyOrSymbol).observers.push(setObserver);\n  };\n}\nfunction isDecoratedObject(target) {\n  return typeof target !== \"undefined\" && CONFIG_KEY in target;\n}\nfunction listDecoratedProperties(target) {\n  const targets = /* @__PURE__ */ new Set();\n  while (isDecoratedObject(target)) {\n    targets.add(target == null ? void 0 : target[CONFIG_KEY]);\n    target = Object.getPrototypeOf(target);\n  }\n  return Array.from(targets).flatMap((configMap) => Object.keys(configMap));\n}\nfunction extractDecoratedProperties(target) {\n  return listDecoratedProperties(target).reduce((result, key) => {\n    var _a;\n    result[key] = (_a = target[key]) != null ? _a : null;\n    return result;\n  }, {});\n}\nfunction extractDecoratedPropertyMetadata(target, propertyKeyOrSymbol) {\n  const propertyKey = propertyKeyOrSymbol.toString();\n  while (isDecoratedObject(target)) {\n    const config = target[CONFIG_KEY];\n    if (Object.hasOwn(config, propertyKey)) {\n      return config[propertyKey];\n    }\n    target = Object.getPrototypeOf(target);\n  }\n}\n\n// packages/ag-charts-community/src/util/type-guards.ts\nfunction isDefined(val) {\n  return val != null;\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\nfunction isDate(value) {\n  return value instanceof Date;\n}\nfunction isValidDate(value) {\n  return isDate(value) && !isNaN(Number(value));\n}\nfunction isRegExp(value) {\n  return value instanceof RegExp;\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null && !isArray(value);\n}\nfunction isObjectLike(value) {\n  return isArray(value) || isPlainObject(value);\n}\nfunction isPlainObject(value) {\n  return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nfunction isString(value) {\n  return typeof value === \"string\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isFiniteNumber(value) {\n  return isNumber(value) && Number.isFinite(value);\n}\nfunction isHtmlElement(value) {\n  return typeof window !== \"undefined\" && value instanceof HTMLElement;\n}\nfunction isEnumKey(enumObject, enumKey) {\n  return isString(enumKey) && Object.keys(enumObject).includes(enumKey);\n}\nfunction isEnumValue(enumObject, enumValue) {\n  return Object.values(enumObject).includes(enumValue);\n}\nfunction isSymbol(value) {\n  return typeof value === \"symbol\";\n}\n\n// packages/ag-charts-community/src/util/object.ts\nfunction deepMerge(...sources) {\n  return mergeDefaults(...sources.reverse());\n}\nfunction mergeDefaults(...sources) {\n  var _a;\n  const target = {};\n  for (const source of sources) {\n    if (!isObject(source))\n      continue;\n    const keys = isDecoratedObject(source) ? listDecoratedProperties(source) : Object.keys(source);\n    for (const key of keys) {\n      if (isPlainObject(target[key]) && isPlainObject(source[key])) {\n        target[key] = mergeDefaults(target[key], source[key]);\n      } else {\n        (_a = target[key]) != null ? _a : target[key] = source[key];\n      }\n    }\n  }\n  return target;\n}\nfunction mergeArrayDefaults(dataArray, ...itemDefaults) {\n  if (itemDefaults && isArray(dataArray)) {\n    return dataArray.map((item) => mergeDefaults(item, ...itemDefaults));\n  }\n  return dataArray;\n}\nfunction mapValues(object, mapper) {\n  return Object.entries(object).reduce(\n    (result, [key, value]) => {\n      result[key] = mapper(value, key, object);\n      return result;\n    },\n    {}\n  );\n}\nfunction without(object, keys) {\n  const clone = __spreadValues({}, object);\n  for (const key of keys) {\n    delete clone[key];\n  }\n  return clone;\n}\nfunction getPath(object, path) {\n  const pathArray = isArray(path) ? path : path.split(\".\");\n  return pathArray.reduce((value, pathKey) => value[pathKey], object);\n}\nfunction setPath(object, path, newValue) {\n  const pathArray = isArray(path) ? path.slice() : path.split(\".\");\n  const lastKey = pathArray.pop();\n  const lastObject = pathArray.reduce((value, pathKey) => value[pathKey], object);\n  lastObject[lastKey] = newValue;\n}\nfunction partialAssign(keysToCopy, target, source) {\n  if (source === void 0) {\n    return target;\n  }\n  for (const key of keysToCopy) {\n    const value = source[key];\n    if (value !== void 0) {\n      target[key] = value;\n    }\n  }\n  return target;\n}\n\n// packages/ag-charts-community/src/chart/factory/chartTypes.ts\nvar ChartTypes = class extends Map {\n  get(seriesType) {\n    var _a;\n    return (_a = super.get(seriesType)) != null ? _a : \"unknown\";\n  }\n  isCartesian(seriesType) {\n    return this.get(seriesType) === \"cartesian\";\n  }\n  isPolar(seriesType) {\n    return this.get(seriesType) === \"polar\";\n  }\n  isHierarchy(seriesType) {\n    return this.get(seriesType) === \"hierarchy\";\n  }\n  isTopology(seriesType) {\n    return this.get(seriesType) === \"topology\";\n  }\n  get seriesTypes() {\n    return Array.from(this.keys());\n  }\n  get cartesianTypes() {\n    return this.seriesTypes.filter((t) => this.isCartesian(t));\n  }\n  get polarTypes() {\n    return this.seriesTypes.filter((t) => this.isPolar(t));\n  }\n  get hierarchyTypes() {\n    return this.seriesTypes.filter((t) => this.isHierarchy(t));\n  }\n  get topologyTypes() {\n    return this.seriesTypes.filter((t) => this.isTopology(t));\n  }\n};\nvar ChartDefaults = class extends Map {\n  set(chartType2, defaults) {\n    return super.set(chartType2, mergeDefaults(defaults, this.get(chartType2)));\n  }\n};\nvar chartTypes = new ChartTypes();\nvar publicChartTypes = new ChartTypes();\nvar chartDefaults = new ChartDefaults();\n\n// packages/ag-charts-community/src/chart/factory/expectedEnterpriseModules.ts\nvar EXPECTED_ENTERPRISE_MODULES = [\n  { type: \"root\", optionsKey: \"animation\", chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"] },\n  { type: \"root\", optionsKey: \"annotations\", chartTypes: [\"cartesian\"] },\n  {\n    type: \"root\",\n    optionsKey: \"background\",\n    chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n    optionsInnerKey: \"image\"\n  },\n  { type: \"root\", optionsKey: \"contextMenu\", chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"] },\n  { type: \"root\", optionsKey: \"dataSource\", chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"] },\n  { type: \"root\", optionsKey: \"sync\", chartTypes: [\"cartesian\"] },\n  { type: \"root\", optionsKey: \"zoom\", chartTypes: [\"cartesian\", \"topology\"] },\n  {\n    type: \"legend\",\n    optionsKey: \"gradientLegend\",\n    chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n    identifier: \"gradient\"\n  },\n  { type: \"root\", optionsKey: \"navigator\", chartTypes: [\"cartesian\"], optionsInnerKey: \"miniChart\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"angle-category\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"angle-number\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"radius-category\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"polar\"], identifier: \"radius-number\" },\n  { type: \"axis\", optionsKey: \"axes[]\", chartTypes: [\"cartesian\"], identifier: \"ordinal-time\" },\n  { type: \"axis-option\", optionsKey: \"crosshair\", chartTypes: [\"cartesian\"] },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"box-plot\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"candlestick\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"ohlc\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"bullet\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"heatmap\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"range-area\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"range-bar\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"cartesian\"], identifier: \"waterfall\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"nightingale\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radar-area\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radar-line\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radial-bar\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"polar\"], identifier: \"radial-column\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"hierarchy\"], identifier: \"sunburst\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"hierarchy\"], identifier: \"treemap\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-shape\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-line\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-marker\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-shape-background\" },\n  { type: \"series\", optionsKey: \"series[]\", chartTypes: [\"topology\"], identifier: \"map-line-background\" },\n  { type: \"series-option\", optionsKey: \"errorBar\", chartTypes: [\"cartesian\"], identifier: \"error-bars\" }\n];\nfunction isEnterpriseSeriesType(type) {\n  return EXPECTED_ENTERPRISE_MODULES.some((s) => s.type === \"series\" && s.identifier === type);\n}\nfunction getEnterpriseSeriesChartTypes(type) {\n  var _a;\n  return (_a = EXPECTED_ENTERPRISE_MODULES.find((s) => s.type === \"series\" && s.identifier === type)) == null ? void 0 : _a.chartTypes;\n}\nfunction isEnterpriseCartesian(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"cartesian\");\n  return type === \"cartesian\";\n}\nfunction isEnterprisePolar(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"polar\");\n  return type === \"polar\";\n}\nfunction isEnterpriseHierarchy(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"hierarchy\");\n  return type === \"hierarchy\";\n}\nfunction isEnterpriseTopology(seriesType) {\n  var _a;\n  const type = (_a = getEnterpriseSeriesChartTypes(seriesType)) == null ? void 0 : _a.find((v) => v === \"topology\");\n  return type === \"topology\";\n}\nfunction isEnterpriseModule(module) {\n  return module.packageType === \"enterprise\";\n}\nfunction verifyIfModuleExpected(module) {\n  var _a;\n  if (!isEnterpriseModule(module)) {\n    throw new Error(\"AG Charts - internal configuration error, only enterprise modules need verification.\");\n  }\n  const stub = EXPECTED_ENTERPRISE_MODULES.find((s) => {\n    return s.type === module.type && s.optionsKey === module.optionsKey && s.identifier === module.identifier && module.chartTypes.every((t) => s.chartTypes.includes(t));\n  });\n  if (stub) {\n    (_a = stub.useCount) != null ? _a : stub.useCount = 0;\n    stub.useCount++;\n  }\n  return stub != null;\n}\nfunction getUnusedExpectedModules() {\n  return EXPECTED_ENTERPRISE_MODULES.filter(({ useCount }) => useCount == null || useCount === 0);\n}\n\n// packages/ag-charts-community/src/chart/mapping/types.ts\nfunction optionsType(input) {\n  var _a, _b, _c;\n  return (_c = (_b = (_a = input.series) == null ? void 0 : _a[0]) == null ? void 0 : _b.type) != null ? _c : \"line\";\n}\nfunction isAgCartesianChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return true;\n  }\n  if (specifiedType === \"cartesian\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isCartesian(specifiedType) || isEnterpriseCartesian(specifiedType);\n}\nfunction isAgPolarChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"polar\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isPolar(specifiedType) || isEnterprisePolar(specifiedType);\n}\nfunction isAgHierarchyChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"hierarchy\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isHierarchy(specifiedType) || isEnterpriseHierarchy(specifiedType);\n}\nfunction isAgTopologyChartOptions(input) {\n  const specifiedType = optionsType(input);\n  if (specifiedType == null) {\n    return false;\n  }\n  if (specifiedType === \"topology\") {\n    Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n    return true;\n  }\n  return chartTypes.isTopology(specifiedType) || isEnterpriseTopology(specifiedType);\n}\nfunction isAgPolarChartOptionsWithSeriesBasedLegend(input) {\n  const specifiedType = optionsType(input);\n  return isAgPolarChartOptions(input) && specifiedType !== \"pie\" && specifiedType !== \"donut\";\n}\nfunction isSeriesOptionType(input) {\n  if (input == null) {\n    return false;\n  }\n  return chartTypes.has(input);\n}\nfunction isAxisOptionType(input) {\n  if (input == null) {\n    return false;\n  }\n  return axisRegistry.has(input);\n}\n\n// packages/ag-charts-community/src/chart/factory/processEnterpriseOptions.ts\nfunction removeUsedEnterpriseOptions(options) {\n  var _a, _b, _c, _d;\n  const usedOptions = [];\n  const optionsChartType = chartTypes.get(optionsType(options));\n  for (const {\n    type,\n    chartTypes: moduleChartTypes,\n    optionsKey,\n    optionsInnerKey,\n    identifier\n  } of EXPECTED_ENTERPRISE_MODULES) {\n    if (optionsChartType !== \"unknown\" && !moduleChartTypes.includes(optionsChartType))\n      continue;\n    if (type === \"root\" || type === \"legend\") {\n      const optionValue = options[optionsKey];\n      if (optionValue == null)\n        continue;\n      if (!optionsInnerKey) {\n        usedOptions.push(optionsKey);\n        delete options[optionsKey];\n      } else if (optionValue[optionsInnerKey]) {\n        usedOptions.push(`${optionsKey}.${optionsInnerKey}`);\n        delete optionValue[optionsInnerKey];\n      }\n    } else if (type === \"axis\") {\n      if (!(\"axes\" in options) || !((_a = options.axes) == null ? void 0 : _a.some((axis) => axis.type === identifier)))\n        continue;\n      usedOptions.push(`axis[type=${identifier}]`);\n      options.axes = options.axes.filter((axis) => axis.type !== identifier);\n    } else if (type === \"axis-option\") {\n      if (!(\"axes\" in options) || !((_b = options.axes) == null ? void 0 : _b.some((axis) => axis[optionsKey])))\n        continue;\n      usedOptions.push(`axis.${optionsKey}`);\n      options.axes.forEach((axis) => {\n        if (axis[optionsKey]) {\n          delete axis[optionsKey];\n        }\n      });\n    } else if (type === \"series\") {\n      if (!((_c = options.series) == null ? void 0 : _c.some((series) => series.type === identifier)))\n        continue;\n      usedOptions.push(`series[type=${identifier}]`);\n      options.series = options.series.filter((series) => series.type !== identifier);\n    } else if (type === \"series-option\") {\n      if (!((_d = options.series) == null ? void 0 : _d.some((series) => series[optionsKey])))\n        continue;\n      usedOptions.push(`series.${optionsKey}`);\n      options.series.forEach((series) => {\n        if (series[optionsKey]) {\n          delete series[optionsKey];\n        }\n      });\n    }\n  }\n  if (usedOptions.length) {\n    let enterprisePackageName = \"ag-charts-enterprise\";\n    let enterpriseReferenceUrl = \"https://charts.ag-grid.com/javascript/installation/\";\n    if (options.mode === \"integrated\") {\n      enterprisePackageName = \"ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise\";\n      enterpriseReferenceUrl = \"https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/\";\n    }\n    Logger.warnOnce(\n      [\n        `unable to use these enterprise features as '${enterprisePackageName}' has not been loaded:`,\n        \"\",\n        ...usedOptions,\n        \"\",\n        `See: ${enterpriseReferenceUrl}`\n      ].join(\"\\n\")\n    );\n  }\n}\n\n// packages/ag-charts-community/src/util/properties.ts\nvar BaseProperties = class {\n  set(properties) {\n    const { className = this.constructor.name } = this.constructor;\n    if (typeof properties !== \"object\") {\n      Logger.warn(`unable to set ${className} - expecting a properties object`);\n      return this;\n    }\n    const keys = new Set(Object.keys(properties));\n    for (const propertyKey of listDecoratedProperties(this)) {\n      if (keys.has(propertyKey)) {\n        const value = properties[propertyKey];\n        const self = this;\n        if (isProperties(self[propertyKey])) {\n          self[propertyKey] = self[propertyKey] instanceof PropertiesArray ? self[propertyKey].reset(value) : self[propertyKey].set(value);\n        } else {\n          self[propertyKey] = value;\n        }\n        keys.delete(propertyKey);\n      }\n    }\n    for (const unknownKey of keys) {\n      Logger.warn(`unable to set [${unknownKey}] in ${className} - property is unknown`);\n    }\n    return this;\n  }\n  isValid() {\n    return listDecoratedProperties(this).every((propertyKey) => {\n      const { optional } = extractDecoratedPropertyMetadata(this, propertyKey);\n      const valid = optional || typeof this[propertyKey] !== \"undefined\";\n      if (!valid) {\n        Logger.warnOnce(`[${propertyKey}] is required.`);\n      }\n      return valid;\n    });\n  }\n  toJson() {\n    return listDecoratedProperties(this).reduce((object, propertyKey) => {\n      const propertyValue = this[propertyKey];\n      object[propertyKey] = isProperties(propertyValue) ? propertyValue.toJson() : propertyValue;\n      return object;\n    }, {});\n  }\n};\nvar PropertiesArray = class _PropertiesArray extends Array {\n  constructor(itemFactory, ...properties) {\n    super(properties.length);\n    Object.defineProperty(this, \"itemFactory\", { value: itemFactory, enumerable: false, configurable: false });\n    this.set(properties);\n  }\n  set(properties) {\n    if (isArray(properties)) {\n      this.length = properties.length;\n      for (let i = 0; i < properties.length; i++) {\n        this[i] = new this.itemFactory().set(properties[i]);\n      }\n    }\n    return this;\n  }\n  reset(properties) {\n    return new _PropertiesArray(this.itemFactory, ...properties);\n  }\n  toJson() {\n    return this.map((value) => {\n      var _a, _b;\n      return (_b = (_a = value == null ? void 0 : value.toJson) == null ? void 0 : _a.call(value)) != null ? _b : value;\n    });\n  }\n};\nfunction isProperties(value) {\n  return value instanceof BaseProperties || value instanceof PropertiesArray;\n}\n\n// packages/ag-charts-community/src/util/json.ts\nvar CLASS_INSTANCE_TYPE = \"class-instance\";\nfunction jsonDiff(source, target, skip) {\n  if (isArray(target)) {\n    if (!isArray(source) || source.length !== target.length || target.some((v, i) => jsonDiff(source[i], v) != null)) {\n      return target;\n    }\n  } else if (isPlainObject(target)) {\n    if (!isPlainObject(source)) {\n      return target;\n    }\n    const result = {};\n    const allKeys = /* @__PURE__ */ new Set([\n      ...Object.keys(source),\n      ...Object.keys(target)\n    ]);\n    for (const key of allKeys) {\n      if (source[key] === target[key] || (skip == null ? void 0 : skip.includes(key))) {\n        continue;\n      }\n      if (typeof source[key] === typeof target[key]) {\n        const diff2 = jsonDiff(source[key], target[key]);\n        if (diff2 !== null) {\n          result[key] = diff2;\n        }\n      } else {\n        result[key] = target[key];\n      }\n    }\n    return Object.keys(result).length ? result : null;\n  } else if (source !== target) {\n    return target;\n  }\n  return null;\n}\nfunction deepClone(source, options) {\n  if (isArray(source)) {\n    return source.map((item) => deepClone(item, options));\n  }\n  if (isPlainObject(source)) {\n    return mapValues(\n      source,\n      (value, key) => {\n        var _a;\n        return ((_a = options == null ? void 0 : options.shallow) == null ? void 0 : _a.includes(key)) ? shallowClone(value) : deepClone(value, options);\n      }\n    );\n  }\n  return shallowClone(source);\n}\nfunction shallowClone(source) {\n  if (isArray(source)) {\n    return [...source];\n  }\n  if (isPlainObject(source)) {\n    return __spreadValues({}, source);\n  }\n  if (isDate(source)) {\n    return new Date(source);\n  }\n  if (isRegExp(source)) {\n    return new RegExp(source.source, source.flags);\n  }\n  return source;\n}\nfunction jsonWalk(json, visit, opts, ...jsons) {\n  var _a;\n  if (isArray(json)) {\n    visit(json, ...jsons);\n    json.forEach((node, index) => {\n      jsonWalk(node, visit, opts, ...keyMapper(jsons, index));\n    });\n  } else if (isPlainObject(json)) {\n    visit(json, ...jsons);\n    for (const key of Object.keys(json)) {\n      if ((_a = opts == null ? void 0 : opts.skip) == null ? void 0 : _a.includes(key)) {\n        continue;\n      }\n      const value = json[key];\n      if (isArray(value) || isPlainObject(value)) {\n        jsonWalk(value, visit, opts, ...keyMapper(jsons, key));\n      }\n    }\n  }\n}\nfunction jsonApply(target, source, params = {}) {\n  const { path, constructedArrays, matcherPath = path == null ? void 0 : path.replace(/(\\[[0-9+]+])/i, \"[]\"), skip = [] } = params;\n  if (target == null) {\n    throw new Error(`AG Charts - target is uninitialised: ${path != null ? path : \"<root>\"}`);\n  }\n  if (source == null) {\n    return target;\n  }\n  if (isProperties(target)) {\n    return target.set(source);\n  }\n  const targetAny = target;\n  const targetType = classify(target);\n  for (const property in source) {\n    const propertyMatcherPath = `${matcherPath ? matcherPath + \".\" : \"\"}${property}`;\n    if (skip.includes(propertyMatcherPath))\n      continue;\n    const newValue = source[property];\n    const propertyPath = `${path ? path + \".\" : \"\"}${property}`;\n    const targetClass = targetAny.constructor;\n    const currentValue = targetAny[property];\n    let ctr;\n    try {\n      const currentValueType = classify(currentValue);\n      const newValueType = classify(newValue);\n      if (targetType === CLASS_INSTANCE_TYPE && !(property in target)) {\n        Logger.warn(`unable to set [${propertyPath}] in ${targetClass == null ? void 0 : targetClass.name} - property is unknown`);\n        continue;\n      }\n      if (currentValueType != null && newValueType != null && newValueType !== currentValueType && (currentValueType !== CLASS_INSTANCE_TYPE || newValueType !== \"object\")) {\n        Logger.warn(\n          `unable to set [${propertyPath}] in ${targetClass == null ? void 0 : targetClass.name} - can't apply type of [${newValueType}], allowed types are: [${currentValueType}]`\n        );\n        continue;\n      }\n      if (isProperties(currentValue)) {\n        targetAny[property].set(newValue);\n      } else if (newValueType === \"array\") {\n        ctr != null ? ctr : ctr = constructedArrays == null ? void 0 : constructedArrays.get(currentValue);\n        if (ctr == null) {\n          targetAny[property] = newValue;\n        } else {\n          const newValueArray = newValue;\n          targetAny[property] = newValueArray.map(\n            (v) => jsonApply(new ctr(), v, __spreadProps(__spreadValues({}, params), {\n              path: propertyPath,\n              matcherPath: propertyMatcherPath + \"[]\"\n            }))\n          );\n        }\n      } else if (newValueType === CLASS_INSTANCE_TYPE) {\n        targetAny[property] = newValue;\n      } else if (newValueType === \"object\") {\n        if (currentValue != null) {\n          jsonApply(currentValue, newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        } else if (ctr == null) {\n          targetAny[property] = {};\n          jsonApply(targetAny[property], newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        } else {\n          targetAny[property] = jsonApply(new ctr(), newValue, __spreadProps(__spreadValues({}, params), {\n            path: propertyPath,\n            matcherPath: propertyMatcherPath\n          }));\n        }\n      } else {\n        targetAny[property] = newValue;\n      }\n    } catch (error) {\n      Logger.warn(`unable to set [${propertyPath}] in [${targetClass == null ? void 0 : targetClass.name}]; nested error is: ${error.message}`);\n    }\n  }\n  return target;\n}\nfunction keyMapper(data, key) {\n  return data.map((dataObject) => dataObject == null ? void 0 : dataObject[key]);\n}\nfunction classify(value) {\n  if (value == null) {\n    return null;\n  }\n  if (isHtmlElement(value) || isDate(value)) {\n    return \"primitive\";\n  }\n  if (isArray(value)) {\n    return \"array\";\n  }\n  if (isObject(value)) {\n    return isPlainObject(value) ? \"object\" : CLASS_INSTANCE_TYPE;\n  }\n  if (isFunction(value)) {\n    return \"function\";\n  }\n  return \"primitive\";\n}\n\n// packages/ag-charts-community/src/chart/factory/seriesRegistry.ts\nvar SeriesRegistry = class {\n  constructor() {\n    this.seriesMap = /* @__PURE__ */ new Map();\n    this.themeTemplates = /* @__PURE__ */ new Map();\n  }\n  register(seriesType, {\n    chartTypes: [chartType2],\n    instanceConstructor,\n    defaultAxes,\n    themeTemplate,\n    enterpriseThemeTemplate,\n    paletteFactory,\n    solo,\n    stackable,\n    groupable,\n    stackedByDefault,\n    swapDefaultAxesCondition,\n    hidden\n  }) {\n    this.setThemeTemplate(seriesType, themeTemplate, enterpriseThemeTemplate);\n    this.seriesMap.set(seriesType, {\n      instanceConstructor,\n      defaultAxes,\n      paletteFactory,\n      solo,\n      stackable,\n      groupable,\n      stackedByDefault,\n      swapDefaultAxesCondition\n    });\n    chartTypes.set(seriesType, chartType2);\n    if (!hidden) {\n      publicChartTypes.set(seriesType, chartType2);\n    }\n  }\n  create(seriesType, moduleContext) {\n    var _a;\n    const SeriesConstructor = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.instanceConstructor;\n    if (SeriesConstructor) {\n      return new SeriesConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown series type: ${seriesType}`);\n  }\n  cloneDefaultAxes(seriesType) {\n    var _a;\n    const defaultAxes = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.defaultAxes;\n    return defaultAxes ? { axes: deepClone(defaultAxes) } : null;\n  }\n  setThemeTemplate(seriesType, themeTemplate, enterpriseThemeTemplate = {}) {\n    const currentTemplate = this.themeTemplates.get(seriesType);\n    this.themeTemplates.set(seriesType, {\n      community: mergeDefaults(themeTemplate, currentTemplate == null ? void 0 : currentTemplate.community),\n      enterprise: mergeDefaults(enterpriseThemeTemplate, themeTemplate, currentTemplate == null ? void 0 : currentTemplate.community)\n    });\n  }\n  getThemeTemplate(seriesType) {\n    const themeTemplate = this.themeTemplates.get(seriesType);\n    return enterpriseModule.isEnterprise ? themeTemplate == null ? void 0 : themeTemplate.enterprise : themeTemplate == null ? void 0 : themeTemplate.community;\n  }\n  getPaletteFactory(seriesType) {\n    var _a;\n    return (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.paletteFactory;\n  }\n  isSolo(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.solo) != null ? _b : false;\n  }\n  isGroupable(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.groupable) != null ? _b : false;\n  }\n  isStackable(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.stackable) != null ? _b : false;\n  }\n  isStackedByDefault(seriesType) {\n    var _a, _b;\n    return (_b = (_a = this.seriesMap.get(seriesType)) == null ? void 0 : _a.stackedByDefault) != null ? _b : false;\n  }\n  isDefaultAxisSwapNeeded(options) {\n    var _a, _b, _c;\n    let result;\n    for (const series of (_a = options.series) != null ? _a : []) {\n      const { type = \"line\" } = series;\n      const isDefaultAxisSwapped = (_c = (_b = this.seriesMap.get(type)) == null ? void 0 : _b.swapDefaultAxesCondition) == null ? void 0 : _c.call(_b, series);\n      if (isDefaultAxisSwapped != null) {\n        if (result != null && result != isDefaultAxisSwapped) {\n          throw new Error(\"AG Charts - The provided series have incompatible directions\");\n        }\n        result = isDefaultAxisSwapped;\n      }\n    }\n    return result;\n  }\n};\nvar seriesRegistry = new SeriesRegistry();\n\n// packages/ag-charts-community/src/chart/factory/legendRegistry.ts\nvar LegendRegistry = class {\n  constructor() {\n    this.legendMap = /* @__PURE__ */ new Map();\n    this.themeTemplates = /* @__PURE__ */ new Map();\n  }\n  register(legendType, { optionsKey, instanceConstructor, themeTemplate }) {\n    this.legendMap.set(legendType, { optionsKey, instanceConstructor });\n    this.themeTemplates.set(optionsKey, themeTemplate);\n  }\n  create(legendType, moduleContext) {\n    var _a;\n    const LegendConstructor = (_a = this.legendMap.get(legendType)) == null ? void 0 : _a.instanceConstructor;\n    if (LegendConstructor) {\n      return new LegendConstructor(moduleContext);\n    }\n    throw new Error(`AG Charts - unknown legend type: ${legendType}`);\n  }\n  getThemeTemplates() {\n    return Object.fromEntries(this.themeTemplates);\n  }\n  getKeys() {\n    return Array.from(this.legendMap.entries()).reduce(\n      (result, [legendType, record]) => {\n        result[legendType] = record.optionsKey;\n        return result;\n      },\n      {}\n    );\n  }\n};\nvar legendRegistry = new LegendRegistry();\n\n// packages/ag-charts-community/src/chart/themes/constants.ts\nvar FONT_SIZE = /* @__PURE__ */ ((FONT_SIZE2) => {\n  FONT_SIZE2[FONT_SIZE2[\"SMALL\"] = 12] = \"SMALL\";\n  FONT_SIZE2[FONT_SIZE2[\"MEDIUM\"] = 13] = \"MEDIUM\";\n  FONT_SIZE2[FONT_SIZE2[\"LARGE\"] = 17] = \"LARGE\";\n  return FONT_SIZE2;\n})(FONT_SIZE || {});\nvar FONT_WEIGHT = /* @__PURE__ */ ((FONT_WEIGHT3) => {\n  FONT_WEIGHT3[\"NORMAL\"] = \"normal\";\n  FONT_WEIGHT3[\"BOLD\"] = \"bold\";\n  FONT_WEIGHT3[\"BOLDER\"] = \"bolder\";\n  FONT_WEIGHT3[\"LIGHTER\"] = \"lighter\";\n  return FONT_WEIGHT3;\n})(FONT_WEIGHT || {});\nvar POSITION = /* @__PURE__ */ ((POSITION3) => {\n  POSITION3[\"TOP\"] = \"top\";\n  POSITION3[\"RIGHT\"] = \"right\";\n  POSITION3[\"BOTTOM\"] = \"bottom\";\n  POSITION3[\"LEFT\"] = \"left\";\n  return POSITION3;\n})(POSITION || {});\nvar CARTESIAN_AXIS_TYPE = /* @__PURE__ */ ((CARTESIAN_AXIS_TYPE2) => {\n  CARTESIAN_AXIS_TYPE2[\"CATEGORY\"] = \"category\";\n  CARTESIAN_AXIS_TYPE2[\"ORDINAL_TIME\"] = \"ordinal-time\";\n  CARTESIAN_AXIS_TYPE2[\"NUMBER\"] = \"number\";\n  CARTESIAN_AXIS_TYPE2[\"TIME\"] = \"time\";\n  CARTESIAN_AXIS_TYPE2[\"LOG\"] = \"log\";\n  return CARTESIAN_AXIS_TYPE2;\n})(CARTESIAN_AXIS_TYPE || {});\nvar POLAR_AXIS_TYPE = /* @__PURE__ */ ((POLAR_AXIS_TYPE2) => {\n  POLAR_AXIS_TYPE2[\"ANGLE_CATEGORY\"] = \"angle-category\";\n  POLAR_AXIS_TYPE2[\"ANGLE_NUMBER\"] = \"angle-number\";\n  POLAR_AXIS_TYPE2[\"RADIUS_CATEGORY\"] = \"radius-category\";\n  POLAR_AXIS_TYPE2[\"RADIUS_NUMBER\"] = \"radius-number\";\n  return POLAR_AXIS_TYPE2;\n})(POLAR_AXIS_TYPE || {});\nvar POLAR_AXIS_SHAPE = /* @__PURE__ */ ((POLAR_AXIS_SHAPE2) => {\n  POLAR_AXIS_SHAPE2[\"CIRCLE\"] = \"circle\";\n  POLAR_AXIS_SHAPE2[\"POLYGON\"] = \"polygon\";\n  return POLAR_AXIS_SHAPE2;\n})(POLAR_AXIS_SHAPE || {});\n\n// packages/ag-charts-community/src/chart/themes/defaultColors.ts\nvar DEFAULT_FILLS = {\n  BLUE: \"#5090dc\",\n  ORANGE: \"#ffa03a\",\n  GREEN: \"#459d55\",\n  CYAN: \"#34bfe1\",\n  YELLOW: \"#e1cc00\",\n  VIOLET: \"#9669cb\",\n  GRAY: \"#b5b5b5\",\n  MAGENTA: \"#bd5aa7\",\n  BROWN: \"#8a6224\",\n  RED: \"#ef5452\"\n};\nvar DEFAULT_STROKES = {\n  BLUE: \"#2b5c95\",\n  ORANGE: \"#cc6f10\",\n  GREEN: \"#1e652e\",\n  CYAN: \"#18859e\",\n  YELLOW: \"#a69400\",\n  VIOLET: \"#603c88\",\n  GRAY: \"#575757\",\n  MAGENTA: \"#7d2f6d\",\n  BROWN: \"#4f3508\",\n  RED: \"#a82529\"\n};\n\n// packages/ag-charts-community/src/chart/themes/symbols.ts\nvar IS_DARK_THEME = Symbol(\"is-dark-theme\");\nvar EXTENDS_AXES_DEFAULTS = Symbol(\"extends-axes-defaults\");\nvar EXTENDS_AXES_LINE_DEFAULTS = Symbol(\"extends-axes-line-defaults\");\nvar EXTENDS_AXES_TICK_DEFAULTS = Symbol(\"extends-axes-tick-defaults\");\nvar EXTENDS_AXES_GRID_LINE_DEFAULTS = Symbol(\"extends-axes-grid-line-defaults\");\nvar EXTENDS_SERIES_DEFAULTS = Symbol(\"extends-series-defaults\");\nvar EXTENDS_CARTESIAN_MARKER_DEFAULTS = Symbol(\"extends-cartesian-marker-defaults\");\nvar DEFAULT_FONT_FAMILY = Symbol(\"default-font\");\nvar DEFAULT_LABEL_COLOUR = Symbol(\"default-label-colour\");\nvar DEFAULT_INVERTED_LABEL_COLOUR = Symbol(\"default-inverted-label-colour\");\nvar DEFAULT_INSIDE_SERIES_LABEL_COLOUR = Symbol(\"default-inside-series-label-colour\");\nvar DEFAULT_MUTED_LABEL_COLOUR = Symbol(\"default-muted-label-colour\");\nvar DEFAULT_AXIS_GRID_COLOUR = Symbol(\"default-axis-grid-colour\");\nvar DEFAULT_AXIS_LINE_COLOUR = Symbol(\"default-axis-line-colour\");\nvar DEFAULT_CROSS_LINES_COLOUR = Symbol(\"default-cross-lines-colour\");\nvar DEFAULT_BACKGROUND_COLOUR = Symbol(\"default-background-colour\");\nvar DEFAULT_SHADOW_COLOUR = Symbol(\"default-shadow-colour\");\nvar DEFAULT_COLOURS = Symbol(\"default-colours\");\nvar DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS = Symbol(\n  \"default-waterfall-series-positive-colors\"\n);\nvar DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS = Symbol(\n  \"default-waterfall-series-negative-colors\"\n);\nvar DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS = Symbol(\n  \"default-waterfall-series-total-colors\"\n);\nvar DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE = Symbol(\n  \"default-waterfall-series-connector-line-stroke\"\n);\nvar DEFAULT_POLAR_SERIES_STROKE = Symbol(\"default-polar-series-stroke\");\nvar DEFAULT_DIVERGING_SERIES_COLOUR_RANGE = Symbol(\n  \"default-diverging-series-colour-range\"\n);\nvar DEFAULT_HIERARCHY_FILLS = Symbol(\"default-hierarchy-fills\");\nvar DEFAULT_HIERARCHY_STROKES = Symbol(\"default-hierarchy-strokes\");\nvar DEFAULT_ANNOTATION_STROKE = Symbol(\"default-annotation-stroke\");\nvar DEFAULT_ANNOTATION_BACKGROUND_FILL = Symbol(\"default-annotation-background-fill\");\nvar DEFAULT_ANNOTATION_HANDLE_FILL = Symbol(\"default-annotation-handle-fill\");\n\n// packages/ag-charts-community/src/chart/themes/chartTheme.ts\nvar DEFAULT_BACKGROUND_FILL = \"white\";\nvar DEFAULT_PALETTE = {\n  fills: Object.values(DEFAULT_FILLS),\n  strokes: Object.values(DEFAULT_STROKES)\n};\nvar CHART_TYPE_CONFIG = {\n  get cartesian() {\n    return { seriesTypes: chartTypes.cartesianTypes, commonOptions: [\"zoom\", \"navigator\"] };\n  },\n  get polar() {\n    return { seriesTypes: chartTypes.polarTypes, commonOptions: [] };\n  },\n  get hierarchy() {\n    return { seriesTypes: chartTypes.hierarchyTypes, commonOptions: [] };\n  },\n  get topology() {\n    return { seriesTypes: chartTypes.topologyTypes, commonOptions: [] };\n  }\n};\nvar CHART_TYPE_SPECIFIC_COMMON_OPTIONS = Object.values(CHART_TYPE_CONFIG).reduce((r, { commonOptions }) => r.concat(commonOptions), []);\nvar _ChartTheme = class _ChartTheme {\n  getPalette() {\n    return DEFAULT_PALETTE;\n  }\n  static getAxisDefaults(overrideDefaults) {\n    return mergeDefaults(overrideDefaults, {\n      title: {\n        enabled: false,\n        text: \"Axis Title\",\n        spacing: 25,\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      },\n      label: {\n        fontSize: 12 /* SMALL */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        padding: 5,\n        color: DEFAULT_LABEL_COLOUR,\n        avoidCollisions: true\n      },\n      line: {\n        enabled: true,\n        width: 1,\n        color: DEFAULT_AXIS_LINE_COLOUR\n      },\n      tick: {\n        enabled: false,\n        width: 1,\n        color: DEFAULT_AXIS_LINE_COLOUR\n      },\n      gridLine: {\n        enabled: true,\n        style: [{ stroke: DEFAULT_AXIS_GRID_COLOUR, lineDash: [] }]\n      },\n      crossLines: {\n        enabled: false,\n        fill: DEFAULT_CROSS_LINES_COLOUR,\n        stroke: DEFAULT_CROSS_LINES_COLOUR,\n        fillOpacity: 0.1,\n        strokeWidth: 1,\n        label: {\n          enabled: false,\n          fontSize: 12 /* SMALL */,\n          fontFamily: DEFAULT_FONT_FAMILY,\n          padding: 5,\n          color: DEFAULT_LABEL_COLOUR\n        }\n      }\n    });\n  }\n  static getSeriesDefaults() {\n    return {\n      visible: true,\n      showInLegend: true,\n      highlightStyle: {\n        item: { fill: \"#ffffff54\", stroke: `#0006`, strokeWidth: 2 },\n        series: { dimOpacity: 1 }\n      },\n      nodeClickRange: \"exact\",\n      tooltip: { enabled: true }\n    };\n  }\n  static getCartesianSeriesMarkerDefaults() {\n    return { enabled: true, shape: \"circle\", size: 7, strokeWidth: 1 };\n  }\n  static getChartDefaults() {\n    return {\n      background: { visible: true, fill: DEFAULT_BACKGROUND_COLOUR },\n      padding: { top: 20, right: 20, bottom: 20, left: 20 },\n      keyboard: { enabled: true },\n      title: {\n        enabled: false,\n        text: \"Title\",\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 17 /* LARGE */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR,\n        wrapping: \"hyphenate\"\n      },\n      subtitle: {\n        enabled: false,\n        text: \"Subtitle\",\n        spacing: 20,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_MUTED_LABEL_COLOUR,\n        wrapping: \"hyphenate\"\n      },\n      footnote: {\n        enabled: false,\n        text: \"Footnote\",\n        spacing: 20,\n        fontSize: 13 /* MEDIUM */,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: \"rgb(140, 140, 140)\",\n        wrapping: \"hyphenate\"\n      },\n      legend: {\n        position: \"bottom\" /* BOTTOM */,\n        spacing: 30,\n        listeners: {},\n        item: {\n          paddingX: 16,\n          paddingY: 8,\n          marker: { size: 15, padding: 8 },\n          toggleSeriesVisible: true,\n          label: {\n            color: DEFAULT_LABEL_COLOUR,\n            fontSize: 12 /* SMALL */,\n            fontFamily: DEFAULT_FONT_FAMILY\n          }\n        },\n        reverseOrder: false,\n        pagination: {\n          marker: { size: 12 },\n          activeStyle: { fill: DEFAULT_LABEL_COLOUR },\n          inactiveStyle: { fill: DEFAULT_MUTED_LABEL_COLOUR },\n          highlightStyle: { fill: DEFAULT_LABEL_COLOUR },\n          label: { color: DEFAULT_LABEL_COLOUR }\n        }\n      },\n      tooltip: {\n        enabled: true,\n        darkTheme: IS_DARK_THEME,\n        range: \"nearest\",\n        delay: 0\n      },\n      overlays: {\n        loading: { darkTheme: IS_DARK_THEME },\n        noData: { darkTheme: IS_DARK_THEME },\n        noVisibleSeries: { darkTheme: IS_DARK_THEME }\n      },\n      listeners: {}\n    };\n  }\n  constructor(options = {}) {\n    const { overrides, palette: palette10 } = deepClone(options);\n    const defaults = this.createChartConfigPerChartType(this.getDefaults());\n    if (overrides) {\n      this.mergeOverrides(defaults, overrides);\n    }\n    this.config = Object.freeze(this.templateTheme(defaults));\n    this.palette = mergeDefaults(palette10, this.getPalette());\n  }\n  mergeOverrides(defaults, overrides) {\n    for (const { seriesTypes, commonOptions } of Object.values(CHART_TYPE_CONFIG)) {\n      const cleanedCommon = __spreadValues({}, overrides.common);\n      for (const commonKey of CHART_TYPE_SPECIFIC_COMMON_OPTIONS) {\n        if (!commonOptions.includes(commonKey)) {\n          delete cleanedCommon[commonKey];\n        }\n      }\n      if (!cleanedCommon)\n        continue;\n      for (const s of seriesTypes) {\n        const seriesType = s;\n        defaults[seriesType] = mergeDefaults(cleanedCommon, defaults[seriesType]);\n      }\n    }\n    chartTypes.seriesTypes.forEach((s) => {\n      const seriesType = s;\n      if (overrides[seriesType]) {\n        defaults[seriesType] = mergeDefaults(overrides[seriesType], defaults[seriesType]);\n      }\n    });\n  }\n  createChartConfigPerChartType(config) {\n    for (const [nextType, { seriesTypes }] of Object.entries(CHART_TYPE_CONFIG)) {\n      const typeDefaults = chartDefaults.get(nextType);\n      for (const seriesType of seriesTypes) {\n        config[seriesType] || (config[seriesType] = deepClone(typeDefaults));\n      }\n    }\n    return config;\n  }\n  getDefaults() {\n    const getOverridesByType = (chartType2, seriesTypes) => {\n      var _a;\n      const result = {};\n      const chartTypeDefaults = __spreadValues(__spreadValues(__spreadValues({\n        axes: {}\n      }, legendRegistry.getThemeTemplates()), _ChartTheme.getChartDefaults()), chartDefaults.get(chartType2));\n      for (const seriesType of seriesTypes) {\n        result[seriesType] = mergeDefaults(\n          seriesRegistry.getThemeTemplate(seriesType),\n          (_a = result[seriesType]) != null ? _a : deepClone(chartTypeDefaults)\n        );\n        const { axes } = result[seriesType];\n        for (const axisType of axisRegistry.keys()) {\n          axes[axisType] = mergeDefaults(\n            axes[axisType],\n            axisRegistry.getThemeTemplate(axisType),\n            chartType2 === \"cartesian\" && _ChartTheme.cartesianAxisDefault[axisType]\n          );\n        }\n      }\n      return result;\n    };\n    return mergeDefaults(\n      getOverridesByType(\"cartesian\", chartTypes.cartesianTypes),\n      getOverridesByType(\"polar\", chartTypes.polarTypes),\n      getOverridesByType(\"hierarchy\", chartTypes.hierarchyTypes),\n      getOverridesByType(\"topology\", chartTypes.topologyTypes)\n    );\n  }\n  templateTheme(themeTemplate) {\n    const themeInstance = deepClone(themeTemplate);\n    const { extensions, properties } = this.getTemplateParameters();\n    jsonWalk(themeInstance, (node) => {\n      if (node[\"__extends__\"]) {\n        const extendsValue = node[\"__extends__\"];\n        const source = extensions.get(extendsValue);\n        if (source == null) {\n          throw new Error(`AG Charts - no template variable provided for: ${extendsValue}`);\n        }\n        Object.keys(source).forEach((key) => {\n          if (!(key in node)) {\n            node[key] = source[key];\n          } else if (isObject(node[key])) {\n            node[key] = mergeDefaults(node[key], source[key]);\n          }\n        });\n        delete node[\"__extends__\"];\n      }\n      if (isArray(node)) {\n        for (let i = 0; i < node.length; i++) {\n          const symbol = node[i];\n          if (properties.has(symbol)) {\n            node[i] = properties.get(symbol);\n          }\n        }\n      } else {\n        for (const [name, value] of Object.entries(node)) {\n          if (properties.has(value)) {\n            node[name] = properties.get(value);\n          }\n        }\n      }\n    });\n    return deepClone(themeInstance);\n  }\n  static getDefaultColors() {\n    return {\n      fills: DEFAULT_FILLS,\n      strokes: DEFAULT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: DEFAULT_FILLS.BLUE,\n      stroke: DEFAULT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: DEFAULT_FILLS.ORANGE,\n      stroke: DEFAULT_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: DEFAULT_FILLS.GRAY,\n      stroke: DEFAULT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const extensions = /* @__PURE__ */ new Map();\n    extensions.set(EXTENDS_AXES_DEFAULTS, _ChartTheme.getAxisDefaults());\n    extensions.set(EXTENDS_AXES_LINE_DEFAULTS, _ChartTheme.getAxisDefaults().line);\n    extensions.set(EXTENDS_AXES_TICK_DEFAULTS, _ChartTheme.getAxisDefaults().tick);\n    extensions.set(EXTENDS_AXES_GRID_LINE_DEFAULTS, _ChartTheme.getAxisDefaults().gridLine);\n    extensions.set(EXTENDS_SERIES_DEFAULTS, _ChartTheme.getSeriesDefaults());\n    extensions.set(EXTENDS_CARTESIAN_MARKER_DEFAULTS, _ChartTheme.getCartesianSeriesMarkerDefaults());\n    const properties = /* @__PURE__ */ new Map();\n    properties.set(IS_DARK_THEME, false);\n    properties.set(DEFAULT_FONT_FAMILY, \"Verdana, sans-serif\");\n    properties.set(DEFAULT_LABEL_COLOUR, \"rgb(70, 70, 70)\");\n    properties.set(DEFAULT_INVERTED_LABEL_COLOUR, \"white\");\n    properties.set(DEFAULT_MUTED_LABEL_COLOUR, \"rgb(140, 140, 140)\");\n    properties.set(DEFAULT_AXIS_GRID_COLOUR, \"rgb(224,234,241)\");\n    properties.set(DEFAULT_AXIS_LINE_COLOUR, \"rgb(195, 195, 195)\");\n    properties.set(DEFAULT_CROSS_LINES_COLOUR, \"rgb(70, 70, 70)\");\n    properties.set(DEFAULT_INSIDE_SERIES_LABEL_COLOUR, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_BACKGROUND_COLOUR, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_SHADOW_COLOUR, \"rgba(0, 0, 0, 0.5)\");\n    properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      DEFAULT_FILLS.ORANGE,\n      DEFAULT_FILLS.YELLOW,\n      DEFAULT_FILLS.GREEN\n    ]);\n    properties.set(DEFAULT_HIERARCHY_FILLS, [\"#ffffff\", \"#e0e5ea\", \"#c1ccd5\", \"#a3b4c1\", \"#859cad\"]);\n    properties.set(DEFAULT_HIERARCHY_STROKES, [\"#ffffff\", \"#c5cbd1\", \"#a4b1bd\", \"#8498a9\", \"#648096\"]);\n    properties.set(DEFAULT_POLAR_SERIES_STROKE, DEFAULT_BACKGROUND_FILL);\n    properties.set(DEFAULT_COLOURS, _ChartTheme.getDefaultColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS, _ChartTheme.getWaterfallSeriesDefaultPositiveColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS, _ChartTheme.getWaterfallSeriesDefaultNegativeColors());\n    properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _ChartTheme.getWaterfallSeriesDefaultTotalColors());\n    properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _ChartTheme.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    properties.set(DEFAULT_ANNOTATION_STROKE, DEFAULT_STROKES.BLUE);\n    properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, DEFAULT_FILLS.BLUE);\n    properties.set(DEFAULT_ANNOTATION_HANDLE_FILL, DEFAULT_BACKGROUND_FILL);\n    return {\n      extensions,\n      properties\n    };\n  }\n};\n_ChartTheme.cartesianAxisDefault = {\n  [\"number\" /* NUMBER */]: _ChartTheme.getAxisDefaults({ line: { enabled: false } }),\n  [\"log\" /* LOG */]: _ChartTheme.getAxisDefaults({ base: 10, line: { enabled: false } }),\n  [\"category\" /* CATEGORY */]: _ChartTheme.getAxisDefaults({\n    groupPaddingInner: 0.1,\n    label: { autoRotate: true },\n    gridLine: { enabled: false }\n  }),\n  [\"time\" /* TIME */]: _ChartTheme.getAxisDefaults({ gridLine: { enabled: false } }),\n  \"grouped-category\": _ChartTheme.getAxisDefaults()\n};\nvar ChartTheme = _ChartTheme;\n\n// packages/ag-charts-community/src/chart/themes/darkTheme.ts\nvar DEFAULT_DARK_BACKGROUND_FILL = \"#192232\";\nvar DEFAULT_DARK_FILLS = {\n  BLUE: \"#5090dc\",\n  ORANGE: \"#ffa03a\",\n  GREEN: \"#459d55\",\n  CYAN: \"#34bfe1\",\n  YELLOW: \"#e1cc00\",\n  VIOLET: \"#9669cb\",\n  GRAY: \"#b5b5b5\",\n  MAGENTA: \"#bd5aa7\",\n  BROWN: \"#8a6224\",\n  RED: \"#ef5452\"\n};\nvar DEFAULT_DARK_STROKES = {\n  BLUE: \"#74a8e6\",\n  ORANGE: \"#ffbe70\",\n  GREEN: \"#6cb176\",\n  CYAN: \"#75d4ef\",\n  YELLOW: \"#f6e559\",\n  VIOLET: \"#aa86d8\",\n  GRAY: \"#a1a1a1\",\n  MAGENTA: \"#ce7ab9\",\n  BROWN: \"#997b52\",\n  RED: \"#ff7872\"\n};\nvar palette = {\n  fills: Object.values(DEFAULT_DARK_FILLS),\n  strokes: Object.values(DEFAULT_DARK_STROKES)\n};\nvar DarkTheme = class _DarkTheme extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: DEFAULT_DARK_FILLS,\n      strokes: DEFAULT_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.BLUE,\n      stroke: DEFAULT_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.ORANGE,\n      stroke: DEFAULT_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: DEFAULT_DARK_FILLS.GRAY,\n      stroke: DEFAULT_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(IS_DARK_THEME, true);\n    result.properties.set(DEFAULT_COLOURS, _DarkTheme.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _DarkTheme.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _DarkTheme.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _DarkTheme.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _DarkTheme.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_POLAR_SERIES_STROKE, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_LABEL_COLOUR, \"white\");\n    result.properties.set(DEFAULT_MUTED_LABEL_COLOUR, \"#7D91A0\");\n    result.properties.set(DEFAULT_AXIS_GRID_COLOUR, \"#545A6E\");\n    result.properties.set(DEFAULT_CROSS_LINES_COLOUR, \"white\");\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      DEFAULT_DARK_FILLS.ORANGE,\n      DEFAULT_DARK_FILLS.YELLOW,\n      DEFAULT_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(DEFAULT_HIERARCHY_FILLS, [\"#192834\", \"#253746\", \"#324859\", \"#3f596c\", \"#4d6a80\"]);\n    result.properties.set(DEFAULT_HIERARCHY_STROKES, [\"#192834\", \"#3b5164\", \"#496275\", \"#577287\", \"#668399\"]);\n    result.properties.set(DEFAULT_BACKGROUND_COLOUR, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_INSIDE_SERIES_LABEL_COLOUR, DEFAULT_DARK_BACKGROUND_FILL);\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, DEFAULT_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, DEFAULT_DARK_FILLS.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_HANDLE_FILL, DEFAULT_DARK_BACKGROUND_FILL);\n    return result;\n  }\n  getPalette() {\n    return palette;\n  }\n  constructor(options) {\n    super(options);\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/materialDark.ts\nvar MATERIAL_DARK_FILLS = {\n  BLUE: \"#2196F3\",\n  ORANGE: \"#FF9800\",\n  GREEN: \"#4CAF50\",\n  CYAN: \"#00BCD4\",\n  YELLOW: \"#FFEB3B\",\n  VIOLET: \"#7E57C2\",\n  GRAY: \"#9E9E9E\",\n  MAGENTA: \"#F06292\",\n  BROWN: \"#795548\",\n  RED: \"#F44336\"\n};\nvar MATERIAL_DARK_STROKES = {\n  BLUE: \"#90CAF9\",\n  ORANGE: \"#FFCC80\",\n  GREEN: \"#A5D6A7\",\n  CYAN: \"#80DEEA\",\n  YELLOW: \"#FFF9C4\",\n  VIOLET: \"#B39DDB\",\n  GRAY: \"#E0E0E0\",\n  MAGENTA: \"#F48FB1\",\n  BROWN: \"#A1887F\",\n  RED: \"#EF9A9A\"\n};\nvar palette2 = {\n  fills: Object.values(MATERIAL_DARK_FILLS),\n  strokes: Object.values(MATERIAL_DARK_STROKES)\n};\nvar MaterialDark = class _MaterialDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: MATERIAL_DARK_FILLS,\n      strokes: MATERIAL_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.BLUE,\n      stroke: MATERIAL_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.RED,\n      stroke: MATERIAL_DARK_STROKES.RED,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: MATERIAL_DARK_FILLS.GRAY,\n      stroke: MATERIAL_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _MaterialDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _MaterialDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _MaterialDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _MaterialDark.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      MATERIAL_DARK_FILLS.ORANGE,\n      MATERIAL_DARK_FILLS.YELLOW,\n      MATERIAL_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _MaterialDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, MATERIAL_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, MATERIAL_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette2;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/materialLight.ts\nvar MATERIAL_LIGHT_FILLS = {\n  BLUE: \"#2196F3\",\n  ORANGE: \"#FF9800\",\n  GREEN: \"#4CAF50\",\n  CYAN: \"#00BCD4\",\n  YELLOW: \"#FFEB3B\",\n  VIOLET: \"#7E57C2\",\n  GRAY: \"#9E9E9E\",\n  MAGENTA: \"#F06292\",\n  BROWN: \"#795548\",\n  RED: \"#F44336\"\n};\nvar MATERIAL_LIGHT_STROKES = {\n  BLUE: \"#1565C0\",\n  ORANGE: \"#E65100\",\n  GREEN: \"#2E7D32\",\n  CYAN: \"#00838F\",\n  YELLOW: \"#F9A825\",\n  VIOLET: \"#4527A0\",\n  GRAY: \"#616161\",\n  MAGENTA: \"#C2185B\",\n  BROWN: \"#4E342E\",\n  RED: \"#B71C1C\"\n};\nvar palette3 = {\n  fills: Object.values(MATERIAL_LIGHT_FILLS),\n  strokes: Object.values(MATERIAL_LIGHT_STROKES)\n};\nvar MaterialLight = class _MaterialLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: MATERIAL_LIGHT_FILLS,\n      strokes: MATERIAL_LIGHT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.BLUE,\n      stroke: MATERIAL_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.RED,\n      stroke: MATERIAL_LIGHT_STROKES.RED,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: MATERIAL_LIGHT_FILLS.GRAY,\n      stroke: MATERIAL_LIGHT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _MaterialLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _MaterialLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _MaterialLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _MaterialLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      MATERIAL_LIGHT_FILLS.ORANGE,\n      MATERIAL_LIGHT_FILLS.YELLOW,\n      MATERIAL_LIGHT_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _MaterialLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, MATERIAL_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, MATERIAL_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette3;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/polychromaDark.ts\nvar POLYCHROMA_DARK_FILLS = {\n  BLUE: \"#436ff4\",\n  PURPLE: \"#9a7bff\",\n  MAGENTA: \"#d165d2\",\n  PINK: \"#f0598b\",\n  RED: \"#f47348\",\n  ORANGE: \"#f2a602\",\n  YELLOW: \"#e9e201\",\n  GREEN: \"#21b448\",\n  CYAN: \"#00b9a2\",\n  MODERATE_BLUE: \"#00aee4\"\n};\nvar POLYCHROMA_DARK_STROKES = {\n  BLUE: \"#6698ff\",\n  PURPLE: \"#c0a3ff\",\n  MAGENTA: \"#fc8dfc\",\n  PINK: \"#ff82b1\",\n  RED: \"#ff9b70\",\n  ORANGE: \"#ffcf4e\",\n  YELLOW: \"#ffff58\",\n  GREEN: \"#58dd70\",\n  CYAN: \"#51e2c9\",\n  MODERATE_BLUE: \"#4fd7ff\"\n};\nvar POLYCHROMA_DARK_FILL_GRAY = \"#bbbbbb\";\nvar POLYCHROMA_DARK_STROKE_GRAY = \"#eeeeee\";\nvar palette4 = {\n  fills: Object.values(POLYCHROMA_DARK_FILLS),\n  strokes: Object.values(POLYCHROMA_DARK_STROKES)\n};\nvar PolychromaDark = class _PolychromaDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: POLYCHROMA_DARK_FILLS,\n      strokes: POLYCHROMA_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILLS.BLUE,\n      stroke: POLYCHROMA_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILLS.RED,\n      stroke: POLYCHROMA_DARK_STROKES.RED,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: POLYCHROMA_DARK_FILL_GRAY,\n      stroke: POLYCHROMA_DARK_STROKE_GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _PolychromaDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _PolychromaDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _PolychromaDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _PolychromaDark.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      POLYCHROMA_DARK_FILLS.BLUE,\n      POLYCHROMA_DARK_FILLS.RED\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _PolychromaDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, POLYCHROMA_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, POLYCHROMA_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette4;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/polychromaLight.ts\nvar POLYCHROMA_LIGHT_FILLS = {\n  BLUE: \"#436ff4\",\n  PURPLE: \"#9a7bff\",\n  MAGENTA: \"#d165d2\",\n  PINK: \"#f0598b\",\n  RED: \"#f47348\",\n  ORANGE: \"#f2a602\",\n  YELLOW: \"#e9e201\",\n  GREEN: \"#21b448\",\n  CYAN: \"#00b9a2\",\n  MODERATE_BLUE: \"#00aee4\"\n};\nvar POLYCHROMA_LIGHT_STROKES = {\n  BLUE: \"#2346c9\",\n  PURPLE: \"#7653d4\",\n  MAGENTA: \"#a73da9\",\n  PINK: \"#c32d66\",\n  RED: \"#c84b1c\",\n  ORANGE: \"#c87f00\",\n  YELLOW: \"#c1b900\",\n  GREEN: \"#008c1c\",\n  CYAN: \"#00927c\",\n  MODERATE_BLUE: \"#0087bb\"\n};\nvar POLYCHROMA_LIGHT_FILL_GRAY = \"#bbbbbb\";\nvar POLYCHROMA_LIGHT_STROKE_GRAY = \"#888888\";\nvar palette5 = {\n  fills: Object.values(POLYCHROMA_LIGHT_FILLS),\n  strokes: Object.values(POLYCHROMA_LIGHT_STROKES)\n};\nvar PolychromaLight = class _PolychromaLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: POLYCHROMA_LIGHT_FILLS,\n      strokes: POLYCHROMA_LIGHT_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILLS.BLUE,\n      stroke: POLYCHROMA_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILLS.RED,\n      stroke: POLYCHROMA_LIGHT_STROKES.RED,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: POLYCHROMA_LIGHT_FILL_GRAY,\n      stroke: POLYCHROMA_LIGHT_STROKE_GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _PolychromaLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _PolychromaLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _PolychromaLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _PolychromaLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      POLYCHROMA_LIGHT_FILLS.BLUE,\n      POLYCHROMA_LIGHT_FILLS.RED\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _PolychromaLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, POLYCHROMA_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, POLYCHROMA_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette5;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/sheetsDark.ts\nvar SHEETS_DARK_FILLS = {\n  BLUE: \"#4472C4\",\n  ORANGE: \"#ED7D31\",\n  GRAY: \"#A5A5A5\",\n  YELLOW: \"#FFC000\",\n  MODERATE_BLUE: \"#5B9BD5\",\n  GREEN: \"#70AD47\",\n  DARK_GRAY: \"#7B7B7B\",\n  DARK_BLUE: \"#264478\",\n  VERY_DARK_GRAY: \"#636363\",\n  DARK_YELLOW: \"#997300\"\n};\nvar SHEETS_DARK_STROKES = {\n  BLUE: \"#6899ee\",\n  ORANGE: \"#ffa55d\",\n  GRAY: \"#cdcdcd\",\n  YELLOW: \"#ffea53\",\n  MODERATE_BLUE: \"#82c3ff\",\n  GREEN: \"#96d56f\",\n  DARK_GRAY: \"#a1a1a1\",\n  DARK_BLUE: \"#47689f\",\n  VERY_DARK_GRAY: \"#878787\",\n  DARK_YELLOW: \"#c0993d\"\n};\nvar palette6 = {\n  fills: Object.values(SHEETS_DARK_FILLS),\n  strokes: Object.values(SHEETS_DARK_STROKES)\n};\nvar SheetsDark = class _SheetsDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: __spreadProps(__spreadValues({}, SHEETS_DARK_FILLS), { RED: SHEETS_DARK_FILLS.ORANGE }),\n      strokes: __spreadProps(__spreadValues({}, SHEETS_DARK_STROKES), { RED: SHEETS_DARK_STROKES.ORANGE })\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.BLUE,\n      stroke: SHEETS_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.ORANGE,\n      stroke: SHEETS_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: SHEETS_DARK_FILLS.GRAY,\n      stroke: SHEETS_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _SheetsDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _SheetsDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _SheetsDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _SheetsDark.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      SHEETS_DARK_FILLS.ORANGE,\n      SHEETS_DARK_FILLS.YELLOW,\n      SHEETS_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _SheetsDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, SHEETS_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, SHEETS_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette6;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/sheetsLight.ts\nvar SHEETS_LIGHT_FILLS = {\n  BLUE: \"#5281d5\",\n  ORANGE: \"#ff8d44\",\n  GRAY: \"#b5b5b5\",\n  YELLOW: \"#ffd02f\",\n  MODERATE_BLUE: \"#6aabe6\",\n  GREEN: \"#7fbd57\",\n  DARK_GRAY: \"#8a8a8a\",\n  DARK_BLUE: \"#335287\",\n  VERY_DARK_GRAY: \"#717171\",\n  DARK_YELLOW: \"#a98220\"\n};\nvar SHEETS_LIGHT_STROKES = {\n  BLUE: \"#214d9b\",\n  ORANGE: \"#c25600\",\n  GRAY: \"#7f7f7f\",\n  YELLOW: \"#d59800\",\n  MODERATE_BLUE: \"#3575ac\",\n  GREEN: \"#4b861a\",\n  DARK_GRAY: \"#575757\",\n  DARK_BLUE: \"#062253\",\n  VERY_DARK_GRAY: \"#414141\",\n  DARK_YELLOW: \"#734f00\"\n};\nvar palette7 = {\n  fills: Object.values(SHEETS_LIGHT_FILLS),\n  strokes: Object.values(SHEETS_LIGHT_STROKES)\n};\nvar SheetsLight = class _SheetsLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: __spreadProps(__spreadValues({}, SHEETS_LIGHT_FILLS), { RED: SHEETS_LIGHT_FILLS.ORANGE }),\n      strokes: __spreadProps(__spreadValues({}, SHEETS_LIGHT_STROKES), { RED: SHEETS_LIGHT_STROKES.ORANGE })\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.BLUE,\n      stroke: SHEETS_LIGHT_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.ORANGE,\n      stroke: SHEETS_LIGHT_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: SHEETS_LIGHT_FILLS.GRAY,\n      stroke: SHEETS_LIGHT_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _SheetsLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _SheetsLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _SheetsLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _SheetsLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      SHEETS_LIGHT_FILLS.ORANGE,\n      SHEETS_LIGHT_FILLS.YELLOW,\n      SHEETS_LIGHT_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _SheetsLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, SHEETS_LIGHT_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, SHEETS_LIGHT_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette7;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/vividDark.ts\nvar VIVID_DARK_FILLS = {\n  BLUE: \"#0083ff\",\n  ORANGE: \"#ff6600\",\n  GREEN: \"#00af00\",\n  CYAN: \"#00ccff\",\n  YELLOW: \"#f7c700\",\n  VIOLET: \"#ac26ff\",\n  GRAY: \"#a7a7b7\",\n  MAGENTA: \"#e800c5\",\n  BROWN: \"#b54300\",\n  RED: \"#ff0000\"\n};\nvar VIVID_DARK_STROKES = {\n  BLUE: \"#67b7ff\",\n  ORANGE: \"#ffc24d\",\n  GREEN: \"#5cc86f\",\n  CYAN: \"#54ebff\",\n  VIOLET: \"#c18aff\",\n  YELLOW: \"#fff653\",\n  GRAY: \"#aeaeae\",\n  MAGENTA: \"#f078d4\",\n  BROWN: \"#ba8438\",\n  RED: \"#ff726e\"\n};\nvar palette8 = {\n  fills: Object.values(VIVID_DARK_FILLS),\n  strokes: Object.values(VIVID_DARK_STROKES)\n};\nvar VividDark = class _VividDark extends DarkTheme {\n  static getDefaultColors() {\n    return {\n      fills: VIVID_DARK_FILLS,\n      strokes: VIVID_DARK_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: VIVID_DARK_FILLS.BLUE,\n      stroke: VIVID_DARK_STROKES.BLUE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: VIVID_DARK_FILLS.ORANGE,\n      stroke: VIVID_DARK_STROKES.ORANGE,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: VIVID_DARK_FILLS.GRAY,\n      stroke: VIVID_DARK_STROKES.GRAY,\n      label: {\n        color: \"white\"\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _VividDark.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _VividDark.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _VividDark.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS, _VividDark.getWaterfallSeriesDefaultTotalColors());\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      VIVID_DARK_FILLS.ORANGE,\n      VIVID_DARK_FILLS.YELLOW,\n      VIVID_DARK_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _VividDark.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, VIVID_DARK_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, VIVID_DARK_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette8;\n  }\n};\n\n// packages/ag-charts-community/src/chart/themes/vividLight.ts\nvar VIVID_FILLS = {\n  BLUE: \"#0083ff\",\n  ORANGE: \"#ff6600\",\n  GREEN: \"#00af00\",\n  CYAN: \"#00ccff\",\n  YELLOW: \"#f7c700\",\n  VIOLET: \"#ac26ff\",\n  GRAY: \"#a7a7b7\",\n  MAGENTA: \"#e800c5\",\n  BROWN: \"#b54300\",\n  RED: \"#ff0000\"\n};\nvar VIVID_STROKES = {\n  BLUE: \"#0f68c0\",\n  ORANGE: \"#d47100\",\n  GREEN: \"#007922\",\n  CYAN: \"#009ac2\",\n  VIOLET: \"#bca400\",\n  YELLOW: \"#753cac\",\n  GRAY: \"#646464\",\n  MAGENTA: \"#9b2685\",\n  BROWN: \"#6c3b00\",\n  RED: \"#cb0021\"\n};\nvar palette9 = {\n  fills: Object.values(VIVID_FILLS),\n  strokes: Object.values(VIVID_STROKES)\n};\nvar VividLight = class _VividLight extends ChartTheme {\n  static getDefaultColors() {\n    return {\n      fills: VIVID_FILLS,\n      strokes: VIVID_STROKES\n    };\n  }\n  static getWaterfallSeriesDefaultPositiveColors() {\n    return {\n      fill: VIVID_FILLS.BLUE,\n      stroke: VIVID_STROKES.BLUE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultNegativeColors() {\n    return {\n      fill: VIVID_FILLS.ORANGE,\n      stroke: VIVID_STROKES.ORANGE,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  static getWaterfallSeriesDefaultTotalColors() {\n    return {\n      fill: VIVID_FILLS.GRAY,\n      stroke: VIVID_STROKES.GRAY,\n      label: {\n        color: DEFAULT_LABEL_COLOUR\n      }\n    };\n  }\n  getTemplateParameters() {\n    const result = super.getTemplateParameters();\n    result.properties.set(DEFAULT_COLOURS, _VividLight.getDefaultColors());\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n      _VividLight.getWaterfallSeriesDefaultPositiveColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n      _VividLight.getWaterfallSeriesDefaultNegativeColors()\n    );\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n      _VividLight.getWaterfallSeriesDefaultTotalColors()\n    );\n    result.properties.set(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE, [\n      VIVID_FILLS.ORANGE,\n      VIVID_FILLS.YELLOW,\n      VIVID_FILLS.GREEN\n    ]);\n    result.properties.set(\n      DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n      _VividLight.getWaterfallSeriesDefaultTotalColors().stroke\n    );\n    result.properties.set(DEFAULT_ANNOTATION_STROKE, VIVID_STROKES.BLUE);\n    result.properties.set(DEFAULT_ANNOTATION_BACKGROUND_FILL, VIVID_FILLS.BLUE);\n    return result;\n  }\n  getPalette() {\n    return palette9;\n  }\n};\n\n// packages/ag-charts-community/src/chart/mapping/themes.ts\nvar lightTheme = () => new ChartTheme();\nvar darkTheme = () => new DarkTheme();\nvar lightThemes = {\n  undefined: lightTheme,\n  null: lightTheme,\n  \"ag-default\": lightTheme,\n  \"ag-sheets\": () => new SheetsLight(),\n  \"ag-polychroma\": () => new PolychromaLight(),\n  \"ag-vivid\": () => new VividLight(),\n  \"ag-material\": () => new MaterialLight()\n};\nvar darkThemes = {\n  undefined: darkTheme,\n  null: darkTheme,\n  \"ag-default-dark\": darkTheme,\n  \"ag-sheets-dark\": () => new SheetsDark(),\n  \"ag-polychroma-dark\": () => new PolychromaDark(),\n  \"ag-vivid-dark\": () => new VividDark(),\n  \"ag-material-dark\": () => new MaterialDark()\n};\nvar themes = __spreadValues(__spreadValues({}, darkThemes), lightThemes);\nfunction validateChartThemeObject(unknownObject) {\n  if (unknownObject === null) {\n    return;\n  }\n  let valid = true;\n  const { baseTheme, palette: palette10, overrides } = unknownObject;\n  if (baseTheme !== void 0 && typeof baseTheme !== \"string\" && typeof baseTheme !== \"object\") {\n    Logger.warn(`invalid theme.baseTheme type ${typeof baseTheme}, expected (string | object).`);\n    valid = false;\n  }\n  if (overrides !== void 0 && typeof overrides !== \"object\") {\n    Logger.warn(`invalid theme.overrides type ${typeof overrides}, expected object.`);\n    valid = false;\n  }\n  if (typeof palette10 === \"object\") {\n    if (palette10 !== null) {\n      const { fills, strokes } = palette10;\n      if (fills !== void 0 && !Array.isArray(fills)) {\n        Logger.warn(`theme.overrides.fills must be undefined or an array`);\n        valid = false;\n      }\n      if (strokes !== void 0 && !Array.isArray(strokes)) {\n        Logger.warn(`theme.overrides.strokes must be undefined or an array`);\n        valid = false;\n      }\n    }\n  } else if (palette10 !== void 0) {\n    Logger.warn(`invalid theme.palette type ${typeof palette10}, expected object.`);\n    valid = false;\n  }\n  if (valid) {\n    return unknownObject;\n  }\n}\nfunction validateChartTheme(value) {\n  if (value === void 0 || typeof value === \"string\" || value instanceof ChartTheme) {\n    return value;\n  }\n  if (typeof value === \"object\") {\n    return validateChartThemeObject(value);\n  }\n  Logger.warn(`invalid theme value type ${typeof value}, expected object or string.`);\n}\nfunction getChartTheme(unvalidatedValue) {\n  let value = validateChartTheme(unvalidatedValue);\n  if (value instanceof ChartTheme) {\n    return value;\n  }\n  if (value == null || typeof value === \"string\") {\n    const stockTheme = themes[value];\n    if (stockTheme) {\n      return stockTheme();\n    }\n    Logger.warnOnce(`the theme [${value}] is invalid, using [ag-default] instead.`);\n    return lightTheme();\n  }\n  const overrides = [];\n  let palette10;\n  while (typeof value === \"object\") {\n    overrides.push(value.overrides);\n    palette10 != null ? palette10 : palette10 = value.palette;\n    value = value.baseTheme;\n  }\n  const flattenedTheme = {\n    baseTheme: value,\n    overrides: mergeDefaults(...overrides),\n    palette: palette10\n  };\n  const baseTheme = flattenedTheme.baseTheme ? getChartTheme(flattenedTheme.baseTheme) : lightTheme();\n  return new baseTheme.constructor(flattenedTheme);\n}\n\n// packages/ag-charts-community/src/util/array.ts\nfunction extent(values) {\n  if (values.length === 0) {\n    return;\n  }\n  let min = Infinity;\n  let max = -Infinity;\n  for (let n of values) {\n    if (n instanceof Date) {\n      n = n.getTime();\n    }\n    if (typeof n !== \"number\") {\n      continue;\n    }\n    if (n < min) {\n      min = n;\n    }\n    if (n > max) {\n      max = n;\n    }\n  }\n  const result = [min, max];\n  if (result.every(isFinite)) {\n    return result;\n  }\n}\nfunction normalisedExtent(d, min, max) {\n  return normalisedExtentWithMetadata(d, min, max).extent;\n}\nfunction normalisedExtentWithMetadata(d, min, max) {\n  var _a;\n  let clipped = false;\n  if (d.length > 2) {\n    d = (_a = extent(d)) != null ? _a : [NaN, NaN];\n  }\n  if (!isNaN(min)) {\n    clipped || (clipped = min > d[0]);\n    d = [min, d[1]];\n  }\n  if (!isNaN(max)) {\n    clipped || (clipped = max < d[1]);\n    d = [d[0], max];\n  }\n  if (d[0] > d[1]) {\n    d = [];\n  }\n  return { extent: d, clipped };\n}\nfunction arraysEqual(a, b) {\n  if (a == null || b == null || a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (Array.isArray(a[i]) && Array.isArray(b[i])) {\n      if (!arraysEqual(a[i], b[i])) {\n        return false;\n      }\n    } else if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction toArray(value) {\n  if (typeof value === \"undefined\") {\n    return [];\n  }\n  return Array.isArray(value) ? value : [value];\n}\nfunction unique(array) {\n  return Array.from(new Set(array));\n}\nfunction groupBy(array, iteratee) {\n  return array.reduce((result, item) => {\n    var _a;\n    const groupKey = iteratee(item);\n    (_a = result[groupKey]) != null ? _a : result[groupKey] = [];\n    result[groupKey].push(item);\n    return result;\n  }, {});\n}\nfunction circularSliceArray(data, size, offset4 = 0) {\n  if (data.length === 0) {\n    return [];\n  }\n  const result = [];\n  for (let i = 0; i < size; i++) {\n    result.push(data.at((i + offset4) % data.length));\n  }\n  return result;\n}\nfunction bifurcate(isLeft, array) {\n  return array.reduce(\n    ([left, right], value) => isLeft(value) ? [[...left, value], right] : [left, [...right, value]],\n    [[], []]\n  );\n}\nfunction* mapIterable(src, predicate) {\n  for (const e of src) {\n    yield predicate(e);\n  }\n}\nfunction constStringsIncludes(array, value) {\n  const casting = array;\n  return casting.includes(value);\n}\nfunction isInStringUnion(unionValues, value) {\n  return constStringsIncludes(unionValues, value);\n}\nfunction allInStringUnion(unionValues, values) {\n  return !values.some((v) => !isInStringUnion(unionValues, v));\n}\n\n// packages/ag-charts-community/src/util/dom.ts\nvar verifiedGlobals = {};\nvar injectCache = /* @__PURE__ */ new WeakMap();\nif (typeof window !== \"undefined\") {\n  verifiedGlobals.window = window;\n} else if (typeof global !== \"undefined\") {\n  verifiedGlobals.window = global.window;\n}\nif (typeof document !== \"undefined\") {\n  verifiedGlobals.document = document;\n} else if (typeof global !== \"undefined\") {\n  verifiedGlobals.document = global.document;\n}\nfunction getDocument(propertyName) {\n  var _a;\n  return propertyName ? (_a = verifiedGlobals.document) == null ? void 0 : _a[propertyName] : verifiedGlobals.document;\n}\nfunction getWindow(propertyName) {\n  var _a;\n  return propertyName ? (_a = verifiedGlobals.window) == null ? void 0 : _a[propertyName] : verifiedGlobals.window;\n}\nfunction createElement(tagName, className, style) {\n  const element2 = getDocument().createElement(tagName);\n  if (typeof className === \"object\") {\n    style = className;\n    className = void 0;\n  }\n  if (className) {\n    element2.classList.add(className);\n  }\n  if (style) {\n    Object.assign(element2.style, style);\n  }\n  return element2;\n}\nfunction downloadUrl(dataUrl, fileName) {\n  const { body } = getDocument();\n  const element2 = createElement(\"a\", { display: \"none\" });\n  element2.href = dataUrl;\n  element2.download = fileName;\n  body.appendChild(element2);\n  element2.click();\n  setTimeout(() => body.removeChild(element2));\n}\nfunction injectStyle(cssStyle, uniqueId) {\n  var _a, _b;\n  const document2 = getDocument();\n  if (uniqueId && ((_a = injectCache.get(document2)) == null ? void 0 : _a.has(uniqueId)))\n    return;\n  const styleElement = createElement(\"style\");\n  styleElement.innerHTML = cssStyle;\n  document2.head.insertBefore(styleElement, document2.head.querySelector(\"style\"));\n  if (uniqueId && !injectCache.has(document2)) {\n    injectCache.set(document2, /* @__PURE__ */ new Set([uniqueId]));\n  } else if (uniqueId) {\n    (_b = injectCache.get(document2)) == null ? void 0 : _b.add(uniqueId);\n  }\n}\nfunction setDocument(document2) {\n  verifiedGlobals.document = document2;\n}\nfunction setWindow(window2) {\n  verifiedGlobals.window = window2;\n}\n\n// packages/ag-charts-community/src/util/debug.ts\nvar LONG_TIME_PERIOD_THRESHOLD = 2e3;\nvar timeOfLastLog = Date.now();\nvar logTimeGap = () => {\n  const timeSinceLastLog = Date.now() - timeOfLastLog;\n  if (timeSinceLastLog > LONG_TIME_PERIOD_THRESHOLD) {\n    const prettyDuration = (Math.floor(timeSinceLastLog / 100) / 10).toFixed(1);\n    Logger.log(`**** ${prettyDuration}s since last log message ****`);\n  }\n  timeOfLastLog = Date.now();\n};\nvar Debug = {\n  create(...debugSelectors) {\n    const resultFn = (...logContent) => {\n      if (Debug.check(...debugSelectors)) {\n        if (typeof logContent[0] === \"function\") {\n          logContent = toArray(logContent[0]());\n        }\n        logTimeGap();\n        Logger.log(...logContent);\n      }\n    };\n    return Object.assign(resultFn, { check: () => Debug.check(...debugSelectors) });\n  },\n  check(...debugSelectors) {\n    if (debugSelectors.length === 0) {\n      debugSelectors.push(true);\n    }\n    const chartDebug = toArray(getWindow(\"agChartsDebug\"));\n    return chartDebug.some((selector) => debugSelectors.includes(selector));\n  }\n};\n\n// packages/ag-charts-community/src/module/optionsModule.ts\nvar unthemedSeries = /* @__PURE__ */ new Set([\"map-shape-background\", \"map-line-background\"]);\nvar ChartOptions = class {\n  constructor(userOptions, specialOverrides) {\n    var _b, _c, _d;\n    const cloneOptions = { shallow: [\"data\"] };\n    const options = deepClone(userOptions, cloneOptions);\n    const chartType2 = this.optionsType(options);\n    this.sanityCheckAndCleanup(options);\n    this.userOptions = options;\n    this.activeTheme = getChartTheme(options.theme);\n    this.defaultAxes = this.getDefaultAxes(options);\n    this.specialOverrides = this.specialOverridesDefaults(__spreadValues({}, specialOverrides));\n    const _a = this.getSeriesThemeConfig(chartType2), {\n      axes: axesThemes = {},\n      annotations: annotationsThemes = {},\n      series: _\n    } = _a, themeDefaults = __objRest(_a, [\n      \"axes\",\n      \"annotations\",\n      \"series\"\n    ]);\n    this.processedOptions = deepClone(\n      mergeDefaults(this.userOptions, themeDefaults, this.defaultAxes),\n      cloneOptions\n    );\n    this.processAxesOptions(this.processedOptions, axesThemes);\n    this.processSeriesOptions(this.processedOptions);\n    this.processMiniChartSeriesOptions(this.processedOptions);\n    this.processAnnotationsOptions(this.processedOptions, annotationsThemes);\n    if ((isAgCartesianChartOptions(this.processedOptions) || isAgPolarChartOptionsWithSeriesBasedLegend(this.processedOptions)) && ((_b = this.processedOptions.legend) == null ? void 0 : _b.enabled) == null) {\n      (_d = (_c = this.processedOptions).legend) != null ? _d : _c.legend = {};\n      this.processedOptions.legend.enabled = this.processedOptions.series.length > 1;\n    }\n    this.enableConfiguredOptions(this.processedOptions);\n    if (!enterpriseModule.isEnterprise) {\n      removeUsedEnterpriseOptions(this.processedOptions);\n    }\n  }\n  getOptions() {\n    var _a;\n    return (_a = this.processedOptions) != null ? _a : {};\n  }\n  diffOptions(options) {\n    return jsonDiff(options, this.processedOptions);\n  }\n  getSeriesThemeConfig(seriesType) {\n    var _a, _b;\n    return deepClone((_b = (_a = this.activeTheme) == null ? void 0 : _a.config[seriesType]) != null ? _b : {});\n  }\n  getDefaultAxes(options) {\n    const optionsType2 = this.optionsType(options);\n    const axesDefaults = seriesRegistry.cloneDefaultAxes(optionsType2);\n    if (seriesRegistry.isDefaultAxisSwapNeeded(options)) {\n      this.swapAxesPosition(axesDefaults);\n    }\n    return axesDefaults;\n  }\n  optionsType(options) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = options.series) == null ? void 0 : _a[0]) == null ? void 0 : _b.type) != null ? _c : \"line\";\n  }\n  sanityCheckAndCleanup(options) {\n    var _a;\n    this.deprecationWarnings(options);\n    this.axesTypeIntegrity(options);\n    this.seriesTypeIntegrity(options);\n    this.soloSeriesIntegrity(options);\n    this.removeDisabledOptions(options);\n    this.removeLeftoverSymbols(options);\n    if (((_a = options.series) == null ? void 0 : _a.some((s) => s.type === \"bullet\")) && options.sync != null && options.sync.enabled !== false) {\n      Logger.warnOnce(\"bullet series cannot be synced, disabling synchronization.\");\n      delete options.sync;\n    }\n  }\n  swapAxesPosition(options) {\n    var _a;\n    if (isAgCartesianChartOptions(options)) {\n      const [axis0, axis1] = (_a = options.axes) != null ? _a : [];\n      options.axes = [\n        __spreadProps(__spreadValues({}, axis0), { position: axis1.position }),\n        __spreadProps(__spreadValues({}, axis1), { position: axis0.position })\n      ];\n    }\n  }\n  processAxesOptions(options, axesThemes) {\n    if (!(\"axes\" in options))\n      return;\n    options.axes = options.axes.map((axis) => {\n      var _a, _c, _d;\n      const _b = mergeDefaults(\n        (_a = axesThemes[axis.type]) == null ? void 0 : _a[axis.position],\n        axesThemes[axis.type]\n      ), { crossLines: crossLinesTheme } = _b, axisTheme = __objRest(_b, [\"crossLines\"]);\n      if (axis.crossLines) {\n        axis.crossLines = mergeArrayDefaults(axis.crossLines, crossLinesTheme);\n      }\n      const gridLineStyle = (_c = axisTheme.gridLine) == null ? void 0 : _c.style;\n      if (((_d = axis.gridLine) == null ? void 0 : _d.style) && (gridLineStyle == null ? void 0 : gridLineStyle.length)) {\n        axis.gridLine.style = axis.gridLine.style.map(\n          (style, index) => style.stroke != null || style.lineDash != null ? mergeDefaults(style, gridLineStyle.at(index % gridLineStyle.length)) : style\n        );\n      }\n      const _e = mergeDefaults(axis, axisTheme), { top: _1, right: _2, bottom: _3, left: _4 } = _e, axisOptions = __objRest(_e, [\"top\", \"right\", \"bottom\", \"left\"]);\n      return axisOptions;\n    });\n  }\n  processSeriesOptions(options) {\n    const defaultSeriesType = this.getDefaultSeriesType(options);\n    const defaultTooltipPosition = this.getTooltipPositionDefaults(options);\n    const userPalette = Boolean(isObject(options.theme) && options.theme.palette);\n    const paletteOptions = {\n      colourIndex: 0,\n      userPalette\n    };\n    const processedSeries = options.series.map((series) => {\n      var _a, _b;\n      (_a = series.type) != null ? _a : series.type = defaultSeriesType;\n      const _c = (_b = this.getSeriesThemeConfig(series.type).series) != null ? _b : {}, { innerLabels: innerLabelsTheme } = _c, seriesTheme = __objRest(_c, [\"innerLabels\"]);\n      const seriesPaletteOptions = unthemedSeries.has(series.type) ? { colourIndex: 0, userPalette } : paletteOptions;\n      const palette10 = this.getSeriesPalette(series.type, seriesPaletteOptions);\n      const seriesOptions = mergeDefaults(\n        this.getSeriesGroupingOptions(series),\n        series,\n        defaultTooltipPosition,\n        seriesTheme,\n        palette10\n      );\n      if (seriesOptions.innerLabels) {\n        seriesOptions.innerLabels = mergeArrayDefaults(seriesOptions.innerLabels, innerLabelsTheme);\n      }\n      return this.activeTheme.templateTheme(seriesOptions);\n    });\n    options.series = this.setSeriesGroupingOptions(processedSeries);\n  }\n  processMiniChartSeriesOptions(options) {\n    var _a, _b;\n    let miniChartSeries = (_b = (_a = options.navigator) == null ? void 0 : _a.miniChart) == null ? void 0 : _b.series;\n    if (miniChartSeries == null)\n      return;\n    const paletteOptions = {\n      colourIndex: 0,\n      userPalette: Boolean(isObject(options.theme) && options.theme.palette)\n    };\n    miniChartSeries = miniChartSeries.map((series) => {\n      var _a2, _b2;\n      (_a2 = series.type) != null ? _a2 : series.type = \"line\";\n      const _c = (_b2 = this.getSeriesThemeConfig(series.type).series) != null ? _b2 : {}, { innerLabels: _ } = _c, seriesTheme = __objRest(_c, [\"innerLabels\"]);\n      const seriesOptions = mergeDefaults(\n        this.getSeriesGroupingOptions(series),\n        series,\n        seriesTheme,\n        this.getSeriesPalette(series.type, paletteOptions)\n      );\n      return this.activeTheme.templateTheme(seriesOptions);\n    });\n    options.navigator.miniChart.series = this.setSeriesGroupingOptions(miniChartSeries);\n  }\n  processAnnotationsOptions(options, _annotationsThemes) {\n    if (!isAgCartesianChartOptions(options))\n      return;\n  }\n  getSeriesPalette(seriesType, options) {\n    const paletteFactory = seriesRegistry.getPaletteFactory(seriesType);\n    const { colourIndex: colourOffset, userPalette } = options;\n    const { fills = [], strokes = [] } = this.activeTheme.palette;\n    return paletteFactory == null ? void 0 : paletteFactory({\n      userPalette,\n      colorsCount: Math.max(fills.length, strokes.length),\n      themeTemplateParameters: this.activeTheme.getTemplateParameters(),\n      takeColors(count) {\n        options.colourIndex += count;\n        return {\n          fills: circularSliceArray(fills, count, colourOffset),\n          strokes: circularSliceArray(strokes, count, colourOffset)\n        };\n      }\n    });\n  }\n  getSeriesGroupingOptions(series) {\n    const groupable = seriesRegistry.isGroupable(series.type);\n    const stackable = seriesRegistry.isStackable(series.type);\n    const stackedByDefault = seriesRegistry.isStackedByDefault(series.type);\n    if (series.grouped && !groupable) {\n      Logger.warnOnce(`unsupported grouping of series type \"${series.type}\".`);\n    }\n    if ((series.stacked || series.stackGroup) && !stackable) {\n      Logger.warnOnce(`unsupported stacking of series type \"${series.type}\".`);\n    }\n    let { grouped, stacked } = series;\n    stacked != null ? stacked : stacked = (stackedByDefault || series.stackGroup != null) && !(groupable && grouped);\n    grouped != null ? grouped : grouped = true;\n    return {\n      stacked: stackable && stacked,\n      grouped: groupable && grouped && !(stackable && stacked)\n    };\n  }\n  setSeriesGroupingOptions(allSeries) {\n    const seriesGroups = this.getSeriesGrouping(allSeries);\n    Debug.create(true, \"opts\")(\"setSeriesGroupingOptions() - series grouping: \", seriesGroups);\n    const groupIdx = {};\n    const groupCount2 = seriesGroups.reduce((countMap, seriesGroup) => {\n      var _a, _b;\n      if (seriesGroup.groupType === \"default\" /* DEFAULT */) {\n        return countMap;\n      }\n      (_b = countMap[_a = seriesGroup.seriesType]) != null ? _b : countMap[_a] = 0;\n      countMap[seriesGroup.seriesType] += seriesGroup.groupType === \"stack\" /* STACK */ ? 1 : seriesGroup.series.length;\n      return countMap;\n    }, {});\n    return seriesGroups.flatMap((seriesGroup) => {\n      var _a, _b;\n      (_b = groupIdx[_a = seriesGroup.seriesType]) != null ? _b : groupIdx[_a] = 0;\n      switch (seriesGroup.groupType) {\n        case \"stack\" /* STACK */:\n          const groupIndex = groupIdx[seriesGroup.seriesType]++;\n          return seriesGroup.series.map(\n            (series, stackIndex) => Object.assign(series, {\n              seriesGrouping: {\n                groupIndex,\n                groupCount: groupCount2[seriesGroup.seriesType],\n                stackIndex,\n                stackCount: seriesGroup.series.length\n              }\n            })\n          );\n        case \"group\" /* GROUP */:\n          return seriesGroup.series.map(\n            (series) => Object.assign(series, {\n              seriesGrouping: {\n                groupIndex: groupIdx[seriesGroup.seriesType]++,\n                groupCount: groupCount2[seriesGroup.seriesType],\n                stackIndex: 0,\n                stackCount: 0\n              }\n            })\n          );\n      }\n      return seriesGroup.series;\n    }).map((_a) => {\n      var _b = _a, { stacked: _, grouped: __ } = _b, seriesOptions = __objRest(_b, [\"stacked\", \"grouped\"]);\n      return seriesOptions;\n    });\n  }\n  getSeriesGroupId(series) {\n    var _a;\n    return [series.type, series.xKey, series.stacked ? (_a = series.stackGroup) != null ? _a : \"stacked\" : \"grouped\"].filter(Boolean).join(\"-\");\n  }\n  getSeriesGrouping(allSeries) {\n    const groupMap = /* @__PURE__ */ new Map();\n    return allSeries.reduce((result, series) => {\n      const seriesType = series.type;\n      if (!series.stacked && !series.grouped) {\n        result.push({ groupType: \"default\" /* DEFAULT */, seriesType, series: [series] });\n      } else {\n        const groupId = this.getSeriesGroupId(series);\n        if (!groupMap.has(groupId)) {\n          const groupType = series.stacked ? \"stack\" /* STACK */ : \"group\" /* GROUP */;\n          const record = { groupType, seriesType, series: [] };\n          groupMap.set(groupId, record);\n          result.push(record);\n        }\n        groupMap.get(groupId).series.push(series);\n      }\n      return result;\n    }, []);\n  }\n  getDefaultSeriesType(options) {\n    if (isAgCartesianChartOptions(options)) {\n      return \"line\";\n    } else if (isAgPolarChartOptions(options)) {\n      return \"pie\";\n    } else if (isAgHierarchyChartOptions(options)) {\n      return \"treemap\";\n    } else if (isAgTopologyChartOptions(options)) {\n      return \"map-shape\";\n    }\n    throw new Error(\"Invalid chart options type detected.\");\n  }\n  getTooltipPositionDefaults(options) {\n    var _a;\n    const position = (_a = options.tooltip) == null ? void 0 : _a.position;\n    if (!isPlainObject(position)) {\n      return;\n    }\n    const { type, xOffset, yOffset } = position;\n    const result = {};\n    if (isString(type) && isEnumValue(AgTooltipPositionType, type)) {\n      result.type = type;\n    }\n    if (isFiniteNumber(xOffset)) {\n      result.xOffset = xOffset;\n    }\n    if (isFiniteNumber(yOffset)) {\n      result.yOffset = yOffset;\n    }\n    return { tooltip: { position: result } };\n  }\n  deprecationWarnings(options) {\n    const deprecatedArrayProps = { yKeys: \"yKey\", yNames: \"yName\" };\n    Object.entries(deprecatedArrayProps).forEach(([oldProp, newProp]) => {\n      var _a;\n      if ((_a = options.series) == null ? void 0 : _a.some((s) => s[oldProp] != null)) {\n        Logger.warnOnce(\n          `Property [series.${oldProp}] is deprecated, please use [series.${newProp}] and multiple series instead.`\n        );\n      }\n    });\n  }\n  axesTypeIntegrity(options) {\n    var _a;\n    if (\"axes\" in options) {\n      const axes = (_a = options.axes) != null ? _a : [];\n      for (const { type } of axes) {\n        if (!isAxisOptionType(type)) {\n          delete options.axes;\n          const expectedTypes = Array.from(axisRegistry.publicKeys()).join(\", \");\n          Logger.warnOnce(`unknown axis type: ${type}; expected one of: ${expectedTypes}`);\n        }\n      }\n    }\n  }\n  seriesTypeIntegrity(options) {\n    var _a;\n    const series = (_a = options.series) != null ? _a : [];\n    options.series = series.filter(({ type }) => {\n      if (type == null || isSeriesOptionType(type) || isEnterpriseSeriesType(type)) {\n        return true;\n      }\n      Logger.warnOnce(\n        `unknown series type: ${type}; expected one of: ${publicChartTypes.seriesTypes.join(\", \")}`\n      );\n    });\n  }\n  soloSeriesIntegrity(options) {\n    const allSeries = options.series;\n    if (allSeries && allSeries.length > 1 && allSeries.some((series) => seriesRegistry.isSolo(series.type))) {\n      const mainSeriesType = this.optionsType(options);\n      if (seriesRegistry.isSolo(mainSeriesType)) {\n        Logger.warn(\n          `series[0] of type '${mainSeriesType}' is incompatible with other series types. Only processing series[0]`\n        );\n        options.series = allSeries.slice(0, 1);\n      } else {\n        const { solo, nonSolo } = groupBy(\n          allSeries,\n          (s) => seriesRegistry.isSolo(s.type) ? \"solo\" : \"nonSolo\"\n        );\n        const rejects = unique(solo.map((s) => s.type)).join(\", \");\n        Logger.warn(`Unable to mix these series types with the lead series type: ${rejects}`);\n        options.series = nonSolo;\n      }\n    }\n  }\n  enableConfiguredOptions(options) {\n    jsonWalk(\n      this.userOptions,\n      (visitingUserOpts, visitingMergedOpts) => {\n        if (visitingMergedOpts && \"enabled\" in visitingMergedOpts && !visitingMergedOpts._enabledFromTheme && visitingUserOpts.enabled == null) {\n          visitingMergedOpts.enabled = true;\n        }\n      },\n      { skip: [\"data\", \"theme\"] },\n      options\n    );\n    jsonWalk(\n      options,\n      (visitingMergedOpts) => {\n        if (visitingMergedOpts._enabledFromTheme != null) {\n          delete visitingMergedOpts._enabledFromTheme;\n        }\n      },\n      { skip: [\"data\", \"theme\"] }\n    );\n  }\n  removeDisabledOptions(options) {\n    jsonWalk(\n      options,\n      (optionsNode) => {\n        if (\"enabled\" in optionsNode && optionsNode.enabled === false) {\n          Object.keys(optionsNode).forEach((key) => {\n            if (key === \"enabled\")\n              return;\n            delete optionsNode[key];\n          });\n        }\n      },\n      { skip: [\"data\", \"theme\"] }\n    );\n  }\n  removeLeftoverSymbols(options) {\n    jsonWalk(\n      options,\n      (optionsNode) => {\n        if (!optionsNode || !isObject(optionsNode))\n          return;\n        for (const [key, value] of Object.entries(optionsNode)) {\n          if (isSymbol(value)) {\n            delete optionsNode[key];\n          }\n        }\n      },\n      { skip: [\"data\"] }\n    );\n  }\n  specialOverridesDefaults(options) {\n    if (options.window != null) {\n      setWindow(options.window);\n    } else if (typeof window !== \"undefined\") {\n      options.window = window;\n    } else if (typeof global !== \"undefined\") {\n      options.window = global.window;\n    }\n    if (options.document != null) {\n      setDocument(options.document);\n    } else if (typeof document !== \"undefined\") {\n      options.document = document;\n    } else if (typeof global !== \"undefined\") {\n      options.document = global.document;\n    }\n    if (options.window == null) {\n      throw new Error(\"AG Charts - unable to resolve global window\");\n    }\n    if (options.document == null) {\n      throw new Error(\"AG Charts - unable to resolve global document\");\n    }\n    return options;\n  }\n};\n\n// packages/ag-charts-community/src/util/deprecation.ts\nfunction createDeprecationWarning() {\n  return (key, message) => {\n    const msg = [`Property [${key}] is deprecated.`, message].filter(Boolean).join(\" \");\n    Logger.warnOnce(msg);\n  };\n}\nfunction Deprecated(message, opts) {\n  const warnDeprecated = createDeprecationWarning();\n  const def = opts == null ? void 0 : opts.default;\n  return addTransformToInstanceProperty((_, key, value) => {\n    if (value !== def) {\n      warnDeprecated(key.toString(), message);\n    }\n    return value;\n  });\n}\nfunction DeprecatedAndRenamedTo(newPropName, mapValue) {\n  const warnDeprecated = createDeprecationWarning();\n  return addTransformToInstanceProperty(\n    (target, key, value) => {\n      if (value !== target[newPropName]) {\n        warnDeprecated(key.toString(), `Use [${newPropName}] instead.`);\n        setPath(target, newPropName, mapValue ? mapValue(value) : value);\n      }\n      return BREAK_TRANSFORM_CHAIN;\n    },\n    (target, key) => {\n      warnDeprecated(key.toString(), `Use [${newPropName}] instead.`);\n      return getPath(target, newPropName);\n    }\n  );\n}\n\n// packages/ag-charts-community/src/motion/fromToMotion.ts\nvar fromToMotion_exports = {};\n__export(fromToMotion_exports, {\n  NODE_UPDATE_STATE_TO_PHASE_MAPPING: () => NODE_UPDATE_STATE_TO_PHASE_MAPPING,\n  fromToMotion: () => fromToMotion,\n  staticFromToMotion: () => staticFromToMotion\n});\n\n// packages/ag-charts-community/src/util/id.ts\nvar ID_MAP = /* @__PURE__ */ new Map();\nfunction resetIds() {\n  ID_MAP.clear();\n}\nfunction createId(instance) {\n  var _a;\n  const constructor = instance.constructor;\n  const className = Object.hasOwn(constructor, \"className\") ? constructor.className : constructor.name;\n  if (!className) {\n    throw new Error(`The ${constructor} is missing the 'className' property.`);\n  }\n  const nextId = ((_a = ID_MAP.get(className)) != null ? _a : 0) + 1;\n  ID_MAP.set(className, nextId);\n  return `${className}-${nextId}`;\n}\n\n// packages/ag-charts-community/src/util/interpolating.ts\nvar interpolate = \"$interpolate\";\nvar isInterpolating = (x) => x[interpolate] != null;\n\n// packages/ag-charts-community/src/util/number.ts\nfunction clamp(min, value, max) {\n  return Math.min(max, Math.max(min, value));\n}\nfunction clampArray(value, array) {\n  const [min, max] = findMinMax(array);\n  return clamp(min, value, max);\n}\nfunction findMinMax(array) {\n  return array.length ? [Math.min(...array), Math.max(...array)] : [];\n}\nfunction findRangeExtent(array) {\n  const [min, max] = findMinMax(array);\n  return max - min;\n}\nfunction isEqual(a, b, epsilon2 = 1e-10) {\n  return Math.abs(a - b) < epsilon2;\n}\nfunction isNegative(value) {\n  return Math.sign(value) === -1 || Object.is(value, -0);\n}\nfunction round(value, decimals = 2) {\n  const base = __pow(10, decimals);\n  return Math.round(value * base) / base;\n}\nfunction toFixed(value, fractionOrSignificantDigits = 2) {\n  const power = Math.floor(Math.log(Math.abs(value)) / Math.LN10);\n  if (power >= 0 || !isFinite(power)) {\n    return value.toFixed(fractionOrSignificantDigits);\n  }\n  return value.toFixed(Math.abs(power) - 1 + fractionOrSignificantDigits);\n}\nfunction mod(n, m) {\n  return Math.floor(n % m + (n < 0 ? m : 0));\n}\nfunction countFractionDigits(value, maximumFractionDigits = 10) {\n  const [, decimal = \"\"] = (Math.abs(value) % 1).toLocaleString(\"en-GB\", { minimumFractionDigits: 0, maximumFractionDigits }).split(\".\");\n  return decimal.length;\n}\n\n// packages/ag-charts-community/src/scene/nearest.ts\nfunction nearestSquared(x, y, objects, maxDistanceSquared = Infinity) {\n  const result = { nearest: void 0, distanceSquared: maxDistanceSquared };\n  for (const obj of objects) {\n    const thisDistance = obj.distanceSquared(x, y);\n    if (thisDistance === 0) {\n      return { nearest: obj, distanceSquared: 0 };\n    } else if (thisDistance < result.distanceSquared) {\n      result.nearest = obj;\n      result.distanceSquared = thisDistance;\n    }\n  }\n  return result;\n}\nfunction nearestSquaredInContainer(x, y, container, maxDistanceSquared = Infinity) {\n  const { x: tx, y: ty } = container.transformPoint(x, y);\n  const result = { nearest: void 0, distanceSquared: maxDistanceSquared };\n  for (const child of container.children) {\n    const { nearest, distanceSquared: distanceSquared2 } = child.nearestSquared(tx, ty, result.distanceSquared);\n    if (distanceSquared2 === 0) {\n      return { nearest, distanceSquared: distanceSquared2 };\n    } else if (distanceSquared2 < result.distanceSquared) {\n      result.nearest = nearest;\n      result.distanceSquared = distanceSquared2;\n    }\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/scene/bbox.ts\nvar _BBox = class _BBox {\n  constructor(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n  clone() {\n    const { x, y, width, height } = this;\n    return new _BBox(x, y, width, height);\n  }\n  equals(other) {\n    return this.x === other.x && this.y === other.y && this.width === other.width && this.height === other.height;\n  }\n  containsPoint(x, y) {\n    return x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height;\n  }\n  collidesBBox(other) {\n    return this.x < other.x + other.width && this.x + this.width > other.x && this.y < other.y + other.height && this.y + this.height > other.y;\n  }\n  computeCenter() {\n    return { x: this.x + this.width / 2, y: this.y + this.height / 2 };\n  }\n  isFinite() {\n    return Number.isFinite(this.x) && Number.isFinite(this.y) && Number.isFinite(this.width) && Number.isFinite(this.height);\n  }\n  distanceSquared(x, y) {\n    if (this.containsPoint(x, y)) {\n      return 0;\n    }\n    const dx = x - clamp(this.x, x, this.x + this.width);\n    const dy = y - clamp(this.y, y, this.y + this.height);\n    return dx * dx + dy * dy;\n  }\n  static nearestBox(x, y, boxes) {\n    return nearestSquared(x, y, boxes);\n  }\n  clip(clipRect) {\n    if (clipRect === void 0)\n      return this;\n    const x1 = Math.max(this.x, clipRect.x);\n    const y1 = Math.max(this.y, clipRect.y);\n    const x2 = Math.min(this.x + this.width, clipRect.x + clipRect.width);\n    const y2 = Math.min(this.y + this.height, clipRect.y + clipRect.height);\n    this.x = x1;\n    this.y = y1;\n    this.width = Math.max(0, x2 - x1);\n    this.height = Math.max(0, y2 - y1);\n    return this;\n  }\n  shrink(amount, position) {\n    const apply = (pos, amt) => {\n      switch (pos) {\n        case \"top\":\n          this.y += amt;\n        case \"bottom\":\n          this.height -= amt;\n          break;\n        case \"left\":\n          this.x += amt;\n        case \"right\":\n          this.width -= amt;\n          break;\n        case \"vertical\":\n          this.y += amt;\n          this.height -= amt * 2;\n          break;\n        case \"horizontal\":\n          this.x += amt;\n          this.width -= amt * 2;\n          break;\n        case void 0:\n          this.x += amt;\n          this.width -= amt * 2;\n          this.y += amt;\n          this.height -= amt * 2;\n          break;\n        default:\n      }\n    };\n    if (typeof amount === \"number\") {\n      apply(position, amount);\n    } else if (typeof amount === \"object\") {\n      Object.entries(amount).forEach(([pos, amt]) => apply(pos, amt));\n    }\n    return this;\n  }\n  grow(amount, position) {\n    if (typeof amount === \"number\") {\n      this.shrink(-amount, position);\n    } else {\n      const paddingCopy = __spreadValues({}, amount);\n      for (const key in paddingCopy) {\n        paddingCopy[key] *= -1;\n      }\n      this.shrink(paddingCopy);\n    }\n    return this;\n  }\n  combine(other) {\n    const { x, y, width, height } = this;\n    this.x = Math.min(x, other.x);\n    this.y = Math.min(y, other.y);\n    this.width = Math.max(x + width, other.x + other.width) - this.x;\n    this.height = Math.max(y + height, other.y + other.height) - this.y;\n  }\n  static merge(boxes) {\n    let left = Infinity;\n    let top = Infinity;\n    let right = -Infinity;\n    let bottom = -Infinity;\n    for (const box of boxes) {\n      if (box.x < left) {\n        left = box.x;\n      }\n      if (box.y < top) {\n        top = box.y;\n      }\n      if (box.x + box.width > right) {\n        right = box.x + box.width;\n      }\n      if (box.y + box.height > bottom) {\n        bottom = box.y + box.height;\n      }\n    }\n    return new _BBox(left, top, right - left, bottom - top);\n  }\n  [interpolate](other, d) {\n    return new _BBox(\n      this.x * (1 - d) + other.x * d,\n      this.y * (1 - d) + other.y * d,\n      this.width * (1 - d) + other.width * d,\n      this.height * (1 - d) + other.height * d\n    );\n  }\n};\n_BBox.zero = new _BBox(0, 0, 0, 0);\n_BBox.NaN = new _BBox(NaN, NaN, NaN, NaN);\nvar BBox = _BBox;\n\n// packages/ag-charts-community/src/scene/changeDetectable.ts\nvar RedrawType = /* @__PURE__ */ ((RedrawType2) => {\n  RedrawType2[RedrawType2[\"NONE\"] = 0] = \"NONE\";\n  RedrawType2[RedrawType2[\"TRIVIAL\"] = 1] = \"TRIVIAL\";\n  RedrawType2[RedrawType2[\"MINOR\"] = 2] = \"MINOR\";\n  RedrawType2[RedrawType2[\"MAJOR\"] = 3] = \"MAJOR\";\n  return RedrawType2;\n})(RedrawType || {});\nfunction functionConstructorAvailable() {\n  try {\n    new Function(\"return true\");\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar STRING_FUNCTION_USEABLE = functionConstructorAvailable();\nfunction SceneChangeDetection(opts) {\n  const { changeCb, convertor } = opts != null ? opts : {};\n  return function(target, key) {\n    const privateKey = `__${key}`;\n    if (target[key]) {\n      return;\n    }\n    if (STRING_FUNCTION_USEABLE && changeCb == null && convertor == null) {\n      prepareFastGetSet(target, key, privateKey, opts);\n    } else {\n      prepareSlowGetSet(target, key, privateKey, opts);\n    }\n  };\n}\nfunction prepareFastGetSet(target, key, privateKey, opts) {\n  const { redraw = 1 /* TRIVIAL */, type = \"normal\", checkDirtyOnAssignment = false } = opts != null ? opts : {};\n  const setterJs = new Function(\n    \"value\",\n    `\n        const oldValue = this.${privateKey};\n        if (value !== oldValue) {\n            this.${privateKey} = value;\n            ${type === \"normal\" ? `this.markDirty(this, ${redraw});` : \"\"}\n            ${type === \"transform\" ? `this.markDirtyTransform(${redraw});` : \"\"}\n            ${type === \"path\" ? `if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${redraw}); }` : \"\"}\n            ${type === \"font\" ? `if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${redraw}); }` : \"\"}\n        }\n        ${checkDirtyOnAssignment ? `if (value != null && value._dirty > ${0 /* NONE */}) { this.markDirty(value, value._dirty); }` : \"\"}\n`\n  );\n  const getterJs = new Function(`return this.${privateKey};`);\n  Object.defineProperty(target, key, {\n    set: setterJs,\n    get: getterJs,\n    enumerable: true,\n    configurable: true\n  });\n}\nfunction prepareSlowGetSet(target, key, privateKey, opts) {\n  const {\n    redraw = 1 /* TRIVIAL */,\n    type = \"normal\",\n    changeCb,\n    convertor,\n    checkDirtyOnAssignment = false\n  } = opts != null ? opts : {};\n  const setter = function(value) {\n    const oldValue = this[privateKey];\n    value = convertor ? convertor(value) : value;\n    if (value !== oldValue) {\n      this[privateKey] = value;\n      if (type === \"normal\")\n        this.markDirty(this, redraw);\n      if (type === \"transform\")\n        this.markDirtyTransform(redraw);\n      if (type === \"path\" && !this._dirtyPath) {\n        this._dirtyPath = true;\n        this.markDirty(this, redraw);\n      }\n      if (type === \"font\" && !this._dirtyFont) {\n        this._dirtyFont = true;\n        this.markDirty(this, redraw);\n      }\n      changeCb == null ? void 0 : changeCb(this);\n    }\n    if (checkDirtyOnAssignment && value != null && value._dirty > 0 /* NONE */)\n      this.markDirty(value, value._dirty);\n  };\n  const getter = function() {\n    return this[privateKey];\n  };\n  Object.defineProperty(target, key, {\n    set: setter,\n    get: getter,\n    enumerable: true,\n    configurable: true\n  });\n}\nvar ChangeDetectable = class {\n  constructor() {\n    this._dirty = 3 /* MAJOR */;\n  }\n  markDirty(_source, type = 1 /* TRIVIAL */) {\n    if (this._dirty < type) {\n      this._dirty = type;\n    }\n  }\n  markClean(_opts) {\n    this._dirty = 0 /* NONE */;\n  }\n  isDirty() {\n    return this._dirty > 0 /* NONE */;\n  }\n};\n\n// packages/ag-charts-community/src/scene/matrix.ts\nvar _Matrix = class _Matrix {\n  get e() {\n    return [...this.elements];\n  }\n  constructor(elements3 = [1, 0, 0, 1, 0, 0]) {\n    this.elements = elements3;\n  }\n  setElements(elements3) {\n    const e = this.elements;\n    e[0] = elements3[0];\n    e[1] = elements3[1];\n    e[2] = elements3[2];\n    e[3] = elements3[3];\n    e[4] = elements3[4];\n    e[5] = elements3[5];\n    return this;\n  }\n  get identity() {\n    const e = this.elements;\n    return e[0] === 1 && e[1] === 0 && e[2] === 0 && e[3] === 1 && e[4] === 0 && e[5] === 0;\n  }\n  /**\n   * Performs the AxB matrix multiplication and saves the result\n   * to `C`, if given, or to `A` otherwise.\n   */\n  AxB(A, B, C) {\n    const a = A[0] * B[0] + A[2] * B[1], b = A[1] * B[0] + A[3] * B[1], c = A[0] * B[2] + A[2] * B[3], d = A[1] * B[2] + A[3] * B[3], e = A[0] * B[4] + A[2] * B[5] + A[4], f = A[1] * B[4] + A[3] * B[5] + A[5];\n    C = C != null ? C : A;\n    C[0] = a;\n    C[1] = b;\n    C[2] = c;\n    C[3] = d;\n    C[4] = e;\n    C[5] = f;\n  }\n  /**\n   * The `other` matrix gets post-multiplied to the current matrix.\n   * Returns the current matrix.\n   * @param other\n   */\n  multiplySelf(other) {\n    this.AxB(this.elements, other.elements);\n    return this;\n  }\n  /**\n   * The `other` matrix gets post-multiplied to the current matrix.\n   * Returns a new matrix.\n   * @param other\n   */\n  multiply(other) {\n    const elements3 = new Array(6);\n    this.AxB(this.elements, other.elements, elements3);\n    return new _Matrix(elements3);\n  }\n  preMultiplySelf(other) {\n    this.AxB(other.elements, this.elements, this.elements);\n    return this;\n  }\n  /**\n   * Returns the inverse of this matrix as a new matrix.\n   */\n  inverse() {\n    const el = this.elements;\n    let a = el[0], b = el[1], c = el[2], d = el[3];\n    const e = el[4], f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    return new _Matrix([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n  }\n  /**\n   * Save the inverse of this matrix to the given matrix.\n   */\n  inverseTo(other) {\n    const el = this.elements;\n    let a = el[0], b = el[1], c = el[2], d = el[3];\n    const e = el[4], f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    other.setElements([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n    return this;\n  }\n  invertSelf() {\n    const el = this.elements;\n    let a = el[0], b = el[1], c = el[2], d = el[3];\n    const e = el[4], f = el[5];\n    const rD = 1 / (a * d - b * c);\n    a *= rD;\n    b *= rD;\n    c *= rD;\n    d *= rD;\n    el[0] = d;\n    el[1] = -b;\n    el[2] = -c;\n    el[3] = a;\n    el[4] = c * f - d * e;\n    el[5] = b * e - a * f;\n    return this;\n  }\n  transformPoint(x, y) {\n    const e = this.elements;\n    return {\n      x: x * e[0] + y * e[2] + e[4],\n      y: x * e[1] + y * e[3] + e[5]\n    };\n  }\n  transformBBox(bbox, target) {\n    const elements3 = this.elements;\n    const xx = elements3[0];\n    const xy = elements3[1];\n    const yx = elements3[2];\n    const yy = elements3[3];\n    const h_w = bbox.width * 0.5;\n    const h_h = bbox.height * 0.5;\n    const cx = bbox.x + h_w;\n    const cy = bbox.y + h_h;\n    const w = Math.abs(h_w * xx) + Math.abs(h_h * yx);\n    const h = Math.abs(h_w * xy) + Math.abs(h_h * yy);\n    if (!target) {\n      target = new BBox(0, 0, 0, 0);\n    }\n    target.x = cx * xx + cy * yx + elements3[4] - w;\n    target.y = cx * xy + cy * yy + elements3[5] - h;\n    target.width = w + w;\n    target.height = h + h;\n    return target;\n  }\n  toContext(ctx) {\n    if (this.identity) {\n      return;\n    }\n    const e = this.elements;\n    ctx.transform(e[0], e[1], e[2], e[3], e[4], e[5]);\n  }\n  static flyweight(sourceMatrix) {\n    return _Matrix.instance.setElements(sourceMatrix.elements);\n  }\n  static updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, opts) {\n    const [bbcx, bbcy] = [0, 0];\n    const sx = scalingX;\n    const sy = scalingY;\n    let scx;\n    let scy;\n    if (sx === 1 && sy === 1) {\n      scx = 0;\n      scy = 0;\n    } else {\n      scx = (opts == null ? void 0 : opts.scalingCenterX) == null ? bbcx : opts == null ? void 0 : opts.scalingCenterX;\n      scy = (opts == null ? void 0 : opts.scalingCenterY) == null ? bbcy : opts == null ? void 0 : opts.scalingCenterY;\n    }\n    const r = rotation;\n    const cos = Math.cos(r);\n    const sin = Math.sin(r);\n    let rcx;\n    let rcy;\n    if (r === 0) {\n      rcx = 0;\n      rcy = 0;\n    } else {\n      rcx = (opts == null ? void 0 : opts.rotationCenterX) == null ? bbcx : opts == null ? void 0 : opts.rotationCenterX;\n      rcy = (opts == null ? void 0 : opts.rotationCenterY) == null ? bbcy : opts == null ? void 0 : opts.rotationCenterY;\n    }\n    const tx = translationX;\n    const ty = translationY;\n    const tx4 = scx * (1 - sx) - rcx;\n    const ty4 = scy * (1 - sy) - rcy;\n    matrix.setElements([\n      cos * sx,\n      sin * sx,\n      -sin * sy,\n      cos * sy,\n      cos * tx4 - sin * ty4 + rcx + tx,\n      sin * tx4 + cos * ty4 + rcy + ty\n    ]);\n    return matrix;\n  }\n  static fromContext(ctx) {\n    const domMatrix = ctx.getTransform();\n    return new _Matrix([domMatrix.a, domMatrix.b, domMatrix.c, domMatrix.d, domMatrix.e, domMatrix.f]);\n  }\n};\n_Matrix.instance = new _Matrix();\nvar Matrix = _Matrix;\n\n// packages/ag-charts-community/src/scene/node.ts\nvar PointerEvents = /* @__PURE__ */ ((PointerEvents2) => {\n  PointerEvents2[PointerEvents2[\"All\"] = 0] = \"All\";\n  PointerEvents2[PointerEvents2[\"None\"] = 1] = \"None\";\n  return PointerEvents2;\n})(PointerEvents || {});\nvar _Node = class _Node extends ChangeDetectable {\n  constructor({ isVirtual, tag, zIndex } = {}) {\n    super();\n    /** Unique number to allow creation order to be easily determined. */\n    this.serialNumber = _Node._nextSerialNumber++;\n    /**\n     * Unique node ID in the form `ClassName-NaturalNumber`.\n     */\n    this.id = createId(this);\n    /**\n     * To simplify the type system (especially in Selections) we don't have the `Parent` node\n     * (one that has children). Instead, we mimic HTML DOM, where any node can have children.\n     * But we still need to distinguish regular leaf nodes from container leafs somehow.\n     */\n    this.isContainerNode = false;\n    this._virtualChildren = [];\n    this._children = [];\n    // Used to check for duplicate nodes.\n    this.childSet = {};\n    // These matrices may need to have package level visibility\n    // for performance optimization purposes.\n    this.matrix = new Matrix();\n    this.dirtyTransform = false;\n    this.scalingX = 1;\n    this.scalingY = 1;\n    this.scalingCenterX = null;\n    this.scalingCenterY = null;\n    this.rotationCenterX = null;\n    this.rotationCenterY = null;\n    this.rotation = 0;\n    this.translationX = 0;\n    this.translationY = 0;\n    this._childNodeCounts = {\n      groups: 0,\n      nonGroups: 0\n    };\n    this.visible = true;\n    this.dirtyZIndex = false;\n    this.zIndex = 0;\n    /** Discriminators for render order within a zIndex. */\n    this.zIndexSubOrder = void 0;\n    this.pointerEvents = 0 /* All */;\n    this.isVirtual = isVirtual != null ? isVirtual : false;\n    this.tag = tag != null ? tag : NaN;\n    this.zIndex = zIndex != null ? zIndex : 0;\n  }\n  /**\n   * Some arbitrary data bound to the node.\n   */\n  get datum() {\n    var _a, _b;\n    return (_b = this._datum) != null ? _b : (_a = this._parent) == null ? void 0 : _a.datum;\n  }\n  get previousDatum() {\n    return this._previousDatum;\n  }\n  set datum(datum) {\n    if (this._datum !== datum) {\n      this._previousDatum = this._datum;\n    }\n    this._datum = datum;\n  }\n  _setLayerManager(value) {\n    this._layerManager = value;\n    this._debug = value == null ? void 0 : value.debug;\n    for (const child of this._children) {\n      child._setLayerManager(value);\n    }\n    for (const child of this._virtualChildren) {\n      child._setLayerManager(value);\n    }\n  }\n  get layerManager() {\n    return this._layerManager;\n  }\n  *ancestors() {\n    let node = this;\n    while (node = node.parent) {\n      yield node;\n    }\n  }\n  *traverseUp() {\n    yield this;\n    yield* __yieldStar(this.ancestors());\n  }\n  get parent() {\n    return this._parent;\n  }\n  get children() {\n    return this._virtualChildren.length ? this._children.concat(this._virtualChildren.flatMap((next) => next.children)) : this._children;\n  }\n  get virtualChildren() {\n    return this._virtualChildren;\n  }\n  hasVirtualChildren() {\n    return this._virtualChildren.length > 0;\n  }\n  // new Set<Node>()\n  setProperties(styles, pickKeys) {\n    const keys = pickKeys != null ? pickKeys : Object.keys(styles);\n    for (const key of keys) {\n      this[key] = styles[key];\n    }\n    return this;\n  }\n  /**\n   * Appends one or more new node instances to this parent.\n   * If one needs to:\n   * - move a child to the end of the list of children\n   * - move a child from one parent to another (including parents in other scenes)\n   * one should use the {@link insertBefore} method instead.\n   * @param nodes A node or nodes to append.\n   */\n  append(nodes) {\n    if (!Array.isArray(nodes)) {\n      nodes = [nodes];\n    }\n    for (const node of nodes) {\n      if (node.parent) {\n        throw new Error(`${node} already belongs to another parent: ${node.parent}.`);\n      }\n      if (node.layerManager) {\n        throw new Error(`${node} already belongs to a scene: ${node.layerManager}.`);\n      }\n      if (this.childSet[node.id]) {\n        throw new Error(`Duplicate ${node.constructor.name} node: ${node}`);\n      }\n      if (node.isVirtual) {\n        this._virtualChildren.push(node);\n      } else {\n        this._children.push(node);\n      }\n      this.childSet[node.id] = true;\n      node._parent = this;\n      node._setLayerManager(this.layerManager);\n    }\n    this.dirtyZIndex = true;\n    this.markDirty(this, 3 /* MAJOR */);\n  }\n  appendChild(node) {\n    this.append(node);\n    return node;\n  }\n  removeChild(node) {\n    const error = () => {\n      throw new Error(`The node to be removed is not a child of this node.`);\n    };\n    if (node.parent !== this) {\n      error();\n    }\n    if (node.isVirtual) {\n      const i = this._virtualChildren.indexOf(node);\n      if (i < 0)\n        error();\n      this._virtualChildren.splice(i, 1);\n    } else {\n      const i = this._children.indexOf(node);\n      if (i < 0)\n        error();\n      this._children.splice(i, 1);\n    }\n    delete this.childSet[node.id];\n    node._parent = void 0;\n    node._setLayerManager();\n    this.dirtyZIndex = true;\n    this.markDirty(node, 3 /* MAJOR */);\n    return node;\n  }\n  calculateCumulativeMatrix() {\n    this.computeTransformMatrix();\n    const matrix = Matrix.flyweight(this.matrix);\n    for (const parent of this.ancestors()) {\n      parent.computeTransformMatrix();\n      matrix.preMultiplySelf(parent.matrix);\n    }\n    return matrix;\n  }\n  transformPoint(x, y) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.invertSelf().transformPoint(x, y);\n  }\n  inverseTransformPoint(x, y) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.transformPoint(x, y);\n  }\n  transformBBox(bbox) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.invertSelf().transformBBox(bbox);\n  }\n  inverseTransformBBox(bbox) {\n    const matrix = this.calculateCumulativeMatrix();\n    return matrix.transformBBox(bbox);\n  }\n  markDirtyTransform() {\n    this.dirtyTransform = true;\n    this.markDirty(this, 3 /* MAJOR */);\n  }\n  containsPoint(_x, _y) {\n    return false;\n  }\n  /**\n   * Hit testing method.\n   * Recursively checks if the given point is inside this node or any of its children.\n   * Returns the first matching node or `undefined`.\n   * Nodes that render later (show on top) are hit tested first.\n   */\n  pickNode(x, y) {\n    var _a;\n    if (!this.visible || this.pointerEvents === 1 /* None */ || !this.containsPoint(x, y)) {\n      return;\n    }\n    const { children } = this;\n    if (children.length > 1e3) {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n        const containsPoint = (_a = child.computeTransformedBBox()) == null ? void 0 : _a.containsPoint(x, y);\n        const hit = containsPoint ? child.pickNode(x, y) : void 0;\n        if (hit) {\n          return hit;\n        }\n      }\n    } else if (children.length) {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const hit = children[i].pickNode(x, y);\n        if (hit) {\n          return hit;\n        }\n      }\n    } else if (!this.isContainerNode) {\n      return this;\n    }\n  }\n  getCachedBBox() {\n    var _a;\n    return (_a = this.cachedBBox) != null ? _a : BBox.zero;\n  }\n  computeBBox() {\n    return;\n  }\n  computeTransformedBBox() {\n    const bbox = this.computeBBox();\n    if (!bbox) {\n      return;\n    }\n    this.computeTransformMatrix();\n    const matrix = Matrix.flyweight(this.matrix);\n    for (const parent of this.ancestors()) {\n      parent.computeTransformMatrix();\n      matrix.preMultiplySelf(parent.matrix);\n    }\n    matrix.transformBBox(bbox, bbox);\n    return bbox;\n  }\n  computeTransformMatrix() {\n    if (!this.dirtyTransform) {\n      return;\n    }\n    const {\n      matrix,\n      scalingX,\n      scalingY,\n      rotation,\n      translationX,\n      translationY,\n      scalingCenterX,\n      scalingCenterY,\n      rotationCenterX,\n      rotationCenterY\n    } = this;\n    Matrix.updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, {\n      scalingCenterX,\n      scalingCenterY,\n      rotationCenterX,\n      rotationCenterY\n    });\n    this.dirtyTransform = false;\n  }\n  /** Perform any pre-rendering initialization. */\n  preRender() {\n    this._childNodeCounts.groups = 0;\n    this._childNodeCounts.nonGroups = 1;\n    for (const child of this.children) {\n      const childCounts = child.preRender();\n      this._childNodeCounts.groups += childCounts.groups;\n      this._childNodeCounts.nonGroups += childCounts.nonGroups;\n    }\n    return this._childNodeCounts;\n  }\n  render(renderCtx) {\n    const { stats } = renderCtx;\n    this._dirty = 0 /* NONE */;\n    this.cachedBBox = this.computeBBox();\n    if (stats) {\n      stats.nodesRendered++;\n    }\n  }\n  markDirty(_source, type = 1 /* TRIVIAL */, parentType = type) {\n    if (this._dirty > type || this._dirty === type && type === parentType) {\n      return;\n    }\n    this._dirty = type;\n    if (this.parent) {\n      this.parent.markDirty(this, parentType);\n    } else if (this.layerManager) {\n      this.layerManager.markDirty();\n    }\n  }\n  get dirty() {\n    return this._dirty;\n  }\n  markClean(opts) {\n    const { force = false, recursive = true } = opts != null ? opts : {};\n    if (this._dirty === 0 /* NONE */ && !force) {\n      return;\n    }\n    this._dirty = 0 /* NONE */;\n    if (recursive !== false) {\n      for (const child of this._virtualChildren) {\n        child.markClean({ force });\n      }\n    }\n    if (recursive === true) {\n      for (const child of this._children) {\n        child.markClean({ force });\n      }\n    }\n  }\n  onVisibleChange() {\n  }\n  get nodeCount() {\n    let count = 1;\n    let dirtyCount = this._dirty >= 0 /* NONE */ || this.dirtyTransform ? 1 : 0;\n    let visibleCount = this.visible ? 1 : 0;\n    const countChild = (child) => {\n      const { count: childCount, visibleCount: childVisibleCount, dirtyCount: childDirtyCount } = child.nodeCount;\n      count += childCount;\n      visibleCount += childVisibleCount;\n      dirtyCount += childDirtyCount;\n    };\n    for (const child of this._children) {\n      countChild(child);\n    }\n    for (const child of this._virtualChildren) {\n      countChild(child);\n    }\n    return { count, visibleCount, dirtyCount };\n  }\n  onZIndexChange() {\n    if (this.parent) {\n      this.parent.dirtyZIndex = true;\n    }\n  }\n};\n_Node._nextSerialNumber = 0;\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingX\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingY\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingCenterX\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"scalingCenterY\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"rotationCenterX\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"rotationCenterY\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"rotation\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"translationX\", 2);\n__decorateClass([\n  SceneChangeDetection({ type: \"transform\" })\n], _Node.prototype, \"translationY\", 2);\n__decorateClass([\n  SceneChangeDetection({\n    redraw: 3 /* MAJOR */,\n    changeCb: (target) => target.onVisibleChange()\n  })\n], _Node.prototype, \"visible\", 2);\n__decorateClass([\n  SceneChangeDetection({\n    redraw: 1 /* TRIVIAL */,\n    changeCb: (target) => target.onZIndexChange()\n  })\n], _Node.prototype, \"zIndex\", 2);\n__decorateClass([\n  SceneChangeDetection({\n    redraw: 1 /* TRIVIAL */,\n    changeCb: (target) => target.onZIndexChange()\n  })\n], _Node.prototype, \"zIndexSubOrder\", 2);\nvar Node = _Node;\n\n// packages/ag-charts-community/src/util/color.ts\nvar srgbToLinear = (value) => {\n  const sign = value < 0 ? -1 : 1;\n  const abs = Math.abs(value);\n  if (abs <= 0.04045)\n    return value / 12.92;\n  return sign * __pow((abs + 0.055) / 1.055, 2.4);\n};\nvar srgbFromLinear = (value) => {\n  const sign = value < 0 ? -1 : 1;\n  const abs = Math.abs(value);\n  if (abs > 31308e-7) {\n    return sign * (1.055 * __pow(abs, 1 / 2.4) - 0.055);\n  }\n  return 12.92 * value;\n};\nvar _Color = class _Color {\n  /**\n   * Every color component should be in the [0, 1] range.\n   * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n   * So, when animating colors, if the source or target color components are already near\n   * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n   * component value to end up outside of that range mid-animation. For this reason the constructor\n   * performs range checking/constraining.\n   * @param r Red component.\n   * @param g Green component.\n   * @param b Blue component.\n   * @param a Alpha (opacity) component.\n   */\n  constructor(r, g, b, a = 1) {\n    this.r = clamp(0, r || 0, 1);\n    this.g = clamp(0, g || 0, 1);\n    this.b = clamp(0, b || 0, 1);\n    this.a = clamp(0, a || 0, 1);\n  }\n  /**\n   * A color string can be in one of the following formats to be valid:\n   * - #rgb\n   * - #rrggbb\n   * - rgb(r, g, b)\n   * - rgba(r, g, b, a)\n   * - CSS color name such as 'white', 'orange', 'cyan', etc.\n   */\n  static validColorString(str) {\n    if (str.indexOf(\"#\") >= 0) {\n      return !!_Color.parseHex(str);\n    }\n    if (str.indexOf(\"rgb\") >= 0) {\n      return !!_Color.stringToRgba(str);\n    }\n    return !!_Color.nameToHex[str.toLowerCase()];\n  }\n  /**\n   * The given string can be in one of the following formats:\n   * - #rgb\n   * - #rrggbb\n   * - rgb(r, g, b)\n   * - rgba(r, g, b, a)\n   * - CSS color name such as 'white', 'orange', 'cyan', etc.\n   * @param str\n   */\n  static fromString(str) {\n    if (str.indexOf(\"#\") >= 0) {\n      return _Color.fromHexString(str);\n    }\n    const hex = _Color.nameToHex[str.toLowerCase()];\n    if (hex) {\n      return _Color.fromHexString(hex);\n    }\n    if (str.indexOf(\"rgb\") >= 0) {\n      return _Color.fromRgbaString(str);\n    }\n    throw new Error(`Invalid color string: '${str}'`);\n  }\n  static tryParseFromString(str) {\n    try {\n      return _Color.fromString(str);\n    } catch (e) {\n      Logger.warnOnce(`invalid color string: '${str}'.`);\n      return _Color.fromArray([0, 0, 0]);\n    }\n  }\n  // See https://drafts.csswg.org/css-color/#hex-notation\n  static parseHex(input) {\n    input = input.replace(/ /g, \"\").slice(1);\n    let parts;\n    switch (input.length) {\n      case 6:\n      case 8:\n        parts = [];\n        for (let i = 0; i < input.length; i += 2) {\n          parts.push(parseInt(`${input[i]}${input[i + 1]}`, 16));\n        }\n        break;\n      case 3:\n      case 4:\n        parts = input.split(\"\").map((p) => parseInt(p, 16)).map((p) => p + p * 16);\n        break;\n    }\n    if ((parts == null ? void 0 : parts.length) >= 3 && parts.every((p) => p >= 0)) {\n      if (parts.length === 3) {\n        parts.push(255);\n      }\n      return parts;\n    }\n  }\n  static fromHexString(str) {\n    const values = _Color.parseHex(str);\n    if (values) {\n      const [r, g, b, a] = values;\n      return new _Color(r / 255, g / 255, b / 255, a / 255);\n    }\n    throw new Error(`Malformed hexadecimal color string: '${str}'`);\n  }\n  static stringToRgba(str) {\n    let [po, pc] = [NaN, NaN];\n    for (let i = 0; i < str.length; i++) {\n      const c = str[i];\n      if (!po && c === \"(\") {\n        po = i;\n      } else if (c === \")\") {\n        pc = i;\n        break;\n      }\n    }\n    const contents = po && pc && str.substring(po + 1, pc);\n    if (!contents) {\n      return;\n    }\n    const parts = contents.split(\",\");\n    const rgba = [];\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n      let value = parseFloat(part);\n      if (isNaN(value)) {\n        return;\n      }\n      if (part.indexOf(\"%\") >= 0) {\n        value = clamp(0, value, 100);\n        value /= 100;\n      } else if (i === 3) {\n        value = clamp(0, value, 1);\n      } else {\n        value = clamp(0, value, 255);\n        value /= 255;\n      }\n      rgba.push(value);\n    }\n    return rgba;\n  }\n  static fromRgbaString(str) {\n    const rgba = _Color.stringToRgba(str);\n    if (rgba) {\n      if (rgba.length === 3) {\n        return new _Color(rgba[0], rgba[1], rgba[2]);\n      } else if (rgba.length === 4) {\n        return new _Color(rgba[0], rgba[1], rgba[2], rgba[3]);\n      }\n    }\n    throw new Error(`Malformed rgb/rgba color string: '${str}'`);\n  }\n  static fromArray(arr) {\n    if (arr.length === 4) {\n      return new _Color(arr[0], arr[1], arr[2], arr[3]);\n    }\n    if (arr.length === 3) {\n      return new _Color(arr[0], arr[1], arr[2]);\n    }\n    throw new Error(\"The given array should contain 3 or 4 color components (numbers).\");\n  }\n  static fromHSB(h, s, b, alpha = 1) {\n    const rgb = _Color.HSBtoRGB(h, s, b);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static fromHSL(h, s, l, alpha = 1) {\n    const rgb = _Color.HSLtoRGB(h, s, l);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static fromOKLCH(l, c, h, alpha = 1) {\n    const rgb = _Color.OKLCHtoRGB(l, c, h);\n    return new _Color(rgb[0], rgb[1], rgb[2], alpha);\n  }\n  static padHex(str) {\n    return str.length === 1 ? \"0\" + str : str;\n  }\n  toHexString() {\n    let hex = \"#\" + _Color.padHex(Math.round(this.r * 255).toString(16)) + _Color.padHex(Math.round(this.g * 255).toString(16)) + _Color.padHex(Math.round(this.b * 255).toString(16));\n    if (this.a < 1) {\n      hex += _Color.padHex(Math.round(this.a * 255).toString(16));\n    }\n    return hex;\n  }\n  toRgbaString(fractionDigits = 3) {\n    const components = [Math.round(this.r * 255), Math.round(this.g * 255), Math.round(this.b * 255)];\n    const k = Math.pow(10, fractionDigits);\n    if (this.a !== 1) {\n      components.push(Math.round(this.a * k) / k);\n      return `rgba(${components.join(\", \")})`;\n    }\n    return `rgb(${components.join(\", \")})`;\n  }\n  toString() {\n    if (this.a === 1) {\n      return this.toHexString();\n    }\n    return this.toRgbaString();\n  }\n  toHSB() {\n    return _Color.RGBtoHSB(this.r, this.g, this.b);\n  }\n  static RGBtoOKLCH(r, g, b) {\n    const LSRGB0 = srgbToLinear(r);\n    const LSRGB1 = srgbToLinear(g);\n    const LSRGB2 = srgbToLinear(b);\n    const LMS0 = Math.cbrt(0.4122214708 * LSRGB0 + 0.5363325363 * LSRGB1 + 0.0514459929 * LSRGB2);\n    const LMS1 = Math.cbrt(0.2119034982 * LSRGB0 + 0.6806995451 * LSRGB1 + 0.1073969566 * LSRGB2);\n    const LMS2 = Math.cbrt(0.0883024619 * LSRGB0 + 0.2817188376 * LSRGB1 + 0.6299787005 * LSRGB2);\n    const OKLAB0 = 0.2104542553 * LMS0 + 0.793617785 * LMS1 - 0.0040720468 * LMS2;\n    const OKLAB1 = 1.9779984951 * LMS0 - 2.428592205 * LMS1 + 0.4505937099 * LMS2;\n    const OKLAB2 = 0.0259040371 * LMS0 + 0.7827717662 * LMS1 - 0.808675766 * LMS2;\n    const hue = Math.atan2(OKLAB2, OKLAB1) * 180 / Math.PI;\n    const OKLCH0 = OKLAB0;\n    const OKLCH1 = Math.hypot(OKLAB1, OKLAB2);\n    const OKLCH2 = hue >= 0 ? hue : hue + 360;\n    return [OKLCH0, OKLCH1, OKLCH2];\n  }\n  static OKLCHtoRGB(l, c, h) {\n    const OKLAB0 = l;\n    const OKLAB1 = c * Math.cos(h * Math.PI / 180);\n    const OKLAB2 = c * Math.sin(h * Math.PI / 180);\n    const LMS0 = __pow(OKLAB0 + 0.3963377774 * OKLAB1 + 0.2158037573 * OKLAB2, 3);\n    const LMS1 = __pow(OKLAB0 - 0.1055613458 * OKLAB1 - 0.0638541728 * OKLAB2, 3);\n    const LMS2 = __pow(OKLAB0 - 0.0894841775 * OKLAB1 - 1.291485548 * OKLAB2, 3);\n    const LSRGB0 = 4.0767416621 * LMS0 - 3.3077115913 * LMS1 + 0.2309699292 * LMS2;\n    const LSRGB1 = -1.2684380046 * LMS0 + 2.6097574011 * LMS1 - 0.3413193965 * LMS2;\n    const LSRGB2 = -0.0041960863 * LMS0 - 0.7034186147 * LMS1 + 1.707614701 * LMS2;\n    const SRGB0 = srgbFromLinear(LSRGB0);\n    const SRGB1 = srgbFromLinear(LSRGB1);\n    const SRGB2 = srgbFromLinear(LSRGB2);\n    return [SRGB0, SRGB1, SRGB2];\n  }\n  static RGBtoHSL(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const l = (max + min) / 2;\n    let h;\n    let s;\n    if (max === min) {\n      h = NaN;\n      s = 0;\n    } else {\n      const delta2 = max - min;\n      s = l > 0.5 ? delta2 / (2 - max - min) : delta2 / (max + min);\n      if (max === r) {\n        h = (g - b) / delta2 + (g < b ? 6 : 0);\n      } else if (max === g) {\n        h = (b - r) / delta2 + 2;\n      } else {\n        h = (r - g) / delta2 + 4;\n      }\n      h *= 360 / 6;\n    }\n    return [h, s, l];\n  }\n  static HSLtoRGB(h, s, l) {\n    if (s === 0) {\n      return [l, l, l];\n    }\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    function hueToRgb(t) {\n      if (t < 0)\n        t += 1;\n      if (t > 1)\n        t -= 1;\n      if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n      if (t < 1 / 2)\n        return q;\n      if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n    const r = hueToRgb(h / 360 + 1 / 3);\n    const g = hueToRgb(h / 360);\n    const b = hueToRgb(h / 360 - 1 / 3);\n    return [r, g, b];\n  }\n  /**\n   * Converts the given RGB triple to an array of HSB (HSV) components.\n   * The hue component will be `NaN` for achromatic colors.\n   */\n  static RGBtoHSB(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const S = max === 0 ? 0 : (max - min) / max;\n    let H = NaN;\n    if (min !== max) {\n      const delta2 = max - min;\n      const rc = (max - r) / delta2;\n      const gc = (max - g) / delta2;\n      const bc = (max - b) / delta2;\n      if (r === max) {\n        H = bc - gc;\n      } else if (g === max) {\n        H = 2 + rc - bc;\n      } else {\n        H = 4 + gc - rc;\n      }\n      H /= 6;\n      if (H < 0) {\n        H = H + 1;\n      }\n    }\n    return [H * 360, S, max];\n  }\n  /**\n   * Converts the given HSB (HSV) triple to an array of RGB components.\n   */\n  static HSBtoRGB(H, S, B) {\n    if (isNaN(H)) {\n      H = 0;\n    }\n    H = (H % 360 + 360) % 360 / 360;\n    let r = 0;\n    let g = 0;\n    let b = 0;\n    if (S === 0) {\n      r = g = b = B;\n    } else {\n      const h = (H - Math.floor(H)) * 6;\n      const f = h - Math.floor(h);\n      const p = B * (1 - S);\n      const q = B * (1 - S * f);\n      const t = B * (1 - S * (1 - f));\n      switch (h >> 0) {\n        case 0:\n          r = B;\n          g = t;\n          b = p;\n          break;\n        case 1:\n          r = q;\n          g = B;\n          b = p;\n          break;\n        case 2:\n          r = p;\n          g = B;\n          b = t;\n          break;\n        case 3:\n          r = p;\n          g = q;\n          b = B;\n          break;\n        case 4:\n          r = t;\n          g = p;\n          b = B;\n          break;\n        case 5:\n          r = B;\n          g = p;\n          b = q;\n          break;\n      }\n    }\n    return [r, g, b];\n  }\n  derive(hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n    const hsb = _Color.RGBtoHSB(this.r, this.g, this.b);\n    let b = hsb[2];\n    if (b == 0 && brightnessFactor > 1) {\n      b = 0.05;\n    }\n    const h = ((hsb[0] + hueShift) % 360 + 360) % 360;\n    const s = clamp(0, hsb[1] * saturationFactor, 1);\n    b = clamp(0, b * brightnessFactor, 1);\n    const a = clamp(0, this.a * opacityFactor, 1);\n    const rgba = _Color.HSBtoRGB(h, s, b);\n    rgba.push(a);\n    return _Color.fromArray(rgba);\n  }\n  brighter() {\n    return this.derive(0, 1, 1 / 0.7, 1);\n  }\n  darker() {\n    return this.derive(0, 1, 0.7, 1);\n  }\n  static interpolate(color, other) {\n    const c0 = _Color.tryParseFromString(color);\n    const c1 = _Color.tryParseFromString(other);\n    return (t) => {\n      const i = (x, y) => x * (1 - t) + y * t;\n      const c = new _Color(i(c0.r, c1.r), i(c0.g, c1.g), i(c0.b, c1.b), i(c0.a, c1.a));\n      return c.toString();\n    };\n  }\n};\n_Color.didDebug = false;\n/**\n * CSS Color Module Level 4:\n * https://drafts.csswg.org/css-color/#named-colors\n */\n_Color.nameToHex = Object.freeze({\n  aliceblue: \"#F0F8FF\",\n  antiquewhite: \"#FAEBD7\",\n  aqua: \"#00FFFF\",\n  aquamarine: \"#7FFFD4\",\n  azure: \"#F0FFFF\",\n  beige: \"#F5F5DC\",\n  bisque: \"#FFE4C4\",\n  black: \"#000000\",\n  blanchedalmond: \"#FFEBCD\",\n  blue: \"#0000FF\",\n  blueviolet: \"#8A2BE2\",\n  brown: \"#A52A2A\",\n  burlywood: \"#DEB887\",\n  cadetblue: \"#5F9EA0\",\n  chartreuse: \"#7FFF00\",\n  chocolate: \"#D2691E\",\n  coral: \"#FF7F50\",\n  cornflowerblue: \"#6495ED\",\n  cornsilk: \"#FFF8DC\",\n  crimson: \"#DC143C\",\n  cyan: \"#00FFFF\",\n  darkblue: \"#00008B\",\n  darkcyan: \"#008B8B\",\n  darkgoldenrod: \"#B8860B\",\n  darkgray: \"#A9A9A9\",\n  darkgreen: \"#006400\",\n  darkgrey: \"#A9A9A9\",\n  darkkhaki: \"#BDB76B\",\n  darkmagenta: \"#8B008B\",\n  darkolivegreen: \"#556B2F\",\n  darkorange: \"#FF8C00\",\n  darkorchid: \"#9932CC\",\n  darkred: \"#8B0000\",\n  darksalmon: \"#E9967A\",\n  darkseagreen: \"#8FBC8F\",\n  darkslateblue: \"#483D8B\",\n  darkslategray: \"#2F4F4F\",\n  darkslategrey: \"#2F4F4F\",\n  darkturquoise: \"#00CED1\",\n  darkviolet: \"#9400D3\",\n  deeppink: \"#FF1493\",\n  deepskyblue: \"#00BFFF\",\n  dimgray: \"#696969\",\n  dimgrey: \"#696969\",\n  dodgerblue: \"#1E90FF\",\n  firebrick: \"#B22222\",\n  floralwhite: \"#FFFAF0\",\n  forestgreen: \"#228B22\",\n  fuchsia: \"#FF00FF\",\n  gainsboro: \"#DCDCDC\",\n  ghostwhite: \"#F8F8FF\",\n  gold: \"#FFD700\",\n  goldenrod: \"#DAA520\",\n  gray: \"#808080\",\n  green: \"#008000\",\n  greenyellow: \"#ADFF2F\",\n  grey: \"#808080\",\n  honeydew: \"#F0FFF0\",\n  hotpink: \"#FF69B4\",\n  indianred: \"#CD5C5C\",\n  indigo: \"#4B0082\",\n  ivory: \"#FFFFF0\",\n  khaki: \"#F0E68C\",\n  lavender: \"#E6E6FA\",\n  lavenderblush: \"#FFF0F5\",\n  lawngreen: \"#7CFC00\",\n  lemonchiffon: \"#FFFACD\",\n  lightblue: \"#ADD8E6\",\n  lightcoral: \"#F08080\",\n  lightcyan: \"#E0FFFF\",\n  lightgoldenrodyellow: \"#FAFAD2\",\n  lightgray: \"#D3D3D3\",\n  lightgreen: \"#90EE90\",\n  lightgrey: \"#D3D3D3\",\n  lightpink: \"#FFB6C1\",\n  lightsalmon: \"#FFA07A\",\n  lightseagreen: \"#20B2AA\",\n  lightskyblue: \"#87CEFA\",\n  lightslategray: \"#778899\",\n  lightslategrey: \"#778899\",\n  lightsteelblue: \"#B0C4DE\",\n  lightyellow: \"#FFFFE0\",\n  lime: \"#00FF00\",\n  limegreen: \"#32CD32\",\n  linen: \"#FAF0E6\",\n  magenta: \"#FF00FF\",\n  maroon: \"#800000\",\n  mediumaquamarine: \"#66CDAA\",\n  mediumblue: \"#0000CD\",\n  mediumorchid: \"#BA55D3\",\n  mediumpurple: \"#9370DB\",\n  mediumseagreen: \"#3CB371\",\n  mediumslateblue: \"#7B68EE\",\n  mediumspringgreen: \"#00FA9A\",\n  mediumturquoise: \"#48D1CC\",\n  mediumvioletred: \"#C71585\",\n  midnightblue: \"#191970\",\n  mintcream: \"#F5FFFA\",\n  mistyrose: \"#FFE4E1\",\n  moccasin: \"#FFE4B5\",\n  navajowhite: \"#FFDEAD\",\n  navy: \"#000080\",\n  oldlace: \"#FDF5E6\",\n  olive: \"#808000\",\n  olivedrab: \"#6B8E23\",\n  orange: \"#FFA500\",\n  orangered: \"#FF4500\",\n  orchid: \"#DA70D6\",\n  palegoldenrod: \"#EEE8AA\",\n  palegreen: \"#98FB98\",\n  paleturquoise: \"#AFEEEE\",\n  palevioletred: \"#DB7093\",\n  papayawhip: \"#FFEFD5\",\n  peachpuff: \"#FFDAB9\",\n  peru: \"#CD853F\",\n  pink: \"#FFC0CB\",\n  plum: \"#DDA0DD\",\n  powderblue: \"#B0E0E6\",\n  purple: \"#800080\",\n  rebeccapurple: \"#663399\",\n  red: \"#FF0000\",\n  rosybrown: \"#BC8F8F\",\n  royalblue: \"#4169E1\",\n  saddlebrown: \"#8B4513\",\n  salmon: \"#FA8072\",\n  sandybrown: \"#F4A460\",\n  seagreen: \"#2E8B57\",\n  seashell: \"#FFF5EE\",\n  sienna: \"#A0522D\",\n  silver: \"#C0C0C0\",\n  skyblue: \"#87CEEB\",\n  slateblue: \"#6A5ACD\",\n  slategray: \"#708090\",\n  slategrey: \"#708090\",\n  snow: \"#FFFAFA\",\n  springgreen: \"#00FF7F\",\n  steelblue: \"#4682B4\",\n  tan: \"#D2B48C\",\n  teal: \"#008080\",\n  thistle: \"#D8BFD8\",\n  tomato: \"#FF6347\",\n  transparent: \"#00000000\",\n  turquoise: \"#40E0D0\",\n  violet: \"#EE82EE\",\n  wheat: \"#F5DEB3\",\n  white: \"#FFFFFF\",\n  whitesmoke: \"#F5F5F5\",\n  yellow: \"#FFFF00\",\n  yellowgreen: \"#9ACD32\"\n});\nvar Color = _Color;\n\n// packages/ag-charts-community/src/util/interpolate.ts\nfunction interpolateNumber(a, b) {\n  return (d) => Number(a) * (1 - d) + Number(b) * d;\n}\nfunction interpolateColor(a, b) {\n  if (typeof a === \"string\") {\n    try {\n      a = Color.fromString(a);\n    } catch (e) {\n      a = Color.fromArray([0, 0, 0]);\n    }\n  }\n  if (typeof b === \"string\") {\n    try {\n      b = Color.fromString(b);\n    } catch (e) {\n      b = Color.fromArray([0, 0, 0]);\n    }\n  }\n  const red = interpolateNumber(a.r, b.r);\n  const green = interpolateNumber(a.g, b.g);\n  const blue = interpolateNumber(a.b, b.b);\n  const alpha = interpolateNumber(a.a, b.a);\n  return (d) => Color.fromArray([red(d), green(d), blue(d), alpha(d)]).toRgbaString();\n}\n\n// packages/ag-charts-community/src/motion/easing.ts\nvar easing_exports = {};\n__export(easing_exports, {\n  easeIn: () => easeIn,\n  easeInOut: () => easeInOut,\n  easeInOutQuad: () => easeInOutQuad,\n  easeInQuad: () => easeInQuad,\n  easeOut: () => easeOut,\n  easeOutQuad: () => easeOutQuad,\n  inverseEaseOut: () => inverseEaseOut,\n  linear: () => linear\n});\nvar linear = (n) => n;\nvar easeIn = (n) => 1 - Math.cos(n * Math.PI / 2);\nvar easeOut = (n) => Math.sin(n * Math.PI / 2);\nvar easeInOut = (n) => -(Math.cos(n * Math.PI) - 1) / 2;\nvar easeInQuad = (n) => n * n;\nvar easeOutQuad = (n) => 1 - __pow(1 - n, 2);\nvar easeInOutQuad = (n) => n < 0.5 ? 2 * n * n : 1 - __pow(-2 * n + 2, 2) / 2;\nvar inverseEaseOut = (x) => 2 * Math.asin(x) / Math.PI;\n\n// packages/ag-charts-community/src/motion/animation.ts\nvar QUICK_TRANSITION = 0.2;\nvar PHASE_ORDER = [\"initial\", \"remove\", \"update\", \"add\", \"trailing\", \"end\", \"none\"];\nvar PHASE_METADATA = {\n  initial: {\n    animationDuration: 1,\n    animationDelay: 0\n  },\n  add: {\n    animationDuration: 0.25,\n    animationDelay: 0.75\n  },\n  remove: {\n    animationDuration: 0.25,\n    animationDelay: 0\n  },\n  update: {\n    animationDuration: 0.5,\n    animationDelay: 0.25\n  },\n  trailing: {\n    animationDuration: QUICK_TRANSITION,\n    animationDelay: 1,\n    skipIfNoEarlierAnimations: true\n  },\n  end: {\n    animationDelay: 1 + QUICK_TRANSITION,\n    animationDuration: 0,\n    skipIfNoEarlierAnimations: true\n  },\n  none: {\n    animationDuration: 0,\n    animationDelay: 0\n  }\n};\nvar RepeatType = /* @__PURE__ */ ((RepeatType2) => {\n  RepeatType2[\"Loop\"] = \"loop\";\n  RepeatType2[\"Reverse\"] = \"reverse\";\n  return RepeatType2;\n})(RepeatType || {});\nfunction isNodeArray(array) {\n  return array.every((n) => n instanceof Node);\n}\nfunction deconstructSelectionsOrNodes(selectionsOrNodes) {\n  return isNodeArray(selectionsOrNodes) ? { nodes: selectionsOrNodes, selections: [] } : { nodes: [], selections: selectionsOrNodes };\n}\nvar Animation = class {\n  constructor(opts) {\n    this.isComplete = false;\n    this.elapsed = 0;\n    this.iteration = 0;\n    this.isPlaying = false;\n    this.isReverse = false;\n    var _a, _b, _c, _d, _e, _f, _g;\n    this.id = opts.id;\n    this.groupId = opts.groupId;\n    this.autoplay = (_a = opts.autoplay) != null ? _a : true;\n    this.ease = (_b = opts.ease) != null ? _b : linear;\n    this.phase = opts.phase;\n    const durationProportion = (_c = opts.duration) != null ? _c : PHASE_METADATA[this.phase].animationDuration;\n    this.duration = durationProportion * opts.defaultDuration;\n    this.delay = ((_d = opts.delay) != null ? _d : 0) * opts.defaultDuration;\n    this.onComplete = opts.onComplete;\n    this.onPlay = opts.onPlay;\n    this.onStop = opts.onStop;\n    this.onUpdate = opts.onUpdate;\n    this.interpolate = this.createInterpolator(opts.from, opts.to);\n    this.from = opts.from;\n    if (opts.skip === true) {\n      (_e = this.onUpdate) == null ? void 0 : _e.call(this, opts.to, false, this);\n      (_f = this.onStop) == null ? void 0 : _f.call(this, this);\n      (_g = this.onComplete) == null ? void 0 : _g.call(this, this);\n      this.isComplete = true;\n    }\n    if (opts.collapsable !== false) {\n      this.duration = this.checkCollapse(opts, this.duration);\n    }\n  }\n  checkCollapse(opts, calculatedDuration) {\n    if (opts.from === opts.to)\n      return 0;\n    const diff2 = typeof opts.from === \"object\" ? jsonDiff(opts.from, opts.to) : null;\n    if (diff2) {\n      return calculatedDuration;\n    }\n    return 0;\n  }\n  play(initialUpdate = false) {\n    var _a, _b;\n    if (this.isPlaying || this.isComplete)\n      return;\n    this.isPlaying = true;\n    (_a = this.onPlay) == null ? void 0 : _a.call(this, this);\n    if (!this.autoplay)\n      return;\n    this.autoplay = false;\n    if (!initialUpdate)\n      return;\n    (_b = this.onUpdate) == null ? void 0 : _b.call(this, this.from, true, this);\n  }\n  pause() {\n    this.isPlaying = false;\n  }\n  stop() {\n    var _a;\n    this.isPlaying = false;\n    if (!this.isComplete) {\n      this.isComplete = true;\n      (_a = this.onStop) == null ? void 0 : _a.call(this, this);\n    }\n  }\n  update(time2) {\n    var _a, _b;\n    if (this.isComplete)\n      return time2;\n    if (!this.isPlaying && this.autoplay) {\n      this.play(true);\n    }\n    const previousElapsed = this.elapsed;\n    this.elapsed += time2;\n    if (this.delay > this.elapsed)\n      return 0;\n    const value = this.interpolate(this.isReverse ? 1 - this.delta : this.delta);\n    (_a = this.onUpdate) == null ? void 0 : _a.call(this, value, false, this);\n    const totalDuration = this.delay + this.duration;\n    if (this.elapsed >= totalDuration) {\n      this.stop();\n      this.isComplete = true;\n      (_b = this.onComplete) == null ? void 0 : _b.call(this, this);\n      return time2 - (totalDuration - previousElapsed);\n    }\n    return 0;\n  }\n  get delta() {\n    return this.ease(clamp(0, (this.elapsed - this.delay) / this.duration, 1));\n  }\n  createInterpolator(from, to) {\n    if (typeof to !== \"object\" || isInterpolating(to)) {\n      return this.interpolateValue(from, to);\n    }\n    const interpolatorEntries = [];\n    for (const key in to) {\n      const interpolator = this.interpolateValue(from[key], to[key]);\n      if (interpolator != null) {\n        interpolatorEntries.push([key, interpolator]);\n      }\n    }\n    return (d) => {\n      const result = {};\n      for (const [key, interpolator] of interpolatorEntries) {\n        result[key] = interpolator(d);\n      }\n      return result;\n    };\n  }\n  interpolateValue(a, b) {\n    if (a === void 0 || b === void 0) {\n      return;\n    } else if (isInterpolating(a)) {\n      return (d) => a[interpolate](b, d);\n    }\n    try {\n      switch (typeof a) {\n        case \"number\":\n          return interpolateNumber(a, b);\n        case \"string\":\n          return interpolateColor(a, b);\n        case \"boolean\":\n          if (a === b)\n            return () => a;\n          break;\n      }\n    } catch (e) {\n    }\n    throw new Error(`Unable to interpolate values: ${a}, ${b}`);\n  }\n};\n\n// packages/ag-charts-community/src/motion/fromToMotion.ts\nvar NODE_UPDATE_STATE_TO_PHASE_MAPPING = {\n  added: \"add\",\n  updated: \"update\",\n  removed: \"remove\",\n  unknown: \"initial\",\n  \"no-op\": \"none\"\n};\nfunction fromToMotion(groupId, subId, animationManager, selectionsOrNodes, fns, getDatumId, diff2) {\n  const { fromFn, toFn, intermediateFn } = fns;\n  const { nodes, selections } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  const processNodes = (liveNodes, subNodes) => {\n    var _c;\n    let prevFromProps;\n    let liveNodeIndex = 0;\n    let nodeIndex = 0;\n    for (const node of subNodes) {\n      const isLive = liveNodes[liveNodeIndex] === node;\n      const ctx = {\n        last: nodeIndex >= subNodes.length - 1,\n        lastLive: liveNodeIndex >= liveNodes.length - 1,\n        prev: subNodes[nodeIndex - 1],\n        prevFromProps,\n        prevLive: liveNodes[liveNodeIndex - 1],\n        next: subNodes[nodeIndex + 1],\n        nextLive: liveNodes[liveNodeIndex + (isLive ? 1 : 0)]\n      };\n      const animationId = `${groupId}_${subId}_${node.id}`;\n      animationManager.stopByAnimationId(animationId);\n      let status = \"unknown\";\n      if (!isLive) {\n        status = \"removed\";\n      } else if (getDatumId && diff2) {\n        status = calculateStatus(node, node.datum, getDatumId, diff2);\n      }\n      const _a = fromFn(node, node.datum, status, ctx), { phase, start, finish, delay, duration } = _a, from = __objRest(_a, [\"phase\", \"start\", \"finish\", \"delay\", \"duration\"]);\n      const _b = toFn(node, node.datum, status, ctx), {\n        phase: toPhase,\n        start: toStart,\n        finish: toFinish,\n        delay: toDelay,\n        duration: toDuration\n      } = _b, to = __objRest(_b, [\n        \"phase\",\n        \"start\",\n        \"finish\",\n        \"delay\",\n        \"duration\"\n      ]);\n      const collapsable = finish == null && toFinish == null;\n      animationManager.animate({\n        id: animationId,\n        groupId,\n        phase: (_c = phase != null ? phase : toPhase) != null ? _c : \"update\",\n        duration: duration != null ? duration : toDuration,\n        delay: delay != null ? delay : toDelay,\n        from,\n        to,\n        ease: easeOut,\n        collapsable,\n        onPlay: () => {\n          node.setProperties(__spreadValues(__spreadValues({}, start), toStart));\n        },\n        onUpdate(props) {\n          node.setProperties(props);\n          if (intermediateFn) {\n            node.setProperties(intermediateFn(node, node.datum, status, ctx));\n          }\n        },\n        onStop: () => {\n          node.setProperties(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, start), toStart), from), to), finish), toFinish));\n        }\n      });\n      if (isLive) {\n        liveNodeIndex++;\n      }\n      nodeIndex++;\n      prevFromProps = from;\n    }\n  };\n  let selectionIndex = 0;\n  for (const selection of selections) {\n    const selectionNodes = selection.nodes();\n    const liveNodes = selectionNodes.filter((n) => !selection.isGarbage(n));\n    processNodes(liveNodes, selectionNodes);\n    animationManager.animate({\n      id: `${groupId}_${subId}_selection_${selectionIndex}`,\n      groupId,\n      phase: \"end\",\n      from: 0,\n      to: 1,\n      ease: easeOut,\n      onStop() {\n        selection.cleanup();\n      }\n    });\n    selectionIndex++;\n  }\n  processNodes(nodes, nodes);\n}\nfunction staticFromToMotion(groupId, subId, animationManager, selectionsOrNodes, from, to, extraOpts) {\n  const { nodes, selections } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  const { start, finish, phase } = extraOpts;\n  const collapsable = finish == null;\n  animationManager.animate({\n    id: `${groupId}_${subId}`,\n    groupId,\n    phase: phase != null ? phase : \"update\",\n    from,\n    to,\n    ease: easeOut,\n    collapsable,\n    onPlay: () => {\n      if (!start)\n        return;\n      for (const node of nodes) {\n        node.setProperties(start);\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(start);\n        }\n      }\n    },\n    onUpdate(props) {\n      for (const node of nodes) {\n        node.setProperties(props);\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(props);\n        }\n      }\n    },\n    onStop: () => {\n      for (const node of nodes) {\n        node.setProperties(__spreadValues(__spreadValues({}, to), finish));\n      }\n      for (const selection of selections) {\n        for (const node of selection.nodes()) {\n          node.setProperties(__spreadValues(__spreadValues({}, to), finish));\n        }\n      }\n    }\n  });\n}\nfunction calculateStatus(node, datum, getDatumId, diff2) {\n  const id = getDatumId(node, datum);\n  if (diff2.added.has(id)) {\n    return \"added\";\n  }\n  if (diff2.removed.has(id)) {\n    return \"removed\";\n  }\n  return \"updated\";\n}\n\n// packages/ag-charts-community/src/util/angle.ts\nvar twoPi = Math.PI * 2;\nfunction normalizeAngle360(radians) {\n  radians %= twoPi;\n  radians += twoPi;\n  radians %= twoPi;\n  return radians;\n}\nfunction normalizeAngle360Inclusive(radians) {\n  radians %= twoPi;\n  radians += twoPi;\n  if (radians !== twoPi) {\n    radians %= twoPi;\n  }\n  return radians;\n}\nfunction normalizeAngle180(radians) {\n  radians %= twoPi;\n  if (radians < -Math.PI) {\n    radians += twoPi;\n  } else if (radians >= Math.PI) {\n    radians -= twoPi;\n  }\n  return radians;\n}\nfunction isBetweenAngles(targetAngle, startAngle, endAngle) {\n  const t = normalizeAngle360(targetAngle);\n  const a0 = normalizeAngle360(startAngle);\n  const a1 = normalizeAngle360Inclusive(endAngle);\n  if (a0 <= a1) {\n    return a0 <= t && t <= a1;\n  } else {\n    return a0 <= t || t <= a1;\n  }\n}\nfunction toRadians(degrees) {\n  return degrees / 180 * Math.PI;\n}\nfunction toDegrees(radians) {\n  return radians / Math.PI * 180;\n}\nfunction angleBetween(angle0, angle1) {\n  angle0 = normalizeAngle360(angle0);\n  angle1 = normalizeAngle360(angle1);\n  return angle1 - angle0 + (angle0 > angle1 ? 2 * Math.PI : 0);\n}\nfunction displacePointFromVector(centerX, centerY, radius, angle) {\n  const x = centerX + radius * Math.cos(angle);\n  const y = centerY + radius * Math.sin(angle);\n  return { x, y };\n}\n\n// packages/ag-charts-community/src/scale/invalidating.ts\nvar Invalidating = (target, propertyKey) => {\n  const mappedProperty = Symbol(String(propertyKey));\n  target[mappedProperty] = void 0;\n  Object.defineProperty(target, propertyKey, {\n    get() {\n      return this[mappedProperty];\n    },\n    set(newValue) {\n      const oldValue = this[mappedProperty];\n      if (oldValue !== newValue) {\n        this[mappedProperty] = newValue;\n        this.invalid = true;\n      }\n    },\n    enumerable: true,\n    configurable: false\n  });\n};\n\n// packages/ag-charts-community/src/scale/bandScale.ts\nvar _BandScale = class _BandScale {\n  constructor() {\n    this.type = \"band\";\n    this.invalid = true;\n    this.interval = void 0;\n    /**\n     * Maps datum to its index in the {@link domain} array.\n     * Used to check for duplicate datums (not allowed).\n     */\n    this.index = /* @__PURE__ */ new Map();\n    /**\n     * The output range values for datum at each index.\n     */\n    this.ordinalRange = [];\n    /**\n     * Contains unique datums only. Since `{}` is used in place of `Map`\n     * for IE11 compatibility, the datums are converted `toString` before\n     * the uniqueness check.\n     */\n    this._domain = [];\n    this.range = [0, 1];\n    this._bandwidth = 1;\n    this._step = 1;\n    this._rawBandwidth = 1;\n    /**\n     * The ratio of the range that is reserved for space between bands.\n     */\n    this._paddingInner = 0;\n    /**\n     * The ratio of the range that is reserved for space before the first\n     * and after the last band.\n     */\n    this._paddingOuter = 0;\n    this.round = false;\n  }\n  static is(value) {\n    return value instanceof _BandScale;\n  }\n  refresh() {\n    if (!this.invalid)\n      return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n  set domain(values) {\n    this.invalid = true;\n    const domain = [];\n    this.index = /* @__PURE__ */ new Map();\n    const index = this.index;\n    values.forEach((value) => {\n      if (this.getIndex(value) === void 0) {\n        index.set(value, domain.push(value) - 1);\n      }\n    });\n    this._domain = domain;\n  }\n  get domain() {\n    return this._domain;\n  }\n  ticks() {\n    this.refresh();\n    let { interval = 1 } = this;\n    if (typeof interval !== \"number\") {\n      interval = Number(interval);\n    }\n    const step = Math.abs(Math.round(interval));\n    return this._domain.filter((_, i) => i % step === 0);\n  }\n  convert(d) {\n    this.refresh();\n    const i = this.getIndex(d);\n    if (i === void 0) {\n      return NaN;\n    }\n    const r = this.ordinalRange[i];\n    if (r === void 0) {\n      return NaN;\n    }\n    return r;\n  }\n  invert(position) {\n    this.refresh();\n    const index = this.ordinalRange.findIndex((p) => p === position);\n    return this.domain[index];\n  }\n  invertNearest(position) {\n    var _a;\n    this.refresh();\n    let nearest = -1;\n    let minDistance = Infinity;\n    const index = this.ordinalRange.findIndex((p, i) => {\n      if (p === position)\n        return true;\n      const distance2 = Math.abs(position - p);\n      if (distance2 < minDistance) {\n        minDistance = distance2;\n        nearest = i;\n      }\n      return false;\n    });\n    return (_a = this.domain[index]) != null ? _a : this.domain[nearest];\n  }\n  get bandwidth() {\n    this.refresh();\n    return this._bandwidth;\n  }\n  get step() {\n    this.refresh();\n    return this._step;\n  }\n  get rawBandwidth() {\n    this.refresh();\n    return this._rawBandwidth;\n  }\n  set padding(value) {\n    value = clamp(0, value, 1);\n    this._paddingInner = value;\n    this._paddingOuter = value;\n  }\n  get padding() {\n    return this._paddingInner;\n  }\n  set paddingInner(value) {\n    this._paddingInner = clamp(0, value, 1);\n  }\n  get paddingInner() {\n    return this._paddingInner;\n  }\n  set paddingOuter(value) {\n    this._paddingOuter = clamp(0, value, 1);\n  }\n  get paddingOuter() {\n    return this._paddingOuter;\n  }\n  update() {\n    const count = this._domain.length;\n    if (count === 0) {\n      return;\n    }\n    const round3 = this.round;\n    const paddingInner = this._paddingInner;\n    const paddingOuter = this._paddingOuter;\n    const [r0, r1] = this.range;\n    const width = r1 - r0;\n    const rawStep = width / Math.max(1, count + 2 * paddingOuter - paddingInner);\n    const step = round3 ? Math.floor(rawStep) : rawStep;\n    const fullBandWidth = step * (count - paddingInner);\n    const x0 = r0 + (width - fullBandWidth) / 2;\n    const start = round3 ? Math.round(x0) : x0;\n    const bw = step * (1 - paddingInner);\n    const bandwidth = round3 ? Math.round(bw) : bw;\n    const rawBandwidth = rawStep * (1 - paddingInner);\n    const values = [];\n    for (let i = 0; i < count; i++) {\n      values.push(start + step * i);\n    }\n    this._bandwidth = bandwidth;\n    this._rawBandwidth = rawBandwidth;\n    this._step = step;\n    this.ordinalRange = values;\n  }\n  getIndex(value) {\n    if (!(value instanceof Date)) {\n      return this.index.get(value);\n    }\n    const valueOf = value.valueOf();\n    let index = 0;\n    for (const key of this.index.keys()) {\n      if (key instanceof Date && key.valueOf() === valueOf) {\n        return index;\n      }\n      index++;\n    }\n  }\n};\n__decorateClass([\n  Invalidating\n], _BandScale.prototype, \"interval\", 2);\n__decorateClass([\n  Invalidating\n], _BandScale.prototype, \"range\", 2);\n__decorateClass([\n  Invalidating\n], _BandScale.prototype, \"round\", 2);\nvar BandScale = _BandScale;\n\n// packages/ag-charts-community/src/util/default.ts\nfunction Default(defaultValue, replaces = [void 0]) {\n  return addTransformToInstanceProperty((_, __, v) => {\n    if (replaces.includes(v)) {\n      return isFunction(defaultValue) ? defaultValue(v) : defaultValue;\n    }\n    return v;\n  });\n}\n\n// packages/ag-charts-community/src/util/validation.ts\nfunction Validate(predicate, options = {}) {\n  const { optional = false, property: overrideProperty } = options;\n  return addTransformToInstanceProperty(\n    (target, property, value) => {\n      var _a;\n      const context = __spreadProps(__spreadValues({}, options), { target, property });\n      if (optional && typeof value === \"undefined\" || predicate(value, context)) {\n        if (isProperties(target[property]) && !isProperties(value)) {\n          target[property].set(value);\n          return target[property];\n        }\n        return value;\n      }\n      const cleanKey = overrideProperty != null ? overrideProperty : String(property).replace(/^_*/, \"\");\n      const targetName = (_a = target.constructor.className) != null ? _a : target.constructor.name.replace(/Properties$/, \"\");\n      let valueString = stringify(value);\n      const maxLength = 50;\n      if (valueString != null && valueString.length > maxLength) {\n        const excessCharacters = valueString.length - maxLength;\n        valueString = valueString.slice(0, maxLength) + `... (+${excessCharacters} characters)`;\n      }\n      Logger.warn(\n        `Property [${cleanKey}] of [${targetName}] cannot be set to [${valueString}]${predicate.message ? `; expecting ${getPredicateMessage(predicate, context)}` : \"\"}, ignoring.`\n      );\n      return BREAK_TRANSFORM_CHAIN;\n    },\n    void 0,\n    { optional }\n  );\n}\nvar AND = (...predicates) => {\n  const messages = [];\n  return predicateWithMessage(\n    (value, ctx) => {\n      messages.length = 0;\n      return predicates.every((predicate) => {\n        const isValid = predicate(value, ctx);\n        if (!isValid) {\n          messages.push(getPredicateMessage(predicate, ctx));\n        }\n        return isValid;\n      });\n    },\n    () => messages.filter(Boolean).join(\" AND \")\n  );\n};\nvar OR = (...predicates) => predicateWithMessage(\n  (value, ctx) => predicates.some((predicate) => predicate(value, ctx)),\n  (ctx) => predicates.map(getPredicateMessageMapper(ctx)).filter(Boolean).join(\" OR \")\n);\nvar OBJECT = attachObjectRestrictions(\n  predicateWithMessage(\n    (value, ctx) => isProperties(value) || isObject(value) && isProperties(ctx.target[ctx.property]),\n    \"a properties object\"\n  )\n);\nvar PLAIN_OBJECT = attachObjectRestrictions(predicateWithMessage((value) => isObject(value), \"an object\"));\nvar BOOLEAN = predicateWithMessage(isBoolean, \"a boolean\");\nvar FUNCTION = predicateWithMessage(isFunction, \"a function\");\nvar STRING = predicateWithMessage(isString, \"a string\");\nvar NUMBER = attachNumberRestrictions(predicateWithMessage(isFiniteNumber, \"a number\"));\nvar NAN = predicateWithMessage((value) => isNumber(value) && isNaN(value), \"NaN\");\nvar POSITIVE_NUMBER = NUMBER.restrict({ min: 0 });\nvar RATIO = NUMBER.restrict({ min: 0, max: 1 });\nvar DEGREE = NUMBER.restrict({ min: -360, max: 360 });\nvar NUMBER_OR_NAN = OR(NUMBER, NAN);\nvar ARRAY = attachArrayRestrictions(predicateWithMessage(isArray, \"an array\"));\nvar ARRAY_OF = (predicate, message) => predicateWithMessage(\n  (value, ctx) => isArray(value) && value.every((item) => predicate(item, ctx)),\n  (ctx) => {\n    var _a;\n    const arrayMessage = (_a = getPredicateMessage(ARRAY, ctx)) != null ? _a : \"\";\n    return message ? `${arrayMessage} of ${message}` : arrayMessage;\n  }\n);\nvar isComparable = (value) => isFiniteNumber(value) || isValidDate(value);\nvar LESS_THAN = (otherField) => predicateWithMessage(\n  (v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v < ctx.target[otherField],\n  `to be less than ${otherField}`\n);\nvar GREATER_THAN = (otherField) => predicateWithMessage(\n  (v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v > ctx.target[otherField],\n  `to be greater than ${otherField}`\n);\nvar DATE = predicateWithMessage(isValidDate, \"Date object\");\nvar DATE_OR_DATETIME_MS = OR(DATE, POSITIVE_NUMBER);\nvar colorMessage = `A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc`;\nvar COLOR_STRING = predicateWithMessage(\n  (v) => isString(v) && Color.validColorString(v),\n  `color String. ${colorMessage}`\n);\nvar COLOR_STRING_ARRAY = predicateWithMessage(ARRAY_OF(COLOR_STRING), `color strings. ${colorMessage}`);\nvar BOOLEAN_ARRAY = ARRAY_OF(BOOLEAN, \"boolean values\");\nvar NUMBER_ARRAY = ARRAY_OF(NUMBER, \"numbers\");\nvar STRING_ARRAY = ARRAY_OF(STRING, \"strings\");\nvar DATE_ARRAY = predicateWithMessage(ARRAY_OF(DATE), \"Date objects\");\nvar OBJECT_ARRAY = predicateWithMessage(ARRAY_OF(OBJECT), \"objects\");\nvar LINE_CAP = UNION([\"butt\", \"round\", \"square\"], \"a line cap\");\nvar LINE_JOIN = UNION([\"round\", \"bevel\", \"miter\"], \"a line join\");\nvar LINE_DASH = predicateWithMessage(\n  ARRAY_OF(POSITIVE_NUMBER),\n  \"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels.\"\n);\nvar POSITION2 = UNION([\"top\", \"right\", \"bottom\", \"left\"], \"a position\");\nvar FONT_STYLE = UNION([\"normal\", \"italic\", \"oblique\"], \"a font style\");\nvar FONT_WEIGHT2 = OR(\n  UNION([\"normal\", \"bold\", \"bolder\", \"lighter\"], \"a font weight\"),\n  NUMBER.restrict({ min: 1, max: 1e3 })\n);\nvar TEXT_WRAP = UNION([\"never\", \"always\", \"hyphenate\", \"on-space\"], \"a text wrap strategy\");\nvar TEXT_ALIGN = UNION([\"left\", \"center\", \"right\"], \"a text align\");\nvar VERTICAL_ALIGN = UNION([\"top\", \"middle\", \"bottom\"], \"a vertical align\");\nvar OVERFLOW_STRATEGY = UNION([\"ellipsis\", \"hide\"], \"an overflow strategy\");\nvar DIRECTION = UNION([\"horizontal\", \"vertical\"], \"a direction\");\nvar PLACEMENT = UNION([\"inside\", \"outside\"], \"a placement\");\nvar INTERACTION_RANGE = OR(UNION([\"exact\", \"nearest\"], \"interaction range\"), NUMBER);\nvar LABEL_PLACEMENT = UNION([\"top\", \"bottom\", \"left\", \"right\"]);\nfunction UNION(options, message = \"a\") {\n  return predicateWithMessage(\n    (v) => options.includes(v),\n    `${message} keyword such as ${joinUnionOptions(options)}`\n  );\n}\nvar MIN_SPACING = OR(AND(NUMBER.restrict({ min: 1 }), LESS_THAN(\"maxSpacing\")), NAN);\nvar MAX_SPACING = OR(AND(NUMBER.restrict({ min: 1 }), GREATER_THAN(\"minSpacing\")), NAN);\nfunction predicateWithMessage(predicate, message) {\n  predicate.message = message;\n  return predicate;\n}\nfunction joinUnionOptions(options) {\n  const values = options.map((option) => `'${option}'`);\n  if (values.length === 1) {\n    return values[0];\n  }\n  const lastValue = values.pop();\n  return `${values.join(\", \")} or ${lastValue}`;\n}\nfunction getPredicateMessage(predicate, ctx) {\n  return isFunction(predicate.message) ? predicate.message(ctx) : predicate.message;\n}\nfunction getPredicateMessageMapper(ctx) {\n  return (predicate) => getPredicateMessage(predicate, ctx);\n}\nfunction attachArrayRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict({ length, minLength } = {}) {\n      let message = \"an array\";\n      if (isNumber(minLength) && minLength > 0) {\n        message = \"a non-empty array\";\n      } else if (isNumber(length)) {\n        message = `an array of length ${length}`;\n      }\n      return predicateWithMessage(\n        (value) => isArray(value) && (isNumber(length) ? value.length === length : true) && (isNumber(minLength) ? value.length >= minLength : true),\n        message\n      );\n    }\n  });\n}\nfunction attachNumberRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict({ min, max } = {}) {\n      const message = [\"a number\"];\n      const hasMin = isNumber(min);\n      const hasMax = isNumber(max);\n      if (hasMin && hasMax) {\n        message.push(`between ${min} and ${max} inclusive`);\n      } else if (hasMin) {\n        message.push(`greater than or equal to ${min}`);\n      } else if (hasMax) {\n        message.push(`less than or equal to ${max}`);\n      }\n      return predicateWithMessage(\n        (value) => isFiniteNumber(value) && (hasMin ? value >= min : true) && (hasMax ? value <= max : true),\n        message.join(\" \")\n      );\n    }\n  });\n}\nfunction attachObjectRestrictions(predicate) {\n  return Object.assign(predicate, {\n    restrict(objectType) {\n      return predicateWithMessage(\n        (value) => value instanceof objectType,\n        (ctx) => {\n          var _a;\n          return (_a = getPredicateMessage(predicate, ctx)) != null ? _a : `an instance of ${objectType.name}`;\n        }\n      );\n    }\n  });\n}\nfunction stringify(value) {\n  if (typeof value === \"number\") {\n    if (isNaN(value))\n      return \"NaN\";\n    if (value === Infinity)\n      return \"Infinity\";\n    if (value === -Infinity)\n      return \"-Infinity\";\n  }\n  return JSON.stringify(value);\n}\n\n// packages/ag-charts-community/src/chart/axis/axisTick.ts\nvar TICK_INTERVAL = predicateWithMessage(\n  (value) => isFiniteNumber(value) && value > 0 || value instanceof TimeInterval,\n  `a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'`\n);\nvar AxisTick = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.width = 1;\n    this.size = 6;\n    this.color = void 0;\n    this.interval = void 0;\n    this.values = void 0;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisTick.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisTick.prototype, \"width\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisTick.prototype, \"size\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], AxisTick.prototype, \"color\", 2);\n__decorateClass([\n  Validate(TICK_INTERVAL, { optional: true })\n], AxisTick.prototype, \"interval\", 2);\n__decorateClass([\n  Validate(ARRAY, { optional: true })\n], AxisTick.prototype, \"values\", 2);\n\n// packages/ag-charts-community/src/chart/chartAxisDirection.ts\nvar ChartAxisDirection = /* @__PURE__ */ ((ChartAxisDirection2) => {\n  ChartAxisDirection2[\"X\"] = \"x\";\n  ChartAxisDirection2[\"Y\"] = \"y\";\n  return ChartAxisDirection2;\n})(ChartAxisDirection || {});\n\n// packages/ag-charts-community/src/chart/chartOptions.ts\nvar JSON_APPLY_PLUGINS = {\n  constructedArrays: /* @__PURE__ */ new WeakMap()\n};\nfunction assignJsonApplyConstructedArray(array, ctor) {\n  var _a;\n  (_a = JSON_APPLY_PLUGINS.constructedArrays) == null ? void 0 : _a.set(array, ctor);\n}\n\n// packages/ag-charts-community/src/scale/continuousScale.ts\nvar _ContinuousScale = class _ContinuousScale {\n  constructor(domain, range3) {\n    this.invalid = true;\n    this.nice = false;\n    this.interval = void 0;\n    this.tickCount = _ContinuousScale.defaultTickCount;\n    this.minTickCount = 0;\n    this.maxTickCount = Infinity;\n    this.niceDomain = [];\n    this.defaultClampMode = \"raw\";\n    this.domain = domain;\n    this.range = range3;\n  }\n  static is(value) {\n    return value instanceof _ContinuousScale;\n  }\n  transform(x) {\n    return x;\n  }\n  transformInvert(x) {\n    return x;\n  }\n  calcBandwidth(smallestInterval = 1) {\n    const { range: range3 } = this;\n    const domain = this.getDomain();\n    const rangeDistance = Math.abs(range3[1] - range3[0]);\n    const intervals = Math.abs(domain[1] - domain[0]) / smallestInterval + 1;\n    const maxBands = Math.floor(rangeDistance);\n    const bands = Math.min(intervals, maxBands);\n    return rangeDistance / Math.max(1, bands);\n  }\n  getDomain() {\n    if (this.nice) {\n      this.refresh();\n      if (this.niceDomain.length) {\n        return this.niceDomain;\n      }\n    }\n    return this.domain;\n  }\n  convert(x, opts) {\n    var _a;\n    const clampMode = (_a = opts == null ? void 0 : opts.clampMode) != null ? _a : this.defaultClampMode;\n    if (!this.domain || this.domain.length < 2) {\n      return NaN;\n    }\n    this.refresh();\n    const domain = this.getDomain().map((d) => this.transform(d));\n    const [d0, d1] = domain;\n    const { range: range3 } = this;\n    const [r0, r1] = range3;\n    x = this.transform(x);\n    if (clampMode === \"clamped\") {\n      const [start, stop] = findMinMax(domain.map(Number));\n      if (Number(x) < start) {\n        return r0;\n      } else if (Number(x) > stop) {\n        return r1;\n      }\n    }\n    if (d0 === d1) {\n      return (r0 + r1) / 2;\n    } else if (x === d0) {\n      return r0;\n    } else if (x === d1) {\n      return r1;\n    }\n    return r0 + (Number(x) - Number(d0)) / (Number(d1) - Number(d0)) * (r1 - r0);\n  }\n  invert(x) {\n    this.refresh();\n    const domain = this.getDomain().map((d2) => this.transform(d2));\n    const [d0, d1] = domain;\n    const { range: range3 } = this;\n    const [r0, r1] = range3;\n    const isReversed = r0 > r1;\n    const rMin = isReversed ? r1 : r0;\n    const rMax = isReversed ? r0 : r1;\n    let d;\n    if (x < rMin) {\n      return isReversed ? d1 : d0;\n    } else if (x > rMax) {\n      return isReversed ? d0 : d1;\n    } else if (r0 === r1) {\n      d = this.toDomain((Number(d0) + Number(d1)) / 2);\n    } else {\n      d = this.toDomain(Number(d0) + (x - r0) / (r1 - r0) * (Number(d1) - Number(d0)));\n    }\n    return this.transformInvert(d);\n  }\n  refresh() {\n    if (!this.invalid)\n      return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n  getPixelRange() {\n    const [a, b] = this.range;\n    return Math.abs(b - a);\n  }\n};\n_ContinuousScale.defaultTickCount = 5;\n_ContinuousScale.defaultMaxTickCount = 6;\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"domain\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"range\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"nice\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"interval\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"tickCount\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"minTickCount\", 2);\n__decorateClass([\n  Invalidating\n], _ContinuousScale.prototype, \"maxTickCount\", 2);\nvar ContinuousScale = _ContinuousScale;\n\n// packages/ag-charts-community/src/util/timeFormat.ts\nvar CONSTANTS = {\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n  ],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n};\nfunction dayOfYear(date, startOfYear = new Date(date.getFullYear(), 0, 1)) {\n  const startOffset = date.getTimezoneOffset() - startOfYear.getTimezoneOffset();\n  const timeDiff = date.getTime() - startOfYear.getTime() + startOffset * 6e4;\n  const timeOneDay = 36e5 * 24;\n  return Math.floor(timeDiff / timeOneDay);\n}\nfunction weekOfYear(date, startDay) {\n  const startOfYear = new Date(date.getFullYear(), 0, 1);\n  const startOfYearDay = startOfYear.getDay();\n  const firstWeekStartOffset = (startDay - startOfYearDay + 7) % 7;\n  const startOffset = new Date(date.getFullYear(), 0, firstWeekStartOffset + 1);\n  if (startOffset <= date) {\n    return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n  }\n  return 0;\n}\nvar SUNDAY = 0;\nvar MONDAY = 1;\nvar THURSDAY = 4;\nfunction isoWeekOfYear(date, year2 = date.getFullYear()) {\n  const firstOfYear = new Date(year2, 0, 1);\n  const firstOfYearDay = firstOfYear.getDay();\n  const firstThursdayOffset = (THURSDAY - firstOfYearDay + 7) % 7;\n  const startOffset = new Date(year2, 0, firstThursdayOffset - (THURSDAY - MONDAY) + 1);\n  if (startOffset <= date) {\n    return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n  }\n  return isoWeekOfYear(date, year2 - 1);\n}\nfunction timezone(date) {\n  const offset4 = date.getTimezoneOffset();\n  const unsignedOffset = Math.abs(offset4);\n  const sign = offset4 > 0 ? \"-\" : \"+\";\n  return `${sign}${pad(Math.floor(unsignedOffset / 60), 2, \"0\")}${pad(Math.floor(unsignedOffset % 60), 2, \"0\")}`;\n}\nvar FORMATTERS = {\n  a: (d) => CONSTANTS.shortDays[d.getDay()],\n  A: (d) => CONSTANTS.days[d.getDay()],\n  b: (d) => CONSTANTS.shortMonths[d.getMonth()],\n  B: (d) => CONSTANTS.months[d.getMonth()],\n  c: \"%x, %X\",\n  d: (d, p) => pad(d.getDate(), 2, p != null ? p : \"0\"),\n  e: \"%_d\",\n  f: (d, p) => pad(d.getMilliseconds() * 1e3, 6, p != null ? p : \"0\"),\n  H: (d, p) => pad(d.getHours(), 2, p != null ? p : \"0\"),\n  I: (d, p) => {\n    const hours = d.getHours() % 12;\n    return hours === 0 ? \"12\" : pad(hours, 2, p != null ? p : \"0\");\n  },\n  j: (d, p) => pad(dayOfYear(d) + 1, 3, p != null ? p : \"0\"),\n  m: (d, p) => pad(d.getMonth() + 1, 2, p != null ? p : \"0\"),\n  M: (d, p) => pad(d.getMinutes(), 2, p != null ? p : \"0\"),\n  L: (d, p) => pad(d.getMilliseconds(), 3, p != null ? p : \"0\"),\n  p: (d) => d.getHours() < 12 ? \"AM\" : \"PM\",\n  Q: (d) => String(d.getTime()),\n  s: (d) => String(Math.floor(d.getTime() / 1e3)),\n  S: (d, p) => pad(d.getSeconds(), 2, p != null ? p : \"0\"),\n  u: (d) => {\n    let day2 = d.getDay();\n    if (day2 < 1)\n      day2 += 7;\n    return String(day2 % 7);\n  },\n  U: (d, p) => pad(weekOfYear(d, SUNDAY), 2, p != null ? p : \"0\"),\n  V: (d, p) => pad(isoWeekOfYear(d), 2, p != null ? p : \"0\"),\n  w: (d, p) => pad(d.getDay(), 2, p != null ? p : \"0\"),\n  W: (d, p) => pad(weekOfYear(d, MONDAY), 2, p != null ? p : \"0\"),\n  x: \"%-m/%-d/%Y\",\n  X: \"%-I:%M:%S %p\",\n  y: (d, p) => pad(d.getFullYear() % 100, 2, p != null ? p : \"0\"),\n  Y: (d, p) => pad(d.getFullYear(), 4, p != null ? p : \"0\"),\n  Z: (d) => timezone(d),\n  \"%\": () => \"%\"\n};\nvar PADS = {\n  _: \" \",\n  \"0\": \"0\",\n  \"-\": \"\"\n};\nfunction pad(value, size, padChar) {\n  const output = String(Math.floor(value));\n  if (output.length >= size) {\n    return output;\n  }\n  return `${padChar.repeat(size - output.length)}${output}`;\n}\nfunction buildFormatter(formatString) {\n  const formatParts = [];\n  while (formatString.length > 0) {\n    let nextEscapeIdx = formatString.indexOf(\"%\");\n    if (nextEscapeIdx !== 0) {\n      const literalPart = nextEscapeIdx > 0 ? formatString.substring(0, nextEscapeIdx) : formatString;\n      formatParts.push(literalPart);\n    }\n    if (nextEscapeIdx < 0)\n      break;\n    const maybePadSpecifier = formatString[nextEscapeIdx + 1];\n    const maybePad = PADS[maybePadSpecifier];\n    if (maybePad != null) {\n      nextEscapeIdx++;\n    }\n    const maybeFormatterSpecifier = formatString[nextEscapeIdx + 1];\n    const maybeFormatter = FORMATTERS[maybeFormatterSpecifier];\n    if (typeof maybeFormatter === \"function\") {\n      formatParts.push([maybeFormatter, maybePad]);\n    } else if (typeof maybeFormatter === \"string\") {\n      const formatter = buildFormatter(maybeFormatter);\n      formatParts.push([formatter, maybePad]);\n    } else {\n      formatParts.push(`${maybePad != null ? maybePad : \"\"}${maybeFormatterSpecifier}`);\n    }\n    formatString = formatString.substring(nextEscapeIdx + 2);\n  }\n  return (dateTime) => {\n    const dateTimeAsDate = typeof dateTime === \"number\" ? new Date(dateTime) : dateTime;\n    return formatParts.map((c) => typeof c === \"string\" ? c : c[0](dateTimeAsDate, c[1])).join(\"\");\n  };\n}\n\n// packages/ag-charts-community/src/util/timeFormatDefaults.ts\nfunction dateToNumber(x) {\n  return x instanceof Date ? x.getTime() : x;\n}\nfunction defaultTimeTickFormat(ticks, domain) {\n  const formatString = calculateDefaultTimeTickFormat(ticks, domain);\n  return (date) => buildFormatter(formatString)(date);\n}\nfunction calculateDefaultTimeTickFormat(ticks = [], domain = ticks) {\n  let defaultTimeFormat = 8 /* YEAR */;\n  const updateFormat = (format2) => {\n    if (format2 < defaultTimeFormat) {\n      defaultTimeFormat = format2;\n    }\n  };\n  for (const value of ticks) {\n    const format2 = getLowestGranularityFormat(value);\n    updateFormat(format2);\n  }\n  const startDomain = dateToNumber(domain[0]);\n  const endDomain = dateToNumber(domain.at(-1));\n  const startYear = new Date(startDomain).getFullYear();\n  const stopYear = new Date(endDomain).getFullYear();\n  const yearChange = stopYear - startYear > 0;\n  return formatStringBuilder(defaultTimeFormat, yearChange, ticks);\n}\nfunction getLowestGranularityFormat(value) {\n  if (second_default.floor(value) < value) {\n    return 0 /* MILLISECOND */;\n  } else if (minute_default.floor(value) < value) {\n    return 1 /* SECOND */;\n  } else if (hour_default.floor(value) < value) {\n    return 2 /* MINUTE */;\n  } else if (day_default.floor(value) < value) {\n    return 3 /* HOUR */;\n  } else if (month_default.floor(value) < value) {\n    if (week_default.floor(value) < value) {\n      return 4 /* WEEK_DAY */;\n    }\n    return 5 /* SHORT_MONTH */;\n  } else if (year_default.floor(value) < value) {\n    return 6 /* MONTH */;\n  }\n  return 8 /* YEAR */;\n}\nfunction formatStringBuilder(defaultTimeFormat, yearChange, ticks) {\n  const firstTick = dateToNumber(ticks[0]);\n  const lastTick = dateToNumber(ticks.at(-1));\n  const extent2 = Math.abs(lastTick - firstTick);\n  const activeYear = yearChange || defaultTimeFormat === 8 /* YEAR */;\n  const activeDate = extent2 === 0;\n  const parts = [\n    [\"hour\", 6 * durationHour, 14 * durationDay, 3 /* HOUR */, \"%I %p\"],\n    [\"hour\", durationMinute, 6 * durationHour, 3 /* HOUR */, \"%I:%M\"],\n    [\"second\", 1e3, 6 * durationHour, 1 /* SECOND */, \":%S\"],\n    [\"ms\", 0, 6 * durationHour, 0 /* MILLISECOND */, \".%L\"],\n    [\"am/pm\", durationMinute, 6 * durationHour, 3 /* HOUR */, \"%p\"],\n    \" \",\n    [\"day\", durationDay, 1 * durationWeek, 4 /* WEEK_DAY */, \"%a\"],\n    [\"month\", activeDate ? 0 : durationWeek, 52 * durationWeek, 5 /* SHORT_MONTH */, \"%b %d\"],\n    [\"month\", 5 * durationWeek, 10 * durationYear, 6 /* MONTH */, \"%B\"],\n    \" \",\n    [\"year\", activeYear ? 0 : durationYear, Infinity, 8 /* YEAR */, \"%Y\"]\n  ];\n  const formatParts = parts.filter((v) => {\n    if (typeof v === \"string\")\n      return true;\n    const [_, min, max, format2] = v;\n    return format2 >= defaultTimeFormat && min <= extent2 && extent2 < max;\n  }).reduce(\n    (r, next) => {\n      if (typeof next === \"string\") {\n        r.result.push(next);\n      } else if (!r.used.has(next[0])) {\n        r.result.push(next);\n        r.used.add(next[0]);\n      }\n      return r;\n    },\n    { result: [], used: /* @__PURE__ */ new Set() }\n  ).result;\n  const firstFormat = formatParts.findIndex((v) => typeof v !== \"string\");\n  const lastFormat = formatParts.length - [...formatParts].reverse().findIndex((v) => typeof v !== \"string\");\n  return formatParts.slice(firstFormat, lastFormat).map((v) => typeof v === \"string\" ? v : v[4]).join(\"\").replaceAll(/\\s+/g, \" \").trim();\n}\n\n// packages/ag-charts-community/src/util/ticks.ts\nvar createNumericTicks = (fractionDigits, takingValues = []) => Object.assign(takingValues, { fractionDigits });\nfunction ticks_default(start, stop, count, minCount, maxCount) {\n  if (count < 2) {\n    return range(start, stop, stop - start);\n  }\n  const step = tickStep(start, stop, count, minCount, maxCount);\n  if (isNaN(step)) {\n    return createNumericTicks(0);\n  }\n  start = Math.ceil(start / step) * step;\n  stop = Math.floor(stop / step) * step;\n  return range(start, stop, step);\n}\nvar tickMultipliers = [1, 2, 5, 10];\nfunction tickStep(a, b, count, minCount = 0, maxCount = Infinity) {\n  const extent2 = Math.abs(b - a);\n  const rawStep = extent2 / count;\n  const power = Math.floor(Math.log10(rawStep));\n  const step = Math.pow(10, power);\n  const m = tickMultipliers.map((multiplier) => {\n    const s = multiplier * step;\n    const c = Math.ceil(extent2 / s);\n    const isWithinBounds = c >= minCount && c <= maxCount;\n    const diffCount = Math.abs(c - count);\n    return { multiplier, isWithinBounds, diffCount };\n  }).sort((a2, b2) => {\n    if (a2.isWithinBounds !== b2.isWithinBounds) {\n      return a2.isWithinBounds ? -1 : 1;\n    }\n    return a2.diffCount - b2.diffCount;\n  })[0].multiplier;\n  if (!m || isNaN(m)) {\n    return NaN;\n  }\n  return m * step;\n}\nfunction singleTickDomain(a, b) {\n  const extent2 = Math.abs(b - a);\n  const power = Math.floor(Math.log10(extent2));\n  const step = Math.pow(10, power);\n  const roundStart = a > b ? Math.ceil : Math.floor;\n  const roundStop = b < a ? Math.floor : Math.ceil;\n  return tickMultipliers.map((multiplier) => {\n    const s = multiplier * step;\n    const start = roundStart(a / s) * s;\n    const end = roundStop(b / s) * s;\n    const error = 1 - extent2 / Math.abs(end - start);\n    const domain = [start, end];\n    return { error, domain };\n  }).sort((a2, b2) => a2.error - b2.error)[0].domain;\n}\nfunction range(start, stop, step) {\n  const d0 = Math.min(start, stop);\n  const d1 = Math.max(start, stop);\n  const fractionalDigits = countFractionDigits(step);\n  const f = Math.pow(10, fractionalDigits);\n  const n = Math.ceil((d1 - d0) / step);\n  const values = createNumericTicks(fractionalDigits);\n  for (let i = 0; i <= n; i++) {\n    const value = d0 + step * i;\n    values.push(Math.round(value * f) / f);\n  }\n  return values;\n}\nfunction isDenseInterval({\n  start,\n  stop,\n  interval,\n  count,\n  availableRange\n}) {\n  const domain = stop - start;\n  const step = typeof interval === \"number\" ? interval : 1;\n  count != null ? count : count = domain / step;\n  if (count >= availableRange) {\n    Logger.warnOnce(\n      `the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration`\n    );\n    return true;\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/scale/timeScale.ts\nvar _TimeScale = class _TimeScale extends ContinuousScale {\n  constructor() {\n    super([], [0, 1]);\n    this.type = \"time\";\n  }\n  toDomain(d) {\n    return new Date(d);\n  }\n  /**\n   * @param options Tick interval options.\n   * @param options.start The start time (timestamp).\n   * @param options.stop The end time (timestamp).\n   * @param options.count Number of intervals between ticks.\n   */\n  static getTickInterval({\n    start,\n    stop,\n    count,\n    minCount,\n    maxCount,\n    target\n  }) {\n    let countableTimeInterval;\n    let step;\n    const tickCount = count != null ? count : ContinuousScale.defaultTickCount;\n    const targetInterval = target != null ? target : Math.abs(stop - start) / Math.max(tickCount, 1);\n    const i = _TimeScale.getIntervalIndex(targetInterval);\n    if (i === 0) {\n      step = Math.max(tickStep(start, stop, tickCount, minCount, maxCount), 1);\n      countableTimeInterval = millisecond_default;\n    } else if (i === _TimeScale.tickIntervals.length) {\n      const y0 = start / durationYear;\n      const y1 = stop / durationYear;\n      step = target === void 0 ? tickStep(y0, y1, tickCount, minCount, maxCount) : 1;\n      countableTimeInterval = year_default;\n    } else {\n      const diff0 = targetInterval - _TimeScale.tickIntervals[i - 1][2];\n      const diff1 = _TimeScale.tickIntervals[i][2] - targetInterval;\n      const index = diff0 < diff1 ? i - 1 : i;\n      [countableTimeInterval, step] = _TimeScale.tickIntervals[index];\n    }\n    return countableTimeInterval.every(step);\n  }\n  static getIntervalIndex(target) {\n    let i = 0;\n    while (i < _TimeScale.tickIntervals.length && target > _TimeScale.tickIntervals[i][2]) {\n      i++;\n    }\n    return i;\n  }\n  invert(y) {\n    return new Date(super.invert(y));\n  }\n  /**\n   * Returns uniformly-spaced dates that represent the scale's domain.\n   */\n  ticks() {\n    if (!this.domain || this.domain.length < 2) {\n      return [];\n    }\n    this.refresh();\n    const [t0, t1] = this.getDomain().map(dateToNumber);\n    const start = Math.min(t0, t1);\n    const stop = Math.max(t0, t1);\n    const { interval, nice, tickCount, minTickCount, maxTickCount } = this;\n    if (interval !== void 0) {\n      const availableRange = this.getPixelRange();\n      const ticks = _TimeScale.getTicksForInterval({ start, stop, interval, availableRange });\n      return ticks != null ? ticks : _TimeScale.getDefaultTicks({ start, stop, tickCount, minTickCount, maxTickCount });\n    }\n    if (nice) {\n      if (tickCount === 2) {\n        return this.niceDomain;\n      }\n      if (tickCount === 1) {\n        return this.niceDomain.slice(0, 1);\n      }\n    }\n    return _TimeScale.getDefaultTicks({ start, stop, tickCount, minTickCount, maxTickCount });\n  }\n  static getDefaultTicks({\n    start,\n    stop,\n    tickCount,\n    minTickCount,\n    maxTickCount\n  }) {\n    const t = _TimeScale.getTickInterval({\n      start,\n      stop,\n      count: tickCount,\n      minCount: minTickCount,\n      maxCount: maxTickCount\n    });\n    return t ? t.range(new Date(start), new Date(stop)) : [];\n  }\n  static getTicksForInterval({\n    start,\n    stop,\n    interval,\n    availableRange\n  }) {\n    if (!interval) {\n      return [];\n    }\n    if (interval instanceof TimeInterval) {\n      const ticks2 = interval.range(new Date(start), new Date(stop));\n      if (isDenseInterval({ start, stop, interval, count: ticks2.length, availableRange })) {\n        return;\n      }\n      return ticks2;\n    }\n    const absInterval = Math.abs(interval);\n    if (isDenseInterval({ start, stop, interval: absInterval, availableRange })) {\n      return;\n    }\n    const reversedInterval = [..._TimeScale.tickIntervals];\n    reversedInterval.reverse();\n    const timeInterval = reversedInterval.find((tickInterval) => absInterval % tickInterval[2] === 0);\n    if (timeInterval) {\n      const i = timeInterval[0].every(absInterval / (timeInterval[2] / timeInterval[1]));\n      return i.range(new Date(start), new Date(stop));\n    }\n    let date = new Date(start);\n    const stopDate = new Date(stop);\n    const ticks = [];\n    while (date <= stopDate) {\n      ticks.push(date);\n      date = new Date(date);\n      date.setMilliseconds(date.getMilliseconds() + absInterval);\n    }\n    return ticks;\n  }\n  /**\n   * Returns a time format function suitable for displaying tick values.\n   * @param specifier If the specifier string is provided, this method is equivalent to\n   * the {@link TimeLocaleObject.format} method.\n   * If no specifier is provided, this method returns the default time format function.\n   */\n  tickFormat({\n    ticks,\n    domain,\n    specifier\n  }) {\n    return specifier == null ? defaultTimeTickFormat(ticks, domain) : buildFormatter(specifier);\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  /**\n   * Extends the domain so that it starts and ends on nice round values.\n   * This method typically modifies the scales domain, and may only extend the bounds to the nearest round value.\n   */\n  updateNiceDomain() {\n    const maxAttempts = 4;\n    let [d0, d1] = this.domain;\n    for (let i = 0; i < maxAttempts; i++) {\n      this.updateNiceDomainIteration(d0, d1);\n      const [n0, n1] = this.niceDomain;\n      if (dateToNumber(d0) === dateToNumber(n0) && dateToNumber(d1) === dateToNumber(n1)) {\n        break;\n      }\n      d0 = n0;\n      d1 = n1;\n    }\n  }\n  updateNiceDomainIteration(d0, d1) {\n    const start = Math.min(dateToNumber(d0), dateToNumber(d1));\n    const stop = Math.max(dateToNumber(d0), dateToNumber(d1));\n    const isReversed = d0 > d1;\n    const { interval } = this;\n    let i;\n    if (interval instanceof TimeInterval) {\n      i = interval;\n    } else {\n      const tickCount = typeof interval === \"number\" ? (stop - start) / Math.max(interval, 1) : this.tickCount;\n      i = _TimeScale.getTickInterval({\n        start,\n        stop,\n        count: tickCount,\n        minCount: this.minTickCount,\n        maxCount: this.maxTickCount\n      });\n    }\n    if (i) {\n      const intervalRange = i.range(new Date(start), new Date(stop), true);\n      const domain = isReversed ? [...intervalRange].reverse() : intervalRange;\n      const n0 = domain[0];\n      const n1 = domain.at(-1);\n      this.niceDomain = [n0, n1];\n    }\n  }\n};\n/**\n * Array of default tick intervals in the following format:\n *\n *     [\n *         interval (unit of time),\n *         number of units (step),\n *         the length of that number of units in milliseconds\n *     ]\n */\n_TimeScale.tickIntervals = [\n  [second_default, 1, durationSecond],\n  [second_default, 5, 5 * durationSecond],\n  [second_default, 15, 15 * durationSecond],\n  [second_default, 30, 30 * durationSecond],\n  [minute_default, 1, durationMinute],\n  [minute_default, 5, 5 * durationMinute],\n  [minute_default, 15, 15 * durationMinute],\n  [minute_default, 30, 30 * durationMinute],\n  [hour_default, 1, durationHour],\n  [hour_default, 3, 3 * durationHour],\n  [hour_default, 6, 6 * durationHour],\n  [hour_default, 12, 12 * durationHour],\n  [day_default, 1, durationDay],\n  [day_default, 2, 2 * durationDay],\n  [week_default, 1, durationWeek],\n  [week_default, 2, 2 * durationWeek],\n  [week_default, 3, 3 * durationWeek],\n  [month_default, 1, durationMonth],\n  [month_default, 2, 2 * durationMonth],\n  [month_default, 3, 3 * durationMonth],\n  [month_default, 4, 4 * durationMonth],\n  [month_default, 6, 6 * durationMonth],\n  [year_default, 1, durationYear]\n];\nvar TimeScale = _TimeScale;\n\n// packages/ag-charts-community/src/scale/ordinalTimeScale.ts\nvar _OrdinalTimeScale = class _OrdinalTimeScale extends BandScale {\n  constructor() {\n    super(...arguments);\n    this.type = \"ordinal-time\";\n    this.tickCount = ContinuousScale.defaultTickCount;\n    this.minTickCount = 0;\n    this.maxTickCount = Infinity;\n    this.interval = void 0;\n    this.index = /* @__PURE__ */ new Map();\n    /**\n     * Contains unique datums only. Since `{}` is used in place of `Map`\n     * for IE11 compatibility, the datums are converted `toString` before\n     * the uniqueness check.\n     */\n    this._domain = [];\n  }\n  static is(value) {\n    return value instanceof _OrdinalTimeScale;\n  }\n  toDomain(d) {\n    return new Date(d);\n  }\n  set domain(values) {\n    this.invalid = true;\n    if (values.length === 0) {\n      this._domain = [];\n      return;\n    }\n    const domain = this.updateIndex(values);\n    this._domain = domain;\n  }\n  get domain() {\n    return this._domain;\n  }\n  updateIndex(values) {\n    this.index = /* @__PURE__ */ new Map();\n    const { index } = this;\n    const domain = [];\n    const extents = [];\n    const isReversed = values[0] > values.at(-1);\n    const indexShift = isReversed ? 0 : 1;\n    values.forEach((value, i2) => {\n      const nextValue = values[i2 + 1];\n      const e02 = isReversed ? value : this.toDomain(dateToNumber(value) + 1);\n      const e12 = isReversed ? this.toDomain(dateToNumber(nextValue) + 1) : nextValue;\n      const dateRange2 = isReversed ? [e12, e02] : [e02, e12];\n      domain.push(value);\n      if (nextValue !== void 0 && index.get(dateRange2) === void 0) {\n        extents.push(Math.abs(dateToNumber(e12) - dateToNumber(e02)));\n        index.set(dateRange2, i2 + indexShift);\n      }\n    });\n    extents.sort((a, b) => a - b);\n    const bands = extents.length;\n    const middleIndex = Math.floor(bands / 2);\n    this.medianInterval = bands > 2 && bands % 2 === 0 ? (extents[middleIndex - 1] + extents[middleIndex + 1]) / 2 : extents[middleIndex];\n    const intervalIndex = Math.max(0, TimeScale.getIntervalIndex(this.medianInterval) - 1);\n    const [countableTimeInterval, step] = TimeScale.tickIntervals[intervalIndex];\n    const interval = countableTimeInterval.every(step);\n    const i = isReversed ? values.length - 1 : 0;\n    const e1 = values[i];\n    const e0 = interval.floor(values[i]);\n    const dateRange = [e0, e1];\n    index.set(dateRange, i);\n    return domain;\n  }\n  ticks() {\n    if (!this.domain) {\n      return [];\n    }\n    this.refresh();\n    const [t0, t1] = [dateToNumber(this.domain[0]), dateToNumber(this.domain.at(-1))];\n    const start = Math.min(t0, t1);\n    const stop = Math.max(t0, t1);\n    const isReversed = t0 > t1;\n    let ticks;\n    if (this.interval !== void 0) {\n      ticks = this.getTicksForInterval({ start, stop, interval: this.interval });\n    }\n    const n = this.domain.length;\n    const { maxTickCount, tickCount } = this;\n    let { minTickCount } = this;\n    let medianInterval;\n    if (isFinite(maxTickCount) && n <= maxTickCount) {\n      minTickCount = Math.max(1, n);\n      medianInterval = this.medianInterval;\n    }\n    ticks != null ? ticks : ticks = this.getDefaultTicks({\n      start,\n      stop,\n      tickCount,\n      minTickCount,\n      maxTickCount,\n      isReversed,\n      interval: medianInterval\n    });\n    const tickPositions = /* @__PURE__ */ new Set();\n    return ticks.filter((tick) => {\n      const position = this.convert(tick);\n      if (isNaN(position) || tickPositions.has(position)) {\n        return false;\n      }\n      tickPositions.add(position);\n      return true;\n    });\n  }\n  getDefaultTicks({\n    start,\n    stop,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    isReversed,\n    interval\n  }) {\n    const tickInterval = TimeScale.getTickInterval({\n      start,\n      stop,\n      count: tickCount,\n      minCount: minTickCount,\n      maxCount: maxTickCount,\n      target: interval\n    });\n    if (!tickInterval) {\n      return [];\n    }\n    const tickEvery = Math.ceil(this.domain.length / maxTickCount);\n    const ticks = [];\n    for (const [dateRange, index] of this.index.entries()) {\n      if (index % tickEvery > 0) {\n        continue;\n      }\n      const tick = isReversed ? tickInterval.ceil(dateRange[0]) : tickInterval.floor(dateRange[1]);\n      ticks.splice(index, 0, tick);\n    }\n    return ticks;\n  }\n  getTicksForInterval({\n    start,\n    stop,\n    interval\n  }) {\n    var _a;\n    const [r0, r1] = this.range;\n    const availableRange = Math.abs(r1 - r0);\n    return (_a = TimeScale.getTicksForInterval({ start, stop, interval, availableRange })) != null ? _a : [];\n  }\n  convert(d) {\n    if (typeof d === \"number\") {\n      d = new Date(d);\n    }\n    if (!(d instanceof Date)) {\n      return NaN;\n    }\n    this.refresh();\n    let i;\n    for (const [dateRange, index] of this.index.entries()) {\n      if (d >= dateRange[0] && d <= dateRange[1]) {\n        i = index;\n        break;\n      }\n    }\n    if (i === void 0) {\n      return NaN;\n    }\n    const r = this.ordinalRange[i];\n    if (r === void 0) {\n      return NaN;\n    }\n    return r;\n  }\n  /**\n   * Returns a time format function suitable for displaying tick values.\n   * @param specifier If the specifier string is provided, this method is equivalent to\n   * the {@link TimeLocaleObject.format} method.\n   * If no specifier is provided, this method returns the default time format function.\n   */\n  tickFormat({\n    ticks,\n    domain,\n    specifier\n  }) {\n    return specifier == null ? defaultTimeTickFormat(ticks, domain) : buildFormatter(specifier);\n  }\n  invert(y) {\n    return new Date(super.invert(y));\n  }\n  invertNearest(y) {\n    return new Date(super.invertNearest(y));\n  }\n};\n__decorateClass([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"tickCount\", 2);\n__decorateClass([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"minTickCount\", 2);\n__decorateClass([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"maxTickCount\", 2);\n__decorateClass([\n  Invalidating\n], _OrdinalTimeScale.prototype, \"interval\", 2);\nvar OrdinalTimeScale = _OrdinalTimeScale;\n\n// packages/ag-charts-community/src/util/compare.ts\nfunction ascendingStringNumberUndefined(a, b) {\n  if (typeof a === \"number\" && typeof b === \"number\") {\n    return a - b;\n  } else if (typeof a === \"string\" && typeof b === \"string\") {\n    return a.localeCompare(b);\n  } else if (a == null && b == null) {\n    return 0;\n  } else if (a == null) {\n    return -1;\n  } else if (b == null) {\n    return 1;\n  }\n  return String(a).localeCompare(String(b));\n}\nfunction toLiteral(v) {\n  return typeof v === \"function\" ? v() : v;\n}\nfunction compoundAscending(a, b, comparator) {\n  for (const idx in a) {\n    const diff2 = comparator(toLiteral(a[idx]), toLiteral(b[idx]));\n    if (diff2 !== 0) {\n      return diff2;\n    }\n  }\n  return 0;\n}\n\n// packages/ag-charts-community/src/scene/group.ts\nvar _Group = class _Group extends Node {\n  constructor(opts) {\n    var _a;\n    super({ isVirtual: opts == null ? void 0 : opts.isVirtual });\n    this.opts = opts;\n    this.opacity = 1;\n    this.lastBBox = void 0;\n    const { zIndex, zIndexSubOrder } = opts != null ? opts : {};\n    this.isContainerNode = true;\n    if (zIndex !== void 0) {\n      this.zIndex = zIndex;\n    }\n    if (zIndexSubOrder !== void 0) {\n      this.zIndexSubOrder = zIndexSubOrder;\n    }\n    this.name = (_a = this.opts) == null ? void 0 : _a.name;\n  }\n  static is(value) {\n    return value instanceof _Group;\n  }\n  onZIndexChange() {\n    var _a;\n    super.onZIndexChange();\n    if (this.layer) {\n      (_a = this._layerManager) == null ? void 0 : _a.moveLayer(this.layer, this.zIndex, this.zIndexSubOrder);\n    }\n  }\n  isLayer() {\n    return this.layer != null;\n  }\n  _setLayerManager(layersManager) {\n    if (this._layerManager && this.layer) {\n      this._layerManager.removeLayer(this.layer);\n      this.layer = void 0;\n    }\n    if (this.layer) {\n      throw new Error(\"AG Charts - unable to deregister scene rendering layer!\");\n    }\n    super._setLayerManager(layersManager);\n  }\n  initialiseLayer() {\n    var _a;\n    if (this.layer)\n      return;\n    if (!this._layerManager || ((_a = this.opts) == null ? void 0 : _a.layer) !== true)\n      return;\n    this.layer = this._layerManager.addLayer({\n      name: this.name,\n      zIndex: this.zIndex,\n      zIndexSubOrder: this.zIndexSubOrder,\n      getComputedOpacity: () => this.getComputedOpacity(),\n      getVisibility: () => this.getVisibility()\n    });\n  }\n  getComputedOpacity() {\n    let opacity = 1;\n    for (const node of this.traverseUp()) {\n      if (node instanceof _Group) {\n        opacity *= node.opacity;\n      }\n    }\n    return opacity;\n  }\n  getVisibility() {\n    for (const node of this.traverseUp()) {\n      if (!node.visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n  onVisibleChange() {\n    if (this.layer) {\n      this.layer.enabled = this.visible;\n    }\n  }\n  markDirty(source, type = 1 /* TRIVIAL */) {\n    if (this.isVirtual) {\n      super.markDirty(source, type);\n      return;\n    }\n    let parentType = type;\n    if (type < 2 /* MINOR */ || this.layer != null) {\n      parentType = 1 /* TRIVIAL */;\n    }\n    super.markDirty(source, type, parentType);\n  }\n  // We consider a group to be boundless, thus any point belongs to it.\n  containsPoint(_x, _y) {\n    return true;\n  }\n  computeBBox() {\n    this.computeTransformMatrix();\n    return _Group.computeBBox(this.children);\n  }\n  computeTransformedBBox() {\n    return this.computeBBox();\n  }\n  preRender() {\n    var _a, _b;\n    const counts = super.preRender();\n    counts.groups += 1;\n    counts.nonGroups -= 1;\n    if (((_a = this.opts) == null ? void 0 : _a.layer) !== true || this.layer != null)\n      return counts;\n    if (counts.nonGroups > 0) {\n      this.initialiseLayer();\n    }\n    if (((_b = this.opts) == null ? void 0 : _b.nonEmptyChildDerivedZIndex) && counts.nonGroups > 0) {\n      this.deriveZIndexFromChildren();\n    }\n    return counts;\n  }\n  deriveZIndexFromChildren() {\n    var _a;\n    const children = this.children.filter((c) => c._childNodeCounts.nonGroups > 0);\n    this.sortChildren(children);\n    const lastChild = children.at(-1);\n    this.zIndex = (_a = lastChild == null ? void 0 : lastChild.zIndex) != null ? _a : -Infinity;\n    this.zIndexSubOrder = lastChild == null ? void 0 : lastChild.zIndexSubOrder;\n  }\n  render(renderCtx) {\n    var _a, _b;\n    const { opts: { name = void 0 } = {}, _debug: debug3 } = this;\n    const { dirty, dirtyZIndex, layer, children, clipRect, dirtyTransform } = this;\n    let { ctx, forceRender, clipBBox } = renderCtx;\n    const { resized, stats } = renderCtx;\n    const canvasCtxTransform = ctx.getTransform();\n    const isDirty = dirty >= 2 /* MINOR */ || dirtyZIndex || resized;\n    let isChildDirty = isDirty;\n    let isChildLayerDirty = false;\n    for (const child of children) {\n      isChildDirty || (isChildDirty = child.layerManager == null && child.dirty >= 1 /* TRIVIAL */);\n      isChildLayerDirty || (isChildLayerDirty = child.layerManager != null && child.dirty >= 1 /* TRIVIAL */);\n      if (isChildDirty) {\n        break;\n      }\n    }\n    if (name) {\n      debug3 == null ? void 0 : debug3({ name, group: this, isDirty, isChildDirty, dirtyTransform, renderCtx, forceRender });\n    }\n    if (dirtyTransform) {\n      forceRender = \"dirtyTransform\";\n    } else if (layer) {\n      const currentBBox = this.computeBBox();\n      if (this.lastBBox === void 0 || !this.lastBBox.equals(currentBBox)) {\n        forceRender = \"dirtyTransform\";\n        this.lastBBox = currentBBox;\n      }\n    }\n    if (!isDirty && !isChildDirty && !isChildLayerDirty && !forceRender) {\n      if (name && stats) {\n        debug3 == null ? void 0 : debug3({ name, result: \"skipping\", renderCtx, counts: this.nodeCount, group: this });\n      }\n      if (layer && stats) {\n        stats.layersSkipped++;\n        stats.nodesSkipped += this.nodeCount.count;\n      }\n      this.markClean({ recursive: false });\n      return;\n    }\n    const groupVisible = this.visible;\n    if (layer) {\n      ctx = layer.context;\n      ctx.save();\n      ctx.setTransform(layer.pixelRatio, 0, 0, layer.pixelRatio, 0, 0);\n      if (forceRender !== \"dirtyTransform\") {\n        forceRender = isChildDirty || dirtyZIndex;\n      }\n      if (forceRender)\n        layer.clear();\n      if (clipBBox) {\n        const { width, height, x, y } = clipBBox;\n        debug3 == null ? void 0 : debug3(() => ({\n          name,\n          clipBBox,\n          ctxTransform: ctx.getTransform(),\n          renderCtx,\n          group: this\n        }));\n        ctx.beginPath();\n        ctx.rect(x, y, width, height);\n        ctx.clip();\n      }\n      ctx.setTransform(canvasCtxTransform);\n    } else {\n      ctx.globalAlpha *= this.opacity;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    if (clipRect) {\n      const { x, y, width, height } = clipRect;\n      ctx.save();\n      debug3 == null ? void 0 : debug3(() => ({ name, clipRect, ctxTransform: ctx.getTransform(), renderCtx, group: this }));\n      ctx.beginPath();\n      ctx.rect(x, y, width, height);\n      ctx.clip();\n      clipBBox = this.matrix.transformBBox(clipRect);\n    }\n    const hasVirtualChildren = this.hasVirtualChildren();\n    if (dirtyZIndex) {\n      this.sortChildren(children);\n      if (forceRender !== \"dirtyTransform\")\n        forceRender = true;\n    } else if (hasVirtualChildren) {\n      this.sortChildren(children);\n    }\n    const renderContextChanged = forceRender !== renderCtx.forceRender || clipBBox !== renderCtx.clipBBox || ctx !== renderCtx.ctx;\n    const childRenderContext = renderContextChanged ? __spreadProps(__spreadValues({}, renderCtx), { ctx, forceRender, clipBBox }) : renderCtx;\n    let skipped = 0;\n    for (const child of children) {\n      if (!child.visible || !groupVisible) {\n        child.markClean();\n        if (stats)\n          skipped += child.nodeCount.count;\n        continue;\n      }\n      if (!forceRender && child.dirty === 0 /* NONE */) {\n        if (stats)\n          skipped += child.nodeCount.count;\n        continue;\n      }\n      ctx.save();\n      child.render(childRenderContext);\n      ctx.restore();\n    }\n    if (stats)\n      stats.nodesSkipped += skipped;\n    super.render(renderCtx);\n    if (clipRect) {\n      ctx.restore();\n    }\n    if (hasVirtualChildren) {\n      for (const child of this.virtualChildren) {\n        child.markClean({ recursive: \"virtual\" });\n      }\n    }\n    if (layer) {\n      if (stats)\n        stats.layersRendered++;\n      ctx.restore();\n      if (forceRender)\n        layer.snapshot();\n      (_b = (_a = layer.context).verifyDepthZero) == null ? void 0 : _b.call(_a);\n    }\n    if (name && stats) {\n      debug3 == null ? void 0 : debug3({ name, result: \"rendered\", skipped, renderCtx, counts: this.nodeCount, group: this });\n    }\n  }\n  sortChildren(children) {\n    this.dirtyZIndex = false;\n    children.sort(\n      (a, b) => {\n        var _a, _b;\n        return compoundAscending(\n          [a.zIndex, ...(_a = a.zIndexSubOrder) != null ? _a : [void 0, void 0], a.serialNumber],\n          [b.zIndex, ...(_b = b.zIndexSubOrder) != null ? _b : [void 0, void 0], b.serialNumber],\n          ascendingStringNumberUndefined\n        );\n      }\n    );\n  }\n  static computeBBox(nodes) {\n    let left = Infinity;\n    let right = -Infinity;\n    let top = Infinity;\n    let bottom = -Infinity;\n    for (const n of nodes) {\n      if (!n.visible)\n        continue;\n      const bbox = n.computeTransformedBBox();\n      if (!bbox)\n        continue;\n      const { x, y, width, height } = bbox;\n      if (x < left) {\n        left = x;\n      }\n      if (y < top) {\n        top = y;\n      }\n      if (x + width > right) {\n        right = x + width;\n      }\n      if (y + height > bottom) {\n        bottom = y + height;\n      }\n    }\n    return new BBox(left, top, right - left, bottom - top);\n  }\n  /**\n   * Transforms bbox given in the canvas coordinate space to bbox in this group's coordinate space and\n   * sets this group's clipRect to the transformed bbox.\n   * @param bbox clipRect bbox in the canvas coordinate space.\n   */\n  setClipRectInGroupCoordinateSpace(bbox) {\n    this.clipRect = bbox ? this.transformBBox(bbox) : void 0;\n  }\n};\n_Group.className = \"Group\";\n__decorateClass([\n  SceneChangeDetection({\n    redraw: 3 /* MAJOR */,\n    convertor: (v) => clamp(0, v, 1)\n  })\n], _Group.prototype, \"opacity\", 2);\nvar Group = _Group;\n\n// packages/ag-charts-community/src/scene/gradient/gradient.ts\nvar Gradient = class {\n  constructor(stops = []) {\n    this.stops = stops;\n  }\n};\n\n// packages/ag-charts-community/src/scene/gradient/linearGradient.ts\nvar LinearGradient = class extends Gradient {\n  constructor(stops, angle = 0) {\n    super(stops);\n    this.angle = angle;\n  }\n  createGradient(ctx, bbox) {\n    const angleOffset = 90;\n    const { stops, angle } = this;\n    const radians = normalizeAngle360(toRadians(angle + angleOffset));\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    const w = bbox.width;\n    const h = bbox.height;\n    const cx = bbox.x + w * 0.5;\n    const cy = bbox.y + h * 0.5;\n    if (w > 0 && h > 0) {\n      const diagonal = Math.sqrt(h * h + w * w) / 2;\n      const diagonalAngle = Math.atan2(h, w);\n      let quarteredAngle;\n      if (radians < Math.PI / 2) {\n        quarteredAngle = radians;\n      } else if (radians < Math.PI) {\n        quarteredAngle = Math.PI - radians;\n      } else if (radians < 1.5 * Math.PI) {\n        quarteredAngle = radians - Math.PI;\n      } else {\n        quarteredAngle = 2 * Math.PI - radians;\n      }\n      const l = diagonal * Math.abs(Math.cos(quarteredAngle - diagonalAngle));\n      const gradient = ctx.createLinearGradient(cx + cos * l, cy + sin * l, cx - cos * l, cy - sin * l);\n      for (const stop of stops) {\n        gradient.addColorStop(stop.offset, stop.color);\n      }\n      return gradient;\n    }\n    return \"black\";\n  }\n};\n\n// packages/ag-charts-community/src/scene/shape/shape.ts\nvar LINEAR_GRADIENT_REGEXP = /^linear-gradient\\((.*?)deg,\\s*(.*?)\\s*\\)$/i;\nvar _Shape = class _Shape extends Node {\n  constructor() {\n    super(...arguments);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.fill = _Shape.defaultStyles.fill;\n    this.stroke = _Shape.defaultStyles.stroke;\n    this.strokeWidth = _Shape.defaultStyles.strokeWidth;\n    this.lineDash = _Shape.defaultStyles.lineDash;\n    this.lineDashOffset = _Shape.defaultStyles.lineDashOffset;\n    this.lineCap = _Shape.defaultStyles.lineCap;\n    this.lineJoin = _Shape.defaultStyles.lineJoin;\n    this.opacity = _Shape.defaultStyles.opacity;\n    this.fillShadow = _Shape.defaultStyles.fillShadow;\n  }\n  /**\n   * Restores the default styles introduced by this subclass.\n   */\n  restoreOwnStyles() {\n    const { defaultStyles } = this.constructor;\n    Object.assign(this, defaultStyles);\n  }\n  onFillChange() {\n    const { fill } = this;\n    let linearGradientMatch;\n    if ((fill == null ? void 0 : fill.startsWith(\"linear-gradient\")) && (linearGradientMatch = LINEAR_GRADIENT_REGEXP.exec(fill))) {\n      const angle = parseFloat(linearGradientMatch[1]);\n      const colors = [];\n      const colorsPart = linearGradientMatch[2];\n      const colorRegex = /(#[0-9a-f]+)|(rgba?\\(.+?\\))|([a-z]+)/gi;\n      let c;\n      while (c = colorRegex.exec(colorsPart)) {\n        colors.push(c[0]);\n      }\n      this.gradient = new LinearGradient(\n        colors.map((color, index) => ({ color, offset: index / (colors.length - 1) })),\n        angle\n      );\n    } else {\n      this.gradient = void 0;\n    }\n  }\n  /**\n   * Returns a device-pixel aligned coordinate (or length if length is supplied).\n   *\n   * NOTE: Not suitable for strokes, since the stroke needs to be offset to the middle\n   * of a device pixel.\n   */\n  align(start, length) {\n    var _a, _b, _c;\n    const pixelRatio = (_c = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas) == null ? void 0 : _b.pixelRatio) != null ? _c : 1;\n    const alignedStart = Math.round(start * pixelRatio) / pixelRatio;\n    if (length == null) {\n      return alignedStart;\n    } else if (length === 0) {\n      return 0;\n    } else if (length < 1) {\n      return Math.ceil(length * pixelRatio) / pixelRatio;\n    }\n    return Math.round((length + start) * pixelRatio) / pixelRatio - alignedStart;\n  }\n  fillStroke(ctx, path) {\n    this.renderFill(ctx, path);\n    this.renderStroke(ctx, path);\n  }\n  renderFill(ctx, path) {\n    if (this.fill) {\n      const { globalAlpha } = ctx;\n      this.applyFill(ctx);\n      this.applyFillAlpha(ctx);\n      this.applyShadow(ctx);\n      this.executeFill(ctx, path);\n      ctx.globalAlpha = globalAlpha;\n    }\n    ctx.shadowColor = \"rgba(0, 0, 0, 0)\";\n  }\n  executeFill(ctx, path) {\n    path ? ctx.fill(path) : ctx.fill();\n  }\n  applyFill(ctx) {\n    var _a, _b;\n    ctx.fillStyle = (_b = (_a = this.gradient) == null ? void 0 : _a.createGradient(ctx, this.computeBBox())) != null ? _b : this.fill;\n  }\n  applyFillAlpha(ctx) {\n    ctx.globalAlpha *= this.opacity * this.fillOpacity;\n  }\n  applyShadow(ctx) {\n    var _a, _b;\n    const pixelRatio = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas.pixelRatio) != null ? _b : 1;\n    const fillShadow = this.fillShadow;\n    if (fillShadow == null ? void 0 : fillShadow.enabled) {\n      ctx.shadowColor = fillShadow.color;\n      ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n      ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n      ctx.shadowBlur = fillShadow.blur * pixelRatio;\n    }\n  }\n  renderStroke(ctx, path) {\n    if (this.stroke && this.strokeWidth) {\n      const { globalAlpha } = ctx;\n      ctx.strokeStyle = this.stroke;\n      ctx.globalAlpha *= this.opacity * this.strokeOpacity;\n      ctx.lineWidth = this.strokeWidth;\n      if (this.lineDash) {\n        ctx.setLineDash(this.lineDash);\n      }\n      if (this.lineDashOffset) {\n        ctx.lineDashOffset = this.lineDashOffset;\n      }\n      if (this.lineCap) {\n        ctx.lineCap = this.lineCap;\n      }\n      if (this.lineJoin) {\n        ctx.lineJoin = this.lineJoin;\n      }\n      this.executeStroke(ctx, path);\n      ctx.globalAlpha = globalAlpha;\n    }\n  }\n  executeStroke(ctx, path) {\n    path ? ctx.stroke(path) : ctx.stroke();\n  }\n  containsPoint(x, y) {\n    return this.isPointInPath(x, y);\n  }\n};\n/**\n * Defaults for style properties. Note that properties that affect the position\n * and shape of the node are not considered style properties, for example:\n * `x`, `y`, `width`, `height`, `radius`, `rotation`, etc.\n * Can be used to reset to the original styling after some custom styling\n * has been applied (using the `restoreOwnStyles` method).\n * These static defaults are meant to be inherited by subclasses.\n */\n_Shape.defaultStyles = {\n  fill: \"black\",\n  stroke: void 0,\n  strokeWidth: 0,\n  lineDash: void 0,\n  lineDashOffset: 0,\n  lineCap: void 0,\n  lineJoin: void 0,\n  opacity: 1,\n  fillShadow: void 0\n};\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */, changeCb: (s) => s.onFillChange() })\n], _Shape.prototype, \"fill\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"stroke\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"lineDash\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"lineCap\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], _Shape.prototype, \"lineJoin\", 2);\n__decorateClass([\n  SceneChangeDetection({\n    redraw: 2 /* MINOR */,\n    convertor: (v) => clamp(0, v, 1)\n  })\n], _Shape.prototype, \"opacity\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */, checkDirtyOnAssignment: true })\n], _Shape.prototype, \"fillShadow\", 2);\nvar Shape = _Shape;\n\n// packages/ag-charts-community/src/scene/shape/range.ts\nvar Range = class extends Shape {\n  constructor(opts = {}) {\n    super(opts);\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.startLine = false;\n    this.endLine = false;\n    this.isRange = false;\n    this.restoreOwnStyles();\n  }\n  computeBBox() {\n    return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n  }\n  isPointInPath(_x, _y) {\n    return false;\n  }\n  render(renderCtx) {\n    var _a;\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    let { x1, y1, x2, y2 } = this;\n    x1 = this.align(x1);\n    y1 = this.align(y1);\n    x2 = this.align(x2);\n    y2 = this.align(y2);\n    const { fill, opacity, isRange } = this;\n    const fillActive = !!(isRange && fill);\n    if (fillActive) {\n      const { fillOpacity } = this;\n      ctx.fillStyle = fill;\n      ctx.globalAlpha = opacity * fillOpacity;\n      ctx.beginPath();\n      ctx.moveTo(x1, y1);\n      ctx.lineTo(x2, y1);\n      ctx.lineTo(x2, y2);\n      ctx.lineTo(x1, y2);\n      ctx.closePath();\n      ctx.fill();\n    }\n    const { stroke, strokeWidth, startLine, endLine } = this;\n    const strokeActive = !!((startLine || endLine) && stroke && strokeWidth);\n    if (strokeActive) {\n      const { strokeOpacity, lineDash, lineDashOffset, lineCap, lineJoin } = this;\n      ctx.strokeStyle = stroke;\n      ctx.globalAlpha = opacity * strokeOpacity;\n      ctx.lineWidth = strokeWidth;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      ctx.beginPath();\n      if (startLine) {\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y1);\n      }\n      if (endLine) {\n        ctx.moveTo(x2, y2);\n        ctx.lineTo(x1, y2);\n      }\n      ctx.stroke();\n    }\n    (_a = this.fillShadow) == null ? void 0 : _a.markClean();\n    super.render(renderCtx);\n  }\n};\nRange.className = \"Range\";\nRange.defaultStyles = __spreadProps(__spreadValues({}, Shape.defaultStyles), {\n  strokeWidth: 1\n});\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"x1\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"y1\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"x2\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"y2\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"startLine\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"endLine\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 2 /* MINOR */ })\n], Range.prototype, \"isRange\", 2);\n\n// packages/ag-charts-community/src/util/memo.ts\nvar memorizedFns = /* @__PURE__ */ new WeakMap();\nvar memorizedMap = /* @__PURE__ */ new WeakMap();\nfunction memo(params, fnGenerator) {\n  var _a, _b, _c;\n  const serialisedParams = JSON.stringify(params, null, 0);\n  if (!memorizedFns.has(fnGenerator)) {\n    memorizedFns.set(fnGenerator, /* @__PURE__ */ new Map());\n  }\n  if (!((_a = memorizedFns.get(fnGenerator)) == null ? void 0 : _a.has(serialisedParams))) {\n    (_b = memorizedFns.get(fnGenerator)) == null ? void 0 : _b.set(serialisedParams, fnGenerator(params));\n  }\n  return (_c = memorizedFns.get(fnGenerator)) == null ? void 0 : _c.get(serialisedParams);\n}\nfunction memoizeFunction(baseFn) {\n  return (params, ...rest) => {\n    var _a, _b, _c;\n    const serialisedParams = JSON.stringify(params, null, 0);\n    if (!memorizedMap.has(baseFn)) {\n      memorizedMap.set(baseFn, /* @__PURE__ */ new Map());\n    }\n    if (!((_a = memorizedMap.get(baseFn)) == null ? void 0 : _a.has(serialisedParams))) {\n      (_b = memorizedMap.get(baseFn)) == null ? void 0 : _b.set(serialisedParams, baseFn(params, ...rest));\n    }\n    return (_c = memorizedMap.get(baseFn)) == null ? void 0 : _c.get(serialisedParams);\n  };\n}\n\n// packages/ag-charts-community/src/scene/shape/text.ts\nvar ellipsis = \"\\u2026\";\nfunction SceneFontChangeDetection(opts) {\n  const { redraw = 3 /* MAJOR */, changeCb } = opts != null ? opts : {};\n  return SceneChangeDetection({ redraw, type: \"font\", changeCb });\n}\nvar _Text = class _Text extends Shape {\n  constructor() {\n    super(...arguments);\n    this.x = 0;\n    this.y = 0;\n    this.lines = [];\n    this.text = void 0;\n    this._dirtyFont = true;\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.textAlign = _Text.defaultStyles.textAlign;\n    this.textBaseline = _Text.defaultStyles.textBaseline;\n  }\n  onTextChange() {\n    var _a, _b;\n    this.lines = (_b = (_a = this.text) == null ? void 0 : _a.split(\"\\n\").map((s) => s.trim())) != null ? _b : [];\n  }\n  get font() {\n    if (this._font == null || this._dirtyFont) {\n      this._dirtyFont = false;\n      this._font = getFont(this);\n    }\n    return this._font;\n  }\n  computeBBox() {\n    const { x, y, lines, lineHeight, textBaseline, textAlign } = this;\n    const { top, left, width, height } = _Text.getTextSizeMultiline(\n      lines,\n      getFont(this),\n      textBaseline,\n      textAlign,\n      lineHeight\n    );\n    return new BBox(x - left, y - top, width, height);\n  }\n  getLineHeight(line) {\n    var _a, _b;\n    if (this.lineHeight) {\n      return this.lineHeight;\n    }\n    const metrics = _Text.measureText(line, this.font, this.textBaseline, this.textAlign);\n    return (\n      // Fallback to emHeightAscent + emHeightDescent is needed for server-side rendering.\n      ((_a = metrics.fontBoundingBoxAscent) != null ? _a : metrics.emHeightAscent) + ((_b = metrics.fontBoundingBoxDescent) != null ? _b : metrics.emHeightDescent)\n    );\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return bbox ? bbox.containsPoint(point.x, point.y) : false;\n  }\n  render(renderCtx) {\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    if (!this.lines.length || !this.layerManager) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    const { fill, stroke, strokeWidth } = this;\n    ctx.font = this.font;\n    ctx.textAlign = this.textAlign;\n    ctx.textBaseline = this.textBaseline;\n    const pixelRatio = this.layerManager.canvas.pixelRatio || 1;\n    const { globalAlpha } = ctx;\n    if (fill) {\n      ctx.fillStyle = fill;\n      ctx.globalAlpha = globalAlpha * this.opacity * this.fillOpacity;\n      const { fillShadow } = this;\n      if (fillShadow == null ? void 0 : fillShadow.enabled) {\n        ctx.shadowColor = fillShadow.color;\n        ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n        ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n        ctx.shadowBlur = fillShadow.blur * pixelRatio;\n      }\n      this.renderLines((line, x, y) => ctx.fillText(line, x, y));\n    }\n    if (stroke && strokeWidth) {\n      ctx.strokeStyle = stroke;\n      ctx.lineWidth = strokeWidth;\n      ctx.globalAlpha = globalAlpha * this.opacity * this.strokeOpacity;\n      const { lineDash, lineDashOffset, lineCap, lineJoin } = this;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      this.renderLines((line, x, y) => ctx.strokeText(line, x, y));\n    }\n    super.render(renderCtx);\n  }\n  renderLines(renderCallback) {\n    const { lines, x, y } = this;\n    const lineHeights = lines.map((line) => this.getLineHeight(line));\n    const totalHeight = lineHeights.reduce((a, b) => a + b, 0);\n    let offsetY = (lineHeights[0] - totalHeight) * _Text.getVerticalModifier(this.textBaseline);\n    for (let i = 0; i < lines.length; i++) {\n      renderCallback(lines[i], x, y + offsetY);\n      offsetY += lineHeights[i];\n    }\n  }\n  static wrapLines(text, maxWidth, maxHeight, textProps, wrapping, overflow) {\n    const canOverflow = overflow !== \"hide\";\n    const measurer = new TextMeasurer(textProps);\n    const lines = text.split(/\\r?\\n/g);\n    if (lines.length === 0) {\n      return { lines: void 0, truncated: false };\n    }\n    if (wrapping === \"never\") {\n      const { text: truncText, truncated: truncated2 } = _Text.truncateLine(\n        lines[0],\n        maxWidth,\n        measurer,\n        canOverflow ? \"auto\" : \"never\"\n      );\n      return { lines: truncText != null ? [truncText] : void 0, truncated: truncated2 };\n    }\n    const wrappedLines = [];\n    let cumulativeHeight = 0;\n    let truncated = false;\n    for (const line of lines) {\n      const wrappedLine = _Text.wrapLine(\n        line,\n        maxWidth,\n        maxHeight,\n        measurer,\n        textProps,\n        wrapping,\n        cumulativeHeight,\n        canOverflow\n      );\n      if (wrappedLine == null) {\n        return { lines: void 0, truncated: false };\n      }\n      wrappedLines.push(...wrappedLine.result);\n      cumulativeHeight = wrappedLine.cumulativeHeight;\n      if (wrappedLine.truncated) {\n        truncated = true;\n        break;\n      }\n    }\n    return { lines: wrappedLines, truncated };\n  }\n  static wrap(text, maxWidth, maxHeight, textProps, wrapping, overflow = \"ellipsis\") {\n    var _a;\n    const { lines, truncated } = _Text.wrapLines(text, maxWidth, maxHeight, textProps, wrapping, overflow);\n    return { text: (_a = lines == null ? void 0 : lines.join(\"\\n\").trim()) != null ? _a : \"\", truncated };\n  }\n  static wrapLine(text, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow) {\n    text = text.trim();\n    if (!text) {\n      return { result: [], truncated: false, cumulativeHeight };\n    }\n    const initialSize = measurer.size(text);\n    if (initialSize.width <= maxWidth) {\n      return {\n        result: [text],\n        truncated: false,\n        cumulativeHeight: cumulativeHeight + initialSize.height\n      };\n    }\n    if (initialSize.height > maxHeight || measurer.width(\"W\") > maxWidth) {\n      return canOverflow ? { result: [], truncated: true, cumulativeHeight } : void 0;\n    }\n    const words = text.split(/\\s+/g);\n    const wrapResult = _Text.wrapLineSequentially(\n      words,\n      maxWidth,\n      maxHeight,\n      measurer,\n      textProps,\n      wrapping,\n      cumulativeHeight,\n      canOverflow\n    );\n    if (wrapResult == null) {\n      return;\n    }\n    cumulativeHeight = wrapResult.cumulativeHeight;\n    let { lines } = wrapResult;\n    if (!(wrapResult.wordsBrokenOrTruncated || wrapResult.linesTruncated)) {\n      const linesCount = wrapResult.lines.length;\n      const balanced = _Text.wrapLineBalanced(words, maxWidth, measurer, linesCount);\n      if (balanced.length === lines.length) {\n        lines = balanced;\n      }\n    }\n    const wrappedText = lines.map((ln) => ln.join(\" \"));\n    return { result: wrappedText, truncated: wrapResult.linesTruncated, cumulativeHeight };\n  }\n  static breakWord(word, firstLineWidth, maxWidth, hyphens, measurer) {\n    const isPunctuationAt = (index) => _Text.punctuationMarks.includes(word[index]);\n    const h = hyphens ? measurer.width(\"-\") : 0;\n    const breaks = [];\n    let partWidth = 0;\n    let p = 0;\n    for (let i = 0; i < word.length; i++) {\n      const c = word[i];\n      const w = measurer.width(c);\n      const limit = p === 0 ? firstLineWidth : maxWidth;\n      if (partWidth + w + h > limit) {\n        breaks.push(i);\n        partWidth = 0;\n        p++;\n      }\n      partWidth += w;\n    }\n    const parts = [];\n    let start = 0;\n    for (const index of breaks) {\n      let part = word.substring(start, index);\n      if (hyphens && part.length > 0 && !isPunctuationAt(index - 1) && !isPunctuationAt(index)) {\n        part += \"-\";\n      }\n      parts.push(part);\n      start = index;\n    }\n    parts.push(word.substring(start));\n    return parts;\n  }\n  static truncateLine(text, maxWidth, measurer, ellipsisMode) {\n    text = text.trimEnd();\n    const lineWidth = measurer.width(text);\n    if (lineWidth > maxWidth && ellipsisMode === \"never\") {\n      return { text: void 0, truncated: false };\n    } else if (lineWidth <= maxWidth && ellipsisMode !== \"force\") {\n      return { text, truncated: false };\n    }\n    const ellipsisWidth = measurer.width(ellipsis);\n    let trunc = text;\n    let truncWidth = lineWidth;\n    while (trunc.length > 0 && truncWidth + ellipsisWidth > maxWidth) {\n      trunc = trunc.slice(0, -1).trimEnd();\n      truncWidth = measurer.width(trunc);\n    }\n    if (truncWidth + ellipsisWidth <= maxWidth) {\n      return { text: `${trunc}${ellipsis}`, truncated: true };\n    } else {\n      return { text: void 0, truncated: false };\n    }\n  }\n  static wrapLineSequentially(words, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight, canOverflow) {\n    const { fontSize = 0, lineHeight = fontSize * _Text.defaultLineHeightRatio } = textProps;\n    const breakWord = wrapping === \"always\" || wrapping === \"hyphenate\";\n    const hyphenate = wrapping === \"hyphenate\";\n    const spaceWidth = measurer.width(\" \");\n    let wordsBrokenOrTruncated = false;\n    let linesTruncated = false;\n    const lines = [];\n    let currentLine = [];\n    let lineWidth = 0;\n    const getReturnValue = () => ({\n      lines,\n      linesTruncated,\n      wordsBrokenOrTruncated,\n      cumulativeHeight\n    });\n    const truncateLastLine = () => {\n      if (!canOverflow) {\n        return;\n      }\n      const lastLine = currentLine.join(\" \");\n      const { text } = _Text.truncateLine(lastLine, maxWidth, measurer, \"force\");\n      if (text == null) {\n        return;\n      }\n      currentLine.splice(0, currentLine.length, text);\n      linesTruncated = true;\n      return getReturnValue();\n    };\n    const addNewLine = () => {\n      const expectedHeight = cumulativeHeight + lineHeight;\n      if (expectedHeight >= maxHeight) {\n        return false;\n      }\n      currentLine = [];\n      lineWidth = 0;\n      cumulativeHeight = expectedHeight;\n      lines.push(currentLine);\n      return true;\n    };\n    if (!addNewLine()) {\n      return truncateLastLine();\n    }\n    for (let i = 0; i < words.length; i++) {\n      const word = words[i];\n      const wordWidth = measurer.width(word);\n      const expectedSpaceWidth = currentLine.length === 0 ? 0 : spaceWidth;\n      const expectedLineWidth = lineWidth + expectedSpaceWidth + wordWidth;\n      if (expectedLineWidth <= maxWidth) {\n        currentLine.push(word);\n        lineWidth = expectedLineWidth;\n        continue;\n      }\n      if (wordWidth <= maxWidth) {\n        if (!addNewLine()) {\n          return truncateLastLine();\n        }\n        currentLine.push(word);\n        lineWidth = wordWidth;\n        continue;\n      }\n      wordsBrokenOrTruncated = true;\n      if (breakWord) {\n        const availWidth = maxWidth - lineWidth - expectedSpaceWidth;\n        const parts = _Text.breakWord(word, availWidth, maxWidth, hyphenate, measurer);\n        for (let p = 0; p < parts.length; p++) {\n          const part = parts[p];\n          part && currentLine.push(part);\n          if (p === parts.length - 1) {\n            lineWidth = measurer.width(part);\n          } else if (!addNewLine()) {\n            return truncateLastLine();\n          }\n        }\n      } else if (canOverflow) {\n        if (!addNewLine()) {\n          return truncateLastLine();\n        }\n        const { text } = _Text.truncateLine(word, maxWidth, measurer, \"force\");\n        if (text == null) {\n          return;\n        }\n        currentLine.push(text);\n        if (i < words.length - 1) {\n          linesTruncated = true;\n        }\n        break;\n      } else {\n        return;\n      }\n    }\n    return getReturnValue();\n  }\n  static wrapLineBalanced(words, maxWidth, measurer, linesCount) {\n    const totalWordsWidth = words.reduce((sum2, w) => sum2 + measurer.width(w), 0);\n    const spaceWidth = measurer.width(\" \");\n    const totalSpaceWidth = spaceWidth * (words.length - linesCount - 2);\n    const averageLineWidth = (totalWordsWidth + totalSpaceWidth) / linesCount;\n    const lines = [];\n    let currentLine = [];\n    let lineWidth = measurer.width(words[0]);\n    let newLine = true;\n    for (const word of words) {\n      const width = measurer.width(word);\n      if (newLine) {\n        currentLine = [];\n        currentLine.push(word);\n        lineWidth = width;\n        newLine = false;\n        lines.push(currentLine);\n        continue;\n      }\n      const expectedLineWidth = lineWidth + spaceWidth + width;\n      if (expectedLineWidth <= averageLineWidth) {\n        currentLine.push(word);\n        lineWidth = expectedLineWidth;\n      } else if (expectedLineWidth <= maxWidth) {\n        currentLine.push(word);\n        newLine = true;\n      } else {\n        currentLine = [word];\n        lineWidth = width;\n        lines.push(currentLine);\n      }\n    }\n    return lines;\n  }\n  setFont(props) {\n    this.fontFamily = props.fontFamily;\n    this.fontSize = props.fontSize;\n    this.fontStyle = props.fontStyle;\n    this.fontWeight = props.fontWeight;\n  }\n  setAlign(props) {\n    this.textAlign = props.textAlign;\n    this.textBaseline = props.textBaseline;\n  }\n  static getVerticalModifier(textBaseline) {\n    switch (textBaseline) {\n      case \"top\":\n      case \"hanging\":\n        return 0;\n      case \"bottom\":\n      case \"alphabetic\":\n      case \"ideographic\":\n        return 1;\n      case \"middle\":\n        return 0.5;\n    }\n  }\n  static get textContext() {\n    if (!this._textContext) {\n      const canvasElement = createElement(\"canvas\");\n      canvasElement.width = 0;\n      canvasElement.height = 0;\n      this._textContext = canvasElement.getContext(\"2d\");\n    }\n    return this._textContext;\n  }\n  static measureText(text, font, textBaseline, textAlign) {\n    return this._measureText({ text, font, textBaseline, textAlign });\n  }\n  /**\n   * Returns the width and height of the measured text.\n   * @param text The single-line text to measure.\n   * @param font The font shorthand string.\n   */\n  static getTextSize(text, font) {\n    return this._getTextSize({ text, font });\n  }\n  static getTextSizeMultiline(lines, font, textBaseline = _Text.defaultStyles.textBaseline, textAlign = _Text.defaultStyles.textAlign, lineHeight) {\n    var _a, _b;\n    let top = 0;\n    let left = 0;\n    let width = 0;\n    let height = 0;\n    let baselineDistance = 0;\n    for (const [i, text] of lines.entries()) {\n      const metrics = this._measureText({ text, font, textBaseline, textAlign });\n      left = Math.max(left, metrics.actualBoundingBoxLeft);\n      width = Math.max(width, metrics.width);\n      if (i == 0) {\n        top += metrics.actualBoundingBoxAscent;\n        height += metrics.actualBoundingBoxAscent;\n      } else {\n        baselineDistance += (_a = metrics.fontBoundingBoxAscent) != null ? _a : metrics.emHeightAscent;\n      }\n      if (i == lines.length - 1) {\n        height += metrics.actualBoundingBoxDescent;\n      } else {\n        baselineDistance += (_b = metrics.fontBoundingBoxDescent) != null ? _b : metrics.emHeightDescent;\n      }\n    }\n    if (lineHeight != null) {\n      baselineDistance = (lines.length - 1) * lineHeight;\n    }\n    height += baselineDistance;\n    top += baselineDistance * _Text.getVerticalModifier(textBaseline);\n    return { top, left, width, height };\n  }\n};\n_Text.className = \"Text\";\n// The default line spacing for document editors is usually 1.15\n_Text.defaultLineHeightRatio = 1.15;\n_Text.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  textAlign: \"start\",\n  fontStyle: void 0,\n  fontWeight: void 0,\n  fontSize: 10,\n  fontFamily: \"sans-serif\",\n  textBaseline: \"alphabetic\"\n});\n_Text.ellipsis = ellipsis;\n_Text.punctuationMarks = [\".\", \",\", \"-\", \":\", \";\", \"!\", \"?\", `'`, '\"', \"(\", \")\"];\n_Text._measureText = memoizeFunction(\n  ({\n    text,\n    font,\n    textBaseline,\n    textAlign\n  }) => {\n    const ctx = _Text.textContext;\n    if (ctx.font !== font) {\n      ctx.font = font;\n    }\n    if (ctx.textBaseline !== textBaseline) {\n      ctx.textBaseline = textBaseline;\n    }\n    if (ctx.textAlign !== textAlign) {\n      ctx.textAlign = textAlign;\n    }\n    return ctx.measureText(text);\n  }\n);\n_Text._getTextSize = memoizeFunction(({ text, font }) => {\n  const ctx = _Text.textContext;\n  if (ctx.font !== font) {\n    ctx.font = font;\n  }\n  const metrics = ctx.measureText(text);\n  return {\n    width: metrics.width,\n    height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n  };\n});\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], _Text.prototype, \"x\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], _Text.prototype, \"y\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */, changeCb: (o) => o.onTextChange() })\n], _Text.prototype, \"text\", 2);\n__decorateClass([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontStyle\", 2);\n__decorateClass([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontWeight\", 2);\n__decorateClass([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontSize\", 2);\n__decorateClass([\n  SceneFontChangeDetection()\n], _Text.prototype, \"fontFamily\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], _Text.prototype, \"textAlign\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], _Text.prototype, \"textBaseline\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], _Text.prototype, \"lineHeight\", 2);\nvar Text = _Text;\nvar TextMeasurer = class {\n  constructor(font) {\n    this.font = isString(font) ? font : getFont(font);\n  }\n  size(text) {\n    return text.includes(\"\\n\") ? Text.getTextSizeMultiline(\n      text.split(\"\\n\").map((s) => s.trim()),\n      this.font\n    ) : Text.getTextSize(text, this.font);\n  }\n  width(text) {\n    const { width } = this.size(text);\n    return width;\n  }\n};\nfunction getFont(fontProps) {\n  const { fontFamily, fontSize, fontStyle, fontWeight } = fontProps;\n  return [fontStyle != null ? fontStyle : \"\", fontWeight != null ? fontWeight : \"\", fontSize + \"px\", fontFamily].join(\" \").trim();\n}\n\n// packages/ag-charts-community/src/chart/label.ts\nvar Label = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n  }\n  getFont() {\n    return getFont(this);\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], Label.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], Label.prototype, \"color\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], Label.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], Label.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Label.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], Label.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], Label.prototype, \"formatter\", 2);\nfunction calculateLabelRotation(opts) {\n  const { parallelFlipRotation = 0, regularFlipRotation = 0 } = opts;\n  const configuredRotation = opts.rotation ? normalizeAngle360(toRadians(opts.rotation)) : 0;\n  const parallelFlipFlag = !configuredRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI ? -1 : 1;\n  const regularFlipFlag = !configuredRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI ? -1 : 1;\n  let defaultRotation = 0;\n  if (opts.parallel) {\n    defaultRotation = parallelFlipFlag * Math.PI / 2;\n  } else if (regularFlipFlag === -1) {\n    defaultRotation = Math.PI;\n  }\n  return { configuredRotation, defaultRotation, parallelFlipFlag, regularFlipFlag };\n}\nfunction getLabelSpacing(minSpacing, rotated) {\n  if (!isNaN(minSpacing)) {\n    return minSpacing;\n  }\n  return rotated ? 0 : 10;\n}\nfunction getTextBaseline(parallel, labelRotation, sideFlag, parallelFlipFlag) {\n  if (parallel && !labelRotation) {\n    return sideFlag * parallelFlipFlag === -1 ? \"hanging\" : \"bottom\";\n  }\n  return \"middle\";\n}\nfunction getTextAlign(parallel, labelRotation, labelAutoRotation, sideFlag, regularFlipFlag) {\n  const labelRotated = labelRotation > 0 && labelRotation <= Math.PI;\n  const labelAutoRotated = labelAutoRotation > 0 && labelAutoRotation <= Math.PI;\n  const alignFlag = labelRotated || labelAutoRotated ? -1 : 1;\n  if (parallel) {\n    if (labelRotation || labelAutoRotation) {\n      if (sideFlag * alignFlag === -1) {\n        return \"end\";\n      }\n    } else {\n      return \"center\";\n    }\n  } else if (sideFlag * regularFlipFlag === -1) {\n    return \"end\";\n  }\n  return \"start\";\n}\nfunction calculateLabelBBox(text, bbox, labelX, labelY, labelMatrix) {\n  const { width, height } = bbox;\n  const translatedBBox = new BBox(labelX, labelY, 0, 0);\n  labelMatrix.transformBBox(translatedBBox, bbox);\n  const { x, y } = bbox;\n  bbox.width = width;\n  bbox.height = height;\n  return {\n    point: { x, y },\n    label: { text, width, height }\n  };\n}\n\n// packages/ag-charts-community/src/chart/layers.ts\nvar Layers = /* @__PURE__ */ ((Layers2) => {\n  Layers2[Layers2[\"SERIES_BACKGROUND_ZINDEX\"] = 0] = \"SERIES_BACKGROUND_ZINDEX\";\n  Layers2[Layers2[\"AXIS_GRID_ZINDEX\"] = 1] = \"AXIS_GRID_ZINDEX\";\n  Layers2[Layers2[\"AXIS_ZINDEX\"] = 2] = \"AXIS_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSLINE_RANGE_ZINDEX\"] = 3] = \"SERIES_CROSSLINE_RANGE_ZINDEX\";\n  Layers2[Layers2[\"SERIES_LAYER_ZINDEX\"] = 4] = \"SERIES_LAYER_ZINDEX\";\n  Layers2[Layers2[\"SERIES_HIGHLIGHT_ZINDEX\"] = 5] = \"SERIES_HIGHLIGHT_ZINDEX\";\n  Layers2[Layers2[\"AXIS_FOREGROUND_ZINDEX\"] = 6] = \"AXIS_FOREGROUND_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSHAIR_ZINDEX\"] = 7] = \"SERIES_CROSSHAIR_ZINDEX\";\n  Layers2[Layers2[\"SERIES_LABEL_ZINDEX\"] = 8] = \"SERIES_LABEL_ZINDEX\";\n  Layers2[Layers2[\"SERIES_CROSSLINE_LINE_ZINDEX\"] = 9] = \"SERIES_CROSSLINE_LINE_ZINDEX\";\n  Layers2[Layers2[\"SERIES_ANNOTATION_ZINDEX\"] = 10] = \"SERIES_ANNOTATION_ZINDEX\";\n  Layers2[Layers2[\"LEGEND_ZINDEX\"] = 11] = \"LEGEND_ZINDEX\";\n  Layers2[Layers2[\"NAVIGATOR_ZINDEX\"] = 12] = \"NAVIGATOR_ZINDEX\";\n  return Layers2;\n})(Layers || {});\n\n// packages/ag-charts-community/src/util/value.ts\nfunction isStringObject(value) {\n  return value != null && Object.hasOwn(value, \"toString\") && isString(value.toString());\n}\nfunction isNumberObject(value) {\n  return value != null && Object.hasOwn(value, \"valueOf\") && isFiniteNumber(value.valueOf());\n}\nfunction isContinuous(value) {\n  return isFiniteNumber(value) || isValidDate(value) || isNumberObject(value);\n}\nfunction checkDatum(value, isContinuousScale) {\n  return value != null && (!isContinuousScale || isContinuous(value));\n}\nfunction transformIntegratedCategoryValue(value) {\n  if (isStringObject(value) && Object.hasOwn(value, \"id\")) {\n    return value.id;\n  }\n  return value;\n}\n\n// packages/ag-charts-community/src/chart/crossline/crossLine.ts\nvar MATCHING_CROSSLINE_TYPE = (property) => {\n  return property === \"value\" ? predicateWithMessage(\n    (_, ctx) => ctx.target[\"type\"] === \"line\",\n    (ctx) => ctx.target[\"type\"] === \"range\" ? `crossLine type 'range' to have a 'range' property instead of 'value'` : `crossLine property 'type' to be 'line'`\n  ) : predicateWithMessage(\n    (_, ctx) => ctx.target[\"type\"] === \"range\",\n    (ctx) => ctx.target.type === \"line\" ? `crossLine type 'line' to have a 'value' property instead of 'range'` : `crossLine property 'type' to be 'range'`\n  );\n};\nvar validateCrossLineValues = (type, value, range3, scale2) => {\n  const lineCrossLine = type === \"line\" && value !== void 0;\n  const rangeCrossLine = type === \"range\" && range3 !== void 0;\n  if (!lineCrossLine && !rangeCrossLine) {\n    return true;\n  }\n  const [start, end] = range3 != null ? range3 : [value, void 0];\n  const isContinuous2 = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n  const validStart = checkDatum(start, isContinuous2) && !isNaN(scale2.convert(start));\n  const validEnd = checkDatum(end, isContinuous2) && !isNaN(scale2.convert(end));\n  if (lineCrossLine && validStart || rangeCrossLine && validStart && validEnd) {\n    return true;\n  }\n  const message = [`Expecting crossLine`];\n  if (rangeCrossLine) {\n    if (!validStart) {\n      message.push(`range start ${stringify(start)}`);\n    }\n    if (!validEnd) {\n      message.push(`${validStart ? \"\" : \"and \"}range end ${stringify(end)}`);\n    }\n  } else {\n    message.push(`value ${stringify(start)}`);\n  }\n  message.push(`to match the axis scale domain.`);\n  Logger.warnOnce(message.join(\" \"));\n  return false;\n};\n\n// packages/ag-charts-community/src/chart/crossline/crossLineLabelPosition.ts\nvar horizontalCrosslineTranslationDirections = {\n  top: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  bottom: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  left: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  right: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  topLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n  topRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n  bottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  bottomRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  inside: { xTranslationDirection: 0, yTranslationDirection: 0 },\n  insideLeft: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  insideRight: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  insideTop: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  insideBottom: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  insideTopLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n  insideTopRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  insideBottomRight: { xTranslationDirection: -1, yTranslationDirection: -1 }\n};\nvar verticalCrossLineTranslationDirections = {\n  top: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  bottom: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  left: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  right: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  topLeft: { xTranslationDirection: -1, yTranslationDirection: -1 },\n  topRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  bottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n  bottomRight: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  inside: { xTranslationDirection: 0, yTranslationDirection: 0 },\n  insideLeft: { xTranslationDirection: 0, yTranslationDirection: 1 },\n  insideRight: { xTranslationDirection: 0, yTranslationDirection: -1 },\n  insideTop: { xTranslationDirection: -1, yTranslationDirection: 0 },\n  insideBottom: { xTranslationDirection: 1, yTranslationDirection: 0 },\n  insideTopLeft: { xTranslationDirection: -1, yTranslationDirection: 1 },\n  insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n  insideTopRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n  insideBottomRight: { xTranslationDirection: 1, yTranslationDirection: -1 }\n};\nfunction calculateLabelTranslation({\n  yDirection,\n  padding = 0,\n  position = \"top\",\n  bbox\n}) {\n  const crossLineTranslationDirections = yDirection ? horizontalCrosslineTranslationDirections : verticalCrossLineTranslationDirections;\n  const { xTranslationDirection, yTranslationDirection } = crossLineTranslationDirections[position];\n  const w = yDirection ? bbox.width : bbox.height;\n  const h = yDirection ? bbox.height : bbox.width;\n  const xTranslation = xTranslationDirection * (padding + w / 2);\n  const yTranslation = yTranslationDirection * (padding + h / 2);\n  return {\n    xTranslation,\n    yTranslation\n  };\n}\nfunction calculateLabelChartPadding({\n  yDirection,\n  bbox,\n  padding = 0,\n  position = \"top\"\n}) {\n  const chartPadding = {};\n  if (position.startsWith(\"inside\"))\n    return chartPadding;\n  if (position === \"top\" && !yDirection) {\n    chartPadding.top = padding + bbox.height;\n  } else if (position === \"bottom\" && !yDirection) {\n    chartPadding.bottom = padding + bbox.height;\n  } else if (position === \"left\" && yDirection) {\n    chartPadding.left = padding + bbox.width;\n  } else if (position === \"right\" && yDirection) {\n    chartPadding.right = padding + bbox.width;\n  }\n  return chartPadding;\n}\nvar POSITION_TOP_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd / 2, y: yStart };\n  } else {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  }\n};\nvar POSITION_LEFT_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  } else {\n    return { x: xEnd / 2, y: yStart };\n  }\n};\nvar POSITION_RIGHT_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  } else {\n    return { x: xEnd / 2, y: isNaN(yEnd) ? yStart : yEnd };\n  }\n};\nvar POSITION_BOTTOM_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd / 2, y: isNaN(yEnd) ? yStart : yEnd };\n  } else {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n  }\n};\nvar POSITION_INSIDE_COORDINATES = ({ xEnd, yStart, yEnd }) => {\n  return { x: xEnd / 2, y: isNaN(yEnd) ? yStart : (yStart + yEnd) / 2 };\n};\nvar POSITION_TOP_LEFT_COORDINATES = ({ yDirection, xStart, xEnd, yStart }) => {\n  if (yDirection) {\n    return { x: xStart / 2, y: yStart };\n  } else {\n    return { x: xEnd, y: yStart };\n  }\n};\nvar POSITION_BOTTOM_LEFT_COORDINATES = ({ yDirection, xStart, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : yEnd };\n  } else {\n    return { x: xStart, y: yStart };\n  }\n};\nvar POSITION_TOP_RIGHT_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd, y: yStart };\n  } else {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : yEnd };\n  }\n};\nvar POSITION_BOTTOM_RIGHT_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n  if (yDirection) {\n    return { x: xEnd, y: isNaN(yEnd) ? yStart : yEnd };\n  } else {\n    return { x: xStart, y: isNaN(yEnd) ? yStart : yEnd };\n  }\n};\nvar labelDirectionHandling = {\n  top: { c: POSITION_TOP_COORDINATES },\n  bottom: { c: POSITION_BOTTOM_COORDINATES },\n  left: { c: POSITION_LEFT_COORDINATES },\n  right: { c: POSITION_RIGHT_COORDINATES },\n  topLeft: { c: POSITION_TOP_LEFT_COORDINATES },\n  topRight: { c: POSITION_TOP_RIGHT_COORDINATES },\n  bottomLeft: { c: POSITION_BOTTOM_LEFT_COORDINATES },\n  bottomRight: { c: POSITION_BOTTOM_RIGHT_COORDINATES },\n  inside: { c: POSITION_INSIDE_COORDINATES },\n  insideLeft: { c: POSITION_LEFT_COORDINATES },\n  insideRight: { c: POSITION_RIGHT_COORDINATES },\n  insideTop: { c: POSITION_TOP_COORDINATES },\n  insideBottom: { c: POSITION_BOTTOM_COORDINATES },\n  insideTopLeft: { c: POSITION_TOP_LEFT_COORDINATES },\n  insideBottomLeft: { c: POSITION_BOTTOM_LEFT_COORDINATES },\n  insideTopRight: { c: POSITION_TOP_RIGHT_COORDINATES },\n  insideBottomRight: { c: POSITION_BOTTOM_RIGHT_COORDINATES }\n};\n\n// packages/ag-charts-community/src/chart/crossline/cartesianCrossLine.ts\nvar CROSSLINE_LABEL_POSITION = UNION(\n  [\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"topLeft\",\n    \"topRight\",\n    \"bottomLeft\",\n    \"bottomRight\",\n    \"inside\",\n    \"insideLeft\",\n    \"insideRight\",\n    \"insideTop\",\n    \"insideBottom\",\n    \"insideTopLeft\",\n    \"insideBottomLeft\",\n    \"insideTopRight\",\n    \"insideBottomRight\"\n  ],\n  \"crossLine label position\"\n);\nvar CartesianCrossLineLabel = class {\n  constructor() {\n    this.enabled = void 0;\n    this.text = void 0;\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 14;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.padding = 5;\n    this.color = \"rgba(87, 87, 87, 1)\";\n    this.position = void 0;\n    this.rotation = void 0;\n    this.parallel = void 0;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], CartesianCrossLineLabel.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], CartesianCrossLineLabel.prototype, \"text\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], CartesianCrossLineLabel.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], CartesianCrossLineLabel.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], CartesianCrossLineLabel.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], CartesianCrossLineLabel.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], CartesianCrossLineLabel.prototype, \"padding\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], CartesianCrossLineLabel.prototype, \"color\", 2);\n__decorateClass([\n  Validate(CROSSLINE_LABEL_POSITION, { optional: true })\n], CartesianCrossLineLabel.prototype, \"position\", 2);\n__decorateClass([\n  Validate(DEGREE, { optional: true })\n], CartesianCrossLineLabel.prototype, \"rotation\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], CartesianCrossLineLabel.prototype, \"parallel\", 2);\nvar _CartesianCrossLine = class _CartesianCrossLine {\n  constructor() {\n    this.id = createId(this);\n    this.enabled = void 0;\n    this.type = void 0;\n    this.range = void 0;\n    this.value = void 0;\n    this.fill = void 0;\n    this.fillOpacity = void 0;\n    this.stroke = void 0;\n    this.strokeWidth = void 0;\n    this.strokeOpacity = void 0;\n    this.lineDash = void 0;\n    this.label = new CartesianCrossLineLabel();\n    this.scale = void 0;\n    this.clippedRange = [-Infinity, Infinity];\n    this.gridLength = 0;\n    this.sideFlag = -1;\n    this.parallelFlipRotation = 0;\n    this.regularFlipRotation = 0;\n    this.direction = \"x\" /* X */;\n    this.group = new Group({ name: `${this.id}`, layer: true, zIndex: _CartesianCrossLine.LINE_LAYER_ZINDEX });\n    this.labelGroup = new Group({ name: `${this.id}`, layer: true, zIndex: _CartesianCrossLine.LABEL_LAYER_ZINDEX });\n    this.crossLineRange = new Range();\n    this.crossLineLabel = new Text();\n    this.labelPoint = void 0;\n    this.data = [];\n    this.startLine = false;\n    this.endLine = false;\n    this.isRange = false;\n    const { group: group2, labelGroup, crossLineRange, crossLineLabel } = this;\n    group2.append(crossLineRange);\n    labelGroup.append(crossLineLabel);\n    crossLineRange.pointerEvents = 1 /* None */;\n  }\n  update(visible) {\n    const { enabled, data, type, value, range: range3, scale: scale2 } = this;\n    if (!type || !scale2 || !enabled || !visible || !validateCrossLineValues(type, value, range3, scale2) || data.length === 0) {\n      this.group.visible = false;\n      this.labelGroup.visible = false;\n      return;\n    }\n    this.group.visible = visible;\n    this.labelGroup.visible = visible;\n    this.group.zIndex = this.getZIndex(this.isRange);\n    this.updateNodes();\n  }\n  calculateLayout(visible, reversedAxis) {\n    if (!visible) {\n      return;\n    }\n    const dataCreated = this.createNodeData(reversedAxis);\n    if (!dataCreated) {\n      return;\n    }\n    const { sideFlag, gridLength, data } = this;\n    const boxes = [];\n    const x1 = 0;\n    const x2 = sideFlag * gridLength;\n    const y1 = data[0];\n    const y2 = data[1];\n    const crossLineBox = new BBox(Math.min(x1, x2), Math.min(y1, y2), Math.abs(x1 - x2), Math.abs(y1 - y2));\n    boxes.push(crossLineBox);\n    const labelBox = this.computeLabelBBox();\n    if (labelBox) {\n      boxes.push(labelBox);\n    }\n    return BBox.merge(boxes);\n  }\n  updateNodes() {\n    this.updateRangeNode();\n    if (this.label.enabled) {\n      this.updateLabel();\n      this.positionLabel();\n    }\n  }\n  createNodeData(reversedAxis) {\n    var _a, _b, _c;\n    const {\n      scale: scale2,\n      gridLength,\n      sideFlag,\n      direction,\n      label: { position = \"top\" },\n      clippedRange,\n      strokeWidth = 0\n    } = this;\n    this.data = [];\n    if (!scale2) {\n      return false;\n    }\n    const bandwidth = (_a = scale2.bandwidth) != null ? _a : 0;\n    const step = (_b = scale2.step) != null ? _b : 0;\n    const padding = (reversedAxis ? -1 : 1) * (scale2 instanceof BandScale ? (step - bandwidth) / 2 : 0);\n    const [xStart, xEnd] = [0, sideFlag * gridLength];\n    let [yStart, yEnd] = this.getRange();\n    const ordinalTimeScalePadding = yEnd === void 0 && OrdinalTimeScale.is(scale2) ? bandwidth / 2 + padding : 0;\n    let [clampedYStart, clampedYEnd] = [\n      Number(scale2.convert(yStart, { clampMode: \"clamped\" })) - padding + ordinalTimeScalePadding,\n      scale2.convert(yEnd, { clampMode: \"clamped\" }) + bandwidth + padding\n    ];\n    clampedYStart = clampArray(clampedYStart, clippedRange);\n    clampedYEnd = clampArray(clampedYEnd, clippedRange);\n    [yStart, yEnd] = [Number(scale2.convert(yStart)) + ordinalTimeScalePadding, scale2.convert(yEnd) + bandwidth];\n    const validRange = (yStart === clampedYStart || yEnd === clampedYEnd || clampedYStart !== clampedYEnd) && Math.abs(clampedYEnd - clampedYStart) > 0;\n    if (validRange && clampedYStart > clampedYEnd) {\n      [clampedYStart, clampedYEnd] = [clampedYEnd, clampedYStart];\n      [yStart, yEnd] = [yEnd, yStart];\n    }\n    if (yStart - padding >= clampedYStart)\n      yStart -= padding;\n    if (yEnd + padding <= clampedYEnd)\n      yEnd += padding;\n    this.isRange = validRange;\n    this.startLine = strokeWidth > 0 && yStart >= clampedYStart && yStart <= clampedYStart + padding;\n    this.endLine = strokeWidth > 0 && yEnd >= clampedYEnd - bandwidth - padding && yEnd <= clampedYEnd;\n    if (!validRange && !this.startLine && !this.endLine) {\n      return false;\n    }\n    this.data = [clampedYStart, clampedYEnd];\n    if (this.label.enabled) {\n      const yDirection = direction === \"y\" /* Y */;\n      const { c = POSITION_TOP_COORDINATES } = (_c = labelDirectionHandling[position]) != null ? _c : {};\n      const { x: labelX, y: labelY } = c({\n        yDirection,\n        xStart,\n        xEnd,\n        yStart: clampedYStart,\n        yEnd: clampedYEnd\n      });\n      this.labelPoint = {\n        x: labelX,\n        y: labelY\n      };\n    }\n    return true;\n  }\n  updateRangeNode() {\n    var _a;\n    const {\n      crossLineRange,\n      sideFlag,\n      gridLength,\n      data,\n      startLine,\n      endLine,\n      isRange,\n      fill,\n      fillOpacity,\n      stroke,\n      strokeWidth,\n      lineDash\n    } = this;\n    crossLineRange.x1 = 0;\n    crossLineRange.x2 = sideFlag * gridLength;\n    crossLineRange.y1 = data[0];\n    crossLineRange.y2 = data[1];\n    crossLineRange.startLine = startLine;\n    crossLineRange.endLine = endLine;\n    crossLineRange.isRange = isRange;\n    crossLineRange.fill = fill;\n    crossLineRange.fillOpacity = fillOpacity != null ? fillOpacity : 1;\n    crossLineRange.stroke = stroke;\n    crossLineRange.strokeWidth = strokeWidth != null ? strokeWidth : 1;\n    crossLineRange.strokeOpacity = (_a = this.strokeOpacity) != null ? _a : 1;\n    crossLineRange.lineDash = lineDash;\n  }\n  updateLabel() {\n    const { crossLineLabel, label } = this;\n    if (!label.text) {\n      return;\n    }\n    crossLineLabel.fontStyle = label.fontStyle;\n    crossLineLabel.fontWeight = label.fontWeight;\n    crossLineLabel.fontSize = label.fontSize;\n    crossLineLabel.fontFamily = label.fontFamily;\n    crossLineLabel.fill = label.color;\n    crossLineLabel.text = label.text;\n  }\n  positionLabel() {\n    const {\n      crossLineLabel,\n      labelPoint: { x = void 0, y = void 0 } = {},\n      label: { parallel, rotation, position = \"top\", padding = 0 },\n      direction,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this;\n    if (x === void 0 || y === void 0) {\n      return;\n    }\n    const { defaultRotation, configuredRotation } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    crossLineLabel.rotation = defaultRotation + configuredRotation;\n    crossLineLabel.textBaseline = \"middle\";\n    crossLineLabel.textAlign = \"center\";\n    const bbox = crossLineLabel.computeTransformedBBox();\n    if (!bbox) {\n      return;\n    }\n    const yDirection = direction === \"y\" /* Y */;\n    const { xTranslation, yTranslation } = calculateLabelTranslation({\n      yDirection,\n      padding,\n      position,\n      bbox\n    });\n    crossLineLabel.translationX = x + xTranslation;\n    crossLineLabel.translationY = y + yTranslation;\n  }\n  getZIndex(isRange = false) {\n    if (isRange) {\n      return _CartesianCrossLine.RANGE_LAYER_ZINDEX;\n    }\n    return _CartesianCrossLine.LINE_LAYER_ZINDEX;\n  }\n  getRange() {\n    var _a;\n    const { value, range: range3, scale: scale2 } = this;\n    const isContinuous2 = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const start = (_a = range3 == null ? void 0 : range3[0]) != null ? _a : value;\n    let end = range3 == null ? void 0 : range3[1];\n    if (!isContinuous2 && end === void 0) {\n      end = start;\n    }\n    if (isContinuous2 && start === end) {\n      end = void 0;\n    }\n    return [start, end];\n  }\n  computeLabelBBox() {\n    const { label } = this;\n    if (!label.enabled) {\n      return;\n    }\n    const tempText = new Text();\n    tempText.fontFamily = label.fontFamily;\n    tempText.fontSize = label.fontSize;\n    tempText.fontStyle = label.fontStyle;\n    tempText.fontWeight = label.fontWeight;\n    tempText.text = label.text;\n    const {\n      labelPoint: { x = void 0, y = void 0 } = {},\n      label: { parallel, rotation, position = \"top\", padding = 0 },\n      direction,\n      parallelFlipRotation,\n      regularFlipRotation\n    } = this;\n    if (x === void 0 || y === void 0) {\n      return;\n    }\n    const { configuredRotation } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    tempText.rotation = configuredRotation;\n    tempText.textBaseline = \"middle\";\n    tempText.textAlign = \"center\";\n    const bbox = tempText.computeTransformedBBox();\n    if (!bbox) {\n      return;\n    }\n    const yDirection = direction === \"y\" /* Y */;\n    const { xTranslation, yTranslation } = calculateLabelTranslation({\n      yDirection,\n      padding,\n      position,\n      bbox\n    });\n    tempText.translationX = x + xTranslation;\n    tempText.translationY = y + yTranslation;\n    return tempText.computeTransformedBBox();\n  }\n  calculatePadding(padding) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const {\n      isRange,\n      startLine,\n      endLine,\n      direction,\n      label: { padding: labelPadding = 0, position = \"top\" }\n    } = this;\n    if (!isRange && !startLine && !endLine) {\n      return;\n    }\n    const crossLineLabelBBox = this.computeLabelBBox();\n    if ((crossLineLabelBBox == null ? void 0 : crossLineLabelBBox.x) == null || (crossLineLabelBBox == null ? void 0 : crossLineLabelBBox.y) == null) {\n      return;\n    }\n    const chartPadding = calculateLabelChartPadding({\n      yDirection: direction === \"y\" /* Y */,\n      padding: labelPadding,\n      position,\n      bbox: crossLineLabelBBox\n    });\n    padding.left = Math.max((_a = padding.left) != null ? _a : 0, (_b = chartPadding.left) != null ? _b : 0);\n    padding.right = Math.max((_c = padding.right) != null ? _c : 0, (_d = chartPadding.right) != null ? _d : 0);\n    padding.top = Math.max((_e = padding.top) != null ? _e : 0, (_f = chartPadding.top) != null ? _f : 0);\n    padding.bottom = Math.max((_g = padding.bottom) != null ? _g : 0, (_h = chartPadding.bottom) != null ? _h : 0);\n  }\n};\n_CartesianCrossLine.LINE_LAYER_ZINDEX = 9 /* SERIES_CROSSLINE_LINE_ZINDEX */;\n_CartesianCrossLine.RANGE_LAYER_ZINDEX = 3 /* SERIES_CROSSLINE_RANGE_ZINDEX */;\n_CartesianCrossLine.LABEL_LAYER_ZINDEX = 8 /* SERIES_LABEL_ZINDEX */;\n_CartesianCrossLine.className = \"CrossLine\";\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], _CartesianCrossLine.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(UNION([\"range\", \"line\"], \"a crossLine type\"), { optional: true })\n], _CartesianCrossLine.prototype, \"type\", 2);\n__decorateClass([\n  Validate(AND(MATCHING_CROSSLINE_TYPE(\"range\"), ARRAY.restrict({ length: 2 })), {\n    optional: true\n  })\n], _CartesianCrossLine.prototype, \"range\", 2);\n__decorateClass([\n  Validate(MATCHING_CROSSLINE_TYPE(\"value\"), { optional: true })\n], _CartesianCrossLine.prototype, \"value\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], _CartesianCrossLine.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], _CartesianCrossLine.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], _CartesianCrossLine.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(NUMBER, { optional: true })\n], _CartesianCrossLine.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], _CartesianCrossLine.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH, { optional: true })\n], _CartesianCrossLine.prototype, \"lineDash\", 2);\nvar CartesianCrossLine = _CartesianCrossLine;\n\n// packages/ag-charts-community/src/module/moduleMap.ts\nvar ModuleMap = class {\n  constructor() {\n    this.moduleMap = /* @__PURE__ */ new Map();\n  }\n  *modules() {\n    for (const m of this.moduleMap.values()) {\n      yield m.moduleInstance;\n    }\n  }\n  addModule(module, moduleFactory) {\n    if (this.moduleMap.has(module.optionsKey)) {\n      throw new Error(`AG Charts - module already initialised: ${module.optionsKey}`);\n    }\n    this.moduleMap.set(module.optionsKey, { module, moduleInstance: moduleFactory(module) });\n  }\n  removeModule(module) {\n    var _a;\n    const moduleKey = isString(module) ? module : module.optionsKey;\n    (_a = this.moduleMap.get(moduleKey)) == null ? void 0 : _a.moduleInstance.destroy();\n    this.moduleMap.delete(moduleKey);\n  }\n  getModule(module) {\n    var _a;\n    return (_a = this.moduleMap.get(isString(module) ? module : module.optionsKey)) == null ? void 0 : _a.moduleInstance;\n  }\n  isEnabled(module) {\n    return this.moduleMap.has(isString(module) ? module : module.optionsKey);\n  }\n  mapModules(callback) {\n    return Array.from(this.moduleMap.values(), (m, i) => callback(m.moduleInstance, i));\n  }\n  destroy() {\n    var _a;\n    for (const moduleKey of this.moduleMap.keys()) {\n      (_a = this.moduleMap.get(moduleKey)) == null ? void 0 : _a.moduleInstance.destroy();\n    }\n    this.moduleMap.clear();\n  }\n};\n\n// packages/ag-charts-community/src/motion/resetMotion.ts\nvar resetMotion_exports = {};\n__export(resetMotion_exports, {\n  resetMotion: () => resetMotion\n});\nfunction resetMotion(selectionsOrNodes, propsFn) {\n  const { nodes, selections } = deconstructSelectionsOrNodes(selectionsOrNodes);\n  for (const selection of selections) {\n    for (const node of selection.nodes()) {\n      const from = propsFn(node, node.datum);\n      node.setProperties(from);\n    }\n    selection.cleanup();\n  }\n  for (const node of nodes) {\n    const from = propsFn(node, node.datum);\n    node.setProperties(from);\n  }\n}\n\n// packages/ag-charts-community/src/motion/states.ts\nvar StateMachine = class {\n  constructor(initialState, states, preTransitionCb) {\n    this.states = states;\n    this.preTransitionCb = preTransitionCb;\n    this.debug = Debug.create(true, \"animation\");\n    this.state = initialState;\n    this.debug(`%c${this.constructor.name} | init -> ${initialState}`, \"color: green\");\n  }\n  transition(event, data) {\n    var _a, _b;\n    const currentStateConfig = this.states[this.state];\n    const destinationTransition = currentStateConfig == null ? void 0 : currentStateConfig[event];\n    if (!destinationTransition) {\n      this.debug(`%c${this.constructor.name} | ${this.state} -> ${event} -> ${this.state}`, \"color: grey\");\n      return;\n    }\n    let destinationState = this.state;\n    if (typeof destinationTransition === \"string\") {\n      destinationState = destinationTransition;\n    } else if (typeof destinationTransition === \"object\") {\n      destinationState = destinationTransition.target;\n    }\n    this.debug(`%c${this.constructor.name} | ${this.state} -> ${event} -> ${destinationState}`, \"color: green\");\n    (_a = this.preTransitionCb) == null ? void 0 : _a.call(this, this.state, destinationState);\n    this.state = destinationState;\n    if (typeof destinationTransition === \"function\") {\n      destinationTransition(data);\n    } else if (typeof destinationTransition === \"object\") {\n      (_b = destinationTransition.action) == null ? void 0 : _b.call(destinationTransition, data);\n    }\n    return this.state;\n  }\n};\n\n// packages/ag-charts-community/src/util/numberFormat.ts\nvar group = (content) => `(${content})`;\nvar optionalGroup = (content) => `${group(content)}?`;\nvar nonCapturingGroup = (content) => optionalGroup(`?:${content}`);\nvar formatRegEx = (() => {\n  const fill = \".\";\n  const align = \"[<>=^]\";\n  const sign = \"[+\\\\-( ]\";\n  const symbol = \"[$\\u20AC\\xA3\\xA5\\u20A3\\u20B9#]\";\n  const zero = \"0\";\n  const width = \"\\\\d+\";\n  const comma = \",\";\n  const precision = \"\\\\d+\";\n  const tilde = \"~\";\n  const type = \"[%a-z]\";\n  return new RegExp(\n    [\n      \"^\",\n      nonCapturingGroup(`${optionalGroup(fill)}${group(align)}`),\n      optionalGroup(sign),\n      optionalGroup(symbol),\n      optionalGroup(zero),\n      optionalGroup(width),\n      optionalGroup(comma),\n      nonCapturingGroup(`\\\\.${group(precision)}`),\n      optionalGroup(tilde),\n      optionalGroup(type),\n      \"$\"\n    ].join(\"\"),\n    \"i\"\n  );\n})();\nvar surroundedRegEx = (() => {\n  const prefix = \".*?\";\n  const content = \".+?\";\n  const suffix = \".*?\";\n  return new RegExp([\"^\", group(prefix), `#\\\\{${group(content)}\\\\}`, group(suffix), \"$\"].join(\"\"));\n})();\nfunction parseFormatter(formatter) {\n  let prefix;\n  let suffix;\n  const surrounded = surroundedRegEx.exec(formatter);\n  if (surrounded) {\n    [, prefix, formatter, suffix] = surrounded;\n  }\n  const match = formatRegEx.exec(formatter);\n  if (!match) {\n    throw new Error(`The number formatter is invalid: ${formatter}`);\n  }\n  const [, fill, align, sign, symbol, zero, width, comma, precision, trim, type] = match;\n  return {\n    fill,\n    align,\n    sign,\n    symbol,\n    zero,\n    width: parseInt(width),\n    comma,\n    precision: parseInt(precision),\n    trim: Boolean(trim),\n    type,\n    prefix,\n    suffix\n  };\n}\nfunction format(formatter) {\n  const options = typeof formatter === \"string\" ? parseFormatter(formatter) : formatter;\n  const { fill, align, sign = \"-\", symbol, zero, width, comma, type, prefix = \"\", suffix = \"\", precision } = options;\n  let { trim } = options;\n  const precisionIsNaN = precision === void 0 || isNaN(precision);\n  let formatBody;\n  if (!type) {\n    formatBody = decimalTypes[\"g\"];\n    trim = true;\n  } else if (type in decimalTypes && type in integerTypes) {\n    formatBody = precisionIsNaN ? integerTypes[type] : decimalTypes[type];\n  } else if (type in decimalTypes) {\n    formatBody = decimalTypes[type];\n  } else if (type in integerTypes) {\n    formatBody = integerTypes[type];\n  } else {\n    throw new Error(`The number formatter type is invalid: ${type}`);\n  }\n  let formatterPrecision;\n  if (precision == null || precisionIsNaN) {\n    formatterPrecision = type ? 6 : 12;\n  } else {\n    formatterPrecision = precision;\n  }\n  return (n) => {\n    let result = formatBody(n, formatterPrecision);\n    if (trim) {\n      result = removeTrailingZeros(result);\n    }\n    if (comma) {\n      result = insertSeparator(result, comma);\n    }\n    result = addSign(n, result, sign);\n    if (symbol && symbol !== \"#\") {\n      result = `${symbol}${result}`;\n    }\n    if (symbol === \"#\" && type === \"x\") {\n      result = `0x${result}`;\n    }\n    if (type === \"s\") {\n      result = `${result}${getSIPrefix(n)}`;\n    }\n    if (type === \"%\" || type === \"p\") {\n      result = `${result}%`;\n    }\n    if (width != null && !isNaN(width)) {\n      result = addPadding(result, width, fill != null ? fill : zero, align);\n    }\n    result = `${prefix}${result}${suffix}`;\n    return result;\n  };\n}\nvar absFloor = (n) => Math.floor(Math.abs(n));\nvar integerTypes = {\n  b: (n) => absFloor(n).toString(2),\n  c: (n) => String.fromCharCode(n),\n  d: (n) => Math.round(Math.abs(n)).toFixed(0),\n  o: (n) => absFloor(n).toString(8),\n  x: (n) => absFloor(n).toString(16),\n  X: (n) => integerTypes.x(n).toUpperCase(),\n  n: (n) => integerTypes.d(n),\n  \"%\": (n) => `${absFloor(n * 100).toFixed(0)}`\n};\nvar decimalTypes = {\n  e: (n, f) => Math.abs(n).toExponential(f),\n  E: (n, f) => decimalTypes.e(n, f).toUpperCase(),\n  f: (n, f) => Math.abs(n).toFixed(f),\n  F: (n, f) => decimalTypes.f(n, f).toUpperCase(),\n  g: (n, f) => {\n    if (n === 0) {\n      return \"0\";\n    }\n    const a = Math.abs(n);\n    const p = Math.floor(Math.log10(a));\n    if (p >= -4 && p < f) {\n      return a.toFixed(f - 1 - p);\n    }\n    return a.toExponential(f - 1);\n  },\n  G: (n, f) => decimalTypes.g(n, f).toUpperCase(),\n  n: (n, f) => decimalTypes.g(n, f),\n  p: (n, f) => decimalTypes.r(n * 100, f),\n  r: (n, f) => {\n    if (n === 0) {\n      return \"0\";\n    }\n    const a = Math.abs(n);\n    const p = Math.floor(Math.log10(a));\n    const q = p - (f - 1);\n    if (q <= 0) {\n      return a.toFixed(-q);\n    }\n    const x = Math.pow(10, q);\n    return (Math.round(a / x) * x).toFixed();\n  },\n  s: (n, f) => {\n    const p = getSIPrefixPower(n);\n    return decimalTypes.r(n / Math.pow(10, p), f);\n  },\n  \"%\": (n, f) => decimalTypes.f(n * 100, f)\n};\nfunction removeTrailingZeros(numString) {\n  return numString.replace(/\\.0+$/, \"\").replace(/(\\.[1-9])0+$/, \"$1\");\n}\nfunction insertSeparator(numString, separator) {\n  let dotIndex = numString.indexOf(\".\");\n  if (dotIndex < 0) {\n    dotIndex = numString.length;\n  }\n  const integerChars = numString.substring(0, dotIndex).split(\"\");\n  const fractionalPart = numString.substring(dotIndex);\n  for (let i = integerChars.length - 3; i > 0; i -= 3) {\n    integerChars.splice(i, 0, separator);\n  }\n  return `${integerChars.join(\"\")}${fractionalPart}`;\n}\nfunction getSIPrefix(n) {\n  return siPrefixes[getSIPrefixPower(n)];\n}\nfunction getSIPrefixPower(n) {\n  return clamp(minSIPrefix, n ? Math.floor(Math.log10(Math.abs(n)) / 3) * 3 : 0, maxSIPrefix);\n}\nvar minSIPrefix = -24;\nvar maxSIPrefix = 24;\nvar siPrefixes = {\n  [minSIPrefix]: \"y\",\n  [-21]: \"z\",\n  [-18]: \"a\",\n  [-15]: \"f\",\n  [-12]: \"p\",\n  [-9]: \"n\",\n  [-6]: \"\\xB5\",\n  [-3]: \"m\",\n  [0]: \"\",\n  [3]: \"k\",\n  [6]: \"M\",\n  [9]: \"G\",\n  [12]: \"T\",\n  [15]: \"P\",\n  [18]: \"E\",\n  [21]: \"Z\",\n  [maxSIPrefix]: \"Y\"\n};\nvar minusSign = \"\\u2212\";\nfunction addSign(num, numString, signType = \"\") {\n  if (signType === \"(\") {\n    return num >= 0 ? numString : `(${numString})`;\n  }\n  const plusSign = signType === \"+\" ? \"+\" : \"\";\n  return `${num >= 0 ? plusSign : minusSign}${numString}`;\n}\nfunction addPadding(numString, width, fill = \" \", align = \">\") {\n  let result = numString;\n  if (align === \">\" || !align) {\n    result = result.padStart(width, fill);\n  } else if (align === \"<\") {\n    result = result.padEnd(width, fill);\n  } else if (align === \"^\") {\n    const padWidth = Math.max(0, width - result.length);\n    const padLeft = Math.ceil(padWidth / 2);\n    const padRight = Math.floor(padWidth / 2);\n    result = result.padStart(padLeft + result.length, fill);\n    result = result.padEnd(padRight + result.length, fill);\n  }\n  return result;\n}\nfunction tickFormat(ticks, formatter) {\n  const options = parseFormatter(formatter != null ? formatter : \",f\");\n  const { precision } = options;\n  if (precision == null || isNaN(precision)) {\n    if (options.type === \"f\" || options.type === \"%\") {\n      options.precision = Math.max(\n        ...ticks.map((x) => {\n          if (typeof x !== \"number\" || x === 0) {\n            return 0;\n          }\n          const l = Math.floor(Math.log10(Math.abs(x)));\n          const digits = options.type ? 6 : 12;\n          const exp = x.toExponential(digits - 1).replace(/\\.?0+e/, \"e\");\n          const dotIndex = exp.indexOf(\".\");\n          if (dotIndex < 0) {\n            return l >= 0 ? 0 : -l;\n          }\n          const s = exp.indexOf(\"e\") - dotIndex;\n          return Math.max(0, s - l - 1);\n        })\n      );\n    } else if (!options.type || options.type in decimalTypes) {\n      options.precision = Math.max(\n        ...ticks.map((x) => {\n          if (typeof x !== \"number\") {\n            return 0;\n          }\n          const exp = x.toExponential((options.type ? 6 : 12) - 1).replace(/\\.?0+e/, \"e\");\n          return exp.substring(0, exp.indexOf(\"e\")).replace(\".\", \"\").length;\n        })\n      );\n    }\n  }\n  const f = format(options);\n  return (n) => f(Number(n));\n}\n\n// packages/ag-charts-community/src/scale/logScale.ts\nvar _LogScale = class _LogScale extends ContinuousScale {\n  constructor() {\n    super([1, 10], [0, 1]);\n    this.type = \"log\";\n    this.base = 10;\n    this.baseLog = identity;\n    this.basePow = identity;\n    this.log = (x) => {\n      const start = Math.min(...this.domain);\n      return start >= 0 ? this.baseLog(x) : -this.baseLog(-x);\n    };\n    this.pow = (x) => {\n      const start = Math.min(...this.domain);\n      return start >= 0 ? this.basePow(x) : -this.basePow(-x);\n    };\n    this.defaultClampMode = \"clamped\";\n  }\n  toDomain(d) {\n    return d;\n  }\n  transform(x) {\n    const start = Math.min(...this.domain);\n    return start >= 0 ? Math.log(x) : -Math.log(-x);\n  }\n  transformInvert(x) {\n    const start = Math.min(...this.domain);\n    return start >= 0 ? Math.exp(x) : -Math.exp(-x);\n  }\n  refresh() {\n    if (this.base <= 0) {\n      this.base = 0;\n      Logger.warnOnce(\"expecting a finite Number greater than to 0\");\n    }\n    super.refresh();\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    this.baseLog = _LogScale.getBaseLogMethod(this.base);\n    this.basePow = _LogScale.getBasePowerMethod(this.base);\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  updateNiceDomain() {\n    const [d0, d1] = this.domain;\n    const roundStart = d0 > d1 ? Math.ceil : Math.floor;\n    const roundStop = d0 > d1 ? Math.floor : Math.ceil;\n    const n0 = this.pow(roundStart(this.log(d0)));\n    const n1 = this.pow(roundStop(this.log(d1)));\n    this.niceDomain = [n0, n1];\n  }\n  ticks() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : 10;\n    if (!this.domain || this.domain.length < 2 || count < 1) {\n      return [];\n    }\n    this.refresh();\n    const base = this.base;\n    const [d0, d1] = this.getDomain();\n    const start = Math.min(d0, d1);\n    const stop = Math.max(d0, d1);\n    let p0 = this.log(start);\n    let p1 = this.log(stop);\n    if (this.interval) {\n      const step = Math.abs(this.interval);\n      const absDiff = Math.abs(p1 - p0);\n      let ticks2 = range(p0, p1, Math.min(absDiff, step));\n      ticks2 = createNumericTicks(\n        ticks2.fractionDigits,\n        ticks2.map((x) => this.pow(x)).filter((t) => t >= start && t <= stop)\n      );\n      const availableRange = this.getPixelRange();\n      if (!isDenseInterval({ start, stop, interval: step, count: ticks2.length, availableRange })) {\n        return ticks2;\n      }\n    }\n    const isBaseInteger = base % 1 === 0;\n    const isDiffLarge = p1 - p0 >= count;\n    if (!isBaseInteger || isDiffLarge) {\n      let ticks2 = ticks_default(p0, p1, Math.min(p1 - p0, count));\n      ticks2 = createNumericTicks(\n        ticks2.fractionDigits,\n        ticks2.map((x) => this.pow(x))\n      );\n      return ticks2;\n    }\n    const ticks = [];\n    const isPositive = start > 0;\n    p0 = Math.floor(p0) - 1;\n    p1 = Math.round(p1) + 1;\n    const availableSpacing = findRangeExtent(this.range) / count;\n    let lastTickPosition = Infinity;\n    for (let p = p0; p <= p1; p++) {\n      const nextMagnitudeTickPosition = this.convert(this.pow(p + 1));\n      for (let k = 1; k < base; k++) {\n        const q = isPositive ? k : base - k + 1;\n        const t = this.pow(p) * q;\n        const tickPosition = this.convert(t);\n        const prevSpacing = Math.abs(lastTickPosition - tickPosition);\n        const nextSpacing = Math.abs(tickPosition - nextMagnitudeTickPosition);\n        const fits = prevSpacing >= availableSpacing && nextSpacing >= availableSpacing;\n        if (t >= start && t <= stop && (k === 1 || fits || ticks.length === 0)) {\n          ticks.push(t);\n          lastTickPosition = tickPosition;\n        }\n      }\n    }\n    return ticks;\n  }\n  tickFormat({\n    count,\n    ticks,\n    specifier\n  }) {\n    if (count !== Infinity && ticks == null) {\n      this.ticks();\n    }\n    specifier != null ? specifier : specifier = this.base === 10 ? \".0e\" : \",\";\n    return isString(specifier) ? format(specifier) : specifier;\n  }\n  static getBaseLogMethod(base) {\n    switch (base) {\n      case 10:\n        return Math.log10;\n      case Math.E:\n        return Math.log;\n      case 2:\n        return Math.log2;\n      default:\n        const logBase = Math.log(base);\n        return (x) => Math.log(x) / logBase;\n    }\n  }\n  static getBasePowerMethod(base) {\n    switch (base) {\n      case 10:\n        return (x) => x >= 0 ? __pow(10, x) : 1 / __pow(10, -x);\n      case Math.E:\n        return Math.exp;\n      default:\n        return (x) => __pow(base, x);\n    }\n  }\n};\n__decorateClass([\n  Invalidating\n], _LogScale.prototype, \"base\", 2);\nvar LogScale = _LogScale;\n\n// packages/ag-charts-community/src/scene/selection.ts\nvar Selection = class _Selection {\n  constructor(parentNode, classOrFactory, autoCleanup = true) {\n    this.parentNode = parentNode;\n    this.autoCleanup = autoCleanup;\n    this.garbageBin = /* @__PURE__ */ new Set();\n    this._nodesMap = /* @__PURE__ */ new Map();\n    this._nodes = [];\n    this.data = [];\n    this.debug = Debug.create(true, \"scene\", \"scene:selections\");\n    this.nodeFactory = Object.prototype.isPrototypeOf.call(Node, classOrFactory) ? () => new classOrFactory() : classOrFactory;\n  }\n  static select(parent, classOrFactory, garbageCollection = true) {\n    return new _Selection(parent, classOrFactory, garbageCollection);\n  }\n  static selectAll(parent, predicate) {\n    const results = [];\n    const traverse = (node) => {\n      if (predicate(node)) {\n        results.push(node);\n      }\n      node.children.forEach(traverse);\n    };\n    traverse(parent);\n    return results;\n  }\n  static selectByClass(node, Class, ...ExtraClasses) {\n    return _Selection.selectAll(node, (n) => {\n      return n instanceof Class || ExtraClasses.some((C) => n instanceof C);\n    });\n  }\n  static selectByTag(node, tag) {\n    return _Selection.selectAll(node, (n) => n.tag === tag);\n  }\n  createNode(datum, initializer, idx) {\n    const node = this.nodeFactory(datum);\n    node.datum = datum;\n    initializer == null ? void 0 : initializer(node);\n    if (idx == null) {\n      this._nodes.push(node);\n    } else {\n      this._nodes.splice(idx, 0, node);\n    }\n    this.parentNode.appendChild(node);\n    return node;\n  }\n  /**\n   * Update the data in a selection. If an `getDatumId()` function is provided, maintain a list of ids related to\n   * the nodes. Otherwise, take the more efficient route of simply creating and destroying nodes at the end\n   * of the array.\n   */\n  update(data, initializer, getDatumId) {\n    if (this.garbageBin.size > 0) {\n      this.debug(`Selection - update() called with pending garbage: ${data}`);\n    }\n    if (getDatumId) {\n      const dataMap = new Map(\n        data.map((datum, idx) => [getDatumId(datum), [datum, idx]])\n      );\n      for (const [node, datumId] of this._nodesMap.entries()) {\n        if (dataMap.has(datumId)) {\n          const [newDatum] = dataMap.get(datumId);\n          node.datum = newDatum;\n          this.garbageBin.delete(node);\n          dataMap.delete(datumId);\n        } else {\n          this.garbageBin.add(node);\n        }\n      }\n      for (const [datumId, [datum, idx]] of dataMap.entries()) {\n        this._nodesMap.set(this.createNode(datum, initializer, idx), datumId);\n      }\n    } else {\n      const maxLength = Math.max(data.length, this.data.length);\n      for (let i = 0; i < maxLength; i++) {\n        if (i >= data.length) {\n          this.garbageBin.add(this._nodes[i]);\n        } else if (i >= this._nodes.length) {\n          this.createNode(data[i], initializer);\n        } else {\n          this._nodes[i].datum = data[i];\n          this.garbageBin.delete(this._nodes[i]);\n        }\n      }\n    }\n    this.data = data.slice();\n    if (this.autoCleanup) {\n      this.cleanup();\n    }\n    return this;\n  }\n  cleanup() {\n    if (this.garbageBin.size === 0) {\n      return this;\n    }\n    this._nodes = this._nodes.filter((node) => {\n      if (this.garbageBin.has(node)) {\n        this._nodesMap.delete(node);\n        this.garbageBin.delete(node);\n        this.parentNode.removeChild(node);\n        return false;\n      }\n      return true;\n    });\n    return this;\n  }\n  clear() {\n    this.update([]);\n    return this;\n  }\n  isGarbage(node) {\n    return this.garbageBin.has(node);\n  }\n  hasGarbage() {\n    return this.garbageBin.size > 0;\n  }\n  each(iterate2) {\n    for (const entry of this._nodes.entries()) {\n      iterate2(entry[1], entry[1].datum, entry[0]);\n    }\n    return this;\n  }\n  *[Symbol.iterator]() {\n    for (let index = 0; index < this._nodes.length; index++) {\n      const node = this._nodes[index];\n      const datum = this._nodes[index].datum;\n      yield { node, datum, index };\n    }\n  }\n  select(predicate) {\n    return _Selection.selectAll(this.parentNode, predicate);\n  }\n  selectByClass(Class) {\n    return _Selection.selectByClass(this.parentNode, Class);\n  }\n  selectByTag(tag) {\n    return _Selection.selectByTag(this.parentNode, tag);\n  }\n  nodes() {\n    return this._nodes;\n  }\n};\n\n// packages/ag-charts-community/src/util/distance.ts\nfunction pointsDistanceSquared(x1, y1, x2, y2) {\n  const dx = x1 - x2;\n  const dy = y1 - y2;\n  return dx * dx + dy * dy;\n}\nfunction lineDistanceSquared(x, y, x1, y1, x2, y2, best) {\n  if (x1 === x2 && y1 === y2) {\n    return Math.min(best, pointsDistanceSquared(x, y, x1, y1));\n  }\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const t = Math.max(0, Math.min(1, ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy)));\n  const ix = x1 + t * dx;\n  const iy = y1 + t * dy;\n  return Math.min(best, pointsDistanceSquared(x, y, ix, iy));\n}\nfunction arcDistanceSquared(x, y, cx, cy, radius, startAngle, endAngle, counterClockwise, best) {\n  if (counterClockwise) {\n    [endAngle, startAngle] = [startAngle, endAngle];\n  }\n  const angle = Math.atan2(y - cy, x - cx);\n  if (!isBetweenAngles(angle, startAngle, endAngle)) {\n    const startX = cx + Math.cos(startAngle) * radius;\n    const startY = cy + Math.sin(startAngle) * radius;\n    const endX = cx + Math.cos(startAngle) * radius;\n    const endY = cy + Math.sin(startAngle) * radius;\n    return Math.min(best, pointsDistanceSquared(x, y, startX, startY), pointsDistanceSquared(x, y, endX, endY));\n  }\n  const distToArc = radius - Math.sqrt(pointsDistanceSquared(x, y, cx, cy));\n  return Math.min(best, distToArc * distToArc);\n}\n\n// packages/ag-charts-community/src/scene/shape/line.ts\nvar Line = class extends Shape {\n  constructor(opts = {}) {\n    super(opts);\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.restoreOwnStyles();\n  }\n  set x(value) {\n    this.x1 = value;\n    this.x2 = value;\n  }\n  set y(value) {\n    this.y1 = value;\n    this.y2 = value;\n  }\n  computeBBox() {\n    return new BBox(\n      Math.min(this.x1, this.x2),\n      Math.min(this.y1, this.y2),\n      Math.abs(this.x2 - this.x1),\n      Math.abs(this.y2 - this.y1)\n    );\n  }\n  isPointInPath(px, py) {\n    if (this.x1 === this.x2 || this.y1 === this.y2) {\n      const { x, y } = this.transformPoint(px, py);\n      return this.computeBBox().grow(this.strokeWidth / 2).containsPoint(x, y);\n    }\n    return false;\n  }\n  distanceSquared(px, py) {\n    const { x1, y1, x2, y2 } = this;\n    return lineDistanceSquared(px, py, x1, y1, x2, y2, Infinity);\n  }\n  render(renderCtx) {\n    var _a;\n    const { ctx, forceRender, stats, devicePixelRatio } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    let { x1, y1, x2, y2 } = this;\n    if (x1 === x2) {\n      const { strokeWidth } = this;\n      const x = Math.round(x1 * devicePixelRatio) / devicePixelRatio + Math.trunc(strokeWidth * devicePixelRatio) % 2 / (devicePixelRatio * 2);\n      x1 = x;\n      x2 = x;\n    } else if (y1 === y2) {\n      const { strokeWidth } = this;\n      const y = Math.round(y1 * devicePixelRatio) / devicePixelRatio + Math.trunc(strokeWidth * devicePixelRatio) % 2 / (devicePixelRatio * 2);\n      y1 = y;\n      y2 = y;\n    }\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    this.fillStroke(ctx);\n    (_a = this.fillShadow) == null ? void 0 : _a.markClean();\n    super.render(renderCtx);\n  }\n};\nLine.className = \"Line\";\nLine.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  fill: void 0,\n  strokeWidth: 1\n});\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Line.prototype, \"x1\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Line.prototype, \"y1\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Line.prototype, \"x2\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Line.prototype, \"y2\", 2);\n\n// packages/ag-charts-community/src/scene/util/labelPlacement.ts\nfunction circleRectOverlap(c, unitCenter, x, y, w, h) {\n  if (c.size === 0)\n    return false;\n  let cx = c.x;\n  let cy = c.y;\n  if (unitCenter != null) {\n    cx -= (unitCenter.x - 0.5) * c.size;\n    cy -= (unitCenter.y - 0.5) * c.size;\n  }\n  let edgeX = cx;\n  if (cx < x) {\n    edgeX = x;\n  } else if (cx > x + w) {\n    edgeX = x + w;\n  }\n  let edgeY = cy;\n  if (cy < y) {\n    edgeY = y;\n  } else if (cy > y + h) {\n    edgeY = y + h;\n  }\n  const dx = cx - edgeX;\n  const dy = cy - edgeY;\n  const d = Math.sqrt(dx * dx + dy * dy);\n  return d <= c.size * 0.5;\n}\nfunction rectRectOverlap(r1, x2, y2, w2, h2) {\n  const xOverlap = r1.x + r1.width > x2 && r1.x < x2 + w2;\n  const yOverlap = r1.y + r1.height > y2 && r1.y < y2 + h2;\n  return xOverlap && yOverlap;\n}\nfunction rectContainsRect(r1, r2x, r2y, r2w, r2h) {\n  return r2x + r2w < r1.x + r1.width && r2x > r1.x && r2y > r1.y && r2y + r2h < r1.y + r1.height;\n}\nfunction isPointLabelDatum(x) {\n  return x != null && typeof x.point === \"object\" && typeof x.label === \"object\";\n}\nvar labelPlacements = {\n  top: { x: 0, y: -1 },\n  bottom: { x: 0, y: 1 },\n  left: { x: -1, y: 0 },\n  right: { x: 1, y: 0 }\n};\nfunction placeLabels(data, bounds, padding = 5) {\n  var _a, _b;\n  const result = [];\n  data = data.map((d) => d.slice().sort((a, b) => b.point.size - a.point.size));\n  for (let j = 0; j < data.length; j++) {\n    const labels = result[j] = [];\n    const datum = data[j];\n    if (!((datum == null ? void 0 : datum.length) && datum[0].label)) {\n      continue;\n    }\n    for (let i = 0, ln = datum.length; i < ln; i++) {\n      const d = datum[i];\n      const { point, label, marker } = d;\n      const { text, width, height } = label;\n      const r = point.size * 0.5;\n      let dx = 0;\n      let dy = 0;\n      if (r > 0 && d.placement != null) {\n        const placement = labelPlacements[d.placement];\n        dx = (width * 0.5 + r + padding) * placement.x;\n        dy = (height * 0.5 + r + padding) * placement.y;\n      }\n      const x = point.x - width * 0.5 + dx - (((_a = marker == null ? void 0 : marker.center.x) != null ? _a : 0.5) - 0.5) * point.size;\n      const y = point.y - height * 0.5 + dy - (((_b = marker == null ? void 0 : marker.center.y) != null ? _b : 0.5) - 0.5) * point.size;\n      const withinBounds = !bounds || rectContainsRect(bounds, x, y, width, height);\n      if (!withinBounds) {\n        continue;\n      }\n      const overlapPoints = data.some(\n        (dataDatums) => dataDatums.some(\n          (dataDatum) => {\n            var _a2;\n            return circleRectOverlap(dataDatum.point, (_a2 = dataDatum.marker) == null ? void 0 : _a2.center, x, y, width, height);\n          }\n        )\n      );\n      if (overlapPoints) {\n        continue;\n      }\n      const overlapLabels = result.some((l2) => l2.some((l3) => rectRectOverlap(l3, x, y, width, height)));\n      if (overlapLabels) {\n        continue;\n      }\n      labels.push({\n        index: i,\n        text,\n        x,\n        y,\n        width,\n        height,\n        datum: d\n      });\n    }\n  }\n  return result;\n}\nfunction axisLabelsOverlap(data, padding) {\n  const result = [];\n  for (let i = 0; i < data.length; i++) {\n    const datum = data[i];\n    const {\n      point: { x, y },\n      label: { text }\n    } = datum;\n    let {\n      label: { width, height }\n    } = datum;\n    width += padding != null ? padding : 0;\n    height += padding != null ? padding : 0;\n    const overlapLabels = result.some((l) => {\n      return rectRectOverlap(l, x, y, width, height);\n    });\n    if (overlapLabels) {\n      return true;\n    }\n    result.push({\n      index: i,\n      text,\n      x,\n      y,\n      width,\n      height,\n      datum\n    });\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/util/equal.ts\nfunction areArrayItemsStrictlyEqual(arrA, arrB) {\n  return arrA.length === arrB.length && arrA.every((a, i) => {\n    const b = arrB[i];\n    if (Array.isArray(a) && Array.isArray(b)) {\n      return areArrayItemsStrictlyEqual(a, b);\n    }\n    return a === b;\n  });\n}\nfunction areArrayNumbersEqual(arrA, arrB) {\n  return arrA.length === arrB.length && arrA.every((item, i) => Number(item) === Number(arrB[i]));\n}\n\n// packages/ag-charts-community/src/util/proxy.ts\nfunction ProxyProperty(proxyPath) {\n  const pathArray = isArray(proxyPath) ? proxyPath : proxyPath.split(\".\");\n  if (pathArray.length === 1) {\n    const [property] = pathArray;\n    return addTransformToInstanceProperty(\n      (target, _, value) => target[property] = value,\n      (target) => target[property]\n    );\n  }\n  return addTransformToInstanceProperty(\n    (target, _, value) => setPath(target, pathArray, value),\n    (target) => getPath(target, pathArray)\n  );\n}\nfunction ProxyOnWrite(proxyProperty) {\n  return addTransformToInstanceProperty((target, _, value) => target[proxyProperty] = value);\n}\nfunction ProxyPropertyOnWrite(childName, childProperty) {\n  return addTransformToInstanceProperty((target, key, value) => target[childName][childProperty != null ? childProperty : key] = value);\n}\nfunction ActionOnSet(opts) {\n  const { newValue: newValueFn, oldValue: oldValueFn, changeValue: changeValueFn } = opts;\n  return addTransformToInstanceProperty((target, _, newValue, oldValue) => {\n    if (newValue !== oldValue) {\n      if (oldValue !== void 0) {\n        oldValueFn == null ? void 0 : oldValueFn.call(target, oldValue);\n      }\n      if (newValue !== void 0) {\n        newValueFn == null ? void 0 : newValueFn.call(target, newValue);\n      }\n      changeValueFn == null ? void 0 : changeValueFn.call(target, newValue, oldValue);\n    }\n    return newValue;\n  });\n}\nfunction ObserveChanges(observerFn) {\n  return addObserverToInstanceProperty(observerFn);\n}\n\n// packages/ag-charts-community/src/util/attributeUtil.ts\nfunction setAttribute(e, qualifiedName, value) {\n  if (value === void 0 || value === \"\") {\n    e == null ? void 0 : e.removeAttribute(qualifiedName);\n  } else {\n    e == null ? void 0 : e.setAttribute(qualifiedName, value.toString());\n  }\n}\n\n// packages/ag-charts-community/src/util/placement.ts\nfunction calculatePlacement(naturalWidth, naturalHeight, containerWidth, containerHeight, bounds) {\n  let { top, right, bottom, left, width, height } = bounds;\n  if (left != null) {\n    if (width != null) {\n      right = containerWidth - left + width;\n    } else if (right != null) {\n      width = containerWidth - left - right;\n    }\n  } else if (right != null && width != null) {\n    left = containerWidth - right - width;\n  }\n  if (top != null) {\n    if (height != null) {\n      bottom = containerHeight - top - height;\n    } else if (bottom != null) {\n      height = containerHeight - bottom - top;\n    }\n  } else if (bottom != null && height != null) {\n    top = containerHeight - bottom - height;\n  }\n  if (width == null) {\n    if (height == null) {\n      width = naturalWidth;\n      height = naturalHeight;\n    } else {\n      width = Math.ceil(naturalWidth * height / naturalHeight);\n    }\n  } else if (height == null) {\n    height = Math.ceil(naturalHeight * width / naturalWidth);\n  }\n  if (left == null) {\n    if (right == null) {\n      left = Math.floor((containerWidth - width) / 2);\n    } else {\n      left = containerWidth - right - width;\n    }\n  }\n  if (top == null) {\n    if (bottom == null) {\n      top = Math.floor((containerHeight - height) / 2);\n    } else {\n      top = containerHeight - height - bottom;\n    }\n  }\n  return { x: left, y: top, width, height };\n}\n\n// packages/ag-charts-community/src/chart/tooltip/tooltip.ts\nvar DEFAULT_TOOLTIP_CLASS = \"ag-chart-tooltip\";\nvar DEFAULT_TOOLTIP_DARK_CLASS = \"ag-chart-dark-tooltip\";\nvar EMPTY_TOOLTIP_CONTENT = { html: \"\", ariaLabel: \"\" };\nfunction toAccessibleText(inputHtml) {\n  const lineConverter = (_match, offset4, str) => {\n    if (offset4 === 0 || str[offset4 - 1] !== \".\") {\n      return \". \";\n    }\n    return \" \";\n  };\n  return inputHtml.replace(/<br\\s*\\/?>/g, lineConverter).replace(/<\\/p\\s+>/g, lineConverter).replace(/<\\/li\\s*\\/>/g, lineConverter).replace(/<[^>]+>/g, \"\");\n}\nfunction toTooltipHtml(input, defaults) {\n  var _a, _b, _c;\n  if (typeof input === \"string\") {\n    return { html: input, ariaLabel: input };\n  }\n  const {\n    content = (_a = defaults == null ? void 0 : defaults.content) != null ? _a : \"\",\n    title = defaults == null ? void 0 : defaults.title,\n    color = (_b = defaults == null ? void 0 : defaults.color) != null ? _b : \"white\",\n    backgroundColor = (_c = defaults == null ? void 0 : defaults.backgroundColor) != null ? _c : \"#888\"\n  } = input;\n  const titleHtml = title ? `<div class=\"${DEFAULT_TOOLTIP_CLASS}-title\"\n        style=\"color: ${color}; background-color: ${backgroundColor}\">${title}</div>` : \"\";\n  const titleAria = title ? `${title}: ` : \"\";\n  const contentHtml = content ? `<div class=\"${DEFAULT_TOOLTIP_CLASS}-content\">${content}</div>` : \"\";\n  return {\n    html: `${titleHtml}${contentHtml}`,\n    ariaLabel: toAccessibleText(`${titleAria}${content}`)\n  };\n}\nvar TooltipPosition = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    /** The type of positioning for the tooltip. By default, the tooltip follows the pointer. */\n    this.type = \"pointer\";\n    /** The horizontal offset in pixels for the position of the tooltip. */\n    this.xOffset = 0;\n    /** The vertical offset in pixels for the position of the tooltip. */\n    this.yOffset = 0;\n  }\n};\n__decorateClass([\n  Validate(\n    UNION(\n      [\n        \"pointer\",\n        \"node\",\n        \"top\",\n        \"right\",\n        \"bottom\",\n        \"left\",\n        \"top-left\",\n        \"top-right\",\n        \"bottom-right\",\n        \"bottom-left\"\n      ],\n      \"a position type\"\n    )\n  )\n], TooltipPosition.prototype, \"type\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], TooltipPosition.prototype, \"xOffset\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], TooltipPosition.prototype, \"yOffset\", 2);\nvar Tooltip = class extends BaseProperties {\n  constructor() {\n    super();\n    this.enabled = true;\n    this.delay = 0;\n    this.range = \"nearest\";\n    this.wrapping = \"hyphenate\";\n    this.position = new TooltipPosition();\n    this.darkTheme = false;\n    this.enableInteraction = false;\n    this.lastVisibilityChange = Date.now();\n    this.wrapTypes = [\"always\", \"hyphenate\", \"on-space\", \"never\"];\n    this.showTimeout = 0;\n    this._showArrow = true;\n    this.element = createElement(\"div\", DEFAULT_TOOLTIP_CLASS);\n    setAttribute(this.element, \"aria-hidden\", true);\n    this.root = getDocument(\"body\");\n    this.root.appendChild(this.element);\n  }\n  destroy() {\n    this.element.remove();\n  }\n  isVisible() {\n    return !this.element.classList.contains(DEFAULT_TOOLTIP_CLASS + \"-hidden\");\n  }\n  /**\n   * Shows tooltip at the given event's coordinates.\n   * If the `html` parameter is missing, moves the existing tooltip to the new position.\n   */\n  show(canvasRect, meta, content, instantly = false) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const { element: element2 } = this;\n    if (content != null) {\n      element2.innerHTML = content.html;\n    } else if (!element2.innerHTML) {\n      this.toggle(false);\n      return;\n    }\n    const positionType = (_b = (_a = meta.position) == null ? void 0 : _a.type) != null ? _b : this.position.type;\n    const xOffset = (_d = (_c = meta.position) == null ? void 0 : _c.xOffset) != null ? _d : 0;\n    const yOffset = (_f = (_e = meta.position) == null ? void 0 : _e.yOffset) != null ? _f : 0;\n    const tooltipBounds = this.getTooltipBounds({ positionType, meta, yOffset, xOffset, canvasRect });\n    const windowBounds = this.getWindowSize();\n    const position = calculatePlacement(\n      element2.clientWidth,\n      element2.clientHeight,\n      canvasRect.width,\n      canvasRect.height,\n      tooltipBounds\n    );\n    position.x += canvasRect.x;\n    position.y += canvasRect.y;\n    const left = clamp(0, position.x, windowBounds.width - element2.clientWidth - 1);\n    const top = clamp(0, position.y, windowBounds.height - element2.clientHeight);\n    const constrained = left !== position.x || top !== position.y;\n    const defaultShowArrow = (positionType === \"node\" || positionType === \"pointer\") && !constrained && !xOffset && !yOffset;\n    const showArrow = (_h = (_g = meta.showArrow) != null ? _g : this.showArrow) != null ? _h : defaultShowArrow;\n    this.updateShowArrow(showArrow);\n    element2.style.transform = `translate(${Math.round(left)}px, ${Math.round(top)}px)`;\n    this.enableInteraction = (_i = meta.enableInteraction) != null ? _i : false;\n    if (this.delay > 0 && !instantly) {\n      this.toggle(false);\n      this.showTimeout = setTimeout(() => {\n        this.toggle(true);\n      }, this.delay);\n    } else {\n      this.toggle(true);\n    }\n  }\n  getWindowSize() {\n    const { innerWidth, innerHeight } = getWindow();\n    return { width: innerWidth, height: innerHeight };\n  }\n  toggle(visible) {\n    const { classList } = this.element;\n    const toggleClass = (name, include) => classList.toggle(`${DEFAULT_TOOLTIP_CLASS}-${name}`, include);\n    const wasVisible = this.isVisible();\n    let timeSinceLastVisibilityChangeMs = Infinity;\n    if (!visible) {\n      clearTimeout(this.showTimeout);\n    }\n    if (wasVisible !== visible) {\n      const now = Date.now();\n      timeSinceLastVisibilityChangeMs = now - this.lastVisibilityChange;\n      this.lastVisibilityChange = now;\n    }\n    const animatedMoveThresholdMs = 100;\n    const thrashingThresholdMs = 5;\n    const noAnimation = !wasVisible && visible && timeSinceLastVisibilityChangeMs > animatedMoveThresholdMs;\n    if (timeSinceLastVisibilityChangeMs > thrashingThresholdMs) {\n      toggleClass(\"no-animation\", noAnimation);\n    }\n    toggleClass(\"no-interaction\", !this.enableInteraction);\n    toggleClass(\"hidden\", !visible);\n    toggleClass(\"arrow\", this._showArrow);\n    classList.toggle(DEFAULT_TOOLTIP_DARK_CLASS, this.darkTheme);\n    for (const wrapType of this.wrapTypes) {\n      classList.toggle(`${DEFAULT_TOOLTIP_CLASS}-wrap-${wrapType}`, wrapType === this.wrapping);\n    }\n  }\n  pointerLeftOntoTooltip(event) {\n    var _a;\n    if (!this.enableInteraction)\n      return false;\n    const classList = (_a = event.sourceEvent.relatedTarget) == null ? void 0 : _a.classList;\n    const classes = [\"\", \"-title\", \"-content\"];\n    const classListContains = Boolean(classes.filter((c) => classList == null ? void 0 : classList.contains(`${DEFAULT_TOOLTIP_CLASS}${c}`)));\n    return classList !== void 0 && classListContains;\n  }\n  updateShowArrow(show) {\n    this._showArrow = show;\n  }\n  getTooltipBounds({\n    positionType,\n    meta,\n    yOffset,\n    xOffset,\n    canvasRect\n  }) {\n    const { clientWidth: tooltipWidth, clientHeight: tooltipHeight } = this.element;\n    const bounds = { width: tooltipWidth, height: tooltipHeight };\n    switch (positionType) {\n      case \"node\":\n      case \"pointer\": {\n        bounds.top = meta.offsetY + yOffset - tooltipHeight - 8;\n        bounds.left = meta.offsetX + xOffset - tooltipWidth / 2;\n        return bounds;\n      }\n      case \"top\": {\n        bounds.top = yOffset;\n        bounds.left = canvasRect.width / 2 - tooltipWidth / 2 + xOffset;\n        return bounds;\n      }\n      case \"right\": {\n        bounds.top = canvasRect.height / 2 - tooltipHeight / 2 + yOffset;\n        bounds.left = canvasRect.width - tooltipWidth / 2 + xOffset;\n        return bounds;\n      }\n      case \"left\": {\n        bounds.top = canvasRect.height / 2 - tooltipHeight / 2 + yOffset;\n        bounds.left = xOffset;\n        return bounds;\n      }\n      case \"bottom\": {\n        bounds.top = canvasRect.height - tooltipHeight + yOffset;\n        bounds.left = canvasRect.width / 2 - tooltipWidth / 2 + xOffset;\n        return bounds;\n      }\n      case \"top-left\": {\n        bounds.top = yOffset;\n        bounds.left = xOffset;\n        return bounds;\n      }\n      case \"top-right\": {\n        bounds.top = yOffset;\n        bounds.left = canvasRect.width - tooltipWidth + xOffset;\n        return bounds;\n      }\n      case \"bottom-right\": {\n        bounds.top = canvasRect.height - tooltipHeight + yOffset;\n        bounds.left = canvasRect.width - tooltipWidth + xOffset;\n        return bounds;\n      }\n      case \"bottom-left\": {\n        bounds.top = canvasRect.height - tooltipHeight + yOffset;\n        bounds.left = xOffset;\n        return bounds;\n      }\n    }\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], Tooltip.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], Tooltip.prototype, \"showArrow\", 2);\n__decorateClass([\n  ObserveChanges((target, newValue, oldValue) => {\n    if (newValue) {\n      target.element.classList.add(newValue);\n    }\n    if (oldValue) {\n      target.element.classList.remove(oldValue);\n    }\n  }),\n  Validate(STRING, { optional: true })\n], Tooltip.prototype, \"class\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Tooltip.prototype, \"delay\", 2);\n__decorateClass([\n  Validate(INTERACTION_RANGE)\n], Tooltip.prototype, \"range\", 2);\n__decorateClass([\n  Validate(TEXT_WRAP)\n], Tooltip.prototype, \"wrapping\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Tooltip.prototype, \"position\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], Tooltip.prototype, \"darkTheme\", 2);\n\n// packages/ag-charts-community/src/chart/caption.ts\nvar Caption = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.id = createId(this);\n    this.node = new Text({ zIndex: 1 }).setProperties({\n      textAlign: \"center\",\n      pointerEvents: 1 /* None */\n    });\n    this.enabled = false;\n    this.textAlign = \"center\";\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.wrapping = \"always\";\n    this.truncated = false;\n  }\n  getOrAddRegion(moduleCtx, regionName) {\n    if (regionName === \"root\") {\n      return moduleCtx.regionManager.getRegion(\"root\");\n    } else {\n      return moduleCtx.regionManager.addRegionFromProperties({\n        name: regionName,\n        bboxproviders: [this.node],\n        canInteraction: () => this.enabled && this.node.visible\n      });\n    }\n  }\n  registerInteraction(moduleCtx, regionName) {\n    const region = this.getOrAddRegion(moduleCtx, regionName);\n    const destroyFns = [\n      region.addListener(\"hover\", (event) => this.handleMouseMove(moduleCtx, event)),\n      region.addListener(\"leave\", (event) => this.handleMouseLeave(moduleCtx, event))\n    ];\n    return joinFunctions(...destroyFns);\n  }\n  computeTextWrap(containerWidth, containerHeight) {\n    var _a, _b;\n    const { text, wrapping } = this;\n    const maxWidth = Math.min((_a = this.maxWidth) != null ? _a : Infinity, containerWidth);\n    const maxHeight = (_b = this.maxHeight) != null ? _b : containerHeight;\n    if (!isFinite(maxWidth) && !isFinite(maxHeight)) {\n      this.node.text = text;\n      return;\n    }\n    const { text: wrappedText, truncated } = Text.wrap(text != null ? text : \"\", maxWidth, maxHeight, this, wrapping);\n    this.node.text = wrappedText;\n    this.truncated = truncated;\n  }\n  updateTooltip(moduleCtx, event) {\n    if (event !== void 0 && this.enabled && this.node.visible && this.truncated) {\n      const { offsetX, offsetY } = event;\n      moduleCtx.tooltipManager.updateTooltip(\n        this.id,\n        { offsetX, offsetY, lastPointerEvent: event, showArrow: false },\n        toTooltipHtml({ content: this.text })\n      );\n      return true;\n    }\n    return false;\n  }\n  handleMouseMove(moduleCtx, event) {\n    if (this.updateTooltip(moduleCtx, event)) {\n      event.consume();\n    }\n  }\n  handleMouseLeave(moduleCtx, _event) {\n    moduleCtx.tooltipManager.removeTooltip(this.id);\n  }\n};\nCaption.SMALL_PADDING = 10;\nCaption.LARGE_PADDING = 20;\n__decorateClass([\n  Validate(BOOLEAN)\n], Caption.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"text\", 2);\n__decorateClass([\n  Validate(TEXT_ALIGN, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"textAlign\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true }),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING),\n  ProxyPropertyOnWrite(\"node\")\n], Caption.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true }),\n  ProxyPropertyOnWrite(\"node\", \"fill\")\n], Caption.prototype, \"color\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"spacing\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"lineHeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"maxWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Caption.prototype, \"maxHeight\", 2);\n__decorateClass([\n  Validate(TEXT_WRAP)\n], Caption.prototype, \"wrapping\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisGridLine.ts\nvar GRID_STYLE_KEYS = [\"stroke\", \"lineDash\"];\nvar GRID_STYLE = ARRAY_OF(\n  (value) => isObject(value) && Object.keys(value).every((key) => GRID_STYLE_KEYS.includes(key)),\n  \"objects with gridline style properties such as 'stroke' or 'lineDash'\"\n);\nvar AxisGridLine = class {\n  constructor() {\n    this.enabled = true;\n    this.width = 1;\n    this.style = [\n      {\n        stroke: void 0,\n        lineDash: []\n      }\n    ];\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisGridLine.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisGridLine.prototype, \"width\", 2);\n__decorateClass([\n  Validate(GRID_STYLE)\n], AxisGridLine.prototype, \"style\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisLabel.ts\nvar AxisLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.autoWrap = false;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.padding = 5;\n    this.minSpacing = NaN;\n    this.color = \"rgba(87, 87, 87, 1)\";\n    this.avoidCollisions = true;\n    this.mirrored = false;\n    this.parallel = false;\n  }\n  /**\n   * The side of the axis line to position the labels on.\n   * -1 = left (default)\n   * 1 = right\n   */\n  getSideFlag() {\n    return this.mirrored ? 1 : -1;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], AxisLabel.prototype, \"autoWrap\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AxisLabel.prototype, \"maxWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AxisLabel.prototype, \"maxHeight\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], AxisLabel.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], AxisLabel.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(NUMBER.restrict({ min: 1 }))\n], AxisLabel.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], AxisLabel.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisLabel.prototype, \"padding\", 2);\n__decorateClass([\n  Validate(NUMBER_OR_NAN),\n  Default(NaN)\n], AxisLabel.prototype, \"minSpacing\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], AxisLabel.prototype, \"color\", 2);\n__decorateClass([\n  Validate(DEGREE, { optional: true })\n], AxisLabel.prototype, \"rotation\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"avoidCollisions\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"mirrored\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisLabel.prototype, \"parallel\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], AxisLabel.prototype, \"formatter\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], AxisLabel.prototype, \"format\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisLine.ts\nvar AxisLine = class {\n  constructor() {\n    this.enabled = true;\n    this.width = 1;\n    this.color = void 0;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisLine.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisLine.prototype, \"width\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], AxisLine.prototype, \"color\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisTitle.ts\nvar AxisTitle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n    this.spacing = Caption.SMALL_PADDING;\n    this.fontSize = 10;\n    this.fontFamily = \"sans-serif\";\n    this.wrapping = \"always\";\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], AxisTitle.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], AxisTitle.prototype, \"text\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AxisTitle.prototype, \"spacing\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], AxisTitle.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], AxisTitle.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AxisTitle.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], AxisTitle.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], AxisTitle.prototype, \"color\", 2);\n__decorateClass([\n  Validate(TEXT_WRAP)\n], AxisTitle.prototype, \"wrapping\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], AxisTitle.prototype, \"formatter\", 2);\n\n// packages/ag-charts-community/src/chart/axis/axisUtil.ts\nfunction prepareAxisAnimationContext(axis) {\n  const [requestedRangeMin, requestedRangeMax] = findMinMax(axis.range);\n  const min = Math.floor(requestedRangeMin);\n  const max = Math.ceil(requestedRangeMax);\n  return { min, max, visible: min !== max };\n}\nvar fullCircle = Math.PI * 2;\nvar halfCircle = fullCircle / 2;\nfunction normaliseEndRotation(start, end) {\n  const directDistance = Math.abs(end - start);\n  if (directDistance < halfCircle)\n    return end;\n  if (start > end)\n    return end + fullCircle;\n  return end - fullCircle;\n}\nfunction prepareAxisAnimationFunctions(ctx) {\n  const outOfBounds = (y, range3) => {\n    const [min = ctx.min, max = ctx.max] = findMinMax(range3 != null ? range3 : []);\n    return y < min || y > max;\n  };\n  const tick = {\n    fromFn(node, datum, status) {\n      let y = node.y1 + node.translationY;\n      let opacity = node.opacity;\n      if (status === \"added\" || outOfBounds(node.datum.translationY, node.datum.range)) {\n        y = datum.translationY;\n        opacity = 0;\n      }\n      return { y: 0, translationY: y, opacity, phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status] };\n    },\n    toFn(_node, datum, status) {\n      const y = datum.translationY;\n      let opacity = 1;\n      if (status === \"removed\") {\n        opacity = 0;\n      }\n      return {\n        y: 0,\n        translationY: y,\n        opacity,\n        finish: {\n          // Set explicit y after animation so it's pixel aligned\n          y,\n          translationY: 0\n        }\n      };\n    },\n    intermediateFn(node, _datum, _status) {\n      return { visible: !outOfBounds(node.y) };\n    }\n  };\n  const label = {\n    fromFn(node, newDatum, status) {\n      var _a;\n      const datum = (_a = node.previousDatum) != null ? _a : newDatum;\n      const x = datum.x;\n      const y = datum.y;\n      const rotationCenterX = datum.rotationCenterX;\n      let translationY = Math.round(node.translationY);\n      let rotation = datum.rotation;\n      let opacity = node.opacity;\n      if (status === \"removed\" || outOfBounds(datum.y, datum.range)) {\n        rotation = newDatum.rotation;\n      } else if (status === \"added\" || outOfBounds(node.datum.y, node.datum.range)) {\n        translationY = Math.round(datum.translationY);\n        opacity = 0;\n        rotation = newDatum.rotation;\n      }\n      return {\n        x,\n        y,\n        rotationCenterX,\n        translationY,\n        rotation,\n        opacity,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n      };\n    },\n    toFn(node, datum, status) {\n      var _a, _b;\n      const x = datum.x;\n      const y = datum.y;\n      const rotationCenterX = datum.rotationCenterX;\n      const translationY = Math.round(datum.translationY);\n      let rotation = 0;\n      let opacity = 1;\n      if (status === \"added\") {\n        opacity = 1;\n        rotation = datum.rotation;\n      } else if (status === \"removed\") {\n        opacity = 0;\n        rotation = datum.rotation;\n      } else {\n        rotation = normaliseEndRotation((_b = (_a = node.previousDatum) == null ? void 0 : _a.rotation) != null ? _b : datum.rotation, datum.rotation);\n      }\n      return { x, y, rotationCenterX, translationY, rotation, opacity, finish: { rotation: datum.rotation } };\n    }\n  };\n  const line = {\n    fromFn(node, datum) {\n      var _a;\n      return __spreadProps(__spreadValues({}, (_a = node.previousDatum) != null ? _a : datum), {\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"updated\"]\n      });\n    },\n    toFn(_node, datum) {\n      return __spreadValues({}, datum);\n    }\n  };\n  const group2 = {\n    fromFn(node, _datum) {\n      const { rotation, translationX, translationY } = node;\n      return {\n        rotation,\n        translationX,\n        translationY,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"updated\"]\n      };\n    },\n    toFn(_node, datum) {\n      const { rotation, translationX, translationY } = datum;\n      return {\n        rotation,\n        translationX,\n        translationY\n      };\n    }\n  };\n  return { tick, line, label, group: group2 };\n}\nfunction resetAxisGroupFn() {\n  return (_node, datum) => {\n    return {\n      rotation: datum.rotation,\n      rotationCenterX: datum.rotationCenterX,\n      rotationCenterY: datum.rotationCenterY,\n      translationX: datum.translationX,\n      translationY: datum.translationY\n    };\n  };\n}\nfunction resetAxisSelectionFn(ctx) {\n  const { visible: rangeVisible, min, max } = ctx;\n  return (_node, datum) => {\n    const y = datum.translationY;\n    const visible = rangeVisible && y >= min && y <= max;\n    return {\n      y,\n      translationY: 0,\n      opacity: 1,\n      visible\n    };\n  };\n}\nfunction resetAxisLabelSelectionFn() {\n  return (_node, datum) => {\n    return {\n      x: datum.x,\n      y: datum.y,\n      translationY: datum.translationY,\n      rotation: datum.rotation,\n      rotationCenterX: datum.rotationCenterX\n    };\n  };\n}\nfunction resetAxisLineSelectionFn() {\n  return (_node, datum) => {\n    return __spreadValues({}, datum);\n  };\n}\n\n// packages/ag-charts-community/src/chart/axis/axis.ts\nvar _Axis = class _Axis {\n  constructor(moduleCtx, scale2, options) {\n    this.moduleCtx = moduleCtx;\n    this.scale = scale2;\n    this.id = createId(this);\n    this.nice = true;\n    this.reverse = false;\n    this.keys = [];\n    this.dataDomain = { domain: [], clipped: false };\n    this.boundSeries = [];\n    this.includeInvisibleDomains = false;\n    this.interactionEnabled = true;\n    this.axisGroup = new Group({ name: `${this.id}-axis`, zIndex: 2 /* AXIS_ZINDEX */ });\n    this.lineNode = this.axisGroup.appendChild(new Line());\n    this.tickLineGroup = this.axisGroup.appendChild(\n      new Group({ name: `${this.id}-Axis-tick-lines`, zIndex: 2 /* AXIS_ZINDEX */ })\n    );\n    this.tickLabelGroup = this.axisGroup.appendChild(\n      new Group({ name: `${this.id}-Axis-tick-labels`, zIndex: 2 /* AXIS_ZINDEX */ })\n    );\n    this.crossLineGroup = new Group({ name: `${this.id}-CrossLines` });\n    this.gridGroup = new Group({ name: `${this.id}-Axis-grid` });\n    this.gridLineGroup = this.gridGroup.appendChild(\n      new Group({\n        name: `${this.id}-gridLines`,\n        zIndex: 1 /* AXIS_GRID_ZINDEX */\n      })\n    );\n    this.tickLineGroupSelection = Selection.select(this.tickLineGroup, Line, false);\n    this.tickLabelGroupSelection = Selection.select(this.tickLabelGroup, Text, false);\n    this.gridLineGroupSelection = Selection.select(this.gridLineGroup, Line, false);\n    this.line = new AxisLine();\n    this.tick = this.createTick();\n    this.gridLine = new AxisGridLine();\n    this.label = this.createLabel();\n    this.defaultTickMinSpacing = _Axis.defaultTickMinSpacing;\n    this.translation = { x: 0, y: 0 };\n    this.rotation = 0;\n    // axis rotation angle in degrees\n    this.layout = {\n      label: {\n        fractionDigits: 0,\n        padding: this.label.padding,\n        format: this.label.format\n      }\n    };\n    this.destroyFns = [];\n    this.range = [0, 1];\n    this.visibleRange = [0, 1];\n    this.title = new AxisTitle();\n    this._titleCaption = new Caption();\n    this.gridLength = 0;\n    this.fractionDigits = 0;\n    /**\n     * The distance between the grid ticks and the axis ticks.\n     */\n    this.gridPadding = 0;\n    /**\n     * Is used to avoid collisions between axis labels and series.\n     */\n    this.seriesAreaPadding = 0;\n    this.tickGenerationResult = void 0;\n    this.maxThickness = Infinity;\n    this.moduleMap = new ModuleMap();\n    this.refreshScale();\n    this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx, \"root\"));\n    this._titleCaption.node.rotation = -Math.PI / 2;\n    this.axisGroup.appendChild(this._titleCaption.node);\n    this.destroyFns.push(\n      moduleCtx.regionManager.getRegion(\"series\").addListener(\"hover\", (e) => this.checkAxisHover(e))\n    );\n    this.animationManager = moduleCtx.animationManager;\n    this.animationState = new StateMachine(\"empty\", {\n      empty: {\n        update: {\n          target: \"ready\",\n          action: () => this.resetSelectionNodes()\n        },\n        reset: \"empty\"\n      },\n      ready: {\n        update: (data) => this.animateReadyUpdate(data),\n        resize: () => this.resetSelectionNodes(),\n        reset: \"empty\"\n      }\n    });\n    this._crossLines = [];\n    this.assignCrossLineArrayConstructor(this._crossLines);\n    let previousSize = void 0;\n    this.destroyFns.push(\n      moduleCtx.layoutService.addListener(\"layout-complete\", (e) => {\n        if (previousSize != null && jsonDiff(e.chart, previousSize) != null) {\n          this.animationState.transition(\"resize\");\n        }\n        previousSize = __spreadValues({}, e.chart);\n      })\n    );\n    if ((options == null ? void 0 : options.respondsToZoom) !== false) {\n      this.destroyFns.push(\n        moduleCtx.updateService.addListener(\"update-complete\", (e) => {\n          this.minRect = e.minRect;\n        })\n      );\n    }\n  }\n  get type() {\n    var _a;\n    return (_a = this.constructor.type) != null ? _a : \"\";\n  }\n  set crossLines(value) {\n    var _a, _b;\n    (_a = this._crossLines) == null ? void 0 : _a.forEach((crossLine) => this.detachCrossLine(crossLine));\n    if (value) {\n      this.assignCrossLineArrayConstructor(value);\n    }\n    this._crossLines = value;\n    (_b = this._crossLines) == null ? void 0 : _b.forEach((crossLine) => {\n      this.attachCrossLine(crossLine);\n      this.initCrossLine(crossLine);\n    });\n  }\n  get crossLines() {\n    return this._crossLines;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    }\n  }\n  attachCrossLine(crossLine) {\n    this.crossLineGroup.appendChild(crossLine.group);\n    this.crossLineGroup.appendChild(crossLine.labelGroup);\n  }\n  detachCrossLine(crossLine) {\n    this.crossLineGroup.removeChild(crossLine.group);\n    this.crossLineGroup.removeChild(crossLine.labelGroup);\n  }\n  destroy() {\n    this.moduleMap.destroy();\n    this.destroyFns.forEach((f) => f());\n  }\n  refreshScale() {\n    var _a;\n    this.range = this.scale.range.slice();\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(this.initCrossLine, this);\n  }\n  updateRange() {\n    var _a;\n    const { range: rr, visibleRange: vr, scale: scale2 } = this;\n    const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n    const shift = span * vr[0];\n    const start = rr[0] - shift;\n    scale2.range = [start, start + span];\n    (_a = this.crossLines) == null ? void 0 : _a.forEach((crossLine) => {\n      crossLine.clippedRange = [rr[0], rr[1]];\n    });\n  }\n  setCrossLinesVisible(visible) {\n    this.crossLineGroup.visible = visible;\n  }\n  attachAxis(axisNode, gridNode) {\n    gridNode.appendChild(this.gridGroup);\n    axisNode.appendChild(this.axisGroup);\n    axisNode.appendChild(this.crossLineGroup);\n  }\n  detachAxis(axisNode, gridNode) {\n    gridNode.removeChild(this.gridGroup);\n    axisNode.removeChild(this.axisGroup);\n    axisNode.removeChild(this.crossLineGroup);\n  }\n  /**\n   * Checks if a point or an object is in range.\n   * @param x A point (or object's starting point).\n   * @param width Object's width.\n   * @param tolerance Expands the range on both ends by this amount.\n   */\n  inRange(x, width = 0, tolerance = 0) {\n    const [min, max] = findMinMax(this.range);\n    return x + width >= min - tolerance && x <= max + tolerance;\n  }\n  onLabelFormatChange(ticks, _domain, format2) {\n    const { scale: scale2, fractionDigits } = this;\n    const logScale = scale2 instanceof LogScale;\n    const defaultLabelFormatter = !logScale && fractionDigits > 0 ? (x) => typeof x === \"number\" ? x.toFixed(fractionDigits) : String(x) : (x) => String(x);\n    if (format2 && scale2 && scale2.tickFormat) {\n      try {\n        this.labelFormatter = scale2.tickFormat({ ticks, specifier: format2 });\n      } catch (e) {\n        this.labelFormatter = defaultLabelFormatter;\n        Logger.warnOnce(`the axis label format string ${format2} is invalid. No formatting will be applied`);\n      }\n    } else {\n      this.labelFormatter = defaultLabelFormatter;\n    }\n  }\n  setTickInterval(interval) {\n    var _a;\n    this.scale.interval = (_a = this.tick.interval) != null ? _a : interval;\n  }\n  setTickCount(count, minTickCount, maxTickCount) {\n    const { scale: scale2 } = this;\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    if (!(count && continuous)) {\n      return;\n    }\n    if (typeof count === \"number\") {\n      scale2.tickCount = count;\n      scale2.minTickCount = minTickCount != null ? minTickCount : 0;\n      scale2.maxTickCount = maxTickCount != null ? maxTickCount : Infinity;\n      return;\n    }\n    if (scale2 instanceof TimeScale) {\n      this.setTickInterval(count);\n    }\n  }\n  onGridLengthChange(value, prevValue) {\n    var _a;\n    if (prevValue && !value || !prevValue && value) {\n      this.onGridVisibilityChange();\n    }\n    (_a = this.crossLines) == null ? void 0 : _a.forEach(this.initCrossLine, this);\n  }\n  onGridVisibilityChange() {\n    this.gridLineGroupSelection.clear();\n  }\n  createLabel() {\n    return new AxisLabel();\n  }\n  checkAxisHover(event) {\n    if (!this.interactionEnabled)\n      return;\n    const bbox = this.computeBBox();\n    const isInAxis = bbox.containsPoint(event.offsetX, event.offsetY);\n    if (!isInAxis)\n      return;\n    this.moduleCtx.chartEventManager.axisHover(this.id, this.direction);\n  }\n  /**\n   * Creates/removes/updates the scene graph nodes that constitute the axis.\n   */\n  update(_primaryTickCount = 0, animated = true) {\n    if (!this.tickGenerationResult) {\n      return;\n    }\n    const { rotation, parallelFlipRotation, regularFlipRotation } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    this.updatePosition();\n    const lineData = this.getAxisLineCoordinates();\n    const { tickData, combinedRotation, textBaseline, textAlign, primaryTickCount } = this.tickGenerationResult;\n    const previousTicks = this.tickLabelGroupSelection.nodes().map((node) => node.datum.tickId);\n    this.updateSelections(lineData, tickData.ticks, {\n      combinedRotation,\n      textAlign,\n      textBaseline,\n      range: this.scale.range\n    });\n    if (!animated || this.animationManager.isSkipped()) {\n      this.resetSelectionNodes();\n    } else {\n      const diff2 = this.calculateUpdateDiff(previousTicks, tickData);\n      this.animationState.transition(\"update\", diff2);\n    }\n    this.updateAxisLine();\n    this.updateLabels();\n    this.updateVisibility();\n    this.updateGridLines(sideFlag);\n    this.updateTickLines();\n    this.updateTitle({ anyTickVisible: tickData.ticks.length > 0 });\n    this.updateCrossLines({ rotation, parallelFlipRotation, regularFlipRotation });\n    this.updateLayoutState();\n    return primaryTickCount;\n  }\n  getAxisLineCoordinates() {\n    const [min, max] = findMinMax(this.range);\n    return { x: 0, y1: min, y2: max };\n  }\n  getTickLineCoordinates(datum) {\n    const sideFlag = this.label.getSideFlag();\n    const x = sideFlag * this.getTickSize();\n    const x1 = Math.min(0, x);\n    const x2 = x1 + Math.abs(x);\n    const y = datum.translationY;\n    return { x1, x2, y };\n  }\n  getTickLabelProps(datum, params) {\n    const { label } = this;\n    const { combinedRotation, textBaseline, textAlign, range: range3 } = params;\n    const text = datum.tickLabel;\n    const sideFlag = label.getSideFlag();\n    const labelX = sideFlag * (this.getTickSize() + label.padding + this.seriesAreaPadding);\n    const visible = text !== \"\" && text != null;\n    return {\n      tickId: datum.tickId,\n      translationY: datum.translationY,\n      fill: label.color,\n      fontFamily: label.fontFamily,\n      fontSize: label.fontSize,\n      fontStyle: label.fontStyle,\n      fontWeight: label.fontWeight,\n      rotation: combinedRotation,\n      rotationCenterX: labelX,\n      text,\n      textAlign,\n      textBaseline,\n      visible,\n      x: labelX,\n      y: 0,\n      range: range3\n    };\n  }\n  getTickSize() {\n    return this.tick.enabled ? this.tick.size : this.createTick().size;\n  }\n  setTitleProps(caption, params) {\n    var _a;\n    const { title } = this;\n    if (!title.enabled) {\n      caption.enabled = false;\n      return;\n    }\n    caption.color = title.color;\n    caption.fontFamily = title.fontFamily;\n    caption.fontSize = title.fontSize;\n    caption.fontStyle = title.fontStyle;\n    caption.fontWeight = title.fontWeight;\n    caption.enabled = title.enabled;\n    caption.wrapping = title.wrapping;\n    if (title.enabled) {\n      const titleNode = caption.node;\n      const padding = ((_a = title.spacing) != null ? _a : 0) + params.spacing;\n      const sideFlag = this.label.getSideFlag();\n      const parallelFlipRotation = normalizeAngle360(this.rotation);\n      const titleRotationFlag = sideFlag === -1 && parallelFlipRotation > Math.PI && parallelFlipRotation < Math.PI * 2 ? -1 : 1;\n      const rotation = titleRotationFlag * sideFlag * Math.PI / 2;\n      const textBaseline = titleRotationFlag === 1 ? \"bottom\" : \"top\";\n      const { range: range3 } = this;\n      const x = Math.floor(titleRotationFlag * sideFlag * (range3[0] + range3[1]) / 2);\n      const y = sideFlag === -1 ? Math.floor(titleRotationFlag * -padding) : Math.floor(-padding);\n      const { callbackCache } = this.moduleCtx;\n      const { formatter = (p) => p.defaultValue } = title;\n      const text = callbackCache.call(formatter, this.getTitleFormatterParams());\n      titleNode.setProperties({\n        rotation,\n        text,\n        textBaseline,\n        visible: true,\n        x,\n        y\n      });\n    }\n  }\n  calculateLayout(primaryTickCount) {\n    var _b, _c;\n    const { rotation, parallelFlipRotation, regularFlipRotation } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    const labelX = sideFlag * (this.getTickSize() + this.label.padding + this.seriesAreaPadding);\n    this.updateScale();\n    this.tickGenerationResult = this.generateTicks({\n      primaryTickCount,\n      parallelFlipRotation,\n      regularFlipRotation,\n      labelX,\n      sideFlag\n    });\n    this.updateLayoutState();\n    const _a = this.tickGenerationResult, { tickData, combinedRotation, textBaseline, textAlign } = _a, ticksResult = __objRest(_a, [\"tickData\", \"combinedRotation\", \"textBaseline\", \"textAlign\"]);\n    const boxes = [];\n    const { x, y1, y2 } = this.getAxisLineCoordinates();\n    const lineBox = new BBox(\n      x + Math.min(sideFlag * this.seriesAreaPadding, 0),\n      y1,\n      this.seriesAreaPadding,\n      y2 - y1\n    );\n    boxes.push(lineBox);\n    if (this.tick.enabled) {\n      tickData.ticks.forEach((datum) => {\n        const { x1, x2, y } = this.getTickLineCoordinates(datum);\n        const tickLineBox = new BBox(x1, y, x2 - x1, 0);\n        boxes.push(tickLineBox);\n      });\n    }\n    if (this.label.enabled) {\n      const tempText = new Text();\n      tickData.ticks.forEach((datum) => {\n        const labelProps = this.getTickLabelProps(datum, {\n          combinedRotation,\n          textAlign,\n          textBaseline,\n          range: this.scale.range\n        });\n        if (!labelProps.visible) {\n          return;\n        }\n        tempText.setProperties(__spreadProps(__spreadValues({}, labelProps), {\n          translationY: Math.round(datum.translationY)\n        }));\n        const box = tempText.computeTransformedBBox();\n        if (box) {\n          boxes.push(box);\n        }\n      });\n    }\n    const getTransformBox = (bbox2) => {\n      const matrix = new Matrix();\n      const {\n        rotation: axisRotation,\n        translationX,\n        translationY,\n        rotationCenterX,\n        rotationCenterY\n      } = this.getAxisTransform();\n      Matrix.updateTransformMatrix(matrix, 1, 1, axisRotation, translationX, translationY, {\n        scalingCenterX: 0,\n        scalingCenterY: 0,\n        rotationCenterX,\n        rotationCenterY\n      });\n      return matrix.transformBBox(bbox2);\n    };\n    if ((_b = this.title) == null ? void 0 : _b.enabled) {\n      const caption = new Caption();\n      const spacing = BBox.merge(boxes).width;\n      this.setTitleProps(caption, { spacing });\n      const titleNode = caption.node;\n      const titleBox = titleNode.computeTransformedBBox();\n      if (titleBox) {\n        boxes.push(titleBox);\n      }\n    }\n    const bbox = BBox.merge(boxes);\n    const transformedBBox = getTransformBox(bbox);\n    const anySeriesActive = this.isAnySeriesActive();\n    (_c = this.crossLines) == null ? void 0 : _c.forEach((crossLine) => {\n      var _a2;\n      crossLine.sideFlag = -sideFlag;\n      crossLine.direction = rotation === -Math.PI / 2 ? \"x\" /* X */ : \"y\" /* Y */;\n      if (crossLine instanceof CartesianCrossLine) {\n        crossLine.label.parallel = (_a2 = crossLine.label.parallel) != null ? _a2 : this.label.parallel;\n      }\n      crossLine.parallelFlipRotation = parallelFlipRotation;\n      crossLine.regularFlipRotation = regularFlipRotation;\n      crossLine.calculateLayout(anySeriesActive, this.reverse);\n    });\n    primaryTickCount = ticksResult.primaryTickCount;\n    return { primaryTickCount, bbox: transformedBBox };\n  }\n  updateLayoutState() {\n    this.layout.label = {\n      fractionDigits: this.fractionDigits,\n      padding: this.label.padding,\n      format: this.label.format\n    };\n  }\n  setDomain(domain) {\n    this.dataDomain = this.normaliseDataDomain(domain);\n    if (this.reverse) {\n      this.dataDomain.domain.reverse();\n    }\n    this.scale.domain = this.dataDomain.domain;\n  }\n  updateScale() {\n    this.updateRange();\n    this.calculateDomain();\n    this.setTickInterval(this.tick.interval);\n    const { scale: scale2, nice } = this;\n    if (!ContinuousScale.is(scale2)) {\n      return;\n    }\n    scale2.nice = nice;\n    scale2.update();\n  }\n  calculateRotations() {\n    const rotation = toRadians(this.rotation);\n    const parallelFlipRotation = normalizeAngle360(rotation);\n    const regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n    return { rotation, parallelFlipRotation, regularFlipRotation };\n  }\n  generateTicks({\n    primaryTickCount,\n    parallelFlipRotation,\n    regularFlipRotation,\n    labelX,\n    sideFlag\n  }) {\n    var _a;\n    const {\n      scale: scale2,\n      tick,\n      label: { parallel, rotation, fontFamily, fontSize, fontStyle, fontWeight }\n    } = this;\n    const secondaryAxis = primaryTickCount !== void 0;\n    const { defaultRotation, configuredRotation, parallelFlipFlag, regularFlipFlag } = calculateLabelRotation({\n      rotation,\n      parallel,\n      regularFlipRotation,\n      parallelFlipRotation\n    });\n    const initialRotation = configuredRotation + defaultRotation;\n    const labelMatrix = new Matrix();\n    const { maxTickCount } = this.estimateTickCount({\n      minSpacing: tick.minSpacing,\n      maxSpacing: (_a = tick.maxSpacing) != null ? _a : NaN\n    });\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const maxIterations = !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n    let textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n    const textBaseline = getTextBaseline(parallel, configuredRotation, sideFlag, parallelFlipFlag);\n    const textProps = {\n      fontFamily,\n      fontSize,\n      fontStyle,\n      fontWeight,\n      textBaseline,\n      textAlign\n    };\n    let tickData = {\n      rawTicks: [],\n      ticks: [],\n      labelCount: 0\n    };\n    let index = 0;\n    let autoRotation = 0;\n    let labelOverlap = true;\n    let terminate = false;\n    while (labelOverlap && index <= maxIterations) {\n      if (terminate) {\n        break;\n      }\n      autoRotation = 0;\n      textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n      const tickStrategies = this.getTickStrategies({ secondaryAxis, index });\n      for (const strategy of tickStrategies) {\n        ({ tickData, index, autoRotation, terminate } = strategy({\n          index,\n          tickData,\n          textProps,\n          labelOverlap,\n          terminate,\n          primaryTickCount\n        }));\n        const rotated = configuredRotation !== 0 || autoRotation !== 0;\n        const labelRotation = initialRotation + autoRotation;\n        textAlign = getTextAlign(parallel, configuredRotation, autoRotation, sideFlag, regularFlipFlag);\n        labelOverlap = this.label.avoidCollisions ? this.checkLabelOverlap(labelRotation, rotated, labelMatrix, tickData.ticks, labelX, __spreadProps(__spreadValues({}, textProps), {\n          textAlign\n        })) : false;\n      }\n    }\n    const combinedRotation = defaultRotation + configuredRotation + autoRotation;\n    if (!secondaryAxis && tickData.rawTicks.length > 0) {\n      primaryTickCount = tickData.rawTicks.length;\n    }\n    return { tickData, primaryTickCount, combinedRotation, textBaseline, textAlign };\n  }\n  getTickStrategies({\n    index: iteration,\n    secondaryAxis\n  }) {\n    const { scale: scale2, label, tick } = this;\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const avoidLabelCollisions = label.enabled && label.avoidCollisions;\n    const filterTicks = !continuous && iteration !== 0 && avoidLabelCollisions;\n    const autoRotate = label.autoRotate === true && label.rotation === void 0;\n    const strategies = [];\n    let tickGenerationType;\n    if (this.tick.values) {\n      tickGenerationType = 3 /* VALUES */;\n    } else if (secondaryAxis) {\n      tickGenerationType = 1 /* CREATE_SECONDARY */;\n    } else if (filterTicks) {\n      tickGenerationType = 2 /* FILTER */;\n    } else {\n      tickGenerationType = 0 /* CREATE */;\n    }\n    const tickGenerationStrategy = ({ index, tickData, primaryTickCount, terminate }) => this.createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount);\n    strategies.push(tickGenerationStrategy);\n    if (!continuous && !isNaN(tick.minSpacing)) {\n      const tickFilterStrategy = ({ index, tickData, primaryTickCount, terminate }) => this.createTickData(2 /* FILTER */, index, tickData, terminate, primaryTickCount);\n      strategies.push(tickFilterStrategy);\n    }\n    if (!avoidLabelCollisions) {\n      return strategies;\n    }\n    if (label.autoWrap) {\n      const autoWrapStrategy = ({ index, tickData, textProps }) => this.wrapLabels(tickData, index, textProps);\n      strategies.push(autoWrapStrategy);\n    } else if (autoRotate) {\n      const autoRotateStrategy = ({ index, tickData, labelOverlap, terminate }) => ({\n        index,\n        tickData,\n        autoRotation: this.getAutoRotation(labelOverlap),\n        terminate\n      });\n      strategies.push(autoRotateStrategy);\n    }\n    return strategies;\n  }\n  createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount) {\n    var _a;\n    const { scale: scale2, tick } = this;\n    const { maxTickCount, minTickCount, defaultTickCount } = this.estimateTickCount({\n      minSpacing: tick.minSpacing,\n      maxSpacing: (_a = tick.maxSpacing) != null ? _a : NaN\n    });\n    const continuous = ContinuousScale.is(scale2) || OrdinalTimeScale.is(scale2);\n    const maxIterations = !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n    let tickCount = continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount;\n    const regenerateTicks = tick.interval === void 0 && tick.values === void 0 && tickCount > minTickCount && (continuous || tickGenerationType === 2 /* FILTER */);\n    let unchanged = true;\n    while (unchanged && index <= maxIterations) {\n      const prevTicks = tickData.rawTicks;\n      tickCount = continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount;\n      const { rawTicks, ticks, labelCount } = this.getTicks({\n        tickGenerationType,\n        previousTicks: prevTicks,\n        tickCount,\n        minTickCount,\n        maxTickCount,\n        primaryTickCount\n      });\n      tickData.rawTicks = rawTicks;\n      tickData.ticks = ticks;\n      tickData.labelCount = labelCount;\n      unchanged = regenerateTicks ? areArrayNumbersEqual(rawTicks, prevTicks) : false;\n      index++;\n    }\n    const shouldTerminate = tick.interval !== void 0 || tick.values !== void 0;\n    terminate || (terminate = shouldTerminate);\n    return { tickData, index, autoRotation: 0, terminate };\n  }\n  checkLabelOverlap(rotation, rotated, labelMatrix, tickData, labelX, textProps) {\n    Matrix.updateTransformMatrix(labelMatrix, 1, 1, rotation, 0, 0);\n    const labelData = this.createLabelData(tickData, labelX, textProps, labelMatrix);\n    const labelSpacing = getLabelSpacing(this.label.minSpacing, rotated);\n    return axisLabelsOverlap(labelData, labelSpacing);\n  }\n  createLabelData(tickData, labelX, textProps, labelMatrix) {\n    const labelData = [];\n    const measurer = new TextMeasurer(textProps);\n    for (const { tickLabel, translationY } of tickData) {\n      if (tickLabel === \"\" || tickLabel == null)\n        continue;\n      const { width, height } = measurer.size(tickLabel);\n      const bbox = new BBox(labelX, translationY, width, height);\n      const labelDatum = calculateLabelBBox(tickLabel, bbox, labelX, translationY, labelMatrix);\n      labelData.push(labelDatum);\n    }\n    return labelData;\n  }\n  getAutoRotation(labelOverlap) {\n    var _a;\n    return labelOverlap ? normalizeAngle360(toRadians((_a = this.label.autoRotateAngle) != null ? _a : 0)) : 0;\n  }\n  getTicks({\n    tickGenerationType,\n    previousTicks,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    primaryTickCount\n  }) {\n    var _a;\n    const { range: range3, scale: scale2, visibleRange } = this;\n    let rawTicks;\n    switch (tickGenerationType) {\n      case 3 /* VALUES */:\n        if (ContinuousScale.is(scale2)) {\n          const [d0, d1] = findMinMax(scale2.getDomain().map(Number));\n          rawTicks = this.tick.values.filter((value) => value >= d0 && value <= d1).sort((a, b) => a - b);\n        } else {\n          rawTicks = this.tick.values;\n        }\n        break;\n      case 1 /* CREATE_SECONDARY */:\n        if (ContinuousScale.is(scale2)) {\n          rawTicks = this.updateSecondaryAxisTicks(primaryTickCount);\n        } else {\n          rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n        }\n        break;\n      case 2 /* FILTER */:\n        rawTicks = this.filterTicks(previousTicks, tickCount);\n        break;\n      default:\n        rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n        break;\n    }\n    this.fractionDigits = rawTicks.fractionDigits >= 0 ? rawTicks.fractionDigits : 0;\n    const halfBandwidth = ((_a = scale2.bandwidth) != null ? _a : 0) / 2;\n    const ticks = [];\n    let labelCount = 0;\n    const tickIdCounts = /* @__PURE__ */ new Map();\n    const start = Math.max(0, Math.floor(visibleRange[0] * rawTicks.length));\n    const end = Math.min(rawTicks.length, Math.ceil(visibleRange[1] * rawTicks.length));\n    const filteredTicks = rawTicks.slice(start, end);\n    this.onLabelFormatChange(filteredTicks, rawTicks, this.label.format);\n    for (let i = 0; i < filteredTicks.length; i++) {\n      const tick = filteredTicks[i];\n      const translationY = scale2.convert(tick) + halfBandwidth;\n      if (range3.length > 0 && !this.inRange(translationY, 0, 1e-3))\n        continue;\n      const tickLabel = this.formatTick(tick, start + i);\n      let tickId = tickLabel;\n      if (tickIdCounts.has(tickId)) {\n        const count = tickIdCounts.get(tickId);\n        tickIdCounts.set(tickId, count + 1);\n        tickId = `${tickId}_${count}`;\n      } else {\n        tickIdCounts.set(tickId, 1);\n      }\n      ticks.push({ tick, tickId, tickLabel, translationY: Math.floor(translationY) });\n      if (tickLabel === \"\" || tickLabel == null) {\n        continue;\n      }\n      labelCount++;\n    }\n    return { rawTicks, ticks, labelCount };\n  }\n  filterTicks(ticks, tickCount) {\n    var _a;\n    const tickSpacing = !isNaN(this.tick.minSpacing) || !isNaN((_a = this.tick.maxSpacing) != null ? _a : NaN);\n    const keepEvery = tickSpacing ? Math.ceil(ticks.length / tickCount) : 2;\n    return ticks.filter((_, i) => i % keepEvery === 0);\n  }\n  createTicks(tickCount, minTickCount, maxTickCount) {\n    var _a, _b, _c;\n    this.setTickCount(tickCount, minTickCount, maxTickCount);\n    return (_c = (_b = (_a = this.scale).ticks) == null ? void 0 : _b.call(_a)) != null ? _c : [];\n  }\n  estimateTickCount({ minSpacing, maxSpacing }) {\n    const {\n      minRect,\n      label: { avoidCollisions }\n    } = this;\n    if (!avoidCollisions) {\n      return {\n        minTickCount: ContinuousScale.defaultMaxTickCount,\n        maxTickCount: ContinuousScale.defaultMaxTickCount,\n        defaultTickCount: ContinuousScale.defaultMaxTickCount\n      };\n    }\n    const rangeWithBleed = this.calculateRangeWithBleed();\n    const defaultMinSpacing = Math.max(\n      this.defaultTickMinSpacing,\n      rangeWithBleed / ContinuousScale.defaultMaxTickCount\n    );\n    let clampMaxTickCount = !isNaN(maxSpacing);\n    if (isNaN(minSpacing)) {\n      minSpacing = defaultMinSpacing;\n    }\n    if (isNaN(maxSpacing)) {\n      maxSpacing = rangeWithBleed;\n    }\n    if (minSpacing > maxSpacing) {\n      if (minSpacing === defaultMinSpacing) {\n        minSpacing = maxSpacing;\n      } else {\n        maxSpacing = minSpacing;\n      }\n    }\n    let minRectDistance = 1;\n    if (minRect) {\n      minRectDistance = this.direction === \"x\" /* X */ ? minRect.width : minRect.height;\n    }\n    clampMaxTickCount && (clampMaxTickCount = minRectDistance < defaultMinSpacing);\n    const maxTickCount = clamp(\n      1,\n      Math.floor(rangeWithBleed / minSpacing),\n      clampMaxTickCount ? Math.min(Math.floor(rangeWithBleed / minRectDistance), 100) : 100\n    );\n    const minTickCount = Math.min(maxTickCount, Math.ceil(rangeWithBleed / maxSpacing));\n    const defaultTickCount = clamp(minTickCount, ContinuousScale.defaultTickCount, maxTickCount);\n    return { minTickCount, maxTickCount, defaultTickCount };\n  }\n  updateVisibility() {\n    if (this.moduleCtx.animationManager.isSkipped()) {\n      this.resetSelectionNodes();\n    }\n    this.tickLineGroup.visible = this.tick.enabled;\n    this.gridLineGroup.visible = this.gridLine.enabled;\n    this.tickLabelGroup.visible = this.label.enabled;\n  }\n  updateCrossLines({\n    rotation,\n    parallelFlipRotation,\n    regularFlipRotation\n  }) {\n    var _a;\n    const sideFlag = this.label.getSideFlag();\n    const anySeriesActive = this.isAnySeriesActive();\n    (_a = this.crossLines) == null ? void 0 : _a.forEach((crossLine) => {\n      var _a2;\n      crossLine.sideFlag = -sideFlag;\n      crossLine.direction = rotation === -Math.PI / 2 ? \"x\" /* X */ : \"y\" /* Y */;\n      if (crossLine instanceof CartesianCrossLine) {\n        crossLine.label.parallel = (_a2 = crossLine.label.parallel) != null ? _a2 : this.label.parallel;\n      }\n      crossLine.parallelFlipRotation = parallelFlipRotation;\n      crossLine.regularFlipRotation = regularFlipRotation;\n      crossLine.update(anySeriesActive);\n    });\n  }\n  updateTickLines() {\n    const { tick, label } = this;\n    const sideFlag = label.getSideFlag();\n    this.tickLineGroupSelection.each((line) => {\n      line.strokeWidth = tick.width;\n      line.stroke = tick.color;\n      line.x1 = sideFlag * this.getTickSize();\n      line.x2 = 0;\n    });\n  }\n  calculateAvailableRange() {\n    return findRangeExtent(this.range);\n  }\n  /**\n   * Calculates the available range with an additional \"bleed\" beyond the canvas that encompasses the full axis when\n   * the visible range is only a portion of the axis.\n   */\n  calculateRangeWithBleed() {\n    const visibleScale = 1 / findRangeExtent(this.visibleRange);\n    return round(this.calculateAvailableRange() * visibleScale, 2);\n  }\n  calculateDomain() {\n    const visibleSeries = this.boundSeries.filter((s) => this.includeInvisibleDomains || s.isEnabled());\n    const domains = visibleSeries.flatMap((series) => series.getDomain(this.direction));\n    this.setDomain(domains);\n  }\n  getAxisTransform() {\n    return {\n      rotation: toRadians(this.rotation),\n      rotationCenterX: 0,\n      rotationCenterY: 0,\n      translationX: Math.floor(this.translation.x),\n      translationY: Math.floor(this.translation.y)\n    };\n  }\n  updatePosition() {\n    const { crossLineGroup, axisGroup, gridGroup, translation, gridLineGroupSelection, gridPadding, gridLength } = this;\n    const { rotation } = this.calculateRotations();\n    const sideFlag = this.label.getSideFlag();\n    const translationX = Math.floor(translation.x);\n    const translationY = Math.floor(translation.y);\n    crossLineGroup.setProperties({ rotation, translationX, translationY });\n    gridGroup.setProperties({ rotation, translationX, translationY });\n    axisGroup.datum = this.getAxisTransform();\n    gridLineGroupSelection.each((line) => {\n      line.x1 = gridPadding;\n      line.x2 = -sideFlag * gridLength + gridPadding;\n    });\n  }\n  updateSecondaryAxisTicks(_primaryTickCount) {\n    throw new Error(\"AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.\");\n  }\n  updateSelections(lineData, data, params) {\n    this.lineNode.datum = lineData;\n    this.gridLineGroupSelection.update(\n      this.gridLength ? data : [],\n      (group2) => group2.append(new Line()),\n      (datum) => datum.tickId\n    );\n    this.tickLineGroupSelection.update(\n      data,\n      (group2) => group2.appendChild(new Line()),\n      (datum) => datum.tickId\n    );\n    this.tickLabelGroupSelection.update(\n      data.map((d) => this.getTickLabelProps(d, params)),\n      (group2) => group2.appendChild(new Text()),\n      (datum) => datum.tickId\n    );\n  }\n  updateAxisLine() {\n    const { line } = this;\n    const strokeWidth = line.enabled ? line.width : 0;\n    this.lineNode.setProperties({\n      stroke: line.color,\n      strokeWidth\n    });\n  }\n  updateGridLines(sideFlag) {\n    const {\n      gridLine: { style, width },\n      gridPadding,\n      gridLength\n    } = this;\n    if (gridLength === 0 || style.length === 0) {\n      return;\n    }\n    this.gridLineGroupSelection.each((line, _, index) => {\n      const { stroke, lineDash } = style[index % style.length];\n      line.setProperties({\n        x1: gridPadding,\n        x2: -sideFlag * gridLength + gridPadding,\n        fill: void 0,\n        stroke,\n        strokeWidth: width,\n        lineDash\n      });\n    });\n  }\n  updateLabels() {\n    const { label } = this;\n    if (!label.enabled) {\n      return;\n    }\n    this.tickLabelGroupSelection.each((node, datum) => {\n      node.setProperties(datum, [\n        \"fill\",\n        \"fontFamily\",\n        \"fontSize\",\n        \"fontStyle\",\n        \"fontWeight\",\n        \"text\",\n        \"textAlign\",\n        \"textBaseline\"\n      ]);\n    });\n  }\n  wrapLabels(tickData, index, labelProps) {\n    const { parallel, maxWidth, maxHeight } = this.label;\n    let defaultMaxWidth = this.maxThickness;\n    let defaultMaxHeight = Math.round(this.calculateAvailableRange() / tickData.labelCount);\n    if (parallel) {\n      [defaultMaxWidth, defaultMaxHeight] = [defaultMaxHeight, defaultMaxWidth];\n    }\n    tickData.ticks.forEach((tickDatum) => {\n      const { text } = Text.wrap(\n        tickDatum.tickLabel,\n        maxWidth != null ? maxWidth : defaultMaxWidth,\n        maxHeight != null ? maxHeight : defaultMaxHeight,\n        labelProps,\n        \"hyphenate\"\n      );\n      tickDatum.tickLabel = text;\n    });\n    return { tickData, index, autoRotation: 0, terminate: true };\n  }\n  updateTitle(params) {\n    const { rotation, title, _titleCaption, lineNode, tickLineGroup, tickLabelGroup } = this;\n    if (!title) {\n      _titleCaption.enabled = false;\n      return;\n    }\n    let spacing = 0;\n    if (title.enabled && params.anyTickVisible) {\n      const tickBBox = Group.computeBBox([tickLineGroup, tickLabelGroup, lineNode]);\n      const tickWidth = rotation === 0 ? tickBBox.width : tickBBox.height;\n      spacing += tickWidth + (this.tickLabelGroup.visible ? 0 : this.seriesAreaPadding);\n    }\n    this.setTitleProps(_titleCaption, { spacing });\n  }\n  // For formatting (nice rounded) tick values.\n  formatTick(datum, index) {\n    return this.datumFormatter(index)(datum);\n  }\n  // For formatting arbitrary values between the ticks.\n  formatDatum(datum) {\n    return String(datum);\n  }\n  datumFormatter(index = 0) {\n    const {\n      label,\n      labelFormatter,\n      fractionDigits,\n      moduleCtx: { callbackCache }\n    } = this;\n    if (label.formatter) {\n      return (datum) => {\n        var _a;\n        return (_a = callbackCache.call(label.formatter, {\n          value: fractionDigits > 0 ? datum : String(datum),\n          index,\n          fractionDigits,\n          formatter: labelFormatter\n        })) != null ? _a : datum;\n      };\n    } else if (labelFormatter) {\n      return (datum) => {\n        var _a;\n        return (_a = callbackCache.call(labelFormatter, datum)) != null ? _a : String(datum);\n      };\n    }\n    return (datum) => String(datum);\n  }\n  computeBBox() {\n    return this.axisGroup.computeBBox();\n  }\n  initCrossLine(crossLine) {\n    crossLine.scale = this.scale;\n    crossLine.gridLength = this.gridLength;\n  }\n  isAnySeriesActive() {\n    return this.boundSeries.some((s) => this.includeInvisibleDomains || s.isEnabled());\n  }\n  clipTickLines(x, y, width, height) {\n    this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n  }\n  clipGrid(x, y, width, height) {\n    this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n  }\n  calculatePadding(min, max) {\n    const padding = Math.abs(this.reverse ? max : min) * 0.01;\n    return [padding, padding];\n  }\n  getTitleFormatterParams() {\n    var _a;\n    const boundSeries = this.boundSeries.reduce((acc, next) => {\n      const keys = next.getKeys(this.direction);\n      const names = next.getNames(this.direction);\n      for (let idx = 0; idx < keys.length; idx++) {\n        acc.push({ key: keys[idx], name: names[idx] });\n      }\n      return acc;\n    }, []);\n    return {\n      direction: this.direction,\n      boundSeries,\n      defaultValue: (_a = this.title) == null ? void 0 : _a.text\n    };\n  }\n  normaliseDataDomain(d) {\n    return { domain: [...d], clipped: false };\n  }\n  getLayoutState() {\n    return __spreadValues({\n      rect: this.computeBBox(),\n      gridPadding: this.gridPadding,\n      seriesAreaPadding: this.seriesAreaPadding,\n      tickSize: this.getTickSize(),\n      direction: this.direction,\n      domain: this.dataDomain.domain,\n      scale: this.scale\n    }, this.layout);\n  }\n  getModuleMap() {\n    return this.moduleMap;\n  }\n  createModuleContext() {\n    var _a;\n    (_a = this.axisContext) != null ? _a : this.axisContext = this.createAxisContext();\n    return __spreadProps(__spreadValues({}, this.moduleCtx), { parent: this.axisContext });\n  }\n  createAxisContext() {\n    return {\n      axisId: this.id,\n      direction: this.direction,\n      continuous: ContinuousScale.is(this.scale),\n      keys: () => this.boundSeries.flatMap((s) => s.getKeys(this.direction)),\n      seriesKeyProperties: () => this.boundSeries.reduce((keys, series) => {\n        const seriesKeys = series.getKeyProperties(this.direction);\n        seriesKeys.forEach((key) => {\n          if (keys.indexOf(key) < 0) {\n            keys.push(key);\n          }\n        });\n        return keys;\n      }, []),\n      scaleValueFormatter: (specifier) => {\n        var _a, _b;\n        return specifier ? (_b = (_a = this.scale).tickFormat) == null ? void 0 : _b.call(_a, { specifier }) : this.formatDatum;\n      },\n      scaleBandwidth: () => {\n        var _a;\n        return (_a = this.scale.bandwidth) != null ? _a : 0;\n      },\n      scaleConvert: (val) => this.scale.convert(val),\n      scaleInvert: (val) => {\n        var _a, _b;\n        return (_b = (_a = this.scale).invert) == null ? void 0 : _b.call(_a, val);\n      }\n    };\n  }\n  animateReadyUpdate(diff2) {\n    const { animationManager } = this.moduleCtx;\n    const selectionCtx = prepareAxisAnimationContext(this);\n    const fns = prepareAxisAnimationFunctions(selectionCtx);\n    fromToMotion(this.id, \"axis-group\", animationManager, [this.axisGroup], fns.group);\n    fromToMotion(this.id, \"line\", animationManager, [this.lineNode], fns.line);\n    fromToMotion(\n      this.id,\n      \"line-paths\",\n      animationManager,\n      [this.gridLineGroupSelection, this.tickLineGroupSelection],\n      fns.tick,\n      (_, d) => d.tickId,\n      diff2\n    );\n    fromToMotion(\n      this.id,\n      \"tick-labels\",\n      animationManager,\n      [this.tickLabelGroupSelection],\n      fns.label,\n      (_, d) => d.tickId,\n      diff2\n    );\n  }\n  resetSelectionNodes() {\n    const { gridLineGroupSelection, tickLineGroupSelection, tickLabelGroupSelection, lineNode } = this;\n    const selectionCtx = prepareAxisAnimationContext(this);\n    resetMotion([this.axisGroup], resetAxisGroupFn());\n    resetMotion([gridLineGroupSelection, tickLineGroupSelection], resetAxisSelectionFn(selectionCtx));\n    resetMotion([tickLabelGroupSelection], resetAxisLabelSelectionFn());\n    resetMotion([lineNode], resetAxisLineSelectionFn());\n  }\n  calculateUpdateDiff(previous, tickData) {\n    const added = /* @__PURE__ */ new Set();\n    const removed = /* @__PURE__ */ new Set();\n    const tickMap = {};\n    const tickCount = Math.max(previous.length, tickData.ticks.length);\n    for (let i = 0; i < tickCount; i++) {\n      const tickDatum = tickData.ticks[i];\n      const prev = previous[i];\n      const tick = tickDatum == null ? void 0 : tickDatum.tickId;\n      tickMap[tick != null ? tick : prev] = tickDatum;\n      if (prev === tick) {\n        continue;\n      }\n      if (removed.has(tick)) {\n        removed.delete(tick);\n      } else if (tick) {\n        added.add(tick);\n      }\n      if (added.has(prev)) {\n        added.delete(prev);\n      } else if (prev) {\n        removed.add(prev);\n      }\n    }\n    return { changed: added.size > 0 || removed.size > 0, added, removed };\n  }\n  isReversed() {\n    return this.reverse;\n  }\n};\n_Axis.defaultTickMinSpacing = 50;\n__decorateClass([\n  Validate(BOOLEAN)\n], _Axis.prototype, \"nice\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], _Axis.prototype, \"reverse\", 2);\n__decorateClass([\n  Validate(STRING_ARRAY)\n], _Axis.prototype, \"keys\", 2);\n__decorateClass([\n  Validate(OBJECT, { optional: true })\n], _Axis.prototype, \"title\", 2);\n__decorateClass([\n  ObserveChanges((target, value, oldValue) => target.onGridLengthChange(value, oldValue))\n], _Axis.prototype, \"gridLength\", 2);\nvar Axis = _Axis;\n\n// packages/ag-charts-community/src/chart/axis/cartesianAxisLabel.ts\nvar CartesianAxisLabel = class extends AxisLabel {\n  constructor() {\n    super(...arguments);\n    this.autoRotateAngle = 335;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], CartesianAxisLabel.prototype, \"autoRotate\", 2);\n__decorateClass([\n  Validate(DEGREE)\n], CartesianAxisLabel.prototype, \"autoRotateAngle\", 2);\n\n// packages/ag-charts-community/src/chart/axis/cartesianAxis.ts\nvar _CartesianAxis = class _CartesianAxis extends Axis {\n  constructor() {\n    super(...arguments);\n    this.thickness = 0;\n    this.position = \"left\";\n  }\n  static is(value) {\n    return value instanceof _CartesianAxis;\n  }\n  get direction() {\n    return [\"top\", \"bottom\"].includes(this.position) ? \"x\" /* X */ : \"y\" /* Y */;\n  }\n  updateDirection() {\n    switch (this.position) {\n      case \"top\":\n        this.rotation = -90;\n        this.label.mirrored = true;\n        this.label.parallel = true;\n        break;\n      case \"right\":\n        this.rotation = 0;\n        this.label.mirrored = true;\n        this.label.parallel = false;\n        break;\n      case \"bottom\":\n        this.rotation = -90;\n        this.label.mirrored = false;\n        this.label.parallel = true;\n        break;\n      case \"left\":\n        this.rotation = 0;\n        this.label.mirrored = false;\n        this.label.parallel = false;\n        break;\n    }\n    if (this.axisContext) {\n      this.axisContext.position = this.position;\n      this.axisContext.direction = this.direction;\n    }\n  }\n  update(primaryTickCount, animated) {\n    this.updateDirection();\n    return super.update(primaryTickCount, animated);\n  }\n  calculateLayout(primaryTickCount) {\n    this.updateDirection();\n    return super.calculateLayout(primaryTickCount);\n  }\n  createAxisContext() {\n    return __spreadProps(__spreadValues({}, super.createAxisContext()), {\n      position: this.position\n    });\n  }\n  assignCrossLineArrayConstructor(crossLines) {\n    assignJsonApplyConstructedArray(crossLines, CartesianCrossLine);\n  }\n  createLabel() {\n    return new CartesianAxisLabel();\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], _CartesianAxis.prototype, \"thickness\", 2);\n__decorateClass([\n  Validate(POSITION2)\n], _CartesianAxis.prototype, \"position\", 2);\nvar CartesianAxis = _CartesianAxis;\n\n// packages/ag-charts-community/src/chart/axis/categoryAxis.ts\nvar CategoryAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n  }\n};\n__decorateClass([\n  Validate(MIN_SPACING),\n  Default(NaN)\n], CategoryAxisTick.prototype, \"minSpacing\", 2);\nvar CategoryAxis = class extends CartesianAxis {\n  constructor(moduleCtx, scale2 = new BandScale()) {\n    super(moduleCtx, scale2);\n    this._paddingOverrideEnabled = false;\n    this.groupPaddingInner = 0.1;\n    this.includeInvisibleDomains = true;\n  }\n  set paddingInner(value) {\n    this._paddingOverrideEnabled = true;\n    this.scale.paddingInner = value;\n  }\n  get paddingInner() {\n    this._paddingOverrideEnabled = true;\n    return this.scale.paddingInner;\n  }\n  set paddingOuter(value) {\n    this.scale.paddingOuter = value;\n  }\n  get paddingOuter() {\n    return this.scale.paddingOuter;\n  }\n  createTick() {\n    return new CategoryAxisTick();\n  }\n  normaliseDataDomain(d) {\n    const domain = [];\n    const uniqueValues = /* @__PURE__ */ new Set();\n    for (const v of d) {\n      const key = v instanceof Date ? v.getTime() : v;\n      if (!uniqueValues.has(key)) {\n        uniqueValues.add(key);\n        domain.push(v);\n      }\n    }\n    return { domain, clipped: false };\n  }\n  calculateDomain() {\n    if (!this._paddingOverrideEnabled) {\n      const paddings = this.boundSeries.map((s) => {\n        var _a;\n        return (_a = s.getBandScalePadding) == null ? void 0 : _a.call(s);\n      }).filter((p) => p != null);\n      if (paddings.length > 0) {\n        this.scale.paddingInner = Math.min(...paddings.map((p) => p.inner));\n        this.scale.paddingOuter = Math.max(...paddings.map((p) => p.outer));\n      }\n    }\n    return super.calculateDomain();\n  }\n};\nCategoryAxis.className = \"CategoryAxis\";\nCategoryAxis.type = \"category\";\n__decorateClass([\n  Validate(RATIO)\n], CategoryAxis.prototype, \"groupPaddingInner\", 2);\n\n// packages/ag-charts-community/src/chart/axis/tree.ts\nvar TreeNode = class {\n  // current number in sibling group (index)\n  constructor(label = \"\", parent, number = 0) {\n    this.x = 0;\n    this.y = 0;\n    this.subtreeLeft = NaN;\n    this.subtreeRight = NaN;\n    this.screenX = 0;\n    this.screenY = 0;\n    this.children = [];\n    this.leafCount = 0;\n    this.prelim = 0;\n    this.mod = 0;\n    this.ancestor = this;\n    this.change = 0;\n    this.shift = 0;\n    this.label = label;\n    this.parent = parent;\n    this.depth = parent ? parent.depth + 1 : 0;\n    this.number = number;\n  }\n  getLeftSibling() {\n    return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : void 0;\n  }\n  getLeftmostSibling() {\n    return this.number > 0 && this.parent ? this.parent.children[0] : void 0;\n  }\n  // traverse the left contour of a subtree, return the successor of v on this contour\n  nextLeft() {\n    return this.children ? this.children[0] : this.thread;\n  }\n  // traverse the right contour of a subtree, return the successor of v on this contour\n  nextRight() {\n    return this.children ? this.children[this.children.length - 1] : this.thread;\n  }\n  getSiblings() {\n    return this.parent ? this.parent.children.filter((_, i) => i !== this.number) : [];\n  }\n};\nfunction ticksToTree(ticks, pad2 = true) {\n  const root = new TreeNode();\n  let depth = 0;\n  if (pad2) {\n    ticks.forEach((tick) => depth = Math.max(depth, tick.labels.length));\n  }\n  ticks.forEach((tick) => {\n    if (pad2) {\n      while (tick.labels.length < depth) {\n        tick.labels.unshift(\"\");\n      }\n    }\n    insertTick(root, tick);\n  });\n  return root;\n}\nfunction insertTick(root, tick) {\n  const pathParts = tick.labels.slice().reverse();\n  const lastPartIndex = pathParts.length - 1;\n  pathParts.forEach((pathPart, partIndex) => {\n    const children = root.children;\n    const existingNode = children.find((child) => child.label === pathPart);\n    const isNotLeaf = partIndex !== lastPartIndex;\n    if (existingNode && isNotLeaf) {\n      root = existingNode;\n    } else {\n      const node = new TreeNode(pathPart, root);\n      node.number = children.length;\n      children.push(node);\n      if (isNotLeaf) {\n        root = node;\n      }\n    }\n  });\n}\nfunction moveSubtree(wm, wp, shift) {\n  const subtrees = wp.number - wm.number;\n  const ratio = shift / subtrees;\n  wp.change -= ratio;\n  wp.shift += shift;\n  wm.change += ratio;\n  wp.prelim += shift;\n  wp.mod += shift;\n}\nfunction ancestor(vim, v, defaultAncestor) {\n  return v.getSiblings().indexOf(vim.ancestor) >= 0 ? vim.ancestor : defaultAncestor;\n}\nfunction executeShifts(v) {\n  const children = v.children;\n  if (children) {\n    let shift = 0;\n    let change = 0;\n    for (let i = children.length - 1; i >= 0; i--) {\n      const w = children[i];\n      w.prelim += shift;\n      w.mod += shift;\n      change += w.change;\n      shift += w.shift + change;\n    }\n  }\n}\nfunction apportion(v, defaultAncestor, distance2) {\n  const w = v.getLeftSibling();\n  if (w) {\n    let vop = v;\n    let vip = v;\n    let vim = w;\n    let vom = vip.getLeftmostSibling();\n    let sip = vip.mod;\n    let sop = vop.mod;\n    let sim = vim.mod;\n    let som = vom.mod;\n    while (vim.nextRight() && vip.nextLeft()) {\n      vim = vim.nextRight();\n      vip = vip.nextLeft();\n      vom = vom.nextLeft();\n      vop = vop.nextRight();\n      vop.ancestor = v;\n      const shift = vim.prelim + sim - (vip.prelim + sip) + distance2;\n      if (shift > 0) {\n        moveSubtree(ancestor(vim, v, defaultAncestor), v, shift);\n        sip += shift;\n        sop += shift;\n      }\n      sim += vim.mod;\n      sip += vip.mod;\n      som += vom.mod;\n      sop += vop.mod;\n    }\n    if (vim.nextRight() && !vop.nextRight()) {\n      vop.thread = vim.nextRight();\n      vop.mod += sim - sop;\n    } else {\n      if (vip.nextLeft() && !vom.nextLeft()) {\n        vom.thread = vip.nextLeft();\n        vom.mod += sip - som;\n      }\n      defaultAncestor = v;\n    }\n  }\n  return defaultAncestor;\n}\nfunction firstWalk(node, distance2) {\n  const children = node.children;\n  if (children.length) {\n    let defaultAncestor = children[0];\n    children.forEach((child) => {\n      firstWalk(child, distance2);\n      defaultAncestor = apportion(child, defaultAncestor, distance2);\n    });\n    executeShifts(node);\n    const midpoint = (children[0].prelim + children.at(-1).prelim) / 2;\n    const leftSibling = node.getLeftSibling();\n    if (leftSibling) {\n      node.prelim = leftSibling.prelim + distance2;\n      node.mod = node.prelim - midpoint;\n    } else {\n      node.prelim = midpoint;\n    }\n  } else {\n    const leftSibling = node.getLeftSibling();\n    node.prelim = leftSibling ? leftSibling.prelim + distance2 : 0;\n  }\n}\nvar Dimensions = class {\n  constructor() {\n    this.top = Infinity;\n    this.right = -Infinity;\n    this.bottom = -Infinity;\n    this.left = Infinity;\n  }\n  update(node, xy) {\n    const { x, y } = xy(node);\n    if (x > this.right) {\n      this.right = x;\n    }\n    if (x < this.left) {\n      this.left = x;\n    }\n    if (y > this.bottom) {\n      this.bottom = y;\n    }\n    if (y < this.top) {\n      this.top = y;\n    }\n  }\n};\nfunction secondWalk(v, m, layout) {\n  v.x = v.prelim + m;\n  v.y = v.depth;\n  layout.update(v);\n  v.children.forEach((w) => secondWalk(w, m + v.mod, layout));\n}\nfunction thirdWalk(v) {\n  const children = v.children;\n  let leafCount = 0;\n  children.forEach((w) => {\n    thirdWalk(w);\n    if (w.children.length) {\n      leafCount += w.leafCount;\n    } else {\n      leafCount++;\n    }\n  });\n  v.leafCount = leafCount;\n  if (children.length) {\n    v.subtreeLeft = children[0].subtreeLeft;\n    v.subtreeRight = children[v.children.length - 1].subtreeRight;\n    v.x = (v.subtreeLeft + v.subtreeRight) / 2;\n  } else {\n    v.subtreeLeft = v.x;\n    v.subtreeRight = v.x;\n  }\n}\nfunction treeLayout(root) {\n  const layout = new TreeLayout();\n  firstWalk(root, 1);\n  secondWalk(root, -root.prelim, layout);\n  thirdWalk(root);\n  return layout;\n}\nvar TreeLayout = class {\n  constructor() {\n    this.dimensions = new Dimensions();\n    this.leafCount = 0;\n    this.nodes = [];\n    // One might want to process leaf nodes separately from the rest of the tree.\n    // For example, position labels corresponding to leafs vertically, rather than horizontally.\n    this.leafNodes = [];\n    this.nonLeafNodes = [];\n    this.depth = 0;\n  }\n  update(node) {\n    this.dimensions.update(node, (n) => ({ x: n.x, y: n.y }));\n    if (node.children.length) {\n      this.nonLeafNodes.push(node);\n    } else {\n      this.leafCount++;\n      this.leafNodes.push(node);\n    }\n    if (node.depth > this.depth) {\n      this.depth = node.depth;\n    }\n    this.nodes.push(node);\n  }\n  resize(width, height, shiftX = 0, shiftY = 0, flipX = false) {\n    const xSteps = this.leafCount - 1;\n    const ySteps = this.depth;\n    const dimensions = this.dimensions;\n    let scalingX = 1;\n    let scalingY = 1;\n    if (width > 0 && xSteps) {\n      const existingSpacingX = (dimensions.right - dimensions.left) / xSteps;\n      const desiredSpacingX = width / xSteps;\n      scalingX = desiredSpacingX / existingSpacingX;\n      if (flipX) {\n        scalingX = -scalingX;\n      }\n    }\n    if (height > 0 && ySteps) {\n      const existingSpacingY = (dimensions.bottom - dimensions.top) / ySteps;\n      const desiredSpacingY = height / ySteps;\n      scalingY = desiredSpacingY / existingSpacingY;\n    }\n    const screenDimensions = new Dimensions();\n    this.nodes.forEach((node) => {\n      node.screenX = node.x * scalingX;\n      node.screenY = node.y * scalingY;\n      screenDimensions.update(node, (n) => ({ x: n.screenX, y: n.screenY }));\n    });\n    const offsetX = -screenDimensions.left;\n    const offsetY = -screenDimensions.top;\n    this.nodes.forEach((node) => {\n      node.screenX += offsetX + shiftX;\n      node.screenY += offsetY + shiftY;\n    });\n  }\n};\n\n// packages/ag-charts-community/src/chart/axis/groupedCategoryAxis.ts\nvar GroupedCategoryAxisLabel = class extends AxisLabel {\n  constructor() {\n    super(...arguments);\n    this.grid = false;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], GroupedCategoryAxisLabel.prototype, \"grid\", 2);\nvar GroupedCategoryAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new BandScale());\n    // Label scale (labels are positioned between ticks, tick count = label count + 1).\n    // We don't call is `labelScale` for consistency with other axes.\n    this.tickScale = new BandScale();\n    this.line = new AxisLine();\n    this.label = new GroupedCategoryAxisLabel();\n    this.labelColor = \"rgba(87, 87, 87, 1)\";\n    this.includeInvisibleDomains = true;\n    const { tickLineGroup, tickLabelGroup, gridLineGroup, tickScale, scale: scale2 } = this;\n    scale2.paddingOuter = 0.1;\n    scale2.paddingInner = scale2.paddingOuter * 2;\n    this.refreshScale();\n    tickScale.paddingInner = 1;\n    tickScale.paddingOuter = 0;\n    this.gridLineSelection = Selection.select(gridLineGroup, Line);\n    this.axisLineSelection = Selection.select(tickLineGroup, Line);\n    this.separatorSelection = Selection.select(tickLineGroup, Line);\n    this.labelSelection = Selection.select(tickLabelGroup, Text);\n  }\n  updateRange() {\n    const { range: rr, visibleRange: vr, scale: scale2 } = this;\n    const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n    const shift = span * vr[0];\n    const start = rr[0] - shift;\n    this.tickScale.range = scale2.range = [start, start + span];\n    this.resizeTickTree();\n  }\n  resizeTickTree() {\n    var _a;\n    const s = this.scale;\n    const range3 = s.domain.length ? [s.convert(s.domain[0]), s.convert(s.domain[s.domain.length - 1])] : s.range;\n    const layout = this.tickTreeLayout;\n    const lineHeight = this.lineHeight;\n    if (layout) {\n      layout.resize(\n        Math.abs(range3[1] - range3[0]),\n        layout.depth * lineHeight,\n        (Math.min(range3[0], range3[1]) || 0) + ((_a = s.bandwidth) != null ? _a : 0) / 2,\n        -layout.depth * lineHeight,\n        range3[1] - range3[0] < 0\n      );\n    }\n  }\n  get lineHeight() {\n    return this.label.fontSize * 1.5;\n  }\n  /**\n   * The length of the grid. The grid is only visible in case of a non-zero value.\n   */\n  onGridVisibilityChange() {\n    this.gridLineSelection.clear();\n    this.labelSelection.clear();\n  }\n  createTick() {\n    return new CategoryAxisTick();\n  }\n  calculateDomain() {\n    var _a;\n    const { direction } = this;\n    let isNumericX = null;\n    const flatDomains = this.boundSeries.filter((s) => s.visible).flatMap((series) => {\n      if (direction === \"y\" /* Y */ || isNumericX) {\n        return series.getDomain(direction);\n      }\n      if (isNumericX === null) {\n        const domain2 = series.getDomain(direction);\n        isNumericX = isNumber(domain2[0]);\n        return domain2;\n      }\n      return [];\n    });\n    this.setDomain((_a = extent(flatDomains)) != null ? _a : unique(flatDomains));\n    const { domain } = this.dataDomain;\n    this.tickTreeLayout = treeLayout(ticksToTree(domain));\n    this.tickScale.domain = domain.concat(\"\");\n    this.resizeTickTree();\n  }\n  /**\n   * Creates/removes/updates the scene graph nodes that constitute the axis.\n   * Supposed to be called _manually_ after changing _any_ of the axis properties.\n   * This allows to bulk set axis properties before updating the nodes.\n   * The node changes made by this method are rendered on the next animation frame.\n   * We could schedule this method call automatically on the next animation frame\n   * when any of the axis properties change (the way we do when properties of scene graph's\n   * nodes change), but this will mean that we first wait for the next animation\n   * frame to make changes to the nodes of the axis, then wait for another animation\n   * frame to render those changes. It's nice to have everything update automatically,\n   * but this extra level of async indirection will not just introduce an unwanted delay,\n   * it will also make it harder to reason about the program.\n   */\n  update() {\n    if (!this.computedLayout) {\n      return;\n    }\n    this.updatePosition();\n    this.updateTitleCaption();\n    this.updateCategoryLabels();\n    this.updateSeparators();\n    this.updateAxisLines();\n    this.updateCategoryGridLines();\n    this.resetSelectionNodes();\n  }\n  updateTitleCaption() {\n    const { _titleCaption } = this;\n    _titleCaption.node.visible = false;\n  }\n  updateCategoryLabels() {\n    if (!this.computedLayout)\n      return;\n    const { tickLabelLayout } = this.computedLayout;\n    const labelSelection = this.labelSelection.update(tickLabelLayout);\n    labelSelection.each((node, datum) => {\n      node.setProperties(datum);\n    });\n  }\n  updateSeparators() {\n    if (!this.computedLayout)\n      return;\n    const { separatorLayout } = this.computedLayout;\n    const { range: range3 } = this;\n    const epsilon2 = 1e-7;\n    const separatorSelection = this.separatorSelection.update(separatorLayout);\n    separatorSelection.each((line, datum) => {\n      line.x1 = datum.x1;\n      line.x2 = datum.x2;\n      line.y1 = datum.y;\n      line.y2 = datum.y;\n      line.visible = datum.y >= range3[0] - epsilon2 && datum.y <= range3[1] + epsilon2;\n      line.stroke = this.tick.color;\n      line.fill = void 0;\n      line.strokeWidth = 1;\n    });\n  }\n  updateAxisLines() {\n    if (!this.computedLayout)\n      return;\n    const { axisLineLayout } = this.computedLayout;\n    const axisLineSelection = this.axisLineSelection.update(axisLineLayout);\n    axisLineSelection.each((line, datum) => {\n      line.setProperties(__spreadProps(__spreadValues({}, datum), {\n        stroke: this.line.color,\n        strokeWidth: this.line.width\n      }));\n      line.x1 = datum.x;\n      line.x2 = datum.x;\n      line.y1 = datum.y1;\n      line.y2 = datum.y2;\n      line.strokeWidth = this.line.width;\n      line.stroke = this.line.color;\n    });\n  }\n  updateCategoryGridLines() {\n    const { gridLength, gridLine, label, range: range3, tickScale } = this;\n    const ticks = tickScale.ticks();\n    const sideFlag = label.getSideFlag();\n    const gridSelection = this.gridLineSelection.update(gridLength ? ticks : []);\n    if (gridLength) {\n      const { width, style } = gridLine;\n      const styleCount = style.length;\n      gridSelection.each((line, datum, index) => {\n        const y = Math.round(tickScale.convert(datum));\n        line.x1 = 0;\n        line.x2 = -sideFlag * gridLength;\n        line.y1 = y;\n        line.y2 = y;\n        line.visible = y >= range3[0] && y <= range3[1];\n        const { stroke, lineDash } = style[index % styleCount];\n        line.stroke = stroke;\n        line.strokeWidth = width;\n        line.lineDash = lineDash;\n        line.fill = void 0;\n      });\n    }\n  }\n  computeLayout() {\n    this.updateDirection();\n    this.calculateDomain();\n    this.updateRange();\n    const {\n      scale: scale2,\n      label,\n      label: { parallel },\n      moduleCtx: { callbackCache },\n      range: range3,\n      title,\n      title: { formatter = (p) => p.defaultValue } = {}\n    } = this;\n    const rangeStart = scale2.range[0];\n    const rangeEnd = scale2.range[1];\n    const rangeLength = Math.abs(rangeEnd - rangeStart);\n    const bandwidth = rangeLength / scale2.domain.length || 0;\n    const keepEvery = Math.ceil(label.fontSize / bandwidth);\n    const rotation = toRadians(this.rotation);\n    const isHorizontal = Math.abs(Math.cos(rotation)) < 1e-8;\n    const sideFlag = label.getSideFlag();\n    const lineHeight = this.lineHeight;\n    const tickTreeLayout = this.tickTreeLayout;\n    const labels = scale2.ticks();\n    const treeLabels = tickTreeLayout ? tickTreeLayout.nodes : [];\n    const isLabelTree = tickTreeLayout ? tickTreeLayout.depth > 1 : false;\n    const { defaultRotation, configuredRotation, parallelFlipFlag } = calculateLabelRotation({\n      rotation: label.rotation,\n      parallel,\n      regularFlipRotation: normalizeAngle360(rotation - Math.PI / 2),\n      parallelFlipRotation: normalizeAngle360(rotation)\n    });\n    const tickLabelLayout = [];\n    const copyLabelProps = (node) => {\n      return {\n        fill: node.fill,\n        fontFamily: node.fontFamily,\n        fontSize: node.fontSize,\n        fontStyle: node.fontStyle,\n        fontWeight: node.fontWeight,\n        rotation: node.rotation,\n        rotationCenterX: node.rotationCenterX,\n        rotationCenterY: node.rotationCenterY,\n        text: node.text,\n        textAlign: node.textAlign,\n        textBaseline: node.textBaseline,\n        translationX: node.translationX,\n        translationY: node.translationY,\n        visible: node.visible,\n        x: node.x,\n        y: node.y\n      };\n    };\n    const labelBBoxes = /* @__PURE__ */ new Map();\n    let maxLeafLabelWidth = 0;\n    const tempText = new Text();\n    const setLabelProps = (datum, index) => {\n      var _a;\n      tempText.setProperties({\n        fill: label.color,\n        fontFamily: label.fontFamily,\n        fontSize: label.fontSize,\n        fontStyle: label.fontStyle,\n        fontWeight: label.fontWeight,\n        textAlign: \"center\",\n        textBaseline: parallelFlipFlag === -1 ? \"bottom\" : \"hanging\",\n        translationX: datum.screenY - label.fontSize * 0.25,\n        translationY: datum.screenX\n      });\n      if (index === 0) {\n        const isCaptionEnabled = (title == null ? void 0 : title.enabled) && labels.length > 0;\n        if (!isCaptionEnabled) {\n          return false;\n        }\n        const text = callbackCache.call(formatter, this.getTitleFormatterParams());\n        tempText.setProperties({\n          fill: title.color,\n          fontFamily: title.fontFamily,\n          fontSize: title.fontSize,\n          fontStyle: title.fontStyle,\n          fontWeight: title.fontWeight,\n          text,\n          textBaseline: \"hanging\",\n          translationX: datum.screenY - label.fontSize * 0.25,\n          translationY: datum.screenX\n        });\n      } else if (index % keepEvery === 0) {\n        const isInRange = datum.screenX >= range3[0] && datum.screenX <= range3[1];\n        if (!isInRange) {\n          return false;\n        }\n        if (label.formatter) {\n          tempText.text = (_a = callbackCache.call(label.formatter, {\n            value: String(datum.label),\n            index\n          })) != null ? _a : String(datum.label);\n        } else {\n          tempText.text = String(datum.label);\n        }\n      } else {\n        return false;\n      }\n      return true;\n    };\n    treeLabels.forEach((datum, index) => {\n      const isVisible = setLabelProps(datum, index);\n      if (!isVisible)\n        return;\n      const bbox2 = tempText.computeTransformedBBox();\n      if (!bbox2)\n        return;\n      labelBBoxes.set(index, bbox2);\n      const isLeaf = !datum.children.length;\n      if (isLeaf && bbox2.width > maxLeafLabelWidth) {\n        maxLeafLabelWidth = bbox2.width;\n      }\n    });\n    const labelX = sideFlag * label.padding;\n    const labelGrid = this.label.grid;\n    const separatorData = [];\n    treeLabels.forEach((datum, index) => {\n      let visible = setLabelProps(datum, index);\n      const id = index;\n      tempText.x = labelX;\n      tempText.rotationCenterX = labelX;\n      const isLeaf = !datum.children.length;\n      if (isLeaf) {\n        tempText.rotation = configuredRotation;\n        tempText.textAlign = \"end\";\n        tempText.textBaseline = \"middle\";\n      } else {\n        tempText.translationX -= maxLeafLabelWidth - lineHeight + this.label.padding;\n        const availableRange = datum.leafCount * bandwidth;\n        const bbox2 = labelBBoxes.get(id);\n        if (bbox2 && bbox2.width > availableRange) {\n          visible = false;\n          labelBBoxes.delete(id);\n        } else if (isHorizontal) {\n          tempText.rotation = defaultRotation;\n        } else {\n          tempText.rotation = -Math.PI / 2;\n        }\n      }\n      if (datum.parent && isLabelTree) {\n        const y = isLeaf ? datum.screenX - bandwidth / 2 : datum.screenX - datum.leafCount * bandwidth / 2;\n        if (isLeaf) {\n          if (datum.number !== datum.children.length - 1 || labelGrid) {\n            separatorData.push({\n              y,\n              x1: 0,\n              x2: -maxLeafLabelWidth - this.label.padding * 2\n            });\n          }\n        } else {\n          const x = -maxLeafLabelWidth - this.label.padding * 2 + datum.screenY;\n          separatorData.push({\n            y,\n            x1: x + lineHeight,\n            x2: x\n          });\n        }\n      }\n      let props;\n      if (visible) {\n        const bbox2 = tempText.computeTransformedBBox();\n        if (bbox2) {\n          labelBBoxes.set(index, bbox2);\n        }\n        props = __spreadProps(__spreadValues({}, copyLabelProps(tempText)), { visible });\n      } else {\n        labelBBoxes.delete(index);\n        props = { visible };\n      }\n      tickLabelLayout.push(props);\n    });\n    let minX = 0;\n    separatorData.forEach((d) => minX = Math.min(minX, d.x2));\n    separatorData.push({\n      y: Math.max(rangeStart, rangeEnd),\n      x1: 0,\n      x2: minX\n    });\n    const separatorLayout = [];\n    const separatorBoxes = [];\n    const epsilon2 = 1e-7;\n    separatorData.forEach((datum) => {\n      if (datum.y >= range3[0] - epsilon2 && datum.y <= range3[1] + epsilon2) {\n        const { x1, x2, y } = datum;\n        const separatorBox = new BBox(Math.min(x1, x2), y, Math.abs(x1 - x2), 0);\n        separatorBoxes.push(separatorBox);\n        separatorLayout.push({ x1, x2, y });\n      }\n    });\n    const axisLineLayout = [];\n    const axisLineBoxes = [];\n    const lineCount = tickTreeLayout ? tickTreeLayout.depth + 1 : 1;\n    for (let i = 0; i < lineCount; i++) {\n      const visible = labels.length > 0 && (i === 0 || labelGrid && isLabelTree);\n      const x = i > 0 ? -maxLeafLabelWidth - this.label.padding * 2 - (i - 1) * lineHeight : 0;\n      const lineBox = new BBox(x, Math.min(...range3), 0, Math.abs(range3[1] - range3[0]));\n      axisLineBoxes.push(lineBox);\n      axisLineLayout.push({ x, y1: range3[0], y2: range3[1], visible });\n    }\n    const getTransformBox = (bbox2) => {\n      const matrix = new Matrix();\n      const {\n        rotation: axisRotation,\n        translationX,\n        translationY,\n        rotationCenterX,\n        rotationCenterY\n      } = this.getAxisTransform();\n      Matrix.updateTransformMatrix(matrix, 1, 1, axisRotation, translationX, translationY, {\n        scalingCenterX: 0,\n        scalingCenterY: 0,\n        rotationCenterX,\n        rotationCenterY\n      });\n      return matrix.transformBBox(bbox2);\n    };\n    const bbox = BBox.merge([...labelBBoxes.values(), ...separatorBoxes, ...axisLineBoxes]);\n    const transformedBBox = getTransformBox(bbox);\n    return {\n      bbox: transformedBBox,\n      tickLabelLayout,\n      separatorLayout,\n      axisLineLayout\n    };\n  }\n  calculateLayout() {\n    const { axisLineLayout, separatorLayout, tickLabelLayout, bbox } = this.computeLayout();\n    this.computedLayout = {\n      axisLineLayout,\n      separatorLayout,\n      tickLabelLayout\n    };\n    return { bbox, primaryTickCount: void 0 };\n  }\n};\nGroupedCategoryAxis.className = \"GroupedCategoryAxis\";\nGroupedCategoryAxis.type = \"grouped-category\";\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], GroupedCategoryAxis.prototype, \"labelColor\", 2);\n\n// packages/ag-charts-community/src/util/userAgent.ts\nfunction hasConstrainedCanvasMemory() {\n  if (typeof navigator === \"undefined\") {\n    return false;\n  }\n  const iPhoneOSMatch = navigator.userAgent.match(/\\(iPhone; CPU iPhone OS (\\d+_\\d+_\\d+) like Mac OS X\\)/);\n  if (iPhoneOSMatch == null) {\n    return false;\n  }\n  const [major, minor] = iPhoneOSMatch[1].split(\"_\").map(Number);\n  return major < 16 || major === 16 && minor < 6;\n}\n\n// packages/ag-charts-community/src/scene/canvas/hdpiCanvas.ts\nvar _HdpiCanvas = class _HdpiCanvas {\n  constructor(options) {\n    this.enabled = true;\n    this.width = 600;\n    this.height = 300;\n    const { width, height, pixelRatio, position, insertAsFirstChild } = options;\n    this.insertAsFirstChild = insertAsFirstChild != null ? insertAsFirstChild : false;\n    this.pixelRatio = hasConstrainedCanvasMemory() ? 1 : pixelRatio != null ? pixelRatio : getWindow(\"devicePixelRatio\");\n    this.element = createElement(\"canvas\");\n    this.element.width = Math.round((width != null ? width : this.width) * this.pixelRatio);\n    this.element.height = Math.round((height != null ? height : this.height) * this.pixelRatio);\n    if (position) {\n      this.element.style.position = position;\n    }\n    this.context = this.element.getContext(\"2d\");\n    this.onEnabledChange();\n    this.resize(width != null ? width : 0, height != null ? height : 0);\n    _HdpiCanvas.debugContext(this.context);\n  }\n  static is(value) {\n    return value instanceof _HdpiCanvas;\n  }\n  drawImage(context, dx = 0, dy = 0) {\n    return context.drawImage(this.context.canvas, dx, dy);\n  }\n  toDataURL(type) {\n    return this.element.toDataURL(type);\n  }\n  resize(width, height) {\n    if (!(width > 0 && height > 0))\n      return;\n    const { element: element2, context, pixelRatio } = this;\n    element2.width = Math.round(width * pixelRatio);\n    element2.height = Math.round(height * pixelRatio);\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    element2.style.width = width + \"px\";\n    element2.style.height = height + \"px\";\n    this.width = width;\n    this.height = height;\n  }\n  snapshot() {\n  }\n  clear() {\n    this.context.save();\n    this.context.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n    this.context.clearRect(0, 0, this.width, this.height);\n    this.context.restore();\n  }\n  destroy() {\n    this.element.remove();\n    this.element.width = 0;\n    this.element.height = 0;\n    this.context.clearRect(0, 0, 0, 0);\n    Object.freeze(this);\n  }\n  onContainerChange(newValue, oldValue) {\n    var _a, _b, _c, _d;\n    if (newValue === oldValue)\n      return;\n    (_a = this.element.parentNode) == null ? void 0 : _a.removeChild(this.element);\n    if (this.insertAsFirstChild && ((_b = this.container) == null ? void 0 : _b.firstChild)) {\n      (_c = this.container) == null ? void 0 : _c.insertBefore(this.element, this.container.firstChild);\n    } else {\n      (_d = this.container) == null ? void 0 : _d.appendChild(this.element);\n    }\n  }\n  onEnabledChange() {\n    if (this.element) {\n      this.element.style.display = this.enabled ? \"block\" : \"none\";\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n  static debugContext(ctx) {\n    if (Debug.check(\"canvas\")) {\n      const save = ctx.save.bind(ctx);\n      const restore = ctx.restore.bind(ctx);\n      let depth = 0;\n      Object.assign(ctx, {\n        save() {\n          save();\n          depth++;\n        },\n        restore() {\n          if (depth === 0) {\n            throw new Error(\"AG Charts - Unable to restore() past depth 0\");\n          }\n          restore();\n          depth--;\n        },\n        verifyDepthZero() {\n          if (depth !== 0) {\n            throw new Error(`AG Charts - Save/restore depth is non-zero: ${depth}`);\n          }\n        }\n      });\n    }\n  }\n};\n__decorateClass([\n  ObserveChanges((target) => target.onEnabledChange())\n], _HdpiCanvas.prototype, \"enabled\", 2);\n__decorateClass([\n  ObserveChanges((target, newValue, oldValue) => target.onContainerChange(newValue, oldValue))\n], _HdpiCanvas.prototype, \"container\", 2);\nvar HdpiCanvas = _HdpiCanvas;\n\n// packages/ag-charts-community/src/scene/layersManager.ts\nvar LayersManager = class _LayersManager {\n  constructor(canvas, markDirty) {\n    this.canvas = canvas;\n    this.markDirty = markDirty;\n    this.debug = Debug.create(true, \"scene\");\n    this.layersMap = /* @__PURE__ */ new Map();\n    this.nextZIndex = 0;\n    this.nextLayerId = 0;\n  }\n  static sortLayers(a, b) {\n    var _a, _b;\n    return compoundAscending(\n      [a.zIndex, ...(_a = a.zIndexSubOrder) != null ? _a : [void 0, void 0], a.id],\n      [b.zIndex, ...(_b = b.zIndexSubOrder) != null ? _b : [void 0, void 0], b.id],\n      ascendingStringNumberUndefined\n    );\n  }\n  get size() {\n    return this.layersMap.size;\n  }\n  forEach(callback) {\n    Array.from(this.layersMap.values()).sort(_LayersManager.sortLayers).forEach(callback);\n  }\n  resize(width, height) {\n    this.canvas.resize(width, height);\n    this.layersMap.forEach(({ canvas }) => canvas.resize(width, height));\n  }\n  addLayer(opts) {\n    const { width, height, pixelRatio } = this.canvas;\n    const { zIndex = this.nextZIndex++, name, zIndexSubOrder, getComputedOpacity, getVisibility } = opts;\n    const canvas = new HdpiCanvas({ width, height, pixelRatio, position: \"absolute\" });\n    const newLayer = {\n      id: this.nextLayerId++,\n      name,\n      canvas,\n      zIndex,\n      zIndexSubOrder,\n      getComputedOpacity,\n      getVisibility\n    };\n    if (zIndex >= this.nextZIndex) {\n      this.nextZIndex = zIndex + 1;\n    }\n    this.layersMap.set(canvas, newLayer);\n    this.debug(\"Scene.addLayer() - layers\", this.layersMap);\n    return newLayer.canvas;\n  }\n  removeLayer(canvas) {\n    if (this.layersMap.has(canvas)) {\n      this.layersMap.delete(canvas);\n      canvas.destroy();\n      this.markDirty();\n      this.debug(\"Scene.removeLayer() -  layers\", this.layersMap);\n    }\n  }\n  moveLayer(canvas, newZIndex, newZIndexSubOrder) {\n    const layer = this.layersMap.get(canvas);\n    if (layer) {\n      layer.zIndex = newZIndex;\n      layer.zIndexSubOrder = newZIndexSubOrder;\n      this.markDirty();\n      this.debug(\"Scene.moveLayer() -  layers\", this.layersMap);\n    }\n  }\n  clear() {\n    this.layersMap.clear();\n  }\n};\n\n// packages/ag-charts-community/src/scene/sceneDebug.ts\nfunction debugStats(layersManager, debugSplitTimes, ctx, renderCtxStats, extraDebugStats = {}) {\n  if (!Debug.check(\"scene:stats\" /* SCENE_STATS */, \"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */))\n    return;\n  const { layersRendered = 0, layersSkipped = 0, nodesRendered = 0, nodesSkipped = 0 } = renderCtxStats != null ? renderCtxStats : {};\n  const end = performance.now();\n  const _a = debugSplitTimes, { start } = _a, durations = __objRest(_a, [\"start\"]);\n  const splits = Object.entries(durations).map(([n, t]) => {\n    return time(n, t);\n  }).filter((v) => v != null).join(\" + \");\n  const extras = Object.entries(extraDebugStats).map(([k, v]) => `${k}: ${v}`).join(\" ; \");\n  const detailedStats = Debug.check(\"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */);\n  const stats = [\n    `${time(\"\\u23F1\\uFE0F\", start, end)} (${splits})`,\n    `${extras}`,\n    `Layers: ${detailedStats ? pct(layersRendered, layersSkipped) : layersManager.size}`,\n    detailedStats ? `Nodes: ${pct(nodesRendered, nodesSkipped)}` : null\n  ].filter(isString);\n  const statsSize = new Map(stats.map((t) => [t, Text.getTextSize(t, ctx.font)]));\n  const width = Math.max(...Array.from(statsSize.values(), (s) => s.width));\n  const height = accumulate(statsSize.values(), (s) => s.height);\n  ctx.save();\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(0, 0, width, height);\n  ctx.fillStyle = \"black\";\n  let y = 0;\n  for (const [stat, size] of statsSize.entries()) {\n    y += size.height;\n    ctx.fillText(stat, 2, y);\n  }\n  ctx.restore();\n}\nfunction debugSceneNodeHighlight(ctx, debugNodes) {\n  ctx.save();\n  for (const [name, node] of Object.entries(debugNodes)) {\n    const bbox = node.computeTransformedBBox();\n    if (!bbox) {\n      Logger.log(`Scene.render() - no bbox for debugged node [${name}].`);\n      continue;\n    }\n    ctx.globalAlpha = 0.8;\n    ctx.strokeStyle = \"red\";\n    ctx.lineWidth = 1;\n    ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);\n    ctx.fillStyle = \"red\";\n    ctx.strokeStyle = \"white\";\n    ctx.font = \"16px sans-serif\";\n    ctx.textBaseline = \"top\";\n    ctx.textAlign = \"left\";\n    ctx.lineWidth = 2;\n    ctx.strokeText(name, bbox.x, bbox.y, bbox.width);\n    ctx.fillText(name, bbox.x, bbox.y, bbox.width);\n  }\n  ctx.restore();\n}\nfunction buildTree(node) {\n  var _a, _b;\n  if (!Debug.check(true, \"scene\" /* SCENE */))\n    return {};\n  return __spreadValues(__spreadValues({\n    node,\n    name: (_a = node instanceof Group ? node.name : null) != null ? _a : node.id,\n    dirty: RedrawType[node.dirty]\n  }, ((_b = node.parent) == null ? void 0 : _b.isVirtual) ? {\n    virtualParentDirty: RedrawType[node.parent.dirty],\n    virtualParent: node.parent\n  } : {}), node.children.map((c) => buildTree(c)).reduce((result, childTree) => {\n    let { name: treeNodeName } = childTree;\n    const {\n      node: { visible, opacity, zIndex, zIndexSubOrder },\n      node: childNode,\n      virtualParent\n    } = childTree;\n    if (!visible || opacity <= 0) {\n      treeNodeName = `(${treeNodeName})`;\n    }\n    if (childNode instanceof Group && childNode.isLayer()) {\n      treeNodeName = `*${treeNodeName}*`;\n    }\n    const key = [\n      `${treeNodeName != null ? treeNodeName : \"<unknown>\"}`,\n      `z: ${zIndex}`,\n      zIndexSubOrder && `zo: ${zIndexSubOrder.map((v) => typeof v === \"function\" ? `${v()} (fn)` : v).join(\" / \")}`,\n      virtualParent && `(virtual parent)`\n    ].filter((v) => !!v).join(\" \");\n    let selectedKey = key;\n    let index = 1;\n    while (result[selectedKey] != null && index < 100) {\n      selectedKey = `${key} (${index++})`;\n    }\n    result[selectedKey] = childTree;\n    return result;\n  }, {}));\n}\nfunction buildDirtyTree(node) {\n  var _a;\n  if (node.dirty === 0 /* NONE */) {\n    return { dirtyTree: {}, paths: [] };\n  }\n  const childrenDirtyTree = node.children.map((c) => buildDirtyTree(c)).filter((c) => c.paths.length > 0);\n  const name = Group.is(node) ? (_a = node.name) != null ? _a : node.id : node.id;\n  const paths = childrenDirtyTree.length ? childrenDirtyTree.flatMap((c) => c.paths).map((p) => `${name}.${p}`) : [name];\n  return {\n    dirtyTree: __spreadValues({\n      name,\n      node,\n      dirty: RedrawType[node.dirty]\n    }, childrenDirtyTree.map((c) => c.dirtyTree).filter((t) => t.dirty != null).reduce((result, childTree) => {\n      var _a2;\n      result[(_a2 = childTree.name) != null ? _a2 : \"<unknown>\"] = childTree;\n      return result;\n    }, {})),\n    paths\n  };\n}\nfunction pct(rendered, skipped) {\n  const total = rendered + skipped;\n  return `${rendered} / ${total} (${Math.round(100 * rendered / total)}%)`;\n}\nfunction time(name, start, end) {\n  const duration = end != null ? end - start : start;\n  return `${name}: ${Math.round(duration * 100) / 100}ms`;\n}\nfunction accumulate(iterator, mapper) {\n  let sum2 = 0;\n  for (const item of iterator) {\n    sum2 += mapper(item);\n  }\n  return sum2;\n}\n\n// packages/ag-charts-community/src/scene/scene.ts\nvar Scene = class {\n  constructor({ width, height, pixelRatio, canvasPosition }) {\n    this.debug = Debug.create(true, \"scene\" /* SCENE */);\n    this.id = createId(this);\n    this.root = null;\n    this.isDirty = false;\n    this.canvas = new HdpiCanvas({\n      width,\n      height,\n      pixelRatio,\n      position: canvasPosition,\n      insertAsFirstChild: canvasPosition === \"absolute\"\n    });\n    this.layersManager = new LayersManager(this.canvas, () => {\n      this.isDirty = true;\n    });\n  }\n  get width() {\n    var _a, _b;\n    return (_b = (_a = this.pendingSize) == null ? void 0 : _a[0]) != null ? _b : this.canvas.width;\n  }\n  get height() {\n    var _a, _b;\n    return (_b = (_a = this.pendingSize) == null ? void 0 : _a[1]) != null ? _b : this.canvas.height;\n  }\n  setContainer(value) {\n    this.canvas.container = value;\n    return this;\n  }\n  setRoot(node) {\n    var _a;\n    if (this.root === node) {\n      return this;\n    }\n    this.isDirty = true;\n    (_a = this.root) == null ? void 0 : _a._setLayerManager();\n    this.root = node;\n    if (node) {\n      node.visible = true;\n      node._setLayerManager(this.layersManager);\n    }\n    return this;\n  }\n  attachNode(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.appendChild(node);\n    return () => this.removeChild(node);\n  }\n  appendChild(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.appendChild(node);\n    return this;\n  }\n  removeChild(node) {\n    var _a;\n    (_a = this.root) == null ? void 0 : _a.removeChild(node);\n    return this;\n  }\n  download(fileName, fileFormat) {\n    var _a;\n    downloadUrl(this.canvas.toDataURL(fileFormat), (_a = fileName == null ? void 0 : fileName.trim()) != null ? _a : \"image\");\n  }\n  /** NOTE: Integrated Charts undocumented image download method. */\n  getDataURL(fileFormat) {\n    return this.canvas.toDataURL(fileFormat);\n  }\n  resize(width, height) {\n    width = Math.round(width);\n    height = Math.round(height);\n    if (width > 0 && height > 0 && (width !== this.width || height !== this.height)) {\n      this.pendingSize = [width, height];\n      this.isDirty = true;\n      return true;\n    }\n    return false;\n  }\n  render(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const { debugSplitTimes = { start: performance.now() }, extraDebugStats } = opts != null ? opts : {};\n      const { canvas, canvas: { context: ctx } = {}, root, pendingSize } = this;\n      if (!ctx) {\n        return;\n      }\n      const renderStartTime = performance.now();\n      if (pendingSize) {\n        this.layersManager.resize(...pendingSize);\n        this.pendingSize = void 0;\n      }\n      if (root && !root.visible) {\n        this.isDirty = false;\n        return;\n      }\n      if (root && !this.isDirty) {\n        if (this.debug.check()) {\n          this.debug(\"Scene.render() - no-op\", {\n            redrawType: RedrawType[root.dirty],\n            tree: buildTree(root)\n          });\n        }\n        debugStats(this.layersManager, debugSplitTimes, ctx, void 0, extraDebugStats);\n        return;\n      }\n      const renderCtx = {\n        ctx,\n        devicePixelRatio: (_a = this.canvas.pixelRatio) != null ? _a : 1,\n        forceRender: true,\n        resized: Boolean(pendingSize),\n        debugNodes: {}\n      };\n      if (Debug.check(\"scene:stats:verbose\" /* SCENE_STATS_VERBOSE */)) {\n        renderCtx.stats = { layersRendered: 0, layersSkipped: 0, nodesRendered: 0, nodesSkipped: 0 };\n      }\n      let canvasCleared = false;\n      if (!root || root.dirty >= 1 /* TRIVIAL */) {\n        canvasCleared = true;\n        canvas.clear();\n      }\n      if (root && Debug.check(\"scene:dirtyTree\" /* SCENE_DIRTY_TREE */)) {\n        const { dirtyTree, paths } = buildDirtyTree(root);\n        Debug.create(\"scene:dirtyTree\" /* SCENE_DIRTY_TREE */)(\"Scene.render() - dirtyTree\", { dirtyTree, paths });\n      }\n      if (root && canvasCleared) {\n        this.debug(\"Scene.render() - before\", {\n          redrawType: RedrawType[root.dirty],\n          canvasCleared,\n          tree: buildTree(root)\n        });\n        if (root.visible) {\n          root.preRender();\n          ctx.save();\n          root.render(renderCtx);\n          ctx.restore();\n        }\n      }\n      debugSplitTimes[\"\\u270D\\uFE0F\"] = performance.now() - renderStartTime;\n      if (this.layersManager.size && canvasCleared) {\n        const layerRenderStart = performance.now();\n        ctx.save();\n        ctx.resetTransform();\n        this.layersManager.forEach((layer) => {\n          if (layer.canvas.enabled && layer.getVisibility()) {\n            ctx.globalAlpha = layer.getComputedOpacity();\n            layer.canvas.drawImage(ctx);\n          }\n        });\n        ctx.restore();\n        debugSplitTimes[\"\\u26D9\"] = performance.now() - layerRenderStart;\n      }\n      (_b = ctx.verifyDepthZero) == null ? void 0 : _b.call(ctx);\n      this.isDirty = false;\n      debugStats(this.layersManager, debugSplitTimes, ctx, renderCtx.stats, extraDebugStats);\n      debugSceneNodeHighlight(ctx, renderCtx.debugNodes);\n      if (root && this.debug.check()) {\n        this.debug(\"Scene.render() - after\", {\n          redrawType: RedrawType[root.dirty],\n          tree: buildTree(root),\n          canvasCleared\n        });\n      }\n    });\n  }\n  /** Alternative to destroy() that preserves re-usable resources. */\n  strip() {\n    const { context, pixelRatio } = this.canvas;\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    this.layersManager.clear();\n    this.setRoot(null);\n    this.isDirty = false;\n  }\n  destroy() {\n    this.canvas.container = void 0;\n    this.strip();\n    this.canvas.destroy();\n    Object.assign(this, { canvas: void 0 });\n  }\n};\nScene.className = \"Scene\";\n\n// packages/ag-charts-community/src/styles/icons.ts\nvar icons_default = `\n[class^='ag-charts-icon'] {\n    display: block;\n    /* speak: none; */\n    mask-size: contain;\n    mask-repeat: no-repeat;\n    background-color: currentColor;\n}\n\n.ag-charts-icon-zoom-in {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+);\n}\n\n.ag-charts-icon-zoom-out {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-reset {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXJvdGF0ZS1jY3ciPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDEgMCA5LTkgOS43NSA5Ljc1IDAgMCAwLTYuNzQgMi43NEwzIDgiLz48cGF0aCBkPSJNMyAzdjVoNSIvPjwvc3ZnPg==);\n}\n\n.ag-charts-icon-pan-left {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGVmdCI+PHBhdGggZD0ibTE1IDE4LTYtNiA2LTYiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-pan-right {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tcmlnaHQiPjxwYXRoIGQ9Im05IDE4IDYtNi02LTYiLz48L3N2Zz4=);\n}\n\n.ag-charts-icon-pan-start {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==);\n}\n\n.ag-charts-icon-pan-end {\n    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+);\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/reset.ts\nvar reset_default = `\n[class^='ag-charts'],\n[class^='ag-charts']:focus,\n[class^='ag-charts']:after,\n[class^='ag-charts']:before {\n    box-sizing: border-box;\n    outline: none;\n}\n\nbutton[class^='ag-charts'] {\n    background: none;\n    border: 0;\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/theme-default.ts\nvar theme_default_default = `\n.ag-charts-theme-default,\n.ag-charts-theme-default-dark {\n    /* Colors */\n    --ag-charts-active-color: var(--ag-active-color, #2196f3);\n    --ag-charts-background-color: var(--ag-background-color, #fff);\n    --ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);\n    --ag-charts-border-color: var(--ag-border-color, #dddddd);\n\n    /* Sizing */\n    --ag-charts-font-size: var(--ag-font-size, 14px);\n    --ag-charts-size: var(--ag-grid-size, 8px);\n\n    /* Borders */\n    --ag-charts-border: var(--ag-borders, solid 1px);\n    --ag-charts-border-critical: var(--ag-borders-critical, solid 1px);\n\n    /* Toolbar */\n    --ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));\n    --ag-charts-toolbar-background-color: var(\n        --ag-header-background-color,\n        color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%)\n    );\n    --ag-charts-toolbar-size: var(--ag-header-height, 48px);\n    --ag-charts-toolbar-padding: calc(var(--ag-charts-size) * 2);\n    --ag-charts-toolbar-border: var(--ag-charts-border, solid 1px) var(--ag-charts-border-color);\n    --ag-charts-toolbar-border-critical: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);\n    --ag-charts-toolbar-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);\n    --ag-charts-toolbar-disabled-foreground-color: var(\n        --ag-disabled-foreground-color,\n        color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%)\n    );\n    --ag-charts-toolbar-disabled-background-color: var(\n        --ag-input-disabled-background-color,\n        color-mix(in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6%)\n    );\n    --ag-charts-toolbar-gap: var(--ag-charts-size);\n\n    /* Buttons */\n    --ag-charts-button-padding: var(--ag-charts-size);\n    --ag-charts-button-radius: var(--ag-border-radius, 4px);\n\n    /* Focus Indicator */\n    --ag-charts-focus-border: solid 2px var(--ag-input-focus-border-color, var(--ag-charts-active-color));\n    --ag-charts-focus-border-shadow: var(--ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-focus-border) 47%));\n\n    /* Icons */\n    --ag-charts-icon-font-family: 'agChartsDefault';\n    --ag-charts-icon-font-weight: normal;\n    --ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/theme-default-dark.ts\nvar theme_default_dark_default = `\n.ag-charts-theme-default-dark {\n    /* Colors */\n    --ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));\n    --ag-charts-foreground-color: var(--ag-foreground-color, #fff);\n    --ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, 0.16));\n    --ag-charts-hover-color: var(\n        --ag-row-hover-color,\n        color-mix(in srgb, transparent, var(--ag-charts-active-color) 20%)\n    );\n\n    /* Toolbar */\n    --ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));\n}\n\n`;\n\n// packages/ag-charts-community/src/styles/styles.ts\nvar styles_default = `\n/* Reset */\n${reset_default}\n\n/* Icons */\n${icons_default}\n\n/* AG Charts Theme Default */\n${theme_default_default}\n\n/* AG Charts Theme Default Dark */\n${theme_default_dark_default}\n`;\n\n// packages/ag-charts-community/src/util/async.ts\nfunction sleep(sleepTimeoutMs) {\n  return new Promise((resolve) => {\n    setTimeout(() => resolve(void 0), sleepTimeoutMs);\n  });\n}\n\n// packages/ag-charts-community/src/util/mutex.ts\nvar Mutex = class {\n  constructor() {\n    this.available = true;\n    this.acquireQueue = [];\n  }\n  acquire(cb) {\n    return new Promise((resolve) => {\n      this.acquireQueue.push([cb, resolve]);\n      if (this.available) {\n        this.dispatchNext().catch((e) => Logger.errorOnce(e));\n      }\n    });\n  }\n  acquireImmediately(cb) {\n    return __async(this, null, function* () {\n      if (!this.available) {\n        return false;\n      }\n      yield this.acquire(cb);\n      return true;\n    });\n  }\n  waitForClearAcquireQueue() {\n    return __async(this, null, function* () {\n      return this.acquire(() => __async(this, null, function* () {\n        return void 0;\n      }));\n    });\n  }\n  dispatchNext() {\n    return __async(this, null, function* () {\n      var _a, _b;\n      this.available = false;\n      let [next, done] = (_a = this.acquireQueue.shift()) != null ? _a : [];\n      while (next) {\n        try {\n          yield next();\n          done == null ? void 0 : done();\n        } catch (error) {\n          Logger.error(\"mutex callback error\", error);\n          done == null ? void 0 : done();\n        }\n        [next, done] = (_b = this.acquireQueue.shift()) != null ? _b : [];\n      }\n      this.available = true;\n    });\n  }\n};\n\n// packages/ag-charts-community/src/util/observable.ts\nvar Observable = class {\n  constructor() {\n    this.eventListeners = /* @__PURE__ */ new Map();\n  }\n  addEventListener(eventType, listener) {\n    if (typeof listener !== \"function\") {\n      throw new Error(\"AG Charts - listener must be a Function\");\n    }\n    const eventTypeListeners = this.eventListeners.get(eventType);\n    if (eventTypeListeners) {\n      eventTypeListeners.add(listener);\n    } else {\n      this.eventListeners.set(eventType, /* @__PURE__ */ new Set([listener]));\n    }\n  }\n  removeEventListener(type, listener) {\n    var _a;\n    (_a = this.eventListeners.get(type)) == null ? void 0 : _a.delete(listener);\n    if (this.eventListeners.size === 0) {\n      this.eventListeners.delete(type);\n    }\n  }\n  hasEventListener(type) {\n    return this.eventListeners.has(type);\n  }\n  clearEventListeners() {\n    this.eventListeners.clear();\n  }\n  fireEvent(event) {\n    var _a;\n    (_a = this.eventListeners.get(event.type)) == null ? void 0 : _a.forEach((listener) => listener(event));\n  }\n};\n\n// packages/ag-charts-community/src/util/padding.ts\nvar Padding = class extends BaseProperties {\n  constructor(top = 0, right = top, bottom = top, left = right) {\n    super();\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n  clear() {\n    this.top = this.right = this.bottom = this.left = 0;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"top\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"right\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"bottom\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Padding.prototype, \"left\", 2);\n\n// packages/ag-charts-community/src/util/render.ts\nfunction debouncedAnimationFrame(cb) {\n  return buildScheduler((innerCb, _delayMs) => requestAnimationFrame(innerCb), cb);\n}\nfunction debouncedCallback(cb) {\n  return buildScheduler((innerCb, delayMs = 0) => setTimeout(innerCb, delayMs), cb);\n}\nfunction buildScheduler(scheduleFn, cb) {\n  let scheduleCount = 0;\n  let promiseRunning = false;\n  let awaitingPromise;\n  let awaitingDone;\n  const busy = () => {\n    return promiseRunning;\n  };\n  const done = () => {\n    promiseRunning = false;\n    awaitingDone == null ? void 0 : awaitingDone();\n    awaitingDone = void 0;\n    awaitingPromise = void 0;\n    if (scheduleCount > 0) {\n      scheduleFn(scheduleCb);\n    }\n  };\n  const scheduleCb = () => {\n    const count = scheduleCount;\n    scheduleCount = 0;\n    promiseRunning = true;\n    const maybePromise = cb({ count });\n    if (!maybePromise) {\n      done();\n      return;\n    }\n    maybePromise.then(done, done);\n  };\n  return {\n    schedule(delayMs) {\n      if (scheduleCount === 0 && !busy()) {\n        scheduleFn(scheduleCb, delayMs);\n      }\n      scheduleCount++;\n    },\n    await() {\n      return __async(this, null, function* () {\n        if (!busy()) {\n          return;\n        }\n        if (awaitingPromise == null) {\n          awaitingPromise = new Promise((resolve) => {\n            awaitingDone = resolve;\n          });\n        }\n        while (busy()) {\n          yield awaitingPromise;\n        }\n      });\n    }\n  };\n}\n\n// packages/ag-charts-community/src/util/sizeMonitor.ts\nvar SizeMonitor = class {\n  constructor() {\n    this.elements = /* @__PURE__ */ new Map();\n    this.documentReady = false;\n    this.queuedObserveRequests = [];\n    this.onLoad = () => {\n      this.documentReady = true;\n      this.queuedObserveRequests.forEach(([el, cb]) => this.observe(el, cb));\n      this.queuedObserveRequests = [];\n    };\n    var _a;\n    if (typeof ResizeObserver === \"undefined\")\n      return;\n    this.resizeObserver = new ResizeObserver((entries) => {\n      for (const { target, contentRect } of entries) {\n        const { width, height } = contentRect;\n        this.checkSize(this.elements.get(target), target, width, height);\n      }\n    });\n    this.documentReady = getDocument(\"readyState\") === \"complete\";\n    if (!this.documentReady) {\n      (_a = getWindow()) == null ? void 0 : _a.addEventListener(\"load\", this.onLoad);\n    }\n  }\n  destroy() {\n    var _a, _b;\n    (_a = getWindow()) == null ? void 0 : _a.removeEventListener(\"load\", this.onLoad);\n    (_b = this.resizeObserver) == null ? void 0 : _b.disconnect();\n    this.resizeObserver = null;\n  }\n  checkSize(entry, element2, width, height) {\n    var _a, _b;\n    if (!entry)\n      return;\n    if (width !== ((_a = entry.size) == null ? void 0 : _a.width) || height !== ((_b = entry.size) == null ? void 0 : _b.height)) {\n      entry.size = { width, height };\n      entry.cb(entry.size, element2);\n    }\n  }\n  // Only a single callback is supported.\n  observe(element2, cb) {\n    var _a;\n    if (!this.documentReady) {\n      this.queuedObserveRequests.push([element2, cb]);\n      return;\n    }\n    if (this.elements.has(element2)) {\n      this.removeFromQueue(element2);\n    } else {\n      (_a = this.resizeObserver) == null ? void 0 : _a.observe(element2);\n    }\n    this.elements.set(element2, { cb });\n  }\n  unobserve(element2) {\n    var _a;\n    (_a = this.resizeObserver) == null ? void 0 : _a.unobserve(element2);\n    this.elements.delete(element2);\n    this.removeFromQueue(element2);\n    if (!this.elements.size) {\n      this.destroy();\n    }\n  }\n  removeFromQueue(element2) {\n    this.queuedObserveRequests = this.queuedObserveRequests.filter(([el]) => el !== element2);\n  }\n};\n\n// packages/ag-charts-community/src/util/callbackCache.ts\nvar CallbackCache = class {\n  constructor() {\n    this.cache = /* @__PURE__ */ new WeakMap();\n  }\n  call(fn, ...params) {\n    let serialisedParams;\n    let paramCache = this.cache.get(fn);\n    const invoke = () => {\n      try {\n        const result = fn(...params);\n        if (paramCache && serialisedParams != null) {\n          paramCache.set(serialisedParams, result);\n        }\n        return result;\n      } catch (e) {\n        Logger.warnOnce(`User callback errored, ignoring`, e);\n        return;\n      }\n    };\n    try {\n      serialisedParams = JSON.stringify(params);\n    } catch (e) {\n      return invoke();\n    }\n    if (paramCache == null) {\n      paramCache = /* @__PURE__ */ new Map();\n      this.cache.set(fn, paramCache);\n    }\n    if (!paramCache.has(serialisedParams)) {\n      return invoke();\n    }\n    return paramCache.get(serialisedParams);\n  }\n  invalidateCache() {\n    this.cache = /* @__PURE__ */ new WeakMap();\n  }\n};\n\n// packages/ag-charts-community/src/chart/annotation/annotationManager.ts\nvar AnnotationManager = class {\n  constructor(annotationRoot) {\n    this.annotationRoot = annotationRoot;\n  }\n  attachNode(node) {\n    this.annotationRoot.append(node);\n    return () => {\n      var _a;\n      (_a = this.annotationRoot) == null ? void 0 : _a.removeChild(node);\n      return this;\n    };\n  }\n  setAnnotationStyles(styles) {\n    this.styles = styles;\n  }\n  getAnnotationTypeStyles(type) {\n    var _a;\n    return (_a = this.styles) == null ? void 0 : _a[type];\n  }\n};\n\n// packages/ag-charts-community/src/util/listeners.ts\nvar Listeners = class {\n  constructor() {\n    this.registeredListeners = /* @__PURE__ */ new Map();\n  }\n  addListener(eventType, handler) {\n    const record = { symbol: Symbol(eventType), handler };\n    if (this.registeredListeners.has(eventType)) {\n      this.registeredListeners.get(eventType).push(record);\n    } else {\n      this.registeredListeners.set(eventType, [record]);\n    }\n    return () => this.removeListener(record.symbol);\n  }\n  removeListener(eventSymbol) {\n    for (const [type, listeners] of this.registeredListeners.entries()) {\n      const matchIndex = listeners.findIndex((listener) => listener.symbol === eventSymbol);\n      if (matchIndex >= 0) {\n        listeners.splice(matchIndex, 1);\n        if (listeners.length === 0) {\n          this.registeredListeners.delete(type);\n        }\n        break;\n      }\n    }\n  }\n  dispatch(eventType, ...params) {\n    for (const listener of this.getListenersByType(eventType)) {\n      try {\n        listener.handler(...params);\n      } catch (e) {\n        Logger.errorOnce(e);\n      }\n    }\n  }\n  dispatchWrapHandlers(eventType, wrapFn, ...params) {\n    for (const listener of this.getListenersByType(eventType)) {\n      try {\n        wrapFn(listener.handler, ...params);\n      } catch (e) {\n        Logger.errorOnce(e);\n      }\n    }\n  }\n  getListenersByType(eventType) {\n    var _a;\n    return (_a = this.registeredListeners.get(eventType)) != null ? _a : [];\n  }\n  destroy() {\n    this.registeredListeners.clear();\n  }\n};\n\n// packages/ag-charts-community/src/chart/data/dataService.ts\nvar DataService = class extends Listeners {\n  constructor(animationManager) {\n    super();\n    this.animationManager = animationManager;\n    this.dispatchOnlyLatest = true;\n    this.dispatchThrottle = 0;\n    this.requestThrottle = 300;\n    this.isLoadingInitialData = false;\n    this.isLoadingData = false;\n    this.freshRequests = [];\n    this.requestCounter = 0;\n    this.debug = Debug.create(true, \"data-model\", \"data-source\");\n    this.throttledFetch = this.createThrottledFetch(this.requestThrottle);\n    this.throttledDispatch = this.createThrottledDispatch(this.dispatchThrottle);\n  }\n  updateCallback(dataSourceCallback) {\n    if (typeof dataSourceCallback !== \"function\")\n      return;\n    this.debug(\"DataService - updated data source callback\");\n    this.dataSourceCallback = dataSourceCallback;\n    this.isLoadingInitialData = true;\n    this.animationManager.skip();\n    this.dispatch(\"data-source-change\");\n  }\n  clearCallback() {\n    this.dataSourceCallback = void 0;\n  }\n  load(params) {\n    this.isLoadingData = true;\n    this.throttledFetch(params);\n  }\n  isLazy() {\n    return this.dataSourceCallback != null;\n  }\n  isLoading() {\n    return this.isLazy() && (this.isLoadingInitialData || this.isLoadingData);\n  }\n  createThrottledFetch(requestThrottle) {\n    return throttle((params) => this.fetch(params), requestThrottle, {\n      leading: false,\n      trailing: true\n    });\n  }\n  createThrottledDispatch(dispatchThrottle) {\n    return throttle(\n      (id, data) => {\n        this.debug(`DataService - dispatching 'data-load' | ${id}`);\n        this.dispatch(\"data-load\", { type: \"data-load\", data });\n      },\n      dispatchThrottle,\n      {\n        leading: true,\n        trailing: true\n      }\n    );\n  }\n  fetch(params) {\n    return __async(this, null, function* () {\n      if (!this.dataSourceCallback) {\n        throw new Error(\"DataService - [dataSource.getData] callback not initialised\");\n      }\n      const start = performance.now();\n      const id = this.requestCounter++;\n      this.debug(`DataService - requesting | ${id}`);\n      this.freshRequests.push(id);\n      let response;\n      try {\n        response = yield this.dataSourceCallback(params);\n        this.debug(`DataService - response | ${performance.now() - start}ms | ${id}`);\n      } catch (error) {\n        this.debug(`DataService - request failed | ${id}`);\n        Logger.errorOnce(`DataService - request failed | [${error}]`);\n      }\n      this.isLoadingInitialData = false;\n      const requestIndex = this.freshRequests.findIndex((rid) => rid === id);\n      if (requestIndex === -1 || this.dispatchOnlyLatest && requestIndex !== this.freshRequests.length - 1) {\n        this.debug(`DataService - discarding stale request | ${id}`);\n        return;\n      }\n      this.freshRequests = this.freshRequests.slice(requestIndex + 1);\n      if (this.freshRequests.length === 0) {\n        this.isLoadingData = false;\n      }\n      if (Array.isArray(response)) {\n        this.throttledDispatch(id, response);\n      } else {\n        this.dispatch(\"data-error\");\n      }\n    });\n  }\n};\n__decorateClass([\n  ActionOnSet({\n    newValue(dispatchThrottle) {\n      this.throttledDispatch = this.createThrottledDispatch(dispatchThrottle);\n    }\n  })\n], DataService.prototype, \"dispatchThrottle\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(requestThrottle) {\n      this.throttledFetch = this.createThrottledFetch(requestThrottle);\n    }\n  })\n], DataService.prototype, \"requestThrottle\", 2);\n\n// packages/ag-charts-community/src/chart/interaction/animationBatch.ts\nvar AnimationBatch = class {\n  constructor(maxAnimationTime) {\n    this.maxAnimationTime = maxAnimationTime;\n    this.debug = Debug.create(true, \"animation\");\n    this.controllers = /* @__PURE__ */ new Map();\n    this.stoppedCbs = /* @__PURE__ */ new Set();\n    this.currentPhase = 0;\n    this.phases = new Map(PHASE_ORDER.map((p) => [p, []]));\n    this.skipAnimations = false;\n    this.animationTimeConsumed = 0;\n    /** Guard against premature animation execution. */\n    this.isReady = false;\n  }\n  get size() {\n    return this.controllers.size;\n  }\n  get consumedTimeMs() {\n    return this.animationTimeConsumed;\n  }\n  isActive() {\n    return this.controllers.size > 0;\n  }\n  getActiveControllers() {\n    var _a;\n    return (_a = this.phases.get(PHASE_ORDER[this.currentPhase])) != null ? _a : [];\n  }\n  checkOverlappingId(id) {\n    if (id != null && this.controllers.has(id)) {\n      this.controllers.get(id).stop();\n      this.debug(`Skipping animation batch due to update of existing animation: ${id}`);\n      this.skip();\n    }\n  }\n  addAnimation(animation) {\n    var _a;\n    if (animation.isComplete)\n      return;\n    const animationPhaseIdx = PHASE_ORDER.indexOf(animation.phase);\n    if (animationPhaseIdx < this.currentPhase) {\n      this.debug(`Skipping animation due to being for an earlier phase`, animation.id);\n      animation.stop();\n      return;\n    }\n    this.controllers.set(animation.id, animation);\n    (_a = this.phases.get(animation.phase)) == null ? void 0 : _a.push(animation);\n  }\n  removeAnimation(animation) {\n    this.controllers.delete(animation.id);\n    const phase = this.phases.get(animation.phase);\n    const index = phase == null ? void 0 : phase.indexOf(animation);\n    if (index != null && index >= 0) {\n      phase == null ? void 0 : phase.splice(index, 1);\n    }\n  }\n  progress(deltaTime) {\n    if (!this.isReady)\n      return;\n    let unusedTime = deltaTime === 0 ? 0.01 : deltaTime;\n    const refresh = () => {\n      const phase2 = PHASE_ORDER[this.currentPhase];\n      return {\n        phaseControllers: [...this.getActiveControllers()],\n        phase: phase2,\n        phaseMeta: PHASE_METADATA[phase2]\n      };\n    };\n    let { phase, phaseControllers, phaseMeta } = refresh();\n    const arePhasesComplete = () => PHASE_ORDER[this.currentPhase] == null;\n    const progressPhase = () => {\n      ({ phase, phaseControllers, phaseMeta } = refresh());\n      while (!arePhasesComplete() && phaseControllers.length === 0) {\n        this.currentPhase++;\n        ({ phase, phaseControllers, phaseMeta } = refresh());\n        this.debug(`AnimationBatch - phase changing to ${phase}`, { unusedTime }, phaseControllers);\n      }\n    };\n    const total = this.controllers.size;\n    this.debug(`AnimationBatch - ${deltaTime}ms; phase ${phase} with ${phaseControllers == null ? void 0 : phaseControllers.length} of ${total}`);\n    do {\n      const phaseDeltaTime = unusedTime;\n      const skipPhase = phaseMeta.skipIfNoEarlierAnimations && this.animationTimeConsumed === 0;\n      let completeCount = 0;\n      for (const controller of phaseControllers) {\n        if (skipPhase) {\n          controller.stop();\n        } else {\n          unusedTime = Math.min(controller.update(phaseDeltaTime), unusedTime);\n        }\n        if (controller.isComplete) {\n          completeCount++;\n          this.removeAnimation(controller);\n        }\n      }\n      this.animationTimeConsumed += phaseDeltaTime - unusedTime;\n      this.debug(`AnimationBatch - updated ${phaseControllers.length} controllers; ${completeCount} completed`);\n      this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`);\n      progressPhase();\n    } while (unusedTime > 0 && !arePhasesComplete());\n    if (this.animationTimeConsumed > this.maxAnimationTime) {\n      Logger.warnOnce(\n        \"Animation batch exceeded max animation time, skipping.\",\n        new Map(this.controllers.entries())\n      );\n      this.stop();\n    }\n  }\n  ready() {\n    if (this.isReady)\n      return;\n    this.isReady = true;\n    this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`, [...this.controllers]);\n    let skipAll = true;\n    for (const [, controller] of this.controllers) {\n      if (controller.duration > 0 && PHASE_METADATA[controller.phase].skipIfNoEarlierAnimations !== true) {\n        skipAll = false;\n        break;\n      }\n    }\n    if (!skipAll) {\n      for (const [, controller] of this.controllers) {\n        if (controller.autoplay) {\n          controller.play(true);\n        }\n      }\n    }\n  }\n  skip(skip = true) {\n    if (this.skipAnimations === false && skip === true) {\n      for (const controller of this.controllers.values()) {\n        controller.stop();\n      }\n      this.controllers.clear();\n    }\n    this.skipAnimations = skip;\n  }\n  play() {\n    for (const controller of this.controllers.values()) {\n      controller.play();\n    }\n  }\n  pause() {\n    for (const controller of this.controllers.values()) {\n      controller.pause();\n    }\n  }\n  stop() {\n    for (const controller of this.controllers.values()) {\n      try {\n        controller.stop();\n        this.removeAnimation(controller);\n      } catch (error) {\n        Logger.error(\"Error during animation stop\", error);\n      }\n    }\n    this.dispatchStopped();\n  }\n  stopByAnimationId(id) {\n    if (id != null && this.controllers.has(id)) {\n      const controller = this.controllers.get(id);\n      if (controller) {\n        controller.stop();\n        this.removeAnimation(controller);\n      }\n    }\n  }\n  stopByAnimationGroupId(id) {\n    for (const controller of this.controllers.values()) {\n      if (controller.groupId === id) {\n        this.stopByAnimationId(controller.id);\n      }\n    }\n  }\n  dispatchStopped() {\n    this.stoppedCbs.forEach((cb) => cb());\n    this.stoppedCbs.clear();\n  }\n  isSkipped() {\n    return this.skipAnimations;\n  }\n  destroy() {\n    this.stop();\n    this.controllers.clear();\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/baseManager.ts\nvar BaseManager = class {\n  constructor() {\n    this.listeners = new Listeners();\n    this.destroyFns = [];\n  }\n  addListener(type, handler) {\n    return this.listeners.addListener(type, handler);\n  }\n  removeListener(listenerSymbol) {\n    this.listeners.removeListener(listenerSymbol);\n  }\n  destroy() {\n    this.listeners.destroy();\n    this.destroyFns.forEach((fn) => fn());\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/consumableEvent.ts\nfunction buildConsumable(obj) {\n  const builtEvent = __spreadProps(__spreadValues({}, obj), {\n    consumed: false,\n    consume() {\n      var _a, _b;\n      builtEvent.consumed = true;\n      if (obj.sourceEvent instanceof Event) {\n        (_a = obj.sourceEvent) == null ? void 0 : _a.preventDefault();\n      } else {\n        (_b = obj.sourceEvent) == null ? void 0 : _b.consume();\n      }\n    }\n  });\n  return builtEvent;\n}\nfunction buildConsumptionHandler() {\n  return (handler, e) => {\n    if (!e.consumed) {\n      handler(e);\n    }\n  };\n}\nfunction dispatchTypedConsumable(listeners, type, event) {\n  listeners.dispatchWrapHandlers(type, buildConsumptionHandler(), event);\n}\n\n// packages/ag-charts-community/src/chart/interaction/interactionManager.ts\nvar POINTER_INTERACTION_TYPES = [\n  \"click\",\n  \"dblclick\",\n  \"contextmenu\",\n  \"hover\",\n  \"drag-start\",\n  \"drag\",\n  \"drag-end\",\n  \"leave\",\n  \"enter\",\n  \"page-left\",\n  \"wheel\"\n];\nvar FOCUS_INTERACTION_TYPES = [\"blur\", \"focus\"];\nvar KEY_INTERACTION_TYPES = [\"keydown\", \"keyup\"];\nvar WINDOW_EVENT_HANDLERS = [\"pagehide\", \"mousemove\", \"mouseup\"];\nvar EVENT_HANDLERS = [\n  \"click\",\n  \"dblclick\",\n  \"contextmenu\",\n  \"mousedown\",\n  \"mouseout\",\n  \"mouseenter\",\n  \"touchstart\",\n  \"touchmove\",\n  \"touchend\",\n  \"touchcancel\",\n  \"wheel\",\n  \"blur\",\n  \"focus\",\n  \"keydown\",\n  \"keyup\"\n];\nvar CSS = `\n.ag-chart-wrapper {\n    touch-action: none;\n}\n`;\nvar InteractionState = /* @__PURE__ */ ((InteractionState2) => {\n  InteractionState2[InteractionState2[\"Default\"] = 16] = \"Default\";\n  InteractionState2[InteractionState2[\"ZoomDrag\"] = 8] = \"ZoomDrag\";\n  InteractionState2[InteractionState2[\"Annotations\"] = 4] = \"Annotations\";\n  InteractionState2[InteractionState2[\"ContextMenu\"] = 2] = \"ContextMenu\";\n  InteractionState2[InteractionState2[\"Animation\"] = 1] = \"Animation\";\n  InteractionState2[InteractionState2[\"All\"] = 31] = \"All\";\n  return InteractionState2;\n})(InteractionState || {});\nvar _InteractionManager = class _InteractionManager extends BaseManager {\n  constructor(keyboardOptions, element2) {\n    super();\n    this.keyboardOptions = keyboardOptions;\n    this.debug = Debug.create(true, \"interaction\");\n    this.eventHandler = (event) => this.processEvent(event);\n    this.mouseDown = false;\n    this.touchDown = false;\n    this.clickHistory = [{ offsetX: NaN, offsetY: NaN, type: \"mousedown\" }];\n    this.dblclickHistory = [\n      { offsetX: NaN, offsetY: NaN, type: \"mousedown\" },\n      { offsetX: NaN, offsetY: NaN, type: \"mouseup\" },\n      { offsetX: NaN, offsetY: NaN, type: \"mousedown\" }\n    ];\n    this.stateQueue = 16 /* Default */ | 1 /* Animation */;\n    this.rootElement = getDocument(\"body\");\n    this.element = element2;\n    for (const type of EVENT_HANDLERS) {\n      if (type.startsWith(\"touch\")) {\n        element2.addEventListener(type, this.eventHandler, { passive: true });\n      } else if (type === \"wheel\") {\n        element2.addEventListener(type, this.eventHandler, { passive: false });\n      } else {\n        element2.addEventListener(type, this.eventHandler);\n      }\n    }\n    for (const type of WINDOW_EVENT_HANDLERS) {\n      getWindow().addEventListener(type, this.eventHandler);\n    }\n    injectStyle(CSS, \"interactionManager\");\n  }\n  destroy() {\n    super.destroy();\n    for (const type of WINDOW_EVENT_HANDLERS) {\n      getWindow().removeEventListener(type, this.eventHandler);\n    }\n    for (const type of EVENT_HANDLERS) {\n      this.element.removeEventListener(type, this.eventHandler);\n    }\n  }\n  // Wrapper to only broadcast events when the InteractionManager is a given state.\n  addListener(type, handler, triggeringStates = 16 /* Default */) {\n    return super.addListener(type, (e) => {\n      const currentState = this.getState();\n      if (currentState & triggeringStates) {\n        handler(e);\n      }\n    });\n  }\n  pushState(state) {\n    this.stateQueue |= state;\n  }\n  popState(state) {\n    this.stateQueue &= ~state;\n  }\n  getState() {\n    return this.stateQueue & -this.stateQueue;\n  }\n  processEvent(event) {\n    const types = this.decideInteractionEventTypes(event);\n    if (types.length > 0) {\n      this.dispatchEvent(event, types).catch((e) => Logger.errorOnce(e));\n    }\n  }\n  dispatchEvent(event, types) {\n    return __async(this, null, function* () {\n      if (allInStringUnion(POINTER_INTERACTION_TYPES, types)) {\n        this.dispatchPointerEvent(event, types);\n      } else if (allInStringUnion(FOCUS_INTERACTION_TYPES, types)) {\n        for (const type of types) {\n          dispatchTypedConsumable(\n            this.listeners,\n            type,\n            buildConsumable({ type, sourceEvent: event })\n          );\n        }\n      } else if (allInStringUnion(KEY_INTERACTION_TYPES, types)) {\n        for (const type of types) {\n          dispatchTypedConsumable(\n            this.listeners,\n            type,\n            buildConsumable({ type, sourceEvent: event })\n          );\n        }\n      }\n    });\n  }\n  dispatchPointerEvent(event, types) {\n    const coords = this.calculateCoordinates(event);\n    if (coords == null) {\n      return;\n    }\n    for (const type of types) {\n      dispatchTypedConsumable(this.listeners, type, this.buildPointerEvent(__spreadValues({ type, event }, coords)));\n    }\n  }\n  recordDown(event) {\n    if (event instanceof MouseEvent) {\n      partialAssign([\"offsetX\", \"offsetY\"], this.clickHistory[0], event);\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[2], this.dblclickHistory[0]);\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[0], event);\n    }\n    this.dragStartElement = event.target;\n  }\n  recordUp(event) {\n    if (event instanceof MouseEvent) {\n      partialAssign([\"offsetX\", \"offsetY\"], this.dblclickHistory[1], event);\n    }\n    this.dragStartElement = void 0;\n  }\n  decideInteractionEventTypes(event) {\n    const dragStart = \"drag-start\";\n    switch (event.type) {\n      case \"blur\":\n      case \"focus\":\n      case \"keydown\":\n      case \"keyup\":\n        return this.keyboardOptions.enabled ? [event.type] : [];\n      case \"click\":\n      case \"dblclick\":\n      case \"contextmenu\":\n      case \"wheel\":\n        return [event.type];\n      case \"mousedown\":\n        if (!this.isEventOverElement(event)) {\n          return [];\n        }\n        this.mouseDown = true;\n        this.recordDown(event);\n        return [dragStart];\n      case \"touchstart\":\n        if (!this.isEventOverElement(event)) {\n          return [];\n        }\n        this.touchDown = true;\n        this.recordDown(event);\n        return [dragStart];\n      case \"touchmove\":\n      case \"mousemove\":\n        if (!this.mouseDown && !this.touchDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        return this.mouseDown || this.touchDown ? [\"drag\"] : [\"hover\"];\n      case \"mouseup\":\n        if (!this.mouseDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        this.mouseDown = false;\n        this.recordUp(event);\n        return [\"drag-end\"];\n      case \"touchend\":\n        if (!this.touchDown && !this.isEventOverElement(event)) {\n          return [];\n        }\n        this.touchDown = false;\n        this.recordUp(event);\n        return [\"drag-end\"];\n      case \"mouseout\":\n      case \"touchcancel\":\n        return [\"leave\"];\n      case \"mouseenter\":\n        const mouseButtonDown = event instanceof MouseEvent && (event.buttons & 1) === 1;\n        if (this.mouseDown !== mouseButtonDown) {\n          this.mouseDown = mouseButtonDown;\n          return [mouseButtonDown ? dragStart : \"drag-end\"];\n        }\n        return [\"enter\"];\n      case \"pagehide\":\n        return [\"page-left\"];\n    }\n    return [];\n  }\n  isEventOverElement(event) {\n    var _a, _b, _c;\n    return event.target === this.element || ((_a = event.target) == null ? void 0 : _a.parentElement) === this.element || ((_c = (_b = event.target) == null ? void 0 : _b.parentElement) == null ? void 0 : _c.parentElement) === this.element;\n  }\n  calculateCoordinates(event) {\n    var _a;\n    if (event instanceof MouseEvent) {\n      return this.getMouseEventCoords(event);\n    } else if (typeof TouchEvent !== \"undefined\" && event instanceof TouchEvent) {\n      const lastTouch = (_a = event.touches[0]) != null ? _a : event.changedTouches[0];\n      const { clientX, clientY, pageX, pageY } = lastTouch;\n      return __spreadProps(__spreadValues({}, _InteractionManager.NULL_COORDS), { clientX, clientY, pageX, pageY });\n    } else if (event instanceof PageTransitionEvent) {\n      if (event.persisted) {\n        return;\n      }\n      return _InteractionManager.NULL_COORDS;\n    }\n  }\n  getMouseEventCoords(event) {\n    const { clientX, clientY, pageX, pageY } = event;\n    let { offsetX, offsetY } = event;\n    const offsets = (el) => {\n      let x = 0;\n      let y = 0;\n      while (el) {\n        x += el.offsetLeft;\n        y += el.offsetTop;\n        el = el.offsetParent;\n      }\n      return { x, y };\n    };\n    if (this.dragStartElement != null && event.target !== this.dragStartElement) {\n      const offsetDragStart = offsets(this.dragStartElement);\n      const offsetEvent = offsets(event.target);\n      offsetX -= offsetDragStart.x - offsetEvent.x;\n      offsetY -= offsetDragStart.y - offsetEvent.y;\n    }\n    return { clientX, clientY, pageX, pageY, offsetX, offsetY };\n  }\n  isWheelEvent(event) {\n    return event.type === \"wheel\";\n  }\n  buildPointerEvent(opts) {\n    const { type, event, clientX, clientY } = opts;\n    let { offsetX, offsetY, pageX, pageY } = opts;\n    if (!isFiniteNumber(offsetX) || !isFiniteNumber(offsetY)) {\n      const rect = this.element.getBoundingClientRect();\n      offsetX = clientX - rect.left;\n      offsetY = clientY - rect.top;\n    }\n    if (!isFiniteNumber(pageX) || !isFiniteNumber(pageY)) {\n      const pageRect = this.rootElement.getBoundingClientRect();\n      pageX = clientX - pageRect.left;\n      pageY = clientY - pageRect.top;\n    }\n    let [deltaX, deltaY] = [NaN, NaN];\n    if (this.isWheelEvent(event)) {\n      const factor = event.deltaMode === 0 ? 0.01 : 1;\n      deltaX = event.deltaX * factor;\n      deltaY = event.deltaY * factor;\n    }\n    let pointerHistory = [];\n    if (event.type === \"click\") {\n      pointerHistory = this.clickHistory;\n    } else if (event.type === \"dblclick\") {\n      pointerHistory = this.dblclickHistory;\n    }\n    const builtEvent = buildConsumable({\n      type,\n      offsetX,\n      offsetY,\n      pageX,\n      pageY,\n      deltaX,\n      deltaY,\n      pointerHistory,\n      sourceEvent: event\n    });\n    this.debug(\"InteractionManager - builtEvent: \", builtEvent);\n    return builtEvent;\n  }\n};\n_InteractionManager.NULL_COORDS = {\n  clientX: -Infinity,\n  clientY: -Infinity,\n  pageX: -Infinity,\n  pageY: -Infinity,\n  offsetX: -Infinity,\n  offsetY: -Infinity\n};\nvar InteractionManager = _InteractionManager;\n\n// packages/ag-charts-community/src/chart/interaction/animationManager.ts\nfunction validAnimationDuration(testee) {\n  if (testee == null)\n    return true;\n  return !isNaN(testee) && testee >= 0 && testee <= 2;\n}\nvar AnimationManager = class extends BaseManager {\n  constructor(interactionManager, chartUpdateMutex) {\n    super();\n    this.interactionManager = interactionManager;\n    this.chartUpdateMutex = chartUpdateMutex;\n    this.defaultDuration = 1e3;\n    this.batch = new AnimationBatch(this.defaultDuration * 1.5);\n    this.debug = Debug.create(true, \"animation\");\n    this.rafAvailable = typeof requestAnimationFrame !== \"undefined\";\n    this.isPlaying = false;\n    this.requestId = null;\n    this.skipAnimations = false;\n  }\n  /**\n   * Create an animation to tween a value between the `from` and `to` properties. If an animation already exists\n   * with the same `id`, immediately stop it.\n   */\n  animate(_a) {\n    var opts = __objRest(_a, []);\n    var _a2;\n    const batch = this.batch;\n    try {\n      batch.checkOverlappingId(opts.id);\n    } catch (error) {\n      this.failsafeOnError(error);\n      return;\n    }\n    const id = (_a2 = opts.id) != null ? _a2 : Math.random().toString();\n    const skip = this.isSkipped() || opts.phase === \"none\";\n    if (skip) {\n      this.debug(\"AnimationManager - skipping animation\");\n    }\n    const { delay, duration } = opts;\n    if (!validAnimationDuration(delay)) {\n      throw new Error(`Animation delay of ${delay} is unsupported (${id})`);\n    }\n    if (!validAnimationDuration(duration)) {\n      throw new Error(`Animation duration of ${duration} is unsupported (${id})`);\n    }\n    const animation = new Animation(__spreadProps(__spreadValues({}, opts), {\n      id,\n      skip,\n      autoplay: this.isPlaying ? opts.autoplay : false,\n      phase: opts.phase,\n      defaultDuration: this.defaultDuration\n    }));\n    if (this.forceTimeJump(animation, this.defaultDuration)) {\n      return;\n    }\n    this.batch.addAnimation(animation);\n    return animation;\n  }\n  play() {\n    if (this.isPlaying) {\n      return;\n    }\n    this.isPlaying = true;\n    this.debug(\"AnimationManager.play()\");\n    try {\n      this.batch.play();\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n    this.requestAnimation();\n  }\n  pause() {\n    if (!this.isPlaying) {\n      return;\n    }\n    this.isPlaying = false;\n    this.cancelAnimation();\n    this.debug(\"AnimationManager.pause()\");\n    try {\n      this.batch.pause();\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  stop() {\n    this.isPlaying = false;\n    this.cancelAnimation();\n    this.debug(\"AnimationManager.stop()\");\n    this.batch.stop();\n  }\n  stopByAnimationId(id) {\n    try {\n      this.batch.stopByAnimationId(id);\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  stopByAnimationGroupId(id) {\n    try {\n      this.batch.stopByAnimationGroupId(id);\n    } catch (error) {\n      this.failsafeOnError(error);\n    }\n  }\n  reset() {\n    if (this.isPlaying) {\n      this.stop();\n      this.play();\n    } else {\n      this.stop();\n    }\n  }\n  skip(skip = true) {\n    this.skipAnimations = skip;\n  }\n  isSkipped() {\n    return !this.rafAvailable || this.skipAnimations || this.batch.isSkipped();\n  }\n  isActive() {\n    return this.isPlaying && this.batch.isActive();\n  }\n  skipCurrentBatch() {\n    if (this.debug.check()) {\n      this.debug(`AnimationManager - skipCurrentBatch()`, { stack: new Error().stack });\n    }\n    this.batch.skip();\n  }\n  /** Mocking point for tests to guarantee that animation updates happen. */\n  isSkippingFrames() {\n    return true;\n  }\n  /** Mocking point for tests to capture requestAnimationFrame callbacks. */\n  scheduleAnimationFrame(cb) {\n    this.requestId = requestAnimationFrame(cb);\n  }\n  /** Mocking point for tests to skip animations to a specific point in time. */\n  forceTimeJump(_animation, _defaultDuration) {\n    return false;\n  }\n  requestAnimation() {\n    if (!this.rafAvailable)\n      return;\n    if (!this.batch.isActive() || this.requestId !== null)\n      return;\n    let prevTime;\n    const onAnimationFrame = (time2) => __async(this, null, function* () {\n      const executeAnimationFrame = () => __async(this, null, function* () {\n        const deltaTime = time2 - (prevTime != null ? prevTime : time2);\n        prevTime = time2;\n        this.debug(\"AnimationManager - onAnimationFrame()\", {\n          controllersCount: this.batch.size,\n          deltaTime\n        });\n        this.interactionManager.pushState(1 /* Animation */);\n        try {\n          this.batch.progress(deltaTime);\n        } catch (error) {\n          this.failsafeOnError(error);\n        }\n        this.listeners.dispatch(\"animation-frame\", {\n          type: \"animation-frame\",\n          deltaMs: deltaTime\n        });\n      });\n      if (this.isSkippingFrames()) {\n        yield this.chartUpdateMutex.acquireImmediately(executeAnimationFrame);\n      } else {\n        yield this.chartUpdateMutex.acquire(executeAnimationFrame);\n      }\n      if (this.batch.isActive()) {\n        this.scheduleAnimationFrame(onAnimationFrame);\n      } else {\n        this.batch.stop();\n        this.listeners.dispatch(\"animation-stop\", {\n          type: \"animation-stop\",\n          deltaMs: this.batch.consumedTimeMs\n        });\n      }\n    });\n    this.listeners.dispatch(\"animation-start\", {\n      type: \"animation-start\",\n      deltaMs: 0\n    });\n    this.scheduleAnimationFrame(onAnimationFrame);\n  }\n  cancelAnimation() {\n    if (this.requestId === null)\n      return;\n    cancelAnimationFrame(this.requestId);\n    this.requestId = null;\n    this.startBatch();\n  }\n  failsafeOnError(error, cancelAnimation = true) {\n    Logger.error(\"Error during animation, skipping animations\", error);\n    if (cancelAnimation) {\n      this.cancelAnimation();\n    }\n  }\n  startBatch(skipAnimations) {\n    this.debug(`AnimationManager - startBatch() with skipAnimations=${skipAnimations}.`);\n    this.reset();\n    this.batch.stop();\n    this.batch.destroy();\n    this.batch = new AnimationBatch(this.defaultDuration * 1.5);\n    if (skipAnimations === true) {\n      this.batch.skip();\n    }\n  }\n  endBatch() {\n    if (this.batch.isActive()) {\n      this.batch.ready();\n      this.requestAnimation();\n    } else {\n      this.interactionManager.popState(1 /* Animation */);\n      if (this.batch.isSkipped()) {\n        this.batch.skip(false);\n      }\n    }\n  }\n  onBatchStop(cb) {\n    this.batch.stoppedCbs.add(cb);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/ariaAnnouncementServices.ts\nvar AriaAnnouncementService = class _AriaAnnouncementService {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.debug = Debug.create(true, \"aria\");\n    this.canvas.appendChild(this.liveElem = _AriaAnnouncementService.createAnnouncer());\n  }\n  static createAnnouncer() {\n    const e = getDocument().createElement(\"div\");\n    e.classList.add(\"ag-charts-aria-announcer\");\n    setAttribute(e, \"role\", \"status\");\n    setAttribute(e, \"aria-live\", \"assertive\");\n    return e;\n  }\n  destroy() {\n    this.canvas.removeChild(this.liveElem);\n  }\n  announceValue(value) {\n    this.debug(`AriaAnnouncementService - announceValue: ${value}`);\n    this.liveElem.textContent = value;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/chartEventManager.ts\nvar ChartEventManager = class extends BaseManager {\n  legendItemClick(series, itemId, enabled, legendItemName) {\n    const event = {\n      type: \"legend-item-click\",\n      series,\n      itemId,\n      enabled,\n      legendItemName\n    };\n    this.listeners.dispatch(\"legend-item-click\", event);\n  }\n  legendItemDoubleClick(series, itemId, enabled, numVisibleItems, legendItemName) {\n    const event = {\n      type: \"legend-item-double-click\",\n      series,\n      itemId,\n      enabled,\n      legendItemName,\n      numVisibleItems\n    };\n    this.listeners.dispatch(\"legend-item-double-click\", event);\n  }\n  axisHover(axisId, direction) {\n    const event = {\n      type: \"axis-hover\",\n      axisId,\n      direction\n    };\n    this.listeners.dispatch(\"axis-hover\", event);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/contextMenuRegistry.ts\nvar ContextMenuRegistry = class {\n  constructor() {\n    this.defaultActions = [];\n    this.disabledActions = /* @__PURE__ */ new Set();\n  }\n  copyDefaultActions() {\n    return [...this.defaultActions];\n  }\n  registerDefaultAction(action) {\n    if (action.id && this.defaultActions.find(({ id }) => id === action.id)) {\n      return;\n    }\n    this.defaultActions.push(action);\n  }\n  enableAction(actionId) {\n    this.disabledActions.delete(actionId);\n  }\n  disableAction(actionId) {\n    this.disabledActions.add(actionId);\n  }\n  isDisabled(actionId) {\n    return this.disabledActions.has(actionId);\n  }\n};\n\n// packages/ag-charts-community/src/util/stateTracker.ts\nvar StateTracker = class extends Map {\n  constructor(defaultValue, defaultState) {\n    super();\n    this.defaultValue = defaultValue;\n    this.defaultState = defaultState;\n  }\n  set(key, value) {\n    this.delete(key);\n    if (typeof value !== \"undefined\") {\n      super.set(key, value);\n    }\n    return this;\n  }\n  stateId() {\n    var _a;\n    return (_a = Array.from(this.keys()).pop()) != null ? _a : this.defaultState;\n  }\n  stateValue() {\n    var _a;\n    return (_a = Array.from(this.values()).pop()) != null ? _a : this.defaultValue;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/cursorManager.ts\nvar CursorManager = class {\n  constructor(element2) {\n    this.element = element2;\n    this.stateTracker = new StateTracker(\"default\");\n  }\n  updateCursor(callerId, style) {\n    this.stateTracker.set(callerId, style);\n    this.element.style.cursor = this.stateTracker.stateValue();\n  }\n  getCursor() {\n    return this.element.style.cursor;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/gestureDetector.ts\nfunction distanceSquared(finger1, finger2) {\n  const dx = finger1.screenX - finger2.screenX;\n  const dy = finger1.screenY - finger2.screenY;\n  return dx * dx + dy * dy;\n}\nfunction distance(finger1, finger2) {\n  return Math.sqrt(distanceSquared(finger1, finger2));\n}\nvar MIN_DISTANCE_TO_START_PINCH = 1;\nvar GestureDetector = class extends BaseManager {\n  constructor(element2) {\n    super();\n    this.touchstart = (event) => this.onTouchStart(event);\n    this.touchmove = (event) => this.onTouchMove(event);\n    this.touchend = (event) => this.onTouchEnd(event);\n    this.touchcancel = (event) => this.onTouchCancel(event);\n    this.pinch = {\n      finger1: { identifier: NaN, screenX: NaN, screenY: NaN },\n      finger2: { identifier: NaN, screenX: NaN, screenY: NaN },\n      origin: { x: NaN, y: NaN },\n      distance: NaN,\n      status: 0 /* Off */\n    };\n    this.element = element2;\n    element2.addEventListener(\"touchstart\", this.touchstart, { passive: true });\n    element2.addEventListener(\"touchmove\", this.touchmove, { passive: true });\n    element2.addEventListener(\"touchend\", this.touchend);\n    element2.addEventListener(\"touchcancel\", this.touchcancel);\n  }\n  destroy() {\n    const { element: element2 } = this;\n    element2.removeEventListener(\"touchstart\", this.touchstart);\n    element2.removeEventListener(\"touchmove\", this.touchmove);\n    element2.removeEventListener(\"touchend\", this.touchend);\n    element2.removeEventListener(\"touchcancel\", this.touchcancel);\n  }\n  findPinchTouches(moveEvent) {\n    const { touches } = moveEvent;\n    const { finger1, finger2 } = this.pinch;\n    if (this.pinch.status !== 0 /* Off */ && touches.length === 2) {\n      if (touches[0].identifier === finger1.identifier && touches[1].identifier === finger2.identifier) {\n        return [touches[0], touches[1]];\n      }\n      if (touches[0].identifier === finger2.identifier && touches[1].identifier === finger1.identifier) {\n        return [touches[1], touches[0]];\n      }\n    }\n  }\n  copyTouchData(event) {\n    const keys = [\"identifier\", \"screenX\", \"screenY\"];\n    partialAssign(keys, this.pinch.finger1, event.touches[0]);\n    partialAssign(keys, this.pinch.finger2, event.touches[1]);\n    this.pinch.distance = distance(this.pinch.finger1, this.pinch.finger2);\n  }\n  dispatchPinchEvent(type, deltaDistance) {\n    const { finger1, finger2, origin } = this.pinch;\n    const newEvent = { type, finger1, finger2, deltaDistance, origin };\n    this.listeners.dispatch(type, newEvent);\n  }\n  onTouchStart(event) {\n    this.stopPinchTracking();\n    const { pinch } = this;\n    if (event.touches.length === 2) {\n      pinch.status = 1 /* Initialized */;\n      this.copyTouchData(event);\n      pinch.origin.x = (event.touches[0].clientX + event.touches[1].clientX) / 2;\n      pinch.origin.y = (event.touches[0].clientY + event.touches[1].clientY) / 2;\n    }\n  }\n  onTouchMove(event) {\n    const pinchTouches = this.findPinchTouches(event);\n    if (pinchTouches !== void 0) {\n      const [touch1, touch2] = pinchTouches;\n      const { pinch } = this;\n      const newDistance = distance(touch1, touch2);\n      const deltaDistance = newDistance - pinch.distance;\n      if (pinch.status === 1 /* Initialized */) {\n        if (Math.abs(deltaDistance) > MIN_DISTANCE_TO_START_PINCH) {\n          pinch.status = 2 /* Running */;\n          this.copyTouchData(event);\n          this.dispatchPinchEvent(\"pinch-start\", 0);\n        }\n      } else if (pinch.status === 2 /* Running */) {\n        pinch.distance = newDistance;\n        this.copyTouchData(event);\n        this.dispatchPinchEvent(\"pinch-move\", deltaDistance);\n      } else {\n        Logger.error(`unexpected pinch.status: ${pinch.status}`);\n      }\n    }\n  }\n  onTouchEnd(_event) {\n    this.stopPinchTracking();\n  }\n  onTouchCancel(_event) {\n    this.stopPinchTracking();\n  }\n  stopPinchTracking() {\n    const { pinch } = this;\n    if (pinch.status === 2 /* Running */) {\n      this.dispatchPinchEvent(\"pinch-end\", 0);\n    }\n    this.pinch.status = 0 /* Off */;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/highlightManager.ts\nvar HighlightManager = class extends BaseManager {\n  constructor() {\n    super(...arguments);\n    this.highlightStates = new StateTracker();\n    this.pickedStates = new StateTracker();\n  }\n  updateHighlight(callerId, highlightedDatum) {\n    const { activeHighlight: previousHighlight } = this;\n    this.highlightStates.set(callerId, highlightedDatum);\n    this.activeHighlight = this.highlightStates.stateValue();\n    if (!this.isEqual(this.activeHighlight, previousHighlight)) {\n      this.listeners.dispatch(\"highlight-change\", {\n        type: \"highlight-change\",\n        currentHighlight: this.activeHighlight,\n        previousHighlight\n      });\n    }\n  }\n  getActiveHighlight() {\n    return this.activeHighlight;\n  }\n  updatePicked(callerId, clickableDatum) {\n    this.pickedStates.set(callerId, clickableDatum);\n    this.activePicked = this.pickedStates.stateValue();\n  }\n  getActivePicked() {\n    return this.activePicked;\n  }\n  isEqual(a, b) {\n    return a === b || (a == null ? void 0 : a.series) === (b == null ? void 0 : b.series) && (a == null ? void 0 : a.itemId) === (b == null ? void 0 : b.itemId) && (a == null ? void 0 : a.datum) === (b == null ? void 0 : b.datum);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/keyNavManager.ts\nvar KeyNavManager = class extends BaseManager {\n  constructor(interactionManager) {\n    super();\n    this.hasBrowserFocus = false;\n    this.isMouseBlurred = false;\n    this.isClicking = false;\n    this.destroyFns.push(\n      interactionManager.addListener(\"drag-start\", (e) => this.onClickStart(e), 31 /* All */),\n      interactionManager.addListener(\"click\", (e) => this.onClickStop(e), 31 /* All */),\n      interactionManager.addListener(\"drag-end\", (e) => this.onClickStop(e), 31 /* All */),\n      interactionManager.addListener(\"wheel\", (e) => this.mouseBlur(e)),\n      interactionManager.addListener(\"hover\", (e) => this.mouseBlur(e)),\n      interactionManager.addListener(\"drag\", (e) => this.mouseBlur(e)),\n      interactionManager.addListener(\"blur\", (e) => this.onBlur(e), 31 /* All */),\n      interactionManager.addListener(\"focus\", (e) => this.onFocus(e), 31 /* All */),\n      interactionManager.addListener(\"keydown\", (e) => this.onKeyDown(e), 31 /* All */)\n    );\n  }\n  destroy() {\n    super.destroy();\n  }\n  onClickStart(event) {\n    this.isClicking = true;\n    this.mouseBlur(event);\n  }\n  onClickStop(event) {\n    this.isClicking = false;\n    this.mouseBlur(event);\n  }\n  mouseBlur(event) {\n    if (!this.hasBrowserFocus)\n      return;\n    if (!this.isMouseBlurred) {\n      this.dispatch(\"blur\", 0, event);\n      this.isMouseBlurred = true;\n    }\n  }\n  onBlur(event) {\n    this.hasBrowserFocus = false;\n    this.isMouseBlurred = false;\n    this.dispatch(\"blur\", 0, event);\n  }\n  onFocus(event) {\n    this.hasBrowserFocus = true;\n    if (this.isClicking) {\n      this.isMouseBlurred = true;\n    } else {\n      this.dispatch(\"browserfocus\", 1, event);\n      this.dispatch(\"tab\", 0, event);\n    }\n  }\n  onKeyDown(event) {\n    if (!this.hasBrowserFocus || this.isClicking)\n      return;\n    this.isMouseBlurred = false;\n    switch (event.sourceEvent.code) {\n      case \"Tab\":\n        if (event.sourceEvent.shiftKey) {\n          return this.dispatch(\"tab\", -1, event);\n        } else {\n          return this.dispatch(\"tab\", 1, event);\n        }\n      case \"ArrowDown\":\n        return this.dispatch(\"nav-vert\", 1, event);\n      case \"ArrowUp\":\n        return this.dispatch(\"nav-vert\", -1, event);\n      case \"ArrowLeft\":\n        return this.dispatch(\"nav-hori\", -1, event);\n      case \"ArrowRight\":\n        return this.dispatch(\"nav-hori\", 1, event);\n      case \"Space\":\n      case \"Enter\":\n        return this.dispatch(\"submit\", 0, event);\n    }\n  }\n  dispatch(type, delta2, interactionEvent) {\n    const event = buildConsumable({ type, delta: delta2, sourceEvent: interactionEvent });\n    dispatchTypedConsumable(this.listeners, type, event);\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/focusStyles.ts\nvar focusStyles_exports = {};\n__export(focusStyles_exports, {\n  block: () => block,\n  css: () => css,\n  elements: () => elements,\n  modifiers: () => modifiers\n});\nvar block = \"ag-charts-focus\";\nvar elements = {\n  wrapper: `${block}__wrapper`,\n  indicator: `${block}__indicator`\n};\nvar modifiers = {\n  hidden: `${block}--hidden`\n};\nvar css = `\n.${block}.${elements.wrapper} {\n    position: relative;\n    display: block;\n    pointer-events: none;\n    user-select: none;\n    overflow: hidden;\n    top: 0;\n    left: 0;\n}\n\n.${block}.${elements.indicator} {\n    position: absolute;\n    display: block;\n    pointer-events: none;\n    user-select: none;\n    border: var(--ag-charts-focus-border);\n    box-shadow: var(--ag-charts-focus-border-shadow);\n}\n\n.${modifiers.hidden} {\n    visibility: hidden;\n}\n`;\n\n// packages/ag-charts-community/src/chart/interaction/regionManager.ts\nvar REGION_TAB_ORDERING = [\"series\", \"legend\"];\nvar RegionListeners = class extends Listeners {\n};\nvar RegionManager = class {\n  constructor(interactionManager, keyNavManager, canvasElement, element2) {\n    this.interactionManager = interactionManager;\n    this.keyNavManager = keyNavManager;\n    this.canvasElement = canvasElement;\n    this.currentTabIndex = 0;\n    this.isDragging = false;\n    this.leftCanvas = false;\n    this.regions = /* @__PURE__ */ new Map();\n    this.destroyFns = [];\n    this.destroyFns.push(\n      ...POINTER_INTERACTION_TYPES.map(\n        (eventName) => interactionManager.addListener(eventName, this.processPointerEvent.bind(this), 31 /* All */)\n      ),\n      this.keyNavManager.addListener(\"blur\", this.onNav.bind(this)),\n      this.keyNavManager.addListener(\"browserfocus\", this.onFocus.bind(this)),\n      this.keyNavManager.addListener(\"tab\", this.onTab.bind(this)),\n      this.keyNavManager.addListener(\"nav-vert\", this.onNav.bind(this)),\n      this.keyNavManager.addListener(\"nav-hori\", this.onNav.bind(this)),\n      this.keyNavManager.addListener(\"submit\", this.onNav.bind(this))\n    );\n    injectStyle(css, block);\n    this.focusWrapper = getDocument().createElement(\"div\");\n    this.focusIndicator = getDocument().createElement(\"div\");\n    this.focusWrapper.appendChild(this.focusIndicator);\n    element2.appendChild(this.focusWrapper);\n    const { block: block3, elements: elements3, modifiers: modifiers3 } = focusStyles_exports;\n    this.focusWrapper.classList.add(block3, elements3.wrapper);\n    this.focusIndicator.classList.add(block3, elements3.indicator, modifiers3.hidden);\n  }\n  destroy() {\n    this.destroyFns.forEach((fn) => fn());\n    this.currentRegion = void 0;\n    for (const region of this.regions.values()) {\n      region.listeners.destroy();\n    }\n    this.focusWrapper.remove();\n    this.regions.clear();\n  }\n  addRegionFromProperties(properties) {\n    const region = { properties, listeners: new RegionListeners() };\n    this.regions.set(properties.name, region);\n    return this.makeObserver(region);\n  }\n  addRegion(name, bboxprovider, ...extraProviders) {\n    return this.addRegionFromProperties({\n      name,\n      bboxproviders: [bboxprovider, ...extraProviders],\n      canInteraction: () => true\n    });\n  }\n  getRegion(name) {\n    return this.makeObserver(this.regions.get(name));\n  }\n  find(x, y) {\n    const matches = [];\n    for (const [_name, region] of this.regions.entries()) {\n      for (const provider of region.properties.bboxproviders) {\n        const bbox = provider.getCachedBBox();\n        if (bbox.containsPoint(x, y)) {\n          matches.push([region, bbox.width * bbox.height]);\n        }\n      }\n    }\n    return matches.sort((a, b) => a[1] - b[1]).map((m) => m[0]);\n  }\n  // This method return a wrapper object that matches the interface of InteractionManager.addListener.\n  // The intent is to allow the InteractionManager and RegionManager to be used almost interchangeably.\n  makeObserver(region) {\n    const { interactionManager } = this;\n    class ObservableRegionImplementation {\n      addListener(type, handler, triggeringStates = 16 /* Default */) {\n        var _a;\n        return (_a = region == null ? void 0 : region.listeners.addListener(type, (e) => {\n          if (!e.consumed) {\n            const currentState = interactionManager.getState();\n            if (currentState & triggeringStates) {\n              handler(e);\n            }\n          }\n        })) != null ? _a : () => {\n        };\n      }\n    }\n    return new ObservableRegionImplementation();\n  }\n  checkPointerHistory(targetRegion, event) {\n    for (const historyEvent of event.pointerHistory) {\n      const historyRegion = this.pickRegion(historyEvent.offsetX, historyEvent.offsetY);\n      if (targetRegion.properties.name !== (historyRegion == null ? void 0 : historyRegion.properties.name)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  dispatch(region, event) {\n    region == null ? void 0 : region.listeners.dispatch(event.type, event);\n  }\n  // Process events during a drag action. Returns false if this event should follow the standard\n  // RegionManager.processEvent flow, or true if this event already processed by this function.\n  handleDragging(event) {\n    const { currentRegion } = this;\n    switch (event.type) {\n      case \"drag-start\":\n        this.isDragging = true;\n        this.leftCanvas = false;\n        break;\n      case \"leave\":\n        this.leftCanvas = true;\n        return this.isDragging;\n      case \"enter\":\n        this.leftCanvas = false;\n        return this.isDragging;\n      case \"drag\":\n        if (this.isDragging) {\n          this.dispatch(currentRegion, event);\n          return true;\n        }\n        break;\n      case \"drag-end\":\n        if (this.isDragging) {\n          this.isDragging = false;\n          this.dispatch(currentRegion, event);\n          if (this.leftCanvas) {\n            this.dispatch(currentRegion, __spreadProps(__spreadValues({}, event), { type: \"leave\" }));\n          }\n          return true;\n        }\n        break;\n    }\n    return false;\n  }\n  processPointerEvent(event) {\n    if (this.handleDragging(event)) {\n      return;\n    }\n    const { currentRegion } = this;\n    const newRegion = this.pickRegion(event.offsetX, event.offsetY);\n    if (currentRegion !== void 0 && (newRegion == null ? void 0 : newRegion.properties.name) !== currentRegion.properties.name) {\n      this.dispatch(currentRegion, __spreadProps(__spreadValues({}, event), { type: \"leave\" }));\n    }\n    if (newRegion !== void 0 && newRegion.properties.name !== (currentRegion == null ? void 0 : currentRegion.properties.name)) {\n      this.dispatch(newRegion, __spreadProps(__spreadValues({}, event), { type: \"enter\" }));\n    }\n    if (newRegion !== void 0 && this.checkPointerHistory(newRegion, event)) {\n      this.dispatch(newRegion, event);\n    }\n    this.currentRegion = newRegion;\n  }\n  pickRegion(x, y) {\n    const matchingRegions = this.find(x, y);\n    return matchingRegions.length > 0 ? matchingRegions[0] : void 0;\n  }\n  getTabRegion(tabIndex) {\n    if (tabIndex !== void 0 && tabIndex >= 0 && tabIndex < REGION_TAB_ORDERING.length) {\n      return this.regions.get(REGION_TAB_ORDERING[tabIndex]);\n    }\n    return void 0;\n  }\n  dispatchTabStart(event) {\n    const { delta: delta2, sourceEvent } = event;\n    const startEvent = buildConsumable({\n      type: \"tab-start\",\n      delta: delta2,\n      sourceEvent\n    });\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    this.dispatch(focusedRegion, startEvent);\n    return !!startEvent.consumed;\n  }\n  getNextInteractableTabIndex(currentIndex, delta2) {\n    const direction = delta2 < 0 ? -1 : 1;\n    let i = currentIndex;\n    while (delta2 !== 0) {\n      const region = this.getTabRegion(i + direction);\n      if (region === void 0) {\n        return void 0;\n      } else if (region.properties.canInteraction()) {\n        delta2 = delta2 - direction;\n      }\n      i = i + direction;\n    }\n    return i;\n  }\n  validateCurrentTabIndex() {\n    var _a;\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (focusedRegion !== void 0 && !focusedRegion.properties.canInteraction()) {\n      this.currentTabIndex = (_a = this.getNextInteractableTabIndex(-1, 1)) != null ? _a : 0;\n    }\n  }\n  onFocus(event) {\n    const { delta: delta2, sourceEvent } = event;\n    const newIndex = delta2 > 0 ? this.getNextInteractableTabIndex(-1, 1) : this.getNextInteractableTabIndex(REGION_TAB_ORDERING.length, -1);\n    this.currentTabIndex = newIndex != null ? newIndex : 0;\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (focusedRegion) {\n      this.dispatch(focusedRegion, buildConsumable({ type: \"tab\", delta: delta2, sourceEvent }));\n    }\n  }\n  onTab(event) {\n    const consumed = this.dispatchTabStart(event);\n    if (consumed)\n      return;\n    this.validateCurrentTabIndex();\n    const newTabIndex = this.getNextInteractableTabIndex(this.currentTabIndex, event.delta);\n    const newRegion = this.getTabRegion(newTabIndex);\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    if (newTabIndex !== void 0) {\n      this.currentTabIndex = newTabIndex;\n    }\n    if (focusedRegion !== void 0 && (newRegion == null ? void 0 : newRegion.properties.name) !== focusedRegion.properties.name) {\n      const { delta: delta2, sourceEvent } = event;\n      const blurEvent = buildConsumable({ type: \"blur\", delta: delta2, sourceEvent });\n      this.dispatch(focusedRegion, blurEvent);\n    }\n    if (newRegion === void 0 || !newRegion.properties.canInteraction()) {\n      this.updateFocusIndicatorRect(void 0);\n    } else {\n      this.dispatch(newRegion, event);\n    }\n  }\n  onNav(event) {\n    const focusedRegion = this.getTabRegion(this.currentTabIndex);\n    this.dispatch(focusedRegion, event);\n  }\n  updateFocusWrapperRect() {\n    this.focusWrapper.style.width = this.canvasElement.style.width;\n    this.focusWrapper.style.height = this.canvasElement.style.height;\n  }\n  updateFocusIndicatorRect(rect) {\n    if (rect == null) {\n      this.focusIndicator.classList.add(modifiers.hidden);\n      return;\n    }\n    this.updateFocusWrapperRect();\n    this.focusIndicator.classList.remove(modifiers.hidden);\n    this.focusIndicator.style.width = `${rect.width}px`;\n    this.focusIndicator.style.height = `${rect.height}px`;\n    this.focusIndicator.style.left = `${rect.x}px`;\n    this.focusIndicator.style.top = `${rect.y}px`;\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/toolbarManager.ts\nvar ToolbarManager = class extends BaseManager {\n  constructor(element2) {\n    super();\n    this.element = element2;\n  }\n  static isGroup(group2, event) {\n    return event.group === group2;\n  }\n  pressButton(group2, value) {\n    this.listeners.dispatch(\"button-pressed\", { type: \"button-pressed\", group: group2, value });\n  }\n  toggleGroup(group2, visible) {\n    this.listeners.dispatch(\"group-toggled\", { type: \"group-toggled\", group: group2, visible });\n  }\n  toggleButton(group2, value, enabled) {\n    this.listeners.dispatch(\"button-toggled\", { type: \"button-toggled\", group: group2, value, enabled });\n  }\n  proxyGroupOptions(group2, options) {\n    this.listeners.dispatch(\"proxy-group-options\", { type: \"proxy-group-options\", group: group2, options });\n  }\n};\n\n// packages/ag-charts-community/src/chart/interaction/tooltipManager.ts\nvar defaultTooltipCss = `\n.${DEFAULT_TOOLTIP_CLASS} {\n    transition: transform 0.1s ease;\n    max-width: 100%;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: rgb(70, 70, 70);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-always {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: none;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-hyphenate {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: auto;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-on-space {\n    overflow-wrap: normal;\n    word-break: normal;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-wrap-never {\n    white-space: pre;\n    text-overflow: ellipsis;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-no-animation {\n    transition: none !important;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-hidden {\n    visibility: hidden;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-title {\n    overflow: hidden;\n    position: relative;\n    padding: 8px 14px;\n    border-top-left-radius: 2px;\n    border-top-right-radius: 2px;\n    color: white;\n    background-color: #888888;\n    z-index: 1;\n    text-overflow: inherit;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-title:only-child {\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-content {\n    overflow: hidden;\n    padding: 6px 14px;\n    line-height: 1.7em;\n    background: white;\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    text-overflow: inherit;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-arrow::before {\n    content: \"\";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid #d9d9d9;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-arrow::after {\n    content: \"\";\n\n    position: absolute;\n    top: calc(100% - 1px);\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid white;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n`;\nvar TooltipManager = class {\n  constructor(canvasElement, tooltip) {\n    this.canvasElement = canvasElement;\n    this.tooltip = tooltip;\n    this.stateTracker = new StateTracker();\n    this.appliedState = null;\n    if (typeof IntersectionObserver !== \"undefined\") {\n      const observer = new IntersectionObserver(\n        (entries) => {\n          for (const entry of entries) {\n            if (entry.target === this.canvasElement && entry.intersectionRatio === 0) {\n              this.tooltip.toggle(false);\n            }\n          }\n        },\n        { root: this.tooltip.root }\n      );\n      observer.observe(this.canvasElement);\n      this.observer = observer;\n    }\n    injectStyle(defaultTooltipCss, \"tooltip\");\n  }\n  updateTooltip(callerId, meta, content) {\n    var _a;\n    if (!this.tooltip.enabled)\n      return;\n    content != null ? content : content = (_a = this.stateTracker.get(callerId)) == null ? void 0 : _a.content;\n    this.stateTracker.set(callerId, { content, meta });\n    this.applyStates();\n  }\n  removeTooltip(callerId) {\n    if (!this.tooltip.enabled)\n      return;\n    this.stateTracker.delete(callerId);\n    this.applyStates();\n  }\n  getTooltipMeta(callerId) {\n    var _a;\n    return (_a = this.stateTracker.get(callerId)) == null ? void 0 : _a.meta;\n  }\n  destroy() {\n    var _a;\n    (_a = this.observer) == null ? void 0 : _a.unobserve(this.canvasElement);\n  }\n  applyStates() {\n    var _a;\n    const id = this.stateTracker.stateId();\n    const state = id ? this.stateTracker.get(id) : null;\n    if ((state == null ? void 0 : state.meta) == null || (state == null ? void 0 : state.content) == null) {\n      this.appliedState = null;\n      this.tooltip.toggle(false);\n      return;\n    }\n    const canvasRect = this.canvasElement.getBoundingClientRect();\n    if (((_a = this.appliedState) == null ? void 0 : _a.content) === (state == null ? void 0 : state.content)) {\n      const renderInstantly = this.tooltip.isVisible();\n      this.tooltip.show(canvasRect, state == null ? void 0 : state.meta, null, renderInstantly);\n    } else {\n      this.tooltip.show(canvasRect, state == null ? void 0 : state.meta, state == null ? void 0 : state.content);\n    }\n    this.appliedState = state;\n  }\n  static makeTooltipMeta(event, datum) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const { offsetX, offsetY } = event;\n    const { tooltip } = datum.series.properties;\n    const meta = {\n      offsetX,\n      offsetY,\n      enableInteraction: (_b = (_a = tooltip.interaction) == null ? void 0 : _a.enabled) != null ? _b : false,\n      lastPointerEvent: { type: event.type, offsetX, offsetY },\n      showArrow: tooltip.showArrow,\n      position: {\n        type: tooltip.position.type,\n        xOffset: tooltip.position.xOffset,\n        yOffset: tooltip.position.yOffset\n      }\n    };\n    const refPoint = (_g = (_d = (_c = datum.yBar) == null ? void 0 : _c.upperPoint) != null ? _d : datum.midPoint) != null ? _g : (_f = (_e = datum.series).datumMidPoint) == null ? void 0 : _f.call(_e, datum);\n    if (tooltip.position.type === \"node\" && refPoint) {\n      const { x, y } = refPoint;\n      const point = datum.series.contentGroup.inverseTransformPoint(x, y);\n      return __spreadProps(__spreadValues({}, meta), {\n        offsetX: Math.round(point.x),\n        offsetY: Math.round(point.y)\n      });\n    }\n    return meta;\n  }\n};\n\n// packages/ag-charts-community/src/chart/layout/layoutService.ts\nvar LayoutService = class extends Listeners {\n  constructor() {\n    super(...arguments);\n    this.layoutComplete = \"layout-complete\";\n  }\n  addListener(eventType, handler) {\n    if (this.isLayoutStage(eventType) || this.isLayoutComplete(eventType)) {\n      return super.addListener(eventType, handler);\n    }\n    throw new Error(`AG Charts - unsupported listener type: ${eventType}`);\n  }\n  dispatchPerformLayout(stage, ctx) {\n    if (this.isLayoutStage(stage)) {\n      return this.getListenersByType(stage).reduce((result, listener) => {\n        try {\n          return listener.handler(result);\n        } catch (e) {\n          Logger.errorOnce(e);\n          return result;\n        }\n      }, ctx);\n    }\n    return ctx;\n  }\n  dispatchLayoutComplete(event) {\n    this.dispatch(this.layoutComplete, event);\n  }\n  isLayoutStage(eventType) {\n    return eventType !== this.layoutComplete;\n  }\n  isLayoutComplete(eventType) {\n    return eventType === this.layoutComplete;\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/seriesStateManager.ts\nvar SeriesStateManager = class {\n  constructor() {\n    this.groups = {};\n  }\n  registerSeries({\n    id,\n    seriesGrouping,\n    visible,\n    type\n  }) {\n    var _a, _b;\n    if (!seriesGrouping)\n      return;\n    (_b = (_a = this.groups)[type]) != null ? _b : _a[type] = {};\n    this.groups[type][id] = { grouping: seriesGrouping, visible };\n  }\n  deregisterSeries({ id, type }) {\n    if (this.groups[type]) {\n      delete this.groups[type][id];\n    }\n    if (this.groups[type] && Object.keys(this.groups[type]).length === 0) {\n      delete this.groups[type];\n    }\n  }\n  getVisiblePeerGroupIndex({\n    type,\n    seriesGrouping,\n    visible\n  }) {\n    var _a;\n    if (!seriesGrouping)\n      return { visibleGroupCount: visible ? 1 : 0, visibleSameStackCount: visible ? 1 : 0, index: 0 };\n    const visibleGroupsSet = /* @__PURE__ */ new Set();\n    const visibleSameStackSet = /* @__PURE__ */ new Set();\n    for (const entry of Object.values((_a = this.groups[type]) != null ? _a : {})) {\n      if (!entry.visible)\n        continue;\n      visibleGroupsSet.add(entry.grouping.groupIndex);\n      if (entry.grouping.groupIndex === seriesGrouping.groupIndex) {\n        visibleSameStackSet.add(entry.grouping.stackIndex);\n      }\n    }\n    const visibleGroups = Array.from(visibleGroupsSet);\n    visibleGroups.sort((a, b) => a - b);\n    return {\n      visibleGroupCount: visibleGroups.length,\n      visibleSameStackCount: visibleSameStackSet.size,\n      index: visibleGroups.indexOf(seriesGrouping.groupIndex)\n    };\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartUpdateType.ts\nvar ChartUpdateType = /* @__PURE__ */ ((ChartUpdateType2) => {\n  ChartUpdateType2[ChartUpdateType2[\"FULL\"] = 0] = \"FULL\";\n  ChartUpdateType2[ChartUpdateType2[\"UPDATE_DATA\"] = 1] = \"UPDATE_DATA\";\n  ChartUpdateType2[ChartUpdateType2[\"PROCESS_DATA\"] = 2] = \"PROCESS_DATA\";\n  ChartUpdateType2[ChartUpdateType2[\"PERFORM_LAYOUT\"] = 3] = \"PERFORM_LAYOUT\";\n  ChartUpdateType2[ChartUpdateType2[\"SERIES_UPDATE\"] = 4] = \"SERIES_UPDATE\";\n  ChartUpdateType2[ChartUpdateType2[\"TOOLTIP_RECALCULATION\"] = 5] = \"TOOLTIP_RECALCULATION\";\n  ChartUpdateType2[ChartUpdateType2[\"SCENE_RENDER\"] = 6] = \"SCENE_RENDER\";\n  ChartUpdateType2[ChartUpdateType2[\"NONE\"] = 7] = \"NONE\";\n  return ChartUpdateType2;\n})(ChartUpdateType || {});\n\n// packages/ag-charts-community/src/chart/updateService.ts\nvar UpdateService = class extends Listeners {\n  constructor(updateCallback) {\n    super();\n    this.updateCallback = updateCallback;\n  }\n  update(type = 0 /* FULL */, options) {\n    this.updateCallback(type, options);\n  }\n  dispatchUpdateComplete(rects) {\n    this.dispatch(\"update-complete\", {\n      type: \"update-complete\",\n      minRect: rects == null ? void 0 : rects.minRect,\n      minVisibleRect: rects == null ? void 0 : rects.minVisibleRect\n    });\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartContext.ts\nvar ChartContext = class {\n  constructor(chart, vars) {\n    const { scene, syncManager, element: element2, updateCallback, updateMutex } = vars;\n    this.chartService = chart;\n    this.scene = scene;\n    this.syncManager = syncManager;\n    this.zoomManager = chart.zoomManager;\n    this.annotationManager = new AnnotationManager(chart.annotationRoot);\n    this.ariaAnnouncementService = new AriaAnnouncementService(scene.canvas.element);\n    this.chartEventManager = new ChartEventManager();\n    this.contextMenuRegistry = new ContextMenuRegistry();\n    this.cursorManager = new CursorManager(element2);\n    this.highlightManager = new HighlightManager();\n    this.interactionManager = new InteractionManager(chart.keyboard, element2);\n    this.keyNavManager = new KeyNavManager(this.interactionManager);\n    this.regionManager = new RegionManager(\n      this.interactionManager,\n      this.keyNavManager,\n      this.scene.canvas.element,\n      element2\n    );\n    this.toolbarManager = new ToolbarManager(element2);\n    this.gestureDetector = new GestureDetector(element2);\n    this.layoutService = new LayoutService();\n    this.updateService = new UpdateService(updateCallback);\n    this.seriesStateManager = new SeriesStateManager();\n    this.callbackCache = new CallbackCache();\n    this.animationManager = new AnimationManager(this.interactionManager, updateMutex);\n    this.animationManager.skip();\n    this.animationManager.play();\n    this.dataService = new DataService(this.animationManager);\n    this.tooltipManager = new TooltipManager(this.scene.canvas.element, chart.tooltip);\n  }\n  destroy() {\n    this.tooltipManager.destroy();\n    this.regionManager.destroy();\n    this.keyNavManager.destroy();\n    this.interactionManager.destroy();\n    this.animationManager.stop();\n    this.animationManager.destroy();\n    this.ariaAnnouncementService.destroy();\n    this.chartEventManager.destroy();\n    this.highlightManager.destroy();\n    this.callbackCache.invalidateCache();\n    this.animationManager.reset();\n    this.syncManager.destroy();\n  }\n};\n\n// packages/ag-charts-community/src/chart/chartHighlight.ts\nvar ChartHighlight = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.range = \"tooltip\";\n  }\n};\n__decorateClass([\n  Validate(UNION([\"tooltip\", \"node\"], \"a range\"))\n], ChartHighlight.prototype, \"range\", 2);\n\n// packages/ag-charts-community/src/chart/data/dataDomain.ts\nvar DiscreteDomain = class _DiscreteDomain {\n  constructor() {\n    this.domain = /* @__PURE__ */ new Set();\n  }\n  static is(value) {\n    return value instanceof _DiscreteDomain;\n  }\n  extend(val) {\n    this.domain.add(val);\n  }\n  getDomain() {\n    return Array.from(this.domain);\n  }\n};\nvar ContinuousDomain = class _ContinuousDomain {\n  constructor() {\n    this.domain = [Infinity, -Infinity];\n  }\n  static is(value) {\n    return value instanceof _ContinuousDomain;\n  }\n  static extendDomain(values, domain = [Infinity, -Infinity]) {\n    for (const value of values) {\n      if (typeof value !== \"number\") {\n        continue;\n      }\n      if (domain[0] > value) {\n        domain[0] = value;\n      }\n      if (domain[1] < value) {\n        domain[1] = value;\n      }\n    }\n    return domain;\n  }\n  extend(value) {\n    if (this.domain[0] > value) {\n      this.domain[0] = value;\n    }\n    if (this.domain[1] < value) {\n      this.domain[1] = value;\n    }\n  }\n  getDomain() {\n    return [...this.domain];\n  }\n};\n\n// packages/ag-charts-community/src/chart/data/dataModel.ts\nfunction toKeyString(keys) {\n  return keys.map((key) => isObject(key) ? JSON.stringify(key) : key).join(\"-\");\n}\nfunction round2(val) {\n  const accuracy = 1e4;\n  if (Number.isInteger(val)) {\n    return val;\n  } else if (Math.abs(val) > accuracy) {\n    return Math.trunc(val);\n  }\n  return Math.round(val * accuracy) / accuracy;\n}\nfunction fixNumericExtentInternal(extent2) {\n  if (extent2 == null) {\n    return [];\n  }\n  let [min, max] = extent2.map(Number);\n  if (min === 0 && max === 0) {\n    return [0, 1];\n  }\n  if (min === Infinity && max === -Infinity) {\n    return [];\n  } else if (min === Infinity) {\n    min = 0;\n  } else if (max === -Infinity) {\n    max = 0;\n  }\n  return isFiniteNumber(min) && isFiniteNumber(max) ? [min, max] : [];\n}\nfunction fixNumericExtent(extent2, axis) {\n  var _a;\n  const fixedExtent = fixNumericExtentInternal(extent2);\n  if (fixedExtent.length === 0) {\n    return fixedExtent;\n  }\n  let [min, max] = fixedExtent;\n  if (min === max) {\n    const [paddingMin, paddingMax] = (_a = axis == null ? void 0 : axis.calculatePadding(min, max)) != null ? _a : [1, 1];\n    min -= paddingMin;\n    max += paddingMax;\n  }\n  return [min, max];\n}\nfunction getMissCount(scopeProvider, missMap) {\n  var _a;\n  return (_a = missMap == null ? void 0 : missMap.get(scopeProvider.id)) != null ? _a : 0;\n}\nvar INVALID_VALUE = Symbol(\"invalid\");\nvar DataModel = class {\n  constructor(opts, mode = \"standalone\") {\n    this.opts = opts;\n    this.mode = mode;\n    this.debug = Debug.create(true, \"data-model\");\n    this.scopeCache = /* @__PURE__ */ new Map();\n    this.keys = [];\n    this.values = [];\n    this.aggregates = [];\n    this.groupProcessors = [];\n    this.propertyProcessors = [];\n    this.reducers = [];\n    this.processors = [];\n    let keys = true;\n    for (const next of opts.props) {\n      if (next.type === \"key\" && !keys) {\n        throw new Error(\"AG Charts - internal config error: keys must come before values.\");\n      }\n      if (next.type === \"value\" && keys) {\n        keys = false;\n      }\n    }\n    const verifyMatchGroupId = ({ matchGroupIds = [] }) => {\n      for (const matchGroupId of matchGroupIds) {\n        if (this.values.every((def) => def.groupId !== matchGroupId)) {\n          throw new Error(\n            `AG Charts - internal config error: matchGroupIds properties must match defined groups (${matchGroupId}).`\n          );\n        }\n      }\n    };\n    for (const def of opts.props) {\n      switch (def.type) {\n        case \"key\":\n          this.keys.push(__spreadProps(__spreadValues({}, def), { index: this.keys.length, missing: /* @__PURE__ */ new Map() }));\n          break;\n        case \"value\":\n          if (def.property == null) {\n            throw new Error(\n              `AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(\n                def\n              )}`\n            );\n          }\n          this.values.push(__spreadProps(__spreadValues({}, def), { index: this.values.length, missing: /* @__PURE__ */ new Map() }));\n          break;\n        case \"aggregate\":\n          verifyMatchGroupId(def);\n          this.aggregates.push(__spreadProps(__spreadValues({}, def), { index: this.aggregates.length }));\n          break;\n        case \"group-value-processor\":\n          verifyMatchGroupId(def);\n          this.groupProcessors.push(__spreadProps(__spreadValues({}, def), { index: this.groupProcessors.length }));\n          break;\n        case \"property-value-processor\":\n          this.propertyProcessors.push(__spreadProps(__spreadValues({}, def), { index: this.propertyProcessors.length }));\n          break;\n        case \"reducer\":\n          this.reducers.push(__spreadProps(__spreadValues({}, def), { index: this.reducers.length }));\n          break;\n        case \"processor\":\n          this.processors.push(__spreadProps(__spreadValues({}, def), { index: this.processors.length }));\n          break;\n      }\n    }\n  }\n  resolveProcessedDataDefById(scope, searchId) {\n    var _a;\n    const def = (_a = this.scopeCache.get(scope.id)) == null ? void 0 : _a.get(searchId);\n    if (!def) {\n      throw new Error(`AG Charts - didn't find property definition for [${searchId}, ${scope.id}]`);\n    }\n    return { index: def.index, def };\n  }\n  resolveProcessedDataIndexById(scope, searchId) {\n    return this.resolveProcessedDataDefById(scope, searchId).index;\n  }\n  resolveProcessedDataDefsByIds(scope, searchIds) {\n    return searchIds.map((searchId) => [searchId, this.resolveProcessedDataDefById(scope, searchId)]);\n  }\n  resolveProcessedDataDefsValues(defs, { keys, values }) {\n    const result = {};\n    for (const [searchId, { index, def }] of defs) {\n      const processedData = def.type === \"key\" ? keys : values;\n      result[searchId] = processedData[index];\n    }\n    return result;\n  }\n  getDomain(scope, searchId, type = \"value\", processedData) {\n    var _a;\n    const domains = this.getDomainsByType(type, processedData);\n    return (_a = domains == null ? void 0 : domains[this.resolveProcessedDataIndexById(scope, searchId)]) != null ? _a : [];\n  }\n  getDomainsByType(type, processedData) {\n    switch (type) {\n      case \"key\":\n        return processedData.domain.keys;\n      case \"value\":\n        return processedData.domain.values;\n      case \"aggregate\":\n        return processedData.domain.aggValues;\n      case \"group-value-processor\":\n        return processedData.domain.groups;\n      default:\n        return null;\n    }\n  }\n  processData(data, sources) {\n    var _a;\n    const {\n      opts: { groupByKeys, groupByFn },\n      aggregates,\n      groupProcessors,\n      reducers,\n      processors,\n      propertyProcessors\n    } = this;\n    const start = performance.now();\n    if (groupByKeys && this.keys.length === 0) {\n      return;\n    }\n    let processedData = this.extractData(data, sources);\n    if (groupByKeys) {\n      processedData = this.groupData(processedData);\n    } else if (groupByFn) {\n      processedData = this.groupData(processedData, groupByFn(processedData));\n    }\n    if (groupProcessors.length > 0) {\n      this.postProcessGroups(processedData);\n    }\n    if (aggregates.length > 0) {\n      this.aggregateData(processedData);\n    }\n    if (propertyProcessors.length > 0) {\n      this.postProcessProperties(processedData);\n    }\n    if (reducers.length > 0) {\n      this.reduceData(processedData);\n    }\n    if (processors.length > 0) {\n      this.postProcessData(processedData);\n    }\n    if (data.length > 0) {\n      for (const def of iterate(this.keys, this.values)) {\n        for (const [scope, missCount] of def.missing) {\n          if (missCount >= data.length) {\n            const scopeHint = scope == null ? \"\" : ` for ${scope}`;\n            Logger.warnOnce(`the key '${def.property}' was not found in any data element${scopeHint}.`);\n          }\n        }\n      }\n    }\n    const end = performance.now();\n    processedData.time = end - start;\n    if (this.debug.check()) {\n      logProcessedData(processedData);\n    }\n    this.scopeCache.clear();\n    for (const def of iterate(this.keys, this.values, this.aggregates)) {\n      if (!def.idsMap)\n        continue;\n      for (const [scope, ids] of def.idsMap) {\n        for (const id of ids) {\n          if (!this.scopeCache.has(scope)) {\n            this.scopeCache.set(scope, /* @__PURE__ */ new Map([[id, def]]));\n          } else if ((_a = this.scopeCache.get(scope)) == null ? void 0 : _a.has(id)) {\n            throw new Error(\"duplicate definition ids on the same scope are not allowed.\");\n          } else {\n            this.scopeCache.get(scope).set(id, def);\n          }\n        }\n      }\n    }\n    return processedData;\n  }\n  valueGroupIdxLookup({ matchGroupIds }) {\n    const result = [];\n    for (const [index, def] of this.values.entries()) {\n      if (!matchGroupIds || def.groupId && matchGroupIds.includes(def.groupId)) {\n        result.push(index);\n      }\n    }\n    return result;\n  }\n  valueIdxLookup(scopes, prop) {\n    const noScopesToMatch = scopes == null || scopes.length === 0;\n    const propId = typeof prop === \"string\" ? prop : prop.id;\n    const hasMatchingScopeId = (def) => {\n      if (def.idsMap) {\n        for (const [scope, ids] of def.idsMap) {\n          if ((scopes == null ? void 0 : scopes.includes(scope)) && ids.has(propId)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const result = this.values.findIndex((def) => {\n      const validDefScopes = def.scopes == null || noScopesToMatch && !def.scopes.length || def.scopes.some((s) => scopes == null ? void 0 : scopes.includes(s));\n      return validDefScopes && (def.property === propId || def.id === propId || hasMatchingScopeId(def));\n    });\n    if (result === -1) {\n      throw new Error(\n        `AG Charts - configuration error, unknown property ${JSON.stringify(prop)} in scope(s) ${JSON.stringify(\n          scopes\n        )}`\n      );\n    }\n    return result;\n  }\n  extractData(data, sources) {\n    var _a, _b, _c, _d;\n    const { dataDomain, processValue, scopes, allScopesHaveSameDefs } = this.initDataDomainProcessor();\n    const sourcesById = new Map(sources == null ? void 0 : sources.map((s) => [s.id, s]));\n    const { keys: keyDefs, values: valueDefs } = this;\n    const resultData = new Array(data.length);\n    let resultDataIdx = 0;\n    let partialValidDataCount = 0;\n    for (const [datumIdx, datum] of data.entries()) {\n      const sourceDatums = {};\n      const validScopes = scopes.size > 0 ? new Set(scopes) : void 0;\n      const keys = new Array(keyDefs.length);\n      let keyIdx = 0;\n      let key;\n      for (const def of keyDefs) {\n        key = processValue(def, datum, key);\n        if (key === INVALID_VALUE)\n          break;\n        if (keys) {\n          keys[keyIdx++] = key;\n        }\n      }\n      if (key === INVALID_VALUE)\n        continue;\n      const values = valueDefs.length > 0 ? new Array(valueDefs.length) : void 0;\n      let value;\n      for (const [valueDefIdx, def] of valueDefs.entries()) {\n        for (const scope of (_a = def.scopes) != null ? _a : scopes) {\n          const source = sourcesById.get(scope);\n          const valueDatum = (_b = source == null ? void 0 : source.data[datumIdx]) != null ? _b : datum;\n          value = processValue(def, valueDatum, value, scope);\n          if (value === INVALID_VALUE || !values)\n            continue;\n          if (source != null && def.includeProperty !== false) {\n            const property = def.includeProperty && def.id != null ? def.id : def.property;\n            (_c = sourceDatums[scope]) != null ? _c : sourceDatums[scope] = {};\n            sourceDatums[scope][property] = value;\n          }\n          values[valueDefIdx] = value;\n        }\n        if (value === INVALID_VALUE) {\n          if (allScopesHaveSameDefs)\n            break;\n          for (const scope of (_d = def.scopes) != null ? _d : scopes) {\n            validScopes == null ? void 0 : validScopes.delete(scope);\n          }\n          if ((validScopes == null ? void 0 : validScopes.size) === 0)\n            break;\n        }\n      }\n      if (value === INVALID_VALUE && allScopesHaveSameDefs)\n        continue;\n      if ((validScopes == null ? void 0 : validScopes.size) === 0)\n        continue;\n      const result = { datum: __spreadValues(__spreadValues({}, datum), sourceDatums), keys, values };\n      if (!allScopesHaveSameDefs && validScopes && validScopes.size < scopes.size) {\n        partialValidDataCount++;\n        result.validScopes = new Set(validScopes);\n      }\n      resultData[resultDataIdx++] = result;\n    }\n    resultData.length = resultDataIdx;\n    const propertyDomain = (def) => {\n      const defDomain = dataDomain.get(def);\n      const result = defDomain.getDomain();\n      if (ContinuousDomain.is(defDomain) && result[0] > result[1]) {\n        return [];\n      }\n      return result;\n    };\n    return {\n      type: \"ungrouped\",\n      input: { count: data.length },\n      data: resultData,\n      domain: {\n        keys: keyDefs.map(propertyDomain),\n        values: valueDefs.map(propertyDomain)\n      },\n      defs: {\n        allScopesHaveSameDefs,\n        keys: keyDefs,\n        values: valueDefs\n      },\n      partialValidDataCount,\n      time: 0\n    };\n  }\n  groupData(data, groupingFn) {\n    var _a;\n    const processedData = /* @__PURE__ */ new Map();\n    for (const dataEntry of data.data) {\n      const { keys, values, datum, validScopes } = dataEntry;\n      const group2 = (_a = groupingFn == null ? void 0 : groupingFn(dataEntry)) != null ? _a : keys;\n      const groupStr = toKeyString(group2);\n      if (processedData.has(groupStr)) {\n        const existingData = processedData.get(groupStr);\n        existingData.values.push(values);\n        existingData.datum.push(datum);\n        if (validScopes != null && existingData.validScopes != null) {\n          for (const scope of existingData.validScopes) {\n            if (!validScopes.has(scope)) {\n              existingData.validScopes.delete(scope);\n            }\n          }\n        }\n      } else {\n        processedData.set(groupStr, {\n          keys: group2,\n          values: [values],\n          datum: [datum],\n          validScopes\n        });\n      }\n    }\n    const resultData = new Array(processedData.size);\n    const resultGroups = new Array(processedData.size);\n    let dataIndex = 0;\n    for (const { keys, values, datum, validScopes } of processedData.values()) {\n      if ((validScopes == null ? void 0 : validScopes.size) === 0)\n        continue;\n      resultGroups[dataIndex] = keys;\n      resultData[dataIndex++] = {\n        keys,\n        values,\n        datum,\n        validScopes\n      };\n    }\n    return __spreadProps(__spreadValues({}, data), {\n      type: \"grouped\",\n      data: resultData,\n      domain: __spreadProps(__spreadValues({}, data.domain), {\n        groups: resultGroups\n      })\n    });\n  }\n  aggregateData(processedData) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const isUngrouped = processedData.type === \"ungrouped\";\n    processedData.domain.aggValues = [];\n    for (const [index, def] of this.aggregates.entries()) {\n      const indices = this.valueGroupIdxLookup(def);\n      const domain = [Infinity, -Infinity];\n      for (const datum of processedData.data) {\n        (_a = datum.aggValues) != null ? _a : datum.aggValues = new Array(this.aggregates.length);\n        if (datum.validScopes)\n          continue;\n        const values = isUngrouped ? [datum.values] : datum.values;\n        let groupAggValues = (_c = (_b = def.groupAggregateFunction) == null ? void 0 : _b.call(def)) != null ? _c : [Infinity, -Infinity];\n        for (const distinctValues of values) {\n          const valuesToAgg = indices.map((valueIdx) => distinctValues[valueIdx]);\n          const valuesAgg = def.aggregateFunction(valuesToAgg, datum.keys);\n          if (valuesAgg) {\n            groupAggValues = (_e = (_d = def.groupAggregateFunction) == null ? void 0 : _d.call(def, valuesAgg, groupAggValues)) != null ? _e : ContinuousDomain.extendDomain(valuesAgg, groupAggValues);\n          }\n        }\n        const finalValues = ((_g = (_f = def.finalFunction) == null ? void 0 : _f.call(def, groupAggValues)) != null ? _g : groupAggValues).map((v) => round2(v));\n        datum.aggValues[index] = finalValues;\n        ContinuousDomain.extendDomain(finalValues, domain);\n      }\n      processedData.domain.aggValues.push(domain);\n    }\n  }\n  postProcessGroups(processedData) {\n    var _a, _b;\n    const { groupProcessors } = this;\n    const affectedIndices = /* @__PURE__ */ new Set();\n    const updatedDomains = /* @__PURE__ */ new Map();\n    const groupProcessorIndices = /* @__PURE__ */ new Map();\n    const groupProcessorInitFns = /* @__PURE__ */ new Map();\n    for (const processor of groupProcessors) {\n      const indices = this.valueGroupIdxLookup(processor);\n      groupProcessorIndices.set(processor, indices);\n      groupProcessorInitFns.set(processor, processor.adjust());\n      for (const idx of indices) {\n        const valueDef = this.values[idx];\n        const isDiscrete = valueDef.valueType === \"category\";\n        affectedIndices.add(idx);\n        updatedDomains.set(idx, isDiscrete ? new DiscreteDomain() : new ContinuousDomain());\n      }\n    }\n    const updateDomains = (values) => {\n      var _a2;\n      for (const valueIndex of affectedIndices) {\n        (_a2 = updatedDomains.get(valueIndex)) == null ? void 0 : _a2.extend(values[valueIndex]);\n      }\n    };\n    for (const group2 of processedData.data) {\n      for (const processor of groupProcessors) {\n        if (group2.validScopes)\n          continue;\n        const valueIndexes = (_a = groupProcessorIndices.get(processor)) != null ? _a : [];\n        const adjustFn = (_b = groupProcessorInitFns.get(processor)) == null ? void 0 : _b();\n        if (!adjustFn)\n          continue;\n        if (processedData.type === \"grouped\") {\n          for (const values of group2.values) {\n            if (values) {\n              adjustFn(values, valueIndexes);\n            }\n          }\n        } else if (group2.values) {\n          adjustFn(group2.values, valueIndexes);\n        }\n      }\n      if (processedData.type === \"grouped\") {\n        for (const values of group2.values) {\n          updateDomains(values);\n        }\n      } else {\n        updateDomains(group2.values);\n      }\n    }\n    for (const [idx, dataDomain] of updatedDomains) {\n      processedData.domain.values[idx] = dataDomain.getDomain();\n    }\n  }\n  postProcessProperties(processedData) {\n    for (const { adjust, property, scopes } of this.propertyProcessors) {\n      adjust()(processedData, this.valueIdxLookup(scopes, property));\n    }\n  }\n  reduceData(processedData) {\n    var _a, _b;\n    (_a = processedData.reduced) != null ? _a : processedData.reduced = {};\n    for (const def of this.reducers) {\n      const reducer = def.reducer();\n      let accValue = def.initialValue;\n      for (const datum of processedData.data) {\n        if (!datum.validScopes || ((_b = def.scopes) == null ? void 0 : _b.some((s) => {\n          var _a2;\n          return (_a2 = datum.validScopes) == null ? void 0 : _a2.has(s);\n        }))) {\n          accValue = reducer(accValue, datum);\n        }\n      }\n      processedData.reduced[def.property] = accValue;\n    }\n  }\n  postProcessData(processedData) {\n    var _a;\n    (_a = processedData.reduced) != null ? _a : processedData.reduced = {};\n    for (const def of this.processors) {\n      processedData.reduced[def.property] = def.calculate(processedData);\n    }\n  }\n  initDataDomainProcessor() {\n    const { keys: keyDefs, values: valueDefs } = this;\n    const scopes = /* @__PURE__ */ new Set();\n    for (const valueDef of valueDefs) {\n      if (!valueDef.scopes)\n        continue;\n      for (const scope of valueDef.scopes) {\n        scopes.add(scope);\n      }\n    }\n    const dataDomain = /* @__PURE__ */ new Map();\n    const processorFns = /* @__PURE__ */ new Map();\n    let allScopesHaveSameDefs = true;\n    const initDataDomain = () => {\n      var _a;\n      for (const def of iterate(keyDefs, valueDefs)) {\n        if (def.valueType === \"category\") {\n          dataDomain.set(def, new DiscreteDomain());\n        } else {\n          dataDomain.set(def, new ContinuousDomain());\n          allScopesHaveSameDefs && (allScopesHaveSameDefs = ((_a = def.scopes) != null ? _a : []).length === scopes.size);\n        }\n      }\n    };\n    initDataDomain();\n    const accessors = this.buildAccessors(iterate(keyDefs, valueDefs));\n    const processValue = (def, datum, previousDatum, scope) => {\n      var _a, _b, _c, _d, _e;\n      let valueInDatum;\n      let value;\n      if (accessors.has(def.property)) {\n        try {\n          value = accessors.get(def.property)(datum);\n        } catch (error) {\n        }\n        valueInDatum = value != null;\n      } else {\n        valueInDatum = def.property in datum;\n        value = valueInDatum ? datum[def.property] : def.missingValue;\n      }\n      if (def.forceValue != null) {\n        const valueNegative = valueInDatum && isNegative(value);\n        value = valueNegative ? -1 * def.forceValue : def.forceValue;\n        valueInDatum = true;\n      }\n      const missingValueDef = \"missingValue\" in def;\n      if (!valueInDatum && !missingValueDef) {\n        const missCount = (_a = def.missing.get(scope)) != null ? _a : 0;\n        def.missing.set(scope, missCount + 1);\n      }\n      if (!dataDomain.has(def)) {\n        initDataDomain();\n      }\n      if (valueInDatum && !((_c = (_b = def.validation) == null ? void 0 : _b.call(def, value, datum)) != null ? _c : true)) {\n        if (\"invalidValue\" in def) {\n          value = def.invalidValue;\n        } else {\n          if (this.mode !== \"integrated\") {\n            Logger.warnOnce(`invalid value of type [${typeof value}] ignored:`, `[${value}]`);\n          }\n          return INVALID_VALUE;\n        }\n      }\n      if (def.processor) {\n        if (!processorFns.has(def)) {\n          processorFns.set(def, def.processor());\n        }\n        value = (_d = processorFns.get(def)) == null ? void 0 : _d(value, previousDatum === INVALID_VALUE ? void 0 : previousDatum);\n      }\n      (_e = dataDomain.get(def)) == null ? void 0 : _e.extend(value);\n      return value;\n    };\n    return { dataDomain, processValue, initDataDomain, scopes, allScopesHaveSameDefs };\n  }\n  buildAccessors(defs) {\n    const result = /* @__PURE__ */ new Map();\n    if (this.mode === \"integrated\") {\n      return result;\n    }\n    for (const def of defs) {\n      const isPath = def.property.includes(\".\") || def.property.includes(\"[\");\n      if (!isPath)\n        continue;\n      let fnBody;\n      if (def.property.startsWith(\"[\")) {\n        fnBody = `return datum${def.property};`;\n      } else {\n        fnBody = `return datum.${def.property};`;\n      }\n      result.set(def.property, new Function(\"datum\", fnBody));\n    }\n    return result;\n  }\n};\nfunction logProcessedData(processedData) {\n  var _a, _b;\n  const logValues = (name, data) => {\n    if (data.length > 0) {\n      Logger.log(`DataModel.processData() - ${name}`);\n      Logger.table(data);\n    }\n  };\n  Logger.log(\"DataModel.processData() - processedData\", processedData);\n  logValues(\"Key Domains\", processedData.domain.keys);\n  logValues(\"Group Domains\", (_a = processedData.domain.groups) != null ? _a : []);\n  logValues(\"Value Domains\", processedData.domain.values);\n  logValues(\"Aggregate Domains\", (_b = processedData.domain.aggValues) != null ? _b : []);\n  if (processedData.type === \"grouped\") {\n    const flattenedValues = processedData.data.reduce((acc, next) => {\n      var _a2, _b2;\n      const keys = (_a2 = next.keys) != null ? _a2 : [];\n      const aggValues = (_b2 = next.aggValues) != null ? _b2 : [];\n      const skipKeys = next.keys.map(() => void 0);\n      const skipAggValues = aggValues == null ? void 0 : aggValues.map(() => void 0);\n      acc.push(\n        ...next.values.map((v, i) => [\n          ...i === 0 ? keys : skipKeys,\n          ...v != null ? v : [],\n          ...i == 0 ? aggValues : skipAggValues\n        ])\n      );\n      return acc;\n    }, []);\n    logValues(\"Values\", flattenedValues);\n  } else {\n    const flattenedValues = processedData.data.reduce((acc, next) => {\n      var _a2;\n      const aggValues = (_a2 = next.aggValues) != null ? _a2 : [];\n      acc.push([...next.keys, ...next.values, ...aggValues]);\n      return acc;\n    }, []);\n    logValues(\"Values\", flattenedValues);\n  }\n}\n\n// packages/ag-charts-community/src/chart/data/dataController.ts\nvar _DataController = class _DataController {\n  constructor(mode) {\n    this.mode = mode;\n    this.debug = Debug.create(true, \"data-model\");\n    this.requested = [];\n    this.status = \"setup\";\n  }\n  request(id, data, opts) {\n    return __async(this, null, function* () {\n      if (this.status !== \"setup\") {\n        throw new Error(`AG Charts - data request after data setup phase.`);\n      }\n      return new Promise((resolve, reject) => {\n        this.requested.push({ id, opts, data, resolve, reject });\n      });\n    });\n  }\n  execute() {\n    if (this.status !== \"setup\") {\n      throw new Error(`AG Charts - data request after data setup phase.`);\n    }\n    this.status = \"executed\";\n    this.debug(\"DataController.execute() - requested\", this.requested);\n    const valid = this.validateRequests(this.requested);\n    this.debug(\"DataController.execute() - validated\", valid);\n    const merged = this.mergeRequested(valid);\n    this.debug(\"DataController.execute() - merged\", merged);\n    if (this.debug.check()) {\n      getWindow().processedData = [];\n    }\n    const scopes = this.requested.map(({ id }) => id);\n    const needsValueExtraction = this.hasMultipleDataSources(valid);\n    for (const { opts, data, resolves, rejects, ids } of merged) {\n      try {\n        const dataModel = new DataModel(opts, this.mode);\n        const processedData = dataModel.processData(data, valid);\n        if (this.debug.check()) {\n          getWindow(\"processedData\").push(processedData);\n        }\n        if ((processedData == null ? void 0 : processedData.partialValidDataCount) === 0) {\n          resolves.forEach(\n            (resolve, requestIdx) => resolve({\n              dataModel,\n              processedData: this.processScopedData(\n                ids[requestIdx],\n                processedData,\n                scopes,\n                needsValueExtraction\n              )\n            })\n          );\n        } else if (processedData) {\n          this.splitResult(dataModel, processedData, ids, resolves);\n        } else {\n          rejects.forEach((cb) => cb(new Error(`AG Charts - no processed data generated`)));\n        }\n      } catch (error) {\n        rejects.forEach((cb) => cb(error));\n      }\n    }\n  }\n  hasMultipleDataSources(validRequests) {\n    if (validRequests.length) {\n      const [{ data }, ...restRequests] = validRequests;\n      return restRequests.some((v) => data !== v.data);\n    }\n    return false;\n  }\n  processScopedData(id, processedData, ids, needsValueExtraction) {\n    const extractDatum = (datum) => {\n      if (Array.isArray(datum)) {\n        return datum.map(extractDatum);\n      }\n      const extracted = needsValueExtraction ? __spreadValues(__spreadValues({}, datum), datum[id]) : datum;\n      for (const otherId of ids) {\n        delete extracted[otherId];\n      }\n      return extracted;\n    };\n    const extractValues = (values) => {\n      var _a;\n      if (Array.isArray(values)) {\n        return values.map(extractValues);\n      }\n      return (_a = values == null ? void 0 : values[id]) != null ? _a : values;\n    };\n    return __spreadProps(__spreadValues({}, processedData), {\n      data: processedData.data.map((datum) => {\n        var _a;\n        return __spreadProps(__spreadValues({}, datum), {\n          datum: extractDatum(datum.datum),\n          values: needsValueExtraction ? (_a = datum.values) == null ? void 0 : _a.map(extractValues) : datum.values\n        });\n      })\n    });\n  }\n  validateRequests(requested) {\n    const valid = [];\n    for (const [index, request] of requested.entries()) {\n      if (index > 0 && request.data.length !== requested[0].data.length && request.opts.groupByData === false) {\n        request.reject(\n          new Error(\"all series[].data arrays must be of the same length and have matching keys.\")\n        );\n      } else {\n        valid.push(request);\n      }\n    }\n    return valid;\n  }\n  mergeRequested(requested) {\n    const grouped = [];\n    for (const request of requested) {\n      const match = grouped.find(_DataController.groupMatch(request));\n      if (match) {\n        match.push(request);\n      } else {\n        grouped.push([request]);\n      }\n    }\n    return grouped.map(_DataController.mergeRequests);\n  }\n  splitResult(dataModel, processedData, scopes, resolves) {\n    for (let i = 0; i < scopes.length; i++) {\n      const scope = scopes[i];\n      const resolve = resolves[i];\n      resolve({\n        dataModel,\n        processedData: __spreadProps(__spreadValues({}, processedData), {\n          data: processedData.data.filter(({ validScopes }) => {\n            var _a;\n            return (_a = validScopes == null ? void 0 : validScopes.has(scope)) != null ? _a : true;\n          })\n        })\n      });\n    }\n  }\n  static groupMatch({ data, opts }) {\n    function keys(props) {\n      return props.filter((p) => p.type === \"key\").map((p) => p.property).join(\";\");\n    }\n    return ([group2]) => (opts.groupByData === false || group2.data === data) && group2.opts.groupByKeys === opts.groupByKeys && group2.opts.groupByFn === opts.groupByFn && keys(group2.opts.props) === keys(opts.props);\n  }\n  static mergeRequests(requests) {\n    return requests.reduce(\n      (result, _a) => {\n        var { id, data, resolve, reject, opts: _b } = _a, _c = _b, { props } = _c, opts = __objRest(_c, [\"props\"]);\n        var _a2, _b2, _c2, _d, _e;\n        result.ids.push(id);\n        result.rejects.push(reject);\n        result.resolves.push(resolve);\n        (_a2 = result.data) != null ? _a2 : result.data = data;\n        (_b2 = result.opts) != null ? _b2 : result.opts = __spreadProps(__spreadValues({}, opts), { props: [] });\n        for (const prop of props) {\n          const clone = __spreadProps(__spreadValues({}, prop), { scopes: [id] });\n          _DataController.createIdsMap(id, clone);\n          const match = result.opts.props.find(\n            (existing) => existing.type === clone.type && _DataController.deepEqual(existing, clone)\n          );\n          if (!match) {\n            result.opts.props.push(clone);\n            continue;\n          }\n          (_c2 = match.scopes) != null ? _c2 : match.scopes = [];\n          match.scopes.push(...(_d = clone.scopes) != null ? _d : []);\n          if ((match.type === \"key\" || match.type === \"value\") && ((_e = clone.idsMap) == null ? void 0 : _e.size)) {\n            _DataController.mergeIdsMap(clone.idsMap, match.idsMap);\n          }\n        }\n        return result;\n      },\n      { ids: [], rejects: [], resolves: [], data: null, opts: null }\n    );\n  }\n  static mergeIdsMap(fromMap, toMap) {\n    for (const [scope, ids] of fromMap) {\n      if (toMap.has(scope)) {\n        for (const id of ids) {\n          toMap.get(scope).add(id);\n        }\n      } else {\n        toMap.set(scope, new Set(ids));\n      }\n    }\n  }\n  static createIdsMap(scope, prop) {\n    var _a;\n    if (prop.id == null)\n      return;\n    (_a = prop.idsMap) != null ? _a : prop.idsMap = /* @__PURE__ */ new Map();\n    if (prop.idsMap.has(scope)) {\n      prop.idsMap.get(scope).add(prop.id);\n    } else {\n      prop.idsMap.set(scope, /* @__PURE__ */ new Set([prop.id]));\n    }\n  }\n  static deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n    if (a && b && typeof a == \"object\" && typeof b == \"object\") {\n      if (a.constructor !== b.constructor) {\n        return false;\n      }\n      let i, length;\n      if (Array.isArray(a)) {\n        length = a.length;\n        if (length !== b.length) {\n          return false;\n        }\n        for (i = length - 1; i >= 0; i--) {\n          if (!_DataController.deepEqual(a[i], b[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      const keys = Object.keys(a);\n      length = keys.length;\n      if (length !== Object.keys(b).length) {\n        return false;\n      }\n      for (i = length - 1; i >= 0; i--) {\n        const key = keys[i];\n        if (!_DataController.skipKeys.has(key) && (!Object.hasOwn(b, key) || !_DataController.deepEqual(a[key], b[key]))) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n};\n// optimized version of deep equality for `mergeRequests` which can potentially loop over 1M times\n_DataController.skipKeys = /* @__PURE__ */ new Set([\"id\", \"idsMap\", \"type\", \"scopes\"]);\nvar DataController = _DataController;\n\n// packages/ag-charts-community/src/chart/interaction/syncManager.ts\nvar _SyncManager = class _SyncManager extends BaseManager {\n  constructor(chart) {\n    super();\n    this.chart = chart;\n  }\n  subscribe(groupId = _SyncManager.DEFAULT_GROUP) {\n    let syncGroup = this.get(groupId);\n    if (!syncGroup) {\n      syncGroup = /* @__PURE__ */ new Set();\n      _SyncManager.chartsGroups.set(groupId, syncGroup);\n    }\n    syncGroup.add(this.chart);\n    return this;\n  }\n  unsubscribe(groupId = _SyncManager.DEFAULT_GROUP) {\n    var _a;\n    (_a = this.get(groupId)) == null ? void 0 : _a.delete(this.chart);\n    return this;\n  }\n  getChart() {\n    return this.chart;\n  }\n  getGroup(groupId = _SyncManager.DEFAULT_GROUP) {\n    const syncGroup = this.get(groupId);\n    return syncGroup ? Array.from(syncGroup) : [];\n  }\n  getGroupSiblings(groupId = _SyncManager.DEFAULT_GROUP) {\n    return this.getGroup(groupId).filter((chart) => chart !== this.chart);\n  }\n  get(groupId) {\n    return _SyncManager.chartsGroups.get(groupId);\n  }\n};\n_SyncManager.chartsGroups = /* @__PURE__ */ new Map();\n_SyncManager.DEFAULT_GROUP = Symbol(\"sync-group-default\");\nvar SyncManager = _SyncManager;\n\n// packages/ag-charts-community/src/chart/interaction/zoomManager.ts\nvar ZoomManager = class extends BaseManager {\n  constructor() {\n    super(...arguments);\n    this.axisZoomManagers = /* @__PURE__ */ new Map();\n    this.state = new StateTracker(void 0, \"initial\");\n    this.rejectCallbacks = /* @__PURE__ */ new Map();\n  }\n  updateAxes(axes) {\n    var _a;\n    const zoomManagers = new Map(axes.map((axis) => [axis.id, this.axisZoomManagers.get(axis.id)]));\n    this.axisZoomManagers.clear();\n    for (const axis of axes) {\n      this.axisZoomManagers.set(axis.id, (_a = zoomManagers.get(axis.id)) != null ? _a : new AxisZoomManager(axis));\n    }\n    if (this.state.size > 0 && axes.length > 0) {\n      this.updateZoom(this.state.stateId(), this.state.stateValue());\n    }\n  }\n  updateZoom(callerId, newZoom, canChangeInitial = true, rejectCallback) {\n    var _a;\n    if (rejectCallback) {\n      this.rejectCallbacks.set(callerId, rejectCallback);\n    }\n    if (this.axisZoomManagers.size === 0) {\n      const stateId = this.state.stateId();\n      if (stateId === \"initial\" || stateId === callerId || canChangeInitial) {\n        this.state.set(callerId, newZoom);\n        if (stateId !== callerId) {\n          (_a = this.rejectCallbacks.get(stateId)) == null ? void 0 : _a(callerId);\n        }\n      } else {\n        rejectCallback == null ? void 0 : rejectCallback(stateId);\n      }\n      return;\n    }\n    this.state.set(callerId, newZoom);\n    this.axisZoomManagers.forEach((axis) => {\n      axis.updateZoom(callerId, newZoom == null ? void 0 : newZoom[axis.getDirection()]);\n    });\n    this.applyChanges(callerId);\n  }\n  updateAxisZoom(callerId, axisId, newZoom) {\n    var _a;\n    (_a = this.axisZoomManagers.get(axisId)) == null ? void 0 : _a.updateZoom(callerId, newZoom);\n    this.applyChanges(callerId);\n  }\n  // Fire this event to signal to listeners that the view is changing through a zoom and/or pan change.\n  fireZoomPanStartEvent(callerId) {\n    this.listeners.dispatch(\"zoom-pan-start\", { type: \"zoom-pan-start\", callerId });\n  }\n  getZoom() {\n    let x;\n    let y;\n    this.axisZoomManagers.forEach((axis) => {\n      if (axis.getDirection() === \"x\" /* X */) {\n        x != null ? x : x = axis.getZoom();\n      } else if (axis.getDirection() === \"y\" /* Y */) {\n        y != null ? y : y = axis.getZoom();\n      }\n    });\n    if (x || y) {\n      return { x, y };\n    }\n  }\n  getAxisZoom(axisId) {\n    var _a, _b;\n    return (_b = (_a = this.axisZoomManagers.get(axisId)) == null ? void 0 : _a.getZoom()) != null ? _b : { min: 0, max: 1 };\n  }\n  getAxisZooms() {\n    const axes = {};\n    for (const [axisId, axis] of this.axisZoomManagers.entries()) {\n      axes[axisId] = {\n        direction: axis.getDirection(),\n        zoom: axis.getZoom()\n      };\n    }\n    return axes;\n  }\n  applyChanges(callerId) {\n    const changed = Array.from(this.axisZoomManagers.values(), (axis) => axis.applyChanges()).some(Boolean);\n    if (!changed) {\n      return;\n    }\n    const axes = {};\n    for (const [axisId, axis] of this.axisZoomManagers.entries()) {\n      axes[axisId] = axis.getZoom();\n    }\n    this.listeners.dispatch(\"zoom-change\", __spreadProps(__spreadValues({ type: \"zoom-change\" }, this.getZoom()), { axes, callerId }));\n  }\n};\nvar AxisZoomManager = class {\n  constructor(axis) {\n    this.axis = axis;\n    const [min = 0, max = 1] = axis.visibleRange;\n    this.state = new StateTracker({ min, max });\n    this.currentZoom = this.state.stateValue();\n  }\n  getDirection() {\n    return this.axis.direction;\n  }\n  updateZoom(callerId, newZoom) {\n    this.state.set(callerId, newZoom);\n  }\n  getZoom() {\n    return deepClone(this.state.stateValue());\n  }\n  applyChanges() {\n    const prevZoom = this.currentZoom;\n    this.currentZoom = this.state.stateValue();\n    return prevZoom.min !== this.currentZoom.min || prevZoom.max !== this.currentZoom.max;\n  }\n};\n\n// packages/ag-charts-community/src/chart/keyboard.ts\nvar Keyboard = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], Keyboard.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], Keyboard.prototype, \"tabIndex\", 2);\n\n// packages/ag-charts-community/src/chart/keyboardUtil.ts\nfunction makeKeyboardPointerEvent(regionManager, pick) {\n  const { bbox, showFocusBox } = pick;\n  if (showFocusBox) {\n    regionManager.updateFocusIndicatorRect(pick.bbox);\n  }\n  if (bbox !== void 0) {\n    const { x: offsetX, y: offsetY } = bbox.computeCenter();\n    return { type: \"keyboard\", offsetX, offsetY };\n  }\n  return void 0;\n}\n\n// packages/ag-charts-community/src/chart/mapping/prepareAxis.ts\nvar CARTESIAN_AXIS_POSITIONS = [\"top\", \"right\", \"bottom\", \"left\"];\nvar CARTESIAN_AXIS_TYPES = [\n  \"category\",\n  \"grouped-category\",\n  \"ordinal-time\",\n  \"number\",\n  \"log\",\n  \"time\"\n];\nfunction hasCartesianAxisPosition(axis) {\n  const allowedTypes = CARTESIAN_AXIS_TYPES;\n  return allowedTypes.includes(axis.type);\n}\nfunction isCartesianAxisOptions(options) {\n  const allowedTypes = CARTESIAN_AXIS_TYPES;\n  return allowedTypes.includes(options.type);\n}\nfunction isAxisPosition(position) {\n  const allowedPositions = CARTESIAN_AXIS_POSITIONS;\n  return typeof position === \"string\" && allowedPositions.includes(position);\n}\nvar AxisPositionGuesser = class {\n  constructor() {\n    this.result = [];\n    this.valid = [];\n    this.invalid = [];\n  }\n  push(axis, options) {\n    const { result, valid, invalid } = this;\n    if (isCartesianAxisOptions(options)) {\n      if (isAxisPosition(options.position)) {\n        valid.push(axis);\n      } else {\n        invalid.push(axis);\n      }\n    }\n    result.push(axis);\n  }\n  guessInvalidPositions() {\n    const takenPosition = this.valid.filter((v) => hasCartesianAxisPosition(v)).map((v) => v.position).filter((v) => v !== void 0);\n    const guesses = [\"top\", \"right\", \"bottom\", \"left\"];\n    for (const invalidAxis of this.invalid) {\n      let nextGuess = guesses.pop();\n      while (takenPosition.includes(nextGuess) && nextGuess !== void 0) {\n        nextGuess = guesses.pop();\n      }\n      if (nextGuess === void 0)\n        break;\n      invalidAxis.position = nextGuess;\n    }\n    return this.result;\n  }\n};\n\n// packages/ag-charts-community/src/chart/mapping/prepareSeries.ts\nvar MATCHING_KEYS = [\n  \"direction\",\n  \"xKey\",\n  \"yKey\",\n  \"sizeKey\",\n  \"angleKey\",\n  \"radiusKey\",\n  \"normalizedTo\",\n  \"stacked\",\n  \"grouped\",\n  \"stackGroup\"\n];\nfunction matchSeriesOptions(series, optSeries, oldOptsSeries) {\n  var _a, _b, _c, _d;\n  const generateKey = (type, i) => {\n    const result = [type];\n    for (const key of MATCHING_KEYS) {\n      if (key in i && i[key] != null)\n        result.push(`${key}=${i[key]}`);\n    }\n    return result.join(\";\");\n  };\n  const seriesMap = /* @__PURE__ */ new Map();\n  let idx = 0;\n  for (const s of series) {\n    const key = generateKey(s.type, s.properties);\n    if (!seriesMap.has(key)) {\n      seriesMap.set(key, []);\n    }\n    (_a = seriesMap.get(key)) == null ? void 0 : _a.push([s, idx++]);\n  }\n  const optsMap = /* @__PURE__ */ new Map();\n  for (const o of optSeries) {\n    const key = generateKey(o.type, o);\n    if (!optsMap.has(key)) {\n      optsMap.set(key, []);\n    }\n    (_b = optsMap.get(key)) == null ? void 0 : _b.push(o);\n  }\n  const overlap = [...seriesMap.keys()].some((k) => optsMap.has(k));\n  if (!overlap) {\n    return { status: \"no-overlap\", oldKeys: seriesMap.keys(), newKeys: optsMap.keys() };\n  }\n  const changes = [];\n  let targetIdx = -1;\n  for (const [key, optArray] of optsMap.entries()) {\n    for (const opts of optArray) {\n      targetIdx++;\n      const seriesArray = seriesMap.get(key);\n      if (seriesArray == null || seriesArray.length < 1) {\n        changes.push({ opts, idx: targetIdx, status: \"add\" });\n        seriesMap.delete(key);\n        continue;\n      }\n      const [outputSeries, outputIdx] = seriesArray.shift();\n      const previousOpts = (_c = oldOptsSeries == null ? void 0 : oldOptsSeries[outputIdx]) != null ? _c : {};\n      const diff2 = jsonDiff(previousOpts, opts != null ? opts : {});\n      const { groupIndex, stackIndex } = (_d = diff2 == null ? void 0 : diff2.seriesGrouping) != null ? _d : {};\n      if (groupIndex != null || stackIndex != null) {\n        changes.push({ opts, series: outputSeries, diff: diff2, idx: outputIdx, status: \"series-grouping\" });\n      } else if (diff2) {\n        changes.push({ opts, series: outputSeries, diff: diff2, idx: outputIdx, status: \"update\" });\n      } else {\n        changes.push({ opts, series: outputSeries, idx: outputIdx, status: \"no-op\" });\n      }\n      if (seriesArray.length === 0) {\n        seriesMap.delete(key);\n      }\n    }\n  }\n  for (const seriesArray of seriesMap.values()) {\n    for (const [outputSeries, outputIdx] of seriesArray) {\n      changes.push({ series: outputSeries, idx: outputIdx, status: \"remove\" });\n    }\n  }\n  return { status: \"overlap\", changes };\n}\n\n// packages/ag-charts-community/src/chart/modulesManager.ts\nvar ModulesManager = class extends ModuleMap {\n  applyOptions(options) {\n    for (const m of this.moduleMap.values()) {\n      if (m.module.optionsKey in options && isProperties(m.moduleInstance)) {\n        m.moduleInstance.set(options[m.module.optionsKey]);\n      }\n    }\n  }\n  *legends() {\n    for (const { module, moduleInstance } of this.moduleMap.values()) {\n      if (module.type !== \"legend\")\n        continue;\n      yield {\n        legendType: module.identifier,\n        legend: moduleInstance\n      };\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/overlay/overlay.ts\nvar DEFAULT_OVERLAY_CLASS = \"ag-chart-overlay\";\nvar DEFAULT_OVERLAY_DARK_CLASS = \"ag-chart-dark-overlay\";\nvar Overlay = class extends BaseProperties {\n  constructor(className, defaultText) {\n    super();\n    this.className = className;\n    this.defaultText = defaultText;\n    this.darkTheme = false;\n  }\n  getText() {\n    var _a;\n    return (_a = this.text) != null ? _a : this.defaultText;\n  }\n  getElement(animationManager, rect) {\n    var _a;\n    (_a = this.element) != null ? _a : this.element = createElement(\"div\", DEFAULT_OVERLAY_CLASS, { position: \"absolute\" });\n    this.element.classList.toggle(DEFAULT_OVERLAY_DARK_CLASS, this.darkTheme);\n    this.focusBox = rect;\n    const element2 = this.element;\n    element2.style.left = `${rect.x}px`;\n    element2.style.top = `${rect.y}px`;\n    element2.style.width = `${rect.width}px`;\n    element2.style.height = `${rect.height}px`;\n    if (this.renderer) {\n      const htmlContent = this.renderer();\n      if (htmlContent instanceof HTMLElement) {\n        element2.replaceChildren(htmlContent);\n      } else {\n        element2.innerHTML = htmlContent;\n      }\n    } else {\n      const content = createElement(\"div\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        boxSizing: \"border-box\",\n        height: \"100%\",\n        margin: \"8px\",\n        font: \"12px Verdana, sans-serif\"\n      });\n      content.innerText = this.getText();\n      element2.replaceChildren(content);\n      animationManager == null ? void 0 : animationManager.animate({\n        from: 0,\n        to: 1,\n        id: \"overlay\",\n        phase: \"add\",\n        groupId: \"opacity\",\n        onUpdate(value) {\n          element2.style.opacity = String(value);\n        },\n        onStop() {\n          element2.style.opacity = \"1\";\n        }\n      });\n    }\n    return this.element;\n  }\n  removeElement(animationManager) {\n    if (!this.element)\n      return;\n    if (animationManager) {\n      const { element: element2 } = this;\n      animationManager.animate({\n        from: 1,\n        to: 0,\n        phase: \"remove\",\n        id: \"overlay\",\n        groupId: \"opacity\",\n        onUpdate(value) {\n          element2.style.opacity = String(value);\n        },\n        onStop() {\n          element2.remove();\n        }\n      });\n    } else {\n      this.element.remove();\n    }\n    this.element = void 0;\n    this.focusBox = void 0;\n  }\n};\n__decorateClass([\n  Validate(STRING, { optional: true })\n], Overlay.prototype, \"text\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], Overlay.prototype, \"renderer\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], Overlay.prototype, \"darkTheme\", 2);\n\n// packages/ag-charts-community/src/chart/overlay/chartOverlays.ts\nvar ChartOverlays = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.loading = new Overlay(\"ag-chart-loading-overlay\", \"Loading data...\");\n    this.noData = new Overlay(\"ag-chart-no-data-overlay\", \"No data to display\");\n    this.noVisibleSeries = new Overlay(\"ag-chart-no-visible-series\", \"No visible series\");\n  }\n  getFocusInfo() {\n    for (const overlay of [this.loading, this.noData, this.noVisibleSeries]) {\n      if (overlay.focusBox !== void 0) {\n        return { text: overlay.getText(), rect: overlay.focusBox };\n      }\n    }\n    return void 0;\n  }\n  destroy() {\n    this.loading.removeElement();\n    this.noData.removeElement();\n    this.noVisibleSeries.removeElement();\n  }\n};\n__decorateClass([\n  Validate(OBJECT)\n], ChartOverlays.prototype, \"loading\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], ChartOverlays.prototype, \"noData\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], ChartOverlays.prototype, \"noVisibleSeries\", 2);\n\n// packages/ag-charts-community/src/chart/overlay/loadingSpinner.ts\nvar defaultOverlayCss = `\n.${DEFAULT_OVERLAY_CLASS} {\n    color: #181d1f;\n}\n\n.${DEFAULT_OVERLAY_CLASS}.${DEFAULT_OVERLAY_DARK_CLASS} {\n    color: #ffffff;\n}\n\n.${DEFAULT_OVERLAY_CLASS}--loading {\n    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */\n}\n\n.${DEFAULT_OVERLAY_CLASS}__loading-background {\n    background: white; /* DEFAULT_BACKGROUND_FILL */\n}\n\n.${DEFAULT_OVERLAY_CLASS}.${DEFAULT_OVERLAY_DARK_CLASS} .${DEFAULT_OVERLAY_CLASS}__loading-background {\n    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */\n}\n`;\nfunction getLoadingSpinner(text, defaultDuration) {\n  const { animationDuration } = PHASE_METADATA[\"add\"];\n  const duration = animationDuration * defaultDuration;\n  const container = createElement(\"div\", `${DEFAULT_OVERLAY_CLASS}--loading`, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    boxSizing: \"border-box\",\n    font: \"13px Verdana, sans-serif\",\n    // FONT_SIZE.MEDIUM\n    userSelect: \"none\",\n    animation: `ag-charts-loading ${duration}ms linear 50ms both`\n  });\n  const matrix = createElement(\"span\", {\n    width: \"45px\",\n    height: \"40px\",\n    backgroundImage: [\n      \"linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), \",\n      \"linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), \",\n      \"linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)\"\n    ].join(\"\"),\n    backgroundSize: \"10px 400%\",\n    backgroundRepeat: \"no-repeat\",\n    animation: \"ag-charts-loading-matrix 1s infinite linear\"\n  });\n  const label = createElement(\"p\", { marginTop: \"1em\" });\n  label.innerText = text;\n  const background = createElement(\"div\", `${DEFAULT_OVERLAY_CLASS}__loading-background`, {\n    position: \"absolute\",\n    inset: \"0\",\n    opacity: \"0.5\",\n    zIndex: \"-1\"\n  });\n  const animationStyles = createElement(\"style\");\n  animationStyles.innerText = [\n    \"@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }\",\n    \"@keyframes ag-charts-loading-matrix {\",\n    \"0% { background-position: 0% 0%, 50% 0%, 100% 0%; }\",\n    \"100% { background-position: 0% 100%, 50% 100%, 100% 100%; }\",\n    \"}\"\n  ].join(\" \");\n  container.replaceChildren(animationStyles, matrix, label, background);\n  injectStyle(defaultOverlayCss, \"chartOverlays\");\n  return container;\n}\n\n// packages/ag-charts-community/src/chart/data/aggregateFunctions.ts\nfunction sumValues(values, accumulator = [0, 0]) {\n  for (const value of values) {\n    if (typeof value !== \"number\") {\n      continue;\n    }\n    if (value < 0) {\n      accumulator[0] += value;\n    }\n    if (value > 0) {\n      accumulator[1] += value;\n    }\n  }\n  return accumulator;\n}\nfunction sum(id, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: [matchGroupId],\n    type: \"aggregate\",\n    aggregateFunction: (values) => sumValues(values)\n  };\n  return result;\n}\nfunction groupSum(id, matchGroupId) {\n  return {\n    id,\n    type: \"aggregate\",\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    aggregateFunction: (values) => sumValues(values),\n    groupAggregateFunction: (next, acc = [0, 0]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      return acc;\n    }\n  };\n}\nfunction range2(id, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: [matchGroupId],\n    type: \"aggregate\",\n    aggregateFunction: (values) => ContinuousDomain.extendDomain(values)\n  };\n  return result;\n}\nfunction groupCount(id) {\n  return {\n    id,\n    type: \"aggregate\",\n    aggregateFunction: () => [0, 1],\n    groupAggregateFunction: (next, acc = [0, 0]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      return acc;\n    }\n  };\n}\nfunction groupAverage(id, matchGroupId) {\n  const def = {\n    id,\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    type: \"aggregate\",\n    aggregateFunction: (values) => sumValues(values),\n    groupAggregateFunction: (next, acc = [0, 0, -1]) => {\n      var _a, _b;\n      acc[0] += (_a = next == null ? void 0 : next[0]) != null ? _a : 0;\n      acc[1] += (_b = next == null ? void 0 : next[1]) != null ? _b : 0;\n      acc[2]++;\n      return acc;\n    },\n    finalFunction: (acc = [0, 0, 0]) => {\n      const result = acc[0] + acc[1];\n      if (result >= 0) {\n        return [0, result / acc[2]];\n      }\n      return [result / acc[2], 0];\n    }\n  };\n  return def;\n}\nfunction area(id, aggFn, matchGroupId) {\n  const result = {\n    id,\n    matchGroupIds: matchGroupId ? [matchGroupId] : void 0,\n    type: \"aggregate\",\n    aggregateFunction: (values, keyRange = []) => {\n      const keyWidth = keyRange[1] - keyRange[0];\n      return aggFn.aggregateFunction(values).map((v) => v / keyWidth);\n    }\n  };\n  if (aggFn.groupAggregateFunction) {\n    result.groupAggregateFunction = aggFn.groupAggregateFunction;\n  }\n  return result;\n}\nfunction accumulatedValue(onlyPositive) {\n  return () => {\n    let value = 0;\n    return (datum) => {\n      if (!isFiniteNumber(datum)) {\n        return datum;\n      }\n      value += onlyPositive ? Math.max(0, datum) : datum;\n      return value;\n    };\n  };\n}\nfunction trailingAccumulatedValue() {\n  return () => {\n    let value = 0;\n    return (datum) => {\n      if (!isFiniteNumber(datum)) {\n        return datum;\n      }\n      const trailingValue = value;\n      value += datum;\n      return trailingValue;\n    };\n  };\n}\n\n// packages/ag-charts-community/src/chart/data/processors.ts\nvar SMALLEST_KEY_INTERVAL = {\n  type: \"reducer\",\n  property: \"smallestKeyInterval\",\n  initialValue: Infinity,\n  reducer: () => {\n    let prevX = NaN;\n    return (smallestSoFar = Infinity, next) => {\n      const nextX = next.keys[0];\n      const interval = Math.abs(nextX - prevX);\n      prevX = nextX;\n      if (!isNaN(interval) && interval > 0 && interval < smallestSoFar) {\n        return interval;\n      }\n      return smallestSoFar;\n    };\n  }\n};\nvar SORT_DOMAIN_GROUPS = {\n  type: \"processor\",\n  property: \"sortedGroupDomain\",\n  calculate: ({ domain: { groups } }) => groups == null ? void 0 : groups.slice().sort((a, b) => {\n    for (let i = 0; i < a.length; i++) {\n      const result = a[i] - b[i];\n      if (result !== 0) {\n        return result;\n      }\n    }\n    return 0;\n  })\n};\nfunction normaliseFnBuilder({ normaliseTo, mode }) {\n  const normalise = (val, extent2) => {\n    const result = val * normaliseTo / extent2;\n    if (result >= 0) {\n      return Math.min(normaliseTo, result);\n    }\n    return Math.max(-normaliseTo, result);\n  };\n  return () => () => (values, valueIndexes) => {\n    const valuesExtent = [0, 0];\n    for (const valueIdx of valueIndexes) {\n      const value = values[valueIdx];\n      const valIdx = value < 0 ? 0 : 1;\n      if (mode === \"sum\") {\n        valuesExtent[valIdx] += value;\n      } else if (valIdx === 0) {\n        valuesExtent[valIdx] = Math.min(valuesExtent[valIdx], value);\n      } else {\n        valuesExtent[valIdx] = Math.max(valuesExtent[valIdx], value);\n      }\n    }\n    const extent2 = Math.max(Math.abs(valuesExtent[0]), valuesExtent[1]);\n    for (const valueIdx of valueIndexes) {\n      values[valueIdx] = normalise(values[valueIdx], extent2);\n    }\n  };\n}\nfunction normaliseGroupTo(matchGroupIds, normaliseTo, mode = \"sum\") {\n  return {\n    type: \"group-value-processor\",\n    matchGroupIds,\n    adjust: memo({ normaliseTo, mode }, normaliseFnBuilder)\n  };\n}\nfunction normalisePropertyFnBuilder({\n  normaliseTo,\n  zeroDomain,\n  rangeMin,\n  rangeMax\n}) {\n  const normaliseSpan = normaliseTo[1] - normaliseTo[0];\n  const normalise = (val, start, span) => {\n    const result = normaliseTo[0] + (val - start) / span * normaliseSpan;\n    if (span === 0) {\n      return zeroDomain;\n    } else if (result >= normaliseTo[1]) {\n      return normaliseTo[1];\n    } else if (result < normaliseTo[0]) {\n      return normaliseTo[0];\n    }\n    return result;\n  };\n  return () => (pData, pIdx) => {\n    let [start, end] = pData.domain.values[pIdx];\n    if (rangeMin != null)\n      start = rangeMin;\n    if (rangeMax != null)\n      end = rangeMax;\n    const span = end - start;\n    pData.domain.values[pIdx] = [normaliseTo[0], normaliseTo[1]];\n    for (const group2 of pData.data) {\n      let groupValues = group2.values;\n      if (pData.type === \"ungrouped\") {\n        groupValues = [groupValues];\n      }\n      for (const values of groupValues) {\n        values[pIdx] = normalise(values[pIdx], start, span);\n      }\n    }\n  };\n}\nfunction normalisePropertyTo(property, normaliseTo, zeroDomain, rangeMin, rangeMax) {\n  return {\n    type: \"property-value-processor\",\n    property,\n    adjust: memo({ normaliseTo, rangeMin, rangeMax, zeroDomain }, normalisePropertyFnBuilder)\n  };\n}\nfunction animationValidation(valueKeyIds) {\n  return {\n    type: \"processor\",\n    property: \"animationValidation\",\n    calculate(result) {\n      const { keys, values } = result.defs;\n      const { input, data } = result;\n      let uniqueKeys = true;\n      let orderedKeys = true;\n      const valueKeys = [];\n      for (let k = 0; k < values.length; k++) {\n        if (!(valueKeyIds == null ? void 0 : valueKeyIds.includes(values[k].id)))\n          continue;\n        valueKeys.push([k, values[k]]);\n      }\n      const processKey = (idx, def, type) => {\n        var _a;\n        if (def.valueType === \"category\") {\n          const keyValues = result.domain[type][idx];\n          uniqueKeys && (uniqueKeys = keyValues.length === input.count);\n          return;\n        }\n        let lastValue = (_a = data[0]) == null ? void 0 : _a[type][idx];\n        for (let d = 1; (uniqueKeys || orderedKeys) && d < data.length; d++) {\n          const keyValue = data[d][type][idx];\n          orderedKeys && (orderedKeys = lastValue <= keyValue);\n          uniqueKeys && (uniqueKeys = lastValue !== keyValue);\n          lastValue = keyValue;\n        }\n      };\n      for (let k = 0; (uniqueKeys || orderedKeys) && k < keys.length; k++) {\n        processKey(k, keys[k], \"keys\");\n      }\n      for (let k = 0; (uniqueKeys || orderedKeys) && k < valueKeys.length; k++) {\n        const [idx, key] = valueKeys[k];\n        processKey(idx, key, \"values\");\n      }\n      return { uniqueKeys, orderedKeys };\n    }\n  };\n}\nfunction buildGroupAccFn({ mode, separateNegative }) {\n  return () => () => (values, valueIndexes) => {\n    const acc = [0, 0];\n    for (const valueIdx of valueIndexes) {\n      const currentVal = values[valueIdx];\n      const accIndex = isNegative(currentVal) && separateNegative ? 0 : 1;\n      if (!isFiniteNumber(currentVal))\n        continue;\n      if (mode === \"normal\")\n        acc[accIndex] += currentVal;\n      values[valueIdx] = acc[accIndex];\n      if (mode === \"trailing\")\n        acc[accIndex] += currentVal;\n    }\n  };\n}\nfunction buildGroupWindowAccFn({ mode, sum: sum2 }) {\n  return () => {\n    const lastValues = [];\n    let firstRow = true;\n    return () => {\n      return (values, valueIndexes) => {\n        let acc = 0;\n        for (const valueIdx of valueIndexes) {\n          const currentVal = values[valueIdx];\n          const lastValue = firstRow && sum2 === \"current\" ? 0 : lastValues[valueIdx];\n          lastValues[valueIdx] = currentVal;\n          const sumValue = sum2 === \"current\" ? currentVal : lastValue;\n          if (!isFiniteNumber(currentVal) || !isFiniteNumber(lastValue)) {\n            values[valueIdx] = acc;\n            continue;\n          }\n          if (mode === \"normal\") {\n            acc += sumValue;\n          }\n          values[valueIdx] = acc;\n          if (mode === \"trailing\") {\n            acc += sumValue;\n          }\n        }\n        firstRow = false;\n      };\n    };\n  };\n}\nfunction accumulateGroup(matchGroupId, mode, sum2, separateNegative = false) {\n  let adjust;\n  if (mode.startsWith(\"window\")) {\n    const modeParam = mode.endsWith(\"-trailing\") ? \"trailing\" : \"normal\";\n    adjust = memo({ mode: modeParam, sum: sum2 }, buildGroupWindowAccFn);\n  } else {\n    adjust = memo({ mode, separateNegative }, buildGroupAccFn);\n  }\n  return {\n    type: \"group-value-processor\",\n    matchGroupIds: [matchGroupId],\n    adjust\n  };\n}\nfunction diff(previousData, updateMovedData = true) {\n  return {\n    type: \"processor\",\n    property: \"diff\",\n    calculate: (processedData) => {\n      const moved = /* @__PURE__ */ new Map();\n      const added = /* @__PURE__ */ new Map();\n      const updated = /* @__PURE__ */ new Map();\n      const removed = /* @__PURE__ */ new Map();\n      const length = Math.max(previousData.data.length, processedData.data.length);\n      for (let i = 0; i < length; i++) {\n        const prev = previousData.data[i];\n        const datum = processedData.data[i];\n        const prevId = prev ? createDatumId(prev.keys) : \"\";\n        const datumId = datum ? createDatumId(datum.keys) : \"\";\n        if (datum && prev && prevId === datumId) {\n          if (!arraysEqual(prev.values, datum.values)) {\n            updated.set(datumId, datum);\n          }\n          continue;\n        }\n        if (removed.has(datumId)) {\n          if (updateMovedData || !arraysEqual(removed.get(datumId).values, datum.values)) {\n            updated.set(datumId, datum);\n            moved.set(datumId, datum);\n          }\n          removed.delete(datumId);\n        } else if (datum) {\n          added.set(datumId, datum);\n        }\n        if (added.has(prevId)) {\n          if (updateMovedData || !arraysEqual(added.get(prevId).values, prev.values)) {\n            updated.set(prevId, prev);\n            moved.set(prevId, prev);\n          }\n          added.delete(prevId);\n        } else if (prev) {\n          updated.delete(prevId);\n          removed.set(prevId, prev);\n        }\n      }\n      const changed = added.size > 0 || updated.size > 0 || removed.size > 0;\n      return { changed, added, updated, removed, moved };\n    }\n  };\n}\nfunction createDatumId(keys, ...extraKeys) {\n  let result;\n  if (isArray(keys)) {\n    result = keys.map((key) => transformIntegratedCategoryValue(key)).join(\"___\");\n  } else {\n    result = transformIntegratedCategoryValue(keys);\n  }\n  const primitiveType = typeof result === \"string\" || typeof result === \"number\" || result instanceof Date;\n  if (primitiveType && extraKeys.length > 0) {\n    result += `___${extraKeys.join(\"___\")}`;\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/chart/series/series.ts\nvar SeriesNodePickMode = /* @__PURE__ */ ((SeriesNodePickMode2) => {\n  SeriesNodePickMode2[SeriesNodePickMode2[\"EXACT_SHAPE_MATCH\"] = 0] = \"EXACT_SHAPE_MATCH\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_BY_MAIN_AXIS_FIRST\"] = 1] = \"NEAREST_BY_MAIN_AXIS_FIRST\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\"] = 2] = \"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\";\n  SeriesNodePickMode2[SeriesNodePickMode2[\"NEAREST_NODE\"] = 3] = \"NEAREST_NODE\";\n  return SeriesNodePickMode2;\n})(SeriesNodePickMode || {});\nfunction basicContinuousCheckDatumValidation(value) {\n  return value != null && isContinuous(value);\n}\nfunction basicDiscreteCheckDatumValidation(value) {\n  return value != null;\n}\nfunction getValidationFn(scaleType) {\n  switch (scaleType) {\n    case \"number\":\n    case \"log\":\n    case \"ordinal-time\":\n    case \"time\":\n    case \"color\":\n      return basicContinuousCheckDatumValidation;\n    default:\n      return basicDiscreteCheckDatumValidation;\n  }\n}\nfunction getValueType(scaleType) {\n  switch (scaleType) {\n    case \"number\":\n    case \"log\":\n    case \"time\":\n    case \"color\":\n      return \"range\";\n    default:\n      return \"category\";\n  }\n}\nfunction keyProperty(propName, scaleType, opts = {}) {\n  const result = __spreadValues({\n    property: propName,\n    type: \"key\",\n    valueType: getValueType(scaleType),\n    validation: getValidationFn(scaleType)\n  }, opts);\n  return result;\n}\nfunction valueProperty(propName, scaleType, opts = {}) {\n  const result = __spreadValues({\n    property: propName,\n    type: \"value\",\n    valueType: getValueType(scaleType),\n    validation: getValidationFn(scaleType)\n  }, opts);\n  return result;\n}\nfunction rangedValueProperty(propName, opts = {}) {\n  const _a = opts, { min = -Infinity, max = Infinity } = _a, defOpts = __objRest(_a, [\"min\", \"max\"]);\n  return __spreadValues({\n    type: \"value\",\n    property: propName,\n    valueType: \"range\",\n    validation: basicContinuousCheckDatumValidation,\n    processor: () => (datum) => isFiniteNumber(datum) ? clamp(min, datum, max) : datum\n  }, defOpts);\n}\nfunction accumulativeValueProperty(propName, scaleType, opts = {}) {\n  const _a = opts, { onlyPositive } = _a, defOpts = __objRest(_a, [\"onlyPositive\"]);\n  const result = __spreadProps(__spreadValues({}, valueProperty(propName, scaleType, defOpts)), {\n    processor: accumulatedValue(onlyPositive)\n  });\n  return result;\n}\nfunction trailingAccumulatedValueProperty(propName, scaleType, opts = {}) {\n  const result = __spreadProps(__spreadValues({}, valueProperty(propName, scaleType, opts)), {\n    processor: trailingAccumulatedValue()\n  });\n  return result;\n}\nfunction groupAccumulativeValueProperty(propName, mode, sum2 = \"current\", opts, scaleType) {\n  return [\n    valueProperty(propName, scaleType, opts),\n    accumulateGroup(opts.groupId, mode, sum2, opts.separateNegative),\n    ...opts.rangeId != null ? [range2(opts.rangeId, opts.groupId)] : []\n  ];\n}\nvar SeriesNodeEvent = class {\n  constructor(type, event, { datum }, series) {\n    this.type = type;\n    this.event = event;\n    this.datum = datum;\n    this.seriesId = series.id;\n  }\n};\nvar SeriesGroupingChangedEvent = class {\n  constructor(series, seriesGrouping, oldGrouping) {\n    this.series = series;\n    this.seriesGrouping = seriesGrouping;\n    this.oldGrouping = oldGrouping;\n    this.type = \"groupingChanged\";\n  }\n};\nvar Series = class extends Observable {\n  constructor(seriesOpts) {\n    super();\n    this.destroyFns = [];\n    this.seriesGrouping = void 0;\n    this.NodeEvent = SeriesNodeEvent;\n    this.internalId = createId(this);\n    // The group node that contains all the nodes used to render this series.\n    this.rootGroup = new Group({ name: \"seriesRoot\", isVirtual: true });\n    this.axes = {\n      [\"x\" /* X */]: void 0,\n      [\"y\" /* Y */]: void 0\n    };\n    this.directions = [\"x\" /* X */, \"y\" /* Y */];\n    // Flag to determine if we should recalculate node data.\n    this.nodeDataRefresh = true;\n    this.moduleMap = new ModuleMap();\n    this._declarationOrder = -1;\n    this.seriesListeners = new Listeners();\n    const {\n      moduleCtx,\n      pickModes = [1 /* NEAREST_BY_MAIN_AXIS_FIRST */],\n      directionKeys = {},\n      directionNames = {},\n      contentGroupVirtual = true,\n      canHaveAxes = false\n    } = seriesOpts;\n    this.ctx = moduleCtx;\n    this.directionKeys = directionKeys;\n    this.directionNames = directionNames;\n    this.canHaveAxes = canHaveAxes;\n    this.contentGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.internalId}-content`,\n        isVirtual: contentGroupVirtual,\n        zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"data\")\n      })\n    );\n    this.highlightGroup = new Group({\n      name: `${this.internalId}-highlight`,\n      isVirtual: contentGroupVirtual,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"highlight\")\n    });\n    this.highlightNode = this.highlightGroup.appendChild(new Group({ name: \"highlightNode\", zIndex: 0 }));\n    this.highlightLabel = this.highlightGroup.appendChild(new Group({ name: \"highlightLabel\", zIndex: 10 }));\n    this.pickModes = pickModes;\n    this.labelGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.internalId}-series-labels`,\n        zIndex: 8 /* SERIES_LABEL_ZINDEX */\n      })\n    );\n    this.annotationGroup = new Group({\n      name: `${this.id}-annotation`,\n      isVirtual: contentGroupVirtual,\n      zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n      zIndexSubOrder: this.getGroupZIndexSubOrder(\"annotation\")\n    });\n  }\n  get id() {\n    var _a, _b;\n    return (_b = (_a = this.properties) == null ? void 0 : _a.id) != null ? _b : this.internalId;\n  }\n  get type() {\n    var _a;\n    return (_a = this.constructor.type) != null ? _a : \"\";\n  }\n  get data() {\n    var _a;\n    return (_a = this._data) != null ? _a : this._chartData;\n  }\n  set visible(value) {\n    this.properties.visible = value;\n    this.visibleChanged();\n  }\n  get visible() {\n    return this.properties.visible;\n  }\n  get hasData() {\n    return this.data != null && this.data.length > 0;\n  }\n  get tooltipEnabled() {\n    var _a, _b;\n    return (_b = (_a = this.properties.tooltip) == null ? void 0 : _a.enabled) != null ? _b : false;\n  }\n  onDataChange() {\n    this.nodeDataRefresh = true;\n  }\n  setOptionsData(input) {\n    this._data = input;\n    this.onDataChange();\n  }\n  setChartData(input) {\n    this._chartData = input;\n    if (this.data === input) {\n      this.onDataChange();\n    }\n  }\n  onSeriesGroupingChange(prev, next) {\n    const { internalId, type, visible } = this;\n    if (prev) {\n      this.ctx.seriesStateManager.deregisterSeries({ id: internalId, type });\n    }\n    if (next) {\n      this.ctx.seriesStateManager.registerSeries({ id: internalId, type, visible, seriesGrouping: next });\n    }\n    this.fireEvent(new SeriesGroupingChangedEvent(this, next, prev));\n  }\n  getBandScalePadding() {\n    return { inner: 1, outer: 0 };\n  }\n  getGroupZIndexSubOrder(type, subIndex = 0) {\n    let mainAdjust = 0;\n    switch (type) {\n      case \"data\":\n      case \"paths\":\n        break;\n      case \"labels\":\n        mainAdjust += 2e4;\n        break;\n      case \"marker\":\n        mainAdjust += 1e4;\n        break;\n      case \"highlight\":\n        subIndex += 15e3;\n        break;\n      case \"annotation\":\n        mainAdjust += 15e3;\n        break;\n    }\n    const main = () => this._declarationOrder + mainAdjust;\n    return [main, subIndex];\n  }\n  addListener(type, listener) {\n    return this.seriesListeners.addListener(type, listener);\n  }\n  dispatch(type, event) {\n    this.seriesListeners.dispatch(type, event);\n  }\n  addChartEventListeners() {\n    return;\n  }\n  destroy() {\n    this.destroyFns.forEach((f) => f());\n    this.destroyFns = [];\n    this.ctx.seriesStateManager.deregisterSeries(this);\n  }\n  getDirectionValues(direction, properties) {\n    const resolvedDirection = this.resolveKeyDirection(direction);\n    const keys = properties == null ? void 0 : properties[resolvedDirection];\n    const values = [];\n    if (!keys) {\n      return values;\n    }\n    const addValues = (...items) => {\n      for (const value of items) {\n        if (Array.isArray(value)) {\n          addValues(...value);\n        } else if (typeof value === \"object\") {\n          addValues(...Object.values(value));\n        } else {\n          values.push(value);\n        }\n      }\n    };\n    addValues(...keys.map((key) => this.properties[key]));\n    return values;\n  }\n  getKeys(direction) {\n    return this.getDirectionValues(direction, this.directionKeys);\n  }\n  getKeyProperties(direction) {\n    var _a;\n    return (_a = this.directionKeys[this.resolveKeyDirection(direction)]) != null ? _a : [];\n  }\n  getNames(direction) {\n    return this.getDirectionValues(direction, this.directionNames);\n  }\n  resolveKeyDirection(direction) {\n    return direction;\n  }\n  // The union of the series domain ('community') and series-option domains ('enterprise').\n  getDomain(direction) {\n    const seriesDomain = this.getSeriesDomain(direction);\n    const moduleDomains = this.moduleMap.mapModules((module) => module.getDomain(direction));\n    return seriesDomain.concat(moduleDomains.flat());\n  }\n  // Indicate that something external changed and we should recalculate nodeData.\n  markNodeDataDirty() {\n    this.nodeDataRefresh = true;\n  }\n  visibleChanged() {\n    this.ctx.seriesStateManager.registerSeries(this);\n  }\n  getOpacity() {\n    const defaultOpacity = 1;\n    const { dimOpacity = 1, enabled = true } = this.properties.highlightStyle.series;\n    if (!enabled || dimOpacity === defaultOpacity) {\n      return defaultOpacity;\n    }\n    switch (this.isItemIdHighlighted()) {\n      case 0 /* None */:\n      case 1 /* This */:\n        return defaultOpacity;\n      case 2 /* Other */:\n      default:\n        return dimOpacity;\n    }\n  }\n  getStrokeWidth(defaultStrokeWidth) {\n    const { strokeWidth, enabled = true } = this.properties.highlightStyle.series;\n    if (!enabled || strokeWidth === void 0) {\n      return defaultStrokeWidth;\n    }\n    switch (this.isItemIdHighlighted()) {\n      case 1 /* This */:\n        return strokeWidth;\n      case 0 /* None */:\n      case 2 /* Other */:\n        return defaultStrokeWidth;\n    }\n  }\n  isItemIdHighlighted() {\n    var _a, _b;\n    const series = (_b = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight()) == null ? void 0 : _b.series;\n    if (series == null) {\n      return 0 /* None */;\n    }\n    if (series !== this) {\n      return 2 /* Other */;\n    }\n    return 1 /* This */;\n  }\n  getModuleTooltipParams() {\n    return this.moduleMap.mapModules((module) => module.getTooltipParams()).reduce((total, current) => Object.assign(total, current), {});\n  }\n  pickNode(point, limitPickModes) {\n    const { pickModes, visible, rootGroup } = this;\n    if (!visible || !rootGroup.visible) {\n      return;\n    }\n    for (const pickMode of pickModes) {\n      if (limitPickModes && !limitPickModes.includes(pickMode)) {\n        continue;\n      }\n      let match;\n      switch (pickMode) {\n        case 0 /* EXACT_SHAPE_MATCH */:\n          match = this.pickNodeExactShape(point);\n          break;\n        case 1 /* NEAREST_BY_MAIN_AXIS_FIRST */:\n        case 2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */:\n          match = this.pickNodeMainAxisFirst(\n            point,\n            pickMode === 2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */\n          );\n          break;\n        case 3 /* NEAREST_NODE */:\n          match = this.pickNodeClosestDatum(point);\n          break;\n      }\n      if (match) {\n        return { pickMode, match: match.datum, distance: match.distance };\n      }\n    }\n  }\n  pickNodeExactShape(point) {\n    const match = this.contentGroup.pickNode(point.x, point.y);\n    if (match && match.datum.missing !== true) {\n      return { datum: match.datum, distance: 0 };\n    }\n    return void 0;\n  }\n  pickNodeClosestDatum(_point) {\n    throw new Error(\"AG Charts - Series.pickNodeClosestDatum() not implemented\");\n  }\n  pickNodeNearestDistantObject(point, items) {\n    const match = nearestSquared(point.x, point.y, items);\n    if (match.nearest !== void 0 && match.nearest.datum.missing !== true) {\n      return { datum: match.nearest.datum, distance: Math.sqrt(match.distanceSquared) };\n    }\n    return void 0;\n  }\n  pickNodeMainAxisFirst(_point, _requireCategoryAxis) {\n    throw new Error(\"AG Charts - Series.pickNodeMainAxisFirst() not implemented\");\n  }\n  fireNodeClickEvent(event, datum) {\n    this.fireEvent(new this.NodeEvent(\"nodeClick\", event, datum, this));\n  }\n  fireNodeDoubleClickEvent(event, datum) {\n    this.fireEvent(new this.NodeEvent(\"nodeDoubleClick\", event, datum, this));\n  }\n  createNodeContextMenuActionEvent(event, datum) {\n    return new this.NodeEvent(\"nodeContextMenuAction\", event, datum, this);\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.visible = enabled;\n    this.nodeDataRefresh = true;\n    this.dispatch(\"visibility-changed\", { itemId, enabled });\n  }\n  isEnabled() {\n    return this.visible;\n  }\n  getModuleMap() {\n    return this.moduleMap;\n  }\n  createModuleContext() {\n    return __spreadProps(__spreadValues({}, this.ctx), { series: this });\n  }\n  getLabelText(label, params, defaultFormatter = String) {\n    var _a;\n    if (label.formatter) {\n      return (_a = this.ctx.callbackCache.call(label.formatter, __spreadValues({ seriesId: this.id }, params))) != null ? _a : defaultFormatter(params.value);\n    }\n    return defaultFormatter(params.value);\n  }\n  getMarkerStyle(marker, params, defaultStyle = marker.getStyle()) {\n    var _a, _b;\n    const defaultSize = { size: (_b = (_a = params.datum.point) == null ? void 0 : _a.size) != null ? _b : 0 };\n    const markerStyle = mergeDefaults(defaultSize, defaultStyle);\n    if (marker.formatter) {\n      const style = this.ctx.callbackCache.call(marker.formatter, __spreadProps(__spreadValues(__spreadValues({\n        seriesId: this.id\n      }, markerStyle), params), {\n        datum: params.datum.datum\n      }));\n      return mergeDefaults(style, markerStyle);\n    }\n    return markerStyle;\n  }\n  updateMarkerStyle(markerNode, marker, params, defaultStyle = marker.getStyle(), { applyTranslation = true } = {}) {\n    const { point } = params.datum;\n    const activeStyle = this.getMarkerStyle(marker, params, defaultStyle);\n    const visible = this.visible && activeStyle.size > 0 && point && !isNaN(point.x) && !isNaN(point.y);\n    if (applyTranslation) {\n      markerNode.setProperties(__spreadProps(__spreadValues({ visible }, activeStyle), { translationX: point == null ? void 0 : point.x, translationY: point == null ? void 0 : point.y }));\n    } else {\n      markerNode.setProperties(__spreadValues({ visible }, activeStyle));\n    }\n    if (typeof marker.shape === \"function\" && !markerNode.dirtyPath) {\n      markerNode.path.clear(true);\n      markerNode.updatePath();\n      markerNode.checkPathDirty();\n    }\n  }\n  getMinRects(_width, _height) {\n    return;\n  }\n  get nodeDataDependencies() {\n    var _a;\n    return (_a = this._nodeDataDependencies) != null ? _a : { seriesRectWidth: NaN, seriesRectHeight: NaN };\n  }\n  checkResize(newSeriesRect) {\n    const { width: seriesRectWidth, height: seriesRectHeight } = newSeriesRect != null ? newSeriesRect : { width: NaN, height: NaN };\n    const newNodeDataDependencies = newSeriesRect ? { seriesRectWidth, seriesRectHeight } : void 0;\n    const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n    if (resize) {\n      this._nodeDataDependencies = newNodeDataDependencies;\n      this.markNodeDataDirty();\n    }\n    return resize;\n  }\n  pickFocus(_opts) {\n    return void 0;\n  }\n};\nSeries.highlightedZIndex = 1e12;\n__decorateClass([\n  ActionOnSet({\n    changeValue: function(newVal, oldVal) {\n      this.onSeriesGroupingChange(oldVal, newVal);\n    }\n  })\n], Series.prototype, \"seriesGrouping\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesLayerManager.ts\nvar SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION = 30;\nvar SeriesLayerManager = class {\n  constructor(seriesRoot, highlightRoot, annotationRoot) {\n    this.seriesRoot = seriesRoot;\n    this.highlightRoot = highlightRoot;\n    this.annotationRoot = annotationRoot;\n    this.groups = {};\n    this.series = {};\n    this.expectedSeriesCount = 1;\n    this.mode = \"normal\";\n  }\n  setSeriesCount(count) {\n    this.expectedSeriesCount = count;\n  }\n  requestGroup(seriesConfig) {\n    var _a, _b, _c, _d;\n    const {\n      internalId,\n      type,\n      rootGroup: seriesRootGroup,\n      highlightGroup: seriesHighlightGroup,\n      annotationGroup: seriesAnnotationGroup,\n      seriesGrouping\n    } = seriesConfig;\n    const { groupIndex = internalId } = seriesGrouping != null ? seriesGrouping : {};\n    if (this.series[internalId] != null) {\n      throw new Error(`AG Charts - series already has an allocated layer: ${this.series[internalId]}`);\n    }\n    if (Object.keys(this.series).length === 0) {\n      this.mode = this.expectedSeriesCount >= SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION ? \"aggressive-grouping\" : \"normal\";\n    }\n    (_b = (_a = this.groups)[type]) != null ? _b : _a[type] = {};\n    const lookupIndex = this.lookupIdx(groupIndex);\n    let groupInfo = this.groups[type][lookupIndex];\n    if (!groupInfo) {\n      groupInfo = (_d = (_c = this.groups[type])[lookupIndex]) != null ? _d : _c[lookupIndex] = {\n        seriesIds: [],\n        group: this.seriesRoot.appendChild(\n          new Group({\n            name: `${type}-content`,\n            layer: true,\n            zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n            zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"data\")\n          })\n        ),\n        highlight: this.highlightRoot.appendChild(\n          new Group({\n            name: `${type}-highlight`,\n            zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n            zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"highlight\")\n          })\n        ),\n        annotation: this.annotationRoot.appendChild(\n          new Group({\n            name: `${type}-annotation`,\n            zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n            zIndexSubOrder: seriesConfig.getGroupZIndexSubOrder(\"annotation\")\n          })\n        )\n      };\n    }\n    this.series[internalId] = { layerState: groupInfo, seriesConfig };\n    groupInfo.seriesIds.push(internalId);\n    groupInfo.group.appendChild(seriesRootGroup);\n    groupInfo.highlight.appendChild(seriesHighlightGroup);\n    groupInfo.annotation.appendChild(seriesAnnotationGroup);\n    return groupInfo.group;\n  }\n  changeGroup(seriesConfig) {\n    var _a, _b;\n    const { internalId, seriesGrouping, type, rootGroup, highlightGroup, annotationGroup, oldGrouping } = seriesConfig;\n    const { groupIndex = internalId } = seriesGrouping != null ? seriesGrouping : {};\n    if ((_b = (_a = this.groups[type]) == null ? void 0 : _a[groupIndex]) == null ? void 0 : _b.seriesIds.includes(internalId)) {\n      return;\n    }\n    if (this.series[internalId] != null) {\n      this.releaseGroup({\n        internalId,\n        seriesGrouping: oldGrouping,\n        type,\n        rootGroup,\n        highlightGroup,\n        annotationGroup\n      });\n    }\n    this.requestGroup(seriesConfig);\n  }\n  releaseGroup(seriesConfig) {\n    var _a, _b, _c, _d, _e;\n    const { internalId, seriesGrouping, rootGroup, highlightGroup, annotationGroup, type } = seriesConfig;\n    const { groupIndex = internalId } = seriesGrouping != null ? seriesGrouping : {};\n    if (this.series[internalId] == null) {\n      throw new Error(`AG Charts - series doesn't have an allocated layer: ${internalId}`);\n    }\n    const lookupIndex = this.lookupIdx(groupIndex);\n    const groupInfo = (_c = (_a = this.groups[type]) == null ? void 0 : _a[lookupIndex]) != null ? _c : (_b = this.series[internalId]) == null ? void 0 : _b.layerState;\n    if (groupInfo) {\n      groupInfo.seriesIds = groupInfo.seriesIds.filter((v) => v !== internalId);\n      groupInfo.group.removeChild(rootGroup);\n      groupInfo.highlight.removeChild(highlightGroup);\n      groupInfo.annotation.removeChild(annotationGroup);\n    }\n    if ((groupInfo == null ? void 0 : groupInfo.seriesIds.length) === 0) {\n      this.seriesRoot.removeChild(groupInfo.group);\n      this.highlightRoot.removeChild(groupInfo.highlight);\n      this.annotationRoot.removeChild(groupInfo.annotation);\n      delete this.groups[type][lookupIndex];\n      delete this.groups[type][internalId];\n    } else if ((groupInfo == null ? void 0 : groupInfo.seriesIds.length) > 0) {\n      const leadSeriesConfig = (_e = this.series[(_d = groupInfo == null ? void 0 : groupInfo.seriesIds) == null ? void 0 : _d[0]]) == null ? void 0 : _e.seriesConfig;\n      groupInfo.group.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"data\");\n      groupInfo.highlight.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"highlight\");\n      groupInfo.annotation.zIndexSubOrder = leadSeriesConfig == null ? void 0 : leadSeriesConfig.getGroupZIndexSubOrder(\"annotation\");\n    }\n    delete this.series[internalId];\n  }\n  lookupIdx(groupIndex) {\n    if (this.mode === \"normal\") {\n      return groupIndex;\n    }\n    if (typeof groupIndex === \"string\") {\n      groupIndex = Number(groupIndex.split(\"-\").slice(-1)[0]);\n      if (!groupIndex) {\n        return 0;\n      }\n    }\n    return Math.floor(\n      clamp(0, groupIndex / this.expectedSeriesCount, 1) * SERIES_THRESHOLD_FOR_AGGRESSIVE_LAYER_REDUCTION\n    );\n  }\n  destroy() {\n    for (const groups of Object.values(this.groups)) {\n      for (const groupInfo of Object.values(groups)) {\n        this.seriesRoot.removeChild(groupInfo.group);\n        this.highlightRoot.removeChild(groupInfo.highlight);\n        this.annotationRoot.removeChild(groupInfo.annotation);\n      }\n    }\n    this.groups = {};\n    this.series = {};\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/baseLayoutProcessor.ts\nvar BaseLayoutProcessor = class {\n  constructor(chartLike, layoutService) {\n    this.chartLike = chartLike;\n    this.layoutService = layoutService;\n    this.destroyFns = [];\n    this.destroyFns.push(\n      // eslint-disable-next-line sonarjs/no-duplicate-string\n      this.layoutService.addListener(\"start-layout\", (e) => this.positionPadding(e.shrinkRect)),\n      this.layoutService.addListener(\"start-layout\", (e) => this.positionCaptions(e.shrinkRect))\n    );\n  }\n  destroy() {\n    this.destroyFns.forEach((cb) => cb());\n  }\n  positionPadding(shrinkRect) {\n    const { padding } = this.chartLike;\n    shrinkRect.shrink(padding.left, \"left\");\n    shrinkRect.shrink(padding.top, \"top\");\n    shrinkRect.shrink(padding.right, \"right\");\n    shrinkRect.shrink(padding.bottom, \"bottom\");\n    return { shrinkRect };\n  }\n  positionCaptions(shrinkRect) {\n    var _a, _b;\n    const { title, subtitle, footnote } = this.chartLike;\n    const newShrinkRect = shrinkRect.clone();\n    const updateCaption = (caption) => {\n      var _a2;\n      const defaultCaptionHeight = shrinkRect.height / 10;\n      const captionLineHeight = (_a2 = caption.lineHeight) != null ? _a2 : caption.fontSize * Text.defaultLineHeightRatio;\n      const maxWidth = shrinkRect.width;\n      const maxHeight = Math.max(captionLineHeight, defaultCaptionHeight);\n      caption.computeTextWrap(maxWidth, maxHeight);\n    };\n    const computeX = (align) => {\n      if (align === \"left\") {\n        return newShrinkRect.x;\n      } else if (align === \"right\") {\n        return newShrinkRect.x + newShrinkRect.width;\n      } else if (align !== \"center\") {\n        Logger.error(`invalid textAlign value: ${align}`);\n      }\n      return newShrinkRect.x + newShrinkRect.width / 2;\n    };\n    const positionTopAndShrinkBBox = (caption, spacing) => {\n      const baseY = newShrinkRect.y;\n      caption.node.x = computeX(caption.textAlign);\n      caption.node.y = baseY;\n      caption.node.textBaseline = \"top\";\n      updateCaption(caption);\n      const bbox = caption.node.computeBBox();\n      const bboxHeight = Math.ceil(bbox.y - baseY + bbox.height + spacing);\n      newShrinkRect.shrink(bboxHeight, \"top\");\n    };\n    const positionBottomAndShrinkBBox = (caption, spacing) => {\n      const baseY = newShrinkRect.y + newShrinkRect.height;\n      caption.node.x = computeX(caption.textAlign);\n      caption.node.y = baseY;\n      caption.node.textBaseline = \"bottom\";\n      updateCaption(caption);\n      const bbox = caption.node.computeBBox();\n      const bboxHeight = Math.ceil(baseY - bbox.y + spacing);\n      newShrinkRect.shrink(bboxHeight, \"bottom\");\n    };\n    title.node.visible = title.enabled;\n    subtitle.node.visible = subtitle.enabled;\n    footnote.node.visible = footnote.enabled;\n    if (title.enabled) {\n      const { spacing = subtitle.enabled ? Caption.SMALL_PADDING : Caption.LARGE_PADDING } = title;\n      positionTopAndShrinkBBox(title, spacing);\n    }\n    if (subtitle.enabled) {\n      positionTopAndShrinkBBox(subtitle, (_a = subtitle.spacing) != null ? _a : 0);\n    }\n    if (footnote.enabled) {\n      positionBottomAndShrinkBBox(footnote, (_b = footnote.spacing) != null ? _b : 0);\n    }\n    return { shrinkRect: newShrinkRect };\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/dataWindowProcessor.ts\nvar DataWindowProcessor = class {\n  constructor(chart, dataService, updateService, zoomManager) {\n    this.chart = chart;\n    this.dataService = dataService;\n    this.updateService = updateService;\n    this.zoomManager = zoomManager;\n    this.dirtyZoom = false;\n    this.dirtyDataSource = false;\n    this.lastAxisZooms = /* @__PURE__ */ new Map();\n    this.destroyFns = [];\n    this.destroyFns.push(\n      this.dataService.addListener(\"data-source-change\", () => this.onDataSourceChange()),\n      this.dataService.addListener(\"data-load\", () => this.onDataLoad()),\n      this.dataService.addListener(\"data-error\", () => this.onDataError()),\n      this.updateService.addListener(\"update-complete\", () => this.onUpdateComplete()),\n      this.zoomManager.addListener(\"zoom-change\", () => this.onZoomChange())\n    );\n  }\n  destroy() {\n    this.destroyFns.forEach((cb) => cb());\n  }\n  onDataLoad() {\n    this.updateService.update(1 /* UPDATE_DATA */);\n  }\n  onDataError() {\n    this.updateService.update(3 /* PERFORM_LAYOUT */);\n  }\n  onDataSourceChange() {\n    this.dirtyDataSource = true;\n  }\n  onUpdateComplete() {\n    if (!this.dirtyZoom && !this.dirtyDataSource)\n      return;\n    this.updateWindow().catch((e) => Logger.errorOnce(e));\n  }\n  onZoomChange() {\n    this.dirtyZoom = true;\n  }\n  updateWindow() {\n    return __async(this, null, function* () {\n      if (!this.dataService.isLazy())\n        return;\n      const axis = this.getValidAxis();\n      let window2;\n      let shouldRefresh = true;\n      if (axis) {\n        const zoom2 = this.zoomManager.getAxisZoom(axis.id);\n        window2 = this.getAxisWindow(axis, zoom2);\n        shouldRefresh = this.shouldRefresh(axis, zoom2);\n      }\n      this.dirtyZoom = false;\n      this.dirtyDataSource = false;\n      if (!shouldRefresh)\n        return;\n      this.dataService.load({ windowStart: window2 == null ? void 0 : window2.min, windowEnd: window2 == null ? void 0 : window2.max });\n    });\n  }\n  getValidAxis() {\n    return this.chart.axes.find((axis) => axis.type === \"time\");\n  }\n  shouldRefresh(axis, zoom2) {\n    if (this.dirtyDataSource)\n      return true;\n    if (!this.dirtyZoom)\n      return false;\n    const lastZoom = this.lastAxisZooms.get(axis.id);\n    if (lastZoom && zoom2.min === lastZoom.min && zoom2.max === lastZoom.max) {\n      return false;\n    }\n    this.lastAxisZooms.set(axis.id, zoom2);\n    return true;\n  }\n  getAxisWindow(axis, zoom2) {\n    var _a, _b;\n    const domain = (_b = (_a = axis.scale).getDomain) == null ? void 0 : _b.call(_a);\n    if (!zoom2 || !domain || domain.length === 0 || isNaN(Number(domain[0])))\n      return;\n    const diff2 = Number(domain[1]) - Number(domain[0]);\n    const min = new Date(Number(domain[0]) + diff2 * zoom2.min);\n    const max = new Date(Number(domain[0]) + diff2 * zoom2.max);\n    return { min, max };\n  }\n};\n\n// packages/ag-charts-community/src/chart/update/overlaysProcessor.ts\nvar OverlaysProcessor = class {\n  constructor(chartLike, overlays, dataService, layoutService, animationManager) {\n    this.chartLike = chartLike;\n    this.overlays = overlays;\n    this.dataService = dataService;\n    this.layoutService = layoutService;\n    this.animationManager = animationManager;\n    this.destroyFns = [];\n    this.destroyFns.push(this.layoutService.addListener(\"layout-complete\", (e) => this.onLayoutComplete(e)));\n  }\n  destroy() {\n    this.destroyFns.forEach((cb) => cb());\n  }\n  onLayoutComplete({ series: { rect } }) {\n    const isLoading = this.dataService.isLoading();\n    const hasData = this.chartLike.series.some((s) => s.hasData);\n    const anySeriesVisible = this.chartLike.series.some((s) => s.visible);\n    this.toggleOverlay(this.overlays.loading, rect, isLoading);\n    this.toggleOverlay(this.overlays.noData, rect, !isLoading && !hasData);\n    this.toggleOverlay(this.overlays.noVisibleSeries, rect, hasData && !anySeriesVisible);\n  }\n  toggleOverlay(overlay, seriesRect, visible) {\n    if (visible) {\n      const element2 = overlay.getElement(this.animationManager, seriesRect);\n      this.chartLike.element.append(element2);\n    } else {\n      overlay.removeElement(this.animationManager);\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/chart.ts\nvar debug = Debug.create(true, \"opts\");\nvar SeriesArea = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.padding = new Padding(0);\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], SeriesArea.prototype, \"clip\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], SeriesArea.prototype, \"padding\", 2);\nvar _Chart = class _Chart extends Observable {\n  constructor(options, resources) {\n    var _a, _b, _c;\n    super();\n    this.id = createId(this);\n    this.seriesRoot = new Group({ name: `${this.id}-series-root` });\n    this.highlightRoot = new Group({\n      name: `${this.id}-highlight-root`,\n      layer: true,\n      zIndex: 5 /* SERIES_HIGHLIGHT_ZINDEX */,\n      nonEmptyChildDerivedZIndex: true\n    });\n    this.annotationRoot = new Group({\n      name: `${this.id}-annotation-root`,\n      layer: true,\n      zIndex: 10 /* SERIES_ANNOTATION_ZINDEX */\n    });\n    this.debug = Debug.create();\n    this.extraDebugStats = {};\n    this.data = [];\n    this._firstAutoSize = true;\n    this.padding = new Padding(20);\n    this.seriesArea = new SeriesArea();\n    this.title = new Caption();\n    this.subtitle = new Caption();\n    this.footnote = new Caption();\n    this.keyboard = new Keyboard();\n    this.mode = \"standalone\";\n    this.destroyed = false;\n    this._skipSync = false;\n    this._destroyFns = [];\n    this.chartAnimationPhase = \"initial\";\n    this.modulesManager = new ModulesManager();\n    // FIXME: zoomManager should be owned by ctx, but it can't because it is used by CartesianChart.onAxisChange before ctx is initialised\n    this.zoomManager = new ZoomManager();\n    this.processors = [];\n    this.processedOptions = {};\n    this.userOptions = {};\n    this.queuedUserOptions = [];\n    this._pendingFactoryUpdatesCount = 0;\n    this._performUpdateNoRenderCount = 0;\n    this._performUpdateSkipAnimations = false;\n    this.performUpdateType = 7 /* NONE */;\n    this.updateShortcutCount = 0;\n    this.seriesToUpdate = /* @__PURE__ */ new Set();\n    this.updateMutex = new Mutex();\n    this.updateRequestors = {};\n    this.performUpdateTrigger = debouncedCallback((_0) => __async(this, [_0], function* ({ count }) {\n      if (this.destroyed)\n        return;\n      this.updateMutex.acquire(() => __async(this, null, function* () {\n        try {\n          yield this.performUpdate(count);\n        } catch (error) {\n          Logger.error(\"update error\", error);\n        }\n      })).catch((e) => Logger.errorOnce(e));\n    }));\n    this._performUpdateSplits = {};\n    this.axes = [];\n    this.series = [];\n    this.focus = {\n      hasFocus: false,\n      series: void 0,\n      seriesIndex: 0,\n      datumIndex: 0,\n      datum: void 0\n    };\n    this.pointerScheduler = debouncedAnimationFrame(() => {\n      if (!this.lastInteractionEvent)\n        return;\n      if (this.performUpdateType <= 4 /* SERIES_UPDATE */) {\n        this.pointerScheduler.schedule();\n        return;\n      }\n      this.handlePointer(this.lastInteractionEvent, false);\n      this.lastInteractionEvent = void 0;\n    });\n    this.onSeriesNodeClick = (event) => {\n      const seriesNodeClickEvent = __spreadProps(__spreadValues({}, event), {\n        type: \"seriesNodeClick\"\n      });\n      Object.defineProperty(seriesNodeClickEvent, \"series\", {\n        enumerable: false,\n        // Should display the deprecation warning\n        get: () => event.series\n      });\n      this.fireEvent(seriesNodeClickEvent);\n    };\n    this.onSeriesNodeDoubleClick = (event) => {\n      const seriesNodeDoubleClick = __spreadProps(__spreadValues({}, event), {\n        type: \"seriesNodeDoubleClick\"\n      });\n      this.fireEvent(seriesNodeDoubleClick);\n    };\n    this.seriesGroupingChanged = (event) => {\n      if (!(event instanceof SeriesGroupingChangedEvent))\n        return;\n      const { series, seriesGrouping, oldGrouping } = event;\n      if (series.rootGroup.parent == null)\n        return;\n      this.seriesLayerManager.changeGroup({\n        internalId: series.internalId,\n        type: series.type,\n        rootGroup: series.rootGroup,\n        highlightGroup: series.highlightGroup,\n        annotationGroup: series.annotationGroup,\n        getGroupZIndexSubOrder: (type) => series.getGroupZIndexSubOrder(type),\n        seriesGrouping,\n        oldGrouping\n      });\n    };\n    this.dataProcessListeners = /* @__PURE__ */ new Set();\n    this.chartOptions = options;\n    let scene = resources == null ? void 0 : resources.scene;\n    const element2 = (_a = resources == null ? void 0 : resources.element) != null ? _a : createElement(\"div\", \"ag-chart-wrapper\", { position: \"relative\", userSelect: \"none\" });\n    const container = resources == null ? void 0 : resources.container;\n    this.element = element2;\n    const root = new Group({ name: \"root\" });\n    root.visible = false;\n    root.append(this.seriesRoot);\n    root.append(this.highlightRoot);\n    root.append(this.annotationRoot);\n    this.axisGridGroup = new Group({ name: \"Axes-Grids\", layer: true, zIndex: 1 /* AXIS_GRID_ZINDEX */ });\n    root.appendChild(this.axisGridGroup);\n    this.axisGroup = new Group({ name: \"Axes\", layer: true, zIndex: 2 /* AXIS_ZINDEX */ });\n    root.appendChild(this.axisGroup);\n    this.sizeMonitor = new SizeMonitor();\n    this.sizeMonitor.observe(this.element, (size) => this.rawResize(size));\n    const { overrideDevicePixelRatio } = options.specialOverrides;\n    scene != null ? scene : scene = new Scene({ pixelRatio: overrideDevicePixelRatio, canvasPosition: \"absolute\" });\n    scene.setRoot(root).setContainer(element2);\n    this.autoSize = true;\n    this.tooltip = new Tooltip();\n    this.seriesLayerManager = new SeriesLayerManager(this.seriesRoot, this.highlightRoot, this.annotationRoot);\n    const ctx = this.ctx = new ChartContext(this, {\n      scene,\n      syncManager: new SyncManager(this),\n      element: element2,\n      updateCallback: (type = 0 /* FULL */, opts) => this.update(type, opts),\n      updateMutex: this.updateMutex\n    });\n    this.overlays = new ChartOverlays();\n    (_c = (_b = this.overlays.loading).renderer) != null ? _c : _b.renderer = () => getLoadingSpinner(this.overlays.loading.getText(), ctx.animationManager.defaultDuration);\n    this.processors = [\n      new BaseLayoutProcessor(this, ctx.layoutService),\n      new DataWindowProcessor(this, ctx.dataService, ctx.updateService, ctx.zoomManager),\n      new OverlaysProcessor(this, this.overlays, ctx.dataService, ctx.layoutService, ctx.animationManager)\n    ];\n    this.highlight = new ChartHighlight();\n    this.container = container;\n    const { All } = InteractionState;\n    const moduleContext = this.getModuleContext();\n    const seriesRegion = ctx.regionManager.addRegion(\"series\", this.seriesRoot, this.axisGroup);\n    ctx.regionManager.addRegion(\"root\", root);\n    this._destroyFns.push(\n      ctx.dataService.addListener(\"data-load\", (event) => {\n        this.data = event.data;\n      }),\n      ctx.scene.attachNode(this.title.node),\n      ctx.scene.attachNode(this.subtitle.node),\n      ctx.scene.attachNode(this.footnote.node),\n      this.title.registerInteraction(moduleContext, \"title\"),\n      this.subtitle.registerInteraction(moduleContext, \"subtitle\"),\n      this.footnote.registerInteraction(moduleContext, \"footnote\"),\n      ctx.interactionManager.addListener(\"click\", (event) => this.onClick(event)),\n      ctx.interactionManager.addListener(\"dblclick\", (event) => this.onDoubleClick(event)),\n      seriesRegion.addListener(\"hover\", (event) => this.onMouseMove(event)),\n      seriesRegion.addListener(\"leave\", (event) => this.onLeave(event)),\n      seriesRegion.addListener(\"blur\", () => this.onBlur()),\n      seriesRegion.addListener(\"tab\", (event) => this.onTab(event)),\n      seriesRegion.addListener(\"nav-vert\", (event) => this.onNavVert(event)),\n      seriesRegion.addListener(\"nav-hori\", (event) => this.onNavHori(event)),\n      seriesRegion.addListener(\"submit\", (event) => this.onSubmit(event)),\n      ctx.keyNavManager.addListener(\"browserfocus\", (event) => this.onBrowserFocus(event)),\n      ctx.interactionManager.addListener(\"page-left\", () => this.destroy()),\n      ctx.interactionManager.addListener(\"contextmenu\", (event) => this.onContextMenu(event), All),\n      ctx.animationManager.addListener(\"animation-start\", () => this.onAnimationStart()),\n      ctx.animationManager.addListener(\"animation-frame\", () => {\n        this.update(6 /* SCENE_RENDER */);\n      }),\n      ctx.highlightManager.addListener(\"highlight-change\", (event) => this.changeHighlightDatum(event)),\n      ctx.zoomManager.addListener(\"zoom-pan-start\", () => this.resetPointer()),\n      ctx.zoomManager.addListener(\"zoom-change\", () => {\n        this.resetPointer();\n        this.series.map((s) => {\n          var _a2;\n          return (_a2 = s.animationState) == null ? void 0 : _a2.transition(\"updateData\");\n        });\n        const skipAnimations = this.chartAnimationPhase !== \"initial\";\n        this.update(3 /* PERFORM_LAYOUT */, { forceNodeDataRefresh: true, skipAnimations });\n      })\n    );\n  }\n  static getInstance(element2) {\n    return _Chart.chartsInstances.get(element2);\n  }\n  /** NOTE: This is exposed for use by Integrated charts only. */\n  get canvasElement() {\n    return this.ctx.scene.canvas.element;\n  }\n  /** NOTE: This is exposed for use by Integrated charts only. */\n  getCanvasDataURL(fileFormat) {\n    return this.ctx.scene.getDataURL(fileFormat);\n  }\n  onAutoSizeChange(value) {\n    const { style } = this.element;\n    if (value) {\n      style.display = \"block\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      if (!this._lastAutoSize) {\n        return;\n      }\n      this.resize(void 0, void 0, \"autoSize option\");\n    } else {\n      style.display = \"inline-block\";\n      style.width = \"auto\";\n      style.height = \"auto\";\n    }\n  }\n  download(fileName, fileFormat) {\n    this.ctx.scene.download(fileName, fileFormat);\n  }\n  getOptions() {\n    var _a;\n    return (_a = this.queuedUserOptions.at(-1)) != null ? _a : this.userOptions;\n  }\n  getModuleContext() {\n    return this.ctx;\n  }\n  getAriaLabel() {\n    var _a;\n    const captionText = [this.title, this.subtitle, this.footnote].filter((caption) => caption.enabled && caption.text).map((caption) => caption.text).join(\". \");\n    const nSeries = (_a = this.series.length) != null ? _a : 0;\n    return `chart, ${nSeries} series, ${captionText}`;\n  }\n  resetAnimations() {\n    this.chartAnimationPhase = \"initial\";\n    for (const series of this.series) {\n      series.resetAnimation(this.chartAnimationPhase);\n    }\n    for (const axis of this.axes) {\n      axis.resetAnimation(this.chartAnimationPhase);\n    }\n    this.animationRect = void 0;\n    this.ctx.animationManager.reset();\n  }\n  skipAnimations() {\n    this.ctx.animationManager.skipCurrentBatch();\n    this._performUpdateSkipAnimations = true;\n  }\n  destroy(opts) {\n    if (this.destroyed) {\n      return;\n    }\n    const keepTransferableResources = opts == null ? void 0 : opts.keepTransferableResources;\n    let result;\n    this.performUpdateType = 7 /* NONE */;\n    this._destroyFns.forEach((fn) => fn());\n    this.processors.forEach((p) => p.destroy());\n    this.tooltip.destroy();\n    this.overlays.destroy();\n    this.sizeMonitor.unobserve(this.element);\n    this.modulesManager.destroy();\n    if (keepTransferableResources) {\n      this.ctx.scene.strip();\n      result = { container: this.container, scene: this.ctx.scene, element: this.element };\n    } else {\n      this.ctx.scene.destroy();\n      this.container = void 0;\n    }\n    this.destroySeries(this.series);\n    this.seriesLayerManager.destroy();\n    this.axes.forEach((a) => a.destroy());\n    this.axes = [];\n    this.animationRect = void 0;\n    this.ctx.destroy();\n    this.zoomManager.destroy();\n    this.destroyed = true;\n    Object.freeze(this);\n    return result;\n  }\n  resetPointer(highlightOnly = false) {\n    if (!highlightOnly) {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n    }\n    this.ctx.highlightManager.updateHighlight(this.id);\n    this.lastInteractionEvent = void 0;\n  }\n  requestFactoryUpdate(cb) {\n    if (this.destroyed)\n      return;\n    this._pendingFactoryUpdatesCount++;\n    this.updateMutex.acquire(() => __async(this, null, function* () {\n      if (this.destroyed)\n        return;\n      yield cb(this);\n      if (this.destroyed)\n        return;\n      this._pendingFactoryUpdatesCount--;\n    })).catch((e) => Logger.errorOnce(e));\n  }\n  update(type = 0 /* FULL */, opts) {\n    var _a, _b;\n    const {\n      forceNodeDataRefresh = false,\n      skipAnimations,\n      seriesToUpdate = this.series,\n      newAnimationBatch\n    } = opts != null ? opts : {};\n    if (forceNodeDataRefresh) {\n      this.series.forEach((series) => series.markNodeDataDirty());\n    }\n    for (const series of seriesToUpdate) {\n      this.seriesToUpdate.add(series);\n    }\n    if (skipAnimations) {\n      this.ctx.animationManager.skipCurrentBatch();\n      this._performUpdateSkipAnimations = true;\n    }\n    if (newAnimationBatch && this.ctx.animationManager.isActive()) {\n      this._performUpdateSkipAnimations = true;\n    }\n    this._skipSync = (_a = opts == null ? void 0 : opts.skipSync) != null ? _a : false;\n    if (this.debug.check()) {\n      let stack = (_b = new Error().stack) != null ? _b : \"<unknown>\";\n      stack = stack.replace(/\\([^)]*/g, \"\");\n      this.updateRequestors[stack] = type;\n    }\n    if (type < this.performUpdateType) {\n      this.performUpdateType = type;\n      this.performUpdateTrigger.schedule(opts == null ? void 0 : opts.backOffMs);\n    }\n  }\n  performUpdate(count) {\n    return __async(this, null, function* () {\n      var _a;\n      const { performUpdateType, extraDebugStats, _performUpdateSplits: splits, ctx } = this;\n      const seriesToUpdate = [...this.seriesToUpdate];\n      this.performUpdateType = 7 /* NONE */;\n      this.seriesToUpdate.clear();\n      if (this.updateShortcutCount === 0 && performUpdateType < 6 /* SCENE_RENDER */) {\n        ctx.animationManager.startBatch(this._performUpdateSkipAnimations);\n        ctx.animationManager.onBatchStop(() => this.chartAnimationPhase = \"ready\");\n      }\n      this.debug(\"Chart.performUpdate() - start\", ChartUpdateType[performUpdateType]);\n      let previousSplit = performance.now();\n      (_a = splits.start) != null ? _a : splits.start = previousSplit;\n      const updateSplits = (splitName) => {\n        var _a2;\n        (_a2 = splits[splitName]) != null ? _a2 : splits[splitName] = 0;\n        splits[splitName] += performance.now() - previousSplit;\n        previousSplit = performance.now();\n      };\n      let updateDeferred = false;\n      switch (performUpdateType) {\n        case 0 /* FULL */:\n          this.updateDOM();\n        case 1 /* UPDATE_DATA */:\n          yield this.updateData();\n          updateSplits(\"\\u2B07\\uFE0F\");\n        case 2 /* PROCESS_DATA */:\n          yield this.processData();\n          this.resetPointer(true);\n          updateSplits(\"\\u{1F3ED}\");\n        case 3 /* PERFORM_LAYOUT */:\n          if (this.checkUpdateShortcut(3 /* PERFORM_LAYOUT */))\n            break;\n          if (!this.checkFirstAutoSize(seriesToUpdate)) {\n            updateDeferred = true;\n            break;\n          }\n          yield this.processLayout();\n          updateSplits(\"\\u2316\");\n        case 4 /* SERIES_UPDATE */:\n          if (this.checkUpdateShortcut(4 /* SERIES_UPDATE */))\n            break;\n          const { seriesRect } = this;\n          yield Promise.all(seriesToUpdate.map((series) => series.update({ seriesRect })));\n          updateSplits(\"\\u{1F914}\");\n        case 5 /* TOOLTIP_RECALCULATION */:\n          if (this.checkUpdateShortcut(5 /* TOOLTIP_RECALCULATION */))\n            break;\n          const tooltipMeta = ctx.tooltipManager.getTooltipMeta(this.id);\n          if (performUpdateType <= 4 /* SERIES_UPDATE */ && (tooltipMeta == null ? void 0 : tooltipMeta.lastPointerEvent) != null) {\n            this.handlePointer(tooltipMeta.lastPointerEvent, true);\n          }\n          updateSplits(\"\\u2196\");\n        case 6 /* SCENE_RENDER */:\n          if (this.checkUpdateShortcut(6 /* SCENE_RENDER */))\n            break;\n          ctx.animationManager.endBatch();\n          extraDebugStats[\"updateShortcutCount\"] = this.updateShortcutCount;\n          yield ctx.scene.render({ debugSplitTimes: splits, extraDebugStats });\n          this.ctx.regionManager.updateFocusWrapperRect();\n          this.extraDebugStats = {};\n          for (const key in splits) {\n            delete splits[key];\n          }\n        case 7 /* NONE */:\n          this.updateShortcutCount = 0;\n          this.updateRequestors = {};\n          this._performUpdateSkipAnimations = false;\n          ctx.animationManager.endBatch();\n      }\n      if (!updateDeferred) {\n        ctx.updateService.dispatchUpdateComplete(this.getMinRects());\n      }\n      const end = performance.now();\n      this.debug(\"Chart.performUpdate() - end\", {\n        chart: this,\n        durationMs: Math.round((end - splits[\"start\"]) * 100) / 100,\n        count,\n        performUpdateType: ChartUpdateType[performUpdateType]\n      });\n    });\n  }\n  updateThemeClassName() {\n    const {\n      element: element2,\n      processedOptions: { theme }\n    } = this;\n    const themeClassNamePrefix = \"ag-charts-theme-\";\n    const validThemeClassNames = [`${themeClassNamePrefix}default`, `${themeClassNamePrefix}default-dark`];\n    let themeClassName = validThemeClassNames[0];\n    let isDark = false;\n    if (typeof theme === \"string\") {\n      themeClassName = theme.replace(\"ag-\", themeClassNamePrefix);\n      isDark = theme.includes(\"-dark\");\n    } else if (typeof (theme == null ? void 0 : theme.baseTheme) === \"string\") {\n      themeClassName = theme.baseTheme.replace(\"ag-\", themeClassNamePrefix);\n      isDark = theme.baseTheme.includes(\"-dark\");\n    }\n    if (!validThemeClassNames.includes(themeClassName)) {\n      themeClassName = isDark ? validThemeClassNames[1] : validThemeClassNames[0];\n    }\n    element2.classList.forEach((className) => {\n      if (className.startsWith(themeClassNamePrefix) && className !== themeClassName) {\n        element2.classList.remove(className);\n      }\n    });\n    element2.classList.add(themeClassName);\n  }\n  updateDOM() {\n    this.updateThemeClassName();\n    const { enabled, tabIndex } = this.keyboard;\n    this.element.tabIndex = enabled ? tabIndex != null ? tabIndex : 0 : -1;\n    setAttribute(this.ctx.scene.canvas.element, \"role\", \"figure\");\n    setAttribute(this.ctx.scene.canvas.element, \"aria-label\", this.getAriaLabel());\n  }\n  checkUpdateShortcut(checkUpdateType) {\n    const maxShortcuts = 3;\n    if (this.updateShortcutCount > maxShortcuts) {\n      Logger.warn(\n        `exceeded the maximum number of simultaneous updates (${maxShortcuts + 1}), discarding changes and rendering`,\n        this.updateRequestors\n      );\n      return false;\n    }\n    if (this.performUpdateType <= checkUpdateType) {\n      this.updateShortcutCount++;\n      return true;\n    }\n    return false;\n  }\n  checkFirstAutoSize(seriesToUpdate) {\n    if (this.autoSize && !this._lastAutoSize) {\n      const count = this._performUpdateNoRenderCount++;\n      const backOffMs = __pow(count + 1, 2) * 40;\n      if (count < 8) {\n        this.update(3 /* PERFORM_LAYOUT */, { seriesToUpdate, backOffMs });\n        this.debug(\"Chart.checkFirstAutoSize() - backing off until first size update\", backOffMs);\n        return false;\n      }\n      this.debug(\"Chart.checkFirstAutoSize() - timeout for first size update.\");\n    }\n    this._performUpdateNoRenderCount = 0;\n    return true;\n  }\n  onAxisChange(newValue, oldValue = []) {\n    for (const axis of oldValue) {\n      if (newValue.includes(axis))\n        continue;\n      axis.detachAxis(this.axisGroup, this.axisGridGroup);\n      axis.destroy();\n    }\n    for (const axis of newValue) {\n      if (oldValue == null ? void 0 : oldValue.includes(axis))\n        continue;\n      axis.attachAxis(this.axisGroup, this.axisGridGroup);\n    }\n  }\n  onSeriesChange(newValue, oldValue) {\n    var _a, _b;\n    const seriesToDestroy = (_a = oldValue == null ? void 0 : oldValue.filter((series) => !newValue.includes(series))) != null ? _a : [];\n    this.destroySeries(seriesToDestroy);\n    (_b = this.seriesLayerManager) == null ? void 0 : _b.setSeriesCount(newValue.length);\n    for (const series of newValue) {\n      if (oldValue == null ? void 0 : oldValue.includes(series))\n        continue;\n      if (series.rootGroup.parent == null) {\n        this.seriesLayerManager.requestGroup(series);\n      }\n      const chart = this;\n      series.chart = {\n        get mode() {\n          return chart.mode;\n        },\n        get isMiniChart() {\n          return false;\n        },\n        get seriesRect() {\n          return chart.seriesRect;\n        },\n        placeLabels() {\n          return chart.placeLabels();\n        }\n      };\n      series.resetAnimation(this.chartAnimationPhase);\n      this.addSeriesListeners(series);\n      series.addChartEventListeners();\n    }\n  }\n  destroySeries(allSeries) {\n    allSeries == null ? void 0 : allSeries.forEach((series) => {\n      series.removeEventListener(\"nodeClick\", this.onSeriesNodeClick);\n      series.removeEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n      series.removeEventListener(\"groupingChanged\", this.seriesGroupingChanged);\n      series.destroy();\n      this.seriesLayerManager.releaseGroup(series);\n      series.chart = void 0;\n    });\n  }\n  addSeriesListeners(series) {\n    if (this.hasEventListener(\"seriesNodeClick\")) {\n      series.addEventListener(\"nodeClick\", this.onSeriesNodeClick);\n    }\n    if (this.hasEventListener(\"seriesNodeDoubleClick\")) {\n      series.addEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n    }\n    series.addEventListener(\"groupingChanged\", this.seriesGroupingChanged);\n  }\n  updateAllSeriesListeners() {\n    this.series.forEach((series) => {\n      series.removeEventListener(\"nodeClick\", this.onSeriesNodeClick);\n      series.removeEventListener(\"nodeDoubleClick\", this.onSeriesNodeDoubleClick);\n      this.addSeriesListeners(series);\n    });\n  }\n  assignSeriesToAxes() {\n    this.axes.forEach((axis) => {\n      axis.boundSeries = this.series.filter((s) => {\n        const seriesAxis = s.axes[axis.direction];\n        return seriesAxis === axis;\n      });\n    });\n  }\n  assignAxesToSeries() {\n    const directionToAxesMap = groupBy(this.axes, (axis) => axis.direction);\n    this.series.forEach((series) => {\n      series.directions.forEach((direction) => {\n        const directionAxes = directionToAxesMap[direction];\n        if (!directionAxes) {\n          Logger.warnOnce(\n            `no available axis for direction [${direction}]; check series and axes configuration.`\n          );\n          return;\n        }\n        const seriesKeys = series.getKeys(direction);\n        const newAxis = directionAxes.find(\n          (axis) => !axis.keys.length || seriesKeys.some((key) => axis.keys.includes(key))\n        );\n        if (!newAxis) {\n          Logger.warnOnce(\n            `no matching axis for direction [${direction}] and keys [${seriesKeys}]; check series and axes configuration.`\n          );\n          return;\n        }\n        series.axes[direction] = newAxis;\n      });\n    });\n  }\n  rawResize({ width, height }) {\n    var _a;\n    if (!this.autoSize)\n      return;\n    width = Math.floor(width);\n    height = Math.floor(height);\n    if (width === 0 && height === 0)\n      return;\n    const [autoWidth = 0, authHeight = 0] = (_a = this._lastAutoSize) != null ? _a : [];\n    if (autoWidth === width && authHeight === height)\n      return;\n    this._lastAutoSize = [width, height];\n    this.resize(void 0, void 0, \"SizeMonitor\");\n  }\n  resize(width, height, source) {\n    var _a, _b, _c, _d;\n    const { scene, animationManager } = this.ctx;\n    width != null ? width : width = (_b = this.width) != null ? _b : this.autoSize ? (_a = this._lastAutoSize) == null ? void 0 : _a[0] : scene.canvas.width;\n    height != null ? height : height = (_d = this.height) != null ? _d : this.autoSize ? (_c = this._lastAutoSize) == null ? void 0 : _c[1] : scene.canvas.height;\n    this.debug(`Chart.resize() from ${source}`, { width, height, stack: new Error().stack });\n    if (!width || !height || !isFiniteNumber(width) || !isFiniteNumber(height))\n      return;\n    if (scene.resize(width, height)) {\n      this.resetPointer();\n      animationManager.reset();\n      let skipAnimations = true;\n      if (this.autoSize && this._firstAutoSize) {\n        skipAnimations = false;\n        this._firstAutoSize = false;\n      }\n      this.update(3 /* PERFORM_LAYOUT */, { forceNodeDataRefresh: true, skipAnimations });\n    }\n  }\n  updateData() {\n    return __async(this, null, function* () {\n      this.series.forEach((s) => s.setChartData(this.data));\n      const modulePromises = this.modulesManager.mapModules((m) => {\n        var _a;\n        return (_a = m.updateData) == null ? void 0 : _a.call(m, { data: this.data });\n      });\n      yield Promise.all(modulePromises);\n    });\n  }\n  processData() {\n    return __async(this, null, function* () {\n      if (this.series.some((s) => s.canHaveAxes)) {\n        this.assignAxesToSeries();\n        const syncModule = this.modulesManager.getModule(\"sync\");\n        if (syncModule == null ? void 0 : syncModule.enabled) {\n          syncModule.syncAxes(this._skipSync);\n        } else {\n          this.assignSeriesToAxes();\n        }\n      }\n      const dataController = new DataController(this.mode);\n      const seriesPromises = this.series.map((s) => s.processData(dataController));\n      const modulePromises = this.modulesManager.mapModules((m) => {\n        var _a;\n        return (_a = m.processData) == null ? void 0 : _a.call(m, { dataController });\n      });\n      dataController.execute();\n      yield Promise.all([...seriesPromises, ...modulePromises]);\n      for (const { legendType, legend } of this.modulesManager.legends()) {\n        legend.data = this.getLegendData(legendType, this.mode !== \"integrated\");\n      }\n      this.dataProcessListeners.forEach((resolve) => resolve());\n      this.dataProcessListeners.clear();\n    });\n  }\n  placeLabels() {\n    const visibleSeries = [];\n    const data = [];\n    for (const series of this.series) {\n      if (!series.visible)\n        continue;\n      const labelData = series.getLabelData();\n      if (isPointLabelDatum(labelData == null ? void 0 : labelData[0])) {\n        data.push(labelData);\n        visibleSeries.push(series);\n      }\n    }\n    const { seriesRect } = this;\n    const { top, right, bottom, left } = this.seriesArea.padding;\n    const labels = seriesRect && data.length > 0 ? placeLabels(data, {\n      x: -left,\n      y: -top,\n      width: seriesRect.width + left + right,\n      height: seriesRect.height + top + bottom\n    }) : [];\n    return new Map(labels.map((l, i) => [visibleSeries[i], l]));\n  }\n  getLegendData(legendType, warnConflicts) {\n    var _a, _b, _c;\n    const legendData = this.series.filter((s) => s.properties.showInLegend).flatMap((s) => s.getLegendData(legendType));\n    const isCategoryLegendData = (data) => data.every((d) => d.legendType === \"category\");\n    if (warnConflicts && isCategoryLegendData(legendData)) {\n      const seriesMarkerFills = {};\n      const seriesTypeMap = new Map(this.series.map((s) => [s.id, s.type]));\n      for (const { seriesId, marker, label } of legendData) {\n        if (marker.fill == null)\n          continue;\n        const seriesType = seriesTypeMap.get(seriesId);\n        const markerFill = (_a = seriesMarkerFills[seriesType]) != null ? _a : seriesMarkerFills[seriesType] = {};\n        (_c = markerFill[_b = label.text]) != null ? _c : markerFill[_b] = marker.fill;\n        if (markerFill[label.text] !== marker.fill) {\n          Logger.warnOnce(\n            `legend item '${label.text}' has multiple fill colors, this may cause unexpected behaviour.`\n          );\n        }\n      }\n    }\n    return legendData;\n  }\n  processLayout() {\n    return __async(this, null, function* () {\n      var _a;\n      const oldRect = this.animationRect;\n      yield this.performLayout();\n      if (oldRect && !((_a = this.animationRect) == null ? void 0 : _a.equals(oldRect))) {\n        this.ctx.animationManager.skipCurrentBatch();\n      }\n      this.debug(\"Chart.performUpdate() - seriesRect\", this.seriesRect);\n    });\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const { width, height } = this.ctx.scene;\n      let ctx = { shrinkRect: new BBox(0, 0, width, height) };\n      ctx = this.ctx.layoutService.dispatchPerformLayout(\"start-layout\", ctx);\n      ctx = this.ctx.layoutService.dispatchPerformLayout(\"before-series\", ctx);\n      const modulePromises = this.modulesManager.mapModules((m) => __async(this, null, function* () {\n        if (m.performLayout != null) {\n          ctx = yield m.performLayout(ctx);\n        }\n      }));\n      yield Promise.all(modulePromises);\n      return ctx.shrinkRect;\n    });\n  }\n  // x/y are local canvas coordinates in CSS pixels, not actual pixels\n  pickSeriesNode(point, exactMatchOnly, maxDistance) {\n    var _a, _b;\n    const start = performance.now();\n    const pickModes = exactMatchOnly ? [0 /* EXACT_SHAPE_MATCH */] : void 0;\n    const reverseSeries = [...this.series].reverse();\n    let result;\n    for (const series of reverseSeries) {\n      if (!series.visible || !series.rootGroup.visible) {\n        continue;\n      }\n      const { match, distance: distance2 } = (_a = series.pickNode(point, pickModes)) != null ? _a : {};\n      if (!match || distance2 == null) {\n        continue;\n      }\n      if ((!result || result.distance > distance2) && distance2 <= (maxDistance != null ? maxDistance : Infinity)) {\n        result = { series, distance: distance2, datum: match };\n      }\n      if (distance2 === 0) {\n        break;\n      }\n    }\n    this.extraDebugStats[\"pickSeriesNode\"] = Math.round(\n      ((_b = this.extraDebugStats[\"pickSeriesNode\"]) != null ? _b : 0) + (performance.now() - start)\n    );\n    return result;\n  }\n  onMouseMove(event) {\n    this.lastInteractionEvent = event;\n    this.pointerScheduler.schedule();\n    this.extraDebugStats[\"mouseX\"] = event.offsetX;\n    this.extraDebugStats[\"mouseY\"] = event.offsetY;\n    this.update(6 /* SCENE_RENDER */);\n  }\n  onLeave(event) {\n    if (!this.tooltip.pointerLeftOntoTooltip(event)) {\n      this.resetPointer();\n      this.update(6 /* SCENE_RENDER */);\n      this.ctx.cursorManager.updateCursor(\"chart\");\n    }\n  }\n  onBrowserFocus(event) {\n    if (event.delta > 0) {\n      this.focus.datum = void 0;\n      this.focus.series = void 0;\n      this.focus.datumIndex = 0;\n      this.focus.seriesIndex = 0;\n    } else {\n      this.focus.datum = void 0;\n      this.focus.series = void 0;\n      this.focus.datumIndex = Infinity;\n      this.focus.seriesIndex = Infinity;\n    }\n  }\n  onAnimationStart() {\n    if (this.focus.hasFocus) {\n      this.onBlur();\n    }\n  }\n  onBlur() {\n    this.ctx.regionManager.updateFocusIndicatorRect(void 0);\n    this.resetPointer();\n    this.focus.hasFocus = false;\n  }\n  onTab(event) {\n    this.handleFocus();\n    event.consume();\n    this.focus.hasFocus = true;\n  }\n  onNavVert(event) {\n    this.focus.seriesIndex += event.delta;\n    this.handleFocus();\n    event.consume();\n  }\n  onNavHori(event) {\n    this.focus.datumIndex += event.delta;\n    this.handleFocus(event.delta);\n    event.consume();\n  }\n  onSubmit(event) {\n    const { series, datum } = this.focus;\n    const sourceEvent = event.sourceEvent.sourceEvent;\n    if (series !== void 0 && datum !== void 0) {\n      series.fireNodeClickEvent(sourceEvent, datum);\n    } else {\n      this.fireEvent({\n        type: \"click\",\n        event: sourceEvent\n      });\n    }\n  }\n  onContextMenu(event) {\n    this.ctx.tooltipManager.removeTooltip(this.id);\n    const { Default: Default2, ContextMenu } = InteractionState;\n    if (this.ctx.interactionManager.getState() & (Default2 | ContextMenu)) {\n      this.checkSeriesNodeRange(event, () => {\n        this.ctx.highlightManager.updateHighlight(this.id);\n      });\n    }\n  }\n  handleFocus(datumIndexDelta) {\n    this.focus.hasFocus = true;\n    const overlayFocus = this.overlays.getFocusInfo();\n    if (overlayFocus == null) {\n      this.handleSeriesFocus(datumIndexDelta != null ? datumIndexDelta : 0);\n    } else {\n      this.ctx.regionManager.updateFocusIndicatorRect(overlayFocus.rect);\n      this.ctx.ariaAnnouncementService.announceValue(overlayFocus.text);\n    }\n  }\n  handleSeriesFocus(datumIndexDelta) {\n    const { series, seriesRect, focus } = this;\n    const visibleSeries = series.filter((s) => s.visible);\n    if (visibleSeries.length === 0)\n      return;\n    focus.seriesIndex = clamp(0, focus.seriesIndex, visibleSeries.length - 1);\n    focus.series = visibleSeries[focus.seriesIndex];\n    const pick = focus.series.pickFocus({ datumIndex: focus.datumIndex, datumIndexDelta, seriesRect });\n    if (pick === void 0)\n      return;\n    const { datum, datumIndex } = pick;\n    focus.datumIndex = datumIndex;\n    focus.datum = datum;\n    const keyboardEvent = makeKeyboardPointerEvent(this.ctx.regionManager, pick);\n    if (keyboardEvent !== void 0) {\n      this.lastInteractionEvent = keyboardEvent;\n      const html = focus.series.getTooltipHtml(datum);\n      const meta = TooltipManager.makeTooltipMeta(this.lastInteractionEvent, datum);\n      this.ctx.highlightManager.updateHighlight(this.id, datum);\n      this.ctx.tooltipManager.updateTooltip(this.id, meta, html);\n      this.ctx.ariaAnnouncementService.announceValue(html.ariaLabel);\n    }\n  }\n  static isHoverEvent(event) {\n    return event !== void 0 && event.type === \"hover\";\n  }\n  handlePointer(event, redisplay) {\n    if (this.ctx.interactionManager.getState() !== 16 /* Default */ || !_Chart.isHoverEvent(event)) {\n      return;\n    }\n    const { lastPick, hoverRect } = this;\n    const { offsetX, offsetY } = event;\n    const disablePointer = (highlightOnly = false) => {\n      if (lastPick) {\n        this.resetPointer(highlightOnly);\n      }\n    };\n    if (redisplay ? this.ctx.animationManager.isActive() : !(hoverRect == null ? void 0 : hoverRect.containsPoint(offsetX, offsetY))) {\n      disablePointer();\n      return;\n    }\n    this.handlePointerTooltip(event, disablePointer);\n    this.handlePointerNode(event);\n  }\n  handlePointerTooltip(event, disablePointer) {\n    const { lastPick, tooltip } = this;\n    const { range: range3 } = tooltip;\n    const { offsetX, offsetY } = event;\n    let pixelRange;\n    if (isFiniteNumber(range3)) {\n      pixelRange = range3;\n    }\n    const pick = this.pickSeriesNode({ x: offsetX, y: offsetY }, range3 === \"exact\", pixelRange);\n    if (!pick) {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n      if (this.highlight.range === \"tooltip\") {\n        disablePointer(true);\n      }\n      return;\n    }\n    const isNewDatum = this.highlight.range === \"node\" || !lastPick || lastPick !== pick.datum;\n    let html;\n    if (isNewDatum) {\n      html = pick.series.getTooltipHtml(pick.datum);\n      if (this.highlight.range === \"tooltip\") {\n        this.ctx.highlightManager.updateHighlight(this.id, pick.datum);\n      }\n    }\n    const isPixelRange = pixelRange != null;\n    const tooltipEnabled = this.tooltip.enabled && pick.series.tooltipEnabled;\n    const exactlyMatched = range3 === \"exact\" && pick.distance === 0;\n    const rangeMatched = range3 === \"nearest\" || isPixelRange || exactlyMatched;\n    const shouldUpdateTooltip = tooltipEnabled && rangeMatched && (!isNewDatum || html !== void 0);\n    const meta = TooltipManager.makeTooltipMeta(event, pick.datum);\n    if (shouldUpdateTooltip) {\n      this.ctx.tooltipManager.updateTooltip(this.id, meta, html);\n    }\n  }\n  handlePointerNode(event) {\n    const found = this.checkSeriesNodeRange(event, (series, datum) => {\n      if (series.hasEventListener(\"nodeClick\") || series.hasEventListener(\"nodeDoubleClick\")) {\n        this.ctx.cursorManager.updateCursor(\"chart\", \"pointer\");\n      }\n      if (this.highlight.range === \"node\") {\n        this.ctx.highlightManager.updateHighlight(this.id, datum);\n      }\n    });\n    if (!found) {\n      this.ctx.cursorManager.updateCursor(\"chart\");\n      if (this.highlight.range === \"node\") {\n        this.ctx.highlightManager.updateHighlight(this.id);\n      }\n    }\n  }\n  onClick(event) {\n    if (this.checkSeriesNodeClick(event)) {\n      this.update(4 /* SERIES_UPDATE */);\n      return;\n    }\n    this.fireEvent({\n      type: \"click\",\n      event: event.sourceEvent\n    });\n  }\n  onDoubleClick(event) {\n    if (this.checkSeriesNodeDoubleClick(event)) {\n      this.update(4 /* SERIES_UPDATE */);\n      return;\n    }\n    this.fireEvent({\n      type: \"doubleClick\",\n      event: event.sourceEvent\n    });\n  }\n  checkSeriesNodeClick(event) {\n    return this.checkSeriesNodeRange(event, (series, datum) => series.fireNodeClickEvent(event.sourceEvent, datum));\n  }\n  checkSeriesNodeDoubleClick(event) {\n    return this.checkSeriesNodeRange(\n      event,\n      (series, datum) => series.fireNodeDoubleClickEvent(event.sourceEvent, datum)\n    );\n  }\n  checkSeriesNodeRange(event, callback) {\n    var _a;\n    const nearestNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, false);\n    const datum = nearestNode == null ? void 0 : nearestNode.datum;\n    const nodeClickRange = datum == null ? void 0 : datum.series.properties.nodeClickRange;\n    let pixelRange;\n    if (isFiniteNumber(nodeClickRange)) {\n      pixelRange = nodeClickRange;\n    }\n    let pickedNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, true);\n    if (pickedNode) {\n      this.ctx.highlightManager.updatePicked(this.id, pickedNode.datum);\n    } else {\n      this.ctx.highlightManager.updatePicked(this.id);\n    }\n    if (datum && nodeClickRange === \"nearest\") {\n      callback(datum.series, datum);\n      return true;\n    }\n    if (nodeClickRange !== \"exact\") {\n      pickedNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, false, pixelRange);\n    }\n    if (!pickedNode)\n      return false;\n    const isPixelRange = pixelRange != null;\n    const exactlyMatched = nodeClickRange === \"exact\" && pickedNode.distance === 0;\n    if (isPixelRange || exactlyMatched) {\n      const allMatch = event.pointerHistory === void 0 || ((_a = event.pointerHistory) == null ? void 0 : _a.every((pastEvent) => {\n        const historyPoint = { x: pastEvent.offsetX, y: pastEvent.offsetY };\n        const historyNode = this.pickSeriesNode(historyPoint, false, pixelRange);\n        return (historyNode == null ? void 0 : historyNode.datum) === (pickedNode == null ? void 0 : pickedNode.datum);\n      }));\n      if (allMatch) {\n        callback(pickedNode.series, pickedNode.datum);\n        return true;\n      }\n    }\n    return false;\n  }\n  changeHighlightDatum(event) {\n    var _a, _b;\n    const seriesToUpdate = /* @__PURE__ */ new Set();\n    const { series: newSeries = void 0, datum: newDatum } = (_a = event.currentHighlight) != null ? _a : {};\n    const { series: lastSeries = void 0, datum: lastDatum } = (_b = event.previousHighlight) != null ? _b : {};\n    if (lastSeries) {\n      seriesToUpdate.add(lastSeries);\n    }\n    if (newSeries) {\n      seriesToUpdate.add(newSeries);\n    }\n    if ((lastSeries == null ? void 0 : lastSeries.properties.cursor) && lastDatum) {\n      this.ctx.cursorManager.updateCursor(lastSeries.id);\n    }\n    if ((newSeries == null ? void 0 : newSeries.properties.cursor) && newDatum) {\n      this.ctx.cursorManager.updateCursor(newSeries.id, newSeries.properties.cursor);\n    }\n    this.lastPick = event.currentHighlight;\n    const updateAll = newSeries == null || lastSeries == null;\n    if (updateAll) {\n      this.update(4 /* SERIES_UPDATE */);\n    } else {\n      this.update(4 /* SERIES_UPDATE */, { seriesToUpdate });\n    }\n  }\n  waitForUpdate(timeoutMs = 1e4, failOnTimeout = false) {\n    return __async(this, null, function* () {\n      const start = performance.now();\n      if (this._pendingFactoryUpdatesCount > 0) {\n        yield this.updateMutex.waitForClearAcquireQueue();\n      }\n      while (this.performUpdateType !== 7 /* NONE */) {\n        if (performance.now() - start > timeoutMs) {\n          const message = `Chart.waitForUpdate() timeout of ${timeoutMs} reached - first chart update taking too long.`;\n          if (failOnTimeout) {\n            throw new Error(message);\n          } else {\n            Logger.warnOnce(message);\n          }\n        }\n        yield sleep(50);\n      }\n      yield this.updateMutex.waitForClearAcquireQueue();\n    });\n  }\n  waitForDataProcess(timeout) {\n    return new Promise((resolve) => {\n      this.dataProcessListeners.add(resolve);\n      if (isNumber(timeout)) {\n        setTimeout(() => {\n          if (this.dataProcessListeners.has(resolve)) {\n            this.dataProcessListeners.delete(resolve);\n            resolve();\n          }\n        }, timeout);\n      }\n    });\n  }\n  getMinRects() {\n    const { width, height } = this.ctx.scene;\n    const minRects = this.series.map((series) => series.getMinRects(width, height)).filter(isDefined);\n    if (minRects.length === 0)\n      return;\n    let maxWidth = 0;\n    let maxHeight = 0;\n    let maxVisibleWidth = 0;\n    let maxVisibleHeight = 0;\n    for (const { minRect: minRect2, minVisibleRect: minVisibleRect2 } of minRects) {\n      maxWidth = Math.max(maxWidth, minRect2.width);\n      maxHeight = Math.max(maxHeight, minRect2.height);\n      maxVisibleWidth = Math.max(maxVisibleWidth, minVisibleRect2.width);\n      maxVisibleHeight = Math.max(maxVisibleHeight, minVisibleRect2.height);\n    }\n    const minRect = new BBox(0, 0, maxWidth, maxHeight);\n    let minVisibleRect = minRect.clone();\n    if (maxVisibleWidth > 0 && maxVisibleHeight > 0) {\n      minVisibleRect = new BBox(0, 0, maxVisibleWidth, maxVisibleHeight);\n    }\n    return { minRect, minVisibleRect };\n  }\n  filterMiniChartSeries(series) {\n    return series == null ? void 0 : series.filter((s) => s.showInMiniChart !== false);\n  }\n  applyOptions(chartOptions) {\n    var _a, _b, _c, _d, _e;\n    const oldOpts = this.processedOptions;\n    const deltaOptions = chartOptions.diffOptions(oldOpts);\n    const userOptions = chartOptions.userOptions;\n    if (deltaOptions == null)\n      return;\n    debug(\"AgChartV2.updateDelta() - applying delta\", deltaOptions);\n    const completeOptions = mergeDefaults(deltaOptions, oldOpts);\n    const modulesChanged = this.applyModules(completeOptions);\n    const skip = [\n      \"type\",\n      \"data\",\n      \"series\",\n      \"listeners\",\n      \"theme\",\n      \"legend.listeners\",\n      \"navigator.miniChart.series\",\n      \"navigator.miniChart.label\",\n      \"axes\",\n      \"topology\"\n    ];\n    if (deltaOptions.listeners) {\n      this.registerListeners(this, deltaOptions.listeners);\n    }\n    jsonApply(this, deltaOptions, { skip });\n    let forceNodeDataRefresh = false;\n    let seriesStatus = \"no-op\";\n    if ((_a = deltaOptions.series) == null ? void 0 : _a.length) {\n      seriesStatus = this.applySeries(this, deltaOptions.series, oldOpts == null ? void 0 : oldOpts.series);\n      forceNodeDataRefresh = true;\n    }\n    if (seriesStatus === \"replaced\") {\n      this.resetAnimations();\n    }\n    if (this.applyAxes(this, completeOptions, oldOpts, seriesStatus)) {\n      forceNodeDataRefresh = true;\n    }\n    if (deltaOptions.data) {\n      this.data = deltaOptions.data;\n    }\n    if (((_b = deltaOptions.legend) == null ? void 0 : _b.listeners) && this.modulesManager.isEnabled(\"legend\")) {\n      Object.assign(this.legend.listeners, deltaOptions.legend.listeners);\n    }\n    if (deltaOptions.listeners) {\n      this.updateAllSeriesListeners();\n    }\n    this.chartOptions = chartOptions;\n    this.processedOptions = completeOptions;\n    this.userOptions = mergeDefaults(userOptions, this.userOptions);\n    const navigatorModule = this.modulesManager.getModule(\"navigator\");\n    const zoomModule = this.modulesManager.getModule(\"zoom\");\n    if (!(navigatorModule == null ? void 0 : navigatorModule.enabled) && !(zoomModule == null ? void 0 : zoomModule.enabled)) {\n      this.ctx.zoomManager.updateZoom(\"chart\");\n    }\n    const miniChart = navigatorModule == null ? void 0 : navigatorModule.miniChart;\n    const miniChartSeries = (_e = (_d = (_c = completeOptions.navigator) == null ? void 0 : _c.miniChart) == null ? void 0 : _d.series) != null ? _e : completeOptions.series;\n    if ((miniChart == null ? void 0 : miniChart.enabled) === true && miniChartSeries != null) {\n      this.applyMiniChartOptions(miniChart, miniChartSeries, completeOptions, oldOpts);\n    } else if ((miniChart == null ? void 0 : miniChart.enabled) === false) {\n      miniChart.series = [];\n      miniChart.axes = [];\n    }\n    injectStyle(styles_default, \"chart\");\n    this.ctx.annotationManager.setAnnotationStyles(chartOptions.annotationThemes);\n    forceNodeDataRefresh || (forceNodeDataRefresh = this.shouldForceNodeDataRefresh(deltaOptions, seriesStatus));\n    const majorChange = forceNodeDataRefresh || modulesChanged;\n    const updateType = majorChange ? 0 /* FULL */ : 3 /* PERFORM_LAYOUT */;\n    this.maybeResetAnimations(seriesStatus);\n    debug(\"AgChartV2.applyChartOptions() - update type\", ChartUpdateType[updateType], {\n      seriesStatus,\n      forceNodeDataRefresh\n    });\n    this.update(updateType, { forceNodeDataRefresh, newAnimationBatch: true });\n  }\n  maybeResetAnimations(seriesStatus) {\n    if (this.mode !== \"standalone\")\n      return;\n    switch (seriesStatus) {\n      case \"series-grouping-change\":\n      case \"replaced\":\n        this.resetAnimations();\n        break;\n      default:\n    }\n  }\n  shouldForceNodeDataRefresh(deltaOptions, seriesStatus) {\n    const seriesDataUpdate = !!deltaOptions.data || seriesStatus === \"data-change\" || seriesStatus === \"replaced\";\n    const legendKeys = legendRegistry.getKeys();\n    const optionsHaveLegend = Object.values(legendKeys).some(\n      (legendKey) => deltaOptions[legendKey] != null\n    );\n    const otherRefreshUpdate = deltaOptions.title != null && deltaOptions.subtitle != null;\n    return seriesDataUpdate || optionsHaveLegend || otherRefreshUpdate;\n  }\n  applyMiniChartOptions(miniChart, miniChartSeries, completeOptions, oldOpts) {\n    var _a, _b, _c, _d, _e;\n    const oldSeries = (_c = (_b = (_a = oldOpts == null ? void 0 : oldOpts.navigator) == null ? void 0 : _a.miniChart) == null ? void 0 : _b.series) != null ? _c : oldOpts == null ? void 0 : oldOpts.series;\n    const miniChartSeriesStatus = this.applySeries(\n      miniChart,\n      this.filterMiniChartSeries(miniChartSeries),\n      this.filterMiniChartSeries(oldSeries)\n    );\n    this.applyAxes(miniChart, completeOptions, oldOpts, miniChartSeriesStatus, [\n      \"axes[].tick\",\n      \"axes[].thickness\",\n      \"axes[].title\",\n      \"axes[].crosshair\",\n      \"axes[].gridLine\",\n      \"axes[].label\"\n    ]);\n    const axes = miniChart.axes;\n    const horizontalAxis = axes.find((axis) => axis.direction === \"x\" /* X */);\n    for (const axis of axes) {\n      axis.gridLine.enabled = false;\n      axis.label.enabled = axis === horizontalAxis;\n      axis.tick.enabled = false;\n      axis.interactionEnabled = false;\n    }\n    if (horizontalAxis != null) {\n      const miniChartOpts = (_d = completeOptions.navigator) == null ? void 0 : _d.miniChart;\n      const labelOptions = miniChartOpts == null ? void 0 : miniChartOpts.label;\n      const intervalOptions = (_e = miniChartOpts == null ? void 0 : miniChartOpts.label) == null ? void 0 : _e.interval;\n      horizontalAxis.line.enabled = false;\n      horizontalAxis.label.set(\n        without(labelOptions, [\"interval\", \"rotation\", \"minSpacing\", \"autoRotate\", \"autoRotateAngle\"])\n      );\n      horizontalAxis.tick.set(\n        without(intervalOptions, [\"enabled\", \"width\", \"size\", \"color\", \"interval\", \"step\"])\n      );\n      const step = intervalOptions == null ? void 0 : intervalOptions.step;\n      if (step != null) {\n        horizontalAxis.tick.interval = step;\n      }\n    }\n  }\n  applyModules(options) {\n    var _a;\n    const { type: chartType2 } = this.constructor;\n    let modulesChanged = false;\n    for (const module of moduleRegistry.byType(\"root\", \"legend\")) {\n      const isConfigured = options[module.optionsKey] != null;\n      const shouldBeEnabled = isConfigured && module.chartTypes.includes(chartType2);\n      if (shouldBeEnabled === this.modulesManager.isEnabled(module))\n        continue;\n      if (shouldBeEnabled) {\n        this.modulesManager.addModule(module, (m) => new m.instanceConstructor(this.getModuleContext()));\n        if (module.type === \"legend\") {\n          (_a = this.modulesManager.getModule(module)) == null ? void 0 : _a.attachLegend(this.ctx.scene);\n        }\n        this[module.optionsKey] = this.modulesManager.getModule(module);\n      } else {\n        this.modulesManager.removeModule(module);\n        delete this[module.optionsKey];\n      }\n      modulesChanged = true;\n    }\n    return modulesChanged;\n  }\n  applySeries(chart, optSeries, oldOptSeries) {\n    var _a;\n    if (!optSeries) {\n      return \"no-change\";\n    }\n    const matchResult = matchSeriesOptions(chart.series, optSeries, oldOptSeries);\n    if (matchResult.status === \"no-overlap\") {\n      debug(\n        `AgChartV2.applySeries() - creating new series instances, status: ${matchResult.status}`,\n        matchResult\n      );\n      chart.series = optSeries.map((opts) => this.createSeries(opts));\n      return \"replaced\";\n    }\n    debug(`AgChartV2.applySeries() - matchResult`, matchResult);\n    const seriesInstances = [];\n    let dataChanged = false;\n    let groupingChanged = false;\n    let isUpdated = false;\n    for (const change of matchResult.changes) {\n      groupingChanged || (groupingChanged = change.status === \"series-grouping\");\n      dataChanged || (dataChanged = ((_a = change.diff) == null ? void 0 : _a.data) != null);\n      isUpdated || (isUpdated = change.status !== \"no-op\");\n      switch (change.status) {\n        case \"add\":\n          const newSeries = this.createSeries(change.opts);\n          seriesInstances.push(newSeries);\n          debug(`AgChartV2.applySeries() - created new series`, newSeries);\n          break;\n        case \"remove\":\n          debug(`AgChartV2.applySeries() - removing series at previous idx ${change.idx}`, change.series);\n          break;\n        case \"no-op\":\n          seriesInstances.push(change.series);\n          debug(`AgChartV2.applySeries() - no change to series at previous idx ${change.idx}`, change.series);\n          break;\n        case \"series-grouping\":\n        case \"update\":\n        default:\n          const { series, diff: diff2, idx } = change;\n          debug(`AgChartV2.applySeries() - applying series diff previous idx ${idx}`, diff2, series);\n          this.applySeriesValues(series, diff2);\n          series.markNodeDataDirty();\n          seriesInstances.push(series);\n      }\n    }\n    for (let idx = 0; idx < seriesInstances.length; idx++) {\n      seriesInstances[idx]._declarationOrder = idx;\n    }\n    debug(`AgChartV2.applySeries() - final series instances`, seriesInstances);\n    chart.series = seriesInstances;\n    if (groupingChanged) {\n      return \"series-grouping-change\";\n    }\n    if (dataChanged) {\n      return \"data-change\";\n    }\n    return isUpdated ? \"updated\" : \"no-op\";\n  }\n  applyAxes(chart, options, oldOpts, seriesStatus, skip = []) {\n    if (!(\"axes\" in options) || !options.axes) {\n      return false;\n    }\n    skip = [\"axes[].type\", ...skip];\n    const { axes } = options;\n    const forceRecreate = seriesStatus === \"replaced\";\n    const matchingTypes = !forceRecreate && chart.axes.length === axes.length && chart.axes.every((a, i) => a.type === axes[i].type);\n    if (matchingTypes && isAgCartesianChartOptions(oldOpts)) {\n      chart.axes.forEach((axis, index) => {\n        var _a, _b;\n        const previousOpts = (_b = (_a = oldOpts.axes) == null ? void 0 : _a[index]) != null ? _b : {};\n        const axisDiff = jsonDiff(previousOpts, axes[index]);\n        debug(`AgChartV2.applyAxes() - applying axis diff idx ${index}`, axisDiff);\n        const path = `axes[${index}]`;\n        jsonApply(axis, axisDiff, __spreadProps(__spreadValues({}, JSON_APPLY_PLUGINS), { path, skip }));\n      });\n      return true;\n    }\n    debug(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${seriesStatus}`);\n    chart.axes = this.createAxis(axes, skip);\n    return true;\n  }\n  createSeries(seriesOptions) {\n    const seriesInstance = seriesRegistry.create(seriesOptions.type, this.getModuleContext());\n    this.applySeriesOptionModules(seriesInstance, seriesOptions);\n    this.applySeriesValues(seriesInstance, seriesOptions);\n    return seriesInstance;\n  }\n  applySeriesOptionModules(series, options) {\n    const moduleContext = series.createModuleContext();\n    const moduleMap = series.getModuleMap();\n    for (const module of moduleRegistry.byType(\"series-option\")) {\n      if (module.optionsKey in options && module.seriesTypes.includes(series.type)) {\n        moduleMap.addModule(module, (m) => new m.instanceConstructor(moduleContext));\n      }\n    }\n  }\n  applySeriesValues(target, options) {\n    const moduleMap = target.getModuleMap();\n    const _a = options, { type: _, data, listeners, seriesGrouping, showInMiniChart: __ } = _a, seriesOptions = __objRest(_a, [\"type\", \"data\", \"listeners\", \"seriesGrouping\", \"showInMiniChart\"]);\n    for (const moduleDef of EXPECTED_ENTERPRISE_MODULES) {\n      if (moduleDef.type !== \"series-option\")\n        continue;\n      if (moduleDef.optionsKey in seriesOptions) {\n        const module = moduleMap.getModule(moduleDef.optionsKey);\n        const moduleOptions = seriesOptions[moduleDef.optionsKey];\n        delete seriesOptions[moduleDef.optionsKey];\n        module.properties.set(moduleOptions);\n      }\n    }\n    target.properties.set(seriesOptions);\n    if (\"data\" in options) {\n      target.setOptionsData(data);\n    }\n    if (listeners) {\n      this.registerListeners(target, listeners);\n    }\n    if (\"seriesGrouping\" in options) {\n      if (seriesGrouping == null) {\n        target.seriesGrouping = void 0;\n      } else {\n        target.seriesGrouping = __spreadValues(__spreadValues({}, target.seriesGrouping), seriesGrouping);\n      }\n    }\n  }\n  createAxis(options, skip) {\n    const guesser = new AxisPositionGuesser();\n    const moduleContext = this.getModuleContext();\n    for (let index = 0; index < options.length; index++) {\n      const axisOptions = options[index];\n      const axis = axisRegistry.create(axisOptions.type, moduleContext);\n      this.applyAxisModules(axis, axisOptions);\n      jsonApply(axis, axisOptions, __spreadProps(__spreadValues({}, JSON_APPLY_PLUGINS), { path: `axes[${index}]`, skip }));\n      guesser.push(axis, axisOptions);\n    }\n    return guesser.guessInvalidPositions();\n  }\n  applyAxisModules(axis, options) {\n    const moduleContext = axis.createModuleContext();\n    const moduleMap = axis.getModuleMap();\n    for (const module of moduleRegistry.byType(\"axis-option\")) {\n      const shouldBeEnabled = options[module.optionsKey] != null;\n      if (shouldBeEnabled === moduleMap.isEnabled(module))\n        continue;\n      if (shouldBeEnabled) {\n        moduleMap.addModule(module, (m) => new m.instanceConstructor(moduleContext));\n        axis[module.optionsKey] = moduleMap.getModule(module);\n      } else {\n        moduleMap.removeModule(module);\n        delete axis[module.optionsKey];\n      }\n    }\n  }\n  registerListeners(source, listeners) {\n    source.clearEventListeners();\n    for (const [property, listener] of Object.entries(listeners)) {\n      if (isFunction(listener)) {\n        source.addEventListener(property, listener);\n      }\n    }\n  }\n};\n_Chart.chartsInstances = /* @__PURE__ */ new WeakMap();\n__decorateClass([\n  ActionOnSet({\n    newValue(value) {\n      if (this.destroyed)\n        return;\n      value.setAttribute(\"data-ag-charts\", \"\");\n      value.appendChild(this.element);\n      _Chart.chartsInstances.set(value, this);\n    },\n    oldValue(value) {\n      value.removeAttribute(\"data-ag-charts\");\n      value.removeChild(this.element);\n      _Chart.chartsInstances.delete(value);\n    }\n  })\n], _Chart.prototype, \"container\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(value) {\n      this.resize(value, void 0, \"width option\");\n    }\n  })\n], _Chart.prototype, \"width\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(value) {\n      this.resize(void 0, value, \"height option\");\n    }\n  })\n], _Chart.prototype, \"height\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(value) {\n      this.onAutoSizeChange(value);\n    }\n  }),\n  Validate(BOOLEAN)\n], _Chart.prototype, \"autoSize\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"padding\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"seriesArea\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"title\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"subtitle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"footnote\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], _Chart.prototype, \"keyboard\", 2);\n__decorateClass([\n  Validate(UNION([\"standalone\", \"integrated\"], \"a chart mode\"))\n], _Chart.prototype, \"mode\", 2);\n__decorateClass([\n  ActionOnSet({\n    changeValue(newValue, oldValue) {\n      this.onAxisChange(newValue, oldValue);\n    }\n  })\n], _Chart.prototype, \"axes\", 2);\n__decorateClass([\n  ActionOnSet({\n    changeValue(newValue, oldValue) {\n      this.onSeriesChange(newValue, oldValue);\n    }\n  })\n], _Chart.prototype, \"series\", 2);\nvar Chart = _Chart;\n\n// packages/ag-charts-community/src/scene/polyRoots.ts\nfunction linearRoot(a, b) {\n  const t = -b / a;\n  return a !== 0 && t >= 0 && t <= 1 ? [t] : [];\n}\nfunction quadraticRoots(a, b, c) {\n  if (a === 0) {\n    return linearRoot(b, c);\n  }\n  const D = b * b - 4 * a * c;\n  const roots = [];\n  if (D === 0) {\n    const t = -b / (2 * a);\n    if (t >= 0 && t <= 1) {\n      roots.push(t);\n    }\n  } else if (D > 0) {\n    const rD = Math.sqrt(D);\n    const t1 = (-b - rD) / (2 * a);\n    const t2 = (-b + rD) / (2 * a);\n    if (t1 >= 0 && t1 <= 1) {\n      roots.push(t1);\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      roots.push(t2);\n    }\n  }\n  return roots;\n}\nfunction cubicRoots(a, b, c, d) {\n  if (a === 0) {\n    return quadraticRoots(b, c, d);\n  }\n  const A = b / a;\n  const B = c / a;\n  const C = d / a;\n  const Q = (3 * B - A * A) / 9;\n  const R = (9 * A * B - 27 * C - 2 * A * A * A) / 54;\n  const D = Q * Q * Q + R * R;\n  const third = 1 / 3;\n  const roots = [];\n  if (D >= 0) {\n    const rD = Math.sqrt(D);\n    const S = Math.sign(R + rD) * Math.pow(Math.abs(R + rD), third);\n    const T = Math.sign(R - rD) * Math.pow(Math.abs(R - rD), third);\n    const Im = Math.abs(Math.sqrt(3) * (S - T) / 2);\n    const t = -third * A + (S + T);\n    if (t >= 0 && t <= 1) {\n      roots.push(t);\n    }\n    if (Im === 0) {\n      const t2 = -third * A - (S + T) / 2;\n      if (t2 >= 0 && t2 <= 1) {\n        roots.push(t2);\n      }\n    }\n  } else {\n    const theta = Math.acos(R / Math.sqrt(-Q * Q * Q));\n    const thirdA = third * A;\n    const twoSqrtQ = 2 * Math.sqrt(-Q);\n    const t1 = twoSqrtQ * Math.cos(third * theta) - thirdA;\n    const t2 = twoSqrtQ * Math.cos(third * (theta + 2 * Math.PI)) - thirdA;\n    const t3 = twoSqrtQ * Math.cos(third * (theta + 4 * Math.PI)) - thirdA;\n    if (t1 >= 0 && t1 <= 1) {\n      roots.push(t1);\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      roots.push(t2);\n    }\n    if (t3 >= 0 && t3 <= 1) {\n      roots.push(t3);\n    }\n  }\n  return roots;\n}\n\n// packages/ag-charts-community/src/scene/intersection.ts\nfunction segmentIntersection(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\n  const d = (ax2 - ax1) * (by2 - by1) - (ay2 - ay1) * (bx2 - bx1);\n  if (d === 0) {\n    return 0;\n  }\n  const ua = ((bx2 - bx1) * (ay1 - by1) - (ax1 - bx1) * (by2 - by1)) / d;\n  const ub = ((ax2 - ax1) * (ay1 - by1) - (ay2 - ay1) * (ax1 - bx1)) / d;\n  if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n    return 1;\n  }\n  return 0;\n}\nfunction cubicSegmentIntersections(px1, py1, px2, py2, px3, py3, px4, py4, x1, y1, x2, y2) {\n  let intersections = 0;\n  const A = y1 - y2;\n  const B = x2 - x1;\n  const C = x1 * (y2 - y1) - y1 * (x2 - x1);\n  const bx = bezierCoefficients(px1, px2, px3, px4);\n  const by = bezierCoefficients(py1, py2, py3, py4);\n  const a = A * bx[0] + B * by[0];\n  const b = A * bx[1] + B * by[1];\n  const c = A * bx[2] + B * by[2];\n  const d = A * bx[3] + B * by[3] + C;\n  const roots = cubicRoots(a, b, c, d);\n  for (const t of roots) {\n    const tt = t * t;\n    const ttt = t * tt;\n    const x = bx[0] * ttt + bx[1] * tt + bx[2] * t + bx[3];\n    const y = by[0] * ttt + by[1] * tt + by[2] * t + by[3];\n    let s;\n    if (x1 === x2) {\n      s = (y - y1) / (y2 - y1);\n    } else {\n      s = (x - x1) / (x2 - x1);\n    }\n    if (s >= 0 && s <= 1) {\n      intersections++;\n    }\n  }\n  return intersections;\n}\nfunction bezierCoefficients(P1, P2, P3, P4) {\n  return [\n    // Bzier expressed as matrix operations:\n    -P1 + 3 * P2 - 3 * P3 + P4,\n    //                 |-1  3 -3  1| |P1|\n    3 * P1 - 6 * P2 + 3 * P3,\n    //   [t^3 t^2 t 1] | 3 -6  3  0| |P2|\n    -3 * P1 + 3 * P2,\n    //                 |-3  3  0  0| |P3|\n    P1\n    //                 | 1  0  0  0| |P4|\n  ];\n}\nfunction arcIntersections(cx, cy, r, startAngle, endAngle, counterClockwise, x1, y1, x2, y2) {\n  if (isNaN(cx) || isNaN(cy)) {\n    return 0;\n  }\n  if (counterClockwise) {\n    [endAngle, startAngle] = [startAngle, endAngle];\n  }\n  const k = (y2 - y1) / (x2 - x1);\n  const y0 = y1 - k * x1;\n  const a = Math.pow(k, 2) + 1;\n  const b = 2 * (k * (y0 - cy) - cx);\n  const c = Math.pow(cx, 2) + Math.pow(y0 - cy, 2) - Math.pow(r, 2);\n  const d = Math.pow(b, 2) - 4 * a * c;\n  if (d < 0) {\n    return 0;\n  }\n  const i1x = (-b + Math.sqrt(d)) / 2 / a;\n  const i2x = (-b - Math.sqrt(d)) / 2 / a;\n  let intersections = 0;\n  [i1x, i2x].forEach((x) => {\n    const isXInsideLine = x >= Math.min(x1, x2) && x <= Math.max(x1, x2);\n    if (!isXInsideLine) {\n      return;\n    }\n    const y = k * x + y0;\n    const adjacent = x - cx;\n    const opposite = y - cy;\n    const angle = Math.atan2(opposite, adjacent);\n    if (isBetweenAngles(angle, startAngle, endAngle)) {\n      intersections++;\n    }\n  });\n  return intersections;\n}\n\n// packages/ag-charts-community/src/scene/extendedPath2D.ts\nvar ExtendedPath2D = class {\n  constructor() {\n    // The methods of this class will likely be called many times per animation frame,\n    // and any allocation can trigger a GC cycle during animation, so we attempt\n    // to minimize the number of allocations.\n    this.path2d = new Path2D();\n    this.previousCommands = [];\n    this.previousParams = [];\n    this.previousClosedPath = false;\n    this.commands = [];\n    this.params = [];\n    this.openedPath = false;\n    this.closedPath = false;\n  }\n  isDirty() {\n    return this.closedPath !== this.previousClosedPath || this.previousCommands.length !== this.commands.length || this.previousParams.length !== this.params.length || this.previousCommands.toString() !== this.commands.toString() || this.previousParams.toString() !== this.params.toString();\n  }\n  getPath2D() {\n    return this.path2d;\n  }\n  moveTo(x, y) {\n    this.openedPath = true;\n    this.path2d.moveTo(x, y);\n    this.commands.push(0 /* Move */);\n    this.params.push(x, y);\n  }\n  lineTo(x, y) {\n    if (this.openedPath) {\n      this.path2d.lineTo(x, y);\n      this.commands.push(1 /* Line */);\n      this.params.push(x, y);\n    } else {\n      this.moveTo(x, y);\n    }\n  }\n  rect(x, y, width, height) {\n    this.moveTo(x, y);\n    this.lineTo(x + width, y);\n    this.lineTo(x + width, y + height);\n    this.lineTo(x, y + height);\n    this.closePath();\n  }\n  roundRect(x, y, width, height, radii) {\n    radii = Math.min(radii, width / 2, height / 2);\n    this.moveTo(x, y + radii);\n    this.arc(x + radii, y + radii, radii, Math.PI, 1.5 * Math.PI);\n    this.lineTo(x + radii, y);\n    this.lineTo(x + width - radii, y);\n    this.arc(x + width - radii, y + radii, radii, 1.5 * Math.PI, 2 * Math.PI);\n    this.lineTo(x + width, y + radii);\n    this.lineTo(x + width, y + height - radii);\n    this.arc(x + width - radii, y + height - radii, radii, 0, Math.PI / 2);\n    this.lineTo(x + width - radii, y + height);\n    this.lineTo(x + radii, y + height);\n    this.arc(x + +radii, y + height - radii, radii, Math.PI / 2, Math.PI);\n    this.lineTo(x, y + height - radii);\n    this.closePath();\n  }\n  arc(x, y, r, sAngle, eAngle, counterClockwise) {\n    this.openedPath = true;\n    this.path2d.arc(x, y, r, sAngle, eAngle, counterClockwise);\n    this.commands.push(2 /* Arc */);\n    this.params.push(x, y, r, sAngle, eAngle, counterClockwise ? 1 : 0);\n  }\n  cubicCurveTo(cx1, cy1, cx2, cy2, x, y) {\n    if (!this.openedPath) {\n      this.moveTo(cx1, cy1);\n    }\n    this.path2d.bezierCurveTo(cx1, cy1, cx2, cy2, x, y);\n    this.commands.push(3 /* Curve */);\n    this.params.push(cx1, cy1, cx2, cy2, x, y);\n  }\n  closePath() {\n    if (this.openedPath) {\n      this.path2d.closePath();\n      this.commands.push(4 /* ClosePath */);\n      this.openedPath = false;\n      this.closedPath = true;\n    }\n  }\n  clear(trackChanges) {\n    if (trackChanges) {\n      this.previousCommands = this.commands;\n      this.previousParams = this.params;\n      this.previousClosedPath = this.closedPath;\n    }\n    this.path2d = new Path2D();\n    this.openedPath = false;\n    this.closedPath = false;\n    this.commands = [];\n    this.params = [];\n  }\n  isPointInPath(x, y) {\n    const commands = this.commands;\n    const params = this.params;\n    const cn = commands.length;\n    const ox = -1e4;\n    const oy = -1e4;\n    let sx = NaN;\n    let sy = NaN;\n    let px = 0;\n    let py = 0;\n    let intersectionCount = 0;\n    for (let ci = 0, pi = 0; ci < cn; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n          intersectionCount += segmentIntersection(sx, sy, px, py, ox, oy, x, y);\n          px = params[pi++];\n          sx = px;\n          py = params[pi++];\n          sy = py;\n          break;\n        case 1 /* Line */:\n          intersectionCount += segmentIntersection(px, py, params[pi++], params[pi++], ox, oy, x, y);\n          px = params[pi - 2];\n          py = params[pi - 1];\n          break;\n        case 3 /* Curve */:\n          intersectionCount += cubicSegmentIntersections(\n            px,\n            py,\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            params[pi++],\n            ox,\n            oy,\n            x,\n            y\n          );\n          px = params[pi - 2];\n          py = params[pi - 1];\n          break;\n        case 2 /* Arc */:\n          const cx = params[pi++];\n          const cy = params[pi++];\n          const r = params[pi++];\n          const startAngle = params[pi++];\n          const endAngle = params[pi++];\n          const counterClockwise = Boolean(params[pi++]);\n          intersectionCount += arcIntersections(\n            cx,\n            cy,\n            r,\n            startAngle,\n            endAngle,\n            counterClockwise,\n            ox,\n            oy,\n            x,\n            y\n          );\n          if (!isNaN(sx)) {\n            const startX = cx + Math.cos(startAngle) * r;\n            const startY = cy + Math.sin(startAngle) * r;\n            intersectionCount += segmentIntersection(px, py, startX, startY, ox, oy, x, y);\n          }\n          px = cx + Math.cos(endAngle) * r;\n          py = cy + Math.sin(endAngle) * r;\n          break;\n        case 4 /* ClosePath */:\n          intersectionCount += segmentIntersection(sx, sy, px, py, ox, oy, x, y);\n          break;\n      }\n    }\n    return intersectionCount % 2 === 1;\n  }\n  distanceSquared(x, y) {\n    let best = Infinity;\n    const commands = this.commands;\n    const params = this.params;\n    const cn = commands.length;\n    let sx = NaN;\n    let sy = NaN;\n    let px = 0;\n    let py = 0;\n    for (let ci = 0, pi = 0; ci < cn; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n          px = sx = params[pi++];\n          py = sy = params[pi++];\n          break;\n        case 1 /* Line */: {\n          const nx = params[pi++];\n          const ny = params[pi++];\n          best = lineDistanceSquared(x, y, px, py, nx, ny, best);\n          break;\n        }\n        case 3 /* Curve */:\n          Logger.error(\"Command.Curve distanceSquare not implemented\");\n          break;\n        case 2 /* Arc */: {\n          const cx = params[pi++];\n          const cy = params[pi++];\n          const r = params[pi++];\n          const startAngle = params[pi++];\n          const endAngle = params[pi++];\n          const startX = cx + Math.cos(startAngle) * r;\n          const startY = cy + Math.sin(startAngle) * r;\n          const counterClockwise = Boolean(params[pi++]);\n          best = lineDistanceSquared(x, y, px, py, startX, startY, best);\n          best = arcDistanceSquared(x, y, cx, cy, r, startAngle, endAngle, counterClockwise, best);\n          px = cx + Math.cos(endAngle) * r;\n          py = cy + Math.sin(endAngle) * r;\n          break;\n        }\n        case 4 /* ClosePath */:\n          best = lineDistanceSquared(x, y, px, py, sx, sy, best);\n          break;\n      }\n    }\n    return best;\n  }\n  getPoints() {\n    const { commands, params } = this;\n    const coords = [];\n    let pi = 0;\n    for (let ci = 0; ci < commands.length; ci++) {\n      switch (commands[ci]) {\n        case 0 /* Move */:\n        case 1 /* Line */:\n          coords.push({ x: params[pi++], y: params[pi++] });\n          break;\n        case 3 /* Curve */:\n          pi += 4;\n          coords.push({ x: params[pi++], y: params[pi++] });\n          break;\n        case 2 /* Arc */:\n          coords.push({ x: params[pi++], y: params[pi++] });\n          pi += 4;\n          break;\n        case 4 /* ClosePath */:\n          break;\n      }\n    }\n    return coords;\n  }\n};\n\n// packages/ag-charts-community/src/scene/shape/path.ts\nfunction ScenePathChangeDetection(opts) {\n  const { redraw = 3 /* MAJOR */, changeCb, convertor } = opts != null ? opts : {};\n  return SceneChangeDetection({ redraw, type: \"path\", convertor, changeCb });\n}\nvar Path = class extends Shape {\n  constructor() {\n    super(...arguments);\n    /**\n     * Declare a path to retain for later rendering and hit testing\n     * using custom Path2D class. Think of it as a TypeScript version\n     * of the native Path2D (with some differences) that works in all browsers.\n     */\n    this.path = new ExtendedPath2D();\n    this._clipX = NaN;\n    this._clipY = NaN;\n    /**\n     * The path only has to be updated when certain attributes change.\n     * For example, if transform attributes (such as `translationX`)\n     * are changed, we don't have to update the path. The `dirtyPath` flag\n     * is how we keep track if the path has to be updated or not.\n     */\n    this._dirtyPath = true;\n  }\n  set clipX(value) {\n    this._clipX = value;\n    this.dirtyPath = true;\n  }\n  set clipY(value) {\n    this._clipY = value;\n    this.dirtyPath = true;\n  }\n  set dirtyPath(value) {\n    if (this._dirtyPath !== value) {\n      this._dirtyPath = value;\n      if (value) {\n        this.markDirty(this, 3 /* MAJOR */);\n      }\n    }\n  }\n  get dirtyPath() {\n    return this._dirtyPath;\n  }\n  checkPathDirty() {\n    var _a, _b, _c, _d;\n    if (this._dirtyPath) {\n      return;\n    }\n    this.dirtyPath = this.path.isDirty() || ((_b = (_a = this.fillShadow) == null ? void 0 : _a.isDirty()) != null ? _b : false) || ((_d = (_c = this._clipPath) == null ? void 0 : _c.isDirty()) != null ? _d : false);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    return this.path.closedPath && this.path.isPointInPath(point.x, point.y);\n  }\n  distanceSquared(x, y) {\n    const point = this.transformPoint(x, y);\n    return this.path.distanceSquared(point.x, point.y);\n  }\n  isDirtyPath() {\n    return false;\n  }\n  updatePath() {\n  }\n  render(renderCtx) {\n    var _a, _b, _c, _d, _e;\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats)\n        stats.nodesSkipped += this.nodeCount.count;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    if (this.dirtyPath || this.isDirtyPath()) {\n      this.updatePath();\n      this.dirtyPath = false;\n    }\n    if (!isNaN(this._clipX) && !isNaN(this._clipY) && this.clipMode != null) {\n      ctx.save();\n      const margin = this.strokeWidth / 2;\n      (_a = this._clipPath) != null ? _a : this._clipPath = new ExtendedPath2D();\n      this._clipPath.clear();\n      this._clipPath.rect(-margin, -margin, this._clipX + margin, this._clipY + margin + margin);\n      if (this.clipMode === \"normal\") {\n        ctx.clip((_b = this._clipPath) == null ? void 0 : _b.getPath2D());\n      }\n      if (this._clipX > 0 && this._clipY > 0) {\n        this.drawPath(ctx);\n      }\n      if (this.clipMode === \"punch-out\") {\n        ctx.clip((_c = this._clipPath) == null ? void 0 : _c.getPath2D());\n        const { x = -1e4, y = -1e4, width = 2e4, height = 2e4 } = (_d = this.computeBBox()) != null ? _d : {};\n        ctx.clearRect(x, y, width, height);\n      }\n      ctx.restore();\n    } else {\n      this.drawPath(ctx);\n    }\n    (_e = this.fillShadow) == null ? void 0 : _e.markClean();\n    super.render(renderCtx);\n  }\n  drawPath(ctx) {\n    this.fillStroke(ctx, this.path.getPath2D());\n  }\n};\nPath.className = \"Path\";\n__decorateClass([\n  ScenePathChangeDetection()\n], Path.prototype, \"clipMode\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Path.prototype, \"clipX\", 1);\n__decorateClass([\n  ScenePathChangeDetection()\n], Path.prototype, \"clipY\", 1);\n\n// packages/ag-charts-community/src/scene/util/quadtree.ts\nvar QuadtreeNearest = class {\n  constructor(capacity, maxdepth, boundary) {\n    this.root = new QuadtreeNodeNearest(capacity, maxdepth, boundary);\n  }\n  clear(boundary) {\n    this.root.clear(boundary);\n  }\n  addValue(hitTester, value) {\n    const elem = {\n      hitTester,\n      value,\n      distanceSquared: (x, y) => {\n        return hitTester.distanceSquared(x, y);\n      }\n    };\n    this.root.addElem(elem);\n  }\n  find(x, y) {\n    const arg = { best: { nearest: void 0, distanceSquared: Infinity } };\n    this.root.find(x, y, arg);\n    return arg.best;\n  }\n};\nvar QuadtreeSubdivisions = class {\n  constructor(nw, ne, sw, se) {\n    this.nw = nw;\n    this.ne = ne;\n    this.sw = sw;\n    this.se = se;\n  }\n  addElem(elem) {\n    this.nw.addElem(elem);\n    this.ne.addElem(elem);\n    this.sw.addElem(elem);\n    this.se.addElem(elem);\n  }\n  find(x, y, arg) {\n    this.nw.find(x, y, arg);\n    this.ne.find(x, y, arg);\n    this.sw.find(x, y, arg);\n    this.se.find(x, y, arg);\n  }\n};\nvar QuadtreeNode = class {\n  constructor(capacity, maxdepth, boundary) {\n    this.capacity = capacity;\n    this.maxdepth = maxdepth;\n    this.boundary = boundary != null ? boundary : BBox.NaN;\n    this.elems = [];\n    this.subdivisions = void 0;\n  }\n  clear(boundary) {\n    this.elems.length = 0;\n    this.boundary = boundary;\n    this.subdivisions = void 0;\n  }\n  addElem(e) {\n    if (this.addCondition(e)) {\n      if (this.subdivisions === void 0) {\n        if (this.maxdepth === 0 || this.elems.length < this.capacity) {\n          this.elems.push(e);\n        } else {\n          this.subdivide(e);\n        }\n      } else {\n        this.subdivisions.addElem(e);\n      }\n    }\n  }\n  find(x, y, arg) {\n    if (this.findCondition(x, y, arg)) {\n      if (this.subdivisions === void 0) {\n        this.findAction(x, y, arg);\n      } else {\n        this.subdivisions.find(x, y, arg);\n      }\n    }\n  }\n  subdivide(newElem) {\n    this.subdivisions = this.makeSubdivisions();\n    for (const e of this.elems) {\n      this.subdivisions.addElem(e);\n    }\n    this.subdivisions.addElem(newElem);\n    this.elems.length = 0;\n  }\n  makeSubdivisions() {\n    const { x, y, width, height } = this.boundary;\n    const { capacity } = this;\n    const depth = this.maxdepth - 1;\n    const halfWidth = width / 2;\n    const halfHeight = height / 2;\n    const nwBoundary = new BBox(x, y, halfWidth, halfHeight);\n    const neBoundary = new BBox(x + halfWidth, y, halfWidth, halfHeight);\n    const swBoundary = new BBox(x, y + halfHeight, halfWidth, halfHeight);\n    const seBoundary = new BBox(x + halfWidth, y + halfHeight, halfWidth, halfHeight);\n    return new QuadtreeSubdivisions(\n      this.child(capacity, depth, nwBoundary),\n      this.child(capacity, depth, neBoundary),\n      this.child(capacity, depth, swBoundary),\n      this.child(capacity, depth, seBoundary)\n    );\n  }\n};\nvar QuadtreeNodeNearest = class _QuadtreeNodeNearest extends QuadtreeNode {\n  addCondition(e) {\n    const { x, y } = e.hitTester.midPoint;\n    return this.boundary.containsPoint(x, y);\n  }\n  findCondition(x, y, arg) {\n    const { best } = arg;\n    return best.distanceSquared !== 0 && this.boundary.distanceSquared(x, y) < best.distanceSquared;\n  }\n  findAction(x, y, arg) {\n    const other = nearestSquared(x, y, this.elems, arg.best.distanceSquared);\n    if (other.nearest !== void 0 && other.distanceSquared < arg.best.distanceSquared) {\n      arg.best = other;\n    }\n  }\n  child(capacity, depth, boundary) {\n    return new _QuadtreeNodeNearest(capacity, depth, boundary);\n  }\n};\n\n// packages/ag-charts-community/src/chart/marker/marker.ts\nvar Marker = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.x = 0;\n    this.y = 0;\n    this.size = 12;\n  }\n  computeBBox() {\n    const { x, y, size } = this;\n    const { center } = this.constructor;\n    return new BBox(x - size * center.x, y - size * center.y, size, size);\n  }\n  applyPath(s, moves) {\n    const { path } = this;\n    let { x, y } = this;\n    if (this.repeat != null) {\n      x = 0;\n      y = 0;\n    }\n    path.clear();\n    for (const { x: mx, y: my, t } of moves) {\n      x += mx * s;\n      y += my * s;\n      if (t === \"move\") {\n        path.moveTo(x, y);\n      } else {\n        path.lineTo(x, y);\n      }\n    }\n    path.closePath();\n  }\n  executeFill(ctx, path) {\n    if (!path)\n      return;\n    if (this.repeat == null) {\n      return super.executeFill(ctx, path);\n    }\n    ctx.save();\n    let x = this.translationX;\n    let y = this.translationY;\n    for (const translation of this.repeat) {\n      ctx.translate(translation.x - x, translation.y - y);\n      ctx.fill(path);\n      x = translation.x;\n      y = translation.y;\n    }\n    ctx.restore();\n  }\n  executeStroke(ctx, path) {\n    if (!path)\n      return;\n    if (this.repeat == null) {\n      return super.executeStroke(ctx, path);\n    }\n    ctx.save();\n    let x = this.translationX;\n    let y = this.translationY;\n    for (const translation of this.repeat) {\n      ctx.translate(translation.x - x, translation.y - y);\n      ctx.stroke(path);\n      x = translation.x;\n      y = translation.y;\n    }\n    ctx.restore();\n  }\n};\nMarker.center = { x: 0.5, y: 0.5 };\n__decorateClass([\n  ScenePathChangeDetection()\n], Marker.prototype, \"x\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Marker.prototype, \"y\", 2);\n__decorateClass([\n  ScenePathChangeDetection({ convertor: Math.abs })\n], Marker.prototype, \"size\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Marker.prototype, \"repeat\", 2);\n\n// packages/ag-charts-community/src/chart/marker/circle.ts\nvar Circle = class extends Marker {\n  updatePath() {\n    const { x, y, path, size } = this;\n    const r = size / 2;\n    path.clear();\n    path.arc(x, y, r, 0, Math.PI * 2);\n    path.closePath();\n  }\n};\nCircle.className = \"Circle\";\n\n// packages/ag-charts-community/src/chart/marker/cross.ts\nvar _Cross = class _Cross extends Marker {\n  updatePath() {\n    const s = this.size / 4.2;\n    super.applyPath(s, _Cross.moves);\n  }\n};\n_Cross.className = \"Cross\";\n_Cross.moves = [\n  { x: -1, y: 0, t: \"move\" },\n  { x: -1, y: -1 },\n  { x: 1, y: -1 },\n  { x: 1, y: 1 },\n  { x: 1, y: -1 },\n  { x: 1, y: 1 },\n  { x: -1, y: 1 },\n  { x: 1, y: 1 },\n  { x: -1, y: 1 },\n  { x: -1, y: -1 },\n  { x: -1, y: 1 },\n  { x: -1, y: -1 }\n];\nvar Cross = _Cross;\n\n// packages/ag-charts-community/src/chart/marker/diamond.ts\nvar _Diamond = class _Diamond extends Marker {\n  updatePath() {\n    const s = this.size / 2;\n    super.applyPath(s, _Diamond.moves);\n  }\n};\n_Diamond.className = \"Diamond\";\n_Diamond.moves = [\n  { x: 0, y: -1, t: \"move\" },\n  { x: 1, y: 1 },\n  { x: -1, y: 1 },\n  { x: -1, y: -1 },\n  { x: 1, y: -1 }\n];\nvar Diamond = _Diamond;\n\n// packages/ag-charts-community/src/chart/marker/heart.ts\nvar Heart = class extends Marker {\n  rad(degree) {\n    return degree / 180 * Math.PI;\n  }\n  updatePath() {\n    const { x, path, size, rad } = this;\n    const r = size / 4;\n    const y = this.y + r / 2;\n    path.clear();\n    path.arc(x - r, y - r, r, rad(130), rad(330));\n    path.arc(x + r, y - r, r, rad(220), rad(50));\n    path.lineTo(x, y + r);\n    path.closePath();\n  }\n};\nHeart.className = \"Heart\";\n\n// packages/ag-charts-community/src/chart/marker/pin.ts\nvar Pin = class extends Marker {\n  updatePath() {\n    const { path, x, y } = this;\n    const s = this.size;\n    const cx = 0.5;\n    const cy = 1;\n    path.clear();\n    path.moveTo(x + (0.15625 - cx) * s, y + (0.34375 - cy) * s);\n    path.cubicCurveTo(\n      x + (0.15625 - cx) * s,\n      y + (0.151491 - cy) * s,\n      x + (0.307741 - cx) * s,\n      y + (0 - cy) * s,\n      x + (0.5 - cx) * s,\n      y + (0 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.692259 - cx) * s,\n      y + (0 - cy) * s,\n      x + (0.84375 - cx) * s,\n      y + (0.151491 - cy) * s,\n      x + (0.84375 - cx) * s,\n      y + (0.34375 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.84375 - cx) * s,\n      y + (0.493824 - cy) * s,\n      x + (0.784625 - cx) * s,\n      y + (0.600181 - cy) * s,\n      x + (0.716461 - cx) * s,\n      y + (0.695393 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.699009 - cx) * s,\n      y + (0.719769 - cy) * s,\n      x + (0.681271 - cx) * s,\n      y + (0.743104 - cy) * s,\n      x + (0.663785 - cx) * s,\n      y + (0.766105 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.611893 - cx) * s,\n      y + (0.834367 - cy) * s,\n      x + (0.562228 - cx) * s,\n      y + (0.899699 - cy) * s,\n      x + (0.528896 - cx) * s,\n      y + (0.980648 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.524075 - cx) * s,\n      y + (0.992358 - cy) * s,\n      x + (0.512663 - cx) * s,\n      y + (1 - cy) * s,\n      x + (0.5 - cx) * s,\n      y + (1 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.487337 - cx) * s,\n      y + (1 - cy) * s,\n      x + (0.475925 - cx) * s,\n      y + (0.992358 - cy) * s,\n      x + (0.471104 - cx) * s,\n      y + (0.980648 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.487337 - cx) * s,\n      y + (1 - cy) * s,\n      x + (0.475925 - cx) * s,\n      y + (0.992358 - cy) * s,\n      x + (0.471104 - cx) * s,\n      y + (0.980648 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.437772 - cx) * s,\n      y + (0.899699 - cy) * s,\n      x + (0.388107 - cx) * s,\n      y + (0.834367 - cy) * s,\n      x + (0.336215 - cx) * s,\n      y + (0.766105 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.318729 - cx) * s,\n      y + (0.743104 - cy) * s,\n      x + (0.300991 - cx) * s,\n      y + (0.719769 - cy) * s,\n      x + (0.283539 - cx) * s,\n      y + (0.695393 - cy) * s\n    );\n    path.cubicCurveTo(\n      x + (0.215375 - cx) * s,\n      y + (0.600181 - cy) * s,\n      x + (0.15625 - cx) * s,\n      y + (0.493824 - cy) * s,\n      x + (0.15625 - cx) * s,\n      y + (0.34375 - cy) * s\n    );\n    path.closePath();\n  }\n};\nPin.className = \"MapPin\";\nPin.center = { x: 0.5, y: 1 };\n\n// packages/ag-charts-community/src/chart/marker/plus.ts\nvar _Plus = class _Plus extends Marker {\n  updatePath() {\n    const s = this.size / 3;\n    super.applyPath(s, _Plus.moves);\n  }\n};\n_Plus.className = \"Plus\";\n_Plus.moves = [\n  { x: -0.5, y: -0.5, t: \"move\" },\n  { x: 0, y: -1 },\n  { x: 1, y: 0 },\n  { x: 0, y: 1 },\n  { x: 1, y: 0 },\n  { x: 0, y: 1 },\n  { x: -1, y: 0 },\n  { x: 0, y: 1 },\n  { x: -1, y: 0 },\n  { x: 0, y: -1 },\n  { x: -1, y: 0 },\n  { x: 0, y: -1 }\n];\nvar Plus = _Plus;\n\n// packages/ag-charts-community/src/chart/marker/square.ts\nvar Square = class extends Marker {\n  updatePath() {\n    const { path, x, y } = this;\n    const hs = this.size / 2;\n    path.clear();\n    path.moveTo(this.align(x - hs), this.align(y - hs));\n    path.lineTo(this.align(x + hs), this.align(y - hs));\n    path.lineTo(this.align(x + hs), this.align(y + hs));\n    path.lineTo(this.align(x - hs), this.align(y + hs));\n    path.closePath();\n  }\n};\nSquare.className = \"Square\";\n\n// packages/ag-charts-community/src/chart/marker/star.ts\nvar Star = class extends Marker {\n  updatePath() {\n    const { x, y, path, size } = this;\n    const spikes = 5;\n    const innerRadius = size / 2;\n    const rotation = Math.PI / 2;\n    path.clear();\n    for (let i = 0; i < spikes * 2; i++) {\n      const radius = i % 2 === 0 ? size : innerRadius;\n      const angle = i * Math.PI / spikes - rotation;\n      const xCoordinate = x + Math.cos(angle) * radius;\n      const yCoordinate = y + Math.sin(angle) * radius;\n      path.lineTo(xCoordinate, yCoordinate);\n    }\n    path.closePath();\n  }\n};\nStar.className = \"Star\";\n\n// packages/ag-charts-community/src/chart/marker/triangle.ts\nvar _Triangle = class _Triangle extends Marker {\n  updatePath() {\n    const s = this.size * 1.1;\n    super.applyPath(s, _Triangle.moves);\n  }\n};\n_Triangle.className = \"Triangle\";\n_Triangle.moves = [\n  { x: 0, y: -0.48, t: \"move\" },\n  { x: 0.5, y: 0.87 },\n  { x: -1, y: 0 }\n];\nvar Triangle = _Triangle;\n\n// packages/ag-charts-community/src/chart/marker/util.ts\nvar MARKER_SHAPES = {\n  circle: Circle,\n  cross: Cross,\n  diamond: Diamond,\n  heart: Heart,\n  pin: Pin,\n  plus: Plus,\n  square: Square,\n  star: Star,\n  triangle: Triangle\n};\nvar MARKER_SUPPORTED_SHAPES = Object.keys(MARKER_SHAPES);\nfunction isMarkerShape(shape) {\n  return typeof shape === \"string\" && MARKER_SUPPORTED_SHAPES.includes(shape);\n}\nfunction getMarker(shape = Square) {\n  if (isMarkerShape(shape)) {\n    return MARKER_SHAPES[shape];\n  }\n  if (typeof shape === \"function\") {\n    return shape;\n  }\n  return Square;\n}\n\n// packages/ag-charts-community/src/chart/series/dataModelSeries.ts\nvar DataModelSeries = class extends Series {\n  constructor() {\n    super(...arguments);\n    this.showFocusBox = true;\n  }\n  getScaleInformation({\n    xScale,\n    yScale\n  }) {\n    const isContinuousX = ContinuousScale.is(xScale);\n    const isContinuousY = ContinuousScale.is(yScale);\n    return { isContinuousX, isContinuousY, xScaleType: xScale == null ? void 0 : xScale.type, yScaleType: yScale == null ? void 0 : yScale.type };\n  }\n  getModulePropertyDefinitions() {\n    var _a, _b;\n    const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n    const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n    return this.moduleMap.mapModules((mod2) => mod2.getPropertyDefinitions(this.getScaleInformation({ xScale, yScale }))).flat();\n  }\n  // Request data, but with message dispatching to series-options (modules).\n  requestDataModel(dataController, data, opts) {\n    return __async(this, null, function* () {\n      opts.props.push(...this.getModulePropertyDefinitions());\n      const { dataModel, processedData } = yield dataController.request(this.id, data != null ? data : [], opts);\n      this.dataModel = dataModel;\n      this.processedData = processedData;\n      this.dispatch(\"data-processed\", { dataModel, processedData });\n      return { dataModel, processedData };\n    });\n  }\n  isProcessedDataAnimatable() {\n    var _a, _b;\n    const validationResults = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation;\n    if (!validationResults) {\n      return true;\n    }\n    const { orderedKeys, uniqueKeys } = validationResults;\n    return orderedKeys && uniqueKeys;\n  }\n  checkProcessedDataAnimatable() {\n    if (!this.isProcessedDataAnimatable()) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  pickFocus(opts) {\n    return this.doPickFocus(opts, this);\n  }\n  // The legend behaves differently for Pie and Donut series. We need to use a seriesItemEnabled\n  // array to determine whether a datum has been toggled on/off using the legend.\n  doPickFocus(opts, derivedSeries) {\n    const nodeData = this.getNodeData();\n    if (nodeData === void 0 || nodeData.length === 0) {\n      return void 0;\n    }\n    const { datumIndexDelta, seriesRect } = opts;\n    const datumIndex = this.computeFocusDatumIndex(opts, nodeData, derivedSeries.seriesItemEnabled);\n    if (datumIndex === void 0) {\n      return void 0;\n    }\n    const { showFocusBox } = this;\n    const datum = nodeData[datumIndex];\n    const bbox = this.computeFocusBounds({ datumIndex, datumIndexDelta, seriesRect });\n    if (bbox !== void 0) {\n      return { bbox, showFocusBox, datum, datumIndex };\n    }\n  }\n  computeFocusDatumIndex(opts, nodeData, seriesItemEnabled) {\n    if (seriesItemEnabled && nodeData.length !== seriesItemEnabled.length) {\n      Logger.error(\n        `invalid state: nodeData.length (${nodeData.length} !== seriesItemEnabled.length (${seriesItemEnabled == null ? void 0 : seriesItemEnabled.length})`\n      );\n    }\n    const isDatumEnabled = (datumIndex2) => {\n      const nodeDatum = nodeData[datumIndex2];\n      return (nodeDatum.missing === void 0 || nodeDatum.missing === false) && (seriesItemEnabled === void 0 || seriesItemEnabled[datumIndex2]);\n    };\n    const searchBackward = (datumIndex2) => {\n      while (datumIndex2 >= 0 && !isDatumEnabled(datumIndex2)) {\n        datumIndex2--;\n      }\n      return datumIndex2 === -1 ? void 0 : datumIndex2;\n    };\n    const searchForward = (datumIndex2) => {\n      while (datumIndex2 < nodeData.length && !isDatumEnabled(datumIndex2)) {\n        datumIndex2++;\n      }\n      return datumIndex2 === nodeData.length ? void 0 : datumIndex2;\n    };\n    let datumIndex;\n    const clampedIndex = clamp(0, opts.datumIndex, nodeData.length - 1);\n    if (opts.datumIndexDelta < 0) {\n      datumIndex = searchBackward(clampedIndex);\n    } else if (opts.datumIndexDelta > 0) {\n      datumIndex = searchForward(clampedIndex);\n    } else {\n      datumIndex != null ? datumIndex : datumIndex = searchForward(clampedIndex);\n      datumIndex != null ? datumIndex : datumIndex = searchBackward(clampedIndex);\n    }\n    if (datumIndex === void 0) {\n      if (opts.datumIndexDelta === 0) {\n        return void 0;\n      } else {\n        return opts.datumIndex - opts.datumIndexDelta;\n      }\n    } else {\n      return datumIndex;\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/seriesProperties.ts\nvar SeriesItemHighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"rgba(255,255,255, 0.33)\";\n    this.stroke = `rgba(0, 0, 0, 0.4)`;\n    this.strokeWidth = 2;\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], SeriesItemHighlightStyle.prototype, \"lineDashOffset\", 2);\nvar SeriesHighlightStyle = class extends BaseProperties {\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], SeriesHighlightStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], SeriesHighlightStyle.prototype, \"dimOpacity\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], SeriesHighlightStyle.prototype, \"enabled\", 2);\nvar TextHighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.color = \"black\";\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], TextHighlightStyle.prototype, \"color\", 2);\nvar HighlightStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.item = new SeriesItemHighlightStyle();\n    this.series = new SeriesHighlightStyle();\n    this.text = new TextHighlightStyle();\n  }\n};\n__decorateClass([\n  Validate(OBJECT)\n], HighlightStyle.prototype, \"item\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], HighlightStyle.prototype, \"series\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], HighlightStyle.prototype, \"text\", 2);\nvar SeriesProperties = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.visible = true;\n    this.showInLegend = true;\n    this.cursor = \"default\";\n    this.nodeClickRange = \"exact\";\n    this.highlightStyle = new HighlightStyle();\n  }\n};\n__decorateClass([\n  Validate(STRING, { optional: true })\n], SeriesProperties.prototype, \"id\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], SeriesProperties.prototype, \"visible\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], SeriesProperties.prototype, \"showInLegend\", 2);\n__decorateClass([\n  Validate(STRING)\n], SeriesProperties.prototype, \"cursor\", 2);\n__decorateClass([\n  Validate(INTERACTION_RANGE)\n], SeriesProperties.prototype, \"nodeClickRange\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], SeriesProperties.prototype, \"highlightStyle\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/cartesianSeries.ts\nvar DEFAULT_CARTESIAN_DIRECTION_KEYS = {\n  [\"x\" /* X */]: [\"xKey\"],\n  [\"y\" /* Y */]: [\"yKey\"]\n};\nvar DEFAULT_CARTESIAN_DIRECTION_NAMES = {\n  [\"x\" /* X */]: [\"xName\"],\n  [\"y\" /* Y */]: [\"yName\"]\n};\nvar CartesianSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.xKey = series.properties.xKey;\n    this.yKey = series.properties.yKey;\n  }\n};\nvar CartesianSeriesProperties = class extends SeriesProperties {\n};\n__decorateClass([\n  Validate(STRING, { optional: true })\n], CartesianSeriesProperties.prototype, \"legendItemName\", 2);\nvar CartesianSeries = class extends DataModelSeries {\n  constructor(_a) {\n    var _b = _a, {\n      pathsPerSeries = 1,\n      hasMarkers = false,\n      hasHighlightedLabels = false,\n      pathsZIndexSubOrderOffset = [],\n      datumSelectionGarbageCollection = true,\n      markerSelectionGarbageCollection = true,\n      animationAlwaysUpdateSelections = false,\n      animationResetFns,\n      directionKeys,\n      directionNames\n    } = _b, otherOpts = __objRest(_b, [\n      \"pathsPerSeries\",\n      \"hasMarkers\",\n      \"hasHighlightedLabels\",\n      \"pathsZIndexSubOrderOffset\",\n      \"datumSelectionGarbageCollection\",\n      \"markerSelectionGarbageCollection\",\n      \"animationAlwaysUpdateSelections\",\n      \"animationResetFns\",\n      \"directionKeys\",\n      \"directionNames\"\n    ]);\n    super(__spreadValues({\n      directionKeys,\n      directionNames,\n      canHaveAxes: true\n    }, otherOpts));\n    this.NodeEvent = CartesianSeriesNodeEvent;\n    this.dataNodeGroup = this.contentGroup.appendChild(\n      new Group({\n        name: `${this.id}-series-dataNodes`,\n        zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"data\")\n      })\n    );\n    this.markerGroup = this.contentGroup.appendChild(\n      new Group({\n        name: `${this.id}-series-markers`,\n        zIndex: 4 /* SERIES_LAYER_ZINDEX */,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"marker\")\n      })\n    );\n    this.labelGroup = this.contentGroup.appendChild(\n      new Group({\n        name: `${this.id}-series-labels`,\n        zIndex: 8 /* SERIES_LABEL_ZINDEX */,\n        zIndexSubOrder: this.getGroupZIndexSubOrder(\"labels\")\n      })\n    );\n    this.labelSelection = Selection.select(this.labelGroup, Text);\n    this.highlightSelection = Selection.select(\n      this.highlightNode,\n      () => this.opts.hasMarkers ? this.markerFactory() : this.nodeFactory()\n    );\n    this.highlightLabelSelection = Selection.select(this.highlightLabel, Text);\n    this.annotationSelections = /* @__PURE__ */ new Set();\n    this.minRectsCache = {\n      dirtyNodeData: true\n    };\n    this.debug = Debug.create();\n    if (!directionKeys || !directionNames)\n      throw new Error(`Unable to initialise series type ${this.type}`);\n    this.opts = {\n      pathsPerSeries,\n      hasMarkers,\n      hasHighlightedLabels,\n      pathsZIndexSubOrderOffset,\n      directionKeys,\n      directionNames,\n      animationResetFns,\n      animationAlwaysUpdateSelections,\n      datumSelectionGarbageCollection,\n      markerSelectionGarbageCollection\n    };\n    this.paths = [];\n    for (let index = 0; index < pathsPerSeries; index++) {\n      this.paths[index] = new Path();\n      this.paths[index].zIndex = 4 /* SERIES_LAYER_ZINDEX */;\n      this.paths[index].zIndexSubOrder = this.getGroupZIndexSubOrder(\"paths\", index);\n      this.contentGroup.appendChild(this.paths[index]);\n    }\n    this.datumSelection = Selection.select(\n      this.dataNodeGroup,\n      () => this.nodeFactory(),\n      datumSelectionGarbageCollection\n    );\n    this.markerSelection = Selection.select(\n      this.markerGroup,\n      () => this.markerFactory(),\n      markerSelectionGarbageCollection\n    );\n    this.animationState = new StateMachine(\n      \"empty\",\n      {\n        empty: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateEmptyUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\",\n          disable: \"disabled\"\n        },\n        ready: {\n          updateData: \"waiting\",\n          clear: \"clearing\",\n          highlight: (data) => this.animateReadyHighlight(data),\n          highlightMarkers: (data) => this.animateReadyHighlightMarkers(data),\n          resize: (data) => this.animateReadyResize(data),\n          reset: \"empty\",\n          skip: \"ready\",\n          disable: \"disabled\"\n        },\n        waiting: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateWaitingUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\",\n          disable: \"disabled\"\n        },\n        disabled: {\n          update: (data) => this.resetAllAnimation(data),\n          reset: \"empty\"\n        },\n        clearing: {\n          update: {\n            target: \"empty\",\n            action: (data) => this.animateClearingUpdateEmpty(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        }\n      },\n      () => this.checkProcessedDataAnimatable()\n    );\n  }\n  get contextNodeData() {\n    return this._contextNodeData;\n  }\n  getNodeData() {\n    var _a;\n    return (_a = this.contextNodeData) == null ? void 0 : _a.nodeData;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    } else if (phase === \"disabled\") {\n      this.animationState.transition(\"disable\");\n    }\n  }\n  addChartEventListeners() {\n    this.destroyFns.push(\n      this.ctx.chartEventManager.addListener(\"legend-item-click\", (event) => this.onLegendItemClick(event)),\n      this.ctx.chartEventManager.addListener(\n        \"legend-item-double-click\",\n        (event) => this.onLegendItemDoubleClick(event)\n      )\n    );\n  }\n  destroy() {\n    super.destroy();\n    this._contextNodeData = void 0;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      var _a, _b;\n      const { visible, _contextNodeData: previousContextData } = this;\n      const series = (_b = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight()) == null ? void 0 : _b.series;\n      const seriesHighlighted = series === this;\n      const resize = this.checkResize(seriesRect);\n      const highlightItems = yield this.updateHighlightSelection(seriesHighlighted);\n      yield this.updateSelections(visible);\n      yield this.updateNodes(highlightItems, seriesHighlighted, visible);\n      const animationData = this.getAnimationData(seriesRect, previousContextData);\n      if (!animationData)\n        return;\n      if (resize) {\n        this.animationState.transition(\"resize\", animationData);\n      }\n      this.animationState.transition(\"update\", animationData);\n    });\n  }\n  updateSelections(anySeriesItemEnabled) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const animationSkipUpdate = !this.opts.animationAlwaysUpdateSelections && this.ctx.animationManager.isSkipped();\n      if (!anySeriesItemEnabled && animationSkipUpdate) {\n        return;\n      }\n      if (!this.nodeDataRefresh && !this.isPathOrSelectionDirty()) {\n        return;\n      }\n      if (this.nodeDataRefresh) {\n        this.nodeDataRefresh = false;\n        this.debug(`CartesianSeries.updateSelections() - calling createNodeData() for`, this.id);\n        this.markQuadtreeDirty();\n        this._contextNodeData = yield this.createNodeData();\n        const animationValid = this.isProcessedDataAnimatable();\n        if (this._contextNodeData) {\n          (_b = (_a = this._contextNodeData).animationValid) != null ? _b : _a.animationValid = animationValid;\n        }\n        this.minRectsCache.dirtyNodeData = true;\n        const { dataModel, processedData } = this;\n        if (dataModel !== void 0 && processedData !== void 0) {\n          this.dispatch(\"data-update\", { dataModel, processedData });\n        }\n      }\n      yield this.updateSeriesSelections();\n    });\n  }\n  updateSeriesSelections(seriesHighlighted) {\n    return __async(this, null, function* () {\n      const { datumSelection, labelSelection, markerSelection, paths } = this;\n      const contextData = this._contextNodeData;\n      if (!contextData)\n        return;\n      const { nodeData, labelData, itemId } = contextData;\n      yield this.updatePaths({ seriesHighlighted, itemId, contextData, paths });\n      this.datumSelection = yield this.updateDatumSelection({ nodeData, datumSelection });\n      this.labelSelection = yield this.updateLabelSelection({ labelData, labelSelection });\n      if (this.opts.hasMarkers) {\n        this.markerSelection = yield this.updateMarkerSelection({ nodeData, markerSelection });\n      }\n    });\n  }\n  markerFactory() {\n    const MarkerShape = getMarker();\n    return new MarkerShape();\n  }\n  getGroupZIndexSubOrder(type, subIndex = 0) {\n    var _a;\n    const result = super.getGroupZIndexSubOrder(type, subIndex);\n    if (type === \"paths\") {\n      const [superFn] = result;\n      const pathOffset = (_a = this.opts.pathsZIndexSubOrderOffset[subIndex]) != null ? _a : 0;\n      result[0] = isFunction(superFn) ? () => Number(superFn()) + pathOffset : Number(superFn) + pathOffset;\n    }\n    return result;\n  }\n  updateNodes(highlightedItems, seriesHighlighted, anySeriesItemEnabled) {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        highlightSelection,\n        highlightLabelSelection,\n        opts: { hasMarkers, hasHighlightedLabels }\n      } = this;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const visible = this.visible && this._contextNodeData != null && anySeriesItemEnabled;\n      this.rootGroup.visible = animationEnabled || visible;\n      this.contentGroup.visible = animationEnabled || visible;\n      this.highlightGroup.visible = (animationEnabled || visible) && seriesHighlighted;\n      const opacity = this.getOpacity();\n      if (hasMarkers) {\n        yield this.updateMarkerNodes({\n          markerSelection: highlightSelection,\n          isHighlight: true\n        });\n        this.animationState.transition(\"highlightMarkers\", highlightSelection);\n      } else {\n        yield this.updateDatumNodes({\n          datumSelection: highlightSelection,\n          isHighlight: true\n        });\n        this.animationState.transition(\"highlight\", highlightSelection);\n      }\n      if (hasHighlightedLabels) {\n        yield this.updateLabelNodes({ labelSelection: highlightLabelSelection });\n      }\n      const { dataNodeGroup, markerGroup, datumSelection, labelSelection, markerSelection, paths, labelGroup } = this;\n      const { itemId } = (_a = this.contextNodeData) != null ? _a : {};\n      dataNodeGroup.opacity = opacity;\n      dataNodeGroup.visible = animationEnabled || visible;\n      labelGroup.visible = visible;\n      if (hasMarkers) {\n        markerGroup.opacity = opacity;\n        markerGroup.zIndex = dataNodeGroup.zIndex >= 4 /* SERIES_LAYER_ZINDEX */ ? dataNodeGroup.zIndex : dataNodeGroup.zIndex + 1;\n        markerGroup.visible = visible;\n      }\n      if (labelGroup) {\n        labelGroup.opacity = opacity;\n      }\n      yield this.updatePathNodes({\n        seriesHighlighted,\n        itemId,\n        paths,\n        opacity,\n        visible,\n        animationEnabled\n      });\n      if (!dataNodeGroup.visible) {\n        return;\n      }\n      yield this.updateDatumNodes({ datumSelection, highlightedItems, isHighlight: false });\n      yield this.updateLabelNodes({ labelSelection });\n      if (hasMarkers) {\n        yield this.updateMarkerNodes({ markerSelection, isHighlight: false });\n      }\n    });\n  }\n  getHighlightLabelData(labelData, highlightedItem) {\n    const labelItems = labelData.filter(\n      (ld) => ld.datum === highlightedItem.datum && ld.itemId === highlightedItem.itemId\n    );\n    return labelItems.length === 0 ? void 0 : labelItems;\n  }\n  getHighlightData(_nodeData, highlightedItem) {\n    return highlightedItem ? [highlightedItem] : void 0;\n  }\n  updateHighlightSelection(seriesHighlighted) {\n    return __async(this, null, function* () {\n      var _a;\n      const { highlightSelection, highlightLabelSelection, _contextNodeData: contextNodeData } = this;\n      if (!contextNodeData)\n        return;\n      const highlightedDatum = (_a = this.ctx.highlightManager) == null ? void 0 : _a.getActiveHighlight();\n      const item = seriesHighlighted && (highlightedDatum == null ? void 0 : highlightedDatum.datum) ? highlightedDatum : void 0;\n      let labelItems;\n      let highlightItems;\n      if (item != null) {\n        const labelsEnabled = this.isLabelEnabled();\n        const { labelData, nodeData } = contextNodeData;\n        highlightItems = this.getHighlightData(nodeData, item);\n        labelItems = labelsEnabled ? this.getHighlightLabelData(labelData, item) : void 0;\n      }\n      this.highlightSelection = yield this.updateHighlightSelectionItem({\n        items: highlightItems,\n        highlightSelection\n      });\n      this.highlightLabelSelection = yield this.updateHighlightSelectionLabel({\n        items: labelItems,\n        highlightLabelSelection\n      });\n      return highlightItems;\n    });\n  }\n  markQuadtreeDirty() {\n    this.quadtree = void 0;\n  }\n  *datumNodesIter() {\n    for (const { node } of this.datumSelection) {\n      if (node.datum.missing === true)\n        continue;\n      yield node;\n    }\n  }\n  getQuadTree() {\n    if (this.quadtree === void 0) {\n      const { width, height } = this.ctx.scene.canvas;\n      const canvasRect = new BBox(0, 0, width, height);\n      this.quadtree = new QuadtreeNearest(100, 10, canvasRect);\n      this.initQuadTree(this.quadtree);\n    }\n    return this.quadtree;\n  }\n  initQuadTree(_quadtree) {\n  }\n  pickNodeExactShape(point) {\n    var _a;\n    const result = super.pickNodeExactShape(point);\n    if (result) {\n      return result;\n    }\n    const { x, y } = point;\n    const {\n      opts: { hasMarkers }\n    } = this;\n    let match;\n    const { dataNodeGroup, markerGroup } = this;\n    match = dataNodeGroup.pickNode(x, y);\n    if (!match && hasMarkers) {\n      match = markerGroup == null ? void 0 : markerGroup.pickNode(x, y);\n    }\n    if (match && match.datum.missing !== true) {\n      return { datum: match.datum, distance: 0 };\n    }\n    for (const mod2 of this.moduleMap.modules()) {\n      const { datum } = (_a = mod2.pickNodeExact(point)) != null ? _a : {};\n      if (datum == null)\n        continue;\n      if ((datum == null ? void 0 : datum.missing) === true)\n        continue;\n      return { datum, distance: 0 };\n    }\n  }\n  pickNodeClosestDatum(point) {\n    var _a, _b;\n    const { x, y } = point;\n    const { axes, rootGroup, _contextNodeData: contextNodeData } = this;\n    if (!contextNodeData)\n      return;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const hitPoint = rootGroup.transformPoint(x, y);\n    let minDistance = Infinity;\n    let closestDatum;\n    for (const datum of contextNodeData.nodeData) {\n      const { point: { x: datumX = NaN, y: datumY = NaN } = {} } = datum;\n      if (isNaN(datumX) || isNaN(datumY)) {\n        continue;\n      }\n      const isInRange = (xAxis == null ? void 0 : xAxis.inRange(datumX)) && (yAxis == null ? void 0 : yAxis.inRange(datumY));\n      if (!isInRange) {\n        continue;\n      }\n      const distance2 = Math.max(__pow(hitPoint.x - datumX, 2) + __pow(hitPoint.y - datumY, 2), 0);\n      if (distance2 < minDistance) {\n        minDistance = distance2;\n        closestDatum = datum;\n      }\n    }\n    for (const mod2 of this.moduleMap.modules()) {\n      const modPick = mod2.pickNodeNearest(point);\n      if (modPick !== void 0 && modPick.distanceSquared < minDistance) {\n        minDistance = modPick.distanceSquared;\n        closestDatum = modPick.datum;\n        break;\n      }\n    }\n    if (closestDatum) {\n      const distance2 = Math.max(Math.sqrt(minDistance) - ((_b = (_a = closestDatum.point) == null ? void 0 : _a.size) != null ? _b : 0), 0);\n      return { datum: closestDatum, distance: distance2 };\n    }\n  }\n  pickNodeMainAxisFirst(point, requireCategoryAxis) {\n    var _a, _b, _c, _d;\n    const { x, y } = point;\n    const { axes, rootGroup, _contextNodeData: contextNodeData } = this;\n    if (!contextNodeData)\n      return;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const directions2 = [xAxis, yAxis].filter((a) => a instanceof CategoryAxis).map((a) => a.direction);\n    if (requireCategoryAxis && directions2.length === 0) {\n      return;\n    }\n    const [primaryDirection = \"x\" /* X */] = directions2;\n    const hitPoint = rootGroup.transformPoint(x, y);\n    const hitPointCoords = primaryDirection === \"x\" /* X */ ? [hitPoint.x, hitPoint.y] : [hitPoint.y, hitPoint.x];\n    const minDistance = [Infinity, Infinity];\n    let closestDatum;\n    for (const datum of contextNodeData.nodeData) {\n      const { x: datumX = NaN, y: datumY = NaN } = (_b = (_a = datum.point) != null ? _a : datum.midPoint) != null ? _b : {};\n      if (isNaN(datumX) || isNaN(datumY) || datum.missing === true) {\n        continue;\n      }\n      const isInRange = (xAxis == null ? void 0 : xAxis.inRange(datumX)) && (yAxis == null ? void 0 : yAxis.inRange(datumY));\n      if (!isInRange) {\n        continue;\n      }\n      const datumPoint = primaryDirection === \"x\" /* X */ ? [datumX, datumY] : [datumY, datumX];\n      let newMinDistance = true;\n      for (let i = 0; i < datumPoint.length; i++) {\n        const dist = Math.abs(datumPoint[i] - hitPointCoords[i]);\n        if (dist > minDistance[i]) {\n          newMinDistance = false;\n          break;\n        }\n        if (dist < minDistance[i]) {\n          minDistance[i] = dist;\n          minDistance.fill(Infinity, i + 1, minDistance.length);\n        }\n      }\n      if (newMinDistance) {\n        closestDatum = datum;\n      }\n    }\n    if (closestDatum) {\n      let closestDistanceSquared = Math.max(\n        __pow(minDistance[0], 2) + __pow(minDistance[1], 2) - ((_d = (_c = closestDatum.point) == null ? void 0 : _c.size) != null ? _d : 0),\n        0\n      );\n      for (const mod2 of this.moduleMap.modules()) {\n        const modPick = mod2.pickNodeMainAxisFirst(point);\n        if (modPick !== void 0 && modPick.distanceSquared < closestDistanceSquared) {\n          closestDatum = modPick.datum;\n          closestDistanceSquared = modPick.distanceSquared;\n          break;\n        }\n      }\n      return { datum: closestDatum, distance: Math.sqrt(closestDistanceSquared) };\n    }\n  }\n  onLegendItemClick(event) {\n    const { legendItemName } = this.properties;\n    const { enabled, itemId, series } = event;\n    const matchedLegendItemName = legendItemName != null && legendItemName === event.legendItemName;\n    if (series.id === this.id || matchedLegendItemName) {\n      this.toggleSeriesItem(itemId, enabled);\n    }\n  }\n  onLegendItemDoubleClick(event) {\n    const { enabled, itemId, series, numVisibleItems } = event;\n    const { legendItemName } = this.properties;\n    const matchedLegendItemName = legendItemName != null && legendItemName === event.legendItemName;\n    if (series.id === this.id || matchedLegendItemName) {\n      this.toggleSeriesItem(itemId, true);\n    } else if (enabled && numVisibleItems === 1) {\n      this.toggleSeriesItem(itemId, true);\n    } else {\n      this.toggleSeriesItem(itemId, false);\n    }\n  }\n  isPathOrSelectionDirty() {\n    return false;\n  }\n  getLabelData() {\n    return [];\n  }\n  shouldFlipXY() {\n    return false;\n  }\n  /**\n   * Get the minimum bounding box that contains any adjacent two nodes. The axes are treated independently, so this\n   * may not represent the same two points for both directions. The dimensions represent the greatest distance\n   * between any two adjacent nodes.\n   */\n  getMinRects(width, height) {\n    const { dirtyNodeData, sizeCache, minRect, minVisibleRect } = this.minRectsCache;\n    const newSizeCache = JSON.stringify({ width, height });\n    const dirtySize = newSizeCache !== sizeCache;\n    if (!dirtySize && !dirtyNodeData && minRect && minVisibleRect) {\n      return { minRect, minVisibleRect };\n    }\n    const rects = this.computeMinRects(width, height);\n    this.minRectsCache = {\n      dirtyNodeData: false,\n      sizeCache: newSizeCache,\n      minRect: rects == null ? void 0 : rects.minRect,\n      minVisibleRect: rects == null ? void 0 : rects.minVisibleRect\n    };\n    return rects;\n  }\n  computeMinRects(width, height) {\n    var _a, _b;\n    const context = this._contextNodeData;\n    if (!(context == null ? void 0 : context.nodeData.length)) {\n      return;\n    }\n    const { nodeData } = context;\n    const minRectXs = Array(nodeData.length);\n    const minRectYs = Array(nodeData.length);\n    for (const [i, { midPoint }] of nodeData.entries()) {\n      minRectXs[i] = (_a = midPoint == null ? void 0 : midPoint.x) != null ? _a : 0;\n      minRectYs[i] = (_b = midPoint == null ? void 0 : midPoint.y) != null ? _b : 0;\n    }\n    minRectXs.sort((a, b) => a - b);\n    minRectYs.sort((a, b) => a - b);\n    let zeroX, widthX, zeroY, heightY;\n    let maxWidth = 0;\n    let maxHeight = 0;\n    for (let i = 1; i < nodeData.length; i++) {\n      if (minRectXs[i] >= 0)\n        zeroX != null ? zeroX : zeroX = i;\n      if (minRectXs[i] > width)\n        widthX != null ? widthX : widthX = i;\n      if (minRectYs[i] >= 0)\n        zeroY != null ? zeroY : zeroY = i;\n      if (minRectYs[i] > height)\n        heightY != null ? heightY : heightY = i;\n      maxWidth = Math.max(maxWidth, minRectXs[i] - minRectXs[i - 1]);\n      maxHeight = Math.max(maxHeight, minRectYs[i] - minRectYs[i - 1]);\n    }\n    widthX != null ? widthX : widthX = nodeData.length;\n    heightY != null ? heightY : heightY = nodeData.length;\n    const minVisibleRectXs = zeroX != null && widthX != null ? minRectXs.slice(zeroX, widthX) : [];\n    const minVisibleRectYs = zeroY != null && heightY != null ? minRectYs.slice(zeroY, heightY) : [];\n    let maxVisibleWidth = 0;\n    let maxVisibleHeight = 0;\n    for (let i = 1; i < Math.max(minVisibleRectXs.length, minVisibleRectYs.length); i++) {\n      const x1 = minVisibleRectXs[i];\n      const x2 = minVisibleRectXs[i - 1];\n      const y1 = minVisibleRectYs[i];\n      const y2 = minVisibleRectYs[i - 1];\n      if (x1 != null && x2 != null) {\n        maxVisibleWidth = Math.max(maxVisibleWidth, x1 - x2);\n      }\n      if (y1 != null && y2 != null) {\n        maxVisibleHeight = Math.max(maxVisibleHeight, y1 - y2);\n      }\n    }\n    const minRect = new BBox(0, 0, maxWidth, maxHeight);\n    const minVisibleRect = new BBox(0, 0, maxVisibleWidth, maxVisibleHeight);\n    return { minRect, minVisibleRect };\n  }\n  updateHighlightSelectionItem(opts) {\n    const {\n      opts: { hasMarkers }\n    } = this;\n    const { items, highlightSelection } = opts;\n    const nodeData = items != null ? items : [];\n    if (hasMarkers) {\n      const markerSelection = highlightSelection;\n      return this.updateMarkerSelection({ nodeData, markerSelection });\n    } else {\n      return this.updateDatumSelection({\n        nodeData,\n        datumSelection: highlightSelection\n      });\n    }\n  }\n  updateHighlightSelectionLabel(opts) {\n    var _a;\n    return this.updateLabelSelection({\n      labelData: (_a = opts.items) != null ? _a : [],\n      labelSelection: opts.highlightLabelSelection\n    });\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.datumSelection;\n    });\n  }\n  updateDatumNodes(_opts) {\n    return __async(this, null, function* () {\n    });\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.markerSelection;\n    });\n  }\n  updateMarkerNodes(_opts) {\n    return __async(this, null, function* () {\n    });\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      opts.paths.forEach((p) => p.visible = false);\n    });\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const { paths, opacity, visible } = opts;\n      for (const path of paths) {\n        path.opacity = opacity;\n        path.visible = visible;\n      }\n    });\n  }\n  resetAllAnimation(data) {\n    var _a, _b, _c;\n    const { path, datum, label, marker } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (path) {\n      data.paths.forEach((paths) => {\n        resetMotion([paths], path);\n      });\n    }\n    if (datum) {\n      resetMotion([data.datumSelection], datum);\n    }\n    if (label) {\n      resetMotion([data.labelSelection], label);\n    }\n    if (marker && this.opts.hasMarkers) {\n      resetMotion([data.markerSelection], marker);\n    }\n    if (((_c = data.contextData) == null ? void 0 : _c.animationValid) === false) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  animateEmptyUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateWaitingUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateReadyHighlight(data) {\n    var _a, _b;\n    const { datum } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    if (datum) {\n      resetMotion([data], datum);\n    }\n  }\n  animateReadyHighlightMarkers(data) {\n    var _a, _b;\n    const { marker } = (_b = (_a = this.opts) == null ? void 0 : _a.animationResetFns) != null ? _b : {};\n    if (marker) {\n      resetMotion([data], marker);\n    }\n  }\n  animateReadyResize(data) {\n    this.resetAllAnimation(data);\n  }\n  animateClearingUpdateEmpty(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animationTransitionClear() {\n    const animationData = this.getAnimationData();\n    if (!animationData)\n      return;\n    this.animationState.transition(\"clear\", animationData);\n  }\n  getAnimationData(seriesRect, previousContextData) {\n    const { _contextNodeData: contextData } = this;\n    if (!contextData)\n      return;\n    const animationData = {\n      datumSelection: this.datumSelection,\n      markerSelection: this.markerSelection,\n      labelSelection: this.labelSelection,\n      annotationSelections: [...this.annotationSelections],\n      contextData,\n      previousContextData,\n      paths: this.paths,\n      seriesRect\n    };\n    return animationData;\n  }\n  calculateScaling() {\n    const result = {};\n    for (const direction of Object.values(ChartAxisDirection)) {\n      const axis = this.axes[direction];\n      if (!axis)\n        continue;\n      if (axis.scale instanceof LogScale) {\n        const { range: range3, domain } = axis.scale;\n        result[direction] = {\n          type: \"log\",\n          convert: (d) => axis.scale.convert(d),\n          domain: [domain[0], domain[1]],\n          range: [range3[0], range3[1]]\n        };\n      } else if (axis.scale instanceof ContinuousScale) {\n        const { range: range3 } = axis.scale;\n        const domain = axis.scale.getDomain();\n        result[direction] = {\n          type: \"continuous\",\n          domain: [domain[0], domain[1]],\n          range: [range3[0], range3[1]]\n        };\n      } else if (axis.scale) {\n        const { domain } = axis.scale;\n        result[direction] = {\n          type: \"category\",\n          domain,\n          range: domain.map((d) => axis.scale.convert(d))\n        };\n      }\n    }\n    return result;\n  }\n};\n\n// packages/ag-charts-community/src/chart/cartesianChart.ts\nvar directions = [\"top\", \"right\", \"bottom\", \"left\"];\nvar _CartesianChart = class _CartesianChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    /** Integrated Charts feature state - not used in Standalone Charts. */\n    this.paired = true;\n    this.firstSeriesTranslation = true;\n    this._lastCrossLineIds = void 0;\n    this._lastAxisWidths = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n    this._lastClipSeries = false;\n    this._lastVisibility = {\n      crossLines: true,\n      series: true\n    };\n  }\n  onAxisChange(newValue, oldValue) {\n    super.onAxisChange(newValue, oldValue);\n    this.zoomManager.updateAxes(newValue);\n  }\n  destroySeries(series) {\n    super.destroySeries(series);\n    this.firstSeriesTranslation = true;\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_CartesianChart.prototype, this, \"performLayout\").call(this);\n      const { firstSeriesTranslation, seriesRoot, annotationRoot, highlightRoot } = this;\n      const { animationRect, seriesRect, visibility, clipSeries } = this.updateAxes(shrinkRect);\n      this.seriesRoot.visible = visibility.series;\n      this.seriesRect = seriesRect;\n      this.animationRect = animationRect;\n      const { x, y } = seriesRect;\n      if (firstSeriesTranslation) {\n        for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n          group2.translationX = Math.floor(x);\n          group2.translationY = Math.floor(y);\n        }\n        this.firstSeriesTranslation = false;\n      } else {\n        const { translationX, translationY } = seriesRoot;\n        staticFromToMotion(\n          this.id,\n          \"seriesRect\",\n          this.ctx.animationManager,\n          [seriesRoot, highlightRoot, annotationRoot],\n          { translationX, translationY },\n          { translationX: Math.floor(x), translationY: Math.floor(y) },\n          { phase: \"update\" }\n        );\n      }\n      const seriesPaddedRect = seriesRect.clone().grow(this.seriesArea.padding);\n      this.hoverRect = seriesPaddedRect;\n      const clipRect = this.seriesArea.clip || clipSeries ? seriesPaddedRect : void 0;\n      seriesRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      highlightRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      annotationRoot.setClipRectInGroupCoordinateSpace(clipRect);\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries,\n        series: {\n          rect: seriesRect,\n          paddedRect: seriesPaddedRect,\n          visible: visibility.series,\n          shouldFlipXY: this.shouldFlipXY()\n        },\n        axes: this.axes.map((axis) => __spreadValues({ id: axis.id }, axis.getLayoutState()))\n      });\n      const modulePromises = this.modulesManager.mapModules((m) => {\n        var _a;\n        return (_a = m.performCartesianLayout) == null ? void 0 : _a.call(m, { seriesRect });\n      });\n      yield Promise.all(modulePromises);\n      return shrinkRect;\n    });\n  }\n  updateAxes(inputShrinkRect) {\n    var _a;\n    const crossLineIds = this.axes.flatMap((axis) => {\n      var _a2;\n      return (_a2 = axis.crossLines) != null ? _a2 : [];\n    }).map((crossLine) => crossLine.id);\n    const axesValid = this._lastCrossLineIds != null && this._lastCrossLineIds.length === crossLineIds.length && this._lastCrossLineIds.every((id, index) => crossLineIds[index] === id);\n    let axisWidths;\n    let clipSeries;\n    let visibility;\n    if (axesValid) {\n      axisWidths = __spreadValues({}, this._lastAxisWidths);\n      clipSeries = this._lastClipSeries;\n      visibility = __spreadValues({}, this._lastVisibility);\n    } else {\n      axisWidths = { top: 0, bottom: 0, left: 0, right: 0 };\n      clipSeries = false;\n      visibility = { crossLines: true, series: true };\n      this._lastCrossLineIds = crossLineIds;\n    }\n    const liveAxisWidths = new Set(this.axes.map((a) => a.position));\n    for (const position of Object.keys(axisWidths)) {\n      if (!liveAxisWidths.has(position)) {\n        delete axisWidths[position];\n      }\n    }\n    const stableOutputs = (otherAxisWidths, otherClipSeries, otherVisibility) => {\n      if (Object.keys(otherAxisWidths).some((k) => axisWidths[k] == null)) {\n        return false;\n      }\n      return visibility.crossLines === otherVisibility.crossLines && visibility.series === otherVisibility.series && // Check for existing axis positions and equality.\n      Object.entries(axisWidths).every(([p, w]) => {\n        const otherW = otherAxisWidths[p];\n        if (w != null || otherW != null) {\n          return w === otherW;\n        }\n        return true;\n      }) && clipSeries === otherClipSeries;\n    };\n    const ceilValues = (records) => mapValues(records, (value) => {\n      if (value && Math.abs(value) === Infinity) {\n        return 0;\n      }\n      return value != null ? Math.ceil(value) : value;\n    });\n    let lastPassAxisWidths = {};\n    let lastPassVisibility = {};\n    let lastPassClipSeries = false;\n    let seriesRect = (_a = this.seriesRect) == null ? void 0 : _a.clone();\n    let count = 0;\n    let primaryTickCounts = {};\n    do {\n      Object.assign(axisWidths, lastPassAxisWidths);\n      clipSeries = lastPassClipSeries;\n      Object.assign(visibility, lastPassVisibility);\n      const result = this.updateAxesPass(axisWidths, inputShrinkRect.clone(), seriesRect);\n      lastPassAxisWidths = ceilValues(result.axisWidths);\n      lastPassVisibility = result.visibility;\n      lastPassClipSeries = result.clipSeries;\n      seriesRect = result.seriesRect;\n      primaryTickCounts = result.primaryTickCounts;\n      if (count++ > 10) {\n        Logger.warn(\"unable to find stable axis layout.\");\n        break;\n      }\n    } while (!stableOutputs(lastPassAxisWidths, lastPassClipSeries, lastPassVisibility));\n    this.axes.forEach((axis) => {\n      axis.update(primaryTickCounts[axis.direction]);\n    });\n    const clipRectPadding = 5;\n    this.axes.forEach((axis) => {\n      axis.setCrossLinesVisible(visibility.crossLines);\n      if (!seriesRect) {\n        return;\n      }\n      axis.clipGrid(\n        seriesRect.x,\n        seriesRect.y,\n        seriesRect.width + clipRectPadding,\n        seriesRect.height + clipRectPadding\n      );\n      switch (axis.position) {\n        case \"left\":\n        case \"right\":\n          axis.clipTickLines(\n            inputShrinkRect.x,\n            seriesRect.y,\n            inputShrinkRect.width + clipRectPadding,\n            seriesRect.height + clipRectPadding\n          );\n          break;\n        case \"top\":\n        case \"bottom\":\n          axis.clipTickLines(\n            seriesRect.x,\n            inputShrinkRect.y,\n            seriesRect.width + clipRectPadding,\n            inputShrinkRect.height + clipRectPadding\n          );\n          break;\n      }\n    });\n    this._lastAxisWidths = axisWidths;\n    this._lastVisibility = visibility;\n    return { seriesRect, animationRect: inputShrinkRect, visibility, clipSeries };\n  }\n  updateAxesPass(axisWidths, bounds, lastPassSeriesRect) {\n    const visited = {};\n    const newAxisWidths = {};\n    const visibility = {\n      series: true,\n      crossLines: true\n    };\n    let clipSeries = false;\n    const primaryTickCounts = {};\n    const paddedBounds = this.applySeriesPadding(bounds);\n    const crossLinePadding = lastPassSeriesRect ? this.buildCrossLinePadding(axisWidths) : {};\n    const axisBound = this.buildAxisBound(paddedBounds, axisWidths, crossLinePadding, visibility);\n    const seriesRect = this.buildSeriesRect(axisBound, axisWidths);\n    this.axes.forEach((axis) => {\n      var _a, _b;\n      const { position = \"left\" } = axis;\n      const {\n        clipSeries: newClipSeries,\n        axisThickness,\n        axisOffset\n      } = this.calculateAxisDimensions({\n        axis,\n        seriesRect,\n        paddedBounds,\n        axisWidths,\n        newAxisWidths,\n        primaryTickCounts,\n        clipSeries,\n        addInterAxisPadding: ((_a = visited[position]) != null ? _a : 0) > 0\n      });\n      visited[position] = ((_b = visited[position]) != null ? _b : 0) + 1;\n      clipSeries = clipSeries || newClipSeries;\n      this.positionAxis({\n        axis,\n        axisBound,\n        axisOffset,\n        axisThickness,\n        axisWidths,\n        primaryTickCounts,\n        seriesRect\n      });\n    });\n    return { clipSeries, seriesRect, axisWidths: newAxisWidths, visibility, primaryTickCounts };\n  }\n  buildCrossLinePadding(axisWidths) {\n    var _a;\n    const crossLinePadding = {};\n    this.axes.forEach((axis) => {\n      if (axis.crossLines) {\n        axis.crossLines.forEach((crossLine) => {\n          var _a2;\n          (_a2 = crossLine.calculatePadding) == null ? void 0 : _a2.call(crossLine, crossLinePadding);\n        });\n      }\n    });\n    for (const [side, padding = 0] of Object.entries(crossLinePadding)) {\n      crossLinePadding[side] = Math.max(padding - ((_a = axisWidths[side]) != null ? _a : 0), 0);\n    }\n    return crossLinePadding;\n  }\n  applySeriesPadding(bounds) {\n    const paddedRect = bounds.clone();\n    const reversedAxes = this.axes.slice().reverse();\n    directions.forEach((dir) => {\n      const padding = this.seriesArea.padding[dir];\n      const axis = reversedAxes.find((a) => a.position === dir);\n      if (axis) {\n        axis.seriesAreaPadding = padding;\n      } else {\n        paddedRect.shrink(padding, dir);\n      }\n    });\n    return paddedRect;\n  }\n  buildAxisBound(bounds, axisWidths, crossLinePadding, visibility) {\n    var _a, _b, _c, _d;\n    const result = bounds.clone();\n    const { top = 0, right = 0, bottom = 0, left = 0 } = crossLinePadding;\n    const horizontalPadding = left + right;\n    const verticalPadding = top + bottom;\n    const totalWidth = ((_a = axisWidths.left) != null ? _a : 0) + ((_b = axisWidths.right) != null ? _b : 0) + horizontalPadding;\n    const totalHeight = ((_c = axisWidths.top) != null ? _c : 0) + ((_d = axisWidths.bottom) != null ? _d : 0) + verticalPadding;\n    if (result.width <= totalWidth || result.height <= totalHeight) {\n      visibility.crossLines = false;\n      visibility.series = false;\n      return result;\n    }\n    result.x += left;\n    result.y += top;\n    result.width -= horizontalPadding;\n    result.height -= verticalPadding;\n    return result;\n  }\n  buildSeriesRect(axisBound, axisWidths) {\n    const result = axisBound.clone();\n    const { top, bottom, left, right } = axisWidths;\n    result.x += left != null ? left : 0;\n    result.y += top != null ? top : 0;\n    result.width -= (left != null ? left : 0) + (right != null ? right : 0);\n    result.height -= (top != null ? top : 0) + (bottom != null ? bottom : 0);\n    result.width = Math.max(0, result.width);\n    result.height = Math.max(0, result.height);\n    return result;\n  }\n  clampToOutsideSeriesRect(seriesRect, value, dimension, direction) {\n    const { x, y, width, height } = seriesRect;\n    const clampBounds = [x, y, x + width, y + height];\n    const compareTo = clampBounds[(dimension === \"x\" ? 0 : 1) + (direction === 1 ? 0 : 2)];\n    const clampFn = direction === 1 ? Math.min : Math.max;\n    return clampFn(value, compareTo);\n  }\n  calculateAxisDimensions(opts) {\n    var _a, _b, _c, _d;\n    const { axis, seriesRect, paddedBounds, axisWidths, newAxisWidths, primaryTickCounts, addInterAxisPadding } = opts;\n    let { clipSeries } = opts;\n    const { position = \"left\", direction } = axis;\n    const isCategory = axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis;\n    const isLeftRight = position === \"left\" || position === \"right\";\n    const axisOffset = (_a = newAxisWidths[position]) != null ? _a : 0;\n    const { min, max } = this.ctx.zoomManager.getAxisZoom(axis.id);\n    if (isLeftRight) {\n      if (isCategory) {\n        axis.range = [0, seriesRect.height];\n        axis.visibleRange = [1 - max, 1 - min];\n      } else {\n        axis.range = [seriesRect.height, 0];\n        axis.visibleRange = [min, max];\n      }\n      axis.gridLength = seriesRect.width;\n    } else {\n      axis.range = [0, seriesRect.width];\n      axis.visibleRange = [min, max];\n      axis.gridLength = seriesRect.height;\n    }\n    let primaryTickCount = axis.nice ? primaryTickCounts[direction] : void 0;\n    const isVertical = direction === \"y\" /* Y */;\n    const paddedBoundsCoefficient = 0.3;\n    if (axis.thickness) {\n      axis.maxThickness = axis.thickness;\n    } else {\n      axis.maxThickness = (isVertical ? paddedBounds.width : paddedBounds.height) * paddedBoundsCoefficient;\n    }\n    const layout = axis.calculateLayout(primaryTickCount);\n    primaryTickCount = layout.primaryTickCount;\n    (_b = primaryTickCounts[direction]) != null ? _b : primaryTickCounts[direction] = primaryTickCount;\n    clipSeries || (clipSeries = axis.dataDomain.clipped || axis.visibleRange[0] > 0 || axis.visibleRange[1] < 1);\n    let axisThickness;\n    if (axis.thickness != null && axis.thickness > 0) {\n      axisThickness = axis.thickness;\n    } else {\n      const { bbox } = layout;\n      axisThickness = isVertical ? bbox.width : bbox.height;\n    }\n    const axisPadding = 15;\n    if (addInterAxisPadding) {\n      axisThickness += axisPadding;\n    }\n    axisThickness = Math.ceil(axisThickness);\n    newAxisWidths[position] = ((_c = newAxisWidths[position]) != null ? _c : 0) + axisThickness;\n    axis.gridPadding = ((_d = axisWidths[position]) != null ? _d : 0) - newAxisWidths[position];\n    return { clipSeries, axisThickness, axisOffset, primaryTickCount };\n  }\n  positionAxis(opts) {\n    var _a, _b, _c, _d;\n    const { axis, axisBound, axisWidths, seriesRect, axisOffset, axisThickness } = opts;\n    const { position } = axis;\n    switch (position) {\n      case \"top\":\n        axis.translation.x = axisBound.x + ((_a = axisWidths.left) != null ? _a : 0);\n        axis.translation.y = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.y + 1 + axisOffset + axisThickness,\n          \"y\",\n          1\n        );\n        break;\n      case \"bottom\":\n        axis.translation.x = axisBound.x + ((_b = axisWidths.left) != null ? _b : 0);\n        axis.translation.y = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.y + axisBound.height + 1 - axisThickness - axisOffset,\n          \"y\",\n          -1\n        );\n        break;\n      case \"left\":\n        axis.translation.y = axisBound.y + ((_c = axisWidths.top) != null ? _c : 0);\n        axis.translation.x = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.x + axisOffset + axisThickness,\n          \"x\",\n          1\n        );\n        break;\n      case \"right\":\n        axis.translation.y = axisBound.y + ((_d = axisWidths.top) != null ? _d : 0);\n        axis.translation.x = this.clampToOutsideSeriesRect(\n          seriesRect,\n          axisBound.x + axisBound.width - axisThickness - axisOffset,\n          \"x\",\n          -1\n        );\n        break;\n    }\n    axis.updatePosition({ rotation: toRadians(axis.rotation), sideFlag: axis.label.getSideFlag() });\n  }\n  shouldFlipXY() {\n    return !this.series.some((series) => !(series instanceof CartesianSeries && series.shouldFlipXY()));\n  }\n};\n_CartesianChart.className = \"CartesianChart\";\n_CartesianChart.type = \"cartesian\";\nvar CartesianChart = _CartesianChart;\n\n// packages/ag-charts-community/src/chart/chartProxy.ts\nvar _AgChartInstanceProxy = class _AgChartInstanceProxy {\n  static isInstance(x) {\n    var _a;\n    if (x instanceof _AgChartInstanceProxy) {\n      return true;\n    }\n    if (((_a = x.constructor) == null ? void 0 : _a.name) === \"AgChartInstanceProxy\" && x.chart != null) {\n      return true;\n    }\n    return x.chart != null && this.validateImplementation(x);\n  }\n  static validateImplementation(x) {\n    var _a;\n    const chartProps = [\"getOptions\", \"destroy\"];\n    const signatureProps = Object.keys((_a = Object.getPrototypeOf(x)) != null ? _a : {});\n    return chartProps.every((prop) => signatureProps.includes(prop));\n  }\n  constructor(chart) {\n    this.chart = chart;\n  }\n  getOptions() {\n    return deepClone(this.chart.getOptions());\n  }\n  resetAnimations() {\n    this.chart.resetAnimations();\n  }\n  skipAnimations() {\n    this.chart.skipAnimations();\n  }\n  destroy() {\n    this.chart.destroy();\n  }\n};\n_AgChartInstanceProxy.chartInstances = /* @__PURE__ */ new WeakMap();\n__decorateClass([\n  ActionOnSet({\n    oldValue(chart) {\n      _AgChartInstanceProxy.chartInstances.delete(chart);\n    },\n    newValue(chart) {\n      _AgChartInstanceProxy.chartInstances.set(chart, this);\n    }\n  })\n], _AgChartInstanceProxy.prototype, \"chart\", 2);\nvar AgChartInstanceProxy = _AgChartInstanceProxy;\n\n// packages/ag-charts-community/src/scale/linearScale.ts\nvar LinearScale = class extends ContinuousScale {\n  constructor() {\n    super([0, 1], [0, 1]);\n    this.type = \"number\";\n  }\n  toDomain(d) {\n    return d;\n  }\n  ticks() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    if (!this.domain || this.domain.length < 2 || count < 1 || this.domain.some((d) => !isFinite(d))) {\n      return [];\n    }\n    this.refresh();\n    const [d0, d1] = this.getDomain();\n    const { interval } = this;\n    if (interval) {\n      const step = Math.abs(interval);\n      const availableRange = this.getPixelRange();\n      if (!isDenseInterval({ start: d0, stop: d1, interval: step, availableRange })) {\n        return range(d0, d1, step);\n      }\n    }\n    return ticks_default(d0, d1, count, this.minTickCount, this.maxTickCount);\n  }\n  update() {\n    if (!this.domain || this.domain.length < 2) {\n      return;\n    }\n    if (this.nice) {\n      this.updateNiceDomain();\n    }\n  }\n  getTickStep(start, stop) {\n    var _a, _b;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    return (_b = this.interval) != null ? _b : tickStep(start, stop, count, this.minTickCount, this.maxTickCount);\n  }\n  /**\n   * Extends the domain so that it starts and ends on nice round values.\n   */\n  updateNiceDomain() {\n    var _a;\n    const count = (_a = this.tickCount) != null ? _a : ContinuousScale.defaultTickCount;\n    if (count < 1) {\n      this.niceDomain = [...this.domain];\n      return;\n    }\n    let [start, stop] = this.domain;\n    if (count === 1) {\n      [start, stop] = singleTickDomain(start, stop);\n    } else {\n      const roundStart = start > stop ? Math.ceil : Math.floor;\n      const roundStop = stop < start ? Math.floor : Math.ceil;\n      const maxAttempts = 4;\n      for (let i = 0; i < maxAttempts; i++) {\n        const prev0 = start;\n        const prev1 = stop;\n        const step = this.getTickStep(start, stop);\n        const [d0, d1] = this.domain;\n        if (step >= 1) {\n          start = roundStart(d0 / step) * step;\n          stop = roundStop(d1 / step) * step;\n        } else {\n          const s = 1 / step;\n          start = roundStart(d0 * s) / s;\n          stop = roundStop(d1 * s) / s;\n        }\n        if (start === prev0 && stop === prev1) {\n          break;\n        }\n      }\n    }\n    this.niceDomain = [start, stop];\n  }\n  tickFormat({ ticks: specifiedTicks, specifier }) {\n    return tickFormat(specifiedTicks != null ? specifiedTicks : this.ticks(), specifier);\n  }\n};\n\n// packages/ag-charts-community/src/util/secondaryAxisTicks.ts\nfunction calculateNiceSecondaryAxis(domain, primaryTickCount, reverse) {\n  let [start, stop] = findMinMax(domain);\n  start = calculateNiceStart(Math.floor(start), stop, primaryTickCount);\n  const step = getTickStep(start, stop, primaryTickCount);\n  const segments = primaryTickCount - 1;\n  stop = start + segments * step;\n  const d = reverse ? [stop, start] : [start, stop];\n  const ticks = getTicks(start, step, primaryTickCount);\n  return [d, ticks];\n}\nfunction calculateNiceStart(a, b, count) {\n  const rawStep = Math.abs(b - a) / (count - 1);\n  const order = Math.floor(Math.log10(rawStep));\n  const magnitude = Math.pow(10, order);\n  return Math.floor(a / magnitude) * magnitude;\n}\nfunction getTicks(start, step, count) {\n  const stepPower = Math.floor(Math.log10(step));\n  const fractionDigits = step > 0 && step < 1 ? Math.abs(stepPower) : 0;\n  const f = Math.pow(10, fractionDigits);\n  const ticks = createNumericTicks(fractionDigits);\n  for (let i = 0; i < count; i++) {\n    const tick = start + step * i;\n    ticks[i] = Math.round(tick * f) / f;\n  }\n  return ticks;\n}\nfunction getTickStep(start, stop, count) {\n  const segments = count - 1;\n  const rawStep = (stop - start) / segments;\n  return calculateNextNiceStep(rawStep);\n}\nfunction calculateNextNiceStep(rawStep) {\n  const order = Math.floor(Math.log10(rawStep));\n  const magnitude = Math.pow(10, order);\n  const step = rawStep / magnitude * 10;\n  if (step > 0 && step <= 1) {\n    return magnitude / 10;\n  }\n  if (step > 1 && step <= 2) {\n    return 2 * magnitude / 10;\n  }\n  if (step > 1 && step <= 5) {\n    return 5 * magnitude / 10;\n  }\n  if (step > 5 && step <= 10) {\n    return 10 * magnitude / 10;\n  }\n  if (step > 10 && step <= 20) {\n    return 20 * magnitude / 10;\n  }\n  if (step > 20 && step <= 40) {\n    return 40 * magnitude / 10;\n  }\n  if (step > 40 && step <= 50) {\n    return 50 * magnitude / 10;\n  }\n  if (step > 50 && step <= 100) {\n    return 100 * magnitude / 10;\n  }\n  return step;\n}\n\n// packages/ag-charts-community/src/chart/axis/numberAxis.ts\nvar NumberAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n    this.maxSpacing = NaN;\n  }\n};\n__decorateClass([\n  Validate(MIN_SPACING),\n  Default(NaN)\n], NumberAxisTick.prototype, \"minSpacing\", 2);\n__decorateClass([\n  Validate(MAX_SPACING),\n  Default(NaN)\n], NumberAxisTick.prototype, \"maxSpacing\", 2);\nvar NumberAxis = class extends CartesianAxis {\n  constructor(moduleCtx, scale2 = new LinearScale()) {\n    super(moduleCtx, scale2);\n    this.min = NaN;\n    this.max = NaN;\n  }\n  normaliseDataDomain(d) {\n    const { min, max } = this;\n    const { extent: extent2, clipped } = normalisedExtentWithMetadata(d, min, max);\n    return { domain: extent2, clipped };\n  }\n  createTick() {\n    return new NumberAxisTick();\n  }\n  updateSecondaryAxisTicks(primaryTickCount) {\n    if (this.dataDomain == null) {\n      throw new Error(\"AG Charts - dataDomain not calculated, cannot perform tick calculation.\");\n    }\n    if (this.dataDomain.domain.length === 0)\n      return [];\n    const [d, ticks] = calculateNiceSecondaryAxis(this.dataDomain.domain, primaryTickCount != null ? primaryTickCount : 0, this.reverse);\n    this.scale.nice = false;\n    this.scale.domain = d;\n    this.scale.update();\n    return ticks;\n  }\n  formatDatum(datum) {\n    if (typeof datum === \"number\") {\n      return datum.toFixed(2);\n    } else {\n      return String(datum);\n    }\n  }\n};\nNumberAxis.className = \"NumberAxis\";\nNumberAxis.type = \"number\";\n__decorateClass([\n  Validate(AND(NUMBER_OR_NAN, LESS_THAN(\"max\"))),\n  Default(NaN)\n], NumberAxis.prototype, \"min\", 2);\n__decorateClass([\n  Validate(AND(NUMBER_OR_NAN, GREATER_THAN(\"min\"))),\n  Default(NaN)\n], NumberAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/axis/logAxis.ts\nvar NON_ZERO_NUMBER = predicateWithMessage((value) => isNumber(value) && value !== 0, \"a non-zero number\");\nvar LogAxis = class extends NumberAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new LogScale());\n    this.min = NaN;\n    this.max = NaN;\n  }\n  normaliseDataDomain(d) {\n    const { min, max } = this;\n    const { extent: extent2, clipped } = normalisedExtentWithMetadata(d, min, max);\n    const isInverted = extent2[0] > extent2[1];\n    const crossesZero = extent2[0] < 0 && extent2[1] > 0;\n    const hasZeroExtent = extent2[0] === 0 && extent2[1] === 0;\n    const invalidDomain = isInverted || crossesZero || hasZeroExtent;\n    if (invalidDomain) {\n      if (crossesZero) {\n        Logger.warn(\n          `the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information.`\n        );\n      } else if (hasZeroExtent) {\n        Logger.warn(`the data domain has 0 extent, no data is rendered.`);\n      }\n    }\n    if (extent2[0] === 0) {\n      extent2[0] = 1;\n    }\n    if (extent2[1] === 0) {\n      extent2[1] = -1;\n    }\n    return { domain: extent2, clipped };\n  }\n  set base(value) {\n    this.scale.base = value;\n  }\n  get base() {\n    return this.scale.base;\n  }\n};\nLogAxis.className = \"LogAxis\";\nLogAxis.type = \"log\";\n__decorateClass([\n  Validate(AND(NUMBER_OR_NAN, NON_ZERO_NUMBER, LESS_THAN(\"max\"))),\n  Default(NaN)\n], LogAxis.prototype, \"min\", 2);\n__decorateClass([\n  Validate(AND(NUMBER_OR_NAN, NON_ZERO_NUMBER, GREATER_THAN(\"min\"))),\n  Default(NaN)\n], LogAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/axis/timeAxis.ts\nvar TimeAxisTick = class extends AxisTick {\n  constructor() {\n    super(...arguments);\n    this.minSpacing = NaN;\n    this.maxSpacing = NaN;\n  }\n};\n__decorateClass([\n  Validate(MIN_SPACING),\n  Default(NaN)\n], TimeAxisTick.prototype, \"minSpacing\", 2);\n__decorateClass([\n  Validate(MAX_SPACING),\n  Default(NaN)\n], TimeAxisTick.prototype, \"maxSpacing\", 2);\nvar TimeAxis = class extends CartesianAxis {\n  constructor(moduleCtx) {\n    super(moduleCtx, new TimeScale());\n    this.min = void 0;\n    this.max = void 0;\n    this.refreshScale();\n  }\n  normaliseDataDomain(d) {\n    var _a;\n    let { min, max } = this;\n    let clipped = false;\n    if (typeof min === \"number\") {\n      min = new Date(min);\n    }\n    if (typeof max === \"number\") {\n      max = new Date(max);\n    }\n    if (d.length > 2) {\n      d = ((_a = extent(d)) != null ? _a : [0, 1e3]).map((x) => new Date(x));\n    }\n    if (min instanceof Date) {\n      clipped || (clipped = min > d[0]);\n      d = [min, d[1]];\n    }\n    if (max instanceof Date) {\n      clipped || (clipped = max < d[1]);\n      d = [d[0], max];\n    }\n    if (d[0] > d[1]) {\n      d = [];\n    }\n    return { domain: d, clipped };\n  }\n  createTick() {\n    return new TimeAxisTick();\n  }\n  onLabelFormatChange(ticks, domain, format2) {\n    if (format2) {\n      super.onLabelFormatChange(ticks, domain, format2);\n    } else {\n      this.labelFormatter = this.scale.tickFormat({ ticks, domain });\n    }\n  }\n  calculatePadding() {\n    return [0, 0];\n  }\n  formatDatum(datum) {\n    var _a;\n    const formatter = this.scale.tickFormat({\n      specifier: \"%m/%d/%y, %H:%M:%S\"\n    });\n    return (_a = this.moduleCtx.callbackCache.call(formatter, datum)) != null ? _a : String(datum);\n  }\n};\nTimeAxis.className = \"TimeAxis\";\nTimeAxis.type = \"time\";\n__decorateClass([\n  Validate(AND(DATE_OR_DATETIME_MS, LESS_THAN(\"max\")), { optional: true })\n], TimeAxis.prototype, \"min\", 2);\n__decorateClass([\n  Validate(AND(DATE_OR_DATETIME_MS, GREATER_THAN(\"min\")), { optional: true })\n], TimeAxis.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/scene/shape/rect.ts\nvar epsilon = 1e-6;\nvar cornerEdges = (leadingEdge, trailingEdge, leadingInset, trailingInset, cornerRadius) => {\n  let leadingClipped = false;\n  let trailingClipped = false;\n  let leading0 = trailingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(leadingInset, 2), 0));\n  let leading1 = 0;\n  let trailing0 = 0;\n  let trailing1 = leadingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(trailingInset, 2), 0));\n  if (leading0 > leadingEdge) {\n    leadingClipped = true;\n    leading0 = leadingEdge;\n    leading1 = leadingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(trailingInset - leadingEdge, 2)));\n  } else if (leading0 < epsilon) {\n    leading0 = 0;\n  }\n  if (trailing1 > trailingEdge) {\n    trailingClipped = true;\n    trailing0 = trailingInset - Math.sqrt(Math.max(__pow(cornerRadius, 2) - __pow(leadingInset - trailingEdge, 2)));\n    trailing1 = trailingEdge;\n  } else if (trailing1 < epsilon) {\n    trailing1 = 0;\n  }\n  return { leading0, leading1, trailing0, trailing1, leadingClipped, trailingClipped };\n};\nvar drawCorner = (path, { x0, y0, x1, y1, cx, cy }, cornerRadius, move) => {\n  if (move) {\n    path.moveTo(x0, y0);\n  }\n  if (x0 !== x1 || y0 !== y1) {\n    const r0 = Math.atan2(y0 - cy, x0 - cx);\n    const r1 = Math.atan2(y1 - cy, x1 - cx);\n    path.arc(cx, cy, cornerRadius, r0, r1);\n  } else {\n    path.lineTo(x0, y0);\n  }\n};\nvar insetCornerRadiusRect = (path, x, y, width, height, cornerRadii, clipBBox) => {\n  let {\n    topLeft: topLeftCornerRadius,\n    topRight: topRightCornerRadius,\n    bottomRight: bottomRightCornerRadius,\n    bottomLeft: bottomLeftCornerRadius\n  } = cornerRadii;\n  const maxVerticalCornerRadius = Math.max(\n    topLeftCornerRadius + bottomLeftCornerRadius,\n    topRightCornerRadius + bottomRightCornerRadius\n  );\n  const maxHorizontalCornerRadius = Math.max(\n    topLeftCornerRadius + topRightCornerRadius,\n    bottomLeftCornerRadius + bottomRightCornerRadius\n  );\n  if (maxVerticalCornerRadius <= 0 && maxHorizontalCornerRadius <= 0) {\n    if (clipBBox == null) {\n      path.rect(x, y, width, height);\n    } else {\n      path.rect(clipBBox.x, clipBBox.y, clipBBox.width, clipBBox.height);\n    }\n    return;\n  } else if (clipBBox == null && topLeftCornerRadius === topRightCornerRadius && topLeftCornerRadius === bottomRightCornerRadius && topLeftCornerRadius === bottomLeftCornerRadius) {\n    path.roundRect(x, y, width, height, topLeftCornerRadius);\n    return;\n  }\n  if (width < 0) {\n    x += width;\n    width = Math.abs(width);\n  }\n  if (height < 0) {\n    y += height;\n    height = Math.abs(height);\n  }\n  if (width <= 0 || height <= 0)\n    return;\n  if (clipBBox == null) {\n    clipBBox = new BBox(x, y, width, height);\n  } else {\n    const x0 = Math.max(x, clipBBox.x);\n    const x1 = Math.min(x + width, clipBBox.x + clipBBox.width);\n    const y0 = Math.max(y, clipBBox.y);\n    const y1 = Math.min(y + height, clipBBox.y + clipBBox.height);\n    clipBBox = new BBox(x0, y0, x1 - x0, y1 - y0);\n  }\n  const borderScale = Math.max(maxVerticalCornerRadius / height, maxHorizontalCornerRadius / width, 1);\n  if (borderScale > 1) {\n    topLeftCornerRadius /= borderScale;\n    topRightCornerRadius /= borderScale;\n    bottomRightCornerRadius /= borderScale;\n    bottomLeftCornerRadius /= borderScale;\n  }\n  let drawTopLeftCorner = true;\n  let drawTopRightCorner = true;\n  let drawBottomRightCorner = true;\n  let drawBottomLeftCorner = true;\n  let topLeftCorner;\n  let topRightCorner;\n  let bottomRightCorner;\n  let bottomLeftCorner;\n  if (drawTopLeftCorner) {\n    const nodes = cornerEdges(\n      clipBBox.height,\n      clipBBox.width,\n      Math.max(x + topLeftCornerRadius - clipBBox.x, 0),\n      Math.max(y + topLeftCornerRadius - clipBBox.y, 0),\n      topLeftCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawBottomLeftCorner = false;\n    if (nodes.trailingClipped)\n      drawTopRightCorner = false;\n    const x0 = Math.max(clipBBox.x + nodes.leading1, clipBBox.x);\n    const y0 = Math.max(clipBBox.y + nodes.leading0, clipBBox.y);\n    const x1 = Math.max(clipBBox.x + nodes.trailing1, clipBBox.x);\n    const y1 = Math.max(clipBBox.y + nodes.trailing0, clipBBox.y);\n    const cx = x + topLeftCornerRadius;\n    const cy = y + topLeftCornerRadius;\n    topLeftCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  if (drawTopRightCorner) {\n    const nodes = cornerEdges(\n      clipBBox.width,\n      clipBBox.height,\n      Math.max(y + topRightCornerRadius - clipBBox.y, 0),\n      Math.max(clipBBox.x + clipBBox.width - (x + width - topRightCornerRadius), 0),\n      topRightCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawTopLeftCorner = false;\n    if (nodes.trailingClipped)\n      drawBottomRightCorner = false;\n    const x0 = Math.min(clipBBox.x + clipBBox.width - nodes.leading0, clipBBox.x + clipBBox.width);\n    const y0 = Math.max(clipBBox.y + nodes.leading1, clipBBox.y);\n    const x1 = Math.min(clipBBox.x + clipBBox.width - nodes.trailing0, clipBBox.x + clipBBox.width);\n    const y1 = Math.max(clipBBox.y + nodes.trailing1, clipBBox.y);\n    const cx = x + width - topRightCornerRadius;\n    const cy = y + topRightCornerRadius;\n    topRightCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  if (drawBottomRightCorner) {\n    const nodes = cornerEdges(\n      clipBBox.height,\n      clipBBox.width,\n      Math.max(clipBBox.x + clipBBox.width - (x + width - bottomRightCornerRadius), 0),\n      Math.max(clipBBox.y + clipBBox.height - (y + height - bottomRightCornerRadius), 0),\n      bottomRightCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawTopRightCorner = false;\n    if (nodes.trailingClipped)\n      drawBottomLeftCorner = false;\n    const x0 = Math.min(clipBBox.x + clipBBox.width - nodes.leading1, clipBBox.x + clipBBox.width);\n    const y0 = Math.min(clipBBox.y + clipBBox.height - nodes.leading0, clipBBox.y + clipBBox.height);\n    const x1 = Math.min(clipBBox.x + clipBBox.width - nodes.trailing1, clipBBox.x + clipBBox.width);\n    const y1 = Math.min(clipBBox.y + clipBBox.height - nodes.trailing0, clipBBox.y + clipBBox.height);\n    const cx = x + width - bottomRightCornerRadius;\n    const cy = y + height - bottomRightCornerRadius;\n    bottomRightCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  if (drawBottomLeftCorner) {\n    const nodes = cornerEdges(\n      clipBBox.width,\n      clipBBox.height,\n      Math.max(clipBBox.y + clipBBox.height - (y + height - bottomLeftCornerRadius), 0),\n      Math.max(x + bottomLeftCornerRadius - clipBBox.x, 0),\n      bottomLeftCornerRadius\n    );\n    if (nodes.leadingClipped)\n      drawBottomRightCorner = false;\n    if (nodes.trailingClipped)\n      drawTopLeftCorner = false;\n    const x0 = Math.max(clipBBox.x + nodes.leading0, clipBBox.x);\n    const y0 = Math.min(clipBBox.y + clipBBox.height - nodes.leading1, clipBBox.y + clipBBox.height);\n    const x1 = Math.max(clipBBox.x + nodes.trailing0, clipBBox.x);\n    const y1 = Math.min(clipBBox.y + clipBBox.height - nodes.trailing1, clipBBox.y + clipBBox.height);\n    const cx = x + bottomLeftCornerRadius;\n    const cy = y + height - bottomLeftCornerRadius;\n    bottomLeftCorner = { x0, y0, x1, y1, cx, cy };\n  }\n  let didMove = false;\n  if (drawTopLeftCorner && topLeftCorner != null) {\n    drawCorner(path, topLeftCorner, topLeftCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawTopRightCorner && topRightCorner != null) {\n    drawCorner(path, topRightCorner, topRightCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawBottomRightCorner && bottomRightCorner != null) {\n    drawCorner(path, bottomRightCorner, bottomRightCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  if (drawBottomLeftCorner && bottomLeftCorner != null) {\n    drawCorner(path, bottomLeftCorner, bottomLeftCornerRadius, !didMove);\n    didMove || (didMove = true);\n  }\n  path.closePath();\n};\nvar Rect = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.borderPath = new ExtendedPath2D();\n    this.x = 0;\n    this.y = 0;\n    this.width = 10;\n    this.height = 10;\n    this.topLeftCornerRadius = 0;\n    this.topRightCornerRadius = 0;\n    this.bottomRightCornerRadius = 0;\n    this.bottomLeftCornerRadius = 0;\n    this.clipBBox = void 0;\n    this.crisp = false;\n    this.lastUpdatePathStrokeWidth = Shape.defaultStyles.strokeWidth;\n    this.effectiveStrokeWidth = Shape.defaultStyles.strokeWidth;\n    this.hittester = super.isPointInPath;\n    this.distanceCalculator = super.distanceSquared;\n    /**\n     * When the rectangle's width or height is less than a pixel\n     * and crisp mode is on, the rectangle will still fit into the pixel,\n     * but will be less opaque to make an effect of holding less space.\n     */\n    this.microPixelEffectOpacity = 1;\n  }\n  set cornerRadius(cornerRadius) {\n    this.topLeftCornerRadius = cornerRadius;\n    this.topRightCornerRadius = cornerRadius;\n    this.bottomRightCornerRadius = cornerRadius;\n    this.bottomLeftCornerRadius = cornerRadius;\n  }\n  isDirtyPath() {\n    return this.lastUpdatePathStrokeWidth !== this.strokeWidth || Boolean(this.path.isDirty() || this.borderPath.isDirty());\n  }\n  updatePath() {\n    var _a, _b, _c;\n    const {\n      path,\n      borderPath,\n      crisp,\n      topLeftCornerRadius: topLeft,\n      topRightCornerRadius: topRight,\n      bottomRightCornerRadius: bottomRight,\n      bottomLeftCornerRadius: bottomLeft\n    } = this;\n    let { x, y, width: w, height: h, strokeWidth, clipBBox } = this;\n    const pixelRatio = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas.pixelRatio) != null ? _b : 1;\n    const pixelSize = 1 / pixelRatio;\n    let microPixelEffectOpacity = 1;\n    path.clear(true);\n    borderPath.clear(true);\n    if (crisp) {\n      if (w <= pixelSize) {\n        microPixelEffectOpacity *= w / pixelSize;\n      }\n      if (h <= pixelSize) {\n        microPixelEffectOpacity *= h / pixelSize;\n      }\n      w = this.align(x, w);\n      h = this.align(y, h);\n      x = this.align(x);\n      y = this.align(y);\n      clipBBox = clipBBox != null ? new BBox(\n        this.align(clipBBox.x),\n        this.align(clipBBox.y),\n        this.align(clipBBox.x, clipBBox.width),\n        this.align(clipBBox.y, clipBBox.height)\n      ) : void 0;\n    }\n    if (strokeWidth) {\n      if (w < pixelSize) {\n        const lx = x + pixelSize / 2;\n        borderPath.moveTo(lx, y);\n        borderPath.lineTo(lx, y + h);\n        strokeWidth = pixelSize;\n        this.borderClipPath = void 0;\n      } else if (h < pixelSize) {\n        const ly = y + pixelSize / 2;\n        borderPath.moveTo(x, ly);\n        borderPath.lineTo(x + w, ly);\n        strokeWidth = pixelSize;\n        this.borderClipPath = void 0;\n      } else if (strokeWidth < w && strokeWidth < h) {\n        const halfStrokeWidth = strokeWidth / 2;\n        x += halfStrokeWidth;\n        y += halfStrokeWidth;\n        w -= strokeWidth;\n        h -= strokeWidth;\n        const adjustedClipBBox = clipBBox == null ? void 0 : clipBBox.clone().shrink(halfStrokeWidth);\n        const cornerRadii = {\n          topLeft: topLeft > 0 ? topLeft - strokeWidth : 0,\n          topRight: topRight > 0 ? topRight - strokeWidth : 0,\n          bottomRight: bottomRight > 0 ? bottomRight - strokeWidth : 0,\n          bottomLeft: bottomLeft > 0 ? bottomLeft - strokeWidth : 0\n        };\n        this.borderClipPath = void 0;\n        if (w > 0 && h > 0 && (adjustedClipBBox == null || (adjustedClipBBox == null ? void 0 : adjustedClipBBox.width) > 0 && (adjustedClipBBox == null ? void 0 : adjustedClipBBox.height) > 0)) {\n          insetCornerRadiusRect(path, x, y, w, h, cornerRadii, adjustedClipBBox);\n          insetCornerRadiusRect(borderPath, x, y, w, h, cornerRadii, adjustedClipBBox);\n        }\n      } else {\n        this.borderClipPath = (_c = this.borderClipPath) != null ? _c : new ExtendedPath2D();\n        this.borderClipPath.clear(true);\n        this.borderClipPath.rect(x, y, w, h);\n        borderPath.rect(x, y, w, h);\n      }\n    } else {\n      const cornerRadii = { topLeft, topRight, bottomRight, bottomLeft };\n      this.borderClipPath = void 0;\n      insetCornerRadiusRect(path, x, y, w, h, cornerRadii, clipBBox);\n    }\n    if ([topLeft, topRight, bottomRight, bottomLeft].every((r) => r === 0)) {\n      this.hittester = (hitX, hitY) => {\n        const point = this.transformPoint(hitX, hitY);\n        return this.getCachedBBox().containsPoint(point.x, point.y);\n      };\n      this.distanceSquared = (hitX, hitY) => this.getCachedBBox().distanceSquared(hitX, hitY);\n    } else {\n      this.hittester = super.isPointInPath;\n      this.distanceCalculator = super.distanceSquared;\n    }\n    this.effectiveStrokeWidth = strokeWidth;\n    this.lastUpdatePathStrokeWidth = strokeWidth;\n    this.microPixelEffectOpacity = microPixelEffectOpacity;\n  }\n  computeBBox() {\n    var _a;\n    const { x, y, width, height, clipBBox } = this;\n    return (_a = clipBBox == null ? void 0 : clipBBox.clone()) != null ? _a : new BBox(x, y, width, height);\n  }\n  isPointInPath(x, y) {\n    return this.hittester(x, y);\n  }\n  get midPoint() {\n    return { x: this.x + this.width / 2, y: this.y + this.height / 2 };\n  }\n  distanceSquared(x, y) {\n    return this.distanceCalculator(x, y);\n  }\n  applyFillAlpha(ctx) {\n    const { fillOpacity, microPixelEffectOpacity, opacity } = this;\n    ctx.globalAlpha *= opacity * fillOpacity * microPixelEffectOpacity;\n  }\n  renderStroke(ctx) {\n    const { stroke, effectiveStrokeWidth } = this;\n    if (stroke && effectiveStrokeWidth) {\n      const { globalAlpha } = ctx;\n      const {\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        lineCap,\n        lineJoin,\n        borderPath,\n        borderClipPath,\n        opacity,\n        microPixelEffectOpacity\n      } = this;\n      if (borderClipPath) {\n        ctx.clip(borderClipPath.getPath2D());\n      }\n      ctx.strokeStyle = stroke;\n      ctx.globalAlpha *= opacity * strokeOpacity * microPixelEffectOpacity;\n      ctx.lineWidth = effectiveStrokeWidth;\n      if (lineDash) {\n        ctx.setLineDash(lineDash);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineCap) {\n        ctx.lineCap = lineCap;\n      }\n      if (lineJoin) {\n        ctx.lineJoin = lineJoin;\n      }\n      ctx.stroke(borderPath.getPath2D());\n      ctx.globalAlpha = globalAlpha;\n    }\n  }\n};\nRect.className = \"Rect\";\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"x\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"y\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"width\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"height\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"topLeftCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"topRightCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"bottomRightCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"bottomLeftCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"clipBBox\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Rect.prototype, \"crisp\", 2);\n\n// packages/ag-charts-community/src/chart/background/background.ts\nvar Background = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.node = new Group({ name: \"background\", zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */ });\n    this.rectNode = new Rect();\n    this.visible = true;\n    this.fill = \"white\";\n    this.node.appendChild(this.rectNode);\n    this.destroyFns.push(\n      ctx.scene.attachNode(this.node),\n      ctx.layoutService.addListener(\"layout-complete\", (e) => this.onLayoutComplete(e))\n    );\n  }\n  onLayoutComplete(e) {\n    const { width, height } = e.chart;\n    this.rectNode.width = width;\n    this.rectNode.height = height;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN),\n  ProxyPropertyOnWrite(\"node\", \"visible\")\n], Background.prototype, \"visible\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true }),\n  ProxyPropertyOnWrite(\"rectNode\", \"fill\")\n], Background.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(OBJECT, { optional: true })\n], Background.prototype, \"image\", 2);\n\n// packages/ag-charts-community/src/chart/background/backgroundModule.ts\nvar BackgroundModule = {\n  type: \"root\",\n  optionsKey: \"background\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  instanceConstructor: Background\n};\n\n// packages/ag-charts-community/src/chart/gridLayout.ts\nfunction gridLayout({\n  orientation,\n  bboxes,\n  maxHeight,\n  maxWidth,\n  itemPaddingY = 0,\n  itemPaddingX = 0,\n  forceResult = false\n}) {\n  const horizontal = orientation === \"horizontal\";\n  const primary = {\n    max: horizontal ? maxWidth : maxHeight,\n    fn: horizontal ? (b) => b.width : (b) => b.height,\n    padding: horizontal ? itemPaddingX : itemPaddingY\n  };\n  const secondary = {\n    max: horizontal ? maxHeight : maxWidth,\n    fn: horizontal ? (b) => b.height : (b) => b.width,\n    padding: horizontal ? itemPaddingY : itemPaddingX\n  };\n  let processedBBoxCount = 0;\n  const rawPages = [];\n  while (processedBBoxCount < bboxes.length) {\n    const unprocessedBBoxes = bboxes.slice(processedBBoxCount);\n    const result = processBBoxes(unprocessedBBoxes, processedBBoxCount, primary, secondary, forceResult);\n    if (!result) {\n      return;\n    }\n    processedBBoxCount += result.processedBBoxCount;\n    rawPages.push(result.pageIndices);\n  }\n  return buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX);\n}\nfunction processBBoxes(bboxes, indexOffset, primary, secondary, forceResult) {\n  const minGuess = 1;\n  let startingGuess = estimateStartingGuess(bboxes, primary);\n  if (startingGuess < minGuess) {\n    if (!forceResult) {\n      return;\n    }\n    startingGuess = minGuess;\n  }\n  let guess = startingGuess;\n  while (guess >= minGuess) {\n    const pageIndices = calculatePage(bboxes, indexOffset, guess, primary, secondary, forceResult);\n    if (pageIndices == null && guess <= minGuess) {\n      return;\n    }\n    if (pageIndices == null) {\n      guess--;\n      continue;\n    }\n    if (typeof pageIndices === \"number\") {\n      if (pageIndices <= minGuess) {\n        return;\n      }\n      guess = pageIndices < guess && pageIndices > minGuess ? pageIndices : guess;\n      guess--;\n      continue;\n    }\n    const processedBBoxCount = pageIndices.length * pageIndices[0].length;\n    return { processedBBoxCount, pageIndices };\n  }\n}\nfunction calculatePage(bboxes, indexOffset, primaryCount, primary, secondary, forceResult) {\n  var _a;\n  const result = [];\n  let sumSecondary = 0;\n  let currentMaxSecondary = 0;\n  let currentPrimaryIndices = [];\n  const maxPrimaryValues = [];\n  for (let bboxIndex = 0; bboxIndex < bboxes.length; bboxIndex++) {\n    const primaryValueIdx = (bboxIndex + primaryCount) % primaryCount;\n    if (primaryValueIdx === 0) {\n      sumSecondary += currentMaxSecondary;\n      currentMaxSecondary = 0;\n      if (currentPrimaryIndices.length > 0) {\n        result.push(currentPrimaryIndices);\n      }\n      currentPrimaryIndices = [];\n    }\n    const primaryValue = primary.fn(bboxes[bboxIndex]) + primary.padding;\n    maxPrimaryValues[primaryValueIdx] = Math.max((_a = maxPrimaryValues[primaryValueIdx]) != null ? _a : 0, primaryValue);\n    currentMaxSecondary = Math.max(currentMaxSecondary, secondary.fn(bboxes[bboxIndex]) + secondary.padding);\n    const currentSecondaryDimension = sumSecondary + currentMaxSecondary;\n    const returnResult = !forceResult || result.length > 0;\n    if (currentSecondaryDimension > secondary.max && returnResult) {\n      currentPrimaryIndices = [];\n      break;\n    }\n    const sumPrimary = maxPrimaryValues.reduce((sum2, next) => sum2 + next, 0);\n    if (sumPrimary > primary.max && !forceResult) {\n      if (maxPrimaryValues.length < primaryCount) {\n        return maxPrimaryValues.length;\n      }\n      return;\n    }\n    currentPrimaryIndices.push(bboxIndex + indexOffset);\n  }\n  if (currentPrimaryIndices.length > 0) {\n    result.push(currentPrimaryIndices);\n  }\n  return result.length > 0 ? result : void 0;\n}\nfunction buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX) {\n  let maxPageWidth = 0;\n  let maxPageHeight = 0;\n  const pages = rawPages.map((indices) => {\n    if (orientation === \"horizontal\") {\n      indices = transpose(indices);\n    }\n    let endIndex = 0;\n    const columns = indices.map((colIndices) => {\n      const colBBoxes = colIndices.map((bboxIndex) => {\n        endIndex = Math.max(bboxIndex, endIndex);\n        return bboxes[bboxIndex];\n      });\n      let columnHeight = 0;\n      let columnWidth = 0;\n      colBBoxes.forEach((bbox) => {\n        columnHeight += bbox.height + itemPaddingY;\n        columnWidth = Math.max(columnWidth, bbox.width + itemPaddingX);\n      });\n      return {\n        indices: colIndices,\n        bboxes: colBBoxes,\n        columnHeight: Math.ceil(columnHeight),\n        columnWidth: Math.ceil(columnWidth)\n      };\n    });\n    let pageWidth = 0;\n    let pageHeight = 0;\n    columns.forEach((column) => {\n      pageWidth += column.columnWidth;\n      pageHeight = Math.max(pageHeight, column.columnHeight);\n    });\n    maxPageWidth = Math.max(pageWidth, maxPageWidth);\n    maxPageHeight = Math.max(pageHeight, maxPageHeight);\n    return {\n      columns,\n      startIndex: indices[0][0],\n      endIndex,\n      pageWidth,\n      pageHeight\n    };\n  });\n  return { pages, maxPageWidth, maxPageHeight };\n}\nfunction transpose(data) {\n  const result = [];\n  for (const _ of data[0]) {\n    result.push([]);\n  }\n  data.forEach((innerData, dataIdx) => {\n    innerData.forEach((item, itemIdx) => {\n      result[itemIdx][dataIdx] = item;\n    });\n  });\n  return result;\n}\nfunction estimateStartingGuess(bboxes, primary) {\n  const n = bboxes.length;\n  let primarySum = 0;\n  for (let bboxIndex = 0; bboxIndex < n; bboxIndex++) {\n    primarySum += primary.fn(bboxes[bboxIndex]) + primary.padding;\n    if (primarySum > primary.max) {\n      const ratio = n / bboxIndex;\n      if (ratio < 2) {\n        return Math.ceil(n / 2);\n      }\n      return bboxIndex;\n    }\n  }\n  return n;\n}\n\n// packages/ag-charts-community/src/chart/markerLabel.ts\nvar MarkerLabel = class extends Group {\n  constructor() {\n    super({ name: \"markerLabelGroup\" });\n    this.label = new Text();\n    this.line = new Line();\n    this._marker = new Square();\n    this._markerSize = 15;\n    this._spacing = 8;\n    const { marker, label, line } = this;\n    label.textBaseline = \"middle\";\n    label.fontSize = 12;\n    label.fontFamily = \"Verdana, sans-serif\";\n    label.fill = \"black\";\n    label.y = 1;\n    this.append([line, marker, label]);\n    this.update();\n  }\n  set marker(value) {\n    if (this._marker !== value) {\n      this.removeChild(this._marker);\n      this._marker = value;\n      this.appendChild(value);\n      this.update();\n    }\n  }\n  get marker() {\n    return this._marker;\n  }\n  set markerSize(value) {\n    if (this._markerSize !== value) {\n      this._markerSize = value;\n      this.update();\n    }\n  }\n  get markerSize() {\n    return this._markerSize;\n  }\n  set spacing(value) {\n    if (this._spacing !== value) {\n      this._spacing = value;\n      this.update();\n    }\n  }\n  get spacing() {\n    return this._spacing;\n  }\n  setSeriesStrokeOffset(xOff) {\n    const offset4 = this.marker.size / 2 + xOff;\n    this.line.x1 = -offset4;\n    this.line.x2 = offset4;\n    this.line.y1 = 0;\n    this.line.y2 = 0;\n    this.line.markDirtyTransform();\n    this.update();\n  }\n  update() {\n    const { markerSize } = this;\n    const center = this.marker.constructor.center;\n    this.marker.size = markerSize;\n    this.marker.x = (center.x - 0.5) * markerSize;\n    this.marker.y = (center.y - 0.5) * markerSize;\n    const lineEnd = this.line.visible ? this.line.x2 : -Infinity;\n    const markerEnd = markerSize / 2;\n    this.label.x = Math.max(lineEnd, markerEnd) + this.spacing;\n  }\n  render(renderCtx) {\n    this.marker.opacity = this.opacity;\n    this.label.opacity = this.opacity;\n    this.line.opacity = this.opacity;\n    super.render(renderCtx);\n  }\n};\nMarkerLabel.className = \"MarkerLabel\";\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"text\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontStyle\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontWeight\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontSize\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\")\n], MarkerLabel.prototype, \"fontFamily\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"label\", \"fill\")\n], MarkerLabel.prototype, \"color\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"fill\")\n], MarkerLabel.prototype, \"markerFill\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"stroke\")\n], MarkerLabel.prototype, \"markerStroke\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"strokeWidth\")\n], MarkerLabel.prototype, \"markerStrokeWidth\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"fillOpacity\")\n], MarkerLabel.prototype, \"markerFillOpacity\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"strokeOpacity\")\n], MarkerLabel.prototype, \"markerStrokeOpacity\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"marker\", \"visible\")\n], MarkerLabel.prototype, \"markerVisible\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"line\", \"stroke\")\n], MarkerLabel.prototype, \"lineStroke\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"line\", \"strokeWidth\")\n], MarkerLabel.prototype, \"lineStrokeWidth\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"line\", \"strokeOpacity\")\n], MarkerLabel.prototype, \"lineStrokeOpacity\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"line\", \"lineDash\")\n], MarkerLabel.prototype, \"lineLineDash\", 2);\n__decorateClass([\n  ProxyPropertyOnWrite(\"line\", \"visible\")\n], MarkerLabel.prototype, \"lineVisible\", 2);\n\n// packages/ag-charts-community/src/chart/pagination/pagination.ts\nvar PaginationLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.color = \"black\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING)\n], PaginationLabel.prototype, \"color\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], PaginationLabel.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], PaginationLabel.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PaginationLabel.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], PaginationLabel.prototype, \"fontFamily\", 2);\nvar PaginationMarkerStyle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.size = 15;\n    this.fill = void 0;\n    this.fillOpacity = void 0;\n    this.stroke = void 0;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarkerStyle.prototype, \"size\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], PaginationMarkerStyle.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], PaginationMarkerStyle.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], PaginationMarkerStyle.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarkerStyle.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PaginationMarkerStyle.prototype, \"strokeOpacity\", 2);\nvar PaginationMarker = class extends BaseProperties {\n  constructor(parent) {\n    super();\n    this.parent = parent;\n    this.shape = Triangle;\n    this.size = 15;\n    this.padding = 8;\n  }\n};\n__decorateClass([\n  ActionOnSet({\n    changeValue() {\n      if (this.parent.marker === this) {\n        this.parent.onMarkerShapeChange();\n      }\n    }\n  })\n], PaginationMarker.prototype, \"shape\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarker.prototype, \"size\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PaginationMarker.prototype, \"padding\", 2);\nvar Pagination = class extends BaseProperties {\n  constructor(chartUpdateCallback, pageUpdateCallback, regionManager, cursorManager) {\n    super();\n    this.chartUpdateCallback = chartUpdateCallback;\n    this.pageUpdateCallback = pageUpdateCallback;\n    this.regionManager = regionManager;\n    this.cursorManager = cursorManager;\n    this.id = createId(this);\n    this.marker = new PaginationMarker(this);\n    this.activeStyle = new PaginationMarkerStyle();\n    this.inactiveStyle = new PaginationMarkerStyle();\n    this.highlightStyle = new PaginationMarkerStyle();\n    this.label = new PaginationLabel();\n    this.group = new Group({ name: \"pagination\" });\n    this.labelNode = new Text();\n    this.destroyFns = [];\n    this.totalPages = 0;\n    this.currentPage = 0;\n    this.translationX = 0;\n    this.translationY = 0;\n    this.nextButtonDisabled = false;\n    this.previousButtonDisabled = false;\n    this._visible = true;\n    this._enabled = true;\n    this._orientation = \"vertical\";\n    this._nextButton = new Triangle();\n    this._previousButton = new Triangle();\n    this.labelNode.setProperties({\n      textBaseline: \"middle\",\n      fontSize: 12,\n      fontFamily: \"Verdana, sans-serif\",\n      fill: \"black\",\n      y: 1\n    });\n    this.group.append([this.nextButton, this.previousButton, this.labelNode]);\n    const region = this.regionManager.addRegion(\"pagination\", this.group);\n    this.destroyFns.push(\n      region.addListener(\"click\", (event) => this.onPaginationClick(event)),\n      region.addListener(\"hover\", (event) => this.onPaginationMouseMove(event))\n    );\n    this.update();\n    this.updateMarkers();\n  }\n  destroy() {\n    this.destroyFns.forEach((f) => f());\n  }\n  set visible(value) {\n    this._visible = value;\n    this.updateGroupVisibility();\n  }\n  get visible() {\n    return this._visible;\n  }\n  set enabled(value) {\n    this._enabled = value;\n    this.updateGroupVisibility();\n  }\n  get enabled() {\n    return this._enabled;\n  }\n  updateGroupVisibility() {\n    this.group.visible = this.enabled && this.visible;\n  }\n  set orientation(value) {\n    this._orientation = value;\n    switch (value) {\n      case \"horizontal\": {\n        this.previousButton.rotation = -Math.PI / 2;\n        this.nextButton.rotation = Math.PI / 2;\n        break;\n      }\n      case \"vertical\":\n      default: {\n        this.previousButton.rotation = 0;\n        this.nextButton.rotation = Math.PI;\n      }\n    }\n  }\n  get orientation() {\n    return this._orientation;\n  }\n  set nextButton(value) {\n    if (this._nextButton !== value) {\n      this.group.removeChild(this._nextButton);\n      this._nextButton = value;\n      this.group.appendChild(value);\n    }\n  }\n  get nextButton() {\n    return this._nextButton;\n  }\n  set previousButton(value) {\n    if (this._previousButton !== value) {\n      this.group.removeChild(this._previousButton);\n      this._previousButton = value;\n      this.group.appendChild(value);\n    }\n  }\n  get previousButton() {\n    return this._previousButton;\n  }\n  update() {\n    this.updateLabel();\n    this.updatePositions();\n    this.enableOrDisableButtons();\n  }\n  updatePositions() {\n    this.group.translationX = this.translationX;\n    this.group.translationY = this.translationY;\n    this.updateLabelPosition();\n    this.updateNextButtonPosition();\n  }\n  updateLabelPosition() {\n    const { size: markerSize, padding: markerPadding } = this.marker;\n    this.nextButton.size = markerSize;\n    this.previousButton.size = markerSize;\n    this.labelNode.x = markerSize / 2 + markerPadding;\n  }\n  updateNextButtonPosition() {\n    const labelBBox = this.labelNode.computeBBox();\n    this.nextButton.translationX = labelBBox.x + labelBBox.width + this.marker.size / 2 + this.marker.padding;\n  }\n  updateLabel() {\n    const {\n      currentPage,\n      totalPages: pages,\n      labelNode,\n      label: { color, fontStyle, fontWeight, fontSize, fontFamily }\n    } = this;\n    labelNode.text = `${currentPage + 1} / ${pages}`;\n    labelNode.fill = color;\n    labelNode.fontStyle = fontStyle;\n    labelNode.fontWeight = fontWeight;\n    labelNode.fontSize = fontSize;\n    labelNode.fontFamily = fontFamily;\n  }\n  updateMarkers() {\n    const {\n      nextButton,\n      previousButton,\n      nextButtonDisabled,\n      previousButtonDisabled,\n      activeStyle,\n      inactiveStyle,\n      highlightStyle,\n      highlightActive\n    } = this;\n    const buttonStyle = (button, disabled) => {\n      if (disabled) {\n        return inactiveStyle;\n      } else if (button === highlightActive) {\n        return highlightStyle;\n      }\n      return activeStyle;\n    };\n    this.updateMarker(nextButton, buttonStyle(\"next\", nextButtonDisabled));\n    this.updateMarker(previousButton, buttonStyle(\"previous\", previousButtonDisabled));\n  }\n  updateMarker(marker, style) {\n    var _a;\n    const { size } = this.marker;\n    marker.size = size;\n    marker.fill = style.fill;\n    marker.fillOpacity = (_a = style.fillOpacity) != null ? _a : 1;\n    marker.stroke = style.stroke;\n    marker.strokeWidth = style.strokeWidth;\n    marker.strokeOpacity = style.strokeOpacity;\n  }\n  enableOrDisableButtons() {\n    const { currentPage, totalPages } = this;\n    const zeroPagesToDisplay = totalPages === 0;\n    const onLastPage = currentPage === totalPages - 1;\n    const onFirstPage = currentPage === 0;\n    this.nextButtonDisabled = onLastPage || zeroPagesToDisplay;\n    this.previousButtonDisabled = onFirstPage || zeroPagesToDisplay;\n  }\n  nextButtonContainsPoint(offsetX, offsetY) {\n    return !this.nextButtonDisabled && this.nextButton.containsPoint(offsetX, offsetY);\n  }\n  previousButtonContainsPoint(offsetX, offsetY) {\n    return !this.previousButtonDisabled && this.previousButton.containsPoint(offsetX, offsetY);\n  }\n  clickNext() {\n    this.incrementPage();\n    this.onPaginationChanged();\n  }\n  clickPrevious() {\n    this.decrementPage();\n    this.onPaginationChanged();\n  }\n  setPage(pageNumber) {\n    pageNumber = clamp(0, pageNumber, this.totalPages - 1);\n    if (this.currentPage !== pageNumber) {\n      this.currentPage = pageNumber;\n      this.onPaginationChanged();\n    }\n  }\n  onPaginationClick(event) {\n    const { offsetX, offsetY } = event;\n    if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n      this.clickNext();\n      event.consume();\n    } else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n      this.clickPrevious();\n      event.consume();\n    }\n  }\n  onPaginationMouseMove(event) {\n    const { offsetX, offsetY } = event;\n    if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n      this.cursorManager.updateCursor(this.id, \"pointer\");\n      this.highlightActive = \"next\";\n    } else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n      this.cursorManager.updateCursor(this.id, \"pointer\");\n      this.highlightActive = \"previous\";\n    } else {\n      this.cursorManager.updateCursor(this.id);\n      this.highlightActive = void 0;\n    }\n    this.updateMarkers();\n    this.chartUpdateCallback(6 /* SCENE_RENDER */);\n  }\n  onPaginationChanged() {\n    this.pageUpdateCallback(this.currentPage);\n  }\n  incrementPage() {\n    this.currentPage = Math.min(this.currentPage + 1, this.totalPages - 1);\n  }\n  decrementPage() {\n    this.currentPage = Math.max(this.currentPage - 1, 0);\n  }\n  onMarkerShapeChange() {\n    const Marker2 = getMarker(this.marker.shape || Triangle);\n    this.previousButton = new Marker2();\n    this.nextButton = new Marker2();\n    this.updatePositions();\n    this.updateMarkers();\n    this.chartUpdateCallback(6 /* SCENE_RENDER */);\n  }\n  attachPagination(node) {\n    node.append(this.group);\n  }\n  computeBBox() {\n    return this.group.computeBBox();\n  }\n};\nPagination.className = \"Pagination\";\n__decorateClass([\n  Validate(OBJECT)\n], Pagination.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Pagination.prototype, \"activeStyle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Pagination.prototype, \"inactiveStyle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Pagination.prototype, \"highlightStyle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Pagination.prototype, \"label\", 2);\n\n// packages/ag-charts-community/src/chart/legend.ts\nvar LegendLabel = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.maxLength = void 0;\n    this.color = \"black\";\n    this.fontStyle = void 0;\n    this.fontWeight = void 0;\n    this.fontSize = 12;\n    this.fontFamily = \"Verdana, sans-serif\";\n    this.formatter = void 0;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendLabel.prototype, \"maxLength\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], LegendLabel.prototype, \"color\", 2);\n__decorateClass([\n  Validate(FONT_STYLE, { optional: true })\n], LegendLabel.prototype, \"fontStyle\", 2);\n__decorateClass([\n  Validate(FONT_WEIGHT2, { optional: true })\n], LegendLabel.prototype, \"fontWeight\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LegendLabel.prototype, \"fontSize\", 2);\n__decorateClass([\n  Validate(STRING)\n], LegendLabel.prototype, \"fontFamily\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], LegendLabel.prototype, \"formatter\", 2);\nvar LegendMarker = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.size = 15;\n    this.padding = 8;\n    this.enabled = true;\n  }\n};\n__decorateClass([\n  ObserveChanges((target) => {\n    var _a;\n    return (_a = target.parent) == null ? void 0 : _a.onMarkerShapeChange();\n  })\n], LegendMarker.prototype, \"shape\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LegendMarker.prototype, \"size\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LegendMarker.prototype, \"padding\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendMarker.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], LegendMarker.prototype, \"enabled\", 2);\nvar LegendLine = class extends BaseProperties {\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendLine.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendLine.prototype, \"length\", 2);\nvar LegendItem = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.paddingX = 16;\n    this.paddingY = 8;\n    this.toggleSeriesVisible = true;\n    this.showSeriesStroke = false;\n    this.marker = new LegendMarker();\n    this.label = new LegendLabel();\n    this.line = new LegendLine();\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], LegendItem.prototype, \"maxWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LegendItem.prototype, \"paddingX\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LegendItem.prototype, \"paddingY\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], LegendItem.prototype, \"toggleSeriesVisible\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], LegendItem.prototype, \"showSeriesStroke\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LegendItem.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LegendItem.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LegendItem.prototype, \"line\", 2);\nvar LegendListeners = class extends BaseProperties {\n};\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], LegendListeners.prototype, \"legendItemClick\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], LegendListeners.prototype, \"legendItemDoubleClick\", 2);\nvar Legend = class extends BaseProperties {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.id = createId(this);\n    this.group = new Group({ name: \"legend\", layer: true, zIndex: 11 /* LEGEND_ZINDEX */ });\n    this.itemSelection = Selection.select(this.group, MarkerLabel);\n    this.oldSize = [0, 0];\n    this.pages = [];\n    this.maxPageSize = [0, 0];\n    /** Item index to track on re-pagination, so current page updates appropriately. */\n    this.paginationTrackingIndex = 0;\n    this.truncatedItems = /* @__PURE__ */ new Set();\n    this._data = [];\n    this.item = new LegendItem();\n    this.listeners = new LegendListeners();\n    this.enabled = true;\n    this.position = \"bottom\";\n    this.spacing = 20;\n    this.characterWidths = /* @__PURE__ */ new Map();\n    this.destroyFns = [];\n    this.size = [0, 0];\n    this._visible = true;\n    this.focus = { mode: \"item\", index: 0 };\n    this.item.marker.parent = this;\n    this.pagination = new Pagination(\n      (type) => ctx.updateService.update(type),\n      (page) => this.updatePageNumber(page),\n      ctx.regionManager,\n      ctx.cursorManager\n    );\n    this.pagination.attachPagination(this.group);\n    this.item.marker.parent = this;\n    const animationState = 16 /* Default */ | 1 /* Animation */;\n    const region = ctx.regionManager.addRegionFromProperties({\n      name: \"legend\",\n      bboxproviders: [this.group],\n      canInteraction: () => this.enabled && this.group.visible\n    });\n    this.destroyFns.push(\n      region.addListener(\"click\", (e) => this.checkLegendClick(e), animationState),\n      region.addListener(\"dblclick\", (e) => this.checkLegendDoubleClick(e), animationState),\n      region.addListener(\"hover\", (e) => this.handleLegendMouseMove(e)),\n      region.addListener(\"leave\", (e) => this.handleLegendMouseExit(e), animationState),\n      region.addListener(\"enter\", (e) => this.handleLegendMouseEnter(e), animationState),\n      region.addListener(\"blur\", (e) => this.onBlur(e)),\n      region.addListener(\"tab\", (e) => this.onTab(e)),\n      region.addListener(\"tab-start\", (e) => this.onTabStart(e)),\n      region.addListener(\"nav-vert\", (e) => this.onNav(e)),\n      region.addListener(\"nav-hori\", (e) => this.onNav(e)),\n      region.addListener(\"submit\", (e) => this.onSubmit(e)),\n      ctx.layoutService.addListener(\"start-layout\", (e) => this.positionLegend(e.shrinkRect)),\n      () => this.detachLegend()\n    );\n  }\n  set data(value) {\n    this._data = value;\n    this.updateGroupVisibility();\n  }\n  get data() {\n    return this._data;\n  }\n  destroy() {\n    this.destroyFns.forEach((f) => f());\n    this.pagination.destroy();\n  }\n  onMarkerShapeChange() {\n    this.itemSelection.clear();\n    this.group.markDirty(this.group, 2 /* MINOR */);\n  }\n  getOrientation() {\n    if (this.orientation !== void 0) {\n      return this.orientation;\n    }\n    switch (this.position) {\n      case \"right\":\n      case \"left\":\n        return \"vertical\";\n      case \"bottom\":\n      case \"top\":\n        return \"horizontal\";\n    }\n  }\n  getCharacterWidths(font) {\n    const { characterWidths } = this;\n    if (characterWidths.has(font)) {\n      return characterWidths.get(font);\n    }\n    const cw = {\n      \"...\": Text.getTextSize(\"...\", font).width\n    };\n    characterWidths.set(font, cw);\n    return cw;\n  }\n  set visible(value) {\n    this._visible = value;\n    this.updateGroupVisibility();\n  }\n  get visible() {\n    return this._visible;\n  }\n  updateGroupVisibility() {\n    this.group.visible = this.enabled && this.visible && this.data.length > 0;\n  }\n  attachLegend(scene) {\n    scene.appendChild(this.group);\n  }\n  detachLegend() {\n    var _a;\n    (_a = this.group.parent) == null ? void 0 : _a.removeChild(this.group);\n  }\n  getItemLabel(datum) {\n    const {\n      ctx: { callbackCache }\n    } = this;\n    const { formatter } = this.item.label;\n    if (formatter) {\n      return callbackCache.call(formatter, {\n        itemId: datum.itemId,\n        value: datum.label.text,\n        seriesId: datum.seriesId\n      });\n    }\n    return datum.label.text;\n  }\n  /**\n   * The method is given the desired size of the legend, which only serves as a hint.\n   * The vertically oriented legend will take as much horizontal space as needed, but will\n   * respect the height constraints, and the horizontal legend will take as much vertical\n   * space as needed in an attempt not to exceed the given width.\n   * After the layout is done, the {@link size} will contain the actual size of the legend.\n   * If the actual size is not the same as the previous actual size, the legend will fire\n   * the 'layoutChange' event to communicate that another layout is needed, and the above\n   * process should be repeated.\n   * @param width\n   * @param height\n   */\n  calcLayout(width, height) {\n    const {\n      paddingX,\n      paddingY,\n      label,\n      maxWidth,\n      marker: { size: markerSize, padding: markerPadding, shape: markerShape },\n      label: { maxLength = Infinity, fontStyle, fontWeight, fontSize, fontFamily },\n      line: itemLine,\n      showSeriesStroke\n    } = this.item;\n    const data = [...this.data];\n    if (this.reverseOrder) {\n      data.reverse();\n    }\n    this.itemSelection.update(data);\n    const bboxes = [];\n    const font = getFont(label);\n    const itemMaxWidthPercentage = 0.8;\n    const maxItemWidth = maxWidth != null ? maxWidth : width * itemMaxWidthPercentage;\n    const paddedMarkerWidth = markerSize + markerPadding + paddingX;\n    this.itemSelection.each((markerLabel, datum) => {\n      var _a, _b, _c;\n      const Marker2 = getMarker(markerShape != null ? markerShape : datum.marker.shape);\n      const markerEnabled = (_a = datum.marker.enabled) != null ? _a : this.item.marker.enabled;\n      if (!(markerLabel.marker && markerLabel.marker instanceof Marker2)) {\n        markerLabel.marker = new Marker2();\n      }\n      markerLabel.markerSize = markerSize;\n      markerLabel.spacing = markerPadding;\n      markerLabel.fontStyle = fontStyle;\n      markerLabel.fontWeight = fontWeight;\n      markerLabel.fontSize = fontSize;\n      markerLabel.fontFamily = fontFamily;\n      const id = (_b = datum.itemId) != null ? _b : datum.id;\n      const labelText = this.getItemLabel(datum);\n      const text = (labelText != null ? labelText : \"<unknown>\").replace(/\\r?\\n/g, \" \");\n      markerLabel.text = this.truncate(text, maxLength, maxItemWidth, paddedMarkerWidth, font, id);\n      if (showSeriesStroke && datum.line !== void 0) {\n        markerLabel.lineVisible = true;\n        markerLabel.markerVisible = markerEnabled;\n        markerLabel.setSeriesStrokeOffset((_c = itemLine.length) != null ? _c : 5);\n      } else {\n        markerLabel.lineVisible = false;\n        markerLabel.markerVisible = true;\n      }\n      bboxes.push(markerLabel.computeBBox());\n    });\n    width = Math.max(1, width);\n    height = Math.max(1, height);\n    if (!isFinite(width)) {\n      return false;\n    }\n    const size = this.size;\n    const oldSize = this.oldSize;\n    size[0] = width;\n    size[1] = height;\n    if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      oldSize[0] = size[0];\n      oldSize[1] = size[1];\n    }\n    const { pages, maxPageHeight, maxPageWidth } = this.updatePagination(bboxes, width, height);\n    this.pages = pages;\n    this.maxPageSize = [maxPageWidth - paddingX, maxPageHeight - paddingY];\n    const pageNumber = this.pagination.currentPage;\n    const page = this.pages[pageNumber];\n    if (this.pages.length < 1 || !page) {\n      this.visible = false;\n      return;\n    }\n    this.visible = true;\n    this.updatePositions(pageNumber);\n    this.update();\n  }\n  truncate(text, maxCharLength, maxItemWidth, paddedMarkerWidth, font, id) {\n    const ellipsis2 = `...`;\n    const textChars = text.split(\"\");\n    let addEllipsis = false;\n    if (text.length > maxCharLength) {\n      text = `${text.substring(0, maxCharLength)}`;\n      addEllipsis = true;\n    }\n    const labelWidth = Math.floor(paddedMarkerWidth + Text.getTextSize(text, font).width);\n    if (labelWidth > maxItemWidth) {\n      let truncatedText = \"\";\n      const characterWidths = this.getCharacterWidths(font);\n      let cumulativeWidth = paddedMarkerWidth + characterWidths[ellipsis2];\n      for (const char of textChars) {\n        if (!characterWidths[char]) {\n          characterWidths[char] = Text.getTextSize(char, font).width;\n        }\n        cumulativeWidth += characterWidths[char];\n        if (cumulativeWidth > maxItemWidth) {\n          break;\n        }\n        truncatedText += char;\n      }\n      text = truncatedText;\n      addEllipsis = true;\n    }\n    if (addEllipsis) {\n      text += ellipsis2;\n      this.truncatedItems.add(id);\n    } else {\n      this.truncatedItems.delete(id);\n    }\n    return text;\n  }\n  updatePagination(bboxes, width, height) {\n    const orientation = this.getOrientation();\n    const trackingIndex = Math.min(this.paginationTrackingIndex, bboxes.length);\n    this.pagination.orientation = orientation;\n    this.pagination.translationX = 0;\n    this.pagination.translationY = 0;\n    const { pages, maxPageHeight, maxPageWidth, paginationBBox, paginationVertical } = this.calculatePagination(\n      bboxes,\n      width,\n      height\n    );\n    const newCurrentPage = pages.findIndex((p) => p.endIndex >= trackingIndex);\n    this.pagination.currentPage = clamp(0, newCurrentPage, pages.length - 1);\n    const { paddingX: itemPaddingX, paddingY: itemPaddingY } = this.item;\n    const paginationComponentPadding = 8;\n    const legendItemsWidth = maxPageWidth - itemPaddingX;\n    const legendItemsHeight = maxPageHeight - itemPaddingY;\n    let paginationX = 0;\n    let paginationY = -paginationBBox.y - this.item.marker.size / 2;\n    if (paginationVertical) {\n      paginationY += legendItemsHeight + paginationComponentPadding;\n    } else {\n      paginationX += -paginationBBox.x + legendItemsWidth + paginationComponentPadding;\n      paginationY += (legendItemsHeight - paginationBBox.height) / 2;\n    }\n    this.pagination.translationX = paginationX;\n    this.pagination.translationY = paginationY;\n    this.pagination.update();\n    this.pagination.updateMarkers();\n    return {\n      maxPageHeight,\n      maxPageWidth,\n      pages\n    };\n  }\n  calculatePagination(bboxes, width, height) {\n    var _a, _b, _c;\n    const { paddingX: itemPaddingX, paddingY: itemPaddingY } = this.item;\n    const orientation = this.getOrientation();\n    const paginationVertical = [\"left\", \"right\"].includes(this.position);\n    let paginationBBox = this.pagination.computeBBox();\n    let lastPassPaginationBBox = new BBox(0, 0, 0, 0);\n    let pages = [];\n    let maxPageWidth = 0;\n    let maxPageHeight = 0;\n    let count = 0;\n    const stableOutput = (bbox) => {\n      return bbox.width === paginationBBox.width && bbox.height === paginationBBox.height;\n    };\n    const forceResult = this.maxWidth !== void 0 && this.maxHeight !== void 0;\n    do {\n      if (count++ > 10) {\n        Logger.warn(\"unable to find stable legend layout.\");\n        break;\n      }\n      paginationBBox = lastPassPaginationBBox;\n      const maxWidth = width - (paginationVertical ? 0 : paginationBBox.width);\n      const maxHeight = height - (paginationVertical ? paginationBBox.height : 0);\n      const layout = gridLayout({\n        orientation,\n        bboxes,\n        maxHeight,\n        maxWidth,\n        itemPaddingY,\n        itemPaddingX,\n        forceResult\n      });\n      pages = (_a = layout == null ? void 0 : layout.pages) != null ? _a : [];\n      maxPageWidth = (_b = layout == null ? void 0 : layout.maxPageWidth) != null ? _b : 0;\n      maxPageHeight = (_c = layout == null ? void 0 : layout.maxPageHeight) != null ? _c : 0;\n      const totalPages = pages.length;\n      this.pagination.visible = totalPages > 1;\n      this.pagination.totalPages = totalPages;\n      this.pagination.update();\n      lastPassPaginationBBox = this.pagination.computeBBox();\n      if (!this.pagination.visible) {\n        break;\n      }\n    } while (!stableOutput(lastPassPaginationBBox));\n    return { maxPageWidth, maxPageHeight, pages, paginationBBox, paginationVertical };\n  }\n  getPageItemCount(pageNumber) {\n    let count = 0;\n    for (const col of this.pages[pageNumber].columns) {\n      count += col.indices.length;\n    }\n    return count;\n  }\n  getNodeIndexFromFocusIndex() {\n    const { index } = this.focus;\n    const page = this.pages[this.pagination.currentPage];\n    let itemCount = 0;\n    for (const col of page.columns) {\n      if (index < itemCount + col.indices.length) {\n        return col.indices[index - itemCount];\n      } else {\n        itemCount += col.indices.length;\n      }\n    }\n    return -1;\n  }\n  updatePositions(pageNumber = 0) {\n    const {\n      item: { paddingY },\n      itemSelection,\n      pages\n    } = this;\n    if (pages.length < 1 || !pages[pageNumber]) {\n      return;\n    }\n    const { columns, startIndex: visibleStart, endIndex: visibleEnd } = pages[pageNumber];\n    let x = 0;\n    let y = 0;\n    const columnCount = columns.length;\n    const rowCount = columns[0].indices.length;\n    const horizontal = this.getOrientation() === \"horizontal\";\n    const itemHeight = columns[0].bboxes[0].height + paddingY;\n    const rowSumColumnWidths = [];\n    itemSelection.each((markerLabel, _, i) => {\n      var _a, _b;\n      if (i < visibleStart || i > visibleEnd) {\n        markerLabel.visible = false;\n        return;\n      }\n      const pageIndex = i - visibleStart;\n      let columnIndex = 0;\n      let rowIndex = 0;\n      if (horizontal) {\n        columnIndex = pageIndex % columnCount;\n        rowIndex = Math.floor(pageIndex / columnCount);\n      } else {\n        columnIndex = Math.floor(pageIndex / rowCount);\n        rowIndex = pageIndex % rowCount;\n      }\n      markerLabel.visible = true;\n      const column = columns[columnIndex];\n      if (!column) {\n        return;\n      }\n      y = itemHeight * rowIndex;\n      x = (_a = rowSumColumnWidths[rowIndex]) != null ? _a : 0;\n      rowSumColumnWidths[rowIndex] = ((_b = rowSumColumnWidths[rowIndex]) != null ? _b : 0) + column.columnWidth;\n      markerLabel.translationX = Math.floor(x);\n      markerLabel.translationY = Math.floor(y);\n    });\n  }\n  updatePageNumber(pageNumber) {\n    const { pages } = this;\n    const { startIndex, endIndex } = pages[pageNumber];\n    if (startIndex === 0) {\n      this.paginationTrackingIndex = 0;\n    } else if (pageNumber === pages.length - 1) {\n      this.paginationTrackingIndex = endIndex;\n    } else {\n      this.paginationTrackingIndex = Math.floor((startIndex + endIndex) / 2);\n    }\n    this.pagination.update();\n    this.pagination.updateMarkers();\n    this.updatePositions(pageNumber);\n    this.ctx.updateService.update(6 /* SCENE_RENDER */);\n  }\n  update() {\n    const {\n      label: { color },\n      marker: itemMarker,\n      line: itemLine,\n      showSeriesStroke\n    } = this.item;\n    this.itemSelection.each((markerLabel, datum) => {\n      var _a, _b;\n      const marker = datum.marker;\n      markerLabel.markerFill = marker.fill;\n      markerLabel.markerStroke = marker.stroke;\n      markerLabel.markerStrokeWidth = (_a = itemMarker.strokeWidth) != null ? _a : Math.min(2, marker.strokeWidth);\n      markerLabel.markerFillOpacity = marker.fillOpacity;\n      markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n      markerLabel.opacity = datum.enabled ? 1 : 0.5;\n      markerLabel.color = color;\n      const { line } = datum;\n      if (showSeriesStroke && line !== void 0) {\n        markerLabel.lineStroke = line.stroke;\n        markerLabel.lineStrokeOpacity = line.strokeOpacity;\n        markerLabel.lineStrokeWidth = (_b = itemLine.strokeWidth) != null ? _b : Math.min(2, line.strokeWidth);\n        markerLabel.lineLineDash = line.lineDash;\n      }\n    });\n  }\n  getDatumForPoint(x, y) {\n    const visibleChildBBoxes = [];\n    const closestLeftTop = { dist: Infinity, datum: void 0 };\n    for (const child of this.group.children) {\n      if (!child.visible)\n        continue;\n      if (!(child instanceof MarkerLabel))\n        continue;\n      const childBBox = child.computeBBox();\n      childBBox.grow(this.item.paddingX / 2, \"horizontal\");\n      childBBox.grow(this.item.paddingY / 2, \"vertical\");\n      if (childBBox.containsPoint(x, y)) {\n        return child.datum;\n      }\n      const distX = x - childBBox.x - this.item.paddingX / 2;\n      const distY = y - childBBox.y - this.item.paddingY / 2;\n      const dist = __pow(distX, 2) + __pow(distY, 2);\n      const toTheLeftTop = distX >= 0 && distY >= 0;\n      if (toTheLeftTop && dist < closestLeftTop.dist) {\n        closestLeftTop.dist = dist;\n        closestLeftTop.datum = child.datum;\n      }\n      visibleChildBBoxes.push(childBBox);\n    }\n    const pageBBox = BBox.merge(visibleChildBBoxes);\n    if (!pageBBox.containsPoint(x, y)) {\n      return;\n    }\n    return closestLeftTop.datum;\n  }\n  computePagedBBox() {\n    const actualBBox = this.group.computeBBox();\n    if (this.pages.length <= 1) {\n      return actualBBox;\n    }\n    const [maxPageWidth, maxPageHeight] = this.maxPageSize;\n    actualBBox.height = Math.max(maxPageHeight, actualBBox.height);\n    actualBBox.width = Math.max(maxPageWidth, actualBBox.width);\n    return actualBBox;\n  }\n  checkLegendClick(event) {\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (this.doClick(datum)) {\n      event.consume();\n    }\n  }\n  doClick(datum) {\n    const {\n      listeners: { legendItemClick },\n      ctx: { chartService, highlightManager },\n      item: { toggleSeriesVisible },\n      preventHidingAll\n    } = this;\n    if (!datum) {\n      return false;\n    }\n    const { id, itemId, enabled } = datum;\n    const series = chartService.series.find((s) => s.id === id);\n    if (!series) {\n      return false;\n    }\n    let newEnabled = enabled;\n    if (toggleSeriesVisible) {\n      newEnabled = !enabled;\n      if (preventHidingAll && !newEnabled) {\n        const numVisibleItems = chartService.series.flatMap((s) => s.getLegendData(\"category\")).filter((d) => d.enabled).length;\n        if (numVisibleItems < 2) {\n          newEnabled = true;\n        }\n      }\n      const status = newEnabled ? \"visible\" : \"hidden\";\n      this.ctx.ariaAnnouncementService.announceValue(`${status}`);\n      this.ctx.chartEventManager.legendItemClick(series, itemId, newEnabled, datum.legendItemName);\n    }\n    if (newEnabled) {\n      highlightManager.updateHighlight(this.id, {\n        series,\n        itemId,\n        datum: void 0\n      });\n    } else {\n      highlightManager.updateHighlight(this.id);\n    }\n    this.ctx.updateService.update(2 /* PROCESS_DATA */, { forceNodeDataRefresh: true });\n    legendItemClick == null ? void 0 : legendItemClick({ type: \"click\", enabled: newEnabled, itemId, seriesId: series.id });\n    return true;\n  }\n  checkLegendDoubleClick(event) {\n    var _a;\n    const {\n      listeners: { legendItemDoubleClick },\n      ctx: { chartService },\n      item: { toggleSeriesVisible }\n    } = this;\n    if (chartService.mode === \"integrated\") {\n      return;\n    }\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (!datum) {\n      return;\n    }\n    const { id, itemId, seriesId } = datum;\n    const series = chartService.series.find((s) => s.id === id);\n    if (!series) {\n      return;\n    }\n    event.consume();\n    if (toggleSeriesVisible) {\n      const legendData = chartService.series.flatMap((s) => s.getLegendData(\"category\"));\n      const numVisibleItems = legendData.filter((d) => d.enabled).length;\n      const clickedItem = legendData.find((d) => d.itemId === itemId && d.seriesId === seriesId);\n      this.ctx.chartEventManager.legendItemDoubleClick(\n        series,\n        itemId,\n        (_a = clickedItem == null ? void 0 : clickedItem.enabled) != null ? _a : false,\n        numVisibleItems,\n        clickedItem == null ? void 0 : clickedItem.legendItemName\n      );\n    }\n    this.ctx.updateService.update(2 /* PROCESS_DATA */, { forceNodeDataRefresh: true });\n    legendItemDoubleClick == null ? void 0 : legendItemDoubleClick({ type: \"dblclick\", enabled: true, itemId, seriesId: series.id });\n  }\n  handleLegendMouseMove(event) {\n    if (!this.enabled) {\n      return;\n    }\n    const { offsetX, offsetY } = event;\n    event.consume();\n    const datum = this.getDatumForPoint(offsetX, offsetY);\n    this.doHover(event, datum);\n  }\n  doHover(event, datum) {\n    var _a;\n    const {\n      item: { toggleSeriesVisible },\n      listeners\n    } = this;\n    if (event === void 0 || datum === void 0) {\n      this.ctx.cursorManager.updateCursor(this.id);\n      this.ctx.highlightManager.updateHighlight(this.id);\n      return;\n    }\n    const series = datum ? this.ctx.chartService.series.find((s) => s.id === (datum == null ? void 0 : datum.id)) : void 0;\n    if (datum && this.truncatedItems.has((_a = datum.itemId) != null ? _a : datum.id)) {\n      const { offsetX, offsetY } = event;\n      this.ctx.tooltipManager.updateTooltip(\n        this.id,\n        { offsetX, offsetY, lastPointerEvent: event, showArrow: false },\n        toTooltipHtml({ content: this.getItemLabel(datum) })\n      );\n    } else {\n      this.ctx.tooltipManager.removeTooltip(this.id);\n    }\n    if (toggleSeriesVisible || listeners.legendItemClick != null || listeners.legendItemDoubleClick != null) {\n      this.ctx.cursorManager.updateCursor(this.id, \"pointer\");\n    }\n    if ((datum == null ? void 0 : datum.enabled) && series) {\n      this.ctx.highlightManager.updateHighlight(this.id, {\n        series,\n        itemId: datum == null ? void 0 : datum.itemId,\n        datum: void 0\n      });\n    } else {\n      this.ctx.highlightManager.updateHighlight(this.id);\n    }\n  }\n  handleLegendMouseExit(_event) {\n    this.doMouseExit();\n  }\n  doMouseExit() {\n    this.ctx.cursorManager.updateCursor(this.id);\n    this.ctx.tooltipManager.removeTooltip(this.id);\n    if (this.ctx.interactionManager.getState() === 16 /* Default */) {\n      this.ctx.highlightManager.updateHighlight(this.id);\n    }\n  }\n  handleLegendMouseEnter(event) {\n    const {\n      enabled,\n      item: { toggleSeriesVisible: toggle },\n      listeners: { legendItemClick: clickListener, legendItemDoubleClick: dblclickListener }\n    } = this;\n    const datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n    if (enabled && datum !== void 0 && (toggle || clickListener != null || dblclickListener != null)) {\n      this.ctx.cursorManager.updateCursor(this.id, \"pointer\");\n    }\n  }\n  onBlur(_event) {\n    this.doMouseExit();\n    this.focus.mode = \"item\";\n    this.ctx.regionManager.updateFocusIndicatorRect(void 0);\n  }\n  onTab(event) {\n    this.updateFocus();\n    event.consume();\n  }\n  onTabStart(event) {\n    if (!this.pagination.visible || !this.pagination.enabled)\n      return;\n    const consumeTabStart = (newMode) => {\n      this.focus.mode = newMode;\n      this.updateFocus();\n      event.consume();\n    };\n    if (this.focus.mode === \"item\" && event.delta === 1) {\n      this.focus.index = this.pagination.currentPage === 0 ? 1 : 0;\n      consumeTabStart(\"page\");\n    } else if (this.focus.mode === \"page\" && event.delta === -1) {\n      this.focus.index = 0;\n      consumeTabStart(\"item\");\n    }\n  }\n  onNav(event) {\n    if (this.focus.mode === \"item\") {\n      const newIndex = this.focus.index + event.delta;\n      const pageItemCount = this.getPageItemCount(this.pagination.currentPage);\n      this.focus.index = clamp(-1, newIndex, pageItemCount);\n      this.updateFocus();\n      event.consume();\n    } else if (this.focus.mode === \"page\") {\n      if (event.delta < 0)\n        this.focus.index = 0;\n      if (event.delta > 0)\n        this.focus.index = 1;\n      this.updateFocus();\n      event.consume();\n    }\n  }\n  onSubmit(_event) {\n    if (this.focus.mode === \"item\") {\n      this.doClick(this.getFocusedItem().datum);\n    } else if (this.focus.mode === \"page\") {\n      if (this.focus.index === 0)\n        this.pagination.clickPrevious();\n      if (this.focus.index === 1)\n        this.pagination.clickNext();\n      this.ctx.ariaAnnouncementService.announceValue(\n        `Legend page ${this.pagination.currentPage + 1} of ${this.pages.length}`\n      );\n    }\n  }\n  maybeChangeFocusPage() {\n    const oldPage = this.pagination.currentPage;\n    const oldPageItemCount = this.getPageItemCount(oldPage);\n    if (this.focus.index === -1) {\n      this.pagination.setPage(oldPage - 1);\n    } else if (this.focus.index === oldPageItemCount) {\n      this.pagination.setPage(oldPage + 1);\n    } else {\n      return;\n    }\n    const { currentPage } = this.pagination;\n    if (oldPage === currentPage) {\n      this.focus.index = clamp(0, this.focus.index, oldPageItemCount - 1);\n    } else if (this.focus.index === -1) {\n      this.focus.index = this.getPageItemCount(currentPage) - 1;\n    } else {\n      this.focus.index = 0;\n    }\n  }\n  getFocusedItem() {\n    if (this.focus.mode !== \"item\") {\n      Logger.error(`getFocusedItem() should be called only when focus.mode is 'item'`);\n      return { nodeIndex: -1, node: void 0, datum: void 0 };\n    }\n    this.maybeChangeFocusPage();\n    const nodeIndex = this.getNodeIndexFromFocusIndex();\n    if (nodeIndex < 0) {\n      Logger.error(`Cannot access negative nodeIndex ${nodeIndex}`);\n      return { nodeIndex: -1, node: void 0, datum: void 0 };\n    }\n    const node = this.itemSelection.nodes()[nodeIndex];\n    const data = this.data;\n    let datum;\n    if (nodeIndex < data.length) {\n      datum = this.data[nodeIndex];\n    } else {\n      Logger.error(`Cannot access datum[${nodeIndex}]`);\n    }\n    return { nodeIndex, node, datum };\n  }\n  updateFocus() {\n    const { focus, pagination } = this;\n    if (focus.mode === \"item\") {\n      const { nodeIndex, node, datum } = this.getFocusedItem();\n      if (datum === void 0)\n        return;\n      const bbox = node == null ? void 0 : node.computeTransformedBBox();\n      this.doHover(makeKeyboardPointerEvent(this.ctx.regionManager, { bbox, showFocusBox: true }), datum);\n      const label = datum && this.getItemLabel(datum);\n      if (label) {\n        const visibility = datum.enabled ? \"visible\" : \"hidden\";\n        this.ctx.ariaAnnouncementService.announceValue(\n          `Legend item ${nodeIndex + 1} of ${this.data.length}, ${label}, ${visibility}`\n        );\n      }\n    } else if (focus.mode === \"page\") {\n      const button = focus.index === 0 ? pagination.previousButton : pagination.nextButton;\n      this.ctx.regionManager.updateFocusIndicatorRect(button.computeTransformedBBox());\n      const value = [\"Previous legend page\", \"Next legend page\"][focus.index];\n      this.ctx.ariaAnnouncementService.announceValue(`${value}, button`);\n    }\n  }\n  positionLegend(shrinkRect) {\n    const newShrinkRect = shrinkRect.clone();\n    if (!this.enabled || !this.data.length) {\n      return { shrinkRect: newShrinkRect };\n    }\n    const [legendWidth, legendHeight] = this.calculateLegendDimensions(shrinkRect);\n    this.group.translationX = 0;\n    this.group.translationY = 0;\n    this.calcLayout(legendWidth, legendHeight);\n    const legendBBox = this.computePagedBBox();\n    const calculateTranslationPerpendicularDimension = () => {\n      switch (this.position) {\n        case \"top\":\n        case \"left\":\n          return 0;\n        case \"bottom\":\n          return shrinkRect.height - legendBBox.height;\n        case \"right\":\n        default:\n          return shrinkRect.width - legendBBox.width;\n      }\n    };\n    if (this.visible) {\n      let translationX;\n      let translationY;\n      switch (this.position) {\n        case \"top\":\n        case \"bottom\":\n          translationX = (shrinkRect.width - legendBBox.width) / 2;\n          translationY = calculateTranslationPerpendicularDimension();\n          newShrinkRect.shrink(legendBBox.height, this.position);\n          break;\n        case \"left\":\n        case \"right\":\n        default:\n          translationX = calculateTranslationPerpendicularDimension();\n          translationY = (shrinkRect.height - legendBBox.height) / 2;\n          newShrinkRect.shrink(legendBBox.width, this.position);\n      }\n      this.group.translationX = Math.floor(-legendBBox.x + shrinkRect.x + translationX);\n      this.group.translationY = Math.floor(-legendBBox.y + shrinkRect.y + translationY);\n    }\n    if (this.visible && this.enabled && this.data.length) {\n      const legendPadding = this.spacing;\n      newShrinkRect.shrink(legendPadding, this.position);\n      const legendPositionedBBox = legendBBox.clone();\n      legendPositionedBBox.x += this.group.translationX;\n      legendPositionedBBox.y += this.group.translationY;\n    }\n    return { shrinkRect: newShrinkRect };\n  }\n  calculateLegendDimensions(shrinkRect) {\n    const { width, height } = shrinkRect;\n    const aspectRatio = width / height;\n    const maxCoefficient = 0.5;\n    const minHeightCoefficient = 0.2;\n    const minWidthCoefficient = 0.25;\n    let legendWidth, legendHeight;\n    switch (this.position) {\n      case \"top\":\n      case \"bottom\":\n        const heightCoefficient = aspectRatio < 1 ? Math.min(maxCoefficient, minHeightCoefficient * (1 / aspectRatio)) : minHeightCoefficient;\n        legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : width;\n        legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : Math.round(height * heightCoefficient);\n        break;\n      case \"left\":\n      case \"right\":\n      default:\n        const widthCoefficient = aspectRatio > 1 ? Math.min(maxCoefficient, minWidthCoefficient * aspectRatio) : minWidthCoefficient;\n        legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : Math.round(width * widthCoefficient);\n        legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : height;\n    }\n    return [legendWidth, legendHeight];\n  }\n};\nLegend.className = \"Legend\";\n__decorateClass([\n  Validate(OBJECT)\n], Legend.prototype, \"pagination\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Legend.prototype, \"item\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], Legend.prototype, \"listeners\", 2);\n__decorateClass([\n  ObserveChanges((target) => target.updateGroupVisibility()),\n  Validate(BOOLEAN)\n], Legend.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(POSITION2)\n], Legend.prototype, \"position\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Legend.prototype, \"maxWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], Legend.prototype, \"maxHeight\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], Legend.prototype, \"reverseOrder\", 2);\n__decorateClass([\n  Validate(UNION([\"horizontal\", \"vertical\"], \"an orientation\"), { optional: true })\n], Legend.prototype, \"orientation\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], Legend.prototype, \"preventHidingAll\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Legend.prototype, \"spacing\", 2);\n\n// packages/ag-charts-community/src/chart/legendModule.ts\nvar CommunityLegendModule = {\n  type: \"legend\",\n  optionsKey: \"legend\",\n  identifier: \"category\",\n  chartTypes: [\"cartesian\", \"polar\", \"hierarchy\", \"topology\"],\n  instanceConstructor: Legend,\n  packageType: \"community\"\n};\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeHandle.ts\nvar RangeHandle = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.zIndex = 3;\n    this._fill = \"#f2f2f2\";\n    this._stroke = \"#999999\";\n    this._strokeWidth = 1;\n    this._lineCap = \"square\";\n    this._centerX = 0;\n    this._centerY = 0;\n    this._width = 8;\n    this._gripLineGap = 2;\n    this._gripLineLength = 8;\n    this._height = 16;\n  }\n  set centerX(value) {\n    if (this._centerX !== value) {\n      this._centerX = value;\n      this.dirtyPath = true;\n    }\n  }\n  get centerX() {\n    return this._centerX;\n  }\n  set centerY(value) {\n    if (this._centerY !== value) {\n      this._centerY = value;\n      this.dirtyPath = true;\n    }\n  }\n  get centerY() {\n    return this._centerY;\n  }\n  set width(value) {\n    if (this._width !== value) {\n      this._width = value;\n      this.dirtyPath = true;\n    }\n  }\n  get width() {\n    return this._width;\n  }\n  set gripLineGap(value) {\n    if (this._gripLineGap !== value) {\n      this._gripLineGap = value;\n      this.dirtyPath = true;\n    }\n  }\n  get gripLineGap() {\n    return this._gripLineGap;\n  }\n  set gripLineLength(value) {\n    if (this._gripLineLength !== value) {\n      this._gripLineLength = value;\n      this.dirtyPath = true;\n    }\n  }\n  get gripLineLength() {\n    return this._gripLineLength;\n  }\n  set height(value) {\n    if (this._height !== value) {\n      this._height = value;\n      this.dirtyPath = true;\n    }\n  }\n  get height() {\n    return this._height;\n  }\n  layout(x, y) {\n    this.centerX = x;\n    this.centerY = y;\n  }\n  static align(minHandle, maxHandle, x, y, width, height, min, max) {\n    const handlePixelAlign = minHandle.strokeWidth / 2;\n    const minHandleX = minHandle.align(x + width * min) + handlePixelAlign;\n    const maxHandleX = minHandleX + minHandle.align(x + width * min, width * (max - min)) - 2 * handlePixelAlign;\n    const handleY = minHandle.align(y + height / 2) + handlePixelAlign;\n    minHandle.layout(minHandleX, handleY);\n    maxHandle.layout(maxHandleX, handleY);\n  }\n  computeBBox() {\n    const { centerX, centerY, width, height } = this;\n    const x = centerX - width / 2;\n    const y = centerY - height / 2;\n    return new BBox(x, y, width, height);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return bbox.containsPoint(point.x, point.y);\n  }\n  updatePath() {\n    var _a, _b, _c;\n    const { centerX, centerY, path, strokeWidth, gripLineGap, gripLineLength } = this;\n    const pixelRatio = (_c = (_b = (_a = this.layerManager) == null ? void 0 : _a.canvas) == null ? void 0 : _b.pixelRatio) != null ? _c : 1;\n    path.clear();\n    const halfWidth = Math.floor(this.width / 2 * pixelRatio) / pixelRatio;\n    const halfHeight = Math.floor(this.height / 2 * pixelRatio) / pixelRatio;\n    path.moveTo(centerX - halfWidth, centerY - halfHeight);\n    path.lineTo(centerX + halfWidth, centerY - halfHeight);\n    path.lineTo(centerX + halfWidth, centerY + halfHeight);\n    path.lineTo(centerX - halfWidth, centerY + halfHeight);\n    path.closePath();\n    const dx = Math.floor((gripLineGap + strokeWidth) / 2 * pixelRatio) / pixelRatio;\n    const dy = Math.floor(gripLineLength / 2 * pixelRatio) / pixelRatio;\n    path.moveTo(centerX - dx, centerY - dy);\n    path.lineTo(centerX - dx, centerY + dy);\n    path.moveTo(centerX + dx, centerY - dy);\n    path.lineTo(centerX + dx, centerY + dy);\n  }\n};\nRangeHandle.className = \"RangeHandle\";\n__decorateClass([\n  Validate(COLOR_STRING)\n], RangeHandle.prototype, \"_fill\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], RangeHandle.prototype, \"_stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_strokeWidth\", 2);\n__decorateClass([\n  Validate(LINE_CAP)\n], RangeHandle.prototype, \"_lineCap\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_width\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_gripLineGap\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_gripLineLength\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], RangeHandle.prototype, \"_height\", 2);\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeMask.ts\nvar RangeMask = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.zIndex = 2;\n    this.x = 0;\n    this.y = 0;\n    this.width = 200;\n    this.height = 30;\n    this.min = 0;\n    this.max = 1;\n  }\n  layout(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.dirtyPath = true;\n  }\n  update(min, max) {\n    this.min = isNaN(min) ? this.min : min;\n    this.max = isNaN(max) ? this.max : max;\n    this.dirtyPath = true;\n  }\n  computeBBox() {\n    const { x, y, width, height } = this;\n    return new BBox(x, y, width, height);\n  }\n  computeVisibleRangeBBox() {\n    const { x, y, width, height, min, max } = this;\n    const minX = x + width * min;\n    const maxX = x + width * max;\n    return new BBox(minX, y, maxX - minX, height);\n  }\n  updatePath() {\n    const { path, x, y, width, height, min, max, strokeWidth } = this;\n    const pixelAlign = strokeWidth / 2;\n    path.clear();\n    const ax = this.align(x) + pixelAlign;\n    const ay = this.align(y) + pixelAlign;\n    const axw = ax + this.align(x, width) - 2 * pixelAlign;\n    const ayh = ay + this.align(y, height) - 2 * pixelAlign;\n    path.moveTo(ax, ay);\n    path.lineTo(axw, ay);\n    path.lineTo(axw, ayh);\n    path.lineTo(ax, ayh);\n    path.closePath();\n    const minX = this.align(x + width * min) + pixelAlign;\n    const maxX = minX + this.align(x + width * min, width * (max - min)) - 2 * pixelAlign;\n    path.moveTo(minX, ay);\n    path.lineTo(minX, ayh);\n    path.lineTo(maxX, ayh);\n    path.lineTo(maxX, ay);\n    path.closePath();\n  }\n};\nRangeMask.className = \"RangeMask\";\n\n// packages/ag-charts-community/src/chart/navigator/shapes/rangeSelector.ts\nvar RangeSelector = class extends Group {\n  constructor(children) {\n    super({ name: \"rangeSelectorGroup\", layer: true, zIndex: 12 /* NAVIGATOR_ZINDEX */ });\n    this.x = 0;\n    this.y = 0;\n    this.width = 200;\n    this.height = 30;\n    this.lOffset = 0;\n    this.rOffset = 0;\n    this.isContainerNode = true;\n    this.background = new Group({ name: \"navigator-background\" });\n    this.background.zIndex = 1;\n    this.appendChild(this.background);\n    this.append(children);\n  }\n  layout(x, y, width, height, lOffset, rOffset) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.lOffset = lOffset;\n    this.rOffset = rOffset;\n    this.background.translationX = x;\n    this.background.translationY = y;\n  }\n  updateBackground(oldGroup, newGroup) {\n    if (oldGroup != null) {\n      this.background.removeChild(oldGroup);\n    }\n    if (newGroup != null) {\n      this.background.appendChild(newGroup);\n    }\n  }\n  computeBBox() {\n    const { x, y, width, height, lOffset, rOffset } = this;\n    return new BBox(x - lOffset, y, width + (lOffset + rOffset), height);\n  }\n};\n\n// packages/ag-charts-community/src/chart/navigator/navigator.ts\nvar Navigator = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.miniChart = void 0;\n    this.enabled = false;\n    this.mask = new RangeMask();\n    this.minHandle = new RangeHandle();\n    this.maxHandle = new RangeHandle();\n    this.height = 30;\n    this.margin = 10;\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.rangeSelector = new RangeSelector([this.mask, this.minHandle, this.maxHandle]);\n    this._min = 0;\n    this._max = 1;\n    this.minRange = 1e-3;\n    const region = ctx.regionManager.addRegion(\"navigator\", this.rangeSelector);\n    const dragStates = 16 /* Default */ | 1 /* Animation */ | 8 /* ZoomDrag */;\n    this.destroyFns.push(\n      ctx.scene.attachNode(this.rangeSelector),\n      region.addListener(\"hover\", (event) => this.onHover(event), dragStates),\n      region.addListener(\"drag-start\", (event) => this.onDragStart(event), dragStates),\n      region.addListener(\"drag\", (event) => this.onDrag(event), dragStates),\n      region.addListener(\"drag-end\", () => this.onDragEnd(), dragStates),\n      region.addListener(\"leave\", (event) => this.onLeave(event), dragStates),\n      ctx.zoomManager.addListener(\"zoom-change\", (event) => this.onZoomChange(event))\n    );\n    this.updateGroupVisibility();\n  }\n  updateBackground(oldGroup, newGroup) {\n    var _a;\n    (_a = this.rangeSelector) == null ? void 0 : _a.updateBackground(oldGroup, newGroup);\n  }\n  updateGroupVisibility() {\n    const { enabled } = this;\n    if (this.rangeSelector == null || enabled === this.rangeSelector.visible)\n      return;\n    this.rangeSelector.visible = enabled;\n    if (enabled) {\n      this.updateZoom();\n    } else {\n      this.ctx.zoomManager.updateZoom(\"navigator\");\n    }\n  }\n  performLayout(_0) {\n    return __async(this, arguments, function* ({ shrinkRect }) {\n      if (this.enabled) {\n        const navigatorTotalHeight = this.height + this.margin;\n        shrinkRect.shrink(navigatorTotalHeight, \"bottom\");\n        this.y = shrinkRect.y + shrinkRect.height + this.margin;\n      } else {\n        this.y = 0;\n      }\n      return { shrinkRect };\n    });\n  }\n  performCartesianLayout(opts) {\n    return __async(this, null, function* () {\n      const { x, width } = opts.seriesRect;\n      if (this.enabled) {\n        const { y, height } = this;\n        this.layoutNodes(x, y, width, height);\n      }\n      this.x = x;\n      this.width = width;\n    });\n  }\n  onHover(event) {\n    if (!this.enabled)\n      return;\n    const { mask, minHandle, maxHandle } = this;\n    const { offsetX, offsetY } = event;\n    if (minHandle.containsPoint(offsetX, offsetY) || maxHandle.containsPoint(offsetX, offsetY)) {\n      this.ctx.cursorManager.updateCursor(\"navigator\", \"ew-resize\");\n    } else if (mask.computeVisibleRangeBBox().containsPoint(offsetX, offsetY)) {\n      this.ctx.cursorManager.updateCursor(\"navigator\", \"grab\");\n    } else {\n      this.ctx.cursorManager.updateCursor(\"navigator\");\n    }\n  }\n  onDragStart(event) {\n    if (!this.enabled)\n      return;\n    const { mask, minHandle, maxHandle, x, width, _min: min } = this;\n    const { offsetX, offsetY } = event;\n    if (minHandle.zIndex < maxHandle.zIndex) {\n      if (maxHandle.containsPoint(offsetX, offsetY)) {\n        this.dragging = \"max\";\n      } else if (minHandle.containsPoint(offsetX, offsetY)) {\n        this.dragging = \"min\";\n      }\n    } else if (minHandle.containsPoint(offsetX, offsetY)) {\n      this.dragging = \"min\";\n    } else if (maxHandle.containsPoint(offsetX, offsetY)) {\n      this.dragging = \"max\";\n    }\n    if (this.dragging == null && mask.computeVisibleRangeBBox().containsPoint(offsetX, offsetY)) {\n      this.dragging = \"pan\";\n      this.panStart = (offsetX - x) / width - min;\n    }\n    if (this.dragging != null) {\n      this.ctx.zoomManager.fireZoomPanStartEvent(\"navigator\");\n    }\n  }\n  onDrag(event) {\n    if (!this.enabled || this.dragging == null)\n      return;\n    const { dragging, minRange, panStart, x, width } = this;\n    let { _min: min, _max: max } = this;\n    const { offsetX } = event;\n    const ratio = (offsetX - x) / width;\n    if (dragging === \"min\") {\n      min = clamp(0, ratio, max - minRange);\n    } else if (dragging === \"max\") {\n      max = clamp(min + minRange, ratio, 1);\n    } else if (dragging === \"pan\" && panStart != null) {\n      const span = max - min;\n      min = clamp(0, ratio - panStart, 1 - span);\n      max = min + span;\n    }\n    this._min = min;\n    this._max = max;\n    this.updateZoom();\n  }\n  onDragEnd() {\n    this.dragging = void 0;\n  }\n  onLeave(_event) {\n    this.ctx.cursorManager.updateCursor(\"navigator\");\n  }\n  onZoomChange(event) {\n    const { x } = event;\n    if (!x)\n      return;\n    this._min = x.min;\n    this._max = x.max;\n    this.updateNodes(x.min, x.max);\n  }\n  layoutNodes(x, y, width, height) {\n    const { rangeSelector, mask, minHandle, maxHandle, _min: min, _max: max } = this;\n    rangeSelector.layout(x, y, width, height, minHandle.width / 2, maxHandle.width / 2);\n    mask.layout(x, y, width, height);\n    RangeHandle.align(minHandle, maxHandle, x, y, width, height, min, max);\n    if (min + (max - min) / 2 < 0.5) {\n      minHandle.zIndex = 3;\n      maxHandle.zIndex = 4;\n    } else {\n      minHandle.zIndex = 4;\n      maxHandle.zIndex = 3;\n    }\n  }\n  updateNodes(min, max) {\n    this.mask.update(min, max);\n  }\n  updateZoom() {\n    if (!this.enabled)\n      return;\n    const { _min: min, _max: max } = this;\n    const zoom2 = this.ctx.zoomManager.getZoom();\n    if (min == null || max == null)\n      return;\n    const warnOnConflict = (stateId) => {\n      if (this.min == null && this.max == null)\n        return;\n      Logger.warnOnce(\n        `Could not apply [navigator.min] or [navigator.max] as [${stateId}] has modified the initial zoom state.`\n      );\n    };\n    return this.ctx.zoomManager.updateZoom(\"navigator\", { x: { min, max }, y: zoom2 == null ? void 0 : zoom2.y }, false, warnOnConflict);\n  }\n};\n__decorateClass([\n  Validate(OBJECT, { optional: true })\n], Navigator.prototype, \"miniChart\", 2);\n__decorateClass([\n  Validate(BOOLEAN),\n  ObserveChanges((target) => target.updateGroupVisibility())\n], Navigator.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Navigator.prototype, \"height\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], Navigator.prototype, \"margin\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(min) {\n      this._min = min;\n      this.updateZoom();\n    }\n  }),\n  Validate(AND(RATIO, LESS_THAN(\"max\")), { optional: true })\n], Navigator.prototype, \"min\", 2);\n__decorateClass([\n  ActionOnSet({\n    newValue(max) {\n      this._max = max;\n      this.updateZoom();\n    }\n  }),\n  Validate(AND(RATIO, GREATER_THAN(\"min\")), { optional: true })\n], Navigator.prototype, \"max\", 2);\n\n// packages/ag-charts-community/src/chart/navigator/navigatorModule.ts\nvar NavigatorModule = {\n  type: \"root\",\n  optionsKey: \"navigator\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  instanceConstructor: Navigator,\n  themeTemplate: {\n    navigator: {\n      enabled: false,\n      height: 30,\n      mask: {\n        fill: \"#999999\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        fillOpacity: 0.2\n      },\n      minHandle: {\n        fill: \"#f2f2f2\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        width: 9,\n        height: 16,\n        gripLineGap: 1,\n        gripLineLength: 8\n      },\n      maxHandle: {\n        fill: \"#f2f2f2\",\n        stroke: \"#999999\",\n        strokeWidth: 1,\n        width: 9,\n        height: 16,\n        gripLineGap: 1,\n        gripLineLength: 8\n      }\n    }\n  }\n};\n\n// packages/ag-charts-community/src/module/theme.ts\nvar singleSeriesPaletteFactory = ({ takeColors }) => {\n  const {\n    fills: [fill],\n    strokes: [stroke]\n  } = takeColors(1);\n  return { fill, stroke };\n};\nvar markerPaletteFactory = (params) => {\n  const { fill, stroke } = singleSeriesPaletteFactory(params);\n  return { marker: { fill, stroke } };\n};\n\n// packages/ag-charts-community/src/motion/pathMotion.ts\nfunction pathMotion(groupId, subId, animationManager, paths, fns) {\n  const { addPhaseFn, updatePhaseFn, removePhaseFn } = fns;\n  const animate = (phase, path, updateFn) => {\n    animationManager.animate({\n      id: `${groupId}_${subId}_${path.id}_${phase}`,\n      groupId,\n      from: 0,\n      to: 1,\n      ease: easeOut,\n      collapsable: false,\n      onUpdate(ratio, preInit) {\n        if (preInit && phase !== \"removed\")\n          return;\n        path.path.clear(true);\n        updateFn(ratio, path);\n        path.checkPathDirty();\n      },\n      onStop() {\n        if (phase !== \"added\")\n          return;\n        path.path.clear(true);\n        updateFn(1, path);\n        path.checkPathDirty();\n      },\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase]\n    });\n  };\n  for (const path of paths) {\n    if (!animationManager.isSkipped()) {\n      animate(\"removed\", path, removePhaseFn);\n      animate(\"updated\", path, updatePhaseFn);\n    }\n    animate(\"added\", path, addPhaseFn);\n  }\n}\n\n// packages/ag-charts-community/src/util/sanitize.ts\nvar element = null;\nfunction sanitizeHtml(text) {\n  if (text == null) {\n    return;\n  } else if (text === \"\") {\n    return \"\";\n  }\n  element != null ? element : element = createElement(\"div\");\n  element.textContent = String(text);\n  return element.innerHTML;\n}\n\n// packages/ag-charts-community/src/chart/series/seriesLabelUtil.ts\nfunction seriesLabelFadeInAnimation({ id }, subId, animationManager, ...labelSelections) {\n  staticFromToMotion(\n    id,\n    subId,\n    animationManager,\n    labelSelections,\n    { opacity: 0 },\n    { opacity: 1 },\n    { phase: \"trailing\" }\n  );\n}\nfunction seriesLabelFadeOutAnimation({ id }, subId, animationManager, ...labelSelections) {\n  staticFromToMotion(\n    id,\n    subId,\n    animationManager,\n    labelSelections,\n    { opacity: 1 },\n    { opacity: 0 },\n    { phase: \"remove\" }\n  );\n}\nfunction resetLabelFn(_node) {\n  return { opacity: 1 };\n}\n\n// packages/ag-charts-community/src/scene/util/changeDetectableProperties.ts\nvar ChangeDetectableProperties = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this._dirty = 3 /* MAJOR */;\n  }\n  markDirty(_source, type = 1 /* TRIVIAL */) {\n    if (this._dirty < type) {\n      this._dirty = type;\n    }\n  }\n  markClean(_opts) {\n    this._dirty = 0 /* NONE */;\n  }\n  isDirty() {\n    return this._dirty > 0 /* NONE */;\n  }\n};\n\n// packages/ag-charts-community/src/scene/dropShadow.ts\nvar DropShadow = class extends ChangeDetectableProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.color = \"rgba(0, 0, 0, 0.5)\";\n    this.xOffset = 0;\n    this.yOffset = 0;\n    this.blur = 5;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], DropShadow.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(COLOR_STRING),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], DropShadow.prototype, \"color\", 2);\n__decorateClass([\n  Validate(NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], DropShadow.prototype, \"xOffset\", 2);\n__decorateClass([\n  Validate(NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], DropShadow.prototype, \"yOffset\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], DropShadow.prototype, \"blur\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesMarker.ts\nvar MARKER_SHAPE = predicateWithMessage(\n  (value) => isMarkerShape(value) || typeof Marker === \"function\" && Object.create(value.prototype) instanceof Marker,\n  `a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class`\n);\nvar SeriesMarker = class extends ChangeDetectableProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.shape = Circle;\n    this.size = 6;\n    this.fillOpacity = 1;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n  }\n  getStyle() {\n    const { size, fill, fillOpacity, stroke, strokeWidth, strokeOpacity } = this;\n    return { size, fill, fillOpacity, stroke, strokeWidth, strokeOpacity };\n  }\n  getDiameter() {\n    return this.size + this.strokeWidth;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(MARKER_SHAPE),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"shape\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"size\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true }),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true }),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true }),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], SeriesMarker.prototype, \"formatter\", 2);\n\n// packages/ag-charts-community/src/chart/series/seriesTooltip.ts\nvar SeriesTooltipInteraction = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = false;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], SeriesTooltipInteraction.prototype, \"enabled\", 2);\nvar SeriesTooltip = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.enabled = true;\n    this.interaction = new SeriesTooltipInteraction();\n    this.position = new TooltipPosition();\n  }\n  toTooltipHtml(defaults, params) {\n    if (this.renderer) {\n      return toTooltipHtml(this.renderer(params), defaults);\n    }\n    return toTooltipHtml(defaults);\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], SeriesTooltip.prototype, \"enabled\", 2);\n__decorateClass([\n  Validate(BOOLEAN, { optional: true })\n], SeriesTooltip.prototype, \"showArrow\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], SeriesTooltip.prototype, \"renderer\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], SeriesTooltip.prototype, \"interaction\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], SeriesTooltip.prototype, \"position\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeriesProperties.ts\nvar AreaSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.xName = void 0;\n    this.fill = \"#c16068\";\n    this.fillOpacity = 1;\n    this.stroke = \"#874349\";\n    this.strokeWidth = 2;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.shadow = new DropShadow();\n    this.marker = new SeriesMarker();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n    this.connectMissingData = false;\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], AreaSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], AreaSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING)\n], AreaSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], AreaSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], AreaSeriesProperties.prototype, \"normalizedTo\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], AreaSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO)\n], AreaSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], AreaSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AreaSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO)\n], AreaSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], AreaSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], AreaSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], AreaSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], AreaSeriesProperties.prototype, \"connectMissingData\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/markerUtil.ts\nfunction markerFadeInAnimation({ id }, animationManager, status, ...markerSelections) {\n  const params = { phase: status ? NODE_UPDATE_STATE_TO_PHASE_MAPPING[status] : \"trailing\" };\n  staticFromToMotion(id, \"markers\", animationManager, markerSelections, { opacity: 0 }, { opacity: 1 }, params);\n  markerSelections.forEach((s) => s.cleanup());\n}\nfunction markerScaleInAnimation({ id }, animationManager, ...markerSelections) {\n  staticFromToMotion(\n    id,\n    \"markers\",\n    animationManager,\n    markerSelections,\n    { scalingX: 0, scalingY: 0 },\n    { scalingX: 1, scalingY: 1 },\n    { phase: \"initial\" }\n  );\n  markerSelections.forEach((s) => s.cleanup());\n}\nfunction markerSwipeScaleInAnimation({ id, nodeDataDependencies }, animationManager, ...markerSelections) {\n  const seriesWidth = nodeDataDependencies.seriesRectWidth;\n  const fromFn = (_, datum) => {\n    var _a, _b;\n    const x = (_b = (_a = datum.midPoint) == null ? void 0 : _a.x) != null ? _b : seriesWidth;\n    let delay = clamp(0, inverseEaseOut(x / seriesWidth), 1);\n    if (isNaN(delay)) {\n      delay = 0;\n    }\n    return { scalingX: 0, scalingY: 0, delay, duration: QUICK_TRANSITION, phase: \"initial\" };\n  };\n  const toFn = () => {\n    return { scalingX: 1, scalingY: 1 };\n  };\n  fromToMotion(id, \"markers\", animationManager, markerSelections, { fromFn, toFn });\n}\nfunction resetMarkerFn(_node) {\n  return { opacity: 1, scalingX: 1, scalingY: 1 };\n}\nfunction resetMarkerPositionFn(_node, datum) {\n  var _a, _b, _c, _d;\n  return {\n    translationX: (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : NaN,\n    translationY: (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : NaN\n  };\n}\nfunction prepareMarkerAnimation(pairMap, parentStatus) {\n  const readFirstPair = (xValue, type) => {\n    const val = pairMap[type][xValue];\n    return Array.isArray(val) ? val[0] : val;\n  };\n  const markerStatus = (datum) => {\n    const { xValue } = datum;\n    if (pairMap.moved[xValue]) {\n      return { point: readFirstPair(xValue, \"moved\"), status: \"updated\" };\n    } else if (pairMap.removed[xValue]) {\n      return { point: readFirstPair(xValue, \"removed\"), status: \"removed\" };\n    } else if (pairMap.added[xValue]) {\n      return { point: readFirstPair(xValue, \"added\"), status: \"added\" };\n    }\n    return { status: \"unknown\" };\n  };\n  const fromFn = (marker, datum) => {\n    var _a, _b, _c, _d, _e, _f;\n    const { status, point } = markerStatus(datum);\n    if (status === \"unknown\")\n      return { opacity: 0 };\n    const defaults = {\n      translationX: (_b = (_a = point == null ? void 0 : point.from) == null ? void 0 : _a.x) != null ? _b : marker.translationX,\n      translationY: (_d = (_c = point == null ? void 0 : point.from) == null ? void 0 : _c.y) != null ? _d : marker.translationY,\n      opacity: marker.opacity,\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n    };\n    if (parentStatus === \"added\") {\n      return __spreadProps(__spreadValues({}, defaults), {\n        opacity: 0,\n        translationX: (_e = point == null ? void 0 : point.to) == null ? void 0 : _e.x,\n        translationY: (_f = point == null ? void 0 : point.to) == null ? void 0 : _f.y,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"added\"]\n      });\n    }\n    if (status === \"added\") {\n      defaults.opacity = 0;\n    }\n    return defaults;\n  };\n  const toFn = (_marker, datum) => {\n    var _a, _b;\n    const { status, point } = markerStatus(datum);\n    if (status === \"unknown\")\n      return { opacity: 0 };\n    const defaults = {\n      translationX: datum.point.x,\n      translationY: datum.point.y,\n      opacity: 1,\n      phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[status]\n    };\n    if (status === \"removed\" || parentStatus === \"removed\") {\n      return __spreadProps(__spreadValues({}, defaults), {\n        translationX: (_a = point == null ? void 0 : point.to) == null ? void 0 : _a.x,\n        translationY: (_b = point == null ? void 0 : point.to) == null ? void 0 : _b.y,\n        opacity: 0,\n        phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[\"removed\"]\n      });\n    }\n    return defaults;\n  };\n  return { fromFn, toFn };\n}\nfunction computeMarkerFocusBounds(series, { datumIndex }) {\n  const nodeData = series.getNodeData();\n  if (nodeData === void 0)\n    return void 0;\n  const datum = nodeData[datumIndex];\n  if (datum === void 0 || datum.point === void 0)\n    return void 0;\n  const size = series.getFormattedMarkerStyle(datum).size;\n  const radius = size / 2;\n  const { x, y } = series.contentGroup.inverseTransformPoint(datum.point.x - radius, datum.point.y - radius);\n  return new BBox(x, y, size, size);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/pathUtil.ts\nfunction minMax(nodeData) {\n  return nodeData.reduce(\n    ({ min, max }, node) => {\n      if (min == null || min.point.x > node.point.x) {\n        min = node;\n      }\n      if (max == null || max.point.x < node.point.x) {\n        max = node;\n      }\n      return { min, max };\n    },\n    {}\n  );\n}\nfunction intersectionOnLine(a, b, targetX) {\n  const m = (b.y - a.y) / (b.x - a.x);\n  const y = (targetX - a.x) * m + a.y;\n  return { x: targetX, y };\n}\nfunction backfillPathPoint(results, process, skip, processFn) {\n  let prevMarkerIdx = -1, nextMarkerIdx = 0;\n  const toProcess = [];\n  while (nextMarkerIdx < results.length) {\n    if (results[nextMarkerIdx].change === process) {\n      toProcess.push(results[nextMarkerIdx]);\n      nextMarkerIdx++;\n      continue;\n    }\n    if (results[nextMarkerIdx].change === skip) {\n      nextMarkerIdx++;\n      continue;\n    }\n    if (toProcess.length > 0) {\n      processFn(toProcess, prevMarkerIdx, nextMarkerIdx);\n      toProcess.length = 0;\n    }\n    prevMarkerIdx = nextMarkerIdx;\n    nextMarkerIdx++;\n  }\n  if (toProcess.length > 0) {\n    processFn(toProcess, prevMarkerIdx, nextMarkerIdx);\n  }\n}\nfunction backfillPathPointData(result, splitMode) {\n  backfillPathPoint(result, \"out\", \"in\", (toProcess, sIdx, eIdx) => {\n    var _a, _b;\n    if (sIdx === -1 && result[eIdx]) {\n      toProcess.forEach((d) => d.to = result[eIdx].from);\n    } else if (eIdx === result.length && result[sIdx]) {\n      toProcess.forEach((d) => d.to = result[sIdx].from);\n    } else if (splitMode === \"intersect\" && ((_a = result[sIdx]) == null ? void 0 : _a.from) && ((_b = result[eIdx]) == null ? void 0 : _b.from)) {\n      toProcess.forEach((d) => d.to = intersectionOnLine(result[sIdx].from, result[eIdx].from, d.from.x));\n    } else {\n      toProcess.forEach((d) => d.to = d.from);\n    }\n  });\n  backfillPathPoint(result, \"in\", \"out\", (toProcess, sIdx, eIdx) => {\n    var _a, _b;\n    if (sIdx === -1 && result[eIdx]) {\n      toProcess.forEach((d) => d.from = result[eIdx].to);\n    } else if (eIdx === result.length && result[sIdx]) {\n      toProcess.forEach((d) => d.from = result[sIdx].to);\n    } else if (splitMode === \"intersect\" && ((_a = result[sIdx]) == null ? void 0 : _a.to) && ((_b = result[eIdx]) == null ? void 0 : _b.to)) {\n      toProcess.forEach((d) => d.from = intersectionOnLine(result[sIdx].to, result[eIdx].to, d.to.x));\n    } else {\n      toProcess.forEach((d) => d.from = d.to);\n    }\n  });\n}\nfunction calculatePoint(from, to, ratio) {\n  const x1 = isNaN(from.x) ? to.x : from.x;\n  const y1 = isNaN(from.y) ? to.y : from.y;\n  const xd = to.x - from.x;\n  const yd = to.y - from.y;\n  const xr = isNaN(xd) ? 0 : xd * ratio;\n  const yr = isNaN(yd) ? 0 : yd * ratio;\n  return {\n    x: x1 + xr,\n    y: y1 + yr\n  };\n}\nfunction renderPartialPath(pairData, ratios, path) {\n  const { path: linePath } = path;\n  let previousTo;\n  for (const data of pairData) {\n    const { from, to } = data;\n    const ratio = ratios[data.change];\n    if (ratio == null || from == null || to == null)\n      continue;\n    const { x, y } = calculatePoint(from, to, ratio);\n    if (data.moveTo === false) {\n      linePath.lineTo(x, y);\n    } else if (data.moveTo === true || !previousTo) {\n      linePath.moveTo(x, y);\n    } else if (previousTo) {\n      const moveToRatio = data.moveTo === \"in\" ? ratio : 1 - ratio;\n      const { x: midPointX, y: midPointY } = calculatePoint(previousTo, { x, y }, moveToRatio);\n      linePath.lineTo(midPointX, midPointY);\n      linePath.moveTo(x, y);\n    }\n    previousTo = { x, y };\n  }\n}\nfunction pathSwipeInAnimation({ id, visible, nodeDataDependencies }, animationManager, ...paths) {\n  const { seriesRectWidth: width, seriesRectHeight: height } = nodeDataDependencies;\n  staticFromToMotion(\n    id,\n    \"path_properties\",\n    animationManager,\n    paths,\n    { clipX: 0 },\n    { clipX: width },\n    {\n      phase: \"initial\",\n      start: { clipMode: \"normal\", clipY: height, visible },\n      finish: { clipMode: void 0, visible }\n    }\n  );\n}\nfunction pathFadeInAnimation({ id }, subId, animationManager, phase = \"add\", ...selection) {\n  staticFromToMotion(id, subId, animationManager, selection, { opacity: 0 }, { opacity: 1 }, { phase });\n}\nfunction pathFadeOutAnimation({ id }, subId, animationManager, ...selection) {\n  staticFromToMotion(id, subId, animationManager, selection, { opacity: 1 }, { opacity: 0 }, { phase: \"remove\" });\n}\nfunction buildResetPathFn(opts) {\n  return (_node) => {\n    return { opacity: opts.getOpacity(), clipScalingX: 1, clipMode: void 0 };\n  };\n}\nfunction updateClipPath({ nodeDataDependencies }, path) {\n  const toFinite = (value) => isFinite(value) ? value : 0;\n  path.clipX = toFinite(nodeDataDependencies.seriesRectWidth);\n  path.clipY = toFinite(nodeDataDependencies.seriesRectHeight);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/scaling.ts\nfunction isContinuousScaling(scaling) {\n  return scaling.type === \"continuous\" || scaling.type === \"log\";\n}\nfunction isCategoryScaling(scaling) {\n  return scaling.type === \"category\";\n}\nfunction areEqual(a, b) {\n  return a.domain.length === b.domain.length && a.range.length === b.range.length && a.domain.every((val, index) => val === b.domain[index]) && a.range.every((val, index) => val === b.range[index]);\n}\nfunction areScalingEqual(a, b) {\n  if (a === void 0 || b === void 0) {\n    return a !== void 0 || b !== void 0;\n  }\n  if (isContinuousScaling(a) && isContinuousScaling(b)) {\n    return a.type === b.type && areEqual(a, b);\n  }\n  if (isCategoryScaling(a) && isCategoryScaling(b)) {\n    return areEqual(a, b);\n  }\n  return false;\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineUtil.ts\nfunction scale(val, scaling) {\n  if (!scaling)\n    return NaN;\n  if (val instanceof Date) {\n    val = val.getTime();\n  }\n  if (scaling.type === \"continuous\" && typeof val === \"number\") {\n    const domainRatio = (val - scaling.domain[0]) / (scaling.domain[1] - scaling.domain[0]);\n    return domainRatio * (scaling.range[1] - scaling.range[0]) + scaling.range[0];\n  }\n  if (scaling.type === \"log\" && typeof val === \"number\") {\n    return scaling.convert(val);\n  }\n  const matchingIndex = scaling.domain.findIndex((d) => d === val);\n  if (matchingIndex >= 0) {\n    return scaling.range[matchingIndex];\n  }\n  return NaN;\n}\nfunction scalesChanged(newData, oldData) {\n  return !areScalingEqual(newData.scales.x, oldData.scales.x) || !areScalingEqual(newData.scales.y, oldData.scales.y);\n}\nfunction closeMatch(a, b) {\n  const an = Number(a);\n  const bn = Number(b);\n  if (!isNaN(an) && !isNaN(bn)) {\n    return Math.abs(bn - an) < 0.25;\n  }\n  return a === b;\n}\nfunction calculateMoveTo(from = false, to = false) {\n  if (from === to) {\n    return Boolean(from);\n  }\n  return from ? \"in\" : \"out\";\n}\nfunction pairContinuousData(newData, oldData, opts = {}) {\n  var _a, _b, _c, _d;\n  const { backfillSplitMode = \"intersect\" } = opts;\n  const toNewScale = (oldDatum) => {\n    var _a2, _b2;\n    return {\n      x: scale((_a2 = oldDatum.xValue) != null ? _a2 : NaN, newData.scales.x),\n      y: scale((_b2 = oldDatum.yValue) != null ? _b2 : NaN, newData.scales.y)\n    };\n  };\n  const toOldScale = (newDatum) => {\n    var _a2, _b2;\n    return {\n      x: scale((_a2 = newDatum.xValue) != null ? _a2 : NaN, oldData.scales.x),\n      y: scale((_b2 = newDatum.yValue) != null ? _b2 : NaN, oldData.scales.y)\n    };\n  };\n  const result = [];\n  const resultMap = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const pairUp = (from, to, xValue, change = \"move\") => {\n    if (from && (isNaN(from.point.x) || isNaN(from.point.y))) {\n      from = to;\n    }\n    const resultPoint = {\n      from: from == null ? void 0 : from.point,\n      to: to == null ? void 0 : to.point,\n      moveTo: calculateMoveTo(from == null ? void 0 : from.point.moveTo, to == null ? void 0 : to.point.moveTo),\n      change\n    };\n    if (change === \"move\") {\n      resultMap.moved[xValue] = resultPoint;\n      oldIdx++;\n      newIdx++;\n    } else if (change === \"in\") {\n      resultMap.added[xValue] = resultPoint;\n      newIdx++;\n    } else if (change === \"out\") {\n      resultMap.removed[xValue] = resultPoint;\n      oldIdx++;\n    }\n    result.push(resultPoint);\n  };\n  const { min: minFromNode, max: maxFromNode } = minMax(oldData.nodeData);\n  const { min: minToNode, max: maxToNode } = minMax(newData.nodeData);\n  let oldIdx = 0;\n  let newIdx = 0;\n  while (oldIdx < oldData.nodeData.length || newIdx < newData.nodeData.length) {\n    const from = oldData.nodeData[oldIdx];\n    const to = newData.nodeData[newIdx];\n    const fromShifted = from ? toNewScale(from) : void 0;\n    const toUnshifted = to ? toOldScale(to) : void 0;\n    const NA = void 0;\n    if (fromShifted && closeMatch(fromShifted.x, to == null ? void 0 : to.point.x)) {\n      pairUp(from, to, to.xValue, \"move\");\n    } else if (fromShifted && fromShifted.x < ((_a = minToNode == null ? void 0 : minToNode.point.x) != null ? _a : -Infinity)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (fromShifted && fromShifted.x > ((_b = maxToNode == null ? void 0 : maxToNode.point.x) != null ? _b : Infinity)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (toUnshifted && toUnshifted.x < ((_c = minFromNode == null ? void 0 : minFromNode.point.x) != null ? _c : -Infinity)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (toUnshifted && toUnshifted.x > ((_d = maxFromNode == null ? void 0 : maxFromNode.point.x) != null ? _d : Infinity)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (fromShifted && fromShifted.x < (to == null ? void 0 : to.point.x)) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (toUnshifted && toUnshifted.x < (from == null ? void 0 : from.point.x)) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else if (from) {\n      pairUp(from, NA, from.xValue, \"out\");\n    } else if (to) {\n      pairUp(NA, to, to.xValue, \"in\");\n    } else {\n      throw new Error(\"Unable to process points\");\n    }\n  }\n  backfillPathPointData(result, backfillSplitMode);\n  return { result, resultMap };\n}\nfunction pairCategoryData(newData, oldData, diff2, opts = {}) {\n  var _a, _b, _c;\n  const { backfillSplitMode = \"intersect\", multiDatum = false } = opts;\n  const result = [];\n  const resultMapSingle = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const resultMapMulti = {\n    added: {},\n    moved: {},\n    removed: {}\n  };\n  const pointResultMapping = {\n    in: \"added\",\n    move: \"moved\",\n    out: \"removed\"\n  };\n  let previousResultPoint = void 0;\n  let previousXValue = void 0;\n  const addToResultMap = (xValue, newPoint) => {\n    var _a2, _b2;\n    const type = pointResultMapping[newPoint.change];\n    if (multiDatum) {\n      (_b2 = (_a2 = resultMapMulti[type])[xValue]) != null ? _b2 : _a2[xValue] = [];\n      resultMapMulti[type][xValue].push(newPoint);\n    } else {\n      resultMapSingle[type][xValue] = newPoint;\n    }\n    previousResultPoint = newPoint;\n    previousXValue = transformIntegratedCategoryValue(xValue);\n  };\n  let oldIndex = 0;\n  let newIndex = 0;\n  let isXUnordered = false;\n  while (oldIndex < oldData.nodeData.length || newIndex < newData.nodeData.length) {\n    const before = oldData.nodeData[oldIndex];\n    const after = newData.nodeData[newIndex];\n    const bXValue = transformIntegratedCategoryValue(before == null ? void 0 : before.xValue);\n    const aXValue = transformIntegratedCategoryValue(after == null ? void 0 : after.xValue);\n    let resultPoint;\n    if (bXValue === aXValue) {\n      resultPoint = {\n        change: \"move\",\n        moveTo: calculateMoveTo((_a = before.point.moveTo) != null ? _a : false, after.point.moveTo),\n        from: before.point,\n        to: after.point\n      };\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n      newIndex++;\n    } else if (diff2 == null ? void 0 : diff2.removed.has(String(bXValue))) {\n      resultPoint = {\n        change: \"out\",\n        moveTo: (_b = before.point.moveTo) != null ? _b : false,\n        from: before.point\n      };\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n    } else if (diff2 == null ? void 0 : diff2.added.has(String(aXValue))) {\n      resultPoint = {\n        change: \"in\",\n        moveTo: (_c = after.point.moveTo) != null ? _c : false,\n        to: after.point\n      };\n      addToResultMap(after == null ? void 0 : after.xValue, resultPoint);\n      newIndex++;\n    } else if (multiDatum && previousResultPoint && previousXValue === bXValue) {\n      resultPoint = __spreadValues({}, previousResultPoint);\n      addToResultMap(before == null ? void 0 : before.xValue, resultPoint);\n      oldIndex++;\n    } else if (multiDatum && previousResultPoint && previousXValue === aXValue) {\n      resultPoint = __spreadValues({}, previousResultPoint);\n      addToResultMap(after == null ? void 0 : after.xValue, resultPoint);\n      newIndex++;\n    } else {\n      isXUnordered = true;\n      break;\n    }\n    result.push(resultPoint);\n  }\n  let previousX = -Infinity;\n  isXUnordered || (isXUnordered = result.some((pathPoint) => {\n    const { change: marker, to: { x = -Infinity } = {} } = pathPoint;\n    if (marker === \"out\")\n      return;\n    const unordered = x < previousX;\n    previousX = x;\n    return unordered;\n  }));\n  if (isXUnordered) {\n    return { result: void 0, resultMap: void 0 };\n  }\n  backfillPathPointData(result, backfillSplitMode);\n  return { result, resultMap: multiDatum ? resultMapMulti : resultMapSingle };\n}\nfunction determinePathStatus(newData, oldData, pairData) {\n  var _a, _b, _c, _d;\n  let status = \"updated\";\n  const visible = (data) => {\n    return data.visible;\n  };\n  if (!visible(oldData) && visible(newData)) {\n    status = \"added\";\n  } else if (visible(oldData) && !visible(newData)) {\n    status = \"removed\";\n  } else {\n    for (let i = 0; i < pairData.length; i++) {\n      if (pairData[i].change !== \"move\")\n        break;\n      if (((_a = pairData[i].from) == null ? void 0 : _a.x) !== ((_b = pairData[i].to) == null ? void 0 : _b.x))\n        break;\n      if (((_c = pairData[i].from) == null ? void 0 : _c.y) !== ((_d = pairData[i].to) == null ? void 0 : _d.y))\n        break;\n      if (i === pairData.length - 1)\n        return \"no-op\";\n    }\n  }\n  return status;\n}\nfunction prepareLinePathPropertyAnimation(status, visibleToggleMode) {\n  const phase = visibleToggleMode === \"none\" ? \"updated\" : status;\n  const result = {\n    fromFn: (_path) => {\n      let mixin;\n      if (status === \"removed\") {\n        mixin = { finish: { visible: false } };\n      } else if (status === \"added\") {\n        mixin = { start: { visible: true } };\n      } else {\n        mixin = {};\n      }\n      return __spreadValues({ phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase] }, mixin);\n    },\n    toFn: (_path) => {\n      return { phase: NODE_UPDATE_STATE_TO_PHASE_MAPPING[phase] };\n    }\n  };\n  if (visibleToggleMode === \"fade\") {\n    return {\n      fromFn: (path) => {\n        const opacity = status === \"added\" ? 0 : path.opacity;\n        return __spreadValues({ opacity }, result.fromFn(path));\n      },\n      toFn: (path) => {\n        const opacity = status === \"removed\" ? 0 : 1;\n        return __spreadValues({ opacity }, result.toFn(path));\n      }\n    };\n  }\n  return result;\n}\nfunction prepareLinePathAnimationFns(newData, oldData, pairData, visibleToggleMode, render) {\n  const status = determinePathStatus(newData, oldData, pairData);\n  const removePhaseFn = (ratio, path) => {\n    render(pairData, { move: 0, out: ratio }, path);\n  };\n  const updatePhaseFn = (ratio, path) => {\n    render(pairData, { move: ratio }, path);\n  };\n  const addPhaseFn = (ratio, path) => {\n    render(pairData, { move: 1, in: ratio }, path);\n  };\n  const pathProperties = prepareLinePathPropertyAnimation(status, visibleToggleMode);\n  return { status, path: { addPhaseFn, updatePhaseFn, removePhaseFn }, pathProperties };\n}\nfunction prepareLinePathAnimation(newData, oldData, diff2) {\n  var _a, _b, _c;\n  const isCategoryBased = ((_a = newData.scales.x) == null ? void 0 : _a.type) === \"category\";\n  const wasCategoryBased = ((_b = oldData.scales.x) == null ? void 0 : _b.type) === \"category\";\n  if (isCategoryBased !== wasCategoryBased) {\n    return;\n  }\n  const { result: pairData, resultMap: pairMap } = isCategoryBased ? pairCategoryData(newData, oldData, diff2) : pairContinuousData(newData, oldData);\n  let status = \"updated\";\n  if (oldData.visible && !newData.visible) {\n    status = \"removed\";\n  } else if (!oldData.visible && newData.visible) {\n    status = \"added\";\n  }\n  if (pairData === void 0 || pairMap === void 0) {\n    return;\n  }\n  const hasMotion = ((_c = diff2 == null ? void 0 : diff2.changed) != null ? _c : true) || scalesChanged(newData, oldData) || status !== \"updated\";\n  const pathFns = prepareLinePathAnimationFns(newData, oldData, pairData, \"fade\", renderPartialPath);\n  const marker = prepareMarkerAnimation(pairMap, status);\n  return __spreadProps(__spreadValues({}, pathFns), { marker, hasMotion });\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaUtil.ts\nvar AreaSeriesTag = /* @__PURE__ */ ((AreaSeriesTag2) => {\n  AreaSeriesTag2[AreaSeriesTag2[\"Fill\"] = 0] = \"Fill\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Stroke\"] = 1] = \"Stroke\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Marker\"] = 2] = \"Marker\";\n  AreaSeriesTag2[AreaSeriesTag2[\"Label\"] = 3] = \"Label\";\n  return AreaSeriesTag2;\n})(AreaSeriesTag || {});\nfunction splitFillPoints(context) {\n  const { points, phantomPoints } = context.fillData;\n  return { top: points, bottom: phantomPoints };\n}\nfunction prepPoints(key, ctx, points) {\n  return {\n    scales: ctx.scales,\n    nodeData: points[key],\n    visible: ctx.visible\n  };\n}\nfunction pairFillCategoryData(newData, oldData, diff2) {\n  const oldPoints = splitFillPoints(oldData);\n  const newPoints = splitFillPoints(newData);\n  const pairOpts = { multiDatum: true };\n  return {\n    top: pairCategoryData(\n      prepPoints(\"top\", newData, newPoints),\n      prepPoints(\"top\", oldData, oldPoints),\n      diff2,\n      pairOpts\n    ),\n    bottom: pairCategoryData(\n      prepPoints(\"bottom\", newData, newPoints),\n      prepPoints(\"bottom\", oldData, oldPoints),\n      diff2,\n      pairOpts\n    )\n  };\n}\nfunction pairFillContinuousData(newData, oldData) {\n  const oldPoints = splitFillPoints(oldData);\n  const newPoints = splitFillPoints(newData);\n  return {\n    top: pairContinuousData(prepPoints(\"top\", newData, newPoints), prepPoints(\"top\", oldData, oldPoints)),\n    bottom: pairContinuousData(prepPoints(\"bottom\", newData, newPoints), prepPoints(\"bottom\", oldData, oldPoints))\n  };\n}\nfunction prepareAreaPathAnimation(newData, oldData, diff2) {\n  var _a, _b;\n  const isCategoryBased = ((_a = newData.scales.x) == null ? void 0 : _a.type) === \"category\";\n  const wasCategoryBased = ((_b = oldData.scales.x) == null ? void 0 : _b.type) === \"category\";\n  if (isCategoryBased !== wasCategoryBased) {\n    return;\n  }\n  let status = \"updated\";\n  if (oldData.visible && !newData.visible) {\n    status = \"removed\";\n  } else if (!oldData.visible && newData.visible) {\n    status = \"added\";\n  }\n  const prepareMarkerPairs = () => {\n    if (isCategoryBased) {\n      return pairCategoryData(newData, oldData, diff2, { backfillSplitMode: \"static\", multiDatum: true });\n    }\n    return pairContinuousData(newData, oldData, { backfillSplitMode: \"static\" });\n  };\n  const prepareFillPairs = () => {\n    if (isCategoryBased) {\n      return pairFillCategoryData(newData, oldData, diff2);\n    }\n    return pairFillContinuousData(newData, oldData);\n  };\n  const { resultMap: markerPairMap } = prepareMarkerPairs();\n  const { top, bottom } = prepareFillPairs();\n  if (markerPairMap === void 0 || top.result === void 0 || bottom.result === void 0) {\n    return;\n  }\n  const pairData = [...top.result, ...bottom.result.reverse()];\n  const stackVisible = oldData.stackVisible ? newData.stackVisible : false;\n  const fadeMode = stackVisible ? \"none\" : \"fade\";\n  const fill = prepareLinePathAnimationFns(newData, oldData, pairData, fadeMode, renderPartialPath);\n  const marker = prepareMarkerAnimation(markerPairMap, status);\n  return { status: fill.status, fill, marker };\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeries.ts\nvar AreaSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pathsPerSeries: 2,\n      pathsZIndexSubOrderOffset: [0, 1e3],\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      pickModes: [1 /* NEAREST_BY_MAIN_AXIS_FIRST */, 0 /* EXACT_SHAPE_MATCH */],\n      animationResetFns: {\n        path: buildResetPathFn({ getOpacity: () => this.getOpacity() }),\n        label: resetLabelFn,\n        marker: (node, datum) => __spreadValues(__spreadValues({}, resetMarkerFn(node)), resetMarkerPositionFn(node, datum))\n      }\n    });\n    this.properties = new AreaSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      const { data, visible, seriesGrouping: { groupIndex = this.id, stackCount = 1 } = {} } = this;\n      const { xKey, yKey, connectMissingData, normalizedTo } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const { isContinuousX, xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const ids = [\n        `area-stack-${groupIndex}-yValues`,\n        `area-stack-${groupIndex}-yValues-trailing`,\n        `area-stack-${groupIndex}-yValues-prev`,\n        `area-stack-${groupIndex}-yValues-trailing-prev`,\n        `area-stack-${groupIndex}-yValues-marker`\n      ];\n      const extraProps = [];\n      if (isDefined(normalizedTo)) {\n        extraProps.push(normaliseGroupTo([ids[0], ids[1], ids[4]], normalizedTo, \"range\"));\n        extraProps.push(normaliseGroupTo([ids[2], ids[3]], normalizedTo, \"range\"));\n      }\n      if (!isContinuousX && animationEnabled && this.processedData) {\n        extraProps.push(diff(this.processedData));\n      }\n      if (animationEnabled) {\n        extraProps.push(animationValidation());\n      }\n      const common = { invalidValue: null };\n      if (connectMissingData && stackCount > 1) {\n        common.invalidValue = 0;\n      }\n      if (!visible) {\n        common.forceValue = 0;\n      }\n      yield this.requestDataModel(dataController, data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xValue\" }),\n          valueProperty(yKey, yScaleType, __spreadValues({ id: `yValueRaw` }, common)),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window\",\n            \"current\",\n            __spreadProps(__spreadValues({\n              id: `yValueEnd`\n            }, common), {\n              groupId: ids[0]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window-trailing\",\n            \"current\",\n            __spreadProps(__spreadValues({\n              id: `yValueStart`\n            }, common), {\n              groupId: ids[1]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window\",\n            \"last\",\n            __spreadProps(__spreadValues({\n              id: `yValuePreviousEnd`\n            }, common), {\n              groupId: ids[2]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"window-trailing\",\n            \"last\",\n            __spreadProps(__spreadValues({\n              id: `yValuePreviousStart`\n            }, common), {\n              groupId: ids[3]\n            }),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"normal\",\n            \"current\",\n            __spreadProps(__spreadValues({\n              id: `yValueCumulative`\n            }, common), {\n              groupId: ids[4]\n            }),\n            yScaleType\n          ),\n          ...extraProps\n        ],\n        groupByKeys: true,\n        groupByData: false\n      });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { processedData, dataModel, axes } = this;\n    if (!processedData || !dataModel || processedData.data.length === 0)\n      return [];\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const keyDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    const keys = dataModel.getDomain(this, `xValue`, \"key\", processedData);\n    const yExtent = dataModel.getDomain(this, `yValueEnd`, \"value\", processedData);\n    if (direction === \"x\" /* X */) {\n      if ((keyDef == null ? void 0 : keyDef.def.type) === \"key\" && keyDef.def.valueType === \"category\") {\n        return keys;\n      }\n      return fixNumericExtent(extent(keys), xAxis);\n    } else if (yAxis instanceof LogAxis || yAxis instanceof TimeAxis) {\n      return fixNumericExtent(yExtent, yAxis);\n    } else {\n      const fixedYExtent = [yExtent[0] > 0 ? 0 : yExtent[0], yExtent[1] < 0 ? 0 : yExtent[1]];\n      return fixNumericExtent(fixedYExtent, yAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      const { axes, data, processedData: { data: groupedData } = {}, dataModel } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!xAxis || !yAxis || !data || !dataModel || !this.properties.isValid()) {\n        return;\n      }\n      const {\n        yKey,\n        xKey,\n        marker,\n        label,\n        fill: seriesFill,\n        stroke: seriesStroke,\n        connectMissingData\n      } = this.properties;\n      const { scale: xScale } = xAxis;\n      const { scale: yScale } = yAxis;\n      const { isContinuousY } = this.getScaleInformation({ xScale, yScale });\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const defs = dataModel.resolveProcessedDataDefsByIds(this, [\n        `yValueStart`,\n        `yValueEnd`,\n        `yValueRaw`,\n        `yValuePreviousStart`,\n        `yValuePreviousEnd`,\n        `yValueCumulative`\n      ]);\n      const createMovePoint = (plainPoint) => __spreadProps(__spreadValues({}, plainPoint), {\n        point: __spreadProps(__spreadValues({}, plainPoint.point), { moveTo: true })\n      });\n      const createPathCoordinates = (xValue, lastYEnd, yEnd) => {\n        const x = xScale.convert(xValue) + xOffset;\n        const prevYCoordinate = yScale.convert(lastYEnd);\n        const currYCoordinate = yScale.convert(yEnd);\n        return [\n          { point: { x, y: currYCoordinate }, yValue: yEnd, xValue },\n          { point: { x, y: prevYCoordinate }, yValue: lastYEnd, xValue }\n        ];\n      };\n      const createMarkerCoordinate = (xDatum, yEnd, rawYDatum) => {\n        let currY;\n        if (isDefined(this.properties.normalizedTo) ? isContinuousY && isContinuous(rawYDatum) : !isNaN(rawYDatum)) {\n          currY = yEnd;\n        }\n        return {\n          x: xScale.convert(xDatum) + xOffset,\n          y: yScale.convert(currY),\n          size: marker.size\n        };\n      };\n      const itemId = yKey;\n      const labelData = [];\n      const markerData = [];\n      const { visibleSameStackCount } = this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);\n      const context = {\n        itemId,\n        fillData: { itemId, points: [], phantomPoints: [] },\n        strokeData: { itemId, points: [] },\n        labelData,\n        nodeData: markerData,\n        scales: this.calculateScaling(),\n        visible: this.visible,\n        stackVisible: visibleSameStackCount > 0\n      };\n      const fillPoints = context.fillData.points;\n      const fillPhantomPoints = context.fillData.phantomPoints;\n      const strokePoints = context.strokeData.points;\n      let datumIdx = -1;\n      let lastXDatum;\n      let lastYDatum = -Infinity;\n      groupedData == null ? void 0 : groupedData.forEach((datumGroup) => {\n        const {\n          keys,\n          keys: [xDatum],\n          datum: datumArray,\n          values: valuesArray\n        } = datumGroup;\n        valuesArray.forEach((values, valueIdx) => {\n          var _a2, _b, _c;\n          datumIdx++;\n          const seriesDatum = datumArray[valueIdx];\n          const dataValues = dataModel.resolveProcessedDataDefsValues(defs, { keys, values });\n          const { yValueRaw: yDatum, yValueCumulative } = dataValues;\n          let { yValueStart, yValueEnd, yValuePreviousStart, yValuePreviousEnd } = dataValues;\n          const validPoint = yDatum != null;\n          const point = createMarkerCoordinate(xDatum, +yValueCumulative, yDatum);\n          if (validPoint && marker) {\n            markerData.push({\n              index: datumIdx,\n              series: this,\n              itemId,\n              datum: seriesDatum,\n              midPoint: { x: point.x, y: point.y },\n              cumulativeValue: yValueEnd,\n              yValue: yDatum,\n              xValue: xDatum,\n              yKey,\n              xKey,\n              point,\n              fill: (_a2 = marker.fill) != null ? _a2 : seriesFill,\n              stroke: (_b = marker.stroke) != null ? _b : seriesStroke,\n              strokeWidth: (_c = marker.strokeWidth) != null ? _c : this.getStrokeWidth(this.properties.strokeWidth)\n            });\n          }\n          if (validPoint && label) {\n            const labelText = this.getLabelText(\n              label,\n              {\n                value: yDatum,\n                datum: seriesDatum,\n                xKey,\n                yKey,\n                xName: this.properties.xName,\n                yName: this.properties.yName\n              },\n              (value) => isFiniteNumber(value) ? value.toFixed(2) : String(value)\n            );\n            labelData.push({\n              index: datumIdx,\n              series: this,\n              itemId: yKey,\n              datum: seriesDatum,\n              x: point.x,\n              y: point.y,\n              label: labelText ? {\n                text: labelText,\n                fontStyle: label.fontStyle,\n                fontWeight: label.fontWeight,\n                fontSize: label.fontSize,\n                fontFamily: label.fontFamily,\n                textAlign: \"center\",\n                textBaseline: \"bottom\",\n                fill: label.color\n              } : void 0\n            });\n          }\n          const xValid = lastXDatum != null && xDatum != null;\n          const yValid = lastYDatum != null && validPoint;\n          if (!yValid) {\n            yValueStart = yValueStart != null ? yValueStart : 0;\n            yValueEnd = yValueStart != null ? yValueStart : 0;\n            yValuePreviousStart = yValuePreviousStart != null ? yValuePreviousStart : 0;\n            yValuePreviousEnd = yValuePreviousStart != null ? yValuePreviousStart : 0;\n          }\n          const [prevTop, prevBottom] = createPathCoordinates(lastXDatum, yValuePreviousStart, yValuePreviousEnd);\n          const [top, bottom] = createPathCoordinates(xDatum, yValueStart, yValueEnd);\n          if (xValid && (!connectMissingData || yValid)) {\n            fillPoints.push(prevTop, top);\n            fillPhantomPoints.push(prevBottom, bottom);\n          }\n          if (yValid && datumIdx > 0) {\n            strokePoints.push(createMovePoint(prevTop), top);\n          }\n          lastXDatum = xDatum;\n          lastYDatum = yDatum;\n        });\n      });\n      if (strokePoints.length > 0) {\n        strokePoints[0] = createMovePoint(strokePoints[0]);\n      }\n      return context;\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const { opacity, visible, animationEnabled } = opts;\n      const [fill, stroke] = opts.paths;\n      const strokeWidth = this.getStrokeWidth(this.properties.strokeWidth);\n      stroke.setProperties({\n        tag: 1 /* Stroke */,\n        fill: void 0,\n        lineJoin: stroke.lineCap = \"round\",\n        pointerEvents: 1 /* None */,\n        stroke: this.properties.stroke,\n        strokeWidth,\n        strokeOpacity: this.properties.strokeOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset,\n        opacity,\n        visible\n      });\n      fill.setProperties({\n        tag: 0 /* Fill */,\n        stroke: void 0,\n        lineJoin: \"round\",\n        pointerEvents: 1 /* None */,\n        fill: this.properties.fill,\n        fillOpacity: this.properties.fillOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset,\n        strokeOpacity: this.properties.strokeOpacity,\n        fillShadow: this.properties.shadow,\n        opacity,\n        visible: visible || animationEnabled,\n        strokeWidth\n      });\n      updateClipPath(this, stroke);\n      updateClipPath(this, fill);\n    });\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      this.updateAreaPaths(opts.paths, opts.contextData);\n    });\n  }\n  updateAreaPaths(paths, contextData) {\n    this.updateFillPath(paths, contextData);\n    this.updateStrokePath(paths, contextData);\n  }\n  updateFillPath(paths, contextData) {\n    const { fillData } = contextData;\n    const [fill] = paths;\n    const { path: fillPath } = fill;\n    fillPath.clear(true);\n    let lastPoint;\n    for (const { point } of iterate(fillData.points, iterateReverseArray(fillData.phantomPoints))) {\n      if (point.moveTo) {\n        fillPath.moveTo(point.x, point.y);\n      } else if ((lastPoint == null ? void 0 : lastPoint.y) !== point.y) {\n        if (lastPoint) {\n          fillPath.lineTo(lastPoint.x, lastPoint.y);\n        }\n        fillPath.lineTo(point.x, point.y);\n      }\n      lastPoint = point;\n    }\n    if (lastPoint) {\n      fillPath.lineTo(lastPoint.x, lastPoint.y);\n    }\n    fillPath.closePath();\n    fill.checkPathDirty();\n  }\n  updateStrokePath(paths, contextData) {\n    const { strokeData } = contextData;\n    const [, stroke] = paths;\n    const { path: strokePath } = stroke;\n    strokePath.clear(true);\n    for (const { point } of strokeData.points) {\n      if (point.moveTo) {\n        strokePath.moveTo(point.x, point.y);\n      } else {\n        strokePath.lineTo(point.x, point.y);\n      }\n    }\n    stroke.checkPathDirty();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, markerSelection } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(this.properties.marker.enabled ? nodeData : []);\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, marker, fill, stroke, strokeWidth, fillOpacity, strokeOpacity, highlightStyle } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle(), {\n        fill,\n        stroke,\n        strokeWidth,\n        fillOpacity,\n        strokeOpacity\n      });\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey }, baseStyle);\n      });\n      if (!highlighted) {\n        this.properties.marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const { labelData, labelSelection } = opts;\n      return labelSelection.update(labelData, (text) => {\n        text.tag = 3 /* Label */;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { labelSelection } = opts;\n      const { enabled: labelEnabled, fontStyle, fontWeight, fontSize, fontFamily, color } = this.properties.label;\n      labelSelection.each((text, datum) => {\n        const { x, y, label } = datum;\n        if (label && labelEnabled && this.visible) {\n          text.fontStyle = fontStyle;\n          text.fontWeight = fontWeight;\n          text.fontSize = fontSize;\n          text.fontFamily = fontFamily;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n          text.text = label.text;\n          text.x = x;\n          text.y = y - 10;\n          text.fill = color;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    const { id: seriesId, axes, dataModel } = this;\n    const { xKey, xName, yName, tooltip, marker } = this.properties;\n    const { yKey, xValue, yValue, datum, itemId } = nodeDatum;\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !(xAxis && yAxis && isFiniteNumber(yValue)) || !dataModel) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml(yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    const baseStyle = mergeDefaults({ fill: this.properties.fill }, marker.getStyle(), {\n      stroke: this.properties.stroke,\n      strokeWidth: this.properties.strokeWidth\n    });\n    const { fill: color } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, xKey, yKey, highlighted: false },\n      baseStyle\n    );\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      {\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        color,\n        title,\n        seriesId\n      }\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    const { yKey, yName, fill, stroke, fillOpacity, strokeOpacity, strokeWidth, lineDash, marker, visible } = this.properties;\n    const useAreaFill = !marker.enabled || marker.fill === void 0;\n    return [\n      {\n        legendType,\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: yName != null ? yName : yKey\n        },\n        marker: {\n          shape: marker.shape,\n          fill: useAreaFill ? fill : marker.fill,\n          fillOpacity: useAreaFill ? fillOpacity : marker.fillOpacity,\n          stroke: (_b = marker.stroke) != null ? _b : stroke,\n          strokeOpacity: (_c = marker.strokeOpacity) != null ? _c : strokeOpacity,\n          strokeWidth: (_d = marker.strokeWidth) != null ? _d : 0,\n          enabled: marker.enabled || strokeWidth <= 0\n        },\n        line: {\n          stroke,\n          strokeOpacity,\n          strokeWidth,\n          lineDash\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady(animationData) {\n    const { markerSelection, labelSelection, contextData, paths } = animationData;\n    const { animationManager } = this.ctx;\n    this.updateAreaPaths(paths, contextData);\n    pathSwipeInAnimation(this, animationManager, ...paths);\n    resetMotion([markerSelection], resetMarkerPositionFn);\n    markerSwipeScaleInAnimation(this, animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n  }\n  animateReadyResize(animationData) {\n    const { contextData, paths } = animationData;\n    this.updateAreaPaths(paths, contextData);\n    super.animateReadyResize(animationData);\n  }\n  animateWaitingUpdateReady(animationData) {\n    var _a, _b;\n    const { animationManager } = this.ctx;\n    const { markerSelection, labelSelection, contextData, paths, previousContextData } = animationData;\n    const [fill, stroke] = paths;\n    if (fill == null && stroke == null)\n      return;\n    super.resetAllAnimation(animationData);\n    const update = () => {\n      this.updateAreaPaths(paths, contextData);\n      this.updateStrokePath(paths, contextData);\n    };\n    const skip = () => {\n      animationManager.skipCurrentBatch();\n      update();\n    };\n    if (contextData == null || previousContextData == null) {\n      update();\n      markerFadeInAnimation(this, animationManager, \"added\", markerSelection);\n      pathFadeInAnimation(this, \"fill_path_properties\", animationManager, \"add\", fill);\n      pathFadeInAnimation(this, \"stroke\", animationManager, \"trailing\", stroke);\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n      return;\n    }\n    const fns = prepareAreaPathAnimation(contextData, previousContextData, (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff);\n    if (fns === void 0) {\n      skip();\n      return;\n    } else if (fns.status === \"no-op\") {\n      return;\n    }\n    markerFadeInAnimation(this, animationManager, void 0, markerSelection);\n    fromToMotion(this.id, \"fill_path_properties\", animationManager, [fill], fns.fill.pathProperties);\n    pathMotion(this.id, \"fill_path_update\", animationManager, [fill], fns.fill.path);\n    this.updateStrokePath(paths, contextData);\n    pathFadeInAnimation(this, \"stroke\", animationManager, \"trailing\", stroke);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const { xKey, yKey } = datum;\n    return this.getMarkerStyle(this.properties.marker, { datum, xKey, yKey, highlighted: true });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nAreaSeries.className = \"AreaSeries\";\nAreaSeries.type = \"area\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/areaSeriesModule.ts\nvar AreaSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"area\",\n  instanceConstructor: AreaSeries,\n  stackable: true,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    },\n    {\n      type: \"category\" /* CATEGORY */,\n      position: \"bottom\" /* BOTTOM */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      nodeClickRange: \"nearest\",\n      tooltip: { position: { type: \"node\" } },\n      fillOpacity: 0.8,\n      strokeOpacity: 1,\n      strokeWidth: 0,\n      lineDash: [0],\n      lineDashOffset: 0,\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        enabled: false,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 0\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  paletteFactory: (params) => {\n    const { marker } = markerPaletteFactory(params);\n    return { fill: marker.fill, stroke: marker.stroke, marker };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/quadtreeUtil.ts\nfunction* childrenIter(parent) {\n  for (const node of parent.children) {\n    yield node;\n  }\n}\nfunction addHitTestersToQuadtree(quadtree, hitTesters) {\n  for (const node of hitTesters) {\n    const datum = node.datum;\n    if (datum === void 0) {\n      Logger.error(\"undefined datum\");\n    } else {\n      quadtree.addValue(node, datum);\n    }\n  }\n}\nfunction findQuadtreeMatch(series, point) {\n  const { x, y } = series.contentGroup.transformPoint(point.x, point.y);\n  const { nearest, distanceSquared: distanceSquared2 } = series.getQuadTree().find(x, y);\n  if (nearest !== void 0) {\n    return { datum: nearest.value, distance: Math.sqrt(distanceSquared2) };\n  }\n  return void 0;\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/abstractBarSeries.ts\nvar AbstractBarSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.direction = \"vertical\";\n  }\n};\n__decorateClass([\n  Validate(DIRECTION)\n], AbstractBarSeriesProperties.prototype, \"direction\", 2);\nvar AbstractBarSeries = class extends CartesianSeries {\n  constructor() {\n    super(...arguments);\n    /**\n     * Used to get the position of bars within each group.\n     */\n    this.groupScale = new BandScale();\n    this.smallestDataInterval = void 0;\n  }\n  getBandScalePadding() {\n    return { inner: 0.2, outer: 0.1 };\n  }\n  shouldFlipXY() {\n    return !this.isVertical();\n  }\n  isVertical() {\n    return this.properties.direction === \"vertical\";\n  }\n  getBarDirection() {\n    return this.shouldFlipXY() ? \"x\" /* X */ : \"y\" /* Y */;\n  }\n  getCategoryDirection() {\n    return this.shouldFlipXY() ? \"y\" /* Y */ : \"x\" /* X */;\n  }\n  getValueAxis() {\n    const direction = this.getBarDirection();\n    return this.axes[direction];\n  }\n  getCategoryAxis() {\n    const direction = this.getCategoryDirection();\n    return this.axes[direction];\n  }\n  updateGroupScale(xAxis) {\n    const {\n      groupScale,\n      smallestDataInterval,\n      ctx: { seriesStateManager }\n    } = this;\n    const xScale = xAxis.scale;\n    const xBandWidth = ContinuousScale.is(xScale) ? xScale.calcBandwidth(smallestDataInterval) : xScale.bandwidth;\n    const domain = [];\n    const { index: groupIndex, visibleGroupCount } = seriesStateManager.getVisiblePeerGroupIndex(this);\n    for (let groupIdx = 0; groupIdx < visibleGroupCount; groupIdx++) {\n      domain.push(String(groupIdx));\n    }\n    groupScale.domain = domain;\n    groupScale.range = [0, xBandWidth != null ? xBandWidth : 0];\n    if (xAxis instanceof CategoryAxis) {\n      groupScale.paddingInner = xAxis.groupPaddingInner;\n    } else if (xAxis instanceof GroupedCategoryAxis) {\n      groupScale.padding = 0.1;\n    } else {\n      groupScale.padding = 0;\n    }\n    groupScale.round = groupScale.padding !== 0;\n    const barWidth = groupScale.bandwidth >= 1 ? (\n      // Pixel-rounded value for low-volume bar charts.\n      groupScale.bandwidth\n    ) : (\n      // Handle high-volume bar charts gracefully.\n      groupScale.rawBandwidth\n    );\n    return { barWidth, groupIndex };\n  }\n  resolveKeyDirection(direction) {\n    if (this.getBarDirection() === \"x\" /* X */) {\n      if (direction === \"x\" /* X */) {\n        return \"y\" /* Y */;\n      }\n      return \"x\" /* X */;\n    }\n    return direction;\n  }\n  initQuadTree(quadtree) {\n    addHitTestersToQuadtree(quadtree, this.datumNodesIter());\n  }\n  pickNodeClosestDatum(point) {\n    return findQuadtreeMatch(this, point);\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeriesProperties.ts\nvar BarSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"inside\";\n  }\n};\n__decorateClass([\n  Validate(PLACEMENT)\n], BarSeriesLabel.prototype, \"placement\", 2);\nvar BarSeriesProperties = class extends AbstractBarSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"#c16068\";\n    this.fillOpacity = 1;\n    this.stroke = \"#874349\";\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.shadow = new DropShadow();\n    this.label = new BarSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], BarSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BarSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING)\n], BarSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BarSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BarSeriesProperties.prototype, \"stackGroup\", 2);\n__decorateClass([\n  Validate(NUMBER, { optional: true })\n], BarSeriesProperties.prototype, \"normalizedTo\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], BarSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO)\n], BarSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], BarSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], BarSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO)\n], BarSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], BarSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], BarSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], BarSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], BarSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([\n  Validate(OBJECT, { optional: true })\n], BarSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], BarSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], BarSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/barUtil.ts\nfunction updateRect({ rect, config }) {\n  const {\n    crisp = true,\n    fill,\n    stroke,\n    strokeWidth,\n    fillOpacity,\n    strokeOpacity,\n    lineDash,\n    lineDashOffset,\n    fillShadow,\n    cornerRadius = 0,\n    topLeftCornerRadius = true,\n    topRightCornerRadius = true,\n    bottomRightCornerRadius = true,\n    bottomLeftCornerRadius = true,\n    visible = true\n  } = config;\n  rect.crisp = crisp;\n  rect.fill = fill;\n  rect.stroke = stroke;\n  rect.strokeWidth = strokeWidth;\n  rect.fillOpacity = fillOpacity;\n  rect.strokeOpacity = strokeOpacity;\n  rect.lineDash = lineDash;\n  rect.lineDashOffset = lineDashOffset;\n  rect.fillShadow = fillShadow;\n  rect.topLeftCornerRadius = topLeftCornerRadius ? cornerRadius : 0;\n  rect.topRightCornerRadius = topRightCornerRadius ? cornerRadius : 0;\n  rect.bottomRightCornerRadius = bottomRightCornerRadius ? cornerRadius : 0;\n  rect.bottomLeftCornerRadius = bottomLeftCornerRadius ? cornerRadius : 0;\n  rect.visible = visible;\n}\nfunction getRectConfig(_a) {\n  var _b = _a, {\n    datum,\n    isHighlighted,\n    style,\n    highlightStyle,\n    formatter,\n    seriesId,\n    ctx: { callbackCache }\n  } = _b, opts = __objRest(_b, [\n    \"datum\",\n    \"isHighlighted\",\n    \"style\",\n    \"highlightStyle\",\n    \"formatter\",\n    \"seriesId\",\n    \"ctx\"\n  ]);\n  var _a2, _b2, _c, _d, _e, _f;\n  const { fill, fillOpacity, stroke, strokeWidth } = mergeDefaults(isHighlighted && highlightStyle, style);\n  const {\n    strokeOpacity,\n    fillShadow,\n    lineDash,\n    lineDashOffset,\n    cornerRadius = 0,\n    topLeftCornerRadius = true,\n    topRightCornerRadius = true,\n    bottomRightCornerRadius = true,\n    bottomLeftCornerRadius = true\n  } = style;\n  let format2;\n  if (formatter) {\n    format2 = callbackCache.call(formatter, __spreadValues({\n      datum: datum.datum,\n      xKey: datum.xKey,\n      fill,\n      stroke,\n      strokeWidth,\n      cornerRadius,\n      highlighted: isHighlighted,\n      seriesId\n    }, opts));\n  }\n  return {\n    fill: (_a2 = format2 == null ? void 0 : format2.fill) != null ? _a2 : fill,\n    stroke: (_b2 = format2 == null ? void 0 : format2.stroke) != null ? _b2 : stroke,\n    strokeWidth: (_c = format2 == null ? void 0 : format2.strokeWidth) != null ? _c : strokeWidth,\n    fillOpacity: (_d = format2 == null ? void 0 : format2.fillOpacity) != null ? _d : fillOpacity,\n    strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity,\n    lineDash,\n    lineDashOffset,\n    fillShadow,\n    cornerRadius: (_f = format2 == null ? void 0 : format2.cornerRadius) != null ? _f : cornerRadius,\n    topLeftCornerRadius,\n    topRightCornerRadius,\n    bottomRightCornerRadius,\n    bottomLeftCornerRadius\n  };\n}\nfunction checkCrisp(visibleRange = []) {\n  const [visibleMin, visibleMax] = visibleRange;\n  const isZoomed = visibleMin !== 0 || visibleMax !== 1;\n  return !isZoomed;\n}\nvar isDatumNegative = (datum) => {\n  var _a;\n  return isNegative((_a = datum.yValue) != null ? _a : 0);\n};\nfunction collapsedStartingBarPosition(isVertical, axes, mode) {\n  const { startingX, startingY } = getStartingValues(isVertical, axes);\n  const calculate = (datum, prevDatum) => {\n    let x = isVertical ? datum.x : startingX;\n    let y = isVertical ? startingY : datum.y;\n    let width = isVertical ? datum.width : 0;\n    let height = isVertical ? 0 : datum.height;\n    const { opacity } = datum;\n    if (prevDatum && (isNaN(x) || isNaN(y))) {\n      ({ x, y } = prevDatum);\n      width = isVertical ? prevDatum.width : 0;\n      height = isVertical ? 0 : prevDatum.height;\n      if (isVertical && !isDatumNegative(prevDatum)) {\n        y += prevDatum.height;\n      } else if (!isVertical && isDatumNegative(prevDatum)) {\n        x += prevDatum.width;\n      }\n    }\n    let clipBBox;\n    if (datum.clipBBox == null) {\n      clipBBox = void 0;\n    } else if (isDatumNegative(datum)) {\n      clipBBox = isVertical ? new BBox(x, y - height, width, height) : new BBox(x - width, y, width, height);\n    } else {\n      clipBBox = new BBox(x, y, width, height);\n    }\n    return { x, y, width, height, clipBBox, opacity };\n  };\n  return { isVertical, calculate, mode };\n}\nfunction midpointStartingBarPosition(isVertical, mode) {\n  return {\n    isVertical,\n    calculate: (datum) => {\n      return {\n        x: isVertical ? datum.x : datum.x + datum.width / 2,\n        y: isVertical ? datum.y + datum.height / 2 : datum.y,\n        width: isVertical ? datum.width : 0,\n        height: isVertical ? 0 : datum.height,\n        clipBBox: datum.clipBBox,\n        opacity: datum.opacity\n      };\n    },\n    mode\n  };\n}\nfunction prepareBarAnimationFunctions(initPos) {\n  const isRemoved = (datum) => datum == null || isNaN(datum.x) || isNaN(datum.y);\n  const fromFn = (rect, datum, status) => {\n    if (status === \"updated\" && isRemoved(datum)) {\n      status = \"removed\";\n    } else if (status === \"updated\" && isRemoved(rect.previousDatum)) {\n      status = \"added\";\n    }\n    let source;\n    if (status === \"added\" && rect.previousDatum == null && initPos.mode === \"fade\") {\n      source = __spreadProps(__spreadValues({}, resetBarSelectionsFn(rect, datum)), { opacity: 0 });\n    } else if (status === \"unknown\" || status === \"added\") {\n      source = initPos.calculate(datum, rect.previousDatum);\n    } else {\n      source = {\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height,\n        clipBBox: rect.clipBBox,\n        opacity: rect.opacity\n      };\n    }\n    const phase = NODE_UPDATE_STATE_TO_PHASE_MAPPING[status];\n    return __spreadProps(__spreadValues({}, source), { phase });\n  };\n  const toFn = (rect, datum, status) => {\n    let source;\n    if (status === \"removed\" && rect.datum == null && initPos.mode === \"fade\") {\n      source = __spreadProps(__spreadValues({}, resetBarSelectionsFn(rect, datum)), { opacity: 0 });\n    } else if (status === \"removed\" || isRemoved(datum)) {\n      source = initPos.calculate(datum, rect.previousDatum);\n    } else {\n      source = {\n        x: datum.x,\n        y: datum.y,\n        width: datum.width,\n        height: datum.height,\n        clipBBox: datum.clipBBox,\n        opacity: datum.opacity\n      };\n    }\n    return source;\n  };\n  return { toFn, fromFn };\n}\nfunction getStartingValues(isVertical, axes) {\n  const axis = axes[isVertical ? \"y\" /* Y */ : \"x\" /* X */];\n  let startingX = Infinity;\n  let startingY = 0;\n  if (!axis) {\n    return { startingX, startingY };\n  }\n  if (isVertical) {\n    startingY = axis.scale.convert(ContinuousScale.is(axis.scale) ? 0 : Math.max(...axis.range));\n  } else {\n    startingX = axis.scale.convert(ContinuousScale.is(axis.scale) ? 0 : Math.min(...axis.range));\n  }\n  return { startingX, startingY };\n}\nfunction resetBarSelectionsFn(_node, { x, y, width, height, clipBBox, opacity }) {\n  return { x, y, width, height, clipBBox, opacity };\n}\nfunction computeBarFocusBounds(datum, barGroup, seriesRect) {\n  if (datum === void 0)\n    return void 0;\n  const { x, y, width, height } = datum;\n  return barGroup.inverseTransformBBox(new BBox(x, y, width, height)).clip(seriesRect);\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/labelUtil.ts\nfunction updateLabelNode(textNode, label, labelDatum) {\n  if (label.enabled && labelDatum) {\n    const { x, y, text, textAlign, textBaseline } = labelDatum;\n    const { color: fill, fontStyle, fontWeight, fontSize, fontFamily } = label;\n    textNode.setProperties({\n      visible: true,\n      x,\n      y,\n      text,\n      fill,\n      fontStyle,\n      fontWeight,\n      fontSize,\n      fontFamily,\n      textAlign,\n      textBaseline\n    });\n  } else {\n    textNode.visible = false;\n  }\n}\nfunction adjustLabelPlacement({\n  isPositive,\n  isVertical,\n  placement,\n  padding = 0,\n  rect\n}) {\n  let x = rect.x + rect.width / 2;\n  let y = rect.y + rect.height / 2;\n  let textAlign = \"center\";\n  let textBaseline = \"middle\";\n  switch (placement) {\n    case \"start\": {\n      if (isVertical) {\n        y = isPositive ? rect.y + rect.height + padding : rect.y - padding;\n        textBaseline = isPositive ? \"top\" : \"bottom\";\n      } else {\n        x = isPositive ? rect.x - padding : rect.x + rect.width + padding;\n        textAlign = isPositive ? \"start\" : \"end\";\n      }\n      break;\n    }\n    case \"outside\":\n    case \"end\": {\n      if (isVertical) {\n        y = isPositive ? rect.y - padding : rect.y + rect.height + padding;\n        textBaseline = isPositive ? \"bottom\" : \"top\";\n      } else {\n        x = isPositive ? rect.x + rect.width + padding : rect.x - padding;\n        textAlign = isPositive ? \"start\" : \"end\";\n      }\n      break;\n    }\n  }\n  return { x, y, textAlign, textBaseline };\n}\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeries.ts\nvar BarSeries = class extends AbstractBarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      pathsPerSeries: 0,\n      hasHighlightedLabels: true,\n      datumSelectionGarbageCollection: false,\n      animationAlwaysUpdateSelections: true,\n      animationResetFns: {\n        datum: resetBarSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new BarSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      if (!this.properties.isValid() || !this.data) {\n        return;\n      }\n      const { seriesGrouping: { groupIndex = this.id } = {}, data = [] } = this;\n      const { xKey, yKey, normalizedTo } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.getCategoryAxis()) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.getValueAxis()) == null ? void 0 : _b.scale;\n      const { isContinuousX, xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const stackGroupName = `bar-stack-${groupIndex}-yValues`;\n      const stackGroupTrailingName = `${stackGroupName}-trailing`;\n      const extraProps = [];\n      if (isFiniteNumber(normalizedTo)) {\n        extraProps.push(\n          normaliseGroupTo([stackGroupName, stackGroupTrailingName], Math.abs(normalizedTo), \"range\")\n        );\n      }\n      if (animationEnabled && this.processedData) {\n        extraProps.push(diff(this.processedData));\n      }\n      if (animationEnabled) {\n        extraProps.push(animationValidation());\n      }\n      const visibleProps = this.visible ? {} : { forceValue: 0 };\n      const { processedData } = yield this.requestDataModel(dataController, data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xValue\" }),\n          valueProperty(yKey, yScaleType, __spreadValues({ id: `yValue-raw`, invalidValue: null }, visibleProps)),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"normal\",\n            \"current\",\n            __spreadValues({\n              id: `yValue-end`,\n              rangeId: `yValue-range`,\n              invalidValue: null,\n              missingValue: 0,\n              groupId: stackGroupName,\n              separateNegative: true\n            }, visibleProps),\n            yScaleType\n          ),\n          ...groupAccumulativeValueProperty(\n            yKey,\n            \"trailing\",\n            \"current\",\n            __spreadValues({\n              id: `yValue-start`,\n              invalidValue: null,\n              missingValue: 0,\n              groupId: stackGroupTrailingName,\n              separateNegative: true\n            }, visibleProps),\n            yScaleType\n          ),\n          ...isContinuousX ? [SMALLEST_KEY_INTERVAL] : [],\n          ...extraProps\n        ],\n        groupByKeys: true,\n        groupByData: false\n      });\n      this.smallestDataInterval = (_c = processedData.reduced) == null ? void 0 : _c.smallestKeyInterval;\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    var _a;\n    const { processedData, dataModel, smallestDataInterval } = this;\n    if (!processedData || !dataModel || processedData.data.length === 0)\n      return [];\n    const categoryAxis = this.getCategoryAxis();\n    const valueAxis = this.getValueAxis();\n    const keyDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    const keys = dataModel.getDomain(this, `xValue`, \"key\", processedData);\n    const yExtent = dataModel.getDomain(this, `yValue-end`, \"value\", processedData);\n    if (direction === this.getCategoryDirection()) {\n      if ((keyDef == null ? void 0 : keyDef.def.type) === \"key\" && keyDef.def.valueType === \"category\") {\n        return keys;\n      }\n      const scalePadding = isFiniteNumber(smallestDataInterval) ? smallestDataInterval * 0.5 : 0;\n      const keysExtent = (_a = extent(keys)) != null ? _a : [NaN, NaN];\n      const d0 = keysExtent[0] + -scalePadding;\n      const d1 = keysExtent[1] + scalePadding;\n      return fixNumericExtent([d0, d1], categoryAxis);\n    } else if (this.getValueAxis() instanceof LogAxis) {\n      return fixNumericExtent(yExtent, valueAxis);\n    } else {\n      const fixedYExtent = [Math.min(0, yExtent[0]), Math.max(0, yExtent[1])];\n      return fixNumericExtent(fixedYExtent, valueAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const { dataModel } = this;\n      const xAxis = this.getCategoryAxis();\n      const yAxis = this.getValueAxis();\n      if (!dataModel || !xAxis || !yAxis || !this.properties.isValid())\n        return;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const { xKey, yKey, xName, yName, fill, stroke, strokeWidth, cornerRadius, legendItemName, label } = this.properties;\n      const yReversed = yAxis.isReversed();\n      const { barWidth, groupIndex } = this.updateGroupScale(xAxis);\n      const barOffset = ContinuousScale.is(xScale) ? barWidth * -0.5 : 0;\n      const xIndex = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yRawIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-raw`);\n      const yStartIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-start`);\n      const yEndIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-end`);\n      const yRangeIndex = dataModel.resolveProcessedDataIndexById(this, `yValue-range`);\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const context = {\n        itemId: yKey,\n        nodeData: [],\n        labelData: [],\n        scales: this.calculateScaling(),\n        visible: this.visible || animationEnabled\n      };\n      const { groupScale, processedData } = this;\n      processedData == null ? void 0 : processedData.data.forEach(({ keys, datum: seriesDatum, values, aggValues }) => {\n        values.forEach((value, valueIndex) => {\n          var _a;\n          const xValue = keys[xIndex];\n          const x = xScale.convert(xValue);\n          const currY = +value[yEndIndex];\n          const prevY = +value[yStartIndex];\n          const yRawValue = value[yRawIndex];\n          const isPositive = yRawValue >= 0 && !Object.is(yRawValue, -0);\n          const isUpward = isPositive !== yReversed;\n          const yRange = (_a = aggValues == null ? void 0 : aggValues[yRangeIndex][isPositive ? 1 : 0]) != null ? _a : 0;\n          const barX = x + groupScale.convert(String(groupIndex)) + barOffset;\n          if (isNaN(currY))\n            return;\n          const y = yScale.convert(currY);\n          const bottomY = yScale.convert(prevY);\n          const barAlongX = this.getBarDirection() === \"x\" /* X */;\n          const bboxHeight = yScale.convert(yRange);\n          const bboxBottom = yScale.convert(0);\n          const rect = {\n            x: barAlongX ? Math.min(y, bottomY) : barX,\n            y: barAlongX ? barX : Math.min(y, bottomY),\n            width: barAlongX ? Math.abs(bottomY - y) : barWidth,\n            height: barAlongX ? barWidth : Math.abs(bottomY - y)\n          };\n          const clipBBox = new BBox(rect.x, rect.y, rect.width, rect.height);\n          const barRect = {\n            x: barAlongX ? Math.min(bboxBottom, bboxHeight) : barX,\n            y: barAlongX ? barX : Math.min(bboxBottom, bboxHeight),\n            width: barAlongX ? Math.abs(bboxBottom - bboxHeight) : barWidth,\n            height: barAlongX ? barWidth : Math.abs(bboxBottom - bboxHeight),\n            clipBBox\n          };\n          const {\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily,\n            color: labelColor,\n            placement\n          } = label;\n          const labelText = this.getLabelText(\n            this.properties.label,\n            {\n              datum: seriesDatum[valueIndex],\n              value: yRawValue,\n              xKey,\n              yKey,\n              xName,\n              yName,\n              legendItemName\n            },\n            (v) => isFiniteNumber(v) ? v.toFixed(2) : String(v)\n          );\n          const labelDatum = labelText ? __spreadValues({\n            text: labelText,\n            fill: labelColor,\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily\n          }, adjustLabelPlacement({\n            isPositive,\n            isVertical: !barAlongX,\n            placement,\n            rect\n          })) : void 0;\n          const lengthRatioMultiplier = this.shouldFlipXY() ? rect.height : rect.width;\n          const nodeData = {\n            series: this,\n            itemId: yKey,\n            datum: seriesDatum[valueIndex],\n            valueIndex,\n            cumulativeValue: currY,\n            xValue,\n            yValue: yRawValue,\n            yKey,\n            xKey,\n            capDefaults: {\n              lengthRatioMultiplier,\n              lengthMax: lengthRatioMultiplier\n            },\n            x: barRect.x,\n            y: barRect.y,\n            width: barRect.width,\n            height: barRect.height,\n            midPoint: { x: rect.x + rect.width / 2, y: rect.y + rect.height / 2 },\n            fill,\n            stroke,\n            opacity: 1,\n            strokeWidth,\n            cornerRadius,\n            topLeftCornerRadius: barAlongX !== isUpward,\n            topRightCornerRadius: isUpward,\n            bottomRightCornerRadius: barAlongX === isUpward,\n            bottomLeftCornerRadius: !isUpward,\n            clipBBox,\n            label: labelDatum,\n            missing: yRawValue == null\n          };\n          context.nodeData.push(nodeData);\n          context.labelData.push(nodeData);\n        });\n      });\n      return context;\n    });\n  }\n  nodeFactory() {\n    return new Rect();\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.datumSelection.update(\n        opts.nodeData,\n        (rect) => {\n          rect.tag = 0 /* Bar */;\n        },\n        (datum) => createDatumId(datum.xValue, datum.valueIndex)\n      );\n    });\n  }\n  updateDatumNodes(opts) {\n    return __async(this, null, function* () {\n      if (!this.properties.isValid()) {\n        return;\n      }\n      const {\n        yKey,\n        stackGroup,\n        fill,\n        fillOpacity,\n        stroke,\n        strokeWidth,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        formatter,\n        shadow,\n        highlightStyle: { item: itemHighlightStyle }\n      } = this.properties;\n      const xAxis = this.axes[\"x\" /* X */];\n      const crisp = checkCrisp(xAxis == null ? void 0 : xAxis.visibleRange);\n      const categoryAlongX = this.getCategoryDirection() === \"x\" /* X */;\n      opts.datumSelection.each((rect, datum) => {\n        var _a, _b, _c, _d;\n        const style = {\n          fill,\n          stroke,\n          fillOpacity,\n          strokeOpacity,\n          lineDash,\n          lineDashOffset,\n          fillShadow: shadow,\n          strokeWidth: this.getStrokeWidth(strokeWidth),\n          cornerRadius: datum.cornerRadius,\n          topLeftCornerRadius: datum.topLeftCornerRadius,\n          topRightCornerRadius: datum.topRightCornerRadius,\n          bottomRightCornerRadius: datum.bottomRightCornerRadius,\n          bottomLeftCornerRadius: datum.bottomLeftCornerRadius\n        };\n        const visible = categoryAlongX ? ((_b = (_a = datum.clipBBox) == null ? void 0 : _a.width) != null ? _b : datum.width) > 0 : ((_d = (_c = datum.clipBBox) == null ? void 0 : _c.height) != null ? _d : datum.height) > 0;\n        const config = getRectConfig({\n          datum,\n          ctx: this.ctx,\n          seriesId: this.id,\n          isHighlighted: opts.isHighlight,\n          highlightStyle: itemHighlightStyle,\n          yKey,\n          style,\n          formatter,\n          stackGroup\n        });\n        config.crisp = crisp;\n        config.visible = visible;\n        updateRect({ rect, config });\n      });\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const data = this.isLabelEnabled() ? opts.labelData : [];\n      return opts.labelSelection.update(data, (text) => {\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      opts.labelSelection.each((textNode, datum) => {\n        updateLabelNode(textNode, this.properties.label, datum.label);\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const {\n      id: seriesId,\n      processedData,\n      ctx: { callbackCache }\n    } = this;\n    const xAxis = this.getCategoryAxis();\n    const yAxis = this.getValueAxis();\n    if (!processedData || !this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, xName, yName, fill, stroke, strokeWidth, tooltip, formatter, stackGroup, legendItemName } = this.properties;\n    const { xValue, yValue, datum, itemId } = nodeDatum;\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml(yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        seriesId,\n        datum,\n        xKey,\n        yKey,\n        stackGroup,\n        fill,\n        stroke,\n        strokeWidth: this.getStrokeWidth(strokeWidth),\n        highlighted: false\n      });\n    }\n    const color = (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill;\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      __spreadValues({\n        seriesId,\n        itemId,\n        datum,\n        xKey,\n        yKey,\n        xName,\n        yName,\n        stackGroup,\n        title,\n        color,\n        legendItemName\n      }, this.getModuleTooltipParams())\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b;\n    const { showInLegend } = this.properties;\n    if (legendType !== \"category\" || !((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || !showInLegend) {\n      return [];\n    }\n    const { yKey, yName, fill, stroke, strokeWidth, fillOpacity, strokeOpacity, legendItemName, visible } = this.properties;\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: { text: (_b = legendItemName != null ? legendItemName : yName) != null ? _b : yKey },\n        marker: { fill, fillOpacity, stroke, strokeWidth, strokeOpacity },\n        legendItemName\n      }\n    ];\n  }\n  animateEmptyUpdateReady({ datumSelection, labelSelection, annotationSelections }) {\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(), this.axes, \"normal\"));\n    fromToMotion(this.id, \"nodes\", this.ctx.animationManager, [datumSelection], fns);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n  }\n  animateWaitingUpdateReady(data) {\n    var _a, _b, _c;\n    const { datumSelection, labelSelection, annotationSelections, previousContextData } = data;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const dataDiff = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff;\n    const mode = previousContextData == null ? \"fade\" : \"normal\";\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(), this.axes, mode));\n    fromToMotion(\n      this.id,\n      \"nodes\",\n      this.ctx.animationManager,\n      [datumSelection],\n      fns,\n      (_, datum) => createDatumId(datum.xValue, datum.valueIndex),\n      dataDiff\n    );\n    const hasMotion = (_c = dataDiff == null ? void 0 : dataDiff.changed) != null ? _c : true;\n    if (hasMotion) {\n      seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n      seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n    }\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  computeFocusBounds({ datumIndex, seriesRect }) {\n    var _a;\n    const datumBox = (_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex].clipBBox;\n    return computeBarFocusBounds(datumBox, this.contentGroup, seriesRect);\n  }\n};\nBarSeries.className = \"BarSeries\";\nBarSeries.type = \"bar\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/barSeriesModule.ts\nvar BarSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bar\",\n  instanceConstructor: BarSeries,\n  stackable: true,\n  groupable: true,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    },\n    {\n      type: \"category\" /* CATEGORY */,\n      position: \"bottom\" /* BOTTOM */\n    }\n  ],\n  swapDefaultAxesCondition: (series) => (series == null ? void 0 : series.direction) === \"horizontal\",\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      direction: \"vertical\",\n      fillOpacity: 1,\n      strokeWidth: 0,\n      lineDash: [0],\n      lineDashOffset: 0,\n      label: {\n        enabled: false,\n        fontWeight: \"normal\" /* NORMAL */,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n        placement: \"inside\"\n      },\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 0.3\n        }\n      }\n    }\n  },\n  paletteFactory: singleSeriesPaletteFactory\n};\n\n// packages/ag-charts-community/src/scale/colorScale.ts\nvar convertColorStringToOklcha = (v) => {\n  const color = Color.fromString(v);\n  const [l, c, h] = Color.RGBtoOKLCH(color.r, color.g, color.b);\n  return { l, c, h, a: color.a };\n};\nvar interpolateOklch = (x, y, d) => {\n  d = clamp(0, d, 1);\n  let h;\n  let c;\n  if (Number.isNaN(x.h) && Number.isNaN(y.h)) {\n    h = 0;\n    c = 0;\n  } else if (Number.isNaN(x.h)) {\n    h = y.h;\n    c = y.c;\n  } else if (Number.isNaN(y.h)) {\n    h = x.h;\n    c = x.c;\n  } else {\n    const xH = x.h;\n    let yH = y.h;\n    const deltaH = y.h - x.h;\n    if (deltaH > 180) {\n      yH -= 360;\n    } else if (deltaH < -180) {\n      yH += 360;\n    }\n    h = xH * (1 - d) + yH * d;\n    c = x.c * (1 - d) + y.c * d;\n  }\n  const l = x.l * (1 - d) + y.l * d;\n  const a = x.a * (1 - d) + y.a * d;\n  return Color.fromOKLCH(l, c, h, a);\n};\nvar ColorScale = class {\n  constructor() {\n    this.type = \"color\";\n    this.invalid = true;\n    this.domain = [0, 1];\n    this.range = [\"red\", \"blue\"];\n    this.parsedRange = this.range.map(convertColorStringToOklcha);\n  }\n  update() {\n    const { domain, range: range3 } = this;\n    if (domain.length < 2) {\n      Logger.warnOnce(\"`colorDomain` should have at least 2 values.\");\n      if (domain.length === 0) {\n        domain.push(0, 1);\n      } else if (domain.length === 1) {\n        domain.push(domain[0] + 1);\n      }\n    }\n    for (let i = 1; i < domain.length; i++) {\n      const a = domain[i - 1];\n      const b = domain[i];\n      if (a >= b) {\n        Logger.warnOnce(\"`colorDomain` values should be supplied in ascending order.\");\n        domain.sort((a2, b2) => a2 - b2);\n        break;\n      }\n    }\n    if (range3.length < domain.length) {\n      for (let i = range3.length; i < domain.length; i++) {\n        range3.push(range3.length > 0 ? range3[0] : \"black\");\n      }\n    }\n    this.parsedRange = this.range.map(convertColorStringToOklcha);\n  }\n  convert(x) {\n    this.refresh();\n    const { domain, range: range3, parsedRange } = this;\n    const d0 = domain[0];\n    const d1 = domain.at(-1);\n    const r0 = range3[0];\n    const r1 = range3[range3.length - 1];\n    if (x <= d0) {\n      return r0;\n    }\n    if (x >= d1) {\n      return r1;\n    }\n    let index;\n    let q;\n    if (domain.length === 2) {\n      const t = (x - d0) / (d1 - d0);\n      const step = 1 / (range3.length - 1);\n      index = range3.length <= 2 ? 0 : Math.min(Math.floor(t * (range3.length - 1)), range3.length - 2);\n      q = (t - index * step) / step;\n    } else {\n      for (index = 0; index < domain.length - 2; index++) {\n        if (x < domain[index + 1]) {\n          break;\n        }\n      }\n      const a = domain[index];\n      const b = domain[index + 1];\n      q = (x - a) / (b - a);\n    }\n    const c0 = parsedRange[index];\n    const c1 = parsedRange[index + 1];\n    return interpolateOklch(c0, c1, q).toRgbaString();\n  }\n  refresh() {\n    if (!this.invalid)\n      return;\n    this.invalid = false;\n    this.update();\n    if (this.invalid) {\n      Logger.warnOnce(\"Expected update to not invalidate scale\");\n    }\n  }\n};\n__decorateClass([\n  Invalidating\n], ColorScale.prototype, \"domain\", 2);\n__decorateClass([\n  Invalidating\n], ColorScale.prototype, \"range\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeriesProperties.ts\nvar BubbleSeriesMarker = class extends SeriesMarker {\n  constructor() {\n    super(...arguments);\n    this.maxSize = 30;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], BubbleSeriesMarker.prototype, \"maxSize\", 2);\n__decorateClass([\n  Validate(NUMBER_ARRAY, { optional: true }),\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], BubbleSeriesMarker.prototype, \"domain\", 2);\nvar BubbleSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"top\";\n  }\n};\n__decorateClass([\n  Validate(LABEL_PLACEMENT)\n], BubbleSeriesLabel.prototype, \"placement\", 2);\nvar BubbleSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.colorRange = [\"#ffff00\", \"#00ff00\", \"#0000ff\"];\n    this.marker = new BubbleSeriesMarker();\n    this.label = new BubbleSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], BubbleSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING)\n], BubbleSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING)\n], BubbleSeriesProperties.prototype, \"sizeKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"labelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"sizeName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"labelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([\n  Validate(NUMBER_ARRAY, { optional: true })\n], BubbleSeriesProperties.prototype, \"colorDomain\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], BubbleSeriesProperties.prototype, \"colorRange\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], BubbleSeriesProperties.prototype, \"title\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], BubbleSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], BubbleSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], BubbleSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeries.ts\nvar BubbleSeriesNodeEvent = class extends CartesianSeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.sizeKey = series.properties.sizeKey;\n  }\n};\nvar BubbleSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [\n        2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */,\n        3 /* NEAREST_NODE */,\n        0 /* EXACT_SHAPE_MATCH */\n      ],\n      pathsPerSeries: 0,\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        label: resetLabelFn,\n        marker: resetMarkerFn\n      }\n    });\n    this.NodeEvent = BubbleSeriesNodeEvent;\n    this.properties = new BubbleSeriesProperties();\n    this.sizeScale = new LinearScale();\n    this.colorScale = new ColorScale();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d;\n      if (!this.properties.isValid() || this.data == null || !this.visible)\n        return;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const { xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const colorScaleType = this.colorScale.type;\n      const sizeScaleType = this.sizeScale.type;\n      const { xKey, yKey, sizeKey, labelKey, colorDomain, colorRange, colorKey, marker } = this.properties;\n      const { dataModel, processedData } = yield this.requestDataModel(dataController, this.data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xKey-raw\" }),\n          keyProperty(yKey, yScaleType, { id: \"yKey-raw\" }),\n          ...labelKey ? [keyProperty(labelKey, \"band\", { id: `labelKey-raw` })] : [],\n          valueProperty(xKey, xScaleType, { id: `xValue` }),\n          valueProperty(yKey, yScaleType, { id: `yValue` }),\n          valueProperty(sizeKey, sizeScaleType, { id: `sizeValue` }),\n          ...colorKey ? [valueProperty(colorKey, colorScaleType, { id: `colorValue` })] : [],\n          ...labelKey ? [valueProperty(labelKey, \"band\", { id: `labelValue` })] : []\n        ]\n      });\n      const sizeKeyIdx = dataModel.resolveProcessedDataIndexById(this, `sizeValue`);\n      const processedSize = (_c = processedData.domain.values[sizeKeyIdx]) != null ? _c : [];\n      this.sizeScale.domain = marker.domain ? marker.domain : processedSize;\n      if (colorKey) {\n        const colorKeyIdx = dataModel.resolveProcessedDataIndexById(this, `colorValue`);\n        this.colorScale.domain = (_d = colorDomain != null ? colorDomain : processedData.domain.values[colorKeyIdx]) != null ? _d : [];\n        this.colorScale.range = colorRange;\n        this.colorScale.update();\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { dataModel, processedData } = this;\n    if (!processedData || !dataModel)\n      return [];\n    const id = direction === \"x\" /* X */ ? `xValue` : `yValue`;\n    const dataDef = dataModel.resolveProcessedDataDefById(this, id);\n    const domain = dataModel.getDomain(this, id, \"value\", processedData);\n    if ((dataDef == null ? void 0 : dataDef.def.type) === \"value\" && (dataDef == null ? void 0 : dataDef.def.valueType) === \"category\") {\n      return domain;\n    }\n    const axis = this.axes[direction];\n    return fixNumericExtent(extent(domain), axis);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { axes, dataModel, processedData, colorScale, sizeScale } = this;\n      const { xKey, yKey, sizeKey, labelKey, xName, yName, sizeName, labelName, label, colorKey, marker, visible } = this.properties;\n      const markerShape = getMarker(marker.shape);\n      const { placement } = label;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!(dataModel && processedData && visible && xAxis && yAxis)) {\n        return;\n      }\n      const xDataIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yDataIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      const sizeDataIdx = sizeKey ? dataModel.resolveProcessedDataIndexById(this, `sizeValue`) : -1;\n      const colorDataIdx = colorKey ? dataModel.resolveProcessedDataIndexById(this, `colorValue`) : -1;\n      const labelDataIdx = labelKey ? dataModel.resolveProcessedDataIndexById(this, `labelValue`) : -1;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      sizeScale.range = [marker.size, marker.maxSize];\n      const font = label.getFont();\n      for (const { values, datum } of (_c = processedData.data) != null ? _c : []) {\n        const xDatum = values[xDataIdx];\n        const yDatum = values[yDataIdx];\n        const x = xScale.convert(xDatum) + xOffset;\n        const y = yScale.convert(yDatum) + yOffset;\n        const labelText = this.getLabelText(label, {\n          value: labelKey ? values[labelDataIdx] : yDatum,\n          datum,\n          xKey,\n          yKey,\n          sizeKey,\n          labelKey,\n          xName,\n          yName,\n          sizeName,\n          labelName\n        });\n        const size = Text.getTextSize(String(labelText), font);\n        const markerSize = sizeKey ? sizeScale.convert(values[sizeDataIdx]) : marker.size;\n        const fill = colorKey ? colorScale.convert(values[colorDataIdx]) : void 0;\n        nodeData.push({\n          series: this,\n          itemId: yKey,\n          yKey,\n          xKey,\n          datum,\n          xValue: xDatum,\n          yValue: yDatum,\n          sizeValue: values[sizeDataIdx],\n          point: { x, y, size: markerSize },\n          midPoint: { x, y },\n          fill,\n          label: __spreadValues({ text: labelText }, size),\n          marker: markerShape,\n          placement\n        });\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  getLabelData() {\n    var _a, _b;\n    return (_b = (_a = this.contextNodeData) == null ? void 0 : _a.labelData) != null ? _b : [];\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, markerSelection } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      const data = this.properties.marker.enabled ? nodeData : [];\n      return markerSelection.update(\n        data,\n        void 0,\n        (datum) => createDatumId([datum.xValue, datum.yValue, datum.label.text])\n      );\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, sizeKey, labelKey, marker } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && this.properties.highlightStyle.item, marker.getStyle());\n      this.sizeScale.range = [marker.size, marker.maxSize];\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey, sizeKey, labelKey }, baseStyle);\n      });\n      if (!highlighted) {\n        this.properties.marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const placedLabels = this.properties.label.enabled ? (_b = (_a = this.chart) == null ? void 0 : _a.placeLabels().get(this)) != null ? _b : [] : [];\n      return opts.labelSelection.update(\n        placedLabels.map((v) => __spreadProps(__spreadValues({}, v.datum), {\n          point: {\n            x: v.x,\n            y: v.y,\n            size: v.datum.point.size\n          }\n        }))\n      );\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { label } = this.properties;\n      opts.labelSelection.each((text, datum) => {\n        var _a, _b, _c, _d;\n        text.text = datum.label.text;\n        text.fill = label.color;\n        text.x = (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : 0;\n        text.y = (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : 0;\n        text.fontStyle = label.fontStyle;\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = \"left\";\n        text.textBaseline = \"top\";\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, sizeKey, labelKey, xName, yName, sizeName, labelName, marker, tooltip } = this.properties;\n    const title = (_a = this.properties.title) != null ? _a : yName;\n    const baseStyle = mergeDefaults(\n      { fill: nodeDatum.fill, strokeWidth: this.getStrokeWidth(marker.strokeWidth) },\n      marker.getStyle()\n    );\n    const { fill: color = \"gray\" } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, highlighted: false, xKey, yKey, sizeKey, labelKey },\n      baseStyle\n    );\n    const {\n      datum,\n      xValue,\n      yValue,\n      sizeValue,\n      label: { text: labelText },\n      itemId\n    } = nodeDatum;\n    const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n    const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n    let content = `<b>${sanitizeHtml(xName != null ? xName : xKey)}</b>: ${xString}<br><b>${sanitizeHtml(yName != null ? yName : yKey)}</b>: ${yString}`;\n    if (sizeKey) {\n      content += `<br><b>${sanitizeHtml(sizeName != null ? sizeName : sizeKey)}</b>: ${sanitizeHtml(String(sizeValue))}`;\n    }\n    if (labelKey) {\n      content = `<b>${sanitizeHtml(labelName != null ? labelName : labelKey)}</b>: ${sanitizeHtml(labelText)}<br>` + content;\n    }\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      {\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        sizeKey,\n        sizeName,\n        labelKey,\n        labelName,\n        title,\n        color,\n        seriesId: this.id\n      }\n    );\n  }\n  getLegendData() {\n    var _a, _b;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid()) {\n      return [];\n    }\n    const { yKey, yName, title, marker, visible } = this.properties;\n    const { shape, fill, stroke, fillOpacity, strokeOpacity, strokeWidth } = marker;\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_b = title != null ? title : yName) != null ? _b : yKey\n        },\n        marker: {\n          shape,\n          fill: fill != null ? fill : \"rgba(0, 0, 0, 0)\",\n          stroke: stroke != null ? stroke : \"rgba(0, 0, 0, 0)\",\n          fillOpacity: fillOpacity != null ? fillOpacity : 1,\n          strokeOpacity: strokeOpacity != null ? strokeOpacity : 1,\n          strokeWidth: strokeWidth != null ? strokeWidth : 0\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady({ markerSelection, labelSelection }) {\n    markerScaleInAnimation(this, this.ctx.animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const { xKey, yKey, sizeKey, labelKey } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, {\n      datum,\n      xKey,\n      yKey,\n      sizeKey,\n      labelKey,\n      highlighted: false\n    });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nBubbleSeries.className = \"BubbleSeries\";\nBubbleSeries.type = \"bubble\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/bubbleSeriesModule.ts\nvar BubbleSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"bubble\",\n  instanceConstructor: BubbleSeries,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"bottom\" /* BOTTOM */\n    },\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: { position: { type: \"node\" } },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        maxSize: 30,\n        fillOpacity: 0.8\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  paletteFactory: markerPaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeriesProperties.ts\nvar HistogramSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fillOpacity = 1;\n    this.strokeWidth = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.areaPlot = false;\n    this.aggregation = \"sum\";\n    this.shadow = new DropShadow();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], HistogramSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO)\n], HistogramSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(COLOR_STRING, { optional: true })\n], HistogramSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], HistogramSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO)\n], HistogramSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], HistogramSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], HistogramSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], HistogramSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], HistogramSeriesProperties.prototype, \"areaPlot\", 2);\n__decorateClass([\n  Validate(ARRAY, { optional: true })\n], HistogramSeriesProperties.prototype, \"bins\", 2);\n__decorateClass([\n  Validate(UNION([\"count\", \"sum\", \"mean\"], \"a histogram aggregation\"))\n], HistogramSeriesProperties.prototype, \"aggregation\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], HistogramSeriesProperties.prototype, \"binCount\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], HistogramSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], HistogramSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], HistogramSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeries.ts\nvar defaultBinCount = 10;\nvar HistogramSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      datumSelectionGarbageCollection: false,\n      animationResetFns: {\n        datum: resetBarSelectionsFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new HistogramSeriesProperties();\n    this.calculatedBins = [];\n  }\n  // During processData phase, used to unify different ways of the user specifying\n  // the bins. Returns bins in format[[min1, max1], [min2, max2], ... ].\n  deriveBins(xDomain) {\n    const binStarts = ticks_default(xDomain[0], xDomain[1], defaultBinCount);\n    const binSize = tickStep(xDomain[0], xDomain[1], defaultBinCount);\n    const [firstBinEnd] = binStarts;\n    const expandStartToBin = (n) => [n, n + binSize];\n    return [[firstBinEnd - binSize, firstBinEnd], ...binStarts.map(expandStartToBin)];\n  }\n  calculateNiceBins(domain, binCount) {\n    const startGuess = Math.floor(domain[0]);\n    const stop = domain[1];\n    const segments = binCount || 1;\n    const { start, binSize } = this.calculateNiceStart(startGuess, stop, segments);\n    return this.getBins(start, stop, binSize, segments);\n  }\n  getBins(start, stop, step, count) {\n    const bins = [];\n    const precision = this.calculatePrecision(step);\n    for (let i = 0; i < count; i++) {\n      const a = Math.round((start + i * step) * precision) / precision;\n      let b = Math.round((start + (i + 1) * step) * precision) / precision;\n      if (i === count - 1) {\n        b = Math.max(b, stop);\n      }\n      bins[i] = [a, b];\n    }\n    return bins;\n  }\n  calculatePrecision(step) {\n    let precision = 10;\n    if (isFinite(step) && step > 0) {\n      while (step < 1) {\n        precision *= 10;\n        step *= 10;\n      }\n    }\n    return precision;\n  }\n  calculateNiceStart(a, b, segments) {\n    const binSize = Math.abs(b - a) / segments;\n    const order = Math.floor(Math.log10(binSize));\n    const magnitude = Math.pow(10, order);\n    const start = Math.floor(a / magnitude) * magnitude;\n    return {\n      start,\n      binSize\n    };\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (!this.visible) {\n        this.processedData = void 0;\n        this.animationState.transition(\"updateData\");\n      }\n      const { xKey, yKey, areaPlot, aggregation } = this.properties;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const { xScaleType, yScaleType } = this.getScaleInformation({ yScale, xScale });\n      const props = [keyProperty(xKey, xScaleType), SORT_DOMAIN_GROUPS];\n      if (yKey) {\n        let aggProp = groupCount(\"groupAgg\");\n        if (aggregation === \"count\") {\n        } else if (aggregation === \"sum\") {\n          aggProp = groupSum(\"groupAgg\");\n        } else if (aggregation === \"mean\") {\n          aggProp = groupAverage(\"groupAgg\");\n        }\n        if (areaPlot) {\n          aggProp = area(\"groupAgg\", aggProp);\n        }\n        props.push(valueProperty(yKey, yScaleType, { invalidValue: void 0 }), aggProp);\n      } else {\n        let aggProp = groupCount(\"groupAgg\");\n        if (areaPlot) {\n          aggProp = area(\"groupAgg\", aggProp);\n        }\n        props.push(aggProp);\n      }\n      const groupByFn = (dataSet) => {\n        var _a2;\n        const xExtent = fixNumericExtent(dataSet.domain.keys[0]);\n        if (xExtent.length === 0) {\n          dataSet.domain.groups = [];\n          return () => [];\n        }\n        const bins = isNumber(this.properties.binCount) ? this.calculateNiceBins(xExtent, this.properties.binCount) : (_a2 = this.properties.bins) != null ? _a2 : this.deriveBins(xExtent);\n        const binCount = bins.length;\n        this.calculatedBins = [...bins];\n        return (item) => {\n          const xValue = item.keys[0];\n          for (let i = 0; i < binCount; i++) {\n            const nextBin = bins[i];\n            if (xValue >= nextBin[0] && xValue < nextBin[1]) {\n              return nextBin;\n            }\n            if (i === binCount - 1 && xValue <= nextBin[1]) {\n              return nextBin;\n            }\n          }\n          return [];\n        };\n      };\n      if (!this.ctx.animationManager.isSkipped() && this.processedData) {\n        props.push(diff(this.processedData, false));\n      }\n      yield this.requestDataModel(dataController, this.data, { props, groupByFn });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    var _a, _b, _c, _d;\n    const { processedData, dataModel } = this;\n    if (!processedData || !dataModel || !this.calculatedBins.length)\n      return [];\n    const yDomain = dataModel.getDomain(this, `groupAgg`, \"aggregate\", processedData);\n    const xDomainMin = (_a = this.calculatedBins) == null ? void 0 : _a[0][0];\n    const xDomainMax = (_d = this.calculatedBins) == null ? void 0 : _d[((_c = (_b = this.calculatedBins) == null ? void 0 : _b.length) != null ? _c : 0) - 1][1];\n    if (direction === \"x\" /* X */) {\n      return fixNumericExtent([xDomainMin, xDomainMax]);\n    }\n    return fixNumericExtent(yDomain);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      const {\n        id: seriesId,\n        axes,\n        processedData,\n        ctx: { callbackCache }\n      } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!xAxis || !yAxis) {\n        return;\n      }\n      const { scale: xScale } = xAxis;\n      const { scale: yScale } = yAxis;\n      const { xKey, yKey, xName, yName, fill, stroke, strokeWidth, cornerRadius } = this.properties;\n      const {\n        formatter: labelFormatter = (params) => String(params.value),\n        fontStyle: labelFontStyle,\n        fontWeight: labelFontWeight,\n        fontSize: labelFontSize,\n        fontFamily: labelFontFamily,\n        color: labelColor\n      } = this.properties.label;\n      const nodeData = [];\n      const context = {\n        itemId: (_a = this.properties.yKey) != null ? _a : this.id,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        animationValid: true,\n        visible: this.visible\n      };\n      if (!this.visible || !processedData || processedData.type !== \"grouped\")\n        return context;\n      processedData.data.forEach((group2) => {\n        var _a2;\n        const {\n          aggValues: [[negativeAgg, positiveAgg]] = [[0, 0]],\n          datum,\n          datum: { length: frequency },\n          keys: domain,\n          keys: [xDomainMin, xDomainMax]\n        } = group2;\n        const xMinPx = xScale.convert(xDomainMin);\n        const xMaxPx = xScale.convert(xDomainMax);\n        const total = negativeAgg + positiveAgg;\n        const yZeroPx = yScale.convert(0);\n        const yMaxPx = yScale.convert(total);\n        const w = Math.abs(xMaxPx - xMinPx);\n        const h = Math.abs(yMaxPx - yZeroPx);\n        const x = Math.min(xMinPx, xMaxPx);\n        const y = Math.min(yZeroPx, yMaxPx);\n        let selectionDatumLabel = void 0;\n        if (total !== 0) {\n          selectionDatumLabel = {\n            text: (_a2 = callbackCache.call(labelFormatter, {\n              value: total,\n              datum,\n              seriesId,\n              xKey,\n              yKey,\n              xName,\n              yName\n            })) != null ? _a2 : String(total),\n            fontStyle: labelFontStyle,\n            fontWeight: labelFontWeight,\n            fontSize: labelFontSize,\n            fontFamily: labelFontFamily,\n            fill: labelColor,\n            x: x + w / 2,\n            y: y + h / 2\n          };\n        }\n        const nodeMidPoint = {\n          x: x + w / 2,\n          y: y + h / 2\n        };\n        const yAxisReversed = yAxis.isReversed();\n        nodeData.push({\n          series: this,\n          datum,\n          // required by SeriesNodeDatum, but might not make sense here\n          // since each selection is an aggregation of multiple data.\n          aggregatedValue: total,\n          frequency,\n          domain,\n          yKey,\n          xKey,\n          x,\n          y,\n          xValue: xMinPx,\n          yValue: yMaxPx,\n          width: w,\n          height: h,\n          midPoint: nodeMidPoint,\n          fill,\n          stroke,\n          cornerRadius,\n          topLeftCornerRadius: !yAxisReversed,\n          topRightCornerRadius: !yAxisReversed,\n          bottomRightCornerRadius: yAxisReversed,\n          bottomLeftCornerRadius: yAxisReversed,\n          opacity: 1,\n          strokeWidth,\n          label: selectionDatumLabel\n        });\n      });\n      nodeData.sort((a, b) => a.x - b.x);\n      return context;\n    });\n  }\n  nodeFactory() {\n    return new Rect();\n  }\n  updateDatumSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, datumSelection } = opts;\n      return datumSelection.update(\n        nodeData,\n        (rect) => {\n          rect.tag = 0 /* Bin */;\n          rect.crisp = true;\n        },\n        (datum) => datum.domain.join(\"_\")\n      );\n    });\n  }\n  updateDatumNodes(opts) {\n    return __async(this, null, function* () {\n      const { isHighlight: isDatumHighlighted } = opts;\n      const {\n        fillOpacity: seriesFillOpacity,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        shadow,\n        highlightStyle: {\n          item: {\n            fill: highlightedFill,\n            fillOpacity: highlightFillOpacity = seriesFillOpacity,\n            stroke: highlightedStroke,\n            strokeWidth: highlightedDatumStrokeWidth\n          }\n        }\n      } = this.properties;\n      opts.datumSelection.each((rect, datum, index) => {\n        var _a, _b;\n        const {\n          cornerRadius,\n          topLeftCornerRadius,\n          topRightCornerRadius,\n          bottomRightCornerRadius,\n          bottomLeftCornerRadius\n        } = datum;\n        const strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== void 0 ? highlightedDatumStrokeWidth : datum.strokeWidth;\n        const fillOpacity = isDatumHighlighted ? highlightFillOpacity : seriesFillOpacity;\n        rect.fill = (_a = isDatumHighlighted ? highlightedFill : void 0) != null ? _a : datum.fill;\n        rect.stroke = (_b = isDatumHighlighted ? highlightedStroke : void 0) != null ? _b : datum.stroke;\n        rect.fillOpacity = fillOpacity;\n        rect.strokeOpacity = strokeOpacity;\n        rect.strokeWidth = strokeWidth;\n        rect.lineDash = lineDash;\n        rect.lineDashOffset = lineDashOffset;\n        rect.topLeftCornerRadius = topLeftCornerRadius ? cornerRadius : 0;\n        rect.topRightCornerRadius = topRightCornerRadius ? cornerRadius : 0;\n        rect.bottomRightCornerRadius = bottomRightCornerRadius ? cornerRadius : 0;\n        rect.bottomLeftCornerRadius = bottomLeftCornerRadius ? cornerRadius : 0;\n        rect.fillShadow = shadow;\n        rect.zIndex = isDatumHighlighted ? Series.highlightedZIndex : index;\n        rect.visible = datum.height > 0;\n      });\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      const { labelData, labelSelection } = opts;\n      return labelSelection.update(labelData, (text) => {\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n      });\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const labelEnabled = this.isLabelEnabled();\n      opts.labelSelection.each((text, datum) => {\n        const label = datum.label;\n        if (label && labelEnabled) {\n          text.text = label.text;\n          text.x = label.x;\n          text.y = label.y;\n          text.fontStyle = label.fontStyle;\n          text.fontWeight = label.fontWeight;\n          text.fontSize = label.fontSize;\n          text.fontFamily = label.fontFamily;\n          text.fill = label.fill;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  initQuadTree(quadtree) {\n    addHitTestersToQuadtree(quadtree, childrenIter(this.contentGroup.children[0]));\n  }\n  pickNodeClosestDatum(point) {\n    return findQuadtreeMatch(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, xName, yName, fill: color, aggregation, tooltip } = this.properties;\n    const {\n      aggregatedValue,\n      frequency,\n      domain: [rangeMin, rangeMax],\n      itemId\n    } = nodeDatum;\n    const title = `${sanitizeHtml(xName != null ? xName : xKey)}: ${xAxis.formatDatum(rangeMin)} - ${xAxis.formatDatum(rangeMax)}`;\n    let content = yKey ? `<b>${sanitizeHtml(yName != null ? yName : yKey)} (${aggregation})</b>: ${yAxis.formatDatum(aggregatedValue)}<br>` : \"\";\n    content += `<b>Frequency</b>: ${frequency}`;\n    const defaults = {\n      title,\n      backgroundColor: color,\n      content\n    };\n    return tooltip.toTooltipHtml(defaults, {\n      datum: {\n        data: nodeDatum.datum,\n        aggregatedValue: nodeDatum.aggregatedValue,\n        domain: nodeDatum.domain,\n        frequency: nodeDatum.frequency\n      },\n      itemId,\n      xKey,\n      xName,\n      yKey,\n      yName,\n      color,\n      title,\n      seriesId: this.id\n    });\n  }\n  getLegendData(legendType) {\n    var _a, _b;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || legendType !== \"category\") {\n      return [];\n    }\n    const { xKey, yName, fill, fillOpacity, stroke, strokeWidth, strokeOpacity, visible } = this.properties;\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: xKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_b = yName != null ? yName : xKey) != null ? _b : \"Frequency\"\n        },\n        marker: {\n          fill: fill != null ? fill : \"rgba(0, 0, 0, 0)\",\n          stroke: stroke != null ? stroke : \"rgba(0, 0, 0, 0)\",\n          fillOpacity,\n          strokeOpacity,\n          strokeWidth\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady({ datumSelection, labelSelection }) {\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(true, this.axes, \"normal\"));\n    fromToMotion(this.id, \"datums\", this.ctx.animationManager, [datumSelection], fns);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n  }\n  animateWaitingUpdateReady(data) {\n    var _a, _b;\n    const dataDiff = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff;\n    const fns = prepareBarAnimationFunctions(collapsedStartingBarPosition(true, this.axes, \"normal\"));\n    fromToMotion(\n      this.id,\n      \"datums\",\n      this.ctx.animationManager,\n      [data.datumSelection],\n      fns,\n      (_, datum) => createDatumId(datum.domain),\n      dataDiff\n    );\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, data.labelSelection);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  computeFocusBounds({ datumIndex, seriesRect }) {\n    var _a;\n    return computeBarFocusBounds((_a = this.contextNodeData) == null ? void 0 : _a.nodeData[datumIndex], this.contentGroup, seriesRect);\n  }\n};\nHistogramSeries.className = \"HistogramSeries\";\nHistogramSeries.type = \"histogram\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/histogramSeriesModule.ts\nvar HistogramSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"histogram\",\n  instanceConstructor: HistogramSeries,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"bottom\" /* BOTTOM */\n    },\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      strokeWidth: 1,\n      fillOpacity: 1,\n      strokeOpacity: 1,\n      lineDash: [0],\n      lineDashOffset: 0,\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR\n      },\n      shadow: {\n        enabled: false,\n        color: DEFAULT_SHADOW_COLOUR,\n        xOffset: 3,\n        yOffset: 3,\n        blur: 5\n      }\n    }\n  },\n  paletteFactory: ({ takeColors }) => {\n    const {\n      fills: [fill],\n      strokes: [stroke]\n    } = takeColors(1);\n    return { fill, stroke };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeriesProperties.ts\nvar LineSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.stroke = \"#874349\";\n    this.strokeWidth = 2;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.marker = new SeriesMarker();\n    this.label = new Label();\n    this.tooltip = new SeriesTooltip();\n    this.connectMissingData = false;\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], LineSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING)\n], LineSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], LineSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], LineSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], LineSeriesProperties.prototype, \"title\", 2);\n__decorateClass([\n  Validate(COLOR_STRING)\n], LineSeriesProperties.prototype, \"stroke\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LineSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(RATIO)\n], LineSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], LineSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], LineSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LineSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LineSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], LineSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], LineSeriesProperties.prototype, \"connectMissingData\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeries.ts\nvar LineSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      hasMarkers: true,\n      pickModes: [\n        2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */,\n        3 /* NEAREST_NODE */,\n        0 /* EXACT_SHAPE_MATCH */\n      ],\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        path: buildResetPathFn({ getOpacity: () => this.getOpacity() }),\n        label: resetLabelFn,\n        marker: (node, datum) => __spreadValues(__spreadValues({}, resetMarkerFn(node)), resetMarkerPositionFn(node, datum))\n      }\n    });\n    this.properties = new LineSeriesProperties();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      if (!this.properties.isValid() || this.data == null) {\n        return;\n      }\n      const { xKey, yKey } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const { isContinuousX, xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const props = [];\n      if (!isContinuousX) {\n        props.push(keyProperty(xKey, xScaleType, { id: \"xKey\" }));\n      }\n      if (animationEnabled) {\n        props.push(animationValidation(isContinuousX ? [\"xValue\"] : void 0));\n        if (this.processedData) {\n          props.push(diff(this.processedData));\n        }\n      }\n      props.push(\n        valueProperty(xKey, xScaleType, { id: \"xValue\" }),\n        valueProperty(yKey, yScaleType, { id: \"yValue\", invalidValue: void 0 })\n      );\n      yield this.requestDataModel(dataController, this.data, { props });\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { axes, dataModel, processedData } = this;\n    if (!processedData || !dataModel)\n      return [];\n    const xAxis = axes[\"x\" /* X */];\n    const yAxis = axes[\"y\" /* Y */];\n    const xDef = dataModel.resolveProcessedDataDefById(this, `xValue`);\n    if (direction === \"x\" /* X */) {\n      const domain = dataModel.getDomain(this, `xValue`, \"value\", processedData);\n      if ((xDef == null ? void 0 : xDef.def.type) === \"value\" && xDef.def.valueType === \"category\") {\n        return domain;\n      }\n      return fixNumericExtent(extent(domain), xAxis);\n    } else {\n      const domain = dataModel.getDomain(this, `yValue`, \"value\", processedData);\n      return fixNumericExtent(domain, yAxis);\n    }\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { processedData, dataModel, axes } = this;\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!processedData || !dataModel || !xAxis || !yAxis) {\n        return;\n      }\n      const { xKey, yKey, xName, yName, marker, label, connectMissingData, legendItemName } = this.properties;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      const size = marker.enabled ? marker.size : 0;\n      const xIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      let moveTo = true;\n      let nextPoint;\n      for (let i = 0; i < processedData.data.length; i++) {\n        const { datum, values } = nextPoint != null ? nextPoint : processedData.data[i];\n        const xDatum = values[xIdx];\n        const yDatum = values[yIdx];\n        if (yDatum === void 0) {\n          moveTo = !connectMissingData;\n        } else {\n          const x = xScale.convert(xDatum) + xOffset;\n          if (isNaN(x)) {\n            moveTo = !connectMissingData;\n            nextPoint = void 0;\n            continue;\n          }\n          nextPoint = ((_c = processedData.data[i + 1]) == null ? void 0 : _c.values[yIdx]) === void 0 ? void 0 : processedData.data[i + 1];\n          const y = yScale.convert(yDatum) + yOffset;\n          const labelText = this.getLabelText(\n            label,\n            { value: yDatum, datum, xKey, yKey, xName, yName, legendItemName },\n            (value) => isFiniteNumber(value) ? value.toFixed(2) : String(value)\n          );\n          nodeData.push({\n            series: this,\n            datum,\n            yKey,\n            xKey,\n            point: { x, y, moveTo, size },\n            midPoint: { x, y },\n            yValue: yDatum,\n            xValue: xDatum,\n            capDefaults: { lengthRatioMultiplier: this.properties.marker.getDiameter(), lengthMax: Infinity },\n            label: labelText ? {\n              text: labelText,\n              fontStyle: label.fontStyle,\n              fontWeight: label.fontWeight,\n              fontSize: label.fontSize,\n              fontFamily: label.fontFamily,\n              textAlign: \"center\",\n              textBaseline: \"bottom\",\n              fill: label.color\n            } : void 0\n          });\n          moveTo = false;\n        }\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updatePathNodes(opts) {\n    return __async(this, null, function* () {\n      const {\n        paths: [lineNode],\n        opacity,\n        visible,\n        animationEnabled\n      } = opts;\n      lineNode.setProperties({\n        fill: void 0,\n        lineJoin: \"round\",\n        pointerEvents: 1 /* None */,\n        opacity,\n        stroke: this.properties.stroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.properties.strokeOpacity,\n        lineDash: this.properties.lineDash,\n        lineDashOffset: this.properties.lineDashOffset\n      });\n      if (!animationEnabled) {\n        lineNode.visible = visible;\n      }\n      updateClipPath(this, lineNode);\n    });\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      let { nodeData } = opts;\n      const { markerSelection } = opts;\n      const { shape, enabled } = this.properties.marker;\n      nodeData = shape && enabled ? nodeData : [];\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(nodeData, void 0, (datum) => createDatumId(datum.xValue));\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, stroke, strokeWidth, strokeOpacity, marker, highlightStyle } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle(), {\n        stroke,\n        strokeWidth,\n        strokeOpacity\n      });\n      const applyTranslation = this.ctx.animationManager.isSkipped();\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey }, baseStyle, { applyTranslation });\n      });\n      if (!highlighted) {\n        marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      return opts.labelSelection.update(this.isLabelEnabled() ? opts.labelData : []);\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { enabled, fontStyle, fontWeight, fontSize, fontFamily, color } = this.properties.label;\n      opts.labelSelection.each((text, datum) => {\n        const { point, label } = datum;\n        if (datum && label && enabled) {\n          text.fontStyle = fontStyle;\n          text.fontWeight = fontWeight;\n          text.fontSize = fontSize;\n          text.fontFamily = fontFamily;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n          text.text = label.text;\n          text.x = point.x;\n          text.y = point.y - 10;\n          text.fill = color;\n          text.visible = true;\n        } else {\n          text.visible = false;\n        }\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, xName, yName, strokeWidth, marker, tooltip } = this.properties;\n    const { datum, xValue, yValue, itemId } = nodeDatum;\n    const xString = xAxis.formatDatum(xValue);\n    const yString = yAxis.formatDatum(yValue);\n    const title = sanitizeHtml((_a = this.properties.title) != null ? _a : yName);\n    const content = sanitizeHtml(xString + \": \" + yString);\n    const baseStyle = mergeDefaults({ fill: marker.stroke }, marker.getStyle(), { strokeWidth });\n    const { fill: color } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, xKey, yKey, highlighted: false },\n      baseStyle\n    );\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      __spreadValues({\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        title,\n        color,\n        seriesId: this.id\n      }, this.getModuleTooltipParams())\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    if (!(((_a = this.data) == null ? void 0 : _a.length) && this.properties.isValid() && legendType === \"category\")) {\n      return [];\n    }\n    const { yKey, yName, stroke, strokeOpacity, strokeWidth, lineDash, title, marker, visible, legendItemName } = this.properties;\n    const color0 = \"rgba(0, 0, 0, 0)\";\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        legendItemName,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_c = (_b = legendItemName != null ? legendItemName : title) != null ? _b : yName) != null ? _c : yKey\n        },\n        marker: {\n          shape: marker.shape,\n          fill: (_d = marker.fill) != null ? _d : color0,\n          stroke: (_f = (_e = marker.stroke) != null ? _e : stroke) != null ? _f : color0,\n          fillOpacity: (_g = marker.fillOpacity) != null ? _g : 1,\n          strokeOpacity: (_i = (_h = marker.strokeOpacity) != null ? _h : strokeOpacity) != null ? _i : 1,\n          strokeWidth: (_j = marker.strokeWidth) != null ? _j : 0,\n          enabled: marker.enabled\n        },\n        line: {\n          stroke: stroke != null ? stroke : color0,\n          strokeOpacity,\n          strokeWidth,\n          lineDash\n        }\n      }\n    ];\n  }\n  updatePaths(opts) {\n    return __async(this, null, function* () {\n      this.updateLinePaths(opts.paths, opts.contextData);\n    });\n  }\n  updateLinePaths(paths, contextData) {\n    const { nodeData } = contextData;\n    const [lineNode] = paths;\n    const { path: linePath } = lineNode;\n    linePath.clear(true);\n    for (const data of nodeData) {\n      if (data.point.moveTo) {\n        linePath.moveTo(data.point.x, data.point.y);\n      } else {\n        linePath.lineTo(data.point.x, data.point.y);\n      }\n    }\n    lineNode.checkPathDirty();\n  }\n  animateEmptyUpdateReady(animationData) {\n    const { markerSelection, labelSelection, annotationSelections, contextData, paths } = animationData;\n    const { animationManager } = this.ctx;\n    this.updateLinePaths(paths, contextData);\n    pathSwipeInAnimation(this, animationManager, ...paths);\n    resetMotion([markerSelection], resetMarkerPositionFn);\n    markerSwipeScaleInAnimation(this, animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n  }\n  animateReadyResize(animationData) {\n    const { contextData, paths } = animationData;\n    this.updateLinePaths(paths, contextData);\n    super.animateReadyResize(animationData);\n  }\n  animateWaitingUpdateReady(animationData) {\n    var _a, _b;\n    const { animationManager } = this.ctx;\n    const {\n      markerSelection: markerSelections,\n      labelSelection: labelSelections,\n      annotationSelections,\n      contextData,\n      paths,\n      previousContextData\n    } = animationData;\n    const [path] = paths;\n    super.resetAllAnimation(animationData);\n    const update = () => {\n      this.updateLinePaths(paths, contextData);\n    };\n    const skip = () => {\n      animationManager.skipCurrentBatch();\n      update();\n    };\n    if (contextData == null || previousContextData == null) {\n      update();\n      markerFadeInAnimation(this, animationManager, \"added\", markerSelections);\n      pathFadeInAnimation(this, \"path_properties\", animationManager, \"add\", path);\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelections);\n      seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n      return;\n    }\n    const fns = prepareLinePathAnimation(contextData, previousContextData, (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.diff);\n    if (fns === void 0) {\n      skip();\n      return;\n    } else if (fns.status === \"no-op\") {\n      return;\n    }\n    markerFadeInAnimation(this, animationManager, void 0, markerSelections);\n    fromToMotion(this.id, \"path_properties\", animationManager, [path], fns.pathProperties);\n    pathMotion(this.id, \"path_update\", animationManager, [path], fns.path);\n    if (fns.hasMotion) {\n      seriesLabelFadeInAnimation(this, \"labels\", animationManager, labelSelections);\n      seriesLabelFadeInAnimation(this, \"annotations\", animationManager, ...annotationSelections);\n    }\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  getBandScalePadding() {\n    return { inner: 1, outer: 0.1 };\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const { xKey, yKey } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, { datum, xKey, yKey, highlighted: true });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nLineSeries.className = \"LineSeries\";\nLineSeries.type = \"line\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/lineSeriesModule.ts\nvar LineSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"line\",\n  instanceConstructor: LineSeries,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    },\n    {\n      type: \"category\" /* CATEGORY */,\n      position: \"bottom\" /* BOTTOM */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: { position: { type: \"node\" } },\n      strokeWidth: 2,\n      strokeOpacity: 1,\n      lineDash: [0],\n      lineDashOffset: 0,\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 0\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 1\n        }\n      }\n    }\n  },\n  paletteFactory: (params) => {\n    const { marker } = markerPaletteFactory(params);\n    return { stroke: marker.fill, marker };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeriesProperties.ts\nvar ScatterSeriesLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.placement = \"top\";\n  }\n};\n__decorateClass([\n  Validate(LABEL_PLACEMENT)\n], ScatterSeriesLabel.prototype, \"placement\", 2);\nvar ScatterSeriesProperties = class extends CartesianSeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.colorRange = [\"#ffff00\", \"#00ff00\", \"#0000ff\"];\n    this.marker = new SeriesMarker();\n    this.label = new ScatterSeriesLabel();\n    this.tooltip = new SeriesTooltip();\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], ScatterSeriesProperties.prototype, \"xKey\", 2);\n__decorateClass([\n  Validate(STRING)\n], ScatterSeriesProperties.prototype, \"yKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"labelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"xName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"yName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"labelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([\n  Validate(NUMBER_ARRAY, { optional: true })\n], ScatterSeriesProperties.prototype, \"colorDomain\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], ScatterSeriesProperties.prototype, \"colorRange\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], ScatterSeriesProperties.prototype, \"title\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], ScatterSeriesProperties.prototype, \"marker\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], ScatterSeriesProperties.prototype, \"label\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], ScatterSeriesProperties.prototype, \"tooltip\", 2);\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeries.ts\nvar ScatterSeries = class extends CartesianSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      directionKeys: DEFAULT_CARTESIAN_DIRECTION_KEYS,\n      directionNames: DEFAULT_CARTESIAN_DIRECTION_NAMES,\n      pickModes: [\n        2 /* NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST */,\n        3 /* NEAREST_NODE */,\n        0 /* EXACT_SHAPE_MATCH */\n      ],\n      pathsPerSeries: 0,\n      hasMarkers: true,\n      markerSelectionGarbageCollection: false,\n      animationResetFns: {\n        marker: resetMarkerFn,\n        label: resetLabelFn\n      }\n    });\n    this.properties = new ScatterSeriesProperties();\n    this.colorScale = new ColorScale();\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      if (!this.properties.isValid() || this.data == null || !this.visible)\n        return;\n      const xScale = (_a = this.axes[\"x\" /* X */]) == null ? void 0 : _a.scale;\n      const yScale = (_b = this.axes[\"y\" /* Y */]) == null ? void 0 : _b.scale;\n      const { xScaleType, yScaleType } = this.getScaleInformation({ xScale, yScale });\n      const colorScaleType = this.colorScale.type;\n      const { xKey, yKey, labelKey, colorKey, colorDomain, colorRange } = this.properties;\n      const { dataModel, processedData } = yield this.requestDataModel(dataController, this.data, {\n        props: [\n          keyProperty(xKey, xScaleType, { id: \"xKey-raw\" }),\n          keyProperty(yKey, yScaleType, { id: \"yKey-raw\" }),\n          ...labelKey ? [keyProperty(labelKey, \"band\", { id: `labelKey-raw` })] : [],\n          valueProperty(xKey, xScaleType, { id: `xValue` }),\n          valueProperty(yKey, yScaleType, { id: `yValue` }),\n          ...colorKey ? [valueProperty(colorKey, colorScaleType, { id: `colorValue` })] : [],\n          ...labelKey ? [valueProperty(labelKey, \"band\", { id: `labelValue` })] : []\n        ]\n      });\n      if (colorKey) {\n        const colorKeyIdx = dataModel.resolveProcessedDataIndexById(this, `colorValue`);\n        this.colorScale.domain = (_c = colorDomain != null ? colorDomain : processedData.domain.values[colorKeyIdx]) != null ? _c : [];\n        this.colorScale.range = colorRange;\n        this.colorScale.update();\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  getSeriesDomain(direction) {\n    const { dataModel, processedData } = this;\n    if (!processedData || !dataModel)\n      return [];\n    const id = direction === \"x\" /* X */ ? `xValue` : `yValue`;\n    const dataDef = dataModel.resolveProcessedDataDefById(this, id);\n    const domain = dataModel.getDomain(this, id, \"value\", processedData);\n    if ((dataDef == null ? void 0 : dataDef.def.type) === \"value\" && (dataDef == null ? void 0 : dataDef.def.valueType) === \"category\") {\n      return domain;\n    }\n    const axis = this.axes[direction];\n    return fixNumericExtent(extent(domain), axis);\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      var _a, _b, _c;\n      const { axes, dataModel, processedData, colorScale } = this;\n      const { xKey, yKey, labelKey, colorKey, xName, yName, labelName, marker, label, visible } = this.properties;\n      const { placement } = label;\n      const markerShape = getMarker(marker.shape);\n      const xAxis = axes[\"x\" /* X */];\n      const yAxis = axes[\"y\" /* Y */];\n      if (!(dataModel && processedData && visible && xAxis && yAxis)) {\n        return;\n      }\n      const xDataIdx = dataModel.resolveProcessedDataIndexById(this, `xValue`);\n      const yDataIdx = dataModel.resolveProcessedDataIndexById(this, `yValue`);\n      const colorDataIdx = colorKey ? dataModel.resolveProcessedDataIndexById(this, `colorValue`) : -1;\n      const labelDataIdx = labelKey ? dataModel.resolveProcessedDataIndexById(this, `labelValue`) : -1;\n      const xScale = xAxis.scale;\n      const yScale = yAxis.scale;\n      const xOffset = ((_a = xScale.bandwidth) != null ? _a : 0) / 2;\n      const yOffset = ((_b = yScale.bandwidth) != null ? _b : 0) / 2;\n      const nodeData = [];\n      const font = label.getFont();\n      for (const { values, datum } of (_c = processedData.data) != null ? _c : []) {\n        const xDatum = values[xDataIdx];\n        const yDatum = values[yDataIdx];\n        const x = xScale.convert(xDatum) + xOffset;\n        const y = yScale.convert(yDatum) + yOffset;\n        const labelText = this.getLabelText(label, {\n          value: labelKey ? values[labelDataIdx] : yDatum,\n          datum,\n          xKey,\n          yKey,\n          labelKey,\n          xName,\n          yName,\n          labelName\n        });\n        const size = Text.getTextSize(labelText, font);\n        const fill = colorKey ? colorScale.convert(values[colorDataIdx]) : void 0;\n        nodeData.push({\n          series: this,\n          itemId: yKey,\n          yKey,\n          xKey,\n          datum,\n          xValue: xDatum,\n          yValue: yDatum,\n          capDefaults: { lengthRatioMultiplier: marker.getDiameter(), lengthMax: Infinity },\n          point: { x, y, size: marker.size },\n          midPoint: { x, y },\n          fill,\n          label: __spreadValues({ text: labelText }, size),\n          marker: markerShape,\n          placement\n        });\n      }\n      return {\n        itemId: yKey,\n        nodeData,\n        labelData: nodeData,\n        scales: this.calculateScaling(),\n        visible: this.visible\n      };\n    });\n  }\n  isPathOrSelectionDirty() {\n    return this.properties.marker.isDirty();\n  }\n  getLabelData() {\n    var _a, _b;\n    return (_b = (_a = this.contextNodeData) == null ? void 0 : _a.labelData) != null ? _b : [];\n  }\n  markerFactory() {\n    const { shape } = this.properties.marker;\n    const MarkerShape = getMarker(shape);\n    return new MarkerShape();\n  }\n  updateMarkerSelection(opts) {\n    return __async(this, null, function* () {\n      const { nodeData, markerSelection } = opts;\n      if (this.properties.marker.isDirty()) {\n        markerSelection.clear();\n        markerSelection.cleanup();\n      }\n      return markerSelection.update(this.properties.marker.enabled ? nodeData : []);\n    });\n  }\n  updateMarkerNodes(opts) {\n    return __async(this, null, function* () {\n      const { markerSelection, isHighlight: highlighted } = opts;\n      const { xKey, yKey, labelKey, marker, highlightStyle } = this.properties;\n      const baseStyle = mergeDefaults(highlighted && highlightStyle.item, marker.getStyle());\n      markerSelection.each((node, datum) => {\n        this.updateMarkerStyle(node, marker, { datum, highlighted, xKey, yKey, labelKey }, baseStyle);\n      });\n      if (!highlighted) {\n        marker.markClean();\n      }\n    });\n  }\n  updateLabelSelection(opts) {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const placedLabels = this.isLabelEnabled() ? (_b = (_a = this.chart) == null ? void 0 : _a.placeLabels().get(this)) != null ? _b : [] : [];\n      return opts.labelSelection.update(\n        placedLabels.map(({ datum, x, y }) => __spreadProps(__spreadValues({}, datum), {\n          point: { x, y, size: datum.point.size },\n          placement: \"top\"\n        })),\n        (text) => {\n          text.pointerEvents = 1 /* None */;\n        }\n      );\n    });\n  }\n  updateLabelNodes(opts) {\n    return __async(this, null, function* () {\n      const { label } = this.properties;\n      opts.labelSelection.each((text, datum) => {\n        var _a, _b, _c, _d;\n        text.text = datum.label.text;\n        text.fill = label.color;\n        text.x = (_b = (_a = datum.point) == null ? void 0 : _a.x) != null ? _b : 0;\n        text.y = (_d = (_c = datum.point) == null ? void 0 : _c.y) != null ? _d : 0;\n        text.fontStyle = label.fontStyle;\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = \"left\";\n        text.textBaseline = \"top\";\n      });\n    });\n  }\n  getTooltipHtml(nodeDatum) {\n    const xAxis = this.axes[\"x\" /* X */];\n    const yAxis = this.axes[\"y\" /* Y */];\n    if (!this.properties.isValid() || !xAxis || !yAxis) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const { xKey, yKey, labelKey, xName, yName, labelName, title = yName, marker, tooltip } = this.properties;\n    const { datum, xValue, yValue, label, itemId } = nodeDatum;\n    const baseStyle = mergeDefaults(\n      { fill: nodeDatum.fill, strokeWidth: this.getStrokeWidth(marker.strokeWidth) },\n      marker.getStyle()\n    );\n    const { fill: color = \"gray\" } = this.getMarkerStyle(\n      marker,\n      { datum: nodeDatum, highlighted: false, xKey, yKey, labelKey },\n      baseStyle\n    );\n    const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n    const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n    let content = `<b>${sanitizeHtml(xName != null ? xName : xKey)}</b>: ${xString}<br><b>${sanitizeHtml(yName != null ? yName : yKey)}</b>: ${yString}`;\n    if (labelKey) {\n      content = `<b>${sanitizeHtml(labelName != null ? labelName : labelKey)}</b>: ${sanitizeHtml(label.text)}<br>` + content;\n    }\n    return tooltip.toTooltipHtml(\n      { title, content, backgroundColor: color },\n      __spreadValues({\n        datum,\n        itemId,\n        xKey,\n        xName,\n        yKey,\n        yName,\n        labelKey,\n        labelName,\n        title,\n        color,\n        seriesId: this.id\n      }, this.getModuleTooltipParams())\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e, _f;\n    const { yKey, yName, title, marker, visible } = this.properties;\n    const { fill, stroke, fillOpacity, strokeOpacity, strokeWidth } = marker;\n    if (!((_a = this.data) == null ? void 0 : _a.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    return [\n      {\n        legendType: \"category\",\n        id: this.id,\n        itemId: yKey,\n        seriesId: this.id,\n        enabled: visible,\n        label: {\n          text: (_b = title != null ? title : yName) != null ? _b : yKey\n        },\n        marker: {\n          shape: marker.shape,\n          fill: (_d = (_c = marker.fill) != null ? _c : fill) != null ? _d : \"rgba(0, 0, 0, 0)\",\n          stroke: (_f = (_e = marker.stroke) != null ? _e : stroke) != null ? _f : \"rgba(0, 0, 0, 0)\",\n          fillOpacity: fillOpacity != null ? fillOpacity : 1,\n          strokeOpacity: strokeOpacity != null ? strokeOpacity : 1,\n          strokeWidth: strokeWidth != null ? strokeWidth : 0\n        }\n      }\n    ];\n  }\n  animateEmptyUpdateReady(data) {\n    const { markerSelection, labelSelection, annotationSelections } = data;\n    markerScaleInAnimation(this, this.ctx.animationManager, markerSelection);\n    seriesLabelFadeInAnimation(this, \"labels\", this.ctx.animationManager, labelSelection);\n    seriesLabelFadeInAnimation(this, \"annotations\", this.ctx.animationManager, ...annotationSelections);\n  }\n  isLabelEnabled() {\n    return this.properties.label.enabled;\n  }\n  nodeFactory() {\n    return new Group();\n  }\n  getFormattedMarkerStyle(datum) {\n    const { xKey, yKey, labelKey } = this.properties;\n    return this.getMarkerStyle(this.properties.marker, { datum, xKey, yKey, labelKey, highlighted: true });\n  }\n  computeFocusBounds(opts) {\n    return computeMarkerFocusBounds(this, opts);\n  }\n};\nScatterSeries.className = \"ScatterSeries\";\nScatterSeries.type = \"scatter\";\n\n// packages/ag-charts-community/src/chart/series/cartesian/scatterSeriesModule.ts\nvar ScatterSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  identifier: \"scatter\",\n  instanceConstructor: ScatterSeries,\n  defaultAxes: [\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"bottom\" /* BOTTOM */\n    },\n    {\n      type: \"number\" /* NUMBER */,\n      position: \"left\" /* LEFT */\n    }\n  ],\n  themeTemplate: {\n    series: {\n      __extends__: EXTENDS_SERIES_DEFAULTS,\n      tooltip: { position: { type: \"node\" } },\n      marker: {\n        __extends__: EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n        fillOpacity: 0.8\n      },\n      label: {\n        enabled: false,\n        fontSize: 12,\n        fontFamily: DEFAULT_FONT_FAMILY,\n        color: DEFAULT_LABEL_COLOUR\n      }\n    }\n  },\n  enterpriseThemeTemplate: {\n    series: {\n      errorBar: {\n        cap: {\n          lengthRatio: 1\n        }\n      }\n    }\n  },\n  paletteFactory: markerPaletteFactory\n};\n\n// packages/ag-charts-community/src/scene/sectorBox.ts\nvar SectorBox = class _SectorBox {\n  constructor(startAngle, endAngle, innerRadius, outerRadius) {\n    this.startAngle = startAngle;\n    this.endAngle = endAngle;\n    this.innerRadius = innerRadius;\n    this.outerRadius = outerRadius;\n  }\n  clone() {\n    const { startAngle, endAngle, innerRadius, outerRadius } = this;\n    return new _SectorBox(startAngle, endAngle, innerRadius, outerRadius);\n  }\n  [interpolate](other, d) {\n    return new _SectorBox(\n      this.startAngle * (1 - d) + other.startAngle * d,\n      this.endAngle * (1 - d) + other.endAngle * d,\n      this.innerRadius * (1 - d) + other.innerRadius * d,\n      this.outerRadius * (1 - d) + other.outerRadius * d\n    );\n  }\n};\n\n// packages/ag-charts-community/src/scene/util/sector.ts\nfunction isPointInSector(x, y, sector) {\n  const radius = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n  const { innerRadius, outerRadius } = sector;\n  if (sector.startAngle === sector.endAngle || radius < Math.min(innerRadius, outerRadius) || radius > Math.max(innerRadius, outerRadius)) {\n    return false;\n  }\n  const startAngle = normalizeAngle180(sector.startAngle);\n  const endAngle = normalizeAngle180(sector.endAngle);\n  const angle = Math.atan2(y, x);\n  return startAngle < endAngle ? angle <= endAngle && angle >= startAngle : angle <= endAngle && angle >= -Math.PI || angle >= startAngle && angle <= Math.PI;\n}\nfunction lineCollidesSector(line, sector) {\n  const { startAngle, endAngle, innerRadius, outerRadius } = sector;\n  const outerStart = { x: outerRadius * Math.cos(startAngle), y: outerRadius * Math.sin(startAngle) };\n  const outerEnd = { x: outerRadius * Math.cos(endAngle), y: outerRadius * Math.sin(endAngle) };\n  const innerStart = innerRadius === 0 ? { x: 0, y: 0 } : { x: innerRadius * Math.cos(startAngle), y: innerRadius * Math.sin(startAngle) };\n  const innerEnd = innerRadius === 0 ? { x: 0, y: 0 } : { x: innerRadius * Math.cos(endAngle), y: innerRadius * Math.sin(endAngle) };\n  return segmentIntersection(\n    line.start.x,\n    line.start.y,\n    line.end.x,\n    line.end.y,\n    outerStart.x,\n    outerStart.y,\n    innerStart.x,\n    innerStart.y\n  ) || segmentIntersection(\n    line.start.x,\n    line.start.y,\n    line.end.x,\n    line.end.y,\n    outerEnd.x,\n    outerEnd.y,\n    innerEnd.x,\n    innerEnd.y\n  ) || arcIntersections(\n    0,\n    0,\n    outerRadius,\n    startAngle,\n    endAngle,\n    true,\n    line.start.x,\n    line.start.y,\n    line.end.x,\n    line.end.y\n  );\n}\nfunction boxCollidesSector(box, sector) {\n  const topLeft = { x: box.x, y: box.y };\n  const topRight = { x: box.x + box.width, y: box.y };\n  const bottomLeft = { x: box.x, y: box.y + box.height };\n  const bottomRight = { x: box.x + box.width, y: box.y + box.height };\n  return lineCollidesSector({ start: topLeft, end: topRight }, sector) || lineCollidesSector({ start: bottomLeft, end: bottomRight }, sector);\n}\nfunction radiiScalingFactor(r, sweep, a, b) {\n  if (a === 0 && b === 0)\n    return 0;\n  const fs1 = Math.asin(Math.abs(1 * a) / (r + 1 * a)) + Math.asin(Math.abs(1 * b) / (r + 1 * b)) - sweep;\n  if (fs1 < 0)\n    return 1;\n  let start = 0;\n  let end = 1;\n  for (let i = 0; i < 8; i += 1) {\n    const s = (start + end) / 2;\n    const fs = Math.asin(Math.abs(s * a) / (r + s * a)) + Math.asin(Math.abs(s * b) / (r + s * b)) - sweep;\n    if (fs < 0) {\n      start = s;\n    } else {\n      end = s;\n    }\n  }\n  return start;\n}\nvar delta = 1e-6;\nfunction clockwiseAngle(angle, relativeToStartAngle) {\n  if (angleBetween(angle, relativeToStartAngle) < delta) {\n    return relativeToStartAngle;\n  } else {\n    return normalizeAngle360(angle - relativeToStartAngle) + relativeToStartAngle;\n  }\n}\nfunction clockwiseAngles(startAngle, endAngle, relativeToStartAngle = 0) {\n  const fullPie = Math.abs(endAngle - startAngle) >= 2 * Math.PI;\n  const sweepAngle = fullPie ? 2 * Math.PI : normalizeAngle360(endAngle - startAngle);\n  startAngle = clockwiseAngle(startAngle, relativeToStartAngle);\n  endAngle = startAngle + sweepAngle;\n  return { startAngle, endAngle };\n}\nfunction arcRadialLineIntersectionAngle(cx, cy, r, startAngle, endAngle, clipAngle) {\n  const sinA = Math.sin(clipAngle);\n  const cosA = Math.cos(clipAngle);\n  const c = __pow(cx, 2) + __pow(cy, 2) - __pow(r, 2);\n  let p0x = NaN;\n  let p0y = NaN;\n  let p1x = NaN;\n  let p1y = NaN;\n  if (cosA > 0.5) {\n    const tanA = sinA / cosA;\n    const a = 1 + __pow(tanA, 2);\n    const b = -2 * (cx + cy * tanA);\n    const d = __pow(b, 2) - 4 * a * c;\n    if (d < 0)\n      return;\n    const x0 = (-b + Math.sqrt(d)) / (2 * a);\n    const x1 = (-b - Math.sqrt(d)) / (2 * a);\n    p0x = x0;\n    p0y = x0 * tanA;\n    p1x = x1;\n    p1y = x1 * tanA;\n  } else {\n    const cotA = cosA / sinA;\n    const a = 1 + __pow(cotA, 2);\n    const b = -2 * (cy + cx * cotA);\n    const d = __pow(b, 2) - 4 * a * c;\n    if (d < 0)\n      return;\n    const y0 = (-b + Math.sqrt(d)) / (2 * a);\n    const y1 = (-b - Math.sqrt(d)) / (2 * a);\n    p0x = y0 * cotA;\n    p0y = y0;\n    p1x = y1 * cotA;\n    p1y = y1;\n  }\n  const normalisedX = cosA;\n  const normalisedY = sinA;\n  const p0DotNormalized = p0x * normalisedX + p0y * normalisedY;\n  const p1DotNormalized = p1x * normalisedX + p1y * normalisedY;\n  const a0 = p0DotNormalized > 0 ? clockwiseAngle(Math.atan2(p0y - cy, p0x - cx), startAngle) : NaN;\n  const a1 = p1DotNormalized > 0 ? clockwiseAngle(Math.atan2(p1y - cy, p1x - cx), startAngle) : NaN;\n  if (a0 >= startAngle && a0 <= endAngle) {\n    return a0;\n  } else if (a1 >= startAngle && a1 <= endAngle) {\n    return a1;\n  }\n}\nfunction arcCircleIntersectionAngle(cx, cy, r, startAngle, endAngle, circleR) {\n  const d = Math.hypot(cx, cy);\n  const d1 = (__pow(d, 2) - __pow(r, 2) + __pow(circleR, 2)) / (2 * d);\n  const d2 = d - d1;\n  const theta = Math.atan2(cy, cx);\n  const deltaTheta = Math.acos(-d2 / r);\n  const a0 = clockwiseAngle(theta + deltaTheta, startAngle);\n  const a1 = clockwiseAngle(theta - deltaTheta, startAngle);\n  if (a0 >= startAngle && a0 <= endAngle) {\n    return a0;\n  } else if (a1 >= startAngle && a1 <= endAngle) {\n    return a1;\n  }\n}\n\n// packages/ag-charts-community/src/scene/shape/sector.ts\nvar Arc = class {\n  constructor(cx, cy, r, a0, a1) {\n    this.cx = cx;\n    this.cy = cy;\n    this.r = r;\n    this.a0 = a0;\n    this.a1 = a1;\n    if (this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n  isValid() {\n    return Number.isFinite(this.a0) && Number.isFinite(this.a1);\n  }\n  pointAt(a) {\n    return {\n      x: this.cx + this.r * Math.cos(a),\n      y: this.cy + this.r * Math.sin(a)\n    };\n  }\n  clipStart(a) {\n    if (a == null || !this.isValid() || a < this.a0)\n      return;\n    this.a0 = a;\n    if (Number.isNaN(a) || this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n  clipEnd(a) {\n    if (a == null || !this.isValid() || a > this.a1)\n      return;\n    this.a1 = a;\n    if (Number.isNaN(a) || this.a0 >= this.a1) {\n      this.a0 = NaN;\n      this.a1 = NaN;\n    }\n  }\n};\nvar Sector = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.centerX = 0;\n    this.centerY = 0;\n    this.innerRadius = 10;\n    this.outerRadius = 20;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.clipSector = void 0;\n    this.concentricEdgeInset = 0;\n    this.radialEdgeInset = 0;\n    this.startOuterCornerRadius = 0;\n    this.endOuterCornerRadius = 0;\n    this.startInnerCornerRadius = 0;\n    this.endInnerCornerRadius = 0;\n  }\n  set inset(value) {\n    this.concentricEdgeInset = value;\n    this.radialEdgeInset = value;\n  }\n  set cornerRadius(value) {\n    this.startOuterCornerRadius = value;\n    this.endOuterCornerRadius = value;\n    this.startInnerCornerRadius = value;\n    this.endInnerCornerRadius = value;\n  }\n  computeBBox() {\n    const radius = this.outerRadius;\n    return new BBox(this.centerX - radius, this.centerY - radius, radius * 2, radius * 2);\n  }\n  normalizedRadii() {\n    const { concentricEdgeInset } = this;\n    return {\n      innerRadius: Math.max(Math.min(this.innerRadius, this.outerRadius) + concentricEdgeInset, 0),\n      outerRadius: Math.max(Math.max(this.innerRadius, this.outerRadius) - concentricEdgeInset, 0)\n    };\n  }\n  normalizedClipSector() {\n    const { clipSector } = this;\n    if (clipSector == null)\n      return;\n    const { startAngle, endAngle } = clockwiseAngles(this.startAngle, this.endAngle);\n    const { innerRadius, outerRadius } = this.normalizedRadii();\n    const clipAngles = clockwiseAngles(clipSector.startAngle, clipSector.endAngle, startAngle);\n    return new SectorBox(\n      Math.max(startAngle, clipAngles.startAngle),\n      Math.min(endAngle, clipAngles.endAngle),\n      Math.max(innerRadius, clipSector.innerRadius),\n      Math.min(outerRadius, clipSector.outerRadius)\n    );\n  }\n  getAngleOffset(radius) {\n    return radius > 0 ? this.radialEdgeInset / radius : 0;\n  }\n  arc(r, angleSweep, a0, a1, outerArc, innerArc, start, inner) {\n    if (r <= 0)\n      return;\n    const { startAngle, endAngle } = clockwiseAngles(this.startAngle, this.endAngle);\n    const { innerRadius, outerRadius } = this.normalizedRadii();\n    const clipSector = this.normalizedClipSector();\n    if (inner && innerRadius <= 0)\n      return;\n    const innerAngleOffset = this.getAngleOffset(innerRadius);\n    const outerAngleOffset = this.getAngleOffset(outerRadius);\n    const angleOffset = inner ? this.getAngleOffset(innerRadius + r) : this.getAngleOffset(outerRadius - r);\n    const angle = start ? startAngle + angleOffset + angleSweep : endAngle - angleOffset - angleSweep;\n    const radius = inner ? innerRadius + r : outerRadius - r;\n    const cx = radius * Math.cos(angle);\n    const cy = radius * Math.sin(angle);\n    if (clipSector != null) {\n      const delta2 = 1e-6;\n      if (!start && !(angle >= startAngle - delta2 && angle <= clipSector.endAngle - delta2))\n        return;\n      if (start && !(angle >= clipSector.startAngle + delta2 && angle <= endAngle - delta2))\n        return;\n      if (inner && !(radius >= clipSector.innerRadius - delta2))\n        return;\n      if (!inner && !(radius <= clipSector.outerRadius + delta2))\n        return;\n    }\n    const arc = new Arc(cx, cy, r, a0, a1);\n    if (clipSector != null) {\n      if (inner) {\n        arc.clipStart(\n          arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.endAngle - innerAngleOffset)\n        );\n        arc.clipEnd(\n          arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.startAngle + innerAngleOffset)\n        );\n      } else {\n        arc.clipStart(\n          arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.startAngle + outerAngleOffset)\n        );\n        arc.clipEnd(arcRadialLineIntersectionAngle(cx, cy, r, a0, a1, clipSector.endAngle - outerAngleOffset));\n      }\n      let circleClipStart;\n      let circleClipEnd;\n      if (start) {\n        circleClipStart = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.innerRadius);\n        circleClipEnd = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.outerRadius);\n      } else {\n        circleClipStart = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.outerRadius);\n        circleClipEnd = arcCircleIntersectionAngle(cx, cy, r, a0, a1, clipSector.innerRadius);\n      }\n      arc.clipStart(circleClipStart);\n      arc.clipEnd(circleClipEnd);\n      if (circleClipStart != null) {\n        const { x: x2, y: y2 } = arc.pointAt(circleClipStart);\n        const theta2 = clockwiseAngle(Math.atan2(y2, x2), startAngle);\n        if (start) {\n          innerArc == null ? void 0 : innerArc.clipStart(theta2);\n        } else {\n          outerArc.clipEnd(theta2);\n        }\n      }\n      if (circleClipEnd != null) {\n        const { x: x2, y: y2 } = arc.pointAt(circleClipEnd);\n        const theta2 = clockwiseAngle(Math.atan2(y2, x2), startAngle);\n        if (start) {\n          outerArc.clipStart(theta2);\n        } else {\n          innerArc == null ? void 0 : innerArc.clipEnd(theta2);\n        }\n      }\n    }\n    if (clipSector != null) {\n      const { x: x2, y: y2 } = arc.pointAt((arc.a0 + arc.a1) / 2);\n      if (!isPointInSector(x2, y2, clipSector))\n        return;\n    }\n    const { x, y } = arc.pointAt(start === inner ? arc.a0 : arc.a1);\n    const theta = clockwiseAngle(Math.atan2(y, x), startAngle);\n    const radialArc = inner ? innerArc : outerArc;\n    if (start) {\n      radialArc == null ? void 0 : radialArc.clipStart(theta);\n    } else {\n      radialArc == null ? void 0 : radialArc.clipEnd(theta);\n    }\n    return arc;\n  }\n  updatePath() {\n    var _a, _b, _c, _d, _e;\n    const delta2 = 1e-6;\n    const { path, centerX, centerY, concentricEdgeInset, radialEdgeInset } = this;\n    let { startOuterCornerRadius, endOuterCornerRadius, startInnerCornerRadius, endInnerCornerRadius } = this;\n    const { startAngle, endAngle } = clockwiseAngles(this.startAngle, this.endAngle);\n    const { innerRadius, outerRadius } = this.normalizedRadii();\n    const clipSector = this.normalizedClipSector();\n    const sweepAngle = endAngle - startAngle;\n    const fullPie = sweepAngle >= 2 * Math.PI - delta2;\n    path.clear();\n    if (((_a = clipSector == null ? void 0 : clipSector.startAngle) != null ? _a : startAngle) === ((_b = clipSector == null ? void 0 : clipSector.endAngle) != null ? _b : endAngle)) {\n      return;\n    } else if (fullPie && this.clipSector == null && startOuterCornerRadius === 0 && endOuterCornerRadius === 0 && startInnerCornerRadius === 0 && endInnerCornerRadius === 0) {\n      path.moveTo(centerX + outerRadius * Math.cos(startAngle), centerY + outerRadius * Math.sin(startAngle));\n      path.arc(centerX, centerY, outerRadius, startAngle, endAngle);\n      if (innerRadius > concentricEdgeInset) {\n        path.moveTo(centerX + innerRadius * Math.cos(endAngle), centerY + innerRadius * Math.sin(endAngle));\n        path.arc(centerX, centerY, innerRadius, endAngle, startAngle, true);\n      }\n      path.closePath();\n      return;\n    }\n    const innerAngleOffset = this.getAngleOffset(innerRadius);\n    const outerAngleOffset = this.getAngleOffset(outerRadius);\n    const outerAngleExceeded = sweepAngle < 2 * outerAngleOffset;\n    if (outerAngleExceeded)\n      return;\n    const hasInnerSweep = ((_c = clipSector == null ? void 0 : clipSector.innerRadius) != null ? _c : innerRadius) > concentricEdgeInset;\n    const innerAngleExceeded = innerRadius < concentricEdgeInset || sweepAngle < 2 * innerAngleOffset;\n    const radialLength = outerRadius - innerRadius;\n    const maxRadialLength = Math.max(\n      startOuterCornerRadius,\n      startInnerCornerRadius,\n      endOuterCornerRadius,\n      endInnerCornerRadius\n    );\n    const initialScalingFactor = maxRadialLength > 0 ? Math.min(radialLength / maxRadialLength, 1) : 1;\n    startOuterCornerRadius *= initialScalingFactor;\n    endOuterCornerRadius *= initialScalingFactor;\n    startInnerCornerRadius *= initialScalingFactor;\n    endInnerCornerRadius *= initialScalingFactor;\n    const outerScalingFactor = radiiScalingFactor(\n      outerRadius,\n      sweepAngle - 2 * outerAngleOffset,\n      -startOuterCornerRadius,\n      -endOuterCornerRadius\n    );\n    startOuterCornerRadius *= outerScalingFactor;\n    endOuterCornerRadius *= outerScalingFactor;\n    if (!innerAngleExceeded && hasInnerSweep) {\n      const innerScalingFactor = radiiScalingFactor(\n        innerRadius,\n        sweepAngle - 2 * innerAngleOffset,\n        startInnerCornerRadius,\n        endInnerCornerRadius\n      );\n      startInnerCornerRadius *= innerScalingFactor;\n      endInnerCornerRadius *= innerScalingFactor;\n    } else {\n      startInnerCornerRadius = 0;\n      endInnerCornerRadius = 0;\n    }\n    const maxCombinedRadialLength = Math.max(\n      startOuterCornerRadius + startInnerCornerRadius,\n      endOuterCornerRadius + endInnerCornerRadius\n    );\n    const edgesScalingFactor = maxCombinedRadialLength > 0 ? Math.min(radialLength / maxCombinedRadialLength, 1) : 1;\n    startOuterCornerRadius *= edgesScalingFactor;\n    endOuterCornerRadius *= edgesScalingFactor;\n    startInnerCornerRadius *= edgesScalingFactor;\n    endInnerCornerRadius *= edgesScalingFactor;\n    let startOuterCornerRadiusAngleSweep = 0;\n    let endOuterCornerRadiusAngleSweep = 0;\n    const startOuterCornerRadiusSweep = startOuterCornerRadius / (outerRadius - startOuterCornerRadius);\n    const endOuterCornerRadiusSweep = endOuterCornerRadius / (outerRadius - endOuterCornerRadius);\n    if (startOuterCornerRadiusSweep >= 0 && startOuterCornerRadiusSweep < 1 - delta2) {\n      startOuterCornerRadiusAngleSweep = Math.asin(startOuterCornerRadiusSweep);\n    } else {\n      startOuterCornerRadiusAngleSweep = sweepAngle / 2;\n      const maxStartOuterCornerRadius = outerRadius / (1 / Math.sin(startOuterCornerRadiusAngleSweep) + 1);\n      startOuterCornerRadius = Math.min(maxStartOuterCornerRadius, startOuterCornerRadius);\n    }\n    if (endOuterCornerRadiusSweep >= 0 && endOuterCornerRadiusSweep < 1 - delta2) {\n      endOuterCornerRadiusAngleSweep = Math.asin(endOuterCornerRadiusSweep);\n    } else {\n      endOuterCornerRadiusAngleSweep = sweepAngle / 2;\n      const maxEndOuterCornerRadius = outerRadius / (1 / Math.sin(endOuterCornerRadiusAngleSweep) + 1);\n      endOuterCornerRadius = Math.min(maxEndOuterCornerRadius, endOuterCornerRadius);\n    }\n    const startInnerCornerRadiusAngleSweep = Math.asin(\n      startInnerCornerRadius / (innerRadius + startInnerCornerRadius)\n    );\n    const endInnerCornerRadiusAngleSweep = Math.asin(endInnerCornerRadius / (innerRadius + endInnerCornerRadius));\n    const outerArcRadius = (_d = clipSector == null ? void 0 : clipSector.outerRadius) != null ? _d : outerRadius;\n    const outerArcRadiusOffset = this.getAngleOffset(outerArcRadius);\n    const outerArc = new Arc(\n      0,\n      0,\n      outerArcRadius,\n      startAngle + outerArcRadiusOffset,\n      endAngle - outerArcRadiusOffset\n    );\n    const innerArcRadius = (_e = clipSector == null ? void 0 : clipSector.innerRadius) != null ? _e : innerRadius;\n    const innerArcRadiusOffset = this.getAngleOffset(innerArcRadius);\n    const innerArc = hasInnerSweep ? new Arc(0, 0, innerArcRadius, startAngle + innerArcRadiusOffset, endAngle - innerArcRadiusOffset) : void 0;\n    if (clipSector != null) {\n      outerArc.clipStart(clipSector.startAngle);\n      outerArc.clipEnd(clipSector.endAngle);\n      innerArc == null ? void 0 : innerArc.clipStart(clipSector.startAngle);\n      innerArc == null ? void 0 : innerArc.clipEnd(clipSector.endAngle);\n    }\n    const startOuterArc = this.arc(\n      startOuterCornerRadius,\n      startOuterCornerRadiusAngleSweep,\n      startAngle - Math.PI * 0.5,\n      startAngle + startOuterCornerRadiusAngleSweep,\n      outerArc,\n      innerArc,\n      true,\n      false\n    );\n    const endOuterArc = this.arc(\n      endOuterCornerRadius,\n      endOuterCornerRadiusAngleSweep,\n      endAngle - endOuterCornerRadiusAngleSweep,\n      endAngle + Math.PI * 0.5,\n      outerArc,\n      innerArc,\n      false,\n      false\n    );\n    const endInnerArc = this.arc(\n      endInnerCornerRadius,\n      endInnerCornerRadiusAngleSweep,\n      endAngle + Math.PI * 0.5,\n      endAngle + Math.PI - endInnerCornerRadiusAngleSweep,\n      outerArc,\n      innerArc,\n      false,\n      true\n    );\n    const startInnerArc = this.arc(\n      startInnerCornerRadius,\n      startInnerCornerRadiusAngleSweep,\n      startAngle + Math.PI + startInnerCornerRadiusAngleSweep,\n      startAngle + Math.PI * 1.5,\n      outerArc,\n      innerArc,\n      true,\n      true\n    );\n    if (innerAngleExceeded) {\n      const x = sweepAngle < Math.PI * 0.5 ? radialEdgeInset * (1 + Math.cos(sweepAngle)) / Math.sin(sweepAngle) : NaN;\n      let r;\n      if (x > 0 && x < outerRadius) {\n        r = Math.max(Math.hypot(radialEdgeInset, x), innerRadius);\n      } else {\n        r = innerRadius;\n      }\n      const midAngle = startAngle + sweepAngle * 0.5;\n      path.moveTo(centerX + r * Math.cos(midAngle), centerY + r * Math.sin(midAngle));\n    } else if ((startInnerArc == null ? void 0 : startInnerArc.isValid()) === true) {\n      const { x, y } = startInnerArc.pointAt(startInnerArc.a1);\n      path.moveTo(centerX + x, centerY + y);\n    } else if ((innerArc == null ? void 0 : innerArc.isValid()) === true) {\n      const { x, y } = innerArc.pointAt(innerArc.a0);\n      path.moveTo(centerX + x, centerY + y);\n    } else {\n      const midAngle = startAngle + sweepAngle / 2;\n      const cx = innerRadius * Math.cos(midAngle);\n      const cy = innerRadius * Math.sin(midAngle);\n      path.moveTo(centerX + cx, centerY + cy);\n    }\n    if ((startOuterArc == null ? void 0 : startOuterArc.isValid()) === true) {\n      const { cx, cy, r, a0, a1 } = startOuterArc;\n      path.arc(centerX + cx, centerY + cy, r, a0, a1);\n    }\n    if (outerArc.isValid()) {\n      const { r, a0, a1 } = outerArc;\n      path.arc(centerX, centerY, r, a0, a1);\n    }\n    if ((endOuterArc == null ? void 0 : endOuterArc.isValid()) === true) {\n      const { cx, cy, r, a0, a1 } = endOuterArc;\n      path.arc(centerX + cx, centerY + cy, r, a0, a1);\n    }\n    if (!innerAngleExceeded) {\n      if ((endInnerArc == null ? void 0 : endInnerArc.isValid()) === true) {\n        const { cx, cy, r, a0, a1 } = endInnerArc;\n        path.arc(centerX + cx, centerY + cy, r, a0, a1);\n      }\n      if ((innerArc == null ? void 0 : innerArc.isValid()) === true) {\n        const { r, a0, a1 } = innerArc;\n        path.arc(centerX, centerY, r, a1, a0, true);\n      }\n      if ((startInnerArc == null ? void 0 : startInnerArc.isValid()) === true) {\n        const { cx, cy, r, a0, a1 } = startInnerArc;\n        path.arc(centerX + cx, centerY + cy, r, a0, a1);\n      }\n    }\n    path.closePath();\n  }\n  isPointInPath(x, y) {\n    var _a;\n    const point = this.transformPoint(x, y);\n    const { startAngle, endAngle, innerRadius, outerRadius } = (_a = this.clipSector) != null ? _a : this;\n    return isPointInSector(point.x, point.y, {\n      startAngle,\n      endAngle,\n      innerRadius: Math.min(innerRadius, outerRadius),\n      outerRadius: Math.max(innerRadius, outerRadius)\n    });\n  }\n};\nSector.className = \"Sector\";\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"centerX\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"centerY\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"innerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"outerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"startAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"endAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"clipSector\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"concentricEdgeInset\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"radialEdgeInset\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"startOuterCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"endOuterCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"startInnerCornerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Sector.prototype, \"endInnerCornerRadius\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeriesProperties.ts\nvar DonutTitle = class extends Caption {\n  constructor() {\n    super(...arguments);\n    this.showInLegend = false;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], DonutTitle.prototype, \"showInLegend\", 2);\nvar DonutInnerLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.margin = 2;\n  }\n  set(properties, _reset) {\n    return super.set(properties);\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], DonutInnerLabel.prototype, \"text\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], DonutInnerLabel.prototype, \"margin\", 2);\nvar DonutInnerCircle = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.fill = \"transparent\";\n    this.fillOpacity = 1;\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING)\n], DonutInnerCircle.prototype, \"fill\", 2);\n__decorateClass([\n  Validate(RATIO)\n], DonutInnerCircle.prototype, \"fillOpacity\", 2);\nvar DonutSeriesCalloutLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.offset = 3;\n    this.minAngle = 0;\n    this.minSpacing = 4;\n    this.maxCollisionOffset = 50;\n    this.avoidCollisions = true;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLabel.prototype, \"offset\", 2);\n__decorateClass([\n  Validate(DEGREE)\n], DonutSeriesCalloutLabel.prototype, \"minAngle\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLabel.prototype, \"minSpacing\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLabel.prototype, \"maxCollisionOffset\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], DonutSeriesCalloutLabel.prototype, \"avoidCollisions\", 2);\nvar DonutSeriesSectorLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.positionOffset = 0;\n    this.positionRatio = 0.5;\n  }\n};\n__decorateClass([\n  Validate(NUMBER)\n], DonutSeriesSectorLabel.prototype, \"positionOffset\", 2);\n__decorateClass([\n  Validate(RATIO)\n], DonutSeriesSectorLabel.prototype, \"positionRatio\", 2);\nvar DonutSeriesCalloutLine = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.length = 10;\n    this.strokeWidth = 1;\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY, { optional: true })\n], DonutSeriesCalloutLine.prototype, \"colors\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLine.prototype, \"length\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesCalloutLine.prototype, \"strokeWidth\", 2);\nvar DonutSeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.rotation = 0;\n    this.outerRadiusOffset = 0;\n    this.outerRadiusRatio = 1;\n    this.strokeWidth = 1;\n    this.sectorSpacing = void 0;\n    this.innerLabels = new PropertiesArray(DonutInnerLabel);\n    this.title = new DonutTitle();\n    this.innerCircle = new DonutInnerCircle();\n    this.shadow = new DropShadow();\n    this.calloutLabel = new DonutSeriesCalloutLabel();\n    this.sectorLabel = new DonutSeriesSectorLabel();\n    this.calloutLine = new DonutSeriesCalloutLine();\n    this.tooltip = new SeriesTooltip();\n    this.__BACKGROUND_COLOR_DO_NOT_USE = void 0;\n  }\n  isValid() {\n    const superIsValid = super.isValid();\n    if (this.innerRadiusRatio == null && this.innerRadiusOffset == null) {\n      Logger.warnOnce(\n        \"Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series.\"\n      );\n      return false;\n    }\n    return superIsValid;\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], DonutSeriesProperties.prototype, \"angleKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"angleName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusName\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusMin\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"radiusMax\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"calloutLabelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"calloutLabelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"sectorLabelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"sectorLabelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"legendItemKey\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], DonutSeriesProperties.prototype, \"fills\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], DonutSeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([\n  Validate(RATIO)\n], DonutSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(RATIO)\n], DonutSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], DonutSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], DonutSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([\n  Validate(DEGREE)\n], DonutSeriesProperties.prototype, \"rotation\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], DonutSeriesProperties.prototype, \"outerRadiusOffset\", 2);\n__decorateClass([\n  Validate(RATIO)\n], DonutSeriesProperties.prototype, \"outerRadiusRatio\", 2);\n__decorateClass([\n  Validate(NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"innerRadiusOffset\", 2);\n__decorateClass([\n  Validate(RATIO, { optional: true })\n], DonutSeriesProperties.prototype, \"innerRadiusRatio\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], DonutSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], DonutSeriesProperties.prototype, \"sectorSpacing\", 2);\n__decorateClass([\n  Validate(OBJECT_ARRAY)\n], DonutSeriesProperties.prototype, \"innerLabels\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"title\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"innerCircle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"calloutLabel\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"sectorLabel\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"calloutLine\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], DonutSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], DonutSeriesProperties.prototype, \"__BACKGROUND_COLOR_DO_NOT_USE\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/pieUtil.ts\nfunction preparePieSeriesAnimationFunctions(initialLoad, rotationDegrees, scaleFn, oldScaleFn) {\n  const scale2 = [scaleFn.convert(0), scaleFn.convert(1)];\n  const oldScale = [oldScaleFn.convert(0), oldScaleFn.convert(1)];\n  const rotation = Math.PI / -2 + toRadians(rotationDegrees);\n  const phase = initialLoad ? \"initial\" : \"update\";\n  const scaleToNewRadius = ({ radius }) => {\n    return { innerRadius: scale2[0], outerRadius: scale2[0] + (scale2[1] - scale2[0]) * radius };\n  };\n  const scaleToOldRadius = ({ radius }) => {\n    return { innerRadius: oldScale[0], outerRadius: oldScale[0] + (oldScale[1] - oldScale[0]) * radius };\n  };\n  const fromFn = (sect, datum, status, { prevFromProps }) => {\n    var _a, _b, _c, _d, _e, _f;\n    let { startAngle, endAngle, innerRadius, outerRadius } = sect;\n    let { fill, stroke } = datum.sectorFormat;\n    if (status === \"unknown\" || status === \"added\" && !prevFromProps) {\n      startAngle = rotation;\n      endAngle = rotation;\n      innerRadius = datum.innerRadius;\n      outerRadius = datum.outerRadius;\n    } else if (status === \"added\" && prevFromProps) {\n      startAngle = (_a = prevFromProps.endAngle) != null ? _a : rotation;\n      endAngle = (_b = prevFromProps.endAngle) != null ? _b : rotation;\n      innerRadius = (_c = prevFromProps.innerRadius) != null ? _c : datum.innerRadius;\n      outerRadius = (_d = prevFromProps.outerRadius) != null ? _d : datum.outerRadius;\n    }\n    if (status === \"added\" && !initialLoad) {\n      const radii = scaleToOldRadius(datum);\n      innerRadius = radii.innerRadius;\n      outerRadius = radii.outerRadius;\n    }\n    if (status === \"updated\") {\n      fill = (_e = sect.fill) != null ? _e : fill;\n      stroke = (_f = sect.stroke) != null ? _f : stroke;\n    }\n    return { startAngle, endAngle, innerRadius, outerRadius, fill, stroke, phase };\n  };\n  const toFn = (_sect, datum, status, { prevLive }) => {\n    var _a, _b;\n    let { startAngle, endAngle, innerRadius, outerRadius } = datum;\n    const { stroke, fill } = datum.sectorFormat;\n    if (status === \"removed\" && prevLive) {\n      startAngle = (_a = prevLive.datum) == null ? void 0 : _a.endAngle;\n      endAngle = (_b = prevLive.datum) == null ? void 0 : _b.endAngle;\n    } else if (status === \"removed\" && !prevLive) {\n      startAngle = rotation;\n      endAngle = rotation;\n    }\n    if (status === \"removed\") {\n      const radii = scaleToNewRadius(datum);\n      innerRadius = radii.innerRadius;\n      outerRadius = radii.outerRadius;\n    }\n    return { startAngle, endAngle, outerRadius, innerRadius, stroke, fill };\n  };\n  const innerCircleFromFn = (node, _) => {\n    var _a, _b, _c;\n    return { size: (_c = (_b = (_a = node.previousDatum) == null ? void 0 : _a.radius) != null ? _b : node.size) != null ? _c : 0, phase };\n  };\n  const innerCircleToFn = (_, datum) => {\n    var _a;\n    return { size: (_a = datum.radius) != null ? _a : 0 };\n  };\n  return { nodes: { toFn, fromFn }, innerCircle: { fromFn: innerCircleFromFn, toFn: innerCircleToFn } };\n}\nfunction resetPieSelectionsFn(_node, datum) {\n  return {\n    startAngle: datum.startAngle,\n    endAngle: datum.endAngle,\n    innerRadius: datum.innerRadius,\n    outerRadius: datum.outerRadius,\n    fill: datum.sectorFormat.fill,\n    stroke: datum.sectorFormat.stroke\n  };\n}\nfunction pickByMatchingAngle(series, point) {\n  const dy = point.y - series.centerY;\n  const dx = point.x - series.centerX;\n  const angle = Math.atan2(dy, dx);\n  const sectors = series.getItemNodes();\n  for (const sector of sectors) {\n    if (sector.datum.missing === true)\n      continue;\n    if (isBetweenAngles(angle, sector.startAngle, sector.endAngle)) {\n      const radius = Math.sqrt(dx * dx + dy * dy);\n      let distance2 = 0;\n      if (radius < sector.innerRadius) {\n        distance2 = sector.innerRadius - radius;\n      } else if (radius > sector.outerRadius) {\n        distance2 = radius - sector.outerRadius;\n      }\n      return { datum: sector.datum, distance: distance2 };\n    }\n  }\n  return void 0;\n}\nfunction computeSectorFocusBounds(series, opts) {\n  const nodeData = series.getNodeData();\n  if (nodeData === void 0)\n    return void 0;\n  const { centerX, centerY } = series;\n  const datum = nodeData[opts.datumIndex];\n  const pointVars = [\n    { radius: datum.innerRadius, angle: datum.startAngle },\n    { radius: datum.innerRadius, angle: datum.endAngle },\n    { radius: datum.outerRadius, angle: datum.startAngle },\n    { radius: datum.outerRadius, angle: datum.endAngle }\n  ];\n  const rightAngles = [0, Math.PI / 2, Math.PI, 3 * Math.PI / 2];\n  for (const rightAngle of rightAngles) {\n    if (isBetweenAngles(rightAngle, datum.startAngle, datum.endAngle)) {\n      pointVars.push({ radius: datum.outerRadius, angle: rightAngle });\n    }\n  }\n  const points = pointVars.map(({ radius, angle }) => displacePointFromVector(centerX, centerY, radius, angle));\n  const xs = points.map((p) => p.x);\n  const ys = points.map((p) => p.y);\n  const x = Math.min(...xs);\n  const y = Math.min(...ys);\n  const width = Math.max(...xs) - x;\n  const height = Math.max(...ys) - y;\n  return new BBox(x, y, width, height);\n}\n\n// packages/ag-charts-community/src/chart/series/polar/polarSeries.ts\nvar PolarSeries = class extends DataModelSeries {\n  constructor(_a) {\n    var _b = _a, {\n      useLabelLayer = false,\n      pickModes = [0 /* EXACT_SHAPE_MATCH */],\n      canHaveAxes = false,\n      animationResetFns\n    } = _b, opts = __objRest(_b, [\n      \"useLabelLayer\",\n      \"pickModes\",\n      \"canHaveAxes\",\n      \"animationResetFns\"\n    ]);\n    super(__spreadProps(__spreadValues({}, opts), {\n      useLabelLayer,\n      pickModes,\n      contentGroupVirtual: false,\n      directionKeys: {\n        [\"x\" /* X */]: [\"angleKey\"],\n        [\"y\" /* Y */]: [\"radiusKey\"]\n      },\n      directionNames: {\n        [\"x\" /* X */]: [\"angleName\"],\n        [\"y\" /* Y */]: [\"radiusName\"]\n      },\n      canHaveAxes\n    }));\n    this.itemGroup = this.contentGroup.appendChild(new Group());\n    this.nodeData = [];\n    this.itemSelection = Selection.select(\n      this.itemGroup,\n      () => this.nodeFactory(),\n      false\n    );\n    this.labelSelection = Selection.select(this.labelGroup, Text, false);\n    this.highlightSelection = Selection.select(\n      this.highlightGroup,\n      () => this.nodeFactory()\n    );\n    /**\n     * The center of the polar series (for example, the center of a pie).\n     * If the polar chart has multiple series, all of them will have their\n     * center set to the same value as a result of the polar chart layout.\n     * The center coordinates are not supposed to be set by the user.\n     */\n    this.centerX = 0;\n    this.centerY = 0;\n    /**\n     * The maximum radius the series can use.\n     * This value is set automatically as a result of the polar chart layout\n     * and is not supposed to be set by the user.\n     */\n    this.radius = 0;\n    this.showFocusBox = false;\n    this.itemGroup.zIndexSubOrder = [() => this._declarationOrder, 1];\n    this.animationResetFns = animationResetFns;\n    this.animationState = new StateMachine(\n      \"empty\",\n      {\n        empty: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateEmptyUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        ready: {\n          updateData: \"waiting\",\n          clear: \"clearing\",\n          highlight: (data) => this.animateReadyHighlight(data),\n          highlightMarkers: (data) => this.animateReadyHighlightMarkers(data),\n          resize: (data) => this.animateReadyResize(data),\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        waiting: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateWaitingUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        clearing: {\n          update: {\n            target: \"empty\",\n            action: (data) => this.animateClearingUpdateEmpty(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        }\n      },\n      () => this.checkProcessedDataAnimatable()\n    );\n  }\n  getItemNodes() {\n    return this.itemGroup.children;\n  }\n  getNodeData() {\n    return this.nodeData;\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    }\n  }\n  getLabelData() {\n    return [];\n  }\n  computeLabelsBBox(_options, _seriesRect) {\n    return null;\n  }\n  resetAllAnimation() {\n    var _a;\n    const { item, label } = (_a = this.animationResetFns) != null ? _a : {};\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (item) {\n      resetMotion([this.itemSelection, this.highlightSelection], item);\n    }\n    if (label) {\n      resetMotion([this.labelSelection], label);\n    }\n    this.itemSelection.cleanup();\n    this.labelSelection.cleanup();\n    this.highlightSelection.cleanup();\n  }\n  animateEmptyUpdateReady(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animateWaitingUpdateReady(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animateReadyHighlight(_data) {\n    var _a;\n    const { item } = (_a = this.animationResetFns) != null ? _a : {};\n    if (item) {\n      resetMotion([this.highlightSelection], item);\n    }\n  }\n  animateReadyHighlightMarkers(_data) {\n  }\n  animateReadyResize(_data) {\n    this.resetAllAnimation();\n  }\n  animateClearingUpdateEmpty(_data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation();\n  }\n  animationTransitionClear() {\n    this.animationState.transition(\"clear\", this.getAnimationData());\n  }\n  getAnimationData(seriesRect) {\n    return { seriesRect };\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeries.ts\nvar DonutSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.angleKey = series.properties.angleKey;\n    this.radiusKey = series.properties.radiusKey;\n    this.calloutLabelKey = series.properties.calloutLabelKey;\n    this.sectorLabelKey = series.properties.sectorLabelKey;\n  }\n};\nvar DonutSeries = class extends PolarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      useLabelLayer: true,\n      animationResetFns: { item: resetPieSelectionsFn, label: resetLabelFn }\n    });\n    this.properties = new DonutSeriesProperties();\n    this.previousRadiusScale = new LinearScale();\n    this.radiusScale = new LinearScale();\n    // The group node that contains the background graphics.\n    this.backgroundGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.id}-background`,\n        layer: true,\n        zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */\n      })\n    );\n    // AG-6193 If the sum of all datums is 0, then we'll draw 1 or 2 rings to represent the empty series.\n    this.zerosumRingsGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-zerosumRings` }));\n    this.zerosumOuterRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.zerosumInnerRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.innerCircleGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-innerCircle` }));\n    // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n    this.seriesItemEnabled = [];\n    this.surroundingRadius = void 0;\n    this.NodeEvent = DonutSeriesNodeEvent;\n    this.angleScale = new LinearScale();\n    this.angleScale.domain = [0, 1];\n    this.angleScale.range = [-Math.PI, Math.PI].map((angle) => angle + Math.PI / 2);\n    const pieCalloutLabels = new Group({ name: \"pieCalloutLabels\" });\n    const pieSectorLabels = new Group({ name: \"pieSectorLabels\" });\n    const innerLabels = new Group({ name: \"innerLabels\" });\n    this.labelGroup.append(pieCalloutLabels);\n    this.labelGroup.append(pieSectorLabels);\n    this.labelGroup.append(innerLabels);\n    this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n    this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n    this.innerLabelsSelection = Selection.select(innerLabels, Text);\n    this.innerCircleSelection = Selection.select(this.innerCircleGroup, Circle);\n  }\n  addChartEventListeners() {\n    var _a;\n    this.destroyFns.push(\n      (_a = this.ctx.chartEventManager) == null ? void 0 : _a.addListener(\"legend-item-click\", (event) => this.onLegendItemClick(event))\n    );\n  }\n  get visible() {\n    return super.visible && (this.seriesItemEnabled.length === 0 || this.seriesItemEnabled.some((visible) => visible));\n  }\n  nodeFactory() {\n    return new Sector();\n  }\n  getSeriesDomain(direction) {\n    if (direction === \"x\" /* X */) {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      let { data } = this;\n      const { visible, seriesItemEnabled } = this;\n      const { angleKey, radiusKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const extraKeyProps = [];\n      const extraProps = [];\n      if (legendItemKey) {\n        extraKeyProps.push(keyProperty(legendItemKey, \"band\", { id: `legendItemKey` }));\n      } else if (calloutLabelKey) {\n        extraKeyProps.push(keyProperty(calloutLabelKey, \"band\", { id: `calloutLabelKey` }));\n      } else if (sectorLabelKey) {\n        extraKeyProps.push(keyProperty(sectorLabelKey, \"band\", { id: `sectorLabelKey` }));\n      }\n      const radiusScaleType = this.radiusScale.type;\n      const angleScaleType = this.radiusScale.type;\n      if (radiusKey) {\n        extraProps.push(\n          rangedValueProperty(radiusKey, {\n            id: \"radiusValue\",\n            min: (_a = this.properties.radiusMin) != null ? _a : 0,\n            max: this.properties.radiusMax\n          }),\n          valueProperty(radiusKey, radiusScaleType, { id: `radiusRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo(\n            { id: \"radiusValue\" },\n            [0, 1],\n            1,\n            (_b = this.properties.radiusMin) != null ? _b : 0,\n            this.properties.radiusMax\n          )\n        );\n      }\n      if (calloutLabelKey) {\n        extraProps.push(valueProperty(calloutLabelKey, \"band\", { id: `calloutLabelValue` }));\n      }\n      if (sectorLabelKey) {\n        extraProps.push(valueProperty(sectorLabelKey, \"band\", { id: `sectorLabelValue` }));\n      }\n      if (legendItemKey) {\n        extraProps.push(valueProperty(legendItemKey, \"band\", { id: `legendItemValue` }));\n      }\n      if (animationEnabled && this.processedData && extraKeyProps.length > 0) {\n        extraProps.push(diff(this.processedData));\n      }\n      extraProps.push(animationValidation());\n      data = data.map((d, idx) => visible && seriesItemEnabled[idx] ? d : __spreadProps(__spreadValues({}, d), { [angleKey]: 0 }));\n      yield this.requestDataModel(dataController, data, {\n        props: [\n          ...extraKeyProps,\n          accumulativeValueProperty(angleKey, angleScaleType, { id: `angleValue`, onlyPositive: true }),\n          valueProperty(angleKey, angleScaleType, { id: `angleRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo({ id: \"angleValue\" }, [0, 1], 0, 0),\n          ...extraProps\n        ]\n      });\n      for (const valueDef of (_e = (_d = (_c = this.processedData) == null ? void 0 : _c.defs) == null ? void 0 : _d.values) != null ? _e : []) {\n        const { id, missing, property } = valueDef;\n        const missCount = getMissCount(this, missing);\n        if (id !== \"angleRaw\" && missCount > 0) {\n          Logger.warnOnce(\n            `no value was found for the key '${String(property)}' on ${missCount} data element${missCount > 1 ? \"s\" : \"\"}`\n          );\n        }\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  maybeRefreshNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.nodeDataRefresh)\n        return;\n      const { nodeData = [] } = (_a = yield this.createNodeData()) != null ? _a : {};\n      this.nodeData = nodeData;\n      this.nodeDataRefresh = false;\n    });\n  }\n  getProcessedDataIndexes(dataModel) {\n    const angleIdx = dataModel.resolveProcessedDataIndexById(this, `angleValue`);\n    const radiusIdx = this.properties.radiusKey ? dataModel.resolveProcessedDataIndexById(this, `radiusValue`) : -1;\n    const calloutLabelIdx = this.properties.calloutLabelKey ? dataModel.resolveProcessedDataIndexById(this, `calloutLabelValue`) : -1;\n    const sectorLabelIdx = this.properties.sectorLabelKey ? dataModel.resolveProcessedDataIndexById(this, `sectorLabelValue`) : -1;\n    const legendItemIdx = this.properties.legendItemKey ? dataModel.resolveProcessedDataIndexById(this, `legendItemValue`) : -1;\n    return { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx };\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const { id: seriesId, processedData, dataModel, angleScale } = this;\n      const { rotation, innerRadiusRatio } = this.properties;\n      if (!this.properties.isValid()) {\n        this.zerosumOuterRing.visible = true;\n        this.zerosumInnerRing.visible = true;\n        return { itemId: seriesId, nodeData: [], labelData: [] };\n      }\n      if (!processedData || !dataModel || processedData.type !== \"ungrouped\")\n        return;\n      const { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n      let currentStart = 0;\n      let sum2 = 0;\n      const nodeData = processedData.data.map((group2, index) => {\n        var _a;\n        const { datum, values } = group2;\n        const currentValue = values[angleIdx];\n        const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        currentStart = currentValue;\n        sum2 += currentValue;\n        const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        const span = Math.abs(endAngle - startAngle);\n        const midAngle = startAngle + span / 2;\n        const angleValue = values[angleIdx + 1];\n        const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) != null ? _a : 1 : 1;\n        const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : void 0;\n        const legendItemValue = legendItemIdx >= 0 ? values[legendItemIdx] : void 0;\n        const labels = this.getLabels(\n          datum,\n          midAngle,\n          span,\n          true,\n          values[calloutLabelIdx],\n          values[sectorLabelIdx],\n          legendItemValue\n        );\n        const sectorFormat = this.getSectorFormat(datum, index, false);\n        return __spreadValues({\n          itemId: index,\n          series: this,\n          datum,\n          index,\n          angleValue,\n          midAngle,\n          midCos: Math.cos(midAngle),\n          midSin: Math.sin(midAngle),\n          startAngle,\n          endAngle,\n          sectorFormat,\n          radiusValue,\n          radius,\n          innerRadius: Math.max(this.radiusScale.convert(0), 0),\n          outerRadius: Math.max(this.radiusScale.convert(radius), 0),\n          legendItemValue\n        }, labels);\n      });\n      this.zerosumOuterRing.visible = sum2 === 0;\n      this.zerosumInnerRing.visible = sum2 === 0 && innerRadiusRatio != null && innerRadiusRatio !== 1 && innerRadiusRatio > 0;\n      return { itemId: seriesId, nodeData, labelData: nodeData };\n    });\n  }\n  getLabels(datum, midAngle, span, skipDisabled, calloutLabelValue, sectorLabelValue, legendItemValue) {\n    const { calloutLabel, sectorLabel, legendItemKey } = this.properties;\n    const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.properties.calloutLabelKey : void 0;\n    const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.properties.sectorLabelKey : void 0;\n    if (!calloutLabelKey && !sectorLabelKey && !legendItemKey) {\n      return {};\n    }\n    const labelFormatterParams = {\n      datum,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    };\n    const result = {};\n    if (calloutLabelKey && span > toRadians(calloutLabel.minAngle)) {\n      result.calloutLabel = __spreadProps(__spreadValues({}, this.getTextAlignment(midAngle)), {\n        text: this.getLabelText(calloutLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: calloutLabelValue\n        })),\n        hidden: false,\n        collisionTextAlign: void 0,\n        collisionOffsetY: 0,\n        box: void 0\n      });\n    }\n    if (sectorLabelKey) {\n      result.sectorLabel = {\n        text: this.getLabelText(sectorLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: sectorLabelValue\n        }))\n      };\n    }\n    if (legendItemKey != null && legendItemValue != null) {\n      result.legendItem = { key: legendItemKey, text: legendItemValue };\n    }\n    return result;\n  }\n  getTextAlignment(midAngle) {\n    const quadrantTextOpts = [\n      { textAlign: \"center\", textBaseline: \"bottom\" },\n      { textAlign: \"left\", textBaseline: \"middle\" },\n      { textAlign: \"center\", textBaseline: \"hanging\" },\n      { textAlign: \"right\", textBaseline: \"middle\" }\n    ];\n    const midAngle180 = normalizeAngle180(midAngle);\n    const quadrantStart = -0.75 * Math.PI;\n    const quadrantOffset = midAngle180 - quadrantStart;\n    const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n    const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n    return quadrantTextOpts[quadrantIndex];\n  }\n  getSectorFormat(datum, formatIndex, highlight) {\n    var _a, _b, _c, _d, _e;\n    const { callbackCache, highlightManager } = this.ctx;\n    const { angleKey, radiusKey, fills, strokes, formatter, sectorSpacing, __BACKGROUND_COLOR_DO_NOT_USE } = this.properties;\n    const highlightedDatum = highlightManager.getActiveHighlight();\n    const isDatumHighlighted = highlight && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && formatIndex === highlightedDatum.itemId;\n    let defaultStroke = strokes[formatIndex % strokes.length];\n    if (sectorSpacing == null && defaultStroke == null) {\n      defaultStroke = __BACKGROUND_COLOR_DO_NOT_USE;\n    }\n    const { fill, fillOpacity, stroke, strokeWidth, strokeOpacity } = mergeDefaults(\n      isDatumHighlighted && this.properties.highlightStyle.item,\n      {\n        fill: fills.length > 0 ? fills[formatIndex % fills.length] : void 0,\n        fillOpacity: this.properties.fillOpacity,\n        stroke: defaultStroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.getOpacity()\n      }\n    );\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        datum,\n        angleKey,\n        radiusKey,\n        fill,\n        stroke,\n        fills,\n        strokes,\n        strokeWidth,\n        highlighted: isDatumHighlighted,\n        seriesId: this.id\n      });\n    }\n    return {\n      fill: (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill,\n      fillOpacity: (_b = format2 == null ? void 0 : format2.fillOpacity) != null ? _b : fillOpacity,\n      stroke: (_c = format2 == null ? void 0 : format2.stroke) != null ? _c : stroke,\n      strokeWidth: (_d = format2 == null ? void 0 : format2.strokeWidth) != null ? _d : strokeWidth,\n      strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity\n    };\n  }\n  getInnerRadius() {\n    const { radius } = this;\n    const { innerRadiusRatio = 1, innerRadiusOffset = 0 } = this.properties;\n    const innerRadius = radius * innerRadiusRatio + innerRadiusOffset;\n    if (innerRadius === radius || innerRadius < 0) {\n      return 0;\n    }\n    return innerRadius;\n  }\n  getOuterRadius() {\n    const { outerRadiusRatio, outerRadiusOffset } = this.properties;\n    return Math.max(this.radius * outerRadiusRatio + outerRadiusOffset, 0);\n  }\n  updateRadiusScale(resize) {\n    const newRange = [this.getInnerRadius(), this.getOuterRadius()];\n    this.radiusScale.range = newRange;\n    if (resize) {\n      this.previousRadiusScale.range = newRange;\n    }\n    this.nodeData = this.nodeData.map((_a) => {\n      var _b = _a, { radius } = _b, d = __objRest(_b, [\"radius\"]);\n      return __spreadProps(__spreadValues({}, d), {\n        radius,\n        innerRadius: Math.max(this.radiusScale.convert(0), 0),\n        outerRadius: Math.max(this.radiusScale.convert(radius), 0)\n      });\n    });\n  }\n  getTitleTranslationY() {\n    var _a, _b;\n    const outerRadius = Math.max(0, this.radiusScale.range[1]);\n    if (outerRadius === 0) {\n      return NaN;\n    }\n    const spacing = (_b = (_a = this.properties.title) == null ? void 0 : _a.spacing) != null ? _b : 0;\n    const titleOffset = 2 + spacing;\n    const dy = Math.max(0, -outerRadius);\n    return -outerRadius - titleOffset - dy;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      const { title } = this.properties;\n      const newNodeDataDependencies = {\n        seriesRectWidth: seriesRect == null ? void 0 : seriesRect.width,\n        seriesRectHeight: seriesRect == null ? void 0 : seriesRect.height\n      };\n      const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n      if (resize) {\n        this._nodeDataDependencies = newNodeDataDependencies;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateTitleNodes();\n      this.updateRadiusScale(resize);\n      this.contentGroup.translationX = this.centerX;\n      this.contentGroup.translationY = this.centerY;\n      this.highlightGroup.translationX = this.centerX;\n      this.highlightGroup.translationY = this.centerY;\n      this.backgroundGroup.translationX = this.centerX;\n      this.backgroundGroup.translationY = this.centerY;\n      if (this.labelGroup) {\n        this.labelGroup.translationX = this.centerX;\n        this.labelGroup.translationY = this.centerY;\n      }\n      if (title) {\n        const dy = this.getTitleTranslationY();\n        const titleBox = title.node.computeBBox();\n        title.node.visible = title.enabled && isFinite(dy) && !this.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n        title.node.translationY = isFinite(dy) ? dy : 0;\n      }\n      for (const circle of [this.zerosumInnerRing, this.zerosumOuterRing]) {\n        circle.fillOpacity = 0;\n        circle.stroke = this.properties.calloutLabel.color;\n        circle.strokeWidth = 1;\n        circle.strokeOpacity = 1;\n      }\n      this.updateNodeMidPoint();\n      yield this.updateSelections();\n      yield this.updateNodes(seriesRect);\n    });\n  }\n  updateTitleNodes() {\n    var _a, _b;\n    const { oldTitle } = this;\n    const { title } = this.properties;\n    if (oldTitle !== title) {\n      if (oldTitle) {\n        (_a = this.labelGroup) == null ? void 0 : _a.removeChild(oldTitle.node);\n      }\n      if (title) {\n        title.node.textBaseline = \"bottom\";\n        (_b = this.labelGroup) == null ? void 0 : _b.appendChild(title.node);\n      }\n      this.oldTitle = title;\n    }\n  }\n  updateNodeMidPoint() {\n    this.nodeData.forEach((d) => {\n      const radius = d.innerRadius + (d.outerRadius - d.innerRadius) / 2;\n      d.midPoint = {\n        x: d.midCos * Math.max(0, radius),\n        y: d.midSin * Math.max(0, radius)\n      };\n    });\n  }\n  updateSelections() {\n    return __async(this, null, function* () {\n      yield this.updateGroupSelection();\n      this.updateInnerCircleSelection();\n    });\n  }\n  updateGroupSelection() {\n    return __async(this, null, function* () {\n      const { itemSelection, highlightSelection, calloutLabelSelection, sectorLabelSelection, innerLabelsSelection } = this;\n      const update = (selection, clone) => {\n        let nodeData = this.nodeData;\n        if (clone) {\n          nodeData = nodeData.map((datum) => __spreadProps(__spreadValues({}, datum), { sectorFormat: __spreadValues({}, datum.sectorFormat) }));\n        }\n        selection.update(nodeData, void 0, (datum) => this.getDatumId(datum));\n        if (this.ctx.animationManager.isSkipped()) {\n          selection.cleanup();\n        }\n      };\n      update(itemSelection, false);\n      update(highlightSelection, true);\n      calloutLabelSelection.update(this.nodeData, (group2) => {\n        const line = new Line();\n        line.tag = 0 /* Callout */;\n        line.pointerEvents = 1 /* None */;\n        group2.appendChild(line);\n        const text = new Text();\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        group2.appendChild(text);\n      });\n      sectorLabelSelection.update(this.nodeData, (node) => {\n        node.pointerEvents = 1 /* None */;\n      });\n      innerLabelsSelection.update(this.properties.innerLabels, (node) => {\n        node.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateInnerCircleSelection() {\n    const { innerCircle } = this.properties;\n    let radius = 0;\n    const innerRadius = this.getInnerRadius();\n    if (innerRadius > 0) {\n      const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n      const antiAliasingPadding = 1;\n      radius = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n    }\n    const datums = innerCircle ? [{ radius }] : [];\n    this.innerCircleSelection.update(datums);\n  }\n  updateNodes(seriesRect) {\n    return __async(this, null, function* () {\n      const highlightedDatum = this.ctx.highlightManager.getActiveHighlight();\n      const isVisible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n      this.rootGroup.visible = isVisible;\n      this.backgroundGroup.visible = isVisible;\n      this.contentGroup.visible = isVisible;\n      this.highlightGroup.visible = isVisible && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this;\n      if (this.labelGroup) {\n        this.labelGroup.visible = isVisible;\n      }\n      this.contentGroup.opacity = this.getOpacity();\n      this.innerCircleSelection.each((node, { radius }) => {\n        var _a, _b;\n        node.setProperties({\n          fill: (_a = this.properties.innerCircle) == null ? void 0 : _a.fill,\n          opacity: (_b = this.properties.innerCircle) == null ? void 0 : _b.fillOpacity,\n          size: radius\n        });\n      });\n      const updateSectorFn = (sector, datum, _index, isDatumHighlighted) => {\n        const format2 = this.getSectorFormat(datum.datum, datum.itemId, isDatumHighlighted);\n        datum.sectorFormat.fill = format2.fill;\n        datum.sectorFormat.stroke = format2.stroke;\n        const animationDisabled = this.ctx.animationManager.isSkipped();\n        if (animationDisabled) {\n          sector.startAngle = datum.startAngle;\n          sector.endAngle = datum.endAngle;\n          sector.innerRadius = datum.innerRadius;\n          sector.outerRadius = datum.outerRadius;\n        }\n        if (isDatumHighlighted || animationDisabled) {\n          sector.fill = format2.fill;\n          sector.stroke = format2.stroke;\n        }\n        sector.strokeWidth = format2.strokeWidth;\n        sector.fillOpacity = format2.fillOpacity;\n        sector.strokeOpacity = this.properties.strokeOpacity;\n        sector.lineDash = this.properties.lineDash;\n        sector.lineDashOffset = this.properties.lineDashOffset;\n        sector.fillShadow = this.properties.shadow;\n        sector.cornerRadius = this.properties.cornerRadius;\n        sector.inset = this.properties.sectorSpacing != null ? (this.properties.sectorSpacing + (format2.stroke != null ? format2.strokeWidth : 0)) / 2 : 0;\n        sector.lineJoin = this.properties.sectorSpacing != null ? \"miter\" : \"round\";\n      };\n      this.itemSelection.each((node, datum, index) => updateSectorFn(node, datum, index, false));\n      this.highlightSelection.each((node, datum, index) => {\n        const isDatumHighlighted = (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n        updateSectorFn(node, datum, index, true);\n        node.visible = isDatumHighlighted;\n      });\n      this.updateCalloutLineNodes();\n      this.updateCalloutLabelNodes(seriesRect);\n      this.updateSectorLabelNodes();\n      this.updateInnerLabelNodes();\n      this.updateZerosumRings();\n      this.animationState.transition(\"update\");\n    });\n  }\n  updateCalloutLineNodes() {\n    var _a;\n    const { calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const calloutStrokeWidth = calloutLine.strokeWidth;\n    const calloutColors = (_a = calloutLine.colors) != null ? _a : this.properties.strokes;\n    const { offset: offset4 } = this.properties.calloutLabel;\n    this.calloutLabelSelection.selectByTag(0 /* Callout */).forEach((line, index) => {\n      var _a2;\n      const datum = line.datum;\n      const { calloutLabel: label, outerRadius } = datum;\n      if ((label == null ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n        line.visible = true;\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.fill = void 0;\n        const x1 = datum.midCos * outerRadius;\n        const y1 = datum.midSin * outerRadius;\n        let x2 = datum.midCos * (outerRadius + calloutLength);\n        let y2 = datum.midSin * (outerRadius + calloutLength);\n        const isMoved = (_a2 = label.collisionTextAlign) != null ? _a2 : label.collisionOffsetY !== 0;\n        if (isMoved && label.box != null) {\n          const box = label.box;\n          let cx = x2;\n          let cy = y2;\n          if (x2 < box.x) {\n            cx = box.x;\n          } else if (x2 > box.x + box.width) {\n            cx = box.x + box.width;\n          }\n          if (y2 < box.y) {\n            cy = box.y;\n          } else if (y2 > box.y + box.height) {\n            cy = box.y + box.height;\n          }\n          const dx = cx - x2;\n          const dy = cy - y2;\n          const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n          const paddedLength = length - offset4;\n          if (paddedLength > 0) {\n            x2 = x2 + dx * paddedLength / length;\n            y2 = y2 + dy * paddedLength / length;\n          }\n        }\n        line.x1 = x1;\n        line.y1 = y1;\n        line.x2 = x2;\n        line.y2 = y2;\n      } else {\n        line.visible = false;\n      }\n    });\n  }\n  getLabelOverflow(text, box, seriesRect) {\n    const seriesLeft = seriesRect.x - this.centerX;\n    const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n    const seriesTop = seriesRect.y - this.centerY;\n    const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n    const errPx = 1;\n    let visibleTextPart = 1;\n    if (box.x + errPx < seriesLeft) {\n      visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n    } else if (box.x + box.width - errPx > seriesRight) {\n      visibleTextPart = (seriesRight - box.x) / box.width;\n    }\n    const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n    const textLength = visibleTextPart === 1 ? text.length : Math.floor(text.length * visibleTextPart) - 1;\n    const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n    return { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow };\n  }\n  bboxIntersectsSurroundingSeries(box, dx = 0, dy = 0) {\n    const { surroundingRadius } = this;\n    if (surroundingRadius == null) {\n      return false;\n    }\n    const corners = [\n      { x: box.x + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + box.height + dy },\n      { x: box.x + dx, y: box.y + box.height + dy }\n    ];\n    const sur2 = __pow(surroundingRadius, 2);\n    return corners.some((corner) => __pow(corner.x, 2) + __pow(corner.y, 2) > sur2);\n  }\n  computeCalloutLabelCollisionOffsets() {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const { offset: offset4, minSpacing } = calloutLabel;\n    const innerRadius = radiusScale.convert(0);\n    const shouldSkip = (datum) => {\n      const label = datum.calloutLabel;\n      return !label || datum.outerRadius === 0;\n    };\n    const fullData = this.nodeData;\n    const data = this.nodeData.filter((t) => !shouldSkip(t));\n    data.forEach((datum) => {\n      const label = datum.calloutLabel;\n      if (label == null)\n        return;\n      label.hidden = false;\n      label.collisionTextAlign = void 0;\n      label.collisionOffsetY = 0;\n    });\n    if (data.length <= 1) {\n      return;\n    }\n    const leftLabels = data.filter((d) => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n    const rightLabels = data.filter((d) => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n    const topLabels = data.filter((d) => {\n      var _a;\n      return d.midSin < 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const bottomLabels = data.filter((d) => {\n      var _a;\n      return d.midSin >= 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const tempTextNode = new Text();\n    const getTextBBox = (datum) => {\n      var _a;\n      const label = datum.calloutLabel;\n      if (label == null)\n        return new BBox(0, 0, 0, 0);\n      const labelRadius = datum.outerRadius + calloutLine.length + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign({\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      });\n      return tempTextNode.computeBBox();\n    };\n    const avoidNeighbourYCollision = (label, next, direction) => {\n      const box = getTextBBox(label).grow(minSpacing / 2);\n      const other = getTextBBox(next).grow(minSpacing / 2);\n      const collidesOrBehind = box.x < other.x + other.width && box.x + box.width > other.x && (direction === \"to-top\" ? box.y < other.y + other.height : box.y + box.height > other.y);\n      if (collidesOrBehind) {\n        const dy = direction === \"to-top\" ? box.y - other.y - other.height : box.y + box.height - other.y;\n        next.calloutLabel.collisionOffsetY = dy;\n      }\n    };\n    const avoidYCollisions = (labels) => {\n      const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n      const midIndex = labels.indexOf(midLabel);\n      for (let i = midIndex - 1; i >= 0; i--) {\n        const prev = labels[i + 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-top\");\n      }\n      for (let i = midIndex + 1; i < labels.length; i++) {\n        const prev = labels[i - 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-bottom\");\n      }\n    };\n    const avoidXCollisions = (labels) => {\n      const labelsCollideLabelsByY = data.some((datum) => datum.calloutLabel.collisionOffsetY !== 0);\n      const boxes = labels.map((label) => getTextBBox(label));\n      const paddedBoxes = boxes.map((box) => box.clone().grow(minSpacing / 2));\n      let labelsCollideLabelsByX = false;\n      for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n        const box = paddedBoxes[i];\n        for (let j = i + 1; j < labels.length; j++) {\n          const other = paddedBoxes[j];\n          if (box.collidesBBox(other)) {\n            labelsCollideLabelsByX = true;\n            break;\n          }\n        }\n      }\n      const sectors = fullData.map((datum) => {\n        const { startAngle, endAngle, outerRadius } = datum;\n        return { startAngle, endAngle, innerRadius, outerRadius };\n      });\n      const labelsCollideSectors = boxes.some((box) => {\n        return sectors.some((sector) => boxCollidesSector(box, sector));\n      });\n      if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n        return;\n      }\n      labels.filter((d) => d.calloutLabel.textAlign === \"center\").forEach((d) => {\n        const label = d.calloutLabel;\n        if (d.midCos < 0) {\n          label.collisionTextAlign = \"right\";\n        } else if (d.midCos > 0) {\n          label.collisionTextAlign = \"left\";\n        } else {\n          label.collisionTextAlign = \"center\";\n        }\n      });\n    };\n    avoidYCollisions(leftLabels);\n    avoidYCollisions(rightLabels);\n    avoidXCollisions(topLabels);\n    avoidXCollisions(bottomLabels);\n  }\n  updateCalloutLabelNodes(seriesRect) {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const { offset: offset4, color } = calloutLabel;\n    const tempTextNode = new Text();\n    this.calloutLabelSelection.selectByTag(1 /* Label */).forEach((text) => {\n      var _a;\n      const { datum } = text;\n      const label = datum.calloutLabel;\n      const radius = radiusScale.convert(datum.radius);\n      const outerRadius = Math.max(0, radius);\n      if (!(label == null ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n        text.visible = false;\n        return;\n      }\n      const labelRadius = outerRadius + calloutLength + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      const align = {\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      };\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign(align);\n      const box = tempTextNode.computeBBox();\n      let displayText = label.text;\n      let visible = true;\n      if (calloutLabel.avoidCollisions) {\n        const { textLength, hasVerticalOverflow } = this.getLabelOverflow(label.text, box, seriesRect);\n        displayText = label.text.length === textLength ? label.text : `${label.text.substring(0, textLength)}\\u2026`;\n        visible = !hasVerticalOverflow;\n      }\n      text.text = displayText;\n      text.x = x;\n      text.y = y;\n      text.setFont(this.properties.calloutLabel);\n      text.setAlign(align);\n      text.fill = color;\n      text.visible = visible;\n    });\n  }\n  computeLabelsBBox(options, seriesRect) {\n    return __async(this, null, function* () {\n      const { calloutLabel, calloutLine } = this.properties;\n      const calloutLength = calloutLine.length;\n      const { offset: offset4, maxCollisionOffset, minSpacing } = calloutLabel;\n      if (!calloutLabel.avoidCollisions) {\n        return null;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateRadiusScale(false);\n      this.computeCalloutLabelCollisionOffsets();\n      const textBoxes = [];\n      const text = new Text();\n      let titleBox;\n      const { title } = this.properties;\n      if ((title == null ? void 0 : title.text) && title.enabled) {\n        const dy = this.getTitleTranslationY();\n        if (isFinite(dy)) {\n          text.text = title.text;\n          text.x = 0;\n          text.y = dy;\n          text.setFont(title);\n          text.setAlign({\n            textBaseline: \"bottom\",\n            textAlign: \"center\"\n          });\n          titleBox = text.computeBBox();\n          textBoxes.push(titleBox);\n        }\n      }\n      this.nodeData.forEach((datum) => {\n        var _a;\n        const label = datum.calloutLabel;\n        if (!label || datum.outerRadius === 0) {\n          return null;\n        }\n        const labelRadius = datum.outerRadius + calloutLength + offset4;\n        const x = datum.midCos * labelRadius;\n        const y = datum.midSin * labelRadius + label.collisionOffsetY;\n        text.text = label.text;\n        text.x = x;\n        text.y = y;\n        text.setFont(this.properties.calloutLabel);\n        text.setAlign({\n          textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n          textBaseline: label.textBaseline\n        });\n        const box = text.computeBBox();\n        label.box = box;\n        if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n          label.hidden = true;\n          return;\n        }\n        if (titleBox) {\n          const seriesTop = seriesRect.y - this.centerY;\n          const titleCleanArea = new BBox(\n            titleBox.x - minSpacing,\n            seriesTop,\n            titleBox.width + 2 * minSpacing,\n            titleBox.y + titleBox.height + minSpacing - seriesTop\n          );\n          if (box.collidesBBox(titleCleanArea)) {\n            label.hidden = true;\n            return;\n          }\n        }\n        if (options.hideWhenNecessary) {\n          const { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow } = this.getLabelOverflow(\n            label.text,\n            box,\n            seriesRect\n          );\n          const isTooShort = label.text.length > 2 && textLength < 2;\n          if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n            label.hidden = true;\n            return;\n          }\n        }\n        label.hidden = false;\n        textBoxes.push(box);\n      });\n      if (textBoxes.length === 0) {\n        return null;\n      }\n      return BBox.merge(textBoxes);\n    });\n  }\n  updateSectorLabelNodes() {\n    const { radiusScale } = this;\n    const innerRadius = radiusScale.convert(0);\n    const { fontSize, fontStyle, fontWeight, fontFamily, positionOffset, positionRatio, color } = this.properties.sectorLabel;\n    this.sectorLabelSelection.each((text, datum) => {\n      const { sectorLabel, outerRadius } = datum;\n      let isTextVisible = false;\n      if (sectorLabel && outerRadius !== 0) {\n        const labelRadius = innerRadius * (1 - positionRatio) + outerRadius * positionRatio + positionOffset;\n        text.fill = color;\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.text = sectorLabel.text;\n        text.x = datum.midCos * labelRadius;\n        text.y = datum.midSin * labelRadius;\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n        const bbox = text.computeBBox();\n        const corners = [\n          [bbox.x, bbox.y],\n          [bbox.x + bbox.width, bbox.y],\n          [bbox.x + bbox.width, bbox.y + bbox.height],\n          [bbox.x, bbox.y + bbox.height]\n        ];\n        const { startAngle, endAngle } = datum;\n        const sectorBounds = { startAngle, endAngle, innerRadius, outerRadius };\n        if (corners.every(([x, y]) => isPointInSector(x, y, sectorBounds))) {\n          isTextVisible = true;\n        }\n      }\n      text.visible = isTextVisible;\n    });\n  }\n  updateInnerLabelNodes() {\n    const textBBoxes = [];\n    const margins = [];\n    this.innerLabelsSelection.each((text, datum) => {\n      const { fontStyle, fontWeight, fontSize, fontFamily, color } = datum;\n      text.fontStyle = fontStyle;\n      text.fontWeight = fontWeight;\n      text.fontSize = fontSize;\n      text.fontFamily = fontFamily;\n      text.text = datum.text;\n      text.x = 0;\n      text.y = 0;\n      text.fill = color;\n      text.textAlign = \"center\";\n      text.textBaseline = \"alphabetic\";\n      textBBoxes.push(text.computeBBox());\n      margins.push(datum.margin);\n    });\n    const getMarginTop = (index) => index === 0 ? 0 : margins[index];\n    const getMarginBottom = (index) => index === margins.length - 1 ? 0 : margins[index];\n    const totalHeight = textBBoxes.reduce((sum2, bbox, i) => {\n      return sum2 + bbox.height + getMarginTop(i) + getMarginBottom(i);\n    }, 0);\n    const totalWidth = Math.max(...textBBoxes.map((bbox) => bbox.width));\n    const innerRadius = this.getInnerRadius();\n    const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n    const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n    const textBottoms = [];\n    for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n      const bbox = textBBoxes[i];\n      const bottom = bbox.height + prev + getMarginTop(i);\n      textBottoms.push(bottom);\n      prev = bottom + getMarginBottom(i);\n    }\n    this.innerLabelsSelection.each((text, _datum, index) => {\n      text.y = textBottoms[index];\n      text.visible = labelsVisible;\n    });\n  }\n  updateZerosumRings() {\n    this.zerosumOuterRing.size = this.getOuterRadius() * 2;\n    this.zerosumInnerRing.size = this.getInnerRadius() * 2;\n  }\n  getDatumLegendName(nodeDatum) {\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    const { sectorLabel, calloutLabel, legendItem } = nodeDatum;\n    if (legendItemKey && legendItem !== void 0) {\n      return legendItem.text;\n    } else if (calloutLabelKey && calloutLabelKey !== angleKey && (calloutLabel == null ? void 0 : calloutLabel.text) !== void 0) {\n      return calloutLabel.text;\n    } else if (sectorLabelKey && sectorLabelKey !== angleKey && (sectorLabel == null ? void 0 : sectorLabel.text) !== void 0) {\n      return sectorLabel.text;\n    }\n  }\n  pickNodeClosestDatum(point) {\n    return pickByMatchingAngle(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    if (!this.properties.isValid()) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      datum,\n      angleValue,\n      sectorFormat: { fill: color },\n      itemId\n    } = nodeDatum;\n    const title = sanitizeHtml((_a = this.properties.title) == null ? void 0 : _a.text);\n    const content = isFiniteNumber(angleValue) ? toFixed(angleValue) : String(angleValue);\n    const labelText = this.getDatumLegendName(nodeDatum);\n    return this.properties.tooltip.toTooltipHtml(\n      {\n        title: title != null ? title : labelText,\n        content: title && labelText ? `${labelText}: ${content}` : content,\n        backgroundColor: color\n      },\n      {\n        datum,\n        itemId,\n        title,\n        color,\n        seriesId: this.id,\n        angleKey: this.properties.angleKey,\n        angleName: this.properties.angleName,\n        radiusKey: this.properties.radiusKey,\n        radiusName: this.properties.radiusName,\n        calloutLabelKey: this.properties.calloutLabelKey,\n        calloutLabelName: this.properties.calloutLabelName,\n        sectorLabelKey: this.properties.sectorLabelKey,\n        sectorLabelName: this.properties.sectorLabelName,\n        legendItemKey: this.properties.legendItemKey\n      }\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e;\n    const { visible, processedData, dataModel } = this;\n    if (!dataModel || !(processedData == null ? void 0 : processedData.data.length) || !this.properties.isValid() || legendType !== \"category\") {\n      return [];\n    }\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!legendItemKey && (!calloutLabelKey || calloutLabelKey === angleKey) && (!sectorLabelKey || sectorLabelKey === angleKey))\n      return [];\n    const { calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n    const titleText = ((_a = this.properties.title) == null ? void 0 : _a.showInLegend) && this.properties.title.text;\n    const legendData = [];\n    for (let index = 0; index < processedData.data.length; index++) {\n      const { datum, values } = processedData.data[index];\n      const labelParts = [];\n      if (titleText) {\n        labelParts.push(titleText);\n      }\n      const labels = this.getLabels(\n        datum,\n        2 * Math.PI,\n        2 * Math.PI,\n        false,\n        values[calloutLabelIdx],\n        values[sectorLabelIdx],\n        values[legendItemIdx]\n      );\n      if (legendItemKey && labels.legendItem !== void 0) {\n        labelParts.push(labels.legendItem.text);\n      } else if (calloutLabelKey && calloutLabelKey !== angleKey && ((_b = labels.calloutLabel) == null ? void 0 : _b.text) !== void 0) {\n        labelParts.push((_c = labels.calloutLabel) == null ? void 0 : _c.text);\n      } else if (sectorLabelKey && sectorLabelKey !== angleKey && ((_d = labels.sectorLabel) == null ? void 0 : _d.text) !== void 0) {\n        labelParts.push((_e = labels.sectorLabel) == null ? void 0 : _e.text);\n      }\n      if (labelParts.length === 0)\n        continue;\n      const sectorFormat = this.getSectorFormat(datum, index, false);\n      legendData.push({\n        legendType: \"category\",\n        id: this.id,\n        itemId: index,\n        seriesId: this.id,\n        enabled: visible && this.seriesItemEnabled[index],\n        label: {\n          text: labelParts.join(\" - \")\n        },\n        marker: {\n          fill: sectorFormat.fill,\n          stroke: sectorFormat.stroke,\n          fillOpacity: this.properties.fillOpacity,\n          strokeOpacity: this.properties.strokeOpacity,\n          strokeWidth: this.properties.strokeWidth\n        },\n        legendItemName: legendItemKey != null ? datum[legendItemKey] : void 0\n      });\n    }\n    return legendData;\n  }\n  onLegendItemClick(event) {\n    const { enabled, itemId, series, legendItemName } = event;\n    if (series.id === this.id) {\n      this.toggleSeriesItem(itemId, enabled);\n    } else if (legendItemName != null) {\n      this.toggleOtherSeriesItems(legendItemName, enabled);\n    }\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.nodeDataRefresh = true;\n  }\n  toggleOtherSeriesItems(legendItemName, enabled) {\n    var _a;\n    if (!this.properties.legendItemKey || !this.dataModel) {\n      return;\n    }\n    const legendItemIdx = this.dataModel.resolveProcessedDataIndexById(this, `legendItemValue`);\n    (_a = this.processedData) == null ? void 0 : _a.data.forEach(({ values }, datumItemId) => {\n      if (values[legendItemIdx] === legendItemName) {\n        this.toggleSeriesItem(datumItemId, enabled);\n      }\n    });\n  }\n  animateEmptyUpdateReady(_data) {\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      true,\n      this.properties.rotation,\n      this.radiusScale,\n      this.previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [this.itemSelection, this.highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateWaitingUpdateReady() {\n    var _a, _b, _c, _d, _e, _f;\n    const { itemSelection, highlightSelection, processedData, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const dataDiff = (_a = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _a.diff;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const supportedDiff = ((_b = dataDiff == null ? void 0 : dataDiff.moved.size) != null ? _b : 0) === 0;\n    const hasKeys = ((_c = processedData == null ? void 0 : processedData.defs.keys.length) != null ? _c : 0) > 0;\n    const hasUniqueKeys = (_f = (_e = (_d = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _d.animationValidation) == null ? void 0 : _e.uniqueKeys) != null ? _f : true;\n    if (!supportedDiff || !hasKeys || !hasUniqueKeys) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(\n      this.id,\n      \"nodes\",\n      animationManager,\n      [itemSelection, highlightSelection],\n      fns.nodes,\n      (_, datum) => this.getDatumId(datum),\n      dataDiff\n    );\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateClearingUpdateEmpty() {\n    const { itemSelection, highlightSelection, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeOutAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  getDatumIdFromData(datum) {\n    var _a, _b, _c;\n    const { calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!((_c = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation) == null ? void 0 : _c.uniqueKeys)) {\n      return;\n    }\n    if (legendItemKey) {\n      return datum[legendItemKey];\n    } else if (calloutLabelKey) {\n      return datum[calloutLabelKey];\n    } else if (sectorLabelKey) {\n      return datum[sectorLabelKey];\n    }\n  }\n  getDatumId(datum) {\n    const { index } = datum;\n    const datumId = this.getDatumIdFromData(datum.datum);\n    return datumId != null ? String(datumId) : `${index}`;\n  }\n  onDataChange() {\n    var _a;\n    const { data, seriesItemEnabled } = this;\n    this.seriesItemEnabled = (_a = data == null ? void 0 : data.map((_, index) => {\n      var _a2;\n      return (_a2 = seriesItemEnabled[index]) != null ? _a2 : true;\n    })) != null ? _a : [];\n  }\n  computeFocusBounds(opts) {\n    return computeSectorFocusBounds(this, opts);\n  }\n};\nDonutSeries.className = \"DonutSeries\";\nDonutSeries.type = \"donut\";\n\n// packages/ag-charts-community/src/chart/series/polar/pieTheme.ts\nvar pieTheme = {\n  series: {\n    __extends__: EXTENDS_SERIES_DEFAULTS,\n    title: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: \"normal\" /* NORMAL */,\n      fontSize: 14,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_MUTED_LABEL_COLOUR,\n      spacing: 5\n    },\n    calloutLabel: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: void 0,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_LABEL_COLOUR,\n      offset: 3,\n      minAngle: 0\n    },\n    sectorLabel: {\n      enabled: true,\n      fontStyle: void 0,\n      fontWeight: \"normal\" /* NORMAL */,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n      positionOffset: 0,\n      positionRatio: 0.5\n    },\n    calloutLine: {\n      length: 10,\n      strokeWidth: 2\n    },\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    strokeWidth: 1,\n    lineDash: [0],\n    lineDashOffset: 0,\n    rotation: 0,\n    // @todo(AG-10275) Uncomment this\n    // sectorSpacing: 1,\n    shadow: {\n      enabled: false,\n      color: DEFAULT_SHADOW_COLOUR,\n      xOffset: 3,\n      yOffset: 3,\n      blur: 5\n    },\n    innerLabels: {\n      fontStyle: void 0,\n      fontWeight: void 0,\n      fontSize: 12,\n      fontFamily: DEFAULT_FONT_FAMILY,\n      color: DEFAULT_LABEL_COLOUR,\n      margin: 2\n    },\n    // @todo(AG-10275) Remove this\n    // @ts-expect-error\n    __BACKGROUND_COLOR_DO_NOT_USE: DEFAULT_BACKGROUND_COLOUR\n  }\n};\nvar piePaletteFactory = ({ takeColors, colorsCount, userPalette }) => {\n  const { fills, strokes } = takeColors(colorsCount);\n  return {\n    fills,\n    strokes: userPalette ? strokes : [],\n    calloutLine: {\n      colors: strokes\n    }\n  };\n};\n\n// packages/ag-charts-community/src/chart/series/polar/donutSeriesModule.ts\nvar DonutSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"polar\"],\n  identifier: \"donut\",\n  instanceConstructor: DonutSeries,\n  themeTemplate: pieTheme,\n  paletteFactory: piePaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeriesProperties.ts\nvar PieTitle = class extends Caption {\n  constructor() {\n    super(...arguments);\n    this.showInLegend = false;\n  }\n};\n__decorateClass([\n  Validate(BOOLEAN)\n], PieTitle.prototype, \"showInLegend\", 2);\nvar DonutInnerLabel2 = class extends Label {\n  set(properties, _reset) {\n    return super.set(properties);\n  }\n};\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(STRING, { optional: true })\n], DonutInnerLabel2.prototype, \"text\", 2);\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(NUMBER, { optional: true })\n], DonutInnerLabel2.prototype, \"margin\", 2);\nvar DonutInnerCircle2 = class extends BaseProperties {\n};\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(COLOR_STRING, { optional: true })\n], DonutInnerCircle2.prototype, \"fill\", 2);\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(RATIO, { optional: true })\n], DonutInnerCircle2.prototype, \"fillOpacity\", 2);\nvar PieSeriesCalloutLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.offset = 3;\n    this.minAngle = 0;\n    this.minSpacing = 4;\n    this.maxCollisionOffset = 50;\n    this.avoidCollisions = true;\n  }\n};\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLabel.prototype, \"offset\", 2);\n__decorateClass([\n  Validate(DEGREE)\n], PieSeriesCalloutLabel.prototype, \"minAngle\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLabel.prototype, \"minSpacing\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLabel.prototype, \"maxCollisionOffset\", 2);\n__decorateClass([\n  Validate(BOOLEAN)\n], PieSeriesCalloutLabel.prototype, \"avoidCollisions\", 2);\nvar PieSeriesSectorLabel = class extends Label {\n  constructor() {\n    super(...arguments);\n    this.positionOffset = 0;\n    this.positionRatio = 0.5;\n  }\n};\n__decorateClass([\n  Validate(NUMBER)\n], PieSeriesSectorLabel.prototype, \"positionOffset\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PieSeriesSectorLabel.prototype, \"positionRatio\", 2);\nvar PieSeriesCalloutLine = class extends BaseProperties {\n  constructor() {\n    super(...arguments);\n    this.length = 10;\n    this.strokeWidth = 1;\n  }\n};\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY, { optional: true })\n], PieSeriesCalloutLine.prototype, \"colors\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLine.prototype, \"length\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesCalloutLine.prototype, \"strokeWidth\", 2);\nvar PieSeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n    this.fillOpacity = 1;\n    this.strokeOpacity = 1;\n    this.lineDash = [0];\n    this.lineDashOffset = 0;\n    this.cornerRadius = 0;\n    this.rotation = 0;\n    this.outerRadiusOffset = 0;\n    this.outerRadiusRatio = 1;\n    this.strokeWidth = 1;\n    this.sectorSpacing = void 0;\n    this.innerLabels = new PropertiesArray(DonutInnerLabel2);\n    this.title = new PieTitle();\n    this.innerCircle = new DonutInnerCircle2();\n    this.shadow = new DropShadow();\n    this.calloutLabel = new PieSeriesCalloutLabel();\n    this.sectorLabel = new PieSeriesSectorLabel();\n    this.calloutLine = new PieSeriesCalloutLine();\n    this.tooltip = new SeriesTooltip();\n    this.__BACKGROUND_COLOR_DO_NOT_USE = void 0;\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], PieSeriesProperties.prototype, \"angleKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"angleName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"radiusKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"radiusName\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"radiusMin\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"radiusMax\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"calloutLabelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"calloutLabelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"sectorLabelKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"sectorLabelName\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"legendItemKey\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], PieSeriesProperties.prototype, \"fills\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], PieSeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PieSeriesProperties.prototype, \"fillOpacity\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PieSeriesProperties.prototype, \"strokeOpacity\", 2);\n__decorateClass([\n  Validate(LINE_DASH)\n], PieSeriesProperties.prototype, \"lineDash\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesProperties.prototype, \"lineDashOffset\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesProperties.prototype, \"cornerRadius\", 2);\n__decorateClass([\n  Validate(FUNCTION, { optional: true })\n], PieSeriesProperties.prototype, \"formatter\", 2);\n__decorateClass([\n  Validate(DEGREE)\n], PieSeriesProperties.prototype, \"rotation\", 2);\n__decorateClass([\n  Validate(NUMBER)\n], PieSeriesProperties.prototype, \"outerRadiusOffset\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PieSeriesProperties.prototype, \"outerRadiusRatio\", 2);\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"innerRadiusOffset\", 2);\n__decorateClass([\n  Deprecated(\"Use a Donut Series instead\"),\n  Validate(RATIO, { optional: true })\n], PieSeriesProperties.prototype, \"innerRadiusRatio\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER)\n], PieSeriesProperties.prototype, \"strokeWidth\", 2);\n__decorateClass([\n  Validate(POSITIVE_NUMBER, { optional: true })\n], PieSeriesProperties.prototype, \"sectorSpacing\", 2);\n__decorateClass([\n  Validate(OBJECT_ARRAY)\n], PieSeriesProperties.prototype, \"innerLabels\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"title\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"innerCircle\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"shadow\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"calloutLabel\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"sectorLabel\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"calloutLine\", 2);\n__decorateClass([\n  Validate(OBJECT)\n], PieSeriesProperties.prototype, \"tooltip\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], PieSeriesProperties.prototype, \"__BACKGROUND_COLOR_DO_NOT_USE\", 2);\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeries.ts\nvar PieSeriesNodeEvent = class extends SeriesNodeEvent {\n  constructor(type, nativeEvent, datum, series) {\n    super(type, nativeEvent, datum, series);\n    this.angleKey = series.properties.angleKey;\n    this.radiusKey = series.properties.radiusKey;\n    this.calloutLabelKey = series.properties.calloutLabelKey;\n    this.sectorLabelKey = series.properties.sectorLabelKey;\n  }\n};\nvar PieSeries = class extends PolarSeries {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      useLabelLayer: true,\n      animationResetFns: { item: resetPieSelectionsFn, label: resetLabelFn }\n    });\n    this.properties = new PieSeriesProperties();\n    this.previousRadiusScale = new LinearScale();\n    this.radiusScale = new LinearScale();\n    // The group node that contains the background graphics.\n    this.backgroundGroup = this.rootGroup.appendChild(\n      new Group({\n        name: `${this.id}-background`,\n        layer: true,\n        zIndex: 0 /* SERIES_BACKGROUND_ZINDEX */\n      })\n    );\n    // AG-6193 If the sum of all datums is 0, then we'll draw 1 or 2 rings to represent the empty series.\n    this.zerosumRingsGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-zerosumRings` }));\n    this.zerosumOuterRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.zerosumInnerRing = this.zerosumRingsGroup.appendChild(new Circle());\n    this.innerCircleGroup = this.backgroundGroup.appendChild(new Group({ name: `${this.id}-innerCircle` }));\n    // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n    this.seriesItemEnabled = [];\n    this.surroundingRadius = void 0;\n    this.NodeEvent = PieSeriesNodeEvent;\n    this.angleScale = new LinearScale();\n    this.angleScale.domain = [0, 1];\n    this.angleScale.range = [-Math.PI, Math.PI].map((angle) => angle + Math.PI / 2);\n    const pieCalloutLabels = new Group({ name: \"pieCalloutLabels\" });\n    const pieSectorLabels = new Group({ name: \"pieSectorLabels\" });\n    const innerLabels = new Group({ name: \"innerLabels\" });\n    this.labelGroup.append(pieCalloutLabels);\n    this.labelGroup.append(pieSectorLabels);\n    this.labelGroup.append(innerLabels);\n    this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n    this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n    this.innerLabelsSelection = Selection.select(innerLabels, Text);\n    this.innerCircleSelection = Selection.select(this.innerCircleGroup, Circle);\n  }\n  addChartEventListeners() {\n    var _a;\n    this.destroyFns.push(\n      (_a = this.ctx.chartEventManager) == null ? void 0 : _a.addListener(\"legend-item-click\", (event) => this.onLegendItemClick(event))\n    );\n  }\n  get visible() {\n    return super.visible && (this.seriesItemEnabled.length === 0 || this.seriesItemEnabled.some((visible) => visible));\n  }\n  nodeFactory() {\n    return new Sector();\n  }\n  getSeriesDomain(direction) {\n    if (direction === \"x\" /* X */) {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  }\n  processData(dataController) {\n    return __async(this, null, function* () {\n      var _a, _b, _c, _d, _e;\n      if (this.data == null || !this.properties.isValid()) {\n        return;\n      }\n      let { data } = this;\n      const { visible, seriesItemEnabled } = this;\n      const { angleKey, radiusKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n      const animationEnabled = !this.ctx.animationManager.isSkipped();\n      const extraKeyProps = [];\n      const extraProps = [];\n      if (legendItemKey) {\n        extraKeyProps.push(keyProperty(legendItemKey, \"band\", { id: `legendItemKey` }));\n      } else if (calloutLabelKey) {\n        extraKeyProps.push(keyProperty(calloutLabelKey, \"band\", { id: `calloutLabelKey` }));\n      } else if (sectorLabelKey) {\n        extraKeyProps.push(keyProperty(sectorLabelKey, \"band\", { id: `sectorLabelKey` }));\n      }\n      const radiusScaleType = this.radiusScale.type;\n      const angleScaleType = this.radiusScale.type;\n      if (radiusKey) {\n        extraProps.push(\n          rangedValueProperty(radiusKey, {\n            id: \"radiusValue\",\n            min: (_a = this.properties.radiusMin) != null ? _a : 0,\n            max: this.properties.radiusMax\n          }),\n          valueProperty(radiusKey, radiusScaleType, { id: `radiusRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo(\n            { id: \"radiusValue\" },\n            [0, 1],\n            1,\n            (_b = this.properties.radiusMin) != null ? _b : 0,\n            this.properties.radiusMax\n          )\n        );\n      }\n      if (calloutLabelKey) {\n        extraProps.push(valueProperty(calloutLabelKey, \"band\", { id: `calloutLabelValue` }));\n      }\n      if (sectorLabelKey) {\n        extraProps.push(valueProperty(sectorLabelKey, \"band\", { id: `sectorLabelValue` }));\n      }\n      if (legendItemKey) {\n        extraProps.push(valueProperty(legendItemKey, \"band\", { id: `legendItemValue` }));\n      }\n      if (animationEnabled && this.processedData && extraKeyProps.length > 0) {\n        extraProps.push(diff(this.processedData));\n      }\n      extraProps.push(animationValidation());\n      data = data.map((d, idx) => visible && seriesItemEnabled[idx] ? d : __spreadProps(__spreadValues({}, d), { [angleKey]: 0 }));\n      yield this.requestDataModel(dataController, data, {\n        props: [\n          ...extraKeyProps,\n          accumulativeValueProperty(angleKey, angleScaleType, { id: `angleValue`, onlyPositive: true }),\n          valueProperty(angleKey, angleScaleType, { id: `angleRaw` }),\n          // Raw value pass-through.\n          normalisePropertyTo({ id: \"angleValue\" }, [0, 1], 0, 0),\n          ...extraProps\n        ]\n      });\n      for (const valueDef of (_e = (_d = (_c = this.processedData) == null ? void 0 : _c.defs) == null ? void 0 : _d.values) != null ? _e : []) {\n        const { id, missing, property } = valueDef;\n        const missCount = getMissCount(this, missing);\n        if (id !== \"angleRaw\" && missCount > 0) {\n          Logger.warnOnce(\n            `no value was found for the key '${String(property)}' on ${missCount} data element${missCount > 1 ? \"s\" : \"\"}`\n          );\n        }\n      }\n      this.animationState.transition(\"updateData\");\n    });\n  }\n  maybeRefreshNodeData() {\n    return __async(this, null, function* () {\n      var _a;\n      if (!this.nodeDataRefresh)\n        return;\n      const { nodeData = [] } = (_a = yield this.createNodeData()) != null ? _a : {};\n      this.nodeData = nodeData;\n      this.nodeDataRefresh = false;\n    });\n  }\n  getProcessedDataIndexes(dataModel) {\n    const angleIdx = dataModel.resolveProcessedDataIndexById(this, `angleValue`);\n    const radiusIdx = this.properties.radiusKey ? dataModel.resolveProcessedDataIndexById(this, `radiusValue`) : -1;\n    const calloutLabelIdx = this.properties.calloutLabelKey ? dataModel.resolveProcessedDataIndexById(this, `calloutLabelValue`) : -1;\n    const sectorLabelIdx = this.properties.sectorLabelKey ? dataModel.resolveProcessedDataIndexById(this, `sectorLabelValue`) : -1;\n    const legendItemIdx = this.properties.legendItemKey ? dataModel.resolveProcessedDataIndexById(this, `legendItemValue`) : -1;\n    return { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx };\n  }\n  createNodeData() {\n    return __async(this, null, function* () {\n      const { id: seriesId, processedData, dataModel, angleScale } = this;\n      const { rotation } = this.properties;\n      if (!processedData || !dataModel || processedData.type !== \"ungrouped\")\n        return;\n      const { angleIdx, radiusIdx, calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n      let currentStart = 0;\n      let sum2 = 0;\n      const nodeData = processedData.data.map((group2, index) => {\n        var _a;\n        const { datum, values } = group2;\n        const currentValue = values[angleIdx];\n        const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        currentStart = currentValue;\n        sum2 += currentValue;\n        const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n        const span = Math.abs(endAngle - startAngle);\n        const midAngle = startAngle + span / 2;\n        const angleValue = values[angleIdx + 1];\n        const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) != null ? _a : 1 : 1;\n        const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : void 0;\n        const legendItemValue = legendItemIdx >= 0 ? values[legendItemIdx] : void 0;\n        const labels = this.getLabels(\n          datum,\n          midAngle,\n          span,\n          true,\n          values[calloutLabelIdx],\n          values[sectorLabelIdx],\n          legendItemValue\n        );\n        const sectorFormat = this.getSectorFormat(datum, index, false);\n        return __spreadValues({\n          itemId: index,\n          series: this,\n          datum,\n          index,\n          angleValue,\n          midAngle,\n          midCos: Math.cos(midAngle),\n          midSin: Math.sin(midAngle),\n          startAngle,\n          endAngle,\n          sectorFormat,\n          radiusValue,\n          radius,\n          innerRadius: Math.max(this.radiusScale.convert(0), 0),\n          outerRadius: Math.max(this.radiusScale.convert(radius), 0),\n          legendItemValue\n        }, labels);\n      });\n      this.zerosumOuterRing.visible = sum2 === 0;\n      const { innerRadiusRatio = 1 } = this.properties;\n      this.zerosumInnerRing.visible = sum2 === 0 && innerRadiusRatio !== 1 && innerRadiusRatio > 0;\n      return { itemId: seriesId, nodeData, labelData: nodeData };\n    });\n  }\n  getLabels(datum, midAngle, span, skipDisabled, calloutLabelValue, sectorLabelValue, legendItemValue) {\n    const { calloutLabel, sectorLabel, legendItemKey } = this.properties;\n    const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.properties.calloutLabelKey : void 0;\n    const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.properties.sectorLabelKey : void 0;\n    if (!calloutLabelKey && !sectorLabelKey && !legendItemKey) {\n      return {};\n    }\n    const labelFormatterParams = {\n      datum,\n      angleKey: this.properties.angleKey,\n      angleName: this.properties.angleName,\n      radiusKey: this.properties.radiusKey,\n      radiusName: this.properties.radiusName,\n      calloutLabelKey: this.properties.calloutLabelKey,\n      calloutLabelName: this.properties.calloutLabelName,\n      sectorLabelKey: this.properties.sectorLabelKey,\n      sectorLabelName: this.properties.sectorLabelName,\n      legendItemKey: this.properties.legendItemKey\n    };\n    const result = {};\n    if (calloutLabelKey && span > toRadians(calloutLabel.minAngle)) {\n      result.calloutLabel = __spreadProps(__spreadValues({}, this.getTextAlignment(midAngle)), {\n        text: this.getLabelText(calloutLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: calloutLabelValue\n        })),\n        hidden: false,\n        collisionTextAlign: void 0,\n        collisionOffsetY: 0,\n        box: void 0\n      });\n    }\n    if (sectorLabelKey) {\n      result.sectorLabel = {\n        text: this.getLabelText(sectorLabel, __spreadProps(__spreadValues({}, labelFormatterParams), {\n          value: sectorLabelValue\n        }))\n      };\n    }\n    if (legendItemKey != null && legendItemValue != null) {\n      result.legendItem = { key: legendItemKey, text: legendItemValue };\n    }\n    return result;\n  }\n  getTextAlignment(midAngle) {\n    const quadrantTextOpts = [\n      { textAlign: \"center\", textBaseline: \"bottom\" },\n      { textAlign: \"left\", textBaseline: \"middle\" },\n      { textAlign: \"center\", textBaseline: \"hanging\" },\n      { textAlign: \"right\", textBaseline: \"middle\" }\n    ];\n    const midAngle180 = normalizeAngle180(midAngle);\n    const quadrantStart = -0.75 * Math.PI;\n    const quadrantOffset = midAngle180 - quadrantStart;\n    const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n    const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n    return quadrantTextOpts[quadrantIndex];\n  }\n  getSectorFormat(datum, formatIndex, highlight) {\n    var _a, _b, _c, _d, _e;\n    const { callbackCache, highlightManager } = this.ctx;\n    const { angleKey, radiusKey, fills, strokes, formatter, sectorSpacing, __BACKGROUND_COLOR_DO_NOT_USE } = this.properties;\n    const highlightedDatum = highlightManager.getActiveHighlight();\n    const isDatumHighlighted = highlight && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && formatIndex === highlightedDatum.itemId;\n    let defaultStroke = strokes[formatIndex % strokes.length];\n    if (sectorSpacing != null) {\n      defaultStroke != null ? defaultStroke : defaultStroke = __BACKGROUND_COLOR_DO_NOT_USE;\n    }\n    const { fill, fillOpacity, stroke, strokeWidth, strokeOpacity } = mergeDefaults(\n      isDatumHighlighted && this.properties.highlightStyle.item,\n      {\n        fill: fills.length > 0 ? fills[formatIndex % fills.length] : void 0,\n        fillOpacity: this.properties.fillOpacity,\n        stroke: defaultStroke,\n        strokeWidth: this.getStrokeWidth(this.properties.strokeWidth),\n        strokeOpacity: this.getOpacity()\n      }\n    );\n    let format2;\n    if (formatter) {\n      format2 = callbackCache.call(formatter, {\n        datum,\n        angleKey,\n        radiusKey,\n        fill,\n        stroke,\n        fills,\n        strokes,\n        strokeWidth,\n        highlighted: isDatumHighlighted,\n        seriesId: this.id\n      });\n    }\n    return {\n      fill: (_a = format2 == null ? void 0 : format2.fill) != null ? _a : fill,\n      fillOpacity: (_b = format2 == null ? void 0 : format2.fillOpacity) != null ? _b : fillOpacity,\n      stroke: (_c = format2 == null ? void 0 : format2.stroke) != null ? _c : stroke,\n      strokeWidth: (_d = format2 == null ? void 0 : format2.strokeWidth) != null ? _d : strokeWidth,\n      strokeOpacity: (_e = format2 == null ? void 0 : format2.strokeOpacity) != null ? _e : strokeOpacity\n    };\n  }\n  getInnerRadius() {\n    const { radius } = this;\n    const { innerRadiusRatio = 1, innerRadiusOffset = 0 } = this.properties;\n    const innerRadius = radius * innerRadiusRatio + innerRadiusOffset;\n    if (innerRadius === radius || innerRadius < 0) {\n      return 0;\n    }\n    return innerRadius;\n  }\n  getOuterRadius() {\n    return Math.max(this.radius * this.properties.outerRadiusRatio + this.properties.outerRadiusOffset, 0);\n  }\n  updateRadiusScale(resize) {\n    const newRange = [this.getInnerRadius(), this.getOuterRadius()];\n    this.radiusScale.range = newRange;\n    if (resize) {\n      this.previousRadiusScale.range = newRange;\n    }\n    this.nodeData = this.nodeData.map((_a) => {\n      var _b = _a, { radius } = _b, d = __objRest(_b, [\"radius\"]);\n      return __spreadProps(__spreadValues({}, d), {\n        radius,\n        innerRadius: Math.max(this.radiusScale.convert(0), 0),\n        outerRadius: Math.max(this.radiusScale.convert(radius), 0)\n      });\n    });\n  }\n  getTitleTranslationY() {\n    var _a, _b;\n    const outerRadius = Math.max(0, this.radiusScale.range[1]);\n    if (outerRadius === 0) {\n      return NaN;\n    }\n    const spacing = (_b = (_a = this.properties.title) == null ? void 0 : _a.spacing) != null ? _b : 0;\n    const titleOffset = 2 + spacing;\n    const dy = Math.max(0, -outerRadius);\n    return -outerRadius - titleOffset - dy;\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      const { title } = this.properties;\n      const newNodeDataDependencies = {\n        seriesRectWidth: seriesRect == null ? void 0 : seriesRect.width,\n        seriesRectHeight: seriesRect == null ? void 0 : seriesRect.height\n      };\n      const resize = jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null;\n      if (resize) {\n        this._nodeDataDependencies = newNodeDataDependencies;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateTitleNodes();\n      this.updateRadiusScale(resize);\n      this.contentGroup.translationX = this.centerX;\n      this.contentGroup.translationY = this.centerY;\n      this.highlightGroup.translationX = this.centerX;\n      this.highlightGroup.translationY = this.centerY;\n      this.backgroundGroup.translationX = this.centerX;\n      this.backgroundGroup.translationY = this.centerY;\n      if (this.labelGroup) {\n        this.labelGroup.translationX = this.centerX;\n        this.labelGroup.translationY = this.centerY;\n      }\n      if (title) {\n        const dy = this.getTitleTranslationY();\n        const titleBox = title.node.computeBBox();\n        title.node.visible = title.enabled && isFinite(dy) && !this.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n        title.node.translationY = isFinite(dy) ? dy : 0;\n      }\n      for (const circle of [this.zerosumInnerRing, this.zerosumOuterRing]) {\n        circle.fillOpacity = 0;\n        circle.stroke = this.properties.calloutLabel.color;\n        circle.strokeWidth = 1;\n        circle.strokeOpacity = 1;\n      }\n      this.updateNodeMidPoint();\n      yield this.updateSelections();\n      yield this.updateNodes(seriesRect);\n    });\n  }\n  updateTitleNodes() {\n    var _a, _b;\n    const { oldTitle } = this;\n    const { title } = this.properties;\n    if (oldTitle !== title) {\n      if (oldTitle) {\n        (_a = this.labelGroup) == null ? void 0 : _a.removeChild(oldTitle.node);\n      }\n      if (title) {\n        title.node.textBaseline = \"bottom\";\n        (_b = this.labelGroup) == null ? void 0 : _b.appendChild(title.node);\n      }\n      this.oldTitle = title;\n    }\n  }\n  updateNodeMidPoint() {\n    this.nodeData.forEach((d) => {\n      const radius = d.innerRadius + (d.outerRadius - d.innerRadius) / 2;\n      d.midPoint = {\n        x: d.midCos * Math.max(0, radius),\n        y: d.midSin * Math.max(0, radius)\n      };\n    });\n  }\n  updateSelections() {\n    return __async(this, null, function* () {\n      yield this.updateGroupSelection();\n      this.updateInnerCircleSelection();\n    });\n  }\n  updateGroupSelection() {\n    return __async(this, null, function* () {\n      const { itemSelection, highlightSelection, calloutLabelSelection, sectorLabelSelection, innerLabelsSelection } = this;\n      const update = (selection, clone) => {\n        let nodeData = this.nodeData;\n        if (clone) {\n          nodeData = nodeData.map((datum) => __spreadProps(__spreadValues({}, datum), { sectorFormat: __spreadValues({}, datum.sectorFormat) }));\n        }\n        selection.update(nodeData, void 0, (datum) => this.getDatumId(datum));\n        if (this.ctx.animationManager.isSkipped()) {\n          selection.cleanup();\n        }\n      };\n      update(itemSelection, false);\n      update(highlightSelection, true);\n      calloutLabelSelection.update(this.nodeData, (group2) => {\n        const line = new Line();\n        line.tag = 0 /* Callout */;\n        line.pointerEvents = 1 /* None */;\n        group2.appendChild(line);\n        const text = new Text();\n        text.tag = 1 /* Label */;\n        text.pointerEvents = 1 /* None */;\n        group2.appendChild(text);\n      });\n      sectorLabelSelection.update(this.nodeData, (node) => {\n        node.pointerEvents = 1 /* None */;\n      });\n      innerLabelsSelection.update(this.properties.innerLabels, (node) => {\n        node.pointerEvents = 1 /* None */;\n      });\n    });\n  }\n  updateInnerCircleSelection() {\n    const { innerCircle } = this.properties;\n    let radius = 0;\n    const innerRadius = this.getInnerRadius();\n    if (innerRadius > 0) {\n      const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n      const antiAliasingPadding = 1;\n      radius = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n    }\n    const datums = innerCircle ? [{ radius }] : [];\n    this.innerCircleSelection.update(datums);\n  }\n  updateNodes(seriesRect) {\n    return __async(this, null, function* () {\n      const highlightedDatum = this.ctx.highlightManager.getActiveHighlight();\n      const isVisible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n      this.rootGroup.visible = isVisible;\n      this.backgroundGroup.visible = isVisible;\n      this.contentGroup.visible = isVisible;\n      this.highlightGroup.visible = isVisible && (highlightedDatum == null ? void 0 : highlightedDatum.series) === this;\n      if (this.labelGroup) {\n        this.labelGroup.visible = isVisible;\n      }\n      this.contentGroup.opacity = this.getOpacity();\n      this.innerCircleSelection.each((node, { radius }) => {\n        var _a, _b;\n        node.setProperties({\n          fill: (_a = this.properties.innerCircle) == null ? void 0 : _a.fill,\n          opacity: (_b = this.properties.innerCircle) == null ? void 0 : _b.fillOpacity,\n          size: radius\n        });\n      });\n      const updateSectorFn = (sector, datum, _index, isDatumHighlighted) => {\n        const format2 = this.getSectorFormat(datum.datum, datum.itemId, isDatumHighlighted);\n        datum.sectorFormat.fill = format2.fill;\n        datum.sectorFormat.stroke = format2.stroke;\n        const animationDisabled = this.ctx.animationManager.isSkipped();\n        if (animationDisabled) {\n          sector.startAngle = datum.startAngle;\n          sector.endAngle = datum.endAngle;\n          sector.innerRadius = datum.innerRadius;\n          sector.outerRadius = datum.outerRadius;\n        }\n        if (isDatumHighlighted || animationDisabled) {\n          sector.fill = format2.fill;\n          sector.stroke = format2.stroke;\n        }\n        sector.strokeWidth = format2.strokeWidth;\n        sector.fillOpacity = format2.fillOpacity;\n        sector.strokeOpacity = this.properties.strokeOpacity;\n        sector.lineDash = this.properties.lineDash;\n        sector.lineDashOffset = this.properties.lineDashOffset;\n        sector.fillShadow = this.properties.shadow;\n        sector.cornerRadius = this.properties.cornerRadius;\n        sector.inset = this.properties.sectorSpacing != null ? (this.properties.sectorSpacing + (format2.stroke != null ? format2.strokeWidth : 0)) / 2 : 0;\n        sector.lineJoin = this.properties.sectorSpacing != null ? \"miter\" : \"round\";\n      };\n      this.itemSelection.each((node, datum, index) => updateSectorFn(node, datum, index, false));\n      this.highlightSelection.each((node, datum, index) => {\n        const isDatumHighlighted = (highlightedDatum == null ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n        updateSectorFn(node, datum, index, true);\n        node.visible = isDatumHighlighted;\n      });\n      this.updateCalloutLineNodes();\n      this.updateCalloutLabelNodes(seriesRect);\n      this.updateSectorLabelNodes();\n      this.updateInnerLabelNodes();\n      this.updateZerosumRings();\n      this.animationState.transition(\"update\");\n    });\n  }\n  updateCalloutLineNodes() {\n    var _a;\n    const { calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const calloutStrokeWidth = calloutLine.strokeWidth;\n    const calloutColors = (_a = calloutLine.colors) != null ? _a : this.properties.strokes;\n    const { offset: offset4 } = this.properties.calloutLabel;\n    this.calloutLabelSelection.selectByTag(0 /* Callout */).forEach((line, index) => {\n      var _a2;\n      const datum = line.datum;\n      const { calloutLabel: label, outerRadius } = datum;\n      if ((label == null ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n        line.visible = true;\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.fill = void 0;\n        const x1 = datum.midCos * outerRadius;\n        const y1 = datum.midSin * outerRadius;\n        let x2 = datum.midCos * (outerRadius + calloutLength);\n        let y2 = datum.midSin * (outerRadius + calloutLength);\n        const isMoved = (_a2 = label.collisionTextAlign) != null ? _a2 : label.collisionOffsetY !== 0;\n        if (isMoved && label.box != null) {\n          const box = label.box;\n          let cx = x2;\n          let cy = y2;\n          if (x2 < box.x) {\n            cx = box.x;\n          } else if (x2 > box.x + box.width) {\n            cx = box.x + box.width;\n          }\n          if (y2 < box.y) {\n            cy = box.y;\n          } else if (y2 > box.y + box.height) {\n            cy = box.y + box.height;\n          }\n          const dx = cx - x2;\n          const dy = cy - y2;\n          const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n          const paddedLength = length - offset4;\n          if (paddedLength > 0) {\n            x2 = x2 + dx * paddedLength / length;\n            y2 = y2 + dy * paddedLength / length;\n          }\n        }\n        line.x1 = x1;\n        line.y1 = y1;\n        line.x2 = x2;\n        line.y2 = y2;\n      } else {\n        line.visible = false;\n      }\n    });\n  }\n  getLabelOverflow(text, box, seriesRect) {\n    const seriesLeft = seriesRect.x - this.centerX;\n    const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n    const seriesTop = seriesRect.y - this.centerY;\n    const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n    const errPx = 1;\n    let visibleTextPart = 1;\n    if (box.x + errPx < seriesLeft) {\n      visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n    } else if (box.x + box.width - errPx > seriesRight) {\n      visibleTextPart = (seriesRight - box.x) / box.width;\n    }\n    const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n    const textLength = visibleTextPart === 1 ? text.length : Math.floor(text.length * visibleTextPart) - 1;\n    const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n    return { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow };\n  }\n  bboxIntersectsSurroundingSeries(box, dx = 0, dy = 0) {\n    const { surroundingRadius } = this;\n    if (surroundingRadius == null) {\n      return false;\n    }\n    const corners = [\n      { x: box.x + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + dy },\n      { x: box.x + box.width + dx, y: box.y + box.height + dy },\n      { x: box.x + dx, y: box.y + box.height + dy }\n    ];\n    const sur2 = __pow(surroundingRadius, 2);\n    return corners.some((corner) => __pow(corner.x, 2) + __pow(corner.y, 2) > sur2);\n  }\n  computeCalloutLabelCollisionOffsets() {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const { offset: offset4, minSpacing } = calloutLabel;\n    const innerRadius = radiusScale.convert(0);\n    const shouldSkip = (datum) => {\n      const label = datum.calloutLabel;\n      return !label || datum.outerRadius === 0;\n    };\n    const fullData = this.nodeData;\n    const data = this.nodeData.filter((t) => !shouldSkip(t));\n    data.forEach((datum) => {\n      const label = datum.calloutLabel;\n      if (label == null)\n        return;\n      label.hidden = false;\n      label.collisionTextAlign = void 0;\n      label.collisionOffsetY = 0;\n    });\n    if (data.length <= 1) {\n      return;\n    }\n    const leftLabels = data.filter((d) => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n    const rightLabels = data.filter((d) => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n    const topLabels = data.filter((d) => {\n      var _a;\n      return d.midSin < 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const bottomLabels = data.filter((d) => {\n      var _a;\n      return d.midSin >= 0 && ((_a = d.calloutLabel) == null ? void 0 : _a.textAlign) === \"center\";\n    }).sort((a, b) => a.midCos - b.midCos);\n    const tempTextNode = new Text();\n    const getTextBBox = (datum) => {\n      var _a;\n      const label = datum.calloutLabel;\n      if (label == null)\n        return new BBox(0, 0, 0, 0);\n      const labelRadius = datum.outerRadius + calloutLine.length + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign({\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      });\n      return tempTextNode.computeBBox();\n    };\n    const avoidNeighbourYCollision = (label, next, direction) => {\n      const box = getTextBBox(label).grow(minSpacing / 2);\n      const other = getTextBBox(next).grow(minSpacing / 2);\n      const collidesOrBehind = box.x < other.x + other.width && box.x + box.width > other.x && (direction === \"to-top\" ? box.y < other.y + other.height : box.y + box.height > other.y);\n      if (collidesOrBehind) {\n        const dy = direction === \"to-top\" ? box.y - other.y - other.height : box.y + box.height - other.y;\n        next.calloutLabel.collisionOffsetY = dy;\n      }\n    };\n    const avoidYCollisions = (labels) => {\n      const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n      const midIndex = labels.indexOf(midLabel);\n      for (let i = midIndex - 1; i >= 0; i--) {\n        const prev = labels[i + 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-top\");\n      }\n      for (let i = midIndex + 1; i < labels.length; i++) {\n        const prev = labels[i - 1];\n        const next = labels[i];\n        avoidNeighbourYCollision(prev, next, \"to-bottom\");\n      }\n    };\n    const avoidXCollisions = (labels) => {\n      const labelsCollideLabelsByY = data.some((datum) => datum.calloutLabel.collisionOffsetY !== 0);\n      const boxes = labels.map((label) => getTextBBox(label));\n      const paddedBoxes = boxes.map((box) => box.clone().grow(minSpacing / 2));\n      let labelsCollideLabelsByX = false;\n      for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n        const box = paddedBoxes[i];\n        for (let j = i + 1; j < labels.length; j++) {\n          const other = paddedBoxes[j];\n          if (box.collidesBBox(other)) {\n            labelsCollideLabelsByX = true;\n            break;\n          }\n        }\n      }\n      const sectors = fullData.map((datum) => {\n        const { startAngle, endAngle, outerRadius } = datum;\n        return { startAngle, endAngle, innerRadius, outerRadius };\n      });\n      const labelsCollideSectors = boxes.some((box) => {\n        return sectors.some((sector) => boxCollidesSector(box, sector));\n      });\n      if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n        return;\n      }\n      labels.filter((d) => d.calloutLabel.textAlign === \"center\").forEach((d) => {\n        const label = d.calloutLabel;\n        if (d.midCos < 0) {\n          label.collisionTextAlign = \"right\";\n        } else if (d.midCos > 0) {\n          label.collisionTextAlign = \"left\";\n        } else {\n          label.collisionTextAlign = \"center\";\n        }\n      });\n    };\n    avoidYCollisions(leftLabels);\n    avoidYCollisions(rightLabels);\n    avoidXCollisions(topLabels);\n    avoidXCollisions(bottomLabels);\n  }\n  updateCalloutLabelNodes(seriesRect) {\n    const { radiusScale } = this;\n    const { calloutLabel, calloutLine } = this.properties;\n    const calloutLength = calloutLine.length;\n    const { offset: offset4, color } = calloutLabel;\n    const tempTextNode = new Text();\n    this.calloutLabelSelection.selectByTag(1 /* Label */).forEach((text) => {\n      var _a;\n      const { datum } = text;\n      const label = datum.calloutLabel;\n      const radius = radiusScale.convert(datum.radius);\n      const outerRadius = Math.max(0, radius);\n      if (!(label == null ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n        text.visible = false;\n        return;\n      }\n      const labelRadius = outerRadius + calloutLength + offset4;\n      const x = datum.midCos * labelRadius;\n      const y = datum.midSin * labelRadius + label.collisionOffsetY;\n      const align = {\n        textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n        textBaseline: label.textBaseline\n      };\n      tempTextNode.text = label.text;\n      tempTextNode.x = x;\n      tempTextNode.y = y;\n      tempTextNode.setFont(this.properties.calloutLabel);\n      tempTextNode.setAlign(align);\n      const box = tempTextNode.computeBBox();\n      let displayText = label.text;\n      let visible = true;\n      if (calloutLabel.avoidCollisions) {\n        const { textLength, hasVerticalOverflow } = this.getLabelOverflow(label.text, box, seriesRect);\n        displayText = label.text.length === textLength ? label.text : `${label.text.substring(0, textLength)}\\u2026`;\n        visible = !hasVerticalOverflow;\n      }\n      text.text = displayText;\n      text.x = x;\n      text.y = y;\n      text.setFont(this.properties.calloutLabel);\n      text.setAlign(align);\n      text.fill = color;\n      text.visible = visible;\n    });\n  }\n  computeLabelsBBox(options, seriesRect) {\n    return __async(this, null, function* () {\n      const { calloutLabel, calloutLine } = this.properties;\n      const calloutLength = calloutLine.length;\n      const { offset: offset4, maxCollisionOffset, minSpacing } = calloutLabel;\n      if (!calloutLabel.avoidCollisions) {\n        return null;\n      }\n      yield this.maybeRefreshNodeData();\n      this.updateRadiusScale(false);\n      this.computeCalloutLabelCollisionOffsets();\n      const textBoxes = [];\n      const text = new Text();\n      let titleBox;\n      const { title } = this.properties;\n      if ((title == null ? void 0 : title.text) && title.enabled) {\n        const dy = this.getTitleTranslationY();\n        if (isFinite(dy)) {\n          text.text = title.text;\n          text.x = 0;\n          text.y = dy;\n          text.setFont(title);\n          text.setAlign({\n            textBaseline: \"bottom\",\n            textAlign: \"center\"\n          });\n          titleBox = text.computeBBox();\n          textBoxes.push(titleBox);\n        }\n      }\n      this.nodeData.forEach((datum) => {\n        var _a;\n        const label = datum.calloutLabel;\n        if (!label || datum.outerRadius === 0) {\n          return null;\n        }\n        const labelRadius = datum.outerRadius + calloutLength + offset4;\n        const x = datum.midCos * labelRadius;\n        const y = datum.midSin * labelRadius + label.collisionOffsetY;\n        text.text = label.text;\n        text.x = x;\n        text.y = y;\n        text.setFont(this.properties.calloutLabel);\n        text.setAlign({\n          textAlign: (_a = label.collisionTextAlign) != null ? _a : label.textAlign,\n          textBaseline: label.textBaseline\n        });\n        const box = text.computeBBox();\n        label.box = box;\n        if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n          label.hidden = true;\n          return;\n        }\n        if (titleBox) {\n          const seriesTop = seriesRect.y - this.centerY;\n          const titleCleanArea = new BBox(\n            titleBox.x - minSpacing,\n            seriesTop,\n            titleBox.width + 2 * minSpacing,\n            titleBox.y + titleBox.height + minSpacing - seriesTop\n          );\n          if (box.collidesBBox(titleCleanArea)) {\n            label.hidden = true;\n            return;\n          }\n        }\n        if (options.hideWhenNecessary) {\n          const { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow } = this.getLabelOverflow(\n            label.text,\n            box,\n            seriesRect\n          );\n          const isTooShort = label.text.length > 2 && textLength < 2;\n          if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n            label.hidden = true;\n            return;\n          }\n        }\n        label.hidden = false;\n        textBoxes.push(box);\n      });\n      if (textBoxes.length === 0) {\n        return null;\n      }\n      return BBox.merge(textBoxes);\n    });\n  }\n  updateSectorLabelNodes() {\n    const { radiusScale } = this;\n    const innerRadius = radiusScale.convert(0);\n    const { fontSize, fontStyle, fontWeight, fontFamily, positionOffset, positionRatio, color } = this.properties.sectorLabel;\n    const isDonut = innerRadius > 0;\n    const singleVisibleSector = this.seriesItemEnabled.filter(Boolean).length === 1;\n    this.sectorLabelSelection.each((text, datum) => {\n      const { sectorLabel, outerRadius } = datum;\n      let isTextVisible = false;\n      if (sectorLabel && outerRadius !== 0) {\n        const labelRadius = innerRadius * (1 - positionRatio) + outerRadius * positionRatio + positionOffset;\n        text.fill = color;\n        text.fontStyle = fontStyle;\n        text.fontWeight = fontWeight;\n        text.fontSize = fontSize;\n        text.fontFamily = fontFamily;\n        text.text = sectorLabel.text;\n        const shouldPutTextInCenter = !isDonut && singleVisibleSector;\n        if (shouldPutTextInCenter) {\n          text.x = 0;\n          text.y = 0;\n        } else {\n          text.x = datum.midCos * labelRadius;\n          text.y = datum.midSin * labelRadius;\n        }\n        text.textAlign = \"center\";\n        text.textBaseline = \"middle\";\n        const bbox = text.computeBBox();\n        const corners = [\n          [bbox.x, bbox.y],\n          [bbox.x + bbox.width, bbox.y],\n          [bbox.x + bbox.width, bbox.y + bbox.height],\n          [bbox.x, bbox.y + bbox.height]\n        ];\n        const { startAngle, endAngle } = datum;\n        const sectorBounds = { startAngle, endAngle, innerRadius, outerRadius };\n        if (corners.every(([x, y]) => isPointInSector(x, y, sectorBounds))) {\n          isTextVisible = true;\n        }\n      }\n      text.visible = isTextVisible;\n    });\n  }\n  updateInnerLabelNodes() {\n    const textBBoxes = [];\n    const margins = [];\n    this.innerLabelsSelection.each((text, datum) => {\n      const { fontStyle, fontWeight, fontSize, fontFamily, color, margin = 2 } = datum;\n      text.fontStyle = fontStyle;\n      text.fontWeight = fontWeight;\n      text.fontSize = fontSize;\n      text.fontFamily = fontFamily;\n      text.text = datum.text;\n      text.x = 0;\n      text.y = 0;\n      text.fill = color;\n      text.textAlign = \"center\";\n      text.textBaseline = \"alphabetic\";\n      textBBoxes.push(text.computeBBox());\n      margins.push(margin);\n    });\n    const getMarginTop = (index) => index === 0 ? 0 : margins[index];\n    const getMarginBottom = (index) => index === margins.length - 1 ? 0 : margins[index];\n    const totalHeight = textBBoxes.reduce((sum2, bbox, i) => {\n      return sum2 + bbox.height + getMarginTop(i) + getMarginBottom(i);\n    }, 0);\n    const totalWidth = Math.max(...textBBoxes.map((bbox) => bbox.width));\n    const innerRadius = this.getInnerRadius();\n    const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n    const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n    const textBottoms = [];\n    for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n      const bbox = textBBoxes[i];\n      const bottom = bbox.height + prev + getMarginTop(i);\n      textBottoms.push(bottom);\n      prev = bottom + getMarginBottom(i);\n    }\n    this.innerLabelsSelection.each((text, _datum, index) => {\n      text.y = textBottoms[index];\n      text.visible = labelsVisible;\n    });\n  }\n  updateZerosumRings() {\n    this.zerosumOuterRing.size = this.getOuterRadius() * 2;\n    this.zerosumInnerRing.size = this.getInnerRadius() * 2;\n  }\n  getDatumLegendName(nodeDatum) {\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    const { sectorLabel, calloutLabel, legendItem } = nodeDatum;\n    if (legendItemKey && legendItem !== void 0) {\n      return legendItem.text;\n    } else if (calloutLabelKey && calloutLabelKey !== angleKey && (calloutLabel == null ? void 0 : calloutLabel.text) !== void 0) {\n      return calloutLabel.text;\n    } else if (sectorLabelKey && sectorLabelKey !== angleKey && (sectorLabel == null ? void 0 : sectorLabel.text) !== void 0) {\n      return sectorLabel.text;\n    }\n  }\n  pickNodeClosestDatum(point) {\n    return pickByMatchingAngle(this, point);\n  }\n  getTooltipHtml(nodeDatum) {\n    var _a;\n    if (!this.properties.isValid()) {\n      return EMPTY_TOOLTIP_CONTENT;\n    }\n    const {\n      datum,\n      angleValue,\n      sectorFormat: { fill: color },\n      itemId\n    } = nodeDatum;\n    const title = sanitizeHtml((_a = this.properties.title) == null ? void 0 : _a.text);\n    const content = isFiniteNumber(angleValue) ? toFixed(angleValue) : String(angleValue);\n    const labelText = this.getDatumLegendName(nodeDatum);\n    return this.properties.tooltip.toTooltipHtml(\n      {\n        title: title != null ? title : labelText,\n        content: title && labelText ? `${labelText}: ${content}` : content,\n        backgroundColor: color\n      },\n      {\n        datum,\n        itemId,\n        title,\n        color,\n        seriesId: this.id,\n        angleKey: this.properties.angleKey,\n        angleName: this.properties.angleName,\n        radiusKey: this.properties.radiusKey,\n        radiusName: this.properties.radiusName,\n        calloutLabelKey: this.properties.calloutLabelKey,\n        calloutLabelName: this.properties.calloutLabelName,\n        sectorLabelKey: this.properties.sectorLabelKey,\n        sectorLabelName: this.properties.sectorLabelName,\n        legendItemKey: this.properties.legendItemKey\n      }\n    );\n  }\n  getLegendData(legendType) {\n    var _a, _b, _c, _d, _e;\n    const { visible, processedData, dataModel } = this;\n    if (!dataModel || !(processedData == null ? void 0 : processedData.data.length) || legendType !== \"category\") {\n      return [];\n    }\n    const { angleKey, calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!legendItemKey && (!calloutLabelKey || calloutLabelKey === angleKey) && (!sectorLabelKey || sectorLabelKey === angleKey)) {\n      return [];\n    }\n    const { calloutLabelIdx, sectorLabelIdx, legendItemIdx } = this.getProcessedDataIndexes(dataModel);\n    const titleText = ((_a = this.properties.title) == null ? void 0 : _a.showInLegend) && this.properties.title.text;\n    const legendData = [];\n    for (let index = 0; index < processedData.data.length; index++) {\n      const { datum, values } = processedData.data[index];\n      const labelParts = [];\n      if (titleText) {\n        labelParts.push(titleText);\n      }\n      const labels = this.getLabels(\n        datum,\n        2 * Math.PI,\n        2 * Math.PI,\n        false,\n        values[calloutLabelIdx],\n        values[sectorLabelIdx],\n        values[legendItemIdx]\n      );\n      if (legendItemKey && labels.legendItem !== void 0) {\n        labelParts.push(labels.legendItem.text);\n      } else if (calloutLabelKey && calloutLabelKey !== angleKey && ((_b = labels.calloutLabel) == null ? void 0 : _b.text) !== void 0) {\n        labelParts.push((_c = labels.calloutLabel) == null ? void 0 : _c.text);\n      } else if (sectorLabelKey && sectorLabelKey !== angleKey && ((_d = labels.sectorLabel) == null ? void 0 : _d.text) !== void 0) {\n        labelParts.push((_e = labels.sectorLabel) == null ? void 0 : _e.text);\n      }\n      if (labelParts.length === 0)\n        continue;\n      const sectorFormat = this.getSectorFormat(datum, index, false);\n      legendData.push({\n        legendType: \"category\",\n        id: this.id,\n        itemId: index,\n        seriesId: this.id,\n        enabled: visible && this.seriesItemEnabled[index],\n        label: {\n          text: labelParts.join(\" - \")\n        },\n        marker: {\n          fill: sectorFormat.fill,\n          stroke: sectorFormat.stroke,\n          fillOpacity: this.properties.fillOpacity,\n          strokeOpacity: this.properties.strokeOpacity,\n          strokeWidth: this.properties.strokeWidth\n        },\n        legendItemName: legendItemKey != null ? datum[legendItemKey] : void 0\n      });\n    }\n    return legendData;\n  }\n  onLegendItemClick(event) {\n    const { enabled, itemId, series, legendItemName } = event;\n    if (series.id === this.id) {\n      this.toggleSeriesItem(itemId, enabled);\n    } else if (legendItemName != null) {\n      this.toggleOtherSeriesItems(legendItemName, enabled);\n    }\n  }\n  toggleSeriesItem(itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.nodeDataRefresh = true;\n  }\n  toggleOtherSeriesItems(legendItemName, enabled) {\n    var _a;\n    if (!this.properties.legendItemKey || !this.dataModel) {\n      return;\n    }\n    const legendItemIdx = this.dataModel.resolveProcessedDataIndexById(this, `legendItemValue`);\n    (_a = this.processedData) == null ? void 0 : _a.data.forEach(({ values }, datumItemId) => {\n      if (values[legendItemIdx] === legendItemName) {\n        this.toggleSeriesItem(datumItemId, enabled);\n      }\n    });\n  }\n  animateEmptyUpdateReady(_data) {\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      true,\n      this.properties.rotation,\n      this.radiusScale,\n      this.previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [this.itemSelection, this.highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateWaitingUpdateReady() {\n    var _a, _b, _c, _d, _e, _f;\n    const { itemSelection, highlightSelection, processedData, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const dataDiff = (_a = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _a.diff;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    const supportedDiff = ((_b = dataDiff == null ? void 0 : dataDiff.moved.size) != null ? _b : 0) === 0;\n    const hasKeys = ((_c = processedData == null ? void 0 : processedData.defs.keys.length) != null ? _c : 0) > 0;\n    const hasUniqueKeys = (_f = (_e = (_d = processedData == null ? void 0 : processedData.reduced) == null ? void 0 : _d.animationValidation) == null ? void 0 : _e.uniqueKeys) != null ? _f : true;\n    if (!supportedDiff || !hasKeys || !hasUniqueKeys) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(\n      this.id,\n      \"nodes\",\n      animationManager,\n      [itemSelection, highlightSelection],\n      fns.nodes,\n      (_, datum) => this.getDatumId(datum),\n      dataDiff\n    );\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeInAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeInAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeInAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  animateClearingUpdateEmpty() {\n    const { itemSelection, highlightSelection, radiusScale, previousRadiusScale } = this;\n    const { animationManager } = this.ctx;\n    const fns = preparePieSeriesAnimationFunctions(\n      false,\n      this.properties.rotation,\n      radiusScale,\n      previousRadiusScale\n    );\n    fromToMotion(this.id, \"nodes\", animationManager, [itemSelection, highlightSelection], fns.nodes);\n    fromToMotion(this.id, `innerCircle`, animationManager, [this.innerCircleSelection], fns.innerCircle);\n    seriesLabelFadeOutAnimation(this, \"callout\", this.ctx.animationManager, this.calloutLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"sector\", this.ctx.animationManager, this.sectorLabelSelection);\n    seriesLabelFadeOutAnimation(this, \"inner\", this.ctx.animationManager, this.innerLabelsSelection);\n    this.previousRadiusScale.range = this.radiusScale.range;\n  }\n  getDatumIdFromData(datum) {\n    var _a, _b, _c;\n    const { calloutLabelKey, sectorLabelKey, legendItemKey } = this.properties;\n    if (!((_c = (_b = (_a = this.processedData) == null ? void 0 : _a.reduced) == null ? void 0 : _b.animationValidation) == null ? void 0 : _c.uniqueKeys)) {\n      return;\n    }\n    if (legendItemKey) {\n      return datum[legendItemKey];\n    } else if (calloutLabelKey) {\n      return datum[calloutLabelKey];\n    } else if (sectorLabelKey) {\n      return datum[sectorLabelKey];\n    }\n  }\n  getDatumId(datum) {\n    const { index } = datum;\n    const datumId = this.getDatumIdFromData(datum.datum);\n    return datumId != null ? String(datumId) : `${index}`;\n  }\n  onDataChange() {\n    var _a;\n    const { data, seriesItemEnabled } = this;\n    this.seriesItemEnabled = (_a = data == null ? void 0 : data.map((_, index) => {\n      var _a2;\n      return (_a2 = seriesItemEnabled[index]) != null ? _a2 : true;\n    })) != null ? _a : [];\n  }\n  computeFocusBounds(opts) {\n    return computeSectorFocusBounds(this, opts);\n  }\n};\nPieSeries.className = \"PieSeries\";\nPieSeries.type = \"pie\";\n\n// packages/ag-charts-community/src/chart/series/polar/pieSeriesModule.ts\nvar PieSeriesModule = {\n  type: \"series\",\n  optionsKey: \"series[]\",\n  packageType: \"community\",\n  chartTypes: [\"polar\"],\n  identifier: \"pie\",\n  instanceConstructor: PieSeries,\n  themeTemplate: pieTheme,\n  paletteFactory: piePaletteFactory\n};\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarTypes.ts\nvar TOOLBAR_ALIGNMENTS = [\"start\", \"center\", \"end\"];\nvar TOOLBAR_GROUPS = [\"annotations\", \"ranges\", \"zoom\"];\nvar ToolbarPosition = /* @__PURE__ */ ((ToolbarPosition2) => {\n  ToolbarPosition2[\"Top\"] = \"top\";\n  ToolbarPosition2[\"Right\"] = \"right\";\n  ToolbarPosition2[\"Bottom\"] = \"bottom\";\n  ToolbarPosition2[\"Left\"] = \"left\";\n  ToolbarPosition2[\"FloatingTop\"] = \"floating-top\";\n  ToolbarPosition2[\"FloatingBottom\"] = \"floating-bottom\";\n  return ToolbarPosition2;\n})(ToolbarPosition || {});\nvar TOOLBAR_POSITIONS = Object.values(ToolbarPosition);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarProperties.ts\nvar ToolbarGroupProperties = class extends BaseProperties {\n  constructor(onChange, onButtonsChange) {\n    super();\n    this.onChange = onChange;\n    this.onButtonsChange = onButtonsChange;\n    this.align = \"start\";\n    this.position = \"top\" /* Top */;\n  }\n};\n__decorateClass([\n  ObserveChanges((target) => {\n    target.onChange(target.enabled);\n  }),\n  Validate(BOOLEAN)\n], ToolbarGroupProperties.prototype, \"enabled\", 2);\n__decorateClass([\n  ObserveChanges((target) => {\n    target.onChange(target.enabled);\n  }),\n  Validate(UNION([\"start\", \"center\", \"end\"]), { optional: true })\n], ToolbarGroupProperties.prototype, \"align\", 2);\n__decorateClass([\n  ObserveChanges((target) => {\n    target.onChange(target.enabled);\n  }),\n  Validate(UNION([\"top\", \"right\", \"bottom\", \"left\", \"floating-top\", \"floating-bottom\"]), { optional: true })\n], ToolbarGroupProperties.prototype, \"position\", 2);\n__decorateClass([\n  ObserveChanges((target) => {\n    target.onButtonsChange(target.buttons);\n  }),\n  Validate(ARRAY, { optional: true })\n], ToolbarGroupProperties.prototype, \"buttons\", 2);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarStyles.ts\nvar block2 = \"ag-charts-toolbar\";\nvar elements2 = {\n  align: `${block2}__align`,\n  button: `${block2}__button`,\n  icon: `${block2}__icon`,\n  label: `${block2}__label`\n};\nvar modifiers2 = {\n  [\"top\" /* Top */]: `${block2}--top`,\n  [\"right\" /* Right */]: `${block2}--right`,\n  [\"bottom\" /* Bottom */]: `${block2}--bottom`,\n  [\"left\" /* Left */]: `${block2}--left`,\n  [\"floating-top\" /* FloatingTop */]: `${block2}--floating-top`,\n  [\"floating-bottom\" /* FloatingBottom */]: `${block2}--floating-bottom`,\n  hidden: `${block2}--hidden`,\n  preventFlash: `${block2}--prevent-flash`,\n  floatingHidden: `${block2}--floating-hidden`,\n  align: {\n    start: `${elements2.align}--start`,\n    center: `${elements2.align}--center`,\n    end: `${elements2.align}--end`\n  },\n  button: {\n    hidden: `${elements2.button}--hidden`\n  }\n};\nvar css2 = `\n.${block2} {\n    align-items: center;\n    background: var(--ag-charts-toolbar-background-color);\n    border-bottom: var(--ag-charts-toolbar-border-critical);\n    border-top: var(--ag-charts-toolbar-border-critical);\n    border-left: var(--ag-charts-toolbar-border);\n    border-right: var(--ag-charts-toolbar-border);\n    display: flex;\n    flex-wrap: nowrap;\n    opacity: 1;\n    position: absolute;\n    transform: translateY(0);\n    transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.${modifiers2.hidden},\n.${modifiers2.preventFlash} {\n    visibility: hidden;\n}\n\n.${modifiers2.floatingHidden} {\n    opacity: 0;\n    transition: opacity 0.4s ease-in-out;\n}\n\n.${modifiers2[\"top\" /* Top */]},\n.${modifiers2[\"bottom\" /* Bottom */]} {\n    flex-direction: row;\n    height: var(--ag-charts-toolbar-size);\n    padding: 0 var(--ag-charts-toolbar-padding);\n    width: 100%;\n}\n\n.${modifiers2[\"left\" /* Left */]},\n.${modifiers2[\"right\" /* Right */]} {\n    flex-direction: column;\n    padding: var(--ag-charts-toolbar-padding) 0;\n    width: var(--ag-charts-toolbar-size);\n}\n\n.${modifiers2[\"floating-top\" /* FloatingTop */]},\n.${modifiers2[\"floating-bottom\" /* FloatingBottom */]} {\n    background: none;\n    border: none;\n    flex-direction: row;\n    height: var(--ag-charts-toolbar-size);\n    overflow: hidden;\n    padding: 0 var(--ag-charts-toolbar-padding);\n    pointer-events: none;\n    width: 100%;\n}\n\n.${elements2.align} {\n    display: flex;\n    flex-direction: inherit;\n    flex-wrap: inherit;\n    max-width: 100%;\n}\n\n.${modifiers2.align.center},\n.${modifiers2.align.end} {\n    margin-left: auto;\n}\n\n.${modifiers2[\"left\" /* Left */]} .${modifiers2.align.center},\n.${modifiers2[\"left\" /* Left */]} .${modifiers2.align.end},\n.${modifiers2[\"right\" /* Right */]} .${modifiers2.align.center},\n.${modifiers2[\"right\" /* Right */]} .${modifiers2.align.end} {\n    margin-left: 0;\n    margin-top: auto;\n}\n\n.${modifiers2[\"floating-top\" /* FloatingTop */]} .${elements2.align},\n.${modifiers2[\"floating-bottom\" /* FloatingBottom */]} .${elements2.align} {\n    gap: var(--ag-charts-toolbar-gap);\n    transition: transform 0.4s ease-in-out;\n}\n\n.${elements2.button} {\n    align-items: center;\n    border-radius: var(--ag-charts-button-radius);\n    color: var(--ag-charts-toolbar-foreground-color);\n    display: flex;\n    font-size: 14px;\n    font-weight: 500;\n    justify-content: center;\n    margin: 0;\n    padding: var(--ag-charts-button-padding);\n    pointer-events: all;\n    transition: background-color .25s ease-in-out;\n}\n\n.${modifiers2[\"left\" /* Left */]} .${elements2.button},\n.${modifiers2[\"right\" /* Right */]} .${elements2.button} {\n    height: var(--ag-charts-toolbar-size);\n    max-width: 100%;\n    overflow: hidden;\n}\n\n.${modifiers2[\"floating-top\" /* FloatingTop */]} .${elements2.button},\n.${modifiers2[\"floating-bottom\" /* FloatingBottom */]} .${elements2.button} {\n    background: var(--ag-charts-toolbar-background-color);\n    border: var(--ag-charts-toolbar-border-critical);\n}\n\n.${modifiers2.button.hidden} {\n    display: none;\n}\n\n.${elements2.button}:hover {\n    background: var(--ag-charts-toolbar-hover-color);\n}\n\n.${elements2.button}:disabled {\n    background: var(--ag-charts-toolbar-disabled-background-color);\n    color: var(--ag-charts-toolbar-disabled-foreground-color);\n}\n\n.${elements2.button}:not([disabled]) {\n    cursor: pointer;\n}\n\n.${elements2.icon} {\n    height: 1.2em;\n    width: 1.2em;\n}\n\n.${elements2.icon} + .${elements2.label} {\n    margin-left: var(--ag-charts-size);\n}\n\n.${elements2.icon},\n.${elements2.label} {\n    pointer-events: none;\n}\n\n`;\n\n// packages/ag-charts-community/src/chart/toolbar/toolbar.ts\nvar Toolbar = class extends BaseModuleInstance {\n  constructor(ctx) {\n    super();\n    this.ctx = ctx;\n    this.enabled = true;\n    this.annotations = new ToolbarGroupProperties(\n      this.onGroupChanged.bind(this, \"annotations\"),\n      this.onGroupButtonsChanged.bind(this, \"annotations\")\n    );\n    this.ranges = new ToolbarGroupProperties(\n      this.onGroupChanged.bind(this, \"ranges\"),\n      this.onGroupButtonsChanged.bind(this, \"ranges\")\n    );\n    this.zoom = new ToolbarGroupProperties(\n      this.onGroupChanged.bind(this, \"zoom\"),\n      this.onGroupButtonsChanged.bind(this, \"zoom\")\n    );\n    this.margin = 10;\n    this.floatingDetectionRange = 28;\n    this.positions = {\n      [\"top\" /* Top */]: /* @__PURE__ */ new Set(),\n      [\"right\" /* Right */]: /* @__PURE__ */ new Set(),\n      [\"bottom\" /* Bottom */]: /* @__PURE__ */ new Set(),\n      [\"left\" /* Left */]: /* @__PURE__ */ new Set(),\n      [\"floating-top\" /* FloatingTop */]: /* @__PURE__ */ new Set(),\n      [\"floating-bottom\" /* FloatingBottom */]: /* @__PURE__ */ new Set()\n    };\n    this.positionAlignments = {\n      [\"top\" /* Top */]: {},\n      [\"right\" /* Right */]: {},\n      [\"bottom\" /* Bottom */]: {},\n      [\"left\" /* Left */]: {},\n      [\"floating-top\" /* FloatingTop */]: {},\n      [\"floating-bottom\" /* FloatingBottom */]: {}\n    };\n    this.groupCallers = {\n      annotations: 0,\n      ranges: 0,\n      zoom: 0\n    };\n    this.groupButtons = {\n      annotations: [],\n      ranges: [],\n      zoom: []\n    };\n    this.pendingButtonToggledEvents = [];\n    this.groupProxied = /* @__PURE__ */ new Set();\n    this.container = ctx.toolbarManager.element;\n    this.elements = {\n      [\"top\" /* Top */]: this.container.appendChild(createElement(\"div\")),\n      [\"right\" /* Right */]: this.container.appendChild(createElement(\"div\")),\n      [\"bottom\" /* Bottom */]: this.container.appendChild(createElement(\"div\")),\n      [\"left\" /* Left */]: this.container.appendChild(createElement(\"div\")),\n      [\"floating-top\" /* FloatingTop */]: this.container.appendChild(createElement(\"div\")),\n      [\"floating-bottom\" /* FloatingBottom */]: this.container.appendChild(createElement(\"div\"))\n    };\n    injectStyle(css2, block2);\n    this.renderToolbar(\"top\" /* Top */);\n    this.renderToolbar(\"right\" /* Right */);\n    this.renderToolbar(\"bottom\" /* Bottom */);\n    this.renderToolbar(\"left\" /* Left */);\n    this.renderToolbar(\"floating-top\" /* FloatingTop */);\n    this.renderToolbar(\"floating-bottom\" /* FloatingBottom */);\n    this.toggleVisibilities();\n    this.destroyFns.push(\n      ctx.interactionManager.addListener(\"hover\", this.onHover.bind(this), 31 /* All */),\n      ctx.interactionManager.addListener(\"leave\", this.onLeave.bind(this), 31 /* All */),\n      ctx.toolbarManager.addListener(\"button-toggled\", this.onButtonToggled.bind(this)),\n      ctx.toolbarManager.addListener(\"group-toggled\", this.onGroupToggled.bind(this)),\n      ctx.toolbarManager.addListener(\"proxy-group-options\", this.onProxyGroupOptions.bind(this)),\n      ctx.layoutService.addListener(\"layout-complete\", this.onLayoutComplete.bind(this)),\n      () => this.destroyElements()\n    );\n  }\n  destroyElements() {\n    for (const element2 of Object.values(this.elements)) {\n      element2.remove();\n    }\n  }\n  onHover(event) {\n    const {\n      enabled,\n      elements: elements3,\n      floatingDetectionRange,\n      ctx: { scene }\n    } = this;\n    const {\n      offsetY,\n      sourceEvent: { target }\n    } = event;\n    const { FloatingBottom, FloatingTop } = ToolbarPosition;\n    if (!enabled)\n      return;\n    const bottom = elements3[FloatingBottom];\n    const top = elements3[FloatingTop];\n    const bottomDetectionY = bottom.offsetTop - floatingDetectionRange;\n    const bottomVisible = offsetY > bottomDetectionY && offsetY < scene.canvas.element.offsetHeight || target === bottom;\n    const topDetectionY = top.offsetTop + top.offsetHeight + floatingDetectionRange;\n    const topVisible = offsetY > 0 && offsetY < topDetectionY || target === top;\n    bottom.classList.toggle(modifiers2.floatingHidden, !bottomVisible);\n    top.classList.toggle(modifiers2.floatingHidden, !topVisible);\n    this.translateFloatingElements(FloatingBottom, bottomVisible);\n    this.translateFloatingElements(FloatingTop, topVisible);\n  }\n  onLeave(event) {\n    const {\n      enabled,\n      elements: elements3,\n      ctx: { scene }\n    } = this;\n    const { relatedTarget, target } = event.sourceEvent;\n    const { FloatingBottom, FloatingTop } = ToolbarPosition;\n    if (!enabled || target !== scene.canvas.element)\n      return;\n    const isTargetButton = TOOLBAR_GROUPS.some(\n      (group2) => this.groupButtons[group2].some((button) => button === relatedTarget)\n    );\n    if (isTargetButton)\n      return;\n    elements3[FloatingBottom].classList.add(modifiers2.floatingHidden);\n    elements3[FloatingTop].classList.add(modifiers2.floatingHidden);\n    this.translateFloatingElements(FloatingBottom, false);\n    this.translateFloatingElements(FloatingTop, false);\n  }\n  onGroupChanged(group2) {\n    if (this[group2] == null || this.groupProxied.has(group2))\n      return;\n    this.createGroup(group2);\n    this.toggleVisibilities();\n  }\n  onGroupButtonsChanged(group2, buttons) {\n    if (!this.enabled || this.groupProxied.has(group2))\n      return;\n    this.createGroupButtons(group2, buttons);\n    this.toggleVisibilities();\n  }\n  onLayoutComplete() {\n    for (const position of TOOLBAR_POSITIONS) {\n      this.elements[position].classList.remove(modifiers2.preventFlash);\n    }\n  }\n  onButtonToggled(event) {\n    const { group: group2, value, enabled } = event;\n    if (this.groupButtons[group2].length === 0) {\n      this.pendingButtonToggledEvents.push(event);\n      return;\n    }\n    for (const button of this.groupButtons[group2]) {\n      if (button.dataset.toolbarValue !== `${value}`)\n        continue;\n      button.disabled = !enabled;\n    }\n  }\n  onGroupToggled(event) {\n    const { group: group2, visible } = event;\n    this.toggleGroup(group2, visible);\n    this.toggleVisibilities();\n  }\n  onProxyGroupOptions(event) {\n    const { group: group2, options } = event;\n    this.groupProxied.add(group2);\n    this.createGroup(group2, options.enabled, options.position);\n    this.createGroupButtons(group2, options.buttons);\n    this.toggleGroup(group2, options.enabled);\n    this[group2].set(options);\n  }\n  createGroup(group2, enabled, position) {\n    enabled != null ? enabled : enabled = this[group2].enabled;\n    position != null ? position : position = this[group2].position;\n    for (const pos of TOOLBAR_POSITIONS) {\n      if (enabled && position === pos) {\n        this.positions[pos].add(group2);\n      } else {\n        this.positions[pos].delete(group2);\n      }\n    }\n  }\n  createGroupButtons(group2, buttons) {\n    var _a, _b;\n    for (const button of this.groupButtons[group2]) {\n      button.remove();\n    }\n    this.groupButtons[group2] = [];\n    const align = (_a = this[group2].align) != null ? _a : \"start\";\n    const position = (_b = this[group2].position) != null ? _b : \"top\";\n    const parent = this.positionAlignments[position][align];\n    for (const options of buttons != null ? buttons : []) {\n      const button = this.createButtonElement(group2, options);\n      parent == null ? void 0 : parent.appendChild(button);\n      this.groupButtons[group2].push(button);\n    }\n  }\n  toggleGroup(group2, enabled) {\n    if (enabled) {\n      this.groupCallers[group2] += 1;\n    } else {\n      this.groupCallers[group2] = Math.max(0, this.groupCallers[group2] - 1);\n    }\n  }\n  processPendingEvents() {\n    var _a;\n    const pendingButtonToggledEvents = ((_a = this.pendingButtonToggledEvents) != null ? _a : []).slice();\n    for (const event of pendingButtonToggledEvents) {\n      this.onButtonToggled(event);\n    }\n    this.pendingButtonToggledEvents = [];\n  }\n  performLayout(_0) {\n    return __async(this, arguments, function* ({ shrinkRect }) {\n      const { elements: elements3, margin } = this;\n      if (!elements3.top.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.top.offsetHeight + margin * 2, \"top\");\n      }\n      if (!elements3.right.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.right.offsetWidth + margin, \"right\");\n      }\n      if (!elements3.bottom.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.bottom.offsetHeight + margin * 2, \"bottom\");\n      }\n      if (!elements3.left.classList.contains(modifiers2.hidden)) {\n        shrinkRect.shrink(elements3.left.offsetWidth + margin, \"left\");\n      }\n      return { shrinkRect };\n    });\n  }\n  performCartesianLayout(opts) {\n    return __async(this, null, function* () {\n      const { elements: elements3, margin } = this;\n      const { seriesRect } = opts;\n      const { FloatingBottom, FloatingTop } = ToolbarPosition;\n      elements3.top.style.top = `${seriesRect.y - elements3.top.offsetHeight - margin * 2}px`;\n      elements3.top.style.left = `${margin}px`;\n      elements3.top.style.width = `calc(100% - ${margin * 2}px)`;\n      elements3.right.style.top = `${seriesRect.y + margin}px`;\n      elements3.right.style.right = `${margin}px`;\n      elements3.right.style.height = `calc(100% - ${seriesRect.y + margin * 2}px)`;\n      elements3.bottom.style.bottom = `${margin}px`;\n      elements3.bottom.style.left = `${margin}px`;\n      elements3.bottom.style.width = `calc(100% - ${margin * 2}px)`;\n      elements3.left.style.top = `${seriesRect.y}px`;\n      elements3.left.style.left = `${margin}px`;\n      elements3.left.style.height = `calc(100% - ${seriesRect.y + margin * 2}px)`;\n      elements3[FloatingTop].style.top = `${seriesRect.y}px`;\n      elements3[FloatingTop].style.paddingTop = `${margin}px`;\n      elements3[FloatingBottom].style.top = `${seriesRect.y + seriesRect.height - elements3[FloatingBottom].offsetHeight}px`;\n      elements3[FloatingBottom].style.paddingBottom = `${margin}px`;\n    });\n  }\n  toggleVisibilities() {\n    var _a;\n    if (this.elements == null)\n      return;\n    const isGroupVisible = (group2) => this[group2].enabled && this.groupCallers[group2] > 0;\n    const isButtonVisible = (element2) => (button) => typeof button.value !== \"string\" && typeof button.value !== \"number\" || `${button.value}` === element2.dataset.toolbarValue;\n    for (const position of TOOLBAR_POSITIONS) {\n      const visible = this.enabled && Array.from(this.positions[position].values()).some(isGroupVisible);\n      this.elements[position].classList.toggle(modifiers2.hidden, !visible);\n    }\n    for (const group2 of TOOLBAR_GROUPS) {\n      if (this[group2] == null)\n        continue;\n      const visible = isGroupVisible(group2);\n      for (const button of this.groupButtons[group2]) {\n        const buttonVisible = visible && ((_a = this[group2].buttons) == null ? void 0 : _a.some(isButtonVisible(button)));\n        button.classList.toggle(modifiers2.button.hidden, !buttonVisible);\n      }\n    }\n  }\n  translateFloatingElements(position, visible) {\n    const { elements: elements3, margin, positionAlignments } = this;\n    const element2 = elements3[position];\n    const alignments = Object.values(positionAlignments[position]);\n    for (const align of alignments) {\n      align.style.transform = visible && align.style.transform !== \"\" ? \"translateY(0)\" : `translateY(${element2.offsetHeight + margin}px)`;\n    }\n  }\n  renderToolbar(position = \"top\" /* Top */) {\n    const element2 = this.elements[position];\n    element2.classList.add(block2, modifiers2[position], modifiers2.preventFlash);\n    if (position === \"floating-top\" /* FloatingTop */ || position === \"floating-bottom\" /* FloatingBottom */) {\n      element2.classList.add(modifiers2.floatingHidden);\n    }\n    for (const align of TOOLBAR_ALIGNMENTS) {\n      const alignmentElement = createElement(\"div\");\n      alignmentElement.classList.add(elements2.align, modifiers2.align[align]);\n      element2.appendChild(alignmentElement);\n      this.positionAlignments[position][align] = alignmentElement;\n    }\n  }\n  createButtonElement(group2, options) {\n    const button = createElement(\"button\");\n    button.classList.add(elements2.button);\n    button.dataset.toolbarGroup = group2;\n    button.tabIndex = -1;\n    if (typeof options.value === \"string\" || typeof options.value === \"number\") {\n      button.dataset.toolbarValue = `${options.value}`;\n    }\n    if (options.tooltip) {\n      button.title = options.tooltip;\n    }\n    let inner = \"\";\n    if (options.icon != null) {\n      inner = `<span class=\"ag-charts-icon-${options.icon} ${elements2.icon}\"></span>`;\n    }\n    if (options.label != null) {\n      inner = `${inner}<span class=\"${elements2.label}\">${options.label}</span>`;\n    }\n    button.innerHTML = inner;\n    button.onclick = this.onButtonPress.bind(this, group2, options.value);\n    this.destroyFns.push(() => button.remove());\n    return button;\n  }\n  onButtonPress(group2, value) {\n    this.ctx.toolbarManager.pressButton(group2, value);\n  }\n};\n__decorateClass([\n  ObserveChanges((target) => {\n    target.processPendingEvents();\n    target.toggleVisibilities();\n  }),\n  Validate(BOOLEAN)\n], Toolbar.prototype, \"enabled\", 2);\n\n// packages/ag-charts-community/src/chart/toolbar/toolbarModule.ts\nvar DAY = 1e3 * 60 * 60 * 24;\nvar MONTH = DAY * 30;\nvar YEAR = DAY * 365;\nvar annotations = {\n  enabled: false,\n  position: \"left\",\n  align: \"start\",\n  buttons: [\n    { label: \"Li\", value: \"line\" },\n    { label: \"PCh\", value: \"parallel-channel\" }\n  ]\n};\nvar ranges = {\n  enabled: false,\n  position: \"top\",\n  align: \"start\",\n  buttons: [\n    { label: \"1m\", value: MONTH },\n    { label: \"3m\", value: 3 * MONTH },\n    { label: \"6m\", value: 6 * MONTH },\n    { label: \"YTD\", value: (_start, end) => [(/* @__PURE__ */ new Date(`${new Date(end).getFullYear()}-01-01`)).getTime(), end] },\n    { label: \"1y\", value: YEAR },\n    { label: \"All\", value: (start, end) => [start, end] }\n  ]\n};\nvar zoom = {\n  enabled: false,\n  position: \"top\",\n  align: \"end\",\n  buttons: [\n    {\n      icon: \"zoom-out\",\n      tooltip: \"Zoom out\",\n      value: \"zoom-out\"\n    },\n    {\n      icon: \"zoom-in\",\n      tooltip: \"Zoom in\",\n      value: \"zoom-in\"\n    },\n    {\n      icon: \"pan-left\",\n      tooltip: \"Pan left\",\n      value: \"pan-left\"\n    },\n    {\n      icon: \"pan-right\",\n      tooltip: \"Pan right\",\n      value: \"pan-right\"\n    },\n    {\n      icon: \"pan-start\",\n      tooltip: \"Pan to the start\",\n      value: \"pan-start\"\n    },\n    {\n      icon: \"pan-end\",\n      tooltip: \"Pan to the end\",\n      value: \"pan-end\"\n    },\n    {\n      icon: \"reset\",\n      tooltip: \"Reset the zoom\",\n      value: \"reset\"\n    }\n  ]\n};\nvar ToolbarModule = {\n  type: \"root\",\n  optionsKey: \"toolbar\",\n  packageType: \"community\",\n  chartTypes: [\"cartesian\"],\n  instanceConstructor: Toolbar,\n  themeTemplate: {\n    toolbar: {\n      enabled: true,\n      annotations,\n      ranges,\n      zoom\n    }\n  }\n};\n\n// packages/ag-charts-community/src/chart/factory/registerInbuiltModules.ts\nfunction registerInbuiltModules() {\n  moduleRegistry.register(\n    BackgroundModule,\n    CommunityLegendModule,\n    NavigatorModule,\n    ToolbarModule,\n    AreaSeriesModule,\n    BarSeriesModule,\n    BubbleSeriesModule,\n    LineSeriesModule,\n    ScatterSeriesModule,\n    DonutSeriesModule,\n    PieSeriesModule,\n    HistogramSeriesModule\n  );\n  for (const AxisConstructor of [NumberAxis, CategoryAxis, TimeAxis, GroupedCategoryAxis, LogAxis]) {\n    axisRegistry.register(AxisConstructor.type, {\n      instanceConstructor: AxisConstructor,\n      hidden: AxisConstructor === GroupedCategoryAxis\n    });\n  }\n}\n\n// packages/ag-charts-community/src/chart/factory/setupModules.ts\nfunction setupModules() {\n  for (const m of moduleRegistry.modules) {\n    if (m.packageType === \"enterprise\" && !verifyIfModuleExpected(m)) {\n      Logger.errorOnce(\"Unexpected enterprise module registered: \" + m.identifier);\n    }\n    if (m.type === \"root\" && m.themeTemplate) {\n      for (const chartType2 of m.chartTypes) {\n        chartDefaults.set(chartType2, m.themeTemplate);\n      }\n    }\n    if (m.type === \"series\") {\n      if (m.chartTypes.length > 1) {\n        throw new Error(`AG Charts - Module definition error: ${m.identifier}`);\n      }\n      seriesRegistry.register(m.identifier, m);\n    }\n    if (m.type === \"series-option\" && m.themeTemplate) {\n      for (const seriesType of m.seriesTypes) {\n        seriesRegistry.setThemeTemplate(seriesType, m.themeTemplate);\n      }\n    }\n    if (m.type === \"axis-option\" && m.themeTemplate) {\n      for (const axisType of m.axisTypes) {\n        const axisTypeTheme = m.themeTemplate[axisType];\n        const theme = __spreadValues(__spreadValues({}, m.themeTemplate), axisTypeTheme);\n        for (const innerAxisType of m.axisTypes) {\n          delete theme[innerAxisType];\n        }\n        axisRegistry.setThemeTemplate(axisType, theme);\n      }\n    }\n    if (m.type === \"axis\") {\n      axisRegistry.register(m.identifier, m);\n    }\n    if (m.type === \"legend\") {\n      legendRegistry.register(m.identifier, m);\n    }\n  }\n  if (moduleRegistry.hasEnterpriseModules()) {\n    const expectedButUnused = getUnusedExpectedModules();\n    if (expectedButUnused.length > 0) {\n      Logger.errorOnce(\"Enterprise modules expected but not registered: \", expectedButUnused);\n    }\n  }\n}\n\n// packages/ag-charts-community/src/chart/hierarchyChart.ts\nvar _HierarchyChart = class _HierarchyChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_HierarchyChart.prototype, this, \"performLayout\").call(this);\n      const {\n        seriesArea: { padding },\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const fullSeriesRect = shrinkRect.clone();\n      shrinkRect.shrink(padding.left, \"left\");\n      shrinkRect.shrink(padding.top, \"top\");\n      shrinkRect.shrink(padding.right, \"right\");\n      shrinkRect.shrink(padding.bottom, \"bottom\");\n      this.seriesRect = shrinkRect;\n      this.animationRect = shrinkRect;\n      this.hoverRect = shrinkRect;\n      for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n        group2.translationX = Math.floor(shrinkRect.x);\n        group2.translationY = Math.floor(shrinkRect.y);\n      }\n      yield Promise.all(\n        this.series.map((series) => __async(this, null, function* () {\n          yield series.update({ seriesRect: shrinkRect });\n        }))\n      );\n      seriesRoot.visible = this.series[0].visible;\n      seriesRoot.setClipRectInGroupCoordinateSpace(\n        new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height)\n      );\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries: false,\n        series: { rect: fullSeriesRect, paddedRect: shrinkRect, visible: true },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n};\n_HierarchyChart.className = \"HierarchyChart\";\n_HierarchyChart.type = \"hierarchy\";\nvar HierarchyChart = _HierarchyChart;\n\n// packages/ag-charts-community/src/chart/axis/polarAxis.ts\nvar PolarAxis = class extends Axis {\n  constructor() {\n    super(...arguments);\n    this.shape = \"polygon\";\n    this.innerRadiusRatio = 0;\n    this.defaultTickMinSpacing = 20;\n  }\n  computeLabelsBBox(_options, _seriesRect) {\n    return null;\n  }\n};\n__decorateClass([\n  Validate(UNION([\"polygon\", \"circle\"], \"a polar axis shape\"))\n], PolarAxis.prototype, \"shape\", 2);\n__decorateClass([\n  Validate(RATIO)\n], PolarAxis.prototype, \"innerRadiusRatio\", 2);\n\n// packages/ag-charts-community/src/chart/polarChart.ts\nvar _PolarChart = class _PolarChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.padding = new Padding(40);\n    this.axisGroup.zIndex = 6 /* AXIS_FOREGROUND_ZINDEX */;\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_PolarChart.prototype, this, \"performLayout\").call(this);\n      const fullSeriesRect = shrinkRect.clone();\n      this.computeSeriesRect(shrinkRect);\n      yield this.computeCircle(shrinkRect);\n      this.axes.forEach((axis) => axis.update());\n      this.hoverRect = shrinkRect;\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries: false,\n        series: { rect: fullSeriesRect, paddedRect: shrinkRect, visible: true },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n  updateAxes(cx, cy, radius) {\n    var _a, _b;\n    const angleAxis = this.axes.find((axis) => axis.direction === \"x\" /* X */);\n    const radiusAxis = this.axes.find((axis) => axis.direction === \"y\" /* Y */);\n    if (!(angleAxis instanceof PolarAxis) || !(radiusAxis instanceof PolarAxis)) {\n      return;\n    }\n    const angleScale = angleAxis.scale;\n    const angles = (_a = angleScale.ticks) == null ? void 0 : _a.call(angleScale).map((value) => angleScale.convert(value));\n    const innerRadiusRatio = radiusAxis.innerRadiusRatio;\n    angleAxis.innerRadiusRatio = innerRadiusRatio;\n    (_b = angleAxis.computeRange) == null ? void 0 : _b.call(angleAxis);\n    angleAxis.gridLength = radius;\n    radiusAxis.gridAngles = angles;\n    radiusAxis.gridRange = angleAxis.range;\n    radiusAxis.range = [radius, radius * innerRadiusRatio];\n    [angleAxis, radiusAxis].forEach((axis) => {\n      axis.translation.x = cx;\n      axis.translation.y = cy;\n      axis.calculateLayout();\n    });\n  }\n  computeSeriesRect(shrinkRect) {\n    const {\n      seriesArea: { padding }\n    } = this;\n    shrinkRect.shrink(padding.left, \"left\");\n    shrinkRect.shrink(padding.top, \"top\");\n    shrinkRect.shrink(padding.right, \"right\");\n    shrinkRect.shrink(padding.bottom, \"bottom\");\n    this.seriesRect = shrinkRect;\n    this.animationRect = shrinkRect;\n  }\n  computeCircle(seriesBox) {\n    return __async(this, null, function* () {\n      const polarSeries = this.series.filter((series) => {\n        return series instanceof PolarSeries;\n      });\n      const polarAxes = this.axes.filter((axis) => {\n        return axis instanceof PolarAxis;\n      });\n      const setSeriesCircle = (cx, cy, r) => {\n        this.updateAxes(cx, cy, r);\n        polarSeries.forEach((series) => {\n          series.centerX = cx;\n          series.centerY = cy;\n          series.radius = r;\n        });\n        const pieSeries = polarSeries.filter((s) => {\n          return s instanceof PieSeries || s instanceof DonutSeries;\n        });\n        if (pieSeries.length > 1) {\n          const innerRadii = pieSeries.map((series) => {\n            const innerRadius = series.getInnerRadius();\n            return { series, innerRadius };\n          }).sort((a, b) => a.innerRadius - b.innerRadius);\n          innerRadii.at(-1).series.surroundingRadius = void 0;\n          for (let i = 0; i < innerRadii.length - 1; i++) {\n            innerRadii[i].series.surroundingRadius = innerRadii[i + 1].innerRadius;\n          }\n        }\n      };\n      const centerX = seriesBox.x + seriesBox.width / 2;\n      const centerY = seriesBox.y + seriesBox.height / 2;\n      const initialRadius = Math.max(0, Math.min(seriesBox.width, seriesBox.height) / 2);\n      let radius = initialRadius;\n      setSeriesCircle(centerX, centerY, radius);\n      const shake = (..._0) => __async(this, [..._0], function* ({ hideWhenNecessary = false } = {}) {\n        const labelBoxes = [];\n        for (const series of [...polarAxes, ...polarSeries]) {\n          const box = yield series.computeLabelsBBox({ hideWhenNecessary }, seriesBox);\n          if (box) {\n            labelBoxes.push(box);\n          }\n        }\n        if (labelBoxes.length === 0) {\n          setSeriesCircle(centerX, centerY, initialRadius);\n          return;\n        }\n        const labelBox = BBox.merge(labelBoxes);\n        const refined = this.refineCircle(labelBox, radius, seriesBox);\n        setSeriesCircle(refined.centerX, refined.centerY, refined.radius);\n        if (refined.radius === radius) {\n          return;\n        }\n        radius = refined.radius;\n      });\n      yield shake();\n      yield shake();\n      yield shake();\n      yield shake({ hideWhenNecessary: true });\n      yield shake({ hideWhenNecessary: true });\n      return { radius, centerX, centerY };\n    });\n  }\n  refineCircle(labelsBox, radius, seriesBox) {\n    const minCircleRatio = 0.5;\n    const circleLeft = -radius;\n    const circleTop = -radius;\n    const circleRight = radius;\n    const circleBottom = radius;\n    let padLeft = Math.max(0, circleLeft - labelsBox.x);\n    let padTop = Math.max(0, circleTop - labelsBox.y);\n    let padRight = Math.max(0, labelsBox.x + labelsBox.width - circleRight);\n    let padBottom = Math.max(0, labelsBox.y + labelsBox.height - circleBottom);\n    padLeft = padRight = Math.max(padLeft, padRight);\n    padTop = padBottom = Math.max(padTop, padBottom);\n    const availCircleWidth = seriesBox.width - padLeft - padRight;\n    const availCircleHeight = seriesBox.height - padTop - padBottom;\n    let newRadius = Math.min(availCircleWidth, availCircleHeight) / 2;\n    const minHorizontalRadius = minCircleRatio * seriesBox.width / 2;\n    const minVerticalRadius = minCircleRatio * seriesBox.height / 2;\n    const minRadius = Math.min(minHorizontalRadius, minVerticalRadius);\n    if (newRadius < minRadius) {\n      newRadius = minRadius;\n      const horizontalPadding = padLeft + padRight;\n      const verticalPadding = padTop + padBottom;\n      if (2 * newRadius + verticalPadding > seriesBox.height) {\n        const padHeight = seriesBox.height - 2 * newRadius;\n        if (Math.min(padTop, padBottom) * 2 > padHeight) {\n          padTop = padHeight / 2;\n          padBottom = padHeight / 2;\n        } else if (padTop > padBottom) {\n          padTop = padHeight - padBottom;\n        } else {\n          padBottom = padHeight - padTop;\n        }\n      }\n      if (2 * newRadius + horizontalPadding > seriesBox.width) {\n        const padWidth = seriesBox.width - 2 * newRadius;\n        if (Math.min(padLeft, padRight) * 2 > padWidth) {\n          padLeft = padWidth / 2;\n          padRight = padWidth / 2;\n        } else if (padLeft > padRight) {\n          padLeft = padWidth - padRight;\n        } else {\n          padRight = padWidth - padLeft;\n        }\n      }\n    }\n    const newWidth = padLeft + 2 * newRadius + padRight;\n    const newHeight = padTop + 2 * newRadius + padBottom;\n    return {\n      centerX: seriesBox.x + (seriesBox.width - newWidth) / 2 + padLeft + newRadius,\n      centerY: seriesBox.y + (seriesBox.height - newHeight) / 2 + padTop + newRadius,\n      radius: newRadius\n    };\n  }\n};\n_PolarChart.className = \"PolarChart\";\n_PolarChart.type = \"polar\";\nvar PolarChart = _PolarChart;\n\n// packages/ag-charts-community/src/chart/series/topology/mercatorScale.ts\nvar radsInDeg = Math.PI / 180;\nvar lonX = (lon) => lon * radsInDeg;\nvar latY = (lat) => -Math.log(Math.tan(Math.PI * 0.25 + lat * radsInDeg * 0.5));\nvar xLon = (x) => x / radsInDeg;\nvar yLat = (y) => (Math.atan(Math.exp(-y)) - Math.PI * 0.25) / (radsInDeg * 0.5);\nvar MercatorScale = class _MercatorScale {\n  constructor(domain, range3) {\n    this.domain = domain;\n    this.range = range3;\n    this.type = \"mercator\";\n    this.bounds = _MercatorScale.bounds(domain);\n  }\n  static bounds(domain) {\n    const [[lon0, lat0], [lon1, lat1]] = domain;\n    const x0 = lonX(lon0);\n    const y0 = latY(lat0);\n    const x1 = lonX(lon1);\n    const y1 = latY(lat1);\n    return new BBox(Math.min(x0, x1), Math.min(y0, y1), Math.abs(x1 - x0), Math.abs(y1 - y0));\n  }\n  static fixedScale() {\n    return new _MercatorScale(\n      [\n        [xLon(0), yLat(0)],\n        [xLon(1), yLat(1)]\n      ],\n      [\n        [0, 0],\n        [1, 1]\n      ]\n    );\n  }\n  convert([lon, lat]) {\n    const [[x0, y0], [x1, y1]] = this.range;\n    const xScale = (x1 - x0) / this.bounds.width;\n    const yScale = (y1 - y0) / this.bounds.height;\n    return [(lonX(lon) - this.bounds.x) * xScale + x0, (latY(lat) - this.bounds.y) * yScale + y0];\n  }\n  invert([x, y]) {\n    const [[x0, y0], [x1, y1]] = this.range;\n    const xScale = (x1 - x0) / this.bounds.width;\n    const yScale = (y1 - y0) / this.bounds.height;\n    return [xLon((x - x0) / xScale + this.bounds.x), yLat((y - y0) / yScale + this.bounds.y)];\n  }\n};\n\n// packages/ag-charts-community/src/chart/topologyChart.ts\nfunction isTopologySeries(series) {\n  return series.type === \"map-shape\" || series.type === \"map-line\" || series.type === \"map-marker\" || series.type === \"map-shape-background\" || series.type === \"map-line-background\";\n}\nvar _TopologyChart = class _TopologyChart extends Chart {\n  constructor(options, resources) {\n    super(options, resources);\n    this.xAxis = new NumberAxis(this.getModuleContext());\n    this.xAxis.position = \"bottom\";\n    this.yAxis = new NumberAxis(this.getModuleContext());\n    this.yAxis.position = \"left\";\n    this.ctx.zoomManager.updateAxes([this.xAxis, this.yAxis]);\n  }\n  updateData() {\n    return __async(this, null, function* () {\n      yield __superGet(_TopologyChart.prototype, this, \"updateData\").call(this);\n      const { topology } = this.getOptions();\n      this.series.forEach((series) => {\n        if (isTopologySeries(series)) {\n          series.setChartTopology(topology);\n        }\n      });\n    });\n  }\n  performLayout() {\n    return __async(this, null, function* () {\n      const shrinkRect = yield __superGet(_TopologyChart.prototype, this, \"performLayout\").call(this);\n      const {\n        seriesArea: { padding },\n        seriesRoot,\n        annotationRoot,\n        highlightRoot\n      } = this;\n      const fullSeriesRect = shrinkRect.clone();\n      shrinkRect.shrink(padding.left, \"left\");\n      shrinkRect.shrink(padding.top, \"top\");\n      shrinkRect.shrink(padding.right, \"right\");\n      shrinkRect.shrink(padding.bottom, \"bottom\");\n      this.seriesRect = shrinkRect;\n      this.animationRect = shrinkRect;\n      this.hoverRect = shrinkRect;\n      const mapSeries = this.series.filter(isTopologySeries);\n      const combinedBbox = mapSeries.reduce((combined, series) => {\n        if (!series.visible)\n          return combined;\n        const bbox = series.topologyBounds;\n        if (bbox == null)\n          return combined;\n        if (combined == null)\n          return bbox;\n        combined.merge(bbox);\n        return combined;\n      }, void 0);\n      let scale2;\n      if (combinedBbox != null) {\n        const { lon0, lat0, lon1, lat1 } = combinedBbox;\n        const domain = [\n          [lon0, lat0],\n          [lon1, lat1]\n        ];\n        const bounds = MercatorScale.bounds(domain);\n        const { width, height } = shrinkRect;\n        const viewBoxScale = Math.min(width / bounds.width, height / bounds.height);\n        const viewBoxWidth = bounds.width * viewBoxScale;\n        const viewBoxHeight = bounds.height * viewBoxScale;\n        const viewBoxOriginX = (width - viewBoxWidth) / 2;\n        const viewBoxOriginY = (height - viewBoxHeight) / 2;\n        const x0 = viewBoxOriginX;\n        const y0 = viewBoxOriginY;\n        const x1 = viewBoxOriginX + viewBoxWidth;\n        const y1 = viewBoxOriginY + viewBoxHeight;\n        const xZoom = this.ctx.zoomManager.getAxisZoom(this.xAxis.id);\n        const yZoom = this.ctx.zoomManager.getAxisZoom(this.yAxis.id);\n        const xSpan = (x1 - x0) / (xZoom.max - xZoom.min);\n        const xStart = x0 - xSpan * xZoom.min;\n        const ySpan = (y1 - y0) / (1 - yZoom.min - (1 - yZoom.max));\n        const yStart = y0 - ySpan * (1 - yZoom.max);\n        scale2 = new MercatorScale(domain, [\n          [xStart, yStart],\n          [xStart + xSpan, yStart + ySpan]\n        ]);\n      }\n      mapSeries.forEach((series) => {\n        series.scale = scale2;\n      });\n      const seriesVisible = this.series.some((s) => s.visible);\n      seriesRoot.visible = seriesVisible;\n      for (const group2 of [seriesRoot, annotationRoot, highlightRoot]) {\n        group2.translationX = Math.floor(shrinkRect.x);\n        group2.translationY = Math.floor(shrinkRect.y);\n        group2.setClipRectInGroupCoordinateSpace(\n          new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height)\n        );\n      }\n      this.ctx.layoutService.dispatchLayoutComplete({\n        type: \"layout-complete\",\n        chart: { width: this.ctx.scene.width, height: this.ctx.scene.height },\n        clipSeries: false,\n        series: { rect: fullSeriesRect, paddedRect: shrinkRect, visible: seriesVisible },\n        axes: []\n      });\n      return shrinkRect;\n    });\n  }\n};\n_TopologyChart.className = \"TopologyChart\";\n_TopologyChart.type = \"topology\";\nvar TopologyChart = _TopologyChart;\n\n// packages/ag-charts-community/src/chart/agChartV2.ts\nvar debug2 = Debug.create(true, \"opts\");\nfunction chartType(options) {\n  if (isAgCartesianChartOptions(options)) {\n    return \"cartesian\";\n  } else if (isAgPolarChartOptions(options)) {\n    return \"polar\";\n  } else if (isAgHierarchyChartOptions(options)) {\n    return \"hierarchy\";\n  } else if (isAgTopologyChartOptions(options)) {\n    return \"topology\";\n  }\n  throw new Error(`AG Chart - unknown type of chart for options with type: ${options.type}`);\n}\nvar _AgCharts = class _AgCharts {\n  static licenseCheck(options) {\n    var _a, _b, _c, _d;\n    if (this.licenseChecked)\n      return;\n    this.licenseManager = (_b = (_a = enterpriseModule).licenseManager) == null ? void 0 : _b.call(_a, options);\n    (_c = this.licenseManager) == null ? void 0 : _c.setLicenseKey(this.licenseKey, this.gridContext);\n    (_d = this.licenseManager) == null ? void 0 : _d.validateLicense();\n    this.licenseChecked = true;\n  }\n  static setLicenseKey(licenseKey) {\n    this.licenseKey = licenseKey;\n  }\n  static setGridContext(gridContext) {\n    this.gridContext = gridContext;\n  }\n  static getLicenseDetails(licenseKey) {\n    var _a, _b;\n    return (_b = (_a = enterpriseModule).licenseManager) == null ? void 0 : _b.call(_a, {}).getLicenseDetails(licenseKey);\n  }\n  /**\n   * Returns the `AgChartInstance` for a DOM node, if there is one.\n   */\n  static getInstance(element2) {\n    return AgChartsInternal.getInstance(element2);\n  }\n  /**\n   * Create a new `AgChartInstance` based upon the given configuration options.\n   */\n  static create(options) {\n    var _a, _b, _c;\n    this.licenseCheck(options);\n    const chart = AgChartsInternal.createOrUpdate(options);\n    if ((_a = this.licenseManager) == null ? void 0 : _a.isDisplayWatermark()) {\n      (_c = (_b = enterpriseModule).injectWatermark) == null ? void 0 : _c.call(_b, chart.chart.element, this.licenseManager.getWatermarkMessage());\n    }\n    return chart;\n  }\n  /**\n   * Update an existing `AgChartInstance`. Options provided should be complete and not\n   * partial.\n   *\n   * __NOTE__: As each call could trigger a chart redraw, multiple calls to update options in\n   * quick succession could result in undesirable flickering, so callers should batch up and/or\n   * debounce changes to avoid unintended partial update renderings.\n   */\n  static update(chart, options) {\n    if (!AgChartInstanceProxy.isInstance(chart)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.createOrUpdate(options, chart);\n  }\n  /**\n   * Update an existing `AgChartInstance` by applying a partial set of option changes.\n   *\n   * __NOTE__: As each call could trigger a chart redraw, each individual delta options update\n   * should leave the chart in a valid options state. Also, multiple calls to update options in\n   * quick succession could result in undesirable flickering, so callers should batch up and/or\n   * debounce changes to avoid unintended partial update renderings.\n   */\n  static updateDelta(chart, deltaOptions) {\n    if (!AgChartInstanceProxy.isInstance(chart)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.updateUserDelta(chart, deltaOptions);\n  }\n  /**\n   * Starts a browser-based image download for the given `AgChartInstance`.\n   */\n  static download(chart, options) {\n    if (!(chart instanceof AgChartInstanceProxy)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    AgChartsInternal.download(chart, options).catch((e) => Logger.errorOnce(e));\n  }\n  /**\n   * Returns a base64-encoded image data URL for the given `AgChartInstance`.\n   */\n  static getImageDataURL(chart, options) {\n    if (!(chart instanceof AgChartInstanceProxy)) {\n      throw new Error(_AgCharts.INVALID_CHART_REF_MESSAGE);\n    }\n    return AgChartsInternal.getImageDataURL(chart, options);\n  }\n};\n_AgCharts.INVALID_CHART_REF_MESSAGE = \"AG Charts - invalid chart reference passed\";\n_AgCharts.licenseChecked = false;\n_AgCharts.gridContext = false;\nvar AgCharts = _AgCharts;\nvar AgChart = class {\n  static warnDeprecated(memberName) {\n    const warnDeprecated = createDeprecationWarning();\n    warnDeprecated(`AgChart.${memberName}`, `Use AgCharts.${memberName} instead`);\n  }\n  static create(options) {\n    this.warnDeprecated(\"create\");\n    return AgCharts.create(options);\n  }\n  static update(chart, options) {\n    this.warnDeprecated(\"update\");\n    return AgCharts.update(chart, options);\n  }\n  static updateDelta(chart, deltaOptions) {\n    this.warnDeprecated(\"updateDelta\");\n    return AgCharts.updateDelta(chart, deltaOptions);\n  }\n  static download(chart, options) {\n    this.warnDeprecated(\"download\");\n    return AgCharts.download(chart, options);\n  }\n  static getImageDataURL(chart, options) {\n    this.warnDeprecated(\"getImageDataURL\");\n    return AgCharts.getImageDataURL(chart, options);\n  }\n};\nvar _AgChartsInternal = class _AgChartsInternal {\n  static getInstance(element2) {\n    const chart = Chart.getInstance(element2);\n    return chart ? AgChartInstanceProxy.chartInstances.get(chart) : void 0;\n  }\n  static initialiseModules() {\n    if (_AgChartsInternal.initialised)\n      return;\n    registerInbuiltModules();\n    setupModules();\n    _AgChartsInternal.initialised = true;\n  }\n  static createOrUpdate(options, proxy) {\n    var _b;\n    _AgChartsInternal.initialiseModules();\n    debug2(\">>> AgChartV2.createOrUpdate() user options\", options);\n    const _a = options, { overrideDevicePixelRatio, document: document2, window: userWindow } = _a, userOptions = __objRest(_a, [\"overrideDevicePixelRatio\", \"document\", \"window\"]);\n    const chartOptions = new ChartOptions(userOptions, { overrideDevicePixelRatio, document: document2, window: userWindow });\n    let chart = proxy == null ? void 0 : proxy.chart;\n    if (chart == null || chartType(userOptions) !== chartType(chart.processedOptions)) {\n      chart = _AgChartsInternal.createChartInstance(chartOptions, chart);\n    }\n    if (proxy == null) {\n      proxy = new AgChartInstanceProxy(chart);\n    } else {\n      proxy.chart = chart;\n    }\n    if (debug2.check() && typeof window !== \"undefined\") {\n      (_b = window.agChartInstances) != null ? _b : window.agChartInstances = {};\n      window.agChartInstances[chart.id] = chart;\n    }\n    chart.queuedUserOptions.push(userOptions);\n    chart.requestFactoryUpdate((chartRef) => {\n      chartRef.applyOptions(chartOptions);\n      chartRef.queuedUserOptions.splice(0, chartRef.queuedUserOptions.indexOf(userOptions));\n    });\n    return proxy;\n  }\n  static updateUserDelta(proxy, deltaOptions) {\n    deltaOptions = deepClone(deltaOptions, { shallow: [\"data\"] });\n    jsonWalk(\n      deltaOptions,\n      (node) => {\n        if (typeof node !== \"object\")\n          return;\n        for (const [key, value] of Object.entries(node)) {\n          if (typeof value === \"undefined\") {\n            Object.assign(node, { [key]: Symbol(\"UNSET\") });\n          }\n        }\n      },\n      { skip: [\"data\"] }\n    );\n    const { chart } = proxy;\n    const lastUpdateOptions = chart.getOptions();\n    const userOptions = mergeDefaults(deltaOptions, lastUpdateOptions);\n    debug2(\">>> AgChartV2.updateUserDelta() user delta\", deltaOptions);\n    debug2(\"AgChartV2.updateUserDelta() - base options\", lastUpdateOptions);\n    _AgChartsInternal.createOrUpdate(userOptions, proxy);\n  }\n  /**\n   * Returns the content of the current canvas as an image.\n   */\n  static download(proxy, opts) {\n    return __async(this, null, function* () {\n      try {\n        const clone = yield _AgChartsInternal.prepareResizedChart(proxy, opts);\n        clone.chart.ctx.scene.download(opts == null ? void 0 : opts.fileName, opts == null ? void 0 : opts.fileFormat);\n        clone.destroy();\n      } catch (error) {\n        Logger.errorOnce(error);\n      }\n    });\n  }\n  static getImageDataURL(proxy, opts) {\n    return __async(this, null, function* () {\n      const clone = yield _AgChartsInternal.prepareResizedChart(proxy, opts);\n      const result = clone.chart.ctx.scene.getDataURL(opts == null ? void 0 : opts.fileFormat);\n      clone.destroy();\n      return result;\n    });\n  }\n  static prepareResizedChart(_0) {\n    return __async(this, arguments, function* ({ chart }, opts = {}) {\n      var _a, _b, _c, _d;\n      const width = (_b = (_a = opts.width) != null ? _a : chart.width) != null ? _b : chart.ctx.scene.canvas.width;\n      const height = (_d = (_c = opts.height) != null ? _c : chart.height) != null ? _d : chart.ctx.scene.canvas.height;\n      const options = mergeDefaults(\n        {\n          container: document.createElement(\"div\"),\n          overrideDevicePixelRatio: 1,\n          autoSize: false,\n          width,\n          height\n        },\n        // Disable enterprise features that may interfere with image generation.\n        moduleRegistry.hasEnterpriseModules() && { animation: { enabled: false } },\n        chart.userOptions\n      );\n      const cloneProxy = _AgChartsInternal.createOrUpdate(options);\n      cloneProxy.chart.ctx.zoomManager.updateZoom(\"agChartV2\", chart.ctx.zoomManager.getZoom());\n      chart.series.forEach((series, index) => {\n        if (!series.visible) {\n          cloneProxy.chart.series[index].visible = false;\n        }\n      });\n      chart.update(0 /* FULL */, { forceNodeDataRefresh: true });\n      yield cloneProxy.chart.waitForUpdate();\n      return cloneProxy;\n    });\n  }\n  static createChartInstance(options, oldChart) {\n    const transferableResource = oldChart == null ? void 0 : oldChart.destroy({ keepTransferableResources: true });\n    const ChartConstructor = _AgChartsInternal.getChartByOptions(options.processedOptions);\n    return new ChartConstructor(options, transferableResource);\n  }\n  static getChartByOptions(options) {\n    if (isAgCartesianChartOptions(options)) {\n      return CartesianChart;\n    } else if (isAgHierarchyChartOptions(options)) {\n      return HierarchyChart;\n    } else if (isAgPolarChartOptions(options)) {\n      return PolarChart;\n    } else if (isAgTopologyChartOptions(options)) {\n      return TopologyChart;\n    }\n    throw new Error(\n      `AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified`\n    );\n  }\n};\n_AgChartsInternal.initialised = false;\nvar AgChartsInternal = _AgChartsInternal;\n\n// packages/ag-charts-community/src/version.ts\nvar VERSION = \"9.3.1\";\n\n// packages/ag-charts-community/src/integrated-charts-scene.ts\nvar integrated_charts_scene_exports = {};\n__export(integrated_charts_scene_exports, {\n  Arc: () => Arc2,\n  BBox: () => BBox,\n  BandScale: () => BandScale,\n  Caption: () => Caption,\n  ChangeDetectableProperties: () => ChangeDetectableProperties,\n  Circle: () => Circle,\n  ContinuousScale: () => ContinuousScale,\n  Diamond: () => Diamond,\n  DropShadow: () => DropShadow,\n  ExtendedPath2D: () => ExtendedPath2D,\n  Group: () => Group,\n  HdpiCanvas: () => HdpiCanvas,\n  Image: () => Image,\n  Label: () => Label,\n  Line: () => Line,\n  LinearGradientFill: () => LinearGradientFill,\n  LinearScale: () => LinearScale,\n  Marker: () => Marker,\n  Node: () => Node,\n  OrdinalTimeScale: () => OrdinalTimeScale,\n  Path: () => Path,\n  PointerEvents: () => PointerEvents,\n  RadialColumnShape: () => RadialColumnShape,\n  Rect: () => Rect,\n  RedrawType: () => RedrawType,\n  Scene: () => Scene,\n  SceneChangeDetection: () => SceneChangeDetection,\n  ScenePathChangeDetection: () => ScenePathChangeDetection,\n  Sector: () => Sector,\n  SectorBox: () => SectorBox,\n  Selection: () => Selection,\n  Shape: () => Shape,\n  Square: () => Square,\n  Text: () => Text,\n  Tooltip: () => Tooltip,\n  Triangle: () => Triangle,\n  easing: () => easing_exports,\n  getFont: () => getFont,\n  getMarker: () => getMarker,\n  getRadialColumnWidth: () => getRadialColumnWidth,\n  motion: () => motion,\n  nearestSquared: () => nearestSquared,\n  nearestSquaredInContainer: () => nearestSquaredInContainer,\n  toRadians: () => toRadians,\n  toTooltipHtml: () => toTooltipHtml\n});\n\n// packages/ag-charts-community/src/scene/shape/arc.ts\nvar Arc2 = class extends Path {\n  constructor() {\n    super();\n    this.centerX = 0;\n    this.centerY = 0;\n    this.radius = 10;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.counterClockwise = false;\n    this.type = 0 /* Open */;\n    this.restoreOwnStyles();\n  }\n  get fullPie() {\n    return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n  }\n  updatePath() {\n    const path = this.path;\n    path.clear();\n    path.arc(this.centerX, this.centerY, this.radius, this.startAngle, this.endAngle, this.counterClockwise);\n    if (this.type === 1 /* Chord */) {\n      path.closePath();\n    } else if (this.type === 2 /* Round */ && !this.fullPie) {\n      path.lineTo(this.centerX, this.centerY);\n      path.closePath();\n    }\n  }\n  computeBBox() {\n    return new BBox(this.centerX - this.radius, this.centerY - this.radius, this.radius * 2, this.radius * 2);\n  }\n  isPointInPath(x, y) {\n    const point = this.transformPoint(x, y);\n    const bbox = this.computeBBox();\n    return this.type !== 0 /* Open */ && bbox.containsPoint(point.x, point.y) && this.path.isPointInPath(point.x, point.y);\n  }\n};\nArc2.className = \"Arc\";\nArc2.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n  lineWidth: 1,\n  fillStyle: null\n});\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"centerX\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"centerY\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"radius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"startAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"endAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"counterClockwise\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], Arc2.prototype, \"type\", 2);\n\n// packages/ag-charts-community/src/scene/shape/linearGradientFill.ts\nvar LinearGradientFill = class extends Shape {\n  constructor() {\n    super(...arguments);\n    this.direction = \"to-right\";\n    this.stops = void 0;\n    this._mask = void 0;\n  }\n  get mask() {\n    return this._mask;\n  }\n  set mask(newMask) {\n    if (this._mask != null) {\n      this.removeChild(this._mask);\n    }\n    if (newMask != null) {\n      this.appendChild(newMask);\n    }\n    this._mask = newMask;\n  }\n  isPointInPath(x, y) {\n    var _a, _b;\n    return (_b = (_a = this.mask) == null ? void 0 : _a.isPointInPath(x, y)) != null ? _b : false;\n  }\n  computeBBox() {\n    var _a;\n    return (_a = this.mask) == null ? void 0 : _a.computeBBox();\n  }\n  render(renderCtx) {\n    const { mask, stops } = this;\n    const { ctx, devicePixelRatio } = renderCtx;\n    const pixelLength = 1 / devicePixelRatio;\n    const maskBbox = mask == null ? void 0 : mask.computeTransformedBBox();\n    if (mask == null || stops == null || maskBbox == null)\n      return;\n    if (mask.dirtyPath) {\n      mask.updatePath();\n      mask.dirtyPath = false;\n    }\n    ctx.save();\n    ctx.clip(mask.path.getPath2D());\n    ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);\n    const x0 = Math.floor(maskBbox.x);\n    const x1 = Math.ceil(maskBbox.x + maskBbox.width);\n    const y0 = Math.floor(maskBbox.y);\n    const y1 = Math.ceil(maskBbox.y + maskBbox.height);\n    const colorScale = new ColorScale();\n    const [i0, i1] = this.direction === \"to-right\" ? [x0, x1] : [y0, y1];\n    colorScale.domain = stops.map((_, index) => {\n      return i0 + (i1 - i0) * index / (stops.length - 1);\n    });\n    colorScale.range = stops;\n    colorScale.update();\n    if (this.direction === \"to-right\") {\n      const height = y1 - y0;\n      for (let x = x0; x <= x1; x += pixelLength) {\n        ctx.fillStyle = colorScale.convert(x);\n        ctx.fillRect(x, y0, pixelLength, height);\n      }\n    } else {\n      const width = x1 - x0;\n      for (let y = y0; y <= y1; y += pixelLength) {\n        ctx.fillStyle = colorScale.convert(y);\n        ctx.fillRect(x0, y, width, pixelLength);\n      }\n    }\n    ctx.restore();\n  }\n};\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], LinearGradientFill.prototype, \"direction\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], LinearGradientFill.prototype, \"stops\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], LinearGradientFill.prototype, \"_mask\", 2);\n\n// packages/ag-charts-community/src/scene/shape/radialColumnShape.ts\nfunction rotatePoint(x, y, rotation) {\n  const radius = Math.sqrt(__pow(x, 2) + __pow(y, 2));\n  const angle = Math.atan2(y, x);\n  const rotated = angle + rotation;\n  return {\n    x: Math.cos(rotated) * radius,\n    y: Math.sin(rotated) * radius\n  };\n}\nvar RadialColumnShape = class extends Path {\n  constructor() {\n    super(...arguments);\n    this.borderPath = new ExtendedPath2D();\n    this.isBeveled = true;\n    this.columnWidth = 0;\n    this.startAngle = 0;\n    this.endAngle = 0;\n    this.outerRadius = 0;\n    this.innerRadius = 0;\n    this.axisInnerRadius = 0;\n    this.axisOuterRadius = 0;\n    this.isRadiusAxisReversed = false;\n  }\n  getRotation() {\n    const { startAngle, endAngle } = this;\n    const midAngle = angleBetween(startAngle, endAngle);\n    return normalizeAngle360(startAngle + midAngle / 2 + Math.PI / 2);\n  }\n  updatePath() {\n    const { isBeveled } = this;\n    if (isBeveled) {\n      this.updateBeveledPath();\n    } else {\n      this.updateRectangularPath();\n    }\n    this.checkPathDirty();\n  }\n  updateRectangularPath() {\n    const { columnWidth, innerRadius, outerRadius, path } = this;\n    const left = -columnWidth / 2;\n    const right = columnWidth / 2;\n    const top = -outerRadius;\n    const bottom = -innerRadius;\n    const rotation = this.getRotation();\n    const points = [\n      [left, bottom],\n      [left, top],\n      [right, top],\n      [right, bottom],\n      [left, bottom]\n    ].map(([x, y]) => rotatePoint(x, y, rotation));\n    path.clear(true);\n    path.moveTo(points[0].x, points[0].y);\n    path.lineTo(points[1].x, points[1].y);\n    path.lineTo(points[2].x, points[2].y);\n    path.lineTo(points[3].x, points[3].y);\n    path.lineTo(points[0].x, points[0].y);\n    path.closePath();\n  }\n  updateBeveledPath() {\n    const { columnWidth, path, outerRadius, innerRadius, axisInnerRadius, axisOuterRadius, isRadiusAxisReversed } = this;\n    const isStackBottom = isEqual(innerRadius, axisInnerRadius);\n    const sideRotation = Math.asin(columnWidth / 2 / innerRadius);\n    const pointRotation = this.getRotation();\n    const rotate = (x, y) => rotatePoint(x, y, pointRotation);\n    const getTriangleHypotenuse = (leg, otherLeg) => Math.sqrt(__pow(leg, 2) + __pow(otherLeg, 2));\n    const getTriangleLeg = (hypotenuse, otherLeg) => {\n      if (otherLeg > hypotenuse) {\n        return 0;\n      }\n      return Math.sqrt(__pow(hypotenuse, 2) - __pow(otherLeg, 2));\n    };\n    const compare = (value, otherValue, lessThan) => lessThan ? value < otherValue : value > otherValue;\n    const shouldConnectBottomCircle = isStackBottom && !isNaN(sideRotation) && sideRotation < Math.PI / 6;\n    let left = -columnWidth / 2;\n    let right = columnWidth / 2;\n    const top = -outerRadius;\n    const bottom = -innerRadius * (shouldConnectBottomCircle ? Math.cos(sideRotation) : 1);\n    const hasBottomIntersection = compare(\n      axisOuterRadius,\n      getTriangleHypotenuse(innerRadius, columnWidth / 2),\n      !isRadiusAxisReversed\n    );\n    if (hasBottomIntersection) {\n      const bottomIntersectionX = getTriangleLeg(axisOuterRadius, innerRadius);\n      left = -bottomIntersectionX;\n      right = bottomIntersectionX;\n    }\n    path.clear(true);\n    const bottomLeftPt = rotate(left, bottom);\n    path.moveTo(bottomLeftPt.x, bottomLeftPt.y);\n    const isEmpty = isEqual(innerRadius, outerRadius);\n    const hasSideIntersection = compare(\n      axisOuterRadius,\n      getTriangleHypotenuse(outerRadius, columnWidth / 2),\n      !isRadiusAxisReversed\n    );\n    if (isEmpty && shouldConnectBottomCircle) {\n      path.arc(\n        0,\n        0,\n        innerRadius,\n        normalizeAngle360(-sideRotation - Math.PI / 2) + pointRotation,\n        normalizeAngle360(sideRotation - Math.PI / 2) + pointRotation,\n        false\n      );\n    } else if (hasSideIntersection) {\n      const sideIntersectionY = -getTriangleLeg(axisOuterRadius, columnWidth / 2);\n      const topIntersectionX = getTriangleLeg(axisOuterRadius, outerRadius);\n      if (!hasBottomIntersection) {\n        const topLeftPt = rotate(left, sideIntersectionY);\n        path.lineTo(topLeftPt.x, topLeftPt.y);\n      }\n      path.arc(\n        0,\n        0,\n        axisOuterRadius,\n        Math.atan2(sideIntersectionY, left) + pointRotation,\n        Math.atan2(top, -topIntersectionX) + pointRotation,\n        false\n      );\n      if (!isEqual(topIntersectionX, 0)) {\n        const topRightBevelPt = rotate(topIntersectionX, top);\n        path.lineTo(topRightBevelPt.x, topRightBevelPt.y);\n      }\n      path.arc(\n        0,\n        0,\n        axisOuterRadius,\n        Math.atan2(top, topIntersectionX) + pointRotation,\n        Math.atan2(sideIntersectionY, right) + pointRotation,\n        false\n      );\n    } else {\n      const topLeftPt = rotate(left, top);\n      const topRightPt = rotate(right, top);\n      path.lineTo(topLeftPt.x, topLeftPt.y);\n      path.lineTo(topRightPt.x, topRightPt.y);\n    }\n    const bottomRightPt = rotate(right, bottom);\n    path.lineTo(bottomRightPt.x, bottomRightPt.y);\n    if (shouldConnectBottomCircle) {\n      path.arc(\n        0,\n        0,\n        innerRadius,\n        normalizeAngle360(sideRotation - Math.PI / 2) + pointRotation,\n        normalizeAngle360(-sideRotation - Math.PI / 2) + pointRotation,\n        true\n      );\n    } else {\n      const rotatedBottomLeftPt = rotate(left, bottom);\n      path.lineTo(rotatedBottomLeftPt.x, rotatedBottomLeftPt.y);\n    }\n    path.closePath();\n  }\n};\nRadialColumnShape.className = \"RadialColumnShape\";\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"isBeveled\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"columnWidth\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"startAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"endAngle\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"outerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"innerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"axisInnerRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"axisOuterRadius\", 2);\n__decorateClass([\n  ScenePathChangeDetection()\n], RadialColumnShape.prototype, \"isRadiusAxisReversed\", 2);\nfunction getRadialColumnWidth(startAngle, endAngle, axisOuterRadius, columnWidthRatio, maxColumnWidthRatio) {\n  const rotation = angleBetween(startAngle, endAngle);\n  const pad2 = rotation * (1 - columnWidthRatio) / 2;\n  startAngle += pad2;\n  endAngle -= pad2;\n  if (rotation < 1e-3) {\n    return 2 * axisOuterRadius * maxColumnWidthRatio;\n  }\n  if (rotation >= 2 * Math.PI) {\n    const midAngle = startAngle + rotation / 2;\n    startAngle = midAngle - Math.PI;\n    endAngle = midAngle + Math.PI;\n  }\n  const startX = axisOuterRadius * Math.cos(startAngle);\n  const startY = axisOuterRadius * Math.sin(startAngle);\n  const endX = axisOuterRadius * Math.cos(endAngle);\n  const endY = axisOuterRadius * Math.sin(endAngle);\n  const colWidth = Math.floor(Math.sqrt(__pow(startX - endX, 2) + __pow(startY - endY, 2)));\n  const maxWidth = 2 * axisOuterRadius * maxColumnWidthRatio;\n  return Math.max(1, Math.min(maxWidth, colWidth));\n}\n\n// packages/ag-charts-community/src/scene/image.ts\nvar Image = class extends Node {\n  constructor(sourceImage) {\n    super();\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.height = 0;\n    this.opacity = 1;\n    this.sourceImage = sourceImage;\n  }\n  render(renderCtx) {\n    const { ctx, forceRender, stats } = renderCtx;\n    if (this.dirty === 0 /* NONE */ && !forceRender) {\n      if (stats)\n        stats.nodesSkipped++;\n      return;\n    }\n    this.computeTransformMatrix();\n    this.matrix.toContext(ctx);\n    const image = this.sourceImage;\n    ctx.globalAlpha = this.opacity;\n    ctx.drawImage(image, 0, 0, image.width, image.height, this.x, this.y, this.width, this.height);\n    super.render(renderCtx);\n  }\n};\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Image.prototype, \"x\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Image.prototype, \"y\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Image.prototype, \"width\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Image.prototype, \"height\", 2);\n__decorateClass([\n  SceneChangeDetection({ redraw: 3 /* MAJOR */ })\n], Image.prototype, \"opacity\", 2);\n\n// packages/ag-charts-community/src/integrated-charts-scene.ts\nvar motion = __spreadValues(__spreadValues({}, fromToMotion_exports), resetMotion_exports);\n\n// packages/ag-charts-community/src/integrated-charts-theme.ts\nvar integrated_charts_theme_exports = {};\n__export(integrated_charts_theme_exports, {\n  CARTESIAN_AXIS_TYPE: () => CARTESIAN_AXIS_TYPE,\n  ChartTheme: () => ChartTheme,\n  DEFAULT_ANNOTATION_BACKGROUND_FILL: () => DEFAULT_ANNOTATION_BACKGROUND_FILL,\n  DEFAULT_ANNOTATION_HANDLE_FILL: () => DEFAULT_ANNOTATION_HANDLE_FILL,\n  DEFAULT_ANNOTATION_STROKE: () => DEFAULT_ANNOTATION_STROKE,\n  DEFAULT_AXIS_GRID_COLOUR: () => DEFAULT_AXIS_GRID_COLOUR,\n  DEFAULT_AXIS_LINE_COLOUR: () => DEFAULT_AXIS_LINE_COLOUR,\n  DEFAULT_BACKGROUND_COLOUR: () => DEFAULT_BACKGROUND_COLOUR,\n  DEFAULT_COLOURS: () => DEFAULT_COLOURS,\n  DEFAULT_CROSS_LINES_COLOUR: () => DEFAULT_CROSS_LINES_COLOUR,\n  DEFAULT_DIVERGING_SERIES_COLOUR_RANGE: () => DEFAULT_DIVERGING_SERIES_COLOUR_RANGE,\n  DEFAULT_FONT_FAMILY: () => DEFAULT_FONT_FAMILY,\n  DEFAULT_HIERARCHY_FILLS: () => DEFAULT_HIERARCHY_FILLS,\n  DEFAULT_HIERARCHY_STROKES: () => DEFAULT_HIERARCHY_STROKES,\n  DEFAULT_INSIDE_SERIES_LABEL_COLOUR: () => DEFAULT_INSIDE_SERIES_LABEL_COLOUR,\n  DEFAULT_INVERTED_LABEL_COLOUR: () => DEFAULT_INVERTED_LABEL_COLOUR,\n  DEFAULT_LABEL_COLOUR: () => DEFAULT_LABEL_COLOUR,\n  DEFAULT_MUTED_LABEL_COLOUR: () => DEFAULT_MUTED_LABEL_COLOUR,\n  DEFAULT_POLAR_SERIES_STROKE: () => DEFAULT_POLAR_SERIES_STROKE,\n  DEFAULT_SHADOW_COLOUR: () => DEFAULT_SHADOW_COLOUR,\n  DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE: () => DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,\n  DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS: () => DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS,\n  DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS: () => DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS,\n  DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS: () => DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS,\n  EXTENDS_AXES_DEFAULTS: () => EXTENDS_AXES_DEFAULTS,\n  EXTENDS_AXES_GRID_LINE_DEFAULTS: () => EXTENDS_AXES_GRID_LINE_DEFAULTS,\n  EXTENDS_AXES_LINE_DEFAULTS: () => EXTENDS_AXES_LINE_DEFAULTS,\n  EXTENDS_AXES_TICK_DEFAULTS: () => EXTENDS_AXES_TICK_DEFAULTS,\n  EXTENDS_CARTESIAN_MARKER_DEFAULTS: () => EXTENDS_CARTESIAN_MARKER_DEFAULTS,\n  EXTENDS_SERIES_DEFAULTS: () => EXTENDS_SERIES_DEFAULTS,\n  FONT_SIZE: () => FONT_SIZE,\n  FONT_WEIGHT: () => FONT_WEIGHT,\n  IS_DARK_THEME: () => IS_DARK_THEME,\n  POLAR_AXIS_SHAPE: () => POLAR_AXIS_SHAPE,\n  POLAR_AXIS_TYPE: () => POLAR_AXIS_TYPE,\n  POSITION: () => POSITION,\n  getChartTheme: () => getChartTheme,\n  markerPaletteFactory: () => markerPaletteFactory,\n  singleSeriesPaletteFactory: () => singleSeriesPaletteFactory,\n  themes: () => themes2\n});\nvar themes2 = mapValues(themes, (themeFactory) => themeFactory == null ? void 0 : themeFactory());\n\n// packages/ag-charts-community/src/sparklines-scale.ts\nvar sparklines_scale_exports = {};\n__export(sparklines_scale_exports, {\n  BandScale: () => BandScale,\n  ColorScale: () => ColorScale,\n  ContinuousScale: () => ContinuousScale,\n  Invalidating: () => Invalidating,\n  LinearScale: () => LinearScale,\n  OrdinalTimeScale: () => OrdinalTimeScale,\n  TimeScale: () => TimeScale\n});\n\n// packages/ag-charts-community/src/sparklines-util.ts\nvar sparklines_util_exports = {};\n__export(sparklines_util_exports, {\n  Color: () => Color,\n  Logger: () => Logger,\n  Padding: () => Padding,\n  angleBetween: () => angleBetween,\n  areArrayItemsStrictlyEqual: () => areArrayItemsStrictlyEqual,\n  areArrayNumbersEqual: () => areArrayNumbersEqual,\n  bifurcate: () => bifurcate,\n  checkDatum: () => checkDatum,\n  clamp: () => clamp,\n  clampArray: () => clampArray,\n  countFractionDigits: () => countFractionDigits,\n  createId: () => createId,\n  deepClone: () => deepClone,\n  displacePointFromVector: () => displacePointFromVector,\n  extent: () => extent,\n  findMinMax: () => findMinMax,\n  findRangeExtent: () => findRangeExtent,\n  isBetweenAngles: () => isBetweenAngles,\n  isContinuous: () => isContinuous,\n  isDate: () => isValidDate,\n  isDenseInterval: () => isDenseInterval,\n  isEqual: () => isEqual,\n  isNegative: () => isNegative,\n  isNumber: () => isFiniteNumber,\n  isNumberEqual: () => isEqual,\n  isNumberObject: () => isNumberObject,\n  isString: () => isString,\n  isStringObject: () => isStringObject,\n  jsonApply: () => jsonApply,\n  jsonDiff: () => jsonDiff,\n  jsonWalk: () => jsonWalk,\n  mod: () => mod,\n  normalisedExtent: () => normalisedExtent,\n  normalisedExtentWithMetadata: () => normalisedExtentWithMetadata,\n  normalizeAngle180: () => normalizeAngle180,\n  normalizeAngle360: () => normalizeAngle360,\n  normalizeAngle360Inclusive: () => normalizeAngle360Inclusive,\n  range: () => range,\n  resetIds: () => resetIds,\n  round: () => round,\n  sanitizeHtml: () => sanitizeHtml,\n  setAttribute: () => setAttribute,\n  shallowClone: () => shallowClone,\n  tickFormat: () => tickFormat,\n  tickStep: () => tickStep,\n  ticks: () => ticks_default,\n  toDegrees: () => toDegrees,\n  toFixed: () => toFixed,\n  toRadians: () => toRadians,\n  transformIntegratedCategoryValue: () => transformIntegratedCategoryValue,\n  zipObject: () => zipObject\n});\n\n// packages/ag-charts-community/src/util/zip.ts\nfunction zipObject(keys, values) {\n  const zipped = {};\n  if (Array.isArray(values)) {\n    for (let i = 0; i < keys.length; i++) {\n      zipped[`${keys[i]}`] = values[i];\n    }\n  } else {\n    for (let i = 0; i < keys.length; i++) {\n      zipped[`${keys[i]}`] = values;\n    }\n  }\n  return zipped;\n}\n\n// packages/ag-charts-community/src/module-support.ts\nvar module_support_exports = {};\n__export(module_support_exports, {\n  AND: () => AND,\n  ARRAY: () => ARRAY,\n  ARRAY_OF: () => ARRAY_OF,\n  AbstractBarSeries: () => AbstractBarSeries,\n  AbstractBarSeriesProperties: () => AbstractBarSeriesProperties,\n  ActionOnSet: () => ActionOnSet,\n  Animation: () => Animation,\n  AnimationManager: () => AnimationManager,\n  AreaSeriesTag: () => AreaSeriesTag,\n  Axis: () => Axis,\n  AxisLabel: () => AxisLabel,\n  AxisTick: () => AxisTick,\n  BOOLEAN: () => BOOLEAN,\n  BOOLEAN_ARRAY: () => BOOLEAN_ARRAY,\n  Background: () => Background,\n  BackgroundModule: () => BackgroundModule,\n  BaseModuleInstance: () => BaseModuleInstance,\n  BaseProperties: () => BaseProperties,\n  COLOR_STRING: () => COLOR_STRING,\n  COLOR_STRING_ARRAY: () => COLOR_STRING_ARRAY,\n  CartesianAxis: () => CartesianAxis,\n  CartesianSeries: () => CartesianSeries,\n  CartesianSeriesNodeEvent: () => CartesianSeriesNodeEvent,\n  CartesianSeriesProperties: () => CartesianSeriesProperties,\n  CategoryAxis: () => CategoryAxis,\n  CategoryAxisTick: () => CategoryAxisTick,\n  ChartAxisDirection: () => ChartAxisDirection,\n  ChartEventManager: () => ChartEventManager,\n  ChartOptions: () => ChartOptions,\n  ChartUpdateType: () => ChartUpdateType,\n  ContextMenuRegistry: () => ContextMenuRegistry,\n  CursorManager: () => CursorManager,\n  DATE: () => DATE,\n  DATE_ARRAY: () => DATE_ARRAY,\n  DATE_OR_DATETIME_MS: () => DATE_OR_DATETIME_MS,\n  DEFAULT_CARTESIAN_DIRECTION_KEYS: () => DEFAULT_CARTESIAN_DIRECTION_KEYS,\n  DEFAULT_CARTESIAN_DIRECTION_NAMES: () => DEFAULT_CARTESIAN_DIRECTION_NAMES,\n  DEFAULT_TOOLTIP_CLASS: () => DEFAULT_TOOLTIP_CLASS,\n  DEFAULT_TOOLTIP_DARK_CLASS: () => DEFAULT_TOOLTIP_DARK_CLASS,\n  DEGREE: () => DEGREE,\n  DIRECTION: () => DIRECTION,\n  DataController: () => DataController,\n  DataModel: () => DataModel,\n  DataModelSeries: () => DataModelSeries,\n  DataService: () => DataService,\n  Default: () => Default,\n  Deprecated: () => Deprecated,\n  DeprecatedAndRenamedTo: () => DeprecatedAndRenamedTo,\n  EMPTY_TOOLTIP_CONTENT: () => EMPTY_TOOLTIP_CONTENT,\n  FONT_STYLE: () => FONT_STYLE,\n  FONT_WEIGHT: () => FONT_WEIGHT2,\n  FUNCTION: () => FUNCTION,\n  GREATER_THAN: () => GREATER_THAN,\n  GestureDetector: () => GestureDetector,\n  GroupedCategoryAxis: () => GroupedCategoryAxis,\n  HierarchyNode: () => HierarchyNode,\n  HierarchySeries: () => HierarchySeries,\n  HierarchySeriesProperties: () => HierarchySeriesProperties,\n  HighlightManager: () => HighlightManager,\n  HighlightStyle: () => HighlightStyle,\n  INTERACTION_RANGE: () => INTERACTION_RANGE,\n  InteractionManager: () => InteractionManager,\n  InteractionState: () => InteractionState,\n  LABEL_PLACEMENT: () => LABEL_PLACEMENT,\n  LESS_THAN: () => LESS_THAN,\n  LINE_CAP: () => LINE_CAP,\n  LINE_DASH: () => LINE_DASH,\n  LINE_JOIN: () => LINE_JOIN,\n  Layers: () => Layers,\n  LayoutService: () => LayoutService,\n  LonLatBBox: () => LonLatBBox,\n  MARKER_SHAPE: () => MARKER_SHAPE,\n  MATCHING_CROSSLINE_TYPE: () => MATCHING_CROSSLINE_TYPE,\n  MAX_SPACING: () => MAX_SPACING,\n  MIN_SPACING: () => MIN_SPACING,\n  MercatorScale: () => MercatorScale,\n  Motion: () => easing_exports,\n  NAN: () => NAN,\n  NODE_UPDATE_STATE_TO_PHASE_MAPPING: () => NODE_UPDATE_STATE_TO_PHASE_MAPPING,\n  NUMBER: () => NUMBER,\n  NUMBER_ARRAY: () => NUMBER_ARRAY,\n  NUMBER_OR_NAN: () => NUMBER_OR_NAN,\n  Navigator: () => Navigator,\n  NavigatorModule: () => NavigatorModule,\n  OBJECT: () => OBJECT,\n  OBJECT_ARRAY: () => OBJECT_ARRAY,\n  OR: () => OR,\n  OVERFLOW_STRATEGY: () => OVERFLOW_STRATEGY,\n  ObserveChanges: () => ObserveChanges,\n  PHASE_METADATA: () => PHASE_METADATA,\n  PHASE_ORDER: () => PHASE_ORDER,\n  PLACEMENT: () => PLACEMENT,\n  PLAIN_OBJECT: () => PLAIN_OBJECT,\n  POINTER_INTERACTION_TYPES: () => POINTER_INTERACTION_TYPES,\n  POSITION: () => POSITION2,\n  POSITIVE_NUMBER: () => POSITIVE_NUMBER,\n  PolarAxis: () => PolarAxis,\n  PolarSeries: () => PolarSeries,\n  PropertiesArray: () => PropertiesArray,\n  ProxyOnWrite: () => ProxyOnWrite,\n  ProxyProperty: () => ProxyProperty,\n  ProxyPropertyOnWrite: () => ProxyPropertyOnWrite,\n  QUICK_TRANSITION: () => QUICK_TRANSITION,\n  RATIO: () => RATIO,\n  RepeatType: () => RepeatType,\n  SMALLEST_KEY_INTERVAL: () => SMALLEST_KEY_INTERVAL,\n  SORT_DOMAIN_GROUPS: () => SORT_DOMAIN_GROUPS,\n  STRING: () => STRING,\n  STRING_ARRAY: () => STRING_ARRAY,\n  Series: () => Series,\n  SeriesGroupingChangedEvent: () => SeriesGroupingChangedEvent,\n  SeriesItemHighlightStyle: () => SeriesItemHighlightStyle,\n  SeriesMarker: () => SeriesMarker,\n  SeriesNodeEvent: () => SeriesNodeEvent,\n  SeriesNodePickMode: () => SeriesNodePickMode,\n  SeriesProperties: () => SeriesProperties,\n  SeriesTooltip: () => SeriesTooltip,\n  StateMachine: () => StateMachine,\n  TEXT_ALIGN: () => TEXT_ALIGN,\n  TEXT_WRAP: () => TEXT_WRAP,\n  ToolbarManager: () => ToolbarManager,\n  Tooltip: () => Tooltip,\n  TooltipManager: () => TooltipManager,\n  TooltipPosition: () => TooltipPosition,\n  UNION: () => UNION,\n  UpdateService: () => UpdateService,\n  VERTICAL_ALIGN: () => VERTICAL_ALIGN,\n  Validate: () => Validate,\n  ZoomManager: () => ZoomManager,\n  __FORCE_MODULE_DETECTION: () => __FORCE_MODULE_DETECTION2,\n  accumulateGroup: () => accumulateGroup,\n  accumulatedValue: () => accumulatedValue,\n  accumulativeValueProperty: () => accumulativeValueProperty,\n  addHitTestersToQuadtree: () => addHitTestersToQuadtree,\n  adjustLabelPlacement: () => adjustLabelPlacement,\n  allInStringUnion: () => allInStringUnion,\n  animationValidation: () => animationValidation,\n  area: () => area,\n  arraysEqual: () => arraysEqual,\n  assignJsonApplyConstructedArray: () => assignJsonApplyConstructedArray,\n  backfillPathPointData: () => backfillPathPointData,\n  basicContinuousCheckDatumValidation: () => basicContinuousCheckDatumValidation,\n  bifurcate: () => bifurcate,\n  buildFormatter: () => buildFormatter,\n  buildResetPathFn: () => buildResetPathFn,\n  calculateDefaultTimeTickFormat: () => calculateDefaultTimeTickFormat,\n  calculatePlacement: () => calculatePlacement,\n  checkCrisp: () => checkCrisp,\n  childrenIter: () => childrenIter,\n  circularSliceArray: () => circularSliceArray,\n  clamp: () => clamp,\n  clampArray: () => clampArray,\n  collapsedStartingBarPosition: () => collapsedStartingBarPosition,\n  computeBarFocusBounds: () => computeBarFocusBounds,\n  computeMarkerFocusBounds: () => computeMarkerFocusBounds,\n  computeSectorFocusBounds: () => computeSectorFocusBounds,\n  convertValuesToScaleByDefs: () => convertValuesToScaleByDefs,\n  countFractionDigits: () => countFractionDigits,\n  createDatumId: () => createDatumId,\n  createDeprecationWarning: () => createDeprecationWarning,\n  createElement: () => createElement,\n  dateToNumber: () => dateToNumber,\n  deconstructSelectionsOrNodes: () => deconstructSelectionsOrNodes,\n  deepClone: () => deepClone,\n  deepMerge: () => deepMerge,\n  defaultTimeTickFormat: () => defaultTimeTickFormat,\n  determinePathStatus: () => determinePathStatus,\n  diff: () => diff,\n  downloadUrl: () => downloadUrl,\n  enterpriseModule: () => enterpriseModule,\n  extent: () => extent,\n  extractDecoratedProperties: () => extractDecoratedProperties,\n  findMinMax: () => findMinMax,\n  findQuadtreeMatch: () => findQuadtreeMatch,\n  findRangeExtent: () => findRangeExtent,\n  fixNumericExtent: () => fixNumericExtent,\n  fromToMotion: () => fromToMotion,\n  getDocument: () => getDocument,\n  getMissCount: () => getMissCount,\n  getPath: () => getPath,\n  getRectConfig: () => getRectConfig,\n  getWindow: () => getWindow,\n  groupAccumulativeValueProperty: () => groupAccumulativeValueProperty,\n  groupAverage: () => groupAverage,\n  groupBy: () => groupBy,\n  groupCount: () => groupCount,\n  groupSum: () => groupSum,\n  injectStyle: () => injectStyle,\n  isArray: () => isArray,\n  isBoolean: () => isBoolean,\n  isDate: () => isDate,\n  isDecoratedObject: () => isDecoratedObject,\n  isDefined: () => isDefined,\n  isEnumKey: () => isEnumKey,\n  isEnumValue: () => isEnumValue,\n  isEqual: () => isEqual,\n  isFiniteNumber: () => isFiniteNumber,\n  isFunction: () => isFunction,\n  isHtmlElement: () => isHtmlElement,\n  isNegative: () => isNegative,\n  isNumber: () => isNumber,\n  isObject: () => isObject,\n  isObjectLike: () => isObjectLike,\n  isPlainObject: () => isPlainObject,\n  isProperties: () => isProperties,\n  isRegExp: () => isRegExp,\n  isString: () => isString,\n  isSymbol: () => isSymbol,\n  isValidDate: () => isValidDate,\n  jsonApply: () => jsonApply,\n  jsonDiff: () => jsonDiff,\n  jsonWalk: () => jsonWalk,\n  keyProperty: () => keyProperty,\n  listDecoratedProperties: () => listDecoratedProperties,\n  mapIterable: () => mapIterable,\n  mapValues: () => mapValues,\n  markerFadeInAnimation: () => markerFadeInAnimation,\n  markerPaletteFactory: () => markerPaletteFactory,\n  markerScaleInAnimation: () => markerScaleInAnimation,\n  markerSwipeScaleInAnimation: () => markerSwipeScaleInAnimation,\n  mergeArrayDefaults: () => mergeArrayDefaults,\n  mergeDefaults: () => mergeDefaults,\n  midpointStartingBarPosition: () => midpointStartingBarPosition,\n  minMax: () => minMax,\n  mod: () => mod,\n  moduleRegistry: () => moduleRegistry,\n  normaliseGroupTo: () => normaliseGroupTo,\n  normalisePropertyTo: () => normalisePropertyTo,\n  normalisedExtent: () => normalisedExtent,\n  normalisedExtentWithMetadata: () => normalisedExtentWithMetadata,\n  pairCategoryData: () => pairCategoryData,\n  pairContinuousData: () => pairContinuousData,\n  partialAssign: () => partialAssign,\n  pathFadeInAnimation: () => pathFadeInAnimation,\n  pathFadeOutAnimation: () => pathFadeOutAnimation,\n  pathSwipeInAnimation: () => pathSwipeInAnimation,\n  pickByMatchingAngle: () => pickByMatchingAngle,\n  predicateWithMessage: () => predicateWithMessage,\n  prepareAreaPathAnimation: () => prepareAreaPathAnimation,\n  prepareAxisAnimationContext: () => prepareAxisAnimationContext,\n  prepareAxisAnimationFunctions: () => prepareAxisAnimationFunctions,\n  prepareBarAnimationFunctions: () => prepareBarAnimationFunctions,\n  prepareLinePathAnimation: () => prepareLinePathAnimation,\n  prepareLinePathAnimationFns: () => prepareLinePathAnimationFns,\n  prepareMarkerAnimation: () => prepareMarkerAnimation,\n  preparePieSeriesAnimationFunctions: () => preparePieSeriesAnimationFunctions,\n  range: () => range2,\n  rangedValueProperty: () => rangedValueProperty,\n  renderPartialPath: () => renderPartialPath,\n  resetAxisGroupFn: () => resetAxisGroupFn,\n  resetAxisLabelSelectionFn: () => resetAxisLabelSelectionFn,\n  resetAxisLineSelectionFn: () => resetAxisLineSelectionFn,\n  resetAxisSelectionFn: () => resetAxisSelectionFn,\n  resetBarSelectionsFn: () => resetBarSelectionsFn,\n  resetIds: () => resetIds,\n  resetLabelFn: () => resetLabelFn,\n  resetMarkerFn: () => resetMarkerFn,\n  resetMarkerPositionFn: () => resetMarkerPositionFn,\n  resetMotion: () => resetMotion,\n  resetPieSelectionsFn: () => resetPieSelectionsFn,\n  round: () => round,\n  seriesLabelFadeInAnimation: () => seriesLabelFadeInAnimation,\n  seriesLabelFadeOutAnimation: () => seriesLabelFadeOutAnimation,\n  setDocument: () => setDocument,\n  setPath: () => setPath,\n  setWindow: () => setWindow,\n  shallowClone: () => shallowClone,\n  singleSeriesPaletteFactory: () => singleSeriesPaletteFactory,\n  staticFromToMotion: () => staticFromToMotion,\n  stringify: () => stringify,\n  sum: () => sum,\n  sumValues: () => sumValues,\n  toArray: () => toArray,\n  toFixed: () => toFixed,\n  toTooltipHtml: () => toTooltipHtml,\n  trailingAccumulatedValue: () => trailingAccumulatedValue,\n  trailingAccumulatedValueProperty: () => trailingAccumulatedValueProperty,\n  unique: () => unique,\n  updateClipPath: () => updateClipPath,\n  updateLabelNode: () => updateLabelNode,\n  updateRect: () => updateRect,\n  validateCrossLineValues: () => validateCrossLineValues,\n  valueProperty: () => valueProperty,\n  without: () => without\n});\n\n// packages/ag-charts-community/src/chart/series/util.ts\nfunction convertValuesToScaleByDefs({\n  defs,\n  values,\n  xAxis,\n  yAxis\n}) {\n  if (!(xAxis && yAxis)) {\n    throw new Error(\"Axes must be defined\");\n  }\n  const result = {};\n  for (const [searchId, { def }] of defs) {\n    if (Object.hasOwn(values, searchId)) {\n      const { scale: scale2 } = def.type === \"key\" ? xAxis : yAxis;\n      result[searchId] = Math.round(scale2.convert(values[searchId]));\n    }\n  }\n  return result;\n}\n\n// packages/ag-charts-community/src/chart/series/hierarchy/hierarchySeries.ts\nvar _HierarchyNode = class _HierarchyNode {\n  constructor(series, index, datum, size, colorValue, fill, stroke, sumSize, depth, parent, children) {\n    this.series = series;\n    this.index = index;\n    this.datum = datum;\n    this.size = size;\n    this.colorValue = colorValue;\n    this.fill = fill;\n    this.stroke = stroke;\n    this.sumSize = sumSize;\n    this.depth = depth;\n    this.parent = parent;\n    this.children = children;\n    this.midPoint = { x: 0, y: 0 };\n  }\n  contains(other) {\n    let current = other;\n    while (current != null && current.index >= this.index) {\n      if (current === this) {\n        return true;\n      }\n      current = current.parent;\n    }\n    return false;\n  }\n  walk(callback, order = _HierarchyNode.Walk.PreOrder) {\n    if (order === _HierarchyNode.Walk.PreOrder) {\n      callback(this);\n    }\n    this.children.forEach((child) => {\n      child.walk(callback, order);\n    });\n    if (order === _HierarchyNode.Walk.PostOrder) {\n      callback(this);\n    }\n  }\n  *[Symbol.iterator]() {\n    yield this;\n    for (const child of this.children) {\n      yield* __yieldStar(child);\n    }\n  }\n};\n_HierarchyNode.Walk = {\n  PreOrder: 0,\n  PostOrder: 1\n};\nvar HierarchyNode = _HierarchyNode;\nvar HierarchySeries = class extends Series {\n  constructor(moduleCtx) {\n    super({\n      moduleCtx,\n      pickModes: [0 /* EXACT_SHAPE_MATCH */],\n      contentGroupVirtual: false\n    });\n    this.rootNode = new HierarchyNode(\n      this,\n      0,\n      void 0,\n      0,\n      void 0,\n      void 0,\n      void 0,\n      0,\n      void 0,\n      void 0,\n      []\n    );\n    this.colorDomain = [0, 0];\n    this.maxDepth = 0;\n    this.animationState = new StateMachine(\n      \"empty\",\n      {\n        empty: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateEmptyUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        ready: {\n          updateData: \"waiting\",\n          clear: \"clearing\",\n          highlight: (data) => this.animateReadyHighlight(data),\n          resize: (data) => this.animateReadyResize(data),\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        waiting: {\n          update: {\n            target: \"ready\",\n            action: (data) => this.animateWaitingUpdateReady(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        },\n        clearing: {\n          update: {\n            target: \"empty\",\n            action: (data) => this.animateClearingUpdateEmpty(data)\n          },\n          reset: \"empty\",\n          skip: \"ready\"\n        }\n      },\n      () => this.checkProcessedDataAnimatable()\n    );\n  }\n  resetAnimation(phase) {\n    if (phase === \"initial\") {\n      this.animationState.transition(\"reset\");\n    } else if (phase === \"ready\") {\n      this.animationState.transition(\"skip\");\n    }\n  }\n  processData() {\n    return __async(this, null, function* () {\n      var _a, _b;\n      const { childrenKey, sizeKey, colorKey, fills, strokes, colorRange } = this.properties;\n      let index = 0;\n      const getIndex = () => {\n        index += 1;\n        return index;\n      };\n      let maxDepth = 0;\n      let minColor = Infinity;\n      let maxColor = -Infinity;\n      const colors = new Array(((_b = (_a = this.data) == null ? void 0 : _a.length) != null ? _b : 0) + 1).fill(void 0);\n      const createNode = (datum, parent) => {\n        const nodeIndex = getIndex();\n        const depth = parent.depth != null ? parent.depth + 1 : 0;\n        const children = childrenKey != null ? datum[childrenKey] : void 0;\n        const isLeaf = children == null || children.length === 0;\n        let size = sizeKey != null ? datum[sizeKey] : void 0;\n        if (Number.isFinite(size)) {\n          size = Math.max(size, 0);\n        } else {\n          size = isLeaf ? 1 : 0;\n        }\n        const sumSize = size;\n        maxDepth = Math.max(maxDepth, depth);\n        const color = colorKey != null ? datum[colorKey] : void 0;\n        if (typeof color === \"number\") {\n          colors[nodeIndex] = color;\n          minColor = Math.min(minColor, color);\n          maxColor = Math.max(maxColor, color);\n        }\n        return appendChildren(\n          new HierarchyNode(\n            this,\n            nodeIndex,\n            datum,\n            size,\n            color,\n            void 0,\n            void 0,\n            sumSize,\n            depth,\n            parent,\n            []\n          ),\n          children\n        );\n      };\n      const appendChildren = (node, data) => {\n        data == null ? void 0 : data.forEach((datum) => {\n          const child = createNode(datum, node);\n          node.children.push(child);\n          node.sumSize += child.sumSize;\n        });\n        return node;\n      };\n      const rootNode = appendChildren(\n        new HierarchyNode(\n          this,\n          0,\n          void 0,\n          0,\n          void 0,\n          void 0,\n          void 0,\n          0,\n          void 0,\n          void 0,\n          []\n        ),\n        this.data\n      );\n      const colorDomain = [minColor, maxColor];\n      let colorScale;\n      if (colorRange != null && Number.isFinite(minColor) && Number.isFinite(maxColor)) {\n        colorScale = new ColorScale();\n        colorScale.domain = colorDomain;\n        colorScale.range = colorRange;\n        colorScale.update();\n      }\n      rootNode.children.forEach((child, childIndex) => {\n        child.walk((node) => {\n          let fill;\n          const color = colors[node.index];\n          if (color != null) {\n            fill = colorScale == null ? void 0 : colorScale.convert(color);\n          }\n          fill != null ? fill : fill = fills == null ? void 0 : fills[childIndex % fills.length];\n          node.fill = fill;\n          node.stroke = colorScale == null ? strokes == null ? void 0 : strokes[childIndex % strokes.length] : \"rgba(0, 0, 0, 0.2)\";\n        });\n      });\n      this.rootNode = rootNode;\n      this.maxDepth = maxDepth;\n      this.colorDomain = colorDomain;\n    });\n  }\n  update(_0) {\n    return __async(this, arguments, function* ({ seriesRect }) {\n      yield this.updateSelections();\n      yield this.updateNodes();\n      const animationData = this.getAnimationData();\n      const resize = this.checkResize(seriesRect);\n      if (resize) {\n        this.animationState.transition(\"resize\", animationData);\n      }\n      this.animationState.transition(\"update\", animationData);\n    });\n  }\n  resetAllAnimation(data) {\n    var _a;\n    const datum = (_a = this.animationResetFns) == null ? void 0 : _a.datum;\n    this.ctx.animationManager.stopByAnimationGroupId(this.id);\n    if (datum != null) {\n      resetMotion(data.datumSelections, datum);\n    }\n  }\n  animateEmptyUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateWaitingUpdateReady(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animateReadyHighlight(data) {\n    var _a;\n    const datum = (_a = this.animationResetFns) == null ? void 0 : _a.datum;\n    if (datum != null) {\n      resetMotion([data], datum);\n    }\n  }\n  animateReadyResize(data) {\n    this.resetAllAnimation(data);\n  }\n  animateClearingUpdateEmpty(data) {\n    this.ctx.animationManager.skipCurrentBatch();\n    this.resetAllAnimation(data);\n  }\n  animationTransitionClear() {\n    this.animationState.transition(\"clear\", this.getAnimationData());\n  }\n  getAnimationData() {\n    const animationData = {\n      datumSelections: [this.groupSelection]\n    };\n    return animationData;\n  }\n  isProcessedDataAnimatable() {\n    return true;\n  }\n  checkProcessedDataAnimatable() {\n    if (!this.isProcessedDataAnimatable()) {\n      this.ctx.animationManager.skipCurrentBatch();\n    }\n  }\n  getLabelData() {\n    return [];\n  }\n  getSeriesDomain() {\n    return [NaN, NaN];\n  }\n  getLegendData(legendType) {\n    const { colorKey, colorName, colorRange, visible } = this.properties;\n    return legendType === \"gradient\" && colorKey != null && colorRange != null ? [\n      {\n        legendType: \"gradient\",\n        enabled: visible,\n        seriesId: this.id,\n        colorName,\n        colorRange,\n        colorDomain: this.colorDomain\n      }\n    ] : [];\n  }\n  getDatumIdFromData(node) {\n    return `${node.index}`;\n  }\n  getDatumId(node) {\n    return this.getDatumIdFromData(node);\n  }\n};\n\n// packages/ag-charts-community/src/chart/series/hierarchy/hierarchySeriesProperties.ts\nvar HierarchySeriesProperties = class extends SeriesProperties {\n  constructor() {\n    super(...arguments);\n    this.childrenKey = \"children\";\n    this.fills = Object.values(DEFAULT_FILLS);\n    this.strokes = Object.values(DEFAULT_STROKES);\n  }\n};\n__decorateClass([\n  Validate(STRING)\n], HierarchySeriesProperties.prototype, \"childrenKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HierarchySeriesProperties.prototype, \"sizeKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HierarchySeriesProperties.prototype, \"colorKey\", 2);\n__decorateClass([\n  Validate(STRING, { optional: true })\n], HierarchySeriesProperties.prototype, \"colorName\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], HierarchySeriesProperties.prototype, \"fills\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY)\n], HierarchySeriesProperties.prototype, \"strokes\", 2);\n__decorateClass([\n  Validate(COLOR_STRING_ARRAY, { optional: true })\n], HierarchySeriesProperties.prototype, \"colorRange\", 2);\n\n// packages/ag-charts-community/src/chart/series/topology/lonLatBbox.ts\nvar LonLatBBox = class {\n  constructor(lon0, lat0, lon1, lat1) {\n    this.lon0 = lon0;\n    this.lat0 = lat0;\n    this.lon1 = lon1;\n    this.lat1 = lat1;\n  }\n  merge(other) {\n    this.lon0 = Math.min(this.lon0, other.lon0);\n    this.lat0 = Math.min(this.lat0, other.lat0);\n    this.lon1 = Math.max(this.lon1, other.lon1);\n    this.lat1 = Math.max(this.lat1, other.lat1);\n  }\n};\n\n// packages/ag-charts-community/src/chart/legendDatum.ts\nvar __FORCE_MODULE_DETECTION2 = 0;\nexport {\n  AgChart,\n  AgCharts,\n  AgErrorBarSupportedSeriesTypes,\n  AgTooltipPositionType,\n  Marker,\n  VERSION,\n  module_support_exports as _ModuleSupport,\n  sparklines_scale_exports as _Scale,\n  integrated_charts_scene_exports as _Scene,\n  integrated_charts_theme_exports as _Theme,\n  sparklines_util_exports as _Util,\n  __FORCE_MODULE_DETECTION,\n  time_exports as time\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}